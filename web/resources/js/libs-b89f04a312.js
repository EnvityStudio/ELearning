window.Modernizr=function(t,e,n){function i(t){d.cssText=t}function r(t,e){return typeof t===e}function o(){u.input=function(n){for(var i=0,r=n.length;r>i;i++)b[n[i]]=n[i]in p;return b.list&&(b.list=!!e.createElement("datalist")&&!!t.HTMLDataListElement),b}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),u.inputtypes=function(t){for(var i,r,o,s=0,a=t.length;a>s;s++)p.setAttribute("type",r=t[s]),i="text"!==p.type,i&&(p.value=g,p.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(r)&&p.style.WebkitAppearance!==n?(c.appendChild(p),o=e.defaultView,i=o.getComputedStyle&&"textfield"!==o.getComputedStyle(p,null).WebkitAppearance&&0!==p.offsetHeight,c.removeChild(p)):/^(search|tel)$/.test(r)||(i=/^(url|email)$/.test(r)?p.checkValidity&&p.checkValidity()===!1:p.value!=g)),y[t[s]]=!!i;return y}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var s,a,l="2.8.3",u={},c=e.documentElement,h="modernizr",f=e.createElement(h),d=f.style,p=e.createElement("input"),g=":)",m=({}.toString," -webkit- -moz- -o- -ms- ".split(" ")),v={},y={},b={},w=[],_=w.slice,x=function(t,n,i,r){var o,s,a,l,u=e.createElement("div"),f=e.body,d=f||e.createElement("body");if(parseInt(i,10))for(;i--;)a=e.createElement("div"),a.id=r?r[i]:h+(i+1),u.appendChild(a);return o=["&#173;",'<style id="s',h,'">',t,"</style>"].join(""),u.id=h,(f?u:d).innerHTML+=o,d.appendChild(u),f||(d.style.background="",d.style.overflow="hidden",l=c.style.overflow,c.style.overflow="hidden",c.appendChild(d)),s=n(u,t),f?u.parentNode.removeChild(u):(d.parentNode.removeChild(d),c.style.overflow=l),!!s},k={}.hasOwnProperty;a=r(k,"undefined")||r(k.call,"undefined")?function(t,e){return e in t&&r(t.constructor.prototype[e],"undefined")}:function(t,e){return k.call(t,e)},Function.prototype.bind||(Function.prototype.bind=function(t){var e=this;if("function"!=typeof e)throw new TypeError;var n=_.call(arguments,1),i=function(){if(this instanceof i){var r=function(){};r.prototype=e.prototype;var o=new r,s=e.apply(o,n.concat(_.call(arguments)));return Object(s)===s?s:o}return e.apply(t,n.concat(_.call(arguments)))};return i}),v.touch=function(){var n;return"ontouchstart"in t||t.DocumentTouch&&e instanceof DocumentTouch?n=!0:x(["@media (",m.join("touch-enabled),("),h,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(t){n=9===t.offsetTop}),n};for(var C in v)a(v,C)&&(s=C.toLowerCase(),u[s]=v[C](),w.push((u[s]?"":"no-")+s));return u.input||o(),u.addTest=function(t,e){if("object"==typeof t)for(var i in t)a(t,i)&&u.addTest(i,t[i]);else{if(t=t.toLowerCase(),u[t]!==n)return u;e="function"==typeof e?e():e,"undefined"!=typeof enableClasses&&enableClasses&&(c.className+=" "+(e?"":"no-")+t),u[t]=e}return u},i(""),f=p=null,function(t,e){function n(t,e){var n=t.createElement("p"),i=t.getElementsByTagName("head")[0]||t.documentElement;return n.innerHTML="x<style>"+e+"</style>",i.insertBefore(n.lastChild,i.firstChild)}function i(){var t=y.elements;return"string"==typeof t?t.split(" "):t}function r(t){var e=v[t[g]];return e||(e={},m++,t[g]=m,v[m]=e),e}function o(t,n,i){if(n||(n=e),c)return n.createElement(t);i||(i=r(n));var o;return o=i.cache[t]?i.cache[t].cloneNode():p.test(t)?(i.cache[t]=i.createElem(t)).cloneNode():i.createElem(t),!o.canHaveChildren||d.test(t)||o.tagUrn?o:i.frag.appendChild(o)}function s(t,n){if(t||(t=e),c)return t.createDocumentFragment();n=n||r(t);for(var o=n.frag.cloneNode(),s=0,a=i(),l=a.length;l>s;s++)o.createElement(a[s]);return o}function a(t,e){e.cache||(e.cache={},e.createElem=t.createElement,e.createFrag=t.createDocumentFragment,e.frag=e.createFrag()),t.createElement=function(n){return y.shivMethods?o(n,t,e):e.createElem(n)},t.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+i().join().replace(/[\w\-]+/g,function(t){return e.createElem(t),e.frag.createElement(t),'c("'+t+'")'})+");return n}")(y,e.frag)}function l(t){t||(t=e);var i=r(t);return y.shivCSS&&!u&&!i.hasCSS&&(i.hasCSS=!!n(t,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),c||a(t,i),t}var u,c,h="3.7.0",f=t.html5||{},d=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,p=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,g="_html5shiv",m=0,v={};!function(){try{var t=e.createElement("a");t.innerHTML="<xyz></xyz>",u="hidden"in t,c=1==t.childNodes.length||function(){e.createElement("a");var t=e.createDocumentFragment();return"undefined"==typeof t.cloneNode||"undefined"==typeof t.createDocumentFragment||"undefined"==typeof t.createElement}()}catch(n){u=!0,c=!0}}();var y={elements:f.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:h,shivCSS:f.shivCSS!==!1,supportsUnknownElements:c,shivMethods:f.shivMethods!==!1,type:"default",shivDocument:l,createElement:o,createDocumentFragment:s};t.html5=y,l(e)}(this,e),u._version=l,u._prefixes=m,u.testStyles=x,u}(this,this.document),function(t,e,n){function i(t){return"[object Function]"==m.call(t)}function r(t){return"string"==typeof t}function o(){}function s(t){return!t||"loaded"==t||"complete"==t||"uninitialized"==t}function a(){var t=v.shift();y=1,t?t.t?p(function(){("c"==t.t?f.injectCss:f.injectJs)(t.s,0,t.a,t.x,t.e,1)},0):(t(),a()):y=0}function l(t,n,i,r,o,l,u){function c(e){if(!d&&s(h.readyState)&&(b.r=d=1,!y&&a(),h.onload=h.onreadystatechange=null,e)){"img"!=t&&p(function(){_.removeChild(h)},50);for(var i in S[n])S[n].hasOwnProperty(i)&&S[n][i].onload()}}var u=u||f.errorTimeout,h=e.createElement(t),d=0,m=0,b={t:i,s:n,e:o,a:l,x:u};1===S[n]&&(m=1,S[n]=[]),"object"==t?h.data=n:(h.src=n,h.type=t),h.width=h.height="0",h.onerror=h.onload=h.onreadystatechange=function(){c.call(this,m)},v.splice(r,0,b),"img"!=t&&(m||2===S[n]?(_.insertBefore(h,w?null:g),p(c,u)):S[n].push(h))}function u(t,e,n,i,o){return y=0,e=e||"j",r(t)?l("c"==e?k:x,t,e,this.i++,n,i,o):(v.splice(this.i++,0,t),1==v.length&&a()),this}function c(){var t=f;return t.loader={load:u,i:0},t}var h,f,d=e.documentElement,p=t.setTimeout,g=e.getElementsByTagName("script")[0],m={}.toString,v=[],y=0,b="MozAppearance"in d.style,w=b&&!!e.createRange().compareNode,_=w?d:g.parentNode,d=t.opera&&"[object Opera]"==m.call(t.opera),d=!!e.attachEvent&&!d,x=b?"object":d?"script":"img",k=d?"script":x,C=Array.isArray||function(t){return"[object Array]"==m.call(t)},T=[],S={},E={timeout:function(t,e){return e.length&&(t.timeout=e[0]),t}};f=function(t){function e(t){var e,n,i,t=t.split("!"),r=T.length,o=t.pop(),s=t.length,o={url:o,origUrl:o,prefixes:t};for(n=0;s>n;n++)i=t[n].split("="),(e=E[i.shift()])&&(o=e(o,i));for(n=0;r>n;n++)o=T[n](o);return o}function s(t,r,o,s,a){var l=e(t),u=l.autoCallback;l.url.split(".").pop().split("?").shift(),l.bypass||(r&&(r=i(r)?r:r[t]||r[s]||r[t.split("/").pop().split("?")[0]]),l.instead?l.instead(t,r,o,s,a):(S[l.url]?l.noexec=!0:S[l.url]=1,o.load(l.url,l.forceCSS||!l.forceJS&&"css"==l.url.split(".").pop().split("?").shift()?"c":n,l.noexec,l.attrs,l.timeout),(i(r)||i(u))&&o.load(function(){c(),r&&r(l.origUrl,a,s),u&&u(l.origUrl,a,s),S[l.url]=2})))}function a(t,e){function n(t,n){if(t){if(r(t))n||(h=function(){var t=[].slice.call(arguments);f.apply(this,t),d()}),s(t,h,e,0,u);else if(Object(t)===t)for(l in a=function(){var e,n=0;for(e in t)t.hasOwnProperty(e)&&n++;return n}(),t)t.hasOwnProperty(l)&&(!n&&!--a&&(i(h)?h=function(){var t=[].slice.call(arguments);f.apply(this,t),d()}:h[l]=function(t){return function(){var e=[].slice.call(arguments);t&&t.apply(this,e),d()}}(f[l])),s(t[l],h,e,l,u))}else!n&&d()}var a,l,u=!!t.test,c=t.load||t.both,h=t.callback||o,f=h,d=t.complete||o;n(u?t.yep:t.nope,!!c),c&&n(c)}var l,u,h=this.yepnope.loader;if(r(t))s(t,0,h,0);else if(C(t))for(l=0;l<t.length;l++)u=t[l],r(u)?s(u,0,h,0):C(u)?f(u):Object(u)===u&&a(u,h);else Object(t)===t&&a(t,h)},f.addPrefix=function(t,e){E[t]=e},f.addFilter=function(t){T.push(t)},f.errorTimeout=1e4,null==e.readyState&&e.addEventListener&&(e.readyState="loading",e.addEventListener("DOMContentLoaded",h=function(){e.removeEventListener("DOMContentLoaded",h,0),e.readyState="complete"},0)),t.yepnope=c(),t.yepnope.executeStack=a,t.yepnope.injectJs=function(t,n,i,r,l,u){var c,h,d=e.createElement("script"),r=r||f.errorTimeout;d.src=t;for(h in i)d.setAttribute(h,i[h]);n=u?a:n||o,d.onreadystatechange=d.onload=function(){!c&&s(d.readyState)&&(c=1,n(),d.onload=d.onreadystatechange=null)},p(function(){c||(c=1,n(1))},r),l?d.onload():g.parentNode.insertBefore(d,g)},t.yepnope.injectCss=function(t,n,i,r,s,l){var u,r=e.createElement("link"),n=l?a:n||o;r.href=t,r.rel="stylesheet",r.type="text/css";for(u in i)r.setAttribute(u,i[u]);s||(g.parentNode.insertBefore(r,g),p(n,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))},Modernizr.addTest("placeholder",function(){return"placeholder"in(Modernizr.input||document.createElement("input"))&&"placeholder"in(Modernizr.textarea||document.createElement("textarea"))}),function(t,e){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){"use strict";function n(t,e){e=e||ne;var n=e.createElement("script");n.text=t,e.head.appendChild(n).parentNode.removeChild(n)}function i(t){var e=!!t&&"length"in t&&t.length,n=ge.type(t);return"function"===n||ge.isWindow(t)?!1:"array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t}function r(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}function o(t,e,n){return ge.isFunction(e)?ge.grep(t,function(t,i){return!!e.call(t,i,t)!==n}):e.nodeType?ge.grep(t,function(t){return t===e!==n}):"string"!=typeof e?ge.grep(t,function(t){return ae.call(e,t)>-1!==n}):Te.test(e)?ge.filter(e,t,n):(e=ge.filter(e,t),ge.grep(t,function(t){return ae.call(e,t)>-1!==n&&1===t.nodeType}))}function s(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function a(t){var e={};return ge.each(t.match(Ne)||[],function(t,n){e[n]=!0}),e}function l(t){return t}function u(t){throw t}function c(t,e,n,i){var r;try{t&&ge.isFunction(r=t.promise)?r.call(t).done(e).fail(n):t&&ge.isFunction(r=t.then)?r.call(t,e,n):e.apply(void 0,[t].slice(i))}catch(t){n.apply(void 0,[t])}}function h(){ne.removeEventListener("DOMContentLoaded",h),t.removeEventListener("load",h),ge.ready()}function f(){this.expando=ge.expando+f.uid++}function d(t){return"true"===t?!0:"false"===t?!1:"null"===t?null:t===+t+""?+t:Re.test(t)?JSON.parse(t):t}function p(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(He,"-$&").toLowerCase(),n=t.getAttribute(i),"string"==typeof n){try{n=d(n)}catch(r){}Fe.set(t,e,n)}else n=void 0;return n}function g(t,e,n,i){var r,o=1,s=20,a=i?function(){return i.cur()}:function(){return ge.css(t,e,"")},l=a(),u=n&&n[3]||(ge.cssNumber[e]?"":"px"),c=(ge.cssNumber[e]||"px"!==u&&+l)&&qe.exec(ge.css(t,e));if(c&&c[3]!==u){u=u||c[3],n=n||[],c=+l||1;do o=o||".5",c/=o,ge.style(t,e,c+u);while(o!==(o=a()/l)&&1!==o&&--s)}return n&&(c=+c||+l||0,r=n[1]?c+(n[1]+1)*n[2]:+n[2],i&&(i.unit=u,i.start=c,i.end=r)),r}function m(t){var e,n=t.ownerDocument,i=t.nodeName,r=Ve[i];return r?r:(e=n.body.appendChild(n.createElement(i)),r=ge.css(e,"display"),e.parentNode.removeChild(e),"none"===r&&(r="block"),Ve[i]=r,r)}function v(t,e){for(var n,i,r=[],o=0,s=t.length;s>o;o++)i=t[o],i.style&&(n=i.style.display,e?("none"===n&&(r[o]=Me.get(i,"display")||null,r[o]||(i.style.display="")),""===i.style.display&&Ue(i)&&(r[o]=m(i))):"none"!==n&&(r[o]="none",Me.set(i,"display",n)));for(o=0;s>o;o++)null!=r[o]&&(t[o].style.display=r[o]);return t}function y(t,e){var n;return n="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e||"*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&r(t,e)?ge.merge([t],n):n}function b(t,e){for(var n=0,i=t.length;i>n;n++)Me.set(t[n],"globalEval",!e||Me.get(e[n],"globalEval"))}function w(t,e,n,i,r){for(var o,s,a,l,u,c,h=e.createDocumentFragment(),f=[],d=0,p=t.length;p>d;d++)if(o=t[d],o||0===o)if("object"===ge.type(o))ge.merge(f,o.nodeType?[o]:o);else if(Ge.test(o)){for(s=s||h.appendChild(e.createElement("div")),a=(Xe.exec(o)||["",""])[1].toLowerCase(),l=Qe[a]||Qe._default,s.innerHTML=l[1]+ge.htmlPrefilter(o)+l[2],c=l[0];c--;)s=s.lastChild;ge.merge(f,s.childNodes),s=h.firstChild,s.textContent=""}else f.push(e.createTextNode(o));for(h.textContent="",d=0;o=f[d++];)if(i&&ge.inArray(o,i)>-1)r&&r.push(o);else if(u=ge.contains(o.ownerDocument,o),s=y(h.appendChild(o),"script"),u&&b(s),n)for(c=0;o=s[c++];)Ke.test(o.type||"")&&n.push(o);return h}function _(){return!0}function x(){return!1}function k(){try{return ne.activeElement}catch(t){}}function C(t,e,n,i,r,o){var s,a;if("object"==typeof e){"string"!=typeof n&&(i=i||n,n=void 0);for(a in e)C(t,a,n,i,e[a],o);return t}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),r===!1)r=x;else if(!r)return t;return 1===o&&(s=r,r=function(t){return ge().off(t),s.apply(this,arguments)},r.guid=s.guid||(s.guid=ge.guid++)),t.each(function(){ge.event.add(this,e,r,i,n)})}function T(t,e){return r(t,"table")&&r(11!==e.nodeType?e:e.firstChild,"tr")?ge(">tbody",t)[0]||t:t}function S(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function E(t){var e=on.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function O(t,e){var n,i,r,o,s,a,l,u;if(1===e.nodeType){if(Me.hasData(t)&&(o=Me.access(t),s=Me.set(e,o),u=o.events)){delete s.handle,s.events={};for(r in u)for(n=0,i=u[r].length;i>n;n++)ge.event.add(e,r,u[r][n])}Fe.hasData(t)&&(a=Fe.access(t),l=ge.extend({},a),Fe.set(e,l))}}function j(t,e){var n=e.nodeName.toLowerCase();"input"===n&&ze.test(t.type)?e.checked=t.checked:("input"===n||"textarea"===n)&&(e.defaultValue=t.defaultValue)}function P(t,e,i,r){e=oe.apply([],e);var o,s,a,l,u,c,h=0,f=t.length,d=f-1,p=e[0],g=ge.isFunction(p);if(g||f>1&&"string"==typeof p&&!de.checkClone&&rn.test(p))return t.each(function(n){var o=t.eq(n);g&&(e[0]=p.call(this,n,o.html())),P(o,e,i,r)});if(f&&(o=w(e,t[0].ownerDocument,!1,t,r),s=o.firstChild,1===o.childNodes.length&&(o=s),s||r)){for(a=ge.map(y(o,"script"),S),l=a.length;f>h;h++)u=o,h!==d&&(u=ge.clone(u,!0,!0),l&&ge.merge(a,y(u,"script"))),i.call(t[h],u,h);if(l)for(c=a[a.length-1].ownerDocument,ge.map(a,E),h=0;l>h;h++)u=a[h],Ke.test(u.type||"")&&!Me.access(u,"globalEval")&&ge.contains(c,u)&&(u.src?ge._evalUrl&&ge._evalUrl(u.src):n(u.textContent.replace(sn,""),c))}return t}function N(t,e,n){for(var i,r=e?ge.filter(e,t):t,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||ge.cleanData(y(i)),i.parentNode&&(n&&ge.contains(i.ownerDocument,i)&&b(y(i,"script")),i.parentNode.removeChild(i));return t}function A(t,e,n){var i,r,o,s,a=t.style;return n=n||un(t),n&&(s=n.getPropertyValue(e)||n[e],""!==s||ge.contains(t.ownerDocument,t)||(s=ge.style(t,e)),!de.pixelMarginRight()&&ln.test(s)&&an.test(e)&&(i=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=i,a.minWidth=r,a.maxWidth=o)),void 0!==s?s+"":s}function L(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function D(t){if(t in gn)return t;for(var e=t[0].toUpperCase()+t.slice(1),n=pn.length;n--;)if(t=pn[n]+e,t in gn)return t}function I(t){var e=ge.cssProps[t];return e||(e=ge.cssProps[t]=D(t)||t),e}function M(t,e,n){var i=qe.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function F(t,e,n,i,r){var o,s=0;for(o=n===(i?"border":"content")?4:"width"===e?1:0;4>o;o+=2)"margin"===n&&(s+=ge.css(t,n+Be[o],!0,r)),i?("content"===n&&(s-=ge.css(t,"padding"+Be[o],!0,r)),"margin"!==n&&(s-=ge.css(t,"border"+Be[o]+"Width",!0,r))):(s+=ge.css(t,"padding"+Be[o],!0,r),"padding"!==n&&(s+=ge.css(t,"border"+Be[o]+"Width",!0,r)));return s}function R(t,e,n){var i,r=un(t),o=A(t,e,r),s="border-box"===ge.css(t,"boxSizing",!1,r);return ln.test(o)?o:(i=s&&(de.boxSizingReliable()||o===t.style[e]),"auto"===o&&(o=t["offset"+e[0].toUpperCase()+e.slice(1)]),o=parseFloat(o)||0,o+F(t,e,n||(s?"border":"content"),i,r)+"px")}function H(t,e,n,i,r){return new H.prototype.init(t,e,n,i,r)}function $(){vn&&(ne.hidden===!1&&t.requestAnimationFrame?t.requestAnimationFrame($):t.setTimeout($,ge.fx.interval),ge.fx.tick())}function q(){return t.setTimeout(function(){mn=void 0}),mn=ge.now()}function B(t,e){var n,i=0,r={height:t};for(e=e?1:0;4>i;i+=2-e)n=Be[i],r["margin"+n]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function U(t,e,n){for(var i,r=(z.tweeners[e]||[]).concat(z.tweeners["*"]),o=0,s=r.length;s>o;o++)if(i=r[o].call(n,e,t))return i}function W(t,e,n){var i,r,o,s,a,l,u,c,h="width"in e||"height"in e,f=this,d={},p=t.style,g=t.nodeType&&Ue(t),m=Me.get(t,"fxshow");n.queue||(s=ge._queueHooks(t,"fx"),null==s.unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,f.always(function(){f.always(function(){s.unqueued--,ge.queue(t,"fx").length||s.empty.fire()})}));for(i in e)if(r=e[i],yn.test(r)){if(delete e[i],o=o||"toggle"===r,r===(g?"hide":"show")){if("show"!==r||!m||void 0===m[i])continue;g=!0}d[i]=m&&m[i]||ge.style(t,i)}if(l=!ge.isEmptyObject(e),l||!ge.isEmptyObject(d)){h&&1===t.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],u=m&&m.display,null==u&&(u=Me.get(t,"display")),c=ge.css(t,"display"),"none"===c&&(u?c=u:(v([t],!0),u=t.style.display||u,c=ge.css(t,"display"),v([t]))),("inline"===c||"inline-block"===c&&null!=u)&&"none"===ge.css(t,"float")&&(l||(f.done(function(){p.display=u}),null==u&&(c=p.display,u="none"===c?"":c)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",f.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]})),l=!1;for(i in d)l||(m?"hidden"in m&&(g=m.hidden):m=Me.access(t,"fxshow",{display:u}),o&&(m.hidden=!g),g&&v([t],!0),f.done(function(){g||v([t]),Me.remove(t,"fxshow");for(i in d)ge.style(t,i,d[i])})),l=U(g?m[i]:0,i,f),i in m||(m[i]=l.start,g&&(l.end=l.start,l.start=0))}}function V(t,e){var n,i,r,o,s;for(n in t)if(i=ge.camelCase(n),r=e[i],o=t[n],Array.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),s=ge.cssHooks[i],s&&"expand"in s){o=s.expand(o),delete t[i];for(n in o)n in t||(t[n]=o[n],e[n]=r)}else e[i]=r}function z(t,e,n){var i,r,o=0,s=z.prefilters.length,a=ge.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var e=mn||q(),n=Math.max(0,u.startTime+u.duration-e),i=n/u.duration||0,o=1-i,s=0,l=u.tweens.length;l>s;s++)u.tweens[s].run(o);return a.notifyWith(t,[u,o,n]),1>o&&l?n:(l||a.notifyWith(t,[u,1,0]),a.resolveWith(t,[u]),!1)},u=a.promise({elem:t,props:ge.extend({},e),opts:ge.extend(!0,{specialEasing:{},easing:ge.easing._default},n),originalProperties:e,originalOptions:n,startTime:mn||q(),duration:n.duration,tweens:[],createTween:function(e,n){var i=ge.Tween(t,u.opts,e,n,u.opts.specialEasing[e]||u.opts.easing);return u.tweens.push(i),i},stop:function(e){var n=0,i=e?u.tweens.length:0;if(r)return this;for(r=!0;i>n;n++)u.tweens[n].run(1);return e?(a.notifyWith(t,[u,1,0]),a.resolveWith(t,[u,e])):a.rejectWith(t,[u,e]),this}}),c=u.props;for(V(c,u.opts.specialEasing);s>o;o++)if(i=z.prefilters[o].call(u,t,c,u.opts))return ge.isFunction(i.stop)&&(ge._queueHooks(u.elem,u.opts.queue).stop=ge.proxy(i.stop,i)),i;return ge.map(c,U,u),ge.isFunction(u.opts.start)&&u.opts.start.call(t,u),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always),ge.fx.timer(ge.extend(l,{elem:t,anim:u,queue:u.opts.queue})),u}function X(t){var e=t.match(Ne)||[];return e.join(" ")}function K(t){return t.getAttribute&&t.getAttribute("class")||""}function Q(t,e,n,i){var r;if(Array.isArray(e))ge.each(e,function(e,r){n||jn.test(t)?i(t,r):Q(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,n,i)});else if(n||"object"!==ge.type(e))i(t,e);else for(r in e)Q(t+"["+r+"]",e[r],n,i)}function G(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,o=e.toLowerCase().match(Ne)||[];if(ge.isFunction(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function J(t,e,n,i){function r(a){var l;return o[a]=!0,ge.each(t[a]||[],function(t,a){var u=a(e,n,i);return"string"!=typeof u||s||o[u]?s?!(l=u):void 0:(e.dataTypes.unshift(u),r(u),!1)}),l}var o={},s=t===qn;return r(e.dataTypes[0])||!o["*"]&&r("*")}function Y(t,e){var n,i,r=ge.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i||(i={}))[n]=e[n]);return i&&ge.extend(!0,t,i),t}function Z(t,e,n){for(var i,r,o,s,a=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in a)if(a[r]&&a[r].test(i)){l.unshift(r);break}if(l[0]in n)o=l[0];else{for(r in n){if(!l[0]||t.converters[r+" "+l[0]]){o=r;break}s||(s=r)}o=o||s}return o?(o!==l[0]&&l.unshift(o),n[o]):void 0}function te(t,e,n,i){var r,o,s,a,l,u={},c=t.dataTypes.slice();if(c[1])for(s in t.converters)u[s.toLowerCase()]=t.converters[s];for(o=c.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(s=u[l+" "+o]||u["* "+o],!s)for(r in u)if(a=r.split(" "),a[1]===o&&(s=u[l+" "+a[0]]||u["* "+a[0]])){s===!0?s=u[r]:u[r]!==!0&&(o=a[0],c.unshift(a[1]));break}if(s!==!0)if(s&&t.throws)e=s(e);else try{e=s(e)}catch(h){return{state:"parsererror",error:s?h:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}var ee=[],ne=t.document,ie=Object.getPrototypeOf,re=ee.slice,oe=ee.concat,se=ee.push,ae=ee.indexOf,le={},ue=le.toString,ce=le.hasOwnProperty,he=ce.toString,fe=he.call(Object),de={},pe="3.2.1",ge=function(t,e){return new ge.fn.init(t,e)},me=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ve=/^-ms-/,ye=/-([a-z])/g,be=function(t,e){return e.toUpperCase()};ge.fn=ge.prototype={jquery:pe,constructor:ge,length:0,toArray:function(){return re.call(this)},get:function(t){return null==t?re.call(this):0>t?this[t+this.length]:this[t]},pushStack:function(t){var e=ge.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return ge.each(this,t)},map:function(t){return this.pushStack(ge.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(re.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(0>t?e:0);return this.pushStack(n>=0&&e>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:se,sort:ee.sort,splice:ee.splice},ge.extend=ge.fn.extend=function(){var t,e,n,i,r,o,s=arguments[0]||{},a=1,l=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[a]||{},a++),"object"==typeof s||ge.isFunction(s)||(s={}),a===l&&(s=this,a--);l>a;a++)if(null!=(t=arguments[a]))for(e in t)n=s[e],i=t[e],s!==i&&(u&&i&&(ge.isPlainObject(i)||(r=Array.isArray(i)))?(r?(r=!1,o=n&&Array.isArray(n)?n:[]):o=n&&ge.isPlainObject(n)?n:{},s[e]=ge.extend(u,o,i)):void 0!==i&&(s[e]=i));return s},ge.extend({expando:"jQuery"+(pe+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===ge.type(t)},isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){var e=ge.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},isPlainObject:function(t){var e,n;return t&&"[object Object]"===ue.call(t)?(e=ie(t))?(n=ce.call(e,"constructor")&&e.constructor,"function"==typeof n&&he.call(n)===fe):!0:!1},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?le[ue.call(t)]||"object":typeof t},globalEval:function(t){n(t)},camelCase:function(t){return t.replace(ve,"ms-").replace(ye,be)},each:function(t,e){var n,r=0;if(i(t))for(n=t.length;n>r&&e.call(t[r],r,t[r])!==!1;r++);else for(r in t)if(e.call(t[r],r,t[r])===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(me,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(i(Object(t))?ge.merge(n,"string"==typeof t?[t]:t):se.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:ae.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;n>i;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i,r=[],o=0,s=t.length,a=!n;s>o;o++)i=!e(t[o],o),i!==a&&r.push(t[o]);return r},map:function(t,e,n){var r,o,s=0,a=[];if(i(t))for(r=t.length;r>s;s++)o=e(t[s],s,n),null!=o&&a.push(o);else for(s in t)o=e(t[s],s,n),null!=o&&a.push(o);return oe.apply([],a)},guid:1,proxy:function(t,e){var n,i,r;return"string"==typeof e&&(n=t[e],e=t,t=n),ge.isFunction(t)?(i=re.call(arguments,2),r=function(){return t.apply(e||this,i.concat(re.call(arguments)))},r.guid=t.guid=t.guid||ge.guid++,r):void 0},now:Date.now,support:de}),"function"==typeof Symbol&&(ge.fn[Symbol.iterator]=ee[Symbol.iterator]),ge.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){le["[object "+e+"]"]=e.toLowerCase()});var we=function(t){function e(t,e,n,i){var r,o,s,a,l,u,c,f=e&&e.ownerDocument,p=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==p&&9!==p&&11!==p)return n;if(!i&&((e?e.ownerDocument||e:q)!==L&&A(e),e=e||L,I)){if(11!==p&&(l=ve.exec(t)))if(r=l[1]){if(9===p){if(!(s=e.getElementById(r)))return n;if(s.id===r)return n.push(s),n}else if(f&&(s=f.getElementById(r))&&H(e,s)&&s.id===r)return n.push(s),n}else{if(l[2])return Y.apply(n,e.getElementsByTagName(t)),n;if((r=l[3])&&x.getElementsByClassName&&e.getElementsByClassName)return Y.apply(n,e.getElementsByClassName(r)),n}if(!(!x.qsa||z[t+" "]||M&&M.test(t))){if(1!==p)f=e,c=t;else if("object"!==e.nodeName.toLowerCase()){for((a=e.getAttribute("id"))?a=a.replace(_e,xe):e.setAttribute("id",a=$),u=S(t),o=u.length;o--;)u[o]="#"+a+" "+d(u[o]);c=u.join(","),f=ye.test(t)&&h(e.parentNode)||e}if(c)try{return Y.apply(n,f.querySelectorAll(c)),n}catch(g){}finally{a===$&&e.removeAttribute("id")}}}return O(t.replace(ae,"$1"),e,n,i)}function n(){function t(n,i){return e.push(n+" ")>k.cacheLength&&delete t[e.shift()],t[n+" "]=i}var e=[];return t}function i(t){return t[$]=!0,t}function r(t){var e=L.createElement("fieldset");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var n=t.split("|"),i=n.length;i--;)k.attrHandle[n[i]]=e}function s(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function a(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function l(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function u(t){return function(e){return"form"in e?e.parentNode&&e.disabled===!1?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&Ce(e)===t:e.disabled===t:"label"in e?e.disabled===t:!1}}function c(t){return i(function(e){return e=+e,i(function(n,i){for(var r,o=t([],n.length,e),s=o.length;s--;)n[r=o[s]]&&(n[r]=!(i[r]=n[r]))})})}function h(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function f(){}function d(t){for(var e=0,n=t.length,i="";n>e;e++)i+=t[e].value;return i}function p(t,e,n){var i=e.dir,r=e.next,o=r||i,s=n&&"parentNode"===o,a=U++;return e.first?function(e,n,r){for(;e=e[i];)if(1===e.nodeType||s)return t(e,n,r);return!1}:function(e,n,l){var u,c,h,f=[B,a];if(l){for(;e=e[i];)if((1===e.nodeType||s)&&t(e,n,l))return!0}else for(;e=e[i];)if(1===e.nodeType||s)if(h=e[$]||(e[$]={}),c=h[e.uniqueID]||(h[e.uniqueID]={}),r&&r===e.nodeName.toLowerCase())e=e[i]||e;else{if((u=c[o])&&u[0]===B&&u[1]===a)return f[2]=u[2];if(c[o]=f,f[2]=t(e,n,l))return!0}return!1}}function g(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function m(t,n,i){for(var r=0,o=n.length;o>r;r++)e(t,n[r],i);return i}function v(t,e,n,i,r){for(var o,s=[],a=0,l=t.length,u=null!=e;l>a;a++)(o=t[a])&&(!n||n(o,i,r))&&(s.push(o),u&&e.push(a));return s}function y(t,e,n,r,o,s){return r&&!r[$]&&(r=y(r)),o&&!o[$]&&(o=y(o,s)),i(function(i,s,a,l){var u,c,h,f=[],d=[],p=s.length,g=i||m(e||"*",a.nodeType?[a]:a,[]),y=!t||!i&&e?g:v(g,f,t,a,l),b=n?o||(i?t:p||r)?[]:s:y;if(n&&n(y,b,a,l),r)for(u=v(b,d),r(u,[],a,l),c=u.length;c--;)(h=u[c])&&(b[d[c]]=!(y[d[c]]=h));if(i){if(o||t){if(o){for(u=[],c=b.length;c--;)(h=b[c])&&u.push(y[c]=h);o(null,b=[],u,l)}for(c=b.length;c--;)(h=b[c])&&(u=o?te(i,h):f[c])>-1&&(i[u]=!(s[u]=h))}}else b=v(b===s?b.splice(p,b.length):b),o?o(null,s,b,l):Y.apply(s,b)})}function b(t){for(var e,n,i,r=t.length,o=k.relative[t[0].type],s=o||k.relative[" "],a=o?1:0,l=p(function(t){return t===e},s,!0),u=p(function(t){return te(e,t)>-1},s,!0),c=[function(t,n,i){var r=!o&&(i||n!==j)||((e=n).nodeType?l(t,n,i):u(t,n,i));return e=null,r}];r>a;a++)if(n=k.relative[t[a].type])c=[p(g(c),n)];else{if(n=k.filter[t[a].type].apply(null,t[a].matches),n[$]){for(i=++a;r>i&&!k.relative[t[i].type];i++);return y(a>1&&g(c),a>1&&d(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(ae,"$1"),n,i>a&&b(t.slice(a,i)),r>i&&b(t=t.slice(i)),r>i&&d(t))}c.push(n)}return g(c)}function w(t,n){var r=n.length>0,o=t.length>0,s=function(i,s,a,l,u){var c,h,f,d=0,p="0",g=i&&[],m=[],y=j,b=i||o&&k.find.TAG("*",u),w=B+=null==y?1:Math.random()||.1,_=b.length;for(u&&(j=s===L||s||u);p!==_&&null!=(c=b[p]);p++){if(o&&c){for(h=0,s||c.ownerDocument===L||(A(c),a=!I);f=t[h++];)if(f(c,s||L,a)){l.push(c);break}u&&(B=w)}r&&((c=!f&&c)&&d--,i&&g.push(c))}if(d+=p,r&&p!==d){for(h=0;f=n[h++];)f(g,m,s,a);if(i){if(d>0)for(;p--;)g[p]||m[p]||(m[p]=G.call(l));m=v(m)}Y.apply(l,m),u&&!i&&m.length>0&&d+n.length>1&&e.uniqueSort(l)}return u&&(B=w,j=y),g};return r?i(s):s}var _,x,k,C,T,S,E,O,j,P,N,A,L,D,I,M,F,R,H,$="sizzle"+1*new Date,q=t.document,B=0,U=0,W=n(),V=n(),z=n(),X=function(t,e){return t===e&&(N=!0),0},K={}.hasOwnProperty,Q=[],G=Q.pop,J=Q.push,Y=Q.push,Z=Q.slice,te=function(t,e){for(var n=0,i=t.length;i>n;n++)if(t[n]===e)return n;return-1},ee="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",ie="(?:\\\\.|[\\w-]|[^\x00-\\xa0])+",re="\\["+ne+"*("+ie+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ie+"))|)"+ne+"*\\]",oe=":("+ie+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+re+")*)|.*)\\)|)",se=new RegExp(ne+"+","g"),ae=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),le=new RegExp("^"+ne+"*,"+ne+"*"),ue=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),ce=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),he=new RegExp(oe),fe=new RegExp("^"+ie+"$"),de={ID:new RegExp("^#("+ie+")"),CLASS:new RegExp("^\\.("+ie+")"),TAG:new RegExp("^("+ie+"|[*])"),ATTR:new RegExp("^"+re),PSEUDO:new RegExp("^"+oe),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+ee+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},pe=/^(?:input|select|textarea|button)$/i,ge=/^h\d$/i,me=/^[^{]+\{\s*\[native \w/,ve=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ye=/[+~]/,be=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),we=function(t,e,n){var i="0x"+e-65536;return i!==i||n?e:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},_e=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,xe=function(t,e){return e?"\x00"===t?"�":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},ke=function(){A()
},Ce=p(function(t){return t.disabled===!0&&("form"in t||"label"in t)},{dir:"parentNode",next:"legend"});try{Y.apply(Q=Z.call(q.childNodes),q.childNodes),Q[q.childNodes.length].nodeType}catch(Te){Y={apply:Q.length?function(t,e){J.apply(t,Z.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}x=e.support={},T=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},A=e.setDocument=function(t){var e,n,i=t?t.ownerDocument||t:q;return i!==L&&9===i.nodeType&&i.documentElement?(L=i,D=L.documentElement,I=!T(L),q!==L&&(n=L.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",ke,!1):n.attachEvent&&n.attachEvent("onunload",ke)),x.attributes=r(function(t){return t.className="i",!t.getAttribute("className")}),x.getElementsByTagName=r(function(t){return t.appendChild(L.createComment("")),!t.getElementsByTagName("*").length}),x.getElementsByClassName=me.test(L.getElementsByClassName),x.getById=r(function(t){return D.appendChild(t).id=$,!L.getElementsByName||!L.getElementsByName($).length}),x.getById?(k.filter.ID=function(t){var e=t.replace(be,we);return function(t){return t.getAttribute("id")===e}},k.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&I){var n=e.getElementById(t);return n?[n]:[]}}):(k.filter.ID=function(t){var e=t.replace(be,we);return function(t){var n="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}},k.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&I){var n,i,r,o=e.getElementById(t);if(o){if(n=o.getAttributeNode("id"),n&&n.value===t)return[o];for(r=e.getElementsByName(t),i=0;o=r[i++];)if(n=o.getAttributeNode("id"),n&&n.value===t)return[o]}return[]}}),k.find.TAG=x.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):x.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},k.find.CLASS=x.getElementsByClassName&&function(t,e){return"undefined"!=typeof e.getElementsByClassName&&I?e.getElementsByClassName(t):void 0},F=[],M=[],(x.qsa=me.test(L.querySelectorAll))&&(r(function(t){D.appendChild(t).innerHTML="<a id='"+$+"'></a><select id='"+$+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&M.push("[*^$]="+ne+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||M.push("\\["+ne+"*(?:value|"+ee+")"),t.querySelectorAll("[id~="+$+"-]").length||M.push("~="),t.querySelectorAll(":checked").length||M.push(":checked"),t.querySelectorAll("a#"+$+"+*").length||M.push(".#.+[+~]")}),r(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=L.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&M.push("name"+ne+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&M.push(":enabled",":disabled"),D.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&M.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),M.push(",.*:")})),(x.matchesSelector=me.test(R=D.matches||D.webkitMatchesSelector||D.mozMatchesSelector||D.oMatchesSelector||D.msMatchesSelector))&&r(function(t){x.disconnectedMatch=R.call(t,"*"),R.call(t,"[s!='']:x"),F.push("!=",oe)}),M=M.length&&new RegExp(M.join("|")),F=F.length&&new RegExp(F.join("|")),e=me.test(D.compareDocumentPosition),H=e||me.test(D.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},X=e?function(t,e){if(t===e)return N=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n?n:(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!x.sortDetached&&e.compareDocumentPosition(t)===n?t===L||t.ownerDocument===q&&H(q,t)?-1:e===L||e.ownerDocument===q&&H(q,e)?1:P?te(P,t)-te(P,e):0:4&n?-1:1)}:function(t,e){if(t===e)return N=!0,0;var n,i=0,r=t.parentNode,o=e.parentNode,a=[t],l=[e];if(!r||!o)return t===L?-1:e===L?1:r?-1:o?1:P?te(P,t)-te(P,e):0;if(r===o)return s(t,e);for(n=t;n=n.parentNode;)a.unshift(n);for(n=e;n=n.parentNode;)l.unshift(n);for(;a[i]===l[i];)i++;return i?s(a[i],l[i]):a[i]===q?-1:l[i]===q?1:0},L):L},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==L&&A(t),n=n.replace(ce,"='$1']"),!(!x.matchesSelector||!I||z[n+" "]||F&&F.test(n)||M&&M.test(n)))try{var i=R.call(t,n);if(i||x.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(r){}return e(n,L,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==L&&A(t),H(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==L&&A(t);var n=k.attrHandle[e.toLowerCase()],i=n&&K.call(k.attrHandle,e.toLowerCase())?n(t,e,!I):void 0;return void 0!==i?i:x.attributes||!I?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},e.escape=function(t){return(t+"").replace(_e,xe)},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],i=0,r=0;if(N=!x.detectDuplicates,P=!x.sortStable&&t.slice(0),t.sort(X),N){for(;e=t[r++];)e===t[r]&&(i=n.push(r));for(;i--;)t.splice(n[i],1)}return P=null,t},C=e.getText=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=C(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i++];)n+=C(e);return n},k=e.selectors={cacheLength:50,createPseudo:i,match:de,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(be,we),t[3]=(t[3]||t[4]||t[5]||"").replace(be,we),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return de.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&he.test(n)&&(e=S(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(be,we).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=W[t+" "];return e||(e=new RegExp("(^|"+ne+")"+t+"("+ne+"|$)"))&&W(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,n,i){return function(r){var o=e.attr(r,t);return null==o?"!="===n:n?(o+="","="===n?o===i:"!="===n?o!==i:"^="===n?i&&0===o.indexOf(i):"*="===n?i&&o.indexOf(i)>-1:"$="===n?i&&o.slice(-i.length)===i:"~="===n?(" "+o.replace(se," ")+" ").indexOf(i)>-1:"|="===n?o===i||o.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,l){var u,c,h,f,d,p,g=o!==s?"nextSibling":"previousSibling",m=e.parentNode,v=a&&e.nodeName.toLowerCase(),y=!l&&!a,b=!1;if(m){if(o){for(;g;){for(f=e;f=f[g];)if(a?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;p=g="only"===t&&!p&&"nextSibling"}return!0}if(p=[s?m.firstChild:m.lastChild],s&&y){for(f=m,h=f[$]||(f[$]={}),c=h[f.uniqueID]||(h[f.uniqueID]={}),u=c[t]||[],d=u[0]===B&&u[1],b=d&&u[2],f=d&&m.childNodes[d];f=++d&&f&&f[g]||(b=d=0)||p.pop();)if(1===f.nodeType&&++b&&f===e){c[t]=[B,d,b];break}}else if(y&&(f=e,h=f[$]||(f[$]={}),c=h[f.uniqueID]||(h[f.uniqueID]={}),u=c[t]||[],d=u[0]===B&&u[1],b=d),b===!1)for(;(f=++d&&f&&f[g]||(b=d=0)||p.pop())&&((a?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++b||(y&&(h=f[$]||(f[$]={}),c=h[f.uniqueID]||(h[f.uniqueID]={}),c[t]=[B,b]),f!==e)););return b-=r,b===i||b%i===0&&b/i>=0}}},PSEUDO:function(t,n){var r,o=k.pseudos[t]||k.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[$]?o(n):o.length>1?(r=[t,t,"",n],k.setFilters.hasOwnProperty(t.toLowerCase())?i(function(t,e){for(var i,r=o(t,n),s=r.length;s--;)i=te(t,r[s]),t[i]=!(e[i]=r[s])}):function(t){return o(t,0,r)}):o}},pseudos:{not:i(function(t){var e=[],n=[],r=E(t.replace(ae,"$1"));return r[$]?i(function(t,e,n,i){for(var o,s=r(t,null,i,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))}):function(t,i,o){return e[0]=t,r(e,null,o,n),e[0]=null,!n.pop()}}),has:i(function(t){return function(n){return e(t,n).length>0}}),contains:i(function(t){return t=t.replace(be,we),function(e){return(e.textContent||e.innerText||C(e)).indexOf(t)>-1}}),lang:i(function(t){return fe.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(be,we).toLowerCase(),function(e){var n;do if(n=I?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===D},focus:function(t){return t===L.activeElement&&(!L.hasFocus||L.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:u(!1),disabled:u(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!k.pseudos.empty(t)},header:function(t){return ge.test(t.nodeName)},input:function(t){return pe.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:c(function(){return[0]}),last:c(function(t,e){return[e-1]}),eq:c(function(t,e,n){return[0>n?n+e:n]}),even:c(function(t,e){for(var n=0;e>n;n+=2)t.push(n);return t}),odd:c(function(t,e){for(var n=1;e>n;n+=2)t.push(n);return t}),lt:c(function(t,e,n){for(var i=0>n?n+e:n;--i>=0;)t.push(i);return t}),gt:c(function(t,e,n){for(var i=0>n?n+e:n;++i<e;)t.push(i);return t})}},k.pseudos.nth=k.pseudos.eq;for(_ in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})k.pseudos[_]=a(_);for(_ in{submit:!0,reset:!0})k.pseudos[_]=l(_);return f.prototype=k.filters=k.pseudos,k.setFilters=new f,S=e.tokenize=function(t,n){var i,r,o,s,a,l,u,c=V[t+" "];if(c)return n?0:c.slice(0);for(a=t,l=[],u=k.preFilter;a;){(!i||(r=le.exec(a)))&&(r&&(a=a.slice(r[0].length)||a),l.push(o=[])),i=!1,(r=ue.exec(a))&&(i=r.shift(),o.push({value:i,type:r[0].replace(ae," ")}),a=a.slice(i.length));for(s in k.filter)!(r=de[s].exec(a))||u[s]&&!(r=u[s](r))||(i=r.shift(),o.push({value:i,type:s,matches:r}),a=a.slice(i.length));if(!i)break}return n?a.length:a?e.error(t):V(t,l).slice(0)},E=e.compile=function(t,e){var n,i=[],r=[],o=z[t+" "];if(!o){for(e||(e=S(t)),n=e.length;n--;)o=b(e[n]),o[$]?i.push(o):r.push(o);o=z(t,w(r,i)),o.selector=t}return o},O=e.select=function(t,e,n,i){var r,o,s,a,l,u="function"==typeof t&&t,c=!i&&S(t=u.selector||t);if(n=n||[],1===c.length){if(o=c[0]=c[0].slice(0),o.length>2&&"ID"===(s=o[0]).type&&9===e.nodeType&&I&&k.relative[o[1].type]){if(e=(k.find.ID(s.matches[0].replace(be,we),e)||[])[0],!e)return n;u&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(r=de.needsContext.test(t)?0:o.length;r--&&(s=o[r],!k.relative[a=s.type]);)if((l=k.find[a])&&(i=l(s.matches[0].replace(be,we),ye.test(o[0].type)&&h(e.parentNode)||e))){if(o.splice(r,1),t=i.length&&d(o),!t)return Y.apply(n,i),n;break}}return(u||E(t,c))(i,e,!I,n,!e||ye.test(t)&&h(e.parentNode)||e),n},x.sortStable=$.split("").sort(X).join("")===$,x.detectDuplicates=!!N,A(),x.sortDetached=r(function(t){return 1&t.compareDocumentPosition(L.createElement("fieldset"))}),r(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,n){return n?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),x.attributes&&r(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,n){return n||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),r(function(t){return null==t.getAttribute("disabled")})||o(ee,function(t,e,n){var i;return n?void 0:t[e]===!0?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),e}(t);ge.find=we,ge.expr=we.selectors,ge.expr[":"]=ge.expr.pseudos,ge.uniqueSort=ge.unique=we.uniqueSort,ge.text=we.getText,ge.isXMLDoc=we.isXML,ge.contains=we.contains,ge.escapeSelector=we.escape;var _e=function(t,e,n){for(var i=[],r=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&ge(t).is(n))break;i.push(t)}return i},xe=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},ke=ge.expr.match.needsContext,Ce=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,Te=/^.[^:#\[\.,]*$/;ge.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?ge.find.matchesSelector(i,t)?[i]:[]:ge.find.matches(t,ge.grep(e,function(t){return 1===t.nodeType}))},ge.fn.extend({find:function(t){var e,n,i=this.length,r=this;if("string"!=typeof t)return this.pushStack(ge(t).filter(function(){for(e=0;i>e;e++)if(ge.contains(r[e],this))return!0}));for(n=this.pushStack([]),e=0;i>e;e++)ge.find(t,r[e],n);return i>1?ge.uniqueSort(n):n},filter:function(t){return this.pushStack(o(this,t||[],!1))},not:function(t){return this.pushStack(o(this,t||[],!0))},is:function(t){return!!o(this,"string"==typeof t&&ke.test(t)?ge(t):t||[],!1).length}});var Se,Ee=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Oe=ge.fn.init=function(t,e,n){var i,r;if(!t)return this;if(n=n||Se,"string"==typeof t){if(i="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:Ee.exec(t),!i||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof ge?e[0]:e,ge.merge(this,ge.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:ne,!0)),Ce.test(i[1])&&ge.isPlainObject(e))for(i in e)ge.isFunction(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return r=ne.getElementById(i[2]),r&&(this[0]=r,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):ge.isFunction(t)?void 0!==n.ready?n.ready(t):t(ge):ge.makeArray(t,this)};Oe.prototype=ge.fn,Se=ge(ne);var je=/^(?:parents|prev(?:Until|All))/,Pe={children:!0,contents:!0,next:!0,prev:!0};ge.fn.extend({has:function(t){var e=ge(t,this),n=e.length;return this.filter(function(){for(var t=0;n>t;t++)if(ge.contains(this,e[t]))return!0})},closest:function(t,e){var n,i=0,r=this.length,o=[],s="string"!=typeof t&&ge(t);if(!ke.test(t))for(;r>i;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&ge.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?ge.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?ae.call(ge(t),this[0]):ae.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(ge.uniqueSort(ge.merge(this.get(),ge(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),ge.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return _e(t,"parentNode")},parentsUntil:function(t,e,n){return _e(t,"parentNode",n)},next:function(t){return s(t,"nextSibling")},prev:function(t){return s(t,"previousSibling")},nextAll:function(t){return _e(t,"nextSibling")},prevAll:function(t){return _e(t,"previousSibling")},nextUntil:function(t,e,n){return _e(t,"nextSibling",n)},prevUntil:function(t,e,n){return _e(t,"previousSibling",n)},siblings:function(t){return xe((t.parentNode||{}).firstChild,t)},children:function(t){return xe(t.firstChild)},contents:function(t){return r(t,"iframe")?t.contentDocument:(r(t,"template")&&(t=t.content||t),ge.merge([],t.childNodes))}},function(t,e){ge.fn[t]=function(n,i){var r=ge.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=ge.filter(i,r)),this.length>1&&(Pe[t]||ge.uniqueSort(r),je.test(t)&&r.reverse()),this.pushStack(r)}});var Ne=/[^\x20\t\r\n\f]+/g;ge.Callbacks=function(t){t="string"==typeof t?a(t):ge.extend({},t);var e,n,i,r,o=[],s=[],l=-1,u=function(){for(r=r||t.once,i=e=!0;s.length;l=-1)for(n=s.shift();++l<o.length;)o[l].apply(n[0],n[1])===!1&&t.stopOnFalse&&(l=o.length,n=!1);t.memory||(n=!1),e=!1,r&&(o=n?[]:"")},c={add:function(){return o&&(n&&!e&&(l=o.length-1,s.push(n)),function i(e){ge.each(e,function(e,n){ge.isFunction(n)?t.unique&&c.has(n)||o.push(n):n&&n.length&&"string"!==ge.type(n)&&i(n)})}(arguments),n&&!e&&u()),this},remove:function(){return ge.each(arguments,function(t,e){for(var n;(n=ge.inArray(e,o,n))>-1;)o.splice(n,1),l>=n&&l--}),this},has:function(t){return t?ge.inArray(t,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return r=s=[],o=n="",this},disabled:function(){return!o},lock:function(){return r=s=[],n||e||(o=n=""),this},locked:function(){return!!r},fireWith:function(t,n){return r||(n=n||[],n=[t,n.slice?n.slice():n],s.push(n),e||u()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c},ge.extend({Deferred:function(e){var n=[["notify","progress",ge.Callbacks("memory"),ge.Callbacks("memory"),2],["resolve","done",ge.Callbacks("once memory"),ge.Callbacks("once memory"),0,"resolved"],["reject","fail",ge.Callbacks("once memory"),ge.Callbacks("once memory"),1,"rejected"]],i="pending",r={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},"catch":function(t){return r.then(null,t)},pipe:function(){var t=arguments;return ge.Deferred(function(e){ge.each(n,function(n,i){var r=ge.isFunction(t[i[4]])&&t[i[4]];o[i[1]](function(){var t=r&&r.apply(this,arguments);t&&ge.isFunction(t.promise)?t.promise().progress(e.notify).done(e.resolve).fail(e.reject):e[i[0]+"With"](this,r?[t]:arguments)})}),t=null}).promise()},then:function(e,i,r){function o(e,n,i,r){return function(){var a=this,c=arguments,h=function(){var t,h;if(!(s>e)){if(t=i.apply(a,c),t===n.promise())throw new TypeError("Thenable self-resolution");h=t&&("object"==typeof t||"function"==typeof t)&&t.then,ge.isFunction(h)?r?h.call(t,o(s,n,l,r),o(s,n,u,r)):(s++,h.call(t,o(s,n,l,r),o(s,n,u,r),o(s,n,l,n.notifyWith))):(i!==l&&(a=void 0,c=[t]),(r||n.resolveWith)(a,c))}},f=r?h:function(){try{h()}catch(t){ge.Deferred.exceptionHook&&ge.Deferred.exceptionHook(t,f.stackTrace),e+1>=s&&(i!==u&&(a=void 0,c=[t]),n.rejectWith(a,c))}};e?f():(ge.Deferred.getStackHook&&(f.stackTrace=ge.Deferred.getStackHook()),t.setTimeout(f))}}var s=0;return ge.Deferred(function(t){n[0][3].add(o(0,t,ge.isFunction(r)?r:l,t.notifyWith)),n[1][3].add(o(0,t,ge.isFunction(e)?e:l)),n[2][3].add(o(0,t,ge.isFunction(i)?i:u))}).promise()},promise:function(t){return null!=t?ge.extend(t,r):r}},o={};return ge.each(n,function(t,e){var s=e[2],a=e[5];r[e[1]]=s.add,a&&s.add(function(){i=a},n[3-t][2].disable,n[0][2].lock),s.add(e[3].fire),o[e[0]]=function(){return o[e[0]+"With"](this===o?void 0:this,arguments),this},o[e[0]+"With"]=s.fireWith}),r.promise(o),e&&e.call(o,o),o},when:function(t){var e=arguments.length,n=e,i=Array(n),r=re.call(arguments),o=ge.Deferred(),s=function(t){return function(n){i[t]=this,r[t]=arguments.length>1?re.call(arguments):n,--e||o.resolveWith(i,r)}};if(1>=e&&(c(t,o.done(s(n)).resolve,o.reject,!e),"pending"===o.state()||ge.isFunction(r[n]&&r[n].then)))return o.then();for(;n--;)c(r[n],s(n),o.reject);return o.promise()}});var Ae=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;ge.Deferred.exceptionHook=function(e,n){t.console&&t.console.warn&&e&&Ae.test(e.name)&&t.console.warn("jQuery.Deferred exception: "+e.message,e.stack,n)},ge.readyException=function(e){t.setTimeout(function(){throw e})};var Le=ge.Deferred();ge.fn.ready=function(t){return Le.then(t).catch(function(t){ge.readyException(t)}),this},ge.extend({isReady:!1,readyWait:1,ready:function(t){(t===!0?--ge.readyWait:ge.isReady)||(ge.isReady=!0,t!==!0&&--ge.readyWait>0||Le.resolveWith(ne,[ge]))}}),ge.ready.then=Le.then,"complete"===ne.readyState||"loading"!==ne.readyState&&!ne.documentElement.doScroll?t.setTimeout(ge.ready):(ne.addEventListener("DOMContentLoaded",h),t.addEventListener("load",h));var De=function(t,e,n,i,r,o,s){var a=0,l=t.length,u=null==n;if("object"===ge.type(n)){r=!0;for(a in n)De(t,e,a,n[a],!0,o,s)}else if(void 0!==i&&(r=!0,ge.isFunction(i)||(s=!0),u&&(s?(e.call(t,i),e=null):(u=e,e=function(t,e,n){return u.call(ge(t),n)})),e))for(;l>a;a++)e(t[a],n,s?i:i.call(t[a],a,e(t[a],n)));return r?t:u?e.call(t):l?e(t[0],n):o},Ie=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};f.uid=1,f.prototype={cache:function(t){var e=t[this.expando];return e||(e={},Ie(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,r=this.cache(t);if("string"==typeof e)r[ge.camelCase(e)]=n;else for(i in e)r[ge.camelCase(i)]=e[i];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][ge.camelCase(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i=t[this.expando];if(void 0!==i){if(void 0!==e){Array.isArray(e)?e=e.map(ge.camelCase):(e=ge.camelCase(e),e=e in i?[e]:e.match(Ne)||[]),n=e.length;for(;n--;)delete i[e[n]]}(void 0===e||ge.isEmptyObject(i))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!ge.isEmptyObject(e)}};var Me=new f,Fe=new f,Re=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,He=/[A-Z]/g;ge.extend({hasData:function(t){return Fe.hasData(t)||Me.hasData(t)},data:function(t,e,n){return Fe.access(t,e,n)},removeData:function(t,e){Fe.remove(t,e)},_data:function(t,e,n){return Me.access(t,e,n)},_removeData:function(t,e){Me.remove(t,e)}}),ge.fn.extend({data:function(t,e){var n,i,r,o=this[0],s=o&&o.attributes;if(void 0===t){if(this.length&&(r=Fe.get(o),1===o.nodeType&&!Me.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&(i=s[n].name,0===i.indexOf("data-")&&(i=ge.camelCase(i.slice(5)),p(o,i,r[i])));Me.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each(function(){Fe.set(this,t)}):De(this,function(e){var n;if(o&&void 0===e){if(n=Fe.get(o,t),void 0!==n)return n;if(n=p(o,t),void 0!==n)return n}else this.each(function(){Fe.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){Fe.remove(this,t)})}}),ge.extend({queue:function(t,e,n){var i;return t?(e=(e||"fx")+"queue",i=Me.get(t,e),n&&(!i||Array.isArray(n)?i=Me.access(t,e,ge.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(t,e){e=e||"fx";var n=ge.queue(t,e),i=n.length,r=n.shift(),o=ge._queueHooks(t,e),s=function(){ge.dequeue(t,e)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,s,o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return Me.get(t,n)||Me.access(t,n,{empty:ge.Callbacks("once memory").add(function(){Me.remove(t,[e+"queue",n])})})}}),ge.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?ge.queue(this[0],t):void 0===e?this:this.each(function(){var n=ge.queue(this,t,e);ge._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&ge.dequeue(this,t)})},dequeue:function(t){return this.each(function(){ge.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=ge.Deferred(),o=this,s=this.length,a=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)n=Me.get(o[s],t+"queueHooks"),n&&n.empty&&(i++,n.empty.add(a));return a(),r.promise(e)}});var $e=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,qe=new RegExp("^(?:([+-])=|)("+$e+")([a-z%]*)$","i"),Be=["Top","Right","Bottom","Left"],Ue=function(t,e){return t=e||t,"none"===t.style.display||""===t.style.display&&ge.contains(t.ownerDocument,t)&&"none"===ge.css(t,"display")},We=function(t,e,n,i){var r,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];r=n.apply(t,i||[]);for(o in e)t.style[o]=s[o];return r},Ve={};ge.fn.extend({show:function(){return v(this,!0)},hide:function(){return v(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Ue(this)?ge(this).show():ge(this).hide()})}});var ze=/^(?:checkbox|radio)$/i,Xe=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Ke=/^$|\/(?:java|ecma)script/i,Qe={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Qe.optgroup=Qe.option,Qe.tbody=Qe.tfoot=Qe.colgroup=Qe.caption=Qe.thead,Qe.th=Qe.td;var Ge=/<|&#?\w+;/;!function(){var t=ne.createDocumentFragment(),e=t.appendChild(ne.createElement("div")),n=ne.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),e.appendChild(n),de.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",de.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var Je=ne.documentElement,Ye=/^key/,Ze=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,tn=/^([^.]*)(?:\.(.+)|)/;ge.event={global:{},add:function(t,e,n,i,r){var o,s,a,l,u,c,h,f,d,p,g,m=Me.get(t);if(m)for(n.handler&&(o=n,n=o.handler,r=o.selector),r&&ge.find.matchesSelector(Je,r),n.guid||(n.guid=ge.guid++),(l=m.events)||(l=m.events={}),(s=m.handle)||(s=m.handle=function(e){return"undefined"!=typeof ge&&ge.event.triggered!==e.type?ge.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(Ne)||[""],u=e.length;u--;)a=tn.exec(e[u])||[],d=g=a[1],p=(a[2]||"").split(".").sort(),d&&(h=ge.event.special[d]||{},d=(r?h.delegateType:h.bindType)||d,h=ge.event.special[d]||{},c=ge.extend({type:d,origType:g,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&ge.expr.match.needsContext.test(r),namespace:p.join(".")},o),(f=l[d])||(f=l[d]=[],f.delegateCount=0,h.setup&&h.setup.call(t,i,p,s)!==!1||t.addEventListener&&t.addEventListener(d,s)),h.add&&(h.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),r?f.splice(f.delegateCount++,0,c):f.push(c),ge.event.global[d]=!0)},remove:function(t,e,n,i,r){var o,s,a,l,u,c,h,f,d,p,g,m=Me.hasData(t)&&Me.get(t);if(m&&(l=m.events)){for(e=(e||"").match(Ne)||[""],u=e.length;u--;)if(a=tn.exec(e[u])||[],d=g=a[1],p=(a[2]||"").split(".").sort(),d){for(h=ge.event.special[d]||{},d=(i?h.delegateType:h.bindType)||d,f=l[d]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=f.length;o--;)c=f[o],!r&&g!==c.origType||n&&n.guid!==c.guid||a&&!a.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(f.splice(o,1),c.selector&&f.delegateCount--,h.remove&&h.remove.call(t,c));s&&!f.length&&(h.teardown&&h.teardown.call(t,p,m.handle)!==!1||ge.removeEvent(t,d,m.handle),delete l[d])}else for(d in l)ge.event.remove(t,d+e[u],n,i,!0);ge.isEmptyObject(l)&&Me.remove(t,"handle events")}},dispatch:function(t){var e,n,i,r,o,s,a=ge.event.fix(t),l=new Array(arguments.length),u=(Me.get(this,"events")||{})[a.type]||[],c=ge.event.special[a.type]||{};for(l[0]=a,e=1;e<arguments.length;e++)l[e]=arguments[e];if(a.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,a)!==!1){for(s=ge.event.handlers.call(this,a,u),e=0;(r=s[e++])&&!a.isPropagationStopped();)for(a.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!a.isImmediatePropagationStopped();)(!a.rnamespace||a.rnamespace.test(o.namespace))&&(a.handleObj=o,a.data=o.data,i=((ge.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,l),void 0!==i&&(a.result=i)===!1&&(a.preventDefault(),a.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,a),a.result}},handlers:function(t,e){var n,i,r,o,s,a=[],l=e.delegateCount,u=t.target;if(l&&u.nodeType&&!("click"===t.type&&t.button>=1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==t.type||u.disabled!==!0)){for(o=[],s={},n=0;l>n;n++)i=e[n],r=i.selector+" ",void 0===s[r]&&(s[r]=i.needsContext?ge(r,this).index(u)>-1:ge.find(r,this,null,[u]).length),s[r]&&o.push(i);o.length&&a.push({elem:u,handlers:o})}return u=this,l<e.length&&a.push({elem:u,handlers:e.slice(l)}),a},addProp:function(t,e){Object.defineProperty(ge.Event.prototype,t,{enumerable:!0,configurable:!0,get:ge.isFunction(e)?function(){return this.originalEvent?e(this.originalEvent):void 0}:function(){return this.originalEvent?this.originalEvent[t]:void 0},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[ge.expando]?t:new ge.Event(t)},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==k()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===k()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&r(this,"input")?(this.click(),!1):void 0},_default:function(t){return r(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},ge.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},ge.Event=function(t,e){return this instanceof ge.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?_:x,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&ge.extend(this,e),this.timeStamp=t&&t.timeStamp||ge.now(),void(this[ge.expando]=!0)):new ge.Event(t,e)},ge.Event.prototype={constructor:ge.Event,isDefaultPrevented:x,isPropagationStopped:x,isImmediatePropagationStopped:x,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=_,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=_,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=_,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},ge.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&Ye.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&Ze.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},ge.event.addProp),ge.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){ge.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,r=t.relatedTarget,o=t.handleObj;return(!r||r!==i&&!ge.contains(i,r))&&(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}}),ge.fn.extend({on:function(t,e,n,i){return C(this,t,e,n,i)},one:function(t,e,n,i){return C(this,t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,ge(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);
return this}return(e===!1||"function"==typeof e)&&(n=e,e=void 0),n===!1&&(n=x),this.each(function(){ge.event.remove(this,t,n,e)})}});var en=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,nn=/<script|<style|<link/i,rn=/checked\s*(?:[^=]|=\s*.checked.)/i,on=/^true\/(.*)/,sn=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;ge.extend({htmlPrefilter:function(t){return t.replace(en,"<$1></$2>")},clone:function(t,e,n){var i,r,o,s,a=t.cloneNode(!0),l=ge.contains(t.ownerDocument,t);if(!(de.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||ge.isXMLDoc(t)))for(s=y(a),o=y(t),i=0,r=o.length;r>i;i++)j(o[i],s[i]);if(e)if(n)for(o=o||y(t),s=s||y(a),i=0,r=o.length;r>i;i++)O(o[i],s[i]);else O(t,a);return s=y(a,"script"),s.length>0&&b(s,!l&&y(t,"script")),a},cleanData:function(t){for(var e,n,i,r=ge.event.special,o=0;void 0!==(n=t[o]);o++)if(Ie(n)){if(e=n[Me.expando]){if(e.events)for(i in e.events)r[i]?ge.event.remove(n,i):ge.removeEvent(n,i,e.handle);n[Me.expando]=void 0}n[Fe.expando]&&(n[Fe.expando]=void 0)}}}),ge.fn.extend({detach:function(t){return N(this,t,!0)},remove:function(t){return N(this,t)},text:function(t){return De(this,function(t){return void 0===t?ge.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=t)})},null,t,arguments.length)},append:function(){return P(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=T(this,t);e.appendChild(t)}})},prepend:function(){return P(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=T(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return P(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return P(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(ge.cleanData(y(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return ge.clone(this,t,e)})},html:function(t){return De(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!nn.test(t)&&!Qe[(Xe.exec(t)||["",""])[1].toLowerCase()]){t=ge.htmlPrefilter(t);try{for(;i>n;n++)e=this[n]||{},1===e.nodeType&&(ge.cleanData(y(e,!1)),e.innerHTML=t);e=0}catch(r){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return P(this,arguments,function(e){var n=this.parentNode;ge.inArray(this,t)<0&&(ge.cleanData(y(this)),n&&n.replaceChild(e,this))},t)}}),ge.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){ge.fn[t]=function(t){for(var n,i=[],r=ge(t),o=r.length-1,s=0;o>=s;s++)n=s===o?this:this.clone(!0),ge(r[s])[e](n),se.apply(i,n.get());return this.pushStack(i)}});var an=/^margin/,ln=new RegExp("^("+$e+")(?!px)[a-z%]+$","i"),un=function(e){var n=e.ownerDocument.defaultView;return n&&n.opener||(n=t),n.getComputedStyle(e)};!function(){function e(){if(a){a.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",a.innerHTML="",Je.appendChild(s);var e=t.getComputedStyle(a);n="1%"!==e.top,o="2px"===e.marginLeft,i="4px"===e.width,a.style.marginRight="50%",r="4px"===e.marginRight,Je.removeChild(s),a=null}}var n,i,r,o,s=ne.createElement("div"),a=ne.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",de.clearCloneStyle="content-box"===a.style.backgroundClip,s.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",s.appendChild(a),ge.extend(de,{pixelPosition:function(){return e(),n},boxSizingReliable:function(){return e(),i},pixelMarginRight:function(){return e(),r},reliableMarginLeft:function(){return e(),o}}))}();var cn=/^(none|table(?!-c[ea]).+)/,hn=/^--/,fn={position:"absolute",visibility:"hidden",display:"block"},dn={letterSpacing:"0",fontWeight:"400"},pn=["Webkit","Moz","ms"],gn=ne.createElement("div").style;ge.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=A(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,s,a=ge.camelCase(e),l=hn.test(e),u=t.style;return l||(e=I(a)),s=ge.cssHooks[e]||ge.cssHooks[a],void 0===n?s&&"get"in s&&void 0!==(r=s.get(t,!1,i))?r:u[e]:(o=typeof n,"string"===o&&(r=qe.exec(n))&&r[1]&&(n=g(t,e,r),o="number"),null!=n&&n===n&&("number"===o&&(n+=r&&r[3]||(ge.cssNumber[a]?"":"px")),de.clearCloneStyle||""!==n||0!==e.indexOf("background")||(u[e]="inherit"),s&&"set"in s&&void 0===(n=s.set(t,n,i))||(l?u.setProperty(e,n):u[e]=n)),void 0)}},css:function(t,e,n,i){var r,o,s,a=ge.camelCase(e),l=hn.test(e);return l||(e=I(a)),s=ge.cssHooks[e]||ge.cssHooks[a],s&&"get"in s&&(r=s.get(t,!0,n)),void 0===r&&(r=A(t,e,i)),"normal"===r&&e in dn&&(r=dn[e]),""===n||n?(o=parseFloat(r),n===!0||isFinite(o)?o||0:r):r}}),ge.each(["height","width"],function(t,e){ge.cssHooks[e]={get:function(t,n,i){return n?!cn.test(ge.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?R(t,e,i):We(t,fn,function(){return R(t,e,i)}):void 0},set:function(t,n,i){var r,o=i&&un(t),s=i&&F(t,e,i,"border-box"===ge.css(t,"boxSizing",!1,o),o);return s&&(r=qe.exec(n))&&"px"!==(r[3]||"px")&&(t.style[e]=n,n=ge.css(t,e)),M(t,n,s)}}}),ge.cssHooks.marginLeft=L(de.reliableMarginLeft,function(t,e){return e?(parseFloat(A(t,"marginLeft"))||t.getBoundingClientRect().left-We(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px":void 0}),ge.each({margin:"",padding:"",border:"Width"},function(t,e){ge.cssHooks[t+e]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];4>i;i++)r[t+Be[i]+e]=o[i]||o[i-2]||o[0];return r}},an.test(t)||(ge.cssHooks[t+e].set=M)}),ge.fn.extend({css:function(t,e){return De(this,function(t,e,n){var i,r,o={},s=0;if(Array.isArray(e)){for(i=un(t),r=e.length;r>s;s++)o[e[s]]=ge.css(t,e[s],!1,i);return o}return void 0!==n?ge.style(t,e,n):ge.css(t,e)},t,e,arguments.length>1)}}),ge.Tween=H,H.prototype={constructor:H,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||ge.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(ge.cssNumber[n]?"":"px")},cur:function(){var t=H.propHooks[this.prop];return t&&t.get?t.get(this):H.propHooks._default.get(this)},run:function(t){var e,n=H.propHooks[this.prop];return this.pos=e=this.options.duration?ge.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):H.propHooks._default.set(this),this}},H.prototype.init.prototype=H.prototype,H.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=ge.css(t.elem,t.prop,""),e&&"auto"!==e?e:0)},set:function(t){ge.fx.step[t.prop]?ge.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[ge.cssProps[t.prop]]&&!ge.cssHooks[t.prop]?t.elem[t.prop]=t.now:ge.style(t.elem,t.prop,t.now+t.unit)}}},H.propHooks.scrollTop=H.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},ge.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},ge.fx=H.prototype.init,ge.fx.step={};var mn,vn,yn=/^(?:toggle|show|hide)$/,bn=/queueHooks$/;ge.Animation=ge.extend(z,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return g(n.elem,t,qe.exec(e),n),n}]},tweener:function(t,e){ge.isFunction(t)?(e=t,t=["*"]):t=t.match(Ne);for(var n,i=0,r=t.length;r>i;i++)n=t[i],z.tweeners[n]=z.tweeners[n]||[],z.tweeners[n].unshift(e)},prefilters:[W],prefilter:function(t,e){e?z.prefilters.unshift(t):z.prefilters.push(t)}}),ge.speed=function(t,e,n){var i=t&&"object"==typeof t?ge.extend({},t):{complete:n||!n&&e||ge.isFunction(t)&&t,duration:t,easing:n&&e||e&&!ge.isFunction(e)&&e};return ge.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration=i.duration in ge.fx.speeds?ge.fx.speeds[i.duration]:ge.fx.speeds._default),(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){ge.isFunction(i.old)&&i.old.call(this),i.queue&&ge.dequeue(this,i.queue)},i},ge.fn.extend({fadeTo:function(t,e,n,i){return this.filter(Ue).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=ge.isEmptyObject(t),o=ge.speed(e,n,i),s=function(){var e=z(this,ge.extend({},t),o);(r||Me.get(this,"finish"))&&e.stop(!0)};return s.finish=s,r||o.queue===!1?this.each(s):this.queue(o.queue,s)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",o=ge.timers,s=Me.get(this);if(r)s[r]&&s[r].stop&&i(s[r]);else for(r in s)s[r]&&s[r].stop&&bn.test(r)&&i(s[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(n),e=!1,o.splice(r,1));(e||!n)&&ge.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,n=Me.get(this),i=n[t+"queue"],r=n[t+"queueHooks"],o=ge.timers,s=i?i.length:0;for(n.finish=!0,ge.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;s>e;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),ge.each(["toggle","show","hide"],function(t,e){var n=ge.fn[e];ge.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(B(e,!0),t,i,r)}}),ge.each({slideDown:B("show"),slideUp:B("hide"),slideToggle:B("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){ge.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),ge.timers=[],ge.fx.tick=function(){var t,e=0,n=ge.timers;for(mn=ge.now();e<n.length;e++)t=n[e],t()||n[e]!==t||n.splice(e--,1);n.length||ge.fx.stop(),mn=void 0},ge.fx.timer=function(t){ge.timers.push(t),ge.fx.start()},ge.fx.interval=13,ge.fx.start=function(){vn||(vn=!0,$())},ge.fx.stop=function(){vn=null},ge.fx.speeds={slow:600,fast:200,_default:400},ge.fn.delay=function(e,n){return e=ge.fx?ge.fx.speeds[e]||e:e,n=n||"fx",this.queue(n,function(n,i){var r=t.setTimeout(n,e);i.stop=function(){t.clearTimeout(r)}})},function(){var t=ne.createElement("input"),e=ne.createElement("select"),n=e.appendChild(ne.createElement("option"));t.type="checkbox",de.checkOn=""!==t.value,de.optSelected=n.selected,t=ne.createElement("input"),t.value="t",t.type="radio",de.radioValue="t"===t.value}();var wn,_n=ge.expr.attrHandle;ge.fn.extend({attr:function(t,e){return De(this,ge.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){ge.removeAttr(this,t)})}}),ge.extend({attr:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof t.getAttribute?ge.prop(t,e,n):(1===o&&ge.isXMLDoc(t)||(r=ge.attrHooks[e.toLowerCase()]||(ge.expr.match.bool.test(e)?wn:void 0)),void 0!==n?null===n?void ge.removeAttr(t,e):r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):r&&"get"in r&&null!==(i=r.get(t,e))?i:(i=ge.find.attr(t,e),null==i?void 0:i))},attrHooks:{type:{set:function(t,e){if(!de.radioValue&&"radio"===e&&r(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i=0,r=e&&e.match(Ne);if(r&&1===t.nodeType)for(;n=r[i++];)t.removeAttribute(n)}}),wn={set:function(t,e,n){return e===!1?ge.removeAttr(t,n):t.setAttribute(n,n),n}},ge.each(ge.expr.match.bool.source.match(/\w+/g),function(t,e){var n=_n[e]||ge.find.attr;_n[e]=function(t,e,i){var r,o,s=e.toLowerCase();return i||(o=_n[s],_n[s]=r,r=null!=n(t,e,i)?s:null,_n[s]=o),r}});var xn=/^(?:input|select|textarea|button)$/i,kn=/^(?:a|area)$/i;ge.fn.extend({prop:function(t,e){return De(this,ge.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[ge.propFix[t]||t]})}}),ge.extend({prop:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&ge.isXMLDoc(t)||(e=ge.propFix[e]||e,r=ge.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=ge.find.attr(t,"tabindex");return e?parseInt(e,10):xn.test(t.nodeName)||kn.test(t.nodeName)&&t.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),de.optSelected||(ge.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),ge.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ge.propFix[this.toLowerCase()]=this}),ge.fn.extend({addClass:function(t){var e,n,i,r,o,s,a,l=0;if(ge.isFunction(t))return this.each(function(e){ge(this).addClass(t.call(this,e,K(this)))});if("string"==typeof t&&t)for(e=t.match(Ne)||[];n=this[l++];)if(r=K(n),i=1===n.nodeType&&" "+X(r)+" "){for(s=0;o=e[s++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");a=X(i),r!==a&&n.setAttribute("class",a)}return this},removeClass:function(t){var e,n,i,r,o,s,a,l=0;if(ge.isFunction(t))return this.each(function(e){ge(this).removeClass(t.call(this,e,K(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(Ne)||[];n=this[l++];)if(r=K(n),i=1===n.nodeType&&" "+X(r)+" "){for(s=0;o=e[s++];)for(;i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");a=X(i),r!==a&&n.setAttribute("class",a)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):this.each(ge.isFunction(t)?function(n){ge(this).toggleClass(t.call(this,n,K(this),e),e)}:function(){var e,i,r,o;if("string"===n)for(i=0,r=ge(this),o=t.match(Ne)||[];e=o[i++];)r.hasClass(e)?r.removeClass(e):r.addClass(e);else(void 0===t||"boolean"===n)&&(e=K(this),e&&Me.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||t===!1?"":Me.get(this,"__className__")||""))})},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&(" "+X(K(n))+" ").indexOf(e)>-1)return!0;return!1}});var Cn=/\r/g;ge.fn.extend({val:function(t){var e,n,i,r=this[0];{if(arguments.length)return i=ge.isFunction(t),this.each(function(n){var r;1===this.nodeType&&(r=i?t.call(this,n,ge(this).val()):t,null==r?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=ge.map(r,function(t){return null==t?"":t+""})),e=ge.valHooks[this.type]||ge.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))});if(r)return e=ge.valHooks[r.type]||ge.valHooks[r.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(n=e.get(r,"value"))?n:(n=r.value,"string"==typeof n?n.replace(Cn,""):null==n?"":n)}}}),ge.extend({valHooks:{option:{get:function(t){var e=ge.find.attr(t,"value");return null!=e?e:X(ge.text(t))}},select:{get:function(t){var e,n,i,o=t.options,s=t.selectedIndex,a="select-one"===t.type,l=a?null:[],u=a?s+1:o.length;for(i=0>s?u:a?s:0;u>i;i++)if(n=o[i],!(!n.selected&&i!==s||n.disabled||n.parentNode.disabled&&r(n.parentNode,"optgroup"))){if(e=ge(n).val(),a)return e;l.push(e)}return l},set:function(t,e){for(var n,i,r=t.options,o=ge.makeArray(e),s=r.length;s--;)i=r[s],(i.selected=ge.inArray(ge.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),ge.each(["radio","checkbox"],function(){ge.valHooks[this]={set:function(t,e){return Array.isArray(e)?t.checked=ge.inArray(ge(t).val(),e)>-1:void 0}},de.checkOn||(ge.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var Tn=/^(?:focusinfocus|focusoutblur)$/;ge.extend(ge.event,{trigger:function(e,n,i,r){var o,s,a,l,u,c,h,f=[i||ne],d=ce.call(e,"type")?e.type:e,p=ce.call(e,"namespace")?e.namespace.split("."):[];if(s=a=i=i||ne,3!==i.nodeType&&8!==i.nodeType&&!Tn.test(d+ge.event.triggered)&&(d.indexOf(".")>-1&&(p=d.split("."),d=p.shift(),p.sort()),u=d.indexOf(":")<0&&"on"+d,e=e[ge.expando]?e:new ge.Event(d,"object"==typeof e&&e),e.isTrigger=r?2:3,e.namespace=p.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),n=null==n?[e]:ge.makeArray(n,[e]),h=ge.event.special[d]||{},r||!h.trigger||h.trigger.apply(i,n)!==!1)){if(!r&&!h.noBubble&&!ge.isWindow(i)){for(l=h.delegateType||d,Tn.test(l+d)||(s=s.parentNode);s;s=s.parentNode)f.push(s),a=s;a===(i.ownerDocument||ne)&&f.push(a.defaultView||a.parentWindow||t)}for(o=0;(s=f[o++])&&!e.isPropagationStopped();)e.type=o>1?l:h.bindType||d,c=(Me.get(s,"events")||{})[e.type]&&Me.get(s,"handle"),c&&c.apply(s,n),c=u&&s[u],c&&c.apply&&Ie(s)&&(e.result=c.apply(s,n),e.result===!1&&e.preventDefault());return e.type=d,r||e.isDefaultPrevented()||h._default&&h._default.apply(f.pop(),n)!==!1||!Ie(i)||u&&ge.isFunction(i[d])&&!ge.isWindow(i)&&(a=i[u],a&&(i[u]=null),ge.event.triggered=d,i[d](),ge.event.triggered=void 0,a&&(i[u]=a)),e.result}},simulate:function(t,e,n){var i=ge.extend(new ge.Event,n,{type:t,isSimulated:!0});ge.event.trigger(i,null,e)}}),ge.fn.extend({trigger:function(t,e){return this.each(function(){ge.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];return n?ge.event.trigger(t,e,n,!0):void 0}}),ge.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){ge.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),ge.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),de.focusin="onfocusin"in t,de.focusin||ge.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){ge.event.simulate(e,t.target,ge.event.fix(t))};ge.event.special[e]={setup:function(){var i=this.ownerDocument||this,r=Me.access(i,e);r||i.addEventListener(t,n,!0),Me.access(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=Me.access(i,e)-1;r?Me.access(i,e,r):(i.removeEventListener(t,n,!0),Me.remove(i,e))}}});var Sn=t.location,En=ge.now(),On=/\?/;ge.parseXML=function(e){var n;if(!e||"string"!=typeof e)return null;try{n=(new t.DOMParser).parseFromString(e,"text/xml")}catch(i){n=void 0}return(!n||n.getElementsByTagName("parsererror").length)&&ge.error("Invalid XML: "+e),n};var jn=/\[\]$/,Pn=/\r?\n/g,Nn=/^(?:submit|button|image|reset|file)$/i,An=/^(?:input|select|textarea|keygen)/i;ge.param=function(t,e){var n,i=[],r=function(t,e){var n=ge.isFunction(e)?e():e;i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(t)||t.jquery&&!ge.isPlainObject(t))ge.each(t,function(){r(this.name,this.value)});else for(n in t)Q(n,t[n],e,r);return i.join("&")},ge.fn.extend({serialize:function(){return ge.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=ge.prop(this,"elements");return t?ge.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!ge(this).is(":disabled")&&An.test(this.nodeName)&&!Nn.test(t)&&(this.checked||!ze.test(t))}).map(function(t,e){var n=ge(this).val();return null==n?null:Array.isArray(n)?ge.map(n,function(t){return{name:e.name,value:t.replace(Pn,"\r\n")}}):{name:e.name,value:n.replace(Pn,"\r\n")}}).get()}});var Ln=/%20/g,Dn=/#.*$/,In=/([?&])_=[^&]*/,Mn=/^(.*?):[ \t]*([^\r\n]*)$/gm,Fn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Rn=/^(?:GET|HEAD)$/,Hn=/^\/\//,$n={},qn={},Bn="*/".concat("*"),Un=ne.createElement("a");Un.href=Sn.href,ge.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Sn.href,type:"GET",isLocal:Fn.test(Sn.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Bn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":ge.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Y(Y(t,ge.ajaxSettings),e):Y(ge.ajaxSettings,t)},ajaxPrefilter:G($n),ajaxTransport:G(qn),ajax:function(e,n){function i(e,n,i,a){var u,f,d,w,_,x=n;c||(c=!0,l&&t.clearTimeout(l),r=void 0,s=a||"",k.readyState=e>0?4:0,u=e>=200&&300>e||304===e,i&&(w=Z(p,k,i)),w=te(p,w,k,u),u?(p.ifModified&&(_=k.getResponseHeader("Last-Modified"),_&&(ge.lastModified[o]=_),_=k.getResponseHeader("etag"),_&&(ge.etag[o]=_)),204===e||"HEAD"===p.type?x="nocontent":304===e?x="notmodified":(x=w.state,f=w.data,d=w.error,u=!d)):(d=x,(e||!x)&&(x="error",0>e&&(e=0))),k.status=e,k.statusText=(n||x)+"",u?v.resolveWith(g,[f,x,k]):v.rejectWith(g,[k,x,d]),k.statusCode(b),b=void 0,h&&m.trigger(u?"ajaxSuccess":"ajaxError",[k,p,u?f:d]),y.fireWith(g,[k,x]),h&&(m.trigger("ajaxComplete",[k,p]),--ge.active||ge.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=void 0),n=n||{};var r,o,s,a,l,u,c,h,f,d,p=ge.ajaxSetup({},n),g=p.context||p,m=p.context&&(g.nodeType||g.jquery)?ge(g):ge.event,v=ge.Deferred(),y=ge.Callbacks("once memory"),b=p.statusCode||{},w={},_={},x="canceled",k={readyState:0,getResponseHeader:function(t){var e;if(c){if(!a)for(a={};e=Mn.exec(s);)a[e[1].toLowerCase()]=e[2];e=a[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return c?s:null},setRequestHeader:function(t,e){return null==c&&(t=_[t.toLowerCase()]=_[t.toLowerCase()]||t,w[t]=e),this},overrideMimeType:function(t){return null==c&&(p.mimeType=t),this},statusCode:function(t){var e;if(t)if(c)k.always(t[k.status]);else for(e in t)b[e]=[b[e],t[e]];return this},abort:function(t){var e=t||x;return r&&r.abort(e),i(0,e),this}};if(v.promise(k),p.url=((e||p.url||Sn.href)+"").replace(Hn,Sn.protocol+"//"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(Ne)||[""],null==p.crossDomain){u=ne.createElement("a");try{u.href=p.url,u.href=u.href,p.crossDomain=Un.protocol+"//"+Un.host!=u.protocol+"//"+u.host}catch(C){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=ge.param(p.data,p.traditional)),J($n,p,n,k),c)return k;h=ge.event&&p.global,h&&0===ge.active++&&ge.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Rn.test(p.type),o=p.url.replace(Dn,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(Ln,"+")):(d=p.url.slice(o.length),p.data&&(o+=(On.test(o)?"&":"?")+p.data,delete p.data),p.cache===!1&&(o=o.replace(In,"$1"),d=(On.test(o)?"&":"?")+"_="+En++ +d),p.url=o+d),p.ifModified&&(ge.lastModified[o]&&k.setRequestHeader("If-Modified-Since",ge.lastModified[o]),ge.etag[o]&&k.setRequestHeader("If-None-Match",ge.etag[o])),(p.data&&p.hasContent&&p.contentType!==!1||n.contentType)&&k.setRequestHeader("Content-Type",p.contentType),k.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Bn+"; q=0.01":""):p.accepts["*"]);for(f in p.headers)k.setRequestHeader(f,p.headers[f]);if(p.beforeSend&&(p.beforeSend.call(g,k,p)===!1||c))return k.abort();if(x="abort",y.add(p.complete),k.done(p.success),k.fail(p.error),r=J(qn,p,n,k)){if(k.readyState=1,h&&m.trigger("ajaxSend",[k,p]),c)return k;p.async&&p.timeout>0&&(l=t.setTimeout(function(){k.abort("timeout")},p.timeout));try{c=!1,r.send(w,i)}catch(C){if(c)throw C;i(-1,C)}}else i(-1,"No Transport");return k},getJSON:function(t,e,n){return ge.get(t,e,n,"json")},getScript:function(t,e){return ge.get(t,void 0,e,"script")}}),ge.each(["get","post"],function(t,e){ge[e]=function(t,n,i,r){return ge.isFunction(n)&&(r=r||i,i=n,n=void 0),ge.ajax(ge.extend({url:t,type:e,dataType:r,data:n,success:i},ge.isPlainObject(t)&&t))}}),ge._evalUrl=function(t){return ge.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},ge.fn.extend({wrapAll:function(t){var e;return this[0]&&(ge.isFunction(t)&&(t=t.call(this[0])),e=ge(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return this.each(ge.isFunction(t)?function(e){ge(this).wrapInner(t.call(this,e))}:function(){var e=ge(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=ge.isFunction(t);return this.each(function(n){ge(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){ge(this).replaceWith(this.childNodes)}),this}}),ge.expr.pseudos.hidden=function(t){return!ge.expr.pseudos.visible(t)},ge.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},ge.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(e){}};var Wn={0:200,1223:204},Vn=ge.ajaxSettings.xhr();de.cors=!!Vn&&"withCredentials"in Vn,de.ajax=Vn=!!Vn,ge.ajaxTransport(function(e){var n,i;return de.cors||Vn&&!e.crossDomain?{send:function(r,o){var s,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(s in e.xhrFields)a[s]=e.xhrFields[s];e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");for(s in r)a.setRequestHeader(s,r[s]);n=function(t){return function(){n&&(n=i=a.onload=a.onerror=a.onabort=a.onreadystatechange=null,"abort"===t?a.abort():"error"===t?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o(Wn[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=n(),i=a.onerror=n("error"),void 0!==a.onabort?a.onabort=i:a.onreadystatechange=function(){4===a.readyState&&t.setTimeout(function(){n&&i()})},n=n("abort");try{a.send(e.hasContent&&e.data||null)}catch(l){if(n)throw l}},abort:function(){n&&n()}}:void 0}),ge.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),ge.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return ge.globalEval(t),t}}}),ge.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),ge.ajaxTransport("script",function(t){if(t.crossDomain){var e,n;return{send:function(i,r){e=ge("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&r("error"===t.type?404:200,t.type)}),ne.head.appendChild(e[0])},abort:function(){n&&n()}}}});var zn=[],Xn=/(=)\?(?=&|$)|\?\?/;ge.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=zn.pop()||ge.expando+"_"+En++;return this[t]=!0,t}}),ge.ajaxPrefilter("json jsonp",function(e,n,i){var r,o,s,a=e.jsonp!==!1&&(Xn.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Xn.test(e.data)&&"data");return a||"jsonp"===e.dataTypes[0]?(r=e.jsonpCallback=ge.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Xn,"$1"+r):e.jsonp!==!1&&(e.url+=(On.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return s||ge.error(r+" was not called"),s[0]},e.dataTypes[0]="json",o=t[r],t[r]=function(){s=arguments},i.always(function(){void 0===o?ge(t).removeProp(r):t[r]=o,e[r]&&(e.jsonpCallback=n.jsonpCallback,zn.push(r)),s&&ge.isFunction(o)&&o(s[0]),s=o=void 0}),"script"):void 0}),de.createHTMLDocument=function(){var t=ne.implementation.createHTMLDocument("").body;return t.innerHTML="<form></form><form></form>",2===t.childNodes.length}(),ge.parseHTML=function(t,e,n){if("string"!=typeof t)return[];"boolean"==typeof e&&(n=e,e=!1);var i,r,o;return e||(de.createHTMLDocument?(e=ne.implementation.createHTMLDocument(""),i=e.createElement("base"),i.href=ne.location.href,e.head.appendChild(i)):e=ne),r=Ce.exec(t),o=!n&&[],r?[e.createElement(r[1])]:(r=w([t],e,o),o&&o.length&&ge(o).remove(),ge.merge([],r.childNodes))},ge.fn.load=function(t,e,n){var i,r,o,s=this,a=t.indexOf(" ");return a>-1&&(i=X(t.slice(a)),t=t.slice(0,a)),ge.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),s.length>0&&ge.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){o=arguments,s.html(i?ge("<div>").append(ge.parseHTML(t)).find(i):t)}).always(n&&function(t,e){s.each(function(){n.apply(this,o||[t.responseText,e,t])})}),this},ge.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){ge.fn[e]=function(t){return this.on(e,t)}}),ge.expr.pseudos.animated=function(t){return ge.grep(ge.timers,function(e){return t===e.elem}).length},ge.offset={setOffset:function(t,e,n){var i,r,o,s,a,l,u,c=ge.css(t,"position"),h=ge(t),f={};"static"===c&&(t.style.position="relative"),a=h.offset(),o=ge.css(t,"top"),l=ge.css(t,"left"),u=("absolute"===c||"fixed"===c)&&(o+l).indexOf("auto")>-1,u?(i=h.position(),s=i.top,r=i.left):(s=parseFloat(o)||0,r=parseFloat(l)||0),ge.isFunction(e)&&(e=e.call(t,n,ge.extend({},a))),null!=e.top&&(f.top=e.top-a.top+s),null!=e.left&&(f.left=e.left-a.left+r),"using"in e?e.using.call(t,f):h.css(f)}},ge.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){ge.offset.setOffset(this,t,e)});var e,n,i,r,o=this[0];if(o)return o.getClientRects().length?(i=o.getBoundingClientRect(),e=o.ownerDocument,n=e.documentElement,r=e.defaultView,{top:i.top+r.pageYOffset-n.clientTop,left:i.left+r.pageXOffset-n.clientLeft}):{top:0,left:0}},position:function(){if(this[0]){var t,e,n=this[0],i={top:0,left:0};return"fixed"===ge.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),r(t[0],"html")||(i=t.offset()),i={top:i.top+ge.css(t[0],"borderTopWidth",!0),left:i.left+ge.css(t[0],"borderLeftWidth",!0)}),{top:e.top-i.top-ge.css(n,"marginTop",!0),left:e.left-i.left-ge.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===ge.css(t,"position");)t=t.offsetParent;return t||Je})}}),ge.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n="pageYOffset"===e;ge.fn[t]=function(i){return De(this,function(t,i,r){var o;return ge.isWindow(t)?o=t:9===t.nodeType&&(o=t.defaultView),void 0===r?o?o[e]:t[i]:void(o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):t[i]=r)},t,i,arguments.length)}}),ge.each(["top","left"],function(t,e){ge.cssHooks[e]=L(de.pixelPosition,function(t,n){return n?(n=A(t,e),ln.test(n)?ge(t).position()[e]+"px":n):void 0})}),ge.each({Height:"height",Width:"width"},function(t,e){ge.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){ge.fn[i]=function(r,o){var s=arguments.length&&(n||"boolean"!=typeof r),a=n||(r===!0||o===!0?"margin":"border");return De(this,function(e,n,r){var o;return ge.isWindow(e)?0===i.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===r?ge.css(e,n,a):ge.style(e,n,r,a)},e,s?r:void 0,s)}})}),ge.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)
}}),ge.holdReady=function(t){t?ge.readyWait++:ge.ready(!0)},ge.isArray=Array.isArray,ge.parseJSON=JSON.parse,ge.nodeName=r,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ge});var Kn=t.jQuery,Qn=t.$;return ge.noConflict=function(e){return t.$===ge&&(t.$=Qn),e&&t.jQuery===ge&&(t.jQuery=Kn),ge},e||(t.jQuery=t.$=ge),ge}),function(){function t(t,e,n){for(var i=(n||0)-1,r=t?t.length:0;++i<r;)if(t[i]===e)return i;return-1}function e(e,n){var i=typeof n;if(e=e.cache,"boolean"==i||null==n)return e[n]?0:-1;"number"!=i&&"string"!=i&&(i="object");var r="number"==i?n:b+n;return e=(e=e[i])&&e[r],"object"==i?e&&t(e,n)>-1?0:-1:e?0:-1}function n(t){var e=this.cache,n=typeof t;if("boolean"==n||null==t)e[t]=!0;else{"number"!=n&&"string"!=n&&(n="object");var i="number"==n?t:b+t,r=e[n]||(e[n]={});"object"==n?(r[i]||(r[i]=[])).push(t):r[i]=!0}}function i(t){return t.charCodeAt(0)}function r(t,e){for(var n=t.criteria,i=e.criteria,r=-1,o=n.length;++r<o;){var s=n[r],a=i[r];if(s!==a){if(s>a||"undefined"==typeof s)return 1;if(a>s||"undefined"==typeof a)return-1}}return t.index-e.index}function o(t){var e=-1,i=t.length,r=t[0],o=t[i/2|0],s=t[i-1];if(r&&"object"==typeof r&&o&&"object"==typeof o&&s&&"object"==typeof s)return!1;var a=l();a["false"]=a["null"]=a["true"]=a.undefined=!1;var u=l();for(u.array=t,u.cache=a,u.push=n;++e<i;)u.push(t[e]);return u}function s(t){return"\\"+Z[t]}function a(){return g.pop()||[]}function l(){return m.pop()||{array:null,cache:null,criteria:null,"false":!1,index:0,"null":!1,number:null,object:null,push:null,string:null,"true":!1,undefined:!1,value:null}}function u(t){return"function"!=typeof t.toString&&"string"==typeof(t+"")}function c(t){t.length=0,g.length<_&&g.push(t)}function h(t){var e=t.cache;e&&h(e),t.array=t.cache=t.criteria=t.object=t.number=t.string=t.value=null,m.length<_&&m.push(t)}function f(t,e,n){e||(e=0),"undefined"==typeof n&&(n=t?t.length:0);for(var i=-1,r=n-e||0,o=Array(0>r?0:r);++i<r;)o[i]=t[e+i];return o}function d(n){function g(t){return t&&"object"==typeof t&&!hr(t)&&Wi.call(t,"__wrapped__")?t:new m(t)}function m(t,e){this.__chain__=!!e,this.__wrapped__=t}function _(t){function e(){if(i){var t=f(i);Vi.apply(t,arguments)}if(this instanceof e){var o=ee(n.prototype),s=n.apply(o,t||arguments);return Fe(s)?s:o}return n.apply(r,t||arguments)}var n=t[0],i=t[2],r=t[4];return cr(e,t),e}function Z(t,e,n,i,r){if(n){var o=n(t);if("undefined"!=typeof o)return o}var s=Fe(t);if(!s)return t;var l=Fi.call(t);if(!K[l]||!lr.nodeClass&&u(t))return t;var h=sr[l];switch(l){case $:case q:return new h(+t);case W:case X:return new h(t);case z:return o=h(t.source,O.exec(t)),o.lastIndex=t.lastIndex,o}var d=hr(t);if(e){var p=!i;i||(i=a()),r||(r=a());for(var g=i.length;g--;)if(i[g]==t)return r[g];o=d?h(t.length):{}}else o=d?f(t):xr({},t);return d&&(Wi.call(t,"index")&&(o.index=t.index),Wi.call(t,"input")&&(o.input=t.input)),e?(i.push(t),r.push(o),(d?_r:Tr)(t,function(t,s){o[s]=Z(t,e,n,i,r)}),p&&(c(i),c(r)),o):o}function ee(t){return Fe(t)?Ji(t):{}}function ne(t,e,n){if("function"!=typeof t)return oi;if("undefined"==typeof e||!("prototype"in t))return t;var i=t.__bindData__;if("undefined"==typeof i&&(lr.funcNames&&(i=!t.name),i=i||!lr.funcDecomp,!i)){var r=Bi.call(t);lr.funcNames||(i=!j.test(r)),i||(i=L.test(r),cr(t,i))}if(i===!1||i!==!0&&1&i[1])return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)};case 4:return function(n,i,r,o){return t.call(e,n,i,r,o)}}return Bn(t,e)}function ie(t){function e(){var t=l?s:this;if(r){var p=f(r);Vi.apply(p,arguments)}if((o||c)&&(p||(p=f(arguments)),o&&Vi.apply(p,o),c&&p.length<a))return i|=16,ie([n,h?i:-4&i,p,null,s,a]);if(p||(p=arguments),u&&(n=t[d]),this instanceof e){t=ee(n.prototype);var g=n.apply(t,p);return Fe(g)?g:t}return n.apply(t,p)}var n=t[0],i=t[1],r=t[2],o=t[3],s=t[4],a=t[5],l=1&i,u=2&i,c=4&i,h=8&i,d=n;return cr(e,t),e}function re(n,i){var r=-1,s=ge(),a=n?n.length:0,l=a>=w&&s===t,u=[];if(l){var c=o(i);c?(s=e,i=c):l=!1}for(;++r<a;){var f=n[r];s(i,f)<0&&u.push(f)}return l&&h(i),u}function se(t,e,n,i){for(var r=(i||0)-1,o=t?t.length:0,s=[];++r<o;){var a=t[r];if(a&&"object"==typeof a&&"number"==typeof a.length&&(hr(a)||be(a))){e||(a=se(a,e,n));var l=-1,u=a.length,c=s.length;for(s.length+=u;++l<u;)s[c++]=a[l]}else n||s.push(a)}return s}function ae(t,e,n,i,r,o){if(n){var s=n(t,e);if("undefined"!=typeof s)return!!s}if(t===e)return 0!==t||1/t==1/e;var l=typeof t,h=typeof e;if(!(t!==t||t&&Y[l]||e&&Y[h]))return!1;if(null==t||null==e)return t===e;var f=Fi.call(t),d=Fi.call(e);if(f==R&&(f=V),d==R&&(d=V),f!=d)return!1;switch(f){case $:case q:return+t==+e;case W:return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case z:case X:return t==Pi(e)}var p=f==H;if(!p){var g=Wi.call(t,"__wrapped__"),m=Wi.call(e,"__wrapped__");if(g||m)return ae(g?t.__wrapped__:t,m?e.__wrapped__:e,n,i,r,o);if(f!=V||!lr.nodeClass&&(u(t)||u(e)))return!1;var v=!lr.argsObject&&be(t)?Oi:t.constructor,y=!lr.argsObject&&be(e)?Oi:e.constructor;if(v!=y&&!(Me(v)&&v instanceof v&&Me(y)&&y instanceof y)&&"constructor"in t&&"constructor"in e)return!1}var b=!r;r||(r=a()),o||(o=a());for(var w=r.length;w--;)if(r[w]==t)return o[w]==e;var _=0;if(s=!0,r.push(t),o.push(e),p){if(w=t.length,_=e.length,s=_==w,s||i)for(;_--;){var x=w,k=e[_];if(i)for(;x--&&!(s=ae(t[x],k,n,i,r,o)););else if(!(s=ae(t[_],k,n,i,r,o)))break}}else Cr(e,function(e,a,l){return Wi.call(l,a)?(_++,s=Wi.call(t,a)&&ae(t[a],e,n,i,r,o)):void 0}),s&&!i&&Cr(t,function(t,e,n){return Wi.call(n,e)?s=--_>-1:void 0});return r.pop(),o.pop(),b&&(c(r),c(o)),s}function le(t,e,n,i,r){(hr(e)?rn:Tr)(e,function(e,o){var s,a,l=e,u=t[o];if(e&&((a=hr(e))||Sr(e))){for(var c=i.length;c--;)if(s=i[c]==e){u=r[c];break}if(!s){var h;n&&(l=n(u,e),(h="undefined"!=typeof l)&&(u=l)),h||(u=a?hr(u)?u:[]:Sr(u)?u:{}),i.push(e),r.push(u),h||le(u,e,n,i,r)}}else n&&(l=n(u,e),"undefined"==typeof l&&(l=e)),"undefined"!=typeof l&&(u=l);t[o]=u})}function ue(t,e){return t+qi(or()*(e-t+1))}function ce(n,i,r){var s=-1,l=ge(),u=n?n.length:0,f=[],d=!i&&u>=w&&l===t,p=r||d?a():f;if(d){var g=o(p);l=e,p=g}for(;++s<u;){var m=n[s],v=r?r(m,s,n):m;(i?!s||p[p.length-1]!==v:l(p,v)<0)&&((r||d)&&p.push(v),f.push(m))}return d?(c(p.array),h(p)):r&&c(p),f}function he(t){return function(e,n,i){var r={};if(n=g.createCallback(n,i,3),hr(e))for(var o=-1,s=e.length;++o<s;){var a=e[o];t(r,a,n(a,o,e),e)}else _r(e,function(e,i,o){t(r,e,n(e,i,o),o)});return r}}function fe(t,e,n,i,r,o){var s=1&e,a=2&e,l=4&e,u=16&e,c=32&e;if(!a&&!Me(t))throw new Ni;u&&!n.length&&(e&=-17,u=n=!1),c&&!i.length&&(e&=-33,c=i=!1);var h=t&&t.__bindData__;if(h&&h!==!0)return h=f(h),h[2]&&(h[2]=f(h[2])),h[3]&&(h[3]=f(h[3])),!s||1&h[1]||(h[4]=r),!s&&1&h[1]&&(e|=8),!l||4&h[1]||(h[5]=o),u&&Vi.apply(h[2]||(h[2]=[]),n),c&&Qi.apply(h[3]||(h[3]=[]),i),h[1]|=e,fe.apply(null,h);var d=1==e||17===e?_:ie;return d([t,e,n,i,r,o])}function de(){J.shadowedProps=M,J.array=J.bottom=J.loop=J.top="",J.init="iterable",J.useHas=!0;for(var t,e=0;t=arguments[e];e++)for(var n in t)J[n]=t[n];var i=J.args;J.firstArg=/^[^,]+/.exec(i)[0];var r=Ti("baseCreateCallback, errorClass, errorProto, hasOwnProperty, indicatorObject, isArguments, isArray, isString, keys, objectProto, objectTypes, nonEnumProps, stringClass, stringProto, toString","return function("+i+") {\n"+ur(J)+"\n}");return r(ne,B,Li,Wi,y,be,hr,Be,J.keys,Di,Y,ar,X,Ii,Fi)}function pe(t){return vr[t]}function ge(){var e=(e=g.indexOf)===Tn?t:e;return e}function me(t){return"function"==typeof t&&Ri.test(t)}function ve(t){var e,n;return!t||Fi.call(t)!=V||(e=t.constructor,Me(e)&&!(e instanceof e))||!lr.argsClass&&be(t)||!lr.nodeClass&&u(t)?!1:lr.ownLast?(Cr(t,function(t,e,i){return n=Wi.call(i,e),!1}),n!==!1):(Cr(t,function(t,e){n=e}),"undefined"==typeof n||Wi.call(t,n))}function ye(t){return yr[t]}function be(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Fi.call(t)==R||!1}function we(t,e,n,i){return"boolean"!=typeof e&&null!=e&&(i=n,n=e,e=!1),Z(t,e,"function"==typeof n&&ne(n,i,1))}function _e(t,e,n){return Z(t,!0,"function"==typeof e&&ne(e,n,1))}function xe(t,e){var n=ee(t);return e?xr(n,e):n}function ke(t,e,n){var i;return e=g.createCallback(e,n,3),Tr(t,function(t,n,r){return e(t,n,r)?(i=n,!1):void 0}),i}function Ce(t,e,n){var i;return e=g.createCallback(e,n,3),Se(t,function(t,n,r){return e(t,n,r)?(i=n,!1):void 0}),i}function Te(t,e,n){var i=[];Cr(t,function(t,e){i.push(e,t)});var r=i.length;for(e=ne(e,n,3);r--&&e(i[r--],i[r],t)!==!1;);return t}function Se(t,e,n){var i=dr(t),r=i.length;for(e=ne(e,n,3);r--;){var o=i[r];if(e(t[o],o,t)===!1)break}return t}function Ee(t){var e=[];return Cr(t,function(t,n){Me(t)&&e.push(n)}),e.sort()}function Oe(t,e){return t?Wi.call(t,e):!1}function je(t){for(var e=-1,n=dr(t),i=n.length,r={};++e<i;){var o=n[e];r[t[o]]=o}return r}function Pe(t){return t===!0||t===!1||t&&"object"==typeof t&&Fi.call(t)==$||!1}function Ne(t){return t&&"object"==typeof t&&Fi.call(t)==q||!1}function Ae(t){return t&&1===t.nodeType||!1}function Le(t){var e=!0;if(!t)return e;var n=Fi.call(t),i=t.length;return n==H||n==X||(lr.argsClass?n==R:be(t))||n==V&&"number"==typeof i&&Me(t.splice)?!i:(Tr(t,function(){return e=!1}),e)}function De(t,e,n,i){return ae(t,e,"function"==typeof n&&ne(n,i,2))}function Ie(t){return Zi(t)&&!tr(parseFloat(t))}function Me(t){return"function"==typeof t}function Fe(t){return!(!t||!Y[typeof t])}function Re(t){return $e(t)&&t!=+t}function He(t){return null===t}function $e(t){return"number"==typeof t||t&&"object"==typeof t&&Fi.call(t)==W||!1}function qe(t){return t&&Y[typeof t]&&Fi.call(t)==z||!1}function Be(t){return"string"==typeof t||t&&"object"==typeof t&&Fi.call(t)==X||!1}function Ue(t){return"undefined"==typeof t}function We(t,e,n){var i={};return e=g.createCallback(e,n,3),Tr(t,function(t,n,r){i[n]=e(t,n,r)}),i}function Ve(t){var e=arguments,n=2;if(!Fe(t))return t;if("number"!=typeof e[2]&&(n=e.length),n>3&&"function"==typeof e[n-2])var i=ne(e[--n-1],e[n--],2);else n>2&&"function"==typeof e[n-1]&&(i=e[--n]);for(var r=f(arguments,1,n),o=-1,s=a(),l=a();++o<n;)le(t,r[o],i,s,l);return c(s),c(l),t}function ze(t,e,n){var i={};if("function"!=typeof e){var r=[];Cr(t,function(t,e){r.push(e)}),r=re(r,se(arguments,!0,!1,1));for(var o=-1,s=r.length;++o<s;){var a=r[o];i[a]=t[a]}}else e=g.createCallback(e,n,3),Cr(t,function(t,n,r){e(t,n,r)||(i[n]=t)});return i}function Xe(t){for(var e=-1,n=dr(t),i=n.length,r=_i(i);++e<i;){var o=n[e];r[e]=[o,t[o]]}return r}function Ke(t,e,n){var i={};if("function"!=typeof e)for(var r=-1,o=se(arguments,!0,!1,1),s=Fe(t)?o.length:0;++r<s;){var a=o[r];a in t&&(i[a]=t[a])}else e=g.createCallback(e,n,3),Cr(t,function(t,n,r){e(t,n,r)&&(i[n]=t)});return i}function Qe(t,e,n,i){var r=hr(t);if(null==n)if(r)n=[];else{var o=t&&t.constructor,s=o&&o.prototype;n=ee(s)}return e&&(e=g.createCallback(e,i,4),(r?_r:Tr)(t,function(t,i,r){return e(n,t,i,r)})),n}function Ge(t){for(var e=-1,n=dr(t),i=n.length,r=_i(i);++e<i;)r[e]=t[n[e]];return r}function Je(t){var e=arguments,n=-1,i=se(e,!0,!1,1),r=e[2]&&e[2][e[1]]===t?1:i.length,o=_i(r);for(lr.unindexedChars&&Be(t)&&(t=t.split(""));++n<r;)o[n]=t[i[n]];return o}function Ye(t,e,n){var i=-1,r=ge(),o=t?t.length:0,s=!1;return n=(0>n?nr(0,o+n):n)||0,hr(t)?s=r(t,e,n)>-1:"number"==typeof o?s=(Be(t)?t.indexOf(e,n):r(t,e,n))>-1:_r(t,function(t){return++i>=n?!(s=t===e):void 0}),s}function Ze(t,e,n){var i=!0;if(e=g.createCallback(e,n,3),hr(t))for(var r=-1,o=t.length;++r<o&&(i=!!e(t[r],r,t)););else _r(t,function(t,n,r){return i=!!e(t,n,r)});return i}function tn(t,e,n){var i=[];if(e=g.createCallback(e,n,3),hr(t))for(var r=-1,o=t.length;++r<o;){var s=t[r];e(s,r,t)&&i.push(s)}else _r(t,function(t,n,r){e(t,n,r)&&i.push(t)});return i}function en(t,e,n){if(e=g.createCallback(e,n,3),!hr(t)){var i;return _r(t,function(t,n,r){return e(t,n,r)?(i=t,!1):void 0}),i}for(var r=-1,o=t.length;++r<o;){var s=t[r];if(e(s,r,t))return s}}function nn(t,e,n){var i;return e=g.createCallback(e,n,3),on(t,function(t,n,r){return e(t,n,r)?(i=t,!1):void 0}),i}function rn(t,e,n){if(e&&"undefined"==typeof n&&hr(t))for(var i=-1,r=t.length;++i<r&&e(t[i],i,t)!==!1;);else _r(t,e,n);return t}function on(t,e,n){var i=t,r=t?t.length:0;if(e=e&&"undefined"==typeof n?e:ne(e,n,3),hr(t))for(;r--&&e(t[r],r,t)!==!1;);else{if("number"!=typeof r){var o=dr(t);r=o.length}else lr.unindexedChars&&Be(t)&&(i=t.split(""));_r(t,function(t,n,s){return n=o?o[--r]:--r,e(i[n],n,s)})}return t}function sn(t,e){var n=f(arguments,2),i=-1,r="function"==typeof e,o=t?t.length:0,s=_i("number"==typeof o?o:0);return rn(t,function(t){s[++i]=(r?e:t[e]).apply(t,n)}),s}function an(t,e,n){var i=-1,r=t?t.length:0,o=_i("number"==typeof r?r:0);if(e=g.createCallback(e,n,3),hr(t))for(;++i<r;)o[i]=e(t[i],i,t);else _r(t,function(t,n,r){o[++i]=e(t,n,r)});return o}function ln(t,e,n){var r=-1/0,o=r;if("function"!=typeof e&&n&&n[e]===t&&(e=null),null==e&&hr(t))for(var s=-1,a=t.length;++s<a;){var l=t[s];l>o&&(o=l)}else e=null==e&&Be(t)?i:g.createCallback(e,n,3),_r(t,function(t,n,i){var s=e(t,n,i);s>r&&(r=s,o=t)});return o}function un(t,e,n){var r=1/0,o=r;if("function"!=typeof e&&n&&n[e]===t&&(e=null),null==e&&hr(t))for(var s=-1,a=t.length;++s<a;){var l=t[s];o>l&&(o=l)}else e=null==e&&Be(t)?i:g.createCallback(e,n,3),_r(t,function(t,n,i){var s=e(t,n,i);r>s&&(r=s,o=t)});return o}function cn(t,e,n,i){var r=arguments.length<3;if(e=g.createCallback(e,i,4),hr(t)){var o=-1,s=t.length;for(r&&(n=t[++o]);++o<s;)n=e(n,t[o],o,t)}else _r(t,function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)});return n}function hn(t,e,n,i){var r=arguments.length<3;return e=g.createCallback(e,i,4),on(t,function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)}),n}function fn(t,e,n){return e=g.createCallback(e,n,3),tn(t,function(t,n,i){return!e(t,n,i)})}function dn(t,e,n){if(t&&"number"!=typeof t.length?t=Ge(t):lr.unindexedChars&&Be(t)&&(t=t.split("")),null==e||n)return t?t[ue(0,t.length-1)]:p;var i=pn(t);return i.length=ir(nr(0,e),i.length),i}function pn(t){var e=-1,n=t?t.length:0,i=_i("number"==typeof n?n:0);return rn(t,function(t){var n=ue(0,++e);i[e]=i[n],i[n]=t}),i}function gn(t){var e=t?t.length:0;return"number"==typeof e?e:dr(t).length}function mn(t,e,n){var i;if(e=g.createCallback(e,n,3),hr(t))for(var r=-1,o=t.length;++r<o&&!(i=e(t[r],r,t)););else _r(t,function(t,n,r){return!(i=e(t,n,r))});return!!i}function vn(t,e,n){var i=-1,o=hr(e),s=t?t.length:0,u=_i("number"==typeof s?s:0);for(o||(e=g.createCallback(e,n,3)),rn(t,function(t,n,r){var s=u[++i]=l();o?s.criteria=an(e,function(e){return t[e]}):(s.criteria=a())[0]=e(t,n,r),s.index=i,s.value=t}),s=u.length,u.sort(r);s--;){var f=u[s];u[s]=f.value,o||c(f.criteria),h(f)}return u}function yn(t){return t&&"number"==typeof t.length?lr.unindexedChars&&Be(t)?t.split(""):f(t):Ge(t)}function bn(t){for(var e=-1,n=t?t.length:0,i=[];++e<n;){var r=t[e];r&&i.push(r)}return i}function wn(t){return re(t,se(arguments,!0,!0,1))}function _n(t,e,n){var i=-1,r=t?t.length:0;for(e=g.createCallback(e,n,3);++i<r;)if(e(t[i],i,t))return i;return-1}function xn(t,e,n){var i=t?t.length:0;for(e=g.createCallback(e,n,3);i--;)if(e(t[i],i,t))return i;return-1}function kn(t,e,n){var i=0,r=t?t.length:0;if("number"!=typeof e&&null!=e){var o=-1;for(e=g.createCallback(e,n,3);++o<r&&e(t[o],o,t);)i++}else if(i=e,null==i||n)return t?t[0]:p;return f(t,0,ir(nr(0,i),r))}function Cn(t,e,n,i){return"boolean"!=typeof e&&null!=e&&(i=n,n="function"!=typeof e&&i&&i[e]===t?null:e,e=!1),null!=n&&(t=an(t,n,i)),se(t,e)}function Tn(e,n,i){if("number"==typeof i){var r=e?e.length:0;i=0>i?nr(0,r+i):i||0}else if(i){var o=Dn(e,n);return e[o]===n?o:-1}return t(e,n,i)}function Sn(t,e,n){var i=0,r=t?t.length:0;if("number"!=typeof e&&null!=e){var o=r;for(e=g.createCallback(e,n,3);o--&&e(t[o],o,t);)i++}else i=null==e||n?1:e||i;return f(t,0,ir(nr(0,r-i),r))}function En(){for(var n=[],i=-1,r=arguments.length,s=a(),l=ge(),u=l===t,f=a();++i<r;){var d=arguments[i];(hr(d)||be(d))&&(n.push(d),s.push(u&&d.length>=w&&o(i?n[i]:f)))}var p=n[0],g=-1,m=p?p.length:0,v=[];t:for(;++g<m;){var y=s[0];if(d=p[g],(y?e(y,d):l(f,d))<0){for(i=r,(y||f).push(d);--i;)if(y=s[i],(y?e(y,d):l(n[i],d))<0)continue t;v.push(d)}}for(;r--;)y=s[r],y&&h(y);return c(s),c(f),v}function On(t,e,n){var i=0,r=t?t.length:0;if("number"!=typeof e&&null!=e){var o=r;for(e=g.createCallback(e,n,3);o--&&e(t[o],o,t);)i++}else if(i=e,null==i||n)return t?t[r-1]:p;return f(t,nr(0,r-i))}function jn(t,e,n){var i=t?t.length:0;for("number"==typeof n&&(i=(0>n?nr(0,i+n):ir(n,i-1))+1);i--;)if(t[i]===e)return i;return-1}function Pn(t){for(var e=arguments,n=0,i=e.length,r=t?t.length:0;++n<i;)for(var o=-1,s=e[n];++o<r;)t[o]===s&&(Ki.call(t,o--,1),r--);return t}function Nn(t,e,n){t=+t||0,n="number"==typeof n?n:+n||1,null==e&&(e=t,t=0);for(var i=-1,r=nr(0,Hi((e-t)/(n||1))),o=_i(r);++i<r;)o[i]=t,t+=n;return o}function An(t,e,n){var i=-1,r=t?t.length:0,o=[];for(e=g.createCallback(e,n,3);++i<r;){var s=t[i];e(s,i,t)&&(o.push(s),Ki.call(t,i--,1),r--)}return o}function Ln(t,e,n){if("number"!=typeof e&&null!=e){var i=0,r=-1,o=t?t.length:0;for(e=g.createCallback(e,n,3);++r<o&&e(t[r],r,t);)i++}else i=null==e||n?1:nr(0,e);return f(t,i)}function Dn(t,e,n,i){var r=0,o=t?t.length:r;for(n=n?g.createCallback(n,i,1):oi,e=n(e);o>r;){var s=r+o>>>1;n(t[s])<e?r=s+1:o=s}return r}function In(){return ce(se(arguments,!0,!0))}function Mn(t,e,n,i){return"boolean"!=typeof e&&null!=e&&(i=n,n="function"!=typeof e&&i&&i[e]===t?null:e,e=!1),null!=n&&(n=g.createCallback(n,i,3)),ce(t,e,n)}function Fn(t){return re(t,f(arguments,1))}function Rn(){for(var t=-1,e=arguments.length;++t<e;){var n=arguments[t];if(hr(n)||be(n))var i=i?ce(re(i,n).concat(re(n,i))):n}return i||[]}function Hn(){for(var t=arguments.length>1?arguments:arguments[0],e=-1,n=t?ln(Pr(t,"length")):0,i=_i(0>n?0:n);++e<n;)i[e]=Pr(t,e);return i}function $n(t,e){var n=-1,i=t?t.length:0,r={};for(e||!i||hr(t[0])||(e=[]);++n<i;){var o=t[n];e?r[o]=e[n]:o&&(r[o[0]]=o[1])}return r}function qn(t,e){if(!Me(e))throw new Ni;return function(){return--t<1?e.apply(this,arguments):void 0}}function Bn(t,e){return arguments.length>2?fe(t,17,f(arguments,2),null,e):fe(t,1,null,null,e)}function Un(t){for(var e=arguments.length>1?se(arguments,!0,!1,1):Ee(t),n=-1,i=e.length;++n<i;){var r=e[n];t[r]=fe(t[r],1,null,null,t)}return t}function Wn(t,e){return arguments.length>2?fe(e,19,f(arguments,2),null,t):fe(e,3,null,null,t)}function Vn(){for(var t=arguments,e=t.length;e--;)if(!Me(t[e]))throw new Ni;return function(){for(var e=arguments,n=t.length;n--;)e=[t[n].apply(this,e)];return e[0]}}function zn(t,e){return e="number"==typeof e?e:+e||t.length,fe(t,4,null,null,null,e)}function Xn(t,e,n){var i,r,o,s,a,l,u,c=0,h=!1,f=!0;if(!Me(t))throw new Ni;if(e=nr(0,e)||0,n===!0){var d=!0;f=!1}else Fe(n)&&(d=n.leading,h="maxWait"in n&&(nr(e,n.maxWait)||0),f="trailing"in n?n.trailing:f);var g=function(){var n=e-(Ar()-s);if(0>=n){r&&$i(r);var h=u;r=l=u=p,h&&(c=Ar(),o=t.apply(a,i),l||r||(i=a=null))}else l=Xi(g,n)},m=function(){l&&$i(l),r=l=u=p,(f||h!==e)&&(c=Ar(),o=t.apply(a,i),l||r||(i=a=null))};return function(){if(i=arguments,s=Ar(),a=this,u=f&&(l||!d),h===!1)var n=d&&!l;else{r||d||(c=s);var p=h-(s-c),v=0>=p;v?(r&&(r=$i(r)),c=s,o=t.apply(a,i)):r||(r=Xi(m,p))}return v&&l?l=$i(l):l||e===h||(l=Xi(g,e)),n&&(v=!0,o=t.apply(a,i)),!v||l||r||(i=a=null),o}}function Kn(t){if(!Me(t))throw new Ni;var e=f(arguments,1);return Xi(function(){t.apply(p,e)},1)}function Qn(t,e){if(!Me(t))throw new Ni;var n=f(arguments,2);return Xi(function(){t.apply(p,n)},e)}function Gn(t,e){if(!Me(t))throw new Ni;var n=function(){var i=n.cache,r=e?e.apply(this,arguments):b+arguments[0];return Wi.call(i,r)?i[r]:i[r]=t.apply(this,arguments)};return n.cache={},n}function Jn(t){var e,n;if(!Me(t))throw new Ni;return function(){return e?n:(e=!0,n=t.apply(this,arguments),t=null,n)}}function Yn(t){return fe(t,16,f(arguments,1))}function Zn(t){return fe(t,32,null,f(arguments,1))}function ti(t,e,n){var i=!0,r=!0;if(!Me(t))throw new Ni;return n===!1?i=!1:Fe(n)&&(i="leading"in n?n.leading:i,r="trailing"in n?n.trailing:r),Q.leading=i,Q.maxWait=e,Q.trailing=r,Xn(t,e,Q)}function ei(t,e){return fe(e,16,[t])}function ni(t){return function(){return t}}function ii(t,e,n){var i=typeof t;if(null==t||"function"==i)return ne(t,e,n);if("object"!=i)return ui(t);var r=dr(t),o=r[0],s=t[o];return 1!=r.length||s!==s||Fe(s)?function(e){for(var n=r.length,i=!1;n--&&(i=ae(e[r[n]],t[r[n]],null,!0)););return i}:function(t){var e=t[o];return s===e&&(0!==s||1/s==1/e)}}function ri(t){return null==t?"":Pi(t).replace(wr,pe)}function oi(t){return t}function si(t,e,n){var i=!0,r=e&&Ee(e);e&&(n||r.length)||(null==n&&(n=e),o=m,e=t,t=g,r=Ee(e)),n===!1?i=!1:Fe(n)&&"chain"in n&&(i=n.chain);var o=t,s=Me(o);rn(r,function(n){var r=t[n]=e[n];s&&(o.prototype[n]=function(){var e=this.__chain__,n=this.__wrapped__,s=[n];Vi.apply(s,arguments);var a=r.apply(t,s);if(i||e){if(n===a&&Fe(a))return this;a=new o(a),a.__chain__=e}return a})})}function ai(){return n._=Mi,this}function li(){}function ui(t){return function(e){return e[t]}}function ci(t,e,n){var i=null==t,r=null==e;if(null==n&&("boolean"==typeof t&&r?(n=t,t=1):r||"boolean"!=typeof e||(n=e,r=!0)),i&&r&&(e=1),t=+t||0,r?(e=t,t=0):e=+e||0,n||t%1||e%1){var o=or();return ir(t+o*(e-t+parseFloat("1e-"+((o+"").length-1))),e)}return ue(t,e)}function hi(t,e){if(t){var n=t[e];return Me(n)?t[e]():n}}function fi(t,e,n){var i=g.templateSettings;t=Pi(t||""),n=kr({},n,i);var r,o=kr({},n.imports,i.imports),a=dr(o),l=Ge(o),u=0,c=n.interpolate||A,h="__p += '",f=ji((n.escape||A).source+"|"+c.source+"|"+(c===P?E:A).source+"|"+(n.evaluate||A).source+"|$","g");t.replace(f,function(e,n,i,o,a,l){return i||(i=o),h+=t.slice(u,l).replace(D,s),n&&(h+="' +\n__e("+n+") +\n'"),a&&(r=!0,h+="';\n"+a+";\n__p += '"),i&&(h+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),u=l+e.length,e}),h+="';\n";var d=n.variable,m=d;m||(d="obj",h="with ("+d+") {\n"+h+"\n}\n"),h=(r?h.replace(C,""):h).replace(T,"$1").replace(S,"$1;"),h="function("+d+") {\n"+(m?"":d+" || ("+d+" = {});\n")+"var __t, __p = '', __e = _.escape"+(r?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var v="\n/*\n//# sourceURL="+(n.sourceURL||"/lodash/template/source["+F++ +"]")+"\n*/";try{var y=Ti(a,"return "+h+v).apply(p,l)}catch(b){throw b.source=h,b}return e?y(e):(y.source=h,y)}function di(t,e,n){t=(t=+t)>-1?t:0;var i=-1,r=_i(t);for(e=ne(e,n,1);++i<t;)r[i]=e(i);return r}function pi(t){return null==t?"":Pi(t).replace(br,ye)}function gi(t){var e=++v;return Pi(null==t?"":t)+e}function mi(t){return t=new m(t),t.__chain__=!0,t}function vi(t,e){return e(t),t}function yi(){return this.__chain__=!0,this}function bi(){return Pi(this.__wrapped__)}function wi(){return this.__wrapped__}n=n?oe.defaults(te.Object(),n,oe.pick(te,I)):te;var _i=n.Array,xi=n.Boolean,ki=n.Date,Ci=n.Error,Ti=n.Function,Si=n.Math,Ei=n.Number,Oi=n.Object,ji=n.RegExp,Pi=n.String,Ni=n.TypeError,Ai=[],Li=Ci.prototype,Di=Oi.prototype,Ii=Pi.prototype,Mi=n._,Fi=Di.toString,Ri=ji("^"+Pi(Fi).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),Hi=Si.ceil,$i=n.clearTimeout,qi=Si.floor,Bi=Ti.prototype.toString,Ui=me(Ui=Oi.getPrototypeOf)&&Ui,Wi=Di.hasOwnProperty,Vi=Ai.push,zi=Di.propertyIsEnumerable,Xi=n.setTimeout,Ki=Ai.splice,Qi=Ai.unshift,Gi=function(){try{var t={},e=me(e=Oi.defineProperty)&&e,n=e(t,t,t)&&e}catch(i){}return n}(),Ji=me(Ji=Oi.create)&&Ji,Yi=me(Yi=_i.isArray)&&Yi,Zi=n.isFinite,tr=n.isNaN,er=me(er=Oi.keys)&&er,nr=Si.max,ir=Si.min,rr=n.parseInt,or=Si.random,sr={};sr[H]=_i,sr[$]=xi,sr[q]=ki,sr[U]=Ti,sr[V]=Oi,sr[W]=Ei,sr[z]=ji,sr[X]=Pi;var ar={};ar[H]=ar[q]=ar[W]={constructor:!0,toLocaleString:!0,toString:!0,valueOf:!0},ar[$]=ar[X]={constructor:!0,toString:!0,valueOf:!0},ar[B]=ar[U]=ar[z]={constructor:!0,toString:!0},ar[V]={constructor:!0},function(){for(var t=M.length;t--;){var e=M[t];for(var n in ar)Wi.call(ar,n)&&!Wi.call(ar[n],e)&&(ar[n][e]=!1)}}(),m.prototype=g.prototype;var lr=g.support={};!function(){var t=function(){this.x=1},e={0:1,length:1},i=[];t.prototype={valueOf:1,y:1};for(var r in new t)i.push(r);for(r in arguments);lr.argsClass=Fi.call(arguments)==R,lr.argsObject=arguments.constructor==Oi&&!(arguments instanceof _i),lr.enumErrorProps=zi.call(Li,"message")||zi.call(Li,"name"),lr.enumPrototypes=zi.call(t,"prototype"),lr.funcDecomp=!me(n.WinRTError)&&L.test(d),lr.funcNames="string"==typeof Ti.name,lr.nonEnumArgs=0!=r,lr.nonEnumShadows=!/valueOf/.test(i),lr.ownLast="x"!=i[0],lr.spliceObjects=(Ai.splice.call(e,0,1),!e[0]),lr.unindexedChars="x"[0]+Oi("x")[0]!="xx";try{lr.nodeClass=!(Fi.call(document)==V&&!({toString:0}+""))}catch(o){lr.nodeClass=!0}}(1),g.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:P,variable:"",imports:{_:g}};var ur=function(t){var e="var index, iterable = "+t.firstArg+", result = "+t.init+";\nif (!iterable) return result;\n"+t.top+";";t.array?(e+="\nvar length = iterable.length; index = -1;\nif ("+t.array+") {  ",lr.unindexedChars&&(e+="\n  if (isString(iterable)) {\n    iterable = iterable.split('')\n  }  "),e+="\n  while (++index < length) {\n    "+t.loop+";\n  }\n}\nelse {  "):lr.nonEnumArgs&&(e+="\n  var length = iterable.length; index = -1;\n  if (length && isArguments(iterable)) {\n    while (++index < length) {\n      index += '';\n      "+t.loop+";\n    }\n  } else {  "),lr.enumPrototypes&&(e+="\n  var skipProto = typeof iterable == 'function';\n  "),lr.enumErrorProps&&(e+="\n  var skipErrorProps = iterable === errorProto || iterable instanceof Error;\n  ");var n=[];if(lr.enumPrototypes&&n.push('!(skipProto && index == "prototype")'),lr.enumErrorProps&&n.push('!(skipErrorProps && (index == "message" || index == "name"))'),t.useHas&&t.keys)e+="\n  var ownIndex = -1,\n      ownProps = objectTypes[typeof iterable] && keys(iterable),\n      length = ownProps ? ownProps.length : 0;\n\n  while (++ownIndex < length) {\n    index = ownProps[ownIndex];\n",n.length&&(e+="    if ("+n.join(" && ")+") {\n  "),e+=t.loop+";    ",n.length&&(e+="\n    }"),e+="\n  }  ";else if(e+="\n  for (index in iterable) {\n",t.useHas&&n.push("hasOwnProperty.call(iterable, index)"),n.length&&(e+="    if ("+n.join(" && ")+") {\n  "),e+=t.loop+";    ",n.length&&(e+="\n    }"),e+="\n  }    ",lr.nonEnumShadows){for(e+="\n\n  if (iterable !== objectProto) {\n    var ctor = iterable.constructor,\n        isProto = iterable === (ctor && ctor.prototype),\n        className = iterable === stringProto ? stringClass : iterable === errorProto ? errorClass : toString.call(iterable),\n        nonEnum = nonEnumProps[className];\n      ",k=0;7>k;k++)e+="\n    index = '"+t.shadowedProps[k]+"';\n    if ((!(isProto && nonEnum[index]) && hasOwnProperty.call(iterable, index))",t.useHas||(e+=" || (!nonEnum[index] && iterable[index] !== objectProto[index])"),e+=") {\n      "+t.loop+";\n    }      ";e+="\n  }    "}return(t.array||lr.nonEnumArgs)&&(e+="\n}"),e+=t.bottom+";\nreturn result"};Ji||(ee=function(){function t(){}return function(e){if(Fe(e)){t.prototype=e;var i=new t;t.prototype=null}return i||n.Object()}}());var cr=Gi?function(t,e){G.value=e,Gi(t,"__bindData__",G),G.value=null}:li;lr.argsClass||(be=function(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Wi.call(t,"callee")&&!zi.call(t,"callee")||!1});var hr=Yi||function(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Fi.call(t)==H||!1},fr=de({args:"object",init:"[]",top:"if (!(objectTypes[typeof object])) return result",loop:"result.push(index)"}),dr=er?function(t){return Fe(t)?lr.enumPrototypes&&"function"==typeof t||lr.nonEnumArgs&&t.length&&be(t)?fr(t):er(t):[]}:fr,pr={args:"collection, callback, thisArg",top:"callback = callback && typeof thisArg == 'undefined' ? callback : baseCreateCallback(callback, thisArg, 3)",array:"typeof length == 'number'",keys:dr,loop:"if (callback(iterable[index], index, collection) === false) return result"},gr={args:"object, source, guard",top:"var args = arguments,\n    argsIndex = 0,\n    argsLength = typeof guard == 'number' ? 2 : args.length;\nwhile (++argsIndex < argsLength) {\n  iterable = args[argsIndex];\n  if (iterable && objectTypes[typeof iterable]) {",keys:dr,loop:"if (typeof result[index] == 'undefined') result[index] = iterable[index]",bottom:"  }\n}"},mr={top:"if (!objectTypes[typeof iterable]) return result;\n"+pr.top,array:!1},vr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},yr=je(vr),br=ji("("+dr(yr).join("|")+")","g"),wr=ji("["+dr(vr).join("")+"]","g"),_r=de(pr),xr=de(gr,{top:gr.top.replace(";",";\nif (argsLength > 3 && typeof args[argsLength - 2] == 'function') {\n  var callback = baseCreateCallback(args[--argsLength - 1], args[argsLength--], 2);\n} else if (argsLength > 2 && typeof args[argsLength - 1] == 'function') {\n  callback = args[--argsLength];\n}"),loop:"result[index] = callback ? callback(result[index], iterable[index]) : iterable[index]"}),kr=de(gr),Cr=de(pr,mr,{useHas:!1}),Tr=de(pr,mr);Me(/x/)&&(Me=function(t){return"function"==typeof t&&Fi.call(t)==U});var Sr=Ui?function(t){if(!t||Fi.call(t)!=V||!lr.argsClass&&be(t))return!1;var e=t.valueOf,n=me(e)&&(n=Ui(e))&&Ui(n);return n?t==n||Ui(t)==n:ve(t)}:ve,Er=he(function(t,e,n){Wi.call(t,n)?t[n]++:t[n]=1}),Or=he(function(t,e,n){(Wi.call(t,n)?t[n]:t[n]=[]).push(e)}),jr=he(function(t,e,n){t[n]=e}),Pr=an,Nr=tn,Ar=me(Ar=ki.now)&&Ar||function(){return(new ki).getTime()},Lr=8==rr(x+"08")?rr:function(t,e){return rr(Be(t)?t.replace(N,""):t,e||0)};return g.after=qn,g.assign=xr,g.at=Je,g.bind=Bn,g.bindAll=Un,g.bindKey=Wn,g.chain=mi,g.compact=bn,g.compose=Vn,g.constant=ni,g.countBy=Er,g.create=xe,g.createCallback=ii,g.curry=zn,g.debounce=Xn,g.defaults=kr,g.defer=Kn,g.delay=Qn,g.difference=wn,g.filter=tn,g.flatten=Cn,g.forEach=rn,g.forEachRight=on,g.forIn=Cr,g.forInRight=Te,g.forOwn=Tr,g.forOwnRight=Se,g.functions=Ee,g.groupBy=Or,g.indexBy=jr,g.initial=Sn,g.intersection=En,g.invert=je,g.invoke=sn,g.keys=dr,g.map=an,g.mapValues=We,g.max=ln,g.memoize=Gn,g.merge=Ve,g.min=un,g.omit=ze,g.once=Jn,g.pairs=Xe,g.partial=Yn,g.partialRight=Zn,g.pick=Ke,g.pluck=Pr,g.property=ui,g.pull=Pn,g.range=Nn,g.reject=fn,g.remove=An,g.rest=Ln,g.shuffle=pn,g.sortBy=vn,g.tap=vi,g.throttle=ti,g.times=di,g.toArray=yn,g.transform=Qe,g.union=In,g.uniq=Mn,g.values=Ge,g.where=Nr,g.without=Fn,g.wrap=ei,g.xor=Rn,g.zip=Hn,g.zipObject=$n,g.collect=an,g.drop=Ln,g.each=rn,g.eachRight=on,g.extend=xr,g.methods=Ee,g.object=$n,g.select=tn,g.tail=Ln,g.unique=Mn,g.unzip=Hn,si(g),g.clone=we,g.cloneDeep=_e,g.contains=Ye,g.escape=ri,g.every=Ze,g.find=en,g.findIndex=_n,g.findKey=ke,g.findLast=nn,g.findLastIndex=xn,g.findLastKey=Ce,g.has=Oe,g.identity=oi,g.indexOf=Tn,g.isArguments=be,g.isArray=hr,g.isBoolean=Pe,g.isDate=Ne,g.isElement=Ae,g.isEmpty=Le,g.isEqual=De,g.isFinite=Ie,g.isFunction=Me,g.isNaN=Re,g.isNull=He,g.isNumber=$e,g.isObject=Fe,g.isPlainObject=Sr,g.isRegExp=qe,g.isString=Be,g.isUndefined=Ue,g.lastIndexOf=jn,g.mixin=si,g.noConflict=ai,g.noop=li,g.now=Ar,g.parseInt=Lr,g.random=ci,g.reduce=cn,g.reduceRight=hn,g.result=hi,g.runInContext=d,g.size=gn,g.some=mn,g.sortedIndex=Dn,g.template=fi,g.unescape=pi,g.uniqueId=gi,g.all=Ze,g.any=mn,g.detect=en,g.findWhere=en,g.foldl=cn,g.foldr=hn,g.include=Ye,g.inject=cn,si(function(){var t={};return Tr(g,function(e,n){g.prototype[n]||(t[n]=e)}),t}(),!1),g.first=kn,g.last=On,g.sample=dn,g.take=kn,g.head=kn,Tr(g,function(t,e){var n="sample"!==e;g.prototype[e]||(g.prototype[e]=function(e,i){var r=this.__chain__,o=t(this.__wrapped__,e,i);return r||null!=e&&(!i||n&&"function"==typeof e)?new m(o,r):o})}),g.VERSION="2.4.2",g.prototype.chain=yi,g.prototype.toString=bi,g.prototype.value=wi,g.prototype.valueOf=wi,_r(["join","pop","shift"],function(t){var e=Ai[t];g.prototype[t]=function(){var t=this.__chain__,n=e.apply(this.__wrapped__,arguments);return t?new m(n,t):n}}),_r(["push","reverse","sort","unshift"],function(t){var e=Ai[t];g.prototype[t]=function(){return e.apply(this.__wrapped__,arguments),this}}),_r(["concat","slice","splice"],function(t){var e=Ai[t];g.prototype[t]=function(){return new m(e.apply(this.__wrapped__,arguments),this.__chain__)
}}),lr.spliceObjects||_r(["pop","shift","splice"],function(t){var e=Ai[t],n="splice"==t;g.prototype[t]=function(){var t=this.__chain__,i=this.__wrapped__,r=e.apply(i,arguments);return 0===i.length&&delete i[0],t||n?new m(r,t):r}}),g}var p,g=[],m=[],v=0,y={},b=+new Date+"",w=75,_=40,x=" 	\f ﻿\n\r\u2028\u2029 ᠎             　",C=/\b__p \+= '';/g,T=/\b(__p \+=) '' \+/g,S=/(__e\(.*?\)|\b__t\)) \+\n'';/g,E=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,O=/\w*$/,j=/^\s*function[ \n\r\t]+\w/,P=/<%=([\s\S]+?)%>/g,N=RegExp("^["+x+"]*0+(?=.$)"),A=/($^)/,L=/\bthis\b/,D=/['\n\r\t\u2028\u2029\\]/g,I=["Array","Boolean","Date","Error","Function","Math","Number","Object","RegExp","String","_","attachEvent","clearTimeout","isFinite","isNaN","parseInt","setTimeout"],M=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],F=0,R="[object Arguments]",H="[object Array]",$="[object Boolean]",q="[object Date]",B="[object Error]",U="[object Function]",W="[object Number]",V="[object Object]",z="[object RegExp]",X="[object String]",K={};K[U]=!1,K[R]=K[H]=K[$]=K[q]=K[W]=K[V]=K[z]=K[X]=!0;var Q={leading:!1,maxWait:0,trailing:!1},G={configurable:!1,enumerable:!1,value:null,writable:!1},J={args:"",array:null,bottom:"",firstArg:"",init:"",keys:null,loop:"",shadowedProps:null,support:null,top:"",useHas:!1},Y={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},Z={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"},te=Y[typeof window]&&window||this,ee=Y[typeof exports]&&exports&&!exports.nodeType&&exports,ne=Y[typeof module]&&module&&!module.nodeType&&module,ie=ne&&ne.exports===ee&&ee,re=Y[typeof global]&&global;!re||re.global!==re&&re.window!==re||(te=re);var oe=d();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(te._=oe,define(function(){return oe})):ee&&ne?ie?(ne.exports=oe)._=oe:ee._=oe:te._=oe}.call(this),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){function e(e,i){var r,o,s,a=e.nodeName.toLowerCase();return"area"===a?(r=e.parentNode,o=r.name,e.href&&o&&"map"===r.nodeName.toLowerCase()?(s=t("img[usemap='#"+o+"']")[0],!!s&&n(s)):!1):(/^(input|select|textarea|button|object)$/.test(a)?!e.disabled:"a"===a?e.href||i:i)&&n(e)}function n(e){return t.expr.filters.visible(e)&&!t(e).parents().addBack().filter(function(){return"hidden"===t.css(this,"visibility")}).length}t.ui=t.ui||{},t.extend(t.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({scrollParent:function(e){var n=this.css("position"),i="absolute"===n,r=e?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var e=t(this);return i&&"static"===e.css("position")?!1:r.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==n&&o.length?o:t(this[0].ownerDocument||document)},uniqueId:function(){var t=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++t)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")})}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(n){return!!t.data(n,e)}}):function(e,n,i){return!!t.data(e,i[3])},focusable:function(n){return e(n,!isNaN(t.attr(n,"tabindex")))},tabbable:function(n){var i=t.attr(n,"tabindex"),r=isNaN(i);return(r||i>=0)&&e(n,!r)}}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],function(e,n){function i(e,n,i,o){return t.each(r,function(){n-=parseFloat(t.css(e,"padding"+this))||0,i&&(n-=parseFloat(t.css(e,"border"+this+"Width"))||0),o&&(n-=parseFloat(t.css(e,"margin"+this))||0)}),n}var r="Width"===n?["Left","Right"]:["Top","Bottom"],o=n.toLowerCase(),s={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+n]=function(e){return void 0===e?s["inner"+n].call(this):this.each(function(){t(this).css(o,i(this,e)+"px")})},t.fn["outer"+n]=function(e,r){return"number"!=typeof e?s["outer"+n].call(this,e):this.each(function(){t(this).css(o,i(this,e,!0,r)+"px")})}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(t.fn.removeData=function(e){return function(n){return arguments.length?e.call(this,t.camelCase(n)):e.call(this)}}(t.fn.removeData)),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),t.fn.extend({focus:function(e){return function(n,i){return"number"==typeof n?this.each(function(){var e=this;setTimeout(function(){t(e).focus(),i&&i.call(e)},n)}):e.apply(this,arguments)}}(t.fn.focus),disableSelection:function(){var t="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(t+".ui-disableSelection",function(t){t.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(e){if(void 0!==e)return this.css("zIndex",e);if(this.length)for(var n,i,r=t(this[0]);r.length&&r[0]!==document;){if(n=r.css("position"),("absolute"===n||"relative"===n||"fixed"===n)&&(i=parseInt(r.css("zIndex"),10),!isNaN(i)&&0!==i))return i;r=r.parent()}return 0}}),t.ui.plugin={add:function(e,n,i){var r,o=t.ui[e].prototype;for(r in i)o.plugins[r]=o.plugins[r]||[],o.plugins[r].push([n,i[r]])},call:function(t,e,n,i){var r,o=t.plugins[e];if(o&&(i||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(r=0;r<o.length;r++)t.options[o[r][0]]&&o[r][1].apply(t.element,n)}}}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){var e=0,n=Array.prototype.slice;return t.cleanData=function(e){return function(n){var i,r,o;for(o=0;null!=(r=n[o]);o++)try{i=t._data(r,"events"),i&&i.remove&&t(r).triggerHandler("remove")}catch(s){}e(n)}}(t.cleanData),t.widget=function(e,n,i){var r,o,s,a,l={},u=e.split(".")[0];return e=e.split(".")[1],r=u+"-"+e,i||(i=n,n=t.Widget),t.expr[":"][r.toLowerCase()]=function(e){return!!t.data(e,r)},t[u]=t[u]||{},o=t[u][e],s=t[u][e]=function(t,e){return this._createWidget?void(arguments.length&&this._createWidget(t,e)):new s(t,e)},t.extend(s,o,{version:i.version,_proto:t.extend({},i),_childConstructors:[]}),a=new n,a.options=t.widget.extend({},a.options),t.each(i,function(e,i){return t.isFunction(i)?void(l[e]=function(){var t=function(){return n.prototype[e].apply(this,arguments)},r=function(t){return n.prototype[e].apply(this,t)};return function(){var e,n=this._super,o=this._superApply;return this._super=t,this._superApply=r,e=i.apply(this,arguments),this._super=n,this._superApply=o,e}}()):void(l[e]=i)}),s.prototype=t.widget.extend(a,{widgetEventPrefix:o?a.widgetEventPrefix||e:e},l,{constructor:s,namespace:u,widgetName:e,widgetFullName:r}),o?(t.each(o._childConstructors,function(e,n){var i=n.prototype;t.widget(i.namespace+"."+i.widgetName,s,n._proto)}),delete o._childConstructors):n._childConstructors.push(s),t.widget.bridge(e,s),s},t.widget.extend=function(e){for(var i,r,o=n.call(arguments,1),s=0,a=o.length;a>s;s++)for(i in o[s])r=o[s][i],o[s].hasOwnProperty(i)&&void 0!==r&&(e[i]=t.isPlainObject(r)?t.isPlainObject(e[i])?t.widget.extend({},e[i],r):t.widget.extend({},r):r);return e},t.widget.bridge=function(e,i){var r=i.prototype.widgetFullName||e;t.fn[e]=function(o){var s="string"==typeof o,a=n.call(arguments,1),l=this;return s?this.each(function(){var n,i=t.data(this,r);return"instance"===o?(l=i,!1):i?t.isFunction(i[o])&&"_"!==o.charAt(0)?(n=i[o].apply(i,a),n!==i&&void 0!==n?(l=n&&n.jquery?l.pushStack(n.get()):n,!1):void 0):t.error("no such method '"+o+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+o+"'")}):(a.length&&(o=t.widget.extend.apply(null,[o].concat(a))),this.each(function(){var e=t.data(this,r);e?(e.option(o||{}),e._init&&e._init()):t.data(this,r,new i(o,this))})),l}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(n,i){i=t(i||this.defaultElement||this)[0],this.element=t(i),this.uuid=e++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),i!==this&&(t.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===i&&this.destroy()}}),this.document=t(i.style?i.ownerDocument:i.document||i),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),n),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(e,n){var i,r,o,s=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(s={},i=e.split("."),e=i.shift(),i.length){for(r=s[e]=t.widget.extend({},this.options[e]),o=0;o<i.length-1;o++)r[i[o]]=r[i[o]]||{},r=r[i[o]];if(e=i.pop(),1===arguments.length)return void 0===r[e]?null:r[e];r[e]=n}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];s[e]=n}return this._setOptions(s),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!e),e&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(e,n,i){var r,o=this;"boolean"!=typeof e&&(i=n,n=e,e=!1),i?(n=r=t(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,r=this.widget()),t.each(i,function(i,s){function a(){return e||o.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled")?("string"==typeof s?o[s]:s).apply(o,arguments):void 0}"string"!=typeof s&&(a.guid=s.guid=s.guid||a.guid||t.guid++);var l=i.match(/^([\w:-]*)\s*(.*)$/),u=l[1]+o.eventNamespace,c=l[2];c?r.delegate(c,u,a):n.bind(u,a)})},_off:function(e,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(n).undelegate(n),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){function n(){return("string"==typeof t?i[t]:t).apply(i,arguments)}var i=this;return setTimeout(n,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,n,i){var r,o,s=this.options[e];if(i=i||{},n=t.Event(n),n.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(r in o)r in n||(n[r]=o[r]);return this.element.trigger(n,i),!(t.isFunction(s)&&s.apply(this.element[0],[n].concat(i))===!1||n.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,n){t.Widget.prototype["_"+e]=function(i,r,o){"string"==typeof r&&(r={effect:r});var s,a=r?r===!0||"number"==typeof r?n:r.effect||n:e;r=r||{},"number"==typeof r&&(r={duration:r}),s=!t.isEmptyObject(r),r.complete=o,r.delay&&i.delay(r.delay),s&&t.effects&&t.effects.effect[a]?i[e](r):a!==e&&i[a]?i[a](r.duration,r.easing,o):i.queue(function(n){t(this)[e](),o&&o.call(i[0]),n()})}}),t.widget}),function(t){"function"==typeof define&&define.amd?define(["jquery","./widget"],t):t(jQuery)}(function(t){var e=!1;return t(document).mouseup(function(){e=!1}),t.widget("ui.mouse",{version:"1.11.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(n){return!0===t.data(n.target,e.widgetName+".preventClickEvent")?(t.removeData(n.target,e.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(n){if(!e){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(n),this._mouseDownEvent=n;var i=this,r=1===n.which,o="string"==typeof this.options.cancel&&n.target.nodeName?t(n.target).closest(this.options.cancel).length:!1;return r&&!o&&this._mouseCapture(n)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(n)&&this._mouseDelayMet(n)&&(this._mouseStarted=this._mouseStart(n)!==!1,!this._mouseStarted)?(n.preventDefault(),!0):(!0===t.data(n.target,this.widgetName+".preventClickEvent")&&t.removeData(n.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return i._mouseMove(t)},this._mouseUpDelegate=function(t){return i._mouseUp(t)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),n.preventDefault(),e=!0,!0)):!0}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button)return this._mouseUp(e);if(!e.which)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(n){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,n.target===this._mouseDownEvent.target&&t.data(n.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(n)),e=!1,!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}),function(t){"function"==typeof define&&define.amd?define(["jquery","./core","./mouse","./widget"],t):t(jQuery)}(function(t){return t.widget("ui.sortable",t.ui.mouse,{version:"1.11.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,n){return t>=e&&e+n>t},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),t.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,n){var i=null,r=!1,o=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(e),t(e.target).parents().each(function(){return t.data(this,o.widgetName+"-item")===o?(i=t(this),!1):void 0}),t.data(e.target,o.widgetName+"-item")===o&&(i=t(e.target)),i&&(!this.options.handle||n||(t(this.options.handle,i).find("*").addBack().each(function(){this===e.target&&(r=!0)}),r))?(this.currentItem=i,this._removeCurrentsFromItems(),!0):!1)},_mouseStart:function(e,n,i){var r,o,s=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,s.cursorAt&&this._adjustOffsetFromHelper(s.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),s.containment&&this._setContainment(),s.cursor&&"auto"!==s.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",s.cursor),this.storedStylesheet=t("<style>*{ cursor: "+s.cursor+" !important; }</style>").appendTo(o)),s.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",s.opacity)),s.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",s.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(r=this.containers.length-1;r>=0;r--)this.containers[r]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var n,i,r,o,s=this.options,a=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<s.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+s.scrollSpeed:e.pageY-this.overflowOffset.top<s.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-s.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<s.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+s.scrollSpeed:e.pageX-this.overflowOffset.left<s.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-s.scrollSpeed)):(e.pageY-this.document.scrollTop()<s.scrollSensitivity?a=this.document.scrollTop(this.document.scrollTop()-s.scrollSpeed):this.window.height()-(e.pageY-this.document.scrollTop())<s.scrollSensitivity&&(a=this.document.scrollTop(this.document.scrollTop()+s.scrollSpeed)),e.pageX-this.document.scrollLeft()<s.scrollSensitivity?a=this.document.scrollLeft(this.document.scrollLeft()-s.scrollSpeed):this.window.width()-(e.pageX-this.document.scrollLeft())<s.scrollSensitivity&&(a=this.document.scrollLeft(this.document.scrollLeft()+s.scrollSpeed))),a!==!1&&t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),n=this.items.length-1;n>=0;n--)if(i=this.items[n],r=i.item[0],o=this._intersectsWithPointer(i),o&&i.instance===this.currentContainer&&r!==this.currentItem[0]&&this.placeholder[1===o?"next":"prev"]()[0]!==r&&!t.contains(this.placeholder[0],r)&&("semi-dynamic"===this.options.type?!t.contains(this.element[0],r):!0)){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(i))break;this._rearrange(e,i),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,n){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var i=this,r=this.placeholder.offset(),o=this.options.axis,s={};o&&"x"!==o||(s.left=r.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(s.top=r.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(s,parseInt(this.options.revert,10)||500,function(){i._clear(e)})}else this._clear(e,n);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var n=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},t(n).each(function(){var n=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);n&&i.push((e.key||n[1]+"[]")+"="+(e.key&&e.expression?n[1]:n[2]))}),!i.length&&e.key&&i.push(e.key+"="),i.join("&")},toArray:function(e){var n=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},n.each(function(){i.push(t(e.item||this).attr(e.attribute||"id")||"")}),i},_intersectsWith:function(t){var e=this.positionAbs.left,n=e+this.helperProportions.width,i=this.positionAbs.top,r=i+this.helperProportions.height,o=t.left,s=o+t.width,a=t.top,l=a+t.height,u=this.offset.click.top,c=this.offset.click.left,h="x"===this.options.axis||i+u>a&&l>i+u,f="y"===this.options.axis||e+c>o&&s>e+c,d=h&&f;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?d:o<e+this.helperProportions.width/2&&n-this.helperProportions.width/2<s&&a<i+this.helperProportions.height/2&&r-this.helperProportions.height/2<l},_intersectsWithPointer:function(t){var e="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),n="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),i=e&&n,r=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return i?this.floating?o&&"right"===o||"down"===r?2:1:r&&("down"===r?2:1):!1},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),n=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),i=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return this.floating&&r?"right"===r&&n||"left"===r&&!n:i&&("down"===i&&e||"up"===i&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){function n(){a.push(this)}var i,r,o,s,a=[],l=[],u=this._connectWith();if(u&&e)for(i=u.length-1;i>=0;i--)for(o=t(u[i],this.document[0]),r=o.length-1;r>=0;r--)s=t.data(o[r],this.widgetFullName),s&&s!==this&&!s.options.disabled&&l.push([t.isFunction(s.options.items)?s.options.items.call(s.element):t(s.options.items,s.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),s]);for(l.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),i=l.length-1;i>=0;i--)l[i][0].each(n);return t(a)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var n=0;n<e.length;n++)if(e[n]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var n,i,r,o,s,a,l,u,c=this.items,h=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],f=this._connectWith();if(f&&this.ready)for(n=f.length-1;n>=0;n--)for(r=t(f[n],this.document[0]),i=r.length-1;i>=0;i--)o=t.data(r[i],this.widgetFullName),o&&o!==this&&!o.options.disabled&&(h.push([t.isFunction(o.options.items)?o.options.items.call(o.element[0],e,{item:this.currentItem}):t(o.options.items,o.element),o]),this.containers.push(o));for(n=h.length-1;n>=0;n--)for(s=h[n][1],a=h[n][0],i=0,u=a.length;u>i;i++)l=t(a[i]),l.data(this.widgetName+"-item",s),c.push({item:l,instance:s,width:0,height:0,left:0,top:0})},refreshPositions:function(e){this.floating=this.items.length?"x"===this.options.axis||this._isFloating(this.items[0].item):!1,this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var n,i,r,o;for(n=this.items.length-1;n>=0;n--)i=this.items[n],i.instance!==this.currentContainer&&this.currentContainer&&i.item[0]!==this.currentItem[0]||(r=this.options.toleranceElement?t(this.options.toleranceElement,i.item):i.item,e||(i.width=r.outerWidth(),i.height=r.outerHeight()),o=r.offset(),i.left=o.left,i.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--)o=this.containers[n].element.offset(),this.containers[n].containerCache.left=o.left,this.containers[n].containerCache.top=o.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight();return this},_createPlaceholder:function(e){e=e||this;var n,i=e.options;i.placeholder&&i.placeholder.constructor!==String||(n=i.placeholder,i.placeholder={element:function(){var i=e.currentItem[0].nodeName.toLowerCase(),r=t("<"+i+">",e.document[0]).addClass(n||e.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tbody"===i?e._createTrPlaceholder(e.currentItem.find("tr").eq(0),t("<tr>",e.document[0]).appendTo(r)):"tr"===i?e._createTrPlaceholder(e.currentItem,r):"img"===i&&r.attr("src",e.currentItem.attr("src")),n||r.css("visibility","hidden"),r},update:function(t,r){(!n||i.forcePlaceholderSize)&&(r.height()||r.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),r.width()||r.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(i.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),i.placeholder.update(e,e.placeholder)},_createTrPlaceholder:function(e,n){var i=this;e.children().each(function(){t("<td>&#160;</td>",i.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(n)})},_contactContainers:function(e){var n,i,r,o,s,a,l,u,c,h,f=null,d=null;for(n=this.containers.length-1;n>=0;n--)if(!t.contains(this.currentItem[0],this.containers[n].element[0]))if(this._intersectsWith(this.containers[n].containerCache)){if(f&&t.contains(this.containers[n].element[0],f.element[0]))continue;f=this.containers[n],d=n}else this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",e,this._uiHash(this)),this.containers[n].containerCache.over=0);if(f)if(1===this.containers.length)this.containers[d].containerCache.over||(this.containers[d]._trigger("over",e,this._uiHash(this)),this.containers[d].containerCache.over=1);else{for(r=1e4,o=null,c=f.floating||this._isFloating(this.currentItem),s=c?"left":"top",a=c?"width":"height",h=c?"clientX":"clientY",i=this.items.length-1;i>=0;i--)t.contains(this.containers[d].element[0],this.items[i].item[0])&&this.items[i].item[0]!==this.currentItem[0]&&(l=this.items[i].item.offset()[s],u=!1,e[h]-l>this.items[i][a]/2&&(u=!0),Math.abs(e[h]-l)<r&&(r=Math.abs(e[h]-l),o=this.items[i],this.direction=u?"up":"down"));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[d])return void(this.currentContainer.containerCache.over||(this.containers[d]._trigger("over",e,this._uiHash()),this.currentContainer.containerCache.over=1));o?this._rearrange(e,o,null,!0):this._rearrange(e,null,this.containers[d].element,!0),this._trigger("change",e,this._uiHash()),this.containers[d]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[d],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[d]._trigger("over",e,this._uiHash(this)),this.containers[d].containerCache.over=1}},_createHelper:function(e){var n=this.options,i=t.isFunction(n.helper)?t(n.helper.apply(this.element[0],[e,this.currentItem])):"clone"===n.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||t("parent"!==n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!i[0].style.width||n.forceHelperSize)&&i.width(this.currentItem.width()),(!i[0].style.height||n.forceHelperSize)&&i.height(this.currentItem.height()),i
},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,n,i,r=this.options;"parent"===r.containment&&(r.containment=this.helper[0].parentNode),("document"===r.containment||"window"===r.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===r.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===r.containment?this.document.width():this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(r.containment)||(e=t(r.containment)[0],n=t(r.containment).offset(),i="hidden"!==t(e).css("overflow"),this.containment=[n.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,n.left+(i?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(i?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,n){n||(n=this.position);var i="absolute"===e?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(r[0].tagName);return{top:n.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:r.scrollTop())*i,left:n.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:r.scrollLeft())*i}},_generatePosition:function(e){var n,i,r=this.options,o=e.pageX,s=e.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(a[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(s=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(s=this.containment[3]+this.offset.click.top)),r.grid&&(n=this.originalPageY+Math.round((s-this.originalPageY)/r.grid[1])*r.grid[1],s=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-r.grid[1]:n+r.grid[1]:n,i=this.originalPageX+Math.round((o-this.originalPageX)/r.grid[0])*r.grid[0],o=this.containment?i-this.offset.click.left>=this.containment[0]&&i-this.offset.click.left<=this.containment[2]?i:i-this.offset.click.left>=this.containment[0]?i-r.grid[0]:i+r.grid[0]:i)),{top:s-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:a.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:a.scrollLeft())}},_rearrange:function(t,e,n,i){n?n[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){r===this.counter&&this.refreshPositions(!i)})},_clear:function(t,e){function n(t,e,n){return function(i){n._trigger(t,i,e._uiHash(e))}}this.reverting=!1;var i,r=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)("auto"===this._storedCSS[i]||"static"===this._storedCSS[i])&&(this._storedCSS[i]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&r.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||r.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(r.push(function(t){this._trigger("remove",t,this._uiHash())}),r.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),r.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;i>=0;i--)e||r.push(n("deactivate",this,this.containers[i])),this.containers[i].containerCache.over&&(r.push(n("out",this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!e){for(i=0;i<r.length;i++)r[i].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){t.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(e){var n=e||this;return{helper:n.helper,placeholder:n.placeholder||t([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:e?e.element:null}}})}),function(t){if("function"==typeof define&&define.amd)define(t);else if("object"==typeof exports)module.exports=t();else{var e=window.Cookies,n=window.Cookies=t(window.jQuery);n.noConflict=function(){return window.Cookies=e,n}}}(function(){function t(){for(var t=0,e={};t<arguments.length;t++){var n=arguments[t];for(var i in n)e[i]=n[i]}return e}function e(n){function i(e,r,o){var s;if(arguments.length>1){if(o=t({path:"/"},i.defaults,o),"number"==typeof o.expires){var a=new Date;a.setMilliseconds(a.getMilliseconds()+864e5*o.expires),o.expires=a}try{s=JSON.stringify(r),/^[\{\[]/.test(s)&&(r=s)}catch(l){}return r=encodeURIComponent(String(r)),r=r.replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)),e=e.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),e=e.replace(/[\(\)]/g,escape),document.cookie=[e,"=",r,o.expires&&"; expires="+o.expires.toUTCString(),o.path&&"; path="+o.path,o.domain&&"; domain="+o.domain,o.secure?"; secure":""].join("")}e||(s={});for(var u=document.cookie?document.cookie.split("; "):[],c=/(%[0-9A-Z]{2})+/g,h=0;h<u.length;h++){var f=u[h].split("="),d=f[0].replace(c,decodeURIComponent),p=f.slice(1).join("=");if('"'===p.charAt(0)&&(p=p.slice(1,-1)),p=n&&n(p,d)||p.replace(c,decodeURIComponent),this.json)try{p=JSON.parse(p)}catch(l){}if(e===d){s=p;break}e||(s[d]=p)}return s}return i.get=i.set=i,i.getJSON=function(){return i.apply({json:!0},[].slice.call(arguments))},i.defaults={},i.remove=function(e,n){i(e,"",t(n,{expires:-1}))},i.withConverter=e,i}return e()}),function(t){"$:nomunge";function e(e){function i(){e?s.removeData(e):f&&delete n[f]}function o(){l.id=setTimeout(function(){l.fn()},d)}var s,a=this,l={},u=e?t.fn:t,c=arguments,h=4,f=c[1],d=c[2],p=c[3];if("string"!=typeof f&&(h--,f=e=0,d=c[1],p=c[2]),e?(s=a.eq(0),s.data(e,l=s.data(e)||{})):f&&(l=n[f]||(n[f]={})),l.id&&clearTimeout(l.id),delete l.id,p)l.fn=function(t){"string"==typeof p&&(p=u[p]),p.apply(a,r.call(c,h))!==!0||t?i():o()},o();else{if(l.fn)return void 0===d?i():l.fn(d===!1),!0;i()}}var n={},i="doTimeout",r=Array.prototype.slice;t[i]=function(){return e.apply(window,[0].concat(r.call(arguments)))},t.fn[i]=function(){var t=r.call(arguments),n=e.apply(this,[i+t[0]].concat(t));return"number"==typeof t[0]||"number"==typeof t[1]?this:n}}(jQuery),function(t){function e(t,e){var n,i=t.apiendpoint,r="",o=t.callbackparameter||"callback";i+=i.indexOf("?")<=0?"?":"&",null!=t.maxWidth&&null==t.params.maxwidth&&(t.params.maxwidth=t.maxWidth),null!=t.maxHeight&&null==t.params.maxheight&&(t.params.maxheight=t.maxHeight);for(n in t.params)n!=t.callbackparameter&&null!=t.params[n]&&(r+="&"+escape(n)+"="+t.params[n]);return i+="format=json&url="+escape(e)+r+"&"+o+"=?"}function n(n,i,r){var o=e(r,i),s=t.extend({url:o,type:"get",dataType:"json",success:function(e){var r=t.extend({},e);switch(r.type){case"photo":r.code=t.fn.oembed.getPhotoCode(i,r);break;case"video":r.code=t.fn.oembed.getVideoCode(i,r);break;case"rich":r.code=t.fn.oembed.getRichCode(i,r);break;default:r.code=t.fn.oembed.getGenericCode(i,r)}a.beforeEmbed.call(n,r),a.onEmbed.call(n,r),a.afterEmbed.call(n,r)},error:a.onError.call(n,i,r)},a.ajaxOptions||{});t.ajax(s)}function i(){l=[];var e,n,i,o=[];if(s(a.allowedProviders))l=t.fn.oembed.providers;else{for(n=0;n<t.fn.oembed.providers.length;n++)t.inArray(t.fn.oembed.providers[n].name,a.allowedProviders)>=0&&l.push(t.fn.oembed.providers[n]);a.greedy=!1}if(!s(a.disallowedProviders)){for(n=0;n<l.length;n++)t.inArray(l[n].name,a.disallowedProviders)<0&&o.push(l[n]);l=o,a.greedy=!1}for(s(a.customProviders)||t.each(a.customProviders,function(e,n){n instanceof t.fn.oembed.OEmbedProvider?l.push(i):(i=new t.fn.oembed.OEmbedProvider,i.fromJSON(n)&&l.push(i))}),e=r(a.defaultOEmbedProvider),a.greedy===!0&&l.push(e),n=0;n<l.length;n++)null===l[n].apiendpoint&&(l[n].apiendpoint=e.apiendpoint)}function r(e){var n="http://oohembed.com/oohembed/";return"embed.ly"==e&&(n="http://api.embed.ly/v1/api/oembed?"),new t.fn.oembed.OEmbedProvider(e,null,null,n,"callback")}function o(t){if(null===t)return null;var e,n={};for(e in t)null!==e&&(n[e.toLowerCase()]=t[e]);return n}function s(e){return"undefined"==typeof e?!0:null===e?!0:t.isArray(e)&&0===e.length?!0:!1}t.fn.oembed=function(e,r,s){return a=t.extend(!0,t.fn.oembed.defaults,r),i(),this.each(function(){var i,r=t(this),l=null!=e?e:r.attr("href");return a.onEmbed=s?s:function(e){t.fn.oembed.insertCode(this,a.embedMethod,e)},null!=l&&(i=t.fn.oembed.getOEmbedProvider(l),null!=i?(i.params=o(a[i.name])||{},i.maxWidth=a.maxWidth,i.maxHeight=a.maxHeight,n(r,l,i)):a.onProviderNotFound.call(r,l)),r})};var a,l=[];t.fn.oembed.defaults={maxWidth:null,maxHeight:null,embedMethod:"replace",defaultOEmbedProvider:"oohembed",allowedProviders:null,disallowedProviders:null,customProviders:null,defaultProvider:null,greedy:!0,onProviderNotFound:function(){},beforeEmbed:function(){},afterEmbed:function(){},onEmbed:function(){},onError:function(){},ajaxOptions:{}},t.fn.oembed.insertCode=function(e,n,i){if(null!==i)switch(n){case"auto":null!==e.attr("href")?t.fn.oembed.insertCode(e,"append",i):t.fn.oembed.insertCode(e,"replace",i);break;case"replace":e.replaceWith(i.code);break;case"fill":e.html(i.code);break;case"append":var r=e.next();null!==r&&r.hasClass("oembed-container")||(r=e.after('<div class="oembed-container"></div>').next(".oembed-container"),null!==i&&null!==i.provider_name&&r.toggleClass("oembed-container-"+i.provider_name)),r.html(i.code)}},t.fn.oembed.getPhotoCode=function(t,e){var n,i=e.title?e.title:"";return i+=e.author_name?" - "+e.author_name:"",i+=e.provider_name?" - "+e.provider_name:"",n='<div><a href="'+t+"\" target='_blank'><img src=\""+e.url+'" alt="'+i+'"/></a></div>',e.html&&(n+="<div>"+e.html+"</div>"),n},t.fn.oembed.getVideoCode=function(t,e){var n=e.html;return n},t.fn.oembed.getRichCode=function(t,e){var n=e.html;return n},t.fn.oembed.getGenericCode=function(t,e){var n=null!==e.title?e.title:t,i='<a href="'+t+'">'+n+"</a>";return e.html&&(i+="<div>"+e.html+"</div>"),i},t.fn.oembed.isProviderAvailable=function(t){var e=getOEmbedProvider(t);return null!==e},t.fn.oembed.getOEmbedProvider=function(t){for(var e=0;e<l.length;e++)if(l[e].matches(t))return l[e];return null},t.fn.oembed.OEmbedProvider=function(e,n,i,r,o){function a(e){return s(e)?["."]:t.isArray(e)?e:e.split(";")}this.name=e,this.type=n,this.urlschemes=a(i),this.apiendpoint=r,this.callbackparameter=o,this.maxWidth=500,this.maxHeight=400;var l,u,c;this.matches=function(t){for(l=0;l<this.urlschemes.length;l++)if(c=new RegExp(this.urlschemes[l],"i"),null!==t.match(c))return!0;return!1},this.fromJSON=function(t){for(u in t)this[u]="urlschemes"!=u?t[u]:a(t[u]);return!0}},t.fn.oembed.providers=[new t.fn.oembed.OEmbedProvider("youtube","video",["youtube\\.com/watch.+v=[\\w-]+&?"]),new t.fn.oembed.OEmbedProvider("flickr","photo",["flickr\\.com/photos/[-.\\w@]+/\\d+/?"],"http://flickr.com/services/oembed","jsoncallback"),new t.fn.oembed.OEmbedProvider("viddler","video",["viddler.com"]),new t.fn.oembed.OEmbedProvider("blip","video",["blip\\.tv/.+"],"http://blip.tv/oembed/"),new t.fn.oembed.OEmbedProvider("hulu","video",["hulu\\.com/watch/.*"],"http://www.hulu.com/api/oembed.json"),new t.fn.oembed.OEmbedProvider("vimeo","video",["http://www.vimeo.com/groups/.*/videos/.*","http://www.vimeo.com/.*","http://vimeo.com/groups/.*/videos/.*","http://vimeo.com/.*"],"http://vimeo.com/api/oembed.json"),new t.fn.oembed.OEmbedProvider("dailymotion","video",["dailymotion\\.com/.+"]),new t.fn.oembed.OEmbedProvider("scribd","rich",["scribd\\.com/.+"]),new t.fn.oembed.OEmbedProvider("slideshare","rich",["slideshare.net"],"http://www.slideshare.net/api/oembed/1"),new t.fn.oembed.OEmbedProvider("photobucket","photo",["photobucket\\.com/(albums|groups)/.*"],"http://photobucket.com/oembed/"),new t.fn.oembed.OEmbedProvider("vzaar","video",["vzaar.com"],"http://vzaar.com/api/oembed.json")]}(jQuery),function(){function t(){}function e(t,e){for(var n=t.length;n--;)if(t[n].listener===e)return n;return-1}function n(t){return function(){return this[t].apply(this,arguments)}}var i=t.prototype,r=this,o=r.EventEmitter;i.getListeners=function(t){var e,n,i=this._getEvents();if("object"==typeof t){e={};for(n in i)i.hasOwnProperty(n)&&t.test(n)&&(e[n]=i[n])}else e=i[t]||(i[t]=[]);return e},i.flattenListeners=function(t){var e,n=[];for(e=0;e<t.length;e+=1)n.push(t[e].listener);return n},i.getListenersAsObject=function(t){var e,n=this.getListeners(t);return n instanceof Array&&(e={},e[t]=n),e||n},i.addListener=function(t,n){var i,r=this.getListenersAsObject(t),o="object"==typeof n;for(i in r)r.hasOwnProperty(i)&&-1===e(r[i],n)&&r[i].push(o?n:{listener:n,once:!1});return this},i.on=n("addListener"),i.addOnceListener=function(t,e){return this.addListener(t,{listener:e,once:!0})},i.once=n("addOnceListener"),i.defineEvent=function(t){return this.getListeners(t),this},i.defineEvents=function(t){for(var e=0;e<t.length;e+=1)this.defineEvent(t[e]);return this},i.removeListener=function(t,n){var i,r,o=this.getListenersAsObject(t);for(r in o)o.hasOwnProperty(r)&&(i=e(o[r],n),-1!==i&&o[r].splice(i,1));return this},i.off=n("removeListener"),i.addListeners=function(t,e){return this.manipulateListeners(!1,t,e)},i.removeListeners=function(t,e){return this.manipulateListeners(!0,t,e)},i.manipulateListeners=function(t,e,n){var i,r,o=t?this.removeListener:this.addListener,s=t?this.removeListeners:this.addListeners;if("object"!=typeof e||e instanceof RegExp)for(i=n.length;i--;)o.call(this,e,n[i]);else for(i in e)e.hasOwnProperty(i)&&(r=e[i])&&("function"==typeof r?o.call(this,i,r):s.call(this,i,r));return this},i.removeEvent=function(t){var e,n=typeof t,i=this._getEvents();if("string"===n)delete i[t];else if("object"===n)for(e in i)i.hasOwnProperty(e)&&t.test(e)&&delete i[e];else delete this._events;return this},i.removeAllListeners=n("removeEvent"),i.emitEvent=function(t,e){var n,i,r,o,s=this.getListenersAsObject(t);for(r in s)if(s.hasOwnProperty(r))for(i=s[r].length;i--;)n=s[r][i],n.once===!0&&this.removeListener(t,n.listener),o=n.listener.apply(this,e||[]),o===this._getOnceReturnValue()&&this.removeListener(t,n.listener);return this},i.trigger=n("emitEvent"),i.emit=function(t){var e=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,e)},i.setOnceReturnValue=function(t){return this._onceReturnValue=t,this},i._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},i._getEvents=function(){return this._events||(this._events={})},t.noConflict=function(){return r.EventEmitter=o,t},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return t}):"object"==typeof module&&module.exports?module.exports=t:this.EventEmitter=t}.call(this),function(t){function e(e){var n=t.event;return n.target=n.target||n.srcElement||e,n}var n=document.documentElement,i=function(){};n.addEventListener?i=function(t,e,n){t.addEventListener(e,n,!1)}:n.attachEvent&&(i=function(t,n,i){t[n+i]=i.handleEvent?function(){var n=e(t);i.handleEvent.call(i,n)}:function(){var n=e(t);i.call(t,n)},t.attachEvent("on"+n,t[n+i])});var r=function(){};n.removeEventListener?r=function(t,e,n){t.removeEventListener(e,n,!1)}:n.detachEvent&&(r=function(t,e,n){t.detachEvent("on"+e,t[e+n]);try{delete t[e+n]}catch(i){t[e+n]=void 0}});var o={bind:i,unbind:r};"function"==typeof define&&define.amd?define("eventie/eventie",o):t.eventie=o}(this),function(t,e){"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],function(n,i){return e(t,n,i)}):"object"==typeof exports?module.exports=e(t,require("wolfy87-eventemitter"),require("eventie")):t.imagesLoaded=e(t,t.EventEmitter,t.eventie)}(window,function(t,e,n){function i(t,e){for(var n in e)t[n]=e[n];return t}function r(t){return"[object Array]"===f.call(t)}function o(t){var e=[];if(r(t))e=t;else if("number"==typeof t.length)for(var n=0,i=t.length;i>n;n++)e.push(t[n]);else e.push(t);return e}function s(t,e,n){if(!(this instanceof s))return new s(t,e);"string"==typeof t&&(t=document.querySelectorAll(t)),this.elements=o(t),this.options=i({},this.options),"function"==typeof e?n=e:i(this.options,e),n&&this.on("always",n),this.getImages(),u&&(this.jqDeferred=new u.Deferred);var r=this;setTimeout(function(){r.check()})}function a(t){this.img=t}function l(t){this.src=t,d[t]=this}var u=t.jQuery,c=t.console,h="undefined"!=typeof c,f=Object.prototype.toString;s.prototype=new e,s.prototype.options={},s.prototype.getImages=function(){this.images=[];for(var t=0,e=this.elements.length;e>t;t++){var n=this.elements[t];"IMG"===n.nodeName&&this.addImage(n);var i=n.nodeType;if(i&&(1===i||9===i||11===i))for(var r=n.querySelectorAll("img"),o=0,s=r.length;s>o;o++){var a=r[o];this.addImage(a)}}},s.prototype.addImage=function(t){var e=new a(t);this.images.push(e)},s.prototype.check=function(){function t(t,r){return e.options.debug&&h&&c.log("confirm",t,r),e.progress(t),n++,n===i&&e.complete(),!0}var e=this,n=0,i=this.images.length;if(this.hasAnyBroken=!1,!i)return void this.complete();for(var r=0;i>r;r++){var o=this.images[r];o.on("confirm",t),o.check()}},s.prototype.progress=function(t){this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded;var e=this;setTimeout(function(){e.emit("progress",e,t),e.jqDeferred&&e.jqDeferred.notify&&e.jqDeferred.notify(e,t)})},s.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var e=this;setTimeout(function(){if(e.emit(t,e),e.emit("always",e),e.jqDeferred){var n=e.hasAnyBroken?"reject":"resolve";e.jqDeferred[n](e)}})},u&&(u.fn.imagesLoaded=function(t,e){var n=new s(this,t,e);return n.jqDeferred.promise(u(this))}),a.prototype=new e,a.prototype.check=function(){var t=d[this.img.src]||new l(this.img.src);if(t.isConfirmed)return void this.confirm(t.isLoaded,"cached was confirmed");if(this.img.complete&&void 0!==this.img.naturalWidth)return void this.confirm(0!==this.img.naturalWidth,"naturalWidth");var e=this;t.on("confirm",function(t,n){return e.confirm(t.isLoaded,n),!0}),t.check()},a.prototype.confirm=function(t,e){this.isLoaded=t,this.emit("confirm",this,e)};var d={};return l.prototype=new e,l.prototype.check=function(){if(!this.isChecked){var t=new Image;n.bind(t,"load",this),n.bind(t,"error",this),t.src=this.src,this.isChecked=!0}},l.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},l.prototype.onload=function(t){this.confirm(!0,"onload"),this.unbindProxyEvents(t)},l.prototype.onerror=function(t){this.confirm(!1,"onerror"),this.unbindProxyEvents(t)},l.prototype.confirm=function(t,e){this.isConfirmed=!0,this.isLoaded=t,this.emit("confirm",this,e)},l.prototype.unbindProxyEvents=function(t){n.unbind(t.target,"load",this),n.unbind(t.target,"error",this)},s}),function(t){var e={key:null,endpoint:"oembed",secure:null,query:{},method:"replace",addImageStyles:!0,wrapElement:"div",className:"embed",batch:20,urlRe:null},n=/(http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/,i=function(t){return null===t||void 0===t},r=function(e,n){var i=[],r=[];return t.each(e,function(t,e){r.push(e),r.length===n&&(i.push(r),r=[])}),0!==r.length&&i.push(r),i},o=function(e){return i(e)?[]:t.isArray(e)?e:[e]},s=function(e){return t.map(e[0],function(n,i){return[t.map(e,function(t){return t[i]})]})},a=function(t,e,n){this.init(t,e,n)};a.prototype={init:function(e){this.urls=e,this.count=0,this.results={},this._deferred=t.Deferred()},notify:function(e){if(this.results[e.original_url]=e,this.count++,this._deferred.notify.apply(this._deferred,[e]),this.count===this.urls.length){var n=this,i=t.map(this.urls,function(t){return n.results[t]});this._deferred.resolve(i)}return this},state:function(){return this._deferred.state.apply(this._deferred,arguments)}},window.Keeper=a;var l=function(){};l.prototype={defaults:{},log:function(t,e){i(window.console)||i(window.console[t])||window.console[t].apply(window.console,[e])},build:function(e,n,r){r=i(r)?{}:r;var o=r.secure;i(o)&&(o="https:"===window.location.protocol?!0:!1);var s=(o?"https":"http")+"://api.embed.ly/"+("objectify"===e?"2/":"1/")+e,a=i(r.query)?{}:r.query;return a.key=r.key,s+="?"+t.param(a),s+="&urls="+t.map(n,encodeURIComponent).join(",")},ajax:function(l,u,c){if(c=t.extend({},e,t.embedly.defaults,"object"==typeof c&&c),i(c.key))return this.log("error","Embedly jQuery requires an API Key. Please sign up for one at http://embed.ly"),null;u=o(u);var h,f=new a(u),d=[],p=[];t.each(u,function(t,e){h=!1,n.test(e)&&(h=!0,null!==c.urlRe&&c.urlRe.test&&!c.urlRe.test(e)&&(h=!1)),h===!0?d.push(e):p.push({url:e,original_url:e,error:!0,invalid:!0,type:"error",error_message:'Invalid URL "'+e+'"'})});var g=r(d,c.batch),m=this;return t.each(g,function(e,n){t.ajax({url:m.build(l,n,c),dataType:"jsonp",success:function(e){t.each(s([n,e]),function(t,e){var n=e[1];n.original_url=e[0],n.invalid=!1,f.notify(n)})}})}),p.length&&setTimeout(function(){t.each(p,function(t,e){f.notify(e)})},1),f._deferred},oembed:function(t,e){return this.ajax("oembed",t,e)},preview:function(t,e){return this.ajax("preview",t,e)},objectify:function(t,e){return this.ajax("objectify",t,e)},extract:function(t,e){return this.ajax("extract",t,e)}};var u=function(){};u.prototype={build:function(e,n,r){r=t.extend({},t.embedly.defaults,"object"==typeof r&&r);var o=r.secure;i(o)&&(o="https:"===window.location.protocol?!0:!1);var s=(o?"https":"http")+"://i.embed.ly/"+("display"===e?"1/":"1/display/")+e,a=i(r.query)?{}:r.query;return a.key=r.key,s+="?"+t.param(a),s+="&url="+encodeURIComponent(n)},display:function(t,e){return this.build("display",t,e)},resize:function(t,e){return this.build("resize",t,e)},fill:function(t,e){return this.build("fill",t,e)},crop:function(t,e){return this.build("crop",t,e)}};var c=function(t,e,n){this.init(t,e,n)};c.prototype={init:function(e,n,i){this.elem=e,this.$elem=t(e),this.original_url=n,this.options=i,this.loaded=t.Deferred();var r=this;this.loaded.done(function(){r.$elem.trigger("loaded",[r])}),this.$elem.trigger("initialized",[this])},progress:function(e){t.extend(this,e),this.options.display?this.options.display.apply(this.elem,[this,this.elem]):"oembed"===this.options.endpoint&&this.display(),this.loaded.resolve(this)},imageStyle:function(){var t,e=[];return this.options.addImageStyles&&(this.options.query.maxwidth&&(t=isNaN(parseInt(this.options.query.maxwidth,10))?"":"px",e.push("max-width: "+this.options.query.maxwidth+t)),this.options.query.maxheight&&(t=isNaN(parseInt(this.options.query.maxheight,10))?"":"px",e.push("max-height: "+this.options.query.maxheight+t))),e.join(";")},display:function(){if("error"===this.type)return!1;this.style=this.imageStyle();var t;"photo"===this.type?(t="<a href='"+this.original_url+"' target='_blank'>",t+="<img style='"+this.style+"' src='"+this.url+"' alt='"+this.title+"' /></a>"):"video"===this.type||"rich"===this.type?t=this.html:(this.title=this.title||this.url,t=this.thumbnail_url?"<img src='"+this.thumbnail_url+"' class='thumb' style='"+this.style+"'/>":"",t+="<a href='"+this.original_url+"'>"+this.title+"</a>",t+=this.provider_name?"<a href='"+this.provider_url+"' class='provider'>"+this.provider_name+"</a>":"",t+=this.description?'<div class="description">'+this.description+"</div>":""),this.options.wrapElement&&(t="<"+this.options.wrapElement+' class="'+this.options.className+'">'+t+"</"+this.options.wrapElement+">"),this.code=t,"replace"===this.options.method?this.$elem.replaceWith(this.code):"after"===this.options.method?this.$elem.after(this.code):"afterParent"===this.options.method?this.$elem.parent().after(this.code):"replaceParent"===this.options.method&&this.$elem.parent().replaceWith(this.code),this.$elem.trigger("displayed",[this])}},t.embedly=new l,t.embedly.display=new u,t.fn.embedly=function(n){if(void 0===n||"object"==typeof n){if(n=t.extend({},e,t.embedly.defaults,"object"==typeof n&&n),i(n.key))return t.embedly.log("error","Embedly jQuery requires an API Key. Please sign up for one at http://embed.ly"),this.each(t.noop);var r={},o=function(e){if(!t.data(t(e),"embedly")){var i=t(e).attr("href"),o=new c(e,i,n);t.data(e,"embedly",o),r.hasOwnProperty(i)?r[i].push(o):r[i]=[o]}},s=this.each(function(){i(t(this).attr("href"))?t(this).find("a").each(function(){i(t(this).attr("href"))||o(this)}):o(this)}),a=t.embedly.ajax(n.endpoint,t.map(r,function(t,e){return e}),n).progress(function(e){t.each(r[e.original_url],function(t,n){n.progress(e)})});return n.progress&&a.progress(n.progress),n.done&&a.done(n.done),s}},t.expr[":"].embedly=function(e){return!i(t(e).data("embedly"))},t.fn.display=function(n,r){if(i(n)&&(n="display"),void 0===r||"object"==typeof r){if(r=t.extend({},e,t.embedly.defaults,"object"==typeof r&&r),i(r.key))return t.embedly.log("error","Embedly jQuery requires an API Key. Please sign up for one at http://embed.ly/display"),this.each(t.noop);var o=function(e){var i=t(e);if(!i.data("display")){var o=i.data("src")||i.attr("href"),s={original_url:o,url:t.embedly.display.build(n,o,r)};i.data("display",s),i.trigger("initialized",[e]);var a="<img src='"+s.url+"' />";i.is("a")?i.append(a):i.replaceWith(a)}},s=function(e){return i(t(e).data("src"))&&i(t(e).attr("href"))?!1:!0},a=this.each(function(){s(this)?o(this):t(this).find("img,a").each(function(){s(this)&&o(this)})});return a}},t.expr[":"].display=function(e){return!i(t(e).data("display"))}}(jQuery,window),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){function e(){var e=n(this),s=o.settings;return isNaN(e.datetime)||(0==s.cutoff||r(e.datetime)<s.cutoff)&&t(this).text(i(e.datetime)),this}function n(e){if(e=t(e),!e.data("timeago")){e.data("timeago",{datetime:o.datetime(e)});var n=t.trim(e.text());o.settings.localeTitle?e.attr("title",e.data("timeago").datetime.toLocaleString()):!(n.length>0)||o.isTime(e)&&e.attr("title")||e.attr("title",n)}return e.data("timeago")}function i(t){return o.inWords(r(t))}function r(t){return(new Date).getTime()-t.getTime()}t.timeago=function(e){return i(e instanceof Date?e:"string"==typeof e?t.timeago.parse(e):"number"==typeof e?new Date(e):t.timeago.datetime(e))};var o=t.timeago;t.extend(t.timeago,{settings:{refreshMillis:6e4,allowPast:!0,allowFuture:!1,localeTitle:!1,cutoff:0,strings:{prefixAgo:null,prefixFromNow:null,suffixAgo:"ago",suffixFromNow:"from now",inPast:"any moment now",seconds:"less than a minute",minute:"about a minute",minutes:"%d minutes",hour:"about an hour",hours:"about %d hours",day:"a day",days:"%d days",month:"about a month",months:"%d months",year:"about a year",years:"%d years",wordSeparator:" ",numbers:[]}},inWords:function(e){function n(n,r){var o=t.isFunction(n)?n(r,e):n,s=i.numbers&&i.numbers[r]||r;return o.replace(/%d/i,s)}if(!this.settings.allowPast&&!this.settings.allowFuture)throw"timeago allowPast and allowFuture settings can not both be set to false.";var i=this.settings.strings,r=i.prefixAgo,o=i.suffixAgo;if(this.settings.allowFuture&&0>e&&(r=i.prefixFromNow,o=i.suffixFromNow),!this.settings.allowPast&&e>=0)return this.settings.strings.inPast;var s=Math.abs(e)/1e3,a=s/60,l=a/60,u=l/24,c=u/365,h=45>s&&n(i.seconds,Math.round(s))||90>s&&n(i.minute,1)||45>a&&n(i.minutes,Math.round(a))||90>a&&n(i.hour,1)||24>l&&n(i.hours,Math.round(l))||42>l&&n(i.day,1)||30>u&&n(i.days,Math.round(u))||45>u&&n(i.month,1)||365>u&&n(i.months,Math.round(u/30))||1.5>c&&n(i.year,1)||n(i.years,Math.round(c)),f=i.wordSeparator||"";return void 0===i.wordSeparator&&(f=" "),t.trim([r,h,o].join(f))},parse:function(e){var n=t.trim(e);return n=n.replace(/\.\d+/,""),n=n.replace(/-/,"/").replace(/-/,"/"),n=n.replace(/T/," ").replace(/Z/," UTC"),n=n.replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2"),n=n.replace(/([\+\-]\d\d)$/," $100"),new Date(n)},datetime:function(e){var n=t(e).attr(o.isTime(e)?"datetime":"title");return o.parse(n)},isTime:function(e){return"time"===t(e).get(0).tagName.toLowerCase()}});var s={init:function(){var n=t.proxy(e,this);n();var i=o.settings;i.refreshMillis>0&&(this._timeagoInterval=setInterval(n,i.refreshMillis))},update:function(n){var i=o.parse(n);
t(this).data("timeago",{datetime:i}),o.settings.localeTitle&&t(this).attr("title",i.toLocaleString()),e.apply(this)},updateFromDOM:function(){t(this).data("timeago",{datetime:o.parse(t(this).attr(o.isTime(this)?"datetime":"title"))}),e.apply(this)},dispose:function(){this._timeagoInterval&&(window.clearInterval(this._timeagoInterval),this._timeagoInterval=null)}};t.fn.timeago=function(t,e){var n=t?s[t]:s.init;if(!n)throw new Error("Unknown function name '"+t+"' for timeago");return this.each(function(){n.call(this,e)}),this},document.createElement("abbr"),document.createElement("time")}),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),r=n.data("bs.alert");r||n.data("bs.alert",r=new i(this)),"string"==typeof e&&r[e].call(n)})}var n='[data-dismiss="alert"]',i=function(e){t(e).on("click",n,this.close)};i.VERSION="3.3.4",i.TRANSITION_DURATION=150,i.prototype.close=function(e){function n(){s.detach().trigger("closed.bs.alert").remove()}var r=t(this),o=r.attr("data-target");o||(o=r.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,""));var s=t(o);e&&e.preventDefault(),s.length||(s=r.closest(".alert")),s.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(s.removeClass("in"),t.support.transition&&s.hasClass("fade")?s.one("bsTransitionEnd",n).emulateTransitionEnd(i.TRANSITION_DURATION):n())};var r=t.fn.alert;t.fn.alert=e,t.fn.alert.Constructor=i,t.fn.alert.noConflict=function(){return t.fn.alert=r,this},t(document).on("click.bs.alert.data-api",n,i.prototype.close)}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.carousel"),o=t.extend({},n.DEFAULTS,i.data(),"object"==typeof e&&e),s="string"==typeof e?e:o.slide;r||i.data("bs.carousel",r=new n(this,o)),"number"==typeof e?r.to(e):s?r[s]():o.interval&&r.pause().cycle()})}var n=function(e,n){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",t.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};n.VERSION="3.3.4",n.TRANSITION_DURATION=600,n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},n.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},n.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},n.prototype.getItemForDirection=function(t,e){var n=this.getItemIndex(e),i="prev"==t&&0===n||"next"==t&&n==this.$items.length-1;if(i&&!this.options.wrap)return e;var r="prev"==t?-1:1,o=(n+r)%this.$items.length;return this.$items.eq(o)},n.prototype.to=function(t){var e=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));return t>this.$items.length-1||0>t?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):n==t?this.pause().cycle():this.slide(t>n?"next":"prev",this.$items.eq(t))},n.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){return this.sliding?void 0:this.slide("next")},n.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},n.prototype.slide=function(e,i){var r=this.$element.find(".item.active"),o=i||this.getItemForDirection(e,r),s=this.interval,a="next"==e?"left":"right",l=this;if(o.hasClass("active"))return this.sliding=!1;var u=o[0],c=t.Event("slide.bs.carousel",{relatedTarget:u,direction:a});if(this.$element.trigger(c),!c.isDefaultPrevented()){if(this.sliding=!0,s&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var h=t(this.$indicators.children()[this.getItemIndex(o)]);h&&h.addClass("active")}var f=t.Event("slid.bs.carousel",{relatedTarget:u,direction:a});return t.support.transition&&this.$element.hasClass("slide")?(o.addClass(e),o[0].offsetWidth,r.addClass(a),o.addClass(a),r.one("bsTransitionEnd",function(){o.removeClass([e,a].join(" ")).addClass("active"),r.removeClass(["active",a].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(f)},0)}).emulateTransitionEnd(n.TRANSITION_DURATION)):(r.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger(f)),s&&this.cycle(),this}};var i=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=n,t.fn.carousel.noConflict=function(){return t.fn.carousel=i,this};var r=function(n){var i,r=t(this),o=t(r.attr("data-target")||(i=r.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""));if(o.hasClass("carousel")){var s=t.extend({},o.data(),r.data()),a=r.attr("data-slide-to");a&&(s.interval=!1),e.call(o,s),a&&o.data("bs.carousel").to(a),n.preventDefault()}};t(document).on("click.bs.carousel.data-api","[data-slide]",r).on("click.bs.carousel.data-api","[data-slide-to]",r),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var n=t(this);e.call(n,n.data())})})}(jQuery),+function(t){"use strict";function e(e){var n,i=e.attr("data-target")||(n=e.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"");return t(i)}function n(e){return this.each(function(){var n=t(this),r=n.data("bs.collapse"),o=t.extend({},i.DEFAULTS,n.data(),"object"==typeof e&&e);!r&&o.toggle&&/show|hide/.test(e)&&(o.toggle=!1),r||n.data("bs.collapse",r=new i(this,o)),"string"==typeof e&&r[e]()})}var i=function(e,n){this.$element=t(e),this.options=t.extend({},i.DEFAULTS,n),this.$trigger=t('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};i.VERSION="3.3.4",i.TRANSITION_DURATION=350,i.DEFAULTS={toggle:!0},i.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},i.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e,r=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(r&&r.length&&(e=r.data("bs.collapse"),e&&e.transitioning))){var o=t.Event("show.bs.collapse");if(this.$element.trigger(o),!o.isDefaultPrevented()){r&&r.length&&(n.call(r,"hide"),e||r.data("bs.collapse",null));var s=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[s](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var a=function(){this.$element.removeClass("collapsing").addClass("collapse in")[s](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return a.call(this);var l=t.camelCase(["scroll",s].join("-"));this.$element.one("bsTransitionEnd",t.proxy(a,this)).emulateTransitionEnd(i.TRANSITION_DURATION)[s](this.$element[0][l])}}}},i.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var r=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return t.support.transition?void this.$element[n](0).one("bsTransitionEnd",t.proxy(r,this)).emulateTransitionEnd(i.TRANSITION_DURATION):r.call(this)}}},i.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},i.prototype.getParent=function(){return t(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy(function(n,i){var r=t(i);this.addAriaAndCollapsedClass(e(r),r)},this)).end()},i.prototype.addAriaAndCollapsedClass=function(t,e){var n=t.hasClass("in");t.attr("aria-expanded",n),e.toggleClass("collapsed",!n).attr("aria-expanded",n)};var r=t.fn.collapse;t.fn.collapse=n,t.fn.collapse.Constructor=i,t.fn.collapse.noConflict=function(){return t.fn.collapse=r,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(i){var r=t(this);r.attr("data-target")||i.preventDefault();var o=e(r),s=o.data("bs.collapse"),a=s?"toggle":r.data();n.call(o,a)})}(jQuery),+function(t){"use strict";function e(e){e&&3===e.which||(t(r).remove(),t(o).each(function(){var i=t(this),r=n(i),o={relatedTarget:this};r.hasClass("open")&&(r.trigger(e=t.Event("hide.bs.dropdown",o)),e.isDefaultPrevented()||(i.attr("aria-expanded","false"),r.removeClass("open").trigger("hidden.bs.dropdown",o)))}))}function n(e){var n=e.attr("data-target");n||(n=e.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var i=n&&t(n);return i&&i.length?i:e.parent()}function i(e){return this.each(function(){var n=t(this),i=n.data("bs.dropdown");i||n.data("bs.dropdown",i=new s(this)),"string"==typeof e&&i[e].call(n)})}var r=".dropdown-backdrop",o='[data-toggle="dropdown"]',s=function(e){t(e).on("click.bs.dropdown",this.toggle)};s.VERSION="3.3.4",s.prototype.toggle=function(i){var r=t(this);if(!r.is(".disabled, :disabled")){var o=n(r),s=o.hasClass("open");if(e(),!s){"ontouchstart"in document.documentElement&&!o.closest(".navbar-nav").length&&t('<div class="dropdown-backdrop"/>').insertAfter(t(this)).on("click",e);var a={relatedTarget:this};if(o.trigger(i=t.Event("show.bs.dropdown",a)),i.isDefaultPrevented())return;r.trigger("focus").attr("aria-expanded","true"),o.toggleClass("open").trigger("shown.bs.dropdown",a)}return!1}},s.prototype.keydown=function(e){if(/(38|40|27|32)/.test(e.which)&&!/input|textarea/i.test(e.target.tagName)){var i=t(this);if(e.preventDefault(),e.stopPropagation(),!i.is(".disabled, :disabled")){var r=n(i),s=r.hasClass("open");if(!s&&27!=e.which||s&&27==e.which)return 27==e.which&&r.find(o).trigger("focus"),i.trigger("click");var a=" li:not(.disabled):visible a",l=r.find('[role="menu"]'+a+', [role="listbox"]'+a);if(l.length){var u=l.index(e.target);38==e.which&&u>0&&u--,40==e.which&&u<l.length-1&&u++,~u||(u=0),l.eq(u).trigger("focus")}}}};var a=t.fn.dropdown;t.fn.dropdown=i,t.fn.dropdown.Constructor=s,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=a,this},t(document).on("click.bs.dropdown.data-api",e).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",o,s.prototype.toggle).on("keydown.bs.dropdown.data-api",o,s.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="menu"]',s.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="listbox"]',s.prototype.keydown)}(jQuery),+function(t){"use strict";function e(e,i){return this.each(function(){var r=t(this),o=r.data("bs.modal"),s=t.extend({},n.DEFAULTS,r.data(),"object"==typeof e&&e);o||r.data("bs.modal",o=new n(this,s)),"string"==typeof e?o[e](i):s.show&&o.show(i)})}var n=function(e,n){this.options=n,this.$body=t(document.body),this.$element=t(e),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.3.4",n.TRANSITION_DURATION=300,n.BACKDROP_TRANSITION_DURATION=150,n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},n.prototype.show=function(e){var i=this,r=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(r),this.isShown||r.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){i.$element.one("mouseup.dismiss.bs.modal",function(e){t(e.target).is(i.$element)&&(i.ignoreBackdropClick=!0)})}),this.backdrop(function(){var r=t.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),i.adjustDialog(),r&&i.$element[0].offsetWidth,i.$element.addClass("in").attr("aria-hidden",!1),i.enforceFocus();var o=t.Event("shown.bs.modal",{relatedTarget:e});r?i.$dialog.one("bsTransitionEnd",function(){i.$element.trigger("focus").trigger(o)}).emulateTransitionEnd(n.TRANSITION_DURATION):i.$element.trigger("focus").trigger(o)}))},n.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(n.TRANSITION_DURATION):this.hideModal())},n.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},n.prototype.resize=function(){this.isShown?t(window).on("resize.bs.modal",t.proxy(this.handleUpdate,this)):t(window).off("resize.bs.modal")},n.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(e){var i=this,r=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var o=t.support.transition&&r;if(this.$backdrop=t('<div class="modal-backdrop '+r+'" />').appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),o&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;o?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var s=function(){i.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",s).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):s()}else e&&e()},n.prototype.handleUpdate=function(){this.adjustDialog()},n.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},n.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},n.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},n.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},n.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var i=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=n,t.fn.modal.noConflict=function(){return t.fn.modal=i,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var i=t(this),r=i.attr("href"),o=t(i.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),s=o.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(r)&&r},o.data(),i.data());i.is("a")&&n.preventDefault(),o.one("show.bs.modal",function(t){t.isDefaultPrevented()||o.one("hidden.bs.modal",function(){i.is(":visible")&&i.trigger("focus")})}),e.call(o,s,this)})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.tab");r||i.data("bs.tab",r=new n(this)),"string"==typeof e&&r[e]()})}var n=function(e){this.element=t(e)};n.VERSION="3.3.4",n.TRANSITION_DURATION=150,n.prototype.show=function(){var e=this.element,n=e.closest("ul:not(.dropdown-menu)"),i=e.data("target");if(i||(i=e.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var r=n.find(".active:last a"),o=t.Event("hide.bs.tab",{relatedTarget:e[0]}),s=t.Event("show.bs.tab",{relatedTarget:r[0]});if(r.trigger(o),e.trigger(s),!s.isDefaultPrevented()&&!o.isDefaultPrevented()){var a=t(i);this.activate(e.closest("li"),n),this.activate(a,a.parent(),function(){r.trigger({type:"hidden.bs.tab",relatedTarget:e[0]}),e.trigger({type:"shown.bs.tab",relatedTarget:r[0]})})}}},n.prototype.activate=function(e,i,r){function o(){s.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),e.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),a?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu").length&&e.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),r&&r()}var s=i.find("> .active"),a=r&&t.support.transition&&(s.length&&s.hasClass("fade")||!!i.find("> .fade").length);s.length&&a?s.one("bsTransitionEnd",o).emulateTransitionEnd(n.TRANSITION_DURATION):o(),s.removeClass("in")};var i=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=n,t.fn.tab.noConflict=function(){return t.fn.tab=i,this};var r=function(n){n.preventDefault(),e.call(t(this),"show")};t(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',r).on("click.bs.tab.data-api",'[data-toggle="pill"]',r)}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.tooltip"),o="object"==typeof e&&e;(r||!/destroy|hide/.test(e))&&(r||i.data("bs.tooltip",r=new n(this,o)),"string"==typeof e&&r[e]())})}var n=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.init("tooltip",t,e)};n.VERSION="3.3.4",n.TRANSITION_DURATION=150,n.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},n.prototype.init=function(e,n,i){if(this.enabled=!0,this.type=e,this.$element=t(n),this.options=this.getOptions(i),this.$viewport=this.options.viewport&&t(this.options.viewport.selector||this.options.viewport),this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var r=this.options.trigger.split(" "),o=r.length;o--;){var s=r[o];if("click"==s)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=s){var a="hover"==s?"mouseenter":"focusin",l="hover"==s?"mouseleave":"focusout";this.$element.on(a+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},n.prototype.getDelegateOptions=function(){var e={},n=this.getDefaults();return this._options&&t.each(this._options,function(t,i){n[t]!=i&&(e[t]=i)}),e},n.prototype.enter=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return n&&n.$tip&&n.$tip.is(":visible")?void(n.hoverState="in"):(n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?void(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)):n.show())},n.prototype.leave=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?void(n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)):n.hide()},n.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var i=t.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!i)return;var r=this,o=this.tip(),s=this.getUID(this.type);this.setContent(),o.attr("id",s),this.$element.attr("aria-describedby",s),this.options.animation&&o.addClass("fade");var a="function"==typeof this.options.placement?this.options.placement.call(this,o[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,u=l.test(a);u&&(a=a.replace(l,"")||"top"),o.detach().css({top:0,left:0,display:"block"}).addClass(a).data("bs."+this.type,this),this.options.container?o.appendTo(this.options.container):o.insertAfter(this.$element);var c=this.getPosition(),h=o[0].offsetWidth,f=o[0].offsetHeight;if(u){var d=a,p=this.options.container?t(this.options.container):this.$element.parent(),g=this.getPosition(p);a="bottom"==a&&c.bottom+f>g.bottom?"top":"top"==a&&c.top-f<g.top?"bottom":"right"==a&&c.right+h>g.width?"left":"left"==a&&c.left-h<g.left?"right":a,o.removeClass(d).addClass(a)}var m=this.getCalculatedOffset(a,c,h,f);this.applyPlacement(m,a);var v=function(){var t=r.hoverState;r.$element.trigger("shown.bs."+r.type),r.hoverState=null,"out"==t&&r.leave(r)};t.support.transition&&this.$tip.hasClass("fade")?o.one("bsTransitionEnd",v).emulateTransitionEnd(n.TRANSITION_DURATION):v()}},n.prototype.applyPlacement=function(e,n){var i=this.tip(),r=i[0].offsetWidth,o=i[0].offsetHeight,s=parseInt(i.css("margin-top"),10),a=parseInt(i.css("margin-left"),10);isNaN(s)&&(s=0),isNaN(a)&&(a=0),e.top=e.top+s,e.left=e.left+a,t.offset.setOffset(i[0],t.extend({using:function(t){i.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),i.addClass("in");var l=i[0].offsetWidth,u=i[0].offsetHeight;"top"==n&&u!=o&&(e.top=e.top+o-u);var c=this.getViewportAdjustedDelta(n,e,l,u);c.left?e.left+=c.left:e.top+=c.top;var h=/top|bottom/.test(n),f=h?2*c.left-r+l:2*c.top-o+u,d=h?"offsetWidth":"offsetHeight";i.offset(e),this.replaceArrow(f,i[0][d],h)},n.prototype.replaceArrow=function(t,e,n){this.arrow().css(n?"left":"top",50*(1-t/e)+"%").css(n?"top":"left","")},n.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},n.prototype.hide=function(e){function i(){"in"!=r.hoverState&&o.detach(),r.$element.removeAttr("aria-describedby").trigger("hidden.bs."+r.type),e&&e()}var r=this,o=t(this.$tip),s=t.Event("hide.bs."+this.type);return this.$element.trigger(s),s.isDefaultPrevented()?void 0:(o.removeClass("in"),t.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",i).emulateTransitionEnd(n.TRANSITION_DURATION):i(),this.hoverState=null,this)},n.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},n.prototype.hasContent=function(){return this.getTitle()},n.prototype.getPosition=function(e){e=e||this.$element;var n=e[0],i="BODY"==n.tagName,r=n.getBoundingClientRect();null==r.width&&(r=t.extend({},r,{width:r.right-r.left,height:r.bottom-r.top}));var o=i?{top:0,left:0}:e.offset(),s={scroll:i?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},a=i?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},r,s,a,o)},n.prototype.getCalculatedOffset=function(t,e,n,i){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-n/2}:"top"==t?{top:e.top-i,left:e.left+e.width/2-n/2}:"left"==t?{top:e.top+e.height/2-i/2,left:e.left-n}:{top:e.top+e.height/2-i/2,left:e.left+e.width}},n.prototype.getViewportAdjustedDelta=function(t,e,n,i){var r={top:0,left:0};if(!this.$viewport)return r;var o=this.options.viewport&&this.options.viewport.padding||0,s=this.getPosition(this.$viewport);if(/right|left/.test(t)){var a=e.top-o-s.scroll,l=e.top+o-s.scroll+i;a<s.top?r.top=s.top-a:l>s.top+s.height&&(r.top=s.top+s.height-l)}else{var u=e.left-o,c=e.left+o+n;u<s.left?r.left=s.left-u:c>s.width&&(r.left=s.left+s.width-c)}return r},n.prototype.getTitle=function(){var t,e=this.$element,n=this.options;return t=e.attr("data-original-title")||("function"==typeof n.title?n.title.call(e[0]):n.title)},n.prototype.getUID=function(t){do t+=~~(1e6*Math.random());while(document.getElementById(t));return t},n.prototype.tip=function(){return this.$tip=this.$tip||t(this.options.template)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},n.prototype.enable=function(){this.enabled=!0},n.prototype.disable=function(){this.enabled=!1},n.prototype.toggleEnabled=function(){this.enabled=!this.enabled},n.prototype.toggle=function(e){var n=this;e&&(n=t(e.currentTarget).data("bs."+this.type),n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n))),n.tip().hasClass("in")?n.leave(n):n.enter(n)},n.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type)})};var i=t.fn.tooltip;t.fn.tooltip=e,t.fn.tooltip.Constructor=n,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=i,this}}(jQuery),+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(void 0!==t.style[n])return{end:e[n]};return!1}t.fn.emulateTransitionEnd=function(e){var n=!1,i=this;t(this).one("bsTransitionEnd",function(){n=!0});var r=function(){n||t(i).trigger(t.support.transition.end)};return setTimeout(r,e),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){return t(e.target).is(this)?e.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),function(t,e){"function"==typeof define&&define.amd?define("typeahead.js",["jquery"],function(t){return e(t)}):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(this,function(t){var e=function(){"use strict";return{isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1},isBlankString:function(t){return!t||/^\s*$/.test(t)},escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isArray:t.isArray,isFunction:t.isFunction,isObject:t.isPlainObject,isUndefined:function(t){return"undefined"==typeof t},isElement:function(t){return!(!t||1!==t.nodeType)},isJQuery:function(e){return e instanceof t},toStr:function(t){return e.isUndefined(t)||null===t?"":t+""},bind:t.proxy,each:function(e,n){function i(t,e){return n(e,t)}t.each(e,i)},map:t.map,filter:t.grep,every:function(e,n){var i=!0;return e?(t.each(e,function(t,r){return(i=n.call(null,r,t,e))?void 0:!1}),!!i):i},some:function(e,n){var i=!1;return e?(t.each(e,function(t,r){return(i=n.call(null,r,t,e))?!1:void 0}),!!i):i},mixin:t.extend,identity:function(t){return t},clone:function(e){return t.extend(!0,{},e)},getIdGenerator:function(){var t=0;return function(){return t++}},templatify:function(e){function n(){return String(e)}return t.isFunction(e)?e:n},defer:function(t){setTimeout(t,0)},debounce:function(t,e,n){var i,r;return function(){var o,s,a=this,l=arguments;return o=function(){i=null,n||(r=t.apply(a,l))},s=n&&!i,clearTimeout(i),i=setTimeout(o,e),s&&(r=t.apply(a,l)),r}},throttle:function(t,e){var n,i,r,o,s,a;return s=0,a=function(){s=new Date,r=null,o=t.apply(n,i)},function(){var l=new Date,u=e-(l-s);return n=this,i=arguments,0>=u?(clearTimeout(r),r=null,s=l,o=t.apply(n,i)):r||(r=setTimeout(a,u)),o}},stringify:function(t){return e.isString(t)?t:JSON.stringify(t)},noop:function(){}}}(),n=function(){"use strict";function t(t){var s,a;return a=e.mixin({},o,t),s={css:r(),classes:a,html:n(a),selectors:i(a)},{css:s.css,html:s.html,classes:s.classes,selectors:s.selectors,mixin:function(t){e.mixin(t,s)}}}function n(t){return{wrapper:'<span class="'+t.wrapper+'"></span>',menu:'<div class="'+t.menu+'"></div>'}}function i(t){var n={};return e.each(t,function(t,e){n[e]="."+t}),n}function r(){var t={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},menu:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};return e.isMsie()&&e.mixin(t.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),t}var o={wrapper:"twitter-typeahead",input:"tt-input",hint:"tt-hint",menu:"tt-menu",dataset:"tt-dataset",suggestion:"tt-suggestion",selectable:"tt-selectable",empty:"tt-empty",open:"tt-open",cursor:"tt-cursor",highlight:"tt-highlight"};return t}(),i=function(){"use strict";function n(e){e&&e.el||t.error("EventBus initialized without el"),this.$el=t(e.el)}var i,r;return i="typeahead:",r={render:"rendered",cursorchange:"cursorchanged",select:"selected",autocomplete:"autocompleted"},e.mixin(n.prototype,{_trigger:function(e,n){var r;return r=t.Event(i+e),(n=n||[]).unshift(r),this.$el.trigger.apply(this.$el,n),r},before:function(t){var e,n;return e=[].slice.call(arguments,1),n=this._trigger("before"+t,e),n.isDefaultPrevented()},trigger:function(t){var e;this._trigger(t,[].slice.call(arguments,1)),(e=r[t])&&this._trigger(e,[].slice.call(arguments,1))}}),n}(),r=function(){"use strict";function t(t,e,n,i){var r;if(!n)return this;for(e=e.split(l),n=i?a(n,i):n,this._callbacks=this._callbacks||{};r=e.shift();)this._callbacks[r]=this._callbacks[r]||{sync:[],async:[]},this._callbacks[r][t].push(n);
return this}function e(e,n,i){return t.call(this,"async",e,n,i)}function n(e,n,i){return t.call(this,"sync",e,n,i)}function i(t){var e;if(!this._callbacks)return this;for(t=t.split(l);e=t.shift();)delete this._callbacks[e];return this}function r(t){var e,n,i,r,s;if(!this._callbacks)return this;for(t=t.split(l),i=[].slice.call(arguments,1);(e=t.shift())&&(n=this._callbacks[e]);)r=o(n.sync,this,[e].concat(i)),s=o(n.async,this,[e].concat(i)),r()&&u(s);return this}function o(t,e,n){function i(){for(var i,r=0,o=t.length;!i&&o>r;r+=1)i=t[r].apply(e,n)===!1;return!i}return i}function s(){var t;return t=window.setImmediate?function(t){setImmediate(function(){t()})}:function(t){setTimeout(function(){t()},0)}}function a(t,e){return t.bind?t.bind(e):function(){t.apply(e,[].slice.call(arguments,0))}}var l=/\s+/,u=s();return{onSync:n,onAsync:e,off:i,trigger:r}}(),o=function(t){"use strict";function n(t,n,i){for(var r,o=[],s=0,a=t.length;a>s;s++)o.push(e.escapeRegExChars(t[s]));return r=i?"\\b("+o.join("|")+")\\b":"("+o.join("|")+")",n?new RegExp(r):new RegExp(r,"i")}var i={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return function(r){function o(e){var n,i,o;return(n=a.exec(e.data))&&(o=t.createElement(r.tagName),r.className&&(o.className=r.className),i=e.splitText(n.index),i.splitText(n[0].length),o.appendChild(i.cloneNode(!0)),e.parentNode.replaceChild(o,i)),!!n}function s(t,e){for(var n,i=3,r=0;r<t.childNodes.length;r++)n=t.childNodes[r],n.nodeType===i?r+=e(n)?1:0:s(n,e)}var a;r=e.mixin({},i,r),r.node&&r.pattern&&(r.pattern=e.isArray(r.pattern)?r.pattern:[r.pattern],a=n(r.pattern,r.caseSensitive,r.wordsOnly),s(r.node,o))}}(window.document),s=function(){"use strict";function n(n,r){n=n||{},n.input||t.error("input is missing"),r.mixin(this),this.$hint=t(n.hint),this.$input=t(n.input),this.query=this.$input.val(),this.queryWhenFocused=this.hasFocus()?this.query:null,this.$overflowHelper=i(this.$input),this._checkLanguageDirection(),0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=e.noop)}function i(e){return t('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:e.css("font-family"),fontSize:e.css("font-size"),fontStyle:e.css("font-style"),fontVariant:e.css("font-variant"),fontWeight:e.css("font-weight"),wordSpacing:e.css("word-spacing"),letterSpacing:e.css("letter-spacing"),textIndent:e.css("text-indent"),textRendering:e.css("text-rendering"),textTransform:e.css("text-transform")}).insertAfter(e)}function o(t,e){return n.normalizeQuery(t)===n.normalizeQuery(e)}function s(t){return t.altKey||t.ctrlKey||t.metaKey||t.shiftKey}var a;return a={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},n.normalizeQuery=function(t){return e.toStr(t).replace(/^\s*/g,"").replace(/\s{2,}/g," ")},e.mixin(n.prototype,r,{_onBlur:function(){this.resetInputValue(),this.trigger("blurred")},_onFocus:function(){this.queryWhenFocused=this.query,this.trigger("focused")},_onKeydown:function(t){var e=a[t.which||t.keyCode];this._managePreventDefault(e,t),e&&this._shouldTrigger(e,t)&&this.trigger(e+"Keyed",t)},_onInput:function(){this._setQuery(this.getInputValue()),this.clearHintIfInvalid(),this._checkLanguageDirection()},_managePreventDefault:function(t,e){var n;switch(t){case"up":case"down":n=!s(e);break;default:n=!1}n&&e.preventDefault()},_shouldTrigger:function(t,e){var n;switch(t){case"tab":n=!s(e);break;default:n=!0}return n},_checkLanguageDirection:function(){var t=(this.$input.css("direction")||"ltr").toLowerCase();this.dir!==t&&(this.dir=t,this.$hint.attr("dir",t),this.trigger("langDirChanged",t))},_setQuery:function(t,e){var n,i;n=o(t,this.query),i=n?this.query.length!==t.length:!1,this.query=t,e||n?!e&&i&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query)},bind:function(){var t,n,i,r,o=this;return t=e.bind(this._onBlur,this),n=e.bind(this._onFocus,this),i=e.bind(this._onKeydown,this),r=e.bind(this._onInput,this),this.$input.on("blur.tt",t).on("focus.tt",n).on("keydown.tt",i),!e.isMsie()||e.isMsie()>9?this.$input.on("input.tt",r):this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(t){a[t.which||t.keyCode]||e.defer(e.bind(o._onInput,o,t))}),this},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getLangDir:function(){return this.dir},getQuery:function(){return this.query||""},setQuery:function(t,e){this.setInputValue(t),this._setQuery(t,e)},hasQueryChangedSinceLastFocus:function(){return this.query!==this.queryWhenFocused},getInputValue:function(){return this.$input.val()},setInputValue:function(t){this.$input.val(t),this.clearHintIfInvalid(),this._checkLanguageDirection()},resetInputValue:function(){this.setInputValue(this.query)},getHint:function(){return this.$hint.val()},setHint:function(t){this.$hint.val(t)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var t,e,n,i;t=this.getInputValue(),e=this.getHint(),n=t!==e&&0===e.indexOf(t),i=""!==t&&n&&!this.hasOverflow(),!i&&this.clearHint()},hasFocus:function(){return this.$input.is(":focus")},hasOverflow:function(){var t=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=t},isCursorAtEnd:function(){var t,n,i;return t=this.$input.val().length,n=this.$input[0].selectionStart,e.isNumber(n)?n===t:document.selection?(i=document.selection.createRange(),i.moveStart("character",-t),t===i.text.length):!0},destroy:function(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$overflowHelper.remove(),this.$hint=this.$input=this.$overflowHelper=t("<div>")}}),n}(),a=function(){"use strict";function n(n,r){n=n||{},n.templates=n.templates||{},n.templates.notFound=n.templates.notFound||n.templates.empty,n.source||t.error("missing source"),n.node||t.error("missing node"),n.name&&!a(n.name)&&t.error("invalid dataset name: "+n.name),r.mixin(this),this.highlight=!!n.highlight,this.name=n.name||u(),this.limit=n.limit||5,this.displayFn=i(n.display||n.displayKey),this.templates=s(n.templates,this.displayFn),this.source=n.source.__ttAdapter?n.source.__ttAdapter():n.source,this.async=e.isUndefined(n.async)?this.source.length>2:!!n.async,this._resetLastSuggestion(),this.$el=t(n.node).addClass(this.classes.dataset).addClass(this.classes.dataset+"-"+this.name)}function i(t){function n(e){return e[t]}return t=t||e.stringify,e.isFunction(t)?t:n}function s(n,i){function r(e){return t("<div>").text(i(e))}return{notFound:n.notFound&&e.templatify(n.notFound),pending:n.pending&&e.templatify(n.pending),header:n.header&&e.templatify(n.header),footer:n.footer&&e.templatify(n.footer),suggestion:n.suggestion||r}}function a(t){return/^[_a-zA-Z0-9-]+$/.test(t)}var l,u;return l={val:"tt-selectable-display",obj:"tt-selectable-object"},u=e.getIdGenerator(),n.extractData=function(e){var n=t(e);return n.data(l.obj)?{val:n.data(l.val)||"",obj:n.data(l.obj)||null}:null},e.mixin(n.prototype,r,{_overwrite:function(t,e){e=e||[],e.length?this._renderSuggestions(t,e):this.async&&this.templates.pending?this._renderPending(t):!this.async&&this.templates.notFound?this._renderNotFound(t):this._empty(),this.trigger("rendered",this.name,e,!1)},_append:function(t,e){e=e||[],e.length&&this.$lastSuggestion.length?this._appendSuggestions(t,e):e.length?this._renderSuggestions(t,e):!this.$lastSuggestion.length&&this.templates.notFound&&this._renderNotFound(t),this.trigger("rendered",this.name,e,!0)},_renderSuggestions:function(t,e){var n;n=this._getSuggestionsFragment(t,e),this.$lastSuggestion=n.children().last(),this.$el.html(n).prepend(this._getHeader(t,e)).append(this._getFooter(t,e))},_appendSuggestions:function(t,e){var n,i;n=this._getSuggestionsFragment(t,e),i=n.children().last(),this.$lastSuggestion.after(n),this.$lastSuggestion=i},_renderPending:function(t){var e=this.templates.pending;this._resetLastSuggestion(),e&&this.$el.html(e({query:t,dataset:this.name}))},_renderNotFound:function(t){var e=this.templates.notFound;this._resetLastSuggestion(),e&&this.$el.html(e({query:t,dataset:this.name}))},_empty:function(){this.$el.empty(),this._resetLastSuggestion()},_getSuggestionsFragment:function(n,i){var r,s=this;return r=document.createDocumentFragment(),e.each(i,function(e){var i,o;o=s._injectQuery(n,e),i=t(s.templates.suggestion(o)).data(l.obj,e).data(l.val,s.displayFn(e)).addClass(s.classes.suggestion+" "+s.classes.selectable),r.appendChild(i[0])}),this.highlight&&o({className:this.classes.highlight,node:r,pattern:n}),t(r)},_getFooter:function(t,e){return this.templates.footer?this.templates.footer({query:t,suggestions:e,dataset:this.name}):null},_getHeader:function(t,e){return this.templates.header?this.templates.header({query:t,suggestions:e,dataset:this.name}):null},_resetLastSuggestion:function(){this.$lastSuggestion=t()},_injectQuery:function(t,n){return e.isObject(n)?e.mixin({_query:t},n):n},update:function(e){function n(t){s||(s=!0,t=(t||[]).slice(0,r.limit),a=t.length,r._overwrite(e,t),a<r.limit&&r.async&&r.trigger("asyncRequested",e))}function i(n){n=n||[],!o&&a<r.limit&&(r.cancel=t.noop,a+=n.length,r._append(e,n.slice(0,r.limit-a)),r.async&&r.trigger("asyncReceived",e))}var r=this,o=!1,s=!1,a=0;this.cancel(),this.cancel=function(){o=!0,r.cancel=t.noop,r.async&&r.trigger("asyncCanceled",e)},this.source(e,n,i),!s&&n([])},cancel:t.noop,clear:function(){this._empty(),this.cancel(),this.trigger("cleared")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=t("<div>")}}),n}(),l=function(){"use strict";function n(n,i){function r(e){var n=o.$node.find(e.node).first();return e.node=n.length?n:t("<div>").appendTo(o.$node),new a(e,i)}var o=this;n=n||{},n.node||t.error("node is required"),i.mixin(this),this.$node=t(n.node),this.query=null,this.datasets=e.map(n.datasets,r)}return e.mixin(n.prototype,r,{_onSelectableClick:function(e){this.trigger("selectableClicked",t(e.currentTarget))},_onRendered:function(t,e,n,i){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetRendered",e,n,i)},_onCleared:function(){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetCleared")},_propagate:function(){this.trigger.apply(this,arguments)},_allDatasetsEmpty:function(){function t(t){return t.isEmpty()}return e.every(this.datasets,t)},_getSelectables:function(){return this.$node.find(this.selectors.selectable)},_removeCursor:function(){var t=this.getActiveSelectable();t&&t.removeClass(this.classes.cursor)},_ensureVisible:function(t){var e,n,i,r;e=t.position().top,n=e+t.outerHeight(!0),i=this.$node.scrollTop(),r=this.$node.height()+parseInt(this.$node.css("paddingTop"),10)+parseInt(this.$node.css("paddingBottom"),10),0>e?this.$node.scrollTop(i+e):n>r&&this.$node.scrollTop(i+(n-r))},bind:function(){var t,n=this;return t=e.bind(this._onSelectableClick,this),this.$node.on("click.tt",this.selectors.selectable,t),e.each(this.datasets,function(t){t.onSync("asyncRequested",n._propagate,n).onSync("asyncCanceled",n._propagate,n).onSync("asyncReceived",n._propagate,n).onSync("rendered",n._onRendered,n).onSync("cleared",n._onCleared,n)}),this},isOpen:function(){return this.$node.hasClass(this.classes.open)},open:function(){this.$node.addClass(this.classes.open)},close:function(){this.$node.removeClass(this.classes.open),this._removeCursor()},setLanguageDirection:function(t){this.$node.attr("dir",t)},selectableRelativeToCursor:function(t){var e,n,i,r;return n=this.getActiveSelectable(),e=this._getSelectables(),i=n?e.index(n):-1,r=i+t,r=(r+1)%(e.length+1)-1,r=-1>r?e.length-1:r,-1===r?null:e.eq(r)},setCursor:function(t){this._removeCursor(),(t=t&&t.first())&&(t.addClass(this.classes.cursor),this._ensureVisible(t))},getSelectableData:function(t){return t&&t.length?a.extractData(t):null},getActiveSelectable:function(){var t=this._getSelectables().filter(this.selectors.cursor).first();return t.length?t:null},getTopSelectable:function(){var t=this._getSelectables().first();return t.length?t:null},update:function(t){function n(e){e.update(t)}var i=t!==this.query;return i&&(this.query=t,e.each(this.datasets,n)),i},empty:function(){function t(t){t.clear()}e.each(this.datasets,t),this.query=null,this.$node.addClass(this.classes.empty)},destroy:function(){function n(t){t.destroy()}this.$node.off(".tt"),this.$node=t("<div>"),e.each(this.datasets,n)}}),n}(),u=function(){"use strict";function t(){l.apply(this,[].slice.call(arguments,0))}var n=l.prototype;return e.mixin(t.prototype,l.prototype,{open:function(){return!this._allDatasetsEmpty()&&this._show(),n.open.apply(this,[].slice.call(arguments,0))},close:function(){return this._hide(),n.close.apply(this,[].slice.call(arguments,0))},_onRendered:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),n._onRendered.apply(this,[].slice.call(arguments,0))},_onCleared:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),n._onCleared.apply(this,[].slice.call(arguments,0))},setLanguageDirection:function(t){return this.$node.css("ltr"===t?this.css.ltr:this.css.rtl),n.setLanguageDirection.apply(this,[].slice.call(arguments,0))},_hide:function(){this.$node.hide()},_show:function(){this.$node.css("display","block")}}),t}(),c=function(){"use strict";function n(n,r){var o,s,a,l,u,c,h,f,d,p,g;n=n||{},n.input||t.error("missing input"),n.menu||t.error("missing menu"),n.eventBus||t.error("missing event bus"),r.mixin(this),this.eventBus=n.eventBus,this.minLength=e.isNumber(n.minLength)?n.minLength:1,this.input=n.input,this.menu=n.menu,this.enabled=!0,this.active=!1,this.input.hasFocus()&&this.activate(),this.dir=this.input.getLangDir(),this._hacks(),this.menu.bind().onSync("selectableClicked",this._onSelectableClicked,this).onSync("asyncRequested",this._onAsyncRequested,this).onSync("asyncCanceled",this._onAsyncCanceled,this).onSync("asyncReceived",this._onAsyncReceived,this).onSync("datasetRendered",this._onDatasetRendered,this).onSync("datasetCleared",this._onDatasetCleared,this),o=i(this,"activate","open","_onFocused"),s=i(this,"deactivate","_onBlurred"),a=i(this,"isActive","isOpen","_onEnterKeyed"),l=i(this,"isActive","isOpen","_onTabKeyed"),u=i(this,"isActive","_onEscKeyed"),c=i(this,"isActive","open","_onUpKeyed"),h=i(this,"isActive","open","_onDownKeyed"),f=i(this,"isActive","isOpen","_onLeftKeyed"),d=i(this,"isActive","isOpen","_onRightKeyed"),p=i(this,"_openIfActive","_onQueryChanged"),g=i(this,"_openIfActive","_onWhitespaceChanged"),this.input.bind().onSync("focused",o,this).onSync("blurred",s,this).onSync("enterKeyed",a,this).onSync("tabKeyed",l,this).onSync("escKeyed",u,this).onSync("upKeyed",c,this).onSync("downKeyed",h,this).onSync("leftKeyed",f,this).onSync("rightKeyed",d,this).onSync("queryChanged",p,this).onSync("whitespaceChanged",g,this).onSync("langDirChanged",this._onLangDirChanged,this)}function i(t){var n=[].slice.call(arguments,1);return function(){var i=[].slice.call(arguments);e.each(n,function(e){return t[e].apply(t,i)})}}return e.mixin(n.prototype,{_hacks:function(){var n,i;n=this.input.$input||t("<div>"),i=this.menu.$node||t("<div>"),n.on("blur.tt",function(t){var r,o,s;r=document.activeElement,o=i.is(r),s=i.has(r).length>0,e.isMsie()&&(o||s)&&(t.preventDefault(),t.stopImmediatePropagation(),e.defer(function(){n.focus()}))}),i.on("mousedown.tt",function(t){t.preventDefault()})},_onSelectableClicked:function(t,e){this.select(e)},_onDatasetCleared:function(){this._updateHint()},_onDatasetRendered:function(t,e,n,i){this._updateHint(),this.eventBus.trigger("render",n,i,e)},_onAsyncRequested:function(t,e,n){this.eventBus.trigger("asyncrequest",n,e)},_onAsyncCanceled:function(t,e,n){this.eventBus.trigger("asynccancel",n,e)},_onAsyncReceived:function(t,e,n){this.eventBus.trigger("asyncreceive",n,e)},_onFocused:function(){this._minLengthMet()&&this.menu.update(this.input.getQuery())},_onBlurred:function(){this.input.hasQueryChangedSinceLastFocus()&&this.eventBus.trigger("change",this.input.getQuery())},_onEnterKeyed:function(t,e){var n;(n=this.menu.getActiveSelectable())&&this.select(n)&&e.preventDefault()},_onTabKeyed:function(t,e){var n;(n=this.menu.getActiveSelectable())?this.select(n)&&e.preventDefault():(n=this.menu.getTopSelectable())&&this.autocomplete(n)&&e.preventDefault()},_onEscKeyed:function(){this.close()},_onUpKeyed:function(){this.moveCursor(-1)},_onDownKeyed:function(){this.moveCursor(1)},_onLeftKeyed:function(){"rtl"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onRightKeyed:function(){"ltr"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onQueryChanged:function(t,e){this._minLengthMet(e)?this.menu.update(e):this.menu.empty()},_onWhitespaceChanged:function(){this._updateHint()},_onLangDirChanged:function(t,e){this.dir!==e&&(this.dir=e,this.menu.setLanguageDirection(e))},_openIfActive:function(){this.isActive()&&this.open()},_minLengthMet:function(t){return t=e.isString(t)?t:this.input.getQuery()||"",t.length>=this.minLength},_updateHint:function(){var t,n,i,r,o,a,l;t=this.menu.getTopSelectable(),n=this.menu.getSelectableData(t),i=this.input.getInputValue(),!n||e.isBlankString(i)||this.input.hasOverflow()?this.input.clearHint():(r=s.normalizeQuery(i),o=e.escapeRegExChars(r),a=new RegExp("^(?:"+o+")(.+$)","i"),l=a.exec(n.val),l&&this.input.setHint(i+l[1]))},isEnabled:function(){return this.enabled},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},isActive:function(){return this.active},activate:function(){return this.isActive()?!0:!this.isEnabled()||this.eventBus.before("active")?!1:(this.active=!0,this.eventBus.trigger("active"),!0)},deactivate:function(){return this.isActive()?this.eventBus.before("idle")?!1:(this.active=!1,this.close(),this.eventBus.trigger("idle"),!0):!0},isOpen:function(){return this.menu.isOpen()},open:function(){return this.isOpen()||this.eventBus.before("open")||(this.menu.open(),this._updateHint(),this.eventBus.trigger("open")),this.isOpen()},close:function(){return this.isOpen()&&!this.eventBus.before("close")&&(this.menu.close(),this.input.clearHint(),this.input.resetInputValue(),this.eventBus.trigger("close")),!this.isOpen()},setVal:function(t){this.input.setQuery(e.toStr(t))},getVal:function(){return this.input.getQuery()},select:function(t){var e=this.menu.getSelectableData(t);return e&&!this.eventBus.before("select",e.obj)?(this.input.setQuery(e.val,!0),this.eventBus.trigger("select",e.obj),this.close(),!0):!1},autocomplete:function(t){var e,n,i;return e=this.input.getQuery(),n=this.menu.getSelectableData(t),i=n&&e!==n.val,i&&!this.eventBus.before("autocomplete",n.obj)?(this.input.setQuery(n.val),this.eventBus.trigger("autocomplete",n.obj),!0):!1},moveCursor:function(t){var e,n,i,r,o;return e=this.input.getQuery(),n=this.menu.selectableRelativeToCursor(t),i=this.menu.getSelectableData(n),r=i?i.obj:null,o=this._minLengthMet()&&this.menu.update(e),o||this.eventBus.before("cursorchange",r)?!1:(this.menu.setCursor(n),i?this.input.setInputValue(i.val):(this.input.resetInputValue(),this._updateHint()),this.eventBus.trigger("cursorchange",r),!0)},destroy:function(){this.input.destroy(),this.menu.destroy()}}),n}();!function(){"use strict";function r(e,n){e.each(function(){var e,i=t(this);(e=i.data(g.typeahead))&&n(e,i)})}function o(t,e){return t.clone().addClass(e.classes.hint).removeData().css(e.css.hint).css(h(t)).prop("readonly",!0).removeAttr("id name placeholder required").attr({autocomplete:"off",spellcheck:"false",tabindex:-1})}function a(t,e){t.data(g.attrs,{dir:t.attr("dir"),autocomplete:t.attr("autocomplete"),spellcheck:t.attr("spellcheck"),style:t.attr("style")}),t.addClass(e.classes.input).attr({autocomplete:"off",spellcheck:!1});try{!t.attr("dir")&&t.attr("dir","auto")}catch(n){}return t}function h(t){return{backgroundAttachment:t.css("background-attachment"),backgroundClip:t.css("background-clip"),backgroundColor:t.css("background-color"),backgroundImage:t.css("background-image"),backgroundOrigin:t.css("background-origin"),backgroundPosition:t.css("background-position"),backgroundRepeat:t.css("background-repeat"),backgroundSize:t.css("background-size")}}function f(t){var n,i;n=t.data(g.www),i=t.parent().filter(n.selectors.wrapper),e.each(t.data(g.attrs),function(n,i){e.isUndefined(n)?t.removeAttr(i):t.attr(i,n)}),t.removeData(g.typeahead).removeData(g.www).removeData(g.attr).removeClass(n.classes.input),i.length&&(t.detach().insertAfter(i),i.remove())}function d(n){var i,r;return i=e.isJQuery(n)||e.isElement(n),r=i?t(n).first():[],r.length?r:null}var p,g,m;p=t.fn.typeahead,g={www:"tt-www",attrs:"tt-attrs",typeahead:"tt-typeahead"},m={initialize:function(r,h){function f(){var n,f,m,v,y,b,w,_,x,k,C;e.each(h,function(t){t.highlight=!!r.highlight}),n=t(this),f=t(p.html.wrapper),m=d(r.hint),v=d(r.menu),y=r.hint!==!1&&!m,b=r.menu!==!1&&!v,y&&(m=o(n,p)),b&&(v=t(p.html.menu).css(p.css.menu)),m&&m.val(""),n=a(n,p),(y||b)&&(f.css(p.css.wrapper),n.css(y?p.css.input:p.css.inputWithNoHint),n.wrap(f).parent().prepend(y?m:null).append(b?v:null)),C=b?u:l,w=new i({el:n}),_=new s({hint:m,input:n},p),x=new C({node:v,datasets:h},p),k=new c({input:_,menu:x,eventBus:w,minLength:r.minLength},p),n.data(g.www,p),n.data(g.typeahead,k)}var p;return h=e.isArray(h)?h:[].slice.call(arguments,1),r=r||{},p=n(r.classNames),this.each(f)},isEnabled:function(){var t;return r(this.first(),function(e){t=e.isEnabled()}),t},enable:function(){return r(this,function(t){t.enable()}),this},disable:function(){return r(this,function(t){t.disable()}),this},isActive:function(){var t;return r(this.first(),function(e){t=e.isActive()}),t},activate:function(){return r(this,function(t){t.activate()}),this},deactivate:function(){return r(this,function(t){t.deactivate()}),this},isOpen:function(){var t;return r(this.first(),function(e){t=e.isOpen()}),t},open:function(){return r(this,function(t){t.open()}),this},close:function(){return r(this,function(t){t.close()}),this},select:function(e){var n=!1,i=t(e);return r(this.first(),function(t){n=t.select(i)}),n},autocomplete:function(e){var n=!1,i=t(e);return r(this.first(),function(t){n=t.autocomplete(i)}),n},moveCursor:function(t){var e=!1;return r(this.first(),function(n){e=n.moveCursor(t)}),e},val:function(t){var e;return arguments.length?(r(this,function(e){e.setVal(t)}),this):(r(this.first(),function(t){e=t.getVal()}),e)},destroy:function(){return r(this,function(t,e){f(e),t.destroy()}),this}},t.fn.typeahead=function(t){return m[t]?m[t].apply(this,[].slice.call(arguments,1)):m.initialize.apply(this,arguments)},t.fn.typeahead.noConflict=function(){return t.fn.typeahead=p,this}}()}),function(t){function e(t,e){if(!e||"function"==typeof e)return t;for(var n in e)t[n]=e[n];return t}function n(t,e){for(var i in e)i in t?n(t[i],e[i]):t[i]=e[i];return t}function i(t,e,n){var i,r=0,o=t.length,s=void 0===o||"[object Array]"!==Object.prototype.toString.apply(t)||"function"==typeof t;if(n)if(s){for(i in t)if(e.apply(t[i],n)===!1)break}else for(;o>r&&e.apply(t[r++],n)!==!1;);else if(s){for(i in t)if(e.call(t[i],i,t[i])===!1)break}else for(;o>r&&e.call(t[r],r,t[r++])!==!1;);return t}function r(t){return"string"==typeof t?t.replace(/[&<>"'\/]/g,function(t){return V[t]}):t}function o(t){var e=function(t){if(window.XMLHttpRequest)return t(null,new XMLHttpRequest);if(window.ActiveXObject)try{return t(null,new ActiveXObject("Msxml2.XMLHTTP"))}catch(e){return t(null,new ActiveXObject("Microsoft.XMLHTTP"))}return t(new Error)},n=function(t){if("string"==typeof t)return t;var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e.join("&")},i=function(t){t=t.replace(/\r\n/g,"\n");for(var e="",n=0;n<t.length;n++){var i=t.charCodeAt(n);128>i?e+=String.fromCharCode(i):i>127&&2048>i?(e+=String.fromCharCode(i>>6|192),e+=String.fromCharCode(63&i|128)):(e+=String.fromCharCode(i>>12|224),e+=String.fromCharCode(i>>6&63|128),e+=String.fromCharCode(63&i|128))}return e},r=function(t){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t=i(t);var n,r,o,s,a,l,u,c="",h=0;do n=t.charCodeAt(h++),r=t.charCodeAt(h++),o=t.charCodeAt(h++),s=n>>2,a=(3&n)<<4|r>>4,l=(15&r)<<2|o>>6,u=63&o,isNaN(r)?l=u=64:isNaN(o)&&(u=64),c+=e.charAt(s)+e.charAt(a)+e.charAt(l)+e.charAt(u),n=r=o="",s=a=l=u="";while(h<t.length);return c},o=function(){for(var t=arguments[0],e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])}return t},s=function(t,i,r,a){"function"==typeof r&&(a=r,r={}),r.cache=r.cache||!1,r.data=r.data||{},r.headers=r.headers||{},r.jsonp=r.jsonp||!1,r.async=void 0===r.async?!0:r.async;var l,u=o({accept:"*/*","content-type":"application/x-www-form-urlencoded;charset=UTF-8"},s.headers,r.headers);if(l="application/json"===u["content-type"]?JSON.stringify(r.data):n(r.data),"GET"===t){var c=[];if(l&&(c.push(l),l=null),r.cache||c.push("_="+(new Date).getTime()),r.jsonp&&(c.push("callback="+r.jsonp),c.push("jsonp="+r.jsonp)),c=c.join("&"),c.length>1&&(i+=i.indexOf("?")>-1?"&"+c:"?"+c),r.jsonp){var h=document.getElementsByTagName("head")[0],f=document.createElement("script");return f.type="text/javascript",f.src=i,void h.appendChild(f)}}e(function(e,n){if(e)return a(e);n.open(t,i,r.async);for(var o in u)u.hasOwnProperty(o)&&n.setRequestHeader(o,u[o]);n.onreadystatechange=function(){if(4===n.readyState){var t=n.responseText||"";if(!a)return;a(n.status,{text:function(){return t},json:function(){try{return JSON.parse(t)}catch(e){return K.error("Can not parse JSON. URL: "+i),{}}}})}},n.send(l)})},a={authBasic:function(t,e){s.headers.Authorization="Basic "+r(t+":"+e)},connect:function(t,e,n){return s("CONNECT",t,e,n)},del:function(t,e,n){return s("DELETE",t,e,n)},get:function(t,e,n){return s("GET",t,e,n)},head:function(t,e,n){return s("HEAD",t,e,n)},headers:function(t){s.headers=t||{}},isAllowed:function(t,e,n){this.options(t,function(t,i){n(-1!==i.text().indexOf(e))})},options:function(t,e,n){return s("OPTIONS",t,e,n)},patch:function(t,e,n){return s("PATCH",t,e,n)},post:function(t,e,n){return s("POST",t,e,n)},put:function(t,e,n){return s("PUT",t,e,n)},trace:function(t,e,n){return s("TRACE",t,e,n)}},l=t.type?t.type.toLowerCase():"get";a[l](t.url,t,function(e,n){200===e||0===e&&n.text()?t.success(n.json(),e,null):t.error(n.text(),e,null)})}function s(t,e){"function"==typeof t&&(e=t,t={}),t=t||{},K.extend(W,t),delete W.fixLng,W.functions&&(delete W.functions,K.extend(K,t.functions)),"string"==typeof W.ns&&(W.ns={namespaces:[W.ns],defaultNs:W.ns}),"string"==typeof W.fallbackNS&&(W.fallbackNS=[W.fallbackNS]),("string"==typeof W.fallbackLng||"boolean"==typeof W.fallbackLng)&&(W.fallbackLng=[W.fallbackLng]),W.interpolationPrefixEscaped=K.regexEscape(W.interpolationPrefix),W.interpolationSuffixEscaped=K.regexEscape(W.interpolationSuffix),W.lng||(W.lng=K.detectLanguage()),$=K.toLanguages(W.lng),I=$[0],K.log("currentLng set to: "+I),W.useCookie&&K.cookie.read(W.cookieName)!==I&&K.cookie.create(W.cookieName,I,W.cookieExpirationTime,W.cookieDomain),W.detectLngFromLocalStorage&&"undefined"!=typeof document&&window.localStorage&&K.localStorage.setItem("i18next_lng",I);var n=j;t.fixLng&&(n=function(t,e){return e=e||{},e.lng=e.lng||n.lng,j(t,e)},n.lng=I),J.setCurrentLng(I),M&&W.setJqueryExt&&x();var i;if(M&&M.Deferred&&(i=M.Deferred()),!W.resStore){var r=K.toLanguages(W.lng);"string"==typeof W.preload&&(W.preload=[W.preload]);for(var o=0,s=W.preload.length;s>o;o++)for(var a=K.toLanguages(W.preload[o]),l=0,u=a.length;u>l;l++)r.indexOf(a[l])<0&&r.push(a[l]);return F.sync.load(r,W,function(t,r){R=r,q=!0,e&&e(n),i&&i.resolve(n)}),i?i.promise():void 0}return R=W.resStore,q=!0,e&&e(n),i&&i.resolve(n),i?i.promise():void 0}function a(){return q}function l(t,e){"string"==typeof t&&(t=[t]);for(var n=0,i=t.length;i>n;n++)W.preload.indexOf(t[n])<0&&W.preload.push(t[n]);return s(e)}function u(t,e,n,i){"string"!=typeof e?(n=e,e=W.ns.defaultNs):W.ns.namespaces.indexOf(e)<0&&W.ns.namespaces.push(e),R[t]=R[t]||{},R[t][e]=R[t][e]||{},i?K.deepExtend(R[t][e],n):K.extend(R[t][e],n),W.useLocalStorage&&B._storeLocal(R)}function c(t,e){"string"!=typeof e&&(e=W.ns.defaultNs),R[t]=R[t]||{};var n=R[t][e]||{},i=!1;for(var r in n)n.hasOwnProperty(r)&&(i=!0);return i}function h(t,e){return"string"!=typeof e&&(e=W.ns.defaultNs),R[t]=R[t]||{},K.extend({},R[t][e])}function f(t,e){"string"!=typeof e&&(e=W.ns.defaultNs),R[t]=R[t]||{},R[t][e]={},W.useLocalStorage&&B._storeLocal(R)}function d(t,e,n,i){"string"!=typeof e?(resource=e,e=W.ns.defaultNs):W.ns.namespaces.indexOf(e)<0&&W.ns.namespaces.push(e),R[t]=R[t]||{},R[t][e]=R[t][e]||{};for(var r=n.split(W.keyseparator),o=0,s=R[t][e];r[o];)o==r.length-1?s[r[o]]=i:(null==s[r[o]]&&(s[r[o]]={}),s=s[r[o]]),o++;W.useLocalStorage&&B._storeLocal(R)}function p(t,e,n){"string"!=typeof e?(resource=e,e=W.ns.defaultNs):W.ns.namespaces.indexOf(e)<0&&W.ns.namespaces.push(e);for(var i in n)"string"==typeof n[i]&&d(t,e,i,n[i])}function g(t){W.ns.defaultNs=t}function m(t,e){v([t],e)}function v(t,e){var n={dynamicLoad:W.dynamicLoad,resGetPath:W.resGetPath,getAsync:W.getAsync,customLoad:W.customLoad,ns:{namespaces:t,defaultNs:""}},i=K.toLanguages(W.lng);"string"==typeof W.preload&&(W.preload=[W.preload]);for(var r=0,o=W.preload.length;o>r;r++)for(var s=K.toLanguages(W.preload[r]),a=0,l=s.length;l>a;a++)i.indexOf(s[a])<0&&i.push(s[a]);for(var u=[],c=0,h=i.length;h>c;c++){var f=!1,d=R[i[c]];if(d)for(var p=0,g=t.length;g>p;p++)d[t[p]]||(f=!0);else f=!0;f&&u.push(i[c])}u.length?F.sync._fetch(u,n,function(n,i){var r=t.length*u.length;K.each(t,function(t,n){W.ns.namespaces.indexOf(n)<0&&W.ns.namespaces.push(n),K.each(u,function(t,o){R[o]=R[o]||{},R[o][n]=i[o][n],r--,0===r&&e&&(W.useLocalStorage&&F.sync._storeLocal(R),e())})})}):e&&e()}function y(t,e,n){return"function"==typeof e?(n=e,e={}):e||(e={}),e.lng=t,s(e,n)}function b(){return I}function w(t){R={},y(I,t)}function _(){window.i18next=window.i18n,U?window.i18n=U:delete window.i18n}function x(){function t(t,e,n){if(0!==e.length){var i="text";if(0===e.indexOf("[")){var r=e.split("]");e=r[1],i=r[0].substr(1,r[0].length-1)}e.indexOf(";")===e.length-1&&(e=e.substr(0,e.length-2));var o;if("html"===i)o=W.defaultValueFromContent?M.extend({defaultValue:t.html()},n):n,t.html(M.t(e,o));else if("text"===i)o=W.defaultValueFromContent?M.extend({defaultValue:t.text()},n):n,t.text(M.t(e,o));else if("prepend"===i)o=W.defaultValueFromContent?M.extend({defaultValue:t.html()},n):n,t.prepend(M.t(e,o));else if("append"===i)o=W.defaultValueFromContent?M.extend({defaultValue:t.html()},n):n,t.append(M.t(e,o));else if(0===i.indexOf("data-")){var s=i.substr("data-".length);o=W.defaultValueFromContent?M.extend({defaultValue:t.data(s)},n):n;var a=M.t(e,o);t.data(s,a),t.attr(i,a)}else o=W.defaultValueFromContent?M.extend({defaultValue:t.attr(i)},n):n,t.attr(i,M.t(e,o))}}function e(e,n){var i=e.attr(W.selectorAttr);if(i||"undefined"==typeof i||i===!1||(i=e.text()||e.val()),i){var r=e,o=e.data("i18n-target");if(o&&(r=e.find(o)||e),n||W.useDataAttrOptions!==!0||(n=e.data("i18n-options")),n=n||{},i.indexOf(";")>=0){var s=i.split(";");M.each(s,function(e,i){""!==i&&t(r,i,n)})}else t(r,i,n);W.useDataAttrOptions===!0&&e.data("i18n-options",n)}}M.t=M.t||j,M.fn.i18n=function(t){return this.each(function(){e(M(this),t);var n=M(this).find("["+W.selectorAttr+"]");n.each(function(){e(M(this),t)})})}}function k(t,e,n,i){if(!t)return t;if(i=i||e,t.indexOf(i.interpolationPrefix||W.interpolationPrefix)<0)return t;var r=i.interpolationPrefix?K.regexEscape(i.interpolationPrefix):W.interpolationPrefixEscaped,o=i.interpolationSuffix?K.regexEscape(i.interpolationSuffix):W.interpolationSuffixEscaped,s="HTML"+o,a=e.replace&&"object"==typeof e.replace?e.replace:e;return K.each(a,function(e,a){var l=n?n+W.keyseparator+e:e;"object"==typeof a&&null!==a?t=k(t,a,l,i):i.escapeInterpolation||W.escapeInterpolation?(t=t.replace(new RegExp([r,l,s].join(""),"g"),K.regexReplacementEscape(a)),t=t.replace(new RegExp([r,l,o].join(""),"g"),K.regexReplacementEscape(K.escape(a)))):t=t.replace(new RegExp([r,l,o].join(""),"g"),K.regexReplacementEscape(a))
}),t}function C(t,e){var n=",",i="{",r="}",o=K.extend({},e);for(delete o.postProcess;-1!=t.indexOf(W.reusePrefix)&&(H++,!(H>W.maxRecursion));){var s=t.lastIndexOf(W.reusePrefix),a=t.indexOf(W.reuseSuffix,s)+W.reuseSuffix.length,l=t.substring(s,a),u=l.replace(W.reusePrefix,"").replace(W.reuseSuffix,"");if(s>=a)return K.error("there is an missing closing in following translation value",t),"";if(-1!=u.indexOf(n)){var c=u.indexOf(n);if(-1!=u.indexOf(i,c)&&-1!=u.indexOf(r,c)){var h=u.indexOf(i,c),f=u.indexOf(r,h)+r.length;try{o=K.extend(o,JSON.parse(u.substring(h,f))),u=u.substring(0,c)}catch(d){}}}var p=A(u,o);t=t.replace(l,K.regexReplacementEscape(p))}return t}function T(t){return t.context&&("string"==typeof t.context||"number"==typeof t.context)}function S(t){return void 0!==t.count&&"string"!=typeof t.count}function E(t){return void 0!==t.indefinite_article&&"string"!=typeof t.indefinite_article&&t.indefinite_article}function O(t,e){e=e||{};var n=P(t,e),i=L(t,e);return void 0!==i||i===n}function j(t,e){return e=e||{},q?(H=0,A.apply(null,arguments)):(K.log("i18next not finished initialization. you might have called t function before loading resources finished."),e.defaultValue||"")}function P(t,e){return void 0!==e.defaultValue?e.defaultValue:t}function N(){for(var t=[],e=1;e<arguments.length;e++)t.push(arguments[e]);return{postProcess:"sprintf",sprintf:t}}function A(t,e){if(e&&"object"!=typeof e?"sprintf"===W.shortcutFunction?e=N.apply(null,arguments):"defaultValue"===W.shortcutFunction&&(e={defaultValue:e}):e=e||{},"object"==typeof W.defaultVariables&&(e=K.extend({},W.defaultVariables,e)),void 0===t||null===t||""===t)return"";"number"==typeof t&&(t=String(t)),"string"==typeof t&&(t=[t]);var n=t[0];if(t.length>1)for(var i=0;i<t.length&&(n=t[i],!O(n,e));i++);var r,o=P(n,e),s=L(n,e),a=e.lng?K.toLanguages(e.lng,e.fallbackLng):$,l=e.ns||W.ns.defaultNs;n.indexOf(W.nsseparator)>-1&&(r=n.split(W.nsseparator),l=r[0],n=r[1]),void 0===s&&W.sendMissing&&"function"==typeof W.missingKeyHandler&&(e.lng?W.missingKeyHandler(a[0],l,n,o,a):W.missingKeyHandler(W.lng,l,n,o,a));var u;u="string"==typeof W.postProcess&&""!==W.postProcess?[W.postProcess]:"array"==typeof W.postProcess||"object"==typeof W.postProcess?W.postProcess:[],"string"==typeof e.postProcess&&""!==e.postProcess?u=u.concat([e.postProcess]):("array"==typeof e.postProcess||"object"==typeof e.postProcess)&&(u=u.concat(e.postProcess)),void 0!==s&&u.length&&u.forEach(function(t){Y[t]&&(s=Y[t](s,n,e))});var c=o;if(o.indexOf(W.nsseparator)>-1&&(r=o.split(W.nsseparator),c=r[1]),c===n&&W.parseMissingKey&&(o=W.parseMissingKey(o)),void 0===s&&(o=k(o,e),o=C(o,e),u.length)){var h=P(n,e);u.forEach(function(t){Y[t]&&(s=Y[t](h,n,e))})}return void 0!==s?s:o}function L(t,e){e=e||{};var n,i,r=P(t,e),o=$;if(!R)return r;if("cimode"===o[0].toLowerCase())return r;if(e.lngs&&(o=e.lngs),e.lng&&(o=K.toLanguages(e.lng,e.fallbackLng),!R[o[0]])){var s=W.getAsync;W.getAsync=!1,F.sync.load(o,W,function(t,e){K.extend(R,e),W.getAsync=s})}var a=e.ns||W.ns.defaultNs;if(t.indexOf(W.nsseparator)>-1){var l=t.split(W.nsseparator);a=l[0],t=l[1]}if(T(e)){n=K.extend({},e),delete n.context,n.defaultValue=W.contextNotFound;var u=a+W.nsseparator+t+"_"+e.context;if(i=j(u,n),i!=W.contextNotFound)return k(i,{context:e.context})}if(S(e,o[0])){n=K.extend({lngs:[o[0]]},e),delete n.count,n._origLng=n._origLng||n.lng||o[0],delete n.lng,n.defaultValue=W.pluralNotFound;var c;if(J.needsPlural(o[0],e.count)){c=a+W.nsseparator+t+W.pluralSuffix;var h=J.get(o[0],e.count);h>=0?c=c+"_"+h:1===h&&(c=a+W.nsseparator+t)}else c=a+W.nsseparator+t;if(i=j(c,n),i!=W.pluralNotFound)return k(i,{count:e.count,interpolationPrefix:e.interpolationPrefix,interpolationSuffix:e.interpolationSuffix});if(!(o.length>1))return n.lng=n._origLng,delete n._origLng,i=j(a+W.nsseparator+t,n),k(i,{count:e.count,interpolationPrefix:e.interpolationPrefix,interpolationSuffix:e.interpolationSuffix});var f=o.slice();if(f.shift(),e=K.extend(e,{lngs:f}),e._origLng=n._origLng,delete e.lng,i=j(a+W.nsseparator+t,e),i!=W.pluralNotFound)return i}if(E(e)){var d=K.extend({},e);delete d.indefinite_article,d.defaultValue=W.indefiniteNotFound;var p=a+W.nsseparator+t+(e.count&&!S(e,o[0])||!e.count?W.indefiniteSuffix:"");if(i=j(p,d),i!=W.indefiniteNotFound)return i}for(var g,m=t.split(W.keyseparator),v=0,y=o.length;y>v&&void 0===g;v++){for(var b=o[v],w=0,_=R[b]&&R[b][a];m[w];)_=_&&_[m[w]],w++;if(void 0!==_&&(!W.showKeyIfEmpty||""!==_)){var x=Object.prototype.toString.apply(_);if("string"==typeof _)_=k(_,e),_=C(_,e);else if("[object Array]"!==x||W.returnObjectTrees||e.returnObjectTrees){if(null===_&&W.fallbackOnNull===!0)_=void 0;else if(null!==_)if(W.returnObjectTrees||e.returnObjectTrees){if("[object Number]"!==x&&"[object Function]"!==x&&"[object RegExp]"!==x){var O="[object Array]"===x?[]:{};K.each(_,function(n){O[n]=A(a+W.nsseparator+t+W.keyseparator+n,e)}),_=O}}else W.objectTreeKeyHandler&&"function"==typeof W.objectTreeKeyHandler?_=W.objectTreeKeyHandler(t,_,b,a,e):(_="key '"+a+":"+t+" ("+b+")' returned an object instead of string.",K.log(_))}else _=_.join("\n"),_=k(_,e),_=C(_,e);"string"==typeof _&&""===_.trim()&&W.fallbackOnEmpty===!0&&(_=void 0),g=_}}if(void 0===g&&!e.isFallbackLookup&&(W.fallbackToDefaultNS===!0||W.fallbackNS&&W.fallbackNS.length>0)){if(e.isFallbackLookup=!0,W.fallbackNS.length){for(var N=0,D=W.fallbackNS.length;D>N;N++)if(g=L(W.fallbackNS[N]+W.nsseparator+t,e),g||""===g&&W.fallbackOnEmpty===!1){var I=g.indexOf(W.nsseparator)>-1?g.split(W.nsseparator)[1]:g,M=r.indexOf(W.nsseparator)>-1?r.split(W.nsseparator)[1]:r;if(I!==M)break}}else e.ns=W.ns.defaultNs,g=L(t,e);e.isFallbackLookup=!1}return g}function D(){var t,e=W.lngWhitelist||[],n=[];if("undefined"!=typeof window&&!function(){for(var t=window.location.search.substring(1),e=t.split("&"),i=0;i<e.length;i++){var r=e[i].indexOf("=");if(r>0){var o=e[i].substring(0,r);o==W.detectLngQS&&n.push(e[i].substring(r+1))}}}(),W.useCookie&&"undefined"!=typeof document){var i=K.cookie.read(W.cookieName);i&&n.push(i)}if(W.detectLngFromLocalStorage&&"undefined"!=typeof window&&window.localStorage){var r=K.localStorage.getItem("i18next_lng");r&&n.push(r)}if("undefined"!=typeof navigator){if(navigator.languages)for(var o=0;o<navigator.languages.length;o++)n.push(navigator.languages[o]);navigator.userLanguage&&n.push(navigator.userLanguage),navigator.language&&n.push(navigator.language)}return function(){for(var i=0;i<n.length;i++){var r=n[i];if(r.indexOf("-")>-1){var o=r.split("-");r=W.lowerCaseLng?o[0].toLowerCase()+"-"+o[1].toLowerCase():o[0].toLowerCase()+"-"+o[1].toUpperCase()}if(0===e.length||e.indexOf(r)>-1){t=r;break}}}(),t||(t=W.fallbackLng[0]),t}Array.prototype.indexOf||(Array.prototype.indexOf=function(t){"use strict";if(null==this)throw new TypeError;var e=Object(this),n=e.length>>>0;if(0===n)return-1;var i=0;if(arguments.length>0&&(i=Number(arguments[1]),i!=i?i=0:0!=i&&1/0!=i&&i!=-1/0&&(i=(i>0||-1)*Math.floor(Math.abs(i)))),i>=n)return-1;for(var r=i>=0?i:Math.max(n-Math.abs(i),0);n>r;r++)if(r in e&&e[r]===t)return r;return-1}),Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(t){"use strict";if(null==this)throw new TypeError;var e=Object(this),n=e.length>>>0;if(0===n)return-1;var i=n;arguments.length>1&&(i=Number(arguments[1]),i!=i?i=0:0!=i&&i!=1/0&&i!=-(1/0)&&(i=(i>0||-1)*Math.floor(Math.abs(i))));for(var r=i>=0?Math.min(i,n-1):n-Math.abs(i);r>=0;r--)if(r in e&&e[r]===t)return r;return-1}),"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});var I,M=t.jQuery||t.Zepto,F={},R={},H=0,$=[],q=!1,B={},U=null;"undefined"!=typeof module&&module.exports?module.exports=F:(M&&(M.i18n=M.i18n||F),t.i18n&&(U=t.i18n),t.i18n=F),B={load:function(t,e,n){e.useLocalStorage?B._loadLocal(t,e,function(i,r){for(var o=[],s=0,a=t.length;a>s;s++)r[t[s]]||o.push(t[s]);o.length>0?B._fetch(o,e,function(t,e){K.extend(r,e),B._storeLocal(e),n(null,r)}):n(null,r)}):B._fetch(t,e,function(t,e){n(null,e)})},_loadLocal:function(t,e,n){var i={},r=(new Date).getTime();if(window.localStorage){var o=t.length;K.each(t,function(t,s){var a=K.localStorage.getItem("res_"+s);a&&(a=JSON.parse(a),a.i18nStamp&&a.i18nStamp+e.localStorageExpirationTime>r&&(i[s]=a)),o--,0===o&&n(null,i)})}},_storeLocal:function(t){if(window.localStorage)for(var e in t)t[e].i18nStamp=(new Date).getTime(),K.localStorage.setItem("res_"+e,JSON.stringify(t[e]))},_fetch:function(t,e,n){var i=e.ns,r={};if(e.dynamicLoad){var o=function(t,e){n(null,e)};if("function"==typeof e.customLoad)e.customLoad(t,i.namespaces,e,o);else{var s=k(e.resGetPath,{lng:t.join("+"),ns:i.namespaces.join("+")});K.ajax({url:s,cache:e.cache,success:function(t){K.log("loaded: "+s),o(null,t)},error:function(t,e,n){K.log("failed loading: "+s),o("failed loading resource.json error: "+n)},dataType:"json",async:e.getAsync,timeout:e.ajaxTimeout})}}else{var a,l=i.namespaces.length*t.length;K.each(i.namespaces,function(i,o){K.each(t,function(t,i){var s=function(t,e){t&&(a=a||[],a.push(t)),r[i]=r[i]||{},r[i][o]=e,l--,0===l&&n(a,r)};"function"==typeof e.customLoad?e.customLoad(i,o,e,s):B._fetchOne(i,o,e,s)})})}},_fetchOne:function(t,e,n,i){var r=k(n.resGetPath,{lng:t,ns:e});K.ajax({url:r,cache:n.cache,success:function(t){K.log("loaded: "+r),i(null,t)},error:function(t,e,n){if(e&&200==e||t&&t.status&&200==t.status)K.error("There is a typo in: "+r);else if(e&&404==e||t&&t.status&&404==t.status)K.log("Does not exist: "+r);else{var o=e?e:t&&t.status?t.status:null;K.log(o+" when loading "+r)}i(n,{})},dataType:"json",async:n.getAsync,timeout:n.ajaxTimeout})},postMissing:function(t,e,n,i,r){var o={};o[n]=i;var s=[];if("fallback"===W.sendMissingTo&&W.fallbackLng[0]!==!1)for(var a=0;a<W.fallbackLng.length;a++)s.push({lng:W.fallbackLng[a],url:k(W.resPostPath,{lng:W.fallbackLng[a],ns:e})});else if("current"===W.sendMissingTo||"fallback"===W.sendMissingTo&&W.fallbackLng[0]===!1)s.push({lng:t,url:k(W.resPostPath,{lng:t,ns:e})});else if("all"===W.sendMissingTo)for(var a=0,l=r.length;l>a;a++)s.push({lng:r[a],url:k(W.resPostPath,{lng:r[a],ns:e})});for(var u=0,c=s.length;c>u;u++){var h=s[u];K.ajax({url:h.url,type:W.sendType,data:o,success:function(){K.log("posted missing key '"+n+"' to: "+h.url);for(var t=n.split("."),r=0,o=R[h.lng][e];t[r];)o=o[t[r]]=r===t.length-1?i:o[t[r]]||{},r++},error:function(){K.log("failed posting missing key '"+n+"' to: "+h.url)},dataType:"json",async:W.postAsync,timeout:W.ajaxTimeout})}},reload:w};var W={lng:void 0,load:"all",preload:[],lowerCaseLng:!1,returnObjectTrees:!1,fallbackLng:["dev"],fallbackNS:[],detectLngQS:"setLng",detectLngFromLocalStorage:!1,ns:{namespaces:["translation"],defaultNs:"translation"},fallbackOnNull:!0,fallbackOnEmpty:!1,fallbackToDefaultNS:!1,showKeyIfEmpty:!1,nsseparator:":",keyseparator:".",selectorAttr:"data-i18n",debug:!1,resGetPath:"locales/__lng__/__ns__.json",resPostPath:"locales/add/__lng__/__ns__",getAsync:!0,postAsync:!0,resStore:void 0,useLocalStorage:!1,localStorageExpirationTime:6048e5,dynamicLoad:!1,sendMissing:!1,sendMissingTo:"fallback",sendType:"POST",interpolationPrefix:"__",interpolationSuffix:"__",defaultVariables:!1,reusePrefix:"$t(",reuseSuffix:")",pluralSuffix:"_plural",pluralNotFound:["plural_not_found",Math.random()].join(""),contextNotFound:["context_not_found",Math.random()].join(""),escapeInterpolation:!1,indefiniteSuffix:"_indefinite",indefiniteNotFound:["indefinite_not_found",Math.random()].join(""),setJqueryExt:!0,defaultValueFromContent:!0,useDataAttrOptions:!1,cookieExpirationTime:void 0,useCookie:!0,cookieName:"i18next",cookieDomain:void 0,objectTreeKeyHandler:void 0,postProcess:void 0,parseMissingKey:void 0,missingKeyHandler:B.postMissing,ajaxTimeout:0,shortcutFunction:"sprintf"},V={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},z={create:function(t,e,n,i){var r;if(n){var o=new Date;o.setTime(o.getTime()+60*n*1e3),r="; expires="+o.toGMTString()}else r="";i=i?"domain="+i+";":"",document.cookie=t+"="+e+r+";"+i+"path=/"},read:function(t){for(var e=t+"=",n=document.cookie.split(";"),i=0;i<n.length;i++){for(var r=n[i];" "==r.charAt(0);)r=r.substring(1,r.length);if(0===r.indexOf(e))return r.substring(e.length,r.length)}return null},remove:function(t){this.create(t,"",-1)}},X={create:function(){},read:function(){return null},remove:function(){}},K={extend:M?M.extend:e,deepExtend:n,each:M?M.each:i,ajax:M?M.ajax:"undefined"!=typeof document?o:function(){},cookie:"undefined"!=typeof document?z:X,detectLanguage:D,escape:r,log:function(t){W.debug&&"undefined"!=typeof console&&console.log(t)},error:function(t){"undefined"!=typeof console&&console.error(t)},getCountyIndexOfLng:function(t){var e=0;return("nb-NO"===t||"nn-NO"===t||"nb-no"===t||"nn-no"===t)&&(e=1),e},toLanguages:function(t){function e(t){var e=t;if("string"==typeof t&&t.indexOf("-")>-1){var n=t.split("-");e=W.lowerCaseLng?n[0].toLowerCase()+"-"+n[1].toLowerCase():n[0].toLowerCase()+"-"+n[1].toUpperCase()}else e=W.lowerCaseLng?t.toLowerCase():t;return e}var n=this.log,i=[],r=W.lngWhitelist||!1,o=function(t){!r||r.indexOf(t)>-1?i.push(t):n("rejecting non-whitelisted language: "+t)};if("string"==typeof t&&t.indexOf("-")>-1){var s=t.split("-");"unspecific"!==W.load&&o(e(t)),"current"!==W.load&&o(e(s[this.getCountyIndexOfLng(t)]))}else o(e(t));for(var a=0;a<W.fallbackLng.length;a++)-1===i.indexOf(W.fallbackLng[a])&&W.fallbackLng[a]&&i.push(e(W.fallbackLng[a]));return i},regexEscape:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},regexReplacementEscape:function(t){return"string"==typeof t?t.replace(/\$/g,"$$$$"):t},localStorage:{setItem:function(t,e){if(window.localStorage)try{window.localStorage.setItem(t,e)}catch(n){K.log('failed to set value for key "'+t+'" to localStorage.')}},getItem:function(t,e){if(window.localStorage)try{return window.localStorage.getItem(t,e)}catch(n){return void K.log('failed to get value for key "'+t+'" from localStorage.')}}}};K.applyReplacement=k;var Q=[["ach","Acholi",[1,2],1],["af","Afrikaans",[1,2],2],["ak","Akan",[1,2],1],["am","Amharic",[1,2],1],["an","Aragonese",[1,2],2],["ar","Arabic",[0,1,2,3,11,100],5],["arn","Mapudungun",[1,2],1],["ast","Asturian",[1,2],2],["ay","Aymará",[1],3],["az","Azerbaijani",[1,2],2],["be","Belarusian",[1,2,5],4],["bg","Bulgarian",[1,2],2],["bn","Bengali",[1,2],2],["bo","Tibetan",[1],3],["br","Breton",[1,2],1],["bs","Bosnian",[1,2,5],4],["ca","Catalan",[1,2],2],["cgg","Chiga",[1],3],["cs","Czech",[1,2,5],6],["csb","Kashubian",[1,2,5],7],["cy","Welsh",[1,2,3,8],8],["da","Danish",[1,2],2],["de","German",[1,2],2],["dev","Development Fallback",[1,2],2],["dz","Dzongkha",[1],3],["el","Greek",[1,2],2],["en","English",[1,2],2],["eo","Esperanto",[1,2],2],["es","Spanish",[1,2],2],["es_ar","Argentinean Spanish",[1,2],2],["et","Estonian",[1,2],2],["eu","Basque",[1,2],2],["fa","Persian",[1],3],["fi","Finnish",[1,2],2],["fil","Filipino",[1,2],1],["fo","Faroese",[1,2],2],["fr","French",[1,2],9],["fur","Friulian",[1,2],2],["fy","Frisian",[1,2],2],["ga","Irish",[1,2,3,7,11],10],["gd","Scottish Gaelic",[1,2,3,20],11],["gl","Galician",[1,2],2],["gu","Gujarati",[1,2],2],["gun","Gun",[1,2],1],["ha","Hausa",[1,2],2],["he","Hebrew",[1,2],2],["hi","Hindi",[1,2],2],["hr","Croatian",[1,2,5],4],["hu","Hungarian",[1,2],2],["hy","Armenian",[1,2],2],["ia","Interlingua",[1,2],2],["id","Indonesian",[1],3],["is","Icelandic",[1,2],12],["it","Italian",[1,2],2],["ja","Japanese",[1],3],["jbo","Lojban",[1],3],["jv","Javanese",[0,1],13],["ka","Georgian",[1],3],["kk","Kazakh",[1],3],["km","Khmer",[1],3],["kn","Kannada",[1,2],2],["ko","Korean",[1],3],["ku","Kurdish",[1,2],2],["kw","Cornish",[1,2,3,4],14],["ky","Kyrgyz",[1],3],["lb","Letzeburgesch",[1,2],2],["ln","Lingala",[1,2],1],["lo","Lao",[1],3],["lt","Lithuanian",[1,2,10],15],["lv","Latvian",[1,2,0],16],["mai","Maithili",[1,2],2],["mfe","Mauritian Creole",[1,2],1],["mg","Malagasy",[1,2],1],["mi","Maori",[1,2],1],["mk","Macedonian",[1,2],17],["ml","Malayalam",[1,2],2],["mn","Mongolian",[1,2],2],["mnk","Mandinka",[0,1,2],18],["mr","Marathi",[1,2],2],["ms","Malay",[1],3],["mt","Maltese",[1,2,11,20],19],["nah","Nahuatl",[1,2],2],["nap","Neapolitan",[1,2],2],["nb","Norwegian Bokmal",[1,2],2],["ne","Nepali",[1,2],2],["nl","Dutch",[1,2],2],["nn","Norwegian Nynorsk",[1,2],2],["no","Norwegian",[1,2],2],["nso","Northern Sotho",[1,2],2],["oc","Occitan",[1,2],1],["or","Oriya",[2,1],2],["pa","Punjabi",[1,2],2],["pap","Papiamento",[1,2],2],["pl","Polish",[1,2,5],7],["pms","Piemontese",[1,2],2],["ps","Pashto",[1,2],2],["pt","Portuguese",[1,2],2],["pt_br","Brazilian Portuguese",[1,2],2],["rm","Romansh",[1,2],2],["ro","Romanian",[1,2,20],20],["ru","Russian",[1,2,5],4],["sah","Yakut",[1],3],["sco","Scots",[1,2],2],["se","Northern Sami",[1,2],2],["si","Sinhala",[1,2],2],["sk","Slovak",[1,2,5],6],["sl","Slovenian",[5,1,2,3],21],["so","Somali",[1,2],2],["son","Songhay",[1,2],2],["sq","Albanian",[1,2],2],["sr","Serbian",[1,2,5],4],["su","Sundanese",[1],3],["sv","Swedish",[1,2],2],["sw","Swahili",[1,2],2],["ta","Tamil",[1,2],2],["te","Telugu",[1,2],2],["tg","Tajik",[1,2],1],["th","Thai",[1],3],["ti","Tigrinya",[1,2],1],["tk","Turkmen",[1,2],2],["tr","Turkish",[1,2],1],["tt","Tatar",[1],3],["ug","Uyghur",[1],3],["uk","Ukrainian",[1,2,5],4],["ur","Urdu",[1,2],2],["uz","Uzbek",[1,2],1],["vi","Vietnamese",[1],3],["wa","Walloon",[1,2],1],["wo","Wolof",[1],3],["yo","Yoruba",[1,2],2],["zh","Chinese",[1],3]],G={1:function(t){return Number(t>1)},2:function(t){return Number(1!=t)},3:function(){return 0},4:function(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&4>=t%10&&(10>t%100||t%100>=20)?1:2)},5:function(t){return Number(0===t?0:1==t?1:2==t?2:t%100>=3&&10>=t%100?3:t%100>=11?4:5)},6:function(t){return Number(1==t?0:t>=2&&4>=t?1:2)},7:function(t){return Number(1==t?0:t%10>=2&&4>=t%10&&(10>t%100||t%100>=20)?1:2)},8:function(t){return Number(1==t?0:2==t?1:8!=t&&11!=t?2:3)},9:function(t){return Number(t>=2)},10:function(t){return Number(1==t?0:2==t?1:7>t?2:11>t?3:4)},11:function(t){return Number(1==t||11==t?0:2==t||12==t?1:t>2&&20>t?2:3)},12:function(t){return Number(t%10!=1||t%100==11)},13:function(t){return Number(0!==t)},14:function(t){return Number(1==t?0:2==t?1:3==t?2:3)},15:function(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&(10>t%100||t%100>=20)?1:2)},16:function(t){return Number(t%10==1&&t%100!=11?0:0!==t?1:2)},17:function(t){return Number(1==t||t%10==1?0:1)},18:function(t){return Number(1==t?1:2)},19:function(t){return Number(1==t?0:0===t||t%100>1&&11>t%100?1:t%100>10&&20>t%100?2:3)},20:function(t){return Number(1==t?0:0===t||t%100>0&&20>t%100?1:2)},21:function(t){return Number(t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0)}},J={rules:function(){var t,e={};for(t=Q.length;t--;)e[Q[t][0]]={name:Q[t][1],numbers:Q[t][2],plurals:G[Q[t][3]]};return e}(),addRule:function(t,e){J.rules[t]=e},setCurrentLng:function(t){if(!J.currentRule||J.currentRule.lng!==t){var e=t.split("-");J.currentRule={lng:t,rule:J.rules[e[0]]}}},needsPlural:function(t,e){var n,i=t.split("-");return n=J.currentRule&&J.currentRule.lng===t?J.currentRule.rule:J.rules[i[K.getCountyIndexOfLng(t)]],n&&n.numbers.length<=1?!1:1!==this.get(t,e)},get:function(t,e){function n(e,n){var i;if(i=J.currentRule&&J.currentRule.lng===t?J.currentRule.rule:J.rules[e]){var r;r=i.plurals(i.noAbs?n:Math.abs(n));var o=i.numbers[r];return 2===i.numbers.length&&1===i.numbers[0]&&(2===o?o=-1:1===o&&(o=1)),o}return 1===n?"1":"-1"}var i=t.split("-");return n(i[K.getCountyIndexOfLng(t)],e)}},Y={},Z=function(t,e){Y[t]=e},te=function(){function t(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()}function e(t,e){for(var n=[];e>0;n[--e]=t);return n.join("")}var n=function(){return n.cache.hasOwnProperty(arguments[0])||(n.cache[arguments[0]]=n.parse(arguments[0])),n.format.call(null,n.cache[arguments[0]],arguments)};return n.format=function(n,i){var r,o,s,a,l,u,c,h=1,f=n.length,d="",p=[];for(o=0;f>o;o++)if(d=t(n[o]),"string"===d)p.push(n[o]);else if("array"===d){if(a=n[o],a[2])for(r=i[h],s=0;s<a[2].length;s++){if(!r.hasOwnProperty(a[2][s]))throw te('[sprintf] property "%s" does not exist',a[2][s]);r=r[a[2][s]]}else r=a[1]?i[a[1]]:i[h++];if(/[^s]/.test(a[8])&&"number"!=t(r))throw te("[sprintf] expecting number but found %s",t(r));switch(a[8]){case"b":r=r.toString(2);break;case"c":r=String.fromCharCode(r);break;case"d":r=parseInt(r,10);break;case"e":r=a[7]?r.toExponential(a[7]):r.toExponential();break;case"f":r=a[7]?parseFloat(r).toFixed(a[7]):parseFloat(r);break;case"o":r=r.toString(8);break;case"s":r=(r=String(r))&&a[7]?r.substring(0,a[7]):r;break;case"u":r=Math.abs(r);break;case"x":r=r.toString(16);break;case"X":r=r.toString(16).toUpperCase()}r=/[def]/.test(a[8])&&a[3]&&r>=0?"+"+r:r,u=a[4]?"0"==a[4]?"0":a[4].charAt(1):" ",c=a[6]-String(r).length,l=a[6]?e(u,c):"",p.push(a[5]?r+l:l+r)}return p.join("")},n.cache={},n.parse=function(t){for(var e=t,n=[],i=[],r=0;e;){if(null!==(n=/^[^\x25]+/.exec(e)))i.push(n[0]);else if(null!==(n=/^\x25{2}/.exec(e)))i.push("%");else{if(null===(n=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(e)))throw"[sprintf] huh?";if(n[2]){r|=1;var o=[],s=n[2],a=[];if(null===(a=/^([a-z_][a-z_\d]*)/i.exec(s)))throw"[sprintf] huh?";for(o.push(a[1]);""!==(s=s.substring(a[0].length));)if(null!==(a=/^\.([a-z_][a-z_\d]*)/i.exec(s)))o.push(a[1]);else{if(null===(a=/^\[(\d+)\]/.exec(s)))throw"[sprintf] huh?";o.push(a[1])}n[2]=o}else r|=2;if(3===r)throw"[sprintf] mixing positional and named placeholders is not (yet) supported";i.push(n)}e=e.substring(n[0].length)}return i},n}(),ee=function(t,e){return e.unshift(t),te.apply(null,e)};Z("sprintf",function(t,e,n){return n.sprintf?"[object Array]"===Object.prototype.toString.apply(n.sprintf)?ee(t,n.sprintf):"object"==typeof n.sprintf?te(t,n.sprintf):t:t}),F.init=s,F.isInitialized=a,F.setLng=y,F.preload=l,F.addResourceBundle=u,F.hasResourceBundle=c,F.getResourceBundle=h,F.addResource=d,F.addResources=p,F.removeResourceBundle=f,F.loadNamespace=m,F.loadNamespaces=v,F.setDefaultNamespace=g,F.t=j,F.translate=j,F.exists=O,F.detectLanguage=K.detectLanguage,F.pluralExtensions=J,F.sync=B,F.functions=K,F.lng=b,F.addPostProcessor=Z,F.applyReplacement=K.applyReplacement,F.options=W,F.noConflict=_}("undefined"==typeof exports?window:exports);var Class=function(){var t={};return{extend:function(e,n){1==arguments.length&&(n=e,e=null);var i=function(){arguments[0]!=t&&this.initialize.apply(this,arguments)};"function"==typeof e&&(i.prototype=new e(t));var r=[];n&&n.include&&(n.include.reverse?r=r.concat(n.include.reverse()):r.push(n.include),delete n.include),n&&Class.inherit(i.prototype,n);for(var o=0;mixin=r[o];o++)Class.mixin(i.prototype,mixin);return i},mixin:function(t,e,n){if(n=n||!1,"undefined"!=typeof e&&null!==e)for(var i in e)(n||!t[i]&&"function"==typeof e[i])&&(t[i]=e[i]);return t},inherit:function(t,e,n){if(3==arguments.length){var i=t[n],r=e[n],o=r;r=function(){var t=this.parent;this.parent=i;var e=o.apply(this,arguments);return t?this.parent=t:delete this.parent,e},r.valueOf=function(){return o},r.toString=function(){return o.toString()},t[n]=r}else for(var s in e)t[s]&&"function"==typeof e[s]?Class.inherit(t,e,s):t[s]=e[s];return t},singleton:function(){var e=arguments;if(2==e.length&&e[0].getInstance){var n=e[0].getInstance(t);n&&(e[0]=n)}return function(e){var n=!1,i=Class.extend.apply(e.callee,e);return{getInstance:function(){return arguments[0]==t?i:n?n:n=new i}}}(e)}}}();Class.create=function(){return Class.extend.apply(this,arguments)},"undefined"==typeof window&&(module.exports=Class),function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Handlebars=e():t.Handlebars=e()}(this,function(){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function i(){var t=new a.HandlebarsEnvironment;return d.extend(t,a),t.SafeString=u["default"],t.Exception=h["default"],t.Utils=d,t.escapeExpression=d.escapeExpression,t.VM=g,t.template=function(e){return g.template(e,t)},t}var r=n(1)["default"],o=n(2)["default"];e.__esModule=!0;var s=n(3),a=r(s),l=n(20),u=o(l),c=n(5),h=o(c),f=n(4),d=r(f),p=n(21),g=r(p),m=n(22),v=o(m),y=i();y.create=i,v["default"](y),y["default"]=y,e["default"]=y,t.exports=e["default"]},function(t,e){"use strict";e["default"]=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e},e.__esModule=!0},function(t,e){"use strict";e["default"]=function(t){return t&&t.__esModule?t:{"default":t}},e.__esModule=!0},function(t,e,n){"use strict";function i(t,e,n){this.helpers=t||{},this.partials=e||{},this.decorators=n||{},l.registerDefaultHelpers(this),u.registerDefaultDecorators(this)}var r=n(2)["default"];e.__esModule=!0,e.HandlebarsEnvironment=i;var o=n(4),s=n(5),a=r(s),l=n(9),u=n(17),c=n(19),h=r(c),f="4.0.5";e.VERSION=f;var d=7;e.COMPILER_REVISION=d;var p={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"};e.REVISION_CHANGES=p;var g="[object Object]";i.prototype={constructor:i,logger:h["default"],log:h["default"].log,registerHelper:function(t,e){if(o.toString.call(t)===g){if(e)throw new a["default"]("Arg not supported with multiple helpers");o.extend(this.helpers,t)}else this.helpers[t]=e},unregisterHelper:function(t){delete this.helpers[t]},registerPartial:function(t,e){if(o.toString.call(t)===g)o.extend(this.partials,t);else{if("undefined"==typeof e)throw new a["default"]('Attempting to register a partial called "'+t+'" as undefined');this.partials[t]=e}},unregisterPartial:function(t){delete this.partials[t]},registerDecorator:function(t,e){if(o.toString.call(t)===g){if(e)throw new a["default"]("Arg not supported with multiple decorators");o.extend(this.decorators,t)}else this.decorators[t]=e},unregisterDecorator:function(t){delete this.decorators[t]}};var m=h["default"].log;e.log=m,e.createFrame=o.createFrame,e.logger=h["default"]},function(t,e){"use strict";function n(t){return c[t]}function i(t){for(var e=1;e<arguments.length;e++)for(var n in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],n)&&(t[n]=arguments[e][n]);return t}function r(t,e){for(var n=0,i=t.length;i>n;n++)if(t[n]===e)return n;return-1}function o(t){if("string"!=typeof t){if(t&&t.toHTML)return t.toHTML();if(null==t)return"";if(!t)return t+"";t=""+t}return f.test(t)?t.replace(h,n):t}function s(t){return t||0===t?g(t)&&0===t.length?!0:!1:!0}function a(t){var e=i({},t);return e._parent=t,e}function l(t,e){return t.path=e,t}function u(t,e){return(t?t+".":"")+e}e.__esModule=!0,e.extend=i,e.indexOf=r,e.escapeExpression=o,e.isEmpty=s,e.createFrame=a,e.blockParams=l,e.appendContextPath=u;var c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},h=/[&<>"'`=]/g,f=/[&<>"'`=]/,d=Object.prototype.toString;e.toString=d;var p=function(t){return"function"==typeof t};p(/x/)&&(e.isFunction=p=function(t){return"function"==typeof t&&"[object Function]"===d.call(t)}),e.isFunction=p;var g=Array.isArray||function(t){return t&&"object"==typeof t?"[object Array]"===d.call(t):!1};e.isArray=g},function(t,e,n){"use strict";function i(t,e){var n=e&&e.loc,s=void 0,a=void 0;n&&(s=n.start.line,a=n.start.column,t+=" - "+s+":"+a);for(var l=Error.prototype.constructor.call(this,t),u=0;u<o.length;u++)this[o[u]]=l[o[u]];Error.captureStackTrace&&Error.captureStackTrace(this,i);try{n&&(this.lineNumber=s,r?Object.defineProperty(this,"column",{value:a}):this.column=a)}catch(c){}}var r=n(6)["default"];e.__esModule=!0;var o=["description","fileName","lineNumber","message","name","number","stack"];i.prototype=new Error,e["default"]=i,t.exports=e["default"]},function(t,e,n){t.exports={"default":n(7),__esModule:!0}},function(t,e,n){var i=n(8);t.exports=function(t,e,n){return i.setDesc(t,e,n)}},function(t){var e=Object;t.exports={create:e.create,getProto:e.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:e.getOwnPropertyDescriptor,setDesc:e.defineProperty,setDescs:e.defineProperties,getKeys:e.keys,getNames:e.getOwnPropertyNames,getSymbols:e.getOwnPropertySymbols,each:[].forEach}},function(t,e,n){"use strict";function i(t){s["default"](t),l["default"](t),c["default"](t),f["default"](t),p["default"](t),m["default"](t),y["default"](t)}var r=n(2)["default"];e.__esModule=!0,e.registerDefaultHelpers=i;var o=n(10),s=r(o),a=n(11),l=r(a),u=n(12),c=r(u),h=n(13),f=r(h),d=n(14),p=r(d),g=n(15),m=r(g),v=n(16),y=r(v)},function(t,e,n){"use strict";e.__esModule=!0;var i=n(4);e["default"]=function(t){t.registerHelper("blockHelperMissing",function(e,n){var r=n.inverse,o=n.fn;if(e===!0)return o(this);if(e===!1||null==e)return r(this);if(i.isArray(e))return e.length>0?(n.ids&&(n.ids=[n.name]),t.helpers.each(e,n)):r(this);if(n.data&&n.ids){var s=i.createFrame(n.data);s.contextPath=i.appendContextPath(n.data.contextPath,n.name),n={data:s}}return o(e,n)})},t.exports=e["default"]},function(t,e,n){"use strict";var i=n(2)["default"];e.__esModule=!0;var r=n(4),o=n(5),s=i(o);e["default"]=function(t){t.registerHelper("each",function(t,e){function n(e,n,o){u&&(u.key=e,u.index=n,u.first=0===n,u.last=!!o,c&&(u.contextPath=c+e)),l+=i(t[e],{data:u,blockParams:r.blockParams([t[e],e],[c+e,null])})}if(!e)throw new s["default"]("Must pass iterator to #each");var i=e.fn,o=e.inverse,a=0,l="",u=void 0,c=void 0;if(e.data&&e.ids&&(c=r.appendContextPath(e.data.contextPath,e.ids[0])+"."),r.isFunction(t)&&(t=t.call(this)),e.data&&(u=r.createFrame(e.data)),t&&"object"==typeof t)if(r.isArray(t))for(var h=t.length;h>a;a++)a in t&&n(a,a,a===t.length-1);else{var f=void 0;for(var d in t)t.hasOwnProperty(d)&&(void 0!==f&&n(f,a-1),f=d,a++);void 0!==f&&n(f,a-1,!0)}return 0===a&&(l=o(this)),l})},t.exports=e["default"]},function(t,e,n){"use strict";var i=n(2)["default"];e.__esModule=!0;var r=n(5),o=i(r);e["default"]=function(t){t.registerHelper("helperMissing",function(){if(1===arguments.length)return void 0;throw new o["default"]('Missing helper: "'+arguments[arguments.length-1].name+'"')})},t.exports=e["default"]},function(t,e,n){"use strict";e.__esModule=!0;var i=n(4);e["default"]=function(t){t.registerHelper("if",function(t,e){return i.isFunction(t)&&(t=t.call(this)),!e.hash.includeZero&&!t||i.isEmpty(t)?e.inverse(this):e.fn(this)}),t.registerHelper("unless",function(e,n){return t.helpers["if"].call(this,e,{fn:n.inverse,inverse:n.fn,hash:n.hash})})},t.exports=e["default"]},function(t,e){"use strict";e.__esModule=!0,e["default"]=function(t){t.registerHelper("log",function(){for(var e=[void 0],n=arguments[arguments.length-1],i=0;i<arguments.length-1;i++)e.push(arguments[i]);var r=1;null!=n.hash.level?r=n.hash.level:n.data&&null!=n.data.level&&(r=n.data.level),e[0]=r,t.log.apply(t,e)})},t.exports=e["default"]},function(t,e){"use strict";e.__esModule=!0,e["default"]=function(t){t.registerHelper("lookup",function(t,e){return t&&t[e]})},t.exports=e["default"]},function(t,e,n){"use strict";e.__esModule=!0;var i=n(4);e["default"]=function(t){t.registerHelper("with",function(t,e){i.isFunction(t)&&(t=t.call(this));var n=e.fn;if(i.isEmpty(t))return e.inverse(this);var r=e.data;return e.data&&e.ids&&(r=i.createFrame(e.data),r.contextPath=i.appendContextPath(e.data.contextPath,e.ids[0])),n(t,{data:r,blockParams:i.blockParams([t],[r&&r.contextPath])})})},t.exports=e["default"]},function(t,e,n){"use strict";function i(t){s["default"](t)}var r=n(2)["default"];e.__esModule=!0,e.registerDefaultDecorators=i;var o=n(18),s=r(o)},function(t,e,n){"use strict";e.__esModule=!0;var i=n(4);e["default"]=function(t){t.registerDecorator("inline",function(t,e,n,r){var o=t;return e.partials||(e.partials={},o=function(r,o){var s=n.partials;n.partials=i.extend({},s,e.partials);var a=t(r,o);return n.partials=s,a
}),e.partials[r.args[0]]=r.fn,o})},t.exports=e["default"]},function(t,e,n){"use strict";e.__esModule=!0;var i=n(4),r={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(t){if("string"==typeof t){var e=i.indexOf(r.methodMap,t.toLowerCase());t=e>=0?e:parseInt(t,10)}return t},log:function(t){if(t=r.lookupLevel(t),"undefined"!=typeof console&&r.lookupLevel(r.level)<=t){var e=r.methodMap[t];console[e]||(e="log");for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;n>o;o++)i[o-1]=arguments[o];console[e].apply(console,i)}}};e["default"]=r,t.exports=e["default"]},function(t,e){"use strict";function n(t){this.string=t}e.__esModule=!0,n.prototype.toString=n.prototype.toHTML=function(){return""+this.string},e["default"]=n,t.exports=e["default"]},function(t,e,n){"use strict";function i(t){var e=t&&t[0]||1,n=v.COMPILER_REVISION;if(e!==n){if(n>e){var i=v.REVISION_CHANGES[n],r=v.REVISION_CHANGES[e];throw new m["default"]("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+i+") or downgrade your runtime to an older version ("+r+").")}throw new m["default"]("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+t[1]+").")}}function r(t,e){function n(n,i,r){r.hash&&(i=p.extend({},i,r.hash),r.ids&&(r.ids[0]=!0)),n=e.VM.resolvePartial.call(this,n,i,r);var o=e.VM.invokePartial.call(this,n,i,r);if(null==o&&e.compile&&(r.partials[r.name]=e.compile(n,t.compilerOptions,e),o=r.partials[r.name](i,r)),null!=o){if(r.indent){for(var s=o.split("\n"),a=0,l=s.length;l>a&&(s[a]||a+1!==l);a++)s[a]=r.indent+s[a];o=s.join("\n")}return o}throw new m["default"]("The partial "+r.name+" could not be compiled when running in runtime-only mode")}function i(e){function n(e){return""+t.main(r,e,r.helpers,r.partials,s,l,a)}var o=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],s=o.data;i._setup(o),!o.partial&&t.useData&&(s=u(e,s));var a=void 0,l=t.useBlockParams?[]:void 0;return t.useDepths&&(a=o.depths?e!=o.depths[0]?[e].concat(o.depths):o.depths:[e]),(n=c(t.main,n,r,o.depths||[],s,l))(e,o)}if(!e)throw new m["default"]("No environment passed to template");if(!t||!t.main)throw new m["default"]("Unknown template object: "+typeof t);t.main.decorator=t.main_d,e.VM.checkRevision(t.compiler);var r={strict:function(t,e){if(!(e in t))throw new m["default"]('"'+e+'" not defined in '+t);return t[e]},lookup:function(t,e){for(var n=t.length,i=0;n>i;i++)if(t[i]&&null!=t[i][e])return t[i][e]},lambda:function(t,e){return"function"==typeof t?t.call(e):t},escapeExpression:p.escapeExpression,invokePartial:n,fn:function(e){var n=t[e];return n.decorator=t[e+"_d"],n},programs:[],program:function(t,e,n,i,r){var s=this.programs[t],a=this.fn(t);return e||r||i||n?s=o(this,t,a,e,n,i,r):s||(s=this.programs[t]=o(this,t,a)),s},data:function(t,e){for(;t&&e--;)t=t._parent;return t},merge:function(t,e){var n=t||e;return t&&e&&t!==e&&(n=p.extend({},e,t)),n},noop:e.VM.noop,compilerInfo:t.compiler};return i.isTop=!0,i._setup=function(n){n.partial?(r.helpers=n.helpers,r.partials=n.partials,r.decorators=n.decorators):(r.helpers=r.merge(n.helpers,e.helpers),t.usePartial&&(r.partials=r.merge(n.partials,e.partials)),(t.usePartial||t.useDecorators)&&(r.decorators=r.merge(n.decorators,e.decorators)))},i._child=function(e,n,i,s){if(t.useBlockParams&&!i)throw new m["default"]("must pass block params");if(t.useDepths&&!s)throw new m["default"]("must pass parent depths");return o(r,e,t[e],n,0,i,s)},i}function o(t,e,n,i,r,o,s){function a(e){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],a=s;return s&&e!=s[0]&&(a=[e].concat(s)),n(t,e,t.helpers,t.partials,r.data||i,o&&[r.blockParams].concat(o),a)}return a=c(n,a,t,s,i,o),a.program=e,a.depth=s?s.length:0,a.blockParams=r||0,a}function s(t,e,n){if(t)t.call||n.name||(n.name=t,t=n.partials[t]);else if("@partial-block"===n.name){for(var i=n.data;i["partial-block"]===l;)i=i._parent;t=i["partial-block"],i["partial-block"]=l}else t=n.partials[n.name];return t}function a(t,e,n){n.partial=!0,n.ids&&(n.data.contextPath=n.ids[0]||n.data.contextPath);var i=void 0;if(n.fn&&n.fn!==l&&(n.data=v.createFrame(n.data),i=n.data["partial-block"]=n.fn,i.partials&&(n.partials=p.extend({},n.partials,i.partials))),void 0===t&&i&&(t=i),void 0===t)throw new m["default"]("The partial "+n.name+" could not be found");return t instanceof Function?t(e,n):void 0}function l(){return""}function u(t,e){return e&&"root"in e||(e=e?v.createFrame(e):{},e.root=t),e}function c(t,e,n,i,r,o){if(t.decorator){var s={};e=t.decorator(e,s,n,i&&i[0],r,o,i),p.extend(e,s)}return e}var h=n(1)["default"],f=n(2)["default"];e.__esModule=!0,e.checkRevision=i,e.template=r,e.wrapProgram=o,e.resolvePartial=s,e.invokePartial=a,e.noop=l;var d=n(4),p=h(d),g=n(5),m=f(g),v=n(3)},function(t,e){(function(n){"use strict";e.__esModule=!0,e["default"]=function(t){var e="undefined"!=typeof n?n:window,i=e.Handlebars;t.noConflict=function(){return e.Handlebars===t&&(e.Handlebars=i),t}},t.exports=e["default"]}).call(e,function(){return this}())}])}),function(t){function e(){return"Markdown.mk_block( "+uneval(this.toString())+", "+uneval(this.trailing)+", "+uneval(this.lineNumber)+" )"}function n(){var t=require("util");return"Markdown.mk_block( "+t.inspect(this.toString())+", "+t.inspect(this.trailing)+", "+t.inspect(this.lineNumber)+" )"}function i(t){for(var e=0,n=-1;-1!==(n=t.indexOf("\n",n+1));)e++;return e}function r(t,e){function n(t){this.len_after=t,this.name="close_"+e}var i=t+"_state",r="strong"==t?"em_state":"strong_state";return function(o){if(this[i][0]==e)return this[i].shift(),[o.length,new n(o.length-e.length)];var s=this[r].slice(),a=this[i].slice();this[i].unshift(e);{var l=this.processInline(o.substr(e.length)),u=l[l.length-1];this[i].shift()}if(u instanceof n){l.pop();var c=o.length-u.len_after;return[c,[t].concat(l)]}return this[r]=s,this[i]=a,[e.length,e]}}function o(t){for(var e=t.split(""),n=[""],i=!1;e.length;){var r=e.shift();switch(r){case" ":i?n[n.length-1]+=r:n.push("");break;case"'":case'"':i=!i;break;case"\\":r=e.shift();default:n[n.length-1]+=r}}return n}function s(t){return m(t)&&t.length>1&&"object"==typeof t[1]&&!m(t[1])?t[1]:void 0}function l(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function u(t){if("string"==typeof t)return l(t);var e=t.shift(),n={},i=[];for(!t.length||"object"!=typeof t[0]||t[0]instanceof Array||(n=t.shift());t.length;)i.push(u(t.shift()));var r="";for(var o in n)r+=" "+o+'="'+l(n[o])+'"';return"img"==e||"br"==e||"hr"==e?"<"+e+r+"/>":"<"+e+r+">"+i.join("")+"</"+e+">"}function c(t,e,n){var i;n=n||{};var r=t.slice(0);"function"==typeof n.preprocessTreeNode&&(r=n.preprocessTreeNode(r,e));var o=s(r);if(o){r[1]={};for(i in o)r[1][i]=o[i];o=r[1]}if("string"==typeof r)return r;switch(r[0]){case"header":r[0]="h"+r[1].level,delete r[1].level;break;case"bulletlist":r[0]="ul";break;case"numberlist":r[0]="ol";break;case"listitem":r[0]="li";break;case"para":r[0]="p";break;case"markdown":r[0]="html",o&&delete o.references;break;case"code_block":r[0]="pre",i=o?2:1;var a=["code"];a.push.apply(a,r.splice(i,r.length-i)),r[i]=a;break;case"inlinecode":r[0]="code";break;case"img":r[1].src=r[1].href,delete r[1].href;break;case"linebreak":r[0]="br";break;case"link":r[0]="a";break;case"link_ref":r[0]="a";var l=e[o.ref];if(!l)return o.original;delete o.ref,o.href=l.href,l.title&&(o.title=l.title),delete o.original;break;case"img_ref":r[0]="img";var l=e[o.ref];if(!l)return o.original;delete o.ref,o.src=l.href,l.title&&(o.title=l.title),delete o.original}if(i=1,o){for(var u in r[1]){i=2;break}1===i&&r.splice(i,1)}for(;i<r.length;++i)r[i]=c(r[i],e,n);return r}function h(t){for(var e=s(t)?2:1;e<t.length;)"string"==typeof t[e]?e+1<t.length&&"string"==typeof t[e+1]?t[e]+=t.splice(e+1,1)[0]:++e:(h(t[e]),++e)}var f=t.Markdown=function(t){switch(typeof t){case"undefined":this.dialect=f.dialects.Gruber;break;case"object":this.dialect=t;break;default:if(!(t in f.dialects))throw new Error("Unknown Markdown dialect '"+String(t)+"'");this.dialect=f.dialects[t]}this.em_state=[],this.strong_state=[],this.debug_indent=""};t.parse=function(t,e){var n=new f(e);return n.toTree(t)},t.toHTML=function(e,n,i){var r=t.toHTMLTree(e,n,i);return t.renderJsonML(r)},t.toHTMLTree=function(t,e,n){"string"==typeof t&&(t=this.parse(t,e));var i=s(t),r={};i&&i.references&&(r=i.references);var o=c(t,r,n);return h(o),o};var d=f.mk_block=function(t,i,r){1==arguments.length&&(i="\n\n");var o=new String(t);return o.trailing=i,o.inspect=n,o.toSource=e,void 0!=r&&(o.lineNumber=r),o};f.prototype.split_blocks=function(t){t=t.replace(/(\r\n|\n|\r)/g,"\n");var e,n=/([\s\S]+?)($|\n#|\n(?:\s*\n|$)+)/g,r=[],o=1;for(null!=(e=/^(\s*\n)/.exec(t))&&(o+=i(e[0]),n.lastIndex=e[0].length);null!==(e=n.exec(t));)"\n#"==e[2]&&(e[2]="\n",n.lastIndex--),r.push(d(e[1],e[2],o)),o+=i(e[0]);return r},f.prototype.processBlock=function(t,e){var n=this.dialect.block,i=n.__order__;if("__call__"in n)return n.__call__.call(this,t,e);for(var r=0;r<i.length;r++){var o=n[i[r]].call(this,t,e);if(o)return(!m(o)||o.length>0&&!m(o[0]))&&this.debug(i[r],"didn't return a proper array"),o}return[]},f.prototype.processInline=function(t){return this.dialect.inline.__call__.call(this,String(t))},f.prototype.toTree=function(t,e){var n=t instanceof Array?t:this.split_blocks(t),i=this.tree;try{for(this.tree=e||this.tree||["markdown"];n.length;){var r=this.processBlock(n.shift(),n);r.length&&this.tree.push.apply(this.tree,r)}return this.tree}finally{e&&(this.tree=i)}},f.prototype.debug=function(){var t=Array.prototype.slice.call(arguments);t.unshift(this.debug_indent),"undefined"!=typeof print&&print.apply(print,t),"undefined"!=typeof console&&"undefined"!=typeof console.log&&console.log.apply(null,t)},f.prototype.loop_re_over_block=function(t,e,n){for(var i,r=e.valueOf();r.length&&null!=(i=t.exec(r));)r=r.substr(i[0].length),n.call(this,i);return r},f.dialects={},f.dialects.Gruber={block:{atxHeader:function(t,e){var n=t.match(/^(#{1,6})\s*(.*?)\s*#*\s*(?:\n|$)/);if(!n)return void 0;var i=["header",{level:n[1].length}];return Array.prototype.push.apply(i,this.processInline(n[2])),n[0].length<t.length&&e.unshift(d(t.substr(n[0].length),t.trailing,t.lineNumber+2)),[i]},setextHeader:function(t,e){var n=t.match(/^(.*)\n([-=])\2\2+(?:\n|$)/);if(!n)return void 0;var i="="===n[2]?1:2,r=["header",{level:i},n[1]];return n[0].length<t.length&&e.unshift(d(t.substr(n[0].length),t.trailing,t.lineNumber+2)),[r]},code:function(t,e){var n=[],i=/^(?: {0,3}\t| {4})(.*)\n?/;if(!t.match(i))return void 0;t:for(;;){var r=this.loop_re_over_block(i,t.valueOf(),function(t){n.push(t[1])});if(r.length){e.unshift(d(r,t.trailing));break t}if(!e.length)break t;if(!e[0].match(i))break t;n.push(t.trailing.replace(/[^\n]/g,"").substring(2)),t=e.shift()}return[["code_block",n.join("\n")]]},horizRule:function(t,e){var n=t.match(/^(?:([\s\S]*?)\n)?[ \t]*([-_*])(?:[ \t]*\2){2,}[ \t]*(?:\n([\s\S]*))?$/);if(!n)return void 0;var i=[["hr"]];return n[1]&&i.unshift.apply(i,this.processBlock(n[1],[])),n[3]&&e.unshift(d(n[3])),i},lists:function(){function t(t){return new RegExp("(?:^("+l+"{0,"+t+"} {0,3})("+o+")\\s+)|(^"+l+"{0,"+(t-1)+"}[ ]{0,4})")}function e(t){return t.replace(/ {0,3}\t/g,"    ")}function n(t,e,n,i){if(e)return void t.push(["para"].concat(n));var r=t[t.length-1]instanceof Array&&"para"==t[t.length-1][0]?t[t.length-1]:t;i&&t.length>1&&n.unshift(i);for(var o=0;o<n.length;o++){var s=n[o],a="string"==typeof s;a&&r.length>1&&"string"==typeof r[r.length-1]?r[r.length-1]+=s:r.push(s)}}function i(t,e){for(var n=new RegExp("^("+l+"{"+t+"}.*?\\n?)*$"),i=new RegExp("^"+l+"{"+t+"}","gm"),r=[];e.length>0&&n.exec(e[0]);){var o=e.shift(),s=o.replace(i,"");r.push(d(s,o.trailing,o.lineNumber))}return r}function r(t,e,n){var i=t.list,r=i[i.length-1];if(!(r[1]instanceof Array&&"para"==r[1][0]))if(e+1==n.length)r.push(["para"].concat(r.splice(1,r.length-1)));else{var o=r.pop();r.push(["para"].concat(r.splice(1,r.length-1)),o)}}var o="[*+-]|\\d+\\.",s=/[*+-]/,a=new RegExp("^( {0,3})("+o+")[ 	]+"),l="(?: {0,3}\\t| {4})";return function(o,l){function u(t){var e=s.exec(t[2])?["bulletlist"]:["numberlist"];return d.push({list:e,indent:t[1]}),e}var c=o.match(a);if(!c)return void 0;for(var h,f,d=[],p=u(c),m=!1,v=[d[0].list];;){for(var y=o.split(/(?=\n)/),b="",w=0;w<y.length;w++){var _="",x=y[w].replace(/^\n/,function(t){return _=t,""}),k=t(d.length);if(c=x.match(k),void 0!==c[1]){b.length&&(n(h,m,this.processInline(b),_),m=!1,b=""),c[1]=e(c[1]);var C=Math.floor(c[1].length/4)+1;if(C>d.length)p=u(c),h.push(p),h=p[1]=["listitem"];else{var T=!1;for(f=0;f<d.length;f++)if(d[f].indent==c[1]){p=d[f].list,d.splice(f+1,d.length-(f+1)),T=!0;break}T||(C++,C<=d.length?(d.splice(C,d.length-C),p=d[C-1].list):(p=u(c),h.push(p))),h=["listitem"],p.push(h)}_=""}x.length>c[0].length&&(b+=_+x.substr(c[0].length))}b.length&&(n(h,m,this.processInline(b),_),m=!1,b="");var S=i(d.length,l);S.length>0&&(g(d,r,this),h.push.apply(h,this.toTree(S,[])));var E=l[0]&&l[0].valueOf()||"";if(!E.match(a)&&!E.match(/^ /))break;o=l.shift();var O=this.dialect.block.horizRule(o,l);if(O){v.push.apply(v,O);break}g(d,r,this),m=!0}return v}}(),blockquote:function(t,e){if(!t.match(/^>/m))return void 0;var n=[];if(">"!=t[0]){for(var i=t.split(/\n/),r=[],o=t.lineNumber;i.length&&">"!=i[0][0];)r.push(i.shift()),o++;var a=d(r.join("\n"),"\n",t.lineNumber);n.push.apply(n,this.processBlock(a,[])),t=d(i.join("\n"),t.trailing,o)}for(;e.length&&">"==e[0][0];){var l=e.shift();t=d(t+t.trailing+l,l.trailing,t.lineNumber)}var u=t.replace(/^> ?/gm,""),c=(this.tree,this.toTree(u,["blockquote"])),h=s(c);return h&&h.references&&(delete h.references,v(h)&&c.splice(1,1)),n.push(c),n},referenceDefn:function(t,e){var n=/^\s*\[(.*?)\]:\s*(\S+)(?:\s+(?:(['"])(.*?)\3|\((.*?)\)))?\n?/;if(!t.match(n))return void 0;s(this.tree)||this.tree.splice(1,0,{});var i=s(this.tree);void 0===i.references&&(i.references={});var r=this.loop_re_over_block(n,t,function(t){t[2]&&"<"==t[2][0]&&">"==t[2][t[2].length-1]&&(t[2]=t[2].substring(1,t[2].length-1));var e=i.references[t[1].toLowerCase()]={href:t[2]};void 0!==t[4]?e.title=t[4]:void 0!==t[5]&&(e.title=t[5])});return r.length&&e.unshift(d(r,t.trailing)),[]},para:function(t){return[["para"].concat(this.processInline(t))]}}},f.dialects.Gruber.inline={__oneElement__:function(t,e,n){var i,r;e=e||this.dialect.inline.__patterns__;var o=new RegExp("([\\s\\S]*?)("+(e.source||e)+")");if(i=o.exec(t),!i)return[t.length,t];if(i[1])return[i[1].length,i[1]];var r;return i[2]in this.dialect.inline&&(r=this.dialect.inline[i[2]].call(this,t.substr(i.index),i,n||[])),r=r||[i[2].length,i[2]]},__call__:function(t,e){function n(t){"string"==typeof t&&"string"==typeof r[r.length-1]?r[r.length-1]+=t:r.push(t)}for(var i,r=[];t.length>0;)i=this.dialect.inline.__oneElement__.call(this,t,e,r),t=t.substr(i.shift()),g(i,n);return r},"]":function(){},"}":function(){},__escape__:/^\\[\\`\*_{}\[\]()#\+.!\-]/,"\\":function(t){return this.dialect.inline.__escape__.exec(t)?[2,t.charAt(1)]:[1,"\\"]},"![":function(t){var e=t.match(/^!\[(.*?)\][ \t]*\([ \t]*([^")]*?)(?:[ \t]+(["'])(.*?)\3)?[ \t]*\)/);if(e){e[2]&&"<"==e[2][0]&&">"==e[2][e[2].length-1]&&(e[2]=e[2].substring(1,e[2].length-1)),e[2]=this.dialect.inline.__call__.call(this,e[2],/\\/)[0];var n={alt:e[1],href:e[2]||""};return void 0!==e[4]&&(n.title=e[4]),[e[0].length,["img",n]]}return e=t.match(/^!\[(.*?)\][ \t]*\[(.*?)\]/),e?[e[0].length,["img_ref",{alt:e[1],ref:e[2].toLowerCase(),original:e[0]}]]:[2,"!["]},"[":function y(t){var e=String(t),n=f.DialectHelpers.inline_until_char.call(this,t.substr(1),"]");if(!n)return[1,"["];var y,i,r=1+n[0],o=n[1];t=t.substr(r);var s=t.match(/^\s*\([ \t]*([^"']*)(?:[ \t]+(["'])(.*?)\2)?[ \t]*\)/);if(s){var a=s[1];if(r+=s[0].length,a&&"<"==a[0]&&">"==a[a.length-1]&&(a=a.substring(1,a.length-1)),!s[3])for(var l=1,u=0;u<a.length;u++)switch(a[u]){case"(":l++;break;case")":0==--l&&(r-=a.length-u,a=a.substring(0,u))}return a=this.dialect.inline.__call__.call(this,a,/\\/)[0],i={href:a||""},void 0!==s[3]&&(i.title=s[3]),y=["link",i].concat(o),[r,y]}return s=t.match(/^\s*\[(.*?)\]/),s?(r+=s[0].length,i={ref:(s[1]||String(o)).toLowerCase(),original:e.substr(0,r)},y=["link_ref",i].concat(o),[r,y]):1==o.length&&"string"==typeof o[0]?(i={ref:o[0].toLowerCase(),original:e.substr(0,r)},y=["link_ref",i,o[0]],[r,y]):[1,"["]},"<":function(t){var e;return null!=(e=t.match(/^<(?:((https?|ftp|mailto):[^>]+)|(.*?@.*?\.[a-zA-Z]+))>/))?e[3]?[e[0].length,["link",{href:"mailto:"+e[3]},e[3]]]:"mailto"==e[2]?[e[0].length,["link",{href:e[1]},e[1].substr("mailto:".length)]]:[e[0].length,["link",{href:e[1]},e[1]]]:[1,"<"]},"`":function(t){var e=t.match(/(`+)(([\s\S]*?)\1)/);return e&&e[2]?[e[1].length+e[2].length,["inlinecode",e[3]]]:[1,"`"]},"  \n":function(){return[3,["linebreak"]]}},f.dialects.Gruber.inline["**"]=r("strong","**"),f.dialects.Gruber.inline.__=r("strong","__"),f.dialects.Gruber.inline["*"]=r("em","*"),f.dialects.Gruber.inline._=r("em","_"),f.buildBlockOrder=function(t){var e=[];for(var n in t)"__order__"!=n&&"__call__"!=n&&e.push(n);t.__order__=e},f.buildInlinePatterns=function(t){var e=[];for(var n in t)if(!n.match(/^__.*__$/)){var i=n.replace(/([\\.*+?|()\[\]{}])/g,"\\$1").replace(/\n/,"\\n");e.push(1==n.length?i:"(?:"+i+")")}e=e.join("|"),t.__patterns__=e;var r=t.__call__;t.__call__=function(t,n){return void 0!=n?r.call(this,t,n):r.call(this,t,e)}},f.DialectHelpers={},f.DialectHelpers.inline_until_char=function(t,e){for(var n=0,i=[];;){if(t.charAt(n)==e)return n++,[n,i];if(n>=t.length)return null;var r=this.dialect.inline.__oneElement__.call(this,t.substr(n));n+=r[0],i.push.apply(i,r.slice(1))}},f.subclassDialect=function(t){function e(){}function n(){}return e.prototype=t.block,n.prototype=t.inline,{block:new e,inline:new n}},f.buildBlockOrder(f.dialects.Gruber.block),f.buildInlinePatterns(f.dialects.Gruber.inline),f.dialects.Maruku=f.subclassDialect(f.dialects.Gruber),f.dialects.Maruku.processMetaHash=function(t){for(var e=o(t),n={},i=0;i<e.length;++i)if(/^#/.test(e[i]))n.id=e[i].substring(1);else if(/^\./.test(e[i]))n["class"]=n["class"]?n["class"]+e[i].replace(/./," "):e[i].substring(1);else if(/\=/.test(e[i])){var r=e[i].split(/\=/);n[r[0]]=r[1]}return n},f.dialects.Maruku.block.document_meta=function(t){if(t.lineNumber>1)return void 0;if(!t.match(/^(?:\w+:.*\n)*\w+:.*$/))return void 0;s(this.tree)||this.tree.splice(1,0,{});var e=t.split(/\n/);for(p in e){var n=e[p].match(/(\w+):\s*(.*)$/),i=n[1].toLowerCase(),r=n[2];this.tree[1][i]=r}return[]},f.dialects.Maruku.block.block_meta=function(t){var e=t.match(/(^|\n) {0,3}\{:\s*((?:\\\}|[^\}])*)\s*\}$/);if(!e)return void 0;var n,i=this.dialect.processMetaHash(e[2]);if(""===e[1]){var r=this.tree[this.tree.length-1];if(n=s(r),"string"==typeof r)return void 0;n||(n={},r.splice(1,0,n));for(a in i)n[a]=i[a];return[]}var o=t.replace(/\n.*$/,""),l=this.processBlock(o,[]);n=s(l[0]),n||(n={},l[0].splice(1,0,n));for(a in i)n[a]=i[a];return l},f.dialects.Maruku.block.definition_list=function(t,e){var n,i,r=/^((?:[^\s:].*\n)+):\s+([\s\S]+)$/,o=["dl"];if(!(i=t.match(r)))return void 0;for(var s=[t];e.length&&r.exec(e[0]);)s.push(e.shift());for(var a=0;a<s.length;++a){var i=s[a].match(r),l=i[1].replace(/\n$/,"").split(/\n/),u=i[2].split(/\n:\s+/);for(n=0;n<l.length;++n)o.push(["dt",l[n]]);for(n=0;n<u.length;++n)o.push(["dd"].concat(this.processInline(u[n].replace(/(\n)\s+/,"$1"))))}return[o]},f.dialects.Maruku.block.table=function b(t){var e,n,i=function(t,e){e=e||"\\s",e.match(/^[\\|\[\]{}?*.+^$]$/)&&(e="\\"+e);for(var n,i=[],r=new RegExp("^((?:\\\\.|[^\\\\"+e+"])*)"+e+"(.*)");n=t.match(r);)i.push(n[1]),t=n[2];return i.push(t),i},r=/^ {0,3}\|(.+)\n {0,3}\|\s*([\-:]+[\-| :]*)\n((?:\s*\|.*(?:\n|$))*)(?=\n|$)/,o=/^ {0,3}(\S(?:\\.|[^\\|])*\|.*)\n {0,3}([\-:]+\s*\|[\-| :]*)\n((?:(?:\\.|[^\\|])*\|.*(?:\n|$))*)(?=\n|$)/;if(n=t.match(r))n[3]=n[3].replace(/^\s*\|/gm,"");else if(!(n=t.match(o)))return void 0;var b=["table",["thead",["tr"]],["tbody"]];n[2]=n[2].replace(/\|\s*$/,"").split("|");var s=[];for(g(n[2],function(t){s.push(t.match(/^\s*-+:\s*$/)?{align:"right"}:t.match(/^\s*:-+\s*$/)?{align:"left"}:t.match(/^\s*:-+:\s*$/)?{align:"center"}:{})}),n[1]=i(n[1].replace(/\|\s*$/,""),"|"),e=0;e<n[1].length;e++)b[1][1].push(["th",s[e]||{}].concat(this.processInline(n[1][e].trim())));return g(n[3].replace(/\|\s*$/gm,"").split("\n"),function(t){var n=["tr"];for(t=i(t,"|"),e=0;e<t.length;e++)n.push(["td",s[e]||{}].concat(this.processInline(t[e].trim())));b[2].push(n)},this),[b]},f.dialects.Maruku.inline["{:"]=function(t,e,n){if(!n.length)return[2,"{:"];var i=n[n.length-1];if("string"==typeof i)return[2,"{:"];var r=t.match(/^\{:\s*((?:\\\}|[^\}])*)\s*\}/);if(!r)return[2,"{:"];var o=this.dialect.processMetaHash(r[1]),a=s(i);a||(a={},i.splice(1,0,a));for(var l in o)a[l]=o[l];return[r[0].length,""]},f.dialects.Maruku.inline.__escape__=/^\\[\\`\*_{}\[\]()#\+.!\-|:]/,f.buildBlockOrder(f.dialects.Maruku.block),f.buildInlinePatterns(f.dialects.Maruku.inline);var g,m=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)};g=Array.prototype.forEach?function(t,e,n){return t.forEach(e,n)}:function(t,e,n){for(var i=0;i<t.length;i++)e.call(n||t,t[i],i,t)};var v=function(t){for(var e in t)if(hasOwnProperty.call(t,e))return!1;return!0};t.renderJsonML=function(t,e){e=e||{},e.root=e.root||!1;var n=[];if(e.root)n.push(u(t));else for(t.shift(),!t.length||"object"!=typeof t[0]||t[0]instanceof Array||t.shift();t.length;)n.push(u(t.shift()));return n.join("\n\n")}}(function(){return"undefined"==typeof exports?(window.markdown={},window.markdown):exports}()),function(t,e){"use strict";function n(n,i){function r(t){return pe.preferFlash&&se&&!pe.ignoreFlash&&pe.flash[t]!==e&&pe.flash[t]}function o(t){return function(e){var n,i=this._s;return n=i&&i._a?t.call(this,e):null}}this.setupOptions={url:n||null,flashVersion:8,debugMode:!0,debugFlash:!1,useConsole:!0,consoleOnly:!0,waitForWindowLoad:!1,bgColor:"#ffffff",useHighPerformance:!1,flashPollingInterval:null,html5PollingInterval:null,flashLoadTimeout:1e3,wmode:null,allowScriptAccess:"always",useFlashBlock:!1,useHTML5Audio:!0,forceUseGlobalHTML5Audio:!1,ignoreMobileRestrictions:!1,html5Test:/^(probably|maybe)$/i,preferFlash:!1,noSWFCache:!1,idPrefix:"sound"},this.defaultOptions={autoLoad:!1,autoPlay:!1,from:null,loops:1,onid3:null,onerror:null,onload:null,whileloading:null,onplay:null,onpause:null,onresume:null,whileplaying:null,onposition:null,onstop:null,onfinish:null,multiShot:!0,multiShotEvents:!1,position:null,pan:0,playbackRate:1,stream:!0,to:null,type:null,usePolicyFile:!1,volume:100},this.flash9Options={onfailure:null,isMovieStar:null,usePeakData:!1,useWaveformData:!1,useEQData:!1,onbufferchange:null,ondataerror:null},this.movieStarOptions={bufferTime:3,serverURL:null,onconnect:null,duration:null},this.audioFormats={mp3:{type:['audio/mpeg; codecs="mp3"',"audio/mpeg","audio/mp3","audio/MPA","audio/mpa-robust"],required:!0},mp4:{related:["aac","m4a","m4b"],type:['audio/mp4; codecs="mp4a.40.2"',"audio/aac","audio/x-m4a","audio/MP4A-LATM","audio/mpeg4-generic"],required:!1},ogg:{type:["audio/ogg; codecs=vorbis"],required:!1},opus:{type:["audio/ogg; codecs=opus","audio/opus"],required:!1},wav:{type:['audio/wav; codecs="1"',"audio/wav","audio/wave","audio/x-wav"],required:!1},flac:{type:["audio/flac"],required:!1}},this.movieID="sm2-container",this.id=i||"sm2movie",this.debugID="soundmanager-debug",this.debugURLParam=/([#?&])debug=1/i,this.versionNumber="V2.97a.20170601",this.version=null,this.movieURL=null,this.altURL=null,this.swfLoaded=!1,this.enabled=!1,this.oMC=null,this.sounds={},this.soundIDs=[],this.muted=!1,this.didFlashBlock=!1,this.filePattern=null,this.filePatterns={flash8:/\.mp3(\?.*)?$/i,flash9:/\.mp3(\?.*)?$/i},this.features={buffering:!1,peakData:!1,waveformData:!1,eqData:!1,movieStar:!1},this.sandbox={},this.html5={usingFlash:null},this.flash={},this.html5Only=!1,this.ignoreFlash=!1;var s,a,l,u,c,h,f,d,p,g,m,v,y,b,w,_,x,k,C,T,S,E,O,j,P,N,A,L,D,I,M,F,R,H,$,q,B,U,W,V,z,X,K,Q,G,J,Y,Z,te,ee,ne,ie,re,oe,se,ae,le,ue,ce,he,fe,de,pe=this,ge=null,me=null,ve=navigator.userAgent,ye=t.location.href.toString(),be=document,we=[],_e=!1,xe=!1,ke=!1,Ce=!1,Te=!1,Se=8,Ee=null,Oe=null,je=!1,Pe=!1,Ne=0,Ae=null,Le=[],De=null,Ie=Array.prototype.slice,Me=!1,Fe=0,Re=1e3,He=ve.match(/(ipad|iphone|ipod)/i),$e=ve.match(/android/i),qe=ve.match(/msie|trident/i),Be=ve.match(/webkit/i),Ue=ve.match(/safari/i)&&!ve.match(/chrome/i),We=ve.match(/opera/i),Ve=ve.match(/(mobile|pre\/|xoom)/i)||He||$e,ze=!ye.match(/usehtml5audio/i)&&!ye.match(/sm2-ignorebadua/i)&&Ue&&!ve.match(/silk/i)&&ve.match(/OS\sX\s10_6_([3-7])/i),Xe=(t.console!==e&&console.log!==e,be.hasFocus!==e?be.hasFocus():null),Ke=Ue&&(be.hasFocus===e||!be.hasFocus()),Qe=!Ke,Ge=/(mp3|mp4|mpa|m4a|m4b)/i,Je="about:blank",Ye="data:audio/wave;base64,/UklGRiYAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQIAAAD//w==",Ze=be.location?be.location.protocol.match(/http/i):null,tn=Ze?"":"//",en=/^\s*audio\/(?:x-)?(?:mpeg4|aac|flv|mov|mp4|m4v|m4a|m4b|mp4v|3gp|3g2)\s*(?:$|;)/i,nn=["mpeg4","aac","flv","mov","mp4","m4v","f4v","m4a","m4b","mp4v","3gp","3g2"],rn=new RegExp("\\.("+nn.join("|")+")(\\?.*)?$","i");this.mimePattern=/^\s*audio\/(?:x-)?(?:mp(?:eg|3))\s*(?:$|;)/i,this.useAltURL=!Ze,$={swfBox:"sm2-object-box",swfDefault:"movieContainer",swfError:"swf_error",swfTimedout:"swf_timedout",swfLoaded:"swf_loaded",swfUnblocked:"swf_unblocked",sm2Debug:"sm2_debug",highPerf:"high_performance",flashDebug:"flash_debug"},Z=[null,"MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED"],this.hasHTML5=function(){try{return Audio!==e&&(We&&opera!==e&&opera.version()<10?new Audio(null):new Audio).canPlayType!==e}catch(t){return!1}}(),this.setup=function(t){var n=!pe.url;return t!==e&&ke&&De&&pe.ok()&&(t.flashVersion!==e||t.url!==e||t.html5Test!==e),p(t),Me||(Ve?(!pe.setupOptions.ignoreMobileRestrictions||pe.setupOptions.forceUseGlobalHTML5Audio)&&(Le.push(C.globalHTML5),Me=!0):pe.setupOptions.forceUseGlobalHTML5Audio&&(Le.push(C.globalHTML5),Me=!0)),!de&&Ve&&(pe.setupOptions.ignoreMobileRestrictions?Le.push(C.ignoreMobile):(pe.setupOptions.useHTML5Audio=!0,pe.setupOptions.preferFlash=!1,He?pe.ignoreFlash=!0:($e&&!ve.match(/android\s2\.3/i)||!$e)&&(Me=!0))),t&&(n&&O&&t.url!==e&&pe.beginDelayedInit(),O||t.url===e||"complete"!==be.readyState||setTimeout(S,1)),de=!0,pe},this.ok=function(){return De?ke&&!Ce:pe.useHTML5Audio&&pe.hasHTML5},this.supported=this.ok,this.getMovie=function(e){return a(e)||be[e]||t[e]},this.createSound=function(t,n){function i(){return o=q(o),pe.sounds[o.id]=new s(o),pe.soundIDs.push(o.id),pe.sounds[o.id]}var r,o,a=null;if(!ke||!pe.ok())return!1;if(n!==e&&(t={id:t,url:n}),o=d(t),o.url=K(o.url),o.id===e&&(o.id=pe.setupOptions.idPrefix+Fe++),W(o.id,!0))return pe.sounds[o.id];if(J(o))a=i(),a._setup_html5(o);else{if(pe.html5Only)return i();if(pe.html5.usingFlash&&o.url&&o.url.match(/data:/i))return i();h>8&&null===o.isMovieStar&&(o.isMovieStar=!!(o.serverURL||(o.type?o.type.match(en):!1)||o.url&&o.url.match(rn))),o=B(o,r),a=i(),8===h?me._createSound(o.id,o.loops||1,o.usePolicyFile):(me._createSound(o.id,o.url,o.usePeakData,o.useWaveformData,o.useEQData,o.isMovieStar,o.isMovieStar?o.bufferTime:!1,o.loops||1,o.serverURL,o.duration||null,o.autoPlay,!0,o.autoLoad,o.usePolicyFile),o.serverURL||(a.connected=!0,o.onconnect&&o.onconnect.apply(a))),o.serverURL||!o.autoLoad&&!o.autoPlay||a.load(o)}return!o.serverURL&&o.autoPlay&&a.play(),a},this.destroySound=function(t,e){if(!W(t))return!1;var n,i=pe.sounds[t];for(i.stop(),i._iO={},i.unload(),n=0;n<pe.soundIDs.length;n++)if(pe.soundIDs[n]===t){pe.soundIDs.splice(n,1);break}return e||i.destruct(!0),i=null,delete pe.sounds[t],!0},this.load=function(t,e){return W(t)?pe.sounds[t].load(e):!1},this.unload=function(t){return W(t)?pe.sounds[t].unload():!1},this.onPosition=function(t,e,n,i){return W(t)?pe.sounds[t].onposition(e,n,i):!1},this.onposition=this.onPosition,this.clearOnPosition=function(t,e,n){return W(t)?pe.sounds[t].clearOnPosition(e,n):!1},this.play=function(t,e){var n=null,i=e&&!(e instanceof Object);if(!ke||!pe.ok())return!1;if(W(t,i))i&&(e={url:e});else{if(!i)return!1;i&&(e={url:e}),e&&e.url&&(e.id=t,n=pe.createSound(e).play())}return null===n&&(n=pe.sounds[t].play(e)),n},this.start=this.play,this.setPlaybackRate=function(t,e,n){return W(t)?pe.sounds[t].setPlaybackRate(e,n):!1},this.setPosition=function(t,e){return W(t)?pe.sounds[t].setPosition(e):!1},this.stop=function(t){return W(t)?pe.sounds[t].stop():!1},this.stopAll=function(){var t;for(t in pe.sounds)pe.sounds.hasOwnProperty(t)&&pe.sounds[t].stop()},this.pause=function(t){return W(t)?pe.sounds[t].pause():!1},this.pauseAll=function(){var t;for(t=pe.soundIDs.length-1;t>=0;t--)pe.sounds[pe.soundIDs[t]].pause()},this.resume=function(t){return W(t)?pe.sounds[t].resume():!1},this.resumeAll=function(){var t;for(t=pe.soundIDs.length-1;t>=0;t--)pe.sounds[pe.soundIDs[t]].resume()},this.togglePause=function(t){return W(t)?pe.sounds[t].togglePause():!1},this.setPan=function(t,e){return W(t)?pe.sounds[t].setPan(e):!1},this.setVolume=function(t,n){var i,r;if(t!==e&&!isNaN(t)&&n===e){for(i=0,r=pe.soundIDs.length;r>i;i++)pe.sounds[pe.soundIDs[i]].setVolume(t);return!1}return W(t)?pe.sounds[t].setVolume(n):!1},this.mute=function(t){var e=0;if(t instanceof String&&(t=null),t)return W(t)?pe.sounds[t].mute():!1;for(e=pe.soundIDs.length-1;e>=0;e--)pe.sounds[pe.soundIDs[e]].mute();return pe.muted=!0,!0},this.muteAll=function(){pe.mute()},this.unmute=function(t){var e;if(t instanceof String&&(t=null),t)return W(t)?pe.sounds[t].unmute():!1;for(e=pe.soundIDs.length-1;e>=0;e--)pe.sounds[pe.soundIDs[e]].unmute();return pe.muted=!1,!0},this.unmuteAll=function(){pe.unmute()},this.toggleMute=function(t){return W(t)?pe.sounds[t].toggleMute():!1},this.getMemoryUse=function(){var t=0;return me&&8!==h&&(t=parseInt(me._getMemoryUse(),10)),t},this.disable=function(n){var i;if(n===e&&(n=!1),Ce)return!1;for(Ce=!0,i=pe.soundIDs.length-1;i>=0;i--)D(pe.sounds[pe.soundIDs[i]]);return D(pe),f(n),re.remove(t,"load",y),!0},this.canPlayMIME=function(t){var e;return pe.hasHTML5&&(e=Y({type:t})),!e&&De&&(e=t&&pe.ok()?!!((h>8?t.match(en):null)||t.match(pe.mimePattern)):null),e},this.canPlayURL=function(t){var e;return pe.hasHTML5&&(e=Y({url:t})),!e&&De&&(e=t&&pe.ok()?!!t.match(pe.filePattern):null),e},this.canPlayLink=function(t){return t.type!==e&&t.type&&pe.canPlayMIME(t.type)?!0:pe.canPlayURL(t.href)},this.getSoundById=function(t){if(!t)return null;var e=pe.sounds[t];return e},this.onready=function(e,n){var i="onready",r=!1;if("function"!=typeof e)throw F("needFunction",i);return n||(n=t),m(i,e,n),v(),r=!0,r},this.ontimeout=function(e,n){var i="ontimeout",r=!1;if("function"!=typeof e)throw F("needFunction",i);return n||(n=t),m(i,e,n),v({type:i}),r=!0,r},this._writeDebug=function(){return!0},this._wD=this._writeDebug,this._debug=function(){},this.reboot=function(e,n){var i,r,o;for(i=pe.soundIDs.length-1;i>=0;i--)pe.sounds[pe.soundIDs[i]].destruct();if(me)try{qe&&(Oe=me.innerHTML),Ee=me.parentNode.removeChild(me)}catch(s){}if(Oe=Ee=De=me=null,pe.enabled=O=ke=je=Pe=_e=xe=Ce=Me=pe.swfLoaded=!1,pe.soundIDs=[],pe.sounds={},Fe=0,de=!1,e)we=[];else for(i in we)if(we.hasOwnProperty(i))for(r=0,o=we[i].length;o>r;r++)we[i][r].fired=!1;return pe.html5={usingFlash:null},pe.flash={},pe.html5Only=!1,pe.ignoreFlash=!1,t.setTimeout(function(){n||pe.beginDelayedInit()},20),pe},this.reset=function(){return pe.reboot(!0,!0)},this.getMoviePercent=function(){return me&&"PercentLoaded"in me?me.PercentLoaded():null},this.beginDelayedInit=function(){Te=!0,S(),setTimeout(function(){return Pe?!1:(P(),T(),Pe=!0,!0)},20),b()},this.destruct=function(){pe.disable(!0)},s=function(t){var n,i,r,o,s,a,l,u,c,f,p=this,g=!1,m=[],v=0,y=null;c={duration:null,time:null},this.id=t.id,this.sID=this.id,this.url=t.url,this.options=d(t),this.instanceOptions=this.options,this._iO=this.instanceOptions,this.pan=this.options.pan,this.volume=this.options.volume,this.isHTML5=!1,this._a=null,f=!this.url,this.id3={},this._debug=function(){},this.load=function(t){var n,i=null;
if(t!==e?p._iO=d(t,p.options):(t=p.options,p._iO=t,y&&y!==p.url&&(p._iO.url=p.url,p.url=null)),p._iO.url||(p._iO.url=p.url),p._iO.url=K(p._iO.url),p.instanceOptions=p._iO,n=p._iO,!n.url&&!p.url)return p;if(n.url===p.url&&0!==p.readyState&&2!==p.readyState)return 3===p.readyState&&n.onload&&fe(p,function(){n.onload.apply(p,[!!p.duration])}),p;if(p.loaded=!1,p.readyState=1,p.playState=0,p.id3={},J(n))i=p._setup_html5(n),i._called_load||(p._html5_canplay=!1,p.url!==n.url&&(p._a.src=n.url,p.setPosition(0)),p._a.autobuffer="auto",p._a.preload="auto",p._a._called_load=!0);else{if(pe.html5Only)return p;if(p._iO.url&&p._iO.url.match(/data:/i))return p;try{p.isHTML5=!1,p._iO=B(q(n)),p._iO.autoPlay&&(p._iO.position||p._iO.from)&&(p._iO.autoPlay=!1),n=p._iO,8===h?me._load(p.id,n.url,n.stream,n.autoPlay,n.usePolicyFile):me._load(p.id,n.url,!!n.stream,!!n.autoPlay,n.loops||1,!!n.autoLoad,n.usePolicyFile)}catch(r){N({type:"SMSOUND_LOAD_JS_EXCEPTION",fatal:!0})}}return p.url=n.url,p},this.unload=function(){return 0!==p.readyState&&(p.isHTML5?(o(),p._a&&(p._a.pause(),y=ee(p._a))):8===h?me._unload(p.id,Je):me._unload(p.id),n()),p},this.destruct=function(t){p.isHTML5?(o(),p._a&&(p._a.pause(),ee(p._a),Me||r(),p._a._s=null,p._a=null)):(p._iO.onfailure=null,me._destroySound(p.id)),t||pe.destroySound(p.id,!0)},this.play=function(t,n){var i,r,o,l,c,m,v=!0;if(n=n===e?!0:n,t||(t={}),p.url&&(p._iO.url=p.url),p._iO=d(p._iO,p.options),p._iO=d(t,p._iO),p._iO.url=K(p._iO.url),p.instanceOptions=p._iO,!p.isHTML5&&p._iO.serverURL&&!p.connected)return p.getAutoPlay()||p.setAutoPlay(!0),p;if(J(p._iO)&&(p._setup_html5(p._iO),s()),1===p.playState&&!p.paused&&(i=p._iO.multiShot,!i))return p.isHTML5&&p.setPosition(p._iO.position),p;if(t.url&&t.url!==p.url&&(p.readyState||p.isHTML5||8!==h||!f?p.load(p._iO):f=!1),!p.loaded)if(0===p.readyState){if(p.isHTML5||pe.html5Only){if(!p.isHTML5)return p;p.load(p._iO)}else p._iO.autoPlay=!0,p.load(p._iO);p.instanceOptions=p._iO}else if(2===p.readyState)return p;return!p.isHTML5&&9===h&&p.position>0&&p.position===p.duration&&(t.position=0),p.paused&&p.position>=0&&(!p._iO.serverURL||p.position>0)?p.resume():(p._iO=d(t,p._iO),(!p.isHTML5&&null!==p._iO.position&&p._iO.position>0||null!==p._iO.from&&p._iO.from>0||null!==p._iO.to)&&0===p.instanceCount&&0===p.playState&&!p._iO.serverURL&&(o=function(){p._iO=d(t,p._iO),p.play(p._iO)},p.isHTML5&&!p._html5_canplay?p.load({_oncanplay:o}):p.isHTML5||p.loaded||p.readyState&&2===p.readyState||p.load({onload:o}),p._iO=u()),(!p.instanceCount||p._iO.multiShotEvents||p.isHTML5&&p._iO.multiShot&&!Me||!p.isHTML5&&h>8&&!p.getAutoPlay())&&p.instanceCount++,p._iO.onposition&&0===p.playState&&a(p),p.playState=1,p.paused=!1,p.position=p._iO.position===e||isNaN(p._iO.position)?0:p._iO.position,p.isHTML5||(p._iO=B(q(p._iO))),p._iO.onplay&&n&&(p._iO.onplay.apply(p),g=!0),p.setVolume(p._iO.volume,!0),p.setPan(p._iO.pan,!0),1!==p._iO.playbackRate&&p.setPlaybackRate(p._iO.playbackRate),p.isHTML5?p.instanceCount<2?(s(),r=p._setup_html5(),p.setPosition(p._iO.position),r.play()):(l=new Audio(p._iO.url),c=function(){re.remove(l,"ended",c),p._onfinish(p),ee(l),l=null},m=function(){re.remove(l,"canplay",m);try{l.currentTime=p._iO.position/Re}catch(t){}l.play()},re.add(l,"ended",c),p._iO.volume!==e&&(l.volume=Math.max(0,Math.min(1,p._iO.volume/100))),p.muted&&(l.muted=!0),p._iO.position?re.add(l,"canplay",m):l.play()):(v=me._start(p.id,p._iO.loops||1,9===h?p.position:p.position/Re,p._iO.multiShot||!1),9!==h||v||p._iO.onplayerror&&p._iO.onplayerror.apply(p))),p},this.start=this.play,this.stop=function(t){var e,n=p._iO;return 1===p.playState&&(p._onbufferchange(0),p._resetOnPosition(0),p.paused=!1,p.isHTML5||(p.playState=0),l(),n.to&&p.clearOnPosition(n.to),p.isHTML5?p._a&&(e=p.position,p.setPosition(0),p.position=e,p._a.pause(),p.playState=0,p._onTimer(),o()):(me._stop(p.id,t),n.serverURL&&p.unload()),p.instanceCount=0,p._iO={},n.onstop&&n.onstop.apply(p)),p},this.setAutoPlay=function(t){p._iO.autoPlay=t,p.isHTML5||(me._setAutoPlay(p.id,t),t&&(p.instanceCount||1!==p.readyState||p.instanceCount++))},this.getAutoPlay=function(){return p._iO.autoPlay},this.setPlaybackRate=function(t){var e=Math.max(.5,Math.min(4,t));if(p.isHTML5)try{p._iO.playbackRate=e,p._a.playbackRate=e}catch(n){}return p},this.setPosition=function(t){t===e&&(t=0);var n,i,r=p.isHTML5?Math.max(t,0):Math.min(p.duration||p._iO.duration,Math.max(t,0));if(p.position=r,i=p.position/Re,p._resetOnPosition(p.position),p._iO.position=r,p.isHTML5){if(p._a){if(p._html5_canplay){if(p._a.currentTime.toFixed(3)!==i.toFixed(3))try{p._a.currentTime=i,(0===p.playState||p.paused)&&p._a.pause()}catch(o){}}else if(i)return p;p.paused&&p._onTimer(!0)}}else n=9===h?p.position:i,p.readyState&&2!==p.readyState&&me._setPosition(p.id,n,p.paused||!p.playState,p._iO.multiShot);return p},this.pause=function(t){return p.paused||0===p.playState&&1!==p.readyState?p:(p.paused=!0,p.isHTML5?(p._setup_html5().pause(),o()):(t||t===e)&&me._pause(p.id,p._iO.multiShot),p._iO.onpause&&p._iO.onpause.apply(p),p)},this.resume=function(){var t=p._iO;return p.paused?(p.paused=!1,p.playState=1,p.isHTML5?(p._setup_html5().play(),s()):(t.isMovieStar&&!t.serverURL&&p.setPosition(p.position),me._pause(p.id,t.multiShot)),!g&&t.onplay?(t.onplay.apply(p),g=!0):t.onresume&&t.onresume.apply(p),p):p},this.togglePause=function(){return 0===p.playState?(p.play({position:9!==h||p.isHTML5?p.position/Re:p.position}),p):(p.paused?p.resume():p.pause(),p)},this.setPan=function(t,n){return t===e&&(t=0),n===e&&(n=!1),p.isHTML5||me._setPan(p.id,t),p._iO.pan=t,n||(p.pan=t,p.options.pan=t),p},this.setVolume=function(t,n){return t===e&&(t=100),n===e&&(n=!1),p.isHTML5?p._a&&(pe.muted&&!p.muted&&(p.muted=!0,p._a.muted=!0),p._a.volume=Math.max(0,Math.min(1,t/100))):me._setVolume(p.id,pe.muted&&!p.muted||p.muted?0:t),p._iO.volume=t,n||(p.volume=t,p.options.volume=t),p},this.mute=function(){return p.muted=!0,p.isHTML5?p._a&&(p._a.muted=!0):me._setVolume(p.id,0),p},this.unmute=function(){p.muted=!1;var t=p._iO.volume!==e;return p.isHTML5?p._a&&(p._a.muted=!1):me._setVolume(p.id,t?p._iO.volume:p.options.volume),p},this.toggleMute=function(){return p.muted?p.unmute():p.mute()},this.onPosition=function(t,n,i){return m.push({position:parseInt(t,10),method:n,scope:i!==e?i:p,fired:!1}),p},this.onposition=this.onPosition,this.clearOnPosition=function(t,e){var n;if(t=parseInt(t,10),!isNaN(t))for(n=0;n<m.length;n++)t===m[n].position&&(e&&e!==m[n].method||(m[n].fired&&v--,m.splice(n,1)))},this._processOnPosition=function(){var t,e,n=m.length;if(!n||!p.playState||v>=n)return!1;for(t=n-1;t>=0;t--)e=m[t],!e.fired&&p.position>=e.position&&(e.fired=!0,v++,e.method.apply(e.scope,[e.position]),n=m.length);return!0},this._resetOnPosition=function(t){var e,n,i=m.length;if(!i)return!1;for(e=i-1;e>=0;e--)n=m[e],n.fired&&t<=n.position&&(n.fired=!1,v--);return!0},u=function(){var t,e,n=p._iO,i=n.from,r=n.to;return e=function(){p.clearOnPosition(r,e),p.stop()},t=function(){null===r||isNaN(r)||p.onPosition(r,e)},null===i||isNaN(i)||(n.position=i,n.multiShot=!1,t()),n},a=function(){var t,e=p._iO.onposition;if(e)for(t in e)e.hasOwnProperty(t)&&p.onPosition(parseInt(t,10),e[t])},l=function(){var t,e=p._iO.onposition;if(e)for(t in e)e.hasOwnProperty(t)&&p.clearOnPosition(parseInt(t,10))},s=function(){p.isHTML5&&V(p)},o=function(){p.isHTML5&&z(p)},n=function(t){t||(m=[],v=0),g=!1,p._hasTimer=null,p._a=null,p._html5_canplay=!1,p.bytesLoaded=null,p.bytesTotal=null,p.duration=p._iO&&p._iO.duration?p._iO.duration:null,p.durationEstimate=null,p.buffered=[],p.eqData=[],p.eqData.left=[],p.eqData.right=[],p.failures=0,p.isBuffering=!1,p.instanceOptions={},p.instanceCount=0,p.loaded=!1,p.metadata={},p.readyState=0,p.muted=!1,p.paused=!1,p.peakData={left:0,right:0},p.waveformData={left:[],right:[]},p.playState=0,p.position=null,p.id3={}},n(),this._onTimer=function(t){var e,n,i=!1,r={};return(p._hasTimer||t)&&p._a&&(t||(p.playState>0||1===p.readyState)&&!p.paused)&&(e=p._get_html5_duration(),e!==c.duration&&(c.duration=e,p.duration=e,i=!0),p.durationEstimate=p.duration,n=p._a.currentTime*Re||0,n!==c.time&&(c.time=n,i=!0),(i||t)&&p._whileplaying(n,r,r,r,r)),i},this._get_html5_duration=function(){var t=p._iO,e=p._a&&p._a.duration?p._a.duration*Re:t&&t.duration?t.duration:null,n=e&&!isNaN(e)&&1/0!==e?e:null;return n},this._apply_loop=function(t,e){t.loop=e>1?"loop":""},this._setup_html5=function(t){var e,r=d(p._iO,t),o=Me?ge:p._a,s=decodeURI(r.url);if(Me?s===decodeURI(oe)&&(e=!0):s===decodeURI(y)&&(e=!0),o){if(o._s)if(Me)o._s&&o._s.playState&&!e&&o._s.stop();else if(!Me&&s===decodeURI(y))return p._apply_loop(o,r.loops),o;e||(y&&n(!1),o.src=r.url,p.url=r.url,y=r.url,oe=r.url,o._called_load=!1)}else r.autoLoad||r.autoPlay?(p._a=new Audio(r.url),p._a.load()):p._a=We&&opera.version()<10?new Audio(null):new Audio,o=p._a,o._called_load=!1,Me&&(ge=o);return p.isHTML5=!0,p._a=o,o._s=p,i(),p._apply_loop(o,r.loops),r.autoLoad||r.autoPlay?p.load():(o.autobuffer=!1,o.preload="auto"),o},i=function(){function t(t,e,n){return p._a?p._a.addEventListener(t,e,n||!1):null}if(p._a._added_events)return!1;var e;p._a._added_events=!0;for(e in ue)ue.hasOwnProperty(e)&&t(e,ue[e]);return!0},r=function(){function t(t,e,n){return p._a?p._a.removeEventListener(t,e,n||!1):null}var e;p._a._added_events=!1;for(e in ue)ue.hasOwnProperty(e)&&t(e,ue[e])},this._onload=function(t){var e=!!t||!p.isHTML5&&8===h&&p.duration;return p.loaded=e,p.readyState=e?3:2,p._onbufferchange(0),e||p.isHTML5||p._onerror(),p._iO.onload&&fe(p,function(){p._iO.onload.apply(p,[e])}),!0},this._onerror=function(t,e){p._iO.onerror&&fe(p,function(){p._iO.onerror.apply(p,[t,e])})},this._onbufferchange=function(t){return 0===p.playState?!1:t&&p.isBuffering||!t&&!p.isBuffering?!1:(p.isBuffering=1===t,p._iO.onbufferchange&&p._iO.onbufferchange.apply(p,[t]),!0)},this._onsuspend=function(){return p._iO.onsuspend&&p._iO.onsuspend.apply(p),!0},this._onfailure=function(t,e,n){p.failures++,p._iO.onfailure&&1===p.failures&&p._iO.onfailure(t,e,n)},this._onwarning=function(t,e,n){p._iO.onwarning&&p._iO.onwarning(t,e,n)},this._onfinish=function(){var t=p._iO.onfinish;p._onbufferchange(0),p._resetOnPosition(0),p.instanceCount&&(p.instanceCount--,p.instanceCount||(l(),p.playState=0,p.paused=!1,p.instanceCount=0,p.instanceOptions={},p._iO={},o(),p.isHTML5&&(p.position=0)),(!p.instanceCount||p._iO.multiShotEvents)&&t&&fe(p,function(){t.apply(p)}))},this._whileloading=function(t,e,n,i){var r=p._iO;p.bytesLoaded=t,p.bytesTotal=e,p.duration=Math.floor(n),p.bufferLength=i,p.durationEstimate=p.isHTML5||r.isMovieStar?p.duration:r.duration?p.duration>r.duration?p.duration:r.duration:parseInt(p.bytesTotal/p.bytesLoaded*p.duration,10),p.isHTML5||(p.buffered=[{start:0,end:p.duration}]),(3!==p.readyState||p.isHTML5)&&r.whileloading&&r.whileloading.apply(p)},this._whileplaying=function(t,n,i,r,o){var s,a=p._iO;return isNaN(t)||null===t?!1:(p.position=Math.max(0,t),p._processOnPosition(),!p.isHTML5&&h>8&&(a.usePeakData&&n!==e&&n&&(p.peakData={left:n.leftPeak,right:n.rightPeak}),a.useWaveformData&&i!==e&&i&&(p.waveformData={left:i.split(","),right:r.split(",")}),a.useEQData&&o!==e&&o&&o.leftEQ&&(s=o.leftEQ.split(","),p.eqData=s,p.eqData.left=s,o.rightEQ!==e&&o.rightEQ&&(p.eqData.right=o.rightEQ.split(",")))),1===p.playState&&(p.isHTML5||8!==h||p.position||!p.isBuffering||p._onbufferchange(0),a.whileplaying&&a.whileplaying.apply(p)),!0)},this._oncaptiondata=function(t){p.captiondata=t,p._iO.oncaptiondata&&p._iO.oncaptiondata.apply(p,[t])},this._onmetadata=function(t,e){var n,i,r={};for(n=0,i=t.length;i>n;n++)r[t[n]]=e[n];p.metadata=r,p._iO.onmetadata&&p._iO.onmetadata.call(p,p.metadata)},this._onid3=function(t,e){var n,i,r=[];for(n=0,i=t.length;i>n;n++)r[t[n]]=e[n];p.id3=d(p.id3,r),p._iO.onid3&&p._iO.onid3.apply(p)},this._onconnect=function(t){t=1===t,p.connected=t,t&&(p.failures=0,W(p.id)&&(p.getAutoPlay()?p.play(e,p.getAutoPlay()):p._iO.autoLoad&&p.load()),p._iO.onconnect&&p._iO.onconnect.apply(p,[t]))},this._ondataerror=function(){p.playState>0&&p._iO.ondataerror&&p._iO.ondataerror.apply(p)}},j=function(){return be.body||be.getElementsByTagName("div")[0]},a=function(t){return be.getElementById(t)},d=function(t,n){var i,r,o=t||{};i=n===e?pe.defaultOptions:n;for(r in i)i.hasOwnProperty(r)&&o[r]===e&&(o[r]="object"!=typeof i[r]||null===i[r]?i[r]:d(o[r],i[r]));return o},fe=function(e,n){e.isHTML5||8!==h?n():t.setTimeout(n,0)},g={onready:1,ontimeout:1,defaultOptions:1,flash9Options:1,movieStarOptions:1},p=function(t,n){var i,r=!0,o=n!==e,s=pe.setupOptions,a=g;for(i in t)if(t.hasOwnProperty(i))if("object"!=typeof t[i]||null===t[i]||t[i]instanceof Array||t[i]instanceof RegExp)o&&a[n]!==e?pe[n][i]=t[i]:s[i]!==e?(pe.setupOptions[i]=t[i],pe[i]=t[i]):a[i]===e?r=!1:pe[i]instanceof Function?pe[i].apply(pe,t[i]instanceof Array?t[i]:[t[i]]):pe[i]=t[i];else{if(a[i]!==e)return p(t[i],i);r=!1}return r},re=function(){function e(t){var e=Ie.call(t),n=e.length;return o?(e[1]="on"+e[1],n>3&&e.pop()):3===n&&e.push(!1),e}function n(t,e){var n=t.shift(),i=[s[e]];o?n[i](t[0],t[1]):n[i].apply(n,t)}function i(){n(e(arguments),"add")}function r(){n(e(arguments),"remove")}var o=t.attachEvent,s={add:o?"attachEvent":"addEventListener",remove:o?"detachEvent":"removeEventListener"};return{add:i,remove:r}}(),ue={abort:o(function(){}),canplay:o(function(){var t,n=this._s;if(!n._html5_canplay){if(n._html5_canplay=!0,n._onbufferchange(0),t=n._iO.position===e||isNaN(n._iO.position)?null:n._iO.position/Re,this.currentTime!==t)try{this.currentTime=t}catch(i){}n._iO._oncanplay&&n._iO._oncanplay()}}),canplaythrough:o(function(){var t=this._s;t.loaded||(t._onbufferchange(0),t._whileloading(t.bytesLoaded,t.bytesTotal,t._get_html5_duration()),t._onload(!0))}),durationchange:o(function(){var t,e=this._s;t=e._get_html5_duration(),isNaN(t)||t===e.duration||(e.durationEstimate=e.duration=t)}),ended:o(function(){var t=this._s;t._onfinish()}),error:o(function(){var t=Z[this.error.code]||null;this._s._onload(!1),this._s._onerror(this.error.code,t)}),loadeddata:o(function(){var t=this._s;t._loaded||Ue||(t.duration=t._get_html5_duration())}),loadedmetadata:o(function(){}),loadstart:o(function(){this._s._onbufferchange(1)}),play:o(function(){this._s._onbufferchange(0)}),playing:o(function(){this._s._onbufferchange(0)}),progress:o(function(t){var e,n,i=this._s,r=0,o=("progress"===t.type,t.target.buffered),s=t.loaded||0,a=t.total||1;if(i.buffered=[],o&&o.length){for(e=0,n=o.length;n>e;e++)i.buffered.push({start:o.start(e)*Re,end:o.end(e)*Re});r=(o.end(0)-o.start(0))*Re,s=Math.min(1,r/(t.target.duration*Re))}isNaN(s)||(i._whileloading(s,a,i._get_html5_duration()),s&&a&&s===a&&ue.canplaythrough.call(this,t))}),ratechange:o(function(){}),suspend:o(function(t){var e=this._s;ue.progress.call(this,t),e._onsuspend()}),stalled:o(function(){}),timeupdate:o(function(){this._s._onTimer()}),waiting:o(function(){var t=this._s;t._onbufferchange(1)})},J=function(t){var e;return e=t&&(t.type||t.url||t.serverURL)?t.serverURL||t.type&&r(t.type)?!1:t.type?Y({type:t.type}):Y({url:t.url})||pe.html5Only||t.url.match(/data:/i):!1},ee=function(t){var n;return t&&(n=Ue?Je:pe.html5.canPlayType("audio/wav")?Ye:Je,t.src=n,t._called_unload!==e&&(t._called_load=!1)),Me&&(oe=null),n},Y=function(t){if(!pe.useHTML5Audio||!pe.hasHTML5)return!1;var n,i,o,s,a=t.url||null,l=t.type||null,u=pe.audioFormats;if(l&&pe.html5[l]!==e)return pe.html5[l]&&!r(l);if(!te){te=[];for(s in u)u.hasOwnProperty(s)&&(te.push(s),u[s].related&&(te=te.concat(u[s].related)));te=new RegExp("\\.("+te.join("|")+")(\\?.*)?$","i")}return o=a?a.toLowerCase().match(te):null,o&&o.length?o=o[1]:l?(i=l.indexOf(";"),o=(-1!==i?l.substr(0,i):l).substr(6)):n=!1,o&&pe.html5[o]!==e?n=pe.html5[o]&&!r(o):(l="audio/"+o,n=pe.html5.canPlayType({type:l}),pe.html5[o]=n,n=n&&pe.html5[l]&&!r(l)),n},ie=function(){function t(t){var e,n,i=!1,r=!1;if(!s||"function"!=typeof s.canPlayType)return i;if(t instanceof Array){for(o=0,n=t.length;n>o;o++)(pe.html5[t[o]]||s.canPlayType(t[o]).match(pe.html5Test))&&(r=!0,pe.html5[t[o]]=!0,pe.flash[t[o]]=!!t[o].match(Ge));i=r}else e=s&&"function"==typeof s.canPlayType?s.canPlayType(t):!1,i=!(!e||!e.match(pe.html5Test));return i}if(!pe.useHTML5Audio||!pe.hasHTML5)return pe.html5.usingFlash=!0,De=!0,!1;var n,i,r,o,s=Audio!==e?We&&opera.version()<10?new Audio(null):new Audio:null,a={};r=pe.audioFormats;for(n in r)if(r.hasOwnProperty(n)&&(i="audio/"+n,a[n]=t(r[n].type),a[i]=a[n],n.match(Ge)?(pe.flash[n]=!0,pe.flash[i]=!0):(pe.flash[n]=!1,pe.flash[i]=!1),r[n]&&r[n].related))for(o=r[n].related.length-1;o>=0;o--)a["audio/"+r[n].related[o]]=a[n],pe.html5[r[n].related[o]]=a[n],pe.flash[r[n].related[o]]=a[n];return a.canPlayType=s?t:null,pe.html5=d(pe.html5,a),pe.html5.usingFlash=G(),De=pe.html5.usingFlash,!0},C={},F=function(){},q=function(t){return 8===h&&t.loops>1&&t.stream&&(t.stream=!1),t},B=function(t){return t&&!t.usePolicyFile&&(t.onid3||t.usePeakData||t.useWaveformData||t.useEQData)&&(t.usePolicyFile=!0),t},U=function(){},l=function(){return!1},D=function(t){var e;for(e in t)t.hasOwnProperty(e)&&"function"==typeof t[e]&&(t[e]=l);e=null},I=function(t){t===e&&(t=!1),(Ce||t)&&pe.disable(t)},M=function(t){var e,n=null;if(t)if(t.match(/\.swf(\?.*)?$/i)){if(n=t.substr(t.toLowerCase().lastIndexOf(".swf?")+4))return t}else t.lastIndexOf("/")!==t.length-1&&(t+="/");return e=(t&&-1!==t.lastIndexOf("/")?t.substr(0,t.lastIndexOf("/")+1):"./")+pe.movieURL,pe.noSWFCache&&(e+="?ts="+(new Date).getTime()),e},x=function(){h=parseInt(pe.flashVersion,10),8!==h&&9!==h&&(pe.flashVersion=h=Se);var t=pe.debugMode||pe.debugFlash?"_debug.swf":".swf";pe.useHTML5Audio&&!pe.html5Only&&pe.audioFormats.mp4.required&&9>h&&(pe.flashVersion=h=9),pe.version=pe.versionNumber+(pe.html5Only?" (HTML5-only mode)":9===h?" (AS3/Flash 9)":" (AS2/Flash 8)"),h>8?(pe.defaultOptions=d(pe.defaultOptions,pe.flash9Options),pe.features.buffering=!0,pe.defaultOptions=d(pe.defaultOptions,pe.movieStarOptions),pe.filePatterns.flash9=new RegExp("\\.(mp3|"+nn.join("|")+")(\\?.*)?$","i"),pe.features.movieStar=!0):pe.features.movieStar=!1,pe.filePattern=pe.filePatterns[8!==h?"flash9":"flash8"],pe.movieURL=(8===h?"soundmanager2.swf":"soundmanager2_flash9.swf").replace(".swf",t),pe.features.peakData=pe.features.waveformData=pe.features.eqData=h>8},A=function(t,e){me&&me._setPolling(t,e)},L=function(){},W=this.getSoundById,H=function(){var t=[];return pe.debugMode&&t.push($.sm2Debug),pe.debugFlash&&t.push($.flashDebug),pe.useHighPerformance&&t.push($.highPerf),t.join(" ")},R=function(){var t=(F("fbHandler"),pe.getMoviePercent()),e=$,n={type:"FLASHBLOCK"};pe.html5Only||(pe.ok()?pe.oMC&&(pe.oMC.className=[H(),e.swfDefault,e.swfLoaded+(pe.didFlashBlock?" "+e.swfUnblocked:"")].join(" ")):(De&&(pe.oMC.className=H()+" "+e.swfDefault+" "+(null===t?e.swfTimedout:e.swfError)),pe.didFlashBlock=!0,v({type:"ontimeout",ignoreInit:!0,error:n}),N(n)))},m=function(t,n,i){we[t]===e&&(we[t]=[]),we[t].push({method:n,scope:i||null,fired:!1})},v=function(t){if(t||(t={type:pe.ok()?"onready":"ontimeout"}),!ke&&t&&!t.ignoreInit)return!1;if("ontimeout"===t.type&&(pe.ok()||Ce&&!t.ignoreInit))return!1;var e,n,i={success:t&&t.ignoreInit?pe.ok():!Ce},r=t&&t.type?we[t.type]||[]:[],o=[],s=[i],a=De&&!pe.ok();for(t.error&&(s[0].error=t.error),e=0,n=r.length;n>e;e++)r[e].fired!==!0&&o.push(r[e]);if(o.length)for(e=0,n=o.length;n>e;e++)o[e].scope?o[e].method.apply(o[e].scope,s):o[e].method.apply(this,s),a||(o[e].fired=!0);return!0},y=function(){t.setTimeout(function(){pe.useFlashBlock&&R(),v(),"function"==typeof pe.onload&&pe.onload.apply(t),pe.waitForWindowLoad&&re.add(t,"load",y)},1)},ae=function(){if(se!==e)return se;var n,i,r,o,s=!1,a=navigator,l=t.ActiveXObject;try{o=a.plugins}catch(u){o=void 0}if(o&&o.length)i="application/x-shockwave-flash",r=a.mimeTypes,r&&r[i]&&r[i].enabledPlugin&&r[i].enabledPlugin.description&&(s=!0);else if(l!==e&&!ve.match(/MSAppHost/i)){try{n=new l("ShockwaveFlash.ShockwaveFlash")}catch(u){n=null}s=!!n,n=null}return se=s,s},G=function(){var t,e,n=pe.audioFormats,i=He&&!!ve.match(/os (1|2|3_0|3_1)\s/i);if(i?(pe.hasHTML5=!1,pe.html5Only=!0,pe.oMC&&(pe.oMC.style.display="none")):pe.useHTML5Audio&&(pe.html5&&pe.html5.canPlayType||(pe.hasHTML5=!1)),pe.useHTML5Audio&&pe.hasHTML5){Q=!0;for(e in n)n.hasOwnProperty(e)&&n[e].required&&(pe.html5.canPlayType(n[e].type)?pe.preferFlash&&(pe.flash[e]||pe.flash[n[e].type])&&(t=!0):(Q=!1,t=!0))}return pe.ignoreFlash&&(t=!1,Q=!0),pe.html5Only=pe.hasHTML5&&pe.useHTML5Audio&&!t,!pe.html5Only},K=function(t){var e,n,i,r=0;if(t instanceof Array){for(e=0,n=t.length;n>e;e++)if(t[e]instanceof Object){if(pe.canPlayMIME(t[e].type)){r=e;break}}else if(pe.canPlayURL(t[e])){r=e;break}t[r].url&&(t[r]=t[r].url),i=t[r]}else i=t;return i},V=function(t){t._hasTimer||(t._hasTimer=!0,!Ve&&pe.html5PollingInterval&&(null===Ae&&0===Ne&&(Ae=setInterval(X,pe.html5PollingInterval)),Ne++))},z=function(t){t._hasTimer&&(t._hasTimer=!1,!Ve&&pe.html5PollingInterval&&Ne--)},X=function(){var t;if(null!==Ae&&!Ne)return clearInterval(Ae),void(Ae=null);for(t=pe.soundIDs.length-1;t>=0;t--)pe.sounds[pe.soundIDs[t]].isHTML5&&pe.sounds[pe.soundIDs[t]]._hasTimer&&pe.sounds[pe.soundIDs[t]]._onTimer()},N=function(n){n=n!==e?n:{},"function"==typeof pe.onerror&&pe.onerror.apply(t,[{type:n.type!==e?n.type:null}]),n.fatal!==e&&n.fatal&&pe.disable()},le=function(){if(ze&&ae()){var t,e,n=pe.audioFormats;for(e in n)if(n.hasOwnProperty(e)&&("mp3"===e||"mp4"===e)&&(pe.html5[e]=!1,n[e]&&n[e].related))for(t=n[e].related.length-1;t>=0;t--)pe.html5[n[e].related[t]]=!1}},this._setSandboxType=function(){},this._externalInterfaceOK=function(){if(!pe.swfLoaded){pe.swfLoaded=!0,Ke=!1,ze&&le(),setTimeout(c,qe?100:1)}},P=function(t,n){function i(){}function r(t,e){return'<param name="'+t+'" value="'+e+'" />'}if(_e&&xe)return!1;if(pe.html5Only)return x(),i(),pe.oMC=a(pe.movieID),c(),_e=!0,xe=!0,!1;var o,s,l,u,h,f,d,p,g=n||pe.url,m=pe.altURL||g,v="JS/Flash audio component (SoundManager 2)",y=j(),b=H(),w=null,_=be.getElementsByTagName("html")[0];if(w=_&&_.dir&&_.dir.match(/rtl/i),t=t===e?pe.id:t,x(),pe.url=M(Ze?g:m),n=pe.url,pe.wmode=!pe.wmode&&pe.useHighPerformance?"transparent":pe.wmode,null!==pe.wmode&&(ve.match(/msie 8/i)||!qe&&!pe.useHighPerformance)&&navigator.platform.match(/win32|win64/i)&&(Le.push(C.spcWmode),pe.wmode=null),o={name:t,id:t,src:n,quality:"high",allowScriptAccess:pe.allowScriptAccess,bgcolor:pe.bgColor,pluginspage:tn+"www.macromedia.com/go/getflashplayer",title:v,type:"application/x-shockwave-flash",wmode:pe.wmode,hasPriority:"true"},pe.debugFlash&&(o.FlashVars="debug=1"),pe.wmode||delete o.wmode,qe)s=be.createElement("div"),u=['<object id="'+t+'" data="'+n+'" type="'+o.type+'" title="'+o.title+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0">',r("movie",n),r("AllowScriptAccess",pe.allowScriptAccess),r("quality",o.quality),pe.wmode?r("wmode",pe.wmode):"",r("bgcolor",pe.bgColor),r("hasPriority","true"),pe.debugFlash?r("FlashVars",o.FlashVars):"","</object>"].join("");else{s=be.createElement("embed");for(l in o)o.hasOwnProperty(l)&&s.setAttribute(l,o[l])}if(L(),b=H(),y=j())if(pe.oMC=a(pe.movieID)||be.createElement("div"),pe.oMC.id)p=pe.oMC.className,pe.oMC.className=(p?p+" ":$.swfDefault)+(b?" "+b:""),pe.oMC.appendChild(s),qe&&(h=pe.oMC.appendChild(be.createElement("div")),h.className=$.swfBox,h.innerHTML=u),xe=!0;else{if(pe.oMC.id=pe.movieID,pe.oMC.className=$.swfDefault+" "+b,f=null,h=null,pe.useFlashBlock||(pe.useHighPerformance?f={position:"fixed",width:"8px",height:"8px",bottom:"0px",left:"0px",overflow:"hidden"}:(f={position:"absolute",width:"6px",height:"6px",top:"-9999px",left:"-9999px"},w&&(f.left=Math.abs(parseInt(f.left,10))+"px"))),Be&&(pe.oMC.style.zIndex=1e4),!pe.debugFlash)for(d in f)f.hasOwnProperty(d)&&(pe.oMC.style[d]=f[d]);try{qe||pe.oMC.appendChild(s),y.appendChild(pe.oMC),qe&&(h=pe.oMC.appendChild(be.createElement("div")),h.className=$.swfBox,h.innerHTML=u),xe=!0}catch(k){throw new Error(F("domError")+" \n"+k.toString())}}return _e=!0,i(),!0},T=function(){return pe.html5Only?(P(),!1):me?!1:pe.url?(me=pe.getMovie(pe.id),me||(Ee?(qe?pe.oMC.innerHTML=Oe:pe.oMC.appendChild(Ee),Ee=null,_e=!0):P(pe.id,pe.url),me=pe.getMovie(pe.id)),"function"==typeof pe.oninitmovie&&setTimeout(pe.oninitmovie,1),!0):!1},b=function(){setTimeout(w,1e3)},_=function(){t.setTimeout(function(){pe.setup({preferFlash:!1}).reboot(),pe.didFlashBlock=!0,pe.beginDelayedInit()},1)},w=function(){var e,n=!1;pe.url&&(je||(je=!0,re.remove(t,"load",b),se&&Ke&&!Xe||(ke||(e=pe.getMoviePercent(),e>0&&100>e&&(n=!0)),setTimeout(function(){return e=pe.getMoviePercent(),n?(je=!1,void t.setTimeout(b,1)):void(!ke&&Qe&&(null===e?pe.useFlashBlock||0===pe.flashLoadTimeout?pe.useFlashBlock&&R():!pe.useFlashBlock&&Q?_():v({type:"ontimeout",ignoreInit:!0,error:{type:"INIT_FLASHBLOCK"}}):0===pe.flashLoadTimeout||(!pe.useFlashBlock&&Q?_():I(!0))))},pe.flashLoadTimeout))))},k=function(){function e(){re.remove(t,"focus",k)}return Xe||!Ke?(e(),!0):(Qe=!0,Xe=!0,je=!1,b(),e(),!0)},he=function(){},ce=function(){},f=function(e){if(ke)return!1;if(pe.html5Only)return ke=!0,y(),!0;var n,i=pe.useFlashBlock&&pe.flashLoadTimeout&&!pe.getMoviePercent(),r=!0;return i||(ke=!0),n={type:!se&&De?"NO_FLASH":"INIT_TIMEOUT"},(Ce||e)&&(pe.useFlashBlock&&pe.oMC&&(pe.oMC.className=H()+" "+(null===pe.getMoviePercent()?$.swfTimedout:$.swfError)),v({type:"ontimeout",error:n,ignoreInit:!0}),N(n),r=!1),Ce||(pe.waitForWindowLoad&&!Te?re.add(t,"load",y):y()),r},u=function(){var t,n=pe.setupOptions;for(t in n)n.hasOwnProperty(t)&&(pe[t]===e?pe[t]=n[t]:pe[t]!==n[t]&&(pe.setupOptions[t]=pe[t]))},c=function(){function e(){re.remove(t,"load",pe.beginDelayedInit)}if(ke)return!1;if(pe.html5Only)return ke||(e(),pe.enabled=!0,f()),!0;T();try{me._externalInterfaceTest(!1),A(!0,pe.flashPollingInterval||(pe.useHighPerformance?10:50)),pe.debugMode||me._disableDebug(),pe.enabled=!0,pe.html5Only||re.add(t,"unload",l)}catch(n){return N({type:"JS_TO_FLASH_EXCEPTION",fatal:!0}),I(!0),f(),!1}return f(),e(),!0},S=function(){return O?!1:(O=!0,u(),L(),!se&&pe.hasHTML5&&pe.setup({useHTML5Audio:!0,preferFlash:!1}),ie(),!se&&De&&(Le.push(C.needFlash),pe.setup({flashLoadTimeout:1})),be.removeEventListener&&be.removeEventListener("DOMContentLoaded",S,!1),T(),!0)},ne=function(){return"complete"===be.readyState&&(S(),be.detachEvent("onreadystatechange",ne)),!0},E=function(){Te=!0,S(),re.remove(t,"load",E)},ae(),re.add(t,"focus",k),re.add(t,"load",b),re.add(t,"load",E),be.addEventListener?be.addEventListener("DOMContentLoaded",S,!1):be.attachEvent?be.attachEvent("onreadystatechange",ne):N({type:"NO_DOM2_EVENTS",fatal:!0})}if(!t||!t.document)throw new Error("SoundManager requires a browser with window and document objects.");var i=null;t.SM2_DEFER!==e&&SM2_DEFER||(i=new n),"object"==typeof module&&module&&"object"==typeof module.exports?(module.exports.SoundManager=n,module.exports.soundManager=i):"function"==typeof define&&define.amd&&define(function(){function e(e){if(!t.soundManager&&e instanceof Function){var i=e(n);i instanceof n&&(t.soundManager=i)}return t.soundManager}return{constructor:n,getInstance:e}}),t.SoundManager=n,t.soundManager=i}(window),function(){function m(){return function(){}}function p(t){return function(){return this[t]}}function q(t){return function(){return t}}function t(e,n,i){if("string"==typeof e){if(0===e.indexOf("#")&&(e=e.slice(1)),t.Ca[e])return t.Ca[e];e=t.w(e)}if(!e||!e.nodeName)throw new TypeError("The element or ID supplied is not valid. (videojs)");return e.player||new t.Player(e,n,i)}function u(e,n,i,r){t.ic.forEach(i,function(t){e(n,t,r)})}function D(e,n){var i,r;i=Array.prototype.slice.call(n),r=m(),r=window.console||{log:r,warn:r,error:r},e?i.unshift(e.toUpperCase()+":"):e="log",t.log.history.push(i),i.unshift("VIDEOJS:"),r[e].apply?r[e].apply(r,i):r[e](i.join(" "))}function E(t){t.p("vjs-lock-showing")}function F(e,n,i,r){return i!==b?((i===k||t.Ed(i))&&(i=0),e.b.style[n]=-1!==(""+i).indexOf("%")||-1!==(""+i).indexOf("px")?i:"auto"===i?"":i+"px",r||e.l("resize"),e):e.b?(i=e.b.style[n],r=i.indexOf("px"),-1!==r?parseInt(i.slice(0,r),10):parseInt(e.b["offset"+t.ba(n)],10)):0}function G(t){var e,n,i,r,o,s,a,u;e=0,n=k,t.c("touchstart",function(t){1===t.touches.length&&(n=t.touches[0],e=(new Date).getTime(),r=f)}),t.c("touchmove",function(t){1<t.touches.length?r=l:n&&(s=t.touches[0].pageX-n.pageX,a=t.touches[0].pageY-n.pageY,u=Math.sqrt(s*s+a*a),u>22&&(r=l))}),o=function(){r=l},t.c("touchleave",o),t.c("touchcancel",o),t.c("touchend",function(t){n=k,r===f&&(i=(new Date).getTime()-e,250>i&&(t.preventDefault(),this.l("tap")))})}function H(e,n){var i,r,o,s;return i=e.b,r=t.xd(i),s=o=i.offsetWidth,i=e.handle,e.options().vertical?(s=r.top,r=n.changedTouches?n.changedTouches[0].pageY:n.pageY,i&&(i=i.w().offsetHeight,s+=i/2,o-=i),Math.max(0,Math.min(1,(s-r+o)/o))):(o=r.left,r=n.changedTouches?n.changedTouches[0].pageX:n.pageX,i&&(i=i.w().offsetWidth,o+=i/2,s-=i),Math.max(0,Math.min(1,(r-o)/s)))}function ca(e,n){e.V(n),n.c("click",t.bind(e,function(){E(this)}))}function J(t){t.ta=f,t.Ba.n("vjs-lock-showing"),t.b.setAttribute("aria-pressed",f),t.Q&&0<t.Q.length&&t.Q[0].w().focus()}function I(t){t.ta=l,E(t.Ba),t.b.setAttribute("aria-pressed",l)}function da(e){var n,i,r={sources:[],tracks:[]};if(n=t.Aa(e),i=n["data-setup"],i!==k&&t.g.z(n,t.JSON.parse(i||"{}")),t.g.z(r,n),e.hasChildNodes()){var o,s;for(e=e.childNodes,o=0,s=e.length;s>o;o++)n=e[o],i=n.nodeName.toLowerCase(),"source"===i?r.sources.push(t.Aa(n)):"track"===i&&r.tracks.push(t.Aa(n))}return r}function Q(e,n,i){e.o&&(e.la=l,e.o.dispose(),e.o=l),"Html5"!==n&&e.I&&(t.h.Bb(e.I),e.I=k),e.eb=n,e.la=l;var r=t.g.z({source:i,parentEl:e.b},e.m[n.toLowerCase()]);i&&(e.nc=i.type,i.src==e.G.src&&0<e.G.currentTime&&(r.startTime=e.G.currentTime),e.G.src=i.src),e.o=new window.videojs[n](e,r),e.o.K(function(){this.d.Ga()})}function R(t,e){e!==b&&t.vc!==e&&((t.vc=e)?(t.n("vjs-has-started"),t.l("firstplay")):t.p("vjs-has-started"))}function T(e,n,i){if(e.o&&!e.o.la)e.o.K(function(){this[n](i)});else try{e.o[n](i)}catch(r){throw t.log(r),r}}function S(e,n){if(e.o&&e.o.la)try{return e.o[n]()}catch(i){throw e.o[n]===b?t.log("Video.js: "+n+" method not defined for "+e.eb+" playback technology.",i):"TypeError"==i.name?(t.log("Video.js: "+n+" unavailable on "+e.eb+" playback technology element.",i),e.o.la=l):t.log(i),i}}function U(e,n){var i,r=e.selectSource(n);r?r.o===e.eb?e.src(r.source):Q(e,r.o,r.source):(i=setTimeout(t.bind(e,function(){this.error({code:4,message:this.t(this.options().notSupportedMessage)})}),0),e.Ga(),e.c("dispose",function(){clearTimeout(i)}))}function P(t,e){return e!==b?(t.xc=!!e,t):t.xc}function ea(t){return t.k().o&&t.k().o.featuresPlaybackRate&&t.k().options().playbackRates&&0<t.k().options().playbackRates.length}function fa(t){t.Lb=l,t.cb(),t.j("play",t.Rc),t.j("pause",t.cb)}function ia(){var t=W[X],e=t.charAt(0).toUpperCase()+t.slice(1);ja["set"+e]=function(e){return this.b.vjs_setProperty(t,e)}}function ka(t){ja[t]=function(){return this.b.vjs_getProperty(t)}}function ma(e,n,i,r,o){var s=e.Fa=e.Fa||[];o=o||{},o.kind=n,o.label=i,o.language=r,n=t.ba(n||"subtitles");var a=new window.videojs[n+"Track"](e,o);s.push(a),a.Ab()&&e.K(function(){setTimeout(function(){Y(a.k(),a.id())},0)})}function Y(t,e,n){for(var i,r,o=t.Fa,s=0,a=o.length;a>s;s++)i=o[s],i.id()===e?(i.show(),r=i):n&&i.M()==n&&0<i.mode()&&i.disable();(e=r?r.M():n?n:l)&&t.l(e+"trackchange")}function na(e){0===e.na&&e.load(),0===e.ma&&(e.d.c("timeupdate",t.bind(e,e.update,e.L)),e.d.c("ended",t.bind(e,e.reset,e.L)),("captions"===e.H||"subtitles"===e.H)&&e.d.ka("textTrackDisplay").V(e))}function oa(t){var e=t.split(":");t=0;var n,i,r;return 3==e.length?(n=e[0],i=e[1],e=e[2]):(n=0,i=e[0],e=e[1]),e=e.split(/\s+/),e=e.splice(0,1)[0],e=e.split(/\.|,/),r=parseFloat(e[1]),e=e[0],t+=3600*parseFloat(n),t+=60*parseFloat(i),t+=parseFloat(e),r&&(t+=r/1e3),t}function $(t,e){var n=t.split("."),i=pa;
!(n[0]in i)&&i.execScript&&i.execScript("var "+n[0]);for(var r;n.length&&(r=n.shift());)n.length||e===b?i=i[r]?i[r]:i[r]={}:i[r]=e}var b=void 0,f=!0,k=null,l=!1,s;document.createElement("video"),document.createElement("audio"),document.createElement("track");var videojs=window.videojs=t;t.Vb="4.10",t.Vc="https:"==document.location.protocol?"https://":"http://",t.options={techOrder:["html5","flash"],html5:{},flash:{},width:300,height:150,defaultVolume:0,playbackRates:[],inactivityTimeout:2e3,children:{mediaLoader:{},posterImage:{},textTrackDisplay:{},loadingSpinner:{},bigPlayButton:{},controlBar:{},errorDisplay:{}},language:document.getElementsByTagName("html")[0].getAttribute("lang")||navigator.languages&&navigator.languages[0]||navigator.ze||navigator.language||"en",languages:{},notSupportedMessage:"No compatible source was found for this video."},"GENERATED_CDN_VSN"!==t.Vb&&(videojs.options.flash.swf=t.Vc+"vjs.zencdn.net/"+t.Vb+"/video-js.swf"),t.hd=function(e,n){return t.options.languages[e]=t.options.languages[e]!==b?t.ga.Va(t.options.languages[e],n):n,t.options.languages},t.Ca={},"function"==typeof define&&define.amd?define([],function(){return videojs}):"object"==typeof exports&&"object"==typeof module&&(module.exports=videojs),t.qa=t.CoreObject=m(),t.qa.extend=function(e){var n,i;e=e||{},n=e.init||e.i||this.prototype.init||this.prototype.i||m(),i=function(){n.apply(this,arguments)},i.prototype=t.g.create(this.prototype),i.prototype.constructor=i,i.extend=t.qa.extend,i.create=t.qa.create;for(var r in e)e.hasOwnProperty(r)&&(i.prototype[r]=e[r]);return i},t.qa.create=function(){var e=t.g.create(this.prototype);return this.apply(e,arguments),e},t.c=function(e,n,i){if(t.g.isArray(n))return u(t.c,e,n,i);var r=t.getData(e);r.C||(r.C={}),r.C[n]||(r.C[n]=[]),i.r||(i.r=t.r++),r.C[n].push(i),r.W||(r.disabled=l,r.W=function(n){if(!r.disabled){n=t.rc(n);var i=r.C[n.type];if(i)for(var i=i.slice(0),o=0,s=i.length;s>o&&!n.zc();o++)i[o].call(e,n)}}),1==r.C[n].length&&(e.addEventListener?e.addEventListener(n,r.W,l):e.attachEvent&&e.attachEvent("on"+n,r.W))},t.j=function(e,n,i){if(t.uc(e)){var r=t.getData(e);if(r.C){if(t.g.isArray(n))return u(t.j,e,n,i);if(n){var o=r.C[n];if(o){if(i){if(i.r)for(r=0;r<o.length;r++)o[r].r===i.r&&o.splice(r--,1)}else r.C[n]=[];t.kc(e,n)}}else for(o in r.C)n=o,r.C[n]=[],t.kc(e,n)}}},t.kc=function(e,n){var i=t.getData(e);0===i.C[n].length&&(delete i.C[n],e.removeEventListener?e.removeEventListener(n,i.W,l):e.detachEvent&&e.detachEvent("on"+n,i.W)),t.Ib(i.C)&&(delete i.C,delete i.W,delete i.disabled),t.Ib(i)&&t.Ic(e)},t.rc=function(t){function e(){return f}function n(){return l}if(!t||!t.Jb){var i=t||window.event;t={};for(var r in i)"layerX"!==r&&"layerY"!==r&&"keyLocation"!==r&&("returnValue"==r&&i.preventDefault||(t[r]=i[r]));if(t.target||(t.target=t.srcElement||document),t.relatedTarget=t.fromElement===t.target?t.toElement:t.fromElement,t.preventDefault=function(){i.preventDefault&&i.preventDefault(),t.returnValue=l,t.Cd=e,t.defaultPrevented=f},t.Cd=n,t.defaultPrevented=l,t.stopPropagation=function(){i.stopPropagation&&i.stopPropagation(),t.cancelBubble=f,t.Jb=e},t.Jb=n,t.stopImmediatePropagation=function(){i.stopImmediatePropagation&&i.stopImmediatePropagation(),t.zc=e,t.stopPropagation()},t.zc=n,t.clientX!=k){r=document.documentElement;var o=document.body;t.pageX=t.clientX+(r&&r.scrollLeft||o&&o.scrollLeft||0)-(r&&r.clientLeft||o&&o.clientLeft||0),t.pageY=t.clientY+(r&&r.scrollTop||o&&o.scrollTop||0)-(r&&r.clientTop||o&&o.clientTop||0)}t.which=t.charCode||t.keyCode,t.button!=k&&(t.button=1&t.button?0:4&t.button?1:2&t.button?2:0)}return t},t.l=function(e,n){var i=t.uc(e)?t.getData(e):{},r=e.parentNode||e.ownerDocument;return"string"==typeof n&&(n={type:n,target:e}),n=t.rc(n),i.W&&i.W.call(e,n),r&&!n.Jb()&&n.bubbles!==l?t.l(r,n):r||n.defaultPrevented||(i=t.getData(n.target),!n.target[n.type])||(i.disabled=f,"function"==typeof n.target[n.type]&&n.target[n.type](),i.disabled=l),!n.defaultPrevented},t.R=function(e,n,i){function r(){t.j(e,n,r),i.apply(this,arguments)}return t.g.isArray(n)?u(t.R,e,n,i):(r.r=i.r=i.r||t.r++,void t.c(e,n,r))};var v=Object.prototype.hasOwnProperty;t.e=function(e,n){var i;return n=n||{},i=document.createElement(e||"div"),t.g.X(n,function(t,e){-1!==t.indexOf("aria-")||"role"==t?i.setAttribute(t,e):i[t]=e}),i},t.ba=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},t.g={},t.g.create=Object.create||function(t){function e(){}return e.prototype=t,new e},t.g.X=function(t,e,n){for(var i in t)v.call(t,i)&&e.call(n||this,i,t[i])},t.g.z=function(t,e){if(!e)return t;for(var n in e)v.call(e,n)&&(t[n]=e[n]);return t},t.g.qd=function(e,n){var i,r,o;e=t.g.copy(e);for(i in n)v.call(n,i)&&(r=e[i],o=n[i],e[i]=t.g.Ta(r)&&t.g.Ta(o)?t.g.qd(r,o):n[i]);return e},t.g.copy=function(e){return t.g.z({},e)},t.g.Ta=function(t){return!!t&&"object"==typeof t&&"[object Object]"===t.toString()&&t.constructor===Object},t.g.isArray=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},t.Ed=function(t){return t!==t},t.bind=function(e,n,i){function r(){return n.apply(e,arguments)}return n.r||(n.r=t.r++),r.r=i?i+"_"+n.r:n.r,r},t.va={},t.r=1,t.expando="vdata"+(new Date).getTime(),t.getData=function(e){var n=e[t.expando];return n||(n=e[t.expando]=t.r++,t.va[n]={}),t.va[n]},t.uc=function(e){return e=e[t.expando],!(!e||t.Ib(t.va[e]))},t.Ic=function(e){var n=e[t.expando];if(n){delete t.va[n];try{delete e[t.expando]}catch(i){e.removeAttribute?e.removeAttribute(t.expando):e[t.expando]=k}}},t.Ib=function(t){for(var e in t)if(t[e]!==k)return l;return f},t.Sa=function(t,e){return-1!==(" "+t.className+" ").indexOf(" "+e+" ")},t.n=function(e,n){t.Sa(e,n)||(e.className=""===e.className?n:e.className+" "+n)},t.p=function(e,n){var i,r;if(t.Sa(e,n)){for(i=e.className.split(" "),r=i.length-1;r>=0;r--)i[r]===n&&i.splice(r,1);e.className=i.join(" ")}},t.A=t.e("video"),t.O=navigator.userAgent,t.bd=/iPhone/i.test(t.O),t.ad=/iPad/i.test(t.O),t.cd=/iPod/i.test(t.O),t.$c=t.bd||t.ad||t.cd;var aa=t,x,y=t.O.match(/OS (\d+)_/i);x=y&&y[1]?y[1]:b,aa.oe=x,t.Yc=/Android/i.test(t.O);var ba=t,z,A=t.O.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i),B,C;A?(B=A[1]&&parseFloat(A[1]),C=A[2]&&parseFloat(A[2]),z=B&&C?parseFloat(A[1]+"."+A[2]):B?B:k):z=k,ba.Ub=z,t.dd=t.Yc&&/webkit/i.test(t.O)&&2.3>t.Ub,t.Zc=/Firefox/i.test(t.O),t.pe=/Chrome/i.test(t.O),t.ec=!!("ontouchstart"in window||window.Xc&&document instanceof window.Xc),t.Wc="backgroundSize"in t.A.style,t.Kc=function(e,n){t.g.X(n,function(t,n){n===k||"undefined"==typeof n||n===l?e.removeAttribute(t):e.setAttribute(t,n===f?"":n)})},t.Aa=function(t){var e,n,i,r;if(e={},t&&t.attributes&&0<t.attributes.length){n=t.attributes;for(var o=n.length-1;o>=0;o--)i=n[o].name,r=n[o].value,("boolean"==typeof t[i]||-1!==",autoplay,controls,loop,muted,default,".indexOf(","+i+","))&&(r=r!==k?f:l),e[i]=r}return e},t.ve=function(t,e){var n="";return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,"").getPropertyValue(e):t.currentStyle&&(n=t["client"+e.substr(0,1).toUpperCase()+e.substr(1)]+"px"),n},t.Hb=function(t,e){e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)},t.Oa={},t.w=function(t){return 0===t.indexOf("#")&&(t=t.slice(1)),document.getElementById(t)},t.za=function(t,e){e=e||t;var n=Math.floor(t%60),i=Math.floor(t/60%60),r=Math.floor(t/3600),o=Math.floor(e/60%60),s=Math.floor(e/3600);return(isNaN(t)||1/0===t)&&(r=i=n="-"),r=r>0||s>0?r+":":"",r+(((r||o>=10)&&10>i?"0"+i:i)+":")+(10>n?"0"+n:n)},t.kd=function(){document.body.focus(),document.onselectstart=q(l)},t.ke=function(){document.onselectstart=q(f)},t.trim=function(t){return(t+"").replace(/^\s+|\s+$/g,"")},t.round=function(t,e){return e||(e=0),Math.round(t*Math.pow(10,e))/Math.pow(10,e)},t.zb=function(t,e){return{length:1,start:function(){return t},end:function(){return e}}},t.get=function(e,n,i,r){var o,s,a,l;i=i||m(),"undefined"==typeof XMLHttpRequest&&(window.XMLHttpRequest=function(){try{return new window.ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new window.ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new window.ActiveXObject("Msxml2.XMLHTTP")}catch(n){}throw Error("This browser does not support XMLHttpRequest.")}),s=new XMLHttpRequest,a=t.Xd(e),l=window.location,a.protocol+a.host===l.protocol+l.host||!window.XDomainRequest||"withCredentials"in s?(o="file:"==a.protocol||"file:"==l.protocol,s.onreadystatechange=function(){4===s.readyState&&(200===s.status||o&&0===s.status?n(s.responseText):i(s.responseText))}):(s=new window.XDomainRequest,s.onload=function(){n(s.responseText)},s.onerror=i,s.onprogress=m(),s.ontimeout=i);try{s.open("GET",e,f),r&&(s.withCredentials=f)}catch(u){return void i(u)}try{s.send()}catch(c){i(c)}},t.ae=function(e){try{var n=window.localStorage||l;n&&(n.volume=e)}catch(i){22==i.code||1014==i.code?t.log("LocalStorage Full (VideoJS)",i):18==i.code?t.log("LocalStorage not allowed (VideoJS)",i):t.log("LocalStorage Error (VideoJS)",i)}},t.tc=function(e){return e.match(/^https?:\/\//)||(e=t.e("div",{innerHTML:'<a href="'+e+'">x</a>'}).firstChild.href),e},t.Xd=function(e){var n,i,r,o;o="protocol hostname port pathname search hash host".split(" "),i=t.e("a",{href:e}),(r=""===i.host&&"file:"!==i.protocol)&&(n=t.e("div"),n.innerHTML='<a href="'+e+'"></a>',i=n.firstChild,n.setAttribute("style","display:none; position:absolute;"),document.body.appendChild(n)),e={};for(var s=0;s<o.length;s++)e[o[s]]=i[o[s]];return r&&document.body.removeChild(n),e},t.log=function(){D(k,arguments)},t.log.history=[],t.log.error=function(){D("error",arguments)},t.log.warn=function(){D("warn",arguments)},t.xd=function(e){var n,i;return e.getBoundingClientRect&&e.parentNode&&(n=e.getBoundingClientRect()),n?(e=document.documentElement,i=document.body,{left:t.round(n.left+(window.pageXOffset||i.scrollLeft)-(e.clientLeft||i.clientLeft||0)),top:t.round(n.top+(window.pageYOffset||i.scrollTop)-(e.clientTop||i.clientTop||0))}):{left:0,top:0}},t.ic={},t.ic.forEach=function(e,n,i){if(t.g.isArray(e)&&n instanceof Function)for(var r=0,o=e.length;o>r;++r)n.call(i||t,e[r],r,e);return e},t.ga={},t.ga.Va=function(e,n){var i,r,o;e=t.g.copy(e);for(i in n)n.hasOwnProperty(i)&&(r=e[i],o=n[i],e[i]=t.g.Ta(r)&&t.g.Ta(o)?t.ga.Va(r,o):n[i]);return e},t.a=t.qa.extend({i:function(e,n,i){if(this.d=e,this.m=t.g.copy(this.m),n=this.options(n),this.L=n.id||n.el&&n.el.id,this.L||(this.L=(e.id&&e.id()||"no_player")+"_component_"+t.r++),this.Kd=n.name||k,this.b=n.el||this.e(),this.P=[],this.Pa={},this.Qa={},this.wc(),this.K(i),n.Jc!==l){var r,o;this.k().reportUserActivity&&(r=t.bind(this.k(),this.k().reportUserActivity),this.c("touchstart",function(){r(),clearInterval(o),o=setInterval(r,250)}),e=function(){r(),clearInterval(o)},this.c("touchmove",r),this.c("touchend",e),this.c("touchcancel",e))}}}),s=t.a.prototype,s.dispose=function(){if(this.l({type:"dispose",bubbles:l}),this.P)for(var e=this.P.length-1;e>=0;e--)this.P[e].dispose&&this.P[e].dispose();this.Qa=this.Pa=this.P=k,this.j(),this.b.parentNode&&this.b.parentNode.removeChild(this.b),t.Ic(this.b),this.b=k},s.d=f,s.k=p("d"),s.options=function(e){return e===b?this.m:this.m=t.ga.Va(this.m,e)},s.e=function(e,n){return t.e(e,n)},s.t=function(t){var e=this.d.language(),n=this.d.languages();return n&&n[e]&&n[e][t]?n[e][t]:t},s.w=p("b"),s.ja=function(){return this.v||this.b},s.id=p("L"),s.name=p("Kd"),s.children=p("P"),s.zd=function(t){return this.Pa[t]},s.ka=function(t){return this.Qa[t]},s.V=function(e,n){var i,r;return"string"==typeof e?(r=e,n=n||{},i=n.componentClass||t.ba(r),n.name=r,i=new window.videojs[i](this.d||this,n)):i=e,this.P.push(i),"function"==typeof i.id&&(this.Pa[i.id()]=i),(r=r||i.name&&i.name())&&(this.Qa[r]=i),"function"==typeof i.el&&i.el()&&this.ja().appendChild(i.el()),i},s.removeChild=function(t){if("string"==typeof t&&(t=this.ka(t)),t&&this.P){for(var e=l,n=this.P.length-1;n>=0;n--)if(this.P[n]===t){e=f,this.P.splice(n,1);break}e&&(this.Pa[t.id]=k,this.Qa[t.name]=k,(e=t.w())&&e.parentNode===this.ja()&&this.ja().removeChild(t.w()))}},s.wc=function(){var e,n,i,r,o,s;if(e=this,n=e.options(),i=n.children)if(s=function(t,i){n[t]!==b&&(i=n[t]),i!==l&&(e[t]=e.V(t,i))},t.g.isArray(i))for(var a=0;a<i.length;a++)r=i[a],"string"==typeof r?(o=r,r={}):o=r.name,s(o,r);else t.g.X(i,s)},s.T=q(""),s.c=function(e,n,i){var r,o,s;return"string"==typeof e||t.g.isArray(e)?t.c(this.b,e,t.bind(this,n)):(r=t.bind(this,i),s=this,o=function(){s.j(e,n,r)},o.r=r.r,this.c("dispose",o),i=function(){s.j("dispose",o)},i.r=r.r,e.nodeName?(t.c(e,n,r),t.c(e,"dispose",i)):"function"==typeof e.c&&(e.c(n,r),e.c("dispose",i))),this},s.j=function(e,n,i){return!e||"string"==typeof e||t.g.isArray(e)?t.j(this.b,e,n):(i=t.bind(this,i),this.j("dispose",i),e.nodeName?(t.j(e,n,i),t.j(e,"dispose",i)):(e.j(n,i),e.j("dispose",i))),this},s.R=function(e,n,i){var r,o,s;return"string"==typeof e||t.g.isArray(e)?t.R(this.b,e,t.bind(this,n)):(r=t.bind(this,i),o=this,s=function(){o.j(e,n,s),r.apply(this,arguments)},s.r=r.r,this.c(e,n,s)),this},s.l=function(e){return t.l(this.b,e),this},s.K=function(t){return t&&(this.la?t.call(this):(this.ab===b&&(this.ab=[]),this.ab.push(t))),this},s.Ga=function(){this.la=f;var t=this.ab;if(t&&0<t.length){for(var e=0,n=t.length;n>e;e++)t[e].call(this);this.ab=[],this.l("ready")}},s.Sa=function(e){return t.Sa(this.b,e)},s.n=function(e){return t.n(this.b,e),this},s.p=function(e){return t.p(this.b,e),this},s.show=function(){return this.b.style.display="block",this},s.Y=function(){return this.b.style.display="none",this},s.disable=function(){this.Y(),this.show=m()},s.width=function(t,e){return F(this,"width",t,e)},s.height=function(t,e){return F(this,"height",t,e)},s.td=function(t,e){return this.width(t,f).height(e)},t.u=t.a.extend({i:function(e,n){t.a.call(this,e,n),G(this),this.c("tap",this.s),this.c("click",this.s),this.c("focus",this.Ya),this.c("blur",this.Xa)}}),s=t.u.prototype,s.e=function(e,n){var i;return n=t.g.z({className:this.T(),role:"button","aria-live":"polite",tabIndex:0},n),i=t.a.prototype.e.call(this,e,n),n.innerHTML||(this.v=t.e("div",{className:"vjs-control-content"}),this.xb=t.e("span",{className:"vjs-control-text",innerHTML:this.t(this.ua)||"Need Text"}),this.v.appendChild(this.xb),i.appendChild(this.v)),i},s.T=function(){return"vjs-control "+t.a.prototype.T.call(this)},s.s=m(),s.Ya=function(){t.c(document,"keydown",t.bind(this,this.Z))},s.Z=function(t){(32==t.which||13==t.which)&&(t.preventDefault(),this.s())},s.Xa=function(){t.j(document,"keydown",t.bind(this,this.Z))},t.S=t.a.extend({i:function(e,n){t.a.call(this,e,n),this.jd=this.ka(this.m.barName),this.handle=this.ka(this.m.handleName),this.c("mousedown",this.Za),this.c("touchstart",this.Za),this.c("focus",this.Ya),this.c("blur",this.Xa),this.c("click",this.s),this.c(e,"controlsvisible",this.update),this.c(e,this.Ec,this.update),this.F={},this.F.move=t.bind(this,this.$a),this.F.end=t.bind(this,this.Mb)}}),s=t.S.prototype,s.dispose=function(){t.j(document,"mousemove",this.F.move,l),t.j(document,"mouseup",this.F.end,l),t.j(document,"touchmove",this.F.move,l),t.j(document,"touchend",this.F.end,l),t.j(document,"keyup",t.bind(this,this.Z)),t.a.prototype.dispose.call(this)},s.e=function(e,n){return n=n||{},n.className+=" vjs-slider",n=t.g.z({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},n),t.a.prototype.e.call(this,e,n)},s.Za=function(e){e.preventDefault(),t.kd(),this.n("vjs-sliding"),t.c(document,"mousemove",this.F.move),t.c(document,"mouseup",this.F.end),t.c(document,"touchmove",this.F.move),t.c(document,"touchend",this.F.end),this.$a(e)},s.$a=m(),s.Mb=function(){t.ke(),this.p("vjs-sliding"),t.j(document,"mousemove",this.F.move,l),t.j(document,"mouseup",this.F.end,l),t.j(document,"touchmove",this.F.move,l),t.j(document,"touchend",this.F.end,l),this.update()},s.update=function(){if(this.b){var e,n=this.Gb(),i=this.handle,r=this.jd;if(isNaN(n)&&(n=0),e=n,i){e=this.b.offsetWidth;var o=i.w().offsetWidth;e=o?o/e:0,n*=1-e,e=n+e/2,i.w().style.left=t.round(100*n,2)+"%"}r&&(r.w().style.width=t.round(100*e,2)+"%")}},s.Ya=function(){t.c(document,"keyup",t.bind(this,this.Z))},s.Z=function(t){37==t.which||40==t.which?(t.preventDefault(),this.Nc()):(38==t.which||39==t.which)&&(t.preventDefault(),this.Oc())},s.Xa=function(){t.j(document,"keyup",t.bind(this,this.Z))},s.s=function(t){t.stopImmediatePropagation(),t.preventDefault()},t.$=t.a.extend(),t.$.prototype.defaultValue=0,t.$.prototype.e=function(e,n){return n=n||{},n.className+=" vjs-slider-handle",n=t.g.z({innerHTML:'<span class="vjs-control-text">'+this.defaultValue+"</span>"},n),t.a.prototype.e.call(this,"div",n)},t.ha=t.a.extend(),t.ha.prototype.e=function(){var e=this.options().lc||"ul";return this.v=t.e(e,{className:"vjs-menu-content"}),e=t.a.prototype.e.call(this,"div",{append:this.v,className:"vjs-menu"}),e.appendChild(this.v),t.c(e,"click",function(t){t.preventDefault(),t.stopImmediatePropagation()}),e},t.J=t.u.extend({i:function(e,n){t.u.call(this,e,n),this.selected(n.selected)}}),t.J.prototype.e=function(e,n){return t.u.prototype.e.call(this,"li",t.g.z({className:"vjs-menu-item",innerHTML:this.t(this.m.label)},n))},t.J.prototype.s=function(){this.selected(f)},t.J.prototype.selected=function(t){t?(this.n("vjs-selected"),this.b.setAttribute("aria-selected",f)):(this.p("vjs-selected"),this.b.setAttribute("aria-selected",l))},t.N=t.u.extend({i:function(e,n){t.u.call(this,e,n),this.Ba=this.xa(),this.V(this.Ba),this.Q&&0===this.Q.length&&this.Y(),this.c("keyup",this.Z),this.b.setAttribute("aria-haspopup",f),this.b.setAttribute("role","button")}}),s=t.N.prototype,s.ta=l,s.xa=function(){var e=new t.ha(this.d);if(this.options().title&&e.ja().appendChild(t.e("li",{className:"vjs-menu-title",innerHTML:t.ba(this.options().title),he:-1})),this.Q=this.createItems())for(var n=0;n<this.Q.length;n++)ca(e,this.Q[n]);return e},s.wa=m(),s.T=function(){return this.className+" vjs-menu-button "+t.u.prototype.T.call(this)},s.Ya=m(),s.Xa=m(),s.s=function(){this.R("mouseout",t.bind(this,function(){E(this.Ba),this.b.blur()})),this.ta?I(this):J(this)},s.Z=function(t){t.preventDefault(),32==t.which||13==t.which?this.ta?I(this):J(this):27==t.which&&this.ta&&I(this)},t.D=function(e){"number"==typeof e?this.code=e:"string"==typeof e?this.message=e:"object"==typeof e&&t.g.z(this,e),this.message||(this.message=t.D.rd[this.code]||"")},t.D.prototype.code=0,t.D.prototype.message="",t.D.prototype.status=k,t.D.Ra="MEDIA_ERR_CUSTOM MEDIA_ERR_ABORTED MEDIA_ERR_NETWORK MEDIA_ERR_DECODE MEDIA_ERR_SRC_NOT_SUPPORTED MEDIA_ERR_ENCRYPTED".split(" "),t.D.rd={1:"You aborted the video playback",2:"A network error caused the video download to fail part-way.",3:"The video playback was aborted due to a corruption problem or because the video used features your browser did not support.",4:"The video could not be loaded, either because the server or network failed or because the format is not supported.",5:"The video is encrypted and we do not have the keys to decrypt it."};for(var K=0;K<t.D.Ra.length;K++)t.D[t.D.Ra[K]]=K,t.D.prototype[t.D.Ra[K]]=K;var L,M,N,O;for(L=["requestFullscreen exitFullscreen fullscreenElement fullscreenEnabled fullscreenchange fullscreenerror".split(" "),"webkitRequestFullscreen webkitExitFullscreen webkitFullscreenElement webkitFullscreenEnabled webkitfullscreenchange webkitfullscreenerror".split(" "),"webkitRequestFullScreen webkitCancelFullScreen webkitCurrentFullScreenElement webkitCancelFullScreen webkitfullscreenchange webkitfullscreenerror".split(" "),"mozRequestFullScreen mozCancelFullScreen mozFullScreenElement mozFullScreenEnabled mozfullscreenchange mozfullscreenerror".split(" "),"msRequestFullscreen msExitFullscreen msFullscreenElement msFullscreenEnabled MSFullscreenChange MSFullscreenError".split(" ")],M=L[0],O=0;O<L.length;O++)if(L[O][1]in document){N=L[O];break}if(N)for(t.Oa.Fb={},O=0;O<N.length;O++)t.Oa.Fb[M[O]]=N[O];t.Player=t.a.extend({i:function(e,n,i){this.I=e,e.id=e.id||"vjs_video_"+t.r++,this.ie=e&&t.Aa(e),n=t.g.z(da(e),n),this.Ua=n.language||t.options.language,this.Id=n.languages||t.options.languages,this.G={},this.Fc=n.poster||"",this.yb=!!n.controls,e.controls=l,n.Jc=l,P(this,"audio"===this.I.nodeName.toLowerCase()),t.a.call(this,this,n,i),this.n(this.controls()?"vjs-controls-enabled":"vjs-controls-disabled"),P(this)&&this.n("vjs-audio"),t.Ca[this.L]=this,n.plugins&&t.g.X(n.plugins,function(t,e){this[t](e)},this);var r,o,s,a,u,c;r=t.bind(this,this.reportUserActivity),this.c("mousedown",function(){r(),clearInterval(o),o=setInterval(r,250)}),this.c("mousemove",function(t){(t.screenX!=u||t.screenY!=c)&&(u=t.screenX,c=t.screenY,r())}),this.c("mouseup",function(){r(),clearInterval(o)}),this.c("keydown",r),this.c("keyup",r),s=setInterval(t.bind(this,function(){if(this.pa){this.pa=l,this.userActive(f),clearTimeout(a);var e=this.options().inactivityTimeout;e>0&&(a=setTimeout(t.bind(this,function(){this.pa||this.userActive(l)}),e))}}),250),this.c("dispose",function(){clearInterval(s),clearTimeout(a)})}}),s=t.Player.prototype,s.language=function(t){return t===b?this.Ua:(this.Ua=t,this)},s.languages=p("Id"),s.m=t.options,s.dispose=function(){this.l("dispose"),this.j("dispose"),t.Ca[this.L]=k,this.I&&this.I.player&&(this.I.player=k),this.b&&this.b.player&&(this.b.player=k),this.o&&this.o.dispose(),t.a.prototype.dispose.call(this)},s.e=function(){var e,n=this.b=t.a.prototype.e.call(this,"div"),i=this.I;if(i.removeAttribute("width"),i.removeAttribute("height"),i.hasChildNodes()){var r,o,s,a,l;for(r=i.childNodes,o=r.length,l=[];o--;)s=r[o],a=s.nodeName.toLowerCase(),"track"===a&&l.push(s);for(r=0;r<l.length;r++)i.removeChild(l[r])}return e=t.Aa(i),t.g.X(e,function(t){"class"==t?n.className=e[t]:n.setAttribute(t,e[t])}),i.id+="_html5_api",i.className="vjs-tech",i.player=n.player=this,this.n("vjs-paused"),this.width(this.m.width,f),this.height(this.m.height,f),i.Bd=i.networkState,i.parentNode&&i.parentNode.insertBefore(n,i),t.Hb(i,n),this.b=n,this.c("loadstart",this.Pd),this.c("waiting",this.Vd),this.c(["canplay","canplaythrough","playing","ended"],this.Ud),this.c("seeking",this.Sd),this.c("seeked",this.Rd),this.c("ended",this.Ld),this.c("play",this.Ob),this.c("firstplay",this.Nd),this.c("pause",this.Nb),this.c("progress",this.Qd),this.c("durationchange",this.Cc),this.c("fullscreenchange",this.Od),n},s.Pd=function(){this.error(k),this.paused()?(R(this,l),this.R("play",function(){R(this,f)})):this.l("firstplay")},s.vc=l,s.Ob=function(){this.p("vjs-paused"),this.n("vjs-playing")},s.Vd=function(){this.n("vjs-waiting")},s.Ud=function(){this.p("vjs-waiting")},s.Sd=function(){this.n("vjs-seeking")},s.Rd=function(){this.p("vjs-seeking")},s.Nd=function(){this.m.starttime&&this.currentTime(this.m.starttime),this.n("vjs-has-started")},s.Nb=function(){this.p("vjs-playing"),this.n("vjs-paused")},s.Qd=function(){1==this.bufferedPercent()&&this.l("loadedalldata")},s.Ld=function(){this.m.loop?(this.currentTime(0),this.play()):this.paused()||this.pause()},s.Cc=function(){var t=S(this,"duration");t&&(0>t&&(t=1/0),this.duration(t),1/0===t?this.n("vjs-live"):this.p("vjs-live"))},s.Od=function(){this.isFullscreen()?this.n("vjs-fullscreen"):this.p("vjs-fullscreen")},s.play=function(){return T(this,"play"),this},s.pause=function(){return T(this,"pause"),this},s.paused=function(){return S(this,"paused")===l?l:f},s.currentTime=function(t){return t!==b?(T(this,"setCurrentTime",t),this):this.G.currentTime=S(this,"currentTime")||0},s.duration=function(t){return t!==b?(this.G.duration=parseFloat(t),this):(this.G.duration===b&&this.Cc(),this.G.duration||0)},s.remainingTime=function(){return this.duration()-this.currentTime()},s.buffered=function(){var e=S(this,"buffered");return e&&e.length||(e=t.zb(0,0)),e},s.bufferedPercent=function(){var t,e,n=this.duration(),i=this.buffered(),r=0;if(!n)return 0;for(var o=0;o<i.length;o++)t=i.start(o),e=i.end(o),e>n&&(e=n),r+=e-t;return r/n},s.volume=function(e){return e!==b?(e=Math.max(0,Math.min(1,parseFloat(e))),this.G.volume=e,T(this,"setVolume",e),t.ae(e),this):(e=parseFloat(S(this,"volume")),isNaN(e)?1:e)},s.muted=function(t){return t!==b?(T(this,"setMuted",t),this):S(this,"muted")||l},s.Ea=function(){return S(this,"supportsFullScreen")||l},s.yc=l,s.isFullscreen=function(t){return t!==b?(this.yc=!!t,this):this.yc},s.isFullScreen=function(e){return t.log.warn('player.isFullScreen() has been deprecated, use player.isFullscreen() with a lowercase "s")'),this.isFullscreen(e)},s.requestFullscreen=function(){var e=t.Oa.Fb;return this.isFullscreen(f),e?(t.c(document,e.fullscreenchange,t.bind(this,function(){this.isFullscreen(document[e.fullscreenElement]),this.isFullscreen()===l&&t.j(document,e.fullscreenchange,arguments.callee),this.l("fullscreenchange")})),this.b[e.requestFullscreen]()):this.o.Ea()?T(this,"enterFullScreen"):(this.qc(),this.l("fullscreenchange")),this},s.requestFullScreen=function(){return t.log.warn('player.requestFullScreen() has been deprecated, use player.requestFullscreen() with a lowercase "s")'),this.requestFullscreen()},s.exitFullscreen=function(){var e=t.Oa.Fb;return this.isFullscreen(l),e?document[e.exitFullscreen]():this.o.Ea()?T(this,"exitFullScreen"):(this.Cb(),this.l("fullscreenchange")),this},s.cancelFullScreen=function(){return t.log.warn("player.cancelFullScreen() has been deprecated, use player.exitFullscreen()"),this.exitFullscreen()},s.qc=function(){this.Dd=f,this.ud=document.documentElement.style.overflow,t.c(document,"keydown",t.bind(this,this.sc)),document.documentElement.style.overflow="hidden",t.n(document.body,"vjs-full-window"),this.l("enterFullWindow")},s.sc=function(t){27===t.keyCode&&(this.isFullscreen()===f?this.exitFullscreen():this.Cb())},s.Cb=function(){this.Dd=l,t.j(document,"keydown",this.sc),document.documentElement.style.overflow=this.ud,t.p(document.body,"vjs-full-window"),this.l("exitFullWindow")},s.selectSource=function(e){for(var n=0,i=this.m.techOrder;n<i.length;n++){var r=t.ba(i[n]),o=window.videojs[r];if(o){if(o.isSupported())for(var s=0,a=e;s<a.length;s++){var u=a[s];if(o.canPlaySource(u))return{source:u,o:r}}}else t.log.error('The "'+r+'" tech is undefined. Skipped browser support check for that tech.')}return l},s.src=function(e){return e===b?S(this,"src"):(t.g.isArray(e)?U(this,e):"string"==typeof e?this.src({src:e}):e instanceof Object&&(e.type&&!window.videojs[this.eb].canPlaySource(e)?U(this,[e]):(this.G.src=e.src,this.nc=e.type||"",this.K(function(){T(this,"src",e.src),"auto"==this.m.preload&&this.load(),this.m.autoplay&&this.play()}))),this)},s.load=function(){return T(this,"load"),this},s.currentSrc=function(){return S(this,"currentSrc")||this.G.src||""},s.pd=function(){return this.nc||""},s.Da=function(t){return t!==b?(T(this,"setPreload",t),this.m.preload=t,this):S(this,"preload")},s.autoplay=function(t){return t!==b?(T(this,"setAutoplay",t),this.m.autoplay=t,this):S(this,"autoplay")},s.loop=function(t){return t!==b?(T(this,"setLoop",t),this.m.loop=t,this):S(this,"loop")},s.poster=function(t){return t===b?this.Fc:(t||(t=""),this.Fc=t,T(this,"setPoster",t),this.l("posterchange"),this)},s.controls=function(t){return t!==b?(t=!!t,this.yb!==t&&((this.yb=t)?(this.p("vjs-controls-disabled"),this.n("vjs-controls-enabled"),this.l("controlsenabled")):(this.p("vjs-controls-enabled"),this.n("vjs-controls-disabled"),this.l("controlsdisabled"))),this):this.yb},t.Player.prototype.Tb,s=t.Player.prototype,s.usingNativeControls=function(t){return t!==b?(t=!!t,this.Tb!==t&&((this.Tb=t)?(this.n("vjs-using-native-controls"),this.l("usingnativecontrols")):(this.p("vjs-using-native-controls"),this.l("usingcustomcontrols"))),this):this.Tb},s.da=k,s.error=function(e){return e===b?this.da:e===k?(this.da=e,this.p("vjs-error"),this):(this.da=e instanceof t.D?e:new t.D(e),this.l("error"),this.n("vjs-error"),t.log.error("(CODE:"+this.da.code+" "+t.D.Ra[this.da.code]+")",this.da.message,this.da),this)},s.ended=function(){return S(this,"ended")},s.seeking=function(){return S(this,"seeking")},s.pa=f,s.reportUserActivity=function(){this.pa=f},s.Sb=f,s.userActive=function(t){return t!==b?(t=!!t,t!==this.Sb&&((this.Sb=t)?(this.pa=f,this.p("vjs-user-inactive"),this.n("vjs-user-active"),this.l("useractive")):(this.pa=l,this.o&&this.o.R("mousemove",function(t){t.stopPropagation(),t.preventDefault()}),this.p("vjs-user-active"),this.n("vjs-user-inactive"),this.l("userinactive"))),this):this.Sb},s.playbackRate=function(t){return t!==b?(T(this,"setPlaybackRate",t),this):this.o&&this.o.featuresPlaybackRate?S(this,"playbackRate"):1},s.xc=l,t.Ja=t.a.extend(),t.Ja.prototype.m={we:"play",children:{playToggle:{},currentTimeDisplay:{},timeDivider:{},durationDisplay:{},remainingTimeDisplay:{},liveDisplay:{},progressControl:{},fullscreenToggle:{},volumeControl:{},muteToggle:{},playbackRateMenuButton:{}}},t.Ja.prototype.e=function(){return t.e("div",{className:"vjs-control-bar"})},t.Yb=t.a.extend({i:function(e,n){t.a.call(this,e,n)}}),t.Yb.prototype.e=function(){var e=t.a.prototype.e.call(this,"div",{className:"vjs-live-controls vjs-control"});return this.v=t.e("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.t("Stream Type")+"</span>"+this.t("LIVE"),"aria-live":"off"}),e.appendChild(this.v),e},t.ac=t.u.extend({i:function(e,n){t.u.call(this,e,n),this.c(e,"play",this.Ob),this.c(e,"pause",this.Nb)}}),s=t.ac.prototype,s.ua="Play",s.T=function(){return"vjs-play-control "+t.u.prototype.T.call(this)},s.s=function(){this.d.paused()?this.d.play():this.d.pause()},s.Ob=function(){this.p("vjs-paused"),this.n("vjs-playing"),this.b.children[0].children[0].innerHTML=this.t("Pause")},s.Nb=function(){this.p("vjs-playing"),this.n("vjs-paused"),this.b.children[0].children[0].innerHTML=this.t("Play")},t.hb=t.a.extend({i:function(e,n){t.a.call(this,e,n),this.c(e,"timeupdate",this.fa)}}),t.hb.prototype.e=function(){var e=t.a.prototype.e.call(this,"div",{className:"vjs-current-time vjs-time-controls vjs-control"});return this.v=t.e("div",{className:"vjs-current-time-display",innerHTML:'<span class="vjs-control-text">Current Time </span>0:00',"aria-live":"off"}),e.appendChild(this.v),e},t.hb.prototype.fa=function(){var e=this.d.bb?this.d.G.currentTime:this.d.currentTime();this.v.innerHTML='<span class="vjs-control-text">'+this.t("Current Time")+"</span> "+t.za(e,this.d.duration())},t.ib=t.a.extend({i:function(e,n){t.a.call(this,e,n),this.c(e,"timeupdate",this.fa)}}),t.ib.prototype.e=function(){var e=t.a.prototype.e.call(this,"div",{className:"vjs-duration vjs-time-controls vjs-control"});return this.v=t.e("div",{className:"vjs-duration-display",innerHTML:'<span class="vjs-control-text">'+this.t("Duration Time")+"</span> 0:00","aria-live":"off"}),e.appendChild(this.v),e},t.ib.prototype.fa=function(){var e=this.d.duration();e&&(this.v.innerHTML='<span class="vjs-control-text">'+this.t("Duration Time")+"</span> "+t.za(e))},t.gc=t.a.extend({i:function(e,n){t.a.call(this,e,n)}}),t.gc.prototype.e=function(){return t.a.prototype.e.call(this,"div",{className:"vjs-time-divider",innerHTML:"<div><span>/</span></div>"})},t.pb=t.a.extend({i:function(e,n){t.a.call(this,e,n),this.c(e,"timeupdate",this.fa)}}),t.pb.prototype.e=function(){var e=t.a.prototype.e.call(this,"div",{className:"vjs-remaining-time vjs-time-controls vjs-control"});return this.v=t.e("div",{className:"vjs-remaining-time-display",innerHTML:'<span class="vjs-control-text">'+this.t("Remaining Time")+"</span> -0:00","aria-live":"off"}),e.appendChild(this.v),e},t.pb.prototype.fa=function(){this.d.duration()&&(this.v.innerHTML='<span class="vjs-control-text">'+this.t("Remaining Time")+"</span> -"+t.za(this.d.remainingTime()))},t.Ka=t.u.extend({i:function(e,n){t.u.call(this,e,n)}}),t.Ka.prototype.ua="Fullscreen",t.Ka.prototype.T=function(){return"vjs-fullscreen-control "+t.u.prototype.T.call(this)},t.Ka.prototype.s=function(){this.d.isFullscreen()?(this.d.exitFullscreen(),this.xb.innerHTML=this.t("Fullscreen")):(this.d.requestFullscreen(),this.xb.innerHTML=this.t("Non-Fullscreen"))
},t.ob=t.a.extend({i:function(e,n){t.a.call(this,e,n)}}),t.ob.prototype.m={children:{seekBar:{}}},t.ob.prototype.e=function(){return t.a.prototype.e.call(this,"div",{className:"vjs-progress-control vjs-control"})},t.cc=t.S.extend({i:function(e,n){t.S.call(this,e,n),this.c(e,"timeupdate",this.oa),e.K(t.bind(this,this.oa))}}),s=t.cc.prototype,s.m={children:{loadProgressBar:{},playProgressBar:{},seekHandle:{}},barName:"playProgressBar",handleName:"seekHandle"},s.Ec="timeupdate",s.e=function(){return t.S.prototype.e.call(this,"div",{className:"vjs-progress-holder","aria-label":"video progress bar"})},s.oa=function(){var e=this.d.bb?this.d.G.currentTime:this.d.currentTime();this.b.setAttribute("aria-valuenow",t.round(100*this.Gb(),2)),this.b.setAttribute("aria-valuetext",t.za(e,this.d.duration()))},s.Gb=function(){return this.d.currentTime()/this.d.duration()},s.Za=function(e){t.S.prototype.Za.call(this,e),this.d.bb=f,this.me=!this.d.paused(),this.d.pause()},s.$a=function(t){t=H(this,t)*this.d.duration(),t==this.d.duration()&&(t-=.1),this.d.currentTime(t)},s.Mb=function(e){t.S.prototype.Mb.call(this,e),this.d.bb=l,this.me&&this.d.play()},s.Oc=function(){this.d.currentTime(this.d.currentTime()+5)},s.Nc=function(){this.d.currentTime(this.d.currentTime()-5)},t.lb=t.a.extend({i:function(e,n){t.a.call(this,e,n),this.c(e,"progress",this.update)}}),t.lb.prototype.e=function(){return t.a.prototype.e.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.t("Loaded")+"</span>: 0%</span>"})},t.lb.prototype.update=function(){var e,n,i,r,o=this.d.buffered();e=this.d.duration();var s,a=this.d;for(s=a.buffered(),a=a.duration(),s=s.end(s.length-1),s>a&&(s=a),a=this.b.children,this.b.style.width=100*(s/e||0)+"%",e=0;e<o.length;e++)n=o.start(e),i=o.end(e),(r=a[e])||(r=this.b.appendChild(t.e())),r.style.left=100*(n/s||0)+"%",r.style.width=100*((i-n)/s||0)+"%";for(e=a.length;e>o.length;e--)this.b.removeChild(a[e-1])},t.$b=t.a.extend({i:function(e,n){t.a.call(this,e,n)}}),t.$b.prototype.e=function(){return t.a.prototype.e.call(this,"div",{className:"vjs-play-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.t("Progress")+"</span>: 0%</span>"})},t.La=t.$.extend({i:function(e,n){t.$.call(this,e,n),this.c(e,"timeupdate",this.fa)}}),t.La.prototype.defaultValue="00:00",t.La.prototype.e=function(){return t.$.prototype.e.call(this,"div",{className:"vjs-seek-handle","aria-live":"off"})},t.La.prototype.fa=function(){var e=this.d.bb?this.d.G.currentTime:this.d.currentTime();this.b.innerHTML='<span class="vjs-control-text">'+t.za(e,this.d.duration())+"</span>"},t.rb=t.a.extend({i:function(e,n){t.a.call(this,e,n),e.o&&e.o.featuresVolumeControl===l&&this.n("vjs-hidden"),this.c(e,"loadstart",function(){e.o.featuresVolumeControl===l?this.n("vjs-hidden"):this.p("vjs-hidden")})}}),t.rb.prototype.m={children:{volumeBar:{}}},t.rb.prototype.e=function(){return t.a.prototype.e.call(this,"div",{className:"vjs-volume-control vjs-control"})},t.qb=t.S.extend({i:function(e,n){t.S.call(this,e,n),this.c(e,"volumechange",this.oa),e.K(t.bind(this,this.oa))}}),s=t.qb.prototype,s.oa=function(){this.b.setAttribute("aria-valuenow",t.round(100*this.d.volume(),2)),this.b.setAttribute("aria-valuetext",t.round(100*this.d.volume(),2)+"%")},s.m={children:{volumeLevel:{},volumeHandle:{}},barName:"volumeLevel",handleName:"volumeHandle"},s.Ec="volumechange",s.e=function(){return t.S.prototype.e.call(this,"div",{className:"vjs-volume-bar","aria-label":"volume level"})},s.$a=function(t){this.d.muted()&&this.d.muted(l),this.d.volume(H(this,t))},s.Gb=function(){return this.d.muted()?0:this.d.volume()},s.Oc=function(){this.d.volume(this.d.volume()+.1)},s.Nc=function(){this.d.volume(this.d.volume()-.1)},t.hc=t.a.extend({i:function(e,n){t.a.call(this,e,n)}}),t.hc.prototype.e=function(){return t.a.prototype.e.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},t.sb=t.$.extend(),t.sb.prototype.defaultValue="00:00",t.sb.prototype.e=function(){return t.$.prototype.e.call(this,"div",{className:"vjs-volume-handle"})},t.ia=t.u.extend({i:function(e,n){t.u.call(this,e,n),this.c(e,"volumechange",this.update),e.o&&e.o.featuresVolumeControl===l&&this.n("vjs-hidden"),this.c(e,"loadstart",function(){e.o.featuresVolumeControl===l?this.n("vjs-hidden"):this.p("vjs-hidden")})}}),t.ia.prototype.e=function(){return t.u.prototype.e.call(this,"div",{className:"vjs-mute-control vjs-control",innerHTML:'<div><span class="vjs-control-text">'+this.t("Mute")+"</span></div>"})},t.ia.prototype.s=function(){this.d.muted(this.d.muted()?l:f)},t.ia.prototype.update=function(){var e=this.d.volume(),n=3;for(0===e||this.d.muted()?n=0:.33>e?n=1:.67>e&&(n=2),this.d.muted()?this.b.children[0].children[0].innerHTML!=this.t("Unmute")&&(this.b.children[0].children[0].innerHTML=this.t("Unmute")):this.b.children[0].children[0].innerHTML!=this.t("Mute")&&(this.b.children[0].children[0].innerHTML=this.t("Mute")),e=0;4>e;e++)t.p(this.b,"vjs-vol-"+e);t.n(this.b,"vjs-vol-"+n)},t.sa=t.N.extend({i:function(e,n){t.N.call(this,e,n),this.c(e,"volumechange",this.update),e.o&&e.o.featuresVolumeControl===l&&this.n("vjs-hidden"),this.c(e,"loadstart",function(){e.o.featuresVolumeControl===l?this.n("vjs-hidden"):this.p("vjs-hidden")}),this.n("vjs-menu-button")}}),t.sa.prototype.xa=function(){var e=new t.ha(this.d,{lc:"div"}),n=new t.qb(this.d,this.m.volumeBar);return n.c("focus",function(){e.n("vjs-lock-showing")}),n.c("blur",function(){E(e)}),e.V(n),e},t.sa.prototype.s=function(){t.ia.prototype.s.call(this),t.N.prototype.s.call(this)},t.sa.prototype.e=function(){return t.u.prototype.e.call(this,"div",{className:"vjs-volume-menu-button vjs-menu-button vjs-control",innerHTML:'<div><span class="vjs-control-text">'+this.t("Mute")+"</span></div>"})},t.sa.prototype.update=t.ia.prototype.update,t.bc=t.N.extend({i:function(e,n){t.N.call(this,e,n),this.Tc(),this.Sc(),this.c(e,"loadstart",this.Tc),this.c(e,"ratechange",this.Sc)}}),s=t.bc.prototype,s.e=function(){var e=t.a.prototype.e.call(this,"div",{className:"vjs-playback-rate vjs-menu-button vjs-control",innerHTML:'<div class="vjs-control-content"><span class="vjs-control-text">'+this.t("Playback Rate")+"</span></div>"});return this.Ac=t.e("div",{className:"vjs-playback-rate-value",innerHTML:1}),e.appendChild(this.Ac),e},s.xa=function(){var e=new t.ha(this.k()),n=this.k().options().playbackRates;if(n)for(var i=n.length-1;i>=0;i--)e.V(new t.nb(this.k(),{rate:n[i]+"x"}));return e},s.oa=function(){this.w().setAttribute("aria-valuenow",this.k().playbackRate())},s.s=function(){for(var t=this.k().playbackRate(),e=this.k().options().playbackRates,n=e[0],i=0;i<e.length;i++)if(e[i]>t){n=e[i];break}this.k().playbackRate(n)},s.Tc=function(){ea(this)?this.p("vjs-hidden"):this.n("vjs-hidden")},s.Sc=function(){ea(this)&&(this.Ac.innerHTML=this.k().playbackRate()+"x")},t.nb=t.J.extend({lc:"button",i:function(e,n){var i=this.label=n.rate,r=this.Hc=parseFloat(i,10);n.label=i,n.selected=1===r,t.J.call(this,e,n),this.c(e,"ratechange",this.update)}}),t.nb.prototype.s=function(){t.J.prototype.s.call(this),this.k().playbackRate(this.Hc)},t.nb.prototype.update=function(){this.selected(this.k().playbackRate()==this.Hc)},t.ra=t.u.extend({i:function(e,n){t.u.call(this,e,n),this.update(),e.c("posterchange",t.bind(this,this.update))}}),t.ra.prototype.dispose=function(){this.k().j("posterchange",this.update),t.u.prototype.dispose.call(this)},t.ra.prototype.e=function(){var e=t.e("div",{className:"vjs-poster",tabIndex:-1});return t.Wc||(this.Db=t.e("img"),e.appendChild(this.Db)),e},t.ra.prototype.update=function(){var t,e=this.k().poster();this.Db?this.Db.src=e:(t="",e&&(t='url("'+e+'")'),this.b.style.backgroundImage=t),e?this.b.style.display="":this.Y()},t.ra.prototype.s=function(){this.d.play()},t.Zb=t.a.extend({i:function(e,n){t.a.call(this,e,n)}}),t.Zb.prototype.e=function(){return t.a.prototype.e.call(this,"div",{className:"vjs-loading-spinner"})},t.fb=t.u.extend(),t.fb.prototype.e=function(){return t.u.prototype.e.call(this,"div",{className:"vjs-big-play-button",innerHTML:'<span aria-hidden="true"></span>',"aria-label":"play video"})},t.fb.prototype.s=function(){this.d.play()},t.jb=t.a.extend({i:function(e,n){t.a.call(this,e,n),this.update(),this.c(e,"error",this.update)}}),t.jb.prototype.e=function(){var e=t.a.prototype.e.call(this,"div",{className:"vjs-error-display"});return this.v=t.e("div"),e.appendChild(this.v),e},t.jb.prototype.update=function(){this.k().error()&&(this.v.innerHTML=this.t(this.k().error().message))},t.q=t.a.extend({i:function(e,n,i){n=n||{},n.Jc=l,t.a.call(this,e,n,i),this.featuresProgressEvents||(this.Bc=f,this.Gc=setInterval(t.bind(this,function(){var t=this.k().bufferedPercent();this.ld!=t&&this.k().l("progress"),this.ld=t,1===t&&clearInterval(this.Gc)}),500)),this.featuresTimeupdateEvents||(e=this.d,this.Lb=f,this.c(e,"play",this.Rc),this.c(e,"pause",this.cb),this.R("timeupdate",function(){this.featuresTimeupdateEvents=f,fa(this)}));var r;r=this.k(),e=function(){if(r.controls()&&!r.usingNativeControls()){var t;this.c("mousedown",this.s),this.c("touchstart",function(){t=this.d.userActive()}),this.c("touchmove",function(){t&&this.k().reportUserActivity()}),this.c("touchend",function(t){t.preventDefault()}),G(this),this.c("tap",this.Td)}},this.K(e),this.c(r,"controlsenabled",e),this.c(r,"controlsdisabled",this.Zd),this.K(function(){this.networkState&&0<this.networkState()&&this.k().l("loadstart")})}}),s=t.q.prototype,s.Zd=function(){this.j("tap"),this.j("touchstart"),this.j("touchmove"),this.j("touchleave"),this.j("touchcancel"),this.j("touchend"),this.j("click"),this.j("mousedown")},s.s=function(t){0===t.button&&this.k().controls()&&(this.k().paused()?this.k().play():this.k().pause())},s.Td=function(){this.k().userActive(!this.k().userActive())},s.Rc=function(){this.mc&&this.cb(),this.mc=setInterval(t.bind(this,function(){this.k().l("timeupdate")}),250)},s.cb=function(){clearInterval(this.mc),this.k().l("timeupdate")},s.dispose=function(){this.Bc&&(this.Bc=l,clearInterval(this.Gc)),this.Lb&&fa(this),t.a.prototype.dispose.call(this)},s.Qb=function(){this.Lb&&this.k().l("timeupdate")},s.Lc=m(),t.q.prototype.featuresVolumeControl=f,t.q.prototype.featuresFullscreenResize=l,t.q.prototype.featuresPlaybackRate=l,t.q.prototype.featuresProgressEvents=l,t.q.prototype.featuresTimeupdateEvents=l,t.media={},t.h=t.q.extend({i:function(e,n,i){for(this.featuresVolumeControl=t.h.nd(),this.featuresPlaybackRate=t.h.md(),this.movingMediaElementInDOM=!t.$c,this.featuresProgressEvents=this.featuresFullscreenResize=f,t.q.call(this,e,n,i),i=t.h.kb.length-1;i>=0;i--)this.c(t.h.kb[i],this.vd);if(((n=n.source)&&this.b.currentSrc!==n.src||e.I&&3===e.I.Bd)&&(this.b.src=n.src),t.ec&&e.options().nativeControlsForTouch===f){var r,o,s,a;r=this,o=this.k(),n=o.controls(),r.b.controls=!!n,s=function(){r.b.controls=f},a=function(){r.b.controls=l},o.c("controlsenabled",s),o.c("controlsdisabled",a),n=function(){o.j("controlsenabled",s),o.j("controlsdisabled",a)},r.c("dispose",n),o.c("usingcustomcontrols",n),o.usingNativeControls(f)}e.K(function(){this.I&&this.m.autoplay&&this.paused()&&(delete this.I.poster,this.play())}),this.Ga()}}),s=t.h.prototype,s.dispose=function(){t.h.Bb(this.b),t.q.prototype.dispose.call(this)},s.e=function(){var e,n=this.d,i=n.I;i&&this.movingMediaElementInDOM!==l||(i?(e=i.cloneNode(l),t.h.Bb(i),i=e,n.I=k):(i=t.e("video"),t.Kc(i,t.g.z(n.ie||{},{id:n.id()+"_html5_api","class":"vjs-tech"}))),i.player=n,t.Hb(i,n.w())),e=["autoplay","preload","loop","muted"];for(var r=e.length-1;r>=0;r--){var o=e[r],s={};"undefined"!=typeof n.m[o]&&(s[o]=n.m[o]),t.Kc(i,s)}return i},s.vd=function(t){"error"==t.type&&this.error()?this.k().error(this.error().code):(t.bubbles=l,this.k().l(t))},s.play=function(){this.b.play()},s.pause=function(){this.b.pause()},s.paused=function(){return this.b.paused},s.currentTime=function(){return this.b.currentTime},s.Qb=function(e){try{this.b.currentTime=e}catch(n){t.log(n,"Video is not ready. (Video.js)")}},s.duration=function(){return this.b.duration||0},s.buffered=function(){return this.b.buffered},s.volume=function(){return this.b.volume},s.fe=function(t){this.b.volume=t},s.muted=function(){return this.b.muted},s.ce=function(t){this.b.muted=t},s.width=function(){return this.b.offsetWidth},s.height=function(){return this.b.offsetHeight},s.Ea=function(){return"function"!=typeof this.b.webkitEnterFullScreen||!/Android/.test(t.O)&&/Chrome|Mac OS X 10.5/.test(t.O)?l:f},s.pc=function(){var t=this.b;"webkitDisplayingFullscreen"in t&&this.R("webkitbeginfullscreen",function(){this.d.isFullscreen(f),this.R("webkitendfullscreen",function(){this.d.isFullscreen(l),this.d.l("fullscreenchange")}),this.d.l("fullscreenchange")}),t.paused&&t.networkState<=t.ne?(this.b.play(),setTimeout(function(){t.pause(),t.webkitEnterFullScreen()},0)):t.webkitEnterFullScreen()},s.wd=function(){this.b.webkitExitFullScreen()},s.src=function(t){return t===b?this.b.src:void(this.b.src=t)},s.load=function(){this.b.load()},s.currentSrc=function(){return this.b.currentSrc},s.poster=function(){return this.b.poster},s.Lc=function(t){this.b.poster=t},s.Da=function(){return this.b.Da},s.ee=function(t){this.b.Da=t},s.autoplay=function(){return this.b.autoplay},s.$d=function(t){this.b.autoplay=t},s.controls=function(){return this.b.controls},s.loop=function(){return this.b.loop},s.be=function(t){this.b.loop=t},s.error=function(){return this.b.error},s.seeking=function(){return this.b.seeking},s.ended=function(){return this.b.ended},s.playbackRate=function(){return this.b.playbackRate},s.de=function(t){this.b.playbackRate=t},s.networkState=function(){return this.b.networkState},t.h.isSupported=function(){try{t.A.volume=.5}catch(e){return l}return!!t.A.canPlayType},t.h.vb=function(e){try{return!!t.A.canPlayType(e.type)}catch(n){return""}},t.h.nd=function(){var e=t.A.volume;return t.A.volume=e/2+.1,e!==t.A.volume},t.h.md=function(){var e=t.A.playbackRate;return t.A.playbackRate=e/2+.1,e!==t.A.playbackRate};var V,ga=/^application\/(?:x-|vnd\.apple\.)mpegurl/i,ha=/^video\/mp4/i;t.h.Dc=function(){4<=t.Ub&&(V||(V=t.A.constructor.prototype.canPlayType),t.A.constructor.prototype.canPlayType=function(t){return t&&ga.test(t)?"maybe":V.call(this,t)}),t.dd&&(V||(V=t.A.constructor.prototype.canPlayType),t.A.constructor.prototype.canPlayType=function(t){return t&&ha.test(t)?"maybe":V.call(this,t)})},t.h.le=function(){var e=t.A.constructor.prototype.canPlayType;return t.A.constructor.prototype.canPlayType=V,V=k,e},t.h.Dc(),t.h.kb="loadstart suspend abort error emptied stalled loadedmetadata loadeddata canplay canplaythrough playing waiting seeking seeked ended durationchange timeupdate progress play pause ratechange volumechange".split(" "),t.h.Bb=function(t){if(t){for(t.player=k,t.parentNode&&t.parentNode.removeChild(t);t.hasChildNodes();)t.removeChild(t.firstChild);if(t.removeAttribute("src"),"function"==typeof t.load)try{t.load()}catch(e){}}},t.f=t.q.extend({i:function(e,n,i){t.q.call(this,e,n,i);var r=n.source;i=n.parentEl;var o=this.b=t.e("div",{id:e.id()+"_temp_flash"}),s=e.id()+"_flash_api",a=e.m,a=t.g.z({readyFunction:"videojs.Flash.onReady",eventProxyFunction:"videojs.Flash.onEvent",errorEventProxyFunction:"videojs.Flash.onError",autoplay:a.autoplay,preload:a.Da,loop:a.loop,muted:a.muted},n.flashVars),u=t.g.z({wmode:"opaque",bgcolor:"#000000"},n.params),s=t.g.z({id:s,name:s,"class":"vjs-tech"},n.attributes);r&&(r.type&&t.f.Gd(r.type)?(r=t.f.Pc(r.src),a.rtmpConnection=encodeURIComponent(r.wb),a.rtmpStream=encodeURIComponent(r.Rb)):a.src=encodeURIComponent(t.tc(r.src))),t.Hb(o,i),n.startTime&&this.K(function(){this.load(),this.play(),this.currentTime(n.startTime)}),t.Zc&&this.K(function(){this.c("mousemove",function(){this.k().l({type:"mousemove",bubbles:l})})}),e.c("stageclick",e.reportUserActivity),this.b=t.f.oc(n.swf,o,a,u,s)}}),t.f.prototype.dispose=function(){t.q.prototype.dispose.call(this)},t.f.prototype.play=function(){this.b.vjs_play()},t.f.prototype.pause=function(){this.b.vjs_pause()},t.f.prototype.src=function(e){if(e===b)return this.currentSrc();if(t.f.Fd(e)?(e=t.f.Pc(e),this.xe(e.wb),this.ye(e.Rb)):(e=t.tc(e),this.b.vjs_src(e)),this.d.autoplay()){var n=this;setTimeout(function(){n.play()},0)}},t.f.prototype.setCurrentTime=function(e){this.Jd=e,this.b.vjs_setProperty("currentTime",e),t.q.prototype.Qb.call(this)},t.f.prototype.currentTime=function(){return this.seeking()?this.Jd||0:this.b.vjs_getProperty("currentTime")},t.f.prototype.currentSrc=function(){var e=this.b.vjs_getProperty("currentSrc");if(e==k){var n=this.rtmpConnection(),i=this.rtmpStream();n&&i&&(e=t.f.ge(n,i))}return e},t.f.prototype.load=function(){this.b.vjs_load()},t.f.prototype.poster=function(){this.b.vjs_getProperty("poster")},t.f.prototype.setPoster=m(),t.f.prototype.buffered=function(){return t.zb(0,this.b.vjs_getProperty("buffered"))},t.f.prototype.Ea=q(l),t.f.prototype.pc=q(l);var ja=t.f.prototype,W="rtmpConnection rtmpStream preload defaultPlaybackRate playbackRate autoplay loop mediaGroup controller controls volume muted defaultMuted".split(" "),la="error networkState readyState seeking initialTime duration startOffsetTime paused played seekable ended videoTracks audioTracks videoWidth videoHeight textTracks".split(" "),X;for(X=0;X<W.length;X++)ka(W[X]),ia();for(X=0;X<la.length;X++)ka(la[X]);if(t.f.isSupported=function(){return 10<=t.f.version()[0]},t.f.vb=function(e){return e.type?(e=e.type.replace(/;.*/,"").toLowerCase(),e in t.f.yd||e in t.f.Qc?"maybe":void 0):""},t.f.yd={"video/flv":"FLV","video/x-flv":"FLV","video/mp4":"MP4","video/m4v":"MP4"},t.f.Qc={"rtmp/mp4":"MP4","rtmp/flv":"FLV"},t.f.onReady=function(e){var n;(n=(e=t.w(e))&&e.parentNode&&e.parentNode.player)&&(e.player=n,t.f.checkReady(n.o))},t.f.checkReady=function(e){e.w()&&(e.w().vjs_getProperty?e.Ga():setTimeout(function(){t.f.checkReady(e)},50))},t.f.onEvent=function(e,n){t.w(e).player.l(n)},t.f.onError=function(e,n){var i=t.w(e).player,r="FLASH: "+n;i.error("srcnotfound"==n?{code:4,message:r}:r)},t.f.version=function(){var t="0,0,0";try{t=new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(e){try{navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(t=(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1])}catch(n){}}return t.split(",")},t.f.oc=function(e,n,i,r,o){e=t.f.Ad(e,i,r,o),e=t.e("div",{innerHTML:e}).childNodes[0],i=n.parentNode,n.parentNode.replaceChild(e,n);var s=i.childNodes[0];return setTimeout(function(){s.style.display="block"},1e3),e},t.f.Ad=function(e,n,i,r){var o="",s="",a="";return n&&t.g.X(n,function(t,e){o+=t+"="+e+"&amp;"}),i=t.g.z({movie:e,flashvars:o,allowScriptAccess:"always",allowNetworking:"all"},i),t.g.X(i,function(t,e){s+='<param name="'+t+'" value="'+e+'" />'}),r=t.g.z({data:e,width:"100%",height:"100%"},r),t.g.X(r,function(t,e){a+=t+'="'+e+'" '}),'<object type="application/x-shockwave-flash"'+a+">"+s+"</object>"},t.f.ge=function(t,e){return t+"&"+e},t.f.Pc=function(t){var e={wb:"",Rb:""};if(!t)return e;var n,i=t.indexOf("&");return-1!==i?n=i+1:(i=n=t.lastIndexOf("/")+1,0===i&&(i=n=t.length)),e.wb=t.substring(0,i),e.Rb=t.substring(n,t.length),e},t.f.Gd=function(e){return e in t.f.Qc},t.f.fd=/^rtmp[set]?:\/\//i,t.f.Fd=function(e){return t.f.fd.test(e)},t.ed=t.a.extend({i:function(e,n,i){if(t.a.call(this,e,n,i),e.m.sources&&0!==e.m.sources.length)e.src(e.m.sources);else for(n=0,i=e.m.techOrder;n<i.length;n++){var r=t.ba(i[n]),o=window.videojs[r];if(o&&o.isSupported()){Q(e,r);break}}}}),t.Player.prototype.textTracks=function(){return this.Fa=this.Fa||[]},t.B=t.a.extend({i:function(e,n){t.a.call(this,e,n),this.L=n.id||"vjs_"+n.kind+"_"+n.language+"_"+t.r++,this.Mc=n.src,this.sd=n["default"]||n.dflt,this.je=n.title,this.Ua=n.srclang,this.Hd=n.label,this.ca=[],this.tb=[],this.ma=this.na=0}}),s=t.B.prototype,s.M=p("H"),s.src=p("Mc"),s.Ab=p("sd"),s.title=p("je"),s.language=p("Ua"),s.label=p("Hd"),s.od=p("ca"),s.gd=p("tb"),s.readyState=p("na"),s.mode=p("ma"),s.e=function(){return t.a.prototype.e.call(this,"div",{className:"vjs-"+this.H+" vjs-text-track"})},s.show=function(){na(this),this.ma=2,t.a.prototype.show.call(this)},s.Y=function(){na(this),this.ma=1,t.a.prototype.Y.call(this)},s.disable=function(){2==this.ma&&this.Y(),this.d.j("timeupdate",t.bind(this,this.update,this.L)),this.d.j("ended",t.bind(this,this.reset,this.L)),this.reset(),this.d.ka("textTrackDisplay").removeChild(this),this.ma=0},s.load=function(){0===this.na&&(this.na=1,t.get(this.Mc,t.bind(this,this.Wd),t.bind(this,this.Md)))},s.Md=function(t){this.error=t,this.na=3,this.l("error")},s.Wd=function(e){var n,i;e=e.split("\n");for(var r="",o=1,s=e.length;s>o;o++)if(r=t.trim(e[o])){for(-1==r.indexOf("-->")?(n=r,r=t.trim(e[++o])):n=this.ca.length,n={id:n,index:this.ca.length},i=r.split(/[\t ]+/),n.startTime=oa(i[0]),n.ya=oa(i[2]),i=[];e[++o]&&(r=t.trim(e[o]));)i.push(r);n.text=i.join("<br/>"),this.ca.push(n)}this.na=2,this.l("loaded")},s.update=function(){if(0<this.ca.length){var t=this.d.options().trackTimeOffset||0,t=this.d.currentTime()+t;if(this.Pb===b||t<this.Pb||this.Wa<=t){var e,n,i,r,o=this.ca,s=this.d.duration(),a=0,u=l,c=[];for(t>=this.Wa||this.Wa===b?r=this.Eb!==b?this.Eb:0:(u=f,r=this.Kb!==b?this.Kb:o.length-1);;){if(i=o[r],i.ya<=t)a=Math.max(a,i.ya),i.Na&&(i.Na=l);else if(t<i.startTime){if(s=Math.min(s,i.startTime),i.Na&&(i.Na=l),!u)break}else u?(c.splice(0,0,i),n===b&&(n=r),e=r):(c.push(i),e===b&&(e=r),n=r),s=Math.min(s,i.ya),a=Math.max(a,i.startTime),i.Na=f;if(u){if(0===r)break;r--}else{if(r===o.length-1)break;r++}}for(this.tb=c,this.Wa=s,this.Pb=a,this.Eb=e,this.Kb=n,e=this.tb,n="",t=0,o=e.length;o>t;t++)n+='<span class="vjs-tt-cue">'+e[t].text+"</span>";this.b.innerHTML=n,this.l("cuechange")}}},s.reset=function(){this.Wa=0,this.Pb=this.d.duration(),this.Kb=this.Eb=0},t.Wb=t.B.extend(),t.Wb.prototype.H="captions",t.dc=t.B.extend(),t.dc.prototype.H="subtitles",t.Xb=t.B.extend(),t.Xb.prototype.H="chapters",t.fc=t.a.extend({i:function(e,n,i){if(t.a.call(this,e,n,i),e.m.tracks&&0<e.m.tracks.length){n=this.d,e=e.m.tracks;for(var r=0;r<e.length;r++)i=e[r],ma(n,i.kind,i.label,i.language,i)}}}),t.fc.prototype.e=function(){return t.a.prototype.e.call(this,"div",{className:"vjs-text-track-display"})},t.aa=t.J.extend({i:function(e,n){var i=this.ea=n.track;n.label=i.label(),n.selected=i.Ab(),t.J.call(this,e,n),this.c(e,i.M()+"trackchange",this.update)}}),t.aa.prototype.s=function(){t.J.prototype.s.call(this),Y(this.d,this.ea.L,this.ea.M())},t.aa.prototype.update=function(){this.selected(2==this.ea.mode())},t.mb=t.aa.extend({i:function(e,n){n.track={M:function(){return n.kind},k:e,label:function(){return n.kind+" off"},Ab:q(l),mode:q(l)},t.aa.call(this,e,n),this.selected(f)}}),t.mb.prototype.s=function(){t.aa.prototype.s.call(this),Y(this.d,this.ea.L,this.ea.M())},t.mb.prototype.update=function(){for(var t,e=this.d.textTracks(),n=0,i=e.length,r=f;i>n;n++)t=e[n],t.M()==this.ea.M()&&2==t.mode()&&(r=l);this.selected(r)},t.U=t.N.extend({i:function(e,n){t.N.call(this,e,n),1>=this.Q.length&&this.Y()}}),t.U.prototype.wa=function(){var e,n=[];n.push(new t.mb(this.d,{kind:this.H}));for(var i=0;i<this.d.textTracks().length;i++)e=this.d.textTracks()[i],e.M()===this.H&&n.push(new t.aa(this.d,{track:e}));return n},t.Ha=t.U.extend({i:function(e,n,i){t.U.call(this,e,n,i),this.b.setAttribute("aria-label","Captions Menu")}}),t.Ha.prototype.H="captions",t.Ha.prototype.ua="Captions",t.Ha.prototype.className="vjs-captions-button",t.Ma=t.U.extend({i:function(e,n,i){t.U.call(this,e,n,i),this.b.setAttribute("aria-label","Subtitles Menu")}}),t.Ma.prototype.H="subtitles",t.Ma.prototype.ua="Subtitles",t.Ma.prototype.className="vjs-subtitles-button",t.Ia=t.U.extend({i:function(e,n,i){t.U.call(this,e,n,i),this.b.setAttribute("aria-label","Chapters Menu")}}),s=t.Ia.prototype,s.H="chapters",s.ua="Chapters",s.className="vjs-chapters-button",s.wa=function(){for(var e,n=[],i=0;i<this.d.textTracks().length;i++)e=this.d.textTracks()[i],e.M()===this.H&&n.push(new t.aa(this.d,{track:e}));return n},s.xa=function(){for(var e,n,i=this.d.textTracks(),r=0,o=i.length,s=this.Q=[];o>r;r++)if(e=i[r],e.M()==this.H){if(0!==e.readyState()){n=e;break}e.load(),e.c("loaded",t.bind(this,this.xa))}if(i=this.Ba,i===b&&(i=new t.ha(this.d),i.ja().appendChild(t.e("li",{className:"vjs-menu-title",innerHTML:t.ba(this.H),he:-1}))),n){e=n.ca;for(var a,r=0,o=e.length;o>r;r++)a=e[r],a=new t.gb(this.d,{track:n,cue:a}),s.push(a),i.V(a);this.V(i)}return 0<this.Q.length&&this.show(),i},t.gb=t.J.extend({i:function(e,n){var i=this.ea=n.track,r=this.cue=n.cue,o=e.currentTime();n.label=r.text,n.selected=r.startTime<=o&&o<r.ya,t.J.call(this,e,n),i.c("cuechange",t.bind(this,this.update))}}),t.gb.prototype.s=function(){t.J.prototype.s.call(this),this.d.currentTime(this.cue.startTime),this.update(this.cue.startTime)},t.gb.prototype.update=function(){var t=this.cue,e=this.d.currentTime();this.selected(t.startTime<=e&&e<t.ya)},t.g.z(t.Ja.prototype.m.children,{subtitlesButton:{},captionsButton:{},chaptersButton:{}}),"undefined"!=typeof window.JSON&&"function"==typeof window.JSON.parse)t.JSON=window.JSON;else{t.JSON={};var Z=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;t.JSON.parse=function(a,c){function d(t,e){var n,i,r=t[e];if(r&&"object"==typeof r)for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i=d(r,n),i!==b?r[n]=i:delete r[n]);return c.call(t,e,r)}var e;if(a=String(a),Z.lastIndex=0,Z.test(a)&&(a=a.replace(Z,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return e=eval("("+a+")"),"function"==typeof c?d({"":e},""):e;throw new SyntaxError("JSON.parse(): invalid or malformed JSON data")}}t.jc=function(){var e,n,i,r;e=document.getElementsByTagName("video"),n=document.getElementsByTagName("audio");var o=[];if(e&&0<e.length)for(i=0,r=e.length;r>i;i++)o.push(e[i]);if(n&&0<n.length)for(i=0,r=n.length;r>i;i++)o.push(n[i]);if(o&&0<o.length)for(i=0,r=o.length;r>i;i++){if(!(n=o[i])||!n.getAttribute){t.ub();break}n.player===b&&(e=n.getAttribute("data-setup"),e!==k&&videojs(n))}else t.Uc||t.ub()},t.ub=function(){setTimeout(t.jc,1)},"complete"===document.readyState?t.Uc=f:t.R(window,"load",function(){t.Uc=f}),t.ub(),t.Yd=function(e,n){t.Player.prototype[e]=n};var pa=this;$("videojs",t),$("_V_",t),$("videojs.options",t.options),$("videojs.players",t.Ca),$("videojs.TOUCH_ENABLED",t.ec),$("videojs.cache",t.va),$("videojs.Component",t.a),t.a.prototype.player=t.a.prototype.k,t.a.prototype.options=t.a.prototype.options,t.a.prototype.init=t.a.prototype.i,t.a.prototype.dispose=t.a.prototype.dispose,t.a.prototype.createEl=t.a.prototype.e,t.a.prototype.contentEl=t.a.prototype.ja,t.a.prototype.el=t.a.prototype.w,t.a.prototype.addChild=t.a.prototype.V,t.a.prototype.getChild=t.a.prototype.ka,t.a.prototype.getChildById=t.a.prototype.zd,t.a.prototype.children=t.a.prototype.children,t.a.prototype.initChildren=t.a.prototype.wc,t.a.prototype.removeChild=t.a.prototype.removeChild,t.a.prototype.on=t.a.prototype.c,t.a.prototype.off=t.a.prototype.j,t.a.prototype.one=t.a.prototype.R,t.a.prototype.trigger=t.a.prototype.l,t.a.prototype.triggerReady=t.a.prototype.Ga,t.a.prototype.show=t.a.prototype.show,t.a.prototype.hide=t.a.prototype.Y,t.a.prototype.width=t.a.prototype.width,t.a.prototype.height=t.a.prototype.height,t.a.prototype.dimensions=t.a.prototype.td,t.a.prototype.ready=t.a.prototype.K,t.a.prototype.addClass=t.a.prototype.n,t.a.prototype.removeClass=t.a.prototype.p,t.a.prototype.buildCSSClass=t.a.prototype.T,t.a.prototype.localize=t.a.prototype.t,t.Player.prototype.ended=t.Player.prototype.ended,t.Player.prototype.enterFullWindow=t.Player.prototype.qc,t.Player.prototype.exitFullWindow=t.Player.prototype.Cb,t.Player.prototype.preload=t.Player.prototype.Da,t.Player.prototype.remainingTime=t.Player.prototype.remainingTime,t.Player.prototype.supportsFullScreen=t.Player.prototype.Ea,t.Player.prototype.currentType=t.Player.prototype.pd,t.Player.prototype.requestFullScreen=t.Player.prototype.requestFullScreen,t.Player.prototype.requestFullscreen=t.Player.prototype.requestFullscreen,t.Player.prototype.cancelFullScreen=t.Player.prototype.cancelFullScreen,t.Player.prototype.exitFullscreen=t.Player.prototype.exitFullscreen,t.Player.prototype.isFullScreen=t.Player.prototype.isFullScreen,t.Player.prototype.isFullscreen=t.Player.prototype.isFullscreen,$("videojs.MediaLoader",t.ed),$("videojs.TextTrackDisplay",t.fc),$("videojs.ControlBar",t.Ja),$("videojs.Button",t.u),$("videojs.PlayToggle",t.ac),$("videojs.FullscreenToggle",t.Ka),$("videojs.BigPlayButton",t.fb),$("videojs.LoadingSpinner",t.Zb),$("videojs.CurrentTimeDisplay",t.hb),$("videojs.DurationDisplay",t.ib),$("videojs.TimeDivider",t.gc),$("videojs.RemainingTimeDisplay",t.pb),$("videojs.LiveDisplay",t.Yb),$("videojs.ErrorDisplay",t.jb),$("videojs.Slider",t.S),$("videojs.ProgressControl",t.ob),$("videojs.SeekBar",t.cc),$("videojs.LoadProgressBar",t.lb),$("videojs.PlayProgressBar",t.$b),$("videojs.SeekHandle",t.La),$("videojs.VolumeControl",t.rb),$("videojs.VolumeBar",t.qb),$("videojs.VolumeLevel",t.hc),$("videojs.VolumeMenuButton",t.sa),$("videojs.VolumeHandle",t.sb),$("videojs.MuteToggle",t.ia),$("videojs.PosterImage",t.ra),$("videojs.Menu",t.ha),$("videojs.MenuItem",t.J),$("videojs.MenuButton",t.N),$("videojs.PlaybackRateMenuButton",t.bc),t.N.prototype.createItems=t.N.prototype.wa,t.U.prototype.createItems=t.U.prototype.wa,t.Ia.prototype.createItems=t.Ia.prototype.wa,$("videojs.SubtitlesButton",t.Ma),$("videojs.CaptionsButton",t.Ha),$("videojs.ChaptersButton",t.Ia),$("videojs.MediaTechController",t.q),t.q.prototype.featuresVolumeControl=t.q.prototype.ue,t.q.prototype.featuresFullscreenResize=t.q.prototype.qe,t.q.prototype.featuresPlaybackRate=t.q.prototype.re,t.q.prototype.featuresProgressEvents=t.q.prototype.se,t.q.prototype.featuresTimeupdateEvents=t.q.prototype.te,t.q.prototype.setPoster=t.q.prototype.Lc,$("videojs.Html5",t.h),t.h.Events=t.h.kb,t.h.isSupported=t.h.isSupported,t.h.canPlaySource=t.h.vb,t.h.patchCanPlayType=t.h.Dc,t.h.unpatchCanPlayType=t.h.le,t.h.prototype.setCurrentTime=t.h.prototype.Qb,t.h.prototype.setVolume=t.h.prototype.fe,t.h.prototype.setMuted=t.h.prototype.ce,t.h.prototype.setPreload=t.h.prototype.ee,t.h.prototype.setAutoplay=t.h.prototype.$d,t.h.prototype.setLoop=t.h.prototype.be,t.h.prototype.enterFullScreen=t.h.prototype.pc,t.h.prototype.exitFullScreen=t.h.prototype.wd,t.h.prototype.playbackRate=t.h.prototype.playbackRate,t.h.prototype.setPlaybackRate=t.h.prototype.de,$("videojs.Flash",t.f),t.f.isSupported=t.f.isSupported,t.f.canPlaySource=t.f.vb,t.f.onReady=t.f.onReady,t.f.embed=t.f.oc,t.f.version=t.f.version,$("videojs.TextTrack",t.B),t.B.prototype.label=t.B.prototype.label,t.B.prototype.kind=t.B.prototype.M,t.B.prototype.mode=t.B.prototype.mode,t.B.prototype.cues=t.B.prototype.od,t.B.prototype.activeCues=t.B.prototype.gd,$("videojs.CaptionsTrack",t.Wb),$("videojs.SubtitlesTrack",t.dc),$("videojs.ChaptersTrack",t.Xb),$("videojs.autoSetup",t.jc),$("videojs.plugin",t.Yd),$("videojs.createTimeRange",t.zb),$("videojs.util",t.ga),t.ga.mergeOptions=t.ga.Va,t.addLanguage=t.hd}(),function(){function log(){"undefined"!=typeof console&&"function"==typeof console.log&&(Array.prototype.unshift.call(arguments,"[Ajax Upload]"),console.log(Array.prototype.join.call(arguments," ")))}function addEvent(t,e,n){if(t.addEventListener)t.addEventListener(e,n,!1);else{if(!t.attachEvent)throw new Error("not supported or DOM not loaded");t.attachEvent("on"+e,function(){n.call(t)})}}function addResizeEvent(t){var e;addEvent(window,"resize",function(){e&&clearTimeout(e),e=setTimeout(t,100)
})}function getBox(t){var e,n,i,r,o=getOffset(t);return e=o.left,i=o.top,n=e+t.offsetWidth,r=i+t.offsetHeight,{left:e,right:n,top:i,bottom:r}}function addStyles(t,e){for(var n in e)e.hasOwnProperty(n)&&(t.style[n]=e[n])}function copyLayout(t,e){var n=getBox(t);addStyles(e,{position:"absolute",left:n.left+"px",top:n.top+"px",width:t.offsetWidth+"px",height:t.offsetHeight+"px"})}function fileFromPath(t){return t.replace(/.*(\/|\\)/,"")}function getExt(t){return-1!==t.indexOf(".")?t.replace(/.*[.]/,""):""}function hasClass(t,e){var n=new RegExp("\\b"+e+"\\b");return n.test(t.className)}function addClass(t,e){hasClass(t,e)||(t.className+=" "+e)}function removeClass(t,e){var n=new RegExp("\\b"+e+"\\b");t.className=t.className.replace(n,"")}function removeNode(t){t.parentNode.removeChild(t)}if(document.documentElement.getBoundingClientRect)var getOffset=function(t){var e=t.getBoundingClientRect(),n=t.ownerDocument,i=n.body,r=n.documentElement,o=r.clientTop||i.clientTop||0,s=r.clientLeft||i.clientLeft||0,a=1;if(i.getBoundingClientRect){var l=i.getBoundingClientRect();a=(l.right-l.left)/i.clientWidth}a>1&&(o=0,s=0);var u=e.top/a+(window.pageYOffset||r&&r.scrollTop/a||i.scrollTop/a)-o,c=e.left/a+(window.pageXOffset||r&&r.scrollLeft/a||i.scrollLeft/a)-s;return{top:u,left:c}};else var getOffset=function(t){var e=0,n=0;do e+=t.offsetTop||0,n+=t.offsetLeft||0,t=t.offsetParent;while(t);return{left:n,top:e}};var toElement=function(){var t=document.createElement("div");return function(e){t.innerHTML=e;var n=t.firstChild;return t.removeChild(n)}}(),getUID=function(){var t=0;return function(){return"ValumsAjaxUpload"+t++}}();window.AjaxUpload=function(t,e){this._settings={action:"upload.php",name:"userfile",data:{},autoSubmit:!0,responseType:!1,hoverClass:"hover",focusClass:"focus",disabledClass:"disabled",onChange:function(){},onSubmit:function(){},onComplete:function(){}};for(var n in e)e.hasOwnProperty(n)&&(this._settings[n]=e[n]);return t.jquery?t=t[0]:"string"==typeof t&&(/^#.*/.test(t)&&(t=t.slice(1)),t=document.getElementById(t)),t&&1===t.nodeType?("A"==t.nodeName.toUpperCase()&&addEvent(t,"click",function(t){t&&t.preventDefault?t.preventDefault():window.event&&(window.event.returnValue=!1)}),this._button=t,this._input=null,this._disabled=!1,this.enable(),void this._rerouteClicks()):void log("Error: please make sure that you're passing a valid element")},AjaxUpload.prototype={setData:function(t){this._settings.data=t},disable:function(){addClass(this._button,this._settings.disabledClass),this._disabled=!0;var t=this._button.nodeName.toUpperCase();("INPUT"==t||"BUTTON"==t)&&this._button.setAttribute("disabled","disabled"),this._input&&(this._input.parentNode.style.visibility="hidden")},enable:function(){removeClass(this._button,this._settings.disabledClass),this._button.removeAttribute("disabled"),this._disabled=!1},_createInput:function(){var t=this,e=document.createElement("input");e.setAttribute("type","file"),e.setAttribute("name",this._settings.name),addStyles(e,{position:"absolute",right:0,margin:0,padding:0,fontSize:"480px",fontFamily:"sans-serif",cursor:"pointer"});var n=document.createElement("div");if(addStyles(n,{display:"block",position:"absolute",overflow:"hidden",margin:0,padding:0,opacity:0,direction:"ltr",zIndex:2147483583}),n.appendChild(e),"0"!==n.style.opacity){if("undefined"==typeof n.filters)throw new Error("Opacity not supported by the browser");n.style.filter="alpha(opacity=0)"}addEvent(e,"change",function(){if(e&&""!==e.value){var n=fileFromPath(e.value);return!1===t._settings.onChange.call(t,n,getExt(n))?void t._clearInput():void(t._settings.autoSubmit&&t.submit())}}),addEvent(e,"mouseover",function(){addClass(t._button,t._settings.hoverClass)}),addEvent(e,"mouseout",function(){removeClass(t._button,t._settings.hoverClass),removeClass(t._button,t._settings.focusClass)}),addEvent(e,"focus",function(){addClass(t._button,t._settings.focusClass)}),addEvent(e,"blur",function(){removeClass(t._button,t._settings.focusClass)}),document.body.appendChild(n),this._input=e},_clearInput:function(){this._input&&(removeNode(this._input.parentNode),this._input=null,this._createInput(),removeClass(this._button,this._settings.hoverClass),removeClass(this._button,this._settings.focusClass))},_rerouteClicks:function(){var t=this;addEvent(t._button,"mouseover",function(){if(!t._disabled){t._input||t._createInput();var e=t._input.parentNode;copyLayout(t._button,e),e.style.visibility="visible"}})},_createIframe:function(){var t=getUID(),e=toElement('<iframe src="javascript:false;" name="'+t+'" />');return e.setAttribute("id",t),e.style.display="none",document.body.appendChild(e),e},_createForm:function(t){var e=this._settings,n=toElement('<form method="post" enctype="multipart/form-data"></form>');n.setAttribute("action",e.action),n.setAttribute("target",t.name),n.style.display="none",document.body.appendChild(n);for(var i in e.data)if(e.data.hasOwnProperty(i)){var r=document.createElement("input");r.setAttribute("type","hidden"),r.setAttribute("name",i),r.setAttribute("value",e.data[i]),n.appendChild(r)}return n},_getResponse:function(iframe,file){var toDeleteFlag=!1,self=this,settings=this._settings;addEvent(iframe,"load",function(){if("javascript:'%3Chtml%3E%3C/html%3E';"==iframe.src||"javascript:'<html></html>';"==iframe.src)return void(toDeleteFlag&&setTimeout(function(){removeNode(iframe)},0));var doc=iframe.contentDocument?iframe.contentDocument:window.frames[iframe.id].document;if(!(doc.readyState&&"complete"!=doc.readyState||doc.body&&"false"==doc.body.innerHTML)){var response;doc.XMLDocument?response=doc.XMLDocument:doc.body?(response=doc.body.innerHTML,settings.responseType&&"json"==settings.responseType.toLowerCase()&&(doc.body.firstChild&&"PRE"==doc.body.firstChild.nodeName.toUpperCase()&&(doc.normalize(),response=doc.body.firstChild.firstChild.nodeValue),response=response?eval("("+response+")"):{})):response=doc,settings.onComplete.call(self,file,response),toDeleteFlag=!0,iframe.src="javascript:'<html></html>';"}})},submit:function(){var t=this,e=this._settings;if(this._input&&""!==this._input.value){var n=fileFromPath(this._input.value);if(!1===e.onSubmit.call(this,n,getExt(n)))return void this._clearInput();var i=this._createIframe(),r=this._createForm(i);removeNode(this._input.parentNode),removeClass(t._button,t._settings.hoverClass),removeClass(t._button,t._settings.focusClass),r.appendChild(this._input),r.submit(),removeNode(r),r=null,removeNode(this._input),this._input=null,this._getResponse(i,n),this._createInput()}}}}();var m=function t(e,n){function i(t){j=t.document,P=t.location,A=t.cancelAnimationFrame||t.clearTimeout,N=t.requestAnimationFrame||t.setTimeout}function r(){var t,e=[].slice.call(arguments),n=!(null==e[1]||F.call(e[1])!==L||"tag"in e[1]||"view"in e[1]||"subtree"in e[1]),i=n?e[1]:{},r="class"in i?"class":"className",o={tag:"div",attrs:{}},s=[];if(F.call(e[0])!=I)throw new Error("selector in m(selector, attrs, children) should be a string");for(;t=R.exec(e[0]);)if(""===t[1]&&t[2])o.tag=t[2];else if("#"===t[1])o.attrs.id=t[2];else if("."===t[1])s.push(t[2]);else if("["===t[3][0]){var a=H.exec(t[3]);o.attrs[a[1]]=a[3]||(a[2]?"":!0)}var l=e.slice(n?2:1);o.children=1===l.length&&F.call(l[0])===D?l[0]:l;for(var u in i)i.hasOwnProperty(u)&&(u===r&&null!=i[u]&&""!==i[u]?(s.push(i[u]),o.attrs[u]=""):o.attrs[u]=i[u]);return s.length>0&&(o.attrs[r]=s.join(" ")),o}function o(t,e,i,u,h,f,d,p,g,m,v){try{(null==h||null==h.toString())&&(h="")}catch(y){h=""}if("retain"===h.subtree)return f;var b=F.call(f),w=F.call(h);if(null==f||b!==w){if(null!=f)if(i&&i.nodes){var _=p-u,x=_+(w===D?h:f.nodes).length;l(i.nodes.slice(_,x),i.slice(_,x))}else f.nodes&&l(f.nodes,f);f=new h.constructor,f.tag&&(f={}),f.nodes=[]}if(w===D){for(var k=0,C=h.length;C>k;k++)F.call(h[k])===D&&(h=h.concat.apply([],h),k--,C=h.length);for(var T=[],S=f.length===h.length,E=0,O=1,P=2,N=3,A={},R=!1,k=0;k<f.length;k++)f[k]&&f[k].attrs&&null!=f[k].attrs.key&&(R=!0,A[f[k].attrs.key]={action:O,index:k});for(var H=0,k=0,C=h.length;C>k;k++)if(h[k]&&h[k].attrs&&null!=h[k].attrs.key){for(var B=0,C=h.length;C>B;B++)h[B]&&h[B].attrs&&null==h[B].attrs.key&&(h[B].attrs.key="__mithril__"+H++);break}if(R){var U=!1;if(h.length!=f.length)U=!0;else for(var W,V,k=0;W=f[k],V=h[k];k++)if(W.attrs&&V.attrs&&W.attrs.key!=V.attrs.key){U=!0;break}if(U){for(var k=0,C=h.length;C>k;k++)if(h[k]&&h[k].attrs&&null!=h[k].attrs.key){var z=h[k].attrs.key;A[z]=A[z]?{action:N,index:k,from:A[z].index,element:f.nodes[A[z].index]||j.createElement("div")}:{action:P,index:k}}var X=[];for(var K in A)X.push(A[K]);var Q=X.sort(s),G=new Array(f.length);G.nodes=f.nodes.slice();for(var J,k=0;J=Q[k];k++){if(J.action===O&&(l(f[J.index].nodes,f[J.index]),G.splice(J.index,1)),J.action===P){var Y=j.createElement("div");Y.key=h[J.index].attrs.key,t.insertBefore(Y,t.childNodes[J.index]||null),G.splice(J.index,0,{attrs:{key:h[J.index].attrs.key},nodes:[Y]}),G.nodes[J.index]=Y}J.action===N&&(t.childNodes[J.index]!==J.element&&null!==J.element&&t.insertBefore(J.element,t.childNodes[J.index]||null),G[J.index]=f[J.from],G.nodes[J.index]=J.element)}f=G}}for(var k=0,Z=0,C=h.length;C>k;k++){var ee=o(t,e,f,p,h[k],f[Z],d,p+E||E,g,m,v);ee!==n&&(ee.nodes.intact||(S=!1),E+=ee.$trusted?(ee.match(/<[^\/]|\>\s*[^<]/g)||[0]).length:F.call(ee)===D?ee.length:1,f[Z++]=ee)}if(!S){for(var k=0,C=h.length;C>k;k++)null!=f[k]&&T.push.apply(T,f[k].nodes);for(var ne,k=0;ne=f.nodes[k];k++)null!=ne.parentNode&&T.indexOf(ne)<0&&l([ne],[f[k]]);h.length<f.length&&(f.length=h.length),f.nodes=T}}else if(null!=h&&w===L){for(var re=[],oe=[];h.view;){var se=h.view.$original||h.view,ae="diff"==r.redraw.strategy()&&f.views?f.views.indexOf(se):-1,le=ae>-1?f.controllers[ae]:new(h.controller||q),z=h&&h.attrs&&h.attrs.key;if(h=0==ie||f&&f.controllers&&f.controllers.indexOf(le)>-1?h.view(le):{tag:"placeholder"},"retain"===h.subtree)return f;z&&(h.attrs||(h.attrs={}),h.attrs.key=z),le.onunload&&te.push({controller:le,handler:le.onunload}),re.push(se),oe.push(le)}if(!h.tag&&oe.length)throw new Error("Component template must return a virtual element, not an array, string, etc.");h.attrs||(h.attrs={}),f.attrs||(f.attrs={});var ue=Object.keys(h.attrs),ce=ue.length>("key"in h.attrs?1:0);if((h.tag!=f.tag||ue.sort().join()!=Object.keys(f.attrs).sort().join()||h.attrs.id!=f.attrs.id||h.attrs.key!=f.attrs.key||"all"==r.redraw.strategy()&&(!f.configContext||f.configContext.retain!==!0)||"diff"==r.redraw.strategy()&&f.configContext&&f.configContext.retain===!1)&&(f.nodes.length&&l(f.nodes),f.configContext&&typeof f.configContext.onunload===M&&f.configContext.onunload(),f.controllers))for(var le,k=0;le=f.controllers[k];k++)typeof le.onunload===M&&le.onunload({preventDefault:q});if(F.call(h.tag)!=I)return;var ne,he=0===f.nodes.length;if(h.attrs.xmlns?m=h.attrs.xmlns:"svg"===h.tag?m="http://www.w3.org/2000/svg":"math"===h.tag&&(m="http://www.w3.org/1998/Math/MathML"),he){if(ne=h.attrs.is?m===n?j.createElement(h.tag,h.attrs.is):j.createElementNS(m,h.tag,h.attrs.is):m===n?j.createElement(h.tag):j.createElementNS(m,h.tag),f={tag:h.tag,attrs:ce?a(ne,h.tag,h.attrs,{},m):h.attrs,children:null!=h.children&&h.children.length>0?o(ne,h.tag,n,n,h.children,f.children,!0,0,h.attrs.contenteditable?ne:g,m,v):h.children,nodes:[ne]},oe.length){f.views=re,f.controllers=oe;for(var le,k=0;le=oe[k];k++)if(le.onunload&&le.onunload.$old&&(le.onunload=le.onunload.$old),ie&&le.onunload){var fe=le.onunload;le.onunload=q,le.onunload.$old=fe}}f.children&&!f.children.nodes&&(f.children.nodes=[]),"select"===h.tag&&"value"in h.attrs&&a(ne,h.tag,{value:h.attrs.value},{},m),t.insertBefore(ne,t.childNodes[p]||null)}else ne=f.nodes[0],ce&&a(ne,h.tag,h.attrs,f.attrs,m),f.children=o(ne,h.tag,n,n,h.children,f.children,!1,0,h.attrs.contenteditable?ne:g,m,v),f.nodes.intact=!0,oe.length&&(f.views=re,f.controllers=oe),d===!0&&null!=ne&&t.insertBefore(ne,t.childNodes[p]||null);if(typeof h.attrs.config===M){var de=f.configContext=f.configContext||{},pe=function(t,e){return function(){return t.attrs.config.apply(t,e)}};v.push(pe(h,[ne,!he,de,f]))}}else if(typeof h!=M){var T;0===f.nodes.length?(h.$trusted?T=c(t,p,h):(T=[j.createTextNode(h)],t.nodeName.match($)||t.insertBefore(T[0],t.childNodes[p]||null)),f="string number boolean".indexOf(typeof h)>-1?new h.constructor(h):h,f.nodes=T):f.valueOf()!==h.valueOf()||d===!0?(T=f.nodes,g&&g===j.activeElement||(h.$trusted?(l(T,f),T=c(t,p,h)):"textarea"===e?t.value=h:g?g.innerHTML=h:((1===T[0].nodeType||T.length>1)&&(l(f.nodes,f),T=[j.createTextNode(h)]),t.insertBefore(T[0],t.childNodes[p]||null),T[0].nodeValue=h)),f=new h.constructor(h),f.nodes=T):f.nodes.intact=!0}return f}function s(t,e){return t.action-e.action||t.index-e.index}function a(t,e,n,i,r){for(var o in n){var s=n[o],a=i[o];if(o in i&&a===s)"value"===o&&"input"===e&&t.value!=s&&(t.value=s);else{i[o]=s;try{if("config"===o||"key"==o)continue;if(typeof s===M&&0===o.indexOf("on"))t[o]=h(s,t);else if("style"===o&&null!=s&&F.call(s)===L){for(var l in s)(null==a||a[l]!==s[l])&&(t.style[l]=s[l]);for(var l in a)l in s||(t.style[l]="")}else null!=r?"href"===o?t.setAttributeNS("http://www.w3.org/1999/xlink","href",s):"className"===o?t.setAttribute("class",s):t.setAttribute(o,s):o in t&&"list"!==o&&"style"!==o&&"form"!==o&&"type"!==o&&"width"!==o&&"height"!==o?("input"!==e||t[o]!==s)&&(t[o]=s):t.setAttribute(o,s)}catch(u){if(u.message.indexOf("Invalid argument")<0)throw u}}}return i}function l(t,e){for(var n=t.length-1;n>-1;n--)if(t[n]&&t[n].parentNode){try{t[n].parentNode.removeChild(t[n])}catch(i){}e=[].concat(e),e[n]&&u(e[n])}0!=t.length&&(t.length=0)}function u(t){if(t.configContext&&typeof t.configContext.onunload===M&&(t.configContext.onunload(),t.configContext.onunload=null),t.controllers)for(var e,n=0;e=t.controllers[n];n++)typeof e.onunload===M&&e.onunload({preventDefault:q});if(t.children)if(F.call(t.children)===D)for(var i,n=0;i=t.children[n];n++)u(i);else t.children.tag&&u(t.children)}function c(t,e,n){var i=t.childNodes[e];if(i){var r=1!=i.nodeType,o=j.createElement("span");r?(t.insertBefore(o,i||null),o.insertAdjacentHTML("beforebegin",n),t.removeChild(o)):i.insertAdjacentHTML("beforebegin",n)}else t.insertAdjacentHTML("beforeend",n);for(var s=[];t.childNodes[e]!==i;)s.push(t.childNodes[e]),e++;return s}function h(t,e){return function(n){n=n||event,r.redraw.strategy("diff"),r.startComputation();try{return t.call(e,n)}finally{re()}}}function f(t){var e=W.indexOf(t);return 0>e?W.push(t)-1:e}function d(t){var e=function(){return arguments.length&&(t=arguments[0]),t};return e.toJSON=function(){return t},e}function p(t,e){var n=function(){return(t.controller||q).apply(this,e)||this},i=function(n){return arguments.length>1&&(e=e.concat([].slice.call(arguments,1))),t.view.apply(t,e?[n].concat(e):[n])};i.$original=t.view;var r={controller:n,view:i};return e[0]&&null!=e[0].key&&(r.attrs={key:e[0].key}),r}function g(){Y&&(Y(),Y=null);for(var t,e=0;t=X[e];e++)if(Q[e]){var n=K[e].controller&&K[e].controller.$$args?[Q[e]].concat(K[e].controller.$$args):[Q[e]];r.render(t,K[e].view?K[e].view(Q[e],n):"")}Z&&(Z(),Z=null),G=null,J=new Date,r.redraw.strategy("diff")}function m(t){return t.slice(ae[r.route.mode].length)}function v(t,e,n){oe={};var i=n.indexOf("?");-1!==i&&(oe=_(n.substr(i+1,n.length)),n=n.substr(0,i));var o=Object.keys(e),s=o.indexOf(n);if(-1!==s)return r.mount(t,e[o[s]]),!0;for(var a in e){if(a===n)return r.mount(t,e[a]),!0;var l=new RegExp("^"+a.replace(/:[^\/]+?\.{3}/g,"(.*?)").replace(/:[^\/]+/g,"([^\\/]+)")+"/?$");if(l.test(n))return n.replace(l,function(){for(var n=a.match(/:[^\/]+/g)||[],i=[].slice.call(arguments,1,-2),o=0,s=n.length;s>o;o++)oe[n[o].replace(/:|\./g,"")]=decodeURIComponent(i[o]);r.mount(t,e[a])}),!0}}function y(t){if(t=t||event,!t.ctrlKey&&!t.metaKey&&2!==t.which){t.preventDefault?t.preventDefault():t.returnValue=!1;for(var e=t.currentTarget||t.srcElement,n="pathname"===r.route.mode&&e.search?_(e.search.slice(1)):{};e&&"A"!=e.nodeName.toUpperCase();)e=e.parentNode;r.route(e[r.route.mode].slice(ae[r.route.mode].length),n)}}function b(){"hash"!=r.route.mode&&P.hash?P.hash=P.hash:e.scrollTo(0,0)}function w(t,e){var i={},r=[];for(var o in t){var s=e?e+"["+o+"]":o,a=t[o],l=F.call(a),u=null===a?encodeURIComponent(s):l===L?w(a,s):l===D?a.reduce(function(t,e){return i[s]||(i[s]={}),i[s][e]?t:(i[s][e]=!0,t.concat(encodeURIComponent(s)+"="+encodeURIComponent(e)))},[]).join("&"):encodeURIComponent(s)+"="+encodeURIComponent(a);a!==n&&r.push(u)}return r.join("&")}function _(t){"?"===t.charAt(0)&&(t=t.substring(1));for(var e=t.split("&"),n={},i=0,r=e.length;r>i;i++){var o=e[i].split("="),s=decodeURIComponent(o[0]),a=2==o.length?decodeURIComponent(o[1]):null;null!=n[s]?(F.call(n[s])!==D&&(n[s]=[n[s]]),n[s].push(a)):n[s]=a}return n}function x(t){var e=f(t);l(t.childNodes,V[e]),V[e]=n}function k(t,e){var n=r.prop(e);return t.then(n),n.then=function(n,i){return k(t.then(n,i),e)},n}function C(t,e){function n(t){h=t||u,d.map(function(t){h===l&&t.resolve(f)||t.reject(f)})}function i(t,e,n,i){if((null!=f&&F.call(f)===L||typeof f===M)&&typeof t===M)try{var o=0;t.call(f,function(t){o++||(f=t,e())},function(t){o++||(f=t,n())})}catch(s){r.deferred.onerror(s),f=s,n()}else i()}function o(){var u;try{u=f&&f.then}catch(d){return r.deferred.onerror(d),f=d,h=a,o()}i(u,function(){h=s,o()},function(){h=a,o()},function(){try{h===s&&typeof t===M?f=t(f):h===a&&"function"==typeof e&&(f=e(f),h=s)}catch(o){return r.deferred.onerror(o),f=o,n()}f===c?(f=TypeError(),n()):i(u,function(){n(l)},n,function(){n(h===s&&l)})})}var s=1,a=2,l=3,u=4,c=this,h=0,f=0,d=[];c.promise={},c.resolve=function(t){return h||(f=t,h=s,o()),this},c.reject=function(t){return h||(f=t,h=a,o()),this},c.promise.then=function(t,e){var n=new C(t,e);return h===l?n.resolve(f):h===u?n.reject(f):d.push(n),n.promise}}function T(t){return t}function S(t){if(!t.dataType||"jsonp"!==t.dataType.toLowerCase()){var i=new e.XMLHttpRequest;if(i.open(t.method,t.url,!0,t.user,t.password),i.onreadystatechange=function(){4===i.readyState&&(i.status>=200&&i.status<300?t.onload({type:"load",target:i}):t.onerror({type:"error",target:i}))},t.serialize===JSON.stringify&&t.data&&"GET"!==t.method&&i.setRequestHeader("Content-Type","application/json; charset=utf-8"),t.deserialize===JSON.parse&&i.setRequestHeader("Accept","application/json, text/*"),typeof t.config===M){var r=t.config(i,t);null!=r&&(i=r)}var o="GET"!==t.method&&t.data?t.data:"";if(o&&F.call(o)!=I&&o.constructor!=e.FormData)throw"Request data should be either be a string or FormData. Check the `serialize` option in `m.request`";return i.send(o),i}var s="mithril_callback_"+(new Date).getTime()+"_"+Math.round(1e16*Math.random()).toString(36),a=j.createElement("script");e[s]=function(i){a.parentNode.removeChild(a),t.onload({type:"load",target:{responseText:i}}),e[s]=n},a.onerror=function(){return a.parentNode.removeChild(a),t.onerror({type:"error",target:{status:500,responseText:JSON.stringify({error:"Error making jsonp request"})}}),e[s]=n,!1},a.onload=function(){return!1},a.src=t.url+(t.url.indexOf("?")>0?"&":"?")+(t.callbackKey?t.callbackKey:"callback")+"="+s+"&"+w(t.data||{}),j.body.appendChild(a)}function E(t,e,n){if("GET"===t.method&&"jsonp"!=t.dataType){var i=t.url.indexOf("?")<0?"?":"&",r=w(e);t.url=t.url+(r?i+r:"")}else t.data=n(e);return t}function O(t,e){var n=t.match(/:[a-z]\w+/gi);if(n&&e)for(var i=0;i<n.length;i++){var r=n[i].slice(1);t=t.replace(n[i],e[r]),delete e[r]}return t}var j,P,N,A,L="[object Object]",D="[object Array]",I="[object String]",M="function",F={}.toString,R=/(?:(^|#|\.)([^#\.\[\]]+))|(\[.+?\])/g,H=/\[(.+?)(?:=("|'|)(.*?)\2)?\]/,$=/^(AREA|BASE|BR|COL|COMMAND|EMBED|HR|IMG|INPUT|KEYGEN|LINK|META|PARAM|SOURCE|TRACK|WBR)$/,q=function(){};i(e);var B,U={appendChild:function(t){B===n&&(B=j.createElement("html")),j.documentElement&&j.documentElement!==t?j.replaceChild(t,j.documentElement):j.appendChild(t),this.childNodes=j.childNodes},insertBefore:function(t){this.appendChild(t)},childNodes:[]},W=[],V={};r.render=function(t,e,i){var r=[];if(!t)throw new Error("Ensure the DOM element being passed to m.route/m.mount/m.render is not undefined.");var s=f(t),a=t===j,u=a||t===j.documentElement?U:t;a&&"html"!=e.tag&&(e={tag:"html",attrs:{},children:e}),V[s]===n&&l(u.childNodes),i===!0&&x(t),V[s]=o(u,null,n,n,e,V[s],!1,0,null,n,r);for(var c=0,h=r.length;h>c;c++)r[c]()},r.trust=function(t){return t=new String(t),t.$trusted=!0,t},r.prop=function(t){return(null!=t&&F.call(t)===L||typeof t===M)&&typeof t.then===M?k(t):d(t)};var z,X=[],K=[],Q=[],G=null,J=0,Y=null,Z=null,te=[],ee=16;r.component=function(t){return p(t,[].slice.call(arguments,1))},r.mount=r.module=function(t,e){if(!t)throw new Error("Please ensure the DOM element exists before rendering a template into it.");var n=X.indexOf(t);0>n&&(n=X.length);for(var i,o=!1,s={preventDefault:function(){o=!0,Y=Z=null}},a=0;i=te[a];a++)i.handler.call(i.controller,s),i.controller.onunload=null;if(o)for(var i,a=0;i=te[a];a++)i.controller.onunload=i.handler;else te=[];if(Q[n]&&typeof Q[n].onunload===M&&Q[n].onunload(s),!o){r.redraw.strategy("all"),r.startComputation(),X[n]=t,arguments.length>2&&(e=subcomponent(e,[].slice.call(arguments,2)));var l=z=e=e||{controller:function(){}},u=e.controller||q,c=new u;return l===z&&(Q[n]=c,K[n]=e),re(),Q[n]}};var ne=!1;r.redraw=function(t){ne||(ne=!0,G&&t!==!0?(N===e.requestAnimationFrame||new Date-J>ee)&&(G>0&&A(G),G=N(g,ee)):(g(),G=N(function(){G=null},ee)),ne=!1)},r.redraw.strategy=r.prop();var ie=0;r.startComputation=function(){ie++},r.endComputation=function(){ie=Math.max(ie-1,0),0===ie&&r.redraw()};var re=function(){"none"==r.redraw.strategy()?(ie--,r.redraw.strategy("diff")):r.endComputation()};r.withAttr=function(t,e){return function(n){n=n||event;var i=n.currentTarget||this;e(t in i?i[t]:i.getAttribute(t))}};var oe,se,ae={pathname:"",hash:"#",search:"?"},le=q,ue=!1;return r.route=function(){if(0===arguments.length)return se;if(3===arguments.length&&F.call(arguments[1])===I){var t=arguments[0],n=arguments[1],i=arguments[2];le=function(e){var o=se=m(e);if(!v(t,i,o)){if(ue)throw new Error("Ensure the default route matches one of the routes defined in m.route");ue=!0,r.route(n,!0),ue=!1}};var o="hash"===r.route.mode?"onhashchange":"onpopstate";e[o]=function(){var t=P[r.route.mode];"pathname"===r.route.mode&&(t+=P.search),se!=m(t)&&le(t)},Y=b,e[o]()}else if(arguments[0].addEventListener||arguments[0].attachEvent){var s=arguments[0],a=(arguments[1],arguments[2],arguments[3]);s.href=("pathname"!==r.route.mode?P.pathname:"")+ae[r.route.mode]+a.attrs.href,s.addEventListener?(s.removeEventListener("click",y),s.addEventListener("click",y)):(s.detachEvent("onclick",y),s.attachEvent("onclick",y))}else if(F.call(arguments[0])===I){var l=se;se=arguments[0];var u=arguments[1]||{},c=se.indexOf("?"),h=c>-1?_(se.slice(c+1)):{};for(var f in u)h[f]=u[f];var d=w(h),p=c>-1?se.slice(0,c):se;d&&(se=p+(-1===p.indexOf("?")?"?":"&")+d);var g=(3===arguments.length?arguments[2]:arguments[1])===!0||l===arguments[0];e.history.pushState?(Y=b,Z=function(){e.history[g?"replaceState":"pushState"](null,j.title,ae[r.route.mode]+se)},le(ae[r.route.mode]+se)):(P[r.route.mode]=se,le(ae[r.route.mode]+se))}},r.route.param=function(t){if(!oe)throw new Error("You must call m.route(element, defaultRoute, routes) before calling m.route.param()");return oe[t]},r.route.mode="search",r.route.buildQueryString=w,r.route.parseQueryString=_,r.deferred=function(){var t=new C;return t.promise=k(t.promise),t},r.deferred.onerror=function(t){if("[object Error]"===F.call(t)&&!t.constructor.toString().match(/ Error/))throw t},r.sync=function(t){function e(t,e){return function(r){return s[t]=r,e||(n="reject"),0===--o&&(i.promise(s),i[n](s)),r}}var n="resolve",i=r.deferred(),o=t.length,s=new Array(o);if(t.length>0)for(var a=0;a<t.length;a++)t[a].then(e(a,!0),e(a,!1));else i.resolve([]);return i.promise},r.request=function(t){t.background!==!0&&r.startComputation();var e=new C,n=t.dataType&&"jsonp"===t.dataType.toLowerCase(),i=t.serialize=n?T:t.serialize||JSON.stringify,o=t.deserialize=n?T:t.deserialize||JSON.parse,s=n?function(t){return t.responseText}:t.extract||function(t){return 0===t.responseText.length&&o===JSON.parse?null:t.responseText};return t.method=(t.method||"GET").toUpperCase(),t.url=O(t.url,t.data),t=E(t,t.data,i),t.onload=t.onerror=function(n){try{n=n||event;var i=("load"===n.type?t.unwrapSuccess:t.unwrapError)||T,a=i(o(s(n.target,t)),n.target);if("load"===n.type)if(F.call(a)===D&&t.type)for(var l=0;l<a.length;l++)a[l]=new t.type(a[l]);else t.type&&(a=new t.type(a));e["load"===n.type?"resolve":"reject"](a)}catch(n){r.deferred.onerror(n),e.reject(n)}t.background!==!0&&r.endComputation()},S(t),e.promise=k(e.promise,t.initialValue),e.promise},r.deps=function(t){return i(e=t||e),e},r.deps.factory=t,r}("undefined"!=typeof window?window:{});"undefined"!=typeof module&&null!==module&&module.exports?module.exports=m:"function"==typeof define&&define.amd&&define(function(){return m}),function(t){function e(){var t=arguments[0],n=e.cache;return n[t]&&n.hasOwnProperty(t)||(n[t]=e.parse(t)),e.format.call(null,n[t],arguments)}function n(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()}function i(t,e){return Array(e+1).join(t)}var r={not_string:/[^s]/,number:/[dief]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fiosuxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[\+\-]/};e.format=function(t,o){var s,a,l,u,c,h,f,d=1,p=t.length,g="",m=[],v=!0,y="";for(a=0;p>a;a++)if(g=n(t[a]),"string"===g)m[m.length]=t[a];else if("array"===g){if(u=t[a],u[2])for(s=o[d],l=0;l<u[2].length;l++){if(!s.hasOwnProperty(u[2][l]))throw new Error(e("[sprintf] property '%s' does not exist",u[2][l]));s=s[u[2][l]]}else s=u[1]?o[u[1]]:o[d++];if("function"==n(s)&&(s=s()),r.not_string.test(u[8])&&"number"!=n(s)&&isNaN(s))throw new TypeError(e("[sprintf] expecting number but found %s",n(s)));switch(r.number.test(u[8])&&(v=s>=0),u[8]){case"b":s=s.toString(2);break;case"c":s=String.fromCharCode(s);break;case"d":case"i":s=parseInt(s,10);break;case"e":s=u[7]?s.toExponential(u[7]):s.toExponential();break;case"f":s=u[7]?parseFloat(s).toFixed(u[7]):parseFloat(s);break;case"o":s=s.toString(8);break;case"s":s=(s=String(s))&&u[7]?s.substring(0,u[7]):s;break;case"u":s>>>=0;break;case"x":s=s.toString(16);break;case"X":s=s.toString(16).toUpperCase()}!r.number.test(u[8])||v&&!u[3]?y="":(y=v?"+":"-",s=s.toString().replace(r.sign,"")),h=u[4]?"0"===u[4]?"0":u[4].charAt(1):" ",f=u[6]-(y+s).length,c=u[6]&&f>0?i(h,f):"",m[m.length]=u[5]?y+s+c:"0"===h?y+c+s:c+y+s}return m.join("")},e.cache={},e.parse=function(t){for(var e=t,n=[],i=[],o=0;e;){if(null!==(n=r.text.exec(e)))i[i.length]=n[0];else if(null!==(n=r.modulo.exec(e)))i[i.length]="%";else{if(null===(n=r.placeholder.exec(e)))throw new SyntaxError("[sprintf] unexpected placeholder");if(n[2]){o|=1;var s=[],a=n[2],l=[];if(null===(l=r.key.exec(a)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(s[s.length]=l[1];""!==(a=a.substring(l[0].length));)if(null!==(l=r.key_access.exec(a)))s[s.length]=l[1];else{if(null===(l=r.index_access.exec(a)))throw new SyntaxError("[sprintf] failed to parse named argument key");s[s.length]=l[1]}n[2]=s}else o|=2;if(3===o)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");i[i.length]=n}e=e.substring(n[0].length)}return i};var o=function(t,n,i){return i=(n||[]).slice(0),i.splice(0,0,t),e.apply(null,i)};"undefined"!=typeof exports?(exports.sprintf=e,exports.vsprintf=o):(t.sprintf=e,t.vsprintf=o,"function"==typeof define&&define.amd&&define(function(){return{sprintf:e,vsprintf:o}}))}("undefined"==typeof window?this:window),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.Raven=t()}}(function(){return function t(e,n,i){function r(s,a){if(!n[s]){if(!e[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[s]={exports:{}};e[s][0].call(c.exports,function(t){var n=e[s][1][t];return r(n?n:t)},c,c.exports,t,e,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(t,e){"use strict";function n(t){this.name="RavenConfigError",this.message=t}n.prototype=new Error,n.prototype.constructor=n,e.exports=n},{}],2:[function(t,e){"use strict";var n=function(t,e,n){var i=t[e],r=t;if(e in t){var o="warn"===e?"warning":e;t[e]=function(){var t=[].slice.call(arguments),e=""+t.join(" "),s={level:o,logger:"console",extra:{arguments:t}};n&&n(e,s),i&&Function.prototype.apply.call(i,r,t)}}};e.exports={wrapMethod:n}},{}],3:[function(t,e){(function(n){"use strict";function i(){return+new Date}function r(t,e){return a(e)?function(n){return e(n,t)}:e}function o(){this._hasJSON=!("object"!=typeof JSON||!JSON.stringify),this._hasDocument=!s(I),this._hasNavigator=!s(M),this._lastCapturedException=null,this._lastData=null,this._lastEventId=null,this._globalServer=null,this._globalKey=null,this._globalProject=null,this._globalContext={},this._globalOptions={logger:"javascript",ignoreErrors:[],ignoreUrls:[],whitelistUrls:[],includePaths:[],crossOrigin:"anonymous",collectWindowErrors:!0,maxMessageLength:0,maxUrlLength:250,stackTraceLimit:50,autoBreadcrumbs:!0,instrument:!0,sampleRate:1},this._ignoreOnError=0,this._isRavenInstalled=!1,this._originalErrorStackTraceLimit=Error.stackTraceLimit,this._originalConsole=D.console||{},this._originalConsoleMethods={},this._plugins=[],this._startTime=i(),this._wrappedBuiltIns=[],this._breadcrumbs=[],this._lastCapturedEvent=null,this._keypressTimeout,this._location=D.location,this._lastHref=this._location&&this._location.href,this._resetBackoff();for(var t in this._originalConsole)this._originalConsoleMethods[t]=this._originalConsole[t]}function s(t){return void 0===t}function a(t){return"function"==typeof t}function l(t){return"[object String]"===F.toString.call(t)}function u(t){for(var e in t)return!1;return!0}function c(t,e){var n,i;if(s(t.length))for(n in t)p(t,n)&&e.call(null,n,t[n]);else if(i=t.length)for(n=0;i>n;n++)e.call(null,n,t[n])}function h(t,e){return e?(c(e,function(e,n){t[e]=n}),t):t}function f(t){return Object.isFrozen?Object.isFrozen(t):!1}function d(t,e){return!e||t.length<=e?t:t.substr(0,e)+"…"}function p(t,e){return F.hasOwnProperty.call(t,e)}function g(t){for(var e,n=[],i=0,r=t.length;r>i;i++)e=t[i],l(e)?n.push(e.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")):e&&e.source&&n.push(e.source);return new RegExp(n.join("|"),"i")}function m(t){var e=[];return c(t,function(t,n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}),e.join("&")}function v(t){var e=t.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};var n=e[6]||"",i=e[8]||"";return{protocol:e[2],host:e[4],path:e[5],relative:e[5]+n+i}}function y(){var t=D.crypto||D.msCrypto;if(!s(t)&&t.getRandomValues){var e=new Uint16Array(8);t.getRandomValues(e),e[3]=4095&e[3]|16384,e[4]=16383&e[4]|32768;var n=function(t){for(var e=t.toString(16);e.length<4;)e="0"+e;return e};return n(e[0])+n(e[1])+n(e[2])+n(e[3])+n(e[4])+n(e[5])+n(e[6])+n(e[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0,n="x"===t?e:3&e|8;return n.toString(16)})}function b(t){for(var e,n=5,i=80,r=[],o=0,s=0,a=" > ",l=a.length;t&&o++<n&&(e=w(t),!("html"===e||o>1&&s+r.length*l+e.length>=i));)r.push(e),s+=e.length,t=t.parentNode;return r.reverse().join(a)}function w(t){var e,n,i,r,o,s=[];if(!t||!t.tagName)return"";if(s.push(t.tagName.toLowerCase()),t.id&&s.push("#"+t.id),e=t.className,e&&l(e))for(n=e.split(/\s+/),o=0;o<n.length;o++)s.push("."+n[o]);
var a=["type","name","title","alt"];for(o=0;o<a.length;o++)i=a[o],r=t.getAttribute(i),r&&s.push("["+i+'="'+r+'"]');return s.join("")}function _(t,e){return!!(!!t^!!e)}function x(t,e){return _(t,e)?!1:(t=t.values[0],e=e.values[0],t.type!==e.type||t.value!==e.value?!1:k(t.stacktrace,e.stacktrace))}function k(t,e){if(_(t,e))return!1;var n=t.frames,i=e.frames;if(n.length!==i.length)return!1;for(var r,o,s=0;s<n.length;s++)if(r=n[s],o=i[s],r.filename!==o.filename||r.lineno!==o.lineno||r.colno!==o.colno||r["function"]!==o["function"])return!1;return!0}function C(t,e,n,i){var r=t[e];t[e]=n(r),i&&i.push([t,e,r])}var T=t(6),S=t(7),E=t(1),O=t(5),j=O.isError,P=O.isObject,N=t(2).wrapMethod,A="source protocol user pass host port path".split(" "),L=/^(?:(\w+):)?\/\/(?:(\w+)(:\w+)?@)?([\w\.-]+)(?::(\d+))?(\/.*)/,D="undefined"!=typeof window?window:"undefined"!=typeof n?n:"undefined"!=typeof self?self:{},I=D.document,M=D.navigator;o.prototype={VERSION:"3.17.0",debug:!1,TraceKit:T,config:function(t,e){var n=this;if(n._globalServer)return this._logDebug("error","Error: Raven has already been configured"),n;if(!t)return n;var i=n._globalOptions;e&&c(e,function(t,e){"tags"===t||"extra"===t||"user"===t?n._globalContext[t]=e:i[t]=e}),n.setDSN(t),i.ignoreErrors.push(/^Script error\.?$/),i.ignoreErrors.push(/^Javascript error: Script error\.? on line 0$/),i.ignoreErrors=g(i.ignoreErrors),i.ignoreUrls=i.ignoreUrls.length?g(i.ignoreUrls):!1,i.whitelistUrls=i.whitelistUrls.length?g(i.whitelistUrls):!1,i.includePaths=g(i.includePaths),i.maxBreadcrumbs=Math.max(0,Math.min(i.maxBreadcrumbs||100,100));var r={xhr:!0,console:!0,dom:!0,location:!0},o=i.autoBreadcrumbs;"[object Object]"==={}.toString.call(o)?o=h(r,o):o!==!1&&(o=r),i.autoBreadcrumbs=o;var s={tryCatch:!0},a=i.instrument;return"[object Object]"==={}.toString.call(a)?a=h(s,a):a!==!1&&(a=s),i.instrument=a,T.collectWindowErrors=!!i.collectWindowErrors,n},install:function(){var t=this;return t.isSetup()&&!t._isRavenInstalled&&(T.report.subscribe(function(){t._handleOnErrorStackInfo.apply(t,arguments)}),t._globalOptions.instrument&&t._globalOptions.instrument.tryCatch&&t._instrumentTryCatch(),t._globalOptions.autoBreadcrumbs&&t._instrumentBreadcrumbs(),t._drainPlugins(),t._isRavenInstalled=!0),Error.stackTraceLimit=t._globalOptions.stackTraceLimit,this},setDSN:function(t){var e=this,n=e._parseDSN(t),i=n.path.lastIndexOf("/"),r=n.path.substr(1,i);e._dsn=t,e._globalKey=n.user,e._globalSecret=n.pass&&n.pass.substr(1),e._globalProject=n.path.substr(i+1),e._globalServer=e._getGlobalServer(n),e._globalEndpoint=e._globalServer+"/"+r+"api/"+e._globalProject+"/store/",this._resetBackoff()},context:function(t,e,n){return a(t)&&(n=e||[],e=t,t=void 0),this.wrap(t,e).apply(this,n)},wrap:function(t,e,n){function i(){var i=[],o=arguments.length,s=!t||t&&t.deep!==!1;for(n&&a(n)&&n.apply(this,arguments);o--;)i[o]=s?r.wrap(t,arguments[o]):arguments[o];try{return e.apply(this,i)}catch(l){throw r._ignoreNextOnError(),r.captureException(l,t),l}}var r=this;if(s(e)&&!a(t))return t;if(a(t)&&(e=t,t=void 0),!a(e))return e;try{if(e.__raven__)return e;if(e.__raven_wrapper__)return e.__raven_wrapper__}catch(o){return e}for(var l in e)p(e,l)&&(i[l]=e[l]);return i.prototype=e.prototype,e.__raven_wrapper__=i,i.__raven__=!0,i.__inner__=e,i},uninstall:function(){return T.report.uninstall(),this._restoreBuiltIns(),Error.stackTraceLimit=this._originalErrorStackTraceLimit,this._isRavenInstalled=!1,this},captureException:function(t,e){if(!j(t))return this.captureMessage(t,h({trimHeadFrames:1,stacktrace:!0},e));this._lastCapturedException=t;try{var n=T.computeStackTrace(t);this._handleStackInfo(n,e)}catch(i){if(t!==i)throw i}return this},captureMessage:function(t,e){if(!this._globalOptions.ignoreErrors.test||!this._globalOptions.ignoreErrors.test(t)){e=e||{};var n=h({message:t+""},e);if(this._globalOptions.stacktrace||e&&e.stacktrace){var i;try{throw new Error(t)}catch(r){i=r}i.name=null,e=h({fingerprint:t,trimHeadFrames:(e.trimHeadFrames||0)+1},e);var o=T.computeStackTrace(i),s=this._prepareFrames(o,e);n.stacktrace={frames:s.reverse()}}return this._send(n),this}},captureBreadcrumb:function(t){var e=h({timestamp:i()/1e3},t);if(a(this._globalOptions.breadcrumbCallback)){var n=this._globalOptions.breadcrumbCallback(e);if(P(n)&&!u(n))e=n;else if(n===!1)return this}return this._breadcrumbs.push(e),this._breadcrumbs.length>this._globalOptions.maxBreadcrumbs&&this._breadcrumbs.shift(),this},addPlugin:function(t){var e=[].slice.call(arguments,1);return this._plugins.push([t,e]),this._isRavenInstalled&&this._drainPlugins(),this},setUserContext:function(t){return this._globalContext.user=t,this},setExtraContext:function(t){return this._mergeContext("extra",t),this},setTagsContext:function(t){return this._mergeContext("tags",t),this},clearContext:function(){return this._globalContext={},this},getContext:function(){return JSON.parse(S(this._globalContext))},setEnvironment:function(t){return this._globalOptions.environment=t,this},setRelease:function(t){return this._globalOptions.release=t,this},setDataCallback:function(t){var e=this._globalOptions.dataCallback;return this._globalOptions.dataCallback=r(e,t),this},setBreadcrumbCallback:function(t){var e=this._globalOptions.breadcrumbCallback;return this._globalOptions.breadcrumbCallback=r(e,t),this},setShouldSendCallback:function(t){var e=this._globalOptions.shouldSendCallback;return this._globalOptions.shouldSendCallback=r(e,t),this},setTransport:function(t){return this._globalOptions.transport=t,this},lastException:function(){return this._lastCapturedException},lastEventId:function(){return this._lastEventId},isSetup:function(){return this._hasJSON?this._globalServer?!0:(this.ravenNotConfiguredError||(this.ravenNotConfiguredError=!0,this._logDebug("error","Error: Raven has not been configured.")),!1):!1},afterLoad:function(){var t=D.RavenConfig;t&&this.config(t.dsn,t.config).install()},showReportDialog:function(t){if(I){t=t||{};var e=t.eventId||this.lastEventId();if(!e)throw new E("Missing eventId");var n=t.dsn||this._dsn;if(!n)throw new E("Missing DSN");var i=encodeURIComponent,r="";r+="?eventId="+i(e),r+="&dsn="+i(n);var o=t.user||this._globalContext.user;o&&(o.name&&(r+="&name="+i(o.name)),o.email&&(r+="&email="+i(o.email)));var s=this._getGlobalServer(this._parseDSN(n)),a=I.createElement("script");a.async=!0,a.src=s+"/api/embed/error-page/"+r,(I.head||I.body).appendChild(a)}},_ignoreNextOnError:function(){var t=this;this._ignoreOnError+=1,setTimeout(function(){t._ignoreOnError-=1})},_triggerEvent:function(t,e){var n,i;if(this._hasDocument){e=e||{},t="raven"+t.substr(0,1).toUpperCase()+t.substr(1),I.createEvent?(n=I.createEvent("HTMLEvents"),n.initEvent(t,!0,!0)):(n=I.createEventObject(),n.eventType=t);for(i in e)p(e,i)&&(n[i]=e[i]);if(I.createEvent)I.dispatchEvent(n);else try{I.fireEvent("on"+n.eventType.toLowerCase(),n)}catch(r){}}},_breadcrumbEventHandler:function(t){var e=this;return function(n){if(e._keypressTimeout=null,e._lastCapturedEvent!==n){e._lastCapturedEvent=n;var i;try{i=b(n.target)}catch(r){i="<unknown>"}e.captureBreadcrumb({category:"ui."+t,message:i})}}},_keypressEventHandler:function(){var t=this,e=1e3;return function(n){var i;try{i=n.target}catch(r){return}var o=i&&i.tagName;if(o&&("INPUT"===o||"TEXTAREA"===o||i.isContentEditable)){var s=t._keypressTimeout;s||t._breadcrumbEventHandler("input")(n),clearTimeout(s),t._keypressTimeout=setTimeout(function(){t._keypressTimeout=null},e)}}},_captureUrlChange:function(t,e){var n=v(this._location.href),i=v(e),r=v(t);this._lastHref=e,n.protocol===i.protocol&&n.host===i.host&&(e=i.relative),n.protocol===r.protocol&&n.host===r.host&&(t=r.relative),this.captureBreadcrumb({category:"navigation",data:{to:e,from:t}})},_instrumentTryCatch:function(){function t(t){return function(){for(var e=new Array(arguments.length),i=0;i<e.length;++i)e[i]=arguments[i];var r=e[0];return a(r)&&(e[0]=n.wrap(r)),t.apply?t.apply(this,e):t(e[0],e[1])}}function e(t){var e=D[t]&&D[t].prototype;e&&e.hasOwnProperty&&e.hasOwnProperty("addEventListener")&&(C(e,"addEventListener",function(e){return function(i,o,s,a){try{o&&o.handleEvent&&(o.handleEvent=n.wrap(o.handleEvent))}catch(l){}var u,c,h;return r&&r.dom&&("EventTarget"===t||"Node"===t)&&(c=n._breadcrumbEventHandler("click"),h=n._keypressEventHandler(),u=function(t){if(t){var e;try{e=t.type}catch(n){return}return"click"===e?c(t):"keypress"===e?h(t):void 0}}),e.call(this,i,n.wrap(o,void 0,u),s,a)}},i),C(e,"removeEventListener",function(t){return function(e,n,i,r){try{n=n&&(n.__raven_wrapper__?n.__raven_wrapper__:n)}catch(o){}return t.call(this,e,n,i,r)}},i))}var n=this,i=n._wrappedBuiltIns,r=this._globalOptions.autoBreadcrumbs;C(D,"setTimeout",t,i),C(D,"setInterval",t,i),D.requestAnimationFrame&&C(D,"requestAnimationFrame",function(t){return function(e){return t(n.wrap(e))}},i);for(var o=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],s=0;s<o.length;s++)e(o[s])},_instrumentBreadcrumbs:function(){function t(t,n){t in n&&a(n[t])&&C(n,t,function(t){return e.wrap(t)})}var e=this,n=this._globalOptions.autoBreadcrumbs,i=e._wrappedBuiltIns;if(n.xhr&&"XMLHttpRequest"in D){var r=XMLHttpRequest.prototype;C(r,"open",function(t){return function(n,i){return l(i)&&-1===i.indexOf(e._globalKey)&&(this.__raven_xhr={method:n,url:i,status_code:null}),t.apply(this,arguments)}},i),C(r,"send",function(n){return function(){function i(){if(r.__raven_xhr&&(1===r.readyState||4===r.readyState)){try{r.__raven_xhr.status_code=r.status}catch(t){}e.captureBreadcrumb({type:"http",category:"xhr",data:r.__raven_xhr})}}for(var r=this,o=["onload","onerror","onprogress"],s=0;s<o.length;s++)t(o[s],r);return"onreadystatechange"in r&&a(r.onreadystatechange)?C(r,"onreadystatechange",function(t){return e.wrap(t,void 0,i)}):r.onreadystatechange=i,n.apply(this,arguments)}},i)}n.xhr&&"fetch"in D&&C(D,"fetch",function(t){return function(){for(var n=new Array(arguments.length),i=0;i<n.length;++i)n[i]=arguments[i];var r,o=n[0],s="GET";"string"==typeof o?r=o:(r=o.url,o.method&&(s=o.method)),n[1]&&n[1].method&&(s=n[1].method);var a={method:s,url:r,status_code:null};return e.captureBreadcrumb({type:"http",category:"fetch",data:a}),t.apply(this,n).then(function(t){return a.status_code=t.status,t})}},i),n.dom&&this._hasDocument&&(I.addEventListener?(I.addEventListener("click",e._breadcrumbEventHandler("click"),!1),I.addEventListener("keypress",e._keypressEventHandler(),!1)):(I.attachEvent("onclick",e._breadcrumbEventHandler("click")),I.attachEvent("onkeypress",e._keypressEventHandler())));var o=D.chrome,s=o&&o.app&&o.app.runtime,u=!s&&D.history&&history.pushState;if(n.location&&u){var h=D.onpopstate;D.onpopstate=function(){var t=e._location.href;return e._captureUrlChange(e._lastHref,t),h?h.apply(this,arguments):void 0},C(history,"pushState",function(t){return function(){var n=arguments.length>2?arguments[2]:void 0;return n&&e._captureUrlChange(e._lastHref,n+""),t.apply(this,arguments)}},i)}if(n.console&&"console"in D&&console.log){var f=function(t,n){e.captureBreadcrumb({message:t,level:n.level,category:"console"})};c(["debug","info","warn","error","log"],function(t,e){N(console,e,f)})}},_restoreBuiltIns:function(){for(var t;this._wrappedBuiltIns.length;){t=this._wrappedBuiltIns.shift();var e=t[0],n=t[1],i=t[2];e[n]=i}},_drainPlugins:function(){var t=this;c(this._plugins,function(e,n){var i=n[0],r=n[1];i.apply(t,[t].concat(r))})},_parseDSN:function(t){var e=L.exec(t),n={},i=7;try{for(;i--;)n[A[i]]=e[i]||""}catch(r){throw new E("Invalid DSN: "+t)}if(n.pass&&!this._globalOptions.allowSecretKey)throw new E("Do not specify your secret key in the DSN. See: http://bit.ly/raven-secret-key");return n},_getGlobalServer:function(t){var e="//"+t.host+(t.port?":"+t.port:"");return t.protocol&&(e=t.protocol+":"+e),e},_handleOnErrorStackInfo:function(){this._ignoreOnError||this._handleStackInfo.apply(this,arguments)},_handleStackInfo:function(t,e){var n=this._prepareFrames(t,e);this._triggerEvent("handle",{stackInfo:t,options:e}),this._processException(t.name,t.message,t.url,t.lineno,n,e)},_prepareFrames:function(t,e){var n=this,i=[];if(t.stack&&t.stack.length&&(c(t.stack,function(t,e){var r=n._normalizeFrame(e);r&&i.push(r)}),e&&e.trimHeadFrames))for(var r=0;r<e.trimHeadFrames&&r<i.length;r++)i[r].in_app=!1;return i=i.slice(0,this._globalOptions.stackTraceLimit)},_normalizeFrame:function(t){if(t.url){var e={filename:t.url,lineno:t.line,colno:t.column,"function":t.func||"?"};return e.in_app=!(this._globalOptions.includePaths.test&&!this._globalOptions.includePaths.test(e.filename)||/(Raven|TraceKit)\./.test(e["function"])||/raven\.(min\.)?js$/.test(e.filename)),e}},_processException:function(t,e,n,i,r,o){var s;if(!(this._globalOptions.ignoreErrors.test&&this._globalOptions.ignoreErrors.test(e)||(e+="",r&&r.length?(n=r[0].filename||n,r.reverse(),s={frames:r}):n&&(s={frames:[{filename:n,lineno:i,in_app:!0}]}),this._globalOptions.ignoreUrls.test&&this._globalOptions.ignoreUrls.test(n)||this._globalOptions.whitelistUrls.test&&!this._globalOptions.whitelistUrls.test(n)))){var a=h({exception:{values:[{type:t,value:e,stacktrace:s}]},culprit:n},o);this._send(a)}},_trimPacket:function(t){var e=this._globalOptions.maxMessageLength;if(t.message&&(t.message=d(t.message,e)),t.exception){var n=t.exception.values[0];n.value=d(n.value,e)}var i=t.request;return i&&(i.url&&(i.url=d(i.url,this._globalOptions.maxUrlLength)),i.Referer&&(i.Referer=d(i.Referer,this._globalOptions.maxUrlLength))),t.breadcrumbs&&t.breadcrumbs.values&&this._trimBreadcrumbs(t.breadcrumbs),t},_trimBreadcrumbs:function(t){for(var e,n,i,r=["to","from","url"],o=0;o<t.values.length;++o)if(n=t.values[o],n.hasOwnProperty("data")&&P(n.data)&&!f(n.data)){i=h({},n.data);for(var s=0;s<r.length;++s)e=r[s],i.hasOwnProperty(e)&&(i[e]=d(i[e],this._globalOptions.maxUrlLength));t.values[o].data=i}},_getHttpData:function(){if(this._hasNavigator||this._hasDocument){var t={};return this._hasNavigator&&M.userAgent&&(t.headers={"User-Agent":navigator.userAgent}),this._hasDocument&&(I.location&&I.location.href&&(t.url=I.location.href),I.referrer&&(t.headers||(t.headers={}),t.headers.Referer=I.referrer)),t}},_resetBackoff:function(){this._backoffDuration=0,this._backoffStart=null},_shouldBackoff:function(){return this._backoffDuration&&i()-this._backoffStart<this._backoffDuration},_isRepeatData:function(t){var e=this._lastData;return e&&t.message===e.message&&t.culprit===e.culprit?t.stacktrace||e.stacktrace?k(t.stacktrace,e.stacktrace):t.exception||e.exception?x(t.exception,e.exception):!0:!1},_setBackoffState:function(t){if(!this._shouldBackoff()){var e=t.status;if(400===e||401===e||429===e){var n;try{n=t.getResponseHeader("Retry-After"),n=1e3*parseInt(n,10)}catch(r){}this._backoffDuration=n?n:2*this._backoffDuration||1e3,this._backoffStart=i()}}},_send:function(t){var e=this._globalOptions,n={project:this._globalProject,logger:e.logger,platform:"javascript"},r=this._getHttpData();return r&&(n.request=r),t.trimHeadFrames&&delete t.trimHeadFrames,t=h(n,t),t.tags=h(h({},this._globalContext.tags),t.tags),t.extra=h(h({},this._globalContext.extra),t.extra),t.extra["session:duration"]=i()-this._startTime,this._breadcrumbs&&this._breadcrumbs.length>0&&(t.breadcrumbs={values:[].slice.call(this._breadcrumbs,0)}),u(t.tags)&&delete t.tags,this._globalContext.user&&(t.user=this._globalContext.user),e.environment&&(t.environment=e.environment),e.release&&(t.release=e.release),e.serverName&&(t.server_name=e.serverName),a(e.dataCallback)&&(t=e.dataCallback(t)||t),!t||u(t)||a(e.shouldSendCallback)&&!e.shouldSendCallback(t)?void 0:this._shouldBackoff()?void this._logDebug("warn","Raven dropped error due to backoff: ",t):void("number"==typeof e.sampleRate?Math.random()<e.sampleRate&&this._sendProcessedPayload(t):this._sendProcessedPayload(t))},_getUuid:function(){return y()},_sendProcessedPayload:function(t,e){var n=this,i=this._globalOptions;if(this.isSetup()){if(this._lastEventId=t.event_id||(t.event_id=this._getUuid()),t=this._trimPacket(t),!this._globalOptions.allowDuplicates&&this._isRepeatData(t))return void this._logDebug("warn","Raven dropped repeat event: ",t);this._lastData=t,this._logDebug("debug","Raven about to send:",t);var r={sentry_version:"7",sentry_client:"raven-js/"+this.VERSION,sentry_key:this._globalKey};this._globalSecret&&(r.sentry_secret=this._globalSecret);var o=t.exception&&t.exception.values[0];this.captureBreadcrumb({category:"sentry",message:o?(o.type?o.type+": ":"")+o.value:t.message,event_id:t.event_id,level:t.level||"error"});var s=this._globalEndpoint;(i.transport||this._makeRequest).call(this,{url:s,auth:r,data:t,options:i,onSuccess:function(){n._resetBackoff(),n._triggerEvent("success",{data:t,src:s}),e&&e()},onError:function(i){n._logDebug("error","Raven transport failed to send: ",i),i.request&&n._setBackoffState(i.request),n._triggerEvent("failure",{data:t,src:s}),i=i||new Error("Raven send failed (no additional details provided)"),e&&e(i)}})}},_makeRequest:function(t){var e=new XMLHttpRequest,n="withCredentials"in e||"undefined"!=typeof XDomainRequest;if(n){var i=t.url;"withCredentials"in e?e.onreadystatechange=function(){if(4===e.readyState)if(200===e.status)t.onSuccess&&t.onSuccess();else if(t.onError){var n=new Error("Sentry error code: "+e.status);n.request=e,t.onError(n)}}:(e=new XDomainRequest,i=i.replace(/^https?:/,""),t.onSuccess&&(e.onload=t.onSuccess),t.onError&&(e.onerror=function(){var n=new Error("Sentry error code: XDomainRequest");n.request=e,t.onError(n)})),e.open("POST",i+"?"+m(t.auth)),e.send(S(t.data))}},_logDebug:function(t){this._originalConsoleMethods[t]&&this.debug&&Function.prototype.apply.call(this._originalConsoleMethods[t],this._originalConsole,[].slice.call(arguments,1))},_mergeContext:function(t,e){s(e)?delete this._globalContext[t]:this._globalContext[t]=h(this._globalContext[t]||{},e)}};var F=Object.prototype;"undefined"!=typeof __DEV__&&__DEV__&&(o.utils={isUndefined:s,isFunction:a,isString:l,isObject:P,isEmptyObject:u,isError:j,each:c,objectMerge:h,truncate:d,hasKey:p,joinRegExp:g,urlencode:m,uuid4:y,htmlTreeAsString:b,htmlElementAsString:w,parseUrl:v,fill:C}),o.prototype.setUser=o.prototype.setUserContext,o.prototype.setReleaseContext=o.prototype.setRelease,e.exports=o}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{1:1,2:2,5:5,6:6,7:7}],4:[function(t,e){(function(n){"use strict";var i=t(3),r="undefined"!=typeof window?window:"undefined"!=typeof n?n:"undefined"!=typeof self?self:{},o=r.Raven,s=new i;s.noConflict=function(){return r.Raven=o,s},s.afterLoad(),e.exports=s}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{3:3}],5:[function(t,e){"use strict";function n(t){return"object"==typeof t&&null!==t}function i(t){switch({}.toString.call(t)){case"[object Error]":return!0;case"[object Exception]":return!0;case"[object DOMException]":return!0;default:return t instanceof Error}}function r(t){function e(e,n){var i=t(e)||e;return n?n(i)||i:i}return e}e.exports={isObject:n,isError:i,wrappedCallback:r}},{}],6:[function(t,e){(function(n){"use strict";function i(){return"undefined"==typeof document||"undefined"==typeof document.location?"":document.location.href}var r=t(5),o={collectWindowErrors:!0,debug:!1},s="undefined"!=typeof window?window:"undefined"!=typeof n?n:"undefined"!=typeof self?self:{},a=[].slice,l="?",u=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/;o.report=function(){function t(t){f(),y.push(t)}function e(t){for(var e=y.length-1;e>=0;--e)y[e]===t&&y.splice(e,1)}function n(){d(),y=[]}function c(t,e){var n=null;if(!e||o.collectWindowErrors){for(var i in y)if(y.hasOwnProperty(i))try{y[i].apply(null,[t].concat(a.call(arguments,2)))}catch(r){n=r}if(n)throw n}}function h(t,e,n,s,a){var h=null;if(_)o.computeStackTrace.augmentStackTraceWithInitialElement(_,e,n,t),p();else if(a&&r.isError(a))h=o.computeStackTrace(a),c(h,!0);else{var f,d={url:e,line:n,column:s},g=void 0,v=t;if("[object String]"==={}.toString.call(t)){var f=t.match(u);f&&(g=f[1],v=f[2])}d.func=l,h={name:g,message:v,url:i(),stack:[d]},c(h,!0)}return m?m.apply(this,arguments):!1}function f(){v||(m=s.onerror,s.onerror=h,v=!0)}function d(){v&&(s.onerror=m,v=!1,m=void 0)}function p(){var t=_,e=b;b=null,_=null,w=null,c.apply(null,[t,!1].concat(e))}function g(t,e){var n=a.call(arguments,1);if(_){if(w===t)return;p()}var i=o.computeStackTrace(t);if(_=i,w=t,b=n,setTimeout(function(){w===t&&p()},i.incomplete?2e3:0),e!==!1)throw t}var m,v,y=[],b=null,w=null,_=null;return g.subscribe=t,g.unsubscribe=e,g.uninstall=n,g}(),o.computeStackTrace=function(){function t(t){if("undefined"!=typeof t.stack&&t.stack){for(var e,n,r,o=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,s=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,a=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,u=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,c=/\((\S*)(?::(\d+))(?::(\d+))\)/,h=t.stack.split("\n"),f=[],d=(/^(.*) is undefined$/.exec(t.message),0),p=h.length;p>d;++d){if(n=o.exec(h[d])){var g=n[2]&&0===n[2].indexOf("native"),m=n[2]&&0===n[2].indexOf("eval");m&&(e=c.exec(n[2]))&&(n[2]=e[1],n[3]=e[2],n[4]=e[3]),r={url:g?null:n[2],func:n[1]||l,args:g?[n[2]]:[],line:n[3]?+n[3]:null,column:n[4]?+n[4]:null}}else if(n=a.exec(h[d]))r={url:n[2],func:n[1]||l,args:[],line:+n[3],column:n[4]?+n[4]:null};else{if(!(n=s.exec(h[d])))continue;var m=n[3]&&n[3].indexOf(" > eval")>-1;m&&(e=u.exec(n[3]))?(n[3]=e[1],n[4]=e[2],n[5]=null):0!==d||n[5]||"undefined"==typeof t.columnNumber||(f[0].column=t.columnNumber+1),r={url:n[3],func:n[1]||l,args:n[2]?n[2].split(","):[],line:n[4]?+n[4]:null,column:n[5]?+n[5]:null}}!r.func&&r.line&&(r.func=l),f.push(r)}return f.length?{name:t.name,message:t.message,url:i(),stack:f}:null}}function e(t,e,n){var i={url:e,line:n};if(i.url&&i.line){if(t.incomplete=!1,i.func||(i.func=l),t.stack.length>0&&t.stack[0].url===i.url){if(t.stack[0].line===i.line)return!1;if(!t.stack[0].line&&t.stack[0].func===i.func)return t.stack[0].line=i.line,!1}return t.stack.unshift(i),t.partial=!0,!0}return t.incomplete=!0,!1}function n(t,s){for(var a,u,c=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,h=[],f={},d=!1,p=n.caller;p&&!d;p=p.caller)if(p!==r&&p!==o.report){if(u={url:null,func:l,line:null,column:null},p.name?u.func=p.name:(a=c.exec(p.toString()))&&(u.func=a[1]),"undefined"==typeof u.func)try{u.func=a.input.substring(0,a.input.indexOf("{"))}catch(g){}f[""+p]?d=!0:f[""+p]=!0,h.push(u)}s&&h.splice(0,s);var m={name:t.name,message:t.message,url:i(),stack:h};return e(m,t.sourceURL||t.fileName,t.line||t.lineNumber,t.message||t.description),m}function r(e,r){var s=null;r=null==r?0:+r;try{if(s=t(e))return s}catch(a){if(o.debug)throw a}try{if(s=n(e,r+1))return s}catch(a){if(o.debug)throw a}return{name:e.name,message:e.message,url:i()}}return r.augmentStackTraceWithInitialElement=e,r.computeStackTraceFromStackProp=t,r}(),e.exports=o}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{5:5}],7:[function(t,e,n){"use strict";function i(t,e){for(var n=0;n<t.length;++n)if(t[n]===e)return n;return-1}function r(t,e,n,i){return JSON.stringify(t,o(e,i),n)}function o(t,e){var n=[],r=[];return null==e&&(e=function(t,e){return n[0]===e?"[Circular ~]":"[Circular ~."+r.slice(0,i(n,e)).join(".")+"]"}),function(o,s){if(n.length>0){var a=i(n,this);~a?n.splice(a+1):n.push(this),~a?r.splice(a,1/0,o):r.push(o),~i(n,s)&&(s=e.call(this,o,s))}else n.push(s);return null==t?s:t.call(this,o,s)}}n=e.exports=r,n.getSerialize=o},{}]},{},[4])(4)});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZGVybml6ci0yLjguMy1zaGl2LWxvYWQuanMiLCJqcXVlcnkuanMiLCJsb2Rhc2guY29tcGF0LmpzIiwiY29yZS5qcyIsIndpZGdldC5qcyIsIm1vdXNlLmpzIiwic29ydGFibGUuanMiLCJqcy5jb29raWUuanMiLCJqcXVlcnkuYmEtZG90aW1lb3V0LmpzIiwianF1ZXJ5Lm9lbWJlZC5qcyIsImltYWdlc2xvYWRlZC5wa2dkLmpzIiwianF1ZXJ5LmVtYmVkbHkuanMiLCJqcXVlcnkudGltZWFnby5qcyIsImFsZXJ0LmpzIiwiY2Fyb3VzZWwuanMiLCJjb2xsYXBzZS5qcyIsImRyb3Bkb3duLmpzIiwibW9kYWwuanMiLCJ0YWIuanMiLCJ0b29sdGlwLmpzIiwidHJhbnNpdGlvbi5qcyIsInR5cGVhaGVhZC5qcXVlcnkuanMiLCJpMThuZXh0LmpzIiwiaW5oZXJpdGFuY2UuanMiLCJoYW5kbGViYXJzLnJ1bnRpbWUuanMiLCJtYXJrZG93bi5qcyIsInNvdW5kbWFuYWdlcjItbm9kZWJ1Zy5qcyIsInZpZGVvLmpzIiwiYWpheHVwbG9hZGVyLmpzIiwibWl0aHJpbC5qcyIsInNwcmludGYuanMiLCJyYXZlbi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFHQSxPQUFBLFVBQUEsU0FBQSxFQUFBLEVBQUEsR0FBQSxRQUFBLEdBQUEsR0FBQSxFQUFBLFFBQUEsRUFBQSxRQUFBLEdBQUEsRUFBQSxHQUFBLGFBQUEsS0FBQSxFQUFBLFFBQUEsS0FBQSxFQUFBLE1BQUEsU0FBQSxHQUFBLElBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLE9BQUEsRUFBQSxFQUFBLElBQUEsRUFBQSxFQUFBLElBQUEsRUFBQSxJQUFBLEVBQUEsT0FBQSxHQUFBLE9BQUEsRUFBQSxPQUFBLEVBQUEsY0FBQSxlQUFBLEVBQUEscUJBQUEsR0FBQSxpRkFBQSxNQUFBLE1BQUEsRUFBQSxXQUFBLFNBQUEsR0FBQSxJQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLEVBQUEsRUFBQSxJQUFBLEVBQUEsYUFBQSxPQUFBLEVBQUEsRUFBQSxJQUFBLEVBQUEsU0FBQSxFQUFBLEtBQUEsSUFBQSxFQUFBLE1BQUEsRUFBQSxFQUFBLE1BQUEsUUFBQSx1Q0FBQSxVQUFBLEtBQUEsSUFBQSxFQUFBLE1BQUEsbUJBQUEsR0FBQSxFQUFBLFlBQUEsR0FBQSxFQUFBLEVBQUEsWUFBQSxFQUFBLEVBQUEsa0JBQUEsY0FBQSxFQUFBLGlCQUFBLEVBQUEsTUFBQSxrQkFBQSxJQUFBLEVBQUEsYUFBQSxFQUFBLFlBQUEsSUFBQSxpQkFBQSxLQUFBLEtBQUEsRUFBQSxnQkFBQSxLQUFBLEdBQUEsRUFBQSxlQUFBLEVBQUEsbUJBQUEsRUFBQSxFQUFBLE9BQUEsSUFBQSxFQUFBLEVBQUEsTUFBQSxDQUFBLE9BQUEsSUFBQSx1RkFBQSxNQUFBLE1BQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxRQUFBLEtBQUEsRUFBQSxFQUFBLGdCQUFBLEVBQUEsWUFBQSxFQUFBLEVBQUEsY0FBQSxHQUFBLEVBQUEsRUFBQSxNQUFBLEVBQUEsRUFBQSxjQUFBLFNBQUEsRUFBQSxLQUFBLE1BQUEsU0FBQSw0QkFBQSxNQUFBLE1BQUEsS0FBQSxLQUFBLEtBQUEsS0FBQSxFQUFBLEVBQUEsTUFBQSxFQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLGNBQUEsT0FBQSxFQUFBLEVBQUEsS0FBQSxFQUFBLEdBQUEsRUFBQSxjQUFBLE9BQUEsSUFBQSxTQUFBLEVBQUEsSUFBQSxLQUFBLEtBQUEsRUFBQSxFQUFBLGNBQUEsT0FBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQSxZQUFBLEVBQUEsT0FBQSxJQUFBLFNBQUEsZUFBQSxFQUFBLEtBQUEsRUFBQSxZQUFBLEtBQUEsSUFBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxXQUFBLEVBQUEsRUFBQSxZQUFBLEdBQUEsSUFBQSxFQUFBLE1BQUEsV0FBQSxHQUFBLEVBQUEsTUFBQSxTQUFBLFNBQUEsRUFBQSxFQUFBLE1BQUEsU0FBQSxFQUFBLE1BQUEsU0FBQSxTQUFBLEVBQUEsWUFBQSxJQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLFdBQUEsWUFBQSxJQUFBLEVBQUEsV0FBQSxZQUFBLEdBQUEsRUFBQSxNQUFBLFNBQUEsS0FBQSxHQUFBLEtBQUEsY0FBQSxHQUFBLEVBQUEsRUFBQSxjQUFBLEVBQUEsRUFBQSxLQUFBLGFBQUEsU0FBQSxFQUFBLEdBQUEsTUFBQSxLQUFBLElBQUEsRUFBQSxFQUFBLFlBQUEsVUFBQSxHQUFBLGNBQUEsU0FBQSxFQUFBLEdBQUEsTUFBQSxHQUFBLEtBQUEsRUFBQSxJQUFBLFNBQUEsVUFBQSxPQUFBLFNBQUEsVUFBQSxLQUFBLFNBQUEsR0FBQSxHQUFBLEdBQUEsSUFBQSxJQUFBLGtCQUFBLEdBQUEsS0FBQSxJQUFBLFVBQUEsSUFBQSxHQUFBLEVBQUEsS0FBQSxVQUFBLEdBQUEsRUFBQSxXQUFBLEdBQUEsZUFBQSxHQUFBLENBQUEsR0FBQSxHQUFBLFlBQUEsR0FBQSxVQUFBLEVBQUEsU0FBQSxJQUFBLEdBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxNQUFBLEVBQUEsRUFBQSxPQUFBLEVBQUEsS0FBQSxZQUFBLE9BQUEsUUFBQSxLQUFBLEVBQUEsRUFBQSxFQUFBLE1BQUEsR0FBQSxNQUFBLEVBQUEsRUFBQSxPQUFBLEVBQUEsS0FBQSxhQUFBLE9BQUEsS0FBQSxFQUFBLE1BQUEsV0FBQSxHQUFBLEVBQUEsT0FBQSxnQkFBQSxJQUFBLEVBQUEsZUFBQSxZQUFBLGVBQUEsR0FBQSxFQUFBLEdBQUEsV0FBQSxFQUFBLEtBQUEsb0JBQUEsRUFBQSxJQUFBLDJDQUFBLEtBQUEsSUFBQSxTQUFBLEdBQUEsRUFBQSxJQUFBLEVBQUEsWUFBQSxFQUFBLEtBQUEsR0FBQSxLQUFBLEdBQUEsRUFBQSxFQUFBLEtBQUEsRUFBQSxFQUFBLGNBQUEsRUFBQSxHQUFBLEVBQUEsS0FBQSxFQUFBLE1BQUEsRUFBQSxHQUFBLEdBQUEsT0FBQSxHQUFBLE9BQUEsR0FBQSxPQUFBLElBQUEsRUFBQSxRQUFBLFNBQUEsRUFBQSxHQUFBLEdBQUEsZ0JBQUEsR0FBQSxJQUFBLEdBQUEsS0FBQSxHQUFBLEVBQUEsRUFBQSxJQUFBLEVBQUEsUUFBQSxFQUFBLEVBQUEsUUFBQSxDQUFBLEdBQUEsRUFBQSxFQUFBLGNBQUEsRUFBQSxLQUFBLEVBQUEsTUFBQSxFQUFBLEdBQUEsa0JBQUEsR0FBQSxJQUFBLEVBQUEsbUJBQUEsZ0JBQUEsZ0JBQUEsRUFBQSxXQUFBLEtBQUEsRUFBQSxHQUFBLE9BQUEsR0FBQSxFQUFBLEdBQUEsRUFBQSxNQUFBLElBQUEsRUFBQSxJQUFBLEVBQUEsRUFBQSxLQUFBLFNBQUEsRUFBQSxHQUFBLFFBQUEsR0FBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLEVBQUEsY0FBQSxLQUFBLEVBQUEsRUFBQSxxQkFBQSxRQUFBLElBQUEsRUFBQSxlQUFBLE9BQUEsR0FBQSxVQUFBLFdBQUEsRUFBQSxXQUFBLEVBQUEsYUFBQSxFQUFBLFVBQUEsRUFBQSxZQUFBLFFBQUEsS0FBQSxHQUFBLEdBQUEsRUFBQSxRQUFBLE9BQUEsZ0JBQUEsR0FBQSxFQUFBLE1BQUEsS0FBQSxFQUFBLFFBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxPQUFBLEtBQUEsS0FBQSxJQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxHQUFBLEVBQUEsUUFBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsSUFBQSxFQUFBLEdBQUEsRUFBQSxNQUFBLEdBQUEsY0FBQSxFQUFBLEtBQUEsRUFBQSxFQUFBLEdBQUEsSUFBQSxFQUFBLE9BQUEsR0FBQSxFQUFBLE1BQUEsR0FBQSxFQUFBLE1BQUEsR0FBQSxZQUFBLEVBQUEsS0FBQSxJQUFBLEVBQUEsTUFBQSxHQUFBLEVBQUEsV0FBQSxJQUFBLFlBQUEsRUFBQSxXQUFBLElBQUEsRUFBQSxpQkFBQSxFQUFBLEtBQUEsSUFBQSxFQUFBLE9BQUEsRUFBQSxFQUFBLEtBQUEsWUFBQSxHQUFBLFFBQUEsR0FBQSxFQUFBLEdBQUEsR0FBQSxJQUFBLEVBQUEsR0FBQSxFQUFBLE1BQUEsR0FBQSx3QkFBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEtBQUEsR0FBQSxHQUFBLEVBQUEsS0FBQSxZQUFBLEVBQUEsRUFBQSxFQUFBLElBQUEsRUFBQSxFQUFBLE9BQUEsRUFBQSxFQUFBLElBQUEsRUFBQSxjQUFBLEVBQUEsR0FBQSxPQUFBLEdBQUEsUUFBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLFFBQUEsRUFBQSxTQUFBLEVBQUEsV0FBQSxFQUFBLGNBQUEsRUFBQSxXQUFBLEVBQUEsdUJBQUEsRUFBQSxLQUFBLEVBQUEsY0FBQSxFQUFBLGNBQUEsU0FBQSxHQUFBLE1BQUEsR0FBQSxZQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxXQUFBLElBQUEsRUFBQSx1QkFBQSxTQUFBLE1BQUEsMkVBQUEsSUFBQSxPQUFBLFFBQUEsV0FBQSxTQUFBLEdBQUEsTUFBQSxHQUFBLFdBQUEsR0FBQSxFQUFBLEtBQUEsY0FBQSxHQUFBLE1BQUEsRUFBQSxPQUFBLGVBQUEsRUFBQSxFQUFBLE1BQUEsUUFBQSxHQUFBLEdBQUEsSUFBQSxFQUFBLEVBQUEsSUFBQSxHQUFBLEVBQUEsRUFBQSxPQUFBLEdBQUEsVUFBQSxJQUFBLEVBQUEsU0FBQSxFQUFBLFNBQUEsRUFBQSxFQUFBLHNKQUFBLEdBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLFFBQUEsRUFBQSxFQUFBLFVBQUEsRUFBQSxxRUFBQSxFQUFBLDZHQUFBLEVBQUEsYUFBQSxFQUFBLEVBQUEsTUFBQSxXQUFBLElBQUEsR0FBQSxHQUFBLEVBQUEsY0FBQSxJQUFBLEdBQUEsVUFBQSxjQUFBLEVBQUEsVUFBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLFdBQUEsUUFBQSxXQUFBLEVBQUEsY0FBQSxJQUFBLElBQUEsR0FBQSxFQUFBLHdCQUFBLE9BQUEsbUJBQUEsR0FBQSxXQUFBLG1CQUFBLEdBQUEsd0JBQUEsbUJBQUEsR0FBQSxpQkFBQSxNQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxJQUFBLElBQUEsU0FBQSxFQUFBLFVBQUEsa0xBQUEsUUFBQSxFQUFBLFFBQUEsRUFBQSxXQUFBLEVBQUEsd0JBQUEsRUFBQSxZQUFBLEVBQUEsZUFBQSxFQUFBLEtBQUEsVUFBQSxhQUFBLEVBQUEsY0FBQSxFQUFBLHVCQUFBLEVBQUEsR0FBQSxNQUFBLEVBQUEsRUFBQSxJQUFBLEtBQUEsR0FBQSxFQUFBLFNBQUEsRUFBQSxFQUFBLFVBQUEsRUFBQSxFQUFBLFdBQUEsRUFBQSxHQUFBLEtBQUEsS0FBQSxVQUFBLFNBQUEsRUFBQSxFQUFBLEdBQUEsUUFBQSxHQUFBLEdBQUEsTUFBQSxxQkFBQSxFQUFBLEtBQUEsR0FBQSxRQUFBLEdBQUEsR0FBQSxNQUFBLGdCQUFBLEdBQUEsUUFBQSxNQUFBLFFBQUEsR0FBQSxHQUFBLE9BQUEsR0FBQSxVQUFBLEdBQUEsWUFBQSxHQUFBLGlCQUFBLEVBQUEsUUFBQSxLQUFBLEdBQUEsR0FBQSxFQUFBLE9BQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsWUFBQSxLQUFBLEVBQUEsRUFBQSxFQUFBLFVBQUEsRUFBQSxVQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLElBQUEsSUFBQSxJQUFBLEtBQUEsRUFBQSxFQUFBLFFBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLFFBQUEsR0FBQSxHQUFBLElBQUEsR0FBQSxFQUFBLEVBQUEsY0FBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsSUFBQSxFQUFBLE9BQUEsRUFBQSxtQkFBQSxLQUFBLEdBQUEsQ0FBQSxPQUFBLEdBQUEsRUFBQSxXQUFBLEVBQUEsWUFBQSxJQUFBLEdBQUEsS0FBQSxHQUFBLEtBQUEsR0FBQSxHQUFBLEVBQUEsR0FBQSxlQUFBLElBQUEsRUFBQSxHQUFBLEdBQUEsVUFBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLGFBQUEsRUFBQSxFQUFBLGNBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxLQUFBLEVBQUEsS0FBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLFVBQUEsRUFBQSxFQUFBLEtBQUEsR0FBQSxFQUFBLElBQUEsRUFBQSxFQUFBLEtBQUEsR0FBQSxFQUFBLE1BQUEsRUFBQSxPQUFBLElBQUEsRUFBQSxRQUFBLEVBQUEsT0FBQSxFQUFBLG1CQUFBLFdBQUEsRUFBQSxLQUFBLEtBQUEsSUFBQSxFQUFBLE9BQUEsRUFBQSxFQUFBLEdBQUEsT0FBQSxJQUFBLEdBQUEsSUFBQSxFQUFBLElBQUEsRUFBQSxhQUFBLEVBQUEsRUFBQSxLQUFBLEdBQUEsRUFBQSxFQUFBLElBQUEsRUFBQSxHQUFBLEtBQUEsSUFBQSxRQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLE1BQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxJQUFBLEVBQUEsR0FBQSxFQUFBLEtBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEtBQUEsSUFBQSxFQUFBLEVBQUEsSUFBQSxFQUFBLE9BQUEsS0FBQSxJQUFBLEVBQUEsR0FBQSxHQUFBLEVBQUEsUUFBQSxLQUFBLEtBQUEsUUFBQSxLQUFBLEdBQUEsR0FBQSxDQUFBLE9BQUEsR0FBQSxRQUFBLEtBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsZ0JBQUEsRUFBQSxFQUFBLFdBQUEsRUFBQSxFQUFBLHFCQUFBLFVBQUEsR0FBQSxLQUFBLFNBQUEsS0FBQSxFQUFBLEVBQUEsRUFBQSxpQkFBQSxHQUFBLE1BQUEsRUFBQSxLQUFBLEVBQUEsY0FBQSxZQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsV0FBQSxFQUFBLEVBQUEsT0FBQSxrQkFBQSxFQUFBLEtBQUEsRUFBQSxPQUFBLElBQUEsRUFBQSxjQUFBLEVBQUEsRUFBQSxFQUFBLFNBQUEsRUFBQSxTQUFBLE1BQUEsRUFBQSxFQUFBLFNBQUEsRUFBQSxFQUFBLE1BQUEsU0FBQSxTQUFBLEdBQUEsTUFBQSxrQkFBQSxFQUFBLEtBQUEsSUFBQSxLQUFBLEtBQUEsR0FBQSxRQUFBLFNBQUEsRUFBQSxHQUFBLE1BQUEsR0FBQSxTQUFBLEVBQUEsUUFBQSxFQUFBLElBQUEsR0FBQSxHQUFBLFNBQUEsR0FBQSxRQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxNQUFBLEtBQUEsRUFBQSxFQUFBLE9BQUEsRUFBQSxFQUFBLE1BQUEsRUFBQSxFQUFBLE9BQUEsR0FBQSxJQUFBLEVBQUEsUUFBQSxFQUFBLFNBQUEsRUFBQSxLQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsSUFBQSxFQUFBLEVBQUEsR0FBQSxNQUFBLE1BQUEsRUFBQSxFQUFBLEVBQUEsWUFBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxJQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsT0FBQSxHQUFBLFFBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsWUFBQSxHQUFBLElBQUEsTUFBQSxLQUFBLE1BQUEsTUFBQSxLQUFBLFFBQUEsRUFBQSxTQUFBLElBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLElBQUEsRUFBQSxJQUFBLEVBQUEsRUFBQSxNQUFBLEtBQUEsTUFBQSxNQUFBLEtBQUEsS0FBQSxFQUFBLFFBQUEsRUFBQSxRQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsSUFBQSxFQUFBLEVBQUEsS0FBQSxFQUFBLFFBQUEsRUFBQSxFQUFBLEVBQUEsS0FBQSxFQUFBLEVBQUEsS0FBQSxFQUFBLElBQUEsRUFBQSxXQUFBLEVBQUEsU0FBQSxPQUFBLEVBQUEsSUFBQSxNQUFBLEtBQUEsTUFBQSxNQUFBLEtBQUEsUUFBQSxJQUFBLEVBQUEsRUFBQSxPQUFBLEVBQUEsTUFBQSxFQUFBLFVBQUEsRUFBQSxJQUFBLEVBQUEsS0FBQSxFQUFBLEtBQUEsV0FBQSxJQUFBLEdBQUEsRUFBQSxFQUFBLFFBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLFFBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxLQUFBLE1BQUEsUUFBQSxHQUFBLEVBQUEsR0FBQSxRQUFBLEdBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEVBQUEsR0FBQSxJQUFBLEVBQUEsV0FBQSxHQUFBLE1BQUEsTUFBQSxLQUFBLFVBQUEsR0FBQSxNQUFBLEtBQUEsR0FBQSxNQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLElBQUEsT0FBQSxLQUFBLEVBQUEsSUFBQSxJQUFBLEdBQUEsV0FBQSxHQUFBLEdBQUEsRUFBQSxDQUFBLEtBQUEsSUFBQSxHQUFBLEVBQUEsZUFBQSxJQUFBLEdBQUEsT0FBQSxNQUFBLEVBQUEsRUFBQSxlQUFBLE1BQUEsTUFBQSxJQUFBLEVBQUEsR0FBQSxFQUFBLFdBQUEsR0FBQSxNQUFBLE1BQUEsS0FBQSxVQUFBLEdBQUEsTUFBQSxLQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsU0FBQSxHQUFBLE1BQUEsWUFBQSxHQUFBLE1BQUEsTUFBQSxLQUFBLFVBQUEsSUFBQSxFQUFBLE1BQUEsS0FBQSxHQUFBLE1BQUEsRUFBQSxLQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLFNBQUEsR0FBQSxJQUFBLEdBQUEsR0FBQSxFQUFBLElBQUEsRUFBQSxLQUFBLEVBQUEsRUFBQSxNQUFBLEVBQUEsS0FBQSxFQUFBLEVBQUEsVUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsVUFBQSxDQUFBLEdBQUEsRUFBQSxFQUFBLElBQUEsRUFBQSxPQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxLQUFBLFFBQUEsTUFBQSxJQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLE9BQUEsSUFBQSxFQUFBLEdBQUEsSUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLE9BQUEsSUFBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLEdBQUEsT0FBQSxLQUFBLEdBQUEsRUFBQSxFQUFBLE9BQUEsUUFBQSxLQUFBLEdBQUEsRUFBQSxFQUFBLElBQUEsRUFBQSxVQUFBLFNBQUEsRUFBQSxHQUFBLEVBQUEsR0FBQSxHQUFBLEVBQUEsVUFBQSxTQUFBLEdBQUEsRUFBQSxLQUFBLElBQUEsRUFBQSxhQUFBLElBQUEsTUFBQSxFQUFBLFlBQUEsRUFBQSxtQkFBQSxFQUFBLFdBQUEsVUFBQSxFQUFBLGlCQUFBLG1CQUFBLEVBQUEsV0FBQSxFQUFBLG9CQUFBLG1CQUFBLEVBQUEsR0FBQSxFQUFBLFdBQUEsWUFBQSxJQUFBLEVBQUEsUUFBQSxJQUFBLEVBQUEsUUFBQSxhQUFBLEVBQUEsRUFBQSxRQUFBLFNBQUEsU0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsY0FBQSxVQUFBLEVBQUEsR0FBQSxFQUFBLFlBQUEsR0FBQSxJQUFBLENBQUEsS0FBQSxJQUFBLEdBQUEsRUFBQSxhQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLG1CQUFBLEVBQUEsT0FBQSxZQUFBLEdBQUEsRUFBQSxFQUFBLGNBQUEsRUFBQSxFQUFBLElBQUEsRUFBQSxPQUFBLEVBQUEsbUJBQUEsT0FBQSxFQUFBLFdBQUEsSUFBQSxFQUFBLEVBQUEsRUFBQSxLQUFBLEdBQUEsRUFBQSxFQUFBLFNBQUEsRUFBQSxXQUFBLGFBQUEsRUFBQSxJQUFBLEVBQUEsUUFBQSxVQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxjQUFBLFFBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxDQUFBLEdBQUEsS0FBQSxFQUFBLEVBQUEsSUFBQSxhQUFBLEVBQUEsS0FBQSxVQUFBLEtBQUEsSUFBQSxHQUFBLEVBQUEsYUFBQSxFQUFBLEVBQUEsR0FBQSxLQUFBLEVBQUEsV0FBQSxhQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsTUFBQSxLQUFBLFVBQUEsVUFBQSxLQUFBLFdBQUEsUUFBQSxNQUFBLFVBQUEsTUFBQSxLQUFBLFVBQUEsS0FBQSxVQUFBLFFBQUEsY0FBQSxXQUFBLE1BQUEsZ0JBQUEsVUFBQSxPQUFBLFNBQUEsY0FBQSxXQUFBLGdCQUFBLFVBQUEsVUFBQSxTQUFBLGNBQUEsZUNVQSxTQUFBLEVBQUEsR0FFQSxZQUVBLGlCQUFBLFNBQUEsZ0JBQUEsUUFBQSxRQVNBLE9BQUEsUUFBQSxFQUFBLFNBQ0EsRUFBQSxHQUFBLEdBQ0EsU0FBQSxHQUNBLElBQUEsRUFBQSxTQUNBLEtBQUEsSUFBQSxPQUFBLDJDQUVBLE9BQUEsR0FBQSxJQUdBLEVBQUEsSUFJQSxtQkFBQSxRQUFBLE9BQUEsS0FBQSxTQUFBLEVBQUEsR0FNQSxZQThCQSxTQUFBLEdBQUEsRUFBQSxHQUNBLEVBQUEsR0FBQSxFQUVBLElBQUEsR0FBQSxFQUFBLGNBQUEsU0FFQSxHQUFBLEtBQUEsRUFDQSxFQUFBLEtBQUEsWUFBQSxHQUFBLFdBQUEsWUFBQSxHQXdiQSxRQUFBLEdBQUEsR0FNQSxHQUFBLEtBQUEsR0FBQSxVQUFBLElBQUEsRUFBQSxPQUNBLEVBQUEsR0FBQSxLQUFBLEVBRUEsT0FBQSxhQUFBLEdBQUEsR0FBQSxTQUFBLElBQ0EsRUFHQSxVQUFBLEdBQUEsSUFBQSxHQUNBLGdCQUFBLElBQUEsRUFBQSxHQUFBLEVBQUEsSUFBQSxHQWt3RUEsUUFBQSxHQUFBLEVBQUEsR0FFQSxNQUFBLEdBQUEsVUFBQSxFQUFBLFNBQUEsZ0JBQUEsRUFBQSxjQVVBLFFBQUEsR0FBQSxFQUFBLEVBQUEsR0FDQSxNQUFBLElBQUEsV0FBQSxHQUNBLEdBQUEsS0FBQSxFQUFBLFNBQUEsRUFBQSxHQUNBLFFBQUEsRUFBQSxLQUFBLEVBQUEsRUFBQSxLQUFBLElBS0EsRUFBQSxTQUNBLEdBQUEsS0FBQSxFQUFBLFNBQUEsR0FDQSxNQUFBLEtBQUEsSUFBQSxJQUtBLGdCQUFBLEdBQ0EsR0FBQSxLQUFBLEVBQUEsU0FBQSxHQUNBLE1BQUEsSUFBQSxLQUFBLEVBQUEsR0FBQSxLQUFBLElBS0EsR0FBQSxLQUFBLEdBQ0EsR0FBQSxPQUFBLEVBQUEsRUFBQSxJQUlBLEVBQUEsR0FBQSxPQUFBLEVBQUEsR0FDQSxHQUFBLEtBQUEsRUFBQSxTQUFBLEdBQ0EsTUFBQSxJQUFBLEtBQUEsRUFBQSxHQUFBLEtBQUEsR0FBQSxJQUFBLEVBQUEsWUFrUkEsUUFBQSxHQUFBLEVBQUEsR0FDQSxNQUFBLEVBQUEsRUFBQSxLQUFBLElBQUEsRUFBQSxXQUNBLE1BQUEsR0FxRkEsUUFBQSxHQUFBLEdBQ0EsR0FBQSxLQUlBLE9BSEEsSUFBQSxLQUFBLEVBQUEsTUFBQSxRQUFBLFNBQUEsRUFBQSxHQUNBLEVBQUEsSUFBQSxJQUVBLEVBNE5BLFFBQUEsR0FBQSxHQUNBLE1BQUEsR0FFQSxRQUFBLEdBQUEsR0FDQSxLQUFBLEdBR0EsUUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxFQUVBLEtBR0EsR0FBQSxHQUFBLFdBQUEsRUFBQSxFQUFBLFNBQ0EsRUFBQSxLQUFBLEdBQUEsS0FBQSxHQUFBLEtBQUEsR0FHQSxHQUFBLEdBQUEsV0FBQSxFQUFBLEVBQUEsTUFDQSxFQUFBLEtBQUEsRUFBQSxFQUFBLEdBUUEsRUFBQSxNQUFBLFFBQUEsR0FBQSxNQUFBLElBTUEsTUFBQSxHQUlBLEVBQUEsTUFBQSxRQUFBLEtBc2FBLFFBQUEsS0FDQSxHQUFBLG9CQUFBLG1CQUFBLEdBQ0EsRUFBQSxvQkFBQSxPQUFBLEdBQ0EsR0FBQSxRQW1HQSxRQUFBLEtBQ0EsS0FBQSxRQUFBLEdBQUEsUUFBQSxFQUFBLE1Bd0tBLFFBQUEsR0FBQSxHQUNBLE1BQUEsU0FBQSxHQUNBLEVBR0EsVUFBQSxHQUNBLEVBR0EsU0FBQSxFQUNBLEtBSUEsS0FBQSxFQUFBLElBQ0EsRUFHQSxHQUFBLEtBQUEsR0FDQSxLQUFBLE1BQUEsR0FHQSxFQUdBLFFBQUEsR0FBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEVBSUEsSUFBQSxTQUFBLEdBQUEsSUFBQSxFQUFBLFNBSUEsR0FIQSxFQUFBLFFBQUEsRUFBQSxRQUFBLEdBQUEsT0FBQSxjQUNBLEVBQUEsRUFBQSxhQUFBLEdBRUEsZ0JBQUEsR0FBQSxDQUNBLElBQ0EsRUFBQSxFQUFBLEdBQ0EsTUFBQSxJQUdBLEdBQUEsSUFBQSxFQUFBLEVBQUEsT0FFQSxHQUFBLE1BR0EsT0FBQSxHQXFTQSxRQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEdBQ0EsRUFBQSxFQUNBLEVBQUEsR0FDQSxFQUFBLEVBQ0EsV0FDQSxNQUFBLEdBQUEsT0FFQSxXQUNBLE1BQUEsSUFBQSxJQUFBLEVBQUEsRUFBQSxLQUVBLEVBQUEsSUFDQSxFQUFBLEdBQUEsRUFBQSxLQUFBLEdBQUEsVUFBQSxHQUFBLEdBQUEsTUFHQSxHQUFBLEdBQUEsVUFBQSxJQUFBLE9BQUEsSUFBQSxJQUNBLEdBQUEsS0FBQSxHQUFBLElBQUEsRUFBQSxHQUVBLElBQUEsR0FBQSxFQUFBLEtBQUEsRUFBQSxDQUdBLEVBQUEsR0FBQSxFQUFBLEdBR0EsRUFBQSxNQUdBLEdBQUEsR0FBQSxDQUVBLEdBSUEsR0FBQSxHQUFBLEtBR0EsR0FBQSxFQUNBLEdBQUEsTUFBQSxFQUFBLEVBQUEsRUFBQSxTQUtBLEtBQUEsRUFBQSxJQUFBLElBQUEsSUFBQSxLQUFBLEdBaUJBLE1BYkEsS0FDQSxHQUFBLElBQUEsR0FBQSxFQUdBLEVBQUEsRUFBQSxHQUNBLEdBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxJQUNBLEVBQUEsR0FDQSxJQUNBLEVBQUEsS0FBQSxFQUNBLEVBQUEsTUFBQSxFQUNBLEVBQUEsSUFBQSxJQUdBLEVBTUEsUUFBQSxHQUFBLEdBQ0EsR0FBQSxHQUNBLEVBQUEsRUFBQSxjQUNBLEVBQUEsRUFBQSxTQUNBLEVBQUEsR0FBQSxFQUVBLE9BQUEsR0FDQSxHQUdBLEVBQUEsRUFBQSxLQUFBLFlBQUEsRUFBQSxjQUFBLElBQ0EsRUFBQSxHQUFBLElBQUEsRUFBQSxXQUVBLEVBQUEsV0FBQSxZQUFBLEdBRUEsU0FBQSxJQUNBLEVBQUEsU0FFQSxHQUFBLEdBQUEsRUFFQSxHQUdBLFFBQUEsR0FBQSxFQUFBLEdBT0EsSUFOQSxHQUFBLEdBQUEsRUFDQSxLQUNBLEVBQUEsRUFDQSxFQUFBLEVBQUEsT0FHQSxFQUFBLEVBQUEsSUFDQSxFQUFBLEVBQUEsR0FDQSxFQUFBLFFBSUEsRUFBQSxFQUFBLE1BQUEsUUFDQSxHQUtBLFNBQUEsSUFDQSxFQUFBLEdBQUEsR0FBQSxJQUFBLEVBQUEsWUFBQSxLQUNBLEVBQUEsS0FDQSxFQUFBLE1BQUEsUUFBQSxLQUdBLEtBQUEsRUFBQSxNQUFBLFNBQUEsR0FBQSxLQUNBLEVBQUEsR0FBQSxFQUFBLEtBR0EsU0FBQSxJQUNBLEVBQUEsR0FBQSxPQUdBLEdBQUEsSUFBQSxFQUFBLFVBQUEsSUFNQSxLQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsSUFDQSxNQUFBLEVBQUEsS0FDQSxFQUFBLEdBQUEsTUFBQSxRQUFBLEVBQUEsR0FJQSxPQUFBLEdBd0RBLFFBQUEsR0FBQSxFQUFBLEdBSUEsR0FBQSxFQVlBLE9BVEEsR0FEQSxtQkFBQSxHQUFBLHFCQUNBLEVBQUEscUJBQUEsR0FBQSxLQUVBLG1CQUFBLEdBQUEsaUJBQ0EsRUFBQSxpQkFBQSxHQUFBLFFBTUEsU0FBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxPQUFBLEdBQUEsR0FHQSxFQUtBLFFBQUEsR0FBQSxFQUFBLEdBSUEsSUFIQSxHQUFBLEdBQUEsRUFDQSxFQUFBLEVBQUEsT0FFQSxFQUFBLEVBQUEsSUFDQSxHQUFBLElBQ0EsRUFBQSxHQUNBLGNBQ0EsR0FBQSxHQUFBLElBQUEsRUFBQSxHQUFBLGVBUUEsUUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FPQSxJQU5BLEdBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQ0EsRUFBQSxFQUFBLHlCQUNBLEtBQ0EsRUFBQSxFQUNBLEVBQUEsRUFBQSxPQUVBLEVBQUEsRUFBQSxJQUdBLEdBRkEsRUFBQSxFQUFBLEdBRUEsR0FBQSxJQUFBLEVBR0EsR0FBQSxXQUFBLEdBQUEsS0FBQSxHQUlBLEdBQUEsTUFBQSxFQUFBLEVBQUEsVUFBQSxHQUFBLE9BR0EsSUFBQSxHQUFBLEtBQUEsR0FJQSxDQVVBLElBVEEsRUFBQSxHQUFBLEVBQUEsWUFBQSxFQUFBLGNBQUEsUUFHQSxHQUFBLEdBQUEsS0FBQSxLQUFBLEdBQUEsS0FBQSxHQUFBLGNBQ0EsRUFBQSxHQUFBLElBQUEsR0FBQSxTQUNBLEVBQUEsVUFBQSxFQUFBLEdBQUEsR0FBQSxjQUFBLEdBQUEsRUFBQSxHQUdBLEVBQUEsRUFBQSxHQUNBLEtBQ0EsRUFBQSxFQUFBLFNBS0EsSUFBQSxNQUFBLEVBQUEsRUFBQSxZQUdBLEVBQUEsRUFBQSxXQUdBLEVBQUEsWUFBQSxPQXpCQSxHQUFBLEtBQUEsRUFBQSxlQUFBLEdBa0NBLEtBSEEsRUFBQSxZQUFBLEdBRUEsRUFBQSxFQUNBLEVBQUEsRUFBQSxNQUdBLEdBQUEsR0FBQSxHQUFBLFFBQUEsRUFBQSxHQUFBLEdBQ0EsR0FDQSxFQUFBLEtBQUEsT0FnQkEsSUFYQSxFQUFBLEdBQUEsU0FBQSxFQUFBLGNBQUEsR0FHQSxFQUFBLEVBQUEsRUFBQSxZQUFBLEdBQUEsVUFHQSxHQUNBLEVBQUEsR0FJQSxFQUVBLElBREEsRUFBQSxFQUNBLEVBQUEsRUFBQSxNQUNBLEdBQUEsS0FBQSxFQUFBLE1BQUEsS0FDQSxFQUFBLEtBQUEsRUFNQSxPQUFBLEdBcUNBLFFBQUEsS0FDQSxPQUFBLEVBR0EsUUFBQSxLQUNBLE9BQUEsRUFLQSxRQUFBLEtBQ0EsSUFDQSxNQUFBLElBQUEsY0FDQSxNQUFBLEtBR0EsUUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxDQUdBLElBQUEsZ0JBQUEsR0FBQSxDQUdBLGdCQUFBLEtBR0EsRUFBQSxHQUFBLEVBQ0EsRUFBQSxPQUVBLEtBQUEsSUFBQSxHQUNBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsRUFFQSxPQUFBLEdBc0JBLEdBbkJBLE1BQUEsR0FBQSxNQUFBLEdBR0EsRUFBQSxFQUNBLEVBQUEsRUFBQSxRQUNBLE1BQUEsSUFDQSxnQkFBQSxJQUdBLEVBQUEsRUFDQSxFQUFBLFNBSUEsRUFBQSxFQUNBLEVBQUEsRUFDQSxFQUFBLFNBR0EsS0FBQSxFQUNBLEVBQUEsTUFDQSxLQUFBLEVBQ0EsTUFBQSxFQWVBLE9BWkEsS0FBQSxJQUNBLEVBQUEsRUFDQSxFQUFBLFNBQUEsR0FJQSxNQURBLE1BQUEsSUFBQSxHQUNBLEVBQUEsTUFBQSxLQUFBLFlBSUEsRUFBQSxLQUFBLEVBQUEsT0FBQSxFQUFBLEtBQUEsR0FBQSxTQUVBLEVBQUEsS0FBQSxXQUNBLEdBQUEsTUFBQSxJQUFBLEtBQUEsRUFBQSxFQUFBLEVBQUEsS0FncUJBLFFBQUEsR0FBQSxFQUFBLEdBQ0EsTUFBQSxHQUFBLEVBQUEsVUFDQSxFQUFBLEtBQUEsRUFBQSxTQUFBLEVBQUEsRUFBQSxXQUFBLE1BRUEsR0FBQSxTQUFBLEdBQUEsSUFBQSxFQUdBLEVBSUEsUUFBQSxHQUFBLEdBRUEsTUFEQSxHQUFBLE1BQUEsT0FBQSxFQUFBLGFBQUEsU0FBQSxJQUFBLEVBQUEsS0FDQSxFQUVBLFFBQUEsR0FBQSxHQUNBLEdBQUEsR0FBQSxHQUFBLEtBQUEsRUFBQSxLQVFBLE9BTkEsR0FDQSxFQUFBLEtBQUEsRUFBQSxHQUVBLEVBQUEsZ0JBQUEsUUFHQSxFQUdBLFFBQUEsR0FBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLENBRUEsSUFBQSxJQUFBLEVBQUEsU0FBQSxDQUtBLEdBQUEsR0FBQSxRQUFBLEtBQ0EsRUFBQSxHQUFBLE9BQUEsR0FDQSxFQUFBLEdBQUEsSUFBQSxFQUFBLEdBQ0EsRUFBQSxFQUFBLFFBRUEsT0FDQSxHQUFBLE9BQ0EsRUFBQSxTQUVBLEtBQUEsSUFBQSxHQUNBLElBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLE9BQUEsRUFBQSxFQUFBLElBQ0EsR0FBQSxNQUFBLElBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxJQU9BLEdBQUEsUUFBQSxLQUNBLEVBQUEsR0FBQSxPQUFBLEdBQ0EsRUFBQSxHQUFBLFVBQUEsR0FFQSxHQUFBLElBQUEsRUFBQSxLQUtBLFFBQUEsR0FBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsU0FBQSxhQUdBLFdBQUEsR0FBQSxHQUFBLEtBQUEsRUFBQSxNQUNBLEVBQUEsUUFBQSxFQUFBLFNBR0EsVUFBQSxHQUFBLGFBQUEsS0FDQSxFQUFBLGFBQUEsRUFBQSxjQUlBLFFBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxHQUdBLEVBQUEsR0FBQSxTQUFBLEVBRUEsSUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFDQSxFQUFBLEVBQ0EsRUFBQSxFQUFBLE9BQ0EsRUFBQSxFQUFBLEVBQ0EsRUFBQSxFQUFBLEdBQ0EsRUFBQSxHQUFBLFdBQUEsRUFHQSxJQUFBLEdBQ0EsRUFBQSxHQUFBLGdCQUFBLEtBQ0EsR0FBQSxZQUFBLEdBQUEsS0FBQSxHQUNBLE1BQUEsR0FBQSxLQUFBLFNBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEVBQ0EsS0FDQSxFQUFBLEdBQUEsRUFBQSxLQUFBLEtBQUEsRUFBQSxFQUFBLFNBRUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxJQUlBLElBQUEsSUFDQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsZUFBQSxFQUFBLEVBQUEsR0FDQSxFQUFBLEVBQUEsV0FFQSxJQUFBLEVBQUEsV0FBQSxTQUNBLEVBQUEsR0FJQSxHQUFBLEdBQUEsQ0FPQSxJQU5BLEVBQUEsR0FBQSxJQUFBLEVBQUEsRUFBQSxVQUFBLEdBQ0EsRUFBQSxFQUFBLE9BS0EsRUFBQSxFQUFBLElBQ0EsRUFBQSxFQUVBLElBQUEsSUFDQSxFQUFBLEdBQUEsTUFBQSxHQUFBLEdBQUEsR0FHQSxHQUlBLEdBQUEsTUFBQSxFQUFBLEVBQUEsRUFBQSxZQUlBLEVBQUEsS0FBQSxFQUFBLEdBQUEsRUFBQSxFQUdBLElBQUEsRUFPQSxJQU5BLEVBQUEsRUFBQSxFQUFBLE9BQUEsR0FBQSxjQUdBLEdBQUEsSUFBQSxFQUFBLEdBR0EsRUFBQSxFQUFBLEVBQUEsRUFBQSxJQUNBLEVBQUEsRUFBQSxHQUNBLEdBQUEsS0FBQSxFQUFBLE1BQUEsTUFDQSxHQUFBLE9BQUEsRUFBQSxlQUNBLEdBQUEsU0FBQSxFQUFBLEtBRUEsRUFBQSxJQUdBLEdBQUEsVUFDQSxHQUFBLFNBQUEsRUFBQSxLQUdBLEVBQUEsRUFBQSxZQUFBLFFBQUEsR0FBQSxJQUFBLElBUUEsTUFBQSxHQUdBLFFBQUEsR0FBQSxFQUFBLEVBQUEsR0FLQSxJQUpBLEdBQUEsR0FDQSxFQUFBLEVBQUEsR0FBQSxPQUFBLEVBQUEsR0FBQSxFQUNBLEVBQUEsRUFFQSxPQUFBLEVBQUEsRUFBQSxJQUFBLElBQ0EsR0FBQSxJQUFBLEVBQUEsVUFDQSxHQUFBLFVBQUEsRUFBQSxJQUdBLEVBQUEsYUFDQSxHQUFBLEdBQUEsU0FBQSxFQUFBLGNBQUEsSUFDQSxFQUFBLEVBQUEsRUFBQSxXQUVBLEVBQUEsV0FBQSxZQUFBLEdBSUEsT0FBQSxHQTZWQSxRQUFBLEdBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsRUFBQSxFQU1BLEVBQUEsRUFBQSxLQXFDQSxPQW5DQSxHQUFBLEdBQUEsR0FBQSxHQUtBLElBQ0EsRUFBQSxFQUFBLGlCQUFBLElBQUEsRUFBQSxHQUVBLEtBQUEsR0FBQSxHQUFBLFNBQUEsRUFBQSxjQUFBLEtBQ0EsRUFBQSxHQUFBLE1BQUEsRUFBQSxLQVFBLEdBQUEsb0JBQUEsR0FBQSxLQUFBLElBQUEsR0FBQSxLQUFBLEtBR0EsRUFBQSxFQUFBLE1BQ0EsRUFBQSxFQUFBLFNBQ0EsRUFBQSxFQUFBLFNBR0EsRUFBQSxTQUFBLEVBQUEsU0FBQSxFQUFBLE1BQUEsRUFDQSxFQUFBLEVBQUEsTUFHQSxFQUFBLE1BQUEsRUFDQSxFQUFBLFNBQUEsRUFDQSxFQUFBLFNBQUEsSUFJQSxTQUFBLEVBSUEsRUFBQSxHQUNBLEVBSUEsUUFBQSxHQUFBLEVBQUEsR0FHQSxPQUNBLElBQUEsV0FDQSxNQUFBLGdCQUlBLE1BQUEsS0FLQSxLQUFBLElBQUEsR0FBQSxNQUFBLEtBQUEsYUF1QkEsUUFBQSxHQUFBLEdBR0EsR0FBQSxJQUFBLElBQ0EsTUFBQSxFQU9BLEtBSEEsR0FBQSxHQUFBLEVBQUEsR0FBQSxjQUFBLEVBQUEsTUFBQSxHQUNBLEVBQUEsR0FBQSxPQUVBLEtBRUEsR0FEQSxFQUFBLEdBQUEsR0FBQSxFQUNBLElBQUEsSUFDQSxNQUFBLEdBT0EsUUFBQSxHQUFBLEdBQ0EsR0FBQSxHQUFBLEdBQUEsU0FBQSxFQUlBLE9BSEEsS0FDQSxFQUFBLEdBQUEsU0FBQSxHQUFBLEVBQUEsSUFBQSxHQUVBLEVBR0EsUUFBQSxHQUFBLEVBQUEsRUFBQSxHQUlBLEdBQUEsR0FBQSxHQUFBLEtBQUEsRUFDQSxPQUFBLEdBR0EsS0FBQSxJQUFBLEVBQUEsRUFBQSxJQUFBLEdBQUEsS0FBQSxFQUFBLElBQUEsTUFDQSxFQUdBLFFBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxHQUNBLEVBQUEsQ0FXQSxLQVBBLEVBREEsS0FBQSxFQUFBLFNBQUEsV0FDQSxFQUlBLFVBQUEsRUFBQSxFQUFBLEVBR0EsRUFBQSxFQUFBLEdBQUEsRUFHQSxXQUFBLElBQ0EsR0FBQSxHQUFBLElBQUEsRUFBQSxFQUFBLEdBQUEsSUFBQSxFQUFBLElBR0EsR0FHQSxZQUFBLElBQ0EsR0FBQSxHQUFBLElBQUEsRUFBQSxVQUFBLEdBQUEsSUFBQSxFQUFBLElBSUEsV0FBQSxJQUNBLEdBQUEsR0FBQSxJQUFBLEVBQUEsU0FBQSxHQUFBLEdBQUEsU0FBQSxFQUFBLE1BS0EsR0FBQSxHQUFBLElBQUEsRUFBQSxVQUFBLEdBQUEsSUFBQSxFQUFBLEdBR0EsWUFBQSxJQUNBLEdBQUEsR0FBQSxJQUFBLEVBQUEsU0FBQSxHQUFBLEdBQUEsU0FBQSxFQUFBLElBS0EsT0FBQSxHQUdBLFFBQUEsR0FBQSxFQUFBLEVBQUEsR0FHQSxHQUFBLEdBQ0EsRUFBQSxHQUFBLEdBQ0EsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUNBLEVBQUEsZUFBQSxHQUFBLElBQUEsRUFBQSxhQUFBLEVBQUEsRUFHQSxPQUFBLElBQUEsS0FBQSxHQUNBLEdBS0EsRUFBQSxJQUNBLEdBQUEscUJBQUEsSUFBQSxFQUFBLE1BQUEsSUFJQSxTQUFBLElBQ0EsRUFBQSxFQUFBLFNBQUEsRUFBQSxHQUFBLGNBQUEsRUFBQSxNQUFBLEtBSUEsRUFBQSxXQUFBLElBQUEsRUFHQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLElBQUEsRUFBQSxTQUFBLFdBQ0EsRUFDQSxHQUVBLE1BaVJBLFFBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQ0EsTUFBQSxJQUFBLEdBQUEsVUFBQSxLQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0EwSEEsUUFBQSxLQUNBLEtBQ0EsR0FBQSxVQUFBLEdBQUEsRUFBQSxzQkFDQSxFQUFBLHNCQUFBLEdBRUEsRUFBQSxXQUFBLEVBQUEsR0FBQSxHQUFBLFVBR0EsR0FBQSxHQUFBLFFBS0EsUUFBQSxLQUlBLE1BSEEsR0FBQSxXQUFBLFdBQ0EsR0FBQSxTQUVBLEdBQUEsR0FBQSxNQUlBLFFBQUEsR0FBQSxFQUFBLEdBQ0EsR0FBQSxHQUNBLEVBQUEsRUFDQSxHQUFBLE9BQUEsRUFLQSxLQURBLEVBQUEsRUFBQSxFQUFBLEVBQ0EsRUFBQSxFQUFBLEdBQUEsRUFBQSxFQUNBLEVBQUEsR0FBQSxHQUNBLEVBQUEsU0FBQSxHQUFBLEVBQUEsVUFBQSxHQUFBLENBT0EsT0FKQSxLQUNBLEVBQUEsUUFBQSxFQUFBLE1BQUEsR0FHQSxFQUdBLFFBQUEsR0FBQSxFQUFBLEVBQUEsR0FLQSxJQUpBLEdBQUEsR0FDQSxHQUFBLEVBQUEsU0FBQSxRQUFBLE9BQUEsRUFBQSxTQUFBLE1BQ0EsRUFBQSxFQUNBLEVBQUEsRUFBQSxPQUNBLEVBQUEsRUFBQSxJQUNBLEdBQUEsRUFBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEVBQUEsR0FHQSxNQUFBLEdBS0EsUUFBQSxHQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUNBLEVBQUEsU0FBQSxJQUFBLFVBQUEsR0FDQSxFQUFBLEtBQ0EsS0FDQSxFQUFBLEVBQUEsTUFDQSxFQUFBLEVBQUEsVUFBQSxHQUFBLEdBQ0EsRUFBQSxHQUFBLElBQUEsRUFBQSxTQUdBLEdBQUEsUUFDQSxFQUFBLEdBQUEsWUFBQSxFQUFBLE1BQ0EsTUFBQSxFQUFBLFdBQ0EsRUFBQSxTQUFBLEVBQ0EsRUFBQSxFQUFBLE1BQUEsS0FDQSxFQUFBLE1BQUEsS0FBQSxXQUNBLEVBQUEsVUFDQSxNQUlBLEVBQUEsV0FFQSxFQUFBLE9BQUEsV0FHQSxFQUFBLE9BQUEsV0FDQSxFQUFBLFdBQ0EsR0FBQSxNQUFBLEVBQUEsTUFBQSxRQUNBLEVBQUEsTUFBQSxXQU9BLEtBQUEsSUFBQSxHQUVBLEdBREEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxLQUFBLEdBQUEsQ0FHQSxTQUZBLEdBQUEsR0FDQSxFQUFBLEdBQUEsV0FBQSxFQUNBLEtBQUEsRUFBQSxPQUFBLFFBQUEsQ0FJQSxHQUFBLFNBQUEsSUFBQSxHQUFBLFNBQUEsRUFBQSxHQUtBLFFBSkEsSUFBQSxFQU9BLEVBQUEsR0FBQSxHQUFBLEVBQUEsSUFBQSxHQUFBLE1BQUEsRUFBQSxHQU1BLEdBREEsR0FBQSxHQUFBLGNBQUEsR0FDQSxJQUFBLEdBQUEsY0FBQSxHQUFBLENBS0EsR0FBQSxJQUFBLEVBQUEsV0FLQSxFQUFBLFVBQUEsRUFBQSxTQUFBLEVBQUEsVUFBQSxFQUFBLFdBR0EsRUFBQSxHQUFBLEVBQUEsUUFDQSxNQUFBLElBQ0EsRUFBQSxHQUFBLElBQUEsRUFBQSxZQUVBLEVBQUEsR0FBQSxJQUFBLEVBQUEsV0FDQSxTQUFBLElBQ0EsRUFDQSxFQUFBLEdBSUEsR0FBQSxJQUFBLEdBQ0EsRUFBQSxFQUFBLE1BQUEsU0FBQSxFQUNBLEVBQUEsR0FBQSxJQUFBLEVBQUEsV0FDQSxHQUFBLE9BS0EsV0FBQSxHQUFBLGlCQUFBLEdBQUEsTUFBQSxJQUNBLFNBQUEsR0FBQSxJQUFBLEVBQUEsV0FHQSxJQUNBLEVBQUEsS0FBQSxXQUNBLEVBQUEsUUFBQSxJQUVBLE1BQUEsSUFDQSxFQUFBLEVBQUEsUUFDQSxFQUFBLFNBQUEsRUFBQSxHQUFBLElBR0EsRUFBQSxRQUFBLGlCQUtBLEVBQUEsV0FDQSxFQUFBLFNBQUEsU0FDQSxFQUFBLE9BQUEsV0FDQSxFQUFBLFNBQUEsRUFBQSxTQUFBLEdBQ0EsRUFBQSxVQUFBLEVBQUEsU0FBQSxHQUNBLEVBQUEsVUFBQSxFQUFBLFNBQUEsTUFLQSxHQUFBLENBQ0EsS0FBQSxJQUFBLEdBR0EsSUFDQSxFQUNBLFVBQUEsS0FDQSxFQUFBLEVBQUEsUUFHQSxFQUFBLEdBQUEsT0FBQSxFQUFBLFVBQUEsUUFBQSxJQUlBLElBQ0EsRUFBQSxRQUFBLEdBSUEsR0FDQSxHQUFBLElBQUEsR0FLQSxFQUFBLEtBQUEsV0FLQSxHQUNBLEdBQUEsSUFFQSxHQUFBLE9BQUEsRUFBQSxTQUNBLEtBQUEsSUFBQSxHQUNBLEdBQUEsTUFBQSxFQUFBLEVBQUEsRUFBQSxPQU1BLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsR0FDQSxJQUFBLEtBQ0EsRUFBQSxHQUFBLEVBQUEsTUFDQSxJQUNBLEVBQUEsSUFBQSxFQUFBLE1BQ0EsRUFBQSxNQUFBLEtBTUEsUUFBQSxHQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsQ0FHQSxLQUFBLElBQUEsR0FlQSxHQWRBLEVBQUEsR0FBQSxVQUFBLEdBQ0EsRUFBQSxFQUFBLEdBQ0EsRUFBQSxFQUFBLEdBQ0EsTUFBQSxRQUFBLEtBQ0EsRUFBQSxFQUFBLEdBQ0EsRUFBQSxFQUFBLEdBQUEsRUFBQSxJQUdBLElBQUEsSUFDQSxFQUFBLEdBQUEsUUFDQSxHQUFBLElBR0EsRUFBQSxHQUFBLFNBQUEsR0FDQSxHQUFBLFVBQUEsR0FBQSxDQUNBLEVBQUEsRUFBQSxPQUFBLFNBQ0EsR0FBQSxFQUlBLEtBQUEsSUFBQSxHQUNBLElBQUEsS0FDQSxFQUFBLEdBQUEsRUFBQSxHQUNBLEVBQUEsR0FBQSxPQUlBLEdBQUEsR0FBQSxFQUtBLFFBQUEsR0FBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEdBQ0EsRUFDQSxFQUFBLEVBQ0EsRUFBQSxFQUFBLFdBQUEsT0FDQSxFQUFBLEdBQUEsV0FBQSxPQUFBLGlCQUdBLEdBQUEsT0FFQSxFQUFBLFdBQ0EsR0FBQSxFQUNBLE9BQUEsQ0FZQSxLQVZBLEdBQUEsR0FBQSxJQUFBLElBQ0EsRUFBQSxLQUFBLElBQUEsRUFBQSxFQUFBLFVBQUEsRUFBQSxTQUFBLEdBSUEsRUFBQSxFQUFBLEVBQUEsVUFBQSxFQUNBLEVBQUEsRUFBQSxFQUNBLEVBQUEsRUFDQSxFQUFBLEVBQUEsT0FBQSxPQUVBLEVBQUEsRUFBQSxJQUNBLEVBQUEsT0FBQSxHQUFBLElBQUEsRUFNQSxPQUhBLEdBQUEsV0FBQSxHQUFBLEVBQUEsRUFBQSxJQUdBLEVBQUEsR0FBQSxFQUNBLEdBSUEsR0FDQSxFQUFBLFdBQUEsR0FBQSxFQUFBLEVBQUEsSUFJQSxFQUFBLFlBQUEsR0FBQSxLQUNBLElBRUEsRUFBQSxFQUFBLFNBQ0EsS0FBQSxFQUNBLE1BQUEsR0FBQSxVQUFBLEdBQ0EsS0FBQSxHQUFBLFFBQUEsR0FDQSxpQkFDQSxPQUFBLEdBQUEsT0FBQSxVQUNBLEdBQ0EsbUJBQUEsRUFDQSxnQkFBQSxFQUNBLFVBQUEsSUFBQSxJQUNBLFNBQUEsRUFBQSxTQUNBLFVBQ0EsWUFBQSxTQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsR0FBQSxNQUFBLEVBQUEsRUFBQSxLQUFBLEVBQUEsRUFDQSxFQUFBLEtBQUEsY0FBQSxJQUFBLEVBQUEsS0FBQSxPQUVBLE9BREEsR0FBQSxPQUFBLEtBQUEsR0FDQSxHQUVBLEtBQUEsU0FBQSxHQUNBLEdBQUEsR0FBQSxFQUlBLEVBQUEsRUFBQSxFQUFBLE9BQUEsT0FBQSxDQUNBLElBQUEsRUFDQSxNQUFBLEtBR0EsS0FEQSxHQUFBLEVBQ0EsRUFBQSxFQUFBLElBQ0EsRUFBQSxPQUFBLEdBQUEsSUFBQSxFQVVBLE9BTkEsSUFDQSxFQUFBLFdBQUEsR0FBQSxFQUFBLEVBQUEsSUFDQSxFQUFBLFlBQUEsR0FBQSxFQUFBLEtBRUEsRUFBQSxXQUFBLEdBQUEsRUFBQSxJQUVBLFFBR0EsRUFBQSxFQUFBLEtBSUEsS0FGQSxFQUFBLEVBQUEsRUFBQSxLQUFBLGVBRUEsRUFBQSxFQUFBLElBRUEsR0FEQSxFQUFBLEVBQUEsV0FBQSxHQUFBLEtBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxNQU1BLE1BSkEsSUFBQSxXQUFBLEVBQUEsUUFDQSxHQUFBLFlBQUEsRUFBQSxLQUFBLEVBQUEsS0FBQSxPQUFBLEtBQ0EsR0FBQSxNQUFBLEVBQUEsS0FBQSxJQUVBLENBeUJBLE9BckJBLElBQUEsSUFBQSxFQUFBLEVBQUEsR0FFQSxHQUFBLFdBQUEsRUFBQSxLQUFBLFFBQ0EsRUFBQSxLQUFBLE1BQUEsS0FBQSxFQUFBLEdBSUEsRUFDQSxTQUFBLEVBQUEsS0FBQSxVQUNBLEtBQUEsRUFBQSxLQUFBLEtBQUEsRUFBQSxLQUFBLFVBQ0EsS0FBQSxFQUFBLEtBQUEsTUFDQSxPQUFBLEVBQUEsS0FBQSxRQUVBLEdBQUEsR0FBQSxNQUNBLEdBQUEsT0FBQSxHQUNBLEtBQUEsRUFDQSxLQUFBLEVBQ0EsTUFBQSxFQUFBLEtBQUEsU0FJQSxFQWlsQkEsUUFBQSxHQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsTUFBQSxPQUNBLE9BQUEsR0FBQSxLQUFBLEtBSUEsUUFBQSxHQUFBLEdBQ0EsTUFBQSxHQUFBLGNBQUEsRUFBQSxhQUFBLFVBQUEsR0ErbUJBLFFBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsRUFFQSxJQUFBLE1BQUEsUUFBQSxHQUdBLEdBQUEsS0FBQSxFQUFBLFNBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxLQUFBLEdBR0EsRUFBQSxFQUFBLEdBS0EsRUFDQSxFQUFBLEtBQUEsZ0JBQUEsSUFBQSxNQUFBLEVBQUEsRUFBQSxJQUFBLElBQ0EsRUFDQSxFQUNBLFNBS0EsSUFBQSxHQUFBLFdBQUEsR0FBQSxLQUFBLEdBVUEsRUFBQSxFQUFBLE9BUEEsS0FBQSxJQUFBLEdBQ0EsRUFBQSxFQUFBLElBQUEsRUFBQSxJQUFBLEVBQUEsR0FBQSxFQUFBLEdBMEhBLFFBQUEsR0FBQSxHQUdBLE1BQUEsVUFBQSxFQUFBLEdBRUEsZ0JBQUEsS0FDQSxFQUFBLEVBQ0EsRUFBQSxJQUdBLElBQUEsR0FDQSxFQUFBLEVBQ0EsRUFBQSxFQUFBLGNBQUEsTUFBQSxPQUVBLElBQUEsR0FBQSxXQUFBLEdBR0EsS0FBQSxFQUFBLEVBQUEsTUFHQSxNQUFBLEVBQUEsSUFDQSxFQUFBLEVBQUEsTUFBQSxJQUFBLEtBQ0EsRUFBQSxHQUFBLEVBQUEsUUFBQSxRQUFBLEtBSUEsRUFBQSxHQUFBLEVBQUEsUUFBQSxLQUFBLElBUUEsUUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEdBS0EsUUFBQSxHQUFBLEdBQ0EsR0FBQSxFQWNBLE9BYkEsR0FBQSxJQUFBLEVBQ0EsR0FBQSxLQUFBLEVBQUEsT0FBQSxTQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsRUFDQSxPQUFBLGdCQUFBLElBQ0EsR0FBQSxFQUFBLEdBS0EsSUFDQSxFQUFBLEdBREEsUUFIQSxFQUFBLFVBQUEsUUFBQSxHQUNBLEVBQUEsSUFDQSxLQUtBLEVBbEJBLEdBQUEsTUFDQSxFQUFBLElBQUEsRUFvQkEsT0FBQSxHQUFBLEVBQUEsVUFBQSxNQUFBLEVBQUEsTUFBQSxFQUFBLEtBTUEsUUFBQSxHQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsRUFDQSxFQUFBLEdBQUEsYUFBQSxlQUVBLEtBQUEsSUFBQSxHQUNBLFNBQUEsRUFBQSxNQUNBLEVBQUEsR0FBQSxFQUFBLElBQUEsT0FBQSxHQUFBLEVBQUEsR0FPQSxPQUpBLElBQ0EsR0FBQSxRQUFBLEVBQUEsRUFBQSxHQUdBLEVBT0EsUUFBQSxHQUFBLEVBQUEsRUFBQSxHQU9BLElBTEEsR0FBQSxHQUFBLEVBQUEsRUFBQSxFQUNBLEVBQUEsRUFBQSxTQUNBLEVBQUEsRUFBQSxVQUdBLE1BQUEsRUFBQSxJQUNBLEVBQUEsUUFDQSxTQUFBLElBQ0EsRUFBQSxFQUFBLFVBQUEsRUFBQSxrQkFBQSxnQkFLQSxJQUFBLEVBQ0EsSUFBQSxJQUFBLEdBQ0EsR0FBQSxFQUFBLElBQUEsRUFBQSxHQUFBLEtBQUEsR0FBQSxDQUNBLEVBQUEsUUFBQSxFQUNBLE9BTUEsR0FBQSxFQUFBLElBQUEsR0FDQSxFQUFBLEVBQUEsT0FDQSxDQUdBLElBQUEsSUFBQSxHQUFBLENBQ0EsSUFBQSxFQUFBLElBQUEsRUFBQSxXQUFBLEVBQUEsSUFBQSxFQUFBLElBQUEsQ0FDQSxFQUFBLENBQ0EsT0FFQSxJQUNBLEVBQUEsR0FLQSxFQUFBLEdBQUEsRUFNQSxNQUFBLElBQ0EsSUFBQSxFQUFBLElBQ0EsRUFBQSxRQUFBLEdBRUEsRUFBQSxJQUpBLE9BV0EsUUFBQSxJQUFBLEVBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEVBQ0EsS0FHQSxFQUFBLEVBQUEsVUFBQSxPQUdBLElBQUEsRUFBQSxHQUNBLElBQUEsSUFBQSxHQUFBLFdBQ0EsRUFBQSxFQUFBLGVBQUEsRUFBQSxXQUFBLEVBT0EsS0FIQSxFQUFBLEVBQUEsUUFHQSxHQWNBLEdBWkEsRUFBQSxlQUFBLEtBQ0EsRUFBQSxFQUFBLGVBQUEsSUFBQSxJQUlBLEdBQUEsR0FBQSxFQUFBLGFBQ0EsRUFBQSxFQUFBLFdBQUEsRUFBQSxFQUFBLFdBR0EsRUFBQSxFQUNBLEVBQUEsRUFBQSxRQUtBLEdBQUEsTUFBQSxFQUVBLEVBQUEsTUFHQSxJQUFBLE1BQUEsR0FBQSxJQUFBLEVBQUEsQ0FNQSxHQUhBLEVBQUEsRUFBQSxFQUFBLElBQUEsSUFBQSxFQUFBLEtBQUEsSUFHQSxFQUNBLElBQUEsSUFBQSxHQUlBLEdBREEsRUFBQSxFQUFBLE1BQUEsS0FDQSxFQUFBLEtBQUEsSUFHQSxFQUFBLEVBQUEsRUFBQSxJQUFBLEVBQUEsS0FDQSxFQUFBLEtBQUEsRUFBQSxLQUNBLENBR0EsS0FBQSxFQUNBLEVBQUEsRUFBQSxHQUdBLEVBQUEsTUFBQSxJQUNBLEVBQUEsRUFBQSxHQUNBLEVBQUEsUUFBQSxFQUFBLElBRUEsT0FPQSxHQUFBLEtBQUEsRUFHQSxHQUFBLEdBQUEsRUFBQSxPQUNBLEVBQUEsRUFBQSxPQUVBLEtBQ0EsRUFBQSxFQUFBLEdBQ0EsTUFBQSxHQUNBLE9BQ0EsTUFBQSxjQUNBLE1BQUEsRUFBQSxFQUFBLHNCQUFBLEVBQUEsT0FBQSxJQVNBLE9BQUEsTUFBQSxVQUFBLEtBQUEsR0EvZ1JBLEdBQUEsT0FFQSxHQUFBLEVBQUEsU0FFQSxHQUFBLE9BQUEsZUFFQSxHQUFBLEdBQUEsTUFFQSxHQUFBLEdBQUEsT0FFQSxHQUFBLEdBQUEsS0FFQSxHQUFBLEdBQUEsUUFFQSxNQUVBLEdBQUEsR0FBQSxTQUVBLEdBQUEsR0FBQSxlQUVBLEdBQUEsR0FBQSxTQUVBLEdBQUEsR0FBQSxLQUFBLFFBRUEsTUFtQkEsR0FBQSxRQUdBLEdBQUEsU0FBQSxFQUFBLEdBSUEsTUFBQSxJQUFBLElBQUEsR0FBQSxLQUFBLEVBQUEsSUFLQSxHQUFBLHFDQUdBLEdBQUEsUUFDQSxHQUFBLFlBR0EsR0FBQSxTQUFBLEVBQUEsR0FDQSxNQUFBLEdBQUEsY0FHQSxJQUFBLEdBQUEsR0FBQSxXQUdBLE9BQUEsR0FFQSxZQUFBLEdBR0EsT0FBQSxFQUVBLFFBQUEsV0FDQSxNQUFBLElBQUEsS0FBQSxPQUtBLElBQUEsU0FBQSxHQUdBLE1BQUEsT0FBQSxFQUNBLEdBQUEsS0FBQSxNQUlBLEVBQUEsRUFBQSxLQUFBLEVBQUEsS0FBQSxRQUFBLEtBQUEsSUFLQSxVQUFBLFNBQUEsR0FHQSxHQUFBLEdBQUEsR0FBQSxNQUFBLEtBQUEsY0FBQSxFQU1BLE9BSEEsR0FBQSxXQUFBLEtBR0EsR0FJQSxLQUFBLFNBQUEsR0FDQSxNQUFBLElBQUEsS0FBQSxLQUFBLElBR0EsSUFBQSxTQUFBLEdBQ0EsTUFBQSxNQUFBLFVBQUEsR0FBQSxJQUFBLEtBQUEsU0FBQSxFQUFBLEdBQ0EsTUFBQSxHQUFBLEtBQUEsRUFBQSxFQUFBLE9BSUEsTUFBQSxXQUNBLE1BQUEsTUFBQSxVQUFBLEdBQUEsTUFBQSxLQUFBLGFBR0EsTUFBQSxXQUNBLE1BQUEsTUFBQSxHQUFBLElBR0EsS0FBQSxXQUNBLE1BQUEsTUFBQSxHQUFBLEtBR0EsR0FBQSxTQUFBLEdBQ0EsR0FBQSxHQUFBLEtBQUEsT0FDQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsRUFDQSxPQUFBLE1BQUEsVUFBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsU0FHQSxJQUFBLFdBQ0EsTUFBQSxNQUFBLFlBQUEsS0FBQSxlQUtBLEtBQUEsR0FDQSxLQUFBLEdBQUEsS0FDQSxPQUFBLEdBQUEsUUFHQSxHQUFBLE9BQUEsR0FBQSxHQUFBLE9BQUEsV0FDQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUNBLEVBQUEsVUFBQSxPQUNBLEVBQUEsRUFDQSxFQUFBLFVBQUEsT0FDQSxHQUFBLENBc0JBLEtBbkJBLGlCQUFBLEtBQ0EsRUFBQSxFQUdBLEVBQUEsVUFBQSxPQUNBLEtBSUEsZ0JBQUEsSUFBQSxHQUFBLFdBQUEsS0FDQSxNQUlBLElBQUEsSUFDQSxFQUFBLEtBQ0EsS0FHQSxFQUFBLEVBQUEsSUFHQSxHQUFBLE9BQUEsRUFBQSxVQUFBLElBR0EsSUFBQSxJQUFBLEdBQ0EsRUFBQSxFQUFBLEdBQ0EsRUFBQSxFQUFBLEdBR0EsSUFBQSxJQUtBLEdBQUEsSUFBQSxHQUFBLGNBQUEsS0FDQSxFQUFBLE1BQUEsUUFBQSxNQUVBLEdBQ0EsR0FBQSxFQUNBLEVBQUEsR0FBQSxNQUFBLFFBQUEsR0FBQSxNQUdBLEVBQUEsR0FBQSxHQUFBLGNBQUEsR0FBQSxLQUlBLEVBQUEsR0FBQSxHQUFBLE9BQUEsRUFBQSxFQUFBLElBR0EsU0FBQSxJQUNBLEVBQUEsR0FBQSxHQU9BLE9BQUEsSUFHQSxHQUFBLFFBR0EsUUFBQSxVQUFBLEdBQUEsS0FBQSxVQUFBLFFBQUEsTUFBQSxJQUdBLFNBQUEsRUFFQSxNQUFBLFNBQUEsR0FDQSxLQUFBLElBQUEsT0FBQSxJQUdBLEtBQUEsYUFFQSxXQUFBLFNBQUEsR0FDQSxNQUFBLGFBQUEsR0FBQSxLQUFBLElBR0EsU0FBQSxTQUFBLEdBQ0EsTUFBQSxPQUFBLEdBQUEsSUFBQSxFQUFBLFFBR0EsVUFBQSxTQUFBLEdBS0EsR0FBQSxHQUFBLEdBQUEsS0FBQSxFQUNBLFFBQUEsV0FBQSxHQUFBLFdBQUEsS0FLQSxNQUFBLEVBQUEsV0FBQSxLQUdBLGNBQUEsU0FBQSxHQUNBLEdBQUEsR0FBQSxDQUlBLE9BQUEsSUFBQSxvQkFBQSxHQUFBLEtBQUEsSUFJQSxFQUFBLEdBQUEsS0FRQSxFQUFBLEdBQUEsS0FBQSxFQUFBLGdCQUFBLEVBQUEsWUFDQSxrQkFBQSxJQUFBLEdBQUEsS0FBQSxLQUFBLEtBTEEsR0FQQSxHQWVBLGNBQUEsU0FBQSxHQUlBLEdBQUEsRUFFQSxLQUFBLElBQUEsR0FDQSxPQUFBLENBRUEsUUFBQSxHQUdBLEtBQUEsU0FBQSxHQUNBLE1BQUEsT0FBQSxFQUNBLEVBQUEsR0FJQSxnQkFBQSxJQUFBLGtCQUFBLEdBQ0EsR0FBQSxHQUFBLEtBQUEsS0FBQSxlQUNBLElBSUEsV0FBQSxTQUFBLEdBQ0EsRUFBQSxJQU1BLFVBQUEsU0FBQSxHQUNBLE1BQUEsR0FBQSxRQUFBLEdBQUEsT0FBQSxRQUFBLEdBQUEsS0FHQSxLQUFBLFNBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLENBRUEsSUFBQSxFQUFBLEdBRUEsSUFEQSxFQUFBLEVBQUEsT0FDQSxFQUFBLEdBQ0EsRUFBQSxLQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsT0FBQSxFQURBLFNBTUEsS0FBQSxJQUFBLEdBQ0EsR0FBQSxFQUFBLEtBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxPQUFBLEVBQ0EsS0FLQSxPQUFBLElBSUEsS0FBQSxTQUFBLEdBQ0EsTUFBQSxPQUFBLEVBQ0EsSUFDQSxFQUFBLElBQUEsUUFBQSxHQUFBLEtBSUEsVUFBQSxTQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsS0FhQSxPQVhBLE9BQUEsSUFDQSxFQUFBLE9BQUEsSUFDQSxHQUFBLE1BQUEsRUFDQSxnQkFBQSxJQUNBLEdBQUEsR0FHQSxHQUFBLEtBQUEsRUFBQSxJQUlBLEdBR0EsUUFBQSxTQUFBLEVBQUEsRUFBQSxHQUNBLE1BQUEsT0FBQSxFQUFBLEdBQUEsR0FBQSxLQUFBLEVBQUEsRUFBQSxJQUtBLE1BQUEsU0FBQSxFQUFBLEdBS0EsSUFKQSxHQUFBLElBQUEsRUFBQSxPQUNBLEVBQUEsRUFDQSxFQUFBLEVBQUEsT0FFQSxFQUFBLEVBQUEsSUFDQSxFQUFBLEtBQUEsRUFBQSxFQUtBLE9BRkEsR0FBQSxPQUFBLEVBRUEsR0FHQSxLQUFBLFNBQUEsRUFBQSxFQUFBLEdBU0EsSUFSQSxHQUFBLEdBQ0EsS0FDQSxFQUFBLEVBQ0EsRUFBQSxFQUFBLE9BQ0EsR0FBQSxFQUlBLEVBQUEsRUFBQSxJQUNBLEdBQUEsRUFBQSxFQUFBLEdBQUEsR0FDQSxJQUFBLEdBQ0EsRUFBQSxLQUFBLEVBQUEsR0FJQSxPQUFBLElBSUEsSUFBQSxTQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxFQUNBLEVBQUEsRUFDQSxJQUdBLElBQUEsRUFBQSxHQUVBLElBREEsRUFBQSxFQUFBLE9BQ0EsRUFBQSxFQUFBLElBQ0EsRUFBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEdBRUEsTUFBQSxHQUNBLEVBQUEsS0FBQSxPQU1BLEtBQUEsSUFBQSxHQUNBLEVBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxHQUVBLE1BQUEsR0FDQSxFQUFBLEtBQUEsRUFNQSxPQUFBLElBQUEsU0FBQSxJQUlBLEtBQUEsRUFJQSxNQUFBLFNBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLENBVUEsT0FSQSxnQkFBQSxLQUNBLEVBQUEsRUFBQSxHQUNBLEVBQUEsRUFDQSxFQUFBLEdBS0EsR0FBQSxXQUFBLElBS0EsRUFBQSxHQUFBLEtBQUEsVUFBQSxHQUNBLEVBQUEsV0FDQSxNQUFBLEdBQUEsTUFBQSxHQUFBLEtBQUEsRUFBQSxPQUFBLEdBQUEsS0FBQSxjQUlBLEVBQUEsS0FBQSxFQUFBLEtBQUEsRUFBQSxNQUFBLEdBQUEsT0FFQSxHQVpBLFFBZUEsSUFBQSxLQUFBLElBSUEsUUFBQSxLQUdBLGtCQUFBLFVBQ0EsR0FBQSxHQUFBLE9BQUEsVUFBQSxHQUFBLE9BQUEsV0FJQSxHQUFBLEtBQUEsdUVBQUEsTUFBQSxLQUNBLFNBQUEsRUFBQSxHQUNBLEdBQUEsV0FBQSxFQUFBLEtBQUEsRUFBQSxlQW1CQSxJQUFBLElBV0EsU0FBQSxHQTZNQSxRQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQ0EsRUFBQSxHQUFBLEVBQUEsY0FHQSxFQUFBLEVBQUEsRUFBQSxTQUFBLENBS0EsSUFIQSxFQUFBLE1BR0EsZ0JBQUEsS0FBQSxHQUNBLElBQUEsR0FBQSxJQUFBLEdBQUEsS0FBQSxFQUVBLE1BQUEsRUFJQSxLQUFBLEtBRUEsRUFBQSxFQUFBLGVBQUEsRUFBQSxLQUFBLEdBQ0EsRUFBQSxHQUVBLEVBQUEsR0FBQSxFQUVBLEdBQUEsQ0FJQSxHQUFBLEtBQUEsSUFBQSxFQUFBLEdBQUEsS0FBQSxJQUdBLEdBQUEsRUFBQSxFQUFBLElBR0EsR0FBQSxJQUFBLEVBQUEsQ0FDQSxLQUFBLEVBQUEsRUFBQSxlQUFBLElBVUEsTUFBQSxFQUxBLElBQUEsRUFBQSxLQUFBLEVBRUEsTUFEQSxHQUFBLEtBQUEsR0FDQSxNQVlBLElBQUEsSUFBQSxFQUFBLEVBQUEsZUFBQSxLQUNBLEVBQUEsRUFBQSxJQUNBLEVBQUEsS0FBQSxFQUdBLE1BREEsR0FBQSxLQUFBLEdBQ0EsTUFLQSxDQUFBLEdBQUEsRUFBQSxHQUVBLE1BREEsR0FBQSxNQUFBLEVBQUEsRUFBQSxxQkFBQSxJQUNBLENBR0EsS0FBQSxFQUFBLEVBQUEsS0FBQSxFQUFBLHdCQUNBLEVBQUEsdUJBR0EsTUFEQSxHQUFBLE1BQUEsRUFBQSxFQUFBLHVCQUFBLElBQ0EsRUFLQSxNQUFBLEVBQUEsS0FDQSxFQUFBLEVBQUEsTUFDQSxHQUFBLEVBQUEsS0FBQSxJQUFBLENBRUEsR0FBQSxJQUFBLEVBQ0EsRUFBQSxFQUNBLEVBQUEsTUFNQSxJQUFBLFdBQUEsRUFBQSxTQUFBLGNBQUEsQ0FZQSxLQVRBLEVBQUEsRUFBQSxhQUFBLE9BQ0EsRUFBQSxFQUFBLFFBQUEsR0FBQSxJQUVBLEVBQUEsYUFBQSxLQUFBLEVBQUEsR0FJQSxFQUFBLEVBQUEsR0FDQSxFQUFBLEVBQUEsT0FDQSxLQUNBLEVBQUEsR0FBQSxJQUFBLEVBQUEsSUFBQSxFQUFBLEVBQUEsR0FFQSxHQUFBLEVBQUEsS0FBQSxLQUdBLEVBQUEsR0FBQSxLQUFBLElBQUEsRUFBQSxFQUFBLGFBQ0EsRUFHQSxHQUFBLEVBQ0EsSUFJQSxNQUhBLEdBQUEsTUFBQSxFQUNBLEVBQUEsaUJBQUEsSUFFQSxFQUNBLE1BQUEsSUFDQSxRQUNBLElBQUEsR0FDQSxFQUFBLGdCQUFBLFFBU0EsTUFBQSxHQUFBLEVBQUEsUUFBQSxHQUFBLE1BQUEsRUFBQSxFQUFBLEdBU0EsUUFBQSxLQUdBLFFBQUEsR0FBQSxFQUFBLEdBTUEsTUFKQSxHQUFBLEtBQUEsRUFBQSxLQUFBLEVBQUEsbUJBRUEsR0FBQSxFQUFBLFNBRUEsRUFBQSxFQUFBLEtBQUEsRUFSQSxHQUFBLEtBVUEsT0FBQSxHQU9BLFFBQUEsR0FBQSxHQUVBLE1BREEsR0FBQSxJQUFBLEVBQ0EsRUFPQSxRQUFBLEdBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxjQUFBLFdBRUEsS0FDQSxRQUFBLEVBQUEsR0FDQSxNQUFBLEdBQ0EsT0FBQSxFQUNBLFFBRUEsRUFBQSxZQUNBLEVBQUEsV0FBQSxZQUFBLEdBR0EsRUFBQSxNQVNBLFFBQUEsR0FBQSxFQUFBLEdBSUEsSUFIQSxHQUFBLEdBQUEsRUFBQSxNQUFBLEtBQ0EsRUFBQSxFQUFBLE9BRUEsS0FDQSxFQUFBLFdBQUEsRUFBQSxJQUFBLEVBVUEsUUFBQSxHQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsR0FBQSxFQUNBLEVBQUEsR0FBQSxJQUFBLEVBQUEsVUFBQSxJQUFBLEVBQUEsVUFDQSxFQUFBLFlBQUEsRUFBQSxXQUdBLElBQUEsRUFDQSxNQUFBLEVBSUEsSUFBQSxFQUNBLEtBQUEsRUFBQSxFQUFBLGFBQ0EsR0FBQSxJQUFBLEVBQ0EsTUFBQSxFQUtBLE9BQUEsR0FBQSxFQUFBLEdBT0EsUUFBQSxHQUFBLEdBQ0EsTUFBQSxVQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsU0FBQSxhQUNBLE9BQUEsVUFBQSxHQUFBLEVBQUEsT0FBQSxHQVFBLFFBQUEsR0FBQSxHQUNBLE1BQUEsVUFBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLFNBQUEsYUFDQSxRQUFBLFVBQUEsR0FBQSxXQUFBLElBQUEsRUFBQSxPQUFBLEdBUUEsUUFBQSxHQUFBLEdBR0EsTUFBQSxVQUFBLEdBS0EsTUFBQSxRQUFBLEdBU0EsRUFBQSxZQUFBLEVBQUEsWUFBQSxFQUdBLFNBQUEsR0FDQSxTQUFBLEdBQUEsV0FDQSxFQUFBLFdBQUEsV0FBQSxFQUVBLEVBQUEsV0FBQSxFQU1BLEVBQUEsYUFBQSxHQUlBLEVBQUEsY0FBQSxHQUNBLEdBQUEsS0FBQSxFQUdBLEVBQUEsV0FBQSxFQUtBLFNBQUEsR0FDQSxFQUFBLFdBQUEsR0FJQSxHQVFBLFFBQUEsR0FBQSxHQUNBLE1BQUEsR0FBQSxTQUFBLEdBRUEsTUFEQSxJQUFBLEVBQ0EsRUFBQSxTQUFBLEVBQUEsR0FNQSxJQUxBLEdBQUEsR0FDQSxFQUFBLEtBQUEsRUFBQSxPQUFBLEdBQ0EsRUFBQSxFQUFBLE9BR0EsS0FDQSxFQUFBLEVBQUEsRUFBQSxNQUNBLEVBQUEsS0FBQSxFQUFBLEdBQUEsRUFBQSxTQVlBLFFBQUEsR0FBQSxHQUNBLE1BQUEsSUFBQSxtQkFBQSxHQUFBLHNCQUFBLEVBeWpDQSxRQUFBLE1BdUVBLFFBQUEsR0FBQSxHQUlBLElBSEEsR0FBQSxHQUFBLEVBQ0EsRUFBQSxFQUFBLE9BQ0EsRUFBQSxHQUNBLEVBQUEsRUFBQSxJQUNBLEdBQUEsRUFBQSxHQUFBLEtBRUEsT0FBQSxHQUdBLFFBQUEsR0FBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxJQUNBLEVBQUEsRUFBQSxLQUNBLEVBQUEsR0FBQSxFQUNBLEVBQUEsR0FBQSxlQUFBLEVBQ0EsRUFBQSxHQUVBLE9BQUEsR0FBQSxNQUVBLFNBQUEsRUFBQSxFQUFBLEdBQ0EsS0FBQSxFQUFBLEVBQUEsSUFDQSxHQUFBLElBQUEsRUFBQSxVQUFBLEVBQ0EsTUFBQSxHQUFBLEVBQUEsRUFBQSxFQUdBLFFBQUEsR0FJQSxTQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLEVBQ0EsR0FBQSxFQUFBLEVBR0EsSUFBQSxHQUNBLEtBQUEsRUFBQSxFQUFBLElBQ0EsSUFBQSxJQUFBLEVBQUEsVUFBQSxJQUNBLEVBQUEsRUFBQSxFQUFBLEdBQ0EsT0FBQSxNQUtBLE1BQUEsRUFBQSxFQUFBLElBQ0EsR0FBQSxJQUFBLEVBQUEsVUFBQSxFQU9BLEdBTkEsRUFBQSxFQUFBLEtBQUEsRUFBQSxPQUlBLEVBQUEsRUFBQSxFQUFBLFlBQUEsRUFBQSxFQUFBLGNBRUEsR0FBQSxJQUFBLEVBQUEsU0FBQSxjQUNBLEVBQUEsRUFBQSxJQUFBLE1BQ0EsQ0FBQSxJQUFBLEVBQUEsRUFBQSxLQUNBLEVBQUEsS0FBQSxHQUFBLEVBQUEsS0FBQSxFQUdBLE1BQUEsR0FBQSxHQUFBLEVBQUEsRUFNQSxJQUhBLEVBQUEsR0FBQSxFQUdBLEVBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxHQUNBLE9BQUEsRUFNQSxPQUFBLEdBSUEsUUFBQSxHQUFBLEdBQ0EsTUFBQSxHQUFBLE9BQUEsRUFDQSxTQUFBLEVBQUEsRUFBQSxHQUVBLElBREEsR0FBQSxHQUFBLEVBQUEsT0FDQSxLQUNBLElBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxHQUNBLE9BQUEsQ0FHQSxRQUFBLEdBRUEsRUFBQSxHQUdBLFFBQUEsR0FBQSxFQUFBLEVBQUEsR0FHQSxJQUZBLEdBQUEsR0FBQSxFQUNBLEVBQUEsRUFBQSxPQUNBLEVBQUEsRUFBQSxJQUNBLEVBQUEsRUFBQSxFQUFBLEdBQUEsRUFFQSxPQUFBLEdBR0EsUUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FPQSxJQU5BLEdBQUEsR0FDQSxLQUNBLEVBQUEsRUFDQSxFQUFBLEVBQUEsT0FDQSxFQUFBLE1BQUEsRUFFQSxFQUFBLEVBQUEsS0FDQSxFQUFBLEVBQUEsT0FDQSxHQUFBLEVBQUEsRUFBQSxFQUFBLE1BQ0EsRUFBQSxLQUFBLEdBQ0EsR0FDQSxFQUFBLEtBQUEsR0FNQSxPQUFBLEdBR0EsUUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQU9BLE1BTkEsS0FBQSxFQUFBLEtBQ0EsRUFBQSxFQUFBLElBRUEsSUFBQSxFQUFBLEtBQ0EsRUFBQSxFQUFBLEVBQUEsSUFFQSxFQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxFQUNBLEtBQ0EsS0FDQSxFQUFBLEVBQUEsT0FHQSxFQUFBLEdBQUEsRUFBQSxHQUFBLElBQUEsRUFBQSxVQUFBLEdBQUEsTUFHQSxHQUFBLElBQUEsR0FBQSxFQUVBLEVBREEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBR0EsRUFBQSxFQUVBLElBQUEsRUFBQSxFQUFBLEdBQUEsTUFNQSxFQUNBLENBUUEsSUFMQSxHQUNBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FJQSxFQU1BLElBTEEsRUFBQSxFQUFBLEVBQUEsR0FDQSxFQUFBLEtBQUEsRUFBQSxHQUdBLEVBQUEsRUFBQSxPQUNBLE1BQ0EsRUFBQSxFQUFBLE1BQ0EsRUFBQSxFQUFBLE1BQUEsRUFBQSxFQUFBLElBQUEsR0FLQSxJQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsQ0FDQSxHQUFBLEVBQUEsQ0FJQSxJQUZBLEtBQ0EsRUFBQSxFQUFBLE9BQ0EsTUFDQSxFQUFBLEVBQUEsS0FFQSxFQUFBLEtBQUEsRUFBQSxHQUFBLEVBR0EsR0FBQSxLQUFBLEtBQUEsRUFBQSxHQUtBLElBREEsRUFBQSxFQUFBLE9BQ0EsTUFDQSxFQUFBLEVBQUEsTUFDQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQSxJQUFBLEtBRUEsRUFBQSxLQUFBLEVBQUEsR0FBQSxTQU9BLEdBQUEsRUFDQSxJQUFBLEVBQ0EsRUFBQSxPQUFBLEVBQUEsRUFBQSxRQUNBLEdBRUEsRUFDQSxFQUFBLEtBQUEsRUFBQSxFQUFBLEdBRUEsRUFBQSxNQUFBLEVBQUEsS0FNQSxRQUFBLEdBQUEsR0F3QkEsSUF2QkEsR0FBQSxHQUFBLEVBQUEsRUFDQSxFQUFBLEVBQUEsT0FDQSxFQUFBLEVBQUEsU0FBQSxFQUFBLEdBQUEsTUFDQSxFQUFBLEdBQUEsRUFBQSxTQUFBLEtBQ0EsRUFBQSxFQUFBLEVBQUEsRUFHQSxFQUFBLEVBQUEsU0FBQSxHQUNBLE1BQUEsS0FBQSxHQUNBLEdBQUEsR0FDQSxFQUFBLEVBQUEsU0FBQSxHQUNBLE1BQUEsSUFBQSxFQUFBLEdBQUEsSUFDQSxHQUFBLEdBQ0EsR0FBQSxTQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsSUFBQSxJQUFBLEdBQUEsSUFBQSxNQUNBLEVBQUEsR0FBQSxTQUNBLEVBQUEsRUFBQSxFQUFBLEdBQ0EsRUFBQSxFQUFBLEVBQUEsR0FHQSxPQURBLEdBQUEsS0FDQSxJQUdBLEVBQUEsRUFBQSxJQUNBLEdBQUEsRUFBQSxFQUFBLFNBQUEsRUFBQSxHQUFBLE1BQ0EsR0FBQSxFQUFBLEVBQUEsR0FBQSxRQUNBLENBSUEsR0FIQSxFQUFBLEVBQUEsT0FBQSxFQUFBLEdBQUEsTUFBQSxNQUFBLEtBQUEsRUFBQSxHQUFBLFNBR0EsRUFBQSxHQUFBLENBR0EsSUFEQSxJQUFBLEVBQ0EsRUFBQSxJQUNBLEVBQUEsU0FBQSxFQUFBLEdBQUEsTUFEQSxLQUtBLE1BQUEsR0FDQSxFQUFBLEdBQUEsRUFBQSxHQUNBLEVBQUEsR0FBQSxFQUVBLEVBQUEsTUFBQSxFQUFBLEVBQUEsR0FBQSxRQUFBLE1BQUEsTUFBQSxFQUFBLEVBQUEsR0FBQSxLQUFBLElBQUEsTUFDQSxRQUFBLEdBQUEsTUFDQSxFQUNBLEVBQUEsR0FBQSxFQUFBLEVBQUEsTUFBQSxFQUFBLElBQ0EsRUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLE1BQUEsSUFDQSxFQUFBLEdBQUEsRUFBQSxJQUdBLEVBQUEsS0FBQSxHQUlBLE1BQUEsR0FBQSxHQUdBLFFBQUEsR0FBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsT0FBQSxFQUNBLEVBQUEsRUFBQSxPQUFBLEVBQ0EsRUFBQSxTQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxFQUNBLEVBQUEsRUFDQSxFQUFBLElBQ0EsRUFBQSxNQUNBLEtBQ0EsRUFBQSxFQUVBLEVBQUEsR0FBQSxHQUFBLEVBQUEsS0FBQSxJQUFBLElBQUEsR0FFQSxFQUFBLEdBQUEsTUFBQSxFQUFBLEVBQUEsS0FBQSxVQUFBLEdBQ0EsRUFBQSxFQUFBLE1BU0EsS0FQQSxJQUNBLEVBQUEsSUFBQSxHQUFBLEdBQUEsR0FNQSxJQUFBLEdBQUEsT0FBQSxFQUFBLEVBQUEsSUFBQSxJQUFBLENBQ0EsR0FBQSxHQUFBLEVBQUEsQ0FNQSxJQUxBLEVBQUEsRUFDQSxHQUFBLEVBQUEsZ0JBQUEsSUFDQSxFQUFBLEdBQ0EsR0FBQSxHQUVBLEVBQUEsRUFBQSxNQUNBLEdBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxHQUFBLENBQ0EsRUFBQSxLQUFBLEVBQ0EsT0FHQSxJQUNBLEVBQUEsR0FLQSxLQUVBLEdBQUEsR0FBQSxJQUNBLElBSUEsR0FDQSxFQUFBLEtBQUEsSUFnQkEsR0FUQSxHQUFBLEVBU0EsR0FBQSxJQUFBLEVBQUEsQ0FFQSxJQURBLEVBQUEsRUFDQSxFQUFBLEVBQUEsTUFDQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBR0EsSUFBQSxFQUFBLENBRUEsR0FBQSxFQUFBLEVBQ0EsS0FBQSxLQUNBLEVBQUEsSUFBQSxFQUFBLEtBQ0EsRUFBQSxHQUFBLEVBQUEsS0FBQSxHQU1BLEdBQUEsRUFBQSxHQUlBLEVBQUEsTUFBQSxFQUFBLEdBR0EsSUFBQSxHQUFBLEVBQUEsT0FBQSxHQUNBLEVBQUEsRUFBQSxPQUFBLEdBRUEsRUFBQSxXQUFBLEdBVUEsTUFMQSxLQUNBLEVBQUEsRUFDQSxFQUFBLEdBR0EsRUFHQSxPQUFBLEdBQ0EsRUFBQSxHQUNBLEVBL2dFQSxHQUFBLEdBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFHQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBR0EsRUFBQSxTQUFBLEVBQUEsR0FBQSxNQUNBLEVBQUEsRUFBQSxTQUNBLEVBQUEsRUFDQSxFQUFBLEVBQ0EsRUFBQSxJQUNBLEVBQUEsSUFDQSxFQUFBLElBQ0EsRUFBQSxTQUFBLEVBQUEsR0FJQSxNQUhBLEtBQUEsSUFDQSxHQUFBLEdBRUEsR0FJQSxLQUFBLGVBQ0EsS0FDQSxFQUFBLEVBQUEsSUFDQSxFQUFBLEVBQUEsS0FDQSxFQUFBLEVBQUEsS0FDQSxFQUFBLEVBQUEsTUFHQSxHQUFBLFNBQUEsRUFBQSxHQUdBLElBRkEsR0FBQSxHQUFBLEVBQ0EsRUFBQSxFQUFBLE9BQ0EsRUFBQSxFQUFBLElBQ0EsR0FBQSxFQUFBLEtBQUEsRUFDQSxNQUFBLEVBR0EsT0FBQSxJQUdBLEdBQUEsNkhBS0EsR0FBQSxzQkFHQSxHQUFBLGtDQUdBLEdBQUEsTUFBQSxHQUFBLEtBQUEsR0FBQSxPQUFBLEdBRUEsZ0JBQUEsR0FFQSwyREFBQSxHQUFBLE9BQUEsR0FDQSxPQUVBLEdBQUEsS0FBQSxHQUFBLHdGQUtBLEdBQUEsZUFNQSxHQUFBLEdBQUEsUUFBQSxHQUFBLElBQUEsS0FDQSxHQUFBLEdBQUEsUUFBQSxJQUFBLEdBQUEsOEJBQUEsR0FBQSxLQUFBLEtBRUEsR0FBQSxHQUFBLFFBQUEsSUFBQSxHQUFBLEtBQUEsR0FBQSxLQUNBLEdBQUEsR0FBQSxRQUFBLElBQUEsR0FBQSxXQUFBLEdBQUEsSUFBQSxHQUFBLEtBRUEsR0FBQSxHQUFBLFFBQUEsSUFBQSxHQUFBLGlCQUFBLEdBQUEsT0FBQSxLQUVBLEdBQUEsR0FBQSxRQUFBLElBQ0EsR0FBQSxHQUFBLFFBQUEsSUFBQSxHQUFBLEtBRUEsSUFDQSxHQUFBLEdBQUEsUUFBQSxNQUFBLEdBQUEsS0FDQSxNQUFBLEdBQUEsUUFBQSxRQUFBLEdBQUEsS0FDQSxJQUFBLEdBQUEsUUFBQSxLQUFBLEdBQUEsU0FDQSxLQUFBLEdBQUEsUUFBQSxJQUFBLElBQ0EsT0FBQSxHQUFBLFFBQUEsSUFBQSxJQUNBLE1BQUEsR0FBQSxRQUFBLHlEQUFBLEdBQ0EsK0JBQUEsR0FBQSxjQUFBLEdBQ0EsYUFBQSxHQUFBLFNBQUEsS0FDQSxLQUFBLEdBQUEsUUFBQSxPQUFBLEdBQUEsS0FBQSxLQUdBLGFBQUEsR0FBQSxRQUFBLElBQUEsR0FBQSxtREFDQSxHQUFBLG1CQUFBLEdBQUEsbUJBQUEsTUFHQSxHQUFBLHNDQUNBLEdBQUEsU0FFQSxHQUFBLHlCQUdBLEdBQUEsbUNBRUEsR0FBQSxPQUlBLEdBQUEsR0FBQSxRQUFBLHFCQUFBLEdBQUEsTUFBQSxHQUFBLE9BQUEsTUFDQSxHQUFBLFNBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEtBQUEsRUFBQSxLQUlBLE9BQUEsS0FBQSxHQUFBLEVBQ0EsRUFDQSxFQUFBLEVBRUEsT0FBQSxhQUFBLEVBQUEsT0FFQSxPQUFBLGFBQUEsR0FBQSxHQUFBLE1BQUEsS0FBQSxFQUFBLFFBS0EsR0FBQSxzREFDQSxHQUFBLFNBQUEsRUFBQSxHQUNBLE1BQUEsR0FHQSxTQUFBLEVBQ0EsSUFJQSxFQUFBLE1BQUEsRUFBQSxJQUFBLEtBQUEsRUFBQSxXQUFBLEVBQUEsT0FBQSxHQUFBLFNBQUEsSUFBQSxJQUlBLEtBQUEsR0FPQSxHQUFBLFdBQ0E7RUFHQSxHQUFBLEVBQ0EsU0FBQSxHQUNBLE1BQUEsR0FBQSxZQUFBLElBQUEsUUFBQSxJQUFBLFNBQUEsTUFFQSxJQUFBLGFBQUEsS0FBQSxVQUlBLEtBQ0EsRUFBQSxNQUNBLEVBQUEsRUFBQSxLQUFBLEVBQUEsWUFDQSxFQUFBLFlBSUEsRUFBQSxFQUFBLFdBQUEsUUFBQSxTQUNBLE1BQUEsSUFDQSxHQUFBLE1BQUEsRUFBQSxPQUdBLFNBQUEsRUFBQSxHQUNBLEVBQUEsTUFBQSxFQUFBLEVBQUEsS0FBQSxLQUtBLFNBQUEsRUFBQSxHQUlBLElBSEEsR0FBQSxHQUFBLEVBQUEsT0FDQSxFQUFBLEVBRUEsRUFBQSxLQUFBLEVBQUEsT0FDQSxFQUFBLE9BQUEsRUFBQSxJQW9WQSxFQUFBLEVBQUEsV0FPQSxFQUFBLEVBQUEsTUFBQSxTQUFBLEdBR0EsR0FBQSxHQUFBLElBQUEsRUFBQSxlQUFBLEdBQUEsZUFDQSxPQUFBLEdBQUEsU0FBQSxFQUFBLFVBQUEsR0FRQSxFQUFBLEVBQUEsWUFBQSxTQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQ0EsRUFBQSxFQUFBLEVBQUEsZUFBQSxFQUFBLENBR0EsT0FBQSxLQUFBLEdBQUEsSUFBQSxFQUFBLFVBQUEsRUFBQSxpQkFLQSxFQUFBLEVBQ0EsRUFBQSxFQUFBLGdCQUNBLEdBQUEsRUFBQSxHQUlBLElBQUEsSUFDQSxFQUFBLEVBQUEsY0FBQSxFQUFBLE1BQUEsSUFHQSxFQUFBLGlCQUNBLEVBQUEsaUJBQUEsU0FBQSxJQUFBLEdBR0EsRUFBQSxhQUNBLEVBQUEsWUFBQSxXQUFBLEtBVUEsRUFBQSxXQUFBLEVBQUEsU0FBQSxHQUVBLE1BREEsR0FBQSxVQUFBLEtBQ0EsRUFBQSxhQUFBLGVBT0EsRUFBQSxxQkFBQSxFQUFBLFNBQUEsR0FFQSxNQURBLEdBQUEsWUFBQSxFQUFBLGNBQUEsTUFDQSxFQUFBLHFCQUFBLEtBQUEsU0FJQSxFQUFBLHVCQUFBLEdBQUEsS0FBQSxFQUFBLHdCQU1BLEVBQUEsUUFBQSxFQUFBLFNBQUEsR0FFQSxNQURBLEdBQUEsWUFBQSxHQUFBLEdBQUEsR0FDQSxFQUFBLG9CQUFBLEVBQUEsa0JBQUEsR0FBQSxTQUlBLEVBQUEsU0FDQSxFQUFBLE9BQUEsR0FBQSxTQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsUUFBQSxHQUFBLEdBQ0EsT0FBQSxVQUFBLEdBQ0EsTUFBQSxHQUFBLGFBQUEsUUFBQSxJQUdBLEVBQUEsS0FBQSxHQUFBLFNBQUEsRUFBQSxHQUNBLEdBQUEsbUJBQUEsR0FBQSxnQkFBQSxFQUFBLENBQ0EsR0FBQSxHQUFBLEVBQUEsZUFBQSxFQUNBLE9BQUEsSUFBQSxVQUlBLEVBQUEsT0FBQSxHQUFBLFNBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxRQUFBLEdBQUEsR0FDQSxPQUFBLFVBQUEsR0FDQSxHQUFBLEdBQUEsbUJBQUEsR0FBQSxrQkFDQSxFQUFBLGlCQUFBLEtBQ0EsT0FBQSxJQUFBLEVBQUEsUUFBQSxJQU1BLEVBQUEsS0FBQSxHQUFBLFNBQUEsRUFBQSxHQUNBLEdBQUEsbUJBQUEsR0FBQSxnQkFBQSxFQUFBLENBQ0EsR0FBQSxHQUFBLEVBQUEsRUFDQSxFQUFBLEVBQUEsZUFBQSxFQUVBLElBQUEsRUFBQSxDQUlBLEdBREEsRUFBQSxFQUFBLGlCQUFBLE1BQ0EsR0FBQSxFQUFBLFFBQUEsRUFDQSxPQUFBLEVBTUEsS0FGQSxFQUFBLEVBQUEsa0JBQUEsR0FDQSxFQUFBLEVBQ0EsRUFBQSxFQUFBLE1BRUEsR0FEQSxFQUFBLEVBQUEsaUJBQUEsTUFDQSxHQUFBLEVBQUEsUUFBQSxFQUNBLE9BQUEsR0FLQSxZQU1BLEVBQUEsS0FBQSxJQUFBLEVBQUEscUJBQ0EsU0FBQSxFQUFBLEdBQ0EsTUFBQSxtQkFBQSxHQUFBLHFCQUNBLEVBQUEscUJBQUEsR0FHQSxFQUFBLElBQ0EsRUFBQSxpQkFBQSxHQURBLFFBS0EsU0FBQSxFQUFBLEdBQ0EsR0FBQSxHQUNBLEtBQ0EsRUFBQSxFQUVBLEVBQUEsRUFBQSxxQkFBQSxFQUdBLElBQUEsTUFBQSxFQUFBLENBQ0EsS0FBQSxFQUFBLEVBQUEsTUFDQSxJQUFBLEVBQUEsVUFDQSxFQUFBLEtBQUEsRUFJQSxPQUFBLEdBRUEsTUFBQSxJQUlBLEVBQUEsS0FBQSxNQUFBLEVBQUEsd0JBQUEsU0FBQSxFQUFBLEdBQ0EsTUFBQSxtQkFBQSxHQUFBLHdCQUFBLEVBQ0EsRUFBQSx1QkFBQSxHQURBLFFBV0EsS0FPQSxNQUVBLEVBQUEsSUFBQSxHQUFBLEtBQUEsRUFBQSxxQkFHQSxFQUFBLFNBQUEsR0FNQSxFQUFBLFlBQUEsR0FBQSxVQUFBLFVBQUEsRUFBQSxxQkFDQSxFQUFBLGtFQU9BLEVBQUEsaUJBQUEsd0JBQUEsUUFDQSxFQUFBLEtBQUEsU0FBQSxHQUFBLGdCQUtBLEVBQUEsaUJBQUEsY0FBQSxRQUNBLEVBQUEsS0FBQSxNQUFBLEdBQUEsYUFBQSxHQUFBLEtBSUEsRUFBQSxpQkFBQSxRQUFBLEVBQUEsTUFBQSxRQUNBLEVBQUEsS0FBQSxNQU1BLEVBQUEsaUJBQUEsWUFBQSxRQUNBLEVBQUEsS0FBQSxZQU1BLEVBQUEsaUJBQUEsS0FBQSxFQUFBLE1BQUEsUUFDQSxFQUFBLEtBQUEsY0FJQSxFQUFBLFNBQUEsR0FDQSxFQUFBLFVBQUEsbUZBS0EsSUFBQSxHQUFBLEVBQUEsY0FBQSxRQUNBLEdBQUEsYUFBQSxPQUFBLFVBQ0EsRUFBQSxZQUFBLEdBQUEsYUFBQSxPQUFBLEtBSUEsRUFBQSxpQkFBQSxZQUFBLFFBQ0EsRUFBQSxLQUFBLE9BQUEsR0FBQSxlQUtBLElBQUEsRUFBQSxpQkFBQSxZQUFBLFFBQ0EsRUFBQSxLQUFBLFdBQUEsYUFLQSxFQUFBLFlBQUEsR0FBQSxVQUFBLEVBQ0EsSUFBQSxFQUFBLGlCQUFBLGFBQUEsUUFDQSxFQUFBLEtBQUEsV0FBQSxhQUlBLEVBQUEsaUJBQUEsUUFDQSxFQUFBLEtBQUEsWUFJQSxFQUFBLGdCQUFBLEdBQUEsS0FBQSxFQUFBLEVBQUEsU0FDQSxFQUFBLHVCQUNBLEVBQUEsb0JBQ0EsRUFBQSxrQkFDQSxFQUFBLHFCQUVBLEVBQUEsU0FBQSxHQUdBLEVBQUEsa0JBQUEsRUFBQSxLQUFBLEVBQUEsS0FJQSxFQUFBLEtBQUEsRUFBQSxhQUNBLEVBQUEsS0FBQSxLQUFBLE1BSUEsRUFBQSxFQUFBLFFBQUEsR0FBQSxRQUFBLEVBQUEsS0FBQSxNQUNBLEVBQUEsRUFBQSxRQUFBLEdBQUEsUUFBQSxFQUFBLEtBQUEsTUFJQSxFQUFBLEdBQUEsS0FBQSxFQUFBLHlCQUtBLEVBQUEsR0FBQSxHQUFBLEtBQUEsRUFBQSxVQUNBLFNBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxJQUFBLEVBQUEsU0FBQSxFQUFBLGdCQUFBLEVBQ0EsRUFBQSxHQUFBLEVBQUEsVUFDQSxPQUFBLEtBQUEsTUFBQSxHQUFBLElBQUEsRUFBQSxZQUNBLEVBQUEsU0FDQSxFQUFBLFNBQUEsR0FDQSxFQUFBLHlCQUFBLEdBQUEsRUFBQSx3QkFBQSxNQUdBLFNBQUEsRUFBQSxHQUNBLEdBQUEsRUFDQSxLQUFBLEVBQUEsRUFBQSxZQUNBLEdBQUEsSUFBQSxFQUNBLE9BQUEsQ0FJQSxRQUFBLEdBT0EsRUFBQSxFQUNBLFNBQUEsRUFBQSxHQUdBLEdBQUEsSUFBQSxFQUVBLE1BREEsSUFBQSxFQUNBLENBSUEsSUFBQSxJQUFBLEVBQUEseUJBQUEsRUFBQSx1QkFDQSxPQUFBLEdBQ0EsR0FJQSxHQUFBLEVBQUEsZUFBQSxNQUFBLEVBQUEsZUFBQSxHQUNBLEVBQUEsd0JBQUEsR0FHQSxFQUdBLEVBQUEsSUFDQSxFQUFBLGNBQUEsRUFBQSx3QkFBQSxLQUFBLEVBR0EsSUFBQSxHQUFBLEVBQUEsZ0JBQUEsR0FBQSxFQUFBLEVBQUEsR0FDQSxHQUVBLElBQUEsR0FBQSxFQUFBLGdCQUFBLEdBQUEsRUFBQSxFQUFBLEdBQ0EsRUFJQSxFQUNBLEdBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxHQUNBLEVBR0EsRUFBQSxFQUFBLEdBQUEsSUFFQSxTQUFBLEVBQUEsR0FFQSxHQUFBLElBQUEsRUFFQSxNQURBLElBQUEsRUFDQSxDQUdBLElBQUEsR0FDQSxFQUFBLEVBQ0EsRUFBQSxFQUFBLFdBQ0EsRUFBQSxFQUFBLFdBQ0EsR0FBQSxHQUNBLEdBQUEsRUFHQSxLQUFBLElBQUEsRUFDQSxNQUFBLEtBQUEsRUFBQSxHQUNBLElBQUEsRUFBQSxFQUNBLEVBQUEsR0FDQSxFQUFBLEVBQ0EsRUFDQSxHQUFBLEVBQUEsR0FBQSxHQUFBLEVBQUEsR0FDQSxDQUdBLElBQUEsSUFBQSxFQUNBLE1BQUEsR0FBQSxFQUFBLEVBS0EsS0FEQSxFQUFBLEVBQ0EsRUFBQSxFQUFBLFlBQ0EsRUFBQSxRQUFBLEVBR0EsS0FEQSxFQUFBLEVBQ0EsRUFBQSxFQUFBLFlBQ0EsRUFBQSxRQUFBLEVBSUEsTUFBQSxFQUFBLEtBQUEsRUFBQSxJQUNBLEdBR0EsT0FBQSxHQUVBLEVBQUEsRUFBQSxHQUFBLEVBQUEsSUFHQSxFQUFBLEtBQUEsRUFBQSxHQUNBLEVBQUEsS0FBQSxFQUFBLEVBQ0EsR0FHQSxHQTNZQSxHQThZQSxFQUFBLFFBQUEsU0FBQSxFQUFBLEdBQ0EsTUFBQSxHQUFBLEVBQUEsS0FBQSxLQUFBLElBR0EsRUFBQSxnQkFBQSxTQUFBLEVBQUEsR0FTQSxJQVBBLEVBQUEsZUFBQSxLQUFBLEdBQ0EsRUFBQSxHQUlBLEVBQUEsRUFBQSxRQUFBLEdBQUEsYUFFQSxFQUFBLGtCQUFBLEdBQ0EsRUFBQSxFQUFBLE1BQ0EsR0FBQSxFQUFBLEtBQUEsSUFDQSxHQUFBLEVBQUEsS0FBQSxJQUVBLElBQ0EsR0FBQSxHQUFBLEVBQUEsS0FBQSxFQUFBLEVBR0EsSUFBQSxHQUFBLEVBQUEsbUJBR0EsRUFBQSxVQUFBLEtBQUEsRUFBQSxTQUFBLFNBQ0EsTUFBQSxHQUVBLE1BQUEsSUFHQSxNQUFBLEdBQUEsRUFBQSxFQUFBLE1BQUEsSUFBQSxPQUFBLEdBR0EsRUFBQSxTQUFBLFNBQUEsRUFBQSxHQUtBLE9BSEEsRUFBQSxlQUFBLEtBQUEsR0FDQSxFQUFBLEdBRUEsRUFBQSxFQUFBLElBR0EsRUFBQSxLQUFBLFNBQUEsRUFBQSxJQUVBLEVBQUEsZUFBQSxLQUFBLEdBQ0EsRUFBQSxFQUdBLElBQUEsR0FBQSxFQUFBLFdBQUEsRUFBQSxlQUVBLEVBQUEsR0FBQSxFQUFBLEtBQUEsRUFBQSxXQUFBLEVBQUEsZUFDQSxFQUFBLEVBQUEsR0FBQSxHQUNBLE1BRUEsT0FBQSxVQUFBLEVBQ0EsRUFDQSxFQUFBLGFBQUEsRUFDQSxFQUFBLGFBQUEsSUFDQSxFQUFBLEVBQUEsaUJBQUEsS0FBQSxFQUFBLFVBQ0EsRUFBQSxNQUNBLE1BR0EsRUFBQSxPQUFBLFNBQUEsR0FDQSxPQUFBLEVBQUEsSUFBQSxRQUFBLEdBQUEsS0FHQSxFQUFBLE1BQUEsU0FBQSxHQUNBLEtBQUEsSUFBQSxPQUFBLDBDQUFBLElBT0EsRUFBQSxXQUFBLFNBQUEsR0FDQSxHQUFBLEdBQ0EsS0FDQSxFQUFBLEVBQ0EsRUFBQSxDQU9BLElBSkEsR0FBQSxFQUFBLGlCQUNBLEdBQUEsRUFBQSxZQUFBLEVBQUEsTUFBQSxHQUNBLEVBQUEsS0FBQSxHQUVBLEVBQUEsQ0FDQSxLQUFBLEVBQUEsRUFBQSxNQUNBLElBQUEsRUFBQSxLQUNBLEVBQUEsRUFBQSxLQUFBLEdBR0EsTUFBQSxLQUNBLEVBQUEsT0FBQSxFQUFBLEdBQUEsR0FRQSxNQUZBLEdBQUEsS0FFQSxHQU9BLEVBQUEsRUFBQSxRQUFBLFNBQUEsR0FDQSxHQUFBLEdBQ0EsRUFBQSxHQUNBLEVBQUEsRUFDQSxFQUFBLEVBQUEsUUFFQSxJQUFBLEdBTUEsR0FBQSxJQUFBLEdBQUEsSUFBQSxHQUFBLEtBQUEsRUFBQSxDQUdBLEdBQUEsZ0JBQUEsR0FBQSxZQUNBLE1BQUEsR0FBQSxXQUdBLEtBQUEsRUFBQSxFQUFBLFdBQUEsRUFBQSxFQUFBLEVBQUEsWUFDQSxHQUFBLEVBQUEsT0FHQSxJQUFBLElBQUEsR0FBQSxJQUFBLEVBQ0EsTUFBQSxHQUFBLGNBaEJBLE1BQUEsRUFBQSxFQUFBLE1BRUEsR0FBQSxFQUFBLEVBa0JBLE9BQUEsSUFHQSxFQUFBLEVBQUEsV0FHQSxZQUFBLEdBRUEsYUFBQSxFQUVBLE1BQUEsR0FFQSxjQUVBLFFBRUEsVUFDQSxLQUFBLElBQUEsYUFBQSxPQUFBLEdBQ0EsS0FBQSxJQUFBLGNBQ0EsS0FBQSxJQUFBLGtCQUFBLE9BQUEsR0FDQSxLQUFBLElBQUEsb0JBR0EsV0FDQSxLQUFBLFNBQUEsR0FVQSxNQVRBLEdBQUEsR0FBQSxFQUFBLEdBQUEsUUFBQSxHQUFBLElBR0EsRUFBQSxJQUFBLEVBQUEsSUFBQSxFQUFBLElBQUEsRUFBQSxJQUFBLElBQUEsUUFBQSxHQUFBLElBRUEsT0FBQSxFQUFBLEtBQ0EsRUFBQSxHQUFBLElBQUEsRUFBQSxHQUFBLEtBR0EsRUFBQSxNQUFBLEVBQUEsSUFHQSxNQUFBLFNBQUEsR0E2QkEsTUFsQkEsR0FBQSxHQUFBLEVBQUEsR0FBQSxjQUVBLFFBQUEsRUFBQSxHQUFBLE1BQUEsRUFBQSxJQUVBLEVBQUEsSUFDQSxFQUFBLE1BQUEsRUFBQSxJQUtBLEVBQUEsS0FBQSxFQUFBLEdBQUEsRUFBQSxJQUFBLEVBQUEsSUFBQSxHQUFBLEdBQUEsU0FBQSxFQUFBLElBQUEsUUFBQSxFQUFBLEtBQ0EsRUFBQSxLQUFBLEVBQUEsR0FBQSxFQUFBLElBQUEsUUFBQSxFQUFBLEtBR0EsRUFBQSxJQUNBLEVBQUEsTUFBQSxFQUFBLElBR0EsR0FHQSxPQUFBLFNBQUEsR0FDQSxHQUFBLEdBQ0EsR0FBQSxFQUFBLElBQUEsRUFBQSxFQUVBLE9BQUEsSUFBQSxNQUFBLEtBQUEsRUFBQSxJQUNBLE1BSUEsRUFBQSxHQUNBLEVBQUEsR0FBQSxFQUFBLElBQUEsRUFBQSxJQUFBLEdBR0EsR0FBQSxHQUFBLEtBQUEsS0FFQSxFQUFBLEVBQUEsR0FBQSxNQUVBLEVBQUEsRUFBQSxRQUFBLElBQUEsRUFBQSxPQUFBLEdBQUEsRUFBQSxVQUdBLEVBQUEsR0FBQSxFQUFBLEdBQUEsTUFBQSxFQUFBLEdBQ0EsRUFBQSxHQUFBLEVBQUEsTUFBQSxFQUFBLElBSUEsRUFBQSxNQUFBLEVBQUEsTUFJQSxRQUVBLElBQUEsU0FBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLFFBQUEsR0FBQSxJQUFBLGFBQ0EsT0FBQSxNQUFBLEVBQ0EsV0FBQSxPQUFBLEdBQ0EsU0FBQSxHQUNBLE1BQUEsR0FBQSxVQUFBLEVBQUEsU0FBQSxnQkFBQSxJQUlBLE1BQUEsU0FBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLEVBQUEsSUFFQSxPQUFBLEtBQ0EsRUFBQSxHQUFBLFFBQUEsTUFBQSxHQUFBLElBQUEsRUFBQSxJQUFBLEdBQUEsU0FDQSxFQUFBLEVBQUEsU0FBQSxHQUNBLE1BQUEsR0FBQSxLQUFBLGdCQUFBLEdBQUEsV0FBQSxFQUFBLFdBQUEsbUJBQUEsR0FBQSxjQUFBLEVBQUEsYUFBQSxVQUFBLE9BSUEsS0FBQSxTQUFBLEVBQUEsRUFBQSxHQUNBLE1BQUEsVUFBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLEtBQUEsRUFBQSxFQUVBLE9BQUEsT0FBQSxFQUNBLE9BQUEsRUFFQSxHQUlBLEdBQUEsR0FFQSxNQUFBLEVBQUEsSUFBQSxFQUNBLE9BQUEsRUFBQSxJQUFBLEVBQ0EsT0FBQSxFQUFBLEdBQUEsSUFBQSxFQUFBLFFBQUEsR0FDQSxPQUFBLEVBQUEsR0FBQSxFQUFBLFFBQUEsR0FBQSxHQUNBLE9BQUEsRUFBQSxHQUFBLEVBQUEsT0FBQSxFQUFBLFVBQUEsRUFDQSxPQUFBLEdBQUEsSUFBQSxFQUFBLFFBQUEsR0FBQSxLQUFBLEtBQUEsUUFBQSxHQUFBLEdBQ0EsT0FBQSxFQUFBLElBQUEsR0FBQSxFQUFBLE1BQUEsRUFBQSxFQUFBLE9BQUEsS0FBQSxFQUFBLEtBQ0EsSUFaQSxJQWdCQSxNQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxRQUFBLEVBQUEsTUFBQSxFQUFBLEdBQ0EsRUFBQSxTQUFBLEVBQUEsTUFBQSxJQUNBLEVBQUEsWUFBQSxDQUVBLE9BQUEsS0FBQSxHQUFBLElBQUEsRUFHQSxTQUFBLEdBQ0EsUUFBQSxFQUFBLFlBR0EsU0FBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUNBLEVBQUEsSUFBQSxFQUFBLGNBQUEsa0JBQ0EsRUFBQSxFQUFBLFdBQ0EsRUFBQSxHQUFBLEVBQUEsU0FBQSxjQUNBLEdBQUEsSUFBQSxFQUNBLEdBQUEsQ0FFQSxJQUFBLEVBQUEsQ0FHQSxHQUFBLEVBQUEsQ0FDQSxLQUFBLEdBQUEsQ0FFQSxJQURBLEVBQUEsRUFDQSxFQUFBLEVBQUEsSUFDQSxHQUFBLEVBQ0EsRUFBQSxTQUFBLGdCQUFBLEVBQ0EsSUFBQSxFQUFBLFNBRUEsT0FBQSxDQUlBLEdBQUEsRUFBQSxTQUFBLElBQUEsR0FBQSxjQUVBLE9BQUEsRUFNQSxHQUhBLEdBQUEsRUFBQSxFQUFBLFdBQUEsRUFBQSxXQUdBLEdBQUEsR0FrQkEsSUFiQSxFQUFBLEVBQ0EsRUFBQSxFQUFBLEtBQUEsRUFBQSxPQUlBLEVBQUEsRUFBQSxFQUFBLFlBQ0EsRUFBQSxFQUFBLGNBRUEsRUFBQSxFQUFBLE9BQ0EsRUFBQSxFQUFBLEtBQUEsR0FBQSxFQUFBLEdBQ0EsRUFBQSxHQUFBLEVBQUEsR0FDQSxFQUFBLEdBQUEsRUFBQSxXQUFBLEdBRUEsSUFBQSxHQUFBLEdBQUEsRUFBQSxLQUdBLEVBQUEsRUFBQSxJQUFBLEVBQUEsT0FHQSxHQUFBLElBQUEsRUFBQSxZQUFBLEdBQUEsSUFBQSxFQUFBLENBQ0EsRUFBQSxJQUFBLEVBQUEsRUFBQSxFQUNBLFlBdUJBLElBakJBLElBRUEsRUFBQSxFQUNBLEVBQUEsRUFBQSxLQUFBLEVBQUEsT0FJQSxFQUFBLEVBQUEsRUFBQSxZQUNBLEVBQUEsRUFBQSxjQUVBLEVBQUEsRUFBQSxPQUNBLEVBQUEsRUFBQSxLQUFBLEdBQUEsRUFBQSxHQUNBLEVBQUEsR0FLQSxLQUFBLEVBRUEsTUFBQSxJQUFBLEdBQUEsR0FBQSxFQUFBLEtBQ0EsRUFBQSxFQUFBLElBQUEsRUFBQSxVQUVBLEVBQ0EsRUFBQSxTQUFBLGdCQUFBLEVBQ0EsSUFBQSxFQUFBLGNBQ0EsSUFHQSxJQUNBLEVBQUEsRUFBQSxLQUFBLEVBQUEsT0FJQSxFQUFBLEVBQUEsRUFBQSxZQUNBLEVBQUEsRUFBQSxjQUVBLEVBQUEsSUFBQSxFQUFBLElBR0EsSUFBQSxNQVVBLE1BREEsSUFBQSxFQUNBLElBQUEsR0FBQSxFQUFBLElBQUEsR0FBQSxFQUFBLEdBQUEsS0FLQSxPQUFBLFNBQUEsRUFBQSxHQUtBLEdBQUEsR0FDQSxFQUFBLEVBQUEsUUFBQSxJQUFBLEVBQUEsV0FBQSxFQUFBLGdCQUNBLEVBQUEsTUFBQSx1QkFBQSxFQUtBLE9BQUEsR0FBQSxHQUNBLEVBQUEsR0FJQSxFQUFBLE9BQUEsR0FDQSxHQUFBLEVBQUEsRUFBQSxHQUFBLEdBQ0EsRUFBQSxXQUFBLGVBQUEsRUFBQSxlQUNBLEVBQUEsU0FBQSxFQUFBLEdBSUEsSUFIQSxHQUFBLEdBQ0EsRUFBQSxFQUFBLEVBQUEsR0FDQSxFQUFBLEVBQUEsT0FDQSxLQUNBLEVBQUEsR0FBQSxFQUFBLEVBQUEsSUFDQSxFQUFBLEtBQUEsRUFBQSxHQUFBLEVBQUEsTUFHQSxTQUFBLEdBQ0EsTUFBQSxHQUFBLEVBQUEsRUFBQSxLQUlBLElBSUEsU0FFQSxJQUFBLEVBQUEsU0FBQSxHQUlBLEdBQUEsTUFDQSxLQUNBLEVBQUEsRUFBQSxFQUFBLFFBQUEsR0FBQSxNQUVBLE9BQUEsR0FBQSxHQUNBLEVBQUEsU0FBQSxFQUFBLEVBQUEsRUFBQSxHQU1BLElBTEEsR0FBQSxHQUNBLEVBQUEsRUFBQSxFQUFBLEtBQUEsTUFDQSxFQUFBLEVBQUEsT0FHQSxNQUNBLEVBQUEsRUFBQSxNQUNBLEVBQUEsS0FBQSxFQUFBLEdBQUEsTUFJQSxTQUFBLEVBQUEsRUFBQSxHQUtBLE1BSkEsR0FBQSxHQUFBLEVBQ0EsRUFBQSxFQUFBLEtBQUEsRUFBQSxHQUVBLEVBQUEsR0FBQSxNQUNBLEVBQUEsU0FJQSxJQUFBLEVBQUEsU0FBQSxHQUNBLE1BQUEsVUFBQSxHQUNBLE1BQUEsR0FBQSxFQUFBLEdBQUEsT0FBQSxLQUlBLFNBQUEsRUFBQSxTQUFBLEdBRUEsTUFEQSxHQUFBLEVBQUEsUUFBQSxHQUFBLElBQ0EsU0FBQSxHQUNBLE9BQUEsRUFBQSxhQUFBLEVBQUEsV0FBQSxFQUFBLElBQUEsUUFBQSxHQUFBLE1BV0EsS0FBQSxFQUFBLFNBQUEsR0FNQSxNQUpBLElBQUEsS0FBQSxHQUFBLEtBQ0EsRUFBQSxNQUFBLHFCQUFBLEdBRUEsRUFBQSxFQUFBLFFBQUEsR0FBQSxJQUFBLGNBQ0EsU0FBQSxHQUNBLEdBQUEsRUFDQSxHQUNBLElBQUEsRUFBQSxFQUNBLEVBQUEsS0FDQSxFQUFBLGFBQUEsYUFBQSxFQUFBLGFBQUEsUUFHQSxNQURBLEdBQUEsRUFBQSxjQUNBLElBQUEsR0FBQSxJQUFBLEVBQUEsUUFBQSxFQUFBLFlBRUEsRUFBQSxFQUFBLGFBQUEsSUFBQSxFQUFBLFNBQ0EsUUFBQSxLQUtBLE9BQUEsU0FBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLFVBQUEsRUFBQSxTQUFBLElBQ0EsT0FBQSxJQUFBLEVBQUEsTUFBQSxLQUFBLEVBQUEsSUFHQSxLQUFBLFNBQUEsR0FDQSxNQUFBLEtBQUEsR0FHQSxNQUFBLFNBQUEsR0FDQSxNQUFBLEtBQUEsRUFBQSxpQkFBQSxFQUFBLFVBQUEsRUFBQSxnQkFBQSxFQUFBLE1BQUEsRUFBQSxPQUFBLEVBQUEsV0FJQSxRQUFBLEdBQUEsR0FDQSxTQUFBLEdBQUEsR0FFQSxRQUFBLFNBQUEsR0FHQSxHQUFBLEdBQUEsRUFBQSxTQUFBLGFBQ0EsT0FBQSxVQUFBLEtBQUEsRUFBQSxTQUFBLFdBQUEsS0FBQSxFQUFBLFVBR0EsU0FBQSxTQUFBLEdBT0EsTUFKQSxHQUFBLFlBQ0EsRUFBQSxXQUFBLGNBR0EsRUFBQSxZQUFBLEdBSUEsTUFBQSxTQUFBLEdBS0EsSUFBQSxFQUFBLEVBQUEsV0FBQSxFQUFBLEVBQUEsRUFBQSxZQUNBLEdBQUEsRUFBQSxTQUFBLEVBQ0EsT0FBQSxDQUdBLFFBQUEsR0FHQSxPQUFBLFNBQUEsR0FDQSxPQUFBLEVBQUEsUUFBQSxNQUFBLElBSUEsT0FBQSxTQUFBLEdBQ0EsTUFBQSxJQUFBLEtBQUEsRUFBQSxXQUdBLE1BQUEsU0FBQSxHQUNBLE1BQUEsSUFBQSxLQUFBLEVBQUEsV0FHQSxPQUFBLFNBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxTQUFBLGFBQ0EsT0FBQSxVQUFBLEdBQUEsV0FBQSxFQUFBLE1BQUEsV0FBQSxHQUdBLEtBQUEsU0FBQSxHQUNBLEdBQUEsRUFDQSxPQUFBLFVBQUEsRUFBQSxTQUFBLGVBQ0EsU0FBQSxFQUFBLE9BSUEsT0FBQSxFQUFBLEVBQUEsYUFBQSxVQUFBLFNBQUEsRUFBQSxnQkFJQSxNQUFBLEVBQUEsV0FDQSxPQUFBLEtBR0EsS0FBQSxFQUFBLFNBQUEsRUFBQSxHQUNBLE9BQUEsRUFBQSxLQUdBLEdBQUEsRUFBQSxTQUFBLEVBQUEsRUFBQSxHQUNBLE9BQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxLQUdBLEtBQUEsRUFBQSxTQUFBLEVBQUEsR0FFQSxJQURBLEdBQUEsR0FBQSxFQUNBLEVBQUEsRUFBQSxHQUFBLEVBQ0EsRUFBQSxLQUFBLEVBRUEsT0FBQSxLQUdBLElBQUEsRUFBQSxTQUFBLEVBQUEsR0FFQSxJQURBLEdBQUEsR0FBQSxFQUNBLEVBQUEsRUFBQSxHQUFBLEVBQ0EsRUFBQSxLQUFBLEVBRUEsT0FBQSxLQUdBLEdBQUEsRUFBQSxTQUFBLEVBQUEsRUFBQSxHQUVBLElBREEsR0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsSUFDQSxHQUFBLEdBQ0EsRUFBQSxLQUFBLEVBRUEsT0FBQSxLQUdBLEdBQUEsRUFBQSxTQUFBLEVBQUEsRUFBQSxHQUVBLElBREEsR0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsSUFDQSxFQUFBLEdBQ0EsRUFBQSxLQUFBLEVBRUEsT0FBQSxPQUtBLEVBQUEsUUFBQSxJQUFBLEVBQUEsUUFBQSxFQUdBLEtBQUEsS0FBQSxPQUFBLEVBQUEsVUFBQSxFQUFBLE1BQUEsRUFBQSxVQUFBLEVBQUEsT0FBQSxHQUNBLEVBQUEsUUFBQSxHQUFBLEVBQUEsRUFFQSxLQUFBLEtBQUEsUUFBQSxFQUFBLE9BQUEsR0FDQSxFQUFBLFFBQUEsR0FBQSxFQUFBLEVBbW5CQSxPQTltQkEsR0FBQSxVQUFBLEVBQUEsUUFBQSxFQUFBLFFBQ0EsRUFBQSxXQUFBLEdBQUEsR0FFQSxFQUFBLEVBQUEsU0FBQSxTQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQ0EsRUFBQSxFQUFBLEVBQ0EsRUFBQSxFQUFBLEVBQUEsSUFFQSxJQUFBLEVBQ0EsTUFBQSxHQUFBLEVBQUEsRUFBQSxNQUFBLEVBT0EsS0FKQSxFQUFBLEVBQ0EsS0FDQSxFQUFBLEVBQUEsVUFFQSxHQUFBLEdBR0EsSUFBQSxFQUFBLEdBQUEsS0FBQSxPQUNBLElBRUEsRUFBQSxFQUFBLE1BQUEsRUFBQSxHQUFBLFNBQUEsR0FFQSxFQUFBLEtBQUEsT0FHQSxHQUFBLEdBR0EsRUFBQSxHQUFBLEtBQUEsTUFDQSxFQUFBLEVBQUEsUUFDQSxFQUFBLE1BQ0EsTUFBQSxFQUVBLEtBQUEsRUFBQSxHQUFBLFFBQUEsR0FBQSxPQUVBLEVBQUEsRUFBQSxNQUFBLEVBQUEsUUFJQSxLQUFBLElBQUEsR0FBQSxTQUNBLEVBQUEsR0FBQSxHQUFBLEtBQUEsS0FBQSxFQUFBLE1BQ0EsRUFBQSxFQUFBLEdBQUEsTUFDQSxFQUFBLEVBQUEsUUFDQSxFQUFBLE1BQ0EsTUFBQSxFQUNBLEtBQUEsRUFDQSxRQUFBLElBRUEsRUFBQSxFQUFBLE1BQUEsRUFBQSxRQUlBLEtBQUEsRUFDQSxNQU9BLE1BQUEsR0FDQSxFQUFBLE9BQ0EsRUFDQSxFQUFBLE1BQUEsR0FFQSxFQUFBLEVBQUEsR0FBQSxNQUFBLElBK1hBLEVBQUEsRUFBQSxRQUFBLFNBQUEsRUFBQSxHQUNBLEdBQUEsR0FDQSxLQUNBLEtBQ0EsRUFBQSxFQUFBLEVBQUEsSUFFQSxLQUFBLEVBQUEsQ0FNQSxJQUpBLElBQ0EsRUFBQSxFQUFBLElBRUEsRUFBQSxFQUFBLE9BQ0EsS0FDQSxFQUFBLEVBQUEsRUFBQSxJQUNBLEVBQUEsR0FDQSxFQUFBLEtBQUEsR0FFQSxFQUFBLEtBQUEsRUFLQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsSUFHQSxFQUFBLFNBQUEsRUFFQSxNQUFBLElBWUEsRUFBQSxFQUFBLE9BQUEsU0FBQSxFQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxFQUNBLEVBQUEsa0JBQUEsSUFBQSxFQUNBLEdBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxVQUFBLEVBTUEsSUFKQSxFQUFBLE1BSUEsSUFBQSxFQUFBLE9BQUEsQ0FJQSxHQURBLEVBQUEsRUFBQSxHQUFBLEVBQUEsR0FBQSxNQUFBLEdBQ0EsRUFBQSxPQUFBLEdBQUEsUUFBQSxFQUFBLEVBQUEsSUFBQSxNQUNBLElBQUEsRUFBQSxVQUFBLEdBQUEsRUFBQSxTQUFBLEVBQUEsR0FBQSxNQUFBLENBR0EsR0FEQSxHQUFBLEVBQUEsS0FBQSxHQUFBLEVBQUEsUUFBQSxHQUFBLFFBQUEsR0FBQSxJQUFBLFFBQUEsSUFDQSxFQUNBLE1BQUEsRUFHQSxLQUNBLEVBQUEsRUFBQSxZQUdBLEVBQUEsRUFBQSxNQUFBLEVBQUEsUUFBQSxNQUFBLFFBS0EsSUFEQSxFQUFBLEdBQUEsYUFBQSxLQUFBLEdBQUEsRUFBQSxFQUFBLE9BQ0EsTUFDQSxFQUFBLEVBQUEsSUFHQSxFQUFBLFNBQUEsRUFBQSxFQUFBLFFBR0EsSUFBQSxFQUFBLEVBQUEsS0FBQSxNQUVBLEVBQUEsRUFDQSxFQUFBLFFBQUEsR0FBQSxRQUFBLEdBQUEsSUFDQSxHQUFBLEtBQUEsRUFBQSxHQUFBLE9BQUEsRUFBQSxFQUFBLGFBQUEsSUFDQSxDQUtBLEdBRkEsRUFBQSxPQUFBLEVBQUEsR0FDQSxFQUFBLEVBQUEsUUFBQSxFQUFBLElBQ0EsRUFFQSxNQURBLEdBQUEsTUFBQSxFQUFBLEdBQ0EsQ0FHQSxRQWVBLE9BUEEsR0FBQSxFQUFBLEVBQUEsSUFDQSxFQUNBLEdBQ0EsRUFDQSxHQUNBLEdBQUEsR0FBQSxLQUFBLElBQUEsRUFBQSxFQUFBLGFBQUEsR0FFQSxHQU1BLEVBQUEsV0FBQSxFQUFBLE1BQUEsSUFBQSxLQUFBLEdBQUEsS0FBQSxNQUFBLEVBSUEsRUFBQSxtQkFBQSxFQUdBLElBSUEsRUFBQSxhQUFBLEVBQUEsU0FBQSxHQUVBLE1BQUEsR0FBQSxFQUFBLHdCQUFBLEVBQUEsY0FBQSxlQU1BLEVBQUEsU0FBQSxHQUVBLE1BREEsR0FBQSxVQUFBLG1CQUNBLE1BQUEsRUFBQSxXQUFBLGFBQUEsV0FFQSxFQUFBLHlCQUFBLFNBQUEsRUFBQSxFQUFBLEdBQ0EsTUFBQSxHQUFBLE9BQ0EsRUFBQSxhQUFBLEVBQUEsU0FBQSxFQUFBLGNBQUEsRUFBQSxLQU9BLEVBQUEsWUFBQSxFQUFBLFNBQUEsR0FHQSxNQUZBLEdBQUEsVUFBQSxXQUNBLEVBQUEsV0FBQSxhQUFBLFFBQUEsSUFDQSxLQUFBLEVBQUEsV0FBQSxhQUFBLFlBRUEsRUFBQSxRQUFBLFNBQUEsRUFBQSxFQUFBLEdBQ0EsTUFBQSxJQUFBLFVBQUEsRUFBQSxTQUFBLGNBQUEsT0FDQSxFQUFBLGVBT0EsRUFBQSxTQUFBLEdBQ0EsTUFBQSxPQUFBLEVBQUEsYUFBQSxlQUVBLEVBQUEsR0FBQSxTQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsRUFDQSxPQUFBLEdBQUEsT0FDQSxFQUFBLE1BQUEsRUFBQSxFQUFBLGVBQ0EsRUFBQSxFQUFBLGlCQUFBLEtBQUEsRUFBQSxVQUNBLEVBQUEsTUFDQSxPQUtBLEdBRUEsRUFJQSxJQUFBLEtBQUEsR0FDQSxHQUFBLEtBQUEsR0FBQSxVQUdBLEdBQUEsS0FBQSxLQUFBLEdBQUEsS0FBQSxRQUNBLEdBQUEsV0FBQSxHQUFBLE9BQUEsR0FBQSxXQUNBLEdBQUEsS0FBQSxHQUFBLFFBQ0EsR0FBQSxTQUFBLEdBQUEsTUFDQSxHQUFBLFNBQUEsR0FBQSxTQUNBLEdBQUEsZUFBQSxHQUFBLE1BS0EsSUFBQSxJQUFBLFNBQUEsRUFBQSxFQUFBLEdBSUEsSUFIQSxHQUFBLE1BQ0EsRUFBQSxTQUFBLEdBRUEsRUFBQSxFQUFBLEtBQUEsSUFBQSxFQUFBLFVBQ0EsR0FBQSxJQUFBLEVBQUEsU0FBQSxDQUNBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUNBLEtBRUEsR0FBQSxLQUFBLEdBR0EsTUFBQSxJQUlBLEdBQUEsU0FBQSxFQUFBLEdBR0EsSUFGQSxHQUFBLE1BRUEsRUFBQSxFQUFBLEVBQUEsWUFDQSxJQUFBLEVBQUEsVUFBQSxJQUFBLEdBQ0EsRUFBQSxLQUFBLEVBSUEsT0FBQSxJQUlBLEdBQUEsR0FBQSxLQUFBLE1BQUEsYUFTQSxHQUFBLGtFQUlBLEdBQUEsZ0JBb0NBLElBQUEsT0FBQSxTQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLEVBTUEsT0FKQSxLQUNBLEVBQUEsUUFBQSxFQUFBLEtBR0EsSUFBQSxFQUFBLFFBQUEsSUFBQSxFQUFBLFNBQ0EsR0FBQSxLQUFBLGdCQUFBLEVBQUEsSUFBQSxNQUdBLEdBQUEsS0FBQSxRQUFBLEVBQUEsR0FBQSxLQUFBLEVBQUEsU0FBQSxHQUNBLE1BQUEsS0FBQSxFQUFBLGFBSUEsR0FBQSxHQUFBLFFBQ0EsS0FBQSxTQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQ0EsRUFBQSxLQUFBLE9BQ0EsRUFBQSxJQUVBLElBQUEsZ0JBQUEsR0FDQSxNQUFBLE1BQUEsVUFBQSxHQUFBLEdBQUEsT0FBQSxXQUNBLElBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxJQUNBLEdBQUEsR0FBQSxTQUFBLEVBQUEsR0FBQSxNQUNBLE9BQUEsSUFRQSxLQUZBLEVBQUEsS0FBQSxjQUVBLEVBQUEsRUFBQSxFQUFBLEVBQUEsSUFDQSxHQUFBLEtBQUEsRUFBQSxFQUFBLEdBQUEsRUFHQSxPQUFBLEdBQUEsRUFBQSxHQUFBLFdBQUEsR0FBQSxHQUVBLE9BQUEsU0FBQSxHQUNBLE1BQUEsTUFBQSxVQUFBLEVBQUEsS0FBQSxPQUFBLEtBRUEsSUFBQSxTQUFBLEdBQ0EsTUFBQSxNQUFBLFVBQUEsRUFBQSxLQUFBLE9BQUEsS0FFQSxHQUFBLFNBQUEsR0FDQSxRQUFBLEVBQ0EsS0FJQSxnQkFBQSxJQUFBLEdBQUEsS0FBQSxHQUNBLEdBQUEsR0FDQSxPQUNBLEdBQ0EsU0FTQSxJQUFBLElBTUEsR0FBQSxzQ0FFQSxHQUFBLEdBQUEsR0FBQSxLQUFBLFNBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLENBR0EsS0FBQSxFQUNBLE1BQUEsS0FRQSxJQUhBLEVBQUEsR0FBQSxHQUdBLGdCQUFBLEdBQUEsQ0FhQSxHQVBBLEVBTEEsTUFBQSxFQUFBLElBQ0EsTUFBQSxFQUFBLEVBQUEsT0FBQSxJQUNBLEVBQUEsUUFBQSxHQUdBLEtBQUEsRUFBQSxNQUdBLEdBQUEsS0FBQSxJQUlBLElBQUEsRUFBQSxJQUFBLEVBNkNBLE9BQUEsR0FBQSxFQUFBLFFBQ0EsR0FBQSxHQUFBLEtBQUEsR0FLQSxLQUFBLFlBQUEsR0FBQSxLQUFBLEVBaERBLElBQUEsRUFBQSxHQUFBLENBWUEsR0FYQSxFQUFBLFlBQUEsSUFBQSxFQUFBLEdBQUEsRUFJQSxHQUFBLE1BQUEsS0FBQSxHQUFBLFVBQ0EsRUFBQSxHQUNBLEdBQUEsRUFBQSxTQUFBLEVBQUEsZUFBQSxFQUFBLElBQ0EsSUFJQSxHQUFBLEtBQUEsRUFBQSxLQUFBLEdBQUEsY0FBQSxHQUNBLElBQUEsSUFBQSxHQUdBLEdBQUEsV0FBQSxLQUFBLElBQ0EsS0FBQSxHQUFBLEVBQUEsSUFJQSxLQUFBLEtBQUEsRUFBQSxFQUFBLEdBS0EsT0FBQSxNQVlBLE1BUkEsR0FBQSxHQUFBLGVBQUEsRUFBQSxJQUVBLElBR0EsS0FBQSxHQUFBLEVBQ0EsS0FBQSxPQUFBLEdBRUEsS0FjQSxNQUFBLEdBQUEsVUFDQSxLQUFBLEdBQUEsRUFDQSxLQUFBLE9BQUEsRUFDQSxNQUlBLEdBQUEsV0FBQSxHQUNBLFNBQUEsRUFBQSxNQUNBLEVBQUEsTUFBQSxHQUdBLEVBQUEsSUFHQSxHQUFBLFVBQUEsRUFBQSxNQUlBLElBQUEsVUFBQSxHQUFBLEdBR0EsR0FBQSxHQUFBLEdBR0EsSUFBQSxJQUFBLGlDQUdBLElBQ0EsVUFBQSxFQUNBLFVBQUEsRUFDQSxNQUFBLEVBQ0EsTUFBQSxFQUdBLElBQUEsR0FBQSxRQUNBLElBQUEsU0FBQSxHQUNBLEdBQUEsR0FBQSxHQUFBLEVBQUEsTUFDQSxFQUFBLEVBQUEsTUFFQSxPQUFBLE1BQUEsT0FBQSxXQUVBLElBREEsR0FBQSxHQUFBLEVBQ0EsRUFBQSxFQUFBLElBQ0EsR0FBQSxHQUFBLFNBQUEsS0FBQSxFQUFBLElBQ0EsT0FBQSxLQU1BLFFBQUEsU0FBQSxFQUFBLEdBQ0EsR0FBQSxHQUNBLEVBQUEsRUFDQSxFQUFBLEtBQUEsT0FDQSxLQUNBLEVBQUEsZ0JBQUEsSUFBQSxHQUFBLEVBR0EsS0FBQSxHQUFBLEtBQUEsR0FDQSxLQUFBLEVBQUEsRUFBQSxJQUNBLElBQUEsRUFBQSxLQUFBLEdBQUEsR0FBQSxJQUFBLEVBQUEsRUFBQSxFQUFBLFdBR0EsR0FBQSxFQUFBLFNBQUEsS0FBQSxFQUNBLEVBQUEsTUFBQSxHQUFBLEdBR0EsSUFBQSxFQUFBLFVBQ0EsR0FBQSxLQUFBLGdCQUFBLEVBQUEsSUFBQSxDQUVBLEVBQUEsS0FBQSxFQUNBLE9BTUEsTUFBQSxNQUFBLFVBQUEsRUFBQSxPQUFBLEVBQUEsR0FBQSxXQUFBLEdBQUEsSUFJQSxNQUFBLFNBQUEsR0FHQSxNQUFBLEdBS0EsZ0JBQUEsR0FDQSxHQUFBLEtBQUEsR0FBQSxHQUFBLEtBQUEsSUFJQSxHQUFBLEtBQUEsS0FHQSxFQUFBLE9BQUEsRUFBQSxHQUFBLEdBWkEsS0FBQSxJQUFBLEtBQUEsR0FBQSxXQUFBLEtBQUEsUUFBQSxVQUFBLE9BQUEsSUFnQkEsSUFBQSxTQUFBLEVBQUEsR0FDQSxNQUFBLE1BQUEsVUFDQSxHQUFBLFdBQ0EsR0FBQSxNQUFBLEtBQUEsTUFBQSxHQUFBLEVBQUEsT0FLQSxRQUFBLFNBQUEsR0FDQSxNQUFBLE1BQUEsSUFBQSxNQUFBLEVBQ0EsS0FBQSxXQUFBLEtBQUEsV0FBQSxPQUFBLE9BVUEsR0FBQSxNQUNBLE9BQUEsU0FBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLFVBQ0EsT0FBQSxJQUFBLEtBQUEsRUFBQSxTQUFBLEVBQUEsTUFFQSxRQUFBLFNBQUEsR0FDQSxNQUFBLElBQUEsRUFBQSxlQUVBLGFBQUEsU0FBQSxFQUFBLEVBQUEsR0FDQSxNQUFBLElBQUEsRUFBQSxhQUFBLElBRUEsS0FBQSxTQUFBLEdBQ0EsTUFBQSxHQUFBLEVBQUEsZ0JBRUEsS0FBQSxTQUFBLEdBQ0EsTUFBQSxHQUFBLEVBQUEsb0JBRUEsUUFBQSxTQUFBLEdBQ0EsTUFBQSxJQUFBLEVBQUEsZ0JBRUEsUUFBQSxTQUFBLEdBQ0EsTUFBQSxJQUFBLEVBQUEsb0JBRUEsVUFBQSxTQUFBLEVBQUEsRUFBQSxHQUNBLE1BQUEsSUFBQSxFQUFBLGNBQUEsSUFFQSxVQUFBLFNBQUEsRUFBQSxFQUFBLEdBQ0EsTUFBQSxJQUFBLEVBQUEsa0JBQUEsSUFFQSxTQUFBLFNBQUEsR0FDQSxNQUFBLEtBQUEsRUFBQSxnQkFBQSxXQUFBLElBRUEsU0FBQSxTQUFBLEdBQ0EsTUFBQSxJQUFBLEVBQUEsYUFFQSxTQUFBLFNBQUEsR0FDQSxNQUFBLEdBQUEsRUFBQSxVQUNBLEVBQUEsaUJBTUEsRUFBQSxFQUFBLGNBQ0EsRUFBQSxFQUFBLFNBQUEsR0FHQSxHQUFBLFNBQUEsRUFBQSxlQUVBLFNBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxHQUFBLFNBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxHQUFBLElBQUEsS0FBQSxFQUFBLEVBdUJBLE9BckJBLFVBQUEsRUFBQSxNQUFBLE1BQ0EsRUFBQSxHQUdBLEdBQUEsZ0JBQUEsS0FDQSxFQUFBLEdBQUEsT0FBQSxFQUFBLElBR0EsS0FBQSxPQUFBLElBR0EsR0FBQSxJQUNBLEdBQUEsV0FBQSxHQUlBLEdBQUEsS0FBQSxJQUNBLEVBQUEsV0FJQSxLQUFBLFVBQUEsS0FHQSxJQUFBLElBQUEsbUJBbUNBLElBQUEsVUFBQSxTQUFBLEdBSUEsRUFBQSxnQkFBQSxHQUNBLEVBQUEsR0FDQSxHQUFBLFVBQUEsRUFFQSxJQUNBLEdBR0EsRUFHQSxFQUdBLEVBR0EsS0FHQSxLQUdBLEVBQUEsR0FHQSxFQUFBLFdBUUEsSUFMQSxFQUFBLEdBQUEsRUFBQSxLQUlBLEVBQUEsR0FBQSxFQUNBLEVBQUEsT0FBQSxFQUFBLEdBRUEsSUFEQSxFQUFBLEVBQUEsVUFDQSxFQUFBLEVBQUEsUUFHQSxFQUFBLEdBQUEsTUFBQSxFQUFBLEdBQUEsRUFBQSxPQUFBLEdBQ0EsRUFBQSxjQUdBLEVBQUEsRUFBQSxPQUNBLEdBQUEsRUFNQSxHQUFBLFNBQ0EsR0FBQSxHQUdBLEdBQUEsRUFHQSxJQUlBLEVBREEsS0FLQSxLQU1BLEdBR0EsSUFBQSxXQTJCQSxNQTFCQSxLQUdBLElBQUEsSUFDQSxFQUFBLEVBQUEsT0FBQSxFQUNBLEVBQUEsS0FBQSxJQUdBLFFBQUEsR0FBQSxHQUNBLEdBQUEsS0FBQSxFQUFBLFNBQUEsRUFBQSxHQUNBLEdBQUEsV0FBQSxHQUNBLEVBQUEsUUFBQSxFQUFBLElBQUEsSUFDQSxFQUFBLEtBQUEsR0FFQSxHQUFBLEVBQUEsUUFBQSxXQUFBLEdBQUEsS0FBQSxJQUdBLEVBQUEsTUFHQSxXQUVBLElBQUEsR0FDQSxLQUdBLE1BSUEsT0FBQSxXQVlBLE1BWEEsSUFBQSxLQUFBLFVBQUEsU0FBQSxFQUFBLEdBRUEsSUFEQSxHQUFBLElBQ0EsRUFBQSxHQUFBLFFBQUEsRUFBQSxFQUFBLElBQUEsSUFDQSxFQUFBLE9BQUEsRUFBQSxHQUdBLEdBQUEsR0FDQSxNQUlBLE1BS0EsSUFBQSxTQUFBLEdBQ0EsTUFBQSxHQUNBLEdBQUEsUUFBQSxFQUFBLEdBQUEsR0FDQSxFQUFBLE9BQUEsR0FJQSxNQUFBLFdBSUEsTUFIQSxLQUNBLE1BRUEsTUFNQSxRQUFBLFdBR0EsTUFGQSxHQUFBLEtBQ0EsRUFBQSxFQUFBLEdBQ0EsTUFFQSxTQUFBLFdBQ0EsT0FBQSxHQU1BLEtBQUEsV0FLQSxNQUpBLEdBQUEsS0FDQSxHQUFBLElBQ0EsRUFBQSxFQUFBLElBRUEsTUFFQSxPQUFBLFdBQ0EsUUFBQSxHQUlBLFNBQUEsU0FBQSxFQUFBLEdBU0EsTUFSQSxLQUNBLEVBQUEsTUFDQSxHQUFBLEVBQUEsRUFBQSxNQUFBLEVBQUEsUUFBQSxHQUNBLEVBQUEsS0FBQSxHQUNBLEdBQ0EsS0FHQSxNQUlBLEtBQUEsV0FFQSxNQURBLEdBQUEsU0FBQSxLQUFBLFdBQ0EsTUFJQSxNQUFBLFdBQ0EsUUFBQSxHQUlBLE9BQUEsSUE0Q0EsR0FBQSxRQUVBLFNBQUEsU0FBQSxHQUNBLEdBQUEsS0FJQSxTQUFBLFdBQUEsR0FBQSxVQUFBLFVBQ0EsR0FBQSxVQUFBLFVBQUEsSUFDQSxVQUFBLE9BQUEsR0FBQSxVQUFBLGVBQ0EsR0FBQSxVQUFBLGVBQUEsRUFBQSxhQUNBLFNBQUEsT0FBQSxHQUFBLFVBQUEsZUFDQSxHQUFBLFVBQUEsZUFBQSxFQUFBLGFBRUEsRUFBQSxVQUNBLEdBQ0EsTUFBQSxXQUNBLE1BQUEsSUFFQSxPQUFBLFdBRUEsTUFEQSxHQUFBLEtBQUEsV0FBQSxLQUFBLFdBQ0EsTUFFQSxRQUFBLFNBQUEsR0FDQSxNQUFBLEdBQUEsS0FBQSxLQUFBLElBSUEsS0FBQSxXQUNBLEdBQUEsR0FBQSxTQUVBLE9BQUEsSUFBQSxTQUFBLFNBQUEsR0FDQSxHQUFBLEtBQUEsRUFBQSxTQUFBLEVBQUEsR0FHQSxHQUFBLEdBQUEsR0FBQSxXQUFBLEVBQUEsRUFBQSxNQUFBLEVBQUEsRUFBQSxHQUtBLEdBQUEsRUFBQSxJQUFBLFdBQ0EsR0FBQSxHQUFBLEdBQUEsRUFBQSxNQUFBLEtBQUEsVUFDQSxJQUFBLEdBQUEsV0FBQSxFQUFBLFNBQ0EsRUFBQSxVQUNBLFNBQUEsRUFBQSxRQUNBLEtBQUEsRUFBQSxTQUNBLEtBQUEsRUFBQSxRQUVBLEVBQUEsRUFBQSxHQUFBLFFBQ0EsS0FDQSxHQUFBLEdBQUEsZUFLQSxFQUFBLE9BQ0EsV0FFQSxLQUFBLFNBQUEsRUFBQSxFQUFBLEdBRUEsUUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEdBQ0EsTUFBQSxZQUNBLEdBQUEsR0FBQSxLQUNBLEVBQUEsVUFDQSxFQUFBLFdBQ0EsR0FBQSxHQUFBLENBS0EsTUFBQSxFQUFBLEdBQUEsQ0FRQSxHQUpBLEVBQUEsRUFBQSxNQUFBLEVBQUEsR0FJQSxJQUFBLEVBQUEsVUFDQSxLQUFBLElBQUEsV0FBQSwyQkFPQSxHQUFBLElBS0EsZ0JBQUEsSUFDQSxrQkFBQSxLQUNBLEVBQUEsS0FHQSxHQUFBLFdBQUEsR0FHQSxFQUNBLEVBQUEsS0FDQSxFQUNBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEtBT0EsSUFFQSxFQUFBLEtBQ0EsRUFDQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQ0EsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUNBLEVBQUEsRUFBQSxFQUFBLEVBQ0EsRUFBQSxlQVNBLElBQUEsSUFDQSxFQUFBLE9BQ0EsR0FBQSxLQUtBLEdBQUEsRUFBQSxhQUFBLEVBQUEsTUFLQSxFQUFBLEVBQ0EsRUFDQSxXQUNBLElBQ0EsSUFDQSxNQUFBLEdBRUEsR0FBQSxTQUFBLGVBQ0EsR0FBQSxTQUFBLGNBQUEsRUFDQSxFQUFBLFlBTUEsRUFBQSxHQUFBLElBSUEsSUFBQSxJQUNBLEVBQUEsT0FDQSxHQUFBLElBR0EsRUFBQSxXQUFBLEVBQUEsS0FTQSxHQUNBLEtBS0EsR0FBQSxTQUFBLGVBQ0EsRUFBQSxXQUFBLEdBQUEsU0FBQSxnQkFFQSxFQUFBLFdBQUEsS0F6SEEsR0FBQSxHQUFBLENBOEhBLE9BQUEsSUFBQSxTQUFBLFNBQUEsR0FHQSxFQUFBLEdBQUEsR0FBQSxJQUNBLEVBQ0EsRUFDQSxFQUNBLEdBQUEsV0FBQSxHQUNBLEVBQ0EsRUFDQSxFQUFBLGFBS0EsRUFBQSxHQUFBLEdBQUEsSUFDQSxFQUNBLEVBQ0EsRUFDQSxHQUFBLFdBQUEsR0FDQSxFQUNBLElBS0EsRUFBQSxHQUFBLEdBQUEsSUFDQSxFQUNBLEVBQ0EsRUFDQSxHQUFBLFdBQUEsR0FDQSxFQUNBLE1BR0EsV0FLQSxRQUFBLFNBQUEsR0FDQSxNQUFBLE9BQUEsRUFBQSxHQUFBLE9BQUEsRUFBQSxHQUFBLElBR0EsSUEyREEsT0F4REEsSUFBQSxLQUFBLEVBQUEsU0FBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsR0FDQSxFQUFBLEVBQUEsRUFLQSxHQUFBLEVBQUEsSUFBQSxFQUFBLElBR0EsR0FDQSxFQUFBLElBQ0EsV0FJQSxFQUFBLEdBS0EsRUFBQSxFQUFBLEdBQUEsR0FBQSxRQUdBLEVBQUEsR0FBQSxHQUFBLE1BT0EsRUFBQSxJQUFBLEVBQUEsR0FBQSxNQUtBLEVBQUEsRUFBQSxJQUFBLFdBRUEsTUFEQSxHQUFBLEVBQUEsR0FBQSxRQUFBLE9BQUEsRUFBQSxPQUFBLEtBQUEsV0FDQSxNQU1BLEVBQUEsRUFBQSxHQUFBLFFBQUEsRUFBQSxXQUlBLEVBQUEsUUFBQSxHQUdBLEdBQ0EsRUFBQSxLQUFBLEVBQUEsR0FJQSxHQUlBLEtBQUEsU0FBQSxHQUNBLEdBR0EsR0FBQSxVQUFBLE9BR0EsRUFBQSxFQUdBLEVBQUEsTUFBQSxHQUNBLEVBQUEsR0FBQSxLQUFBLFdBR0EsRUFBQSxHQUFBLFdBR0EsRUFBQSxTQUFBLEdBQ0EsTUFBQSxVQUFBLEdBQ0EsRUFBQSxHQUFBLEtBQ0EsRUFBQSxHQUFBLFVBQUEsT0FBQSxFQUFBLEdBQUEsS0FBQSxXQUFBLElBQ0EsR0FDQSxFQUFBLFlBQUEsRUFBQSxJQU1BLElBQUEsR0FBQSxJQUNBLEVBQUEsRUFBQSxFQUFBLEtBQUEsRUFBQSxJQUFBLFFBQUEsRUFBQSxRQUNBLEdBR0EsWUFBQSxFQUFBLFNBQ0EsR0FBQSxXQUFBLEVBQUEsSUFBQSxFQUFBLEdBQUEsT0FFQSxNQUFBLEdBQUEsTUFLQSxNQUFBLEtBQ0EsRUFBQSxFQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsT0FHQSxPQUFBLEdBQUEsWUFPQSxJQUFBLElBQUEsd0RBRUEsSUFBQSxTQUFBLGNBQUEsU0FBQSxFQUFBLEdBSUEsRUFBQSxTQUFBLEVBQUEsUUFBQSxNQUFBLEdBQUEsR0FBQSxLQUFBLEVBQUEsT0FDQSxFQUFBLFFBQUEsS0FBQSw4QkFBQSxFQUFBLFFBQUEsRUFBQSxNQUFBLElBT0EsR0FBQSxlQUFBLFNBQUEsR0FDQSxFQUFBLFdBQUEsV0FDQSxLQUFBLEtBUUEsSUFBQSxJQUFBLEdBQUEsVUFFQSxJQUFBLEdBQUEsTUFBQSxTQUFBLEdBWUEsTUFWQSxJQUNBLEtBQUEsR0FLQSxNQUFBLFNBQUEsR0FDQSxHQUFBLGVBQUEsS0FHQSxNQUdBLEdBQUEsUUFHQSxTQUFBLEVBSUEsVUFBQSxFQUdBLE1BQUEsU0FBQSxJQUdBLEtBQUEsSUFBQSxHQUFBLFVBQUEsR0FBQSxXQUtBLEdBQUEsU0FBQSxFQUdBLEtBQUEsS0FBQSxHQUFBLFVBQUEsR0FLQSxHQUFBLFlBQUEsSUFBQSxTQUlBLEdBQUEsTUFBQSxLQUFBLEdBQUEsS0FhQSxhQUFBLEdBQUEsWUFDQSxZQUFBLEdBQUEsYUFBQSxHQUFBLGdCQUFBLFNBR0EsRUFBQSxXQUFBLEdBQUEsUUFLQSxHQUFBLGlCQUFBLG1CQUFBLEdBR0EsRUFBQSxpQkFBQSxPQUFBLEdBUUEsSUFBQSxJQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsRUFDQSxFQUFBLEVBQUEsT0FDQSxFQUFBLE1BQUEsQ0FHQSxJQUFBLFdBQUEsR0FBQSxLQUFBLEdBQUEsQ0FDQSxHQUFBLENBQ0EsS0FBQSxJQUFBLEdBQ0EsR0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLElBQUEsRUFBQSxFQUFBLE9BSUEsSUFBQSxTQUFBLElBQ0EsR0FBQSxFQUVBLEdBQUEsV0FBQSxLQUNBLEdBQUEsR0FHQSxJQUdBLEdBQ0EsRUFBQSxLQUFBLEVBQUEsR0FDQSxFQUFBLE9BSUEsRUFBQSxFQUNBLEVBQUEsU0FBQSxFQUFBLEVBQUEsR0FDQSxNQUFBLEdBQUEsS0FBQSxHQUFBLEdBQUEsTUFLQSxHQUNBLEtBQUEsRUFBQSxFQUFBLElBQ0EsRUFDQSxFQUFBLEdBQUEsRUFBQSxFQUNBLEVBQ0EsRUFBQSxLQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLElBTUEsT0FBQSxHQUNBLEVBSUEsRUFDQSxFQUFBLEtBQUEsR0FHQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsR0FFQSxHQUFBLFNBQUEsR0FRQSxNQUFBLEtBQUEsRUFBQSxVQUFBLElBQUEsRUFBQSxZQUFBLEVBQUEsU0FVQSxHQUFBLElBQUEsRUFFQSxFQUFBLFdBRUEsTUFBQSxTQUFBLEdBR0EsR0FBQSxHQUFBLEVBQUEsS0FBQSxRQTRCQSxPQXpCQSxLQUNBLEtBS0EsR0FBQSxLQUlBLEVBQUEsU0FDQSxFQUFBLEtBQUEsU0FBQSxFQU1BLE9BQUEsZUFBQSxFQUFBLEtBQUEsU0FDQSxNQUFBLEVBQ0EsY0FBQSxNQU1BLEdBRUEsSUFBQSxTQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsR0FDQSxFQUFBLEtBQUEsTUFBQSxFQUlBLElBQUEsZ0JBQUEsR0FDQSxFQUFBLEdBQUEsVUFBQSxJQUFBLE1BTUEsS0FBQSxJQUFBLEdBQ0EsRUFBQSxHQUFBLFVBQUEsSUFBQSxFQUFBLEVBR0EsT0FBQSxJQUVBLElBQUEsU0FBQSxFQUFBLEdBQ0EsTUFBQSxVQUFBLEVBQ0EsS0FBQSxNQUFBLEdBR0EsRUFBQSxLQUFBLFVBQUEsRUFBQSxLQUFBLFNBQUEsR0FBQSxVQUFBLEtBRUEsT0FBQSxTQUFBLEVBQUEsRUFBQSxHQWFBLE1BQUEsVUFBQSxHQUNBLEdBQUEsZ0JBQUEsSUFBQSxTQUFBLEVBRUEsS0FBQSxJQUFBLEVBQUEsSUFTQSxLQUFBLElBQUEsRUFBQSxFQUFBLEdBSUEsU0FBQSxFQUFBLEVBQUEsSUFFQSxPQUFBLFNBQUEsRUFBQSxHQUNBLEdBQUEsR0FDQSxFQUFBLEVBQUEsS0FBQSxRQUVBLElBQUEsU0FBQSxFQUFBLENBSUEsR0FBQSxTQUFBLEVBQUEsQ0FHQSxNQUFBLFFBQUEsR0FJQSxFQUFBLEVBQUEsSUFBQSxHQUFBLFlBRUEsRUFBQSxHQUFBLFVBQUEsR0FJQSxFQUFBLElBQUEsSUFDQSxHQUNBLEVBQUEsTUFBQSxTQUdBLEVBQUEsRUFBQSxNQUVBLE1BQUEsV0FDQSxHQUFBLEVBQUEsS0FLQSxTQUFBLEdBQUEsR0FBQSxjQUFBLE1BTUEsRUFBQSxTQUNBLEVBQUEsS0FBQSxTQUFBLGFBRUEsR0FBQSxLQUFBLFlBSUEsUUFBQSxTQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsS0FBQSxRQUNBLE9BQUEsVUFBQSxJQUFBLEdBQUEsY0FBQSxJQUdBLElBQUEsSUFBQSxHQUFBLEdBRUEsR0FBQSxHQUFBLEdBY0EsR0FBQSxnQ0FDQSxHQUFBLFFBa0RBLElBQUEsUUFDQSxRQUFBLFNBQUEsR0FDQSxNQUFBLElBQUEsUUFBQSxJQUFBLEdBQUEsUUFBQSxJQUdBLEtBQUEsU0FBQSxFQUFBLEVBQUEsR0FDQSxNQUFBLElBQUEsT0FBQSxFQUFBLEVBQUEsSUFHQSxXQUFBLFNBQUEsRUFBQSxHQUNBLEdBQUEsT0FBQSxFQUFBLElBS0EsTUFBQSxTQUFBLEVBQUEsRUFBQSxHQUNBLE1BQUEsSUFBQSxPQUFBLEVBQUEsRUFBQSxJQUdBLFlBQUEsU0FBQSxFQUFBLEdBQ0EsR0FBQSxPQUFBLEVBQUEsTUFJQSxHQUFBLEdBQUEsUUFDQSxLQUFBLFNBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLEVBQ0EsRUFBQSxLQUFBLEdBQ0EsRUFBQSxHQUFBLEVBQUEsVUFHQSxJQUFBLFNBQUEsRUFBQSxDQUNBLEdBQUEsS0FBQSxTQUNBLEVBQUEsR0FBQSxJQUFBLEdBRUEsSUFBQSxFQUFBLFdBQUEsR0FBQSxJQUFBLEVBQUEsaUJBQUEsQ0FFQSxJQURBLEVBQUEsRUFBQSxPQUNBLEtBSUEsRUFBQSxLQUNBLEVBQUEsRUFBQSxHQUFBLEtBQ0EsSUFBQSxFQUFBLFFBQUEsV0FDQSxFQUFBLEdBQUEsVUFBQSxFQUFBLE1BQUEsSUFDQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEtBSUEsSUFBQSxJQUFBLEVBQUEsZ0JBQUEsR0FJQSxNQUFBLEdBSUEsTUFBQSxnQkFBQSxHQUNBLEtBQUEsS0FBQSxXQUNBLEdBQUEsSUFBQSxLQUFBLEtBSUEsR0FBQSxLQUFBLFNBQUEsR0FDQSxHQUFBLEVBT0EsSUFBQSxHQUFBLFNBQUEsRUFBQSxDQUtBLEdBREEsRUFBQSxHQUFBLElBQUEsRUFBQSxHQUNBLFNBQUEsRUFDQSxNQUFBLEVBTUEsSUFEQSxFQUFBLEVBQUEsRUFBQSxHQUNBLFNBQUEsRUFDQSxNQUFBLE9BUUEsTUFBQSxLQUFBLFdBR0EsR0FBQSxJQUFBLEtBQUEsRUFBQSxNQUVBLEtBQUEsRUFBQSxVQUFBLE9BQUEsRUFBQSxNQUFBLElBR0EsV0FBQSxTQUFBLEdBQ0EsTUFBQSxNQUFBLEtBQUEsV0FDQSxHQUFBLE9BQUEsS0FBQSxRQU1BLEdBQUEsUUFDQSxNQUFBLFNBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxFQUVBLE9BQUEsSUFDQSxHQUFBLEdBQUEsTUFBQSxRQUNBLEVBQUEsR0FBQSxJQUFBLEVBQUEsR0FHQSxLQUNBLEdBQUEsTUFBQSxRQUFBLEdBQ0EsRUFBQSxHQUFBLE9BQUEsRUFBQSxFQUFBLEdBQUEsVUFBQSxJQUVBLEVBQUEsS0FBQSxJQUdBLE9BWkEsUUFnQkEsUUFBQSxTQUFBLEVBQUEsR0FDQSxFQUFBLEdBQUEsSUFFQSxJQUFBLEdBQUEsR0FBQSxNQUFBLEVBQUEsR0FDQSxFQUFBLEVBQUEsT0FDQSxFQUFBLEVBQUEsUUFDQSxFQUFBLEdBQUEsWUFBQSxFQUFBLEdBQ0EsRUFBQSxXQUNBLEdBQUEsUUFBQSxFQUFBLEdBSUEsZ0JBQUEsSUFDQSxFQUFBLEVBQUEsUUFDQSxLQUdBLElBSUEsT0FBQSxHQUNBLEVBQUEsUUFBQSxvQkFJQSxHQUFBLEtBQ0EsRUFBQSxLQUFBLEVBQUEsRUFBQSxLQUdBLEdBQUEsR0FDQSxFQUFBLE1BQUEsUUFLQSxZQUFBLFNBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLFlBQ0EsT0FBQSxJQUFBLElBQUEsRUFBQSxJQUFBLEdBQUEsT0FBQSxFQUFBLEdBQ0EsTUFBQSxHQUFBLFVBQUEsZUFBQSxJQUFBLFdBQ0EsR0FBQSxPQUFBLEdBQUEsRUFBQSxRQUFBLFdBTUEsR0FBQSxHQUFBLFFBQ0EsTUFBQSxTQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsQ0FRQSxPQU5BLGdCQUFBLEtBQ0EsRUFBQSxFQUNBLEVBQUEsS0FDQSxLQUdBLFVBQUEsT0FBQSxFQUNBLEdBQUEsTUFBQSxLQUFBLEdBQUEsR0FHQSxTQUFBLEVBQ0EsS0FDQSxLQUFBLEtBQUEsV0FDQSxHQUFBLEdBQUEsR0FBQSxNQUFBLEtBQUEsRUFBQSxFQUdBLElBQUEsWUFBQSxLQUFBLEdBRUEsT0FBQSxHQUFBLGVBQUEsRUFBQSxJQUNBLEdBQUEsUUFBQSxLQUFBLE1BSUEsUUFBQSxTQUFBLEdBQ0EsTUFBQSxNQUFBLEtBQUEsV0FDQSxHQUFBLFFBQUEsS0FBQSxNQUdBLFdBQUEsU0FBQSxHQUNBLE1BQUEsTUFBQSxNQUFBLEdBQUEsVUFLQSxRQUFBLFNBQUEsRUFBQSxHQUNBLEdBQUEsR0FDQSxFQUFBLEVBQ0EsRUFBQSxHQUFBLFdBQ0EsRUFBQSxLQUNBLEVBQUEsS0FBQSxPQUNBLEVBQUEsYUFDQSxHQUNBLEVBQUEsWUFBQSxHQUFBLElBVUEsS0FOQSxnQkFBQSxLQUNBLEVBQUEsRUFDQSxFQUFBLFFBRUEsRUFBQSxHQUFBLEtBRUEsS0FDQSxFQUFBLEdBQUEsSUFBQSxFQUFBLEdBQUEsRUFBQSxjQUNBLEdBQUEsRUFBQSxRQUNBLElBQ0EsRUFBQSxNQUFBLElBQUEsR0FJQSxPQURBLEtBQ0EsRUFBQSxRQUFBLEtBR0EsSUFBQSxJQUFBLHNDQUFBLE9BRUEsR0FBQSxHQUFBLFFBQUEsaUJBQUEsR0FBQSxjQUFBLEtBR0EsSUFBQSxNQUFBLFFBQUEsU0FBQSxRQUVBLEdBQUEsU0FBQSxFQUFBLEdBT0EsTUFIQSxHQUFBLEdBQUEsRUFHQSxTQUFBLEVBQUEsTUFBQSxTQUNBLEtBQUEsRUFBQSxNQUFBLFNBTUEsR0FBQSxTQUFBLEVBQUEsY0FBQSxJQUVBLFNBQUEsR0FBQSxJQUFBLEVBQUEsWUFHQSxHQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsRUFDQSxJQUdBLEtBQUEsSUFBQSxHQUNBLEVBQUEsR0FBQSxFQUFBLE1BQUEsR0FDQSxFQUFBLE1BQUEsR0FBQSxFQUFBLEVBR0EsR0FBQSxFQUFBLE1BQUEsRUFBQSxNQUdBLEtBQUEsSUFBQSxHQUNBLEVBQUEsTUFBQSxHQUFBLEVBQUEsRUFHQSxPQUFBLElBcUVBLEtBeUVBLElBQUEsR0FBQSxRQUNBLEtBQUEsV0FDQSxNQUFBLEdBQUEsTUFBQSxJQUVBLEtBQUEsV0FDQSxNQUFBLEdBQUEsT0FFQSxPQUFBLFNBQUEsR0FDQSxNQUFBLGlCQUFBLEdBQ0EsRUFBQSxLQUFBLE9BQUEsS0FBQSxPQUdBLEtBQUEsS0FBQSxXQUNBLEdBQUEsTUFDQSxHQUFBLE1BQUEsT0FFQSxHQUFBLE1BQUEsV0FLQSxJQUFBLElBQUEsd0JBRUEsR0FBQSxpQ0FFQSxHQUFBLDRCQUtBLElBR0EsUUFBQSxFQUFBLCtCQUFBLGFBS0EsT0FBQSxFQUFBLFVBQUEsWUFDQSxLQUFBLEVBQUEsb0JBQUEsdUJBQ0EsSUFBQSxFQUFBLGlCQUFBLG9CQUNBLElBQUEsRUFBQSxxQkFBQSx5QkFFQSxVQUFBLEVBQUEsR0FBQSxJQUlBLElBQUEsU0FBQSxHQUFBLE9BRUEsR0FBQSxNQUFBLEdBQUEsTUFBQSxHQUFBLFNBQUEsR0FBQSxRQUFBLEdBQUEsTUFDQSxHQUFBLEdBQUEsR0FBQSxFQTBDQSxJQUFBLElBQUEsYUE0RkEsV0FDQSxHQUFBLEdBQUEsR0FBQSx5QkFDQSxFQUFBLEVBQUEsWUFBQSxHQUFBLGNBQUEsUUFDQSxFQUFBLEdBQUEsY0FBQSxRQU1BLEdBQUEsYUFBQSxPQUFBLFNBQ0EsRUFBQSxhQUFBLFVBQUEsV0FDQSxFQUFBLGFBQUEsT0FBQSxLQUVBLEVBQUEsWUFBQSxHQUlBLEdBQUEsV0FBQSxFQUFBLFdBQUEsR0FBQSxXQUFBLEdBQUEsVUFBQSxRQUlBLEVBQUEsVUFBQSx5QkFDQSxHQUFBLGlCQUFBLEVBQUEsV0FBQSxHQUFBLFVBQUEsZUFFQSxJQUFBLElBQUEsR0FBQSxnQkFLQSxHQUFBLE9BQ0EsR0FBQSxpREFDQSxHQUFBLHFCQW1GQSxJQUFBLE9BRUEsVUFFQSxJQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUVBLEdBQUEsR0FBQSxFQUFBLEVBQ0EsRUFBQSxFQUFBLEVBQ0EsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUNBLEVBQUEsR0FBQSxJQUFBLEVBR0EsSUFBQSxFQXVDQSxJQWxDQSxFQUFBLFVBQ0EsRUFBQSxFQUNBLEVBQUEsRUFBQSxRQUNBLEVBQUEsRUFBQSxVQUtBLEdBQ0EsR0FBQSxLQUFBLGdCQUFBLEdBQUEsR0FJQSxFQUFBLE9BQ0EsRUFBQSxLQUFBLEdBQUEsU0FJQSxFQUFBLEVBQUEsVUFDQSxFQUFBLEVBQUEsWUFFQSxFQUFBLEVBQUEsVUFDQSxFQUFBLEVBQUEsT0FBQSxTQUFBLEdBSUEsTUFBQSxtQkFBQSxLQUFBLEdBQUEsTUFBQSxZQUFBLEVBQUEsS0FDQSxHQUFBLE1BQUEsU0FBQSxNQUFBLEVBQUEsV0FBQSxTQUtBLEdBQUEsR0FBQSxJQUFBLE1BQUEsTUFBQSxJQUNBLEVBQUEsRUFBQSxPQUNBLEtBQ0EsRUFBQSxHQUFBLEtBQUEsRUFBQSxRQUNBLEVBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxFQUFBLElBQUEsSUFBQSxNQUFBLEtBQUEsT0FHQSxJQUtBLEVBQUEsR0FBQSxNQUFBLFFBQUEsT0FHQSxHQUFBLEVBQUEsRUFBQSxhQUFBLEVBQUEsV0FBQSxFQUdBLEVBQUEsR0FBQSxNQUFBLFFBQUEsT0FHQSxFQUFBLEdBQUEsUUFDQSxLQUFBLEVBQ0EsU0FBQSxFQUNBLEtBQUEsRUFDQSxRQUFBLEVBQ0EsS0FBQSxFQUFBLEtBQ0EsU0FBQSxFQUNBLGFBQUEsR0FBQSxHQUFBLEtBQUEsTUFBQSxhQUFBLEtBQUEsR0FDQSxVQUFBLEVBQUEsS0FBQSxNQUNBLElBR0EsRUFBQSxFQUFBLE1BQ0EsRUFBQSxFQUFBLE1BQ0EsRUFBQSxjQUFBLEVBR0EsRUFBQSxPQUNBLEVBQUEsTUFBQSxLQUFBLEVBQUEsRUFBQSxFQUFBLE1BQUEsR0FFQSxFQUFBLGtCQUNBLEVBQUEsaUJBQUEsRUFBQSxJQUtBLEVBQUEsTUFDQSxFQUFBLElBQUEsS0FBQSxFQUFBLEdBRUEsRUFBQSxRQUFBLE9BQ0EsRUFBQSxRQUFBLEtBQUEsRUFBQSxPQUtBLEVBQ0EsRUFBQSxPQUFBLEVBQUEsZ0JBQUEsRUFBQSxHQUVBLEVBQUEsS0FBQSxHQUlBLEdBQUEsTUFBQSxPQUFBLElBQUEsSUFNQSxPQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUVBLEdBQUEsR0FBQSxFQUFBLEVBQ0EsRUFBQSxFQUFBLEVBQ0EsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUNBLEVBQUEsR0FBQSxRQUFBLElBQUEsR0FBQSxJQUFBLEVBRUEsSUFBQSxJQUFBLEVBQUEsRUFBQSxRQUFBLENBT0EsSUFGQSxHQUFBLEdBQUEsSUFBQSxNQUFBLE1BQUEsSUFDQSxFQUFBLEVBQUEsT0FDQSxLQU1BLEdBTEEsRUFBQSxHQUFBLEtBQUEsRUFBQSxRQUNBLEVBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxFQUFBLElBQUEsSUFBQSxNQUFBLEtBQUEsT0FHQSxFQUFBLENBZUEsSUFSQSxFQUFBLEdBQUEsTUFBQSxRQUFBLE9BQ0EsR0FBQSxFQUFBLEVBQUEsYUFBQSxFQUFBLFdBQUEsRUFDQSxFQUFBLEVBQUEsT0FDQSxFQUFBLEVBQUEsSUFDQSxHQUFBLFFBQUEsVUFBQSxFQUFBLEtBQUEsaUJBQUEsV0FHQSxFQUFBLEVBQUEsRUFBQSxPQUNBLEtBQ0EsRUFBQSxFQUFBLElBRUEsR0FBQSxJQUFBLEVBQUEsVUFDQSxHQUFBLEVBQUEsT0FBQSxFQUFBLE1BQ0EsSUFBQSxFQUFBLEtBQUEsRUFBQSxZQUNBLEdBQUEsSUFBQSxFQUFBLFdBQ0EsT0FBQSxJQUFBLEVBQUEsWUFDQSxFQUFBLE9BQUEsRUFBQSxHQUVBLEVBQUEsVUFDQSxFQUFBLGdCQUVBLEVBQUEsUUFDQSxFQUFBLE9BQUEsS0FBQSxFQUFBLEdBT0EsS0FBQSxFQUFBLFNBQ0EsRUFBQSxVQUNBLEVBQUEsU0FBQSxLQUFBLEVBQUEsRUFBQSxFQUFBLFdBQUEsR0FFQSxHQUFBLFlBQUEsRUFBQSxFQUFBLEVBQUEsY0FHQSxHQUFBLFFBMUNBLEtBQUEsSUFBQSxHQUNBLEdBQUEsTUFBQSxPQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxHQUFBLEVBOENBLElBQUEsY0FBQSxJQUNBLEdBQUEsT0FBQSxFQUFBLG1CQUlBLFNBQUEsU0FBQSxHQUdBLEdBRUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBRkEsRUFBQSxHQUFBLE1BQUEsSUFBQSxHQUdBLEVBQUEsR0FBQSxPQUFBLFVBQUEsUUFDQSxHQUFBLEdBQUEsSUFBQSxLQUFBLGVBQUEsRUFBQSxVQUNBLEVBQUEsR0FBQSxNQUFBLFFBQUEsRUFBQSxTQUtBLEtBRkEsRUFBQSxHQUFBLEVBRUEsRUFBQSxFQUFBLEVBQUEsVUFBQSxPQUFBLElBQ0EsRUFBQSxHQUFBLFVBQUEsRUFNQSxJQUhBLEVBQUEsZUFBQSxNQUdBLEVBQUEsYUFBQSxFQUFBLFlBQUEsS0FBQSxLQUFBLE1BQUEsRUFBQSxDQVNBLElBSkEsRUFBQSxHQUFBLE1BQUEsU0FBQSxLQUFBLEtBQUEsRUFBQSxHQUdBLEVBQUEsR0FDQSxFQUFBLEVBQUEsUUFBQSxFQUFBLHdCQUlBLElBSEEsRUFBQSxjQUFBLEVBQUEsS0FFQSxFQUFBLEdBQ0EsRUFBQSxFQUFBLFNBQUEsUUFDQSxFQUFBLG1DQUlBLEVBQUEsWUFBQSxFQUFBLFdBQUEsS0FBQSxFQUFBLGNBRUEsRUFBQSxVQUFBLEVBQ0EsRUFBQSxLQUFBLEVBQUEsS0FFQSxJQUFBLEdBQUEsTUFBQSxRQUFBLEVBQUEsZUFBQSxRQUNBLEVBQUEsU0FBQSxNQUFBLEVBQUEsS0FBQSxHQUVBLFNBQUEsSUFDQSxFQUFBLE9BQUEsTUFBQSxJQUNBLEVBQUEsaUJBQ0EsRUFBQSxtQkFZQSxPQUpBLEdBQUEsY0FDQSxFQUFBLGFBQUEsS0FBQSxLQUFBLEdBR0EsRUFBQSxTQUdBLFNBQUEsU0FBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEVBQ0EsS0FDQSxFQUFBLEVBQUEsY0FDQSxFQUFBLEVBQUEsTUFHQSxJQUFBLEdBSUEsRUFBQSxZQU9BLFVBQUEsRUFBQSxNQUFBLEVBQUEsUUFBQSxHQUVBLEtBQUEsSUFBQSxLQUFBLEVBQUEsRUFBQSxZQUFBLEtBSUEsR0FBQSxJQUFBLEVBQUEsV0FBQSxVQUFBLEVBQUEsTUFBQSxFQUFBLFlBQUEsR0FBQSxDQUdBLElBRkEsS0FDQSxLQUNBLEVBQUEsRUFBQSxFQUFBLEVBQUEsSUFDQSxFQUFBLEVBQUEsR0FHQSxFQUFBLEVBQUEsU0FBQSxJQUVBLFNBQUEsRUFBQSxLQUNBLEVBQUEsR0FBQSxFQUFBLGFBQ0EsR0FBQSxFQUFBLE1BQUEsTUFBQSxHQUFBLEdBQ0EsR0FBQSxLQUFBLEVBQUEsS0FBQSxNQUFBLElBQUEsUUFFQSxFQUFBLElBQ0EsRUFBQSxLQUFBLEVBR0EsR0FBQSxRQUNBLEVBQUEsTUFBQSxLQUFBLEVBQUEsU0FBQSxJQVlBLE1BTEEsR0FBQSxLQUNBLEVBQUEsRUFBQSxRQUNBLEVBQUEsTUFBQSxLQUFBLEVBQUEsU0FBQSxFQUFBLE1BQUEsS0FHQSxHQUdBLFFBQUEsU0FBQSxFQUFBLEdBQ0EsT0FBQSxlQUFBLEdBQUEsTUFBQSxVQUFBLEdBQ0EsWUFBQSxFQUNBLGNBQUEsRUFFQSxJQUFBLEdBQUEsV0FBQSxHQUNBLFdBQ0EsTUFBQSxNQUFBLGNBQ0EsRUFBQSxLQUFBLGVBREEsUUFJQSxXQUNBLE1BQUEsTUFBQSxjQUNBLEtBQUEsY0FBQSxHQURBLFFBS0EsSUFBQSxTQUFBLEdBQ0EsT0FBQSxlQUFBLEtBQUEsR0FDQSxZQUFBLEVBQ0EsY0FBQSxFQUNBLFVBQUEsRUFDQSxNQUFBLFFBTUEsSUFBQSxTQUFBLEdBQ0EsTUFBQSxHQUFBLEdBQUEsU0FDQSxFQUNBLEdBQUEsSUFBQSxNQUFBLElBR0EsU0FDQSxNQUdBLFVBQUEsR0FFQSxPQUdBLFFBQUEsV0FDQSxNQUFBLFFBQUEsS0FBQSxLQUFBLE9BQ0EsS0FBQSxTQUNBLEdBRkEsUUFLQSxhQUFBLFdBRUEsTUFDQSxRQUFBLFdBQ0EsTUFBQSxRQUFBLEtBQUEsS0FBQSxNQUNBLEtBQUEsUUFDQSxHQUZBLFFBS0EsYUFBQSxZQUVBLE9BR0EsUUFBQSxXQUNBLE1BQUEsYUFBQSxLQUFBLE1BQUEsS0FBQSxPQUFBLEVBQUEsS0FBQSxVQUNBLEtBQUEsU0FDQSxHQUZBLFFBT0EsU0FBQSxTQUFBLEdBQ0EsTUFBQSxHQUFBLEVBQUEsT0FBQSxPQUlBLGNBQ0EsYUFBQSxTQUFBLEdBSUEsU0FBQSxFQUFBLFFBQUEsRUFBQSxnQkFDQSxFQUFBLGNBQUEsWUFBQSxFQUFBLFlBT0EsR0FBQSxZQUFBLFNBQUEsRUFBQSxFQUFBLEdBR0EsRUFBQSxxQkFDQSxFQUFBLG9CQUFBLEVBQUEsSUFJQSxHQUFBLE1BQUEsU0FBQSxFQUFBLEdBR0EsTUFBQSxnQkFBQSxJQUFBLE9BS0EsR0FBQSxFQUFBLE1BQ0EsS0FBQSxjQUFBLEVBQ0EsS0FBQSxLQUFBLEVBQUEsS0FJQSxLQUFBLG1CQUFBLEVBQUEsa0JBQ0EsU0FBQSxFQUFBLGtCQUdBLEVBQUEsZUFBQSxFQUNBLEVBQ0EsRUFLQSxLQUFBLE9BQUEsRUFBQSxRQUFBLElBQUEsRUFBQSxPQUFBLFNBQ0EsRUFBQSxPQUFBLFdBQ0EsRUFBQSxPQUVBLEtBQUEsY0FBQSxFQUFBLGNBQ0EsS0FBQSxjQUFBLEVBQUEsZUFJQSxLQUFBLEtBQUEsRUFJQSxHQUNBLEdBQUEsT0FBQSxLQUFBLEdBSUEsS0FBQSxVQUFBLEdBQUEsRUFBQSxXQUFBLEdBQUEsV0FHQSxLQUFBLEdBQUEsVUFBQSxJQTFDQSxHQUFBLElBQUEsTUFBQSxFQUFBLElBK0NBLEdBQUEsTUFBQSxXQUNBLFlBQUEsR0FBQSxNQUNBLG1CQUFBLEVBQ0EscUJBQUEsRUFDQSw4QkFBQSxFQUNBLGFBQUEsRUFFQSxlQUFBLFdBQ0EsR0FBQSxHQUFBLEtBQUEsYUFFQSxNQUFBLG1CQUFBLEVBRUEsSUFBQSxLQUFBLGFBQ0EsRUFBQSxrQkFHQSxnQkFBQSxXQUNBLEdBQUEsR0FBQSxLQUFBLGFBRUEsTUFBQSxxQkFBQSxFQUVBLElBQUEsS0FBQSxhQUNBLEVBQUEsbUJBR0EseUJBQUEsV0FDQSxHQUFBLEdBQUEsS0FBQSxhQUVBLE1BQUEsOEJBQUEsRUFFQSxJQUFBLEtBQUEsYUFDQSxFQUFBLDJCQUdBLEtBQUEsb0JBS0EsR0FBQSxNQUNBLFFBQUEsRUFDQSxTQUFBLEVBQ0EsWUFBQSxFQUNBLGdCQUFBLEVBQ0EsU0FBQSxFQUNBLFFBQUEsRUFDQSxZQUFBLEVBQ0EsU0FBQSxFQUNBLE9BQUEsRUFDQSxPQUFBLEVBQ0EsVUFBQSxFQUNBLE1BQUEsRUFDQSxRQUFBLEVBQ0EsVUFBQSxFQUNBLEtBQUEsRUFDQSxTQUFBLEVBQ0EsUUFBQSxFQUNBLFNBQUEsRUFDQSxTQUFBLEVBQ0EsU0FBQSxFQUNBLFNBQUEsRUFDQSxTQUFBLEVBQ0EsV0FBQSxFQUNBLGFBQUEsRUFDQSxTQUFBLEVBQ0EsU0FBQSxFQUNBLGVBQUEsRUFDQSxXQUFBLEVBQ0EsU0FBQSxFQUVBLE1BQUEsU0FBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLE1BR0EsT0FBQSxPQUFBLEVBQUEsT0FBQSxHQUFBLEtBQUEsRUFBQSxNQUNBLE1BQUEsRUFBQSxTQUFBLEVBQUEsU0FBQSxFQUFBLFNBSUEsRUFBQSxPQUFBLFNBQUEsR0FBQSxHQUFBLEtBQUEsRUFBQSxNQUNBLEVBQUEsRUFDQSxFQUdBLEVBQUEsRUFDQSxFQUdBLEVBQUEsRUFDQSxFQUdBLEVBR0EsRUFBQSxRQUVBLEdBQUEsTUFBQSxTQVVBLEdBQUEsTUFDQSxXQUFBLFlBQ0EsV0FBQSxXQUNBLGFBQUEsY0FDQSxhQUFBLGNBQ0EsU0FBQSxFQUFBLEdBQ0EsR0FBQSxNQUFBLFFBQUEsSUFDQSxhQUFBLEVBQ0EsU0FBQSxFQUVBLE9BQUEsU0FBQSxHQUNBLEdBQUEsR0FDQSxFQUFBLEtBQ0EsRUFBQSxFQUFBLGNBQ0EsRUFBQSxFQUFBLFNBU0EsU0FMQSxHQUFBLElBQUEsSUFBQSxHQUFBLFNBQUEsRUFBQSxNQUNBLEVBQUEsS0FBQSxFQUFBLFNBQ0EsRUFBQSxFQUFBLFFBQUEsTUFBQSxLQUFBLFdBQ0EsRUFBQSxLQUFBLEdBRUEsTUFLQSxHQUFBLEdBQUEsUUFFQSxHQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxNQUFBLEdBQUEsS0FBQSxFQUFBLEVBQUEsRUFBQSxJQUVBLElBQUEsU0FBQSxFQUFBLEVBQUEsRUFBQSxHQUNBLE1BQUEsR0FBQSxLQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsSUFFQSxJQUFBLFNBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLENBQ0EsSUFBQSxHQUFBLEVBQUEsZ0JBQUEsRUFBQSxVQVdBLE1BUkEsR0FBQSxFQUFBLFVBQ0EsR0FBQSxFQUFBLGdCQUFBLElBQ0EsRUFBQSxVQUNBLEVBQUEsU0FBQSxJQUFBLEVBQUEsVUFDQSxFQUFBLFNBQ0EsRUFBQSxTQUNBLEVBQUEsU0FFQSxJQUVBLElBQUEsZ0JBQUEsR0FBQSxDQUdBLElBQUEsSUFBQSxHQUNBLEtBQUEsSUFBQSxFQUFBLEVBQUEsRUFBQSxHQUVBO01BQUEsTUFXQSxPQVRBLEtBQUEsR0FBQSxrQkFBQSxNQUdBLEVBQUEsRUFDQSxFQUFBLFFBRUEsS0FBQSxJQUNBLEVBQUEsR0FFQSxLQUFBLEtBQUEsV0FDQSxHQUFBLE1BQUEsT0FBQSxLQUFBLEVBQUEsRUFBQSxPQU1BLElBS0EsSUFBQSw4RkFPQSxHQUFBLHdCQUdBLEdBQUEsb0NBQ0EsR0FBQSxjQUNBLEdBQUEsMENBNkxBLElBQUEsUUFDQSxjQUFBLFNBQUEsR0FDQSxNQUFBLEdBQUEsUUFBQSxHQUFBLGNBR0EsTUFBQSxTQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLEVBQUEsRUFDQSxFQUFBLEVBQUEsV0FBQSxHQUNBLEVBQUEsR0FBQSxTQUFBLEVBQUEsY0FBQSxFQUdBLE1BQUEsR0FBQSxnQkFBQSxJQUFBLEVBQUEsVUFBQSxLQUFBLEVBQUEsVUFDQSxHQUFBLFNBQUEsSUFNQSxJQUhBLEVBQUEsRUFBQSxHQUNBLEVBQUEsRUFBQSxHQUVBLEVBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxFQUFBLEVBQUEsSUFDQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEdBS0EsSUFBQSxFQUNBLEdBQUEsRUFJQSxJQUhBLEVBQUEsR0FBQSxFQUFBLEdBQ0EsRUFBQSxHQUFBLEVBQUEsR0FFQSxFQUFBLEVBQUEsRUFBQSxFQUFBLE9BQUEsRUFBQSxFQUFBLElBQ0EsRUFBQSxFQUFBLEdBQUEsRUFBQSxRQUdBLEdBQUEsRUFBQSxFQVdBLE9BTkEsR0FBQSxFQUFBLEVBQUEsVUFDQSxFQUFBLE9BQUEsR0FDQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsV0FJQSxHQUdBLFVBQUEsU0FBQSxHQUtBLElBSkEsR0FBQSxHQUFBLEVBQUEsRUFDQSxFQUFBLEdBQUEsTUFBQSxRQUNBLEVBQUEsRUFFQSxVQUFBLEVBQUEsRUFBQSxJQUFBLElBQ0EsR0FBQSxHQUFBLEdBQUEsQ0FDQSxHQUFBLEVBQUEsRUFBQSxHQUFBLFNBQUEsQ0FDQSxHQUFBLEVBQUEsT0FDQSxJQUFBLElBQUEsR0FBQSxPQUNBLEVBQUEsR0FDQSxHQUFBLE1BQUEsT0FBQSxFQUFBLEdBSUEsR0FBQSxZQUFBLEVBQUEsRUFBQSxFQUFBLE9BT0EsR0FBQSxHQUFBLFNBQUEsT0FFQSxFQUFBLEdBQUEsV0FJQSxFQUFBLEdBQUEsU0FBQSxZQU9BLEdBQUEsR0FBQSxRQUNBLE9BQUEsU0FBQSxHQUNBLE1BQUEsR0FBQSxLQUFBLEdBQUEsSUFHQSxPQUFBLFNBQUEsR0FDQSxNQUFBLEdBQUEsS0FBQSxJQUdBLEtBQUEsU0FBQSxHQUNBLE1BQUEsSUFBQSxLQUFBLFNBQUEsR0FDQSxNQUFBLFVBQUEsRUFDQSxHQUFBLEtBQUEsTUFDQSxLQUFBLFFBQUEsS0FBQSxZQUNBLElBQUEsS0FBQSxVQUFBLEtBQUEsS0FBQSxVQUFBLElBQUEsS0FBQSxZQUNBLEtBQUEsWUFBQSxNQUdBLEtBQUEsRUFBQSxVQUFBLFNBR0EsT0FBQSxXQUNBLE1BQUEsR0FBQSxLQUFBLFVBQUEsU0FBQSxHQUNBLEdBQUEsSUFBQSxLQUFBLFVBQUEsS0FBQSxLQUFBLFVBQUEsSUFBQSxLQUFBLFNBQUEsQ0FDQSxHQUFBLEdBQUEsRUFBQSxLQUFBLEVBQ0EsR0FBQSxZQUFBLE9BS0EsUUFBQSxXQUNBLE1BQUEsR0FBQSxLQUFBLFVBQUEsU0FBQSxHQUNBLEdBQUEsSUFBQSxLQUFBLFVBQUEsS0FBQSxLQUFBLFVBQUEsSUFBQSxLQUFBLFNBQUEsQ0FDQSxHQUFBLEdBQUEsRUFBQSxLQUFBLEVBQ0EsR0FBQSxhQUFBLEVBQUEsRUFBQSxnQkFLQSxPQUFBLFdBQ0EsTUFBQSxHQUFBLEtBQUEsVUFBQSxTQUFBLEdBQ0EsS0FBQSxZQUNBLEtBQUEsV0FBQSxhQUFBLEVBQUEsU0FLQSxNQUFBLFdBQ0EsTUFBQSxHQUFBLEtBQUEsVUFBQSxTQUFBLEdBQ0EsS0FBQSxZQUNBLEtBQUEsV0FBQSxhQUFBLEVBQUEsS0FBQSxnQkFLQSxNQUFBLFdBSUEsSUFIQSxHQUFBLEdBQ0EsRUFBQSxFQUVBLE9BQUEsRUFBQSxLQUFBLElBQUEsSUFDQSxJQUFBLEVBQUEsV0FHQSxHQUFBLFVBQUEsRUFBQSxHQUFBLElBR0EsRUFBQSxZQUFBLEdBSUEsT0FBQSxPQUdBLE1BQUEsU0FBQSxFQUFBLEdBSUEsTUFIQSxHQUFBLE1BQUEsR0FBQSxFQUFBLEVBQ0EsRUFBQSxNQUFBLEVBQUEsRUFBQSxFQUVBLEtBQUEsSUFBQSxXQUNBLE1BQUEsSUFBQSxNQUFBLEtBQUEsRUFBQSxNQUlBLEtBQUEsU0FBQSxHQUNBLE1BQUEsSUFBQSxLQUFBLFNBQUEsR0FDQSxHQUFBLEdBQUEsS0FBQSxPQUNBLEVBQUEsRUFDQSxFQUFBLEtBQUEsTUFFQSxJQUFBLFNBQUEsR0FBQSxJQUFBLEVBQUEsU0FDQSxNQUFBLEdBQUEsU0FJQSxJQUFBLGdCQUFBLEtBQUEsR0FBQSxLQUFBLEtBQ0EsSUFBQSxHQUFBLEtBQUEsS0FBQSxHQUFBLEtBQUEsR0FBQSxlQUFBLENBRUEsRUFBQSxHQUFBLGNBQUEsRUFFQSxLQUNBLEtBQUEsRUFBQSxFQUFBLElBQ0EsRUFBQSxLQUFBLE9BR0EsSUFBQSxFQUFBLFdBQ0EsR0FBQSxVQUFBLEVBQUEsR0FBQSxJQUNBLEVBQUEsVUFBQSxFQUlBLEdBQUEsRUFHQSxNQUFBLEtBR0EsR0FDQSxLQUFBLFFBQUEsT0FBQSxJQUVBLEtBQUEsRUFBQSxVQUFBLFNBR0EsWUFBQSxXQUNBLEdBQUEsS0FHQSxPQUFBLEdBQUEsS0FBQSxVQUFBLFNBQUEsR0FDQSxHQUFBLEdBQUEsS0FBQSxVQUVBLElBQUEsUUFBQSxLQUFBLEdBQUEsSUFDQSxHQUFBLFVBQUEsRUFBQSxPQUNBLEdBQ0EsRUFBQSxhQUFBLEVBQUEsUUFLQSxNQUlBLEdBQUEsTUFDQSxTQUFBLFNBQ0EsVUFBQSxVQUNBLGFBQUEsU0FDQSxZQUFBLFFBQ0EsV0FBQSxlQUNBLFNBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxHQUFBLFNBQUEsR0FPQSxJQU5BLEdBQUEsR0FDQSxLQUNBLEVBQUEsR0FBQSxHQUNBLEVBQUEsRUFBQSxPQUFBLEVBQ0EsRUFBQSxFQUVBLEdBQUEsRUFBQSxJQUNBLEVBQUEsSUFBQSxFQUFBLEtBQUEsS0FBQSxPQUFBLEdBQ0EsR0FBQSxFQUFBLElBQUEsR0FBQSxHQUlBLEdBQUEsTUFBQSxFQUFBLEVBQUEsTUFHQSxPQUFBLE1BQUEsVUFBQSxLQUdBLElBQUEsSUFBQSxVQUVBLEdBQUEsR0FBQSxRQUFBLEtBQUEsR0FBQSxrQkFBQSxLQUVBLEdBQUEsU0FBQSxHQUtBLEdBQUEsR0FBQSxFQUFBLGNBQUEsV0FNQSxPQUpBLElBQUEsRUFBQSxTQUNBLEVBQUEsR0FHQSxFQUFBLGlCQUFBLEtBS0EsV0FJQSxRQUFBLEtBR0EsR0FBQSxFQUFBLENBSUEsRUFBQSxNQUFBLFFBQ0EsNEdBSUEsRUFBQSxVQUFBLEdBQ0EsR0FBQSxZQUFBLEVBRUEsSUFBQSxHQUFBLEVBQUEsaUJBQUEsRUFDQSxHQUFBLE9BQUEsRUFBQSxJQUdBLEVBQUEsUUFBQSxFQUFBLFdBQ0EsRUFBQSxRQUFBLEVBQUEsTUFJQSxFQUFBLE1BQUEsWUFBQSxNQUNBLEVBQUEsUUFBQSxFQUFBLFlBRUEsR0FBQSxZQUFBLEdBSUEsRUFBQSxNQUdBLEdBQUEsR0FBQSxFQUFBLEVBQUEsRUFDQSxFQUFBLEdBQUEsY0FBQSxPQUNBLEVBQUEsR0FBQSxjQUFBLE1BR0EsR0FBQSxRQU1BLEVBQUEsTUFBQSxlQUFBLGNBQ0EsRUFBQSxXQUFBLEdBQUEsTUFBQSxlQUFBLEdBQ0EsR0FBQSxnQkFBQSxnQkFBQSxFQUFBLE1BQUEsZUFFQSxFQUFBLE1BQUEsUUFBQSw0RkFFQSxFQUFBLFlBQUEsR0FFQSxHQUFBLE9BQUEsSUFDQSxjQUFBLFdBRUEsTUFEQSxLQUNBLEdBRUEsa0JBQUEsV0FFQSxNQURBLEtBQ0EsR0FFQSxpQkFBQSxXQUVBLE1BREEsS0FDQSxHQUVBLG1CQUFBLFdBRUEsTUFEQSxLQUNBLFFBK0VBLElBS0EsSUFBQSw0QkFDQSxHQUFBLE1BQ0EsSUFBQSxTQUFBLFdBQUEsV0FBQSxTQUFBLFFBQUEsU0FDQSxJQUNBLGNBQUEsSUFDQSxXQUFBLE9BR0EsSUFBQSxTQUFBLE1BQUEsTUFDQSxHQUFBLEdBQUEsY0FBQSxPQUFBLEtBaUlBLElBQUEsUUFJQSxVQUNBLFNBQ0EsSUFBQSxTQUFBLEVBQUEsR0FDQSxHQUFBLEVBQUEsQ0FHQSxHQUFBLEdBQUEsRUFBQSxFQUFBLFVBQ0EsT0FBQSxLQUFBLEVBQUEsSUFBQSxNQU9BLFdBQ0EseUJBQUEsRUFDQSxhQUFBLEVBQ0EsYUFBQSxFQUNBLFVBQUEsRUFDQSxZQUFBLEVBQ0EsWUFBQSxFQUNBLFlBQUEsRUFDQSxTQUFBLEVBQ0EsT0FBQSxFQUNBLFNBQUEsRUFDQSxRQUFBLEVBQ0EsUUFBQSxFQUNBLE1BQUEsR0FLQSxVQUNBLFFBQUEsWUFJQSxNQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsR0FHQSxHQUFBLEdBQUEsSUFBQSxFQUFBLFVBQUEsSUFBQSxFQUFBLFVBQUEsRUFBQSxNQUFBLENBS0EsR0FBQSxHQUFBLEVBQUEsRUFDQSxFQUFBLEdBQUEsVUFBQSxHQUNBLEVBQUEsR0FBQSxLQUFBLEdBQ0EsRUFBQSxFQUFBLEtBYUEsT0FSQSxLQUNBLEVBQUEsRUFBQSxJQUlBLEVBQUEsR0FBQSxTQUFBLElBQUEsR0FBQSxTQUFBLEdBR0EsU0FBQSxFQXdDQSxHQUFBLE9BQUEsSUFDQSxVQUFBLEVBQUEsRUFBQSxJQUFBLEdBQUEsRUFBQSxJQUVBLEVBSUEsRUFBQSxJQTlDQSxRQUFBLEdBR0EsV0FBQSxJQUFBLEVBQUEsR0FBQSxLQUFBLEtBQUEsRUFBQSxLQUNBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FHQSxFQUFBLFVBSUEsTUFBQSxHQUFBLElBQUEsSUFLQSxXQUFBLElBQ0EsR0FBQSxHQUFBLEVBQUEsS0FBQSxHQUFBLFVBQUEsR0FBQSxHQUFBLE9BSUEsR0FBQSxpQkFBQSxLQUFBLEdBQUEsSUFBQSxFQUFBLFFBQUEsZ0JBQ0EsRUFBQSxHQUFBLFdBSUEsR0FBQSxPQUFBLElBQ0EsVUFBQSxFQUFBLEVBQUEsSUFBQSxFQUFBLEVBQUEsTUFFQSxFQUNBLEVBQUEsWUFBQSxFQUFBLEdBRUEsRUFBQSxHQUFBLElBckJBLFVBdUNBLElBQUEsU0FBQSxFQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLEVBQ0EsRUFBQSxHQUFBLFVBQUEsR0FDQSxFQUFBLEdBQUEsS0FBQSxFQTRCQSxPQXZCQSxLQUNBLEVBQUEsRUFBQSxJQUlBLEVBQUEsR0FBQSxTQUFBLElBQUEsR0FBQSxTQUFBLEdBR0EsR0FBQSxPQUFBLEtBQ0EsRUFBQSxFQUFBLElBQUEsR0FBQSxFQUFBLElBSUEsU0FBQSxJQUNBLEVBQUEsRUFBQSxFQUFBLEVBQUEsSUFJQSxXQUFBLEdBQUEsSUFBQSxNQUNBLEVBQUEsR0FBQSxJQUlBLEtBQUEsR0FBQSxHQUNBLEVBQUEsV0FBQSxHQUNBLEtBQUEsR0FBQSxTQUFBLEdBQUEsR0FBQSxFQUFBLEdBR0EsS0FJQSxHQUFBLE1BQUEsU0FBQSxTQUFBLFNBQUEsRUFBQSxHQUNBLEdBQUEsU0FBQSxJQUNBLElBQUEsU0FBQSxFQUFBLEVBQUEsR0FDQSxNQUFBLElBSUEsR0FBQSxLQUFBLEdBQUEsSUFBQSxFQUFBLGFBUUEsRUFBQSxpQkFBQSxRQUFBLEVBQUEsd0JBQUEsTUFJQSxFQUFBLEVBQUEsRUFBQSxHQUhBLEdBQUEsRUFBQSxHQUFBLFdBQ0EsTUFBQSxHQUFBLEVBQUEsRUFBQSxLQWRBLFFBb0JBLElBQUEsU0FBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEdBQ0EsRUFBQSxHQUFBLEdBQUEsR0FDQSxFQUFBLEdBQUEsRUFDQSxFQUNBLEVBQ0EsRUFDQSxlQUFBLEdBQUEsSUFBQSxFQUFBLGFBQUEsRUFBQSxHQUNBLEVBV0EsT0FQQSxLQUFBLEVBQUEsR0FBQSxLQUFBLEtBQ0EsUUFBQSxFQUFBLElBQUEsUUFFQSxFQUFBLE1BQUEsR0FBQSxFQUNBLEVBQUEsR0FBQSxJQUFBLEVBQUEsSUFHQSxFQUFBLEVBQUEsRUFBQSxPQUtBLEdBQUEsU0FBQSxXQUFBLEVBQUEsR0FBQSxtQkFDQSxTQUFBLEVBQUEsR0FDQSxNQUFBLElBQ0EsV0FBQSxFQUFBLEVBQUEsZ0JBQ0EsRUFBQSx3QkFBQSxLQUNBLEdBQUEsR0FBQSxXQUFBLEdBQUEsV0FDQSxNQUFBLEdBQUEsd0JBQUEsUUFFQSxLQU5BLFNBWUEsR0FBQSxNQUNBLE9BQUEsR0FDQSxRQUFBLEdBQ0EsT0FBQSxTQUNBLFNBQUEsRUFBQSxHQUNBLEdBQUEsU0FBQSxFQUFBLElBQ0EsT0FBQSxTQUFBLEdBT0EsSUFOQSxHQUFBLEdBQUEsRUFDQSxLQUdBLEVBQUEsZ0JBQUEsR0FBQSxFQUFBLE1BQUEsTUFBQSxHQUVBLEVBQUEsRUFBQSxJQUNBLEVBQUEsRUFBQSxHQUFBLEdBQUEsR0FDQSxFQUFBLElBQUEsRUFBQSxFQUFBLElBQUEsRUFBQSxFQUdBLE9BQUEsS0FJQSxHQUFBLEtBQUEsS0FDQSxHQUFBLFNBQUEsRUFBQSxHQUFBLElBQUEsS0FJQSxHQUFBLEdBQUEsUUFDQSxJQUFBLFNBQUEsRUFBQSxHQUNBLE1BQUEsSUFBQSxLQUFBLFNBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQ0EsS0FDQSxFQUFBLENBRUEsSUFBQSxNQUFBLFFBQUEsR0FBQSxDQUlBLElBSEEsRUFBQSxHQUFBLEdBQ0EsRUFBQSxFQUFBLE9BRUEsRUFBQSxFQUFBLElBQ0EsRUFBQSxFQUFBLElBQUEsR0FBQSxJQUFBLEVBQUEsRUFBQSxJQUFBLEVBQUEsRUFHQSxPQUFBLEdBR0EsTUFBQSxVQUFBLEVBQ0EsR0FBQSxNQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsSUFBQSxFQUFBLElBQ0EsRUFBQSxFQUFBLFVBQUEsT0FBQSxNQVFBLEdBQUEsTUFBQSxFQUVBLEVBQUEsV0FDQSxZQUFBLEVBQ0EsS0FBQSxTQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUNBLEtBQUEsS0FBQSxFQUNBLEtBQUEsS0FBQSxFQUNBLEtBQUEsT0FBQSxHQUFBLEdBQUEsT0FBQSxTQUNBLEtBQUEsUUFBQSxFQUNBLEtBQUEsTUFBQSxLQUFBLElBQUEsS0FBQSxNQUNBLEtBQUEsSUFBQSxFQUNBLEtBQUEsS0FBQSxJQUFBLEdBQUEsVUFBQSxHQUFBLEdBQUEsT0FFQSxJQUFBLFdBQ0EsR0FBQSxHQUFBLEVBQUEsVUFBQSxLQUFBLEtBRUEsT0FBQSxJQUFBLEVBQUEsSUFDQSxFQUFBLElBQUEsTUFDQSxFQUFBLFVBQUEsU0FBQSxJQUFBLE9BRUEsSUFBQSxTQUFBLEdBQ0EsR0FBQSxHQUNBLEVBQUEsRUFBQSxVQUFBLEtBQUEsS0FvQkEsT0FqQkEsTUFBQSxJQUFBLEVBREEsS0FBQSxRQUFBLFNBQ0EsR0FBQSxPQUFBLEtBQUEsUUFDQSxFQUFBLEtBQUEsUUFBQSxTQUFBLEVBQUEsRUFBQSxFQUFBLEtBQUEsUUFBQSxVQUdBLEVBRUEsS0FBQSxLQUFBLEtBQUEsSUFBQSxLQUFBLE9BQUEsRUFBQSxLQUFBLE1BRUEsS0FBQSxRQUFBLE1BQ0EsS0FBQSxRQUFBLEtBQUEsS0FBQSxLQUFBLEtBQUEsS0FBQSxJQUFBLE1BR0EsR0FBQSxFQUFBLElBQ0EsRUFBQSxJQUFBLE1BRUEsRUFBQSxVQUFBLFNBQUEsSUFBQSxNQUVBLE9BSUEsRUFBQSxVQUFBLEtBQUEsVUFBQSxFQUFBLFVBRUEsRUFBQSxXQUNBLFVBQ0EsSUFBQSxTQUFBLEdBQ0EsR0FBQSxFQUlBLE9BQUEsS0FBQSxFQUFBLEtBQUEsVUFDQSxNQUFBLEVBQUEsS0FBQSxFQUFBLE9BQUEsTUFBQSxFQUFBLEtBQUEsTUFBQSxFQUFBLE1BQ0EsRUFBQSxLQUFBLEVBQUEsT0FPQSxFQUFBLEdBQUEsSUFBQSxFQUFBLEtBQUEsRUFBQSxLQUFBLElBR0EsR0FBQSxTQUFBLEVBQUEsRUFBQSxJQUVBLElBQUEsU0FBQSxHQUtBLEdBQUEsR0FBQSxLQUFBLEVBQUEsTUFDQSxHQUFBLEdBQUEsS0FBQSxFQUFBLE1BQUEsR0FDQSxJQUFBLEVBQUEsS0FBQSxVQUNBLE1BQUEsRUFBQSxLQUFBLE1BQUEsR0FBQSxTQUFBLEVBQUEsU0FDQSxHQUFBLFNBQUEsRUFBQSxNQUdBLEVBQUEsS0FBQSxFQUFBLE1BQUEsRUFBQSxJQUZBLEdBQUEsTUFBQSxFQUFBLEtBQUEsRUFBQSxLQUFBLEVBQUEsSUFBQSxFQUFBLFNBVUEsRUFBQSxVQUFBLFVBQUEsRUFBQSxVQUFBLFlBQ0EsSUFBQSxTQUFBLEdBQ0EsRUFBQSxLQUFBLFVBQUEsRUFBQSxLQUFBLGFBQ0EsRUFBQSxLQUFBLEVBQUEsTUFBQSxFQUFBLE9BS0EsR0FBQSxRQUNBLE9BQUEsU0FBQSxHQUNBLE1BQUEsSUFFQSxNQUFBLFNBQUEsR0FDQSxNQUFBLEdBQUEsS0FBQSxJQUFBLEVBQUEsS0FBQSxJQUFBLEdBRUEsU0FBQSxTQUdBLEdBQUEsR0FBQSxFQUFBLFVBQUEsS0FHQSxHQUFBLEdBQUEsT0FLQSxJQUNBLElBQUEsR0FDQSxHQUFBLHlCQUNBLEdBQUEsYUFzWUEsSUFBQSxVQUFBLEdBQUEsT0FBQSxHQUVBLFVBQ0EsS0FBQSxTQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsS0FBQSxZQUFBLEVBQUEsRUFFQSxPQURBLEdBQUEsRUFBQSxLQUFBLEVBQUEsR0FBQSxLQUFBLEdBQUEsR0FDQSxLQUlBLFFBQUEsU0FBQSxFQUFBLEdBQ0EsR0FBQSxXQUFBLElBQ0EsRUFBQSxFQUNBLEdBQUEsTUFFQSxFQUFBLEVBQUEsTUFBQSxHQU9BLEtBSkEsR0FBQSxHQUNBLEVBQUEsRUFDQSxFQUFBLEVBQUEsT0FFQSxFQUFBLEVBQUEsSUFDQSxFQUFBLEVBQUEsR0FDQSxFQUFBLFNBQUEsR0FBQSxFQUFBLFNBQUEsT0FDQSxFQUFBLFNBQUEsR0FBQSxRQUFBLElBSUEsWUFBQSxHQUVBLFVBQUEsU0FBQSxFQUFBLEdBQ0EsRUFDQSxFQUFBLFdBQUEsUUFBQSxHQUVBLEVBQUEsV0FBQSxLQUFBLE1BS0EsR0FBQSxNQUFBLFNBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEdBQUEsZ0JBQUEsR0FBQSxHQUFBLFVBQUEsSUFDQSxTQUFBLElBQUEsR0FBQSxHQUNBLEdBQUEsV0FBQSxJQUFBLEVBQ0EsU0FBQSxFQUNBLE9BQUEsR0FBQSxHQUFBLElBQUEsR0FBQSxXQUFBLElBQUEsRUFvQ0EsT0FoQ0EsSUFBQSxHQUFBLElBQ0EsRUFBQSxTQUFBLEVBR0EsZ0JBQUEsR0FBQSxXQUVBLEVBQUEsU0FEQSxFQUFBLFdBQUEsSUFBQSxHQUFBLE9BQ0EsR0FBQSxHQUFBLE9BQUEsRUFBQSxVQUdBLEdBQUEsR0FBQSxPQUFBLFdBTUEsTUFBQSxFQUFBLE9BQUEsRUFBQSxTQUFBLEtBQ0EsRUFBQSxNQUFBLE1BSUEsRUFBQSxJQUFBLEVBQUEsU0FFQSxFQUFBLFNBQUEsV0FDQSxHQUFBLFdBQUEsRUFBQSxNQUNBLEVBQUEsSUFBQSxLQUFBLE1BR0EsRUFBQSxPQUNBLEdBQUEsUUFBQSxLQUFBLEVBQUEsUUFJQSxHQUdBLEdBQUEsR0FBQSxRQUNBLE9BQUEsU0FBQSxFQUFBLEVBQUEsRUFBQSxHQUdBLE1BQUEsTUFBQSxPQUFBLElBQUEsSUFBQSxVQUFBLEdBQUEsT0FHQSxNQUFBLFNBQUEsUUFBQSxHQUFBLEVBQUEsRUFBQSxJQUVBLFFBQUEsU0FBQSxFQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxHQUFBLGNBQUEsR0FDQSxFQUFBLEdBQUEsTUFBQSxFQUFBLEVBQUEsR0FDQSxFQUFBLFdBR0EsR0FBQSxHQUFBLEVBQUEsS0FBQSxHQUFBLFVBQUEsR0FBQSxJQUdBLEdBQUEsR0FBQSxJQUFBLEtBQUEsWUFDQSxFQUFBLE1BQUEsR0FLQSxPQUZBLEdBQUEsT0FBQSxFQUVBLEdBQUEsRUFBQSxTQUFBLEVBQ0EsS0FBQSxLQUFBLEdBQ0EsS0FBQSxNQUFBLEVBQUEsTUFBQSxJQUVBLEtBQUEsU0FBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsU0FBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLFdBQ0EsR0FBQSxLQUNBLEVBQUEsR0FZQSxPQVRBLGdCQUFBLEtBQ0EsRUFBQSxFQUNBLEVBQUEsRUFDQSxFQUFBLFFBRUEsR0FBQSxLQUFBLEdBQ0EsS0FBQSxNQUFBLEdBQUEsU0FHQSxLQUFBLEtBQUEsV0FDQSxHQUFBLElBQUEsRUFDQSxFQUFBLE1BQUEsR0FBQSxFQUFBLGFBQ0EsRUFBQSxHQUFBLE9BQ0EsRUFBQSxHQUFBLElBQUEsS0FFQSxJQUFBLEVBQ0EsRUFBQSxJQUFBLEVBQUEsR0FBQSxNQUNBLEVBQUEsRUFBQSxRQUdBLEtBQUEsSUFBQSxHQUNBLEVBQUEsSUFBQSxFQUFBLEdBQUEsTUFBQSxHQUFBLEtBQUEsSUFDQSxFQUFBLEVBQUEsR0FLQSxLQUFBLEVBQUEsRUFBQSxPQUFBLEtBQ0EsRUFBQSxHQUFBLE9BQUEsTUFDQSxNQUFBLEdBQUEsRUFBQSxHQUFBLFFBQUEsSUFFQSxFQUFBLEdBQUEsS0FBQSxLQUFBLEdBQ0EsR0FBQSxFQUNBLEVBQUEsT0FBQSxFQUFBLEtBT0EsSUFBQSxJQUNBLEdBQUEsUUFBQSxLQUFBLE1BSUEsT0FBQSxTQUFBLEdBSUEsTUFIQSxNQUFBLElBQ0EsRUFBQSxHQUFBLE1BRUEsS0FBQSxLQUFBLFdBQ0EsR0FBQSxHQUNBLEVBQUEsR0FBQSxJQUFBLE1BQ0EsRUFBQSxFQUFBLEVBQUEsU0FDQSxFQUFBLEVBQUEsRUFBQSxjQUNBLEVBQUEsR0FBQSxPQUNBLEVBQUEsRUFBQSxFQUFBLE9BQUEsQ0FhQSxLQVZBLEVBQUEsUUFBQSxFQUdBLEdBQUEsTUFBQSxLQUFBLE1BRUEsR0FBQSxFQUFBLE1BQ0EsRUFBQSxLQUFBLEtBQUEsTUFBQSxHQUlBLEVBQUEsRUFBQSxPQUFBLEtBQ0EsRUFBQSxHQUFBLE9BQUEsTUFBQSxFQUFBLEdBQUEsUUFBQSxJQUNBLEVBQUEsR0FBQSxLQUFBLE1BQUEsR0FDQSxFQUFBLE9BQUEsRUFBQSxHQUtBLEtBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxJQUNBLEVBQUEsSUFBQSxFQUFBLEdBQUEsUUFDQSxFQUFBLEdBQUEsT0FBQSxLQUFBLFlBS0EsR0FBQSxZQUtBLEdBQUEsTUFBQSxTQUFBLE9BQUEsUUFBQSxTQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEVBQ0EsSUFBQSxHQUFBLEdBQUEsU0FBQSxFQUFBLEVBQUEsR0FDQSxNQUFBLE9BQUEsR0FBQSxpQkFBQSxHQUNBLEVBQUEsTUFBQSxLQUFBLFdBQ0EsS0FBQSxRQUFBLEVBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxNQUtBLEdBQUEsTUFDQSxVQUFBLEVBQUEsUUFDQSxRQUFBLEVBQUEsUUFDQSxZQUFBLEVBQUEsVUFDQSxRQUFBLFFBQUEsUUFDQSxTQUFBLFFBQUEsUUFDQSxZQUFBLFFBQUEsV0FDQSxTQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsR0FBQSxTQUFBLEVBQUEsRUFBQSxHQUNBLE1BQUEsTUFBQSxRQUFBLEVBQUEsRUFBQSxFQUFBLE1BSUEsR0FBQSxVQUNBLEdBQUEsR0FBQSxLQUFBLFdBQ0EsR0FBQSxHQUNBLEVBQUEsRUFDQSxFQUFBLEdBQUEsTUFJQSxLQUZBLEdBQUEsR0FBQSxNQUVBLEVBQUEsRUFBQSxPQUFBLElBQ0EsRUFBQSxFQUFBLEdBR0EsS0FBQSxFQUFBLEtBQUEsR0FDQSxFQUFBLE9BQUEsSUFBQSxFQUlBLEdBQUEsUUFDQSxHQUFBLEdBQUEsT0FFQSxHQUFBLFFBR0EsR0FBQSxHQUFBLE1BQUEsU0FBQSxHQUNBLEdBQUEsT0FBQSxLQUFBLEdBQ0EsR0FBQSxHQUFBLFNBR0EsR0FBQSxHQUFBLFNBQUEsR0FDQSxHQUFBLEdBQUEsTUFBQSxXQUNBLEtBSUEsSUFBQSxFQUNBLE1BR0EsR0FBQSxHQUFBLEtBQUEsV0FDQSxHQUFBLE1BR0EsR0FBQSxHQUFBLFFBQ0EsS0FBQSxJQUNBLEtBQUEsSUFHQSxTQUFBLEtBTUEsR0FBQSxHQUFBLE1BQUEsU0FBQSxFQUFBLEdBSUEsTUFIQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsT0FBQSxJQUFBLEVBQUEsRUFDQSxFQUFBLEdBQUEsS0FFQSxLQUFBLE1BQUEsRUFBQSxTQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxXQUFBLEVBQUEsRUFDQSxHQUFBLEtBQUEsV0FDQSxFQUFBLGFBQUEsT0FNQSxXQUNBLEdBQUEsR0FBQSxHQUFBLGNBQUEsU0FDQSxFQUFBLEdBQUEsY0FBQSxVQUNBLEVBQUEsRUFBQSxZQUFBLEdBQUEsY0FBQSxVQUVBLEdBQUEsS0FBQSxXQUlBLEdBQUEsUUFBQSxLQUFBLEVBQUEsTUFJQSxHQUFBLFlBQUEsRUFBQSxTQUlBLEVBQUEsR0FBQSxjQUFBLFNBQ0EsRUFBQSxNQUFBLElBQ0EsRUFBQSxLQUFBLFFBQ0EsR0FBQSxXQUFBLE1BQUEsRUFBQSxRQUlBLElBQUEsSUFDQSxHQUFBLEdBQUEsS0FBQSxVQUVBLElBQUEsR0FBQSxRQUNBLEtBQUEsU0FBQSxFQUFBLEdBQ0EsTUFBQSxJQUFBLEtBQUEsR0FBQSxLQUFBLEVBQUEsRUFBQSxVQUFBLE9BQUEsSUFHQSxXQUFBLFNBQUEsR0FDQSxNQUFBLE1BQUEsS0FBQSxXQUNBLEdBQUEsV0FBQSxLQUFBLFFBS0EsR0FBQSxRQUNBLEtBQUEsU0FBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsRUFDQSxFQUFBLEVBQUEsUUFHQSxJQUFBLElBQUEsR0FBQSxJQUFBLEdBQUEsSUFBQSxFQUtBLE1BQUEsbUJBQUEsR0FBQSxhQUNBLEdBQUEsS0FBQSxFQUFBLEVBQUEsSUFLQSxJQUFBLEdBQUEsR0FBQSxTQUFBLEtBQ0EsRUFBQSxHQUFBLFVBQUEsRUFBQSxpQkFDQSxHQUFBLEtBQUEsTUFBQSxLQUFBLEtBQUEsR0FBQSxHQUFBLFNBR0EsU0FBQSxFQUNBLE9BQUEsTUFDQSxJQUFBLFdBQUEsRUFBQSxHQUlBLEdBQUEsT0FBQSxJQUNBLFVBQUEsRUFBQSxFQUFBLElBQUEsRUFBQSxFQUFBLElBQ0EsR0FHQSxFQUFBLGFBQUEsRUFBQSxFQUFBLElBQ0EsR0FHQSxHQUFBLE9BQUEsSUFBQSxRQUFBLEVBQUEsRUFBQSxJQUFBLEVBQUEsSUFDQSxHQUdBLEVBQUEsR0FBQSxLQUFBLEtBQUEsRUFBQSxHQUdBLE1BQUEsRUFBQSxPQUFBLEtBR0EsV0FDQSxNQUNBLElBQUEsU0FBQSxFQUFBLEdBQ0EsSUFBQSxHQUFBLFlBQUEsVUFBQSxHQUNBLEVBQUEsRUFBQSxTQUFBLENBQ0EsR0FBQSxHQUFBLEVBQUEsS0FLQSxPQUpBLEdBQUEsYUFBQSxPQUFBLEdBQ0EsSUFDQSxFQUFBLE1BQUEsR0FFQSxNQU1BLFdBQUEsU0FBQSxFQUFBLEdBQ0EsR0FBQSxHQUNBLEVBQUEsRUFJQSxFQUFBLEdBQUEsRUFBQSxNQUFBLEdBRUEsSUFBQSxHQUFBLElBQUEsRUFBQSxTQUNBLEtBQUEsRUFBQSxFQUFBLE1BQ0EsRUFBQSxnQkFBQSxNQU9BLElBQ0EsSUFBQSxTQUFBLEVBQUEsRUFBQSxHQVFBLE1BUEEsTUFBQSxFQUdBLEdBQUEsV0FBQSxFQUFBLEdBRUEsRUFBQSxhQUFBLEVBQUEsR0FFQSxJQUlBLEdBQUEsS0FBQSxHQUFBLEtBQUEsTUFBQSxLQUFBLE9BQUEsTUFBQSxRQUFBLFNBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxHQUFBLElBQUEsR0FBQSxLQUFBLElBRUEsSUFBQSxHQUFBLFNBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQ0EsRUFBQSxFQUFBLGFBWUEsT0FWQSxLQUdBLEVBQUEsR0FBQSxHQUNBLEdBQUEsR0FBQSxFQUNBLEVBQUEsTUFBQSxFQUFBLEVBQUEsRUFBQSxHQUNBLEVBQ0EsS0FDQSxHQUFBLEdBQUEsR0FFQSxJQU9BLElBQUEsSUFBQSxzQ0FDQSxHQUFBLGVBRUEsSUFBQSxHQUFBLFFBQ0EsS0FBQSxTQUFBLEVBQUEsR0FDQSxNQUFBLElBQUEsS0FBQSxHQUFBLEtBQUEsRUFBQSxFQUFBLFVBQUEsT0FBQSxJQUdBLFdBQUEsU0FBQSxHQUNBLE1BQUEsTUFBQSxLQUFBLGlCQUNBLE1BQUEsR0FBQSxRQUFBLElBQUEsUUFLQSxHQUFBLFFBQ0EsS0FBQSxTQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxFQUNBLEVBQUEsRUFBQSxRQUdBLElBQUEsSUFBQSxHQUFBLElBQUEsR0FBQSxJQUFBLEVBV0EsTUFQQSxLQUFBLEdBQUEsR0FBQSxTQUFBLEtBR0EsRUFBQSxHQUFBLFFBQUEsSUFBQSxFQUNBLEVBQUEsR0FBQSxVQUFBLElBR0EsU0FBQSxFQUNBLEdBQUEsT0FBQSxJQUNBLFVBQUEsRUFBQSxFQUFBLElBQUEsRUFBQSxFQUFBLElBQ0EsRUFHQSxFQUFBLEdBQUEsRUFHQSxHQUFBLE9BQUEsSUFBQSxRQUFBLEVBQUEsRUFBQSxJQUFBLEVBQUEsSUFDQSxFQUdBLEVBQUEsSUFHQSxXQUNBLFVBQ0EsSUFBQSxTQUFBLEdBT0EsR0FBQSxHQUFBLEdBQUEsS0FBQSxLQUFBLEVBQUEsV0FFQSxPQUFBLEdBQ0EsU0FBQSxFQUFBLElBSUEsR0FBQSxLQUFBLEVBQUEsV0FDQSxHQUFBLEtBQUEsRUFBQSxXQUNBLEVBQUEsS0FFQSxFQUdBLE1BS0EsU0FDQSxNQUFBLFVBQ0EsUUFBQSxlQVlBLEdBQUEsY0FDQSxHQUFBLFVBQUEsVUFDQSxJQUFBLFNBQUEsR0FJQSxHQUFBLEdBQUEsRUFBQSxVQUlBLE9BSEEsSUFBQSxFQUFBLFlBQ0EsRUFBQSxXQUFBLGNBRUEsTUFFQSxJQUFBLFNBQUEsR0FJQSxHQUFBLEdBQUEsRUFBQSxVQUNBLEtBQ0EsRUFBQSxjQUVBLEVBQUEsWUFDQSxFQUFBLFdBQUEsa0JBT0EsR0FBQSxNQUNBLFdBQ0EsV0FDQSxZQUNBLGNBQ0EsY0FDQSxVQUNBLFVBQ0EsU0FDQSxjQUNBLG1CQUNBLFdBQ0EsR0FBQSxRQUFBLEtBQUEsZUFBQSxPQWtCQSxHQUFBLEdBQUEsUUFDQSxTQUFBLFNBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQ0EsRUFBQSxDQUVBLElBQUEsR0FBQSxXQUFBLEdBQ0EsTUFBQSxNQUFBLEtBQUEsU0FBQSxHQUNBLEdBQUEsTUFBQSxTQUFBLEVBQUEsS0FBQSxLQUFBLEVBQUEsRUFBQSxTQUlBLElBQUEsZ0JBQUEsSUFBQSxFQUdBLElBRkEsRUFBQSxFQUFBLE1BQUEsUUFFQSxFQUFBLEtBQUEsTUFJQSxHQUhBLEVBQUEsRUFBQSxHQUNBLEVBQUEsSUFBQSxFQUFBLFVBQUEsSUFBQSxFQUFBLEdBQUEsSUFFQSxDQUVBLElBREEsRUFBQSxFQUNBLEVBQUEsRUFBQSxNQUNBLEVBQUEsUUFBQSxJQUFBLEVBQUEsS0FBQSxJQUNBLEdBQUEsRUFBQSxJQUtBLEdBQUEsRUFBQSxHQUNBLElBQUEsR0FDQSxFQUFBLGFBQUEsUUFBQSxHQU1BLE1BQUEsT0FHQSxZQUFBLFNBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQ0EsRUFBQSxDQUVBLElBQUEsR0FBQSxXQUFBLEdBQ0EsTUFBQSxNQUFBLEtBQUEsU0FBQSxHQUNBLEdBQUEsTUFBQSxZQUFBLEVBQUEsS0FBQSxLQUFBLEVBQUEsRUFBQSxTQUlBLEtBQUEsVUFBQSxPQUNBLE1BQUEsTUFBQSxLQUFBLFFBQUEsR0FHQSxJQUFBLGdCQUFBLElBQUEsRUFHQSxJQUZBLEVBQUEsRUFBQSxNQUFBLFFBRUEsRUFBQSxLQUFBLE1BTUEsR0FMQSxFQUFBLEVBQUEsR0FHQSxFQUFBLElBQUEsRUFBQSxVQUFBLElBQUEsRUFBQSxHQUFBLElBRUEsQ0FFQSxJQURBLEVBQUEsRUFDQSxFQUFBLEVBQUEsTUFHQSxLQUFBLEVBQUEsUUFBQSxJQUFBLEVBQUEsS0FBQSxJQUNBLEVBQUEsRUFBQSxRQUFBLElBQUEsRUFBQSxJQUFBLElBS0EsR0FBQSxFQUFBLEdBQ0EsSUFBQSxHQUNBLEVBQUEsYUFBQSxRQUFBLEdBTUEsTUFBQSxPQUdBLFlBQUEsU0FBQSxFQUFBLEdBQ0EsR0FBQSxTQUFBLEVBRUEsT0FBQSxpQkFBQSxJQUFBLFdBQUEsRUFDQSxFQUFBLEtBQUEsU0FBQSxHQUFBLEtBQUEsWUFBQSxHQUlBLEtBQUEsS0FEQSxHQUFBLFdBQUEsR0FDQSxTQUFBLEdBQ0EsR0FBQSxNQUFBLFlBQ0EsRUFBQSxLQUFBLEtBQUEsRUFBQSxFQUFBLE1BQUEsR0FDQSxJQUtBLFdBQ0EsR0FBQSxHQUFBLEVBQUEsRUFBQSxDQUVBLElBQUEsV0FBQSxFQU9BLElBSkEsRUFBQSxFQUNBLEVBQUEsR0FBQSxNQUNBLEVBQUEsRUFBQSxNQUFBLFFBRUEsRUFBQSxFQUFBLE1BR0EsRUFBQSxTQUFBLEdBQ0EsRUFBQSxZQUFBLEdBRUEsRUFBQSxTQUFBLFFBS0EsU0FBQSxHQUFBLFlBQUEsS0FDQSxFQUFBLEVBQUEsTUFDQSxHQUdBLEdBQUEsSUFBQSxLQUFBLGdCQUFBLEdBT0EsS0FBQSxjQUNBLEtBQUEsYUFBQSxRQUNBLEdBQUEsS0FBQSxFQUNBLEdBQ0EsR0FBQSxJQUFBLEtBQUEsa0JBQUEsUUFPQSxTQUFBLFNBQUEsR0FDQSxHQUFBLEdBQUEsRUFDQSxFQUFBLENBR0EsS0FEQSxFQUFBLElBQUEsRUFBQSxJQUNBLEVBQUEsS0FBQSxNQUNBLEdBQUEsSUFBQSxFQUFBLFdBQ0EsSUFBQSxFQUFBLEVBQUEsSUFBQSxLQUFBLFFBQUEsR0FBQSxHQUNBLE9BQUEsQ0FJQSxRQUFBLElBT0EsSUFBQSxJQUFBLEtBRUEsSUFBQSxHQUFBLFFBQ0EsSUFBQSxTQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsRUFDQSxFQUFBLEtBQUEsRUFFQSxFQUFBLEdBQUEsVUFBQSxPQTRCQSxNQUZBLEdBQUEsR0FBQSxXQUFBLEdBRUEsS0FBQSxLQUFBLFNBQUEsR0FDQSxHQUFBLEVBRUEsS0FBQSxLQUFBLFdBS0EsRUFEQSxFQUNBLEVBQUEsS0FBQSxLQUFBLEVBQUEsR0FBQSxNQUFBLE9BRUEsRUFJQSxNQUFBLEVBQ0EsRUFBQSxHQUVBLGdCQUFBLEdBQ0EsR0FBQSxHQUVBLE1BQUEsUUFBQSxLQUNBLEVBQUEsR0FBQSxJQUFBLEVBQUEsU0FBQSxHQUNBLE1BQUEsT0FBQSxFQUFBLEdBQUEsRUFBQSxNQUlBLEVBQUEsR0FBQSxTQUFBLEtBQUEsT0FBQSxHQUFBLFNBQUEsS0FBQSxTQUFBLGVBR0EsR0FBQSxPQUFBLElBQUEsU0FBQSxFQUFBLElBQUEsS0FBQSxFQUFBLFdBQ0EsS0FBQSxNQUFBLEtBekRBLElBQUEsRUFJQSxNQUhBLEdBQUEsR0FBQSxTQUFBLEVBQUEsT0FDQSxHQUFBLFNBQUEsRUFBQSxTQUFBLGVBRUEsR0FDQSxPQUFBLElBQ0EsVUFBQSxFQUFBLEVBQUEsSUFBQSxFQUFBLFVBRUEsR0FHQSxFQUFBLEVBQUEsTUFHQSxnQkFBQSxHQUNBLEVBQUEsUUFBQSxHQUFBLElBSUEsTUFBQSxFQUFBLEdBQUEsT0E0Q0EsR0FBQSxRQUNBLFVBQ0EsUUFDQSxJQUFBLFNBQUEsR0FFQSxHQUFBLEdBQUEsR0FBQSxLQUFBLEtBQUEsRUFBQSxRQUNBLE9BQUEsT0FBQSxFQUNBLEVBTUEsRUFBQSxHQUFBLEtBQUEsTUFHQSxRQUNBLElBQUEsU0FBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLEVBQ0EsRUFBQSxFQUFBLFFBQ0EsRUFBQSxFQUFBLGNBQ0EsRUFBQSxlQUFBLEVBQUEsS0FDQSxFQUFBLEVBQUEsUUFDQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsTUFVQSxLQVBBLEVBREEsRUFBQSxFQUNBLEVBR0EsRUFBQSxFQUFBLEVBSUEsRUFBQSxFQUFBLElBS0EsR0FKQSxFQUFBLEVBQUEsTUFJQSxFQUFBLFVBQUEsSUFBQSxHQUdBLEVBQUEsVUFDQSxFQUFBLFdBQUEsVUFDQSxFQUFBLEVBQUEsV0FBQSxhQUFBLENBTUEsR0FIQSxFQUFBLEdBQUEsR0FBQSxNQUdBLEVBQ0EsTUFBQSxFQUlBLEdBQUEsS0FBQSxHQUlBLE1BQUEsSUFHQSxJQUFBLFNBQUEsRUFBQSxHQU1BLElBTEEsR0FBQSxHQUFBLEVBQ0EsRUFBQSxFQUFBLFFBQ0EsRUFBQSxHQUFBLFVBQUEsR0FDQSxFQUFBLEVBQUEsT0FFQSxLQUNBLEVBQUEsRUFBQSxJQUlBLEVBQUEsU0FDQSxHQUFBLFFBQUEsR0FBQSxTQUFBLE9BQUEsSUFBQSxHQUFBLEdBQUEsTUFFQSxHQUFBLEVBVUEsT0FIQSxLQUNBLEVBQUEsY0FBQSxJQUVBLE9BT0EsR0FBQSxNQUFBLFFBQUEsWUFBQSxXQUNBLEdBQUEsU0FBQSxPQUNBLElBQUEsU0FBQSxFQUFBLEdBQ0EsTUFBQSxPQUFBLFFBQUEsR0FDQSxFQUFBLFFBQUEsR0FBQSxRQUFBLEdBQUEsR0FBQSxNQUFBLEdBQUEsR0FEQSxTQUtBLEdBQUEsVUFDQSxHQUFBLFNBQUEsTUFBQSxJQUFBLFNBQUEsR0FDQSxNQUFBLFFBQUEsRUFBQSxhQUFBLFNBQUEsS0FBQSxFQUFBLFNBV0EsSUFBQSxJQUFBLGlDQUVBLElBQUEsT0FBQSxHQUFBLE9BRUEsUUFBQSxTQUFBLEVBQUEsRUFBQSxFQUFBLEdBRUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUNBLEdBQUEsR0FBQSxJQUNBLEVBQUEsR0FBQSxLQUFBLEVBQUEsUUFBQSxFQUFBLEtBQUEsRUFDQSxFQUFBLEdBQUEsS0FBQSxFQUFBLGFBQUEsRUFBQSxVQUFBLE1BQUEsT0FLQSxJQUhBLEVBQUEsRUFBQSxFQUFBLEdBQUEsR0FHQSxJQUFBLEVBQUEsVUFBQSxJQUFBLEVBQUEsV0FLQSxHQUFBLEtBQUEsRUFBQSxHQUFBLE1BQUEsYUFJQSxFQUFBLFFBQUEsS0FBQSxLQUdBLEVBQUEsRUFBQSxNQUFBLEtBQ0EsRUFBQSxFQUFBLFFBQ0EsRUFBQSxRQUVBLEVBQUEsRUFBQSxRQUFBLEtBQUEsR0FBQSxLQUFBLEVBR0EsRUFBQSxFQUFBLEdBQUEsU0FDQSxFQUNBLEdBQUEsSUFBQSxNQUFBLEVBQUEsZ0JBQUEsSUFBQSxHQUdBLEVBQUEsVUFBQSxFQUFBLEVBQUEsRUFDQSxFQUFBLFVBQUEsRUFBQSxLQUFBLEtBQ0EsRUFBQSxXQUFBLEVBQUEsVUFDQSxHQUFBLFFBQUEsVUFBQSxFQUFBLEtBQUEsaUJBQUEsV0FDQSxLQUdBLEVBQUEsT0FBQSxPQUNBLEVBQUEsU0FDQSxFQUFBLE9BQUEsR0FJQSxFQUFBLE1BQUEsR0FDQSxHQUNBLEdBQUEsVUFBQSxHQUFBLElBR0EsRUFBQSxHQUFBLE1BQUEsUUFBQSxPQUNBLElBQUEsRUFBQSxTQUFBLEVBQUEsUUFBQSxNQUFBLEVBQUEsTUFBQSxHQUFBLENBTUEsSUFBQSxJQUFBLEVBQUEsV0FBQSxHQUFBLFNBQUEsR0FBQSxDQU1BLElBSkEsRUFBQSxFQUFBLGNBQUEsRUFDQSxHQUFBLEtBQUEsRUFBQSxLQUNBLEVBQUEsRUFBQSxZQUVBLEVBQUEsRUFBQSxFQUFBLFdBQ0EsRUFBQSxLQUFBLEdBQ0EsRUFBQSxDQUlBLE1BQUEsRUFBQSxlQUFBLEtBQ0EsRUFBQSxLQUFBLEVBQUEsYUFBQSxFQUFBLGNBQUEsR0FNQSxJQURBLEVBQUEsR0FDQSxFQUFBLEVBQUEsUUFBQSxFQUFBLHdCQUVBLEVBQUEsS0FBQSxFQUFBLEVBQ0EsRUFDQSxFQUFBLFVBQUEsRUFHQSxHQUFBLEdBQUEsSUFBQSxFQUFBLGVBQUEsRUFBQSxPQUNBLEdBQUEsSUFBQSxFQUFBLFVBQ0EsR0FDQSxFQUFBLE1BQUEsRUFBQSxHQUlBLEVBQUEsR0FBQSxFQUFBLEdBQ0EsR0FBQSxFQUFBLE9BQUEsR0FBQSxLQUNBLEVBQUEsT0FBQSxFQUFBLE1BQUEsRUFBQSxHQUNBLEVBQUEsVUFBQSxHQUNBLEVBQUEsaUJBb0NBLE9BaENBLEdBQUEsS0FBQSxFQUdBLEdBQUEsRUFBQSxzQkFFQSxFQUFBLFVBQ0EsRUFBQSxTQUFBLE1BQUEsRUFBQSxNQUFBLE1BQUEsSUFDQSxHQUFBLElBSUEsR0FBQSxHQUFBLFdBQUEsRUFBQSxNQUFBLEdBQUEsU0FBQSxLQUdBLEVBQUEsRUFBQSxHQUVBLElBQ0EsRUFBQSxHQUFBLE1BSUEsR0FBQSxNQUFBLFVBQUEsRUFDQSxFQUFBLEtBQ0EsR0FBQSxNQUFBLFVBQUEsT0FFQSxJQUNBLEVBQUEsR0FBQSxJQU1BLEVBQUEsU0FLQSxTQUFBLFNBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEdBQUEsT0FDQSxHQUFBLElBQUEsTUFDQSxHQUVBLEtBQUEsRUFDQSxhQUFBLEdBSUEsSUFBQSxNQUFBLFFBQUEsRUFBQSxLQUFBLE1BS0EsR0FBQSxHQUFBLFFBRUEsUUFBQSxTQUFBLEVBQUEsR0FDQSxNQUFBLE1BQUEsS0FBQSxXQUNBLEdBQUEsTUFBQSxRQUFBLEVBQUEsRUFBQSxTQUdBLGVBQUEsU0FBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEtBQUEsRUFDQSxPQUFBLEdBQ0EsR0FBQSxNQUFBLFFBQUEsRUFBQSxFQUFBLEdBQUEsR0FEQSxVQU9BLEdBQUEsS0FBQSx3TEFFQSxNQUFBLEtBQ0EsU0FBQSxFQUFBLEdBR0EsR0FBQSxHQUFBLEdBQUEsU0FBQSxFQUFBLEdBQ0EsTUFBQSxXQUFBLE9BQUEsRUFDQSxLQUFBLEdBQUEsRUFBQSxLQUFBLEVBQUEsR0FDQSxLQUFBLFFBQUEsTUFJQSxHQUFBLEdBQUEsUUFDQSxNQUFBLFNBQUEsRUFBQSxHQUNBLE1BQUEsTUFBQSxXQUFBLEdBQUEsV0FBQSxHQUFBLE1BT0EsR0FBQSxRQUFBLGFBQUEsR0FXQSxHQUFBLFNBQ0EsR0FBQSxNQUFBLE1BQUEsVUFBQSxLQUFBLFlBQUEsU0FBQSxFQUFBLEdBR0EsR0FBQSxHQUFBLFNBQUEsR0FDQSxHQUFBLE1BQUEsU0FBQSxFQUFBLEVBQUEsT0FBQSxHQUFBLE1BQUEsSUFBQSxJQUdBLElBQUEsTUFBQSxRQUFBLElBQ0EsTUFBQSxXQUNBLEdBQUEsR0FBQSxLQUFBLGVBQUEsS0FDQSxFQUFBLEdBQUEsT0FBQSxFQUFBLEVBRUEsSUFDQSxFQUFBLGlCQUFBLEVBQUEsR0FBQSxHQUVBLEdBQUEsT0FBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLElBRUEsU0FBQSxXQUNBLEdBQUEsR0FBQSxLQUFBLGVBQUEsS0FDQSxFQUFBLEdBQUEsT0FBQSxFQUFBLEdBQUEsQ0FFQSxHQUtBLEdBQUEsT0FBQSxFQUFBLEVBQUEsSUFKQSxFQUFBLG9CQUFBLEVBQUEsR0FBQSxHQUNBLEdBQUEsT0FBQSxFQUFBLE9BU0EsSUFBQSxJQUFBLEVBQUEsU0FFQSxHQUFBLEdBQUEsTUFFQSxHQUFBLElBS0EsSUFBQSxTQUFBLFNBQUEsR0FDQSxHQUFBLEVBQ0EsS0FBQSxHQUFBLGdCQUFBLEdBQ0EsTUFBQSxLQUtBLEtBQ0EsR0FBQSxHQUFBLEdBQUEsV0FBQSxnQkFBQSxFQUFBLFlBQ0EsTUFBQSxHQUNBLEVBQUEsT0FNQSxRQUhBLEdBQUEsRUFBQSxxQkFBQSxlQUFBLFNBQ0EsR0FBQSxNQUFBLGdCQUFBLEdBRUEsRUFJQSxJQUNBLElBQUEsUUFDQSxHQUFBLFNBQ0EsR0FBQSx3Q0FDQSxHQUFBLG9DQTBDQSxJQUFBLE1BQUEsU0FBQSxFQUFBLEdBQ0EsR0FBQSxHQUNBLEtBQ0EsRUFBQSxTQUFBLEVBQUEsR0FHQSxHQUFBLEdBQUEsR0FBQSxXQUFBLEdBQ0EsSUFDQSxDQUVBLEdBQUEsRUFBQSxRQUFBLG1CQUFBLEdBQUEsSUFDQSxtQkFBQSxNQUFBLEVBQUEsR0FBQSxHQUlBLElBQUEsTUFBQSxRQUFBLElBQUEsRUFBQSxTQUFBLEdBQUEsY0FBQSxHQUdBLEdBQUEsS0FBQSxFQUFBLFdBQ0EsRUFBQSxLQUFBLEtBQUEsS0FBQSxhQU9BLEtBQUEsSUFBQSxHQUNBLEVBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxFQUtBLE9BQUEsR0FBQSxLQUFBLE1BR0EsR0FBQSxHQUFBLFFBQ0EsVUFBQSxXQUNBLE1BQUEsSUFBQSxNQUFBLEtBQUEsbUJBRUEsZUFBQSxXQUNBLE1BQUEsTUFBQSxJQUFBLFdBR0EsR0FBQSxHQUFBLEdBQUEsS0FBQSxLQUFBLFdBQ0EsT0FBQSxHQUFBLEdBQUEsVUFBQSxHQUFBLE9BRUEsT0FBQSxXQUNBLEdBQUEsR0FBQSxLQUFBLElBR0EsT0FBQSxNQUFBLE9BQUEsR0FBQSxNQUFBLEdBQUEsY0FDQSxHQUFBLEtBQUEsS0FBQSxZQUFBLEdBQUEsS0FBQSxLQUNBLEtBQUEsVUFBQSxHQUFBLEtBQUEsTUFFQSxJQUFBLFNBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxHQUFBLE1BQUEsS0FFQSxPQUFBLE9BQUEsRUFDQSxLQUdBLE1BQUEsUUFBQSxHQUNBLEdBQUEsSUFBQSxFQUFBLFNBQUEsR0FDQSxPQUFBLEtBQUEsRUFBQSxLQUFBLE1BQUEsRUFBQSxRQUFBLEdBQUEsWUFJQSxLQUFBLEVBQUEsS0FBQSxNQUFBLEVBQUEsUUFBQSxHQUFBLFdBQ0EsUUFLQSxJQUNBLElBQUEsT0FDQSxHQUFBLE9BQ0EsR0FBQSxnQkFDQSxHQUFBLDZCQUdBLEdBQUEsNERBQ0EsR0FBQSxpQkFDQSxHQUFBLFFBV0EsTUFPQSxNQUdBLEdBQUEsS0FBQSxPQUFBLEtBR0EsR0FBQSxHQUFBLGNBQUEsSUFDQSxJQUFBLEtBQUEsR0FBQSxLQWdQQSxHQUFBLFFBR0EsT0FBQSxFQUdBLGdCQUNBLFFBRUEsY0FDQSxJQUFBLEdBQUEsS0FDQSxLQUFBLE1BQ0EsUUFBQSxHQUFBLEtBQUEsR0FBQSxVQUNBLFFBQUEsRUFDQSxhQUFBLEVBQ0EsT0FBQSxFQUNBLFlBQUEsbURBY0EsU0FDQSxJQUFBLEdBQ0EsS0FBQSxhQUNBLEtBQUEsWUFDQSxJQUFBLDRCQUNBLEtBQUEscUNBR0EsVUFDQSxJQUFBLFVBQ0EsS0FBQSxTQUNBLEtBQUEsWUFHQSxnQkFDQSxJQUFBLGNBQ0EsS0FBQSxlQUNBLEtBQUEsZ0JBS0EsWUFHQSxTQUFBLE9BR0EsYUFBQSxFQUdBLFlBQUEsS0FBQSxNQUdBLFdBQUEsR0FBQSxVQU9BLGFBQ0EsS0FBQSxFQUNBLFNBQUEsSUFPQSxVQUFBLFNBQUEsRUFBQSxHQUNBLE1BQUEsR0FHQSxFQUFBLEVBQUEsRUFBQSxHQUFBLGNBQUEsR0FHQSxFQUFBLEdBQUEsYUFBQSxJQUdBLGNBQUEsRUFBQSxJQUNBLGNBQUEsRUFBQSxJQUdBLEtBQUEsU0FBQSxFQUFBLEdBbVVBLFFBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxFQUNBLEVBQUEsQ0FHQSxLQUlBLEdBQUEsRUFHQSxHQUNBLEVBQUEsYUFBQSxHQUtBLEVBQUEsT0FHQSxFQUFBLEdBQUEsR0FHQSxFQUFBLFdBQUEsRUFBQSxFQUFBLEVBQUEsRUFHQSxFQUFBLEdBQUEsS0FBQSxJQUFBLEdBQUEsTUFBQSxFQUdBLElBQ0EsRUFBQSxFQUFBLEVBQUEsRUFBQSxJQUlBLEVBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxHQUdBLEdBR0EsRUFBQSxhQUNBLEVBQUEsRUFBQSxrQkFBQSxpQkFDQSxJQUNBLEdBQUEsYUFBQSxHQUFBLEdBRUEsRUFBQSxFQUFBLGtCQUFBLFFBQ0EsSUFDQSxHQUFBLEtBQUEsR0FBQSxJQUtBLE1BQUEsR0FBQSxTQUFBLEVBQUEsS0FDQSxFQUFBLFlBR0EsTUFBQSxFQUNBLEVBQUEsZUFJQSxFQUFBLEVBQUEsTUFDQSxFQUFBLEVBQUEsS0FDQSxFQUFBLEVBQUEsTUFDQSxHQUFBLEtBS0EsRUFBQSxHQUNBLElBQUEsS0FDQSxFQUFBLFFBQ0EsRUFBQSxJQUNBLEVBQUEsS0FNQSxFQUFBLE9BQUEsRUFDQSxFQUFBLFlBQUEsR0FBQSxHQUFBLEdBR0EsRUFDQSxFQUFBLFlBQUEsR0FBQSxFQUFBLEVBQUEsSUFFQSxFQUFBLFdBQUEsR0FBQSxFQUFBLEVBQUEsSUFJQSxFQUFBLFdBQUEsR0FDQSxFQUFBLE9BRUEsR0FDQSxFQUFBLFFBQUEsRUFBQSxjQUFBLGFBQ0EsRUFBQSxFQUFBLEVBQUEsRUFBQSxJQUlBLEVBQUEsU0FBQSxHQUFBLEVBQUEsSUFFQSxJQUNBLEVBQUEsUUFBQSxnQkFBQSxFQUFBLE1BR0EsR0FBQSxRQUNBLEdBQUEsTUFBQSxRQUFBLGNBM2FBLGdCQUFBLEtBQ0EsRUFBQSxFQUNBLEVBQUEsUUFJQSxFQUFBLEtBRUEsSUFBQSxHQUdBLEVBR0EsRUFDQSxFQUdBLEVBR0EsRUFHQSxFQUdBLEVBR0EsRUFHQSxFQUdBLEVBQUEsR0FBQSxhQUFBLEdBR0EsRUFBQSxFQUFBLFNBQUEsRUFHQSxFQUFBLEVBQUEsVUFDQSxFQUFBLFVBQUEsRUFBQSxRQUNBLEdBQUEsR0FDQSxHQUFBLE1BR0EsRUFBQSxHQUFBLFdBQ0EsRUFBQSxHQUFBLFVBQUEsZUFHQSxFQUFBLEVBQUEsZUFHQSxLQUNBLEtBR0EsRUFBQSxXQUdBLEdBQ0EsV0FBQSxFQUdBLGtCQUFBLFNBQUEsR0FDQSxHQUFBLEVBQ0EsSUFBQSxFQUFBLENBQ0EsSUFBQSxFQUVBLElBREEsS0FDQSxFQUFBLEdBQUEsS0FBQSxJQUNBLEVBQUEsRUFBQSxHQUFBLGVBQUEsRUFBQSxFQUdBLEdBQUEsRUFBQSxFQUFBLGVBRUEsTUFBQSxPQUFBLEVBQUEsS0FBQSxHQUlBLHNCQUFBLFdBQ0EsTUFBQSxHQUFBLEVBQUEsTUFJQSxpQkFBQSxTQUFBLEVBQUEsR0FNQSxNQUxBLE9BQUEsSUFDQSxFQUFBLEVBQUEsRUFBQSxlQUNBLEVBQUEsRUFBQSxnQkFBQSxFQUNBLEVBQUEsR0FBQSxHQUVBLE1BSUEsaUJBQUEsU0FBQSxHQUlBLE1BSEEsT0FBQSxJQUNBLEVBQUEsU0FBQSxHQUVBLE1BSUEsV0FBQSxTQUFBLEdBQ0EsR0FBQSxFQUNBLElBQUEsRUFDQSxHQUFBLEVBR0EsRUFBQSxPQUFBLEVBQUEsRUFBQSxhQUlBLEtBQUEsSUFBQSxHQUNBLEVBQUEsSUFBQSxFQUFBLEdBQUEsRUFBQSxHQUlBLE9BQUEsT0FJQSxNQUFBLFNBQUEsR0FDQSxHQUFBLEdBQUEsR0FBQSxDQUtBLE9BSkEsSUFDQSxFQUFBLE1BQUEsR0FFQSxFQUFBLEVBQUEsR0FDQSxNQW9CQSxJQWZBLEVBQUEsUUFBQSxHQUtBLEVBQUEsTUFBQSxHQUFBLEVBQUEsS0FBQSxHQUFBLE1BQUEsSUFDQSxRQUFBLEdBQUEsR0FBQSxTQUFBLE1BR0EsRUFBQSxLQUFBLEVBQUEsUUFBQSxFQUFBLE1BQUEsRUFBQSxRQUFBLEVBQUEsS0FHQSxFQUFBLFdBQUEsRUFBQSxVQUFBLEtBQUEsY0FBQSxNQUFBLE1BQUEsSUFHQSxNQUFBLEVBQUEsWUFBQSxDQUNBLEVBQUEsR0FBQSxjQUFBLElBS0EsS0FDQSxFQUFBLEtBQUEsRUFBQSxJQUlBLEVBQUEsS0FBQSxFQUFBLEtBQ0EsRUFBQSxZQUFBLEdBQUEsU0FBQSxLQUFBLEdBQUEsTUFDQSxFQUFBLFNBQUEsS0FBQSxFQUFBLEtBQ0EsTUFBQSxHQUlBLEVBQUEsYUFBQSxHQWFBLEdBUkEsRUFBQSxNQUFBLEVBQUEsYUFBQSxnQkFBQSxHQUFBLE9BQ0EsRUFBQSxLQUFBLEdBQUEsTUFBQSxFQUFBLEtBQUEsRUFBQSxjQUlBLEVBQUEsR0FBQSxFQUFBLEVBQUEsR0FHQSxFQUNBLE1BQUEsRUFLQSxHQUFBLEdBQUEsT0FBQSxFQUFBLE9BR0EsR0FBQSxJQUFBLEdBQUEsVUFDQSxHQUFBLE1BQUEsUUFBQSxhQUlBLEVBQUEsS0FBQSxFQUFBLEtBQUEsY0FHQSxFQUFBLFlBQUEsR0FBQSxLQUFBLEVBQUEsTUFLQSxFQUFBLEVBQUEsSUFBQSxRQUFBLEdBQUEsSUFHQSxFQUFBLFdBdUJBLEVBQUEsTUFBQSxFQUFBLGFBQ0EsS0FBQSxFQUFBLGFBQUEsSUFBQSxRQUFBLHVDQUNBLEVBQUEsS0FBQSxFQUFBLEtBQUEsUUFBQSxHQUFBLE9BdEJBLEVBQUEsRUFBQSxJQUFBLE1BQUEsRUFBQSxRQUdBLEVBQUEsT0FDQSxJQUFBLEdBQUEsS0FBQSxHQUFBLElBQUEsS0FBQSxFQUFBLFdBR0EsR0FBQSxNQUlBLEVBQUEsU0FBQSxJQUNBLEVBQUEsRUFBQSxRQUFBLEdBQUEsTUFDQSxHQUFBLEdBQUEsS0FBQSxHQUFBLElBQUEsS0FBQSxLQUFBLE1BQUEsR0FJQSxFQUFBLElBQUEsRUFBQSxHQVNBLEVBQUEsYUFDQSxHQUFBLGFBQUEsSUFDQSxFQUFBLGlCQUFBLG9CQUFBLEdBQUEsYUFBQSxJQUVBLEdBQUEsS0FBQSxJQUNBLEVBQUEsaUJBQUEsZ0JBQUEsR0FBQSxLQUFBLE1BS0EsRUFBQSxNQUFBLEVBQUEsWUFBQSxFQUFBLGVBQUEsR0FBQSxFQUFBLGNBQ0EsRUFBQSxpQkFBQSxlQUFBLEVBQUEsYUFJQSxFQUFBLGlCQUNBLFNBQ0EsRUFBQSxVQUFBLElBQUEsRUFBQSxRQUFBLEVBQUEsVUFBQSxJQUNBLEVBQUEsUUFBQSxFQUFBLFVBQUEsS0FDQSxNQUFBLEVBQUEsVUFBQSxHQUFBLEtBQUEsR0FBQSxXQUFBLElBQ0EsRUFBQSxRQUFBLEtBSUEsS0FBQSxJQUFBLEdBQUEsUUFDQSxFQUFBLGlCQUFBLEVBQUEsRUFBQSxRQUFBLEdBSUEsSUFBQSxFQUFBLGFBQ0EsRUFBQSxXQUFBLEtBQUEsRUFBQSxFQUFBLE1BQUEsR0FBQSxHQUdBLE1BQUEsR0FBQSxPQWVBLElBWEEsRUFBQSxRQUdBLEVBQUEsSUFBQSxFQUFBLFVBQ0EsRUFBQSxLQUFBLEVBQUEsU0FDQSxFQUFBLEtBQUEsRUFBQSxPQUdBLEVBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxHQUtBLENBU0EsR0FSQSxFQUFBLFdBQUEsRUFHQSxHQUNBLEVBQUEsUUFBQSxZQUFBLEVBQUEsSUFJQSxFQUNBLE1BQUEsRUFJQSxHQUFBLE9BQUEsRUFBQSxRQUFBLElBQ0EsRUFBQSxFQUFBLFdBQUEsV0FDQSxFQUFBLE1BQUEsWUFDQSxFQUFBLFNBR0EsS0FDQSxHQUFBLEVBQ0EsRUFBQSxLQUFBLEVBQUEsR0FDQSxNQUFBLEdBR0EsR0FBQSxFQUNBLEtBQUEsRUFJQSxHQUFBLEdBQUEsUUFoQ0EsR0FBQSxHQUFBLGVBcUpBLE9BQUEsSUFHQSxRQUFBLFNBQUEsRUFBQSxFQUFBLEdBQ0EsTUFBQSxJQUFBLElBQUEsRUFBQSxFQUFBLEVBQUEsU0FHQSxVQUFBLFNBQUEsRUFBQSxHQUNBLE1BQUEsSUFBQSxJQUFBLEVBQUEsT0FBQSxFQUFBLGFBSUEsR0FBQSxNQUFBLE1BQUEsUUFBQSxTQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsU0FBQSxFQUFBLEVBQUEsRUFBQSxHQVVBLE1BUEEsSUFBQSxXQUFBLEtBQ0EsRUFBQSxHQUFBLEVBQ0EsRUFBQSxFQUNBLEVBQUEsUUFJQSxHQUFBLEtBQUEsR0FBQSxRQUNBLElBQUEsRUFDQSxLQUFBLEVBQ0EsU0FBQSxFQUNBLEtBQUEsRUFDQSxRQUFBLEdBQ0EsR0FBQSxjQUFBLElBQUEsT0FLQSxHQUFBLFNBQUEsU0FBQSxHQUNBLE1BQUEsSUFBQSxNQUNBLElBQUEsRUFHQSxLQUFBLE1BQ0EsU0FBQSxTQUNBLE9BQUEsRUFDQSxPQUFBLEVBQ0EsUUFBQSxFQUNBLFVBQUEsS0FLQSxHQUFBLEdBQUEsUUFDQSxRQUFBLFNBQUEsR0FDQSxHQUFBLEVBeUJBLE9BdkJBLE1BQUEsS0FDQSxHQUFBLFdBQUEsS0FDQSxFQUFBLEVBQUEsS0FBQSxLQUFBLEtBSUEsRUFBQSxHQUFBLEVBQUEsS0FBQSxHQUFBLGVBQUEsR0FBQSxHQUFBLE9BQUEsR0FFQSxLQUFBLEdBQUEsWUFDQSxFQUFBLGFBQUEsS0FBQSxJQUdBLEVBQUEsSUFBQSxXQUdBLElBRkEsR0FBQSxHQUFBLEtBRUEsRUFBQSxtQkFDQSxFQUFBLEVBQUEsaUJBR0EsT0FBQSxLQUNBLE9BQUEsT0FHQSxNQUdBLFVBQUEsU0FBQSxHQUNBLE1BQ0EsTUFBQSxLQURBLEdBQUEsV0FBQSxHQUNBLFNBQUEsR0FDQSxHQUFBLE1BQUEsVUFBQSxFQUFBLEtBQUEsS0FBQSxLQUlBLFdBQ0EsR0FBQSxHQUFBLEdBQUEsTUFDQSxFQUFBLEVBQUEsVUFFQSxHQUFBLE9BQ0EsRUFBQSxRQUFBLEdBR0EsRUFBQSxPQUFBLE1BS0EsS0FBQSxTQUFBLEdBQ0EsR0FBQSxHQUFBLEdBQUEsV0FBQSxFQUVBLE9BQUEsTUFBQSxLQUFBLFNBQUEsR0FDQSxHQUFBLE1BQUEsUUFBQSxFQUFBLEVBQUEsS0FBQSxLQUFBLEdBQUEsTUFJQSxPQUFBLFNBQUEsR0FJQSxNQUhBLE1BQUEsT0FBQSxHQUFBLElBQUEsUUFBQSxLQUFBLFdBQ0EsR0FBQSxNQUFBLFlBQUEsS0FBQSxjQUVBLFFBS0EsR0FBQSxLQUFBLFFBQUEsT0FBQSxTQUFBLEdBQ0EsT0FBQSxHQUFBLEtBQUEsUUFBQSxRQUFBLElBRUEsR0FBQSxLQUFBLFFBQUEsUUFBQSxTQUFBLEdBQ0EsU0FBQSxFQUFBLGFBQUEsRUFBQSxjQUFBLEVBQUEsaUJBQUEsU0FNQSxHQUFBLGFBQUEsSUFBQSxXQUNBLElBQ0EsTUFBQSxJQUFBLEdBQUEsZUFDQSxNQUFBLEtBR0EsSUFBQSxLQUdBLEVBQUEsSUFJQSxLQUFBLEtBRUEsR0FBQSxHQUFBLGFBQUEsS0FFQSxJQUFBLE9BQUEsSUFBQSxtQkFBQSxJQUNBLEdBQUEsS0FBQSxLQUFBLEdBRUEsR0FBQSxjQUFBLFNBQUEsR0FDQSxHQUFBLEdBQUEsQ0FHQSxPQUFBLElBQUEsTUFBQSxLQUFBLEVBQUEsYUFFQSxLQUFBLFNBQUEsRUFBQSxHQUNBLEdBQUEsR0FDQSxFQUFBLEVBQUEsS0FXQSxJQVRBLEVBQUEsS0FDQSxFQUFBLEtBQ0EsRUFBQSxJQUNBLEVBQUEsTUFDQSxFQUFBLFNBQ0EsRUFBQSxVQUlBLEVBQUEsVUFDQSxJQUFBLElBQUEsR0FBQSxVQUNBLEVBQUEsR0FBQSxFQUFBLFVBQUEsRUFLQSxHQUFBLFVBQUEsRUFBQSxrQkFDQSxFQUFBLGlCQUFBLEVBQUEsVUFRQSxFQUFBLGFBQUEsRUFBQSxzQkFDQSxFQUFBLG9CQUFBLGlCQUlBLEtBQUEsSUFBQSxHQUNBLEVBQUEsaUJBQUEsRUFBQSxFQUFBLEdBSUEsR0FBQSxTQUFBLEdBQ0EsTUFBQSxZQUNBLElBQ0EsRUFBQSxFQUFBLEVBQUEsT0FDQSxFQUFBLFFBQUEsRUFBQSxRQUFBLEVBQUEsbUJBQUEsS0FFQSxVQUFBLEVBQ0EsRUFBQSxRQUNBLFVBQUEsRUFLQSxnQkFBQSxHQUFBLE9BQ0EsRUFBQSxFQUFBLFNBRUEsRUFHQSxFQUFBLE9BQ0EsRUFBQSxZQUlBLEVBQ0EsR0FBQSxFQUFBLFNBQUEsRUFBQSxPQUNBLEVBQUEsV0FLQSxVQUFBLEVBQUEsY0FBQSxTQUNBLGdCQUFBLEdBQUEsY0FDQSxPQUFBLEVBQUEsV0FDQSxLQUFBLEVBQUEsY0FDQSxFQUFBLDRCQVFBLEVBQUEsT0FBQSxJQUNBLEVBQUEsRUFBQSxRQUFBLEVBQUEsU0FLQSxTQUFBLEVBQUEsUUFDQSxFQUFBLFFBQUEsRUFFQSxFQUFBLG1CQUFBLFdBR0EsSUFBQSxFQUFBLFlBTUEsRUFBQSxXQUFBLFdBQ0EsR0FDQSxPQVFBLEVBQUEsRUFBQSxRQUVBLEtBR0EsRUFBQSxLQUFBLEVBQUEsWUFBQSxFQUFBLE1BQUEsTUFDQSxNQUFBLEdBR0EsR0FBQSxFQUNBLEtBQUEsS0FLQSxNQUFBLFdBQ0EsR0FDQSxNQWpJQSxTQTRJQSxHQUFBLGNBQUEsU0FBQSxHQUNBLEVBQUEsY0FDQSxFQUFBLFNBQUEsUUFBQSxLQUtBLEdBQUEsV0FDQSxTQUNBLE9BQUEsNkZBR0EsVUFDQSxPQUFBLDJCQUVBLFlBQ0EsY0FBQSxTQUFBLEdBRUEsTUFEQSxJQUFBLFdBQUEsR0FDQSxNQU1BLEdBQUEsY0FBQSxTQUFBLFNBQUEsR0FDQSxTQUFBLEVBQUEsUUFDQSxFQUFBLE9BQUEsR0FFQSxFQUFBLGNBQ0EsRUFBQSxLQUFBLFNBS0EsR0FBQSxjQUFBLFNBQUEsU0FBQSxHQUdBLEdBQUEsRUFBQSxZQUFBLENBQ0EsR0FBQSxHQUFBLENBQ0EsUUFDQSxLQUFBLFNBQUEsRUFBQSxHQUNBLEVBQUEsR0FBQSxZQUFBLE1BQ0EsUUFBQSxFQUFBLGNBQ0EsSUFBQSxFQUFBLE1BQ0EsR0FDQSxhQUNBLEVBQUEsU0FBQSxHQUNBLEVBQUEsU0FDQSxFQUFBLEtBQ0EsR0FDQSxFQUFBLFVBQUEsRUFBQSxLQUFBLElBQUEsSUFBQSxFQUFBLFFBTUEsR0FBQSxLQUFBLFlBQUEsRUFBQSxLQUVBLE1BQUEsV0FDQSxHQUNBLFFBVUEsSUFBQSxPQUNBLEdBQUEsbUJBR0EsSUFBQSxXQUNBLE1BQUEsV0FDQSxjQUFBLFdBQ0EsR0FBQSxHQUFBLEdBQUEsT0FBQSxHQUFBLFFBQUEsSUFBQSxJQUVBLE9BREEsTUFBQSxJQUFBLEVBQ0EsS0FLQSxHQUFBLGNBQUEsYUFBQSxTQUFBLEVBQUEsRUFBQSxHQUVBLEdBQUEsR0FBQSxFQUFBLEVBQ0EsRUFBQSxFQUFBLFNBQUEsSUFBQSxHQUFBLEtBQUEsRUFBQSxLQUNBLE1BQ0EsZ0JBQUEsR0FBQSxNQUVBLEtBREEsRUFBQSxhQUFBLElBQ0EsUUFBQSxzQ0FDQSxHQUFBLEtBQUEsRUFBQSxPQUFBLE9BSUEsT0FBQSxJQUFBLFVBQUEsRUFBQSxVQUFBLElBR0EsRUFBQSxFQUFBLGNBQUEsR0FBQSxXQUFBLEVBQUEsZUFDQSxFQUFBLGdCQUNBLEVBQUEsY0FHQSxFQUNBLEVBQUEsR0FBQSxFQUFBLEdBQUEsUUFBQSxHQUFBLEtBQUEsR0FDQSxFQUFBLFNBQUEsSUFDQSxFQUFBLE1BQUEsR0FBQSxLQUFBLEVBQUEsS0FBQSxJQUFBLEtBQUEsRUFBQSxNQUFBLElBQUEsR0FJQSxFQUFBLFdBQUEsZUFBQSxXQUlBLE1BSEEsSUFDQSxHQUFBLE1BQUEsRUFBQSxtQkFFQSxFQUFBLElBSUEsRUFBQSxVQUFBLEdBQUEsT0FHQSxFQUFBLEVBQUEsR0FDQSxFQUFBLEdBQUEsV0FDQSxFQUFBLFdBSUEsRUFBQSxPQUFBLFdBR0EsU0FBQSxFQUNBLEdBQUEsR0FBQSxXQUFBLEdBSUEsRUFBQSxHQUFBLEVBSUEsRUFBQSxLQUdBLEVBQUEsY0FBQSxFQUFBLGNBR0EsR0FBQSxLQUFBLElBSUEsR0FBQSxHQUFBLFdBQUEsSUFDQSxFQUFBLEVBQUEsSUFHQSxFQUFBLEVBQUEsU0FJQSxVQTlEQSxTQTBFQSxHQUFBLG1CQUFBLFdBQ0EsR0FBQSxHQUFBLEdBQUEsZUFBQSxtQkFBQSxJQUFBLElBRUEsT0FEQSxHQUFBLFVBQUEsNkJBQ0EsSUFBQSxFQUFBLFdBQUEsVUFRQSxHQUFBLFVBQUEsU0FBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLGdCQUFBLEdBQ0EsUUFFQSxrQkFBQSxLQUNBLEVBQUEsRUFDQSxHQUFBLEVBR0EsSUFBQSxHQUFBLEVBQUEsQ0F3QkEsT0F0QkEsS0FJQSxHQUFBLG9CQUNBLEVBQUEsR0FBQSxlQUFBLG1CQUFBLElBS0EsRUFBQSxFQUFBLGNBQUEsUUFDQSxFQUFBLEtBQUEsR0FBQSxTQUFBLEtBQ0EsRUFBQSxLQUFBLFlBQUEsSUFFQSxFQUFBLElBSUEsRUFBQSxHQUFBLEtBQUEsR0FDQSxHQUFBLE1BR0EsR0FDQSxFQUFBLGNBQUEsRUFBQSxNQUdBLEVBQUEsR0FBQSxHQUFBLEVBQUEsR0FFQSxHQUFBLEVBQUEsUUFDQSxHQUFBLEdBQUEsU0FHQSxHQUFBLFNBQUEsRUFBQSxjQU9BLEdBQUEsR0FBQSxLQUFBLFNBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsRUFDQSxFQUFBLEtBQ0EsRUFBQSxFQUFBLFFBQUEsSUFzREEsT0FwREEsR0FBQSxLQUNBLEVBQUEsRUFBQSxFQUFBLE1BQUEsSUFDQSxFQUFBLEVBQUEsTUFBQSxFQUFBLElBSUEsR0FBQSxXQUFBLElBR0EsRUFBQSxFQUNBLEVBQUEsUUFHQSxHQUFBLGdCQUFBLEtBQ0EsRUFBQSxRQUlBLEVBQUEsT0FBQSxHQUNBLEdBQUEsTUFDQSxJQUFBLEVBS0EsS0FBQSxHQUFBLE1BQ0EsU0FBQSxPQUNBLEtBQUEsSUFDQSxLQUFBLFNBQUEsR0FHQSxFQUFBLFVBRUEsRUFBQSxLQUFBLEVBSUEsR0FBQSxTQUFBLE9BQUEsR0FBQSxVQUFBLElBQUEsS0FBQSxHQUdBLEtBS0EsT0FBQSxHQUFBLFNBQUEsRUFBQSxHQUNBLEVBQUEsS0FBQSxXQUNBLEVBQUEsTUFBQSxLQUFBLElBQUEsRUFBQSxhQUFBLEVBQUEsUUFLQSxNQU9BLEdBQUEsTUFDQSxZQUNBLFdBQ0EsZUFDQSxZQUNBLGNBQ0EsWUFDQSxTQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsR0FBQSxTQUFBLEdBQ0EsTUFBQSxNQUFBLEdBQUEsRUFBQSxNQU9BLEdBQUEsS0FBQSxRQUFBLFNBQUEsU0FBQSxHQUNBLE1BQUEsSUFBQSxLQUFBLEdBQUEsT0FBQSxTQUFBLEdBQ0EsTUFBQSxLQUFBLEVBQUEsT0FDQSxRQU1BLEdBQUEsUUFDQSxVQUFBLFNBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUNBLEVBQUEsR0FBQSxJQUFBLEVBQUEsWUFDQSxFQUFBLEdBQUEsR0FDQSxJQUdBLFlBQUEsSUFDQSxFQUFBLE1BQUEsU0FBQSxZQUdBLEVBQUEsRUFBQSxTQUNBLEVBQUEsR0FBQSxJQUFBLEVBQUEsT0FDQSxFQUFBLEdBQUEsSUFBQSxFQUFBLFFBQ0EsR0FBQSxhQUFBLEdBQUEsVUFBQSxLQUNBLEVBQUEsR0FBQSxRQUFBLFFBQUEsR0FJQSxHQUNBLEVBQUEsRUFBQSxXQUNBLEVBQUEsRUFBQSxJQUNBLEVBQUEsRUFBQSxPQUdBLEVBQUEsV0FBQSxJQUFBLEVBQ0EsRUFBQSxXQUFBLElBQUEsR0FHQSxHQUFBLFdBQUEsS0FHQSxFQUFBLEVBQUEsS0FBQSxFQUFBLEVBQUEsR0FBQSxVQUFBLEtBR0EsTUFBQSxFQUFBLE1BQ0EsRUFBQSxJQUFBLEVBQUEsSUFBQSxFQUFBLElBQUEsR0FFQSxNQUFBLEVBQUEsT0FDQSxFQUFBLEtBQUEsRUFBQSxLQUFBLEVBQUEsS0FBQSxHQUdBLFNBQUEsR0FDQSxFQUFBLE1BQUEsS0FBQSxFQUFBLEdBR0EsRUFBQSxJQUFBLEtBS0EsR0FBQSxHQUFBLFFBQ0EsT0FBQSxTQUFBLEdBR0EsR0FBQSxVQUFBLE9BQ0EsTUFBQSxVQUFBLEVBQ0EsS0FDQSxLQUFBLEtBQUEsU0FBQSxHQUNBLEdBQUEsT0FBQSxVQUFBLEtBQUEsRUFBQSxJQUlBLElBQUEsR0FBQSxFQUFBLEVBQUEsRUFDQSxFQUFBLEtBQUEsRUFFQSxJQUFBLEVBUUEsTUFBQSxHQUFBLGlCQUFBLFFBSUEsRUFBQSxFQUFBLHdCQUVBLEVBQUEsRUFBQSxjQUNBLEVBQUEsRUFBQSxnQkFDQSxFQUFBLEVBQUEsYUFHQSxJQUFBLEVBQUEsSUFBQSxFQUFBLFlBQUEsRUFBQSxVQUNBLEtBQUEsRUFBQSxLQUFBLEVBQUEsWUFBQSxFQUFBLGNBWEEsSUFBQSxFQUFBLEtBQUEsSUFlQSxTQUFBLFdBQ0EsR0FBQSxLQUFBLEdBQUEsQ0FJQSxHQUFBLEdBQUEsRUFDQSxFQUFBLEtBQUEsR0FDQSxHQUFBLElBQUEsRUFBQSxLQUFBLEVBNEJBLE9BeEJBLFVBQUEsR0FBQSxJQUFBLEVBQUEsWUFHQSxFQUFBLEVBQUEseUJBS0EsRUFBQSxLQUFBLGVBR0EsRUFBQSxLQUFBLFNBQ0EsRUFBQSxFQUFBLEdBQUEsVUFDQSxFQUFBLEVBQUEsVUFJQSxHQUNBLElBQUEsRUFBQSxJQUFBLEdBQUEsSUFBQSxFQUFBLEdBQUEsa0JBQUEsR0FDQSxLQUFBLEVBQUEsS0FBQSxHQUFBLElBQUEsRUFBQSxHQUFBLG1CQUFBLE1BTUEsSUFBQSxFQUFBLElBQUEsRUFBQSxJQUFBLEdBQUEsSUFBQSxFQUFBLGFBQUEsR0FDQSxLQUFBLEVBQUEsS0FBQSxFQUFBLEtBQUEsR0FBQSxJQUFBLEVBQUEsY0FBQSxNQWNBLGFBQUEsV0FDQSxNQUFBLE1BQUEsSUFBQSxXQUdBLElBRkEsR0FBQSxHQUFBLEtBQUEsYUFFQSxHQUFBLFdBQUEsR0FBQSxJQUFBLEVBQUEsYUFDQSxFQUFBLEVBQUEsWUFHQSxPQUFBLElBQUEsUUFNQSxHQUFBLE1BQUEsV0FBQSxjQUFBLFVBQUEsZUFBQSxTQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsZ0JBQUEsQ0FFQSxJQUFBLEdBQUEsR0FBQSxTQUFBLEdBQ0EsTUFBQSxJQUFBLEtBQUEsU0FBQSxFQUFBLEVBQUEsR0FHQSxHQUFBLEVBT0EsT0FOQSxJQUFBLFNBQUEsR0FDQSxFQUFBLEVBQ0EsSUFBQSxFQUFBLFdBQ0EsRUFBQSxFQUFBLGFBR0EsU0FBQSxFQUNBLEVBQUEsRUFBQSxHQUFBLEVBQUEsUUFHQSxFQUNBLEVBQUEsU0FDQSxFQUFBLEVBQUEsWUFBQSxFQUNBLEVBQUEsRUFBQSxFQUFBLGFBSUEsRUFBQSxHQUFBLElBRUEsRUFBQSxFQUFBLFVBQUEsV0FVQSxHQUFBLE1BQUEsTUFBQSxRQUFBLFNBQUEsRUFBQSxHQUNBLEdBQUEsU0FBQSxHQUFBLEVBQUEsR0FBQSxjQUNBLFNBQUEsRUFBQSxHQUNBLE1BQUEsSUFDQSxFQUFBLEVBQUEsRUFBQSxHQUdBLEdBQUEsS0FBQSxHQUNBLEdBQUEsR0FBQSxXQUFBLEdBQUEsS0FDQSxHQU5BLFdBY0EsR0FBQSxNQUFBLE9BQUEsU0FBQSxNQUFBLFNBQUEsU0FBQSxFQUFBLEdBQ0EsR0FBQSxNQUFBLFFBQUEsUUFBQSxFQUFBLFFBQUEsRUFBQSxHQUFBLFFBQUEsR0FDQSxTQUFBLEVBQUEsR0FHQSxHQUFBLEdBQUEsR0FBQSxTQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsVUFBQSxTQUFBLEdBQUEsaUJBQUEsSUFDQSxFQUFBLElBQUEsS0FBQSxHQUFBLEtBQUEsRUFBQSxTQUFBLFNBRUEsT0FBQSxJQUFBLEtBQUEsU0FBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEVBRUEsT0FBQSxJQUFBLFNBQUEsR0FHQSxJQUFBLEVBQUEsUUFBQSxTQUNBLEVBQUEsUUFBQSxHQUNBLEVBQUEsU0FBQSxnQkFBQSxTQUFBLEdBSUEsSUFBQSxFQUFBLFVBQ0EsRUFBQSxFQUFBLGdCQUlBLEtBQUEsSUFDQSxFQUFBLEtBQUEsU0FBQSxHQUFBLEVBQUEsU0FBQSxHQUNBLEVBQUEsS0FBQSxTQUFBLEdBQUEsRUFBQSxTQUFBLEdBQ0EsRUFBQSxTQUFBLEtBSUEsU0FBQSxFQUdBLEdBQUEsSUFBQSxFQUFBLEVBQUEsR0FHQSxHQUFBLE1BQUEsRUFBQSxFQUFBLEVBQUEsSUFDQSxFQUFBLEVBQUEsRUFBQSxPQUFBLFFBTUEsR0FBQSxHQUFBLFFBRUEsS0FBQSxTQUFBLEVBQUEsRUFBQSxHQUNBLE1BQUEsTUFBQSxHQUFBLEVBQUEsS0FBQSxFQUFBLElBRUEsT0FBQSxTQUFBLEVBQUEsR0FDQSxNQUFBLE1BQUEsSUFBQSxFQUFBLEtBQUEsSUFHQSxTQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxNQUFBLE1BQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxJQUVBLFdBQUEsU0FBQSxFQUFBLEVBQUEsR0FHQSxNQUFBLEtBQUEsVUFBQSxPQUNBLEtBQUEsSUFBQSxFQUFBLE1BQ0EsS0FBQSxJQUFBLEVBQUEsR0FBQSxLQUFBO0lBSUEsR0FBQSxVQUFBLFNBQUEsR0FDQSxFQUNBLEdBQUEsWUFFQSxHQUFBLE9BQUEsSUFHQSxHQUFBLFFBQUEsTUFBQSxRQUNBLEdBQUEsVUFBQSxLQUFBLE1BQ0EsR0FBQSxTQUFBLEVBa0JBLGtCQUFBLFNBQUEsT0FBQSxLQUNBLE9BQUEsWUFBQSxXQUNBLE1BQUEsS0FPQSxJQUdBLElBQUEsRUFBQSxPQUdBLEdBQUEsRUFBQSxDQXdCQSxPQXRCQSxJQUFBLFdBQUEsU0FBQSxHQVNBLE1BUkEsR0FBQSxJQUFBLEtBQ0EsRUFBQSxFQUFBLElBR0EsR0FBQSxFQUFBLFNBQUEsS0FDQSxFQUFBLE9BQUEsSUFHQSxJQU1BLElBQ0EsRUFBQSxPQUFBLEVBQUEsRUFBQSxJQU1BLEtDbGdVQSxXQXlMQSxRQUFBLEdBQUEsRUFBQSxFQUFBLEdBSUEsSUFIQSxHQUFBLElBQUEsR0FBQSxHQUFBLEVBQ0EsRUFBQSxFQUFBLEVBQUEsT0FBQSxJQUVBLEVBQUEsR0FDQSxHQUFBLEVBQUEsS0FBQSxFQUNBLE1BQUEsRUFHQSxPQUFBLEdBWUEsUUFBQSxHQUFBLEVBQUEsR0FDQSxHQUFBLFNBQUEsRUFHQSxJQUZBLEVBQUEsRUFBQSxNQUVBLFdBQUEsR0FBQSxNQUFBLEVBQ0EsTUFBQSxHQUFBLEdBQUEsRUFBQSxFQUVBLFdBQUEsR0FBQSxVQUFBLElBQ0EsRUFBQSxTQUVBLElBQUEsR0FBQSxVQUFBLEVBQUEsRUFBQSxFQUFBLENBR0EsT0FGQSxJQUFBLEVBQUEsRUFBQSxLQUFBLEVBQUEsR0FFQSxVQUFBLEVBQ0EsR0FBQSxFQUFBLEVBQUEsR0FBQSxHQUFBLEVBQUEsR0FDQSxFQUFBLEVBQUEsR0FTQSxRQUFBLEdBQUEsR0FDQSxHQUFBLEdBQUEsS0FBQSxNQUNBLFFBQUEsRUFFQSxJQUFBLFdBQUEsR0FBQSxNQUFBLEVBQ0EsRUFBQSxJQUFBLE1BQ0EsQ0FDQSxVQUFBLEdBQUEsVUFBQSxJQUNBLEVBQUEsU0FFQSxJQUFBLEdBQUEsVUFBQSxFQUFBLEVBQUEsRUFBQSxFQUNBLEVBQUEsRUFBQSxLQUFBLEVBQUEsTUFFQSxXQUFBLEdBQ0EsRUFBQSxLQUFBLEVBQUEsUUFBQSxLQUFBLEdBRUEsRUFBQSxJQUFBLEdBYUEsUUFBQSxHQUFBLEdBQ0EsTUFBQSxHQUFBLFdBQUEsR0FZQSxRQUFBLEdBQUEsRUFBQSxHQU1BLElBTEEsR0FBQSxHQUFBLEVBQUEsU0FDQSxFQUFBLEVBQUEsU0FDQSxFQUFBLEdBQ0EsRUFBQSxFQUFBLFNBRUEsRUFBQSxHQUFBLENBQ0EsR0FBQSxHQUFBLEVBQUEsR0FDQSxFQUFBLEVBQUEsRUFFQSxJQUFBLElBQUEsRUFBQSxDQUNBLEdBQUEsRUFBQSxHQUFBLG1CQUFBLEdBQ0EsTUFBQSxFQUVBLElBQUEsRUFBQSxHQUFBLG1CQUFBLEdBQ0EsTUFBQSxJQVVBLE1BQUEsR0FBQSxNQUFBLEVBQUEsTUFVQSxRQUFBLEdBQUEsR0FDQSxHQUFBLEdBQUEsR0FDQSxFQUFBLEVBQUEsT0FDQSxFQUFBLEVBQUEsR0FDQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQ0EsRUFBQSxFQUFBLEVBQUEsRUFFQSxJQUFBLEdBQUEsZ0JBQUEsSUFDQSxHQUFBLGdCQUFBLElBQUEsR0FBQSxnQkFBQSxHQUNBLE9BQUEsQ0FFQSxJQUFBLEdBQUEsR0FDQSxHQUFBLFNBQUEsRUFBQSxRQUFBLEVBQUEsUUFBQSxFQUFBLFdBQUEsQ0FFQSxJQUFBLEdBQUEsR0FLQSxLQUpBLEVBQUEsTUFBQSxFQUNBLEVBQUEsTUFBQSxFQUNBLEVBQUEsS0FBQSxJQUVBLEVBQUEsR0FDQSxFQUFBLEtBQUEsRUFBQSxHQUVBLE9BQUEsR0FXQSxRQUFBLEdBQUEsR0FDQSxNQUFBLEtBQUEsRUFBQSxHQVNBLFFBQUEsS0FDQSxNQUFBLEdBQUEsVUFTQSxRQUFBLEtBQ0EsTUFBQSxHQUFBLFFBQ0EsTUFBQSxLQUNBLE1BQUEsS0FDQSxTQUFBLEtBQ0EsU0FBQSxFQUNBLE1BQUEsRUFDQSxRQUFBLEVBQ0EsT0FBQSxLQUNBLE9BQUEsS0FDQSxLQUFBLEtBQ0EsT0FBQSxLQUNBLFFBQUEsRUFDQSxXQUFBLEVBQ0EsTUFBQSxNQVdBLFFBQUEsR0FBQSxHQUdBLE1BQUEsa0JBQUEsR0FBQSxVQUFBLGlCQUFBLEVBQUEsSUFTQSxRQUFBLEdBQUEsR0FDQSxFQUFBLE9BQUEsRUFDQSxFQUFBLE9BQUEsR0FDQSxFQUFBLEtBQUEsR0FVQSxRQUFBLEdBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxLQUNBLElBQ0EsRUFBQSxHQUVBLEVBQUEsTUFBQSxFQUFBLE1BQUEsRUFBQSxTQUFBLEVBQUEsT0FBQSxFQUFBLE9BQUEsRUFBQSxPQUFBLEVBQUEsTUFBQSxLQUNBLEVBQUEsT0FBQSxHQUNBLEVBQUEsS0FBQSxHQWlCQSxRQUFBLEdBQUEsRUFBQSxFQUFBLEdBQ0EsSUFBQSxFQUFBLEdBQ0EsbUJBQUEsS0FDQSxFQUFBLEVBQUEsRUFBQSxPQUFBLEVBTUEsS0FKQSxHQUFBLEdBQUEsR0FDQSxFQUFBLEVBQUEsR0FBQSxFQUNBLEVBQUEsTUFBQSxFQUFBLEVBQUEsRUFBQSxLQUVBLEVBQUEsR0FDQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEVBRUEsT0FBQSxHQWNBLFFBQUEsR0FBQSxHQWtMQSxRQUFBLEdBQUEsR0FFQSxNQUFBLElBQUEsZ0JBQUEsS0FBQSxHQUFBLElBQUEsR0FBQSxLQUFBLEVBQUEsZUFDQSxFQUNBLEdBQUEsR0FBQSxHQVdBLFFBQUEsR0FBQSxFQUFBLEdBQ0EsS0FBQSxZQUFBLEVBQ0EsS0FBQSxZQUFBLEVBNlRBLFFBQUEsR0FBQSxHQUtBLFFBQUEsS0FHQSxHQUFBLEVBQUEsQ0FJQSxHQUFBLEdBQUEsRUFBQSxFQUNBLElBQUEsTUFBQSxFQUFBLFdBSUEsR0FBQSxlQUFBLEdBQUEsQ0FFQSxHQUFBLEdBQUEsR0FBQSxFQUFBLFdBQ0EsRUFBQSxFQUFBLE1BQUEsRUFBQSxHQUFBLFVBQ0EsT0FBQSxJQUFBLEdBQUEsRUFBQSxFQUVBLE1BQUEsR0FBQSxNQUFBLEVBQUEsR0FBQSxXQXRCQSxHQUFBLEdBQUEsRUFBQSxHQUNBLEVBQUEsRUFBQSxHQUNBLEVBQUEsRUFBQSxFQXVCQSxPQURBLElBQUEsRUFBQSxHQUNBLEVBZUEsUUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEVBQUEsQ0FDQSxHQUFBLEdBQUEsRUFBQSxFQUNBLElBQUEsbUJBQUEsR0FDQSxNQUFBLEdBSUEsR0FBQSxHQUFBLEdBQUEsRUFDQSxLQUFBLEVBcUJBLE1BQUEsRUFwQkEsSUFBQSxHQUFBLEdBQUEsS0FBQSxFQUNBLEtBQUEsRUFBQSxLQUFBLEdBQUEsV0FBQSxFQUFBLEdBQ0EsTUFBQSxFQUVBLElBQUEsR0FBQSxHQUFBLEVBQ0EsUUFBQSxHQUNBLElBQUEsR0FDQSxJQUFBLEdBQ0EsTUFBQSxJQUFBLElBQUEsRUFFQSxLQUFBLEdBQ0EsSUFBQSxHQUNBLE1BQUEsSUFBQSxHQUFBLEVBRUEsS0FBQSxHQUdBLE1BRkEsR0FBQSxFQUFBLEVBQUEsT0FBQSxFQUFBLEtBQUEsSUFDQSxFQUFBLFVBQUEsRUFBQSxVQUNBLEVBS0EsR0FBQSxHQUFBLEdBQUEsRUFDQSxJQUFBLEVBQUEsQ0FFQSxHQUFBLElBQUEsQ0FDQSxLQUFBLEVBQUEsS0FDQSxJQUFBLEVBQUEsSUFHQSxLQURBLEdBQUEsR0FBQSxFQUFBLE9BQ0EsS0FDQSxHQUFBLEVBQUEsSUFBQSxFQUNBLE1BQUEsR0FBQSxFQUdBLEdBQUEsRUFBQSxFQUFBLEVBQUEsZUFHQSxHQUFBLEVBQUEsRUFBQSxHQUFBLE1BQUEsRUFZQSxPQVRBLEtBQ0EsR0FBQSxLQUFBLEVBQUEsV0FDQSxFQUFBLE1BQUEsRUFBQSxPQUVBLEdBQUEsS0FBQSxFQUFBLFdBQ0EsRUFBQSxNQUFBLEVBQUEsUUFJQSxHQUtBLEVBQUEsS0FBQSxHQUNBLEVBQUEsS0FBQSxJQUdBLEVBQUEsR0FBQSxJQUFBLEVBQUEsU0FBQSxFQUFBLEdBQ0EsRUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxLQUdBLElBQ0EsRUFBQSxHQUNBLEVBQUEsSUFFQSxHQWhCQSxFQTJCQSxRQUFBLElBQUEsR0FDQSxNQUFBLElBQUEsR0FBQSxHQUFBLE1BMkJBLFFBQUEsSUFBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLGtCQUFBLEdBQ0EsTUFBQSxHQUdBLElBQUEsbUJBQUEsTUFBQSxhQUFBLElBQ0EsTUFBQSxFQUVBLElBQUEsR0FBQSxFQUFBLFlBQ0EsSUFBQSxtQkFBQSxLQUNBLEdBQUEsWUFDQSxHQUFBLEVBQUEsTUFFQSxFQUFBLElBQUEsR0FBQSxZQUNBLEdBQUEsQ0FDQSxHQUFBLEdBQUEsR0FBQSxLQUFBLEVBQ0EsSUFBQSxZQUNBLEdBQUEsRUFBQSxLQUFBLElBRUEsSUFFQSxFQUFBLEVBQUEsS0FBQSxHQUNBLEdBQUEsRUFBQSxJQUtBLEdBQUEsS0FBQSxHQUFBLEtBQUEsR0FBQSxFQUFBLEVBQUEsR0FDQSxNQUFBLEVBRUEsUUFBQSxHQUNBLElBQUEsR0FBQSxNQUFBLFVBQUEsR0FDQSxNQUFBLEdBQUEsS0FBQSxFQUFBLEdBRUEsS0FBQSxHQUFBLE1BQUEsVUFBQSxFQUFBLEdBQ0EsTUFBQSxHQUFBLEtBQUEsRUFBQSxFQUFBLEdBRUEsS0FBQSxHQUFBLE1BQUEsVUFBQSxFQUFBLEVBQUEsR0FDQSxNQUFBLEdBQUEsS0FBQSxFQUFBLEVBQUEsRUFBQSxHQUVBLEtBQUEsR0FBQSxNQUFBLFVBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxNQUFBLEdBQUEsS0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLElBR0EsTUFBQSxJQUFBLEVBQUEsR0FXQSxRQUFBLElBQUEsR0FjQSxRQUFBLEtBQ0EsR0FBQSxHQUFBLEVBQUEsRUFBQSxJQUNBLElBQUEsRUFBQSxDQUNBLEdBQUEsR0FBQSxFQUFBLEVBQ0EsSUFBQSxNQUFBLEVBQUEsV0FFQSxJQUFBLEdBQUEsS0FDQSxJQUFBLEVBQUEsRUFBQSxZQUNBLEdBQ0EsR0FBQSxNQUFBLEVBQUEsR0FFQSxHQUFBLEVBQUEsT0FBQSxHQUVBLE1BREEsSUFBQSxHQUNBLElBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsS0FBQSxFQUFBLEdBT0EsSUFKQSxJQUFBLEVBQUEsV0FDQSxJQUNBLEVBQUEsRUFBQSxJQUVBLGVBQUEsR0FBQSxDQUNBLEVBQUEsR0FBQSxFQUFBLFVBQ0EsSUFBQSxHQUFBLEVBQUEsTUFBQSxFQUFBLEVBQ0EsT0FBQSxJQUFBLEdBQUEsRUFBQSxFQUVBLE1BQUEsR0FBQSxNQUFBLEVBQUEsR0F0Q0EsR0FBQSxHQUFBLEVBQUEsR0FDQSxFQUFBLEVBQUEsR0FDQSxFQUFBLEVBQUEsR0FDQSxFQUFBLEVBQUEsR0FDQSxFQUFBLEVBQUEsR0FDQSxFQUFBLEVBQUEsR0FFQSxFQUFBLEVBQUEsRUFDQSxFQUFBLEVBQUEsRUFDQSxFQUFBLEVBQUEsRUFDQSxFQUFBLEVBQUEsRUFDQSxFQUFBLENBOEJBLE9BREEsSUFBQSxFQUFBLEdBQ0EsRUFZQSxRQUFBLElBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxHQUNBLEVBQUEsS0FDQSxFQUFBLEVBQUEsRUFBQSxPQUFBLEVBQ0EsRUFBQSxHQUFBLEdBQUEsSUFBQSxFQUNBLElBRUEsSUFBQSxFQUFBLENBQ0EsR0FBQSxHQUFBLEVBQUEsRUFDQSxJQUNBLEVBQUEsRUFDQSxFQUFBLEdBRUEsR0FBQSxFQUdBLE9BQUEsRUFBQSxHQUFBLENBQ0EsR0FBQSxHQUFBLEVBQUEsRUFDQSxHQUFBLEVBQUEsR0FBQSxHQUNBLEVBQUEsS0FBQSxHQU1BLE1BSEEsSUFDQSxFQUFBLEdBRUEsRUFjQSxRQUFBLElBQUEsRUFBQSxFQUFBLEVBQUEsR0FLQSxJQUpBLEdBQUEsSUFBQSxHQUFBLEdBQUEsRUFDQSxFQUFBLEVBQUEsRUFBQSxPQUFBLEVBQ0EsT0FFQSxFQUFBLEdBQUEsQ0FDQSxHQUFBLEdBQUEsRUFBQSxFQUVBLElBQUEsR0FBQSxnQkFBQSxJQUFBLGdCQUFBLEdBQUEsU0FDQSxHQUFBLElBQUEsR0FBQSxJQUFBLENBRUEsSUFDQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEdBRUEsSUFBQSxHQUFBLEdBQ0EsRUFBQSxFQUFBLE9BQ0EsRUFBQSxFQUFBLE1BR0EsS0FEQSxFQUFBLFFBQUEsSUFDQSxFQUFBLEdBQ0EsRUFBQSxLQUFBLEVBQUEsT0FFQSxJQUNBLEVBQUEsS0FBQSxHQUdBLE1BQUEsR0FnQkEsUUFBQSxJQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUVBLEdBQUEsRUFBQSxDQUNBLEdBQUEsR0FBQSxFQUFBLEVBQUEsRUFDQSxJQUFBLG1CQUFBLEdBQ0EsUUFBQSxFQUlBLEdBQUEsSUFBQSxFQUVBLE1BQUEsS0FBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLENBRUEsSUFBQSxTQUFBLEdBQ0EsUUFBQSxFQUdBLE1BQUEsSUFBQSxHQUNBLEdBQUEsRUFBQSxJQUNBLEdBQUEsRUFBQSxJQUNBLE9BQUEsQ0FJQSxJQUFBLE1BQUEsR0FBQSxNQUFBLEVBQ0EsTUFBQSxLQUFBLENBR0EsSUFBQSxHQUFBLEdBQUEsS0FBQSxHQUNBLEVBQUEsR0FBQSxLQUFBLEVBUUEsSUFOQSxHQUFBLElBQ0EsRUFBQSxHQUVBLEdBQUEsSUFDQSxFQUFBLEdBRUEsR0FBQSxFQUNBLE9BQUEsQ0FFQSxRQUFBLEdBQ0EsSUFBQSxHQUNBLElBQUEsR0FHQSxPQUFBLElBQUEsQ0FFQSxLQUFBLEdBRUEsTUFBQSxLQUFBLEVBQ0EsSUFBQSxFQUVBLEdBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLElBQUEsQ0FFQSxLQUFBLEdBQ0EsSUFBQSxHQUdBLE1BQUEsSUFBQSxHQUFBLEdBRUEsR0FBQSxHQUFBLEdBQUEsQ0FDQSxLQUFBLEVBQUEsQ0FFQSxHQUFBLEdBQUEsR0FBQSxLQUFBLEVBQUEsZUFDQSxFQUFBLEdBQUEsS0FBQSxFQUFBLGNBRUEsSUFBQSxHQUFBLEVBQ0EsTUFBQSxJQUFBLEVBQUEsRUFBQSxZQUFBLEVBQUEsRUFBQSxFQUFBLFlBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUdBLElBQUEsR0FBQSxJQUFBLEdBQUEsWUFBQSxFQUFBLElBQUEsRUFBQSxJQUNBLE9BQUEsQ0FHQSxJQUFBLElBQUEsR0FBQSxZQUFBLEdBQUEsR0FBQSxHQUFBLEVBQUEsWUFDQSxHQUFBLEdBQUEsWUFBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLFdBR0EsSUFBQSxHQUFBLEtBQ0EsR0FBQSxJQUFBLFlBQUEsSUFBQSxHQUFBLElBQUEsWUFBQSxLQUNBLGVBQUEsSUFBQSxlQUFBLEdBRUEsT0FBQSxFQU1BLEdBQUEsSUFBQSxDQUNBLEtBQUEsRUFBQSxLQUNBLElBQUEsRUFBQSxJQUdBLEtBREEsR0FBQSxHQUFBLEVBQUEsT0FDQSxLQUNBLEdBQUEsRUFBQSxJQUFBLEVBQ0EsTUFBQSxHQUFBLElBQUEsQ0FHQSxJQUFBLEdBQUEsQ0FRQSxJQVBBLEdBQUEsRUFHQSxFQUFBLEtBQUEsR0FDQSxFQUFBLEtBQUEsR0FHQSxHQU1BLEdBSkEsRUFBQSxFQUFBLE9BQ0EsRUFBQSxFQUFBLE9BQ0EsRUFBQSxHQUFBLEVBRUEsR0FBQSxFQUVBLEtBQUEsS0FBQSxDQUNBLEdBQUEsR0FBQSxFQUNBLEVBQUEsRUFBQSxFQUVBLElBQUEsRUFDQSxLQUFBLE9BQ0EsRUFBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLFVBSUEsTUFBQSxFQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsSUFDQSxXQVFBLElBQUEsRUFBQSxTQUFBLEVBQUEsRUFBQSxHQUNBLE1BQUEsSUFBQSxLQUFBLEVBQUEsSUFFQSxJQUVBLEVBQUEsR0FBQSxLQUFBLEVBQUEsSUFBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLElBSkEsU0FRQSxJQUFBLEdBRUEsR0FBQSxFQUFBLFNBQUEsRUFBQSxFQUFBLEdBQ0EsTUFBQSxJQUFBLEtBQUEsRUFBQSxHQUVBLElBQUEsRUFBQSxHQUZBLFFBY0EsT0FQQSxHQUFBLE1BQ0EsRUFBQSxNQUVBLElBQ0EsRUFBQSxHQUNBLEVBQUEsSUFFQSxFQWNBLFFBQUEsSUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLElBQ0EsR0FBQSxHQUFBLEdBQUEsSUFBQSxFQUFBLFNBQUEsRUFBQSxHQUNBLEdBQUEsR0FDQSxFQUNBLEVBQUEsRUFDQSxFQUFBLEVBQUEsRUFFQSxJQUFBLEtBQUEsRUFBQSxHQUFBLEtBQUEsR0FBQSxJQUFBLENBR0EsSUFEQSxHQUFBLEdBQUEsRUFBQSxPQUNBLEtBQ0EsR0FBQSxFQUFBLEVBQUEsSUFBQSxFQUFBLENBQ0EsRUFBQSxFQUFBLEVBQ0EsT0FHQSxJQUFBLEVBQUEsQ0FDQSxHQUFBLEVBQ0EsS0FDQSxFQUFBLEVBQUEsRUFBQSxJQUNBLEVBQUEsbUJBQUEsTUFDQSxFQUFBLElBR0EsSUFDQSxFQUFBLEVBQ0EsR0FBQSxHQUFBLEtBQ0EsR0FBQSxHQUFBLE1BR0EsRUFBQSxLQUFBLEdBQ0EsRUFBQSxLQUFBLEdBR0EsR0FDQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsUUFLQSxLQUNBLEVBQUEsRUFBQSxFQUFBLEdBQ0EsbUJBQUEsS0FDQSxFQUFBLElBR0EsbUJBQUEsS0FDQSxFQUFBLEVBR0EsR0FBQSxHQUFBLElBYUEsUUFBQSxJQUFBLEVBQUEsR0FDQSxNQUFBLEdBQUEsR0FBQSxNQUFBLEVBQUEsRUFBQSxJQWFBLFFBQUEsSUFBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsR0FDQSxFQUFBLEtBQ0EsRUFBQSxFQUFBLEVBQUEsT0FBQSxFQUNBLEtBRUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxJQUFBLEVBQ0EsRUFBQSxHQUFBLEVBQUEsSUFBQSxDQUVBLElBQUEsRUFBQSxDQUNBLEdBQUEsR0FBQSxFQUFBLEVBQ0EsR0FBQSxFQUNBLEVBQUEsRUFFQSxPQUFBLEVBQUEsR0FBQSxDQUNBLEdBQUEsR0FBQSxFQUFBLEdBQ0EsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsR0FFQSxHQUNBLEdBQUEsRUFBQSxFQUFBLE9BQUEsS0FBQSxFQUNBLEVBQUEsRUFBQSxHQUFBLE1BRUEsR0FBQSxJQUNBLEVBQUEsS0FBQSxHQUVBLEVBQUEsS0FBQSxJQVNBLE1BTkEsSUFDQSxFQUFBLEVBQUEsT0FDQSxFQUFBLElBQ0EsR0FDQSxFQUFBLEdBRUEsRUFhQSxRQUFBLElBQUEsR0FDQSxNQUFBLFVBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxLQUdBLElBRkEsRUFBQSxFQUFBLGVBQUEsRUFBQSxFQUFBLEdBRUEsR0FBQSxHQUlBLElBSEEsR0FBQSxHQUFBLEdBQ0EsRUFBQSxFQUFBLFNBRUEsRUFBQSxHQUFBLENBQ0EsR0FBQSxHQUFBLEVBQUEsRUFDQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLE9BR0EsSUFBQSxFQUFBLFNBQUEsRUFBQSxFQUFBLEdBQ0EsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxJQUdBLE9BQUEsSUEwQkEsUUFBQSxJQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLEVBQ0EsRUFBQSxFQUFBLEVBQ0EsRUFBQSxFQUFBLEVBRUEsRUFBQSxHQUFBLEVBQ0EsRUFBQSxHQUFBLENBRUEsS0FBQSxJQUFBLEdBQUEsR0FDQSxLQUFBLElBQUEsR0FFQSxLQUFBLEVBQUEsU0FDQSxHQUFBLElBQ0EsRUFBQSxHQUFBLEdBRUEsSUFBQSxFQUFBLFNBQ0EsR0FBQSxJQUNBLEVBQUEsR0FBQSxFQUVBLElBQUEsR0FBQSxHQUFBLEVBQUEsWUFDQSxJQUFBLEdBQUEsS0FBQSxFQStCQSxNQTdCQSxHQUFBLEVBQUEsR0FDQSxFQUFBLEtBQ0EsRUFBQSxHQUFBLEVBQUEsRUFBQSxLQUVBLEVBQUEsS0FDQSxFQUFBLEdBQUEsRUFBQSxFQUFBLE1BR0EsR0FBQSxFQUFBLEVBQUEsS0FDQSxFQUFBLEdBQUEsSUFHQSxHQUFBLEVBQUEsRUFBQSxLQUNBLEdBQUEsSUFHQSxHQUFBLEVBQUEsRUFBQSxLQUNBLEVBQUEsR0FBQSxHQUdBLEdBQ0EsR0FBQSxNQUFBLEVBQUEsS0FBQSxFQUFBLE9BQUEsR0FHQSxHQUNBLEdBQUEsTUFBQSxFQUFBLEtBQUEsRUFBQSxPQUFBLEdBR0EsRUFBQSxJQUFBLEVBQ0EsR0FBQSxNQUFBLEtBQUEsRUFHQSxJQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsRUFBQSxFQUFBLEVBQ0EsT0FBQSxJQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxJQWlCQSxRQUFBLE1BRUEsRUFBQSxjQUFBLEVBR0EsRUFBQSxNQUFBLEVBQUEsT0FBQSxFQUFBLEtBQUEsRUFBQSxJQUFBLEdBQ0EsRUFBQSxLQUFBLFdBQ0EsRUFBQSxRQUFBLENBR0EsS0FBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsVUFBQSxHQUFBLElBQ0EsSUFBQSxHQUFBLEtBQUEsR0FDQSxFQUFBLEdBQUEsRUFBQSxFQUdBLElBQUEsR0FBQSxFQUFBLElBQ0EsR0FBQSxTQUFBLFNBQUEsS0FBQSxHQUFBLEVBR0EsSUFBQSxHQUFBLEdBQ0EsZ01BR0EsbUJBQUEsRUFBQSxRQUFBLEdBQUEsR0FBQSxNQUlBLE9BQUEsR0FDQSxHQUFBLEVBQUEsR0FBQSxHQUNBLEVBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxLQUFBLEdBQ0EsRUFBQSxHQUFBLEVBQUEsR0FBQSxJQVdBLFFBQUEsSUFBQSxHQUNBLE1BQUEsSUFBQSxHQVdBLFFBQUEsTUFDQSxHQUFBLElBQUEsRUFBQSxFQUFBLFdBQUEsR0FBQSxFQUFBLENBQ0EsT0FBQSxHQVVBLFFBQUEsSUFBQSxHQUNBLE1BQUEsa0JBQUEsSUFBQSxHQUFBLEtBQUEsR0EwQkEsUUFBQSxJQUFBLEdBQ0EsR0FBQSxHQUNBLENBR0EsUUFBQSxHQUFBLEdBQUEsS0FBQSxJQUFBLElBQ0EsRUFBQSxFQUFBLFlBQUEsR0FBQSxNQUFBLFlBQUEsT0FDQSxHQUFBLFdBQUEsR0FBQSxLQUNBLEdBQUEsV0FBQSxFQUFBLElBQ0EsRUFLQSxHQUFBLFNBQ0EsR0FBQSxFQUFBLFNBQUEsRUFBQSxFQUFBLEdBRUEsTUFEQSxHQUFBLEdBQUEsS0FBQSxFQUFBLElBQ0EsSUFFQSxLQUFBLElBS0EsR0FBQSxFQUFBLFNBQUEsRUFBQSxHQUNBLEVBQUEsSUFFQSxtQkFBQSxJQUFBLEdBQUEsS0FBQSxFQUFBLElBVUEsUUFBQSxJQUFBLEdBQ0EsTUFBQSxJQUFBLEdBcUJBLFFBQUEsSUFBQSxHQUNBLE1BQUEsSUFBQSxnQkFBQSxJQUFBLGdCQUFBLEdBQUEsUUFDQSxHQUFBLEtBQUEsSUFBQSxJQUFBLEVBa09BLFFBQUEsSUFBQSxFQUFBLEVBQUEsRUFBQSxHQVFBLE1BTEEsaUJBQUEsSUFBQSxNQUFBLElBQ0EsRUFBQSxFQUNBLEVBQUEsRUFDQSxHQUFBLEdBRUEsRUFBQSxFQUFBLEVBQUEsa0JBQUEsSUFBQSxHQUFBLEVBQUEsRUFBQSxJQTRDQSxRQUFBLElBQUEsRUFBQSxFQUFBLEdBQ0EsTUFBQSxHQUFBLEdBQUEsRUFBQSxrQkFBQSxJQUFBLEdBQUEsRUFBQSxFQUFBLElBa0NBLFFBQUEsSUFBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEdBQUEsRUFDQSxPQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsRUFrRUEsUUFBQSxJQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsRUFRQSxPQVBBLEdBQUEsRUFBQSxlQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsRUFBQSxTQUFBLEVBQUEsRUFBQSxHQUNBLE1BQUEsR0FBQSxFQUFBLEVBQUEsSUFDQSxFQUFBLEdBQ0EsR0FGQSxTQUtBLEVBNENBLFFBQUEsSUFBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEVBUUEsT0FQQSxHQUFBLEVBQUEsZUFBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEVBQUEsU0FBQSxFQUFBLEVBQUEsR0FDQSxNQUFBLEdBQUEsRUFBQSxFQUFBLElBQ0EsRUFBQSxHQUNBLEdBRkEsU0FLQSxFQWtFQSxRQUFBLElBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxLQUVBLElBQUEsRUFBQSxTQUFBLEVBQUEsR0FDQSxFQUFBLEtBQUEsRUFBQSxJQUdBLElBQUEsR0FBQSxFQUFBLE1BRUEsS0FEQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEdBQ0EsS0FDQSxFQUFBLEVBQUEsS0FBQSxFQUFBLEdBQUEsTUFBQSxJQUlBLE1BQUEsR0E0Q0EsUUFBQSxJQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxHQUFBLEdBQ0EsRUFBQSxFQUFBLE1BR0EsS0FEQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEdBQ0EsS0FBQSxDQUNBLEdBQUEsR0FBQSxFQUFBLEVBQ0EsSUFBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLE1BQUEsRUFDQSxNQUdBLE1BQUEsR0FrQkEsUUFBQSxJQUFBLEdBQ0EsR0FBQSxLQU1BLE9BTEEsSUFBQSxFQUFBLFNBQUEsRUFBQSxHQUNBLEdBQUEsSUFDQSxFQUFBLEtBQUEsS0FHQSxFQUFBLE9Ba0JBLFFBQUEsSUFBQSxFQUFBLEdBQ0EsTUFBQSxHQUFBLEdBQUEsS0FBQSxFQUFBLElBQUEsRUFnQkEsUUFBQSxJQUFBLEdBTUEsSUFMQSxHQUFBLEdBQUEsR0FDQSxFQUFBLEdBQUEsR0FDQSxFQUFBLEVBQUEsT0FDQSxPQUVBLEVBQUEsR0FBQSxDQUNBLEdBQUEsR0FBQSxFQUFBLEVBQ0EsR0FBQSxFQUFBLElBQUEsRUFFQSxNQUFBLEdBZ0JBLFFBQUEsSUFBQSxHQUNBLE1BQUEsTUFBQSxHQUFBLEtBQUEsR0FDQSxHQUFBLGdCQUFBLElBQUEsR0FBQSxLQUFBLElBQUEsSUFBQSxFQWdCQSxRQUFBLElBQUEsR0FDQSxNQUFBLElBQUEsZ0JBQUEsSUFBQSxHQUFBLEtBQUEsSUFBQSxJQUFBLEVBZ0JBLFFBQUEsSUFBQSxHQUNBLE1BQUEsSUFBQSxJQUFBLEVBQUEsV0FBQSxFQXdCQSxRQUFBLElBQUEsR0FDQSxHQUFBLElBQUEsQ0FDQSxLQUFBLEVBQ0EsTUFBQSxFQUVBLElBQUEsR0FBQSxHQUFBLEtBQUEsR0FDQSxFQUFBLEVBQUEsTUFFQSxPQUFBLElBQUEsR0FBQSxHQUFBLElBQ0EsR0FBQSxVQUFBLEdBQUEsRUFBQSxHQUFBLEtBQ0EsR0FBQSxHQUFBLGdCQUFBLElBQUEsR0FBQSxFQUFBLFNBQ0EsR0FFQSxHQUFBLEVBQUEsV0FDQSxNQUFBLElBQUEsSUFFQSxHQXlDQSxRQUFBLElBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxNQUFBLElBQUEsRUFBQSxFQUFBLGtCQUFBLElBQUEsR0FBQSxFQUFBLEVBQUEsSUErQkEsUUFBQSxJQUFBLEdBQ0EsTUFBQSxJQUFBLEtBQUEsR0FBQSxXQUFBLElBZ0JBLFFBQUEsSUFBQSxHQUNBLE1BQUEsa0JBQUEsR0E2QkEsUUFBQSxJQUFBLEdBS0EsU0FBQSxJQUFBLFFBQUEsS0E0QkEsUUFBQSxJQUFBLEdBR0EsTUFBQSxJQUFBLElBQUEsSUFBQSxFQW1CQSxRQUFBLElBQUEsR0FDQSxNQUFBLFFBQUEsRUFrQkEsUUFBQSxJQUFBLEdBQ0EsTUFBQSxnQkFBQSxJQUNBLEdBQUEsZ0JBQUEsSUFBQSxHQUFBLEtBQUEsSUFBQSxJQUFBLEVBb0RBLFFBQUEsSUFBQSxHQUNBLE1BQUEsSUFBQSxRQUFBLEtBQUEsR0FBQSxLQUFBLElBQUEsSUFBQSxFQWdCQSxRQUFBLElBQUEsR0FDQSxNQUFBLGdCQUFBLElBQ0EsR0FBQSxnQkFBQSxJQUFBLEdBQUEsS0FBQSxJQUFBLElBQUEsRUFnQkEsUUFBQSxJQUFBLEdBQ0EsTUFBQSxtQkFBQSxHQXVDQSxRQUFBLElBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxLQU1BLE9BTEEsR0FBQSxFQUFBLGVBQUEsRUFBQSxFQUFBLEdBRUEsR0FBQSxFQUFBLFNBQUEsRUFBQSxFQUFBLEdBQ0EsRUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEtBRUEsRUFzREEsUUFBQSxJQUFBLEdBQ0EsR0FBQSxHQUFBLFVBQ0EsRUFBQSxDQUVBLEtBQUEsR0FBQSxHQUNBLE1BQUEsRUFPQSxJQUhBLGdCQUFBLEdBQUEsS0FDQSxFQUFBLEVBQUEsUUFFQSxFQUFBLEdBQUEsa0JBQUEsR0FBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEdBQUEsSUFBQSxFQUFBLEdBQUEsRUFBQSxLQUFBLE9BQ0EsR0FBQSxHQUFBLGtCQUFBLEdBQUEsRUFBQSxLQUNBLEVBQUEsSUFBQSxHQU9BLEtBTEEsR0FBQSxHQUFBLEVBQUEsVUFBQSxFQUFBLEdBQ0EsRUFBQSxHQUNBLEVBQUEsSUFDQSxFQUFBLE1BRUEsRUFBQSxHQUNBLEdBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEVBSUEsT0FGQSxHQUFBLEdBQ0EsRUFBQSxHQUNBLEVBNkJBLFFBQUEsSUFBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEtBQ0EsSUFBQSxrQkFBQSxHQUFBLENBQ0EsR0FBQSxLQUNBLElBQUEsRUFBQSxTQUFBLEVBQUEsR0FDQSxFQUFBLEtBQUEsS0FFQSxFQUFBLEdBQUEsRUFBQSxHQUFBLFdBQUEsR0FBQSxFQUFBLEdBS0EsS0FIQSxHQUFBLEdBQUEsR0FDQSxFQUFBLEVBQUEsU0FFQSxFQUFBLEdBQUEsQ0FDQSxHQUFBLEdBQUEsRUFBQSxFQUNBLEdBQUEsR0FBQSxFQUFBLFFBR0EsR0FBQSxFQUFBLGVBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxFQUFBLFNBQUEsRUFBQSxFQUFBLEdBQ0EsRUFBQSxFQUFBLEVBQUEsS0FDQSxFQUFBLEdBQUEsSUFJQSxPQUFBLEdBaUJBLFFBQUEsSUFBQSxHQU1BLElBTEEsR0FBQSxHQUFBLEdBQ0EsRUFBQSxHQUFBLEdBQ0EsRUFBQSxFQUFBLE9BQ0EsRUFBQSxHQUFBLEtBRUEsRUFBQSxHQUFBLENBQ0EsR0FBQSxHQUFBLEVBQUEsRUFDQSxHQUFBLElBQUEsRUFBQSxFQUFBLElBRUEsTUFBQSxHQThCQSxRQUFBLElBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxLQUNBLElBQUEsa0JBQUEsR0FLQSxJQUpBLEdBQUEsR0FBQSxHQUNBLEVBQUEsR0FBQSxXQUFBLEdBQUEsRUFBQSxHQUNBLEVBQUEsR0FBQSxHQUFBLEVBQUEsT0FBQSxJQUVBLEVBQUEsR0FBQSxDQUNBLEdBQUEsR0FBQSxFQUFBLEVBQ0EsS0FBQSxLQUNBLEVBQUEsR0FBQSxFQUFBLFFBSUEsR0FBQSxFQUFBLGVBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxFQUFBLFNBQUEsRUFBQSxFQUFBLEdBQ0EsRUFBQSxFQUFBLEVBQUEsS0FDQSxFQUFBLEdBQUEsSUFJQSxPQUFBLEdBa0NBLFFBQUEsSUFBQSxFQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxHQUFBLEVBQ0EsSUFBQSxNQUFBLEVBQ0EsR0FBQSxFQUNBLFNBQ0EsQ0FDQSxHQUFBLEdBQUEsR0FBQSxFQUFBLFlBQ0EsRUFBQSxHQUFBLEVBQUEsU0FFQSxHQUFBLEdBQUEsR0FTQSxNQU5BLEtBQ0EsRUFBQSxFQUFBLGVBQUEsRUFBQSxFQUFBLElBQ0EsRUFBQSxHQUFBLElBQUEsRUFBQSxTQUFBLEVBQUEsRUFBQSxHQUNBLE1BQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxNQUdBLEVBZ0JBLFFBQUEsSUFBQSxHQU1BLElBTEEsR0FBQSxHQUFBLEdBQ0EsRUFBQSxHQUFBLEdBQ0EsRUFBQSxFQUFBLE9BQ0EsRUFBQSxHQUFBLEtBRUEsRUFBQSxHQUNBLEVBQUEsR0FBQSxFQUFBLEVBQUEsR0FFQSxPQUFBLEdBMEJBLFFBQUEsSUFBQSxHQUNBLEdBQUEsR0FBQSxVQUNBLEVBQUEsR0FDQSxFQUFBLEdBQUEsR0FBQSxHQUFBLEVBQUEsR0FDQSxFQUFBLEVBQUEsSUFBQSxFQUFBLEdBQUEsRUFBQSxNQUFBLEVBQUEsRUFBQSxFQUFBLE9BQ0EsRUFBQSxHQUFBLEVBS0EsS0FIQSxHQUFBLGdCQUFBLEdBQUEsS0FDQSxFQUFBLEVBQUEsTUFBQSxPQUVBLEVBQUEsR0FDQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEdBRUEsT0FBQSxHQThCQSxRQUFBLElBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEdBQ0EsRUFBQSxLQUNBLEVBQUEsRUFBQSxFQUFBLE9BQUEsRUFDQSxHQUFBLENBY0EsT0FaQSxJQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLElBQUEsRUFDQSxHQUFBLEdBQ0EsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEdBQ0EsZ0JBQUEsR0FDQSxHQUFBLEdBQUEsR0FBQSxFQUFBLFFBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLElBQUEsR0FFQSxHQUFBLEVBQUEsU0FBQSxHQUNBLFFBQUEsR0FBQSxJQUNBLEVBQUEsSUFBQSxHQURBLFNBS0EsRUFrRkEsUUFBQSxJQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsSUFBQSxDQUdBLElBRkEsRUFBQSxFQUFBLGVBQUEsRUFBQSxFQUFBLEdBRUEsR0FBQSxHQUlBLElBSEEsR0FBQSxHQUFBLEdBQ0EsRUFBQSxFQUFBLFNBRUEsRUFBQSxJQUNBLElBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxVQUtBLElBQUEsRUFBQSxTQUFBLEVBQUEsRUFBQSxHQUNBLE1BQUEsS0FBQSxFQUFBLEVBQUEsRUFBQSxJQUdBLE9BQUEsR0EyQ0EsUUFBQSxJQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsS0FHQSxJQUZBLEVBQUEsRUFBQSxlQUFBLEVBQUEsRUFBQSxHQUVBLEdBQUEsR0FJQSxJQUhBLEdBQUEsR0FBQSxHQUNBLEVBQUEsRUFBQSxTQUVBLEVBQUEsR0FBQSxDQUNBLEdBQUEsR0FBQSxFQUFBLEVBQ0EsR0FBQSxFQUFBLEVBQUEsSUFDQSxFQUFBLEtBQUEsT0FJQSxJQUFBLEVBQUEsU0FBQSxFQUFBLEVBQUEsR0FDQSxFQUFBLEVBQUEsRUFBQSxJQUNBLEVBQUEsS0FBQSxJQUlBLE9BQUEsR0E4Q0EsUUFBQSxJQUFBLEVBQUEsRUFBQSxHQUdBLEdBRkEsRUFBQSxFQUFBLGVBQUEsRUFBQSxFQUFBLElBRUEsR0FBQSxHQVVBLENBQ0EsR0FBQSxFQU9BLE9BTkEsSUFBQSxFQUFBLFNBQUEsRUFBQSxFQUFBLEdBQ0EsTUFBQSxHQUFBLEVBQUEsRUFBQSxJQUNBLEVBQUEsR0FDQSxHQUZBLFNBS0EsRUFkQSxJQUhBLEdBQUEsR0FBQSxHQUNBLEVBQUEsRUFBQSxTQUVBLEVBQUEsR0FBQSxDQUNBLEdBQUEsR0FBQSxFQUFBLEVBQ0EsSUFBQSxFQUFBLEVBQUEsRUFBQSxHQUNBLE1BQUEsSUFtQ0EsUUFBQSxJQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsRUFRQSxPQVBBLEdBQUEsRUFBQSxlQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsRUFBQSxTQUFBLEVBQUEsRUFBQSxHQUNBLE1BQUEsR0FBQSxFQUFBLEVBQUEsSUFDQSxFQUFBLEdBQ0EsR0FGQSxTQUtBLEVBNkJBLFFBQUEsSUFBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsbUJBQUEsSUFBQSxHQUFBLEdBSUEsSUFIQSxHQUFBLEdBQUEsR0FDQSxFQUFBLEVBQUEsU0FFQSxFQUFBLEdBQ0EsRUFBQSxFQUFBLEdBQUEsRUFBQSxNQUFBLFFBS0EsSUFBQSxFQUFBLEVBQUEsRUFFQSxPQUFBLEdBb0JBLFFBQUEsSUFBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsRUFDQSxFQUFBLEVBQUEsRUFBQSxPQUFBLENBR0EsSUFEQSxFQUFBLEdBQUEsbUJBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxHQUNBLEtBQUEsS0FDQSxFQUFBLEVBQUEsR0FBQSxFQUFBLE1BQUEsUUFJQSxDQUNBLEdBQUEsZ0JBQUEsR0FBQSxDQUNBLEdBQUEsR0FBQSxHQUFBLEVBQ0EsR0FBQSxFQUFBLFdBQ0EsSUFBQSxnQkFBQSxHQUFBLEtBQ0EsRUFBQSxFQUFBLE1BQUEsSUFFQSxJQUFBLEVBQUEsU0FBQSxFQUFBLEVBQUEsR0FFQSxNQURBLEdBQUEsRUFBQSxJQUFBLEtBQUEsRUFDQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEtBR0EsTUFBQSxHQTJHQSxRQUFBLElBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLFVBQUEsR0FDQSxFQUFBLEdBQ0EsRUFBQSxrQkFBQSxHQUNBLEVBQUEsRUFBQSxFQUFBLE9BQUEsRUFDQSxFQUFBLEdBQUEsZ0JBQUEsR0FBQSxFQUFBLEVBS0EsT0FIQSxJQUFBLEVBQUEsU0FBQSxHQUNBLElBQUEsSUFBQSxFQUFBLEVBQUEsRUFBQSxJQUFBLE1BQUEsRUFBQSxLQUVBLEVBMENBLFFBQUEsSUFBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsR0FDQSxFQUFBLEVBQUEsRUFBQSxPQUFBLEVBQ0EsRUFBQSxHQUFBLGdCQUFBLEdBQUEsRUFBQSxFQUdBLElBREEsRUFBQSxFQUFBLGVBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxHQUNBLE9BQUEsRUFBQSxHQUNBLEVBQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLE9BR0EsSUFBQSxFQUFBLFNBQUEsRUFBQSxFQUFBLEdBQ0EsSUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLElBR0EsT0FBQSxHQTJDQSxRQUFBLElBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxJQUFBLElBQ0EsRUFBQSxDQU9BLElBSEEsa0JBQUEsSUFBQSxHQUFBLEVBQUEsS0FBQSxJQUNBLEVBQUEsTUFFQSxNQUFBLEdBQUEsR0FBQSxHQUlBLElBSEEsR0FBQSxHQUFBLEdBQ0EsRUFBQSxFQUFBLFNBRUEsRUFBQSxHQUFBLENBQ0EsR0FBQSxHQUFBLEVBQUEsRUFDQSxHQUFBLElBQ0EsRUFBQSxPQUlBLEdBQUEsTUFBQSxHQUFBLEdBQUEsR0FDQSxFQUNBLEVBQUEsZUFBQSxFQUFBLEVBQUEsR0FFQSxHQUFBLEVBQUEsU0FBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsRUFDQSxHQUFBLElBQ0EsRUFBQSxFQUNBLEVBQUEsSUFJQSxPQUFBLEdBMkNBLFFBQUEsSUFBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsSUFDQSxFQUFBLENBT0EsSUFIQSxrQkFBQSxJQUFBLEdBQUEsRUFBQSxLQUFBLElBQ0EsRUFBQSxNQUVBLE1BQUEsR0FBQSxHQUFBLEdBSUEsSUFIQSxHQUFBLEdBQUEsR0FDQSxFQUFBLEVBQUEsU0FFQSxFQUFBLEdBQUEsQ0FDQSxHQUFBLEdBQUEsRUFBQSxFQUNBLEdBQUEsSUFDQSxFQUFBLE9BSUEsR0FBQSxNQUFBLEdBQUEsR0FBQSxHQUNBLEVBQ0EsRUFBQSxlQUFBLEVBQUEsRUFBQSxHQUVBLEdBQUEsRUFBQSxTQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxFQUNBLEdBQUEsSUFDQSxFQUFBLEVBQ0EsRUFBQSxJQUlBLE9BQUEsR0F1REEsUUFBQSxJQUFBLEVBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLFVBQUEsT0FBQSxDQUdBLElBRkEsRUFBQSxFQUFBLGVBQUEsRUFBQSxFQUFBLEdBRUEsR0FBQSxHQUFBLENBQ0EsR0FBQSxHQUFBLEdBQ0EsRUFBQSxFQUFBLE1BS0EsS0FIQSxJQUNBLEVBQUEsSUFBQSxNQUVBLEVBQUEsR0FDQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxPQUdBLElBQUEsRUFBQSxTQUFBLEVBQUEsRUFBQSxHQUNBLEVBQUEsR0FDQSxHQUFBLEVBQUEsR0FDQSxFQUFBLEVBQUEsRUFBQSxFQUFBLElBR0EsT0FBQSxHQXNCQSxRQUFBLElBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsVUFBQSxPQUFBLENBT0EsT0FOQSxHQUFBLEVBQUEsZUFBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEVBQUEsU0FBQSxFQUFBLEVBQUEsR0FDQSxFQUFBLEdBQ0EsR0FBQSxFQUFBLEdBQ0EsRUFBQSxFQUFBLEVBQUEsRUFBQSxLQUVBLEVBeUNBLFFBQUEsSUFBQSxFQUFBLEVBQUEsR0FFQSxNQURBLEdBQUEsRUFBQSxlQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsRUFBQSxTQUFBLEVBQUEsRUFBQSxHQUNBLE9BQUEsRUFBQSxFQUFBLEVBQUEsS0F1QkEsUUFBQSxJQUFBLEVBQUEsRUFBQSxHQU1BLEdBTEEsR0FBQSxnQkFBQSxHQUFBLE9BQ0EsRUFBQSxHQUFBLEdBQ0EsR0FBQSxnQkFBQSxHQUFBLEtBQ0EsRUFBQSxFQUFBLE1BQUEsS0FFQSxNQUFBLEdBQUEsRUFDQSxNQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxPQUFBLElBQUEsQ0FFQSxJQUFBLEdBQUEsR0FBQSxFQUVBLE9BREEsR0FBQSxPQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQSxRQUNBLEVBaUJBLFFBQUEsSUFBQSxHQUNBLEdBQUEsR0FBQSxHQUNBLEVBQUEsRUFBQSxFQUFBLE9BQUEsRUFDQSxFQUFBLEdBQUEsZ0JBQUEsR0FBQSxFQUFBLEVBT0EsT0FMQSxJQUFBLEVBQUEsU0FBQSxHQUNBLEdBQUEsR0FBQSxHQUFBLElBQUEsRUFDQSxHQUFBLEdBQUEsRUFBQSxHQUNBLEVBQUEsR0FBQSxJQUVBLEVBdUJBLFFBQUEsSUFBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLEVBQUEsT0FBQSxDQUNBLE9BQUEsZ0JBQUEsR0FBQSxFQUFBLEdBQUEsR0FBQSxPQTZDQSxRQUFBLElBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxFQUdBLElBRkEsRUFBQSxFQUFBLGVBQUEsRUFBQSxFQUFBLEdBRUEsR0FBQSxHQUlBLElBSEEsR0FBQSxHQUFBLEdBQ0EsRUFBQSxFQUFBLFNBRUEsRUFBQSxLQUNBLEVBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxVQUtBLElBQUEsRUFBQSxTQUFBLEVBQUEsRUFBQSxHQUNBLFFBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxLQUdBLFNBQUEsRUFvREEsUUFBQSxJQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxHQUNBLEVBQUEsR0FBQSxHQUNBLEVBQUEsRUFBQSxFQUFBLE9BQUEsRUFDQSxFQUFBLEdBQUEsZ0JBQUEsR0FBQSxFQUFBLEVBa0JBLEtBaEJBLElBQ0EsRUFBQSxFQUFBLGVBQUEsRUFBQSxFQUFBLElBRUEsR0FBQSxFQUFBLFNBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLElBQUEsR0FBQSxHQUNBLEdBQ0EsRUFBQSxTQUFBLEdBQUEsRUFBQSxTQUFBLEdBQUEsTUFBQSxHQUFBLE1BRUEsRUFBQSxTQUFBLEtBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxHQUVBLEVBQUEsTUFBQSxFQUNBLEVBQUEsTUFBQSxJQUdBLEVBQUEsRUFBQSxPQUNBLEVBQUEsS0FBQSxHQUNBLEtBQUEsQ0FDQSxHQUFBLEdBQUEsRUFBQSxFQUNBLEdBQUEsR0FBQSxFQUFBLE1BQ0EsR0FDQSxFQUFBLEVBQUEsVUFFQSxFQUFBLEdBRUEsTUFBQSxHQWdCQSxRQUFBLElBQUEsR0FDQSxNQUFBLElBQUEsZ0JBQUEsR0FBQSxPQUNBLEdBQUEsZ0JBQUEsR0FBQSxHQUNBLEVBQUEsTUFBQSxJQUNBLEVBQUEsR0FFQSxHQUFBLEdBOENBLFFBQUEsSUFBQSxHQUtBLElBSkEsR0FBQSxHQUFBLEdBQ0EsRUFBQSxFQUFBLEVBQUEsT0FBQSxFQUNBLE9BRUEsRUFBQSxHQUFBLENBQ0EsR0FBQSxHQUFBLEVBQUEsRUFDQSxJQUNBLEVBQUEsS0FBQSxHQUdBLE1BQUEsR0FrQkEsUUFBQSxJQUFBLEdBQ0EsTUFBQSxJQUFBLEVBQUEsR0FBQSxXQUFBLEdBQUEsRUFBQSxJQTRDQSxRQUFBLElBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEdBQ0EsRUFBQSxFQUFBLEVBQUEsT0FBQSxDQUdBLEtBREEsRUFBQSxFQUFBLGVBQUEsRUFBQSxFQUFBLEtBQ0EsRUFBQSxHQUNBLEdBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxHQUNBLE1BQUEsRUFHQSxPQUFBLEdBNENBLFFBQUEsSUFBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxFQUFBLE9BQUEsQ0FFQSxLQURBLEVBQUEsRUFBQSxlQUFBLEVBQUEsRUFBQSxHQUNBLEtBQ0EsR0FBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEdBQ0EsTUFBQSxFQUdBLE9BQUEsR0FzREEsUUFBQSxJQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxFQUNBLEVBQUEsRUFBQSxFQUFBLE9BQUEsQ0FFQSxJQUFBLGdCQUFBLElBQUEsTUFBQSxFQUFBLENBQ0EsR0FBQSxHQUFBLEVBRUEsS0FEQSxFQUFBLEVBQUEsZUFBQSxFQUFBLEVBQUEsS0FDQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxJQUNBLFFBSUEsSUFEQSxFQUFBLEVBQ0EsTUFBQSxHQUFBLEVBQ0EsTUFBQSxHQUFBLEVBQUEsR0FBQSxDQUdBLE9BQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxHQUFBLEVBQUEsR0FBQSxJQTRDQSxRQUFBLElBQUEsRUFBQSxFQUFBLEVBQUEsR0FVQSxNQVJBLGlCQUFBLElBQUEsTUFBQSxJQUNBLEVBQUEsRUFDQSxFQUFBLGtCQUFBLElBQUEsR0FBQSxFQUFBLEtBQUEsRUFBQSxLQUFBLEVBQ0EsR0FBQSxHQUVBLE1BQUEsSUFDQSxFQUFBLEdBQUEsRUFBQSxFQUFBLElBRUEsR0FBQSxFQUFBLEdBMkJBLFFBQUEsSUFBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLGdCQUFBLEdBQUEsQ0FDQSxHQUFBLEdBQUEsRUFBQSxFQUFBLE9BQUEsQ0FDQSxHQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsTUFDQSxJQUFBLEVBQUEsQ0FDQSxHQUFBLEdBQUEsR0FBQSxFQUFBLEVBQ0EsT0FBQSxHQUFBLEtBQUEsRUFBQSxFQUFBLEdBRUEsTUFBQSxHQUFBLEVBQUEsRUFBQSxHQXFEQSxRQUFBLElBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQ0EsRUFBQSxFQUFBLEVBQUEsT0FBQSxDQUVBLElBQUEsZ0JBQUEsSUFBQSxNQUFBLEVBQUEsQ0FDQSxHQUFBLEdBQUEsQ0FFQSxLQURBLEVBQUEsRUFBQSxlQUFBLEVBQUEsRUFBQSxHQUNBLEtBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxJQUNBLFFBR0EsR0FBQSxNQUFBLEdBQUEsRUFBQSxFQUFBLEdBQUEsQ0FFQSxPQUFBLEdBQUEsRUFBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxJQWlCQSxRQUFBLE1BU0EsSUFSQSxHQUFBLE1BQ0EsRUFBQSxHQUNBLEVBQUEsVUFBQSxPQUNBLEVBQUEsSUFDQSxFQUFBLEtBQ0EsRUFBQSxJQUFBLEVBQ0EsRUFBQSxNQUVBLEVBQUEsR0FBQSxDQUNBLEdBQUEsR0FBQSxVQUFBLElBQ0EsR0FBQSxJQUFBLEdBQUEsTUFDQSxFQUFBLEtBQUEsR0FDQSxFQUFBLEtBQUEsR0FBQSxFQUFBLFFBQUEsR0FDQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEtBR0EsR0FBQSxHQUFBLEVBQUEsR0FDQSxFQUFBLEdBQ0EsRUFBQSxFQUFBLEVBQUEsT0FBQSxFQUNBLElBRUEsR0FDQSxPQUFBLEVBQUEsR0FBQSxDQUNBLEdBQUEsR0FBQSxFQUFBLEVBR0EsSUFGQSxFQUFBLEVBQUEsSUFFQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxJQUFBLEVBQUEsQ0FHQSxJQUZBLEVBQUEsR0FDQSxHQUFBLEdBQUEsS0FBQSxLQUNBLEdBRUEsR0FEQSxFQUFBLEVBQUEsSUFDQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLElBQUEsRUFDQSxRQUFBLEVBR0EsR0FBQSxLQUFBLElBR0EsS0FBQSxLQUNBLEVBQUEsRUFBQSxHQUNBLEdBQ0EsRUFBQSxFQUtBLE9BRkEsR0FBQSxHQUNBLEVBQUEsR0FDQSxFQXFEQSxRQUFBLElBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQ0EsRUFBQSxFQUFBLEVBQUEsT0FBQSxDQUVBLElBQUEsZ0JBQUEsSUFBQSxNQUFBLEVBQUEsQ0FDQSxHQUFBLEdBQUEsQ0FFQSxLQURBLEVBQUEsRUFBQSxlQUFBLEVBQUEsRUFBQSxHQUNBLEtBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxJQUNBLFFBSUEsSUFEQSxFQUFBLEVBQ0EsTUFBQSxHQUFBLEVBQ0EsTUFBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLENBR0EsT0FBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsSUE4QkEsUUFBQSxJQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLEVBQUEsT0FBQSxDQUlBLEtBSEEsZ0JBQUEsS0FDQSxHQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLElBQUEsR0FFQSxLQUNBLEdBQUEsRUFBQSxLQUFBLEVBQ0EsTUFBQSxFQUdBLE9BQUEsR0FvQkEsUUFBQSxJQUFBLEdBTUEsSUFMQSxHQUFBLEdBQUEsVUFDQSxFQUFBLEVBQ0EsRUFBQSxFQUFBLE9BQ0EsRUFBQSxFQUFBLEVBQUEsT0FBQSxJQUVBLEVBQUEsR0FHQSxJQUZBLEdBQUEsR0FBQSxHQUNBLEVBQUEsRUFBQSxLQUNBLEVBQUEsR0FDQSxFQUFBLEtBQUEsSUFDQSxHQUFBLEtBQUEsRUFBQSxJQUFBLEdBQ0EsSUFJQSxPQUFBLEdBbUNBLFFBQUEsSUFBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsRUFDQSxFQUFBLGdCQUFBLEdBQUEsR0FBQSxHQUFBLEVBRUEsTUFBQSxJQUNBLEVBQUEsRUFDQSxFQUFBLEVBUUEsS0FKQSxHQUFBLEdBQUEsR0FDQSxFQUFBLEdBQUEsRUFBQSxJQUFBLEVBQUEsSUFBQSxHQUFBLEtBQ0EsRUFBQSxHQUFBLEtBRUEsRUFBQSxHQUNBLEVBQUEsR0FBQSxFQUNBLEdBQUEsQ0FFQSxPQUFBLEdBbUNBLFFBQUEsSUFBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsR0FDQSxFQUFBLEVBQUEsRUFBQSxPQUFBLEVBQ0EsSUFHQSxLQURBLEVBQUEsRUFBQSxlQUFBLEVBQUEsRUFBQSxLQUNBLEVBQUEsR0FBQSxDQUNBLEdBQUEsR0FBQSxFQUFBLEVBQ0EsR0FBQSxFQUFBLEVBQUEsS0FDQSxFQUFBLEtBQUEsR0FDQSxHQUFBLEtBQUEsRUFBQSxJQUFBLEdBQ0EsS0FHQSxNQUFBLEdBdURBLFFBQUEsSUFBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLGdCQUFBLElBQUEsTUFBQSxFQUFBLENBQ0EsR0FBQSxHQUFBLEVBQ0EsRUFBQSxHQUNBLEVBQUEsRUFBQSxFQUFBLE9BQUEsQ0FHQSxLQURBLEVBQUEsRUFBQSxlQUFBLEVBQUEsRUFBQSxLQUNBLEVBQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLElBQ0EsUUFHQSxHQUFBLE1BQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEVBRUEsT0FBQSxHQUFBLEVBQUEsR0FtREEsUUFBQSxJQUFBLEVBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQ0EsRUFBQSxFQUFBLEVBQUEsT0FBQSxDQU1BLEtBSEEsRUFBQSxFQUFBLEVBQUEsZUFBQSxFQUFBLEVBQUEsR0FBQSxHQUNBLEVBQUEsRUFBQSxHQUVBLEVBQUEsR0FBQSxDQUNBLEdBQUEsR0FBQSxFQUFBLElBQUEsQ0FDQSxHQUFBLEVBQUEsSUFBQSxFQUNBLEVBQUEsRUFBQSxFQUNBLEVBQUEsRUFFQSxNQUFBLEdBaUJBLFFBQUEsTUFDQSxNQUFBLElBQUEsR0FBQSxXQUFBLEdBQUEsSUErQ0EsUUFBQSxJQUFBLEVBQUEsRUFBQSxFQUFBLEdBVUEsTUFSQSxpQkFBQSxJQUFBLE1BQUEsSUFDQSxFQUFBLEVBQ0EsRUFBQSxrQkFBQSxJQUFBLEdBQUEsRUFBQSxLQUFBLEVBQUEsS0FBQSxFQUNBLEdBQUEsR0FFQSxNQUFBLElBQ0EsRUFBQSxFQUFBLGVBQUEsRUFBQSxFQUFBLElBRUEsR0FBQSxFQUFBLEVBQUEsR0FrQkEsUUFBQSxJQUFBLEdBQ0EsTUFBQSxJQUFBLEVBQUEsRUFBQSxVQUFBLElBb0JBLFFBQUEsTUFJQSxJQUhBLEdBQUEsR0FBQSxHQUNBLEVBQUEsVUFBQSxTQUVBLEVBQUEsR0FBQSxDQUNBLEdBQUEsR0FBQSxVQUFBLEVBQ0EsSUFBQSxHQUFBLElBQUEsR0FBQSxHQUNBLEdBQUEsR0FBQSxFQUNBLEdBQUEsR0FBQSxFQUFBLEdBQUEsT0FBQSxHQUFBLEVBQUEsS0FDQSxFQUdBLE1BQUEsT0FtQkEsUUFBQSxNQU1BLElBTEEsR0FBQSxHQUFBLFVBQUEsT0FBQSxFQUFBLFVBQUEsVUFBQSxHQUNBLEVBQUEsR0FDQSxFQUFBLEVBQUEsR0FBQSxHQUFBLEVBQUEsV0FBQSxFQUNBLEVBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxLQUVBLEVBQUEsR0FDQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEVBRUEsT0FBQSxHQXFCQSxRQUFBLElBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxHQUNBLEVBQUEsRUFBQSxFQUFBLE9BQUEsRUFDQSxJQUtBLEtBSEEsSUFBQSxHQUFBLEdBQUEsRUFBQSxNQUNBLFFBRUEsRUFBQSxHQUFBLENBQ0EsR0FBQSxHQUFBLEVBQUEsRUFDQSxHQUNBLEVBQUEsR0FBQSxFQUFBLEdBQ0EsSUFDQSxFQUFBLEVBQUEsSUFBQSxFQUFBLElBR0EsTUFBQSxHQTZCQSxRQUFBLElBQUEsRUFBQSxHQUNBLElBQUEsR0FBQSxHQUNBLEtBQUEsSUFBQSxHQUVBLE9BQUEsWUFDQSxRQUFBLEVBQUEsRUFDQSxFQUFBLE1BQUEsS0FBQSxXQURBLFFBNEJBLFFBQUEsSUFBQSxFQUFBLEdBQ0EsTUFBQSxXQUFBLE9BQUEsRUFDQSxHQUFBLEVBQUEsR0FBQSxFQUFBLFVBQUEsR0FBQSxLQUFBLEdBQ0EsR0FBQSxFQUFBLEVBQUEsS0FBQSxLQUFBLEdBMkJBLFFBQUEsSUFBQSxHQUtBLElBSkEsR0FBQSxHQUFBLFVBQUEsT0FBQSxFQUFBLEdBQUEsV0FBQSxHQUFBLEVBQUEsR0FBQSxHQUFBLEdBQ0EsRUFBQSxHQUNBLEVBQUEsRUFBQSxTQUVBLEVBQUEsR0FBQSxDQUNBLEdBQUEsR0FBQSxFQUFBLEVBQ0EsR0FBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsS0FBQSxLQUFBLEdBRUEsTUFBQSxHQXFDQSxRQUFBLElBQUEsRUFBQSxHQUNBLE1BQUEsV0FBQSxPQUFBLEVBQ0EsR0FBQSxFQUFBLEdBQUEsRUFBQSxVQUFBLEdBQUEsS0FBQSxHQUNBLEdBQUEsRUFBQSxFQUFBLEtBQUEsS0FBQSxHQWlDQSxRQUFBLE1BSUEsSUFIQSxHQUFBLEdBQUEsVUFDQSxFQUFBLEVBQUEsT0FFQSxLQUNBLElBQUEsR0FBQSxFQUFBLElBQ0EsS0FBQSxJQUFBLEdBR0EsT0FBQSxZQUlBLElBSEEsR0FBQSxHQUFBLFVBQ0EsRUFBQSxFQUFBLE9BRUEsS0FDQSxHQUFBLEVBQUEsR0FBQSxNQUFBLEtBQUEsR0FFQSxPQUFBLEdBQUEsSUFnQ0EsUUFBQSxJQUFBLEVBQUEsR0FFQSxNQURBLEdBQUEsZ0JBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxPQUNBLEdBQUEsRUFBQSxFQUFBLEtBQUEsS0FBQSxLQUFBLEdBMENBLFFBQUEsSUFBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEdBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFBQSxFQUNBLEdBQUEsRUFDQSxHQUFBLENBRUEsS0FBQSxHQUFBLEdBQ0EsS0FBQSxJQUFBLEdBR0EsSUFEQSxFQUFBLEdBQUEsRUFBQSxJQUFBLEVBQ0EsS0FBQSxFQUFBLENBQ0EsR0FBQSxJQUFBLENBQ0EsSUFBQSxNQUNBLElBQUEsS0FDQSxFQUFBLEVBQUEsUUFDQSxFQUFBLFdBQUEsS0FBQSxHQUFBLEVBQUEsRUFBQSxVQUFBLEdBQ0EsRUFBQSxZQUFBLEdBQUEsRUFBQSxTQUFBLEVBRUEsSUFBQSxHQUFBLFdBQ0EsR0FBQSxHQUFBLEdBQUEsS0FBQSxFQUNBLElBQUEsR0FBQSxFQUFBLENBQ0EsR0FDQSxHQUFBLEVBRUEsSUFBQSxHQUFBLENBQ0EsR0FBQSxFQUFBLEVBQUEsRUFDQSxJQUNBLEVBQUEsS0FDQSxFQUFBLEVBQUEsTUFBQSxFQUFBLEdBQ0EsR0FBQSxJQUNBLEVBQUEsRUFBQSxXQUlBLEdBQUEsR0FBQSxFQUFBLElBSUEsRUFBQSxXQUNBLEdBQ0EsR0FBQSxHQUVBLEVBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxJQUFBLEtBQ0EsRUFBQSxLQUNBLEVBQUEsRUFBQSxNQUFBLEVBQUEsR0FDQSxHQUFBLElBQ0EsRUFBQSxFQUFBLE9BS0EsT0FBQSxZQU1BLEdBTEEsRUFBQSxVQUNBLEVBQUEsS0FDQSxFQUFBLEtBQ0EsRUFBQSxJQUFBLElBQUEsR0FFQSxLQUFBLEVBQ0EsR0FBQSxHQUFBLElBQUEsTUFDQSxDQUNBLEdBQUEsSUFDQSxFQUFBLEVBRUEsSUFBQSxHQUFBLEdBQUEsRUFBQSxHQUNBLEVBQUEsR0FBQSxDQUVBLElBQ0EsSUFDQSxFQUFBLEdBQUEsSUFFQSxFQUFBLEVBQ0EsRUFBQSxFQUFBLE1BQUEsRUFBQSxJQUVBLElBQ0EsRUFBQSxHQUFBLEVBQUEsSUFnQkEsTUFiQSxJQUFBLEVBQ0EsRUFBQSxHQUFBLEdBRUEsR0FBQSxJQUFBLElBQ0EsRUFBQSxHQUFBLEVBQUEsSUFFQSxJQUNBLEdBQUEsRUFDQSxFQUFBLEVBQUEsTUFBQSxFQUFBLEtBRUEsR0FBQSxHQUFBLElBQ0EsRUFBQSxFQUFBLE1BRUEsR0FtQkEsUUFBQSxJQUFBLEdBQ0EsSUFBQSxHQUFBLEdBQ0EsS0FBQSxJQUFBLEdBRUEsSUFBQSxHQUFBLEVBQUEsVUFBQSxFQUNBLE9BQUEsSUFBQSxXQUFBLEVBQUEsTUFBQSxFQUFBLElBQUEsR0FtQkEsUUFBQSxJQUFBLEVBQUEsR0FDQSxJQUFBLEdBQUEsR0FDQSxLQUFBLElBQUEsR0FFQSxJQUFBLEdBQUEsRUFBQSxVQUFBLEVBQ0EsT0FBQSxJQUFBLFdBQUEsRUFBQSxNQUFBLEVBQUEsSUFBQSxHQXdDQSxRQUFBLElBQUEsRUFBQSxHQUNBLElBQUEsR0FBQSxHQUNBLEtBQUEsSUFBQSxHQUVBLElBQUEsR0FBQSxXQUNBLEdBQUEsR0FBQSxFQUFBLE1BQ0EsRUFBQSxFQUFBLEVBQUEsTUFBQSxLQUFBLFdBQUEsRUFBQSxVQUFBLEVBRUEsT0FBQSxJQUFBLEtBQUEsRUFBQSxHQUNBLEVBQUEsR0FDQSxFQUFBLEdBQUEsRUFBQSxNQUFBLEtBQUEsV0FHQSxPQURBLEdBQUEsU0FDQSxFQW9CQSxRQUFBLElBQUEsR0FDQSxHQUFBLEdBQ0EsQ0FFQSxLQUFBLEdBQUEsR0FDQSxLQUFBLElBQUEsR0FFQSxPQUFBLFlBQ0EsTUFBQSxHQUNBLEdBRUEsR0FBQSxFQUNBLEVBQUEsRUFBQSxNQUFBLEtBQUEsV0FHQSxFQUFBLEtBQ0EsSUFzQkEsUUFBQSxJQUFBLEdBQ0EsTUFBQSxJQUFBLEVBQUEsR0FBQSxFQUFBLFVBQUEsSUE4QkEsUUFBQSxJQUFBLEdBQ0EsTUFBQSxJQUFBLEVBQUEsR0FBQSxLQUFBLEVBQUEsVUFBQSxJQWtDQSxRQUFBLElBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxJQUFBLEVBQ0EsR0FBQSxDQUVBLEtBQUEsR0FBQSxHQUNBLEtBQUEsSUFBQSxHQVlBLE9BVkEsTUFBQSxFQUNBLEdBQUEsRUFDQSxHQUFBLEtBQ0EsRUFBQSxXQUFBLEdBQUEsRUFBQSxRQUFBLEVBQ0EsRUFBQSxZQUFBLEdBQUEsRUFBQSxTQUFBLEdBRUEsRUFBQSxRQUFBLEVBQ0EsRUFBQSxRQUFBLEVBQ0EsRUFBQSxTQUFBLEVBRUEsR0FBQSxFQUFBLEVBQUEsR0F3QkEsUUFBQSxJQUFBLEVBQUEsR0FDQSxNQUFBLElBQUEsRUFBQSxJQUFBLElBb0JBLFFBQUEsSUFBQSxHQUNBLE1BQUEsWUFDQSxNQUFBLElBbUNBLFFBQUEsSUFBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLFNBQUEsRUFDQSxJQUFBLE1BQUEsR0FBQSxZQUFBLEVBQ0EsTUFBQSxJQUFBLEVBQUEsRUFBQSxFQUdBLElBQUEsVUFBQSxFQUNBLE1BQUEsSUFBQSxFQUVBLElBQUEsR0FBQSxHQUFBLEdBQ0EsRUFBQSxFQUFBLEdBQ0EsRUFBQSxFQUFBLEVBR0EsT0FBQSxJQUFBLEVBQUEsUUFBQSxJQUFBLEdBQUEsR0FBQSxHQVFBLFNBQUEsR0FJQSxJQUhBLEdBQUEsR0FBQSxFQUFBLE9BQ0EsR0FBQSxFQUVBLE1BQ0EsRUFBQSxHQUFBLEVBQUEsRUFBQSxJQUFBLEVBQUEsRUFBQSxJQUFBLE1BQUEsTUFJQSxNQUFBLElBZEEsU0FBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLEVBQ0EsT0FBQSxLQUFBLElBQUEsSUFBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLElBOEJBLFFBQUEsSUFBQSxHQUNBLE1BQUEsT0FBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLFFBQUEsR0FBQSxJQWlCQSxRQUFBLElBQUEsR0FDQSxNQUFBLEdBK0JBLFFBQUEsSUFBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLElBQUEsRUFDQSxFQUFBLEdBQUEsR0FBQSxFQUVBLEtBQUEsR0FBQSxFQUFBLFVBQ0EsTUFBQSxJQUNBLEVBQUEsR0FFQSxFQUFBLEVBQ0EsRUFBQSxFQUNBLEVBQUEsRUFDQSxFQUFBLEdBQUEsSUFFQSxLQUFBLEVBQ0EsR0FBQSxFQUNBLEdBQUEsSUFBQSxTQUFBLEtBQ0EsRUFBQSxFQUFBLE1BRUEsSUFBQSxHQUFBLEVBQ0EsRUFBQSxHQUFBLEVBRUEsSUFBQSxFQUFBLFNBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsRUFDQSxLQUNBLEVBQUEsVUFBQSxHQUFBLFdBQ0EsR0FBQSxHQUFBLEtBQUEsVUFDQSxFQUFBLEtBQUEsWUFDQSxHQUFBLEVBRUEsSUFBQSxNQUFBLEVBQUEsVUFDQSxJQUFBLEdBQUEsRUFBQSxNQUFBLEVBQUEsRUFDQSxJQUFBLEdBQUEsRUFBQSxDQUNBLEdBQUEsSUFBQSxHQUFBLEdBQUEsR0FDQSxNQUFBLEtBRUEsR0FBQSxHQUFBLEdBQUEsR0FDQSxFQUFBLFVBQUEsRUFFQSxNQUFBLE9Ba0JBLFFBQUEsTUFFQSxNQURBLEdBQUEsRUFBQSxHQUNBLEtBZUEsUUFBQSxPQXFFQSxRQUFBLElBQUEsR0FDQSxNQUFBLFVBQUEsR0FDQSxNQUFBLEdBQUEsSUErQkEsUUFBQSxJQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxNQUFBLEVBQ0EsRUFBQSxNQUFBLENBc0JBLElBcEJBLE1BQUEsSUFDQSxpQkFBQSxJQUFBLEdBQ0EsRUFBQSxFQUNBLEVBQUEsR0FFQSxHQUFBLGlCQUFBLEtBQ0EsRUFBQSxFQUNBLEdBQUEsSUFHQSxHQUFBLElBQ0EsRUFBQSxHQUVBLEdBQUEsR0FBQSxFQUNBLEdBQ0EsRUFBQSxFQUNBLEVBQUEsR0FFQSxHQUFBLEdBQUEsRUFFQSxHQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsQ0FDQSxHQUFBLEdBQUEsSUFDQSxPQUFBLElBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxXQUFBLFFBQUEsRUFBQSxJQUFBLE9BQUEsS0FBQSxHQUVBLE1BQUEsSUFBQSxFQUFBLEdBOEJBLFFBQUEsSUFBQSxFQUFBLEdBQ0EsR0FBQSxFQUFBLENBQ0EsR0FBQSxHQUFBLEVBQUEsRUFDQSxPQUFBLElBQUEsR0FBQSxFQUFBLEtBQUEsR0EwRkEsUUFBQSxJQUFBLEVBQUEsRUFBQSxHQUtBLEdBQUEsR0FBQSxFQUFBLGdCQUNBLEdBQUEsR0FBQSxHQUFBLElBR0EsRUFBQSxNQUFBLEVBQUEsRUFFQSxJQUlBLEdBSkEsRUFBQSxNQUFBLEVBQUEsUUFBQSxFQUFBLFNBQ0EsRUFBQSxHQUFBLEdBQ0EsRUFBQSxHQUFBLEdBR0EsRUFBQSxFQUNBLEVBQUEsRUFBQSxhQUFBLEVBQ0EsRUFBQSxXQUdBLEVBQUEsSUFDQSxFQUFBLFFBQUEsR0FBQSxPQUFBLElBQ0EsRUFBQSxPQUFBLEtBQ0EsSUFBQSxFQUFBLEVBQUEsR0FBQSxPQUFBLEtBQ0EsRUFBQSxVQUFBLEdBQUEsT0FBQSxLQUNBLElBRUEsR0FBQSxRQUFBLEVBQUEsU0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FxQkEsTUFwQkEsS0FBQSxFQUFBLEdBR0EsR0FBQSxFQUFBLE1BQUEsRUFBQSxHQUFBLFFBQUEsRUFBQSxHQUdBLElBQ0EsR0FBQSxZQUFBLEVBQUEsVUFFQSxJQUNBLEdBQUEsRUFDQSxHQUFBLE9BQUEsRUFBQSxlQUVBLElBQ0EsR0FBQSxpQkFBQSxFQUFBLCtCQUVBLEVBQUEsRUFBQSxFQUFBLE9BSUEsSUFHQSxHQUFBLE1BSUEsSUFBQSxHQUFBLEVBQUEsU0FDQSxFQUFBLENBRUEsS0FDQSxFQUFBLE1BQ0EsRUFBQSxTQUFBLEVBQUEsUUFBQSxFQUFBLFNBR0EsR0FBQSxFQUFBLEVBQUEsUUFBQSxFQUFBLElBQUEsR0FDQSxRQUFBLEVBQUEsTUFDQSxRQUFBLEVBQUEsT0FHQSxFQUFBLFlBQUEsRUFBQSxTQUNBLEVBQUEsR0FBQSxFQUFBLFFBQUEsRUFBQSxhQUNBLHFDQUNBLEVBQ0EsdUZBRUEsT0FFQSxFQUNBLGVBSUEsSUFBQSxHQUFBLHdCQUFBLEVBQUEsV0FBQSwyQkFBQSxLQUFBLEtBQUEsTUFFQSxLQUNBLEdBQUEsR0FBQSxHQUFBLEVBQUEsVUFBQSxFQUFBLEdBQUEsTUFBQSxFQUFBLEdBQ0EsTUFBQSxHQUVBLEtBREEsR0FBQSxPQUFBLEVBQ0EsRUFFQSxNQUFBLEdBQ0EsRUFBQSxJQUtBLEVBQUEsT0FBQSxFQUNBLEdBMEJBLFFBQUEsSUFBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEVBQUEsQ0FDQSxJQUFBLEdBQUEsR0FDQSxFQUFBLEdBQUEsRUFHQSxLQURBLEVBQUEsR0FBQSxFQUFBLEVBQUEsS0FDQSxFQUFBLEdBQ0EsRUFBQSxHQUFBLEVBQUEsRUFFQSxPQUFBLEdBa0JBLFFBQUEsSUFBQSxHQUNBLE1BQUEsT0FBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLFFBQUEsR0FBQSxJQW1CQSxRQUFBLElBQUEsR0FDQSxHQUFBLEtBQUEsQ0FDQSxPQUFBLElBQUEsTUFBQSxFQUFBLEdBQUEsR0FBQSxFQTZCQSxRQUFBLElBQUEsR0FHQSxNQUZBLEdBQUEsR0FBQSxHQUFBLEdBQ0EsRUFBQSxXQUFBLEVBQ0EsRUF1QkEsUUFBQSxJQUFBLEVBQUEsR0FFQSxNQURBLEdBQUEsR0FDQSxFQTRCQSxRQUFBLE1BRUEsTUFEQSxNQUFBLFdBQUEsRUFDQSxLQWVBLFFBQUEsTUFDQSxNQUFBLElBQUEsS0FBQSxhQWdCQSxRQUFBLE1BQ0EsTUFBQSxNQUFBLFlBcHZNQSxFQUFBLEVBQUEsR0FBQSxTQUFBLEdBQUEsU0FBQSxFQUFBLEdBQUEsS0FBQSxHQUFBLElBQUEsRUFHQSxJQUFBLElBQUEsRUFBQSxNQUNBLEdBQUEsRUFBQSxRQUNBLEdBQUEsRUFBQSxLQUNBLEdBQUEsRUFBQSxNQUNBLEdBQUEsRUFBQSxTQUNBLEdBQUEsRUFBQSxLQUNBLEdBQUEsRUFBQSxPQUNBLEdBQUEsRUFBQSxPQUNBLEdBQUEsRUFBQSxPQUNBLEdBQUEsRUFBQSxPQUNBLEdBQUEsRUFBQSxVQVFBLE1BR0EsR0FBQSxHQUFBLFVBQ0EsR0FBQSxHQUFBLFVBQ0EsR0FBQSxHQUFBLFVBR0EsR0FBQSxFQUFBLEVBR0EsR0FBQSxHQUFBLFNBR0EsR0FBQSxHQUFBLElBQ0EsR0FBQSxJQUNBLFFBQUEsc0JBQUEsUUFDQSxRQUFBLHdCQUFBLE9BQUEsS0FJQSxHQUFBLEdBQUEsS0FDQSxHQUFBLEVBQUEsYUFDQSxHQUFBLEdBQUEsTUFDQSxHQUFBLEdBQUEsVUFBQSxTQUNBLEdBQUEsR0FBQSxHQUFBLEdBQUEsaUJBQUEsR0FDQSxHQUFBLEdBQUEsZUFDQSxHQUFBLEdBQUEsS0FDQSxHQUFBLEdBQUEscUJBQ0EsR0FBQSxFQUFBLFdBQ0EsR0FBQSxHQUFBLE9BQ0EsR0FBQSxHQUFBLFFBR0EsR0FBQSxXQUVBLElBQ0EsR0FBQSxNQUNBLEVBQUEsR0FBQSxFQUFBLEdBQUEsaUJBQUEsRUFDQSxFQUFBLEVBQUEsRUFBQSxFQUFBLElBQUEsRUFDQSxNQUFBLElBQ0EsTUFBQSxNQUlBLEdBQUEsR0FBQSxHQUFBLEdBQUEsU0FBQSxHQUNBLEdBQUEsR0FBQSxHQUFBLEdBQUEsVUFBQSxHQUNBLEdBQUEsRUFBQSxTQUNBLEdBQUEsRUFBQSxNQUNBLEdBQUEsR0FBQSxHQUFBLEdBQUEsT0FBQSxHQUNBLEdBQUEsR0FBQSxJQUNBLEdBQUEsR0FBQSxJQUNBLEdBQUEsRUFBQSxTQUNBLEdBQUEsR0FBQSxPQUdBLEtBQ0EsSUFBQSxHQUFBLEdBQ0EsR0FBQSxHQUFBLEdBQ0EsR0FBQSxHQUFBLEdBQ0EsR0FBQSxHQUFBLEdBQ0EsR0FBQSxHQUFBLEdBQ0EsR0FBQSxHQUFBLEdBQ0EsR0FBQSxHQUFBLEdBQ0EsR0FBQSxHQUFBLEVBR0EsSUFBQSxNQUNBLElBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxJQUFBLGFBQUEsRUFBQSxnQkFBQSxFQUFBLFVBQUEsRUFBQSxTQUFBLEdBQ0EsR0FBQSxHQUFBLEdBQUEsSUFBQSxhQUFBLEVBQUEsVUFBQSxFQUFBLFNBQUEsR0FDQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsSUFBQSxhQUFBLEVBQUEsVUFBQSxHQUNBLEdBQUEsSUFBQSxhQUFBLEdBRUEsV0FFQSxJQURBLEdBQUEsR0FBQSxFQUFBLE9BQ0EsS0FBQSxDQUNBLEdBQUEsR0FBQSxFQUFBLEVBQ0EsS0FBQSxHQUFBLEtBQUEsSUFDQSxHQUFBLEtBQUEsR0FBQSxLQUFBLEdBQUEsS0FBQSxHQUFBLEdBQUEsS0FDQSxHQUFBLEdBQUEsSUFBQSxPQTZGQSxFQUFBLFVBQUEsRUFBQSxTQVNBLElBQUEsSUFBQSxFQUFBLFlBRUEsV0FDQSxHQUFBLEdBQUEsV0FBQSxLQUFBLEVBQUEsR0FDQSxHQUFBLEVBQUEsRUFBQSxPQUFBLEdBQ0EsSUFFQSxHQUFBLFdBQUEsUUFBQSxFQUFBLEVBQUEsRUFDQSxLQUFBLEdBQUEsS0FBQSxJQUFBLEdBQUEsRUFBQSxLQUFBLEVBQ0EsS0FBQSxJQUFBLFlBUUEsR0FBQSxVQUFBLEdBQUEsS0FBQSxZQUFBLEVBUUEsR0FBQSxXQUFBLFVBQUEsYUFBQSxNQUFBLG9CQUFBLEtBU0EsR0FBQSxlQUFBLEdBQUEsS0FBQSxHQUFBLFlBQUEsR0FBQSxLQUFBLEdBQUEsUUFhQSxHQUFBLGVBQUEsR0FBQSxLQUFBLEVBQUEsYUFTQSxHQUFBLFlBQUEsR0FBQSxFQUFBLGFBQUEsRUFBQSxLQUFBLEdBUUEsR0FBQSxVQUFBLGdCQUFBLElBQUEsS0FTQSxHQUFBLFlBQUEsR0FBQSxFQVdBLEdBQUEsZ0JBQUEsVUFBQSxLQUFBLEdBUUEsR0FBQSxRQUFBLEtBQUEsRUFBQSxHQWNBLEdBQUEsZUFBQSxHQUFBLE9BQUEsS0FBQSxFQUFBLEVBQUEsSUFBQSxFQUFBLElBV0EsR0FBQSxlQUFBLElBQUEsR0FBQSxHQUFBLEtBQUEsSUFBQSxJQVVBLEtBQ0EsR0FBQSxZQUFBLEdBQUEsS0FBQSxXQUFBLE1BQUEsU0FBQSxHQUFBLEtBQ0EsTUFBQSxHQUNBLEdBQUEsV0FBQSxJQUVBLEdBV0EsRUFBQSxrQkFRQSxPQUFBLG1CQVFBLFNBQUEsa0JBUUEsWUFBQSxFQVFBLFNBQUEsR0FRQSxTQVFBLEVBQUEsR0FhQSxJQUFBLElBQUEsU0FBQSxHQUVBLEdBQUEsR0FBQSx5QkFDQSxFQUFBLFNBQ0EsY0FDQSxFQUFBLEtBQ0EscUNBQ0EsRUFBQSxJQUNBLEdBQ0EsR0FBQSxPQUNBLEdBQUEsb0RBQ0EsRUFBQSxNQUNBLFFBQ0EsR0FBQSxpQkFDQSxHQUFBLDJFQUVBLEdBQUEsdUNBQ0EsRUFBQSxLQUNBLHVCQUNBLEdBQUEsY0FDQSxHQUFBLHNKQUNBLEVBQUEsS0FDQSwwQkFHQSxHQUFBLGlCQUNBLEdBQUEsMERBR0EsR0FBQSxpQkFDQSxHQUFBLHFGQUdBLElBQUEsS0FFQSxJQUZBLEdBQUEsZ0JBQUEsRUFBQSxLQUFBLHdDQUFBLEdBQUEsZ0JBQUEsRUFBQSxLQUFBLGdFQUVBLEVBQUEsUUFBQSxFQUFBLEtBQ0EsR0FBQSxpTkFDQSxFQUFBLFNBQ0EsR0FBQSxXQUNBLEVBQUEsS0FBQSxRQUNBLFdBRUEsR0FDQSxFQUFBLEtBQ0EsUUFDQSxFQUFBLFNBQ0EsR0FBQSxXQUVBLEdBQUEsY0FlQSxJQWJBLEdBQUEsa0NBQ0EsRUFBQSxRQUFBLEVBQUEsS0FBQSx3Q0FBQSxFQUFBLFNBQ0EsR0FBQSxXQUNBLEVBQUEsS0FBQSxRQUNBLFdBRUEsR0FDQSxFQUFBLEtBQ0EsUUFDQSxFQUFBLFNBQ0EsR0FBQSxXQUVBLEdBQUEsWUFDQSxHQUFBLGVBQUEsQ0FFQSxJQURBLEdBQUEsMFRBQ0EsRUFBQSxFQUFBLEVBQUEsRUFBQSxJQUNBLEdBQUEsa0JBQ0EsRUFBQSxjQUFBLEdBQ0EscUZBQ0EsRUFBQSxTQUNBLEdBQUEsbUVBRUEsR0FBQSxjQUNBLEVBQUEsS0FDQSxnQkFFQSxJQUFBLFlBWUEsT0FQQSxFQUFBLE9BQUEsR0FBQSxlQUNBLEdBQUEsT0FFQSxHQUNBLEVBQUEsT0FDQSxtQkFvSkEsTUFDQSxHQUFBLFdBQ0EsUUFBQSxNQUNBLE1BQUEsVUFBQSxHQUNBLEdBQUEsR0FBQSxHQUFBLENBQ0EsRUFBQSxVQUFBLENBQ0EsSUFBQSxHQUFBLEdBQUEsRUFDQSxHQUFBLFVBQUEsS0FFQSxNQUFBLElBQUEsRUFBQSxhQXNyQkEsSUFBQSxJQUFBLEdBQUEsU0FBQSxFQUFBLEdBQ0EsRUFBQSxNQUFBLEVBQ0EsR0FBQSxFQUFBLGVBQUEsR0FDQSxFQUFBLE1BQUEsTUFIQSxFQWdGQSxJQUFBLFlBQ0EsR0FBQSxTQUFBLEdBQ0EsTUFBQSxJQUFBLGdCQUFBLElBQUEsZ0JBQUEsR0FBQSxRQUNBLEdBQUEsS0FBQSxFQUFBLFlBQUEsR0FBQSxLQUFBLEVBQUEsWUFBQSxHQXFCQSxJQUFBLElBQUEsSUFBQSxTQUFBLEdBQ0EsTUFBQSxJQUFBLGdCQUFBLElBQUEsZ0JBQUEsR0FBQSxRQUNBLEdBQUEsS0FBQSxJQUFBLElBQUEsR0FZQSxHQUFBLElBQ0EsS0FBQSxTQUNBLEtBQUEsS0FDQSxJQUFBLG1EQUNBLEtBQUEsdUJBZ0JBLEdBQUEsR0FBQSxTQUFBLEdBQ0EsTUFBQSxJQUFBLEdBR0EsR0FBQSxnQkFBQSxrQkFBQSxJQUNBLEdBQUEsYUFBQSxFQUFBLFFBQUEsR0FBQSxHQUNBLEdBQUEsR0FFQSxHQUFBLE9BUkEsR0FZQSxJQUNBLEtBQUEsZ0NBQ0EsSUFBQSw2R0FDQSxNQUFBLDRCQUNBLEtBQUEsR0FDQSxLQUFBLDZFQUlBLElBQ0EsS0FBQSx3QkFDQSxJQUNBLGdPQU1BLEtBQUEsR0FDQSxLQUFBLDJFQUNBLE9BQUEsVUFJQSxJQUNBLElBQUEsc0RBQUEsR0FBQSxJQUNBLE9BQUEsR0FXQSxJQUNBLElBQUEsUUFDQSxJQUFBLE9BQ0EsSUFBQSxPQUNBLElBQUEsU0FDQSxJQUFBLFNBSUEsR0FBQSxHQUFBLElBR0EsR0FBQSxHQUFBLElBQUEsR0FBQSxJQUFBLEtBQUEsS0FBQSxJQUFBLEtBQ0EsR0FBQSxHQUFBLElBQUEsR0FBQSxJQUFBLEtBQUEsSUFBQSxJQUFBLEtBZ0JBLEdBQUEsR0FBQSxJQWtDQSxHQUFBLEdBQUEsSUFDQSxJQUNBLEdBQUEsSUFBQSxRQUFBLElBQ0EsOFFBT0EsS0FBQSwwRkEySkEsR0FBQSxHQUFBLElBMklBLEdBQUEsR0FBQSxHQUFBLElBQ0EsUUFBQSxJQXFFQSxHQUFBLEdBQUEsR0FBQSxHQStSQSxJQUFBLE9BQ0EsR0FBQSxTQUFBLEdBQ0EsTUFBQSxrQkFBQSxJQUFBLEdBQUEsS0FBQSxJQUFBLEdBK0hBLElBQUEsSUFBQSxHQUFBLFNBQUEsR0FDQSxJQUFBLEdBQUEsR0FBQSxLQUFBLElBQUEsSUFBQSxHQUFBLFdBQUEsR0FBQSxHQUNBLE9BQUEsQ0FFQSxJQUFBLEdBQUEsRUFBQSxRQUNBLEVBQUEsR0FBQSxLQUFBLEVBQUEsR0FBQSxLQUFBLEdBQUEsRUFFQSxPQUFBLEdBQ0EsR0FBQSxHQUFBLEdBQUEsSUFBQSxFQUNBLEdBQUEsSUFUQSxHQXdnQkEsR0FBQSxHQUFBLFNBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxLQUFBLEVBQUEsR0FBQSxFQUFBLEtBQUEsRUFBQSxHQUFBLElBNlZBLEdBQUEsR0FBQSxTQUFBLEVBQUEsRUFBQSxJQUNBLEdBQUEsS0FBQSxFQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsT0FBQSxLQUFBLEtBMENBLEdBQUEsR0FBQSxTQUFBLEVBQUEsRUFBQSxHQUNBLEVBQUEsR0FBQSxJQXlRQSxHQUFBLEdBd1pBLEdBQUEsR0FrMkRBLEdBQUEsR0FBQSxHQUFBLEdBQUEsTUFBQSxJQUFBLFdBQ0EsT0FBQSxHQUFBLEtBQUEsV0FzQkEsR0FBQSxHQUFBLEdBQUEsRUFBQSxNQUFBLEdBQUEsU0FBQSxFQUFBLEdBRUEsTUFBQSxJQUFBLEdBQUEsR0FBQSxFQUFBLFFBQUEsRUFBQSxJQUFBLEVBQUEsR0FBQSxHQTB2QkEsT0E3UEEsR0FBQSxNQUFBLEdBQ0EsRUFBQSxPQUFBLEdBQ0EsRUFBQSxHQUFBLEdBQ0EsRUFBQSxLQUFBLEdBQ0EsRUFBQSxRQUFBLEdBQ0EsRUFBQSxRQUFBLEdBQ0EsRUFBQSxNQUFBLEdBQ0EsRUFBQSxRQUFBLEdBQ0EsRUFBQSxRQUFBLEdBQ0EsRUFBQSxTQUFBLEdBQ0EsRUFBQSxRQUFBLEdBQ0EsRUFBQSxPQUFBLEdBQ0EsRUFBQSxlQUFBLEdBQ0EsRUFBQSxNQUFBLEdBQ0EsRUFBQSxTQUFBLEdBQ0EsRUFBQSxTQUFBLEdBQ0EsRUFBQSxNQUFBLEdBQ0EsRUFBQSxNQUFBLEdBQ0EsRUFBQSxXQUFBLEdBQ0EsRUFBQSxPQUFBLEdBQ0EsRUFBQSxRQUFBLEdBQ0EsRUFBQSxRQUFBLEdBQ0EsRUFBQSxhQUFBLEdBQ0EsRUFBQSxNQUFBLEdBQ0EsRUFBQSxXQUFBLEdBQ0EsRUFBQSxPQUFBLEdBQ0EsRUFBQSxZQUFBLEdBQ0EsRUFBQSxVQUFBLEdBQ0EsRUFBQSxRQUFBLEdBQ0EsRUFBQSxRQUFBLEdBQ0EsRUFBQSxRQUFBLEdBQ0EsRUFBQSxhQUFBLEdBQ0EsRUFBQSxPQUFBLEdBQ0EsRUFBQSxPQUFBLEdBQ0EsRUFBQSxLQUFBLEdBQ0EsRUFBQSxJQUFBLEdBQ0EsRUFBQSxVQUFBLEdBQ0EsRUFBQSxJQUFBLEdBQ0EsRUFBQSxRQUFBLEdBQ0EsRUFBQSxNQUFBLEdBQ0EsRUFBQSxJQUFBLEdBQ0EsRUFBQSxLQUFBLEdBQ0EsRUFBQSxLQUFBLEdBQ0EsRUFBQSxNQUFBLEdBQ0EsRUFBQSxRQUFBLEdBQ0EsRUFBQSxhQUFBLEdBQ0EsRUFBQSxLQUFBLEdBQ0EsRUFBQSxNQUFBLEdBQ0EsRUFBQSxTQUFBLEdBQ0EsRUFBQSxLQUFBLEdBQ0EsRUFBQSxNQUFBLEdBQ0EsRUFBQSxPQUFBLEdBQ0EsRUFBQSxPQUFBLEdBQ0EsRUFBQSxLQUFBLEdBQ0EsRUFBQSxRQUFBLEdBQ0EsRUFBQSxPQUFBLEdBQ0EsRUFBQSxJQUFBLEdBQ0EsRUFBQSxTQUFBLEdBQ0EsRUFBQSxNQUFBLEdBQ0EsRUFBQSxRQUFBLEdBQ0EsRUFBQSxVQUFBLEdBQ0EsRUFBQSxNQUFBLEdBQ0EsRUFBQSxLQUFBLEdBQ0EsRUFBQSxPQUFBLEdBQ0EsRUFBQSxNQUFBLEdBQ0EsRUFBQSxRQUFBLEdBQ0EsRUFBQSxLQUFBLEdBQ0EsRUFBQSxJQUFBLEdBQ0EsRUFBQSxJQUFBLEdBQ0EsRUFBQSxVQUFBLEdBR0EsRUFBQSxRQUFBLEdBQ0EsRUFBQSxLQUFBLEdBQ0EsRUFBQSxLQUFBLEdBQ0EsRUFBQSxVQUFBLEdBQ0EsRUFBQSxPQUFBLEdBQ0EsRUFBQSxRQUFBLEdBQ0EsRUFBQSxPQUFBLEdBQ0EsRUFBQSxPQUFBLEdBQ0EsRUFBQSxLQUFBLEdBQ0EsRUFBQSxPQUFBLEdBQ0EsRUFBQSxNQUFBLEdBR0EsR0FBQSxHQUtBLEVBQUEsTUFBQSxHQUNBLEVBQUEsVUFBQSxHQUNBLEVBQUEsU0FBQSxHQUNBLEVBQUEsT0FBQSxHQUNBLEVBQUEsTUFBQSxHQUNBLEVBQUEsS0FBQSxHQUNBLEVBQUEsVUFBQSxHQUNBLEVBQUEsUUFBQSxHQUNBLEVBQUEsU0FBQSxHQUNBLEVBQUEsY0FBQSxHQUNBLEVBQUEsWUFBQSxHQUNBLEVBQUEsSUFBQSxHQUNBLEVBQUEsU0FBQSxHQUNBLEVBQUEsUUFBQSxHQUNBLEVBQUEsWUFBQSxHQUNBLEVBQUEsUUFBQSxHQUNBLEVBQUEsVUFBQSxHQUNBLEVBQUEsT0FBQSxHQUNBLEVBQUEsVUFBQSxHQUNBLEVBQUEsUUFBQSxHQUNBLEVBQUEsUUFBQSxHQUNBLEVBQUEsU0FBQSxHQUNBLEVBQUEsV0FBQSxHQUNBLEVBQUEsTUFBQSxHQUNBLEVBQUEsT0FBQSxHQUNBLEVBQUEsU0FBQSxHQUNBLEVBQUEsU0FBQSxHQUNBLEVBQUEsY0FBQSxHQUNBLEVBQUEsU0FBQSxHQUNBLEVBQUEsU0FBQSxHQUNBLEVBQUEsWUFBQSxHQUNBLEVBQUEsWUFBQSxHQUNBLEVBQUEsTUFBQSxHQUNBLEVBQUEsV0FBQSxHQUNBLEVBQUEsS0FBQSxHQUNBLEVBQUEsSUFBQSxHQUNBLEVBQUEsU0FBQSxHQUNBLEVBQUEsT0FBQSxHQUNBLEVBQUEsT0FBQSxHQUNBLEVBQUEsWUFBQSxHQUNBLEVBQUEsT0FBQSxHQUNBLEVBQUEsYUFBQSxFQUNBLEVBQUEsS0FBQSxHQUNBLEVBQUEsS0FBQSxHQUNBLEVBQUEsWUFBQSxHQUNBLEVBQUEsU0FBQSxHQUNBLEVBQUEsU0FBQSxHQUNBLEVBQUEsU0FBQSxHQUdBLEVBQUEsSUFBQSxHQUNBLEVBQUEsSUFBQSxHQUNBLEVBQUEsT0FBQSxHQUNBLEVBQUEsVUFBQSxHQUNBLEVBQUEsTUFBQSxHQUNBLEVBQUEsTUFBQSxHQUNBLEVBQUEsUUFBQSxHQUNBLEVBQUEsT0FBQSxHQUVBLEdBQUEsV0FDQSxHQUFBLEtBTUEsT0FMQSxJQUFBLEVBQUEsU0FBQSxFQUFBLEdBQ0EsRUFBQSxVQUFBLEtBQ0EsRUFBQSxHQUFBLEtBR0EsTUFDQSxHQUtBLEVBQUEsTUFBQSxHQUNBLEVBQUEsS0FBQSxHQUNBLEVBQUEsT0FBQSxHQUdBLEVBQUEsS0FBQSxHQUNBLEVBQUEsS0FBQSxHQUVBLEdBQUEsRUFBQSxTQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsV0FBQSxDQUNBLEdBQUEsVUFBQSxLQUNBLEVBQUEsVUFBQSxHQUFBLFNBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxLQUFBLFVBQ0EsRUFBQSxFQUFBLEtBQUEsWUFBQSxFQUFBLEVBRUEsT0FBQSxJQUFBLE1BQUEsS0FBQSxHQUFBLEdBQUEsa0JBQUEsSUFFQSxHQUFBLEdBQUEsRUFBQSxHQURBLE1BZUEsRUFBQSxRQUFBLFFBR0EsRUFBQSxVQUFBLE1BQUEsR0FDQSxFQUFBLFVBQUEsU0FBQSxHQUNBLEVBQUEsVUFBQSxNQUFBLEdBQ0EsRUFBQSxVQUFBLFFBQUEsR0FHQSxJQUFBLE9BQUEsTUFBQSxTQUFBLFNBQUEsR0FDQSxHQUFBLEdBQUEsR0FBQSxFQUNBLEdBQUEsVUFBQSxHQUFBLFdBQ0EsR0FBQSxHQUFBLEtBQUEsVUFDQSxFQUFBLEVBQUEsTUFBQSxLQUFBLFlBQUEsVUFFQSxPQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsR0FDQSxLQUtBLElBQUEsT0FBQSxVQUFBLE9BQUEsV0FBQSxTQUFBLEdBQ0EsR0FBQSxHQUFBLEdBQUEsRUFDQSxHQUFBLFVBQUEsR0FBQSxXQUVBLE1BREEsR0FBQSxNQUFBLEtBQUEsWUFBQSxXQUNBLFFBS0EsSUFBQSxTQUFBLFFBQUEsVUFBQSxTQUFBLEdBQ0EsR0FBQSxHQUFBLEdBQUEsRUFDQSxHQUFBLFVBQUEsR0FBQSxXQUNBLE1BQUEsSUFBQSxHQUFBLEVBQUEsTUFBQSxLQUFBLFlBQUEsV0FBQSxLQUFBO0lBTUEsR0FBQSxlQUNBLElBQUEsTUFBQSxRQUFBLFVBQUEsU0FBQSxHQUNBLEdBQUEsR0FBQSxHQUFBLEdBQ0EsRUFBQSxVQUFBLENBRUEsR0FBQSxVQUFBLEdBQUEsV0FDQSxHQUFBLEdBQUEsS0FBQSxVQUNBLEVBQUEsS0FBQSxZQUNBLEVBQUEsRUFBQSxNQUFBLEVBQUEsVUFLQSxPQUhBLEtBQUEsRUFBQSxjQUNBLEdBQUEsR0FFQSxHQUFBLEVBQ0EsR0FBQSxHQUFBLEVBQUEsR0FDQSxLQUtBLEVBcjhOQSxHQUFBLEdBR0EsS0FDQSxLQUdBLEVBQUEsRUFHQSxLQUdBLEdBQUEsR0FBQSxNQUFBLEdBR0EsRUFBQSxHQUdBLEVBQUEsR0FHQSxFQUFBLDBDQVlBLEVBQUEsaUJBQ0EsRUFBQSxxQkFDQSxFQUFBLGdDQU1BLEVBQUEsa0NBR0EsRUFBQSxPQUdBLEVBQUEsMkJBR0EsRUFBQSxtQkFHQSxFQUFBLE9BQUEsS0FBQSxFQUFBLGNBR0EsRUFBQSxPQUdBLEVBQUEsV0FHQSxFQUFBLDJCQUdBLEdBQ0EsUUFBQSxVQUFBLE9BQUEsUUFBQSxXQUFBLE9BQUEsU0FBQSxTQUNBLFNBQUEsU0FBQSxJQUFBLGNBQUEsZUFBQSxXQUFBLFFBQ0EsV0FBQSxjQUlBLEdBQ0EsY0FBQSxpQkFBQSxnQkFBQSx1QkFDQSxpQkFBQSxXQUFBLFdBSUEsRUFBQSxFQUdBLEVBQUEscUJBQ0EsRUFBQSxpQkFDQSxFQUFBLG1CQUNBLEVBQUEsZ0JBQ0EsRUFBQSxpQkFDQSxFQUFBLG9CQUNBLEVBQUEsa0JBQ0EsRUFBQSxrQkFDQSxFQUFBLGtCQUNBLEVBQUEsa0JBR0EsSUFDQSxHQUFBLElBQUEsRUFDQSxFQUFBLEdBQUEsRUFBQSxHQUNBLEVBQUEsR0FBQSxFQUFBLEdBQ0EsRUFBQSxHQUFBLEVBQUEsR0FDQSxFQUFBLEdBQUEsRUFBQSxJQUFBLENBR0EsSUFBQSxJQUNBLFNBQUEsRUFDQSxRQUFBLEVBQ0EsVUFBQSxHQUlBLEdBQ0EsY0FBQSxFQUNBLFlBQUEsRUFDQSxNQUFBLEtBQ0EsVUFBQSxHQUlBLEdBQ0EsS0FBQSxHQUNBLE1BQUEsS0FDQSxPQUFBLEdBQ0EsU0FBQSxHQUNBLEtBQUEsR0FDQSxLQUFBLEtBQ0EsS0FBQSxHQUNBLGNBQUEsS0FDQSxRQUFBLEtBQ0EsSUFBQSxHQUNBLFFBQUEsR0FJQSxHQUNBLFdBQUEsRUFDQSxZQUFBLEVBQ0EsUUFBQSxFQUNBLFFBQUEsRUFDQSxRQUFBLEVBQ0EsV0FBQSxHQUlBLEdBQ0EsS0FBQSxLQUNBLElBQUEsSUFDQSxLQUFBLElBQ0EsS0FBQSxJQUNBLElBQUEsSUFDQSxTQUFBLFFBQ0EsU0FBQSxTQUlBLEdBQUEsUUFBQSxVQUFBLFFBQUEsS0FHQSxHQUFBLFFBQUEsV0FBQSxVQUFBLFFBQUEsVUFBQSxRQUdBLEdBQUEsUUFBQSxVQUFBLFNBQUEsT0FBQSxVQUFBLE9BR0EsR0FBQSxJQUFBLEdBQUEsVUFBQSxJQUFBLEdBR0EsR0FBQSxRQUFBLFVBQUEsUUFDQSxJQUFBLEdBQUEsU0FBQSxJQUFBLEdBQUEsU0FBQSxLQUNBLEdBQUEsR0FveU5BLElBQUEsSUFBQSxHQUdBLG1CQUFBLFNBQUEsZ0JBQUEsUUFBQSxLQUFBLE9BQUEsS0FJQSxHQUFBLEVBQUEsR0FJQSxPQUFBLFdBQ0EsTUFBQSxPQUlBLElBQUEsR0FFQSxJQUNBLEdBQUEsUUFBQSxJQUFBLEVBQUEsR0FJQSxHQUFBLEVBQUEsR0FLQSxHQUFBLEVBQUEsSUFFQSxLQUFBLE1DMytOQSxTQUFBLEdBQ0Esa0JBQUEsU0FBQSxPQUFBLElBR0EsUUFBQSxVQUFBLEdBSUEsRUFBQSxTQUVBLFNBQUEsR0FtRUEsUUFBQSxHQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxFQUNBLEVBQUEsRUFBQSxTQUFBLGFBQ0EsT0FBQSxTQUFBLEdBQ0EsRUFBQSxFQUFBLFdBQ0EsRUFBQSxFQUFBLEtBQ0EsRUFBQSxNQUFBLEdBQUEsUUFBQSxFQUFBLFNBQUEsZUFHQSxFQUFBLEVBQUEsZ0JBQUEsRUFBQSxNQUFBLEtBQ0EsR0FBQSxFQUFBLEtBSEEsSUFLQSwwQ0FBQSxLQUFBLElBQ0EsRUFBQSxTQUNBLE1BQUEsRUFDQSxFQUFBLE1BQUEsRUFDQSxJQUVBLEVBQUEsR0FHQSxRQUFBLEdBQUEsR0FDQSxNQUFBLEdBQUEsS0FBQSxRQUFBLFFBQUEsS0FDQSxFQUFBLEdBQUEsVUFBQSxVQUFBLE9BQUEsV0FDQSxNQUFBLFdBQUEsRUFBQSxJQUFBLEtBQUEsZ0JBQ0EsT0F6RkEsRUFBQSxHQUFBLEVBQUEsT0FFQSxFQUFBLE9BQUEsRUFBQSxJQUNBLFFBQUEsU0FFQSxTQUNBLFVBQUEsRUFDQSxNQUFBLElBQ0EsT0FBQSxHQUNBLEtBQUEsR0FDQSxJQUFBLEdBQ0EsTUFBQSxHQUNBLE9BQUEsR0FDQSxLQUFBLEdBQ0EsS0FBQSxHQUNBLFVBQUEsR0FDQSxRQUFBLEdBQ0EsT0FBQSxJQUNBLE1BQUEsR0FDQSxNQUFBLEdBQ0EsSUFBQSxFQUNBLEdBQUEsTUFLQSxFQUFBLEdBQUEsUUFDQSxhQUFBLFNBQUEsR0FDQSxHQUFBLEdBQUEsS0FBQSxJQUFBLFlBQ0EsRUFBQSxhQUFBLEVBQ0EsRUFBQSxFQUFBLHVCQUFBLGdCQUNBLEVBQUEsS0FBQSxVQUFBLE9BQUEsV0FDQSxHQUFBLEdBQUEsRUFBQSxLQUNBLE9BQUEsSUFBQSxXQUFBLEVBQUEsSUFBQSxhQUNBLEVBRUEsRUFBQSxLQUFBLEVBQUEsSUFBQSxZQUFBLEVBQUEsSUFBQSxjQUFBLEVBQUEsSUFBQSxpQkFDQSxHQUFBLEVBRUEsT0FBQSxVQUFBLEdBQUEsRUFBQSxPQUFBLEVBQUEsRUFBQSxLQUFBLEdBQUEsZUFBQSxXQUdBLFNBQUEsV0FDQSxHQUFBLEdBQUEsQ0FFQSxPQUFBLFlBQ0EsTUFBQSxNQUFBLEtBQUEsV0FDQSxLQUFBLEtBQ0EsS0FBQSxHQUFBLFlBQUEsU0FNQSxlQUFBLFdBQ0EsTUFBQSxNQUFBLEtBQUEsV0FDQSxjQUFBLEtBQUEsS0FBQSxLQUNBLEVBQUEsTUFBQSxXQUFBLFdBbUNBLEVBQUEsT0FBQSxFQUFBLEtBQUEsTUFDQSxLQUFBLEVBQUEsS0FBQSxhQUNBLEVBQUEsS0FBQSxhQUFBLFNBQUEsR0FDQSxNQUFBLFVBQUEsR0FDQSxRQUFBLEVBQUEsS0FBQSxFQUFBLE1BSUEsU0FBQSxFQUFBLEVBQUEsR0FDQSxRQUFBLEVBQUEsS0FBQSxFQUFBLEVBQUEsS0FHQSxVQUFBLFNBQUEsR0FDQSxNQUFBLEdBQUEsR0FBQSxNQUFBLEVBQUEsS0FBQSxFQUFBLGVBR0EsU0FBQSxTQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsS0FBQSxFQUFBLFlBQ0EsRUFBQSxNQUFBLEVBQ0EsUUFBQSxHQUFBLEdBQUEsSUFBQSxFQUFBLEdBQUEsTUFLQSxFQUFBLE9BQUEsV0FBQSxHQUFBLFFBQ0EsRUFBQSxNQUFBLFFBQUEsVUFBQSxTQUFBLEVBQUEsR0FVQSxRQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsR0FVQSxNQVRBLEdBQUEsS0FBQSxFQUFBLFdBQ0EsR0FBQSxXQUFBLEVBQUEsSUFBQSxFQUFBLFVBQUEsUUFBQSxFQUNBLElBQ0EsR0FBQSxXQUFBLEVBQUEsSUFBQSxFQUFBLFNBQUEsS0FBQSxXQUFBLEdBRUEsSUFDQSxHQUFBLFdBQUEsRUFBQSxJQUFBLEVBQUEsU0FBQSxRQUFBLEtBR0EsRUFuQkEsR0FBQSxHQUFBLFVBQUEsR0FBQSxPQUFBLFVBQUEsTUFBQSxVQUNBLEVBQUEsRUFBQSxjQUNBLEdBQ0EsV0FBQSxFQUFBLEdBQUEsV0FDQSxZQUFBLEVBQUEsR0FBQSxZQUNBLFdBQUEsRUFBQSxHQUFBLFdBQ0EsWUFBQSxFQUFBLEdBQUEsWUFnQkEsR0FBQSxHQUFBLFFBQUEsR0FBQSxTQUFBLEdBQ0EsTUFBQSxVQUFBLEVBQ0EsRUFBQSxRQUFBLEdBQUEsS0FBQSxNQUdBLEtBQUEsS0FBQSxXQUNBLEVBQUEsTUFBQSxJQUFBLEVBQUEsRUFBQSxLQUFBLEdBQUEsU0FJQSxFQUFBLEdBQUEsUUFBQSxHQUFBLFNBQUEsRUFBQSxHQUNBLE1BQUEsZ0JBQUEsR0FDQSxFQUFBLFFBQUEsR0FBQSxLQUFBLEtBQUEsR0FHQSxLQUFBLEtBQUEsV0FDQSxFQUFBLE1BQUEsSUFBQSxFQUFBLEVBQUEsS0FBQSxHQUFBLEVBQUEsR0FBQSxXQU9BLEVBQUEsR0FBQSxVQUNBLEVBQUEsR0FBQSxRQUFBLFNBQUEsR0FDQSxNQUFBLE1BQUEsSUFBQSxNQUFBLEVBQ0EsS0FBQSxXQUFBLEtBQUEsV0FBQSxPQUFBLE1BTUEsRUFBQSxPQUFBLEtBQUEsTUFBQSxLQUFBLFdBQUEsT0FBQSxLQUFBLFNBQ0EsRUFBQSxHQUFBLFdBQUEsU0FBQSxHQUNBLE1BQUEsVUFBQSxHQUNBLE1BQUEsV0FBQSxPQUNBLEVBQUEsS0FBQSxLQUFBLEVBQUEsVUFBQSxJQUVBLEVBQUEsS0FBQSxRQUdBLEVBQUEsR0FBQSxhQUlBLEVBQUEsR0FBQSxLQUFBLGNBQUEsS0FBQSxVQUFBLFVBQUEsZUFFQSxFQUFBLEdBQUEsUUFDQSxNQUFBLFNBQUEsR0FDQSxNQUFBLFVBQUEsRUFBQSxHQUNBLE1BQUEsZ0JBQUEsR0FDQSxLQUFBLEtBQUEsV0FDQSxHQUFBLEdBQUEsSUFDQSxZQUFBLFdBQ0EsRUFBQSxHQUFBLFFBQ0EsR0FDQSxFQUFBLEtBQUEsSUFFQSxLQUVBLEVBQUEsTUFBQSxLQUFBLGFBRUEsRUFBQSxHQUFBLE9BRUEsaUJBQUEsV0FDQSxHQUFBLEdBQUEsaUJBQUEsVUFBQSxjQUFBLE9BQ0EsY0FDQSxXQUVBLE9BQUEsWUFDQSxNQUFBLE1BQUEsS0FBQSxFQUFBLHVCQUFBLFNBQUEsR0FDQSxFQUFBLHVCQUtBLGdCQUFBLFdBQ0EsTUFBQSxNQUFBLE9BQUEseUJBR0EsT0FBQSxTQUFBLEdBQ0EsR0FBQSxTQUFBLEVBQ0EsTUFBQSxNQUFBLElBQUEsU0FBQSxFQUdBLElBQUEsS0FBQSxPQUVBLElBREEsR0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEtBQUEsSUFDQSxFQUFBLFFBQUEsRUFBQSxLQUFBLFVBQUEsQ0FLQSxHQURBLEVBQUEsRUFBQSxJQUFBLGFBQ0EsYUFBQSxHQUFBLGFBQUEsR0FBQSxVQUFBLEtBS0EsRUFBQSxTQUFBLEVBQUEsSUFBQSxVQUFBLEtBQ0EsTUFBQSxJQUFBLElBQUEsR0FDQSxNQUFBLEVBR0EsR0FBQSxFQUFBLFNBSUEsTUFBQSxNQUtBLEVBQUEsR0FBQSxRQUNBLElBQUEsU0FBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEdBQ0EsRUFBQSxFQUFBLEdBQUEsR0FBQSxTQUNBLEtBQUEsSUFBQSxHQUNBLEVBQUEsUUFBQSxHQUFBLEVBQUEsUUFBQSxPQUNBLEVBQUEsUUFBQSxHQUFBLE1BQUEsRUFBQSxFQUFBLE1BR0EsS0FBQSxTQUFBLEVBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxHQUNBLEVBQUEsRUFBQSxRQUFBLEVBRUEsSUFBQSxJQUlBLEdBQUEsRUFBQSxRQUFBLEdBQUEsWUFBQSxLQUFBLEVBQUEsUUFBQSxHQUFBLFdBQUEsVUFJQSxJQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxJQUNBLEVBQUEsUUFBQSxFQUFBLEdBQUEsS0FDQSxFQUFBLEdBQUEsR0FBQSxNQUFBLEVBQUEsUUFBQSxPQy9SQSxTQUFBLEdBQ0Esa0JBQUEsU0FBQSxPQUFBLElBR0EsUUFBQSxVQUFBLEdBSUEsRUFBQSxTQUVBLFNBQUEsR0FFQSxHQUFBLEdBQUEsRUFDQSxFQUFBLE1BQUEsVUFBQSxLQW9oQkEsT0FsaEJBLEdBQUEsVUFBQSxTQUFBLEdBQ0EsTUFBQSxVQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsQ0FDQSxLQUFBLEVBQUEsRUFBQSxPQUFBLEVBQUEsRUFBQSxJQUFBLElBQ0EsSUFHQSxFQUFBLEVBQUEsTUFBQSxFQUFBLFVBQ0EsR0FBQSxFQUFBLFFBQ0EsRUFBQSxHQUFBLGVBQUEsVUFJQSxNQUFBLElBRUEsRUFBQSxLQUVBLEVBQUEsV0FFQSxFQUFBLE9BQUEsU0FBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBR0EsS0FDQSxFQUFBLEVBQUEsTUFBQSxLQUFBLEVBMkdBLE9BekdBLEdBQUEsRUFBQSxNQUFBLEtBQUEsR0FDQSxFQUFBLEVBQUEsSUFBQSxFQUVBLElBQ0EsRUFBQSxFQUNBLEVBQUEsRUFBQSxRQUlBLEVBQUEsS0FBQSxLQUFBLEVBQUEsZUFBQSxTQUFBLEdBQ0EsUUFBQSxFQUFBLEtBQUEsRUFBQSxJQUdBLEVBQUEsR0FBQSxFQUFBLE9BQ0EsRUFBQSxFQUFBLEdBQUEsR0FDQSxFQUFBLEVBQUEsR0FBQSxHQUFBLFNBQUEsRUFBQSxHQUVBLE1BQUEsTUFBQSxtQkFNQSxVQUFBLFFBQ0EsS0FBQSxjQUFBLEVBQUEsSUFOQSxHQUFBLEdBQUEsRUFBQSxJQVVBLEVBQUEsT0FBQSxFQUFBLEdBQ0EsUUFBQSxFQUFBLFFBR0EsT0FBQSxFQUFBLFVBQUEsR0FHQSx3QkFHQSxFQUFBLEdBQUEsR0FJQSxFQUFBLFFBQUEsRUFBQSxPQUFBLFVBQUEsRUFBQSxTQUNBLEVBQUEsS0FBQSxFQUFBLFNBQUEsRUFBQSxHQUNBLE1BQUEsR0FBQSxXQUFBLFFBSUEsRUFBQSxHQUFBLFdBQ0EsR0FBQSxHQUFBLFdBQ0EsTUFBQSxHQUFBLFVBQUEsR0FBQSxNQUFBLEtBQUEsWUFFQSxFQUFBLFNBQUEsR0FDQSxNQUFBLEdBQUEsVUFBQSxHQUFBLE1BQUEsS0FBQSxHQUVBLE9BQUEsWUFDQSxHQUVBLEdBRkEsRUFBQSxLQUFBLE9BQ0EsRUFBQSxLQUFBLFdBV0EsT0FSQSxNQUFBLE9BQUEsRUFDQSxLQUFBLFlBQUEsRUFFQSxFQUFBLEVBQUEsTUFBQSxLQUFBLFdBRUEsS0FBQSxPQUFBLEVBQ0EsS0FBQSxZQUFBLEVBRUEsWUF2QkEsRUFBQSxHQUFBLEtBMkJBLEVBQUEsVUFBQSxFQUFBLE9BQUEsT0FBQSxHQUlBLGtCQUFBLEVBQUEsRUFBQSxtQkFBQSxFQUFBLEdBQ0EsR0FDQSxZQUFBLEVBQ0EsVUFBQSxFQUNBLFdBQUEsRUFDQSxlQUFBLElBT0EsR0FDQSxFQUFBLEtBQUEsRUFBQSxtQkFBQSxTQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxTQUlBLEdBQUEsT0FBQSxFQUFBLFVBQUEsSUFBQSxFQUFBLFdBQUEsRUFBQSxFQUFBLGdCQUlBLEdBQUEsb0JBRUEsRUFBQSxtQkFBQSxLQUFBLEdBR0EsRUFBQSxPQUFBLE9BQUEsRUFBQSxHQUVBLEdBR0EsRUFBQSxPQUFBLE9BQUEsU0FBQSxHQU1BLElBTEEsR0FHQSxHQUNBLEVBSkEsRUFBQSxFQUFBLEtBQUEsVUFBQSxHQUNBLEVBQUEsRUFDQSxFQUFBLEVBQUEsT0FHQSxFQUFBLEVBQUEsSUFDQSxJQUFBLElBQUEsR0FBQSxHQUNBLEVBQUEsRUFBQSxHQUFBLEdBQ0EsRUFBQSxHQUFBLGVBQUEsSUFBQSxTQUFBLElBR0EsRUFBQSxHQURBLEVBQUEsY0FBQSxHQUNBLEVBQUEsY0FBQSxFQUFBLElBQ0EsRUFBQSxPQUFBLFVBQUEsRUFBQSxHQUFBLEdBRUEsRUFBQSxPQUFBLFVBQUEsR0FHQSxFQUtBLE9BQUEsSUFHQSxFQUFBLE9BQUEsT0FBQSxTQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxVQUFBLGdCQUFBLENBQ0EsR0FBQSxHQUFBLEdBQUEsU0FBQSxHQUNBLEdBQUEsR0FBQSxnQkFBQSxHQUNBLEVBQUEsRUFBQSxLQUFBLFVBQUEsR0FDQSxFQUFBLElBNkNBLE9BM0NBLEdBQ0EsS0FBQSxLQUFBLFdBQ0EsR0FBQSxHQUNBLEVBQUEsRUFBQSxLQUFBLEtBQUEsRUFDQSxPQUFBLGFBQUEsR0FDQSxFQUFBLEdBQ0EsR0FFQSxFQUlBLEVBQUEsV0FBQSxFQUFBLEtBQUEsTUFBQSxFQUFBLE9BQUEsSUFHQSxFQUFBLEVBQUEsR0FBQSxNQUFBLEVBQUEsR0FDQSxJQUFBLEdBQUEsU0FBQSxHQUNBLEVBQUEsR0FBQSxFQUFBLE9BQ0EsRUFBQSxVQUFBLEVBQUEsT0FDQSxHQUNBLEdBSkEsUUFIQSxFQUFBLE1BQUEsbUJBQUEsRUFBQSxTQUFBLEVBQUEsb0JBSkEsRUFBQSxNQUFBLDBCQUFBLEVBQUEsdURBQ0EsRUFBQSxRQWdCQSxFQUFBLFNBQ0EsRUFBQSxFQUFBLE9BQUEsT0FBQSxNQUFBLE1BQUEsR0FBQSxPQUFBLEtBR0EsS0FBQSxLQUFBLFdBQ0EsR0FBQSxHQUFBLEVBQUEsS0FBQSxLQUFBLEVBQ0EsSUFDQSxFQUFBLE9BQUEsT0FDQSxFQUFBLE9BQ0EsRUFBQSxTQUdBLEVBQUEsS0FBQSxLQUFBLEVBQUEsR0FBQSxHQUFBLEVBQUEsVUFLQSxJQUlBLEVBQUEsT0FBQSxhQUNBLEVBQUEsT0FBQSxzQkFFQSxFQUFBLE9BQUEsV0FDQSxXQUFBLFNBQ0Esa0JBQUEsR0FDQSxlQUFBLFFBQ0EsU0FDQSxVQUFBLEVBR0EsT0FBQSxNQUVBLGNBQUEsU0FBQSxFQUFBLEdBQ0EsRUFBQSxFQUFBLEdBQUEsS0FBQSxnQkFBQSxNQUFBLEdBQ0EsS0FBQSxRQUFBLEVBQUEsR0FDQSxLQUFBLEtBQUEsSUFDQSxLQUFBLGVBQUEsSUFBQSxLQUFBLFdBQUEsS0FBQSxLQUVBLEtBQUEsU0FBQSxJQUNBLEtBQUEsVUFBQSxJQUNBLEtBQUEsVUFBQSxJQUVBLElBQUEsT0FDQSxFQUFBLEtBQUEsRUFBQSxLQUFBLGVBQUEsTUFDQSxLQUFBLEtBQUEsRUFBQSxLQUFBLFNBQ0EsT0FBQSxTQUFBLEdBQ0EsRUFBQSxTQUFBLEdBQ0EsS0FBQSxhQUlBLEtBQUEsU0FBQSxFQUFBLEVBQUEsTUFFQSxFQUFBLGNBRUEsRUFBQSxVQUFBLEdBQ0EsS0FBQSxPQUFBLEVBQUEsS0FBQSxTQUFBLEdBQUEsYUFBQSxLQUFBLFNBQUEsR0FBQSxlQUdBLEtBQUEsUUFBQSxFQUFBLE9BQUEsVUFDQSxLQUFBLFFBQ0EsS0FBQSxvQkFDQSxHQUVBLEtBQUEsVUFDQSxLQUFBLFNBQUEsU0FBQSxLQUFBLEtBQUEsdUJBQ0EsS0FBQSxTQUVBLGtCQUFBLEVBQUEsS0FDQSxvQkFBQSxFQUFBLEtBQ0EsUUFBQSxFQUFBLEtBQ0EsTUFBQSxFQUFBLEtBRUEsUUFBQSxXQUNBLEtBQUEsV0FHQSxLQUFBLFFBQ0EsT0FBQSxLQUFBLGdCQUNBLFdBQUEsS0FBQSxnQkFHQSxXQUFBLEVBQUEsVUFBQSxLQUFBLGlCQUNBLEtBQUEsU0FDQSxPQUFBLEtBQUEsZ0JBQ0EsV0FBQSxpQkFDQSxZQUNBLEtBQUEsZUFBQSwrQkFJQSxLQUFBLFNBQUEsT0FBQSxLQUFBLGdCQUNBLEtBQUEsVUFBQSxZQUFBLGtCQUNBLEtBQUEsVUFBQSxZQUFBLG1CQUVBLFNBQUEsRUFBQSxLQUVBLE9BQUEsV0FDQSxNQUFBLE1BQUEsU0FHQSxPQUFBLFNBQUEsRUFBQSxHQUNBLEdBQ0EsR0FDQSxFQUNBLEVBSEEsRUFBQSxDQUtBLElBQUEsSUFBQSxVQUFBLE9BRUEsTUFBQSxHQUFBLE9BQUEsVUFBQSxLQUFBLFFBR0EsSUFBQSxnQkFBQSxHQUtBLEdBSEEsS0FDQSxFQUFBLEVBQUEsTUFBQSxLQUNBLEVBQUEsRUFBQSxRQUNBLEVBQUEsT0FBQSxDQUVBLElBREEsRUFBQSxFQUFBLEdBQUEsRUFBQSxPQUFBLFVBQUEsS0FBQSxRQUFBLElBQ0EsRUFBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLEVBQUEsSUFDQSxFQUFBLEVBQUEsSUFBQSxFQUFBLEVBQUEsUUFDQSxFQUFBLEVBQUEsRUFBQSxHQUdBLElBREEsRUFBQSxFQUFBLE1BQ0EsSUFBQSxVQUFBLE9BQ0EsTUFBQSxVQUFBLEVBQUEsR0FBQSxLQUFBLEVBQUEsRUFFQSxHQUFBLEdBQUEsTUFDQSxDQUNBLEdBQUEsSUFBQSxVQUFBLE9BQ0EsTUFBQSxVQUFBLEtBQUEsUUFBQSxHQUFBLEtBQUEsS0FBQSxRQUFBLEVBRUEsR0FBQSxHQUFBLEVBTUEsTUFGQSxNQUFBLFlBQUEsR0FFQSxNQUVBLFlBQUEsU0FBQSxHQUNBLEdBQUEsRUFFQSxLQUFBLElBQUEsR0FDQSxLQUFBLFdBQUEsRUFBQSxFQUFBLEdBR0EsT0FBQSxPQUVBLFdBQUEsU0FBQSxFQUFBLEdBY0EsTUFiQSxNQUFBLFFBQUEsR0FBQSxFQUVBLGFBQUEsSUFDQSxLQUFBLFNBQ0EsWUFBQSxLQUFBLGVBQUEsY0FBQSxHQUdBLElBQ0EsS0FBQSxVQUFBLFlBQUEsa0JBQ0EsS0FBQSxVQUFBLFlBQUEsb0JBSUEsTUFHQSxPQUFBLFdBQ0EsTUFBQSxNQUFBLGFBQUEsVUFBQSxLQUVBLFFBQUEsV0FDQSxNQUFBLE1BQUEsYUFBQSxVQUFBLEtBR0EsSUFBQSxTQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsR0FDQSxFQUFBLElBR0Esa0JBQUEsS0FDQSxFQUFBLEVBQ0EsRUFBQSxFQUNBLEdBQUEsR0FJQSxHQUtBLEVBQUEsRUFBQSxFQUFBLEdBQ0EsS0FBQSxTQUFBLEtBQUEsU0FBQSxJQUFBLEtBTEEsRUFBQSxFQUNBLEVBQUEsS0FBQSxRQUNBLEVBQUEsS0FBQSxVQU1BLEVBQUEsS0FBQSxFQUFBLFNBQUEsRUFBQSxHQUNBLFFBQUEsS0FJQSxNQUFBLElBQ0EsRUFBQSxRQUFBLFlBQUEsSUFDQSxFQUFBLE1BQUEsU0FBQSxzQkFHQSxnQkFBQSxHQUFBLEVBQUEsR0FBQSxHQUNBLE1BQUEsRUFBQSxXQU5BLE9BVUEsZ0JBQUEsS0FDQSxFQUFBLEtBQUEsRUFBQSxLQUNBLEVBQUEsTUFBQSxFQUFBLE1BQUEsRUFBQSxPQUdBLElBQUEsR0FBQSxFQUFBLE1BQUEsc0JBQ0EsRUFBQSxFQUFBLEdBQUEsRUFBQSxlQUNBLEVBQUEsRUFBQSxFQUNBLEdBQ0EsRUFBQSxTQUFBLEVBQUEsRUFBQSxHQUVBLEVBQUEsS0FBQSxFQUFBLE1BS0EsS0FBQSxTQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsSUFBQSxNQUFBLEtBQUEsS0FBQSxLQUFBLGVBQUEsS0FDQSxLQUFBLGVBQ0EsRUFBQSxPQUFBLEdBQUEsV0FBQSxHQUdBLEtBQUEsU0FBQSxFQUFBLEtBQUEsU0FBQSxJQUFBLEdBQUEsT0FDQSxLQUFBLFVBQUEsRUFBQSxLQUFBLFVBQUEsSUFBQSxHQUFBLE9BQ0EsS0FBQSxVQUFBLEVBQUEsS0FBQSxVQUFBLElBQUEsR0FBQSxRQUdBLE9BQUEsU0FBQSxFQUFBLEdBQ0EsUUFBQSxLQUNBLE9BQUEsZ0JBQUEsR0FBQSxFQUFBLEdBQUEsR0FDQSxNQUFBLEVBQUEsV0FFQSxHQUFBLEdBQUEsSUFDQSxPQUFBLFlBQUEsRUFBQSxHQUFBLElBR0EsV0FBQSxTQUFBLEdBQ0EsS0FBQSxVQUFBLEtBQUEsVUFBQSxJQUFBLEdBQ0EsS0FBQSxJQUFBLEdBQ0EsV0FBQSxTQUFBLEdBQ0EsRUFBQSxFQUFBLGVBQUEsU0FBQSxtQkFFQSxXQUFBLFNBQUEsR0FDQSxFQUFBLEVBQUEsZUFBQSxZQUFBLHNCQUtBLFdBQUEsU0FBQSxHQUNBLEtBQUEsVUFBQSxLQUFBLFVBQUEsSUFBQSxHQUNBLEtBQUEsSUFBQSxHQUNBLFFBQUEsU0FBQSxHQUNBLEVBQUEsRUFBQSxlQUFBLFNBQUEsbUJBRUEsU0FBQSxTQUFBLEdBQ0EsRUFBQSxFQUFBLGVBQUEsWUFBQSxzQkFLQSxTQUFBLFNBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQ0EsRUFBQSxLQUFBLFFBQUEsRUFhQSxJQVhBLEVBQUEsTUFDQSxFQUFBLEVBQUEsTUFBQSxHQUNBLEVBQUEsTUFBQSxJQUFBLEtBQUEsa0JBQ0EsRUFDQSxLQUFBLGtCQUFBLEdBQUEsY0FHQSxFQUFBLE9BQUEsS0FBQSxRQUFBLEdBR0EsRUFBQSxFQUFBLGNBRUEsSUFBQSxJQUFBLEdBQ0EsSUFBQSxLQUNBLEVBQUEsR0FBQSxFQUFBLEdBTUEsT0FEQSxNQUFBLFFBQUEsUUFBQSxFQUFBLEtBQ0EsRUFBQSxXQUFBLElBQ0EsRUFBQSxNQUFBLEtBQUEsUUFBQSxJQUFBLEdBQUEsT0FBQSxPQUFBLEdBQ0EsRUFBQSx3QkFJQSxFQUFBLE1BQUEsS0FBQSxTQUFBLEtBQUEsV0FBQSxTQUFBLEVBQUEsR0FDQSxFQUFBLE9BQUEsVUFBQSxJQUFBLEdBQUEsU0FBQSxFQUFBLEVBQUEsR0FDQSxnQkFBQSxLQUNBLEdBQUEsT0FBQSxHQUVBLElBQUEsR0FDQSxFQUFBLEVBRUEsS0FBQSxHQUFBLGdCQUFBLEdBQ0EsRUFDQSxFQUFBLFFBQUEsRUFIQSxDQUlBLEdBQUEsTUFDQSxnQkFBQSxLQUNBLEdBQUEsU0FBQSxJQUVBLEdBQUEsRUFBQSxjQUFBLEdBQ0EsRUFBQSxTQUFBLEVBQ0EsRUFBQSxPQUNBLEVBQUEsTUFBQSxFQUFBLE9BRUEsR0FBQSxFQUFBLFNBQUEsRUFBQSxRQUFBLE9BQUEsR0FDQSxFQUFBLEdBQUEsR0FDQSxJQUFBLEdBQUEsRUFBQSxHQUNBLEVBQUEsR0FBQSxFQUFBLFNBQUEsRUFBQSxPQUFBLEdBRUEsRUFBQSxNQUFBLFNBQUEsR0FDQSxFQUFBLE1BQUEsS0FDQSxHQUNBLEVBQUEsS0FBQSxFQUFBLElBRUEsU0FNQSxFQUFBLFNDamlCQSxTQUFBLEdBQ0Esa0JBQUEsU0FBQSxPQUFBLElBR0EsUUFDQSxTQUNBLFlBQ0EsR0FJQSxFQUFBLFNBRUEsU0FBQSxHQUVBLEdBQUEsSUFBQSxDQUtBLE9BSkEsR0FBQSxVQUFBLFFBQUEsV0FDQSxHQUFBLElBR0EsRUFBQSxPQUFBLFlBQ0EsUUFBQSxTQUNBLFNBQ0EsT0FBQSxzQ0FDQSxTQUFBLEVBQ0EsTUFBQSxHQUVBLFdBQUEsV0FDQSxHQUFBLEdBQUEsSUFFQSxNQUFBLFFBQ0EsS0FBQSxhQUFBLEtBQUEsV0FBQSxTQUFBLEdBQ0EsTUFBQSxHQUFBLFdBQUEsS0FFQSxLQUFBLFNBQUEsS0FBQSxXQUFBLFNBQUEsR0FDQSxPQUFBLElBQUEsRUFBQSxLQUFBLEVBQUEsT0FBQSxFQUFBLFdBQUEsdUJBQ0EsRUFBQSxXQUFBLEVBQUEsT0FBQSxFQUFBLFdBQUEsc0JBQ0EsRUFBQSw0QkFDQSxHQUhBLFNBT0EsS0FBQSxTQUFBLEdBS0EsY0FBQSxXQUNBLEtBQUEsUUFBQSxPQUFBLElBQUEsS0FBQSxZQUNBLEtBQUEsb0JBQ0EsS0FBQSxTQUNBLE9BQUEsYUFBQSxLQUFBLFdBQUEsS0FBQSxvQkFDQSxPQUFBLFdBQUEsS0FBQSxXQUFBLEtBQUEsbUJBSUEsV0FBQSxTQUFBLEdBRUEsSUFBQSxFQUFBLENBSUEsS0FBQSxhQUFBLEVBR0EsS0FBQSxlQUFBLEtBQUEsU0FBQSxHQUVBLEtBQUEsZ0JBQUEsQ0FFQSxJQUFBLEdBQUEsS0FDQSxFQUFBLElBQUEsRUFBQSxNQUdBLEVBQUEsZ0JBQUEsTUFBQSxRQUFBLFFBQUEsRUFBQSxPQUFBLFNBQUEsRUFBQSxFQUFBLFFBQUEsUUFBQSxLQUFBLFFBQUEsUUFBQSxRQUFBLENBQ0EsT0FBQSxLQUFBLEdBQUEsS0FBQSxjQUFBLElBSUEsS0FBQSxlQUFBLEtBQUEsUUFBQSxNQUNBLEtBQUEsZ0JBQ0EsS0FBQSxpQkFBQSxXQUFBLFdBQ0EsRUFBQSxlQUFBLEdBQ0EsS0FBQSxRQUFBLFFBR0EsS0FBQSxrQkFBQSxJQUFBLEtBQUEsZUFBQSxLQUNBLEtBQUEsY0FBQSxLQUFBLFlBQUEsTUFBQSxHQUNBLEtBQUEsZ0JBQ0EsRUFBQSxrQkFDQSxLQUtBLElBQUEsRUFBQSxLQUFBLEVBQUEsT0FBQSxLQUFBLFdBQUEsdUJBQ0EsRUFBQSxXQUFBLEVBQUEsT0FBQSxLQUFBLFdBQUEsc0JBSUEsS0FBQSxtQkFBQSxTQUFBLEdBQ0EsTUFBQSxHQUFBLFdBQUEsSUFFQSxLQUFBLGlCQUFBLFNBQUEsR0FDQSxNQUFBLEdBQUEsU0FBQSxJQUdBLEtBQUEsU0FDQSxLQUFBLGFBQUEsS0FBQSxXQUFBLEtBQUEsb0JBQ0EsS0FBQSxXQUFBLEtBQUEsV0FBQSxLQUFBLGtCQUVBLEVBQUEsaUJBRUEsR0FBQSxHQUNBLEtBdENBLElBeUNBLFdBQUEsU0FBQSxHQUtBLEdBQUEsS0FBQSxZQUFBLENBRUEsR0FBQSxFQUFBLEdBQUEsTUFBQSxTQUFBLGNBQUEsU0FBQSxhQUFBLEtBQUEsRUFBQSxPQUNBLE1BQUEsTUFBQSxTQUFBLEVBR0EsS0FBQSxFQUFBLE1BQ0EsTUFBQSxNQUFBLFNBQUEsR0FRQSxPQUpBLEVBQUEsT0FBQSxFQUFBLFVBQ0EsS0FBQSxhQUFBLEdBR0EsS0FBQSxlQUNBLEtBQUEsV0FBQSxHQUNBLEVBQUEsbUJBR0EsS0FBQSxrQkFBQSxJQUFBLEtBQUEsZUFBQSxLQUNBLEtBQUEsY0FDQSxLQUFBLFlBQUEsS0FBQSxnQkFBQSxNQUFBLEVBQ0EsS0FBQSxjQUFBLEtBQUEsV0FBQSxHQUFBLEtBQUEsU0FBQSxLQUdBLEtBQUEsZ0JBR0EsU0FBQSxTQUFBLEdBZ0JBLE1BZkEsTUFBQSxTQUNBLE9BQUEsYUFBQSxLQUFBLFdBQUEsS0FBQSxvQkFDQSxPQUFBLFdBQUEsS0FBQSxXQUFBLEtBQUEsa0JBRUEsS0FBQSxnQkFDQSxLQUFBLGVBQUEsRUFFQSxFQUFBLFNBQUEsS0FBQSxnQkFBQSxRQUNBLEVBQUEsS0FBQSxFQUFBLE9BQUEsS0FBQSxXQUFBLHNCQUFBLEdBR0EsS0FBQSxXQUFBLElBR0EsR0FBQSxHQUNBLEdBR0Esa0JBQUEsU0FBQSxHQUNBLE1BQUEsTUFBQSxJQUNBLEtBQUEsSUFBQSxLQUFBLGdCQUFBLE1BQUEsRUFBQSxPQUNBLEtBQUEsSUFBQSxLQUFBLGdCQUFBLE1BQUEsRUFBQSxTQUNBLEtBQUEsUUFBQSxVQUlBLGVBQUEsV0FDQSxNQUFBLE1BQUEsZUFJQSxZQUFBLGFBQ0EsV0FBQSxhQUNBLFdBQUEsYUFDQSxjQUFBLFdBQUEsT0FBQSxPQ3pMQSxTQUFBLEdBQ0Esa0JBQUEsU0FBQSxPQUFBLElBR0EsUUFDQSxTQUNBLFNBQ0EsVUFDQSxZQUNBLEdBSUEsRUFBQSxTQUVBLFNBQUEsR0FFQSxNQUFBLEdBQUEsT0FBQSxjQUFBLEVBQUEsR0FBQSxPQUNBLFFBQUEsU0FDQSxrQkFBQSxPQUNBLE9BQUEsRUFDQSxTQUNBLFNBQUEsU0FDQSxNQUFBLEVBQ0EsYUFBQSxFQUNBLGFBQUEsRUFDQSxPQUFBLE9BQ0EsVUFBQSxFQUNBLGFBQUEsRUFDQSxzQkFBQSxFQUNBLGlCQUFBLEVBQ0EsTUFBQSxFQUNBLFFBQUEsRUFDQSxPQUFBLFdBQ0EsTUFBQSxNQUNBLFNBQUEsRUFDQSxhQUFBLEVBQ0EsUUFBQSxFQUNBLFFBQUEsRUFDQSxrQkFBQSxHQUNBLFlBQUEsR0FDQSxNQUFBLFVBQ0EsVUFBQSxZQUNBLE9BQUEsSUFHQSxTQUFBLEtBQ0EsV0FBQSxLQUNBLE9BQUEsS0FDQSxXQUFBLEtBQ0EsSUFBQSxLQUNBLEtBQUEsS0FDQSxRQUFBLEtBQ0EsT0FBQSxLQUNBLEtBQUEsS0FDQSxNQUFBLEtBQ0EsS0FBQSxLQUNBLE9BQUEsTUFHQSxZQUFBLFNBQUEsRUFBQSxFQUFBLEdBQ0EsTUFBQSxJQUFBLEdBQUEsRUFBQSxFQUFBLEdBR0EsWUFBQSxTQUFBLEdBQ0EsTUFBQSxhQUFBLEtBQUEsRUFBQSxJQUFBLFdBQUEsb0JBQUEsS0FBQSxFQUFBLElBQUEsYUFHQSxRQUFBLFdBQ0EsS0FBQSxrQkFDQSxLQUFBLFFBQUEsU0FBQSxlQUdBLEtBQUEsVUFHQSxLQUFBLE9BQUEsS0FBQSxRQUFBLFNBR0EsS0FBQSxhQUVBLEtBQUEsc0JBR0EsS0FBQSxPQUFBLEdBSUEsV0FBQSxTQUFBLEVBQUEsR0FDQSxLQUFBLE9BQUEsRUFBQSxHQUVBLFdBQUEsR0FDQSxLQUFBLHVCQUlBLG9CQUFBLFdBQ0EsS0FBQSxRQUFBLEtBQUEsdUJBQUEsWUFBQSxzQkFDQSxFQUFBLEtBQUEsS0FBQSxNQUFBLFlBQ0EsS0FBQSxTQUFBLFFBQUEsT0FDQSxLQUFBLEtBQUEsS0FBQSxLQUFBLFNBQUEsUUFBQSxRQUFBLEtBQUEsTUFDQSxTQUFBLHlCQUlBLFNBQUEsV0FDQSxLQUFBLFFBQ0EsWUFBQSxvQ0FDQSxLQUFBLHVCQUNBLFlBQUEsc0JBQ0EsS0FBQSxlQUVBLEtBQUEsR0FBQSxHQUFBLEtBQUEsTUFBQSxPQUFBLEVBQUEsR0FBQSxFQUFBLElBQ0EsS0FBQSxNQUFBLEdBQUEsS0FBQSxXQUFBLEtBQUEsV0FBQSxRQUdBLE9BQUEsT0FHQSxjQUFBLFNBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxLQUNBLEdBQUEsRUFDQSxFQUFBLElBRUEsT0FBQSxNQUFBLFdBQ0EsRUFHQSxLQUFBLFFBQUEsVUFBQSxXQUFBLEtBQUEsUUFBQSxNQUNBLEdBSUEsS0FBQSxjQUFBLEdBR0EsRUFBQSxFQUFBLFFBQUEsVUFBQSxLQUFBLFdBQ0EsTUFBQSxHQUFBLEtBQUEsS0FBQSxFQUFBLFdBQUEsV0FBQSxHQUNBLEVBQUEsRUFBQSxPQUNBLEdBRkEsU0FLQSxFQUFBLEtBQUEsRUFBQSxPQUFBLEVBQUEsV0FBQSxXQUFBLElBQ0EsRUFBQSxFQUFBLEVBQUEsU0FHQSxLQUdBLEtBQUEsUUFBQSxRQUFBLElBQ0EsRUFBQSxLQUFBLFFBQUEsT0FBQSxHQUFBLEtBQUEsS0FBQSxVQUFBLEtBQUEsV0FDQSxPQUFBLEVBQUEsU0FDQSxHQUFBLEtBR0EsS0FLQSxLQUFBLFlBQUEsRUFDQSxLQUFBLDRCQUNBLElBZkEsSUFtQkEsWUFBQSxTQUFBLEVBQUEsRUFBQSxHQUVBLEdBQUEsR0FBQSxFQUNBLEVBQUEsS0FBQSxPQTRHQSxJQTFHQSxLQUFBLGlCQUFBLEtBR0EsS0FBQSxtQkFHQSxLQUFBLE9BQUEsS0FBQSxjQUFBLEdBR0EsS0FBQSwwQkFRQSxLQUFBLGdCQUdBLEtBQUEsYUFBQSxLQUFBLE9BQUEsZUFHQSxLQUFBLE9BQUEsS0FBQSxZQUFBLFNBQ0EsS0FBQSxRQUNBLElBQUEsS0FBQSxPQUFBLElBQUEsS0FBQSxRQUFBLElBQ0EsS0FBQSxLQUFBLE9BQUEsS0FBQSxLQUFBLFFBQUEsTUFHQSxFQUFBLE9BQUEsS0FBQSxRQUNBLE9BQ0EsS0FBQSxFQUFBLE1BQUEsS0FBQSxPQUFBLEtBQ0EsSUFBQSxFQUFBLE1BQUEsS0FBQSxPQUFBLEtBRUEsT0FBQSxLQUFBLG1CQUNBLFNBQUEsS0FBQSx1QkFLQSxLQUFBLE9BQUEsSUFBQSxXQUFBLFlBQ0EsS0FBQSxZQUFBLEtBQUEsT0FBQSxJQUFBLFlBR0EsS0FBQSxpQkFBQSxLQUFBLGtCQUFBLEdBQ0EsS0FBQSxjQUFBLEVBQUEsTUFDQSxLQUFBLGNBQUEsRUFBQSxNQUdBLEVBQUEsVUFBQSxLQUFBLHdCQUFBLEVBQUEsVUFHQSxLQUFBLGFBQUEsS0FBQSxLQUFBLFlBQUEsT0FBQSxHQUFBLE9BQUEsS0FBQSxZQUFBLFNBQUEsSUFHQSxLQUFBLE9BQUEsS0FBQSxLQUFBLFlBQUEsSUFDQSxLQUFBLFlBQUEsT0FJQSxLQUFBLHFCQUdBLEVBQUEsYUFDQSxLQUFBLGtCQUdBLEVBQUEsUUFBQSxTQUFBLEVBQUEsU0FDQSxFQUFBLEtBQUEsU0FBQSxLQUFBLFFBR0EsS0FBQSxhQUFBLEVBQUEsSUFBQSxVQUNBLEVBQUEsSUFBQSxTQUFBLEVBQUEsUUFFQSxLQUFBLGlCQUFBLEVBQUEscUJBQUEsRUFBQSxPQUFBLDBCQUFBLFNBQUEsSUFHQSxFQUFBLFVBQ0EsS0FBQSxPQUFBLElBQUEsYUFDQSxLQUFBLGVBQUEsS0FBQSxPQUFBLElBQUEsWUFFQSxLQUFBLE9BQUEsSUFBQSxVQUFBLEVBQUEsVUFHQSxFQUFBLFNBQ0EsS0FBQSxPQUFBLElBQUEsWUFDQSxLQUFBLGNBQUEsS0FBQSxPQUFBLElBQUEsV0FFQSxLQUFBLE9BQUEsSUFBQSxTQUFBLEVBQUEsU0FJQSxLQUFBLGFBQUEsS0FBQSxLQUFBLFNBQUEsSUFBQSxTQUFBLEtBQUEsYUFBQSxHQUFBLFVBQ0EsS0FBQSxlQUFBLEtBQUEsYUFBQSxVQUlBLEtBQUEsU0FBQSxRQUFBLEVBQUEsS0FBQSxXQUdBLEtBQUEsNEJBQ0EsS0FBQSwyQkFLQSxFQUNBLElBQUEsRUFBQSxLQUFBLFdBQUEsT0FBQSxFQUFBLEdBQUEsRUFBQSxJQUNBLEtBQUEsV0FBQSxHQUFBLFNBQUEsV0FBQSxFQUFBLEtBQUEsUUFBQSxNQWlCQSxPQVpBLEdBQUEsR0FBQSxZQUNBLEVBQUEsR0FBQSxVQUFBLFFBQUEsTUFHQSxFQUFBLEdBQUEsWUFBQSxFQUFBLGVBQ0EsRUFBQSxHQUFBLFVBQUEsZUFBQSxLQUFBLEdBR0EsS0FBQSxVQUFBLEVBRUEsS0FBQSxPQUFBLFNBQUEsc0JBQ0EsS0FBQSxXQUFBLElBQ0EsR0FJQSxXQUFBLFNBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQ0EsRUFBQSxLQUFBLFFBQ0EsR0FBQSxDQTJEQSxLQXhEQSxLQUFBLFNBQUEsS0FBQSxrQkFBQSxHQUNBLEtBQUEsWUFBQSxLQUFBLG1CQUFBLFlBRUEsS0FBQSxrQkFDQSxLQUFBLGdCQUFBLEtBQUEsYUFJQSxLQUFBLFFBQUEsU0FDQSxLQUFBLGFBQUEsS0FBQSxLQUFBLFNBQUEsSUFBQSxTQUFBLEtBQUEsYUFBQSxHQUFBLFNBRUEsS0FBQSxlQUFBLElBQUEsS0FBQSxhQUFBLEdBQUEsYUFBQSxFQUFBLE1BQUEsRUFBQSxrQkFDQSxLQUFBLGFBQUEsR0FBQSxVQUFBLEVBQUEsS0FBQSxhQUFBLEdBQUEsVUFBQSxFQUFBLFlBQ0EsRUFBQSxNQUFBLEtBQUEsZUFBQSxJQUFBLEVBQUEsb0JBQ0EsS0FBQSxhQUFBLEdBQUEsVUFBQSxFQUFBLEtBQUEsYUFBQSxHQUFBLFVBQUEsRUFBQSxhQUdBLEtBQUEsZUFBQSxLQUFBLEtBQUEsYUFBQSxHQUFBLFlBQUEsRUFBQSxNQUFBLEVBQUEsa0JBQ0EsS0FBQSxhQUFBLEdBQUEsV0FBQSxFQUFBLEtBQUEsYUFBQSxHQUFBLFdBQUEsRUFBQSxZQUNBLEVBQUEsTUFBQSxLQUFBLGVBQUEsS0FBQSxFQUFBLG9CQUNBLEtBQUEsYUFBQSxHQUFBLFdBQUEsRUFBQSxLQUFBLGFBQUEsR0FBQSxXQUFBLEVBQUEsZUFLQSxFQUFBLE1BQUEsS0FBQSxTQUFBLFlBQUEsRUFBQSxrQkFDQSxFQUFBLEtBQUEsU0FBQSxVQUFBLEtBQUEsU0FBQSxZQUFBLEVBQUEsYUFDQSxLQUFBLE9BQUEsVUFBQSxFQUFBLE1BQUEsS0FBQSxTQUFBLGFBQUEsRUFBQSxvQkFDQSxFQUFBLEtBQUEsU0FBQSxVQUFBLEtBQUEsU0FBQSxZQUFBLEVBQUEsY0FHQSxFQUFBLE1BQUEsS0FBQSxTQUFBLGFBQUEsRUFBQSxrQkFDQSxFQUFBLEtBQUEsU0FBQSxXQUFBLEtBQUEsU0FBQSxhQUFBLEVBQUEsYUFDQSxLQUFBLE9BQUEsU0FBQSxFQUFBLE1BQUEsS0FBQSxTQUFBLGNBQUEsRUFBQSxvQkFDQSxFQUFBLEtBQUEsU0FBQSxXQUFBLEtBQUEsU0FBQSxhQUFBLEVBQUEsZUFLQSxLQUFBLEdBQUEsRUFBQSxHQUFBLFlBQUEsRUFBQSxlQUNBLEVBQUEsR0FBQSxVQUFBLGVBQUEsS0FBQSxJQUtBLEtBQUEsWUFBQSxLQUFBLG1CQUFBLFlBR0EsS0FBQSxRQUFBLE1BQUEsTUFBQSxLQUFBLFFBQUEsT0FDQSxLQUFBLE9BQUEsR0FBQSxNQUFBLEtBQUEsS0FBQSxTQUFBLEtBQUEsTUFFQSxLQUFBLFFBQUEsTUFBQSxNQUFBLEtBQUEsUUFBQSxPQUNBLEtBQUEsT0FBQSxHQUFBLE1BQUEsSUFBQSxLQUFBLFNBQUEsSUFBQSxNQUlBLEVBQUEsS0FBQSxNQUFBLE9BQUEsRUFBQSxHQUFBLEVBQUEsSUFNQSxHQUhBLEVBQUEsS0FBQSxNQUFBLEdBQ0EsRUFBQSxFQUFBLEtBQUEsR0FDQSxFQUFBLEtBQUEsdUJBQUEsR0FDQSxHQVdBLEVBQUEsV0FBQSxLQUFBLGtCQU9BLElBQUEsS0FBQSxZQUFBLElBQ0EsS0FBQSxZQUFBLElBQUEsRUFBQSxPQUFBLFVBQUEsS0FBQSxJQUNBLEVBQUEsU0FBQSxLQUFBLFlBQUEsR0FBQSxLQUNBLGlCQUFBLEtBQUEsUUFBQSxNQUFBLEVBQUEsU0FBQSxLQUFBLFFBQUEsR0FBQSxJQUFBLEdBQ0EsQ0FJQSxHQUZBLEtBQUEsVUFBQSxJQUFBLEVBQUEsT0FBQSxLQUVBLFlBQUEsS0FBQSxRQUFBLFlBQUEsS0FBQSxxQkFBQSxHQUdBLEtBRkEsTUFBQSxXQUFBLEVBQUEsR0FLQSxLQUFBLFNBQUEsU0FBQSxFQUFBLEtBQUEsVUFDQSxPQWdCQSxNQVhBLE1BQUEsbUJBQUEsR0FHQSxFQUFBLEdBQUEsV0FDQSxFQUFBLEdBQUEsVUFBQSxLQUFBLEtBQUEsR0FJQSxLQUFBLFNBQUEsT0FBQSxFQUFBLEtBQUEsV0FFQSxLQUFBLGdCQUFBLEtBQUEsYUFDQSxHQUlBLFdBQUEsU0FBQSxFQUFBLEdBRUEsR0FBQSxFQUFBLENBU0EsR0FKQSxFQUFBLEdBQUEsWUFBQSxLQUFBLFFBQUEsZUFDQSxFQUFBLEdBQUEsVUFBQSxLQUFBLEtBQUEsR0FHQSxLQUFBLFFBQUEsT0FBQSxDQUNBLEdBQUEsR0FBQSxLQUNBLEVBQUEsS0FBQSxZQUFBLFNBQ0EsRUFBQSxLQUFBLFFBQUEsS0FDQSxJQUVBLElBQUEsTUFBQSxJQUNBLEVBQUEsS0FBQSxFQUFBLEtBQUEsS0FBQSxPQUFBLE9BQUEsS0FBQSxLQUFBLFFBQUEsTUFBQSxLQUFBLGFBQUEsS0FBQSxLQUFBLFNBQUEsR0FBQSxLQUFBLEVBQUEsS0FBQSxhQUFBLEdBQUEsYUFFQSxHQUFBLE1BQUEsSUFDQSxFQUFBLElBQUEsRUFBQSxJQUFBLEtBQUEsT0FBQSxPQUFBLElBQUEsS0FBQSxRQUFBLEtBQUEsS0FBQSxhQUFBLEtBQUEsS0FBQSxTQUFBLEdBQUEsS0FBQSxFQUFBLEtBQUEsYUFBQSxHQUFBLFlBRUEsS0FBQSxXQUFBLEVBQ0EsRUFBQSxLQUFBLFFBQUEsUUFBQSxFQUFBLFNBQUEsS0FBQSxRQUFBLE9BQUEsS0FBQSxJQUFBLFdBQ0EsRUFBQSxPQUFBLFNBR0EsTUFBQSxPQUFBLEVBQUEsRUFHQSxRQUFBLElBSUEsT0FBQSxXQUVBLEdBQUEsS0FBQSxTQUFBLENBRUEsS0FBQSxVQUFBLE9BQUEsT0FFQSxhQUFBLEtBQUEsUUFBQSxPQUNBLEtBQUEsWUFBQSxJQUFBLEtBQUEsWUFBQSxZQUFBLHNCQUVBLEtBQUEsWUFBQSxNQUlBLEtBQUEsR0FBQSxHQUFBLEtBQUEsV0FBQSxPQUFBLEVBQUEsR0FBQSxFQUFBLElBQ0EsS0FBQSxXQUFBLEdBQUEsU0FBQSxhQUFBLEtBQUEsS0FBQSxRQUFBLE9BQ0EsS0FBQSxXQUFBLEdBQUEsZUFBQSxPQUNBLEtBQUEsV0FBQSxHQUFBLFNBQUEsTUFBQSxLQUFBLEtBQUEsUUFBQSxPQUNBLEtBQUEsV0FBQSxHQUFBLGVBQUEsS0FBQSxHQTZCQSxNQXZCQSxNQUFBLGNBRUEsS0FBQSxZQUFBLEdBQUEsWUFDQSxLQUFBLFlBQUEsR0FBQSxXQUFBLFlBQUEsS0FBQSxZQUFBLElBRUEsYUFBQSxLQUFBLFFBQUEsUUFBQSxLQUFBLFFBQUEsS0FBQSxPQUFBLEdBQUEsWUFDQSxLQUFBLE9BQUEsU0FHQSxFQUFBLE9BQUEsTUFDQSxPQUFBLEtBQ0EsVUFBQSxFQUNBLFdBQUEsRUFDQSxhQUFBLE9BR0EsS0FBQSxZQUFBLEtBQ0EsRUFBQSxLQUFBLFlBQUEsTUFBQSxNQUFBLEtBQUEsYUFFQSxFQUFBLEtBQUEsWUFBQSxRQUFBLFFBQUEsS0FBQSxjQUlBLE1BSUEsVUFBQSxTQUFBLEdBRUEsR0FBQSxHQUFBLEtBQUEsa0JBQUEsR0FBQSxFQUFBLFdBQ0EsSUFjQSxPQWJBLEdBQUEsTUFFQSxFQUFBLEdBQUEsS0FBQSxXQUNBLEdBQUEsSUFBQSxFQUFBLEVBQUEsTUFBQSxNQUFBLEtBQUEsRUFBQSxXQUFBLE9BQUEsSUFBQSxNQUFBLEVBQUEsWUFBQSxpQkFDQSxJQUNBLEVBQUEsTUFBQSxFQUFBLEtBQUEsRUFBQSxHQUFBLE1BQUEsS0FBQSxFQUFBLEtBQUEsRUFBQSxXQUFBLEVBQUEsR0FBQSxFQUFBLFFBSUEsRUFBQSxRQUFBLEVBQUEsS0FDQSxFQUFBLEtBQUEsRUFBQSxJQUFBLEtBR0EsRUFBQSxLQUFBLE1BSUEsUUFBQSxTQUFBLEdBRUEsR0FBQSxHQUFBLEtBQUEsa0JBQUEsR0FBQSxFQUFBLFdBQ0EsSUFLQSxPQUhBLEdBQUEsTUFFQSxFQUFBLEtBQUEsV0FBQSxFQUFBLEtBQUEsRUFBQSxFQUFBLE1BQUEsTUFBQSxLQUFBLEVBQUEsV0FBQSxPQUFBLE1BQ0EsR0FLQSxnQkFBQSxTQUFBLEdBRUEsR0FBQSxHQUFBLEtBQUEsWUFBQSxLQUNBLEVBQUEsRUFBQSxLQUFBLGtCQUFBLE1BQ0EsRUFBQSxLQUFBLFlBQUEsSUFDQSxFQUFBLEVBQUEsS0FBQSxrQkFBQSxPQUNBLEVBQUEsRUFBQSxLQUNBLEVBQUEsRUFBQSxFQUFBLE1BQ0EsRUFBQSxFQUFBLElBQ0EsRUFBQSxFQUFBLEVBQUEsT0FDQSxFQUFBLEtBQUEsT0FBQSxNQUFBLElBQ0EsRUFBQSxLQUFBLE9BQUEsTUFBQSxLQUNBLEVBQUEsTUFBQSxLQUFBLFFBQUEsTUFBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsRUFDQSxFQUFBLE1BQUEsS0FBQSxRQUFBLE1BQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEVBQ0EsRUFBQSxHQUFBLENBRUEsT0FBQSxZQUFBLEtBQUEsUUFBQSxXQUNBLEtBQUEsUUFBQSwyQkFDQSxZQUFBLEtBQUEsUUFBQSxXQUFBLEtBQUEsa0JBQUEsS0FBQSxTQUFBLFFBQUEsVUFBQSxFQUFBLEtBQUEsU0FBQSxRQUFBLFVBRUEsRUFHQSxFQUFBLEVBQUEsS0FBQSxrQkFBQSxNQUFBLEdBQ0EsRUFBQSxLQUFBLGtCQUFBLE1BQUEsRUFBQSxHQUNBLEVBQUEsRUFBQSxLQUFBLGtCQUFBLE9BQUEsR0FDQSxFQUFBLEtBQUEsa0JBQUEsT0FBQSxFQUFBLEdBS0EsdUJBQUEsU0FBQSxHQUVBLEdBQUEsR0FBQSxNQUFBLEtBQUEsUUFBQSxNQUFBLEtBQUEsWUFBQSxLQUFBLFlBQUEsSUFBQSxLQUFBLE9BQUEsTUFBQSxJQUFBLEVBQUEsSUFBQSxFQUFBLFFBQ0EsRUFBQSxNQUFBLEtBQUEsUUFBQSxNQUFBLEtBQUEsWUFBQSxLQUFBLFlBQUEsS0FBQSxLQUFBLE9BQUEsTUFBQSxLQUFBLEVBQUEsS0FBQSxFQUFBLE9BQ0EsRUFBQSxHQUFBLEVBQ0EsRUFBQSxLQUFBLDRCQUNBLEVBQUEsS0FBQSw2QkFFQSxPQUFBLEdBSUEsS0FBQSxTQUNBLEdBQUEsVUFBQSxHQUFBLFNBQUEsRUFBQSxFQUFBLEVBQ0EsSUFBQSxTQUFBLEVBQUEsRUFBQSxJQUxBLEdBU0EscUJBQUEsU0FBQSxHQUVBLEdBQUEsR0FBQSxLQUFBLFlBQUEsS0FBQSxZQUFBLElBQUEsS0FBQSxPQUFBLE1BQUEsSUFBQSxFQUFBLElBQUEsRUFBQSxPQUFBLEVBQUEsRUFBQSxRQUNBLEVBQUEsS0FBQSxZQUFBLEtBQUEsWUFBQSxLQUFBLEtBQUEsT0FBQSxNQUFBLEtBQUEsRUFBQSxLQUFBLEVBQUEsTUFBQSxFQUFBLEVBQUEsT0FDQSxFQUFBLEtBQUEsNEJBQ0EsRUFBQSxLQUFBLDZCQUVBLE9BQUEsTUFBQSxVQUFBLEVBQ0EsVUFBQSxHQUFBLEdBQUEsU0FBQSxJQUFBLEVBRUEsSUFBQSxTQUFBLEdBQUEsR0FBQSxPQUFBLElBQUEsSUFLQSwwQkFBQSxXQUNBLEdBQUEsR0FBQSxLQUFBLFlBQUEsSUFBQSxLQUFBLGdCQUFBLEdBQ0EsT0FBQSxLQUFBLElBQUEsRUFBQSxFQUFBLE9BQUEsT0FHQSw0QkFBQSxXQUNBLEdBQUEsR0FBQSxLQUFBLFlBQUEsS0FBQSxLQUFBLGdCQUFBLElBQ0EsT0FBQSxLQUFBLElBQUEsRUFBQSxFQUFBLFFBQUEsU0FHQSxRQUFBLFNBQUEsR0FJQSxNQUhBLE1BQUEsY0FBQSxHQUNBLEtBQUEsc0JBQ0EsS0FBQSxtQkFDQSxNQUdBLGFBQUEsV0FDQSxHQUFBLEdBQUEsS0FBQSxPQUNBLE9BQUEsR0FBQSxZQUFBLGNBQUEsUUFBQSxFQUFBLGFBQUEsRUFBQSxhQUdBLGtCQUFBLFNBQUEsR0FxQkEsUUFBQSxLQUNBLEVBQUEsS0FBQSxNQXBCQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQ0EsS0FDQSxLQUNBLEVBQUEsS0FBQSxjQUVBLElBQUEsR0FBQSxFQUNBLElBQUEsRUFBQSxFQUFBLE9BQUEsRUFBQSxHQUFBLEVBQUEsSUFFQSxJQURBLEVBQUEsRUFBQSxFQUFBLEdBQUEsS0FBQSxTQUFBLElBQ0EsRUFBQSxFQUFBLE9BQUEsRUFBQSxHQUFBLEVBQUEsSUFDQSxFQUFBLEVBQUEsS0FBQSxFQUFBLEdBQUEsS0FBQSxnQkFDQSxHQUFBLElBQUEsT0FBQSxFQUFBLFFBQUEsVUFDQSxFQUFBLE1BQUEsRUFBQSxXQUFBLEVBQUEsUUFBQSxPQUFBLEVBQUEsUUFBQSxNQUFBLEtBQUEsRUFBQSxTQUFBLEVBQUEsRUFBQSxRQUFBLE1BQUEsRUFBQSxTQUFBLElBQUEsdUJBQUEsSUFBQSw0QkFBQSxHQVdBLEtBTEEsRUFBQSxNQUFBLEVBQUEsV0FBQSxLQUFBLFFBQUEsT0FBQSxLQUFBLFFBQUEsTUFBQSxLQUFBLEtBQUEsUUFBQSxNQUFBLFFBQUEsS0FBQSxRQUFBLEtBQUEsS0FBQSxjQUFBLEVBQUEsS0FBQSxRQUFBLE1BQUEsS0FBQSxTQUFBLElBQUEsdUJBQUEsSUFBQSw0QkFBQSxPQUtBLEVBQUEsRUFBQSxPQUFBLEVBQUEsR0FBQSxFQUFBLElBQ0EsRUFBQSxHQUFBLEdBQUEsS0FBQSxFQUdBLE9BQUEsR0FBQSxJQUlBLHlCQUFBLFdBRUEsR0FBQSxHQUFBLEtBQUEsWUFBQSxLQUFBLFNBQUEsS0FBQSxXQUFBLFNBRUEsTUFBQSxNQUFBLEVBQUEsS0FBQSxLQUFBLE1BQUEsU0FBQSxHQUNBLElBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLE9BQUEsSUFDQSxHQUFBLEVBQUEsS0FBQSxFQUFBLEtBQUEsR0FDQSxPQUFBLENBR0EsUUFBQSxLQUtBLGNBQUEsU0FBQSxHQUVBLEtBQUEsU0FDQSxLQUFBLFlBQUEsS0FFQSxJQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFDQSxFQUFBLEtBQUEsTUFDQSxJQUFBLEVBQUEsV0FBQSxLQUFBLFFBQUEsT0FBQSxLQUFBLFFBQUEsTUFBQSxLQUFBLEtBQUEsUUFBQSxHQUFBLEdBQUEsS0FBQSxLQUFBLGNBQUEsRUFBQSxLQUFBLFFBQUEsTUFBQSxLQUFBLFNBQUEsT0FDQSxFQUFBLEtBQUEsY0FFQSxJQUFBLEdBQUEsS0FBQSxNQUNBLElBQUEsRUFBQSxFQUFBLE9BQUEsRUFBQSxHQUFBLEVBQUEsSUFFQSxJQURBLEVBQUEsRUFBQSxFQUFBLEdBQUEsS0FBQSxTQUFBLElBQ0EsRUFBQSxFQUFBLE9BQUEsRUFBQSxHQUFBLEVBQUEsSUFDQSxFQUFBLEVBQUEsS0FBQSxFQUFBLEdBQUEsS0FBQSxnQkFDQSxHQUFBLElBQUEsT0FBQSxFQUFBLFFBQUEsV0FDQSxFQUFBLE1BQUEsRUFBQSxXQUFBLEVBQUEsUUFBQSxPQUFBLEVBQUEsUUFBQSxNQUFBLEtBQUEsRUFBQSxRQUFBLEdBQUEsR0FBQSxLQUFBLEtBQUEsY0FBQSxFQUFBLEVBQUEsUUFBQSxNQUFBLEVBQUEsU0FBQSxJQUNBLEtBQUEsV0FBQSxLQUFBLEdBTUEsS0FBQSxFQUFBLEVBQUEsT0FBQSxFQUFBLEdBQUEsRUFBQSxJQUlBLElBSEEsRUFBQSxFQUFBLEdBQUEsR0FDQSxFQUFBLEVBQUEsR0FBQSxHQUVBLEVBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxFQUFBLEVBQUEsSUFDQSxFQUFBLEVBQUEsRUFBQSxJQUVBLEVBQUEsS0FBQSxLQUFBLFdBQUEsUUFBQSxHQUVBLEVBQUEsTUFDQSxLQUFBLEVBQ0EsU0FBQSxFQUNBLE1BQUEsRUFBQSxPQUFBLEVBQ0EsS0FBQSxFQUFBLElBQUEsS0FPQSxpQkFBQSxTQUFBLEdBR0EsS0FBQSxTQUFBLEtBQUEsTUFBQSxPQUNBLE1BQUEsS0FBQSxRQUFBLE1BQUEsS0FBQSxZQUFBLEtBQUEsTUFBQSxHQUFBLE9BQ0EsRUFHQSxLQUFBLGNBQUEsS0FBQSxTQUNBLEtBQUEsT0FBQSxPQUFBLEtBQUEsbUJBR0EsSUFBQSxHQUFBLEVBQUEsRUFBQSxDQUVBLEtBQUEsRUFBQSxLQUFBLE1BQUEsT0FBQSxFQUFBLEdBQUEsRUFBQSxJQUNBLEVBQUEsS0FBQSxNQUFBLEdBR0EsRUFBQSxXQUFBLEtBQUEsa0JBQUEsS0FBQSxrQkFBQSxFQUFBLEtBQUEsS0FBQSxLQUFBLFlBQUEsS0FJQSxFQUFBLEtBQUEsUUFBQSxpQkFBQSxFQUFBLEtBQUEsUUFBQSxpQkFBQSxFQUFBLE1BQUEsRUFBQSxLQUVBLElBQ0EsRUFBQSxNQUFBLEVBQUEsYUFDQSxFQUFBLE9BQUEsRUFBQSxlQUdBLEVBQUEsRUFBQSxTQUNBLEVBQUEsS0FBQSxFQUFBLEtBQ0EsRUFBQSxJQUFBLEVBQUEsSUFHQSxJQUFBLEtBQUEsUUFBQSxRQUFBLEtBQUEsUUFBQSxPQUFBLGtCQUNBLEtBQUEsUUFBQSxPQUFBLGtCQUFBLEtBQUEsVUFFQSxLQUFBLEVBQUEsS0FBQSxXQUFBLE9BQUEsRUFBQSxHQUFBLEVBQUEsSUFDQSxFQUFBLEtBQUEsV0FBQSxHQUFBLFFBQUEsU0FDQSxLQUFBLFdBQUEsR0FBQSxlQUFBLEtBQUEsRUFBQSxLQUNBLEtBQUEsV0FBQSxHQUFBLGVBQUEsSUFBQSxFQUFBLElBQ0EsS0FBQSxXQUFBLEdBQUEsZUFBQSxNQUFBLEtBQUEsV0FBQSxHQUFBLFFBQUEsYUFDQSxLQUFBLFdBQUEsR0FBQSxlQUFBLE9BQUEsS0FBQSxXQUFBLEdBQUEsUUFBQSxhQUlBLE9BQUEsT0FHQSxtQkFBQSxTQUFBLEdBQ0EsRUFBQSxHQUFBLElBQ0EsSUFBQSxHQUNBLEVBQUEsRUFBQSxPQUVBLEdBQUEsYUFBQSxFQUFBLFlBQUEsY0FBQSxTQUNBLEVBQUEsRUFBQSxZQUNBLEVBQUEsYUFDQSxRQUFBLFdBRUEsR0FBQSxHQUFBLEVBQUEsWUFBQSxHQUFBLFNBQUEsY0FDQSxFQUFBLEVBQUEsSUFBQSxFQUFBLElBQUEsRUFBQSxTQUFBLElBQ0EsU0FBQSxHQUFBLEVBQUEsWUFBQSxHQUFBLFVBQUEsNEJBQ0EsWUFBQSxxQkFpQkEsT0FmQSxVQUFBLEVBQ0EsRUFBQSxxQkFDQSxFQUFBLFlBQUEsS0FBQSxNQUFBLEdBQUEsR0FDQSxFQUFBLE9BQUEsRUFBQSxTQUFBLElBQUEsU0FBQSxJQUVBLE9BQUEsRUFDQSxFQUFBLHFCQUFBLEVBQUEsWUFBQSxHQUNBLFFBQUEsR0FDQSxFQUFBLEtBQUEsTUFBQSxFQUFBLFlBQUEsS0FBQSxRQUdBLEdBQ0EsRUFBQSxJQUFBLGFBQUEsVUFHQSxHQUVBLE9BQUEsU0FBQSxFQUFBLEtBSUEsR0FBQSxFQUFBLHdCQUtBLEVBQUEsVUFBQSxFQUFBLE9BQUEsRUFBQSxZQUFBLGNBQUEsU0FBQSxFQUFBLFlBQUEsSUFBQSxlQUFBLEVBQUEsSUFBQSxTQUFBLEVBQUEsWUFBQSxJQUFBLGtCQUFBLEVBQUEsS0FDQSxFQUFBLFNBQUEsRUFBQSxNQUFBLEVBQUEsWUFBQSxhQUFBLFNBQUEsRUFBQSxZQUFBLElBQUEsZ0JBQUEsRUFBQSxJQUFBLFNBQUEsRUFBQSxZQUFBLElBQUEsaUJBQUEsRUFBQSxTQU1BLEVBQUEsWUFBQSxFQUFBLEVBQUEsWUFBQSxRQUFBLEtBQUEsRUFBQSxRQUFBLEVBQUEsY0FHQSxFQUFBLFlBQUEsTUFBQSxFQUFBLGFBR0EsRUFBQSxZQUFBLE9BQUEsRUFBQSxFQUFBLGNBSUEscUJBQUEsU0FBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLElBRUEsR0FBQSxXQUFBLEtBQUEsV0FDQSxFQUFBLGtCQUFBLEVBQUEsU0FBQSxJQUNBLEtBQUEsVUFBQSxFQUFBLE1BQUEsS0FBQSxZQUFBLEdBQ0EsU0FBQSxNQUlBLG1CQUFBLFNBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQ0EsRUFBQSxLQUNBLEVBQUEsSUFHQSxLQUFBLEVBQUEsS0FBQSxXQUFBLE9BQUEsRUFBQSxHQUFBLEVBQUEsSUFHQSxJQUFBLEVBQUEsU0FBQSxLQUFBLFlBQUEsR0FBQSxLQUFBLFdBQUEsR0FBQSxRQUFBLElBSUEsR0FBQSxLQUFBLGdCQUFBLEtBQUEsV0FBQSxHQUFBLGdCQUFBLENBR0EsR0FBQSxHQUFBLEVBQUEsU0FBQSxLQUFBLFdBQUEsR0FBQSxRQUFBLEdBQUEsRUFBQSxRQUFBLElBQ0EsUUFHQSxHQUFBLEtBQUEsV0FBQSxHQUNBLEVBQUEsTUFJQSxNQUFBLFdBQUEsR0FBQSxlQUFBLE9BQ0EsS0FBQSxXQUFBLEdBQUEsU0FBQSxNQUFBLEVBQUEsS0FBQSxRQUFBLE9BQ0EsS0FBQSxXQUFBLEdBQUEsZUFBQSxLQUFBLEVBT0EsSUFBQSxFQUtBLEdBQUEsSUFBQSxLQUFBLFdBQUEsT0FDQSxLQUFBLFdBQUEsR0FBQSxlQUFBLE9BQ0EsS0FBQSxXQUFBLEdBQUEsU0FBQSxPQUFBLEVBQUEsS0FBQSxRQUFBLE9BQ0EsS0FBQSxXQUFBLEdBQUEsZUFBQSxLQUFBLE9BRUEsQ0FVQSxJQVBBLEVBQUEsSUFDQSxFQUFBLEtBQ0EsRUFBQSxFQUFBLFVBQUEsS0FBQSxZQUFBLEtBQUEsYUFDQSxFQUFBLEVBQUEsT0FBQSxNQUNBLEVBQUEsRUFBQSxRQUFBLFNBQ0EsRUFBQSxFQUFBLFVBQUEsVUFFQSxFQUFBLEtBQUEsTUFBQSxPQUFBLEVBQUEsR0FBQSxFQUFBLElBQ0EsRUFBQSxTQUFBLEtBQUEsV0FBQSxHQUFBLFFBQUEsR0FBQSxLQUFBLE1BQUEsR0FBQSxLQUFBLEtBR0EsS0FBQSxNQUFBLEdBQUEsS0FBQSxLQUFBLEtBQUEsWUFBQSxLQUlBLEVBQUEsS0FBQSxNQUFBLEdBQUEsS0FBQSxTQUFBLEdBQ0EsR0FBQSxFQUNBLEVBQUEsR0FBQSxFQUFBLEtBQUEsTUFBQSxHQUFBLEdBQUEsSUFDQSxHQUFBLEdBR0EsS0FBQSxJQUFBLEVBQUEsR0FBQSxHQUFBLElBQ0EsRUFBQSxLQUFBLElBQUEsRUFBQSxHQUFBLEdBQ0EsRUFBQSxLQUFBLE1BQUEsR0FDQSxLQUFBLFVBQUEsRUFBQSxLQUFBLFFBS0EsS0FBQSxJQUFBLEtBQUEsUUFBQSxZQUNBLE1BR0EsSUFBQSxLQUFBLG1CQUFBLEtBQUEsV0FBQSxHQUtBLFlBSkEsS0FBQSxpQkFBQSxlQUFBLE9BQ0EsS0FBQSxXQUFBLEdBQUEsU0FBQSxPQUFBLEVBQUEsS0FBQSxXQUNBLEtBQUEsaUJBQUEsZUFBQSxLQUFBLEdBS0EsR0FBQSxLQUFBLFdBQUEsRUFBQSxFQUFBLE1BQUEsR0FBQSxLQUFBLFdBQUEsRUFBQSxLQUFBLEtBQUEsV0FBQSxHQUFBLFNBQUEsR0FDQSxLQUFBLFNBQUEsU0FBQSxFQUFBLEtBQUEsV0FDQSxLQUFBLFdBQUEsR0FBQSxTQUFBLFNBQUEsRUFBQSxLQUFBLFFBQUEsT0FDQSxLQUFBLGlCQUFBLEtBQUEsV0FBQSxHQUdBLEtBQUEsUUFBQSxZQUFBLE9BQUEsS0FBQSxpQkFBQSxLQUFBLGFBRUEsS0FBQSxXQUFBLEdBQUEsU0FBQSxPQUFBLEVBQUEsS0FBQSxRQUFBLE9BQ0EsS0FBQSxXQUFBLEdBQUEsZUFBQSxLQUFBLElBTUEsY0FBQSxTQUFBLEdBRUEsR0FBQSxHQUFBLEtBQUEsUUFDQSxFQUFBLEVBQUEsV0FBQSxFQUFBLFFBQUEsRUFBQSxFQUFBLE9BQUEsTUFBQSxLQUFBLFFBQUEsSUFBQSxFQUFBLEtBQUEsZUFBQSxVQUFBLEVBQUEsT0FBQSxLQUFBLFlBQUEsUUFBQSxLQUFBLFdBa0JBLE9BZkEsR0FBQSxRQUFBLFFBQUEsUUFDQSxFQUFBLFdBQUEsRUFBQSxTQUFBLEVBQUEsU0FBQSxLQUFBLFlBQUEsR0FBQSxZQUFBLEdBQUEsWUFBQSxFQUFBLElBR0EsRUFBQSxLQUFBLEtBQUEsWUFBQSxLQUNBLEtBQUEsWUFBQSxNQUFBLEtBQUEsWUFBQSxHQUFBLE1BQUEsTUFBQSxPQUFBLEtBQUEsWUFBQSxHQUFBLE1BQUEsT0FBQSxTQUFBLEtBQUEsWUFBQSxJQUFBLFlBQUEsSUFBQSxLQUFBLFlBQUEsSUFBQSxPQUFBLEtBQUEsS0FBQSxZQUFBLElBQUEsWUFHQSxFQUFBLEdBQUEsTUFBQSxPQUFBLEVBQUEsa0JBQ0EsRUFBQSxNQUFBLEtBQUEsWUFBQSxXQUVBLEVBQUEsR0FBQSxNQUFBLFFBQUEsRUFBQSxrQkFDQSxFQUFBLE9BQUEsS0FBQSxZQUFBLFVBR0E7RUFJQSx3QkFBQSxTQUFBLEdBQ0EsZ0JBQUEsS0FDQSxFQUFBLEVBQUEsTUFBQSxNQUVBLEVBQUEsUUFBQSxLQUNBLEdBQUEsTUFBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLElBQUEsSUFFQSxRQUFBLEtBQ0EsS0FBQSxPQUFBLE1BQUEsS0FBQSxFQUFBLEtBQUEsS0FBQSxRQUFBLE1BRUEsU0FBQSxLQUNBLEtBQUEsT0FBQSxNQUFBLEtBQUEsS0FBQSxrQkFBQSxNQUFBLEVBQUEsTUFBQSxLQUFBLFFBQUEsTUFFQSxPQUFBLEtBQ0EsS0FBQSxPQUFBLE1BQUEsSUFBQSxFQUFBLElBQUEsS0FBQSxRQUFBLEtBRUEsVUFBQSxLQUNBLEtBQUEsT0FBQSxNQUFBLElBQUEsS0FBQSxrQkFBQSxPQUFBLEVBQUEsT0FBQSxLQUFBLFFBQUEsTUFJQSxpQkFBQSxXQUlBLEtBQUEsYUFBQSxLQUFBLE9BQUEsY0FDQSxJQUFBLEdBQUEsS0FBQSxhQUFBLFFBaUJBLE9BWEEsYUFBQSxLQUFBLGFBQUEsS0FBQSxhQUFBLEtBQUEsS0FBQSxTQUFBLElBQUEsRUFBQSxTQUFBLEtBQUEsYUFBQSxHQUFBLEtBQUEsYUFBQSxNQUNBLEVBQUEsTUFBQSxLQUFBLGFBQUEsYUFDQSxFQUFBLEtBQUEsS0FBQSxhQUFBLGNBS0EsS0FBQSxhQUFBLEtBQUEsS0FBQSxTQUFBLEdBQUEsTUFBQSxLQUFBLGFBQUEsR0FBQSxTQUFBLFNBQUEsS0FBQSxhQUFBLEdBQUEsUUFBQSxlQUFBLEVBQUEsR0FBQSxNQUNBLEdBQUEsSUFBQSxFQUFBLEtBQUEsS0FJQSxJQUFBLEVBQUEsS0FBQSxTQUFBLEtBQUEsYUFBQSxJQUFBLGtCQUFBLEtBQUEsR0FDQSxLQUFBLEVBQUEsTUFBQSxTQUFBLEtBQUEsYUFBQSxJQUFBLG1CQUFBLEtBQUEsS0FLQSxtQkFBQSxXQUVBLEdBQUEsYUFBQSxLQUFBLFlBQUEsQ0FDQSxHQUFBLEdBQUEsS0FBQSxZQUFBLFVBQ0EsUUFDQSxJQUFBLEVBQUEsS0FBQSxTQUFBLEtBQUEsT0FBQSxJQUFBLE9BQUEsS0FBQSxHQUFBLEtBQUEsYUFBQSxZQUNBLEtBQUEsRUFBQSxNQUFBLFNBQUEsS0FBQSxPQUFBLElBQUEsUUFBQSxLQUFBLEdBQUEsS0FBQSxhQUFBLGNBR0EsT0FBQSxJQUFBLEVBQUEsS0FBQSxJQUtBLGNBQUEsV0FDQSxLQUFBLFNBQ0EsS0FBQSxTQUFBLEtBQUEsWUFBQSxJQUFBLGNBQUEsS0FBQSxFQUNBLElBQUEsU0FBQSxLQUFBLFlBQUEsSUFBQSxhQUFBLEtBQUEsSUFJQSx3QkFBQSxXQUNBLEtBQUEsbUJBQ0EsTUFBQSxLQUFBLE9BQUEsYUFDQSxPQUFBLEtBQUEsT0FBQSxnQkFJQSxnQkFBQSxXQUVBLEdBQUEsR0FBQSxFQUFBLEVBQ0EsRUFBQSxLQUFBLE9BQ0EsWUFBQSxFQUFBLGNBQ0EsRUFBQSxZQUFBLEtBQUEsT0FBQSxHQUFBLGFBRUEsYUFBQSxFQUFBLGFBQUEsV0FBQSxFQUFBLGVBQ0EsS0FBQSxhQUNBLEVBQUEsS0FBQSxPQUFBLFNBQUEsS0FBQSxLQUFBLE9BQUEsT0FBQSxLQUNBLEVBQUEsS0FBQSxPQUFBLFNBQUEsSUFBQSxLQUFBLE9BQUEsT0FBQSxJQUNBLGFBQUEsRUFBQSxZQUFBLEtBQUEsU0FBQSxRQUFBLEtBQUEsT0FBQSxRQUFBLEtBQUEsa0JBQUEsTUFBQSxLQUFBLFFBQUEsTUFDQSxhQUFBLEVBQUEsWUFBQSxLQUFBLFNBQUEsUUFBQSxLQUFBLE9BQUEsVUFBQSxLQUFBLFNBQUEsR0FBQSxLQUFBLFdBQUEsY0FBQSxLQUFBLGtCQUFBLE9BQUEsS0FBQSxRQUFBLE1BSUEsNkJBQUEsS0FBQSxFQUFBLGVBQ0EsRUFBQSxFQUFBLEVBQUEsYUFBQSxHQUNBLEVBQUEsRUFBQSxFQUFBLGFBQUEsU0FDQSxFQUFBLFdBQUEsRUFBQSxHQUFBLElBQUEsWUFFQSxLQUFBLGFBQ0EsRUFBQSxNQUFBLFNBQUEsRUFBQSxHQUFBLElBQUEsbUJBQUEsS0FBQSxJQUFBLFNBQUEsRUFBQSxHQUFBLElBQUEsZUFBQSxLQUFBLEdBQUEsS0FBQSxRQUFBLEtBQ0EsRUFBQSxLQUFBLFNBQUEsRUFBQSxHQUFBLElBQUEsa0JBQUEsS0FBQSxJQUFBLFNBQUEsRUFBQSxHQUFBLElBQUEsY0FBQSxLQUFBLEdBQUEsS0FBQSxRQUFBLElBQ0EsRUFBQSxNQUFBLEVBQUEsS0FBQSxJQUFBLEVBQUEsWUFBQSxFQUFBLGFBQUEsRUFBQSxjQUFBLFNBQUEsRUFBQSxHQUFBLElBQUEsbUJBQUEsS0FBQSxJQUFBLFNBQUEsRUFBQSxHQUFBLElBQUEsZ0JBQUEsS0FBQSxHQUFBLEtBQUEsa0JBQUEsTUFBQSxLQUFBLFFBQUEsS0FDQSxFQUFBLEtBQUEsRUFBQSxLQUFBLElBQUEsRUFBQSxhQUFBLEVBQUEsY0FBQSxFQUFBLGVBQUEsU0FBQSxFQUFBLEdBQUEsSUFBQSxrQkFBQSxLQUFBLElBQUEsU0FBQSxFQUFBLEdBQUEsSUFBQSxpQkFBQSxLQUFBLEdBQUEsS0FBQSxrQkFBQSxPQUFBLEtBQUEsUUFBQSxPQU1BLG1CQUFBLFNBQUEsRUFBQSxHQUVBLElBQ0EsRUFBQSxLQUFBLFNBRUEsSUFBQSxHQUFBLGFBQUEsRUFBQSxFQUFBLEdBQ0EsRUFBQSxhQUFBLEtBQUEsYUFBQSxLQUFBLGFBQUEsS0FBQSxLQUFBLFNBQUEsSUFBQSxFQUFBLFNBQUEsS0FBQSxhQUFBLEdBQUEsS0FBQSxhQUFBLElBQUEsS0FBQSxhQUFBLEtBQUEsYUFDQSxFQUFBLGVBQUEsS0FBQSxFQUFBLEdBQUEsUUFFQSxRQUNBLElBQ0EsRUFBQSxJQUNBLEtBQUEsT0FBQSxTQUFBLElBQUEsRUFDQSxLQUFBLE9BQUEsT0FBQSxJQUFBLEdBQ0EsVUFBQSxLQUFBLGFBQUEsS0FBQSxhQUFBLFlBQUEsRUFBQSxFQUFBLEVBQUEsYUFBQSxFQUVBLEtBQ0EsRUFBQSxLQUNBLEtBQUEsT0FBQSxTQUFBLEtBQUEsRUFDQSxLQUFBLE9BQUEsT0FBQSxLQUFBLEdBQ0EsVUFBQSxLQUFBLGFBQUEsS0FBQSxhQUFBLGFBQUEsRUFBQSxFQUFBLEVBQUEsY0FBQSxJQU1BLGtCQUFBLFNBQUEsR0FFQSxHQUFBLEdBQUEsRUFDQSxFQUFBLEtBQUEsUUFDQSxFQUFBLEVBQUEsTUFDQSxFQUFBLEVBQUEsTUFDQSxFQUFBLGFBQUEsS0FBQSxhQUFBLEtBQUEsYUFBQSxLQUFBLEtBQUEsU0FBQSxJQUFBLEVBQUEsU0FBQSxLQUFBLGFBQUEsR0FBQSxLQUFBLGFBQUEsSUFBQSxLQUFBLGFBQUEsS0FBQSxhQUFBLEVBQUEsZUFBQSxLQUFBLEVBQUEsR0FBQSxRQTBDQSxPQXBDQSxhQUFBLEtBQUEsYUFBQSxLQUFBLGFBQUEsS0FBQSxLQUFBLFNBQUEsSUFBQSxLQUFBLGFBQUEsS0FBQSxLQUFBLGFBQUEsS0FDQSxLQUFBLE9BQUEsU0FBQSxLQUFBLHNCQVFBLEtBQUEsbUJBRUEsS0FBQSxjQUNBLEVBQUEsTUFBQSxLQUFBLE9BQUEsTUFBQSxLQUFBLEtBQUEsWUFBQSxLQUNBLEVBQUEsS0FBQSxZQUFBLEdBQUEsS0FBQSxPQUFBLE1BQUEsTUFFQSxFQUFBLE1BQUEsS0FBQSxPQUFBLE1BQUEsSUFBQSxLQUFBLFlBQUEsS0FDQSxFQUFBLEtBQUEsWUFBQSxHQUFBLEtBQUEsT0FBQSxNQUFBLEtBRUEsRUFBQSxNQUFBLEtBQUEsT0FBQSxNQUFBLEtBQUEsS0FBQSxZQUFBLEtBQ0EsRUFBQSxLQUFBLFlBQUEsR0FBQSxLQUFBLE9BQUEsTUFBQSxNQUVBLEVBQUEsTUFBQSxLQUFBLE9BQUEsTUFBQSxJQUFBLEtBQUEsWUFBQSxLQUNBLEVBQUEsS0FBQSxZQUFBLEdBQUEsS0FBQSxPQUFBLE1BQUEsTUFJQSxFQUFBLE9BQ0EsRUFBQSxLQUFBLGNBQUEsS0FBQSxPQUFBLEVBQUEsS0FBQSxlQUFBLEVBQUEsS0FBQSxJQUFBLEVBQUEsS0FBQSxHQUNBLEVBQUEsS0FBQSxZQUFBLEVBQUEsS0FBQSxPQUFBLE1BQUEsS0FBQSxLQUFBLFlBQUEsSUFBQSxFQUFBLEtBQUEsT0FBQSxNQUFBLEtBQUEsS0FBQSxZQUFBLEdBQUEsRUFBQSxFQUFBLEtBQUEsT0FBQSxNQUFBLEtBQUEsS0FBQSxZQUFBLEdBQUEsRUFBQSxFQUFBLEtBQUEsR0FBQSxFQUFBLEVBQUEsS0FBQSxHQUFBLEVBRUEsRUFBQSxLQUFBLGNBQUEsS0FBQSxPQUFBLEVBQUEsS0FBQSxlQUFBLEVBQUEsS0FBQSxJQUFBLEVBQUEsS0FBQSxHQUNBLEVBQUEsS0FBQSxZQUFBLEVBQUEsS0FBQSxPQUFBLE1BQUEsTUFBQSxLQUFBLFlBQUEsSUFBQSxFQUFBLEtBQUEsT0FBQSxNQUFBLE1BQUEsS0FBQSxZQUFBLEdBQUEsRUFBQSxFQUFBLEtBQUEsT0FBQSxNQUFBLE1BQUEsS0FBQSxZQUFBLEdBQUEsRUFBQSxFQUFBLEtBQUEsR0FBQSxFQUFBLEVBQUEsS0FBQSxHQUFBLEtBTUEsSUFDQSxFQUNBLEtBQUEsT0FBQSxNQUFBLElBQ0EsS0FBQSxPQUFBLFNBQUEsSUFDQSxLQUFBLE9BQUEsT0FBQSxLQUNBLFVBQUEsS0FBQSxhQUFBLEtBQUEsYUFBQSxZQUFBLEVBQUEsRUFBQSxFQUFBLGFBRUEsS0FDQSxFQUNBLEtBQUEsT0FBQSxNQUFBLEtBQ0EsS0FBQSxPQUFBLFNBQUEsS0FDQSxLQUFBLE9BQUEsT0FBQSxNQUNBLFVBQUEsS0FBQSxhQUFBLEtBQUEsYUFBQSxhQUFBLEVBQUEsRUFBQSxFQUFBLGdCQU1BLFdBQUEsU0FBQSxFQUFBLEVBQUEsRUFBQSxHQUVBLEVBQUEsRUFBQSxHQUFBLFlBQUEsS0FBQSxZQUFBLElBQUEsRUFBQSxLQUFBLEdBQUEsV0FBQSxhQUFBLEtBQUEsWUFBQSxHQUFBLFNBQUEsS0FBQSxVQUFBLEVBQUEsS0FBQSxHQUFBLEVBQUEsS0FBQSxHQUFBLGFBT0EsS0FBQSxRQUFBLEtBQUEsVUFBQSxLQUFBLFFBQUEsQ0FDQSxJQUFBLEdBQUEsS0FBQSxPQUVBLE1BQUEsT0FBQSxXQUNBLElBQUEsS0FBQSxTQUNBLEtBQUEsa0JBQUEsTUFNQSxPQUFBLFNBQUEsRUFBQSxHQTZDQSxRQUFBLEdBQUEsRUFBQSxFQUFBLEdBQ0EsTUFBQSxVQUFBLEdBQ0EsRUFBQSxTQUFBLEVBQUEsRUFBQSxFQUFBLFFBQUEsS0E3Q0EsS0FBQSxXQUFBLENBR0EsSUFBQSxHQUNBLElBU0EsS0FMQSxLQUFBLGNBQUEsS0FBQSxZQUFBLFNBQUEsUUFDQSxLQUFBLFlBQUEsT0FBQSxLQUFBLGFBRUEsS0FBQSxhQUFBLEtBRUEsS0FBQSxPQUFBLEtBQUEsS0FBQSxZQUFBLEdBQUEsQ0FDQSxJQUFBLElBQUEsTUFBQSxZQUNBLFNBQUEsS0FBQSxXQUFBLElBQUEsV0FBQSxLQUFBLFdBQUEsTUFDQSxLQUFBLFdBQUEsR0FBQSxHQUdBLE1BQUEsWUFBQSxJQUFBLEtBQUEsWUFBQSxZQUFBLDBCQUVBLE1BQUEsWUFBQSxNQTJCQSxLQXhCQSxLQUFBLGNBQUEsR0FDQSxFQUFBLEtBQUEsU0FBQSxHQUFBLEtBQUEsU0FBQSxVQUFBLEVBQUEsS0FBQSxRQUFBLEtBQUEsaUJBRUEsS0FBQSxhQUFBLEtBQUEsWUFBQSxPQUFBLEtBQUEsWUFBQSxPQUFBLElBQUEsdUJBQUEsSUFBQSxLQUFBLFlBQUEsU0FBQSxLQUFBLFlBQUEsU0FBQSxJQUFBLEdBQ0EsRUFBQSxLQUFBLFNBQUEsR0FBQSxLQUFBLFNBQUEsU0FBQSxFQUFBLEtBQUEsYUFLQSxPQUFBLEtBQUEsbUJBQ0EsSUFDQSxFQUFBLEtBQUEsU0FBQSxHQUFBLEtBQUEsU0FBQSxTQUFBLEVBQUEsS0FBQSxhQUNBLEVBQUEsS0FBQSxTQUFBLEdBQUEsTUFBQSxVQUFBLEdBQUEsRUFBQSxTQUFBLFVBQUEsRUFBQSxLQUFBLFFBQUEsU0FBQSxLQUFBLEtBQUEsS0FBQSxtQkFDQSxFQUFBLEtBQUEsU0FBQSxHQUFBLE1BQUEsVUFBQSxHQUFBLEVBQUEsU0FBQSxTQUFBLEVBQUEsS0FBQSxRQUFBLFNBQUEsS0FBQSxLQUFBLEtBQUEscUJBV0EsRUFBQSxLQUFBLFdBQUEsT0FBQSxFQUFBLEdBQUEsRUFBQSxJQUNBLEdBQ0EsRUFBQSxLQUFBLEVBQUEsYUFBQSxLQUFBLEtBQUEsV0FBQSxLQUVBLEtBQUEsV0FBQSxHQUFBLGVBQUEsT0FDQSxFQUFBLEtBQUEsRUFBQSxNQUFBLEtBQUEsS0FBQSxXQUFBLEtBQ0EsS0FBQSxXQUFBLEdBQUEsZUFBQSxLQUFBLEVBZ0NBLElBM0JBLEtBQUEsZUFDQSxLQUFBLFNBQUEsS0FBQSxRQUFBLElBQUEsU0FBQSxLQUFBLGNBQ0EsS0FBQSxpQkFBQSxVQUVBLEtBQUEsZ0JBQ0EsS0FBQSxPQUFBLElBQUEsVUFBQSxLQUFBLGdCQUVBLEtBQUEsZUFDQSxLQUFBLE9BQUEsSUFBQSxTQUFBLFNBQUEsS0FBQSxjQUFBLEdBQUEsS0FBQSxlQUdBLEtBQUEsVUFBQSxFQUVBLEdBQ0EsS0FBQSxTQUFBLGFBQUEsRUFBQSxLQUFBLFdBSUEsS0FBQSxZQUFBLEdBQUEsV0FBQSxZQUFBLEtBQUEsWUFBQSxJQUVBLEtBQUEsc0JBQ0EsS0FBQSxPQUFBLEtBQUEsS0FBQSxZQUFBLElBQ0EsS0FBQSxPQUFBLFNBRUEsS0FBQSxPQUFBLE9BR0EsRUFBQSxDQUNBLElBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLElBQ0EsRUFBQSxHQUFBLEtBQUEsS0FBQSxFQUVBLE1BQUEsU0FBQSxPQUFBLEVBQUEsS0FBQSxXQUlBLE1BREEsTUFBQSxhQUFBLEdBQ0EsS0FBQSxxQkFJQSxTQUFBLFdBQ0EsRUFBQSxPQUFBLFVBQUEsU0FBQSxNQUFBLEtBQUEsY0FBQSxHQUNBLEtBQUEsVUFJQSxRQUFBLFNBQUEsR0FDQSxHQUFBLEdBQUEsR0FBQSxJQUNBLFFBQ0EsT0FBQSxFQUFBLE9BQ0EsWUFBQSxFQUFBLGFBQUEsTUFDQSxTQUFBLEVBQUEsU0FDQSxpQkFBQSxFQUFBLGlCQUNBLE9BQUEsRUFBQSxZQUNBLEtBQUEsRUFBQSxZQUNBLE9BQUEsRUFBQSxFQUFBLFFBQUEsV0NyeENBLFNBQUEsR0FDQSxHQUFBLGtCQUFBLFNBQUEsT0FBQSxJQUNBLE9BQUEsT0FDQSxJQUFBLGdCQUFBLFNBQ0EsT0FBQSxRQUFBLFFBQ0EsQ0FDQSxHQUFBLEdBQUEsT0FBQSxRQUNBLEVBQUEsT0FBQSxRQUFBLEVBQUEsT0FBQSxPQUNBLEdBQUEsV0FBQSxXQUVBLE1BREEsUUFBQSxRQUFBLEVBQ0EsS0FHQSxXQUNBLFFBQUEsS0FHQSxJQUZBLEdBQUEsR0FBQSxFQUNBLEtBQ0EsRUFBQSxVQUFBLE9BQUEsSUFBQSxDQUNBLEdBQUEsR0FBQSxVQUFBLEVBQ0EsS0FBQSxHQUFBLEtBQUEsR0FDQSxFQUFBLEdBQUEsRUFBQSxHQUdBLE1BQUEsR0FHQSxRQUFBLEdBQUEsR0FDQSxRQUFBLEdBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxFQUlBLElBQUEsVUFBQSxPQUFBLEVBQUEsQ0FLQSxHQUpBLEVBQUEsR0FDQSxLQUFBLEtBQ0EsRUFBQSxTQUFBLEdBRUEsZ0JBQUEsR0FBQSxRQUFBLENBQ0EsR0FBQSxHQUFBLEdBQUEsS0FDQSxHQUFBLGdCQUFBLEVBQUEsa0JBQUEsTUFBQSxFQUFBLFNBQ0EsRUFBQSxRQUFBLEVBR0EsSUFDQSxFQUFBLEtBQUEsVUFBQSxHQUNBLFVBQUEsS0FBQSxLQUNBLEVBQUEsR0FFQSxNQUFBLElBU0EsTUFQQSxHQUFBLG1CQUFBLE9BQUEsSUFDQSxFQUFBLEVBQUEsUUFBQSw0REFBQSxvQkFFQSxFQUFBLG1CQUFBLE9BQUEsSUFDQSxFQUFBLEVBQUEsUUFBQSwyQkFBQSxvQkFDQSxFQUFBLEVBQUEsUUFBQSxVQUFBLFFBRUEsU0FBQSxRQUNBLEVBQUEsSUFBQSxFQUNBLEVBQUEsU0FBQSxhQUFBLEVBQUEsUUFBQSxjQUNBLEVBQUEsTUFBQSxVQUFBLEVBQUEsS0FDQSxFQUFBLFFBQUEsWUFBQSxFQUFBLE9BQ0EsRUFBQSxPQUFBLFdBQUEsSUFDQSxLQUFBLElBS0EsSUFDQSxLQVVBLEtBSkEsR0FBQSxHQUFBLFNBQUEsT0FBQSxTQUFBLE9BQUEsTUFBQSxTQUNBLEVBQUEsbUJBQ0EsRUFBQSxFQUVBLEVBQUEsRUFBQSxPQUFBLElBQUEsQ0FDQSxHQUFBLEdBQUEsRUFBQSxHQUFBLE1BQUEsS0FDQSxFQUFBLEVBQUEsR0FBQSxRQUFBLEVBQUEsb0JBQ0EsRUFBQSxFQUFBLE1BQUEsR0FBQSxLQUFBLElBUUEsSUFOQSxNQUFBLEVBQUEsT0FBQSxLQUNBLEVBQUEsRUFBQSxNQUFBLEVBQUEsS0FHQSxFQUFBLEdBQUEsRUFBQSxFQUFBLElBQUEsRUFBQSxRQUFBLEVBQUEsb0JBRUEsS0FBQSxLQUNBLElBQ0EsRUFBQSxLQUFBLE1BQUEsR0FDQSxNQUFBLElBR0EsR0FBQSxJQUFBLEVBQUEsQ0FDQSxFQUFBLENBQ0EsT0FHQSxJQUNBLEVBQUEsR0FBQSxHQUlBLE1BQUEsR0FtQkEsTUFoQkEsR0FBQSxJQUFBLEVBQUEsSUFBQSxFQUNBLEVBQUEsUUFBQSxXQUNBLE1BQUEsR0FBQSxPQUNBLE1BQUEsTUFDQSxNQUFBLEtBQUEsYUFFQSxFQUFBLFlBRUEsRUFBQSxPQUFBLFNBQUEsRUFBQSxHQUNBLEVBQUEsRUFBQSxHQUFBLEVBQUEsR0FDQSxRQUFBLE9BSUEsRUFBQSxjQUFBLEVBRUEsRUFHQSxNQUFBLE9DbkZBLFNBQUEsR0FDQSxXQXNJQSxTQUFBLEdBQUEsR0EwQ0EsUUFBQSxLQUNBLEVBQ0EsRUFBQSxXQUFBLEdBQ0EsU0FDQSxHQUFBLEdBS0EsUUFBQSxLQUNBLEVBQUEsR0FBQSxXQUFBLFdBQUEsRUFBQSxNQUFBLEdBbkRBLEdBQ0EsR0FEQSxFQUFBLEtBRUEsS0FHQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEVBR0EsRUFBQSxVQUNBLEVBQUEsRUFFQSxFQUFBLEVBQUEsR0FDQSxFQUFBLEVBQUEsR0FDQSxFQUFBLEVBQUEsRUF5Q0EsSUF2Q0EsZ0JBQUEsS0FDQSxJQUVBLEVBQUEsRUFBQSxFQUNBLEVBQUEsRUFBQSxHQUNBLEVBQUEsRUFBQSxJQUtBLEdBR0EsRUFBQSxFQUFBLEdBQUEsR0FDQSxFQUFBLEtBQUEsRUFBQSxFQUFBLEVBQUEsS0FBQSxTQUVBLElBRUEsRUFBQSxFQUFBLEtBQUEsRUFBQSxRQUlBLEVBQUEsSUFBQSxhQUFBLEVBQUEsVUFDQSxHQUFBLEdBZ0JBLEVBR0EsRUFBQSxHQUFBLFNBQUEsR0FJQSxnQkFBQSxLQUNBLEVBQUEsRUFBQSxJQUdBLEVBQUEsTUFBQSxFQUFBLEVBQUEsS0FBQSxFQUFBLE9BQUEsR0FBQSxFQU9BLElBSEEsS0FPQSxRQUVBLENBQUEsR0FBQSxFQUFBLEdBUUEsTUFEQSxVQUFBLEVBQUEsSUFBQSxFQUFBLEdBQUEsS0FBQSxJQUNBLENBS0EsTUFoT0EsR0FBQSxNQUdBLEVBQUEsWUFHQSxFQUFBLE1BQUEsVUFBQSxLQXVEQSxHQUFBLEdBQUEsV0FDQSxNQUFBLEdBQUEsTUFBQSxRQUFBLEdBQUEsT0FBQSxFQUFBLEtBQUEsY0E2REEsRUFBQSxHQUFBLEdBQUEsV0FDQSxHQUFBLEdBQUEsRUFBQSxLQUFBLFdBQ0EsRUFBQSxFQUFBLE1BQUEsTUFBQSxFQUFBLEVBQUEsSUFBQSxPQUFBLEdBRUEsT0FBQSxnQkFBQSxHQUFBLElBQUEsZ0JBQUEsR0FBQSxHQUNBLEtBQ0EsSUFvR0EsUUNuUkEsU0FBQSxHQThEQSxRQUFBLEdBQUEsRUFBQSxHQUVBLEdBQUEsR0FBQSxFQUFBLEVBQUEsWUFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLG1CQUFBLFVBR0EsSUFEQSxFQUFBLFFBQUEsTUFBQSxFQUNBLElBRUEsSUFFQSxNQUFBLEVBQUEsVUFBQSxNQUFBLEVBQUEsT0FBQSxXQUNBLEVBQUEsT0FBQSxTQUFBLEVBQUEsVUFFQSxNQUFBLEVBQUEsV0FBQSxNQUFBLEVBQUEsT0FBQSxZQUNBLEVBQUEsT0FBQSxVQUFBLEVBQUEsVUFFQSxLQUFBLElBQUEsR0FBQSxPQUVBLEdBQUEsRUFBQSxtQkFJQSxNQUFBLEVBQUEsT0FBQSxLQUNBLEdBQUEsSUFBQSxPQUFBLEdBQUEsSUFBQSxFQUFBLE9BQUEsR0FPQSxPQUpBLElBQUEsbUJBQUEsT0FBQSxHQUNBLEVBQ0EsSUFBQSxFQUFBLEtBS0EsUUFBQSxHQUFBLEVBQUEsRUFBQSxHQUVBLEdBQUEsR0FBQSxFQUFBLEVBQUEsR0FDQSxFQUFBLEVBQUEsUUFDQSxJQUFBLEVBQ0EsS0FBQSxNQUNBLFNBQUEsT0FFQSxRQUFBLFNBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxVQUFBLEVBQ0EsUUFBQSxFQUFBLE1BQ0EsSUFBQSxRQUNBLEVBQUEsS0FBQSxFQUFBLEdBQUEsT0FBQSxhQUFBLEVBQUEsRUFDQSxNQUNBLEtBQUEsUUFDQSxFQUFBLEtBQUEsRUFBQSxHQUFBLE9BQUEsYUFBQSxFQUFBLEVBQ0EsTUFDQSxLQUFBLE9BQ0EsRUFBQSxLQUFBLEVBQUEsR0FBQSxPQUFBLFlBQUEsRUFBQSxFQUNBLE1BQ0EsU0FDQSxFQUFBLEtBQUEsRUFBQSxHQUFBLE9BQUEsZUFBQSxFQUFBLEdBR0EsRUFBQSxZQUFBLEtBQUEsRUFBQSxHQUNBLEVBQUEsUUFBQSxLQUFBLEVBQUEsR0FDQSxFQUFBLFdBQUEsS0FBQSxFQUFBLElBRUEsTUFBQSxFQUFBLFFBQUEsS0FBQSxFQUFBLEVBQUEsSUFDQSxFQUFBLGdCQUVBLEdBQUEsS0FBQSxHQUdBLFFBQUEsS0FFQSxJQUVBLElBQUEsR0FBQSxFQUFBLEVBQUEsSUFFQSxJQUFBLEVBQUEsRUFBQSxrQkFTQSxFQUFBLEVBQUEsR0FBQSxPQUFBLGNBVEEsQ0FDQSxJQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxPQUFBLFVBQUEsT0FBQSxJQUNBLEVBQUEsUUFBQSxFQUFBLEdBQUEsT0FBQSxVQUFBLEdBQUEsS0FBQSxFQUFBLG1CQUFBLEdBQ0EsRUFBQSxLQUFBLEVBQUEsR0FBQSxPQUFBLFVBQUEsR0FHQSxHQUFBLFFBQUEsRUFNQSxJQUFBLEVBQUEsRUFBQSxxQkFBQSxDQUNBLElBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLElBQ0EsRUFBQSxRQUFBLEVBQUEsR0FBQSxLQUFBLEVBQUEscUJBQUEsR0FDQSxFQUFBLEtBQUEsRUFBQSxHQUVBLEdBQUEsRUFFQSxFQUFBLFFBQUEsRUFxQkEsSUFsQkEsRUFBQSxFQUFBLGtCQUNBLEVBQUEsS0FBQSxFQUFBLGdCQUFBLFNBQUEsRUFBQSxHQUNBLFlBQUEsR0FBQSxHQUFBLE9BQUEsZUFDQSxFQUFBLEtBQUEsSUFFQSxFQUFBLEdBQUEsR0FBQSxHQUFBLE9BQUEsZUFDQSxFQUFBLFNBQUEsSUFDQSxFQUFBLEtBQUEsTUFNQSxFQUFBLEVBQUEsRUFBQSx1QkFDQSxFQUFBLFVBQUEsR0FDQSxFQUFBLEtBQUEsR0FHQSxFQUFBLEVBQUEsRUFBQSxFQUFBLE9BQUEsSUFDQSxPQUFBLEVBQUEsR0FBQSxjQUNBLEVBQUEsR0FBQSxZQUFBLEVBQUEsYUFJQSxRQUFBLEdBQUEsR0FDQSxHQUFBLEdBQUEsK0JBR0EsT0FGQSxZQUFBLElBQ0EsRUFBQSxzQ0FDQSxHQUFBLEdBQUEsR0FBQSxPQUFBLGVBQUEsRUFBQSxLQUFBLEtBQUEsRUFBQSxZQUdBLFFBQUEsR0FBQSxHQUNBLEdBQUEsT0FBQSxFQUNBLE1BQUEsS0FDQSxJQUFBLEdBQUEsSUFDQSxLQUFBLElBQUEsR0FDQSxPQUFBLElBQ0EsRUFBQSxFQUFBLGVBQUEsRUFBQSxHQUVBLE9BQUEsR0FHQSxRQUFBLEdBQUEsR0FDQSxNQUFBLG1CQUFBLElBQ0EsRUFDQSxPQUFBLEdBQ0EsRUFDQSxFQUFBLFFBQUEsSUFBQSxJQUFBLEVBQUEsUUFDQSxHQUNBLEVBNU1BLEVBQUEsR0FBQSxPQUFBLFNBQUEsRUFBQSxFQUFBLEdBTUEsTUFKQSxHQUFBLEVBQUEsUUFBQSxFQUFBLEVBQUEsR0FBQSxPQUFBLFNBQUEsR0FFQSxJQUVBLEtBQUEsS0FBQSxXQUVBLEdBRUEsR0FGQSxFQUFBLEVBQUEsTUFDQSxFQUFBLE1BQUEsRUFBQSxFQUFBLEVBQUEsS0FBQSxPQXdCQSxPQXBCQSxHQUFBLFFBREEsRUFDQSxFQUVBLFNBQUEsR0FDQSxFQUFBLEdBQUEsT0FBQSxXQUFBLEtBQUEsRUFBQSxZQUFBLElBSUEsTUFBQSxJQUNBLEVBQUEsRUFBQSxHQUFBLE9BQUEsa0JBQUEsR0FFQSxNQUFBLEdBQ0EsRUFBQSxPQUFBLEVBQUEsRUFBQSxFQUFBLFdBQ0EsRUFBQSxTQUFBLEVBQUEsU0FDQSxFQUFBLFVBQUEsRUFBQSxVQUNBLEVBQUEsRUFBQSxFQUFBLElBRUEsRUFBQSxtQkFBQSxLQUFBLEVBQUEsSUFJQSxJQU1BLElBQUEsR0FBQSxJQUdBLEdBQUEsR0FBQSxPQUFBLFVBQ0EsU0FBQSxLQUNBLFVBQUEsS0FDQSxZQUFBLFVBQ0Esc0JBQUEsV0FDQSxpQkFBQSxLQUNBLG9CQUFBLEtBQ0EsZ0JBQUEsS0FDQSxnQkFBQSxLQUNBLFFBQUEsRUFDQSxtQkFBQSxhQUNBLFlBQUEsYUFDQSxXQUFBLGFBQ0EsUUFBQSxhQUNBLFFBQUEsYUFDQSxnQkF1SkEsRUFBQSxHQUFBLE9BQUEsV0FBQSxTQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsT0FBQSxFQUdBLE9BQUEsR0FDQSxJQUFBLE9BQ0EsT0FBQSxFQUFBLEtBQUEsUUFDQSxFQUFBLEdBQUEsT0FBQSxXQUFBLEVBQUEsU0FBQSxHQUdBLEVBQUEsR0FBQSxPQUFBLFdBQUEsRUFBQSxVQUFBLEVBRUEsTUFDQSxLQUFBLFVBQ0EsRUFBQSxZQUFBLEVBQUEsS0FDQSxNQUNBLEtBQUEsT0FDQSxFQUFBLEtBQUEsRUFBQSxLQUNBLE1BQ0EsS0FBQSxTQUNBLEdBQUEsR0FBQSxFQUFBLE1BQ0EsUUFBQSxHQUFBLEVBQUEsU0FBQSxzQkFDQSxFQUFBLEVBQ0EsTUFBQSx3Q0FDQSxLQUFBLHFCQUNBLE9BQUEsR0FBQSxPQUFBLEVBQUEsZUFDQSxFQUFBLFlBQUEsb0JBQUEsRUFBQSxnQkFFQSxFQUFBLEtBQUEsRUFBQSxRQUtBLEVBQUEsR0FBQSxPQUFBLGFBQUEsU0FBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsRUFBQSxNQUFBLEVBQUEsTUFBQSxFQU1BLE9BTEEsSUFBQSxFQUFBLFlBQUEsTUFBQSxFQUFBLFlBQUEsR0FDQSxHQUFBLEVBQUEsY0FBQSxNQUFBLEVBQUEsY0FBQSxHQUNBLEVBQUEsaUJBQUEsRUFBQSxpQ0FBQSxFQUFBLElBQUEsVUFBQSxFQUFBLGdCQUNBLEVBQUEsT0FDQSxHQUFBLFFBQUEsRUFBQSxLQUFBLFVBQ0EsR0FHQSxFQUFBLEdBQUEsT0FBQSxhQUFBLFNBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLElBRUEsT0FBQSxJQUdBLEVBQUEsR0FBQSxPQUFBLFlBQUEsU0FBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsSUFDQSxPQUFBLElBR0EsRUFBQSxHQUFBLE9BQUEsZUFBQSxTQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsT0FBQSxFQUFBLE1BQUEsRUFBQSxNQUFBLEVBQ0EsRUFBQSxZQUFBLEVBQUEsS0FBQSxFQUFBLE1BR0EsT0FGQSxHQUFBLE9BQ0EsR0FBQSxRQUFBLEVBQUEsS0FBQSxVQUNBLEdBR0EsRUFBQSxHQUFBLE9BQUEsb0JBQUEsU0FBQSxHQUNBLEdBQUEsR0FBQSxrQkFBQSxFQUNBLE9BQUEsUUFBQSxHQUdBLEVBQUEsR0FBQSxPQUFBLGtCQUFBLFNBQUEsR0FDQSxJQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLElBQ0EsR0FBQSxFQUFBLEdBQUEsUUFBQSxHQUNBLE1BQUEsR0FBQSxFQUVBLE9BQUEsT0FHQSxFQUFBLEdBQUEsT0FBQSxlQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQTZCQSxRQUFBLEdBQUEsR0FDQSxNQUFBLEdBQUEsSUFDQSxLQUNBLEVBQUEsUUFBQSxHQUNBLEVBQ0EsRUFBQSxNQUFBLEtBakNBLEtBQUEsS0FBQSxFQUNBLEtBQUEsS0FBQSxFQUNBLEtBQUEsV0FBQSxFQUFBLEdBQ0EsS0FBQSxZQUFBLEVBQ0EsS0FBQSxrQkFBQSxFQUNBLEtBQUEsU0FBQSxJQUNBLEtBQUEsVUFBQSxHQUNBLElBQUEsR0FBQSxFQUFBLENBRUEsTUFBQSxRQUFBLFNBQUEsR0FDQSxJQUFBLEVBQUEsRUFBQSxFQUFBLEtBQUEsV0FBQSxPQUFBLElBRUEsR0FEQSxFQUFBLEdBQUEsUUFBQSxLQUFBLFdBQUEsR0FBQSxLQUNBLE9BQUEsRUFBQSxNQUFBLEdBQ0EsT0FBQSxDQUVBLFFBQUEsR0FHQSxLQUFBLFNBQUEsU0FBQSxHQUNBLElBQUEsSUFBQSxHQUVBLEtBQUEsR0FEQSxjQUFBLEVBQ0EsRUFBQSxHQUVBLEVBQUEsRUFBQSxHQUVBLFFBQUEsSUFhQSxFQUFBLEdBQUEsT0FBQSxXQUNBLEdBQUEsR0FBQSxHQUFBLE9BQUEsZUFBQSxVQUFBLFNBQUEscUNBQ0EsR0FBQSxHQUFBLEdBQUEsT0FBQSxlQUFBLFNBQUEsU0FBQSx3Q0FBQSxvQ0FBQSxnQkFDQSxHQUFBLEdBQUEsR0FBQSxPQUFBLGVBQUEsVUFBQSxTQUFBLGdCQUNBLEdBQUEsR0FBQSxHQUFBLE9BQUEsZUFBQSxPQUFBLFNBQUEsZ0JBQUEsMEJBQ0EsR0FBQSxHQUFBLEdBQUEsT0FBQSxlQUFBLE9BQUEsU0FBQSx1QkFBQSx1Q0FDQSxHQUFBLEdBQUEsR0FBQSxPQUFBLGVBQUEsUUFBQSxTQUFBLDJDQUFBLDBCQUFBLHVDQUFBLHVCQUFBLG9DQUNBLEdBQUEsR0FBQSxHQUFBLE9BQUEsZUFBQSxjQUFBLFNBQUEseUJBQ0EsR0FBQSxHQUFBLEdBQUEsT0FBQSxlQUFBLFNBQUEsUUFBQSxvQkFDQSxHQUFBLEdBQUEsR0FBQSxPQUFBLGVBQUEsYUFBQSxRQUFBLGtCQUFBLDBDQUNBLEdBQUEsR0FBQSxHQUFBLE9BQUEsZUFBQSxjQUFBLFNBQUEsd0NBQUEsa0NBQ0EsR0FBQSxHQUFBLEdBQUEsT0FBQSxlQUFBLFFBQUEsU0FBQSxhQUFBLHNDQU9BLFFDaFZBLFdBU0EsUUFBQSxNQWVBLFFBQUEsR0FBQSxFQUFBLEdBRUEsSUFEQSxHQUFBLEdBQUEsRUFBQSxPQUNBLEtBQ0EsR0FBQSxFQUFBLEdBQUEsV0FBQSxFQUNBLE1BQUEsRUFJQSxPQUFBLEdBVUEsUUFBQSxHQUFBLEdBQ0EsTUFBQSxZQUNBLE1BQUEsTUFBQSxHQUFBLE1BQUEsS0FBQSxZQWhDQSxHQUFBLEdBQUEsRUFBQSxVQUNBLEVBQUEsS0FDQSxFQUFBLEVBQUEsWUEyQ0EsR0FBQSxhQUFBLFNBQUEsR0FDQSxHQUNBLEdBQ0EsRUFGQSxFQUFBLEtBQUEsWUFNQSxJQUFBLGdCQUFBLEdBQUEsQ0FDQSxJQUNBLEtBQUEsSUFBQSxHQUNBLEVBQUEsZUFBQSxJQUFBLEVBQUEsS0FBQSxLQUNBLEVBQUEsR0FBQSxFQUFBLFFBS0EsR0FBQSxFQUFBLEtBQUEsRUFBQSxNQUdBLE9BQUEsSUFTQSxFQUFBLGlCQUFBLFNBQUEsR0FDQSxHQUNBLEdBREEsSUFHQSxLQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxHQUFBLEVBQ0EsRUFBQSxLQUFBLEVBQUEsR0FBQSxTQUdBLE9BQUEsSUFTQSxFQUFBLHFCQUFBLFNBQUEsR0FDQSxHQUNBLEdBREEsRUFBQSxLQUFBLGFBQUEsRUFRQSxPQUxBLGFBQUEsU0FDQSxLQUNBLEVBQUEsR0FBQSxHQUdBLEdBQUEsR0FhQSxFQUFBLFlBQUEsU0FBQSxFQUFBLEdBQ0EsR0FFQSxHQUZBLEVBQUEsS0FBQSxxQkFBQSxHQUNBLEVBQUEsZ0JBQUEsRUFHQSxLQUFBLElBQUEsR0FDQSxFQUFBLGVBQUEsSUFBQSxLQUFBLEVBQUEsRUFBQSxHQUFBLElBQ0EsRUFBQSxHQUFBLEtBQUEsRUFBQSxHQUNBLFNBQUEsRUFDQSxNQUFBLEdBS0EsT0FBQSxPQU1BLEVBQUEsR0FBQSxFQUFBLGVBVUEsRUFBQSxnQkFBQSxTQUFBLEVBQUEsR0FDQSxNQUFBLE1BQUEsWUFBQSxHQUNBLFNBQUEsRUFDQSxNQUFBLEtBT0EsRUFBQSxLQUFBLEVBQUEsbUJBU0EsRUFBQSxZQUFBLFNBQUEsR0FFQSxNQURBLE1BQUEsYUFBQSxHQUNBLE1BU0EsRUFBQSxhQUFBLFNBQUEsR0FDQSxJQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLEdBQUEsRUFDQSxLQUFBLFlBQUEsRUFBQSxHQUVBLE9BQUEsT0FXQSxFQUFBLGVBQUEsU0FBQSxFQUFBLEdBQ0EsR0FDQSxHQUNBLEVBRkEsRUFBQSxLQUFBLHFCQUFBLEVBSUEsS0FBQSxJQUFBLEdBQ0EsRUFBQSxlQUFBLEtBQ0EsRUFBQSxFQUFBLEVBQUEsR0FBQSxHQUVBLEtBQUEsR0FDQSxFQUFBLEdBQUEsT0FBQSxFQUFBLEdBS0EsT0FBQSxPQU1BLEVBQUEsSUFBQSxFQUFBLGtCQVlBLEVBQUEsYUFBQSxTQUFBLEVBQUEsR0FFQSxNQUFBLE1BQUEscUJBQUEsRUFBQSxFQUFBLElBYUEsRUFBQSxnQkFBQSxTQUFBLEVBQUEsR0FFQSxNQUFBLE1BQUEscUJBQUEsRUFBQSxFQUFBLElBZUEsRUFBQSxvQkFBQSxTQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsR0FDQSxFQUNBLEVBQUEsRUFBQSxLQUFBLGVBQUEsS0FBQSxZQUNBLEVBQUEsRUFBQSxLQUFBLGdCQUFBLEtBQUEsWUFHQSxJQUFBLGdCQUFBLElBQUEsWUFBQSxRQW1CQSxJQURBLEVBQUEsRUFBQSxPQUNBLEtBQ0EsRUFBQSxLQUFBLEtBQUEsRUFBQSxFQUFBLFFBbkJBLEtBQUEsSUFBQSxHQUNBLEVBQUEsZUFBQSxLQUFBLEVBQUEsRUFBQSxNQUVBLGtCQUFBLEdBQ0EsRUFBQSxLQUFBLEtBQUEsRUFBQSxHQUlBLEVBQUEsS0FBQSxLQUFBLEVBQUEsR0FlQSxPQUFBLE9BWUEsRUFBQSxZQUFBLFNBQUEsR0FDQSxHQUVBLEdBRkEsUUFBQSxHQUNBLEVBQUEsS0FBQSxZQUlBLElBQUEsV0FBQSxRQUVBLEdBQUEsT0FFQSxJQUFBLFdBQUEsRUFFQSxJQUFBLElBQUEsR0FDQSxFQUFBLGVBQUEsSUFBQSxFQUFBLEtBQUEsVUFDQSxHQUFBLGNBTUEsTUFBQSxPQUdBLE9BQUEsT0FRQSxFQUFBLG1CQUFBLEVBQUEsZUFjQSxFQUFBLFVBQUEsU0FBQSxFQUFBLEdBQ0EsR0FDQSxHQUNBLEVBQ0EsRUFDQSxFQUpBLEVBQUEsS0FBQSxxQkFBQSxFQU1BLEtBQUEsSUFBQSxHQUNBLEdBQUEsRUFBQSxlQUFBLEdBR0EsSUFGQSxFQUFBLEVBQUEsR0FBQSxPQUVBLEtBR0EsRUFBQSxFQUFBLEdBQUEsR0FFQSxFQUFBLFFBQUEsR0FDQSxLQUFBLGVBQUEsRUFBQSxFQUFBLFVBR0EsRUFBQSxFQUFBLFNBQUEsTUFBQSxLQUFBLE9BRUEsSUFBQSxLQUFBLHVCQUNBLEtBQUEsZUFBQSxFQUFBLEVBQUEsU0FNQSxPQUFBLE9BTUEsRUFBQSxRQUFBLEVBQUEsYUFVQSxFQUFBLEtBQUEsU0FBQSxHQUNBLEdBQUEsR0FBQSxNQUFBLFVBQUEsTUFBQSxLQUFBLFVBQUEsRUFDQSxPQUFBLE1BQUEsVUFBQSxFQUFBLElBV0EsRUFBQSxtQkFBQSxTQUFBLEdBRUEsTUFEQSxNQUFBLGlCQUFBLEVBQ0EsTUFXQSxFQUFBLG9CQUFBLFdBQ0EsTUFBQSxNQUFBLGVBQUEsb0JBQ0EsS0FBQSxrQkFHQSxHQVVBLEVBQUEsV0FBQSxXQUNBLE1BQUEsTUFBQSxVQUFBLEtBQUEsYUFRQSxFQUFBLFdBQUEsV0FFQSxNQURBLEdBQUEsYUFBQSxFQUNBLEdBSUEsa0JBQUEsU0FBQSxPQUFBLElBQ0EsT0FBQSwrQkFBQSxXQUNBLE1BQUEsS0FHQSxnQkFBQSxTQUFBLE9BQUEsUUFDQSxPQUFBLFFBQUEsRUFHQSxLQUFBLGFBQUEsR0FFQSxLQUFBLE1BWUEsU0FBQSxHQVFBLFFBQUEsR0FBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLEtBR0EsT0FEQSxHQUFBLE9BQUEsRUFBQSxRQUFBLEVBQUEsWUFBQSxFQUNBLEVBUkEsR0FBQSxHQUFBLFNBQUEsZ0JBRUEsRUFBQSxZQVNBLEdBQUEsaUJBQ0EsRUFBQSxTQUFBLEVBQUEsRUFBQSxHQUNBLEVBQUEsaUJBQUEsRUFBQSxHQUFBLElBRUEsRUFBQSxjQUNBLEVBQUEsU0FBQSxFQUFBLEVBQUEsR0FDQSxFQUFBLEVBQUEsR0FBQSxFQUFBLFlBQ0EsV0FDQSxHQUFBLEdBQUEsRUFBQSxFQUNBLEdBQUEsWUFBQSxLQUFBLEVBQUEsSUFFQSxXQUNBLEdBQUEsR0FBQSxFQUFBLEVBQ0EsR0FBQSxLQUFBLEVBQUEsSUFFQSxFQUFBLFlBQUEsS0FBQSxFQUFBLEVBQUEsRUFBQSxLQUlBLElBQUEsR0FBQSxZQUVBLEdBQUEsb0JBQ0EsRUFBQSxTQUFBLEVBQUEsRUFBQSxHQUNBLEVBQUEsb0JBQUEsRUFBQSxHQUFBLElBRUEsRUFBQSxjQUNBLEVBQUEsU0FBQSxFQUFBLEVBQUEsR0FDQSxFQUFBLFlBQUEsS0FBQSxFQUFBLEVBQUEsRUFBQSxHQUNBLFdBQ0EsR0FBQSxFQUFBLEdBQ0EsTUFBQSxHQUVBLEVBQUEsRUFBQSxHQUFBLFNBS0EsSUFBQSxJQUNBLEtBQUEsRUFDQSxPQUFBLEVBSUEsbUJBQUEsU0FBQSxPQUFBLElBRUEsT0FBQSxrQkFBQSxHQUdBLEVBQUEsUUFBQSxHQUdBLE1BUUEsU0FBQSxFQUFBLEdBS0Esa0JBQUEsU0FBQSxPQUFBLElBRUEsUUFDQSw0QkFDQSxtQkFDQSxTQUFBLEVBQUEsR0FDQSxNQUFBLEdBQUEsRUFBQSxFQUFBLEtBRUEsZ0JBQUEsU0FFQSxPQUFBLFFBQUEsRUFDQSxFQUNBLFFBQUEsd0JBQ0EsUUFBQSxZQUlBLEVBQUEsYUFBQSxFQUNBLEVBQ0EsRUFBQSxhQUNBLEVBQUEsVUFJQSxPQUlBLFNBQUEsRUFBQSxFQUFBLEdBV0EsUUFBQSxHQUFBLEVBQUEsR0FDQSxJQUFBLEdBQUEsS0FBQSxHQUNBLEVBQUEsR0FBQSxFQUFBLEVBRUEsT0FBQSxHQUlBLFFBQUEsR0FBQSxHQUNBLE1BQUEsbUJBQUEsRUFBQSxLQUFBLEdBSUEsUUFBQSxHQUFBLEdBQ0EsR0FBQSxLQUNBLElBQUEsRUFBQSxHQUVBLEVBQUEsTUFDQSxJQUFBLGdCQUFBLEdBQUEsT0FFQSxJQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLEVBQUEsRUFBQSxJQUNBLEVBQUEsS0FBQSxFQUFBLFFBSUEsR0FBQSxLQUFBLEVBRUEsT0FBQSxHQVVBLFFBQUEsR0FBQSxFQUFBLEVBQUEsR0FFQSxLQUFBLGVBQUEsSUFDQSxNQUFBLElBQUEsR0FBQSxFQUFBLEVBR0EsaUJBQUEsS0FDQSxFQUFBLFNBQUEsaUJBQUEsSUFHQSxLQUFBLFNBQUEsRUFBQSxHQUNBLEtBQUEsUUFBQSxLQUFBLEtBQUEsU0FFQSxrQkFBQSxHQUNBLEVBQUEsRUFFQSxFQUFBLEtBQUEsUUFBQSxHQUdBLEdBQ0EsS0FBQSxHQUFBLFNBQUEsR0FHQSxLQUFBLFlBRUEsSUFFQSxLQUFBLFdBQUEsR0FBQSxHQUFBLFNBSUEsSUFBQSxHQUFBLElBQ0EsWUFBQSxXQUNBLEVBQUEsVUErR0EsUUFBQSxHQUFBLEdBQ0EsS0FBQSxJQUFBLEVBMkNBLFFBQUEsR0FBQSxHQUNBLEtBQUEsSUFBQSxFQUVBLEVBQUEsR0FBQSxLQTNPQSxHQUFBLEdBQUEsRUFBQSxPQUNBLEVBQUEsRUFBQSxRQUNBLEVBQUEsbUJBQUEsR0FZQSxFQUFBLE9BQUEsVUFBQSxRQW1FQSxHQUFBLFVBQUEsR0FBQSxHQUVBLEVBQUEsVUFBQSxXQUVBLEVBQUEsVUFBQSxVQUFBLFdBQ0EsS0FBQSxTQUdBLEtBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxLQUFBLFNBQUEsT0FBQSxFQUFBLEVBQUEsSUFBQSxDQUNBLEdBQUEsR0FBQSxLQUFBLFNBQUEsRUFFQSxTQUFBLEVBQUEsVUFDQSxLQUFBLFNBQUEsRUFJQSxJQUFBLEdBQUEsRUFBQSxRQUNBLElBQUEsSUFBQSxJQUFBLEdBQUEsSUFBQSxHQUFBLEtBQUEsR0FLQSxJQUFBLEdBRkEsR0FBQSxFQUFBLGlCQUFBLE9BRUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLEVBQUEsRUFBQSxJQUFBLENBQ0EsR0FBQSxHQUFBLEVBQUEsRUFDQSxNQUFBLFNBQUEsTUFRQSxFQUFBLFVBQUEsU0FBQSxTQUFBLEdBQ0EsR0FBQSxHQUFBLEdBQUEsR0FBQSxFQUNBLE1BQUEsT0FBQSxLQUFBLElBR0EsRUFBQSxVQUFBLE1BQUEsV0FXQSxRQUFBLEdBQUEsRUFBQSxHQVVBLE1BVEEsR0FBQSxRQUFBLE9BQUEsR0FDQSxFQUFBLElBQUEsVUFBQSxFQUFBLEdBR0EsRUFBQSxTQUFBLEdBQ0EsSUFDQSxJQUFBLEdBQ0EsRUFBQSxZQUVBLEVBcEJBLEdBQUEsR0FBQSxLQUNBLEVBQUEsRUFDQSxFQUFBLEtBQUEsT0FBQSxNQUdBLElBRkEsS0FBQSxjQUFBLEdBRUEsRUFFQSxXQURBLE1BQUEsVUFpQkEsS0FBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsSUFBQSxDQUNBLEdBQUEsR0FBQSxLQUFBLE9BQUEsRUFDQSxHQUFBLEdBQUEsVUFBQSxHQUNBLEVBQUEsVUFJQSxFQUFBLFVBQUEsU0FBQSxTQUFBLEdBQ0EsS0FBQSxhQUFBLEtBQUEsZUFBQSxFQUFBLFFBRUEsSUFBQSxHQUFBLElBQ0EsWUFBQSxXQUNBLEVBQUEsS0FBQSxXQUFBLEVBQUEsR0FDQSxFQUFBLFlBQUEsRUFBQSxXQUFBLFFBQ0EsRUFBQSxXQUFBLE9BQUEsRUFBQSxNQUtBLEVBQUEsVUFBQSxTQUFBLFdBQ0EsR0FBQSxHQUFBLEtBQUEsYUFBQSxPQUFBLE1BQ0EsTUFBQSxZQUFBLENBQ0EsSUFBQSxHQUFBLElBRUEsWUFBQSxXQUdBLEdBRkEsRUFBQSxLQUFBLEVBQUEsR0FDQSxFQUFBLEtBQUEsU0FBQSxHQUNBLEVBQUEsV0FBQSxDQUNBLEdBQUEsR0FBQSxFQUFBLGFBQUEsU0FBQSxTQUNBLEdBQUEsV0FBQSxHQUFBLE9BT0EsSUFDQSxFQUFBLEdBQUEsYUFBQSxTQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsRUFBQSxFQUNBLE9BQUEsR0FBQSxXQUFBLFFBQUEsRUFBQSxTQVdBLEVBQUEsVUFBQSxHQUFBLEdBRUEsRUFBQSxVQUFBLE1BQUEsV0FFQSxHQUFBLEdBQUEsRUFBQSxLQUFBLElBQUEsTUFBQSxHQUFBLEdBQUEsS0FBQSxJQUFBLElBQ0EsSUFBQSxFQUFBLFlBRUEsV0FEQSxNQUFBLFFBQUEsRUFBQSxTQUFBLHVCQU1BLElBQUEsS0FBQSxJQUFBLFVBQUEsU0FBQSxLQUFBLElBQUEsYUFHQSxXQURBLE1BQUEsUUFBQSxJQUFBLEtBQUEsSUFBQSxhQUFBLGVBS0EsSUFBQSxHQUFBLElBQ0EsR0FBQSxHQUFBLFVBQUEsU0FBQSxFQUFBLEdBRUEsTUFEQSxHQUFBLFFBQUEsRUFBQSxTQUFBLElBQ0EsSUFHQSxFQUFBLFNBR0EsRUFBQSxVQUFBLFFBQUEsU0FBQSxFQUFBLEdBQ0EsS0FBQSxTQUFBLEVBQ0EsS0FBQSxLQUFBLFVBQUEsS0FBQSxHQVFBLElBQUEsS0EyREEsT0FuREEsR0FBQSxVQUFBLEdBQUEsR0FFQSxFQUFBLFVBQUEsTUFBQSxXQUVBLElBQUEsS0FBQSxVQUFBLENBSUEsR0FBQSxHQUFBLEdBQUEsTUFDQSxHQUFBLEtBQUEsRUFBQSxPQUFBLE1BQ0EsRUFBQSxLQUFBLEVBQUEsUUFBQSxNQUNBLEVBQUEsSUFBQSxLQUFBLElBRUEsS0FBQSxXQUFBLElBTUEsRUFBQSxVQUFBLFlBQUEsU0FBQSxHQUNBLEdBQUEsR0FBQSxLQUFBLEVBQUEsSUFDQSxNQUFBLElBQ0EsS0FBQSxHQUFBLElBSUEsRUFBQSxVQUFBLE9BQUEsU0FBQSxHQUNBLEtBQUEsU0FBQSxFQUFBLFVBQ0EsS0FBQSxrQkFBQSxJQUdBLEVBQUEsVUFBQSxRQUFBLFNBQUEsR0FDQSxLQUFBLFNBQUEsRUFBQSxXQUNBLEtBQUEsa0JBQUEsSUFLQSxFQUFBLFVBQUEsUUFBQSxTQUFBLEVBQUEsR0FDQSxLQUFBLGFBQUEsRUFDQSxLQUFBLFNBQUEsRUFDQSxLQUFBLEtBQUEsVUFBQSxLQUFBLElBR0EsRUFBQSxVQUFBLGtCQUFBLFNBQUEsR0FDQSxFQUFBLE9BQUEsRUFBQSxPQUFBLE9BQUEsTUFDQSxFQUFBLE9BQUEsRUFBQSxPQUFBLFFBQUEsT0FLQSxJQ3IzQkEsU0FBQSxHQU9BLEdBQUEsSUFDQSxJQUFBLEtBQ0EsU0FBQSxTQUNBLE9BQUEsS0FDQSxTQUNBLE9BQUEsVUFDQSxnQkFBQSxFQUNBLFlBQUEsTUFDQSxVQUFBLFFBQ0EsTUFBQSxHQUNBLE1BQUEsTUFHQSxFQUFBLGdGQUVBLEVBQUEsU0FBQSxHQUNBLE1BQUEsUUFBQSxHQUFBLFNBQUEsR0FHQSxFQUFBLFNBQUEsRUFBQSxHQUNBLEdBQUEsTUFBQSxJQVdBLE9BVkEsR0FBQSxLQUFBLEVBQUEsU0FBQSxFQUFBLEdBQ0EsRUFBQSxLQUFBLEdBQ0EsRUFBQSxTQUFBLElBQ0EsRUFBQSxLQUFBLEdBQ0EsUUFHQSxJQUFBLEVBQUEsUUFDQSxFQUFBLEtBQUEsR0FFQSxHQUdBLEVBQUEsU0FBQSxHQUNBLE1BQUEsR0FBQSxNQUVBLEVBQUEsUUFBQSxHQUdBLEdBRkEsSUFNQSxFQUFBLFNBQUEsR0FDQSxNQUFBLEdBQUEsSUFBQSxFQUFBLEdBQUEsU0FBQSxFQUFBLEdBQ0EsT0FBQSxFQUFBLElBQUEsRUFBQSxTQUFBLEdBQUEsTUFBQSxHQUFBLFNBU0EsRUFBQSxTQUFBLEVBQUEsRUFBQSxHQUNBLEtBQUEsS0FBQSxFQUFBLEVBQUEsR0FFQSxHQUFBLFdBRUEsS0FBQSxTQUFBLEdBQ0EsS0FBQSxLQUFBLEVBQ0EsS0FBQSxNQUFBLEVBQ0EsS0FBQSxXQUNBLEtBQUEsVUFBQSxFQUFBLFlBR0EsT0FBQSxTQUFBLEdBUUEsR0FOQSxLQUFBLFFBQUEsRUFBQSxjQUFBLEVBRUEsS0FBQSxRQUVBLEtBQUEsVUFBQSxPQUFBLE1BQUEsS0FBQSxXQUFBLElBRUEsS0FBQSxRQUFBLEtBQUEsS0FBQSxPQUFBLENBRUEsR0FBQSxHQUFBLEtBQ0EsRUFBQSxFQUFBLElBQUEsS0FBQSxLQUFBLFNBQUEsR0FBQSxNQUFBLEdBQUEsUUFBQSxJQUNBLE1BQUEsVUFBQSxRQUFBLEdBRUEsTUFBQSxPQUVBLE1BQUEsV0FDQSxNQUFBLE1BQUEsVUFBQSxNQUFBLE1BQUEsS0FBQSxVQUFBLGFBR0EsT0FBQSxPQUFBLENBR0EsSUFBQSxHQUFBLFlBQ0EsR0FBQSxXQWFBLFlBRUEsSUFBQSxTQUFBLEVBQUEsR0FDQSxFQUFBLE9BQUEsVUFBQSxFQUFBLE9BQUEsUUFBQSxLQUNBLE9BQUEsUUFBQSxHQUFBLE1BQUEsT0FBQSxTQUFBLEtBSUEsTUFBQSxTQUFBLEVBQUEsRUFBQSxHQUVBLEVBQUEsRUFBQSxNQUFBLENBR0EsSUFBQSxHQUFBLEVBQUEsTUFDQSxHQUFBLEtBRUEsRUFBQSxXQUFBLE9BQUEsU0FBQSxVQUFBLEdBQUEsRUFHQSxJQUFBLElBQUEsRUFBQSxRQUFBLFFBQ0Esb0JBQUEsY0FBQSxFQUFBLEtBQUEsTUFBQSxFQUdBLEVBQUEsRUFBQSxFQUFBLFVBQUEsRUFBQSxLQU9BLE9BTkEsR0FBQSxJQUFBLEVBQUEsSUFDQSxHQUFBLElBQUEsRUFBQSxNQUFBLEdBR0EsR0FBQSxTQUFBLEVBQUEsSUFBQSxFQUFBLG9CQUFBLEtBQUEsTUFNQSxLQUFBLFNBQUEsRUFBQSxFQUFBLEdBS0EsR0FGQSxFQUFBLEVBQUEsVUFBQSxFQUFBLEVBQUEsUUFBQSxTQUFBLGdCQUFBLElBQUEsR0FFQSxFQUFBLEVBQUEsS0FFQSxNQURBLE1BQUEsSUFBQSxRQUFBLGlGQUNBLElBSUEsR0FBQSxFQUFBLEVBR0EsSUFFQSxHQUZBLEVBQUEsR0FBQSxHQUFBLEdBRUEsS0FBQSxJQUVBLEdBQUEsS0FBQSxFQUFBLFNBQUEsRUFBQSxHQUNBLEdBQUEsRUFFQSxFQUFBLEtBQUEsS0FDQSxHQUFBLEVBRUEsT0FBQSxFQUFBLE9BQUEsRUFBQSxNQUFBLE9BQUEsRUFBQSxNQUFBLEtBQUEsS0FDQSxHQUFBLElBSUEsS0FBQSxFQUNBLEVBQUEsS0FBQSxHQUdBLEVBQUEsTUFDQSxJQUFBLEVBQ0EsYUFBQSxFQUNBLE9BQUEsRUFDQSxTQUFBLEVBQ0EsS0FBQSxRQUNBLGNBQUEsZ0JBQUEsRUFBQSxPQU1BLElBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLEVBQUEsSUE2QkEsT0ExQkEsR0FBQSxLQUFBLEVBQUEsU0FBQSxFQUFBLEdBQ0EsRUFBQSxNQUNBLElBQUEsRUFBQSxNQUFBLEVBQUEsRUFBQSxHQUNBLFNBQUEsUUFDQSxRQUFBLFNBQUEsR0FFQSxFQUFBLEtBQUEsR0FBQSxFQUFBLElBQUEsU0FBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsRUFDQSxHQUFBLGFBQUEsRUFBQSxHQUNBLEVBQUEsU0FBQSxFQUNBLEVBQUEsT0FBQSxVQU1BLEVBQUEsUUFHQSxXQUFBLFdBQ0EsRUFBQSxLQUFBLEVBQUEsU0FBQSxFQUFBLEdBQ0EsRUFBQSxPQUFBLE1BRUEsR0FHQSxFQUFBLFdBSUEsT0FBQSxTQUFBLEVBQUEsR0FDQSxNQUFBLE1BQUEsS0FBQSxTQUFBLEVBQUEsSUFFQSxRQUFBLFNBQUEsRUFBQSxHQUNBLE1BQUEsTUFBQSxLQUFBLFVBQUEsRUFBQSxJQUVBLFVBQUEsU0FBQSxFQUFBLEdBQ0EsTUFBQSxNQUFBLEtBQUEsWUFBQSxFQUFBLElBRUEsUUFBQSxTQUFBLEVBQUEsR0FDQSxNQUFBLE1BQUEsS0FBQSxVQUFBLEVBQUEsSUFLQSxJQUFBLEdBQUEsWUFDQSxHQUFBLFdBR0EsTUFBQSxTQUFBLEVBQUEsRUFBQSxHQUNBLEVBQUEsRUFBQSxVQUFBLEVBQUEsUUFBQSxTQUFBLGdCQUFBLElBQUEsRUFFQSxJQUFBLEdBQUEsRUFBQSxNQUNBLEdBQUEsS0FFQSxFQUFBLFdBQUEsT0FBQSxTQUFBLFVBQUEsR0FBQSxFQUdBLElBQUEsSUFBQSxFQUFBLFFBQUEsUUFDQSxrQkFBQSxZQUFBLEVBQUEsS0FBQSxjQUFBLEVBR0EsRUFBQSxFQUFBLEVBQUEsVUFBQSxFQUFBLEtBT0EsT0FOQSxHQUFBLElBQUEsRUFBQSxJQUNBLEdBQUEsSUFBQSxFQUFBLE1BQUEsR0FHQSxHQUFBLFFBQUEsbUJBQUEsSUFLQSxRQUFBLFNBQUEsRUFBQSxHQUNBLE1BQUEsTUFBQSxNQUFBLFVBQUEsRUFBQSxJQUVBLE9BQUEsU0FBQSxFQUFBLEdBQ0EsTUFBQSxNQUFBLE1BQUEsU0FBQSxFQUFBLElBRUEsS0FBQSxTQUFBLEVBQUEsR0FDQSxNQUFBLE1BQUEsTUFBQSxPQUFBLEVBQUEsSUFFQSxLQUFBLFNBQUEsRUFBQSxHQUNBLE1BQUEsTUFBQSxNQUFBLE9BQUEsRUFBQSxJQUlBLElBQUEsR0FBQSxTQUFBLEVBQUEsRUFBQSxHQUNBLEtBQUEsS0FBQSxFQUFBLEVBQUEsR0FHQSxHQUFBLFdBQ0EsS0FBQSxTQUFBLEVBQUEsRUFBQSxHQUNBLEtBQUEsS0FBQSxFQUNBLEtBQUEsTUFBQSxFQUFBLEdBQ0EsS0FBQSxhQUFBLEVBQ0EsS0FBQSxRQUFBLEVBQ0EsS0FBQSxPQUFBLEVBQUEsVUFHQSxJQUFBLEdBQUEsSUFDQSxNQUFBLE9BQUEsS0FBQSxXQUNBLEVBQUEsTUFBQSxRQUFBLFVBQUEsTUFJQSxLQUFBLE1BQUEsUUFBQSxlQUFBLFFBRUEsU0FBQSxTQUFBLEdBQ0EsRUFBQSxPQUFBLEtBQUEsR0FHQSxLQUFBLFFBQUEsUUFDQSxLQUFBLFFBQUEsUUFBQSxNQUFBLEtBQUEsTUFBQSxLQUFBLEtBQUEsT0FJQSxXQUFBLEtBQUEsUUFBQSxVQUNBLEtBQUEsVUFJQSxLQUFBLE9BQUEsUUFBQSxPQUVBLFdBQUEsV0FDQSxHQUFBLEdBQUEsSUFXQSxPQVZBLE1BQUEsUUFBQSxpQkFDQSxLQUFBLFFBQUEsTUFBQSxXQUNBLEVBQUEsTUFBQSxTQUFBLEtBQUEsUUFBQSxNQUFBLFNBQUEsS0FBQSxHQUFBLEtBQ0EsRUFBQSxLQUFBLGNBQUEsS0FBQSxRQUFBLE1BQUEsU0FBQSxJQUVBLEtBQUEsUUFBQSxNQUFBLFlBQ0EsRUFBQSxNQUFBLFNBQUEsS0FBQSxRQUFBLE1BQUEsVUFBQSxLQUFBLEdBQUEsS0FDQSxFQUFBLEtBQUEsZUFBQSxLQUFBLFFBQUEsTUFBQSxVQUFBLEtBR0EsRUFBQSxLQUFBLE1BR0EsUUFBQSxXQUVBLEdBQUEsVUFBQSxLQUFBLEtBQ0EsT0FBQSxDQUlBLE1BQUEsTUFBQSxLQUFBLFlBRUEsSUFBQSxFQUNBLFdBQUEsS0FBQSxNQUNBLEVBQUEsWUFBQSxLQUFBLGFBQUEscUJBQ0EsR0FBQSxlQUFBLEtBQUEsTUFBQSxVQUFBLEtBQUEsSUFBQSxVQUFBLEtBQUEsTUFBQSxZQUNBLFVBQUEsS0FBQSxNQUFBLFNBQUEsS0FBQSxLQUNBLEVBQUEsS0FBQSxNQUVBLEtBQUEsTUFBQSxLQUFBLE9BQUEsS0FBQSxJQUNBLEVBQUEsS0FBQSxjQUFBLGFBQUEsS0FBQSxjQUFBLDBCQUFBLEtBQUEsTUFBQSxNQUFBLEdBQ0EsR0FBQSxZQUFBLEtBQUEsYUFBQSxLQUFBLEtBQUEsTUFBQSxPQUNBLEdBQUEsS0FBQSxjQUFBLFlBQUEsS0FBQSxhQUFBLHNCQUFBLEtBQUEsY0FBQSxPQUFBLEdBQ0EsR0FBQSxLQUFBLFlBQUEsNEJBQUEsS0FBQSxZQUFBLFNBQUEsSUFHQSxLQUFBLFFBQUEsY0FDQSxFQUFBLElBQUEsS0FBQSxRQUFBLFlBQUEsV0FBQSxLQUFBLFFBQUEsVUFBQSxLQUFBLEVBQUEsS0FBQSxLQUFBLFFBQUEsWUFBQSxLQUdBLEtBQUEsS0FBQSxFQUVBLFlBQUEsS0FBQSxRQUFBLE9BQ0EsS0FBQSxNQUFBLFlBQUEsS0FBQSxNQUNBLFVBQUEsS0FBQSxRQUFBLE9BQ0EsS0FBQSxNQUFBLE1BQUEsS0FBQSxNQUNBLGdCQUFBLEtBQUEsUUFBQSxPQUNBLEtBQUEsTUFBQSxTQUFBLE1BQUEsS0FBQSxNQUNBLGtCQUFBLEtBQUEsUUFBQSxRQUNBLEtBQUEsTUFBQSxTQUFBLFlBQUEsS0FBQSxNQUlBLEtBQUEsTUFBQSxRQUFBLGFBQUEsU0FLQSxFQUFBLFFBQUEsR0FBQSxHQUdBLEVBQUEsUUFBQSxRQUFBLEdBQUEsR0FFQSxFQUFBLEdBQUEsUUFBQSxTQUFBLEdBQ0EsR0FBQSxTQUFBLEdBQUEsZ0JBQUEsR0FBQSxDQU1BLEdBSEEsRUFBQSxFQUFBLFVBQUEsRUFBQSxFQUFBLFFBQUEsU0FBQSxnQkFBQSxJQUFBLEdBR0EsRUFBQSxFQUFBLEtBRUEsTUFEQSxHQUFBLFFBQUEsSUFBQSxRQUFBLGlGQUNBLEtBQUEsS0FBQSxFQUFBLEtBSUEsSUFBQSxNQUdBLEVBQUEsU0FBQSxHQUNBLElBQUEsRUFBQSxLQUFBLEVBQUEsR0FBQSxXQUFBLENBQ0EsR0FBQSxHQUFBLEVBQUEsR0FBQSxLQUFBLFFBRUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQ0EsR0FBQSxLQUFBLEVBQUEsVUFBQSxHQUVBLEVBQUEsZUFBQSxHQUNBLEVBQUEsR0FBQSxLQUFBLEdBRUEsRUFBQSxJQUFBLEtBTUEsRUFBQSxLQUFBLEtBQUEsV0FDQSxFQUFBLEVBQUEsTUFBQSxLQUFBLFNBR0EsRUFBQSxNQUFBLEtBQUEsS0FBQSxLQUFBLFdBQ0EsRUFBQSxFQUFBLE1BQUEsS0FBQSxVQUNBLEVBQUEsUUFKQSxFQUFBLFFBV0EsRUFBQSxFQUFBLFFBQUEsS0FBQSxFQUFBLFNBQ0EsRUFBQSxJQUFBLEVBQUEsU0FBQSxFQUFBLEdBQUEsTUFBQSxLQUNBLEdBQ0EsU0FBQSxTQUFBLEdBQ0EsRUFBQSxLQUFBLEVBQUEsRUFBQSxjQUFBLFNBQUEsRUFBQSxHQUNBLEVBQUEsU0FBQSxNQVVBLE9BTkEsR0FBQSxVQUNBLEVBQUEsU0FBQSxFQUFBLFVBRUEsRUFBQSxNQUNBLEVBQUEsS0FBQSxFQUFBLE1BRUEsSUFLQSxFQUFBLEtBQUEsS0FBQSxRQUFBLFNBQUEsR0FDQSxPQUFBLEVBQUEsRUFBQSxHQUFBLEtBQUEsYUFLQSxFQUFBLEdBQUEsUUFBQSxTQUFBLEVBQUEsR0FPQSxHQUpBLEVBQUEsS0FDQSxFQUFBLFdBR0EsU0FBQSxHQUFBLGdCQUFBLEdBQUEsQ0FNQSxHQUhBLEVBQUEsRUFBQSxVQUFBLEVBQUEsRUFBQSxRQUFBLFNBQUEsZ0JBQUEsSUFBQSxHQUdBLEVBQUEsRUFBQSxLQUVBLE1BREEsR0FBQSxRQUFBLElBQUEsUUFBQSx5RkFDQSxLQUFBLEtBQUEsRUFBQSxLQUlBLElBQUEsR0FBQSxTQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsRUFDQSxLQUFBLEVBQUEsS0FBQSxXQUFBLENBQ0EsR0FBQSxHQUFBLEVBQUEsS0FBQSxRQUFBLEVBQUEsS0FBQSxRQUVBLEdBQ0EsYUFBQSxFQUNBLElBQUEsRUFBQSxRQUFBLFFBQUEsTUFBQSxFQUFBLEVBQUEsR0FHQSxHQUFBLEtBQUEsVUFBQSxHQUNBLEVBQUEsUUFBQSxlQUFBLEdBRUEsSUFBQSxHQUFBLGFBQUEsRUFBQSxJQUFBLE1BQ0EsR0FBQSxHQUFBLEtBQ0EsRUFBQSxPQUFBLEdBRUEsRUFBQSxZQUFBLEtBSUEsRUFBQSxTQUFBLEdBQ0EsTUFBQSxHQUFBLEVBQUEsR0FBQSxLQUFBLFNBQUEsRUFBQSxFQUFBLEdBQUEsS0FBQSxVQUNBLEdBRUEsR0FJQSxFQUFBLEtBQUEsS0FBQSxXQUNBLEVBQUEsTUFDQSxFQUFBLE1BRUEsRUFBQSxNQUFBLEtBQUEsU0FBQSxLQUFBLFdBQ0EsRUFBQSxPQUNBLEVBQUEsU0FNQSxPQUFBLEtBS0EsRUFBQSxLQUFBLEtBQUEsUUFBQSxTQUFBLEdBQ0EsT0FBQSxFQUFBLEVBQUEsR0FBQSxLQUFBLGNBR0EsT0FBQSxRQzlmQSxTQUFBLEdBQ0Esa0JBQUEsU0FBQSxPQUFBLElBRUEsUUFBQSxVQUFBLEdBR0EsRUFBQSxTQUVBLFNBQUEsR0F3SkEsUUFBQSxLQUNBLEdBQUEsR0FBQSxFQUFBLE1BQ0EsRUFBQSxFQUFBLFFBT0EsT0FMQSxPQUFBLEVBQUEsWUFDQSxHQUFBLEVBQUEsUUFBQSxFQUFBLEVBQUEsVUFBQSxFQUFBLFNBQ0EsRUFBQSxNQUFBLEtBQUEsRUFBQSxFQUFBLFdBR0EsS0FHQSxRQUFBLEdBQUEsR0FFQSxHQURBLEVBQUEsRUFBQSxJQUNBLEVBQUEsS0FBQSxXQUFBLENBQ0EsRUFBQSxLQUFBLFdBQUEsU0FBQSxFQUFBLFNBQUEsSUFDQSxJQUFBLEdBQUEsRUFBQSxLQUFBLEVBQUEsT0FDQSxHQUFBLFNBQUEsWUFDQSxFQUFBLEtBQUEsUUFBQSxFQUFBLEtBQUEsV0FBQSxTQUFBLG9CQUNBLEVBQUEsT0FBQSxJQUFBLEVBQUEsT0FBQSxJQUFBLEVBQUEsS0FBQSxVQUNBLEVBQUEsS0FBQSxRQUFBLEdBR0EsTUFBQSxHQUFBLEtBQUEsV0FHQSxRQUFBLEdBQUEsR0FDQSxNQUFBLEdBQUEsUUFBQSxFQUFBLElBR0EsUUFBQSxHQUFBLEdBQ0EsT0FBQSxHQUFBLE9BQUEsVUFBQSxFQUFBLFVBdExBLEVBQUEsUUFBQSxTQUFBLEdBQ0EsTUFDQSxHQURBLFlBQUEsTUFDQSxFQUNBLGdCQUFBLEdBQ0EsRUFBQSxRQUFBLE1BQUEsR0FDQSxnQkFBQSxHQUNBLEdBQUEsTUFBQSxHQUVBLEVBQUEsUUFBQSxTQUFBLElBR0EsSUFBQSxHQUFBLEVBQUEsT0FFQSxHQUFBLE9BQUEsRUFBQSxTQUNBLFVBQ0EsY0FBQSxJQUNBLFdBQUEsRUFDQSxhQUFBLEVBQ0EsYUFBQSxFQUNBLE9BQUEsRUFDQSxTQUNBLFVBQUEsS0FDQSxjQUFBLEtBQ0EsVUFBQSxNQUNBLGNBQUEsV0FDQSxPQUFBLGlCQUNBLFFBQUEscUJBQ0EsT0FBQSxpQkFDQSxRQUFBLGFBQ0EsS0FBQSxnQkFDQSxNQUFBLGlCQUNBLElBQUEsUUFDQSxLQUFBLFVBQ0EsTUFBQSxnQkFDQSxPQUFBLFlBQ0EsS0FBQSxlQUNBLE1BQUEsV0FDQSxjQUFBLElBQ0EsYUFJQSxRQUFBLFNBQUEsR0F5QkEsUUFBQSxHQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxXQUFBLEdBQUEsRUFBQSxFQUFBLEdBQUEsRUFDQSxFQUFBLEVBQUEsU0FBQSxFQUFBLFFBQUEsSUFBQSxDQUNBLE9BQUEsR0FBQSxRQUFBLE1BQUEsR0EzQkEsSUFBQSxLQUFBLFNBQUEsWUFBQSxLQUFBLFNBQUEsWUFDQSxLQUFBLDBFQUdBLElBQUEsR0FBQSxLQUFBLFNBQUEsUUFDQSxFQUFBLEVBQUEsVUFDQSxFQUFBLEVBQUEsU0FRQSxJQVBBLEtBQUEsU0FBQSxhQUNBLEVBQUEsSUFDQSxFQUFBLEVBQUEsY0FDQSxFQUFBLEVBQUEsZ0JBSUEsS0FBQSxTQUFBLFdBQUEsR0FBQSxFQUNBLE1BQUEsTUFBQSxTQUFBLFFBQUEsTUFHQSxJQUFBLEdBQUEsS0FBQSxJQUFBLEdBQUEsSUFDQSxFQUFBLEVBQUEsR0FDQSxFQUFBLEVBQUEsR0FDQSxFQUFBLEVBQUEsR0FDQSxFQUFBLEVBQUEsSUFRQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsUUFBQSxLQUFBLE1BQUEsS0FDQSxHQUFBLEdBQUEsRUFBQSxFQUFBLE9BQUEsSUFDQSxHQUFBLEdBQUEsRUFBQSxFQUFBLFFBQUEsS0FBQSxNQUFBLEtBQ0EsR0FBQSxHQUFBLEVBQUEsRUFBQSxLQUFBLElBQ0EsR0FBQSxHQUFBLEVBQUEsRUFBQSxNQUFBLEtBQUEsTUFBQSxLQUNBLEdBQUEsR0FBQSxFQUFBLEVBQUEsSUFBQSxJQUNBLEdBQUEsR0FBQSxFQUFBLEVBQUEsS0FBQSxLQUFBLE1BQUEsS0FDQSxHQUFBLEdBQUEsRUFBQSxFQUFBLE1BQUEsSUFDQSxJQUFBLEdBQUEsRUFBQSxFQUFBLE9BQUEsS0FBQSxNQUFBLEVBQUEsTUFDQSxJQUFBLEdBQUEsRUFBQSxFQUFBLEtBQUEsSUFDQSxFQUFBLEVBQUEsTUFBQSxLQUFBLE1BQUEsSUFFQSxFQUFBLEVBQUEsZUFBQSxFQUVBLE9BREEsVUFBQSxFQUFBLGdCQUFBLEVBQUEsS0FDQSxFQUFBLE1BQUEsRUFBQSxFQUFBLEdBQUEsS0FBQSxLQUdBLE1BQUEsU0FBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLEtBQUEsRUFNQSxPQUxBLEdBQUEsRUFBQSxRQUFBLFFBQUEsSUFDQSxFQUFBLEVBQUEsUUFBQSxJQUFBLEtBQUEsUUFBQSxJQUFBLEtBQ0EsRUFBQSxFQUFBLFFBQUEsSUFBQSxLQUFBLFFBQUEsSUFBQSxRQUNBLEVBQUEsRUFBQSxRQUFBLHdCQUFBLFNBQ0EsRUFBQSxFQUFBLFFBQUEsZ0JBQUEsU0FDQSxHQUFBLE1BQUEsSUFFQSxTQUFBLFNBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxPQUFBLEdBQUEsV0FBQSxRQUNBLE9BQUEsR0FBQSxNQUFBLElBRUEsT0FBQSxTQUFBLEdBRUEsTUFBQSxTQUFBLEVBQUEsR0FBQSxJQUFBLEdBQUEsUUFBQSxnQkFPQSxJQUFBLElBQ0EsS0FBQSxXQUNBLEdBQUEsR0FBQSxFQUFBLE1BQUEsRUFBQSxLQUNBLElBQ0EsSUFBQSxHQUFBLEVBQUEsUUFDQSxHQUFBLGNBQUEsSUFDQSxLQUFBLGlCQUFBLFlBQUEsRUFBQSxFQUFBLGlCQUdBLE9BQUEsU0FBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLE1BQUEsRUFDQTtFQUFBLE1BQUEsS0FBQSxXQUFBLFNBQUEsSUFDQSxFQUFBLFNBQUEsYUFBQSxFQUFBLE1BQUEsS0FBQSxRQUFBLEVBQUEsa0JBQ0EsRUFBQSxNQUFBLE9BRUEsY0FBQSxXQUNBLEVBQUEsTUFBQSxLQUFBLFdBQUEsU0FBQSxFQUFBLE1BQUEsRUFBQSxNQUFBLEtBQUEsRUFBQSxPQUFBLE1BQUEsV0FBQSxZQUNBLEVBQUEsTUFBQSxPQUVBLFFBQUEsV0FDQSxLQUFBLG1CQUNBLE9BQUEsY0FBQSxLQUFBLGtCQUNBLEtBQUEsaUJBQUEsT0FLQSxHQUFBLEdBQUEsUUFBQSxTQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxJQUNBLEtBQUEsRUFDQSxLQUFBLElBQUEsT0FBQSwwQkFBQSxFQUFBLGdCQU1BLE9BSEEsTUFBQSxLQUFBLFdBQ0EsRUFBQSxLQUFBLEtBQUEsS0FFQSxNQXNDQSxTQUFBLGNBQUEsUUFDQSxTQUFBLGNBQUEsV0MzTUEsU0FBQSxHQUNBLFlBcURBLFNBQUEsR0FBQSxHQUNBLE1BQUEsTUFBQSxLQUFBLFdBQ0EsR0FBQSxHQUFBLEVBQUEsTUFDQSxFQUFBLEVBQUEsS0FBQSxXQUVBLElBQUEsRUFBQSxLQUFBLFdBQUEsRUFBQSxHQUFBLEdBQUEsT0FDQSxnQkFBQSxJQUFBLEVBQUEsR0FBQSxLQUFBLEtBdERBLEdBQUEsR0FBQSx5QkFDQSxFQUFBLFNBQUEsR0FDQSxFQUFBLEdBQUEsR0FBQSxRQUFBLEVBQUEsS0FBQSxPQUdBLEdBQUEsUUFBQSxRQUVBLEVBQUEsb0JBQUEsSUFFQSxFQUFBLFVBQUEsTUFBQSxTQUFBLEdBdUJBLFFBQUEsS0FFQSxFQUFBLFNBQUEsUUFBQSxtQkFBQSxTQXhCQSxHQUFBLEdBQUEsRUFBQSxNQUNBLEVBQUEsRUFBQSxLQUFBLGNBRUEsS0FDQSxFQUFBLEVBQUEsS0FBQSxRQUNBLEVBQUEsR0FBQSxFQUFBLFFBQUEsaUJBQUEsSUFHQSxJQUFBLEdBQUEsRUFBQSxFQUVBLElBQUEsRUFBQSxpQkFFQSxFQUFBLFNBQ0EsRUFBQSxFQUFBLFFBQUEsV0FHQSxFQUFBLFFBQUEsRUFBQSxFQUFBLE1BQUEsbUJBRUEsRUFBQSx1QkFFQSxFQUFBLFlBQUEsTUFPQSxFQUFBLFFBQUEsWUFBQSxFQUFBLFNBQUEsUUFDQSxFQUNBLElBQUEsa0JBQUEsR0FDQSxxQkFBQSxFQUFBLHFCQUNBLEtBaUJBLElBQUEsR0FBQSxFQUFBLEdBQUEsS0FFQSxHQUFBLEdBQUEsTUFBQSxFQUNBLEVBQUEsR0FBQSxNQUFBLFlBQUEsRUFNQSxFQUFBLEdBQUEsTUFBQSxXQUFBLFdBRUEsTUFEQSxHQUFBLEdBQUEsTUFBQSxFQUNBLE1BT0EsRUFBQSxVQUFBLEdBQUEsMEJBQUEsRUFBQSxFQUFBLFVBQUEsUUFFQSxTQ3BGQSxTQUFBLEdBQ0EsWUFxS0EsU0FBQSxHQUFBLEdBQ0EsTUFBQSxNQUFBLEtBQUEsV0FDQSxHQUFBLEdBQUEsRUFBQSxNQUNBLEVBQUEsRUFBQSxLQUFBLGVBQ0EsRUFBQSxFQUFBLFVBQUEsRUFBQSxTQUFBLEVBQUEsT0FBQSxnQkFBQSxJQUFBLEdBQ0EsRUFBQSxnQkFBQSxHQUFBLEVBQUEsRUFBQSxLQUVBLElBQUEsRUFBQSxLQUFBLGNBQUEsRUFBQSxHQUFBLEdBQUEsS0FBQSxJQUNBLGdCQUFBLEdBQUEsRUFBQSxHQUFBLEdBQ0EsRUFBQSxFQUFBLEtBQ0EsRUFBQSxVQUFBLEVBQUEsUUFBQSxVQTFLQSxHQUFBLEdBQUEsU0FBQSxFQUFBLEdBQ0EsS0FBQSxTQUFBLEVBQUEsR0FDQSxLQUFBLFlBQUEsS0FBQSxTQUFBLEtBQUEsd0JBQ0EsS0FBQSxRQUFBLEVBQ0EsS0FBQSxPQUFBLEtBQ0EsS0FBQSxRQUFBLEtBQ0EsS0FBQSxTQUFBLEtBQ0EsS0FBQSxRQUFBLEtBQ0EsS0FBQSxPQUFBLEtBRUEsS0FBQSxRQUFBLFVBQUEsS0FBQSxTQUFBLEdBQUEsc0JBQUEsRUFBQSxNQUFBLEtBQUEsUUFBQSxPQUVBLFNBQUEsS0FBQSxRQUFBLFNBQUEsZ0JBQUEsVUFBQSxrQkFBQSxLQUFBLFNBQ0EsR0FBQSx5QkFBQSxFQUFBLE1BQUEsS0FBQSxNQUFBLE9BQ0EsR0FBQSx5QkFBQSxFQUFBLE1BQUEsS0FBQSxNQUFBLE9BR0EsR0FBQSxRQUFBLFFBRUEsRUFBQSxvQkFBQSxJQUVBLEVBQUEsVUFDQSxTQUFBLElBQ0EsTUFBQSxRQUNBLE1BQUEsRUFDQSxVQUFBLEdBR0EsRUFBQSxVQUFBLFFBQUEsU0FBQSxHQUNBLElBQUEsa0JBQUEsS0FBQSxFQUFBLE9BQUEsU0FBQSxDQUNBLE9BQUEsRUFBQSxPQUNBLElBQUEsSUFBQSxLQUFBLE1BQUEsTUFDQSxLQUFBLElBQUEsS0FBQSxNQUFBLE1BQ0EsU0FBQSxPQUdBLEVBQUEsbUJBR0EsRUFBQSxVQUFBLE1BQUEsU0FBQSxHQVNBLE1BUkEsS0FBQSxLQUFBLFFBQUEsR0FFQSxLQUFBLFVBQUEsY0FBQSxLQUFBLFVBRUEsS0FBQSxRQUFBLFdBQ0EsS0FBQSxTQUNBLEtBQUEsU0FBQSxZQUFBLEVBQUEsTUFBQSxLQUFBLEtBQUEsTUFBQSxLQUFBLFFBQUEsV0FFQSxNQUdBLEVBQUEsVUFBQSxhQUFBLFNBQUEsR0FFQSxNQURBLE1BQUEsT0FBQSxFQUFBLFNBQUEsU0FBQSxTQUNBLEtBQUEsT0FBQSxNQUFBLEdBQUEsS0FBQSxVQUdBLEVBQUEsVUFBQSxvQkFBQSxTQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsS0FBQSxhQUFBLEdBQ0EsRUFBQSxRQUFBLEdBQUEsSUFBQSxHQUNBLFFBQUEsR0FBQSxHQUFBLEtBQUEsT0FBQSxPQUFBLENBQ0EsSUFBQSxJQUFBLEtBQUEsUUFBQSxLQUFBLE1BQUEsRUFDQSxJQUFBLEdBQUEsUUFBQSxFQUFBLEdBQUEsRUFDQSxHQUFBLEVBQUEsR0FBQSxLQUFBLE9BQUEsTUFDQSxPQUFBLE1BQUEsT0FBQSxHQUFBLElBR0EsRUFBQSxVQUFBLEdBQUEsU0FBQSxHQUNBLEdBQUEsR0FBQSxLQUNBLEVBQUEsS0FBQSxhQUFBLEtBQUEsUUFBQSxLQUFBLFNBQUEsS0FBQSxnQkFFQSxPQUFBLEdBQUEsS0FBQSxPQUFBLE9BQUEsR0FBQSxFQUFBLEVBQUEsT0FFQSxLQUFBLFFBQUEsS0FBQSxTQUFBLElBQUEsbUJBQUEsV0FBQSxFQUFBLEdBQUEsS0FDQSxHQUFBLEVBQUEsS0FBQSxRQUFBLFFBRUEsS0FBQSxNQUFBLEVBQUEsRUFBQSxPQUFBLE9BQUEsS0FBQSxPQUFBLEdBQUEsS0FHQSxFQUFBLFVBQUEsTUFBQSxTQUFBLEdBVUEsTUFUQSxLQUFBLEtBQUEsUUFBQSxHQUVBLEtBQUEsU0FBQSxLQUFBLGdCQUFBLFFBQUEsRUFBQSxRQUFBLGFBQ0EsS0FBQSxTQUFBLFFBQUEsRUFBQSxRQUFBLFdBQUEsS0FDQSxLQUFBLE9BQUEsSUFHQSxLQUFBLFNBQUEsY0FBQSxLQUFBLFVBRUEsTUFHQSxFQUFBLFVBQUEsS0FBQSxXQUNBLE1BQUEsTUFBQSxRQUFBLE9BQ0EsS0FBQSxNQUFBLFNBR0EsRUFBQSxVQUFBLEtBQUEsV0FDQSxNQUFBLE1BQUEsUUFBQSxPQUNBLEtBQUEsTUFBQSxTQUdBLEVBQUEsVUFBQSxNQUFBLFNBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxLQUFBLFNBQUEsS0FBQSxnQkFDQSxFQUFBLEdBQUEsS0FBQSxvQkFBQSxFQUFBLEdBQ0EsRUFBQSxLQUFBLFNBQ0EsRUFBQSxRQUFBLEVBQUEsT0FBQSxRQUNBLEVBQUEsSUFFQSxJQUFBLEVBQUEsU0FBQSxVQUFBLE1BQUEsTUFBQSxTQUFBLENBRUEsSUFBQSxHQUFBLEVBQUEsR0FDQSxFQUFBLEVBQUEsTUFBQSxxQkFDQSxjQUFBLEVBQ0EsVUFBQSxHQUdBLElBREEsS0FBQSxTQUFBLFFBQUEsSUFDQSxFQUFBLHFCQUFBLENBTUEsR0FKQSxLQUFBLFNBQUEsRUFFQSxHQUFBLEtBQUEsUUFFQSxLQUFBLFlBQUEsT0FBQSxDQUNBLEtBQUEsWUFBQSxLQUFBLFdBQUEsWUFBQSxTQUNBLElBQUEsR0FBQSxFQUFBLEtBQUEsWUFBQSxXQUFBLEtBQUEsYUFBQSxJQUNBLElBQUEsRUFBQSxTQUFBLFVBR0EsR0FBQSxHQUFBLEVBQUEsTUFBQSxvQkFBQSxjQUFBLEVBQUEsVUFBQSxHQXlCQSxPQXhCQSxHQUFBLFFBQUEsWUFBQSxLQUFBLFNBQUEsU0FBQSxVQUNBLEVBQUEsU0FBQSxHQUNBLEVBQUEsR0FBQSxZQUNBLEVBQUEsU0FBQSxHQUNBLEVBQUEsU0FBQSxHQUNBLEVBQ0EsSUFBQSxrQkFBQSxXQUNBLEVBQUEsYUFBQSxFQUFBLEdBQUEsS0FBQSxNQUFBLFNBQUEsVUFDQSxFQUFBLGFBQUEsU0FBQSxHQUFBLEtBQUEsTUFDQSxFQUFBLFNBQUEsRUFDQSxXQUFBLFdBQ0EsRUFBQSxTQUFBLFFBQUEsSUFDQSxLQUVBLHFCQUFBLEVBQUEsdUJBRUEsRUFBQSxZQUFBLFVBQ0EsRUFBQSxTQUFBLFVBQ0EsS0FBQSxTQUFBLEVBQ0EsS0FBQSxTQUFBLFFBQUEsSUFHQSxHQUFBLEtBQUEsUUFFQSxNQXFCQSxJQUFBLEdBQUEsRUFBQSxHQUFBLFFBRUEsR0FBQSxHQUFBLFNBQUEsRUFDQSxFQUFBLEdBQUEsU0FBQSxZQUFBLEVBTUEsRUFBQSxHQUFBLFNBQUEsV0FBQSxXQUVBLE1BREEsR0FBQSxHQUFBLFNBQUEsRUFDQSxLQU9BLElBQUEsR0FBQSxTQUFBLEdBQ0EsR0FBQSxHQUNBLEVBQUEsRUFBQSxNQUNBLEVBQUEsRUFBQSxFQUFBLEtBQUEsaUJBQUEsRUFBQSxFQUFBLEtBQUEsVUFBQSxFQUFBLFFBQUEsaUJBQUEsSUFDQSxJQUFBLEVBQUEsU0FBQSxZQUFBLENBQ0EsR0FBQSxHQUFBLEVBQUEsVUFBQSxFQUFBLE9BQUEsRUFBQSxRQUNBLEVBQUEsRUFBQSxLQUFBLGdCQUNBLEtBQUEsRUFBQSxVQUFBLEdBRUEsRUFBQSxLQUFBLEVBQUEsR0FFQSxHQUNBLEVBQUEsS0FBQSxlQUFBLEdBQUEsR0FHQSxFQUFBLGtCQUdBLEdBQUEsVUFDQSxHQUFBLDZCQUFBLGVBQUEsR0FDQSxHQUFBLDZCQUFBLGtCQUFBLEdBRUEsRUFBQSxRQUFBLEdBQUEsT0FBQSxXQUNBLEVBQUEsMEJBQUEsS0FBQSxXQUNBLEdBQUEsR0FBQSxFQUFBLEtBQ0EsR0FBQSxLQUFBLEVBQUEsRUFBQSxhQUlBLFNDbk9BLFNBQUEsR0FDQSxZQWtKQSxTQUFBLEdBQUEsR0FDQSxHQUFBLEdBQ0EsRUFBQSxFQUFBLEtBQUEsaUJBQ0EsRUFBQSxFQUFBLEtBQUEsVUFBQSxFQUFBLFFBQUEsaUJBQUEsR0FFQSxPQUFBLEdBQUEsR0FPQSxRQUFBLEdBQUEsR0FDQSxNQUFBLE1BQUEsS0FBQSxXQUNBLEdBQUEsR0FBQSxFQUFBLE1BQ0EsRUFBQSxFQUFBLEtBQUEsZUFDQSxFQUFBLEVBQUEsVUFBQSxFQUFBLFNBQUEsRUFBQSxPQUFBLGdCQUFBLElBQUEsSUFFQSxHQUFBLEVBQUEsUUFBQSxZQUFBLEtBQUEsS0FBQSxFQUFBLFFBQUEsR0FDQSxHQUFBLEVBQUEsS0FBQSxjQUFBLEVBQUEsR0FBQSxHQUFBLEtBQUEsSUFDQSxnQkFBQSxJQUFBLEVBQUEsT0FqS0EsR0FBQSxHQUFBLFNBQUEsRUFBQSxHQUNBLEtBQUEsU0FBQSxFQUFBLEdBQ0EsS0FBQSxRQUFBLEVBQUEsVUFBQSxFQUFBLFNBQUEsR0FDQSxLQUFBLFNBQUEsRUFBQSxtQ0FBQSxFQUFBLEdBQUEsNkNBQ0EsRUFBQSxHQUFBLE1BQ0EsS0FBQSxjQUFBLEtBRUEsS0FBQSxRQUFBLE9BQ0EsS0FBQSxRQUFBLEtBQUEsWUFFQSxLQUFBLHlCQUFBLEtBQUEsU0FBQSxLQUFBLFVBR0EsS0FBQSxRQUFBLFFBQUEsS0FBQSxTQUdBLEdBQUEsUUFBQSxRQUVBLEVBQUEsb0JBQUEsSUFFQSxFQUFBLFVBQ0EsUUFBQSxHQUdBLEVBQUEsVUFBQSxVQUFBLFdBQ0EsR0FBQSxHQUFBLEtBQUEsU0FBQSxTQUFBLFFBQ0EsT0FBQSxHQUFBLFFBQUEsVUFHQSxFQUFBLFVBQUEsS0FBQSxXQUNBLElBQUEsS0FBQSxnQkFBQSxLQUFBLFNBQUEsU0FBQSxNQUFBLENBRUEsR0FBQSxHQUNBLEVBQUEsS0FBQSxTQUFBLEtBQUEsUUFBQSxTQUFBLFVBQUEsU0FBQSxtQkFFQSxNQUFBLEdBQUEsRUFBQSxTQUNBLEVBQUEsRUFBQSxLQUFBLGVBQ0EsR0FBQSxFQUFBLGdCQUZBLENBS0EsR0FBQSxHQUFBLEVBQUEsTUFBQSxtQkFFQSxJQURBLEtBQUEsU0FBQSxRQUFBLElBQ0EsRUFBQSxxQkFBQSxDQUVBLEdBQUEsRUFBQSxTQUNBLEVBQUEsS0FBQSxFQUFBLFFBQ0EsR0FBQSxFQUFBLEtBQUEsY0FBQSxNQUdBLElBQUEsR0FBQSxLQUFBLFdBRUEsTUFBQSxTQUNBLFlBQUEsWUFDQSxTQUFBLGNBQUEsR0FBQSxHQUNBLEtBQUEsaUJBQUEsR0FFQSxLQUFBLFNBQ0EsWUFBQSxhQUNBLEtBQUEsaUJBQUEsR0FFQSxLQUFBLGNBQUEsQ0FFQSxJQUFBLEdBQUEsV0FDQSxLQUFBLFNBQ0EsWUFBQSxjQUNBLFNBQUEsZUFBQSxHQUFBLElBQ0EsS0FBQSxjQUFBLEVBQ0EsS0FBQSxTQUNBLFFBQUEscUJBR0EsS0FBQSxFQUFBLFFBQUEsV0FBQSxNQUFBLEdBQUEsS0FBQSxLQUVBLElBQUEsR0FBQSxFQUFBLFdBQUEsU0FBQSxHQUFBLEtBQUEsS0FFQSxNQUFBLFNBQ0EsSUFBQSxrQkFBQSxFQUFBLE1BQUEsRUFBQSxPQUNBLHFCQUFBLEVBQUEscUJBQUEsR0FBQSxLQUFBLFNBQUEsR0FBQSxRQUdBLEVBQUEsVUFBQSxLQUFBLFdBQ0EsSUFBQSxLQUFBLGVBQUEsS0FBQSxTQUFBLFNBQUEsTUFBQSxDQUVBLEdBQUEsR0FBQSxFQUFBLE1BQUEsbUJBRUEsSUFEQSxLQUFBLFNBQUEsUUFBQSxJQUNBLEVBQUEscUJBQUEsQ0FFQSxHQUFBLEdBQUEsS0FBQSxXQUVBLE1BQUEsU0FBQSxHQUFBLEtBQUEsU0FBQSxNQUFBLEdBQUEsYUFFQSxLQUFBLFNBQ0EsU0FBQSxjQUNBLFlBQUEsZUFDQSxLQUFBLGlCQUFBLEdBRUEsS0FBQSxTQUNBLFNBQUEsYUFDQSxLQUFBLGlCQUFBLEdBRUEsS0FBQSxjQUFBLENBRUEsSUFBQSxHQUFBLFdBQ0EsS0FBQSxjQUFBLEVBQ0EsS0FBQSxTQUNBLFlBQUEsY0FDQSxTQUFBLFlBQ0EsUUFBQSxzQkFHQSxPQUFBLEdBQUEsUUFBQSxlQUVBLE1BQUEsU0FDQSxHQUFBLEdBQ0EsSUFBQSxrQkFBQSxFQUFBLE1BQUEsRUFBQSxPQUNBLHFCQUFBLEVBQUEscUJBTEEsRUFBQSxLQUFBLFNBUUEsRUFBQSxVQUFBLE9BQUEsV0FDQSxLQUFBLEtBQUEsU0FBQSxTQUFBLE1BQUEsT0FBQSxXQUdBLEVBQUEsVUFBQSxVQUFBLFdBQ0EsTUFBQSxHQUFBLEtBQUEsUUFBQSxRQUNBLEtBQUEseUNBQUEsS0FBQSxRQUFBLE9BQUEsTUFDQSxLQUFBLEVBQUEsTUFBQSxTQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxFQUNBLE1BQUEseUJBQUEsRUFBQSxHQUFBLElBQ0EsT0FDQSxPQUdBLEVBQUEsVUFBQSx5QkFBQSxTQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxTQUFBLEtBRUEsR0FBQSxLQUFBLGdCQUFBLEdBQ0EsRUFDQSxZQUFBLGFBQUEsR0FDQSxLQUFBLGdCQUFBLEdBMkJBLElBQUEsR0FBQSxFQUFBLEdBQUEsUUFFQSxHQUFBLEdBQUEsU0FBQSxFQUNBLEVBQUEsR0FBQSxTQUFBLFlBQUEsRUFNQSxFQUFBLEdBQUEsU0FBQSxXQUFBLFdBRUEsTUFEQSxHQUFBLEdBQUEsU0FBQSxFQUNBLE1BT0EsRUFBQSxVQUFBLEdBQUEsNkJBQUEsMkJBQUEsU0FBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLEtBRUEsR0FBQSxLQUFBLGdCQUFBLEVBQUEsZ0JBRUEsSUFBQSxHQUFBLEVBQUEsR0FDQSxFQUFBLEVBQUEsS0FBQSxlQUNBLEVBQUEsRUFBQSxTQUFBLEVBQUEsTUFFQSxHQUFBLEtBQUEsRUFBQSxNQUdBLFNDek1BLFNBQUEsR0FDQSxZQThFQSxTQUFBLEdBQUEsR0FDQSxHQUFBLElBQUEsRUFBQSxRQUNBLEVBQUEsR0FBQSxTQUNBLEVBQUEsR0FBQSxLQUFBLFdBQ0EsR0FBQSxHQUFBLEVBQUEsTUFDQSxFQUFBLEVBQUEsR0FDQSxHQUFBLGNBQUEsS0FFQSxHQUFBLFNBQUEsVUFFQSxFQUFBLFFBQUEsRUFBQSxFQUFBLE1BQUEsbUJBQUEsSUFFQSxFQUFBLHVCQUVBLEVBQUEsS0FBQSxnQkFBQSxTQUNBLEVBQUEsWUFBQSxRQUFBLFFBQUEscUJBQUEsUUFJQSxRQUFBLEdBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxLQUFBLGNBRUEsS0FDQSxFQUFBLEVBQUEsS0FBQSxRQUNBLEVBQUEsR0FBQSxZQUFBLEtBQUEsSUFBQSxFQUFBLFFBQUEsaUJBQUEsSUFHQSxJQUFBLEdBQUEsR0FBQSxFQUFBLEVBRUEsT0FBQSxJQUFBLEVBQUEsT0FBQSxFQUFBLEVBQUEsU0FPQSxRQUFBLEdBQUEsR0FDQSxNQUFBLE1BQUEsS0FBQSxXQUNBLEdBQUEsR0FBQSxFQUFBLE1BQ0EsRUFBQSxFQUFBLEtBQUEsY0FFQSxJQUFBLEVBQUEsS0FBQSxjQUFBLEVBQUEsR0FBQSxHQUFBLE9BQ0EsZ0JBQUEsSUFBQSxFQUFBLEdBQUEsS0FBQSxLQW5IQSxHQUFBLEdBQUEscUJBQ0EsRUFBQSwyQkFDQSxFQUFBLFNBQUEsR0FDQSxFQUFBLEdBQUEsR0FBQSxvQkFBQSxLQUFBLFFBR0EsR0FBQSxRQUFBLFFBRUEsRUFBQSxVQUFBLE9BQUEsU0FBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLEtBRUEsS0FBQSxFQUFBLEdBQUEsd0JBQUEsQ0FFQSxHQUFBLEdBQUEsRUFBQSxHQUNBLEVBQUEsRUFBQSxTQUFBLE9BSUEsSUFGQSxLQUVBLEVBQUEsQ0FDQSxnQkFBQSxVQUFBLGtCQUFBLEVBQUEsUUFBQSxlQUFBLFFBRUEsRUFBQSxvQ0FBQSxZQUFBLEVBQUEsT0FBQSxHQUFBLFFBQUEsRUFHQSxJQUFBLElBQUEsY0FBQSxLQUdBLElBRkEsRUFBQSxRQUFBLEVBQUEsRUFBQSxNQUFBLG1CQUFBLElBRUEsRUFBQSxxQkFBQSxNQUVBLEdBQ0EsUUFBQSxTQUNBLEtBQUEsZ0JBQUEsUUFFQSxFQUNBLFlBQUEsUUFDQSxRQUFBLG9CQUFBLEdBR0EsT0FBQSxJQUdBLEVBQUEsVUFBQSxRQUFBLFNBQUEsR0FDQSxHQUFBLGdCQUFBLEtBQUEsRUFBQSxTQUFBLGtCQUFBLEtBQUEsRUFBQSxPQUFBLFNBQUEsQ0FFQSxHQUFBLEdBQUEsRUFBQSxLQUtBLElBSEEsRUFBQSxpQkFDQSxFQUFBLG1CQUVBLEVBQUEsR0FBQSx3QkFBQSxDQUVBLEdBQUEsR0FBQSxFQUFBLEdBQ0EsRUFBQSxFQUFBLFNBQUEsT0FFQSxLQUFBLEdBQUEsSUFBQSxFQUFBLE9BQUEsR0FBQSxJQUFBLEVBQUEsTUFFQSxNQURBLEtBQUEsRUFBQSxPQUFBLEVBQUEsS0FBQSxHQUFBLFFBQUEsU0FDQSxFQUFBLFFBQUEsUUFHQSxJQUFBLEdBQUEsK0JBQ0EsRUFBQSxFQUFBLEtBQUEsZ0JBQUEsRUFBQSxxQkFBQSxFQUVBLElBQUEsRUFBQSxPQUFBLENBRUEsR0FBQSxHQUFBLEVBQUEsTUFBQSxFQUFBLE9BRUEsS0FBQSxFQUFBLE9BQUEsRUFBQSxHQUFBLElBQ0EsSUFBQSxFQUFBLE9BQUEsRUFBQSxFQUFBLE9BQUEsR0FBQSxLQUNBLElBQUEsRUFBQSxHQUVBLEVBQUEsR0FBQSxHQUFBLFFBQUEsWUFpREEsSUFBQSxHQUFBLEVBQUEsR0FBQSxRQUVBLEdBQUEsR0FBQSxTQUFBLEVBQ0EsRUFBQSxHQUFBLFNBQUEsWUFBQSxFQU1BLEVBQUEsR0FBQSxTQUFBLFdBQUEsV0FFQSxNQURBLEdBQUEsR0FBQSxTQUFBLEVBQ0EsTUFPQSxFQUFBLFVBQ0EsR0FBQSw2QkFBQSxHQUNBLEdBQUEsNkJBQUEsaUJBQUEsU0FBQSxHQUFBLEVBQUEsb0JBQ0EsR0FBQSw2QkFBQSxFQUFBLEVBQUEsVUFBQSxRQUNBLEdBQUEsK0JBQUEsRUFBQSxFQUFBLFVBQUEsU0FDQSxHQUFBLCtCQUFBLGdCQUFBLEVBQUEsVUFBQSxTQUNBLEdBQUEsK0JBQUEsbUJBQUEsRUFBQSxVQUFBLFVBRUEsU0N2SkEsU0FBQSxHQUNBLFlBeVJBLFNBQUEsR0FBQSxFQUFBLEdBQ0EsTUFBQSxNQUFBLEtBQUEsV0FDQSxHQUFBLEdBQUEsRUFBQSxNQUNBLEVBQUEsRUFBQSxLQUFBLFlBQ0EsRUFBQSxFQUFBLFVBQUEsRUFBQSxTQUFBLEVBQUEsT0FBQSxnQkFBQSxJQUFBLEVBRUEsSUFBQSxFQUFBLEtBQUEsV0FBQSxFQUFBLEdBQUEsR0FBQSxLQUFBLElBQ0EsZ0JBQUEsR0FBQSxFQUFBLEdBQUEsR0FDQSxFQUFBLE1BQUEsRUFBQSxLQUFBLEtBNVJBLEdBQUEsR0FBQSxTQUFBLEVBQUEsR0FDQSxLQUFBLFFBQUEsRUFDQSxLQUFBLE1BQUEsRUFBQSxTQUFBLE1BQ0EsS0FBQSxTQUFBLEVBQUEsR0FDQSxLQUFBLFFBQUEsS0FBQSxTQUFBLEtBQUEsaUJBQ0EsS0FBQSxVQUFBLEtBQ0EsS0FBQSxRQUFBLEtBQ0EsS0FBQSxnQkFBQSxLQUNBLEtBQUEsZUFBQSxFQUNBLEtBQUEscUJBQUEsRUFFQSxLQUFBLFFBQUEsUUFDQSxLQUFBLFNBQ0EsS0FBQSxrQkFDQSxLQUFBLEtBQUEsUUFBQSxPQUFBLEVBQUEsTUFBQSxXQUNBLEtBQUEsU0FBQSxRQUFBLG9CQUNBLE9BSUEsR0FBQSxRQUFBLFFBRUEsRUFBQSxvQkFBQSxJQUNBLEVBQUEsNkJBQUEsSUFFQSxFQUFBLFVBQ0EsVUFBQSxFQUNBLFVBQUEsRUFDQSxNQUFBLEdBR0EsRUFBQSxVQUFBLE9BQUEsU0FBQSxHQUNBLE1BQUEsTUFBQSxRQUFBLEtBQUEsT0FBQSxLQUFBLEtBQUEsSUFHQSxFQUFBLFVBQUEsS0FBQSxTQUFBLEdBQ0EsR0FBQSxHQUFBLEtBQ0EsRUFBQSxFQUFBLE1BQUEsaUJBQUEsY0FBQSxHQUVBLE1BQUEsU0FBQSxRQUFBLEdBRUEsS0FBQSxTQUFBLEVBQUEsdUJBRUEsS0FBQSxTQUFBLEVBRUEsS0FBQSxpQkFDQSxLQUFBLGVBQ0EsS0FBQSxNQUFBLFNBQUEsY0FFQSxLQUFBLFNBQ0EsS0FBQSxTQUVBLEtBQUEsU0FBQSxHQUFBLHlCQUFBLHlCQUFBLEVBQUEsTUFBQSxLQUFBLEtBQUEsT0FFQSxLQUFBLFFBQUEsR0FBQSw2QkFBQSxXQUNBLEVBQUEsU0FBQSxJQUFBLDJCQUFBLFNBQUEsR0FDQSxFQUFBLEVBQUEsUUFBQSxHQUFBLEVBQUEsWUFBQSxFQUFBLHFCQUFBLE9BSUEsS0FBQSxTQUFBLFdBQ0EsR0FBQSxHQUFBLEVBQUEsUUFBQSxZQUFBLEVBQUEsU0FBQSxTQUFBLE9BRUEsR0FBQSxTQUFBLFNBQUEsUUFDQSxFQUFBLFNBQUEsU0FBQSxFQUFBLE9BR0EsRUFBQSxTQUNBLE9BQ0EsVUFBQSxHQUVBLEVBQUEsZUFFQSxHQUNBLEVBQUEsU0FBQSxHQUFBLFlBR0EsRUFBQSxTQUNBLFNBQUEsTUFDQSxLQUFBLGVBQUEsR0FFQSxFQUFBLGNBRUEsSUFBQSxHQUFBLEVBQUEsTUFBQSxrQkFBQSxjQUFBLEdBRUEsR0FDQSxFQUFBLFFBQ0EsSUFBQSxrQkFBQSxXQUNBLEVBQUEsU0FBQSxRQUFBLFNBQUEsUUFBQSxLQUVBLHFCQUFBLEVBQUEscUJBQ0EsRUFBQSxTQUFBLFFBQUEsU0FBQSxRQUFBLE9BSUEsRUFBQSxVQUFBLEtBQUEsU0FBQSxHQUNBLEdBQUEsRUFBQSxpQkFFQSxFQUFBLEVBQUEsTUFBQSxpQkFFQSxLQUFBLFNBQUEsUUFBQSxHQUVBLEtBQUEsVUFBQSxFQUFBLHVCQUVBLEtBQUEsU0FBQSxFQUVBLEtBQUEsU0FDQSxLQUFBLFNBRUEsRUFBQSxVQUFBLElBQUEsb0JBRUEsS0FBQSxTQUNBLFlBQUEsTUFDQSxLQUFBLGVBQUEsR0FDQSxJQUFBLDBCQUNBLElBQUEsNEJBRUEsS0FBQSxRQUFBLElBQUEsOEJBRUEsRUFBQSxRQUFBLFlBQUEsS0FBQSxTQUFBLFNBQUEsUUFDQSxLQUFBLFNBQ0EsSUFBQSxrQkFBQSxFQUFBLE1BQUEsS0FBQSxVQUFBLE9BQ0EscUJBQUEsRUFBQSxxQkFDQSxLQUFBLGNBR0EsRUFBQSxVQUFBLGFBQUEsV0FDQSxFQUFBLFVBQ0EsSUFBQSxvQkFDQSxHQUFBLG1CQUFBLEVBQUEsTUFBQSxTQUFBLEdBQ0EsS0FBQSxTQUFBLEtBQUEsRUFBQSxRQUFBLEtBQUEsU0FBQSxJQUFBLEVBQUEsUUFBQSxRQUNBLEtBQUEsU0FBQSxRQUFBLFVBRUEsUUFHQSxFQUFBLFVBQUEsT0FBQSxXQUNBLEtBQUEsU0FBQSxLQUFBLFFBQUEsU0FDQSxLQUFBLFNBQUEsR0FBQSwyQkFBQSxFQUFBLE1BQUEsU0FBQSxHQUNBLElBQUEsRUFBQSxPQUFBLEtBQUEsUUFDQSxPQUNBLEtBQUEsU0FDQSxLQUFBLFNBQUEsSUFBQSw2QkFJQSxFQUFBLFVBQUEsT0FBQSxXQUNBLEtBQUEsUUFDQSxFQUFBLFFBQUEsR0FBQSxrQkFBQSxFQUFBLE1BQUEsS0FBQSxhQUFBLE9BRUEsRUFBQSxRQUFBLElBQUEsb0JBSUEsRUFBQSxVQUFBLFVBQUEsV0FDQSxHQUFBLEdBQUEsSUFDQSxNQUFBLFNBQUEsT0FDQSxLQUFBLFNBQUEsV0FDQSxFQUFBLE1BQUEsWUFBQSxjQUNBLEVBQUEsbUJBQ0EsRUFBQSxpQkFDQSxFQUFBLFNBQUEsUUFBQSxzQkFJQSxFQUFBLFVBQUEsZUFBQSxXQUNBLEtBQUEsV0FBQSxLQUFBLFVBQUEsU0FDQSxLQUFBLFVBQUEsTUFHQSxFQUFBLFVBQUEsU0FBQSxTQUFBLEdBQ0EsR0FBQSxHQUFBLEtBQ0EsRUFBQSxLQUFBLFNBQUEsU0FBQSxRQUFBLE9BQUEsRUFFQSxJQUFBLEtBQUEsU0FBQSxLQUFBLFFBQUEsU0FBQSxDQUNBLEdBQUEsR0FBQSxFQUFBLFFBQUEsWUFBQSxDQW9CQSxJQWxCQSxLQUFBLFVBQUEsRUFBQSw4QkFBQSxFQUFBLFFBQ0EsU0FBQSxLQUFBLE9BRUEsS0FBQSxTQUFBLEdBQUEseUJBQUEsRUFBQSxNQUFBLFNBQUEsR0FDQSxNQUFBLE1BQUEseUJBQ0EsS0FBQSxxQkFBQSxRQUdBLEVBQUEsU0FBQSxFQUFBLGdCQUNBLFVBQUEsS0FBQSxRQUFBLFNBQ0EsS0FBQSxTQUFBLEdBQUEsUUFDQSxLQUFBLFVBQ0EsT0FFQSxHQUFBLEtBQUEsVUFBQSxHQUFBLFlBRUEsS0FBQSxVQUFBLFNBQUEsT0FFQSxFQUFBLE1BRUEsR0FDQSxLQUFBLFVBQ0EsSUFBQSxrQkFBQSxHQUNBLHFCQUFBLEVBQUEsOEJBQ0EsUUFFQSxLQUFBLEtBQUEsU0FBQSxLQUFBLFVBQUEsQ0FDQSxLQUFBLFVBQUEsWUFBQSxLQUVBLElBQUEsR0FBQSxXQUNBLEVBQUEsaUJBQ0EsR0FBQSxJQUVBLEdBQUEsUUFBQSxZQUFBLEtBQUEsU0FBQSxTQUFBLFFBQ0EsS0FBQSxVQUNBLElBQUEsa0JBQUEsR0FDQSxxQkFBQSxFQUFBLDhCQUNBLFFBRUEsSUFDQSxLQU1BLEVBQUEsVUFBQSxhQUFBLFdBQ0EsS0FBQSxnQkFHQSxFQUFBLFVBQUEsYUFBQSxXQUNBLEdBQUEsR0FBQSxLQUFBLFNBQUEsR0FBQSxhQUFBLFNBQUEsZ0JBQUEsWUFFQSxNQUFBLFNBQUEsS0FDQSxhQUFBLEtBQUEsbUJBQUEsRUFBQSxLQUFBLGVBQUEsR0FDQSxhQUFBLEtBQUEsb0JBQUEsRUFBQSxLQUFBLGVBQUEsTUFJQSxFQUFBLFVBQUEsaUJBQUEsV0FDQSxLQUFBLFNBQUEsS0FDQSxZQUFBLEdBQ0EsYUFBQSxNQUlBLEVBQUEsVUFBQSxlQUFBLFdBQ0EsR0FBQSxHQUFBLE9BQUEsVUFDQSxLQUFBLEVBQUEsQ0FDQSxHQUFBLEdBQUEsU0FBQSxnQkFBQSx1QkFDQSxHQUFBLEVBQUEsTUFBQSxLQUFBLElBQUEsRUFBQSxNQUVBLEtBQUEsa0JBQUEsU0FBQSxLQUFBLFlBQUEsRUFDQSxLQUFBLGVBQUEsS0FBQSxvQkFHQSxFQUFBLFVBQUEsYUFBQSxXQUNBLEdBQUEsR0FBQSxTQUFBLEtBQUEsTUFBQSxJQUFBLGtCQUFBLEVBQUEsR0FDQSxNQUFBLGdCQUFBLFNBQUEsS0FBQSxNQUFBLGNBQUEsR0FDQSxLQUFBLG1CQUFBLEtBQUEsTUFBQSxJQUFBLGdCQUFBLEVBQUEsS0FBQSxpQkFHQSxFQUFBLFVBQUEsZUFBQSxXQUNBLEtBQUEsTUFBQSxJQUFBLGdCQUFBLEtBQUEsa0JBR0EsRUFBQSxVQUFBLGlCQUFBLFdBQ0EsR0FBQSxHQUFBLFNBQUEsY0FBQSxNQUNBLEdBQUEsVUFBQSwwQkFDQSxLQUFBLE1BQUEsT0FBQSxFQUNBLElBQUEsR0FBQSxFQUFBLFlBQUEsRUFBQSxXQUVBLE9BREEsTUFBQSxNQUFBLEdBQUEsWUFBQSxHQUNBLEVBbUJBLElBQUEsR0FBQSxFQUFBLEdBQUEsS0FFQSxHQUFBLEdBQUEsTUFBQSxFQUNBLEVBQUEsR0FBQSxNQUFBLFlBQUEsRUFNQSxFQUFBLEdBQUEsTUFBQSxXQUFBLFdBRUEsTUFEQSxHQUFBLEdBQUEsTUFBQSxFQUNBLE1BT0EsRUFBQSxVQUFBLEdBQUEsMEJBQUEsd0JBQUEsU0FBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLE1BQ0EsRUFBQSxFQUFBLEtBQUEsUUFDQSxFQUFBLEVBQUEsRUFBQSxLQUFBLGdCQUFBLEdBQUEsRUFBQSxRQUFBLGlCQUFBLEtBQ0EsRUFBQSxFQUFBLEtBQUEsWUFBQSxTQUFBLEVBQUEsUUFBQSxRQUFBLElBQUEsS0FBQSxJQUFBLEdBQUEsRUFBQSxPQUFBLEVBQUEsT0FFQSxHQUFBLEdBQUEsTUFBQSxFQUFBLGlCQUVBLEVBQUEsSUFBQSxnQkFBQSxTQUFBLEdBQ0EsRUFBQSxzQkFDQSxFQUFBLElBQUEsa0JBQUEsV0FDQSxFQUFBLEdBQUEsYUFBQSxFQUFBLFFBQUEsYUFHQSxFQUFBLEtBQUEsRUFBQSxFQUFBLFNBR0EsU0N6VUEsU0FBQSxHQUNBLFlBeUdBLFNBQUEsR0FBQSxHQUNBLE1BQUEsTUFBQSxLQUFBLFdBQ0EsR0FBQSxHQUFBLEVBQUEsTUFDQSxFQUFBLEVBQUEsS0FBQSxTQUVBLElBQUEsRUFBQSxLQUFBLFNBQUEsRUFBQSxHQUFBLEdBQUEsT0FDQSxnQkFBQSxJQUFBLEVBQUEsT0ExR0EsR0FBQSxHQUFBLFNBQUEsR0FDQSxLQUFBLFFBQUEsRUFBQSxHQUdBLEdBQUEsUUFBQSxRQUVBLEVBQUEsb0JBQUEsSUFFQSxFQUFBLFVBQUEsS0FBQSxXQUNBLEdBQUEsR0FBQSxLQUFBLFFBQ0EsRUFBQSxFQUFBLFFBQUEsMEJBQ0EsRUFBQSxFQUFBLEtBQUEsU0FPQSxJQUxBLElBQ0EsRUFBQSxFQUFBLEtBQUEsUUFDQSxFQUFBLEdBQUEsRUFBQSxRQUFBLGlCQUFBLE1BR0EsRUFBQSxPQUFBLE1BQUEsU0FBQSxVQUFBLENBRUEsR0FBQSxHQUFBLEVBQUEsS0FBQSxrQkFDQSxFQUFBLEVBQUEsTUFBQSxlQUNBLGNBQUEsRUFBQSxLQUVBLEVBQUEsRUFBQSxNQUFBLGVBQ0EsY0FBQSxFQUFBLElBTUEsSUFIQSxFQUFBLFFBQUEsR0FDQSxFQUFBLFFBQUEsSUFFQSxFQUFBLHVCQUFBLEVBQUEscUJBQUEsQ0FFQSxHQUFBLEdBQUEsRUFBQSxFQUVBLE1BQUEsU0FBQSxFQUFBLFFBQUEsTUFBQSxHQUNBLEtBQUEsU0FBQSxFQUFBLEVBQUEsU0FBQSxXQUNBLEVBQUEsU0FDQSxLQUFBLGdCQUNBLGNBQUEsRUFBQSxLQUVBLEVBQUEsU0FDQSxLQUFBLGVBQ0EsY0FBQSxFQUFBLFVBS0EsRUFBQSxVQUFBLFNBQUEsU0FBQSxFQUFBLEVBQUEsR0FNQSxRQUFBLEtBQ0EsRUFDQSxZQUFBLFVBQ0EsS0FBQSw4QkFDQSxZQUFBLFVBQ0EsTUFDQSxLQUFBLHVCQUNBLEtBQUEsaUJBQUEsR0FFQSxFQUNBLFNBQUEsVUFDQSxLQUFBLHVCQUNBLEtBQUEsaUJBQUEsR0FFQSxHQUNBLEVBQUEsR0FBQSxZQUNBLEVBQUEsU0FBQSxPQUVBLEVBQUEsWUFBQSxRQUdBLEVBQUEsT0FBQSxrQkFBQSxRQUNBLEVBQ0EsUUFBQSxlQUNBLFNBQUEsVUFDQSxNQUNBLEtBQUEsdUJBQ0EsS0FBQSxpQkFBQSxHQUdBLEdBQUEsSUFuQ0EsR0FBQSxHQUFBLEVBQUEsS0FBQSxhQUNBLEVBQUEsR0FDQSxFQUFBLFFBQUEsYUFDQSxFQUFBLFFBQUEsRUFBQSxTQUFBLFdBQUEsRUFBQSxLQUFBLFdBQUEsT0FtQ0EsR0FBQSxRQUFBLEVBQ0EsRUFDQSxJQUFBLGtCQUFBLEdBQ0EscUJBQUEsRUFBQSxxQkFDQSxJQUVBLEVBQUEsWUFBQSxNQWlCQSxJQUFBLEdBQUEsRUFBQSxHQUFBLEdBRUEsR0FBQSxHQUFBLElBQUEsRUFDQSxFQUFBLEdBQUEsSUFBQSxZQUFBLEVBTUEsRUFBQSxHQUFBLElBQUEsV0FBQSxXQUVBLE1BREEsR0FBQSxHQUFBLElBQUEsRUFDQSxLQU9BLElBQUEsR0FBQSxTQUFBLEdBQ0EsRUFBQSxpQkFDQSxFQUFBLEtBQUEsRUFBQSxNQUFBLFFBR0EsR0FBQSxVQUNBLEdBQUEsd0JBQUEsc0JBQUEsR0FDQSxHQUFBLHdCQUFBLHVCQUFBLElBRUEsU0M5SUEsU0FBQSxHQUNBLFlBc2JBLFNBQUEsR0FBQSxHQUNBLE1BQUEsTUFBQSxLQUFBLFdBQ0EsR0FBQSxHQUFBLEVBQUEsTUFDQSxFQUFBLEVBQUEsS0FBQSxjQUNBLEVBQUEsZ0JBQUEsSUFBQSxHQUVBLElBQUEsZUFBQSxLQUFBLE1BQ0EsR0FBQSxFQUFBLEtBQUEsYUFBQSxFQUFBLEdBQUEsR0FBQSxLQUFBLElBQ0EsZ0JBQUEsSUFBQSxFQUFBLFFBemJBLEdBQUEsR0FBQSxTQUFBLEVBQUEsR0FDQSxLQUFBLEtBQUEsS0FDQSxLQUFBLFFBQUEsS0FDQSxLQUFBLFFBQUEsS0FDQSxLQUFBLFFBQUEsS0FDQSxLQUFBLFdBQUEsS0FDQSxLQUFBLFNBQUEsS0FFQSxLQUFBLEtBQUEsVUFBQSxFQUFBLEdBR0EsR0FBQSxRQUFBLFFBRUEsRUFBQSxvQkFBQSxJQUVBLEVBQUEsVUFDQSxXQUFBLEVBQ0EsVUFBQSxNQUNBLFVBQUEsRUFDQSxTQUFBLCtHQUNBLFFBQUEsY0FDQSxNQUFBLEdBQ0EsTUFBQSxFQUNBLE1BQUEsRUFDQSxXQUFBLEVBQ0EsVUFDQSxTQUFBLE9BQ0EsUUFBQSxJQUlBLEVBQUEsVUFBQSxLQUFBLFNBQUEsRUFBQSxFQUFBLEdBT0EsR0FOQSxLQUFBLFNBQUEsRUFDQSxLQUFBLEtBQUEsRUFDQSxLQUFBLFNBQUEsRUFBQSxHQUNBLEtBQUEsUUFBQSxLQUFBLFdBQUEsR0FDQSxLQUFBLFVBQUEsS0FBQSxRQUFBLFVBQUEsRUFBQSxLQUFBLFFBQUEsU0FBQSxVQUFBLEtBQUEsUUFBQSxVQUVBLEtBQUEsU0FBQSxZQUFBLFVBQUEsY0FBQSxLQUFBLFFBQUEsU0FDQSxLQUFBLElBQUEsT0FBQSx5REFBQSxLQUFBLEtBQUEsa0NBS0EsS0FBQSxHQUZBLEdBQUEsS0FBQSxRQUFBLFFBQUEsTUFBQSxLQUVBLEVBQUEsRUFBQSxPQUFBLEtBQUEsQ0FDQSxHQUFBLEdBQUEsRUFBQSxFQUVBLElBQUEsU0FBQSxFQUNBLEtBQUEsU0FBQSxHQUFBLFNBQUEsS0FBQSxLQUFBLEtBQUEsUUFBQSxTQUFBLEVBQUEsTUFBQSxLQUFBLE9BQUEsV0FDQSxJQUFBLFVBQUEsRUFBQSxDQUNBLEdBQUEsR0FBQSxTQUFBLEVBQUEsYUFBQSxVQUNBLEVBQUEsU0FBQSxFQUFBLGFBQUEsVUFFQSxNQUFBLFNBQUEsR0FBQSxFQUFBLElBQUEsS0FBQSxLQUFBLEtBQUEsUUFBQSxTQUFBLEVBQUEsTUFBQSxLQUFBLE1BQUEsT0FDQSxLQUFBLFNBQUEsR0FBQSxFQUFBLElBQUEsS0FBQSxLQUFBLEtBQUEsUUFBQSxTQUFBLEVBQUEsTUFBQSxLQUFBLE1BQUEsUUFJQSxLQUFBLFFBQUEsU0FDQSxLQUFBLFNBQUEsRUFBQSxVQUFBLEtBQUEsU0FBQSxRQUFBLFNBQUEsU0FBQSxLQUNBLEtBQUEsWUFHQSxFQUFBLFVBQUEsWUFBQSxXQUNBLE1BQUEsR0FBQSxVQUdBLEVBQUEsVUFBQSxXQUFBLFNBQUEsR0FVQSxNQVRBLEdBQUEsRUFBQSxVQUFBLEtBQUEsY0FBQSxLQUFBLFNBQUEsT0FBQSxHQUVBLEVBQUEsT0FBQSxnQkFBQSxHQUFBLFFBQ0EsRUFBQSxPQUNBLEtBQUEsRUFBQSxNQUNBLEtBQUEsRUFBQSxRQUlBLEdBR0EsRUFBQSxVQUFBLG1CQUFBLFdBQ0EsR0FBQSxNQUNBLEVBQUEsS0FBQSxhQU1BLE9BSkEsTUFBQSxVQUFBLEVBQUEsS0FBQSxLQUFBLFNBQUEsU0FBQSxFQUFBLEdBQ0EsRUFBQSxJQUFBLElBQUEsRUFBQSxHQUFBLEtBR0EsR0FHQSxFQUFBLFVBQUEsTUFBQSxTQUFBLEdBQ0EsR0FBQSxHQUFBLFlBQUEsTUFBQSxZQUNBLEVBQUEsRUFBQSxFQUFBLGVBQUEsS0FBQSxNQUFBLEtBQUEsS0FFQSxPQUFBLElBQUEsRUFBQSxNQUFBLEVBQUEsS0FBQSxHQUFBLGlCQUNBLEVBQUEsV0FBQSxPQUlBLElBQ0EsRUFBQSxHQUFBLE1BQUEsWUFBQSxFQUFBLGNBQUEsS0FBQSxzQkFDQSxFQUFBLEVBQUEsZUFBQSxLQUFBLE1BQUEsS0FBQSxLQUFBLElBR0EsYUFBQSxFQUFBLFNBRUEsRUFBQSxXQUFBLEtBRUEsRUFBQSxRQUFBLE9BQUEsRUFBQSxRQUFBLE1BQUEsVUFFQSxFQUFBLFFBQUEsV0FBQSxXQUNBLE1BQUEsRUFBQSxZQUFBLEVBQUEsUUFDQSxFQUFBLFFBQUEsTUFBQSxPQUpBLEVBQUEsU0FPQSxFQUFBLFVBQUEsTUFBQSxTQUFBLEdBQ0EsR0FBQSxHQUFBLFlBQUEsTUFBQSxZQUNBLEVBQUEsRUFBQSxFQUFBLGVBQUEsS0FBQSxNQUFBLEtBQUEsS0FXQSxPQVRBLEtBQ0EsRUFBQSxHQUFBLE1BQUEsWUFBQSxFQUFBLGNBQUEsS0FBQSxzQkFDQSxFQUFBLEVBQUEsZUFBQSxLQUFBLE1BQUEsS0FBQSxLQUFBLElBR0EsYUFBQSxFQUFBLFNBRUEsRUFBQSxXQUFBLE1BRUEsRUFBQSxRQUFBLE9BQUEsRUFBQSxRQUFBLE1BQUEsVUFFQSxFQUFBLFFBQUEsV0FBQSxXQUNBLE9BQUEsRUFBQSxZQUFBLEVBQUEsUUFDQSxFQUFBLFFBQUEsTUFBQSxPQUpBLEVBQUEsUUFPQSxFQUFBLFVBQUEsS0FBQSxXQUNBLEdBQUEsR0FBQSxFQUFBLE1BQUEsV0FBQSxLQUFBLEtBRUEsSUFBQSxLQUFBLGNBQUEsS0FBQSxRQUFBLENBQ0EsS0FBQSxTQUFBLFFBQUEsRUFFQSxJQUFBLEdBQUEsRUFBQSxTQUFBLEtBQUEsU0FBQSxHQUFBLGNBQUEsZ0JBQUEsS0FBQSxTQUFBLEdBQ0EsSUFBQSxFQUFBLHVCQUFBLEVBQUEsTUFDQSxJQUFBLEdBQUEsS0FFQSxFQUFBLEtBQUEsTUFFQSxFQUFBLEtBQUEsT0FBQSxLQUFBLEtBRUEsTUFBQSxhQUNBLEVBQUEsS0FBQSxLQUFBLEdBQ0EsS0FBQSxTQUFBLEtBQUEsbUJBQUEsR0FFQSxLQUFBLFFBQUEsV0FBQSxFQUFBLFNBQUEsT0FFQSxJQUFBLEdBQUEsa0JBQUEsTUFBQSxRQUFBLFVBQ0EsS0FBQSxRQUFBLFVBQUEsS0FBQSxLQUFBLEVBQUEsR0FBQSxLQUFBLFNBQUEsSUFDQSxLQUFBLFFBQUEsVUFFQSxFQUFBLGVBQ0EsRUFBQSxFQUFBLEtBQUEsRUFDQSxLQUFBLEVBQUEsRUFBQSxRQUFBLEVBQUEsS0FBQSxPQUVBLEVBQ0EsU0FDQSxLQUFBLElBQUEsRUFBQSxLQUFBLEVBQUEsUUFBQSxVQUNBLFNBQUEsR0FDQSxLQUFBLE1BQUEsS0FBQSxLQUFBLE1BRUEsS0FBQSxRQUFBLFVBQUEsRUFBQSxTQUFBLEtBQUEsUUFBQSxXQUFBLEVBQUEsWUFBQSxLQUFBLFNBRUEsSUFBQSxHQUFBLEtBQUEsY0FDQSxFQUFBLEVBQUEsR0FBQSxZQUNBLEVBQUEsRUFBQSxHQUFBLFlBRUEsSUFBQSxFQUFBLENBQ0EsR0FBQSxHQUFBLEVBQ0EsRUFBQSxLQUFBLFFBQUEsVUFBQSxFQUFBLEtBQUEsUUFBQSxXQUFBLEtBQUEsU0FBQSxTQUNBLEVBQUEsS0FBQSxZQUFBLEVBRUEsR0FBQSxVQUFBLEdBQUEsRUFBQSxPQUFBLEVBQUEsRUFBQSxPQUFBLE1BQ0EsT0FBQSxHQUFBLEVBQUEsSUFBQSxFQUFBLEVBQUEsSUFBQSxTQUNBLFNBQUEsR0FBQSxFQUFBLE1BQUEsRUFBQSxFQUFBLE1BQUEsT0FDQSxRQUFBLEdBQUEsRUFBQSxLQUFBLEVBQUEsRUFBQSxLQUFBLFFBQ0EsRUFFQSxFQUNBLFlBQUEsR0FDQSxTQUFBLEdBR0EsR0FBQSxHQUFBLEtBQUEsb0JBQUEsRUFBQSxFQUFBLEVBQUEsRUFFQSxNQUFBLGVBQUEsRUFBQSxFQUVBLElBQUEsR0FBQSxXQUNBLEdBQUEsR0FBQSxFQUFBLFVBQ0EsR0FBQSxTQUFBLFFBQUEsWUFBQSxFQUFBLE1BQ0EsRUFBQSxXQUFBLEtBRUEsT0FBQSxHQUFBLEVBQUEsTUFBQSxHQUdBLEdBQUEsUUFBQSxZQUFBLEtBQUEsS0FBQSxTQUFBLFFBQ0EsRUFDQSxJQUFBLGtCQUFBLEdBQ0EscUJBQUEsRUFBQSxxQkFDQSxNQUlBLEVBQUEsVUFBQSxlQUFBLFNBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxLQUFBLE1BQ0EsRUFBQSxFQUFBLEdBQUEsWUFDQSxFQUFBLEVBQUEsR0FBQSxhQUdBLEVBQUEsU0FBQSxFQUFBLElBQUEsY0FBQSxJQUNBLEVBQUEsU0FBQSxFQUFBLElBQUEsZUFBQSxHQUdBLE9BQUEsS0FBQSxFQUFBLEdBQ0EsTUFBQSxLQUFBLEVBQUEsR0FFQSxFQUFBLElBQUEsRUFBQSxJQUFBLEVBQ0EsRUFBQSxLQUFBLEVBQUEsS0FBQSxFQUlBLEVBQUEsT0FBQSxVQUFBLEVBQUEsR0FBQSxFQUFBLFFBQ0EsTUFBQSxTQUFBLEdBQ0EsRUFBQSxLQUNBLElBQUEsS0FBQSxNQUFBLEVBQUEsS0FDQSxLQUFBLEtBQUEsTUFBQSxFQUFBLFVBR0EsR0FBQSxHQUVBLEVBQUEsU0FBQSxLQUdBLElBQUEsR0FBQSxFQUFBLEdBQUEsWUFDQSxFQUFBLEVBQUEsR0FBQSxZQUVBLFFBQUEsR0FBQSxHQUFBLElBQ0EsRUFBQSxJQUFBLEVBQUEsSUFBQSxFQUFBLEVBR0EsSUFBQSxHQUFBLEtBQUEseUJBQUEsRUFBQSxFQUFBLEVBQUEsRUFFQSxHQUFBLEtBQUEsRUFBQSxNQUFBLEVBQUEsS0FDQSxFQUFBLEtBQUEsRUFBQSxHQUVBLElBQUEsR0FBQSxhQUFBLEtBQUEsR0FDQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEtBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxJQUFBLEVBQUEsRUFDQSxFQUFBLEVBQUEsY0FBQSxjQUVBLEdBQUEsT0FBQSxHQUNBLEtBQUEsYUFBQSxFQUFBLEVBQUEsR0FBQSxHQUFBLElBR0EsRUFBQSxVQUFBLGFBQUEsU0FBQSxFQUFBLEVBQUEsR0FDQSxLQUFBLFFBQ0EsSUFBQSxFQUFBLE9BQUEsTUFBQSxJQUFBLEVBQUEsRUFBQSxHQUFBLEtBQ0EsSUFBQSxFQUFBLE1BQUEsT0FBQSxLQUdBLEVBQUEsVUFBQSxXQUFBLFdBQ0EsR0FBQSxHQUFBLEtBQUEsTUFDQSxFQUFBLEtBQUEsVUFFQSxHQUFBLEtBQUEsa0JBQUEsS0FBQSxRQUFBLEtBQUEsT0FBQSxRQUFBLEdBQ0EsRUFBQSxZQUFBLGtDQUdBLEVBQUEsVUFBQSxLQUFBLFNBQUEsR0FLQSxRQUFBLEtBQ0EsTUFBQSxFQUFBLFlBQUEsRUFBQSxTQUNBLEVBQUEsU0FDQSxXQUFBLG9CQUNBLFFBQUEsYUFBQSxFQUFBLE1BQ0EsR0FBQSxJQVRBLEdBQUEsR0FBQSxLQUNBLEVBQUEsRUFBQSxLQUFBLE1BQ0EsRUFBQSxFQUFBLE1BQUEsV0FBQSxLQUFBLEtBWUEsT0FGQSxNQUFBLFNBQUEsUUFBQSxHQUVBLEVBQUEscUJBQUEsUUFFQSxFQUFBLFlBQUEsTUFFQSxFQUFBLFFBQUEsWUFBQSxFQUFBLFNBQUEsUUFDQSxFQUNBLElBQUEsa0JBQUEsR0FDQSxxQkFBQSxFQUFBLHFCQUNBLElBRUEsS0FBQSxXQUFBLEtBRUEsT0FHQSxFQUFBLFVBQUEsU0FBQSxXQUNBLEdBQUEsR0FBQSxLQUFBLFVBQ0EsRUFBQSxLQUFBLFVBQUEsZ0JBQUEsR0FBQSxLQUFBLHlCQUNBLEVBQUEsS0FBQSxzQkFBQSxFQUFBLEtBQUEsVUFBQSxJQUFBLEtBQUEsUUFBQSxLQUlBLEVBQUEsVUFBQSxXQUFBLFdBQ0EsTUFBQSxNQUFBLFlBR0EsRUFBQSxVQUFBLFlBQUEsU0FBQSxHQUNBLEVBQUEsR0FBQSxLQUFBLFFBRUEsSUFBQSxHQUFBLEVBQUEsR0FDQSxFQUFBLFFBQUEsRUFBQSxRQUVBLEVBQUEsRUFBQSx1QkFDQSxPQUFBLEVBQUEsUUFFQSxFQUFBLEVBQUEsVUFBQSxHQUFBLE1BQUEsRUFBQSxNQUFBLEVBQUEsS0FBQSxPQUFBLEVBQUEsT0FBQSxFQUFBLE1BRUEsSUFBQSxHQUFBLEdBQUEsSUFBQSxFQUFBLEtBQUEsR0FBQSxFQUFBLFNBQ0EsR0FBQSxPQUFBLEVBQUEsU0FBQSxnQkFBQSxXQUFBLFNBQUEsS0FBQSxVQUFBLEVBQUEsYUFDQSxFQUFBLEdBQUEsTUFBQSxFQUFBLFFBQUEsUUFBQSxPQUFBLEVBQUEsUUFBQSxVQUFBLElBRUEsT0FBQSxHQUFBLFVBQUEsRUFBQSxFQUFBLEVBQUEsSUFHQSxFQUFBLFVBQUEsb0JBQUEsU0FBQSxFQUFBLEVBQUEsRUFBQSxHQUNBLE1BQUEsVUFBQSxHQUFBLElBQUEsRUFBQSxJQUFBLEVBQUEsT0FBQSxLQUFBLEVBQUEsS0FBQSxFQUFBLE1BQUEsRUFBQSxFQUFBLEdBQ0EsT0FBQSxHQUFBLElBQUEsRUFBQSxJQUFBLEVBQUEsS0FBQSxFQUFBLEtBQUEsRUFBQSxNQUFBLEVBQUEsRUFBQSxHQUNBLFFBQUEsR0FBQSxJQUFBLEVBQUEsSUFBQSxFQUFBLE9BQUEsRUFBQSxFQUFBLEVBQUEsS0FBQSxFQUFBLEtBQUEsSUFDQSxJQUFBLEVBQUEsSUFBQSxFQUFBLE9BQUEsRUFBQSxFQUFBLEVBQUEsS0FBQSxFQUFBLEtBQUEsRUFBQSxRQUlBLEVBQUEsVUFBQSx5QkFBQSxTQUFBLEVBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxJQUFBLElBQUEsRUFBQSxLQUFBLEVBQ0EsS0FBQSxLQUFBLFVBQUEsTUFBQSxFQUVBLElBQUEsR0FBQSxLQUFBLFFBQUEsVUFBQSxLQUFBLFFBQUEsU0FBQSxTQUFBLEVBQ0EsRUFBQSxLQUFBLFlBQUEsS0FBQSxVQUVBLElBQUEsYUFBQSxLQUFBLEdBQUEsQ0FDQSxHQUFBLEdBQUEsRUFBQSxJQUFBLEVBQUEsRUFBQSxPQUNBLEVBQUEsRUFBQSxJQUFBLEVBQUEsRUFBQSxPQUFBLENBQ0EsR0FBQSxFQUFBLElBQ0EsRUFBQSxJQUFBLEVBQUEsSUFBQSxFQUNBLEVBQUEsRUFBQSxJQUFBLEVBQUEsU0FDQSxFQUFBLElBQUEsRUFBQSxJQUFBLEVBQUEsT0FBQSxPQUVBLENBQ0EsR0FBQSxHQUFBLEVBQUEsS0FBQSxFQUNBLEVBQUEsRUFBQSxLQUFBLEVBQUEsQ0FDQSxHQUFBLEVBQUEsS0FDQSxFQUFBLEtBQUEsRUFBQSxLQUFBLEVBQ0EsRUFBQSxFQUFBLFFBQ0EsRUFBQSxLQUFBLEVBQUEsS0FBQSxFQUFBLE1BQUEsR0FJQSxNQUFBLElBR0EsRUFBQSxVQUFBLFNBQUEsV0FDQSxHQUFBLEdBQ0EsRUFBQSxLQUFBLFNBQ0EsRUFBQSxLQUFBLE9BS0EsT0FIQSxHQUFBLEVBQUEsS0FBQSx5QkFDQSxrQkFBQSxHQUFBLE1BQUEsRUFBQSxNQUFBLEtBQUEsRUFBQSxJQUFBLEVBQUEsUUFLQSxFQUFBLFVBQUEsT0FBQSxTQUFBLEdBQ0EsRUFBQSxPQUFBLElBQUEsS0FBQSxnQkFDQSxTQUFBLGVBQUEsR0FDQSxPQUFBLElBR0EsRUFBQSxVQUFBLElBQUEsV0FDQSxNQUFBLE1BQUEsS0FBQSxLQUFBLE1BQUEsRUFBQSxLQUFBLFFBQUEsV0FHQSxFQUFBLFVBQUEsTUFBQSxXQUNBLE1BQUEsTUFBQSxPQUFBLEtBQUEsUUFBQSxLQUFBLE1BQUEsS0FBQSxtQkFHQSxFQUFBLFVBQUEsT0FBQSxXQUNBLEtBQUEsU0FBQSxHQUdBLEVBQUEsVUFBQSxRQUFBLFdBQ0EsS0FBQSxTQUFBLEdBR0EsRUFBQSxVQUFBLGNBQUEsV0FDQSxLQUFBLFNBQUEsS0FBQSxTQUdBLEVBQUEsVUFBQSxPQUFBLFNBQUEsR0FDQSxHQUFBLEdBQUEsSUFDQSxLQUNBLEVBQUEsRUFBQSxFQUFBLGVBQUEsS0FBQSxNQUFBLEtBQUEsTUFDQSxJQUNBLEVBQUEsR0FBQSxNQUFBLFlBQUEsRUFBQSxjQUFBLEtBQUEsc0JBQ0EsRUFBQSxFQUFBLGVBQUEsS0FBQSxNQUFBLEtBQUEsS0FBQSxLQUlBLEVBQUEsTUFBQSxTQUFBLE1BQUEsRUFBQSxNQUFBLEdBQUEsRUFBQSxNQUFBLElBR0EsRUFBQSxVQUFBLFFBQUEsV0FDQSxHQUFBLEdBQUEsSUFDQSxjQUFBLEtBQUEsU0FDQSxLQUFBLEtBQUEsV0FDQSxFQUFBLFNBQUEsSUFBQSxJQUFBLEVBQUEsTUFBQSxXQUFBLE1BQUEsRUFBQSxRQW9CQSxJQUFBLEdBQUEsRUFBQSxHQUFBLE9BRUEsR0FBQSxHQUFBLFFBQUEsRUFDQSxFQUFBLEdBQUEsUUFBQSxZQUFBLEVBTUEsRUFBQSxHQUFBLFFBQUEsV0FBQSxXQUVBLE1BREEsR0FBQSxHQUFBLFFBQUEsRUFDQSxPQUdBLFNDbGRBLFNBQUEsR0FDQSxZQUtBLFNBQUEsS0FDQSxHQUFBLEdBQUEsU0FBQSxjQUFBLGFBRUEsR0FDQSxpQkFBQSxzQkFDQSxjQUFBLGdCQUNBLFlBQUEsZ0NBQ0EsV0FBQSxnQkFHQSxLQUFBLEdBQUEsS0FBQSxHQUNBLEdBQUEsU0FBQSxFQUFBLE1BQUEsR0FDQSxPQUFBLElBQUEsRUFBQSxHQUlBLFFBQUEsRUFJQSxFQUFBLEdBQUEscUJBQUEsU0FBQSxHQUNBLEdBQUEsSUFBQSxFQUNBLEVBQUEsSUFDQSxHQUFBLE1BQUEsSUFBQSxrQkFBQSxXQUFBLEdBQUEsR0FDQSxJQUFBLEdBQUEsV0FBQSxHQUFBLEVBQUEsR0FBQSxRQUFBLEVBQUEsUUFBQSxXQUFBLEtBRUEsT0FEQSxZQUFBLEVBQUEsR0FDQSxNQUdBLEVBQUEsV0FDQSxFQUFBLFFBQUEsV0FBQSxJQUVBLEVBQUEsUUFBQSxhQUVBLEVBQUEsTUFBQSxRQUFBLGlCQUNBLFNBQUEsRUFBQSxRQUFBLFdBQUEsSUFDQSxhQUFBLEVBQUEsUUFBQSxXQUFBLElBQ0EsT0FBQSxTQUFBLEdBQ0EsTUFBQSxHQUFBLEVBQUEsUUFBQSxHQUFBLE1BQUEsRUFBQSxVQUFBLFFBQUEsTUFBQSxLQUFBLFdBQUEsYUFLQSxRQ3BEQSxTQUFBLEVBQUEsR0FDQSxrQkFBQSxTQUFBLE9BQUEsSUFDQSxPQUFBLGdCQUFBLFVBQUEsU0FBQSxHQUNBLE1BQUEsR0FBQSxLQUVBLGdCQUFBLFNBQ0EsT0FBQSxRQUFBLEVBQUEsUUFBQSxXQUVBLEVBQUEsU0FFQSxLQUFBLFNBQUEsR0FDQSxHQUFBLEdBQUEsV0FDQSxZQUNBLFFBQ0EsT0FBQSxXQUNBLE1BQUEsa0JBQUEsS0FBQSxVQUFBLFdBQUEsVUFBQSxVQUFBLE1BQUEsNEJBQUEsSUFBQSxHQUVBLGNBQUEsU0FBQSxHQUNBLE9BQUEsR0FBQSxRQUFBLEtBQUEsSUFFQSxpQkFBQSxTQUFBLEdBQ0EsTUFBQSxHQUFBLFFBQUEsc0NBQUEsU0FFQSxTQUFBLFNBQUEsR0FDQSxNQUFBLGdCQUFBLElBRUEsU0FBQSxTQUFBLEdBQ0EsTUFBQSxnQkFBQSxJQUVBLFFBQUEsRUFBQSxRQUNBLFdBQUEsRUFBQSxXQUNBLFNBQUEsRUFBQSxjQUNBLFlBQUEsU0FBQSxHQUNBLE1BQUEsbUJBQUEsSUFFQSxVQUFBLFNBQUEsR0FDQSxTQUFBLEdBQUEsSUFBQSxFQUFBLFdBRUEsU0FBQSxTQUFBLEdBQ0EsTUFBQSxhQUFBLElBRUEsTUFBQSxTQUFBLEdBQ0EsTUFBQSxHQUFBLFlBQUEsSUFBQSxPQUFBLEVBQUEsR0FBQSxFQUFBLElBRUEsS0FBQSxFQUFBLE1BQ0EsS0FBQSxTQUFBLEVBQUEsR0FFQSxRQUFBLEdBQUEsRUFBQSxHQUNBLE1BQUEsR0FBQSxFQUFBLEdBRkEsRUFBQSxLQUFBLEVBQUEsSUFLQSxJQUFBLEVBQUEsSUFDQSxPQUFBLEVBQUEsS0FDQSxNQUFBLFNBQUEsRUFBQSxHQUNBLEdBQUEsSUFBQSxDQUNBLE9BQUEsSUFHQSxFQUFBLEtBQUEsRUFBQSxTQUFBLEVBQUEsR0FDQSxPQUFBLEVBQUEsRUFBQSxLQUFBLEtBQUEsRUFBQSxFQUFBLElBQUEsUUFDQSxNQUdBLEdBUEEsR0FTQSxLQUFBLFNBQUEsRUFBQSxHQUNBLEdBQUEsSUFBQSxDQUNBLE9BQUEsSUFHQSxFQUFBLEtBQUEsRUFBQSxTQUFBLEVBQUEsR0FDQSxPQUFBLEVBQUEsRUFBQSxLQUFBLEtBQUEsRUFBQSxFQUFBLEtBQ0EsRUFEQSxXQUlBLEdBUEEsR0FTQSxNQUFBLEVBQUEsT0FDQSxTQUFBLFNBQUEsR0FDQSxNQUFBLElBRUEsTUFBQSxTQUFBLEdBQ0EsTUFBQSxHQUFBLFFBQUEsS0FBQSxJQUVBLGVBQUEsV0FDQSxHQUFBLEdBQUEsQ0FDQSxPQUFBLFlBQ0EsTUFBQSxPQUdBLFdBQUEsU0FBQSxHQUVBLFFBQUEsS0FDQSxNQUFBLFFBQUEsR0FGQSxNQUFBLEdBQUEsV0FBQSxHQUFBLEVBQUEsR0FLQSxNQUFBLFNBQUEsR0FDQSxXQUFBLEVBQUEsSUFFQSxTQUFBLFNBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLENBQ0EsT0FBQSxZQUNBLEdBQUEsR0FBQSxFQUFBLEVBQUEsS0FBQSxFQUFBLFNBYUEsT0FaQSxHQUFBLFdBQ0EsRUFBQSxLQUNBLElBQ0EsRUFBQSxFQUFBLE1BQUEsRUFBQSxLQUdBLEVBQUEsSUFBQSxFQUNBLGFBQUEsR0FDQSxFQUFBLFdBQUEsRUFBQSxHQUNBLElBQ0EsRUFBQSxFQUFBLE1BQUEsRUFBQSxJQUVBLElBR0EsU0FBQSxTQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxDQU9BLE9BTkEsR0FBQSxFQUNBLEVBQUEsV0FDQSxFQUFBLEdBQUEsTUFDQSxFQUFBLEtBQ0EsRUFBQSxFQUFBLE1BQUEsRUFBQSxJQUVBLFdBQ0EsR0FBQSxHQUFBLEdBQUEsTUFBQSxFQUFBLEdBQUEsRUFBQSxFQVdBLE9BVkEsR0FBQSxLQUNBLEVBQUEsVUFDQSxHQUFBLEdBQ0EsYUFBQSxHQUNBLEVBQUEsS0FDQSxFQUFBLEVBQ0EsRUFBQSxFQUFBLE1BQUEsRUFBQSxJQUNBLElBQ0EsRUFBQSxXQUFBLEVBQUEsSUFFQSxJQUdBLFVBQUEsU0FBQSxHQUNBLE1BQUEsR0FBQSxTQUFBLEdBQUEsRUFBQSxLQUFBLFVBQUEsSUFFQSxLQUFBLGlCQUdBLEVBQUEsV0FDQSxZQWVBLFNBQUEsR0FBQSxHQUNBLEdBQUEsR0FBQSxDQVFBLE9BUEEsR0FBQSxFQUFBLFNBQUEsRUFBQSxHQUNBLEdBQ0EsSUFBQSxJQUNBLFFBQUEsRUFDQSxLQUFBLEVBQUEsR0FDQSxVQUFBLEVBQUEsS0FHQSxJQUFBLEVBQUEsSUFDQSxLQUFBLEVBQUEsS0FDQSxRQUFBLEVBQUEsUUFDQSxVQUFBLEVBQUEsVUFDQSxNQUFBLFNBQUEsR0FDQSxFQUFBLE1BQUEsRUFBQSxLQUlBLFFBQUEsR0FBQSxHQUNBLE9BQ0EsUUFBQSxnQkFBQSxFQUFBLFFBQUEsWUFDQSxLQUFBLGVBQUEsRUFBQSxLQUFBLFlBR0EsUUFBQSxHQUFBLEdBQ0EsR0FBQSxLQUlBLE9BSEEsR0FBQSxLQUFBLEVBQUEsU0FBQSxFQUFBLEdBQ0EsRUFBQSxHQUFBLElBQUEsSUFFQSxFQUVBLFFBQUEsS0FDQSxHQUFBLElBQ0EsU0FDQSxTQUFBLFdBQ0EsUUFBQSxnQkFFQSxNQUNBLFNBQUEsV0FDQSxJQUFBLElBQ0EsS0FBQSxJQUNBLFlBQUEsY0FDQSxVQUFBLE9BQ0EsUUFBQSxLQUVBLE9BQ0EsU0FBQSxXQUNBLGNBQUEsTUFDQSxnQkFBQSxlQUVBLGlCQUNBLFNBQUEsV0FDQSxjQUFBLE9BRUEsTUFDQSxTQUFBLFdBQ0EsSUFBQSxPQUNBLEtBQUEsSUFDQSxPQUFBLE1BQ0EsUUFBQSxRQUVBLEtBQ0EsS0FBQSxJQUNBLE1BQUEsUUFFQSxLQUNBLEtBQUEsT0FDQSxNQUFBLE1BUUEsT0FMQSxHQUFBLFVBQ0EsRUFBQSxNQUFBLEVBQUEsT0FDQSxnQkFBQSx3RkFHQSxFQTFGQSxHQUFBLElBQ0EsUUFBQSxvQkFDQSxNQUFBLFdBQ0EsS0FBQSxVQUNBLEtBQUEsVUFDQSxRQUFBLGFBQ0EsV0FBQSxnQkFDQSxXQUFBLGdCQUNBLE1BQUEsV0FDQSxLQUFBLFVBQ0EsT0FBQSxZQUNBLFVBQUEsZUFFQSxPQUFBLE1BZ0ZBLEVBQUEsV0FDQSxZQVNBLFNBQUEsR0FBQSxHQUNBLEdBQUEsRUFBQSxJQUNBLEVBQUEsTUFBQSxtQ0FFQSxLQUFBLElBQUEsRUFBQSxFQUFBLElBWkEsR0FBQSxHQUFBLENBb0NBLE9BbkNBLEdBQUEsYUFDQSxHQUNBLE9BQUEsV0FDQSxhQUFBLGdCQUNBLE9BQUEsV0FDQSxhQUFBLGlCQVFBLEVBQUEsTUFBQSxFQUFBLFdBQ0EsU0FBQSxTQUFBLEVBQUEsR0FDQSxHQUFBLEVBSUEsT0FIQSxHQUFBLEVBQUEsTUFBQSxFQUFBLElBQ0EsRUFBQSxPQUFBLFFBQUEsR0FDQSxLQUFBLElBQUEsUUFBQSxNQUFBLEtBQUEsSUFBQSxHQUNBLEdBRUEsT0FBQSxTQUFBLEdBQ0EsR0FBQSxHQUFBLENBR0EsT0FGQSxNQUFBLE1BQUEsS0FBQSxVQUFBLEdBQ0EsRUFBQSxLQUFBLFNBQUEsU0FBQSxFQUFBLEdBQ0EsRUFBQSxzQkFFQSxRQUFBLFNBQUEsR0FDQSxHQUFBLEVBQ0EsTUFBQSxTQUFBLEtBQUEsTUFBQSxLQUFBLFVBQUEsS0FDQSxFQUFBLEVBQUEsS0FDQSxLQUFBLFNBQUEsS0FBQSxNQUFBLEtBQUEsVUFBQSxPQUlBLEtBRUEsRUFBQSxXQUNBLFlBUUEsU0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxFQUNBLEtBQUEsRUFDQSxNQUFBLEtBS0EsS0FIQSxFQUFBLEVBQUEsTUFBQSxHQUNBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxFQUNBLEtBQUEsV0FBQSxLQUFBLGVBQ0EsRUFBQSxFQUFBLFNBQ0EsS0FBQSxXQUFBLEdBQUEsS0FBQSxXQUFBLEtBQ0EsUUFDQSxVQUVBLEtBQUEsV0FBQSxHQUFBLEdBQUEsS0FBQSxFQUVBO01BQUEsTUFFQSxRQUFBLEdBQUEsRUFBQSxFQUFBLEdBQ0EsTUFBQSxHQUFBLEtBQUEsS0FBQSxRQUFBLEVBQUEsRUFBQSxHQUVBLFFBQUEsR0FBQSxFQUFBLEVBQUEsR0FDQSxNQUFBLEdBQUEsS0FBQSxLQUFBLE9BQUEsRUFBQSxFQUFBLEdBRUEsUUFBQSxHQUFBLEdBQ0EsR0FBQSxFQUNBLEtBQUEsS0FBQSxXQUNBLE1BQUEsS0FHQSxLQURBLEVBQUEsRUFBQSxNQUFBLEdBQ0EsRUFBQSxFQUFBLGVBQ0EsTUFBQSxXQUFBLEVBRUEsT0FBQSxNQUVBLFFBQUEsR0FBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxDQUNBLEtBQUEsS0FBQSxXQUNBLE1BQUEsS0FJQSxLQUZBLEVBQUEsRUFBQSxNQUFBLEdBQ0EsS0FBQSxNQUFBLEtBQUEsVUFBQSxJQUNBLEVBQUEsRUFBQSxXQUFBLEVBQUEsS0FBQSxXQUFBLEtBQ0EsRUFBQSxFQUFBLEVBQUEsS0FBQSxNQUFBLEdBQUEsT0FBQSxJQUNBLEVBQUEsRUFBQSxFQUFBLE1BQUEsTUFBQSxHQUFBLE9BQUEsSUFDQSxLQUFBLEVBQUEsRUFFQSxPQUFBLE1BRUEsUUFBQSxHQUFBLEVBQUEsRUFBQSxHQUVBLFFBQUEsS0FFQSxJQUFBLEdBREEsR0FDQSxFQUFBLEVBQUEsRUFBQSxFQUFBLFFBQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxFQUNBLEVBQUEsRUFBQSxHQUFBLE1BQUEsRUFBQSxNQUFBLENBRUEsUUFBQSxFQU5BLE1BQUEsR0FTQSxRQUFBLEtBQ0EsR0FBQSxFQWNBLE9BWkEsR0FEQSxPQUFBLGFBQ0EsU0FBQSxHQUNBLGFBQUEsV0FDQSxPQUlBLFNBQUEsR0FDQSxXQUFBLFdBQ0EsS0FDQSxJQUtBLFFBQUEsR0FBQSxFQUFBLEdBQ0EsTUFBQSxHQUFBLEtBQUEsRUFBQSxLQUFBLEdBQUEsV0FDQSxFQUFBLE1BQUEsS0FBQSxNQUFBLEtBQUEsVUFBQSxLQXBGQSxHQUFBLEdBQUEsTUFBQSxFQUFBLEdBQ0EsUUFDQSxPQUFBLEVBQ0EsUUFBQSxFQUNBLElBQUEsRUFDQSxRQUFBLE1BbUZBLEVBQUEsU0FBQSxHQUNBLFlBMENBLFNBQUEsR0FBQSxFQUFBLEVBQUEsR0FFQSxJQUFBLEdBREEsR0FBQSxLQUNBLEVBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxFQUFBLEVBQUEsSUFDQSxFQUFBLEtBQUEsRUFBQSxpQkFBQSxFQUFBLElBR0EsT0FEQSxHQUFBLEVBQUEsT0FBQSxFQUFBLEtBQUEsS0FBQSxPQUFBLElBQUEsRUFBQSxLQUFBLEtBQUEsSUFDQSxFQUFBLEdBQUEsUUFBQSxHQUFBLEdBQUEsUUFBQSxFQUFBLEtBL0NBLEdBQUEsSUFDQSxLQUFBLEtBQ0EsUUFBQSxLQUNBLFFBQUEsU0FDQSxVQUFBLEtBQ0EsV0FBQSxFQUNBLGVBQUEsRUFFQSxPQUFBLFVBQUEsR0FTQSxRQUFBLEdBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxDQVNBLFFBUkEsRUFBQSxFQUFBLEtBQUEsRUFBQSxTQUNBLEVBQUEsRUFBQSxjQUFBLEVBQUEsU0FDQSxFQUFBLFlBQUEsRUFBQSxVQUFBLEVBQUEsV0FDQSxFQUFBLEVBQUEsVUFBQSxFQUFBLE9BQ0EsRUFBQSxVQUFBLEVBQUEsR0FBQSxRQUNBLEVBQUEsWUFBQSxFQUFBLFdBQUEsSUFDQSxFQUFBLFdBQUEsYUFBQSxFQUFBLE1BRUEsRUFFQSxRQUFBLEdBQUEsRUFBQSxHQUVBLElBQUEsR0FEQSxHQUFBLEVBQUEsRUFDQSxFQUFBLEVBQUEsRUFBQSxFQUFBLFdBQUEsT0FBQSxJQUNBLEVBQUEsRUFBQSxXQUFBLEdBQ0EsRUFBQSxXQUFBLEVBQ0EsR0FBQSxFQUFBLEdBQUEsRUFBQSxFQUVBLEVBQUEsRUFBQSxHQTNCQSxHQUFBLEVBQ0EsR0FBQSxFQUFBLFNBQUEsRUFBQSxHQUNBLEVBQUEsTUFBQSxFQUFBLFVBR0EsRUFBQSxRQUFBLEVBQUEsUUFBQSxFQUFBLFNBQUEsRUFBQSxTQUFBLEVBQUEsU0FDQSxFQUFBLEVBQUEsRUFBQSxRQUFBLEVBQUEsY0FBQSxFQUFBLFdBQ0EsRUFBQSxFQUFBLEtBQUEsTUFpQ0EsT0FBQSxVQUNBLEVBQUEsV0FDQSxZQVdBLFNBQUEsR0FBQSxFQUFBLEdBQ0EsRUFBQSxNQUNBLEVBQUEsT0FDQSxFQUFBLE1BQUEsb0JBRUEsRUFBQSxNQUFBLE1BQ0EsS0FBQSxNQUFBLEVBQUEsRUFBQSxNQUNBLEtBQUEsT0FBQSxFQUFBLEVBQUEsT0FDQSxLQUFBLE1BQUEsS0FBQSxPQUFBLE1BQ0EsS0FBQSxpQkFBQSxLQUFBLFdBQUEsS0FBQSxNQUFBLEtBQ0EsS0FBQSxnQkFBQSxFQUFBLEtBQUEsUUFDQSxLQUFBLDBCQUNBLElBQUEsS0FBQSxNQUFBLFNBQ0EsS0FBQSxRQUFBLEtBQUEsUUFBQSxLQUFBLFVBQUEsS0FBQSxtQkFBQSxFQUFBLE1Bc0tBLFFBQUEsR0FBQSxHQUNBLE1BQUEsR0FBQSxrQ0FBQSxLQUNBLFNBQUEsV0FDQSxXQUFBLFNBQ0EsV0FBQSxNQUNBLFdBQUEsRUFBQSxJQUFBLGVBQ0EsU0FBQSxFQUFBLElBQUEsYUFDQSxVQUFBLEVBQUEsSUFBQSxjQUNBLFlBQUEsRUFBQSxJQUFBLGdCQUNBLFdBQUEsRUFBQSxJQUFBLGVBQ0EsWUFBQSxFQUFBLElBQUEsZ0JBQ0EsY0FBQSxFQUFBLElBQUEsa0JBQ0EsV0FBQSxFQUFBLElBQUEsZUFDQSxjQUFBLEVBQUEsSUFBQSxrQkFDQSxjQUFBLEVBQUEsSUFBQSxvQkFDQSxZQUFBLEdBRUEsUUFBQSxHQUFBLEVBQUEsR0FDQSxNQUFBLEdBQUEsZUFBQSxLQUFBLEVBQUEsZUFBQSxHQUVBLFFBQUEsR0FBQSxHQUNBLE1BQUEsR0FBQSxRQUFBLEVBQUEsU0FBQSxFQUFBLFNBQUEsRUFBQSxTQWxOQSxHQUFBLEVBNExBLE9BM0xBLElBQ0EsRUFBQSxNQUNBLEdBQUEsTUFDQSxHQUFBLE9BQ0EsR0FBQSxRQUNBLEdBQUEsUUFDQSxHQUFBLEtBQ0EsR0FBQSxRQWtCQSxFQUFBLGVBQUEsU0FBQSxHQUNBLE1BQUEsR0FBQSxNQUFBLEdBQUEsUUFBQSxRQUFBLElBQUEsUUFBQSxVQUFBLE1BRUEsRUFBQSxNQUFBLEVBQUEsVUFBQSxHQUNBLFFBQUEsV0FDQSxLQUFBLGtCQUNBLEtBQUEsUUFBQSxZQUVBLFNBQUEsV0FDQSxLQUFBLGlCQUFBLEtBQUEsTUFDQSxLQUFBLFFBQUEsWUFFQSxXQUFBLFNBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxFQUFBLE9BQUEsRUFBQSxRQUNBLE1BQUEsc0JBQUEsRUFBQSxHQUNBLEdBQUEsS0FBQSxlQUFBLEVBQUEsSUFDQSxLQUFBLFFBQUEsRUFBQSxRQUFBLElBR0EsU0FBQSxXQUNBLEtBQUEsVUFBQSxLQUFBLGlCQUNBLEtBQUEscUJBQ0EsS0FBQSwyQkFFQSxzQkFBQSxTQUFBLEVBQUEsR0FDQSxHQUFBLEVBQ0EsUUFBQSxHQUNBLElBQUEsS0FDQSxJQUFBLE9BQ0EsR0FBQSxFQUFBLEVBQ0EsTUFFQSxTQUNBLEdBQUEsRUFFQSxHQUFBLEVBQUEsa0JBRUEsZUFBQSxTQUFBLEVBQUEsR0FDQSxHQUFBLEVBQ0EsUUFBQSxHQUNBLElBQUEsTUFDQSxHQUFBLEVBQUEsRUFDQSxNQUVBLFNBQ0EsR0FBQSxFQUVBLE1BQUEsSUFFQSx3QkFBQSxXQUNBLEdBQUEsSUFBQSxLQUFBLE9BQUEsSUFBQSxjQUFBLE9BQUEsYUFDQSxNQUFBLE1BQUEsSUFDQSxLQUFBLElBQUEsRUFDQSxLQUFBLE1BQUEsS0FBQSxNQUFBLEdBQ0EsS0FBQSxRQUFBLGlCQUFBLEtBR0EsVUFBQSxTQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsQ0FDQSxHQUFBLEVBQUEsRUFBQSxLQUFBLE9BQ0EsRUFBQSxFQUFBLEtBQUEsTUFBQSxTQUFBLEVBQUEsUUFBQSxFQUNBLEtBQUEsTUFBQSxFQUNBLEdBQUEsR0FFQSxHQUFBLEdBQ0EsS0FBQSxRQUFBLG9CQUFBLEtBQUEsT0FGQSxLQUFBLFFBQUEsZUFBQSxLQUFBLFFBS0EsS0FBQSxXQUNBLEdBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLElBZ0JBLE9BZkEsR0FBQSxFQUFBLEtBQUEsS0FBQSxRQUFBLE1BQ0EsRUFBQSxFQUFBLEtBQUEsS0FBQSxTQUFBLE1BQ0EsRUFBQSxFQUFBLEtBQUEsS0FBQSxXQUFBLE1BQ0EsRUFBQSxFQUFBLEtBQUEsS0FBQSxTQUFBLE1BQ0EsS0FBQSxPQUFBLEdBQUEsVUFBQSxHQUFBLEdBQUEsV0FBQSxHQUFBLEdBQUEsYUFBQSxJQUNBLEVBQUEsVUFBQSxFQUFBLFNBQUEsRUFDQSxLQUFBLE9BQUEsR0FBQSxXQUFBLEdBRUEsS0FBQSxPQUFBLEdBQUEseUNBQUEsU0FBQSxHQUNBLEVBQUEsRUFBQSxPQUFBLEVBQUEsVUFHQSxFQUFBLE1BQUEsRUFBQSxLQUFBLEVBQUEsU0FBQSxFQUFBLE1BR0EsTUFFQSxNQUFBLFdBQ0EsS0FBQSxPQUFBLFNBRUEsS0FBQSxXQUNBLEtBQUEsT0FBQSxRQUVBLFdBQUEsV0FDQSxNQUFBLE1BQUEsS0FFQSxTQUFBLFdBQ0EsTUFBQSxNQUFBLE9BQUEsSUFFQSxTQUFBLFNBQUEsRUFBQSxHQUNBLEtBQUEsY0FBQSxHQUNBLEtBQUEsVUFBQSxFQUFBLElBRUEsOEJBQUEsV0FDQSxNQUFBLE1BQUEsUUFBQSxLQUFBLGtCQUVBLGNBQUEsV0FDQSxNQUFBLE1BQUEsT0FBQSxPQUVBLGNBQUEsU0FBQSxHQUNBLEtBQUEsT0FBQSxJQUFBLEdBQ0EsS0FBQSxxQkFDQSxLQUFBLDJCQUVBLGdCQUFBLFdBQ0EsS0FBQSxjQUFBLEtBQUEsUUFFQSxRQUFBLFdBQ0EsTUFBQSxNQUFBLE1BQUEsT0FFQSxRQUFBLFNBQUEsR0FDQSxLQUFBLE1BQUEsSUFBQSxJQUVBLFVBQUEsV0FDQSxLQUFBLFFBQUEsS0FFQSxtQkFBQSxXQUNBLEdBQUEsR0FBQSxFQUFBLEVBQUEsQ0FDQSxHQUFBLEtBQUEsZ0JBQ0EsRUFBQSxLQUFBLFVBQ0EsRUFBQSxJQUFBLEdBQUEsSUFBQSxFQUFBLFFBQUEsR0FDQSxFQUFBLEtBQUEsR0FBQSxJQUFBLEtBQUEsZUFDQSxHQUFBLEtBQUEsYUFFQSxTQUFBLFdBQ0EsTUFBQSxNQUFBLE9BQUEsR0FBQSxXQUVBLFlBQUEsV0FDQSxHQUFBLEdBQUEsS0FBQSxPQUFBLFFBQUEsQ0FFQSxPQURBLE1BQUEsZ0JBQUEsS0FBQSxLQUFBLGlCQUNBLEtBQUEsZ0JBQUEsU0FBQSxHQUVBLGNBQUEsV0FDQSxHQUFBLEdBQUEsRUFBQSxDQUdBLE9BRkEsR0FBQSxLQUFBLE9BQUEsTUFBQSxPQUNBLEVBQUEsS0FBQSxPQUFBLEdBQUEsZUFDQSxFQUFBLFNBQUEsR0FDQSxJQUFBLEVBQ0EsU0FBQSxXQUNBLEVBQUEsU0FBQSxVQUFBLGNBQ0EsRUFBQSxVQUFBLGFBQUEsR0FDQSxJQUFBLEVBQUEsS0FBQSxTQUVBLEdBRUEsUUFBQSxXQUNBLEtBQUEsTUFBQSxJQUFBLE9BQ0EsS0FBQSxPQUFBLElBQUEsT0FDQSxLQUFBLGdCQUFBLFNBQ0EsS0FBQSxNQUFBLEtBQUEsT0FBQSxLQUFBLGdCQUFBLEVBQUEsWUFHQSxLQXlCQSxFQUFBLFdBQ0EsWUFPQSxTQUFBLEdBQUEsRUFBQSxHQUNBLEVBQUEsTUFDQSxFQUFBLFVBQUEsRUFBQSxjQUNBLEVBQUEsVUFBQSxTQUFBLEVBQUEsVUFBQSxVQUFBLEVBQUEsVUFBQSxNQUNBLEVBQUEsUUFDQSxFQUFBLE1BQUEsa0JBRUEsRUFBQSxNQUNBLEVBQUEsTUFBQSxnQkFFQSxFQUFBLE9BQUEsRUFBQSxFQUFBLE9BQ0EsRUFBQSxNQUFBLHlCQUFBLEVBQUEsTUFFQSxFQUFBLE1BQUEsTUFDQSxLQUFBLFlBQUEsRUFBQSxVQUNBLEtBQUEsS0FBQSxFQUFBLE1BQUEsSUFDQSxLQUFBLE1BQUEsRUFBQSxPQUFBLEVBQ0EsS0FBQSxVQUFBLEVBQUEsRUFBQSxTQUFBLEVBQUEsWUFDQSxLQUFBLFVBQUEsRUFBQSxFQUFBLFVBQUEsS0FBQSxXQUNBLEtBQUEsT0FBQSxFQUFBLE9BQUEsWUFBQSxFQUFBLE9BQUEsY0FBQSxFQUFBLE9BQ0EsS0FBQSxNQUFBLEVBQUEsWUFBQSxFQUFBLE9BQUEsS0FBQSxPQUFBLE9BQUEsSUFBQSxFQUFBLE1BQ0EsS0FBQSx1QkFDQSxLQUFBLElBQUEsRUFBQSxFQUFBLE1BQUEsU0FBQSxLQUFBLFFBQUEsU0FBQSxTQUFBLEtBQUEsUUFBQSxRQUFBLElBQUEsS0FBQSxNQTBKQSxRQUFBLEdBQUEsR0FHQSxRQUFBLEdBQUEsR0FDQSxNQUFBLEdBQUEsR0FGQSxNQURBLEdBQUEsR0FBQSxFQUFBLFVBQ0EsRUFBQSxXQUFBLEdBQUEsRUFBQSxFQUtBLFFBQUEsR0FBQSxFQUFBLEdBUUEsUUFBQSxHQUFBLEdBQ0EsTUFBQSxHQUFBLFNBQUEsS0FBQSxFQUFBLElBUkEsT0FDQSxTQUFBLEVBQUEsVUFBQSxFQUFBLFdBQUEsRUFBQSxVQUNBLFFBQUEsRUFBQSxTQUFBLEVBQUEsV0FBQSxFQUFBLFNBQ0EsT0FBQSxFQUFBLFFBQUEsRUFBQSxXQUFBLEVBQUEsUUFDQSxPQUFBLEVBQUEsUUFBQSxFQUFBLFdBQUEsRUFBQSxRQUNBLFdBQUEsRUFBQSxZQUFBLEdBTUEsUUFBQSxHQUFBLEdBQ0EsTUFBQSxtQkFBQSxLQUFBLEdBMU1BLEdBQUEsR0FBQSxDQXFMQSxPQXBMQSxJQUNBLElBQUEsd0JBQ0EsSUFBQSx3QkFFQSxFQUFBLEVBQUEsaUJBeUJBLEVBQUEsWUFBQSxTQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsRUFDQSxPQUFBLEdBQUEsS0FBQSxFQUFBLE1BRUEsSUFBQSxFQUFBLEtBQUEsRUFBQSxNQUFBLEdBQ0EsSUFBQSxFQUFBLEtBQUEsRUFBQSxNQUFBLE1BR0EsTUFFQSxFQUFBLE1BQUEsRUFBQSxVQUFBLEdBQ0EsV0FBQSxTQUFBLEVBQUEsR0FDQSxFQUFBLE1BQ0EsRUFBQSxPQUNBLEtBQUEsbUJBQUEsRUFBQSxHQUNBLEtBQUEsT0FBQSxLQUFBLFVBQUEsUUFDQSxLQUFBLGVBQUEsSUFDQSxLQUFBLE9BQUEsS0FBQSxVQUFBLFNBQ0EsS0FBQSxnQkFBQSxHQUVBLEtBQUEsU0FFQSxLQUFBLFFBQUEsV0FBQSxLQUFBLEtBQUEsR0FBQSxJQUVBLFFBQUEsU0FBQSxFQUFBLEdBQ0EsRUFBQSxNQUNBLEVBQUEsUUFBQSxLQUFBLGdCQUFBLE9BQ0EsS0FBQSxtQkFBQSxFQUFBLEdBQ0EsRUFBQSxPQUNBLEtBQUEsbUJBQUEsRUFBQSxJQUNBLEtBQUEsZ0JBQUEsUUFBQSxLQUFBLFVBQUEsVUFDQSxLQUFBLGdCQUFBLEdBRUEsS0FBQSxRQUFBLFdBQUEsS0FBQSxLQUFBLEdBQUEsSUFFQSxtQkFBQSxTQUFBLEVBQUEsR0FDQSxHQUFBLEVBQ0EsR0FBQSxLQUFBLHdCQUFBLEVBQUEsR0FDQSxLQUFBLGdCQUFBLEVBQUEsV0FBQSxPQUNBLEtBQUEsSUFBQSxLQUFBLEdBQUEsUUFBQSxLQUFBLFdBQUEsRUFBQSxJQUFBLE9BQUEsS0FBQSxXQUFBLEVBQUEsS0FFQSxtQkFBQSxTQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsQ0FDQSxHQUFBLEtBQUEsd0JBQUEsRUFBQSxHQUNBLEVBQUEsRUFBQSxXQUFBLE9BQ0EsS0FBQSxnQkFBQSxNQUFBLEdBQ0EsS0FBQSxnQkFBQSxHQUVBLGVBQUEsU0FBQSxHQUNBLEdBQUEsR0FBQSxLQUFBLFVBQUEsT0FDQSxNQUFBLHVCQUNBLEdBQUEsS0FBQSxJQUFBLEtBQUEsR0FDQSxNQUFBLEVBQ0EsUUFBQSxLQUFBLFNBR0EsZ0JBQUEsU0FBQSxHQUNBLEdBQUEsR0FBQSxLQUFBLFVBQUEsUUFDQSxNQUFBLHVCQUNBLEdBQUEsS0FBQSxJQUFBLEtBQUEsR0FDQSxNQUFBLEVBQ0EsUUFBQSxLQUFBLFNBR0EsT0FBQSxXQUNBLEtBQUEsSUFBQSxRQUNBLEtBQUEsd0JBRUEsd0JBQUEsU0FBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsSUFhQSxPQVpBLEdBQUEsU0FBQSx5QkFDQSxFQUFBLEtBQUEsRUFBQSxTQUFBLEdBQ0EsR0FBQSxHQUFBLENBQ0EsR0FBQSxFQUFBLGFBQUEsRUFBQSxHQUNBLEVBQUEsRUFBQSxFQUFBLFVBQUEsV0FBQSxJQUFBLEtBQUEsRUFBQSxJQUFBLEdBQUEsS0FBQSxFQUFBLElBQUEsRUFBQSxVQUFBLElBQUEsU0FBQSxFQUFBLFFBQUEsV0FBQSxJQUFBLEVBQUEsUUFBQSxZQUNBLEVBQUEsWUFBQSxFQUFBLE1BRUEsS0FBQSxXQUFBLEdBQ0EsVUFBQSxLQUFBLFFBQUEsVUFDQSxLQUFBLEVBQ0EsUUFBQSxJQUVBLEVBQUEsSUFFQSxXQUFBLFNBQUEsRUFBQSxHQUNBLE1BQUEsTUFBQSxVQUFBLE9BQUEsS0FBQSxVQUFBLFFBQ0EsTUFBQSxFQUNBLFlBQUEsRUFDQSxRQUFBLEtBQUEsT0FDQSxNQUVBLFdBQUEsU0FBQSxFQUFBLEdBQ0EsTUFBQSxNQUFBLFVBQUEsT0FBQSxLQUFBLFVBQUEsUUFDQSxNQUFBLEVBQ0EsWUFBQSxFQUNBLFFBQUEsS0FBQSxPQUNBLE1BRUEscUJBQUEsV0FDQSxLQUFBLGdCQUFBLEtBRUEsYUFBQSxTQUFBLEVBQUEsR0FDQSxNQUFBLEdBQUEsU0FBQSxHQUFBLEVBQUEsT0FDQSxPQUFBLEdBQ0EsR0FBQSxHQUVBLE9BQUEsU0FBQSxHQVVBLFFBQUEsR0FBQSxHQUNBLElBR0EsR0FBQSxFQUNBLEdBQUEsT0FBQSxNQUFBLEVBQUEsRUFBQSxPQUNBLEVBQUEsRUFBQSxPQUNBLEVBQUEsV0FBQSxFQUFBLEdBQ0EsRUFBQSxFQUFBLE9BQUEsRUFBQSxPQUNBLEVBQUEsUUFBQSxpQkFBQSxJQUdBLFFBQUEsR0FBQSxHQUNBLEVBQUEsT0FDQSxHQUFBLEVBQUEsRUFBQSxRQUNBLEVBQUEsT0FBQSxFQUFBLEtBQ0EsR0FBQSxFQUFBLE9BQ0EsRUFBQSxRQUFBLEVBQUEsRUFBQSxNQUFBLEVBQUEsRUFBQSxNQUFBLElBQ0EsRUFBQSxPQUFBLEVBQUEsUUFBQSxnQkFBQSxJQTNCQSxHQUFBLEdBQUEsS0FBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsQ0FDQSxNQUFBLFNBQ0EsS0FBQSxPQUFBLFdBQ0EsR0FBQSxFQUNBLEVBQUEsT0FBQSxFQUFBLEtBQ0EsRUFBQSxPQUFBLEVBQUEsUUFBQSxnQkFBQSxJQUVBLEtBQUEsT0FBQSxFQUFBLEVBQUEsSUFDQSxHQUFBLE9BdUJBLE9BQUEsRUFBQSxLQUNBLE1BQUEsV0FDQSxLQUFBLFNBQ0EsS0FBQSxTQUNBLEtBQUEsUUFBQSxZQUVBLFFBQUEsV0FDQSxNQUFBLE1BQUEsSUFBQSxHQUFBLFdBRUEsUUFBQSxXQUNBLEtBQUEsSUFBQSxFQUFBLFlBR0EsS0F3QkEsRUFBQSxXQUNBLFlBQ0EsU0FBQSxHQUFBLEVBQUEsR0FVQSxRQUFBLEdBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxNQUFBLEtBQUEsRUFBQSxNQUFBLE9BRUEsT0FEQSxHQUFBLEtBQUEsRUFBQSxPQUFBLEVBQUEsRUFBQSxTQUFBLFNBQUEsRUFBQSxPQUNBLEdBQUEsR0FBQSxFQUFBLEdBWkEsR0FBQSxHQUFBLElBQ0EsR0FBQSxNQUNBLEVBQUEsTUFDQSxFQUFBLE1BQUEsb0JBRUEsRUFBQSxNQUFBLE1BQ0EsS0FBQSxNQUFBLEVBQUEsRUFBQSxNQUNBLEtBQUEsTUFBQSxLQUNBLEtBQUEsU0FBQSxFQUFBLElBQUEsRUFBQSxTQUFBLEdBNkhBLE1BdEhBLEdBQUEsTUFBQSxFQUFBLFVBQUEsR0FDQSxtQkFBQSxTQUFBLEdBQ0EsS0FBQSxRQUFBLG9CQUFBLEVBQUEsRUFBQSxpQkFFQSxZQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxLQUFBLE1BQUEsWUFBQSxLQUFBLFFBQUEsTUFBQSxLQUFBLHFCQUNBLEtBQUEsUUFBQSxrQkFBQSxFQUFBLEVBQUEsSUFFQSxXQUFBLFdBQ0EsS0FBQSxNQUFBLFlBQUEsS0FBQSxRQUFBLE1BQUEsS0FBQSxxQkFDQSxLQUFBLFFBQUEsbUJBRUEsV0FBQSxXQUNBLEtBQUEsUUFBQSxNQUFBLEtBQUEsWUFFQSxrQkFBQSxXQUVBLFFBQUEsR0FBQSxHQUNBLE1BQUEsR0FBQSxVQUZBLE1BQUEsR0FBQSxNQUFBLEtBQUEsU0FBQSxJQUtBLGdCQUFBLFdBQ0EsTUFBQSxNQUFBLE1BQUEsS0FBQSxLQUFBLFVBQUEsYUFFQSxjQUFBLFdBQ0EsR0FBQSxHQUFBLEtBQUEscUJBQ0EsSUFBQSxFQUFBLFlBQUEsS0FBQSxRQUFBLFNBRUEsZUFBQSxTQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsRUFBQSxDQUNBLEdBQUEsRUFBQSxXQUFBLElBQ0EsRUFBQSxFQUFBLEVBQUEsYUFBQSxHQUNBLEVBQUEsS0FBQSxNQUFBLFlBQ0EsRUFBQSxLQUFBLE1BQUEsU0FBQSxTQUFBLEtBQUEsTUFBQSxJQUFBLGNBQUEsSUFBQSxTQUFBLEtBQUEsTUFBQSxJQUFBLGlCQUFBLElBQ0EsRUFBQSxFQUNBLEtBQUEsTUFBQSxVQUFBLEVBQUEsR0FDQSxFQUFBLEdBQ0EsS0FBQSxNQUFBLFVBQUEsR0FBQSxFQUFBLEtBR0EsS0FBQSxXQUNBLEdBQUEsR0FBQSxFQUFBLElBTUEsT0FMQSxHQUFBLEVBQUEsS0FBQSxLQUFBLG1CQUFBLE1BQ0EsS0FBQSxNQUFBLEdBQUEsV0FBQSxLQUFBLFVBQUEsV0FBQSxHQUNBLEVBQUEsS0FBQSxLQUFBLFNBQUEsU0FBQSxHQUNBLEVBQUEsT0FBQSxpQkFBQSxFQUFBLFdBQUEsR0FBQSxPQUFBLGdCQUFBLEVBQUEsV0FBQSxHQUFBLE9BQUEsZ0JBQUEsRUFBQSxXQUFBLEdBQUEsT0FBQSxXQUFBLEVBQUEsWUFBQSxHQUFBLE9BQUEsVUFBQSxFQUFBLFdBQUEsS0FFQSxNQUVBLE9BQUEsV0FDQSxNQUFBLE1BQUEsTUFBQSxTQUFBLEtBQUEsUUFBQSxPQUVBLEtBQUEsV0FDQSxLQUFBLE1BQUEsU0FBQSxLQUFBLFFBQUEsT0FFQSxNQUFBLFdBQ0EsS0FBQSxNQUFBLFlBQUEsS0FBQSxRQUFBLE1BQ0EsS0FBQSxpQkFFQSxxQkFBQSxTQUFBLEdBQ0EsS0FBQSxNQUFBLEtBQUEsTUFBQSxJQUVBLDJCQUFBLFNBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxFQUFBLENBT0EsT0FOQSxHQUFBLEtBQUEsc0JBQ0EsRUFBQSxLQUFBLGtCQUNBLEVBQUEsRUFBQSxFQUFBLE1BQUEsR0FBQSxHQUNBLEVBQUEsRUFBQSxFQUNBLEdBQUEsRUFBQSxJQUFBLEVBQUEsT0FBQSxHQUFBLEVBQ0EsRUFBQSxHQUFBLEVBQUEsRUFBQSxPQUFBLEVBQUEsRUFDQSxLQUFBLEVBQUEsS0FBQSxFQUFBLEdBQUEsSUFFQSxVQUFBLFNBQUEsR0FDQSxLQUFBLGlCQUNBLEVBQUEsR0FBQSxFQUFBLFdBQ0EsRUFBQSxTQUFBLEtBQUEsUUFBQSxRQUNBLEtBQUEsZUFBQSxLQUdBLGtCQUFBLFNBQUEsR0FDQSxNQUFBLElBQUEsRUFBQSxPQUFBLEVBQUEsWUFBQSxHQUFBLE1BRUEsb0JBQUEsV0FDQSxHQUFBLEdBQUEsS0FBQSxrQkFBQSxPQUFBLEtBQUEsVUFBQSxRQUFBLE9BQ0EsT0FBQSxHQUFBLE9BQUEsRUFBQSxNQUVBLGlCQUFBLFdBQ0EsR0FBQSxHQUFBLEtBQUEsa0JBQUEsT0FDQSxPQUFBLEdBQUEsT0FBQSxFQUFBLE1BRUEsT0FBQSxTQUFBLEdBT0EsUUFBQSxHQUFBLEdBQ0EsRUFBQSxPQUFBLEdBUEEsR0FBQSxHQUFBLElBQUEsS0FBQSxLQUtBLE9BSkEsS0FDQSxLQUFBLE1BQUEsRUFDQSxFQUFBLEtBQUEsS0FBQSxTQUFBLElBRUEsR0FLQSxNQUFBLFdBSUEsUUFBQSxHQUFBLEdBQ0EsRUFBQSxRQUpBLEVBQUEsS0FBQSxLQUFBLFNBQUEsR0FDQSxLQUFBLE1BQUEsS0FDQSxLQUFBLE1BQUEsU0FBQSxLQUFBLFFBQUEsUUFLQSxRQUFBLFdBSUEsUUFBQSxHQUFBLEdBQ0EsRUFBQSxVQUpBLEtBQUEsTUFBQSxJQUFBLE9BQ0EsS0FBQSxNQUFBLEVBQUEsU0FDQSxFQUFBLEtBQUEsS0FBQSxTQUFBLE1BTUEsS0FFQSxFQUFBLFdBQ0EsWUFFQSxTQUFBLEtBQ0EsRUFBQSxNQUFBLFFBQUEsTUFBQSxLQUFBLFVBQUEsSUFGQSxHQUFBLEdBQUEsRUFBQSxTQXdDQSxPQXBDQSxHQUFBLE1BQUEsRUFBQSxVQUFBLEVBQUEsV0FDQSxLQUFBLFdBRUEsT0FEQSxLQUFBLHFCQUFBLEtBQUEsUUFDQSxFQUFBLEtBQUEsTUFBQSxRQUFBLE1BQUEsS0FBQSxVQUFBLEtBRUEsTUFBQSxXQUVBLE1BREEsTUFBQSxRQUNBLEVBQUEsTUFBQSxNQUFBLFFBQUEsTUFBQSxLQUFBLFVBQUEsS0FFQSxZQUFBLFdBTUEsTUFMQSxNQUFBLG9CQUNBLEtBQUEsUUFFQSxLQUFBLFVBQUEsS0FBQSxRQUVBLEVBQUEsWUFBQSxNQUFBLFFBQUEsTUFBQSxLQUFBLFVBQUEsS0FFQSxXQUFBLFdBTUEsTUFMQSxNQUFBLG9CQUNBLEtBQUEsUUFFQSxLQUFBLFVBQUEsS0FBQSxRQUVBLEVBQUEsV0FBQSxNQUFBLFFBQUEsTUFBQSxLQUFBLFVBQUEsS0FFQSxxQkFBQSxTQUFBLEdBRUEsTUFEQSxNQUFBLE1BQUEsSUFBQSxRQUFBLEVBQUEsS0FBQSxJQUFBLElBQUEsS0FBQSxJQUFBLEtBQ0EsRUFBQSxxQkFBQSxNQUFBLFFBQUEsTUFBQSxLQUFBLFVBQUEsS0FFQSxNQUFBLFdBQ0EsS0FBQSxNQUFBLFFBRUEsTUFBQSxXQUNBLEtBQUEsTUFBQSxJQUFBLFVBQUEsWUFHQSxLQUVBLEVBQUEsV0FDQSxZQUNBLFNBQUEsR0FBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLENBQ0EsR0FBQSxNQUNBLEVBQUEsT0FDQSxFQUFBLE1BQUEsaUJBRUEsRUFBQSxNQUNBLEVBQUEsTUFBQSxnQkFFQSxFQUFBLFVBQ0EsRUFBQSxNQUFBLHFCQUVBLEVBQUEsTUFBQSxNQUNBLEtBQUEsU0FBQSxFQUFBLFNBQ0EsS0FBQSxVQUFBLEVBQUEsU0FBQSxFQUFBLFdBQUEsRUFBQSxVQUFBLEVBQ0EsS0FBQSxNQUFBLEVBQUEsTUFDQSxLQUFBLEtBQUEsRUFBQSxLQUNBLEtBQUEsU0FBQSxFQUNBLEtBQUEsUUFBQSxFQUNBLEtBQUEsTUFBQSxZQUFBLEtBQUEsV0FDQSxLQUFBLElBQUEsS0FBQSxNQUFBLGFBQ0EsS0FBQSxTQUNBLEtBQUEsS0FBQSxPQUFBLE9BQUEsb0JBQUEsS0FBQSxxQkFBQSxNQUFBLE9BQUEsaUJBQUEsS0FBQSxrQkFBQSxNQUFBLE9BQUEsZ0JBQUEsS0FBQSxpQkFBQSxNQUFBLE9BQUEsZ0JBQUEsS0FBQSxpQkFBQSxNQUFBLE9BQUEsa0JBQUEsS0FBQSxtQkFBQSxNQUFBLE9BQUEsaUJBQUEsS0FBQSxrQkFBQSxNQUNBLEVBQUEsRUFBQSxLQUFBLFdBQUEsT0FBQSxjQUNBLEVBQUEsRUFBQSxLQUFBLGFBQUEsY0FDQSxFQUFBLEVBQUEsS0FBQSxXQUFBLFNBQUEsaUJBQ0EsRUFBQSxFQUFBLEtBQUEsV0FBQSxTQUFBLGVBQ0EsRUFBQSxFQUFBLEtBQUEsV0FBQSxlQUNBLEVBQUEsRUFBQSxLQUFBLFdBQUEsT0FBQSxjQUNBLEVBQUEsRUFBQSxLQUFBLFdBQUEsT0FBQSxnQkFDQSxFQUFBLEVBQUEsS0FBQSxXQUFBLFNBQUEsZ0JBQ0EsRUFBQSxFQUFBLEtBQUEsV0FBQSxTQUFBLGlCQUNBLEVBQUEsRUFBQSxLQUFBLGdCQUFBLG1CQUNBLEVBQUEsRUFBQSxLQUFBLGdCQUFBLHdCQUNBLEtBQUEsTUFBQSxPQUFBLE9BQUEsVUFBQSxFQUFBLE1BQUEsT0FBQSxVQUFBLEVBQUEsTUFBQSxPQUFBLGFBQUEsRUFBQSxNQUFBLE9BQUEsV0FBQSxFQUFBLE1BQUEsT0FBQSxXQUFBLEVBQUEsTUFBQSxPQUFBLFVBQUEsRUFBQSxNQUFBLE9BQUEsWUFBQSxFQUFBLE1BQUEsT0FBQSxZQUFBLEVBQUEsTUFBQSxPQUFBLGFBQUEsRUFBQSxNQUFBLE9BQUEsZUFBQSxFQUFBLE1BQUEsT0FBQSxvQkFBQSxFQUFBLE1BQUEsT0FBQSxpQkFBQSxLQUFBLGtCQUFBLE1BbU9BLFFBQUEsR0FBQSxHQUNBLEdBQUEsTUFBQSxNQUFBLEtBQUEsVUFBQSxFQUNBLE9BQUEsWUFDQSxHQUFBLE1BQUEsTUFBQSxLQUFBLFVBQ0EsR0FBQSxLQUFBLEVBQUEsU0FBQSxHQUNBLE1BQUEsR0FBQSxHQUFBLE1BQUEsRUFBQSxNQU5BLE1BaE9BLEdBQUEsTUFBQSxFQUFBLFdBQ0EsT0FBQSxXQUNBLEdBQUEsR0FBQSxDQUNBLEdBQUEsS0FBQSxNQUFBLFFBQUEsRUFBQSxTQUNBLEVBQUEsS0FBQSxLQUFBLE9BQUEsRUFBQSxTQUNBLEVBQUEsR0FBQSxVQUFBLFNBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxDQUNBLEdBQUEsU0FBQSxjQUNBLEVBQUEsRUFBQSxHQUFBLEdBQ0EsRUFBQSxFQUFBLElBQUEsR0FBQSxPQUFBLEVBQ0EsRUFBQSxXQUFBLEdBQUEsS0FDQSxFQUFBLGlCQUNBLEVBQUEsMkJBQ0EsRUFBQSxNQUFBLFdBQ0EsRUFBQSxhQUlBLEVBQUEsR0FBQSxlQUFBLFNBQUEsR0FDQSxFQUFBLG9CQUdBLHFCQUFBLFNBQUEsRUFBQSxHQUNBLEtBQUEsT0FBQSxJQUVBLGtCQUFBLFdBQ0EsS0FBQSxlQUVBLG1CQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxLQUFBLGNBQ0EsS0FBQSxTQUFBLFFBQUEsU0FBQSxFQUFBLEVBQUEsSUFFQSxrQkFBQSxTQUFBLEVBQUEsRUFBQSxHQUNBLEtBQUEsU0FBQSxRQUFBLGVBQUEsRUFBQSxJQUVBLGlCQUFBLFNBQUEsRUFBQSxFQUFBLEdBQ0EsS0FBQSxTQUFBLFFBQUEsY0FBQSxFQUFBLElBRUEsaUJBQUEsU0FBQSxFQUFBLEVBQUEsR0FDQSxLQUFBLFNBQUEsUUFBQSxlQUFBLEVBQUEsSUFFQSxXQUFBLFdBQ0EsS0FBQSxpQkFBQSxLQUFBLEtBQUEsT0FBQSxLQUFBLE1BQUEsYUFFQSxXQUFBLFdBQ0EsS0FBQSxNQUFBLGlDQUNBLEtBQUEsU0FBQSxRQUFBLFNBQUEsS0FBQSxNQUFBLGFBR0EsY0FBQSxTQUFBLEVBQUEsR0FDQSxHQUFBLElBQ0EsRUFBQSxLQUFBLEtBQUEsd0JBQ0EsS0FBQSxPQUFBLElBQUEsRUFBQSxrQkFHQSxZQUFBLFNBQUEsRUFBQSxHQUNBLEdBQUEsSUFDQSxFQUFBLEtBQUEsS0FBQSx1QkFDQSxLQUFBLE9BQUEsSUFBQSxFQUFBLGtCQUNBLEVBQUEsS0FBQSxLQUFBLHFCQUNBLEtBQUEsYUFBQSxJQUFBLEVBQUEsa0JBR0EsWUFBQSxXQUNBLEtBQUEsU0FFQSxXQUFBLFdBQ0EsS0FBQSxXQUFBLEtBRUEsYUFBQSxXQUNBLEtBQUEsV0FBQSxJQUVBLGFBQUEsV0FDQSxRQUFBLEtBQUEsS0FBQSxLQUFBLE1BQUEsaUJBQ0EsS0FBQSxhQUFBLEtBQUEsS0FBQSxxQkFHQSxjQUFBLFdBQ0EsUUFBQSxLQUFBLEtBQUEsS0FBQSxNQUFBLGlCQUNBLEtBQUEsYUFBQSxLQUFBLEtBQUEscUJBR0EsZ0JBQUEsU0FBQSxFQUFBLEdBQ0EsS0FBQSxjQUFBLEdBQUEsS0FBQSxLQUFBLE9BQUEsR0FBQSxLQUFBLEtBQUEsU0FFQSxxQkFBQSxXQUNBLEtBQUEsZUFFQSxrQkFBQSxTQUFBLEVBQUEsR0FDQSxLQUFBLE1BQUEsSUFDQSxLQUFBLElBQUEsRUFDQSxLQUFBLEtBQUEscUJBQUEsS0FHQSxjQUFBLFdBQ0EsS0FBQSxZQUFBLEtBQUEsUUFFQSxjQUFBLFNBQUEsR0FFQSxNQURBLEdBQUEsRUFBQSxTQUFBLEdBQUEsRUFBQSxLQUFBLE1BQUEsWUFBQSxHQUNBLEVBQUEsUUFBQSxLQUFBLFdBRUEsWUFBQSxXQUNBLEdBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsQ0FDQSxHQUFBLEtBQUEsS0FBQSxtQkFDQSxFQUFBLEtBQUEsS0FBQSxrQkFBQSxHQUNBLEVBQUEsS0FBQSxNQUFBLGlCQUNBLEdBQUEsRUFBQSxjQUFBLElBQUEsS0FBQSxNQUFBLGNBT0EsS0FBQSxNQUFBLGFBTkEsRUFBQSxFQUFBLGVBQUEsR0FDQSxFQUFBLEVBQUEsaUJBQUEsR0FDQSxFQUFBLEdBQUEsUUFBQSxPQUFBLEVBQUEsU0FBQSxLQUNBLEVBQUEsRUFBQSxLQUFBLEVBQUEsS0FDQSxHQUFBLEtBQUEsTUFBQSxRQUFBLEVBQUEsRUFBQSxNQUtBLFVBQUEsV0FDQSxNQUFBLE1BQUEsU0FFQSxPQUFBLFdBQ0EsS0FBQSxTQUFBLEdBRUEsUUFBQSxXQUNBLEtBQUEsU0FBQSxHQUVBLFNBQUEsV0FDQSxNQUFBLE1BQUEsUUFFQSxTQUFBLFdBQ0EsTUFBQSxNQUFBLFlBQ0EsR0FDQSxLQUFBLGFBQUEsS0FBQSxTQUFBLE9BQUEsV0FDQSxHQUVBLEtBQUEsUUFBQSxFQUNBLEtBQUEsU0FBQSxRQUFBLFdBQ0EsSUFHQSxXQUFBLFdBQ0EsTUFBQSxNQUFBLFdBRUEsS0FBQSxTQUFBLE9BQUEsU0FDQSxHQUVBLEtBQUEsUUFBQSxFQUNBLEtBQUEsUUFDQSxLQUFBLFNBQUEsUUFBQSxTQUNBLElBUEEsR0FVQSxPQUFBLFdBQ0EsTUFBQSxNQUFBLEtBQUEsVUFFQSxLQUFBLFdBTUEsTUFMQSxNQUFBLFVBQUEsS0FBQSxTQUFBLE9BQUEsVUFDQSxLQUFBLEtBQUEsT0FDQSxLQUFBLGNBQ0EsS0FBQSxTQUFBLFFBQUEsU0FFQSxLQUFBLFVBRUEsTUFBQSxXQU9BLE1BTkEsTUFBQSxXQUFBLEtBQUEsU0FBQSxPQUFBLFdBQ0EsS0FBQSxLQUFBLFFBQ0EsS0FBQSxNQUFBLFlBQ0EsS0FBQSxNQUFBLGtCQUNBLEtBQUEsU0FBQSxRQUFBLFdBRUEsS0FBQSxVQUVBLE9BQUEsU0FBQSxHQUNBLEtBQUEsTUFBQSxTQUFBLEVBQUEsTUFBQSxLQUVBLE9BQUEsV0FDQSxNQUFBLE1BQUEsTUFBQSxZQUVBLE9BQUEsU0FBQSxHQUNBLEdBQUEsR0FBQSxLQUFBLEtBQUEsa0JBQUEsRUFDQSxPQUFBLEtBQUEsS0FBQSxTQUFBLE9BQUEsU0FBQSxFQUFBLE1BQ0EsS0FBQSxNQUFBLFNBQUEsRUFBQSxLQUFBLEdBQ0EsS0FBQSxTQUFBLFFBQUEsU0FBQSxFQUFBLEtBQ0EsS0FBQSxTQUNBLElBRUEsR0FFQSxhQUFBLFNBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxDQUlBLE9BSEEsR0FBQSxLQUFBLE1BQUEsV0FDQSxFQUFBLEtBQUEsS0FBQSxrQkFBQSxHQUNBLEVBQUEsR0FBQSxJQUFBLEVBQUEsSUFDQSxJQUFBLEtBQUEsU0FBQSxPQUFBLGVBQUEsRUFBQSxNQUNBLEtBQUEsTUFBQSxTQUFBLEVBQUEsS0FDQSxLQUFBLFNBQUEsUUFBQSxlQUFBLEVBQUEsTUFDQSxJQUVBLEdBRUEsV0FBQSxTQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLENBTUEsT0FMQSxHQUFBLEtBQUEsTUFBQSxXQUNBLEVBQUEsS0FBQSxLQUFBLDJCQUFBLEdBQ0EsRUFBQSxLQUFBLEtBQUEsa0JBQUEsR0FDQSxFQUFBLEVBQUEsRUFBQSxJQUFBLEtBQ0EsRUFBQSxLQUFBLGlCQUFBLEtBQUEsS0FBQSxPQUFBLEdBQ0EsR0FBQSxLQUFBLFNBQUEsT0FBQSxlQUFBLElBV0EsR0FWQSxLQUFBLEtBQUEsVUFBQSxHQUNBLEVBQ0EsS0FBQSxNQUFBLGNBQUEsRUFBQSxNQUVBLEtBQUEsTUFBQSxrQkFDQSxLQUFBLGVBRUEsS0FBQSxTQUFBLFFBQUEsZUFBQSxJQUNBLElBSUEsUUFBQSxXQUNBLEtBQUEsTUFBQSxVQUNBLEtBQUEsS0FBQSxhQUdBLE1BV0EsV0FDQSxZQXdLQSxTQUFBLEdBQUEsRUFBQSxHQUNBLEVBQUEsS0FBQSxXQUNBLEdBQUEsR0FBQSxFQUFBLEVBQUEsT0FDQSxFQUFBLEVBQUEsS0FBQSxFQUFBLGFBQUEsRUFBQSxFQUFBLEtBR0EsUUFBQSxHQUFBLEVBQUEsR0FDQSxNQUFBLEdBQUEsUUFBQSxTQUFBLEVBQUEsUUFBQSxNQUFBLGFBQUEsSUFBQSxFQUFBLElBQUEsTUFBQSxJQUFBLEVBQUEsSUFBQSxLQUFBLFlBQUEsR0FBQSxXQUFBLGdDQUFBLE1BQ0EsYUFBQSxNQUNBLFdBQUEsUUFDQSxTQUFBLEtBR0EsUUFBQSxHQUFBLEVBQUEsR0FDQSxFQUFBLEtBQUEsRUFBQSxPQUNBLElBQUEsRUFBQSxLQUFBLE9BQ0EsYUFBQSxFQUFBLEtBQUEsZ0JBQ0EsV0FBQSxFQUFBLEtBQUEsY0FDQSxNQUFBLEVBQUEsS0FBQSxXQUVBLEVBQUEsU0FBQSxFQUFBLFFBQUEsT0FBQSxNQUNBLGFBQUEsTUFDQSxZQUFBLEdBRUEsTUFDQSxFQUFBLEtBQUEsUUFBQSxFQUFBLEtBQUEsTUFBQSxRQUNBLE1BQUEsSUFDQSxNQUFBLEdBRUEsUUFBQSxHQUFBLEdBQ0EsT0FDQSxxQkFBQSxFQUFBLElBQUEseUJBQ0EsZUFBQSxFQUFBLElBQUEsbUJBQ0EsZ0JBQUEsRUFBQSxJQUFBLG9CQUNBLGdCQUFBLEVBQUEsSUFBQSxvQkFDQSxpQkFBQSxFQUFBLElBQUEscUJBQ0EsbUJBQUEsRUFBQSxJQUFBLHVCQUNBLGlCQUFBLEVBQUEsSUFBQSxxQkFDQSxlQUFBLEVBQUEsSUFBQSxvQkFHQSxRQUFBLEdBQUEsR0FDQSxHQUFBLEdBQUEsQ0FDQSxHQUFBLEVBQUEsS0FBQSxFQUFBLEtBQ0EsRUFBQSxFQUFBLFNBQUEsT0FBQSxFQUFBLFVBQUEsU0FDQSxFQUFBLEtBQUEsRUFBQSxLQUFBLEVBQUEsT0FBQSxTQUFBLEVBQUEsR0FDQSxFQUFBLFlBQUEsR0FBQSxFQUFBLFdBQUEsR0FBQSxFQUFBLEtBQUEsRUFBQSxLQUVBLEVBQUEsV0FBQSxFQUFBLFdBQUEsV0FBQSxFQUFBLEtBQUEsV0FBQSxFQUFBLE1BQUEsWUFBQSxFQUFBLFFBQUEsT0FDQSxFQUFBLFNBQ0EsRUFBQSxTQUFBLFlBQUEsR0FDQSxFQUFBLFVBR0EsUUFBQSxHQUFBLEdBQ0EsR0FBQSxHQUFBLENBR0EsT0FGQSxHQUFBLEVBQUEsU0FBQSxJQUFBLEVBQUEsVUFBQSxHQUNBLEVBQUEsRUFBQSxFQUFBLEdBQUEsV0FDQSxFQUFBLE9BQUEsRUFBQSxLQWpPQSxHQUFBLEdBQUEsRUFBQSxDQUNBLEdBQUEsRUFBQSxHQUFBLFVBQ0EsR0FDQSxJQUFBLFNBQ0EsTUFBQSxXQUNBLFVBQUEsZ0JBRUEsR0FDQSxXQUFBLFNBQUEsRUFBQSxHQU1BLFFBQUEsS0FDQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsQ0FDQSxHQUFBLEtBQUEsRUFBQSxTQUFBLEdBQ0EsRUFBQSxZQUFBLEVBQUEsWUFFQSxFQUFBLEVBQUEsTUFDQSxFQUFBLEVBQUEsRUFBQSxLQUFBLFNBQ0EsRUFBQSxFQUFBLEVBQUEsTUFDQSxFQUFBLEVBQUEsRUFBQSxNQUNBLEVBQUEsRUFBQSxRQUFBLElBQUEsRUFDQSxFQUFBLEVBQUEsUUFBQSxJQUFBLEVBQ0EsSUFBQSxFQUFBLEVBQUEsRUFBQSxJQUNBLElBQUEsRUFBQSxFQUFBLEVBQUEsS0FBQSxNQUFBLElBQUEsRUFBQSxJQUFBLE9BQ0EsR0FBQSxFQUFBLElBQUEsSUFDQSxFQUFBLEVBQUEsRUFBQSxJQUNBLEdBQUEsS0FDQSxFQUFBLElBQUEsRUFBQSxJQUFBLFNBQ0EsRUFBQSxJQUFBLEVBQUEsRUFBQSxJQUFBLE1BQUEsRUFBQSxJQUFBLGlCQUNBLEVBQUEsS0FBQSxHQUFBLFNBQUEsUUFBQSxFQUFBLEVBQUEsTUFBQSxPQUFBLEVBQUEsRUFBQSxPQUVBLEVBQUEsRUFBQSxFQUFBLEVBQ0EsRUFBQSxHQUFBLElBQ0EsR0FBQSxJQUVBLEVBQUEsR0FBQSxJQUNBLEtBQUEsRUFDQSxNQUFBLEdBQ0EsR0FDQSxFQUFBLEdBQUEsSUFDQSxLQUFBLEVBQ0EsU0FBQSxHQUNBLEdBQ0EsRUFBQSxHQUFBLElBQ0EsTUFBQSxFQUNBLEtBQUEsRUFDQSxTQUFBLEVBQ0EsVUFBQSxFQUFBLFdBQ0EsR0FDQSxFQUFBLEtBQUEsRUFBQSxJQUFBLEdBQ0EsRUFBQSxLQUFBLEVBQUEsVUFBQSxHQTVDQSxHQUFBLEVBSUEsT0FIQSxHQUFBLEVBQUEsUUFBQSxHQUFBLEtBQUEsTUFBQSxLQUFBLFVBQUEsR0FDQSxFQUFBLE1BQ0EsRUFBQSxFQUFBLEVBQUEsWUFDQSxLQUFBLEtBQUEsSUEyQ0EsVUFBQSxXQUNBLEdBQUEsRUFJQSxPQUhBLEdBQUEsS0FBQSxRQUFBLFNBQUEsR0FDQSxFQUFBLEVBQUEsY0FFQSxHQUVBLE9BQUEsV0FJQSxNQUhBLEdBQUEsS0FBQSxTQUFBLEdBQ0EsRUFBQSxXQUVBLE1BRUEsUUFBQSxXQUlBLE1BSEEsR0FBQSxLQUFBLFNBQUEsR0FDQSxFQUFBLFlBRUEsTUFFQSxTQUFBLFdBQ0EsR0FBQSxFQUlBLE9BSEEsR0FBQSxLQUFBLFFBQUEsU0FBQSxHQUNBLEVBQUEsRUFBQSxhQUVBLEdBRUEsU0FBQSxXQUlBLE1BSEEsR0FBQSxLQUFBLFNBQUEsR0FDQSxFQUFBLGFBRUEsTUFFQSxXQUFBLFdBSUEsTUFIQSxHQUFBLEtBQUEsU0FBQSxHQUNBLEVBQUEsZUFFQSxNQUVBLE9BQUEsV0FDQSxHQUFBLEVBSUEsT0FIQSxHQUFBLEtBQUEsUUFBQSxTQUFBLEdBQ0EsRUFBQSxFQUFBLFdBRUEsR0FFQSxLQUFBLFdBSUEsTUFIQSxHQUFBLEtBQUEsU0FBQSxHQUNBLEVBQUEsU0FFQSxNQUVBLE1BQUEsV0FJQSxNQUhBLEdBQUEsS0FBQSxTQUFBLEdBQ0EsRUFBQSxVQUVBLE1BRUEsT0FBQSxTQUFBLEdBQ0EsR0FBQSxJQUFBLEVBQUEsRUFBQSxFQUFBLEVBSUEsT0FIQSxHQUFBLEtBQUEsUUFBQSxTQUFBLEdBQ0EsRUFBQSxFQUFBLE9BQUEsS0FFQSxHQUVBLGFBQUEsU0FBQSxHQUNBLEdBQUEsSUFBQSxFQUFBLEVBQUEsRUFBQSxFQUlBLE9BSEEsR0FBQSxLQUFBLFFBQUEsU0FBQSxHQUNBLEVBQUEsRUFBQSxhQUFBLEtBRUEsR0FFQSxXQUFBLFNBQUEsR0FDQSxHQUFBLElBQUEsQ0FJQSxPQUhBLEdBQUEsS0FBQSxRQUFBLFNBQUEsR0FDQSxFQUFBLEVBQUEsV0FBQSxLQUVBLEdBRUEsSUFBQSxTQUFBLEdBQ0EsR0FBQSxFQUNBLE9BQUEsV0FBQSxRQU1BLEVBQUEsS0FBQSxTQUFBLEdBQ0EsRUFBQSxPQUFBLEtBRUEsT0FSQSxFQUFBLEtBQUEsUUFBQSxTQUFBLEdBQ0EsRUFBQSxFQUFBLFdBRUEsSUFRQSxRQUFBLFdBS0EsTUFKQSxHQUFBLEtBQUEsU0FBQSxFQUFBLEdBQ0EsRUFBQSxHQUNBLEVBQUEsWUFFQSxPQUdBLEVBQUEsR0FBQSxVQUFBLFNBQUEsR0FDQSxNQUFBLEdBQUEsR0FDQSxFQUFBLEdBQUEsTUFBQSxRQUFBLE1BQUEsS0FBQSxVQUFBLElBRUEsRUFBQSxXQUFBLE1BQUEsS0FBQSxZQUdBLEVBQUEsR0FBQSxVQUFBLFdBQUEsV0FFQSxNQURBLEdBQUEsR0FBQSxVQUFBLEVBQ0EsV0M5N0NBLFNBQUEsR0F3WEEsUUFBQSxHQUFBLEVBQUEsR0FDQSxJQUFBLEdBQUEsa0JBQUEsR0FDQSxNQUFBLEVBR0EsS0FBQSxHQUFBLEtBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQSxFQUNBLE9BQUEsR0FHQSxRQUFBLEdBQUEsRUFBQSxHQUNBLElBQUEsR0FBQSxLQUFBLEdBQ0EsSUFBQSxHQUNBLEVBQUEsRUFBQSxHQUFBLEVBQUEsSUFFQSxFQUFBLEdBQUEsRUFBQSxFQUNBLE9BQUEsR0FHQSxRQUFBLEdBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsRUFDQSxFQUFBLEVBQUEsT0FDQSxFQUFBLFNBQUEsR0FBQSxtQkFBQSxPQUFBLFVBQUEsU0FBQSxNQUFBLElBQUEsa0JBQUEsRUFFQSxJQUFBLEVBQ0EsR0FBQSxHQUNBLElBQUEsSUFBQSxHQUNBLEdBQUEsRUFBQSxNQUFBLEVBQUEsR0FBQSxNQUFBLEVBQ0EsVUFJQSxNQUFBLEVBQUEsR0FDQSxFQUFBLE1BQUEsRUFBQSxLQUFBLE1BQUEsUUFRQSxJQUFBLEdBQ0EsSUFBQSxJQUFBLEdBQ0EsR0FBQSxFQUFBLEtBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxPQUFBLEVBQ0EsVUFJQSxNQUFBLEVBQUEsR0FDQSxFQUFBLEtBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxTQUFBLElBT0EsTUFBQSxHQVlBLFFBQUEsR0FBQSxHQUNBLE1BQUEsZ0JBQUEsR0FDQSxFQUFBLFFBQUEsYUFBQSxTQUFBLEdBQ0EsTUFBQSxHQUFBLEtBR0EsRUFJQSxRQUFBLEdBQUEsR0FHQSxHQUFBLEdBQUEsU0FBQSxHQUVBLEdBQUEsT0FBQSxlQUNBLE1BQUEsR0FBQSxLQUFBLEdBQUEsZ0JBQ0EsSUFBQSxPQUFBLGNBRUEsSUFDQSxNQUFBLEdBQUEsS0FBQSxHQUFBLGVBQUEsbUJBQ0EsTUFBQSxHQUNBLE1BQUEsR0FBQSxLQUFBLEdBQUEsZUFBQSxzQkFLQSxNQUFBLEdBQUEsR0FBQSxTQUdBLEVBQUEsU0FBQSxHQUNBLEdBQUEsZ0JBQUEsR0FDQSxNQUFBLEVBR0EsSUFBQSxLQUNBLEtBQUEsR0FBQSxLQUFBLEdBQ0EsRUFBQSxlQUFBLElBQ0EsRUFBQSxLQUFBLG1CQUFBLEdBQUEsSUFBQSxtQkFBQSxFQUFBLElBSUEsT0FBQSxHQUFBLEtBQUEsTUFHQSxFQUFBLFNBQUEsR0FDQSxFQUFBLEVBQUEsUUFBQSxRQUFBLEtBR0EsS0FBQSxHQUZBLEdBQUEsR0FFQSxFQUFBLEVBQUEsRUFBQSxFQUFBLE9BQUEsSUFBQSxDQUNBLEdBQUEsR0FBQSxFQUFBLFdBQUEsRUFFQSxLQUFBLEVBQ0EsR0FBQSxPQUFBLGFBQUEsR0FDQSxFQUFBLEtBQUEsS0FBQSxHQUNBLEdBQUEsT0FBQSxhQUFBLEdBQUEsRUFBQSxLQUNBLEdBQUEsT0FBQSxhQUFBLEdBQUEsRUFBQSxPQUVBLEdBQUEsT0FBQSxhQUFBLEdBQUEsR0FBQSxLQUNBLEdBQUEsT0FBQSxhQUFBLEdBQUEsRUFBQSxHQUFBLEtBQ0EsR0FBQSxPQUFBLGFBQUEsR0FBQSxFQUFBLE1BSUEsTUFBQSxJQUdBLEVBQUEsU0FBQSxHQUNBLEdBQUEsR0FBQSxtRUFFQSxHQUFBLEVBQUEsRUFDQSxJQUNBLEdBQUEsRUFBQSxFQUNBLEVBQUEsRUFBQSxFQUFBLEVBRkEsRUFBQSxHQUdBLEVBQUEsQ0FFQSxHQUNBLEdBQUEsRUFBQSxXQUFBLEtBQ0EsRUFBQSxFQUFBLFdBQUEsS0FDQSxFQUFBLEVBQUEsV0FBQSxLQUVBLEVBQUEsR0FBQSxFQUNBLEdBQUEsRUFBQSxJQUFBLEVBQUEsR0FBQSxFQUNBLEdBQUEsR0FBQSxJQUFBLEVBQUEsR0FBQSxFQUNBLEVBQUEsR0FBQSxFQUVBLE1BQUEsR0FDQSxFQUFBLEVBQUEsR0FDQSxNQUFBLEtBQ0EsRUFBQSxJQUdBLEdBQ0EsRUFBQSxPQUFBLEdBQ0EsRUFBQSxPQUFBLEdBQ0EsRUFBQSxPQUFBLEdBQ0EsRUFBQSxPQUFBLEdBQ0EsRUFBQSxFQUFBLEVBQUEsR0FDQSxFQUFBLEVBQUEsRUFBQSxFQUFBLFNBQ0EsRUFBQSxFQUFBLE9BRUEsT0FBQSxJQUdBLEVBQUEsV0FLQSxJQUFBLEdBSEEsR0FBQSxVQUFBLEdBR0EsRUFBQSxFQUFBLEVBQUEsVUFBQSxPQUFBLElBQUEsQ0FDQSxHQUFBLEdBQUEsVUFBQSxFQUNBLEtBQUEsR0FBQSxLQUFBLEdBQ0EsRUFBQSxlQUFBLEtBQ0EsRUFBQSxHQUFBLEVBQUEsSUFNQSxNQUFBLElBR0EsRUFBQSxTQUFBLEVBQUEsRUFBQSxFQUFBLEdBRUEsa0JBQUEsS0FDQSxFQUFBLEVBQ0EsTUFJQSxFQUFBLE1BQUEsRUFBQSxRQUFBLEVBQ0EsRUFBQSxLQUFBLEVBQUEsU0FDQSxFQUFBLFFBQUEsRUFBQSxZQUNBLEVBQUEsTUFBQSxFQUFBLFFBQUEsRUFDQSxFQUFBLE1BQUEsU0FBQSxFQUFBLE9BQUEsRUFBQSxFQUFBLEtBR0EsSUFNQSxHQU5BLEVBQUEsR0FDQSxPQUFBLE1BQ0EsZUFBQSxtREFDQSxFQUFBLFFBQUEsRUFBQSxRQVlBLElBUEEsRUFEQSxxQkFBQSxFQUFBLGdCQUNBLEtBQUEsVUFBQSxFQUFBLE1BRUEsRUFBQSxFQUFBLE1BS0EsUUFBQSxFQUFBLENBRUEsR0FBQSxLQTRCQSxJQTNCQSxJQUNBLEVBQUEsS0FBQSxHQUNBLEVBQUEsTUFJQSxFQUFBLE9BQ0EsRUFBQSxLQUFBLE1BQUEsR0FBQSxPQUFBLFdBSUEsRUFBQSxRQUNBLEVBQUEsS0FBQSxZQUFBLEVBQUEsT0FDQSxFQUFBLEtBQUEsU0FBQSxFQUFBLFFBSUEsRUFBQSxFQUFBLEtBQUEsS0FDQSxFQUFBLE9BQUEsSUFFQSxHQURBLEVBQUEsUUFBQSxLQUFBLEdBQ0EsSUFBQSxFQUVBLElBQUEsR0FLQSxFQUFBLE1BQUEsQ0FDQSxHQUFBLEdBQUEsU0FBQSxxQkFBQSxRQUFBLEdBQ0EsRUFBQSxTQUFBLGNBQUEsU0FJQSxPQUhBLEdBQUEsS0FBQSxrQkFDQSxFQUFBLElBQUEsTUFDQSxHQUFBLFlBQUEsSUFNQSxFQUFBLFNBQUEsRUFBQSxHQUNBLEdBQUEsRUFBQSxNQUFBLEdBQUEsRUFHQSxHQUFBLEtBQUEsRUFBQSxFQUFBLEVBQUEsTUFHQSxLQUFBLEdBQUEsS0FBQSxHQUNBLEVBQUEsZUFBQSxJQUNBLEVBQUEsaUJBQUEsRUFBQSxFQUFBLEdBS0EsR0FBQSxtQkFBQSxXQUNBLEdBQUEsSUFBQSxFQUFBLFdBQUEsQ0FDQSxHQUFBLEdBQUEsRUFBQSxjQUFBLEVBR0EsS0FBQSxFQUNBLE1BSUEsR0FBQSxFQUFBLFFBQ0EsS0FBQSxXQUNBLE1BQUEsSUFHQSxLQUFBLFdBQ0EsSUFDQSxNQUFBLE1BQUEsTUFBQSxHQUNBLE1BQUEsR0FFQSxNQURBLEdBQUEsTUFBQSw0QkFBQSxZQVNBLEVBQUEsS0FBQSxNQUtBLEdBQ0EsVUFBQSxTQUFBLEVBQUEsR0FDQSxFQUFBLFFBQUEsY0FBQSxTQUFBLEVBQUEsRUFBQSxJQUFBLElBR0EsUUFBQSxTQUFBLEVBQUEsRUFBQSxHQUNBLE1BQUEsR0FBQSxVQUFBLEVBQUEsRUFBQSxJQUdBLElBQUEsU0FBQSxFQUFBLEVBQUEsR0FDQSxNQUFBLEdBQUEsU0FBQSxFQUFBLEVBQUEsSUFHQSxJQUFBLFNBQUEsRUFBQSxFQUFBLEdBQ0EsTUFBQSxHQUFBLE1BQUEsRUFBQSxFQUFBLElBR0EsS0FBQSxTQUFBLEVBQUEsRUFBQSxHQUNBLE1BQUEsR0FBQSxPQUFBLEVBQUEsRUFBQSxJQUdBLFFBQUEsU0FBQSxHQUNBLEVBQUEsUUFBQSxPQUdBLFVBQUEsU0FBQSxFQUFBLEVBQUEsR0FDQSxLQUFBLFFBQUEsRUFBQSxTQUFBLEVBQUEsR0FDQSxFQUFBLEtBQUEsRUFBQSxPQUFBLFFBQUEsT0FJQSxRQUFBLFNBQUEsRUFBQSxFQUFBLEdBQ0EsTUFBQSxHQUFBLFVBQUEsRUFBQSxFQUFBLElBR0EsTUFBQSxTQUFBLEVBQUEsRUFBQSxHQUNBLE1BQUEsR0FBQSxRQUFBLEVBQUEsRUFBQSxJQUdBLEtBQUEsU0FBQSxFQUFBLEVBQUEsR0FDQSxNQUFBLEdBQUEsT0FBQSxFQUFBLEVBQUEsSUFHQSxJQUFBLFNBQUEsRUFBQSxFQUFBLEdBQ0EsTUFBQSxHQUFBLE1BQUEsRUFBQSxFQUFBLElBR0EsTUFBQSxTQUFBLEVBQUEsRUFBQSxHQUNBLE1BQUEsR0FBQSxRQUFBLEVBQUEsRUFBQSxLQUtBLEVBQUEsRUFBQSxLQUFBLEVBQUEsS0FBQSxjQUFBLEtBRUEsR0FBQSxHQUFBLEVBQUEsSUFBQSxFQUFBLFNBQUEsRUFBQSxHQUVBLE1BQUEsR0FBQSxJQUFBLEdBQUEsRUFBQSxPQUNBLEVBQUEsUUFBQSxFQUFBLE9BQUEsRUFBQSxNQUVBLEVBQUEsTUFBQSxFQUFBLE9BQUEsRUFBQSxRQTBJQSxRQUFBLEdBQUEsRUFBQSxHQUVBLGtCQUFBLEtBQ0EsRUFBQSxFQUNBLE1BRUEsRUFBQSxNQUdBLEVBQUEsT0FBQSxFQUFBLFNBQ0EsR0FBQSxPQUdBLEVBQUEsa0JBQ0EsR0FBQSxVQUNBLEVBQUEsT0FBQSxFQUFBLEVBQUEsWUFJQSxnQkFBQSxHQUFBLEtBQ0EsRUFBQSxJQUFBLFlBQUEsRUFBQSxJQUFBLFVBQUEsRUFBQSxLQUlBLGdCQUFBLEdBQUEsYUFDQSxFQUFBLFlBQUEsRUFBQSxjQUlBLGdCQUFBLEdBQUEsYUFBQSxpQkFBQSxHQUFBLGVBQ0EsRUFBQSxhQUFBLEVBQUEsY0FJQSxFQUFBLDJCQUFBLEVBQUEsWUFBQSxFQUFBLHFCQUNBLEVBQUEsMkJBQUEsRUFBQSxZQUFBLEVBQUEscUJBRUEsRUFBQSxNQUFBLEVBQUEsSUFBQSxFQUFBLGtCQUVBLEVBQUEsRUFBQSxZQUFBLEVBQUEsS0FDQSxFQUFBLEVBQUEsR0FDQSxFQUFBLElBQUEsc0JBQUEsR0FFQSxFQUFBLFdBQUEsRUFBQSxPQUFBLEtBQUEsRUFBQSxjQUFBLEdBQ0EsRUFBQSxPQUFBLE9BQUEsRUFBQSxXQUFBLEVBQUEsRUFBQSxxQkFBQSxFQUFBLGNBRUEsRUFBQSwyQkFBQSxtQkFBQSxXQUFBLE9BQUEsY0FDQSxFQUFBLGFBQUEsUUFBQSxjQUFBLEVBR0EsSUFBQSxHQUFBLENBQ0EsR0FBQSxTQUNBLEVBQUEsU0FBQSxFQUFBLEdBR0EsTUFGQSxHQUFBLE1BQ0EsRUFBQSxJQUFBLEVBQUEsS0FBQSxFQUFBLElBQ0EsRUFBQSxFQUFBLElBRUEsRUFBQSxJQUFBLEdBR0EsRUFBQSxjQUFBLEdBR0EsR0FBQSxFQUFBLGNBQUEsR0FHQSxJQUFBLEVBTUEsSUFMQSxHQUFBLEVBQUEsV0FDQSxFQUFBLEVBQUEsYUFJQSxFQUFBLFNBQUEsQ0FVQSxHQUFBLEdBQUEsRUFBQSxZQUFBLEVBQUEsSUFDQSxpQkFBQSxHQUFBLFVBQUEsRUFBQSxTQUFBLEVBQUEsU0FDQSxLQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxRQUFBLE9BQUEsRUFBQSxFQUFBLElBRUEsSUFBQSxHQURBLEdBQUEsRUFBQSxZQUFBLEVBQUEsUUFBQSxJQUNBLEVBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxFQUFBLEVBQUEsSUFDQSxFQUFBLFFBQUEsRUFBQSxJQUFBLEdBQ0EsRUFBQSxLQUFBLEVBQUEsR0FjQSxPQVJBLEdBQUEsS0FBQSxLQUFBLEVBQUEsRUFBQSxTQUFBLEVBQUEsR0FDQSxFQUFBLEVBQ0EsR0FBQSxFQUVBLEdBQUEsRUFBQSxHQUNBLEdBQUEsRUFBQSxRQUFBLEtBR0EsRUFBQSxFQUFBLFVBQUEsT0F6QkEsTUFKQSxHQUFBLEVBQUEsU0FDQSxHQUFBLEVBQ0EsR0FBQSxFQUFBLEdBQ0EsR0FBQSxFQUFBLFFBQUEsR0FDQSxFQUFBLEVBQUEsVUFBQSxPQTRCQSxRQUFBLEtBQ0EsTUFBQSxHQUVBLFFBQUEsR0FBQSxFQUFBLEdBQ0EsZ0JBQUEsS0FBQSxHQUFBLEdBQ0EsS0FBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxFQUFBLEVBQUEsSUFDQSxFQUFBLFFBQUEsUUFBQSxFQUFBLElBQUEsR0FDQSxFQUFBLFFBQUEsS0FBQSxFQUFBLEdBR0EsT0FBQSxHQUFBLEdBR0EsUUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEdBQ0EsZ0JBQUEsSUFDQSxFQUFBLEVBQ0EsRUFBQSxFQUFBLEdBQUEsV0FDQSxFQUFBLEdBQUEsV0FBQSxRQUFBLEdBQUEsR0FDQSxFQUFBLEdBQUEsV0FBQSxLQUFBLEdBR0EsRUFBQSxHQUFBLEVBQUEsT0FDQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsT0FFQSxFQUNBLEVBQUEsV0FBQSxFQUFBLEdBQUEsR0FBQSxHQUVBLEVBQUEsT0FBQSxFQUFBLEdBQUEsR0FBQSxHQUVBLEVBQUEsaUJBQ0EsRUFBQSxZQUFBLEdBSUEsUUFBQSxHQUFBLEVBQUEsR0FDQSxnQkFBQSxLQUNBLEVBQUEsRUFBQSxHQUFBLFdBR0EsRUFBQSxHQUFBLEVBQUEsTUFDQSxJQUFBLEdBQUEsRUFBQSxHQUFBLE9BRUEsR0FBQSxDQUNBLEtBQUEsR0FBQSxLQUFBLEdBQ0EsRUFBQSxlQUFBLEtBQ0EsR0FBQSxFQUlBLE9BQUEsR0FHQSxRQUFBLEdBQUEsRUFBQSxHQU1BLE1BTEEsZ0JBQUEsS0FDQSxFQUFBLEVBQUEsR0FBQSxXQUdBLEVBQUEsR0FBQSxFQUFBLE9BQ0EsRUFBQSxVQUFBLEVBQUEsR0FBQSxJQUdBLFFBQUEsR0FBQSxFQUFBLEdBQ0EsZ0JBQUEsS0FDQSxFQUFBLEVBQUEsR0FBQSxXQUdBLEVBQUEsR0FBQSxFQUFBLE9BQ0EsRUFBQSxHQUFBLE1BQ0EsRUFBQSxpQkFDQSxFQUFBLFlBQUEsR0FJQSxRQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxnQkFBQSxJQUNBLFNBQUEsRUFDQSxFQUFBLEVBQUEsR0FBQSxXQUNBLEVBQUEsR0FBQSxXQUFBLFFBQUEsR0FBQSxHQUNBLEVBQUEsR0FBQSxXQUFBLEtBQUEsR0FHQSxFQUFBLEdBQUEsRUFBQSxPQUNBLEVBQUEsR0FBQSxHQUFBLEVBQUEsR0FBQSxNQU9BLEtBTEEsR0FBQSxHQUFBLEVBQUEsTUFBQSxFQUFBLGNBQ0EsRUFBQSxFQUNBLEVBQUEsRUFBQSxHQUFBLEdBR0EsRUFBQSxJQUNBLEdBQUEsRUFBQSxPQUFBLEVBQ0EsRUFBQSxFQUFBLElBQUEsR0FFQSxNQUFBLEVBQUEsRUFBQSxNQUNBLEVBQUEsRUFBQSxRQUVBLEVBQUEsRUFBQSxFQUFBLEtBRUEsR0FFQSxHQUFBLGlCQUNBLEVBQUEsWUFBQSxHQUlBLFFBQUEsR0FBQSxFQUFBLEVBQUEsR0FDQSxnQkFBQSxJQUNBLFNBQUEsRUFDQSxFQUFBLEVBQUEsR0FBQSxXQUNBLEVBQUEsR0FBQSxXQUFBLFFBQUEsR0FBQSxHQUNBLEVBQUEsR0FBQSxXQUFBLEtBQUEsRUFHQSxLQUFBLEdBQUEsS0FBQSxHQUNBLGdCQUFBLEdBQUEsSUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsSUFJQSxRQUFBLEdBQUEsR0FDQSxFQUFBLEdBQUEsVUFBQSxFQUdBLFFBQUEsR0FBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEdBR0EsUUFBQSxHQUFBLEVBQUEsR0FDQSxHQUFBLElBQ0EsWUFBQSxFQUFBLFlBQ0EsV0FBQSxFQUFBLFdBQ0EsU0FBQSxFQUFBLFNBQ0EsV0FBQSxFQUFBLFdBQ0EsSUFBQSxXQUFBLEVBQUEsVUFBQSxLQUlBLEVBQUEsRUFBQSxZQUFBLEVBQUEsSUFDQSxpQkFBQSxHQUFBLFVBQUEsRUFBQSxTQUFBLEVBQUEsU0FDQSxLQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxRQUFBLE9BQUEsRUFBQSxFQUFBLElBRUEsSUFBQSxHQURBLEdBQUEsRUFBQSxZQUFBLEVBQUEsUUFBQSxJQUNBLEVBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxFQUFBLEVBQUEsSUFDQSxFQUFBLFFBQUEsRUFBQSxJQUFBLEdBQ0EsRUFBQSxLQUFBLEVBQUEsR0FPQSxLQUFBLEdBREEsTUFDQSxFQUFBLEVBQUEsRUFBQSxFQUFBLE9BQUEsRUFBQSxFQUFBLElBQUEsQ0FDQSxHQUFBLElBQUEsRUFDQSxFQUFBLEVBQUEsRUFBQSxHQUNBLElBQUEsRUFDQSxJQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLEVBQUEsRUFBQSxJQUNBLEVBQUEsRUFBQSxNQUFBLEdBQUEsT0FHQSxJQUFBLENBR0EsSUFBQSxFQUFBLEtBQUEsRUFBQSxJQUdBLEVBQUEsT0FDQSxFQUFBLEtBQUEsT0FBQSxFQUFBLEVBQUEsU0FBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsT0FBQSxFQUFBLE1BR0EsR0FBQSxLQUFBLEVBQUEsU0FBQSxFQUFBLEdBR0EsRUFBQSxHQUFBLFdBQUEsUUFBQSxHQUFBLEdBQ0EsRUFBQSxHQUFBLFdBQUEsS0FBQSxHQUdBLEVBQUEsS0FBQSxFQUFBLFNBQUEsRUFBQSxHQUNBLEVBQUEsR0FBQSxFQUFBLE9BQ0EsRUFBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEdBRUEsSUFDQSxJQUFBLEdBQUEsSUFDQSxFQUFBLGlCQUFBLEVBQUEsS0FBQSxZQUFBLEdBQ0EsV0FNQSxHQUFBLElBSUEsUUFBQSxHQUFBLEVBQUEsRUFBQSxHQVNBLE1BUkEsa0JBQUEsSUFDQSxFQUFBLEVBQ0EsTUFDQSxJQUNBLE1BR0EsRUFBQSxJQUFBLEVBQ0EsRUFBQSxFQUFBLEdBR0EsUUFBQSxLQUNBLE1BQUEsR0FHQSxRQUFBLEdBQUEsR0FDQSxLQUNBLEVBQUEsRUFBQSxHQUdBLFFBQUEsS0FFQSxPQUFBLFFBQUEsT0FBQSxLQUVBLEVBQ0EsT0FBQSxLQUFBLFFBRUEsUUFBQSxLQUdBLFFBQUEsS0FJQSxRQUFBLEdBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxJQUFBLEVBQUEsT0FBQSxDQUVBLEdBQUEsR0FBQSxNQUVBLElBQUEsSUFBQSxFQUFBLFFBQUEsS0FBQSxDQUNBLEdBQUEsR0FBQSxFQUFBLE1BQUEsSUFDQSxHQUFBLEVBQUEsR0FDQSxFQUFBLEVBQUEsR0FBQSxPQUFBLEVBQUEsRUFBQSxHQUFBLE9BQUEsR0FHQSxFQUFBLFFBQUEsT0FBQSxFQUFBLE9BQUEsSUFDQSxFQUFBLEVBQUEsT0FBQSxFQUFBLEVBQUEsT0FBQSxHQUdBLElBQUEsRUFDQSxJQUFBLFNBQUEsRUFDQSxFQUFBLEVBQUEsd0JBQUEsRUFBQSxRQUFBLGFBQUEsRUFBQSxRQUFBLEdBQUEsRUFDQSxFQUFBLEtBQUEsRUFBQSxFQUFBLEVBQUEsUUFDQSxJQUFBLFNBQUEsRUFDQSxFQUFBLEVBQUEsd0JBQUEsRUFBQSxRQUFBLGFBQUEsRUFBQSxRQUFBLEdBQUEsRUFDQSxFQUFBLEtBQUEsRUFBQSxFQUFBLEVBQUEsUUFDQSxJQUFBLFlBQUEsRUFDQSxFQUFBLEVBQUEsd0JBQUEsRUFBQSxRQUFBLGFBQUEsRUFBQSxRQUFBLEdBQUEsRUFDQSxFQUFBLFFBQUEsRUFBQSxFQUFBLEVBQUEsUUFDQSxJQUFBLFdBQUEsRUFDQSxFQUFBLEVBQUEsd0JBQUEsRUFBQSxRQUFBLGFBQUEsRUFBQSxRQUFBLEdBQUEsRUFDQSxFQUFBLE9BQUEsRUFBQSxFQUFBLEVBQUEsUUFDQSxJQUFBLElBQUEsRUFBQSxRQUFBLFNBQUEsQ0FDQSxHQUFBLEdBQUEsRUFBQSxPQUFBLFFBQUEsT0FDQSxHQUFBLEVBQUEsd0JBQUEsRUFBQSxRQUFBLGFBQUEsRUFBQSxLQUFBLElBQUEsR0FBQSxDQUNBLElBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxFQUVBLEdBQUEsS0FBQSxFQUFBLEdBRUEsRUFBQSxLQUFBLEVBQUEsT0FFQSxHQUFBLEVBQUEsd0JBQUEsRUFBQSxRQUFBLGFBQUEsRUFBQSxLQUFBLElBQUEsR0FBQSxFQUNBLEVBQUEsS0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEtBSUEsUUFBQSxHQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxLQUFBLEVBQUEsYUFFQSxJQURBLEdBQUEsbUJBQUEsSUFBQSxLQUFBLElBQUEsRUFBQSxFQUFBLFFBQUEsRUFBQSxPQUNBLEVBQUEsQ0FFQSxHQUFBLEdBQUEsRUFDQSxFQUFBLEVBQUEsS0FBQSxjQVVBLElBVEEsSUFDQSxFQUFBLEVBQUEsS0FBQSxJQUFBLEdBR0EsR0FBQSxFQUFBLHNCQUFBLElBQ0EsRUFBQSxFQUFBLEtBQUEsaUJBRUEsRUFBQSxNQUVBLEVBQUEsUUFBQSxNQUFBLEVBQUEsQ0FDQSxHQUFBLEdBQUEsRUFBQSxNQUFBLElBRUEsR0FBQSxLQUFBLEVBQUEsU0FBQSxFQUFBLEdBQ0EsS0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLFNBSUEsR0FBQSxFQUFBLEVBQUEsRUFHQSxHQUFBLHNCQUFBLEdBQUEsRUFBQSxLQUFBLGVBQUEsSUF2RUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxFQTJFQSxFQUFBLEdBQUEsS0FBQSxTQUFBLEdBQ0EsTUFBQSxNQUFBLEtBQUEsV0FFQSxFQUFBLEVBQUEsTUFBQSxFQUdBLElBQUEsR0FBQSxFQUFBLE1BQUEsS0FBQSxJQUFBLEVBQUEsYUFBQSxJQUNBLEdBQUEsS0FBQSxXQUNBLEVBQUEsRUFBQSxNQUFBLFFBS0EsUUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEdBQ0EsSUFBQSxFQUFBLE1BQUEsRUFHQSxJQURBLEVBQUEsR0FBQSxFQUNBLEVBQUEsUUFBQSxFQUFBLHFCQUFBLEVBQUEscUJBQUEsRUFBQSxNQUFBLEVBRUEsSUFBQSxHQUFBLEVBQUEsb0JBQUEsRUFBQSxZQUFBLEVBQUEscUJBQUEsRUFBQSwyQkFDQSxFQUFBLEVBQUEsb0JBQUEsRUFBQSxZQUFBLEVBQUEscUJBQUEsRUFBQSwyQkFDQSxFQUFBLE9BQUEsRUFFQSxFQUFBLEVBQUEsU0FBQSxnQkFBQSxHQUFBLFFBQUEsRUFBQSxRQUFBLENBZUEsT0FkQSxHQUFBLEtBQUEsRUFBQSxTQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsYUFBQSxFQUFBLENBQ0EsaUJBQUEsSUFBQSxPQUFBLEVBQ0EsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBRUEsRUFBQSxxQkFBQSxFQUFBLHFCQUNBLEVBQUEsRUFBQSxRQUFBLEdBQUEsU0FBQSxFQUFBLEVBQUEsR0FBQSxLQUFBLElBQUEsS0FBQSxFQUFBLHVCQUFBLElBQ0EsRUFBQSxFQUFBLFFBQUEsR0FBQSxTQUFBLEVBQUEsRUFBQSxHQUFBLEtBQUEsSUFBQSxLQUFBLEVBQUEsdUJBQUEsRUFBQSxPQUFBLE1BRUEsRUFBQSxFQUFBLFFBQUEsR0FBQSxTQUFBLEVBQUEsRUFBQSxHQUFBLEtBQUEsSUFBQSxLQUFBLEVBQUEsdUJBQUE7R0FLQSxFQU1BLFFBQUEsR0FBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLElBQ0EsRUFBQSxJQUNBLEVBQUEsSUFFQSxFQUFBLEVBQUEsVUFBQSxFQUdBLFdBRkEsR0FBQSxZQUVBLElBQUEsRUFBQSxRQUFBLEVBQUEsZUFDQSxNQUNBLEVBQUEsRUFBQSxnQkFGQSxDQUdBLEdBQUEsR0FBQSxFQUFBLFlBQUEsRUFBQSxhQUNBLEVBQUEsRUFBQSxRQUFBLEVBQUEsWUFBQSxHQUFBLEVBQUEsWUFBQSxPQUNBLEVBQUEsRUFBQSxVQUFBLEVBQUEsR0FDQSxFQUFBLEVBQUEsUUFBQSxFQUFBLFlBQUEsSUFBQSxRQUFBLEVBQUEsWUFBQSxHQUVBLElBQUEsR0FBQSxFQUVBLE1BREEsR0FBQSxNQUFBLDZEQUFBLEdBQ0EsRUFHQSxJQUFBLElBQUEsRUFBQSxRQUFBLEdBQUEsQ0FDQSxHQUFBLEdBQUEsRUFBQSxRQUFBLEVBQ0EsSUFBQSxJQUFBLEVBQUEsUUFBQSxFQUFBLElBQUEsSUFBQSxFQUFBLFFBQUEsRUFBQSxHQUFBLENBQ0EsR0FBQSxHQUFBLEVBQUEsUUFBQSxFQUFBLEdBQ0EsRUFBQSxFQUFBLFFBQUEsRUFBQSxHQUFBLEVBQUEsTUFDQSxLQUNBLEVBQUEsRUFBQSxPQUFBLEVBQUEsS0FBQSxNQUFBLEVBQUEsVUFBQSxFQUFBLEtBQ0EsRUFBQSxFQUFBLFVBQUEsRUFBQSxHQUNBLE1BQUEsTUFLQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQ0EsR0FBQSxFQUFBLFFBQUEsRUFBQSxFQUFBLHVCQUFBLElBRUEsTUFBQSxHQUdBLFFBQUEsR0FBQSxHQUNBLE1BQUEsR0FBQSxVQUFBLGdCQUFBLEdBQUEsU0FBQSxnQkFBQSxHQUFBLFNBR0EsUUFBQSxHQUFBLEdBQ0EsTUFBQSxVQUFBLEVBQUEsT0FBQSxnQkFBQSxHQUFBLE1BR0EsUUFBQSxHQUFBLEdBQ0EsTUFBQSxVQUFBLEVBQUEsb0JBQUEsZ0JBQUEsR0FBQSxvQkFBQSxFQUFBLG1CQUdBLFFBQUEsR0FBQSxFQUFBLEdBQ0EsRUFBQSxLQUVBLElBQUEsR0FBQSxFQUFBLEVBQUEsR0FDQSxFQUFBLEVBQUEsRUFBQSxFQUVBLE9BQUEsVUFBQSxHQUFBLElBQUEsRUFHQSxRQUFBLEdBQUEsRUFBQSxHQUdBLE1BRkEsR0FBQSxNQUVBLEdBSUEsRUFBQSxFQUNBLEVBQUEsTUFBQSxLQUFBLGFBSkEsRUFBQSxJQUFBLDRHQUNBLEVBQUEsY0FBQSxJQU1BLFFBQUEsR0FBQSxFQUFBLEdBQ0EsTUFBQSxVQUFBLEVBQUEsYUFBQSxFQUFBLGFBQUEsRUFHQSxRQUFBLEtBS0EsSUFBQSxHQUhBLE1BR0EsRUFBQSxFQUFBLEVBQUEsVUFBQSxPQUFBLElBQ0EsRUFBQSxLQUFBLFVBQUEsR0FHQSxRQUNBLFlBQUEsVUFDQSxRQUFBLEdBSUEsUUFBQSxHQUFBLEVBQUEsR0FrQkEsR0FqQkEsR0FBQSxnQkFBQSxHQUNBLFlBQUEsRUFBQSxpQkFFQSxFQUFBLEVBQUEsTUFBQSxLQUFBLFdBQ0EsaUJBQUEsRUFBQSxtQkFDQSxHQUNBLGFBQUEsSUFJQSxFQUFBLE1BR0EsZ0JBQUEsR0FBQSxtQkFDQSxFQUFBLEVBQUEsVUFBQSxFQUFBLGlCQUFBLElBR0EsU0FBQSxHQUFBLE9BQUEsR0FBQSxLQUFBLEVBQUEsTUFBQSxFQUVBLGlCQUFBLEtBQ0EsRUFBQSxPQUFBLElBR0EsZ0JBQUEsS0FDQSxHQUFBLEdBR0EsSUFBQSxHQUFBLEVBQUEsRUFFQSxJQUFBLEVBQUEsT0FBQSxFQUNBLElBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLFNBQ0EsRUFBQSxFQUFBLElBQ0EsRUFBQSxFQUFBLElBRkEsS0FRQSxHQUlBLEdBSkEsRUFBQSxFQUFBLEVBQUEsR0FDQSxFQUFBLEVBQUEsRUFBQSxHQUNBLEVBQUEsRUFBQSxJQUFBLEVBQUEsWUFBQSxFQUFBLElBQUEsRUFBQSxhQUFBLEVBQ0EsRUFBQSxFQUFBLElBQUEsRUFBQSxHQUFBLFNBSUEsR0FBQSxRQUFBLEVBQUEsYUFBQSxLQUNBLEVBQUEsRUFBQSxNQUFBLEVBQUEsYUFDQSxFQUFBLEVBQUEsR0FDQSxFQUFBLEVBQUEsSUFHQSxTQUFBLEdBQUEsRUFBQSxhQUFBLGtCQUFBLEdBQUEsb0JBQ0EsRUFBQSxJQUNBLEVBQUEsa0JBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEdBRUEsRUFBQSxrQkFBQSxFQUFBLElBQUEsRUFBQSxFQUFBLEVBQUEsR0FJQSxJQUFBLEVBRUEsR0FEQSxnQkFBQSxHQUFBLGFBQUEsS0FBQSxFQUFBLGFBQ0EsRUFBQSxhQUNBLGVBQUEsR0FBQSxhQUFBLGdCQUFBLEdBQUEsWUFDQSxFQUFBLGVBS0EsZ0JBQUEsR0FBQSxhQUFBLEtBQUEsRUFBQSxZQUNBLEVBQUEsRUFBQSxRQUFBLEVBQUEsZUFDQSxlQUFBLEdBQUEsYUFBQSxnQkFBQSxHQUFBLGVBQ0EsRUFBQSxFQUFBLE9BQUEsRUFBQSxjQUdBLFNBQUEsR0FBQSxFQUFBLFFBQ0EsRUFBQSxRQUFBLFNBQUEsR0FDQSxFQUFBLEtBQ0EsRUFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEtBTUEsSUFBQSxHQUFBLENBU0EsSUFSQSxFQUFBLFFBQUEsRUFBQSxhQUFBLEtBQ0EsRUFBQSxFQUFBLE1BQUEsRUFBQSxhQUNBLEVBQUEsRUFBQSxJQUVBLElBQUEsR0FBQSxFQUFBLGtCQUNBLEVBQUEsRUFBQSxnQkFBQSxJQUdBLFNBQUEsSUFDQSxFQUFBLEVBQUEsRUFBQSxHQUNBLEVBQUEsRUFBQSxFQUFBLEdBRUEsRUFBQSxRQUFBLENBQ0EsR0FBQSxHQUFBLEVBQUEsRUFBQSxFQUNBLEdBQUEsUUFBQSxTQUFBLEdBQ0EsRUFBQSxLQUNBLEVBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxNQU1BLE1BQUEsVUFBQSxFQUFBLEVBQUEsRUFHQSxRQUFBLEdBQUEsRUFBQSxHQUNBLEVBQUEsS0FFQSxJQUFBLEdBQUEsRUFDQSxFQUFBLEVBQUEsRUFBQSxHQUNBLEVBQUEsQ0FFQSxLQUFBLEVBQUEsTUFBQSxFQUdBLElBQUEsV0FBQSxFQUFBLEdBQUEsY0FBQSxNQUFBLEVBSUEsSUFEQSxFQUFBLE9BQUEsRUFBQSxFQUFBLE1BQ0EsRUFBQSxNQUNBLEVBQUEsRUFBQSxZQUFBLEVBQUEsSUFBQSxFQUFBLGNBRUEsRUFBQSxFQUFBLEtBQUEsQ0FDQSxHQUFBLEdBQUEsRUFBQSxRQUNBLEdBQUEsVUFBQSxFQUVBLEVBQUEsS0FBQSxLQUFBLEVBQUEsRUFBQSxTQUFBLEVBQUEsR0FDQSxFQUFBLE9BQUEsRUFBQSxHQUNBLEVBQUEsU0FBQSxJQUtBLEdBQUEsR0FBQSxFQUFBLElBQUEsRUFBQSxHQUFBLFNBQ0EsSUFBQSxFQUFBLFFBQUEsRUFBQSxhQUFBLEdBQUEsQ0FDQSxHQUFBLEdBQUEsRUFBQSxNQUFBLEVBQUEsWUFDQSxHQUFBLEVBQUEsR0FDQSxFQUFBLEVBQUEsR0FHQSxHQUFBLEVBQUEsR0FBQSxDQUNBLEVBQUEsRUFBQSxVQUFBLFNBQ0EsR0FBQSxRQUNBLEVBQUEsYUFBQSxFQUFBLGVBRUEsSUFBQSxHQUFBLEVBQUEsRUFBQSxZQUFBLEVBQUEsSUFBQSxFQUFBLE9BR0EsSUFEQSxFQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsRUFBQSxnQkFDQSxNQUFBLEdBQUEsR0FBQSxRQUFBLEVBQUEsVUFJQSxHQUFBLEVBQUEsRUFBQSxFQUFBLElBQUEsQ0FDQSxFQUFBLEVBQUEsUUFBQSxNQUFBLEVBQUEsS0FBQSxTQUNBLEdBQUEsTUFDQSxFQUFBLFNBQUEsRUFBQSxVQUFBLEVBQUEsS0FBQSxFQUFBLFNBQ0EsR0FBQSxJQUNBLEVBQUEsYUFBQSxFQUFBLGNBRUEsSUFBQSxFQUNBLElBQUEsRUFBQSxZQUFBLEVBQUEsR0FBQSxFQUFBLE9BRUEsQ0FDQSxFQUFBLEVBQUEsRUFBQSxZQUFBLEVBQUEsRUFBQSxZQUNBLElBQUEsR0FBQSxFQUFBLElBQUEsRUFBQSxHQUFBLEVBQUEsTUFDQSxJQUFBLEVBQ0EsRUFBQSxFQUFBLElBQUEsRUFDQSxJQUFBLElBQ0EsRUFBQSxFQUFBLEVBQUEsWUFBQSxPQVBBLEdBQUEsRUFBQSxFQUFBLFlBQUEsQ0FhQSxJQUZBLEVBQUEsRUFBQSxFQUFBLEdBRUEsR0FBQSxFQUFBLGVBQ0EsTUFBQSxHQUFBLEdBQ0EsTUFBQSxFQUFBLE1BQ0Esb0JBQUEsRUFBQSxvQkFDQSxvQkFBQSxFQUFBLHFCQUVBLE1BQUEsRUFBQSxPQUFBLEdBZUEsTUFKQSxHQUFBLElBQUEsRUFBQSxlQUNBLEdBQUEsU0FDQSxFQUFBLEVBQUEsRUFBQSxFQUFBLFlBQUEsRUFBQSxHQUVBLEVBQUEsR0FDQSxNQUFBLEVBQUEsTUFDQSxvQkFBQSxFQUFBLG9CQUNBLG9CQUFBLEVBQUEscUJBaEJBLElBQUEsR0FBQSxFQUFBLE9BT0EsSUFOQSxFQUFBLFFBQ0EsRUFBQSxFQUFBLE9BQUEsR0FBQSxLQUFBLElBQ0EsRUFBQSxTQUFBLEVBQUEsZUFDQSxHQUFBLElBRUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxZQUFBLEVBQUEsR0FDQSxHQUFBLEVBQUEsZUFBQSxNQUFBLEdBY0EsR0FBQSxFQUFBLEdBQUEsQ0FDQSxHQUFBLEdBQUEsRUFBQSxVQUFBLFNBQ0EsR0FBQSxtQkFDQSxFQUFBLGFBQUEsRUFBQSxrQkFFQSxJQUFBLEdBQUEsRUFBQSxFQUFBLFlBQUEsR0FBQSxFQUFBLFFBQUEsRUFBQSxFQUFBLEVBQUEsTUFBQSxFQUFBLE1BQUEsRUFBQSxpQkFBQSxHQUVBLElBREEsRUFBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEVBQUEsbUJBQ0EsTUFBQSxHQU1BLElBQUEsR0FGQSxHQUNBLEVBQUEsRUFBQSxNQUFBLEVBQUEsY0FDQSxFQUFBLEVBQUEsRUFBQSxFQUFBLE9BQUEsRUFBQSxHQUNBLFNBQUEsRUFEQSxJQUFBLENBT0EsSUFKQSxHQUFBLEdBQUEsRUFBQSxHQUVBLEVBQUEsRUFDQSxFQUFBLEVBQUEsSUFBQSxFQUFBLEdBQUEsR0FDQSxFQUFBLElBQ0EsRUFBQSxHQUFBLEVBQUEsRUFBQSxJQUNBLEdBRUEsSUFBQSxTQUFBLEtBQUEsRUFBQSxnQkFBQSxLQUFBLEdBQUEsQ0FDQSxHQUFBLEdBQUEsT0FBQSxVQUFBLFNBQUEsTUFBQSxFQUNBLElBQUEsZ0JBQUEsR0FDQSxFQUFBLEVBQUEsRUFBQSxHQUNBLEVBQUEsRUFBQSxFQUFBLE9BQ0EsSUFBQSxtQkFBQSxHQUFBLEVBQUEsbUJBQUEsRUFBQSxtQkFJQSxHQUFBLE9BQUEsR0FBQSxFQUFBLGtCQUFBLEVBQ0EsRUFBQSxXQUNBLElBQUEsT0FBQSxFQUNBLEdBQUEsRUFBQSxtQkFBQSxFQUFBLG1CQVFBLEdBQUEsb0JBQUEsR0FBQSxzQkFBQSxHQUFBLG9CQUFBLEVBQUEsQ0FDQSxHQUFBLEdBQUEsbUJBQUEsT0FDQSxHQUFBLEtBQUEsRUFBQSxTQUFBLEdBQ0EsRUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLFlBQUEsRUFBQSxFQUFBLGFBQUEsRUFBQSxLQUVBLEVBQUEsT0FaQSxHQUFBLHNCQUFBLGtCQUFBLEdBQUEscUJBQ0EsRUFBQSxFQUFBLHFCQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsSUFFQSxFQUFBLFFBQUEsRUFBQSxJQUFBLEVBQUEsS0FBQSxFQUFBLDJDQUVBLEVBQUEsSUFBQSxRQVpBLEdBQUEsRUFBQSxLQUFBLE1BQ0EsRUFBQSxFQUFBLEVBQUEsR0FDQSxFQUFBLEVBQUEsRUFBQSxFQXFCQSxpQkFBQSxJQUFBLEtBQUEsRUFBQSxRQUFBLEVBQUEsbUJBQUEsSUFDQSxFQUFBLFFBRUEsRUFBQSxHQUlBLEdBQUEsU0FBQSxJQUFBLEVBQUEsbUJBQUEsRUFBQSx1QkFBQSxHQUFBLEVBQUEsWUFBQSxFQUFBLFdBQUEsT0FBQSxHQUFBLENBSUEsR0FGQSxFQUFBLGtCQUFBLEVBRUEsRUFBQSxXQUFBLFFBRUEsSUFBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsV0FBQSxPQUFBLEVBQUEsRUFBQSxJQUdBLEdBRkEsRUFBQSxFQUFBLEVBQUEsV0FBQSxHQUFBLEVBQUEsWUFBQSxFQUFBLEdBRUEsR0FBQSxLQUFBLEdBQUEsRUFBQSxtQkFBQSxFQUFBLENBRUEsR0FBQSxHQUFBLEVBQUEsUUFBQSxFQUFBLGFBQUEsR0FBQSxFQUFBLE1BQUEsRUFBQSxhQUFBLEdBQUEsRUFDQSxFQUFBLEVBQUEsUUFBQSxFQUFBLGFBQUEsR0FBQSxFQUFBLE1BQUEsRUFBQSxhQUFBLEdBQUEsQ0FFQSxJQUFBLElBQUEsRUFBQSxXQUlBLEdBQUEsR0FBQSxFQUFBLEdBQUEsVUFDQSxFQUFBLEVBQUEsRUFBQSxFQUVBLEdBQUEsa0JBQUEsRUFHQSxNQUFBLEdBRUEsUUFBQSxLQUNBLEdBQUEsR0FDQSxFQUFBLEVBQUEsaUJBQ0EsSUFxQkEsSUFqQkEsbUJBQUEsVUFDQSxXQUdBLElBQUEsR0FGQSxHQUFBLE9BQUEsU0FBQSxPQUFBLFVBQUEsR0FDQSxFQUFBLEVBQUEsTUFBQSxLQUNBLEVBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxJQUFBLENBQ0EsR0FBQSxHQUFBLEVBQUEsR0FBQSxRQUFBLElBQ0EsSUFBQSxFQUFBLEVBQUEsQ0FDQSxHQUFBLEdBQUEsRUFBQSxHQUFBLFVBQUEsRUFBQSxFQUNBLElBQUEsRUFBQSxhQUNBLEVBQUEsS0FBQSxFQUFBLEdBQUEsVUFBQSxFQUFBLFNBUUEsRUFBQSxXQUFBLG1CQUFBLFVBQUEsQ0FDQSxHQUFBLEdBQUEsRUFBQSxPQUFBLEtBQUEsRUFBQSxXQUNBLElBQUEsRUFBQSxLQUFBLEdBSUEsR0FBQSxFQUFBLDJCQUFBLG1CQUFBLFNBQUEsT0FBQSxhQUFBLENBQ0EsR0FBQSxHQUFBLEVBQUEsYUFBQSxRQUFBLGNBQ0EsSUFDQSxFQUFBLEtBQUEsR0FLQSxHQUFBLG1CQUFBLFdBQUEsQ0FDQSxHQUFBLFVBQUEsVUFDQSxJQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsVUFBQSxVQUFBLE9BQUEsSUFDQSxFQUFBLEtBQUEsVUFBQSxVQUFBLEdBR0EsV0FBQSxjQUNBLEVBQUEsS0FBQSxVQUFBLGNBRUEsVUFBQSxVQUNBLEVBQUEsS0FBQSxVQUFBLFVBMkJBLE1BdkJBLFlBQ0EsSUFBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxJQUFBLENBQ0EsR0FBQSxHQUFBLEVBQUEsRUFFQSxJQUFBLEVBQUEsUUFBQSxLQUFBLEdBQUEsQ0FDQSxHQUFBLEdBQUEsRUFBQSxNQUFBLElBQ0EsR0FBQSxFQUFBLGFBQ0EsRUFBQSxHQUFBLGNBQUEsSUFBQSxFQUFBLEdBQUEsY0FDQSxFQUFBLEdBQUEsY0FBQSxJQUFBLEVBQUEsR0FBQSxjQUdBLEdBQUEsSUFBQSxFQUFBLFFBQUEsRUFBQSxRQUFBLEdBQUEsR0FBQSxDQUNBLEVBQUEsQ0FDQSxZQU1BLElBQ0EsRUFBQSxFQUFBLFlBQUEsSUFHQSxFQTd2REEsTUFBQSxVQUFBLFVBQ0EsTUFBQSxVQUFBLFFBQUEsU0FBQSxHQUNBLFlBQ0EsSUFBQSxNQUFBLEtBQ0EsS0FBQSxJQUFBLFVBRUEsSUFBQSxHQUFBLE9BQUEsTUFDQSxFQUFBLEVBQUEsU0FBQSxDQUNBLElBQUEsSUFBQSxFQUNBLE1BQUEsRUFFQSxJQUFBLEdBQUEsQ0FTQSxJQVJBLFVBQUEsT0FBQSxJQUNBLEVBQUEsT0FBQSxVQUFBLElBQ0EsR0FBQSxFQUNBLEVBQUEsRUFDQSxHQUFBLEdBQUEsS0FBQSxHQUFBLElBQUEsTUFDQSxHQUFBLEVBQUEsR0FBQSxJQUFBLEtBQUEsTUFBQSxLQUFBLElBQUEsTUFHQSxHQUFBLEVBQ0EsTUFBQSxFQUdBLEtBREEsR0FBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEtBQUEsSUFBQSxFQUFBLEtBQUEsSUFBQSxHQUFBLEdBQ0EsRUFBQSxFQUFBLElBQ0EsR0FBQSxJQUFBLElBQUEsRUFBQSxLQUFBLEVBQ0EsTUFBQSxFQUdBLE9BQUEsS0FLQSxNQUFBLFVBQUEsY0FDQSxNQUFBLFVBQUEsWUFBQSxTQUFBLEdBQ0EsWUFDQSxJQUFBLE1BQUEsS0FDQSxLQUFBLElBQUEsVUFFQSxJQUFBLEdBQUEsT0FBQSxNQUNBLEVBQUEsRUFBQSxTQUFBLENBQ0EsSUFBQSxJQUFBLEVBQ0EsTUFBQSxFQUVBLElBQUEsR0FBQSxDQUNBLFdBQUEsT0FBQSxJQUNBLEVBQUEsT0FBQSxVQUFBLElBQ0EsR0FBQSxFQUNBLEVBQUEsRUFDQSxHQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEtBQ0EsR0FBQSxFQUFBLEdBQUEsSUFBQSxLQUFBLE1BQUEsS0FBQSxJQUFBLEtBSUEsS0FEQSxHQUFBLEdBQUEsR0FBQSxFQUFBLEtBQUEsSUFBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEtBQUEsSUFBQSxHQUNBLEdBQUEsRUFBQSxJQUNBLEdBQUEsSUFBQSxJQUFBLEVBQUEsS0FBQSxFQUNBLE1BQUEsRUFHQSxPQUFBLEtBS0Esa0JBQUEsUUFBQSxVQUFBLE9BQ0EsT0FBQSxVQUFBLEtBQUEsV0FDQSxNQUFBLE1BQUEsUUFBQSxhQUFBLEtBSUEsSUFHQSxHQUhBLEVBQUEsRUFBQSxRQUFBLEVBQUEsTUFDQSxLQUNBLEtBRUEsRUFBQSxFQUNBLEtBQ0EsR0FBQSxFQUNBLEtBQ0EsRUFBQSxJQU9BLG9CQUFBLFNBQUEsT0FBQSxRQUNBLE9BQUEsUUFBQSxHQUVBLElBQ0EsRUFBQSxLQUFBLEVBQUEsTUFBQSxHQUdBLEVBQUEsT0FDQSxFQUFBLEVBQUEsTUFFQSxFQUFBLEtBQUEsR0FFQSxHQUVBLEtBQUEsU0FBQSxFQUFBLEVBQUEsR0FDQSxFQUFBLGdCQUNBLEVBQUEsV0FBQSxFQUFBLEVBQUEsU0FBQSxFQUFBLEdBRUEsSUFBQSxHQURBLE1BQ0EsRUFBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLEVBQUEsRUFBQSxJQUNBLEVBQUEsRUFBQSxLQUFBLEVBQUEsS0FBQSxFQUFBLEdBR0EsR0FBQSxPQUFBLEVBQ0EsRUFBQSxPQUFBLEVBQUEsRUFBQSxTQUFBLEVBQUEsR0FDQSxFQUFBLE9BQUEsRUFBQSxHQUNBLEVBQUEsWUFBQSxHQUVBLEVBQUEsS0FBQSxLQUdBLEVBQUEsS0FBQSxLQUlBLEVBQUEsT0FBQSxFQUFBLEVBQUEsU0FBQSxFQUFBLEdBQ0EsRUFBQSxLQUFBLE1BS0EsV0FBQSxTQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsTUFDQSxHQUFBLEdBQUEsT0FBQSxTQUVBLElBQUEsT0FBQSxhQUFBLENBRUEsR0FBQSxHQUFBLEVBQUEsTUFFQSxHQUFBLEtBQUEsRUFBQSxTQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxhQUFBLFFBQUEsT0FBQSxFQUVBLEtBQ0EsRUFBQSxLQUFBLE1BQUEsR0FFQSxFQUFBLFdBQUEsRUFBQSxVQUFBLEVBQUEsMkJBQUEsSUFDQSxFQUFBLEdBQUEsSUFJQSxJQUNBLElBQUEsR0FBQSxFQUFBLEtBQUEsT0FLQSxZQUFBLFNBQUEsR0FDQSxHQUFBLE9BQUEsYUFDQSxJQUFBLEdBQUEsS0FBQSxHQUNBLEVBQUEsR0FBQSxXQUFBLEdBQUEsT0FBQSxVQUNBLEVBQUEsYUFBQSxRQUFBLE9BQUEsRUFBQSxLQUFBLFVBQUEsRUFBQSxNQU1BLE9BQUEsU0FBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxHQUNBLElBRUEsSUFBQSxFQUFBLFlBOEJBLENBRUEsR0FBQSxHQUFBLFNBQUEsRUFBQSxHQUNBLEVBQUEsS0FBQSxHQUdBLElBQUEsa0JBQUEsR0FBQSxXQUVBLEVBQUEsV0FBQSxFQUFBLEVBQUEsV0FBQSxFQUFBLE9BQ0EsQ0FDQSxHQUFBLEdBQUEsRUFBQSxFQUFBLFlBQUEsSUFBQSxFQUFBLEtBQUEsS0FBQSxHQUFBLEVBQUEsV0FBQSxLQUFBLE1BRUEsR0FBQSxNQUNBLElBQUEsRUFDQSxNQUFBLEVBQUEsTUFDQSxRQUFBLFNBQUEsR0FDQSxFQUFBLElBQUEsV0FBQSxHQUNBLEVBQUEsS0FBQSxJQUVBLE1BQUEsU0FBQSxFQUFBLEVBQUEsR0FDQSxFQUFBLElBQUEsbUJBQUEsR0FDQSxFQUFBLHVDQUFBLElBRUEsU0FBQSxPQUNBLE1BQUEsRUFBQSxTQUNBLFFBQUEsRUFBQSxtQkF2REEsQ0FDQSxHQUNBLEdBREEsRUFBQSxFQUFBLFdBQUEsT0FBQSxFQUFBLE1BSUEsR0FBQSxLQUFBLEVBQUEsV0FBQSxTQUFBLEVBQUEsR0FDQSxFQUFBLEtBQUEsRUFBQSxTQUFBLEVBQUEsR0FHQSxHQUFBLEdBQUEsU0FBQSxFQUFBLEdBQ0EsSUFDQSxFQUFBLE1BQ0EsRUFBQSxLQUFBLElBRUEsRUFBQSxHQUFBLEVBQUEsT0FDQSxFQUFBLEdBQUEsR0FBQSxFQUVBLElBQ0EsSUFBQSxHQUFBLEVBQUEsRUFBQSxHQUdBLG1CQUFBLEdBQUEsV0FFQSxFQUFBLFdBQUEsRUFBQSxFQUFBLEVBQUEsR0FHQSxFQUFBLFVBQUEsRUFBQSxFQUFBLEVBQUEsU0FtQ0EsVUFBQSxTQUFBLEVBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsRUFBQSxZQUFBLElBQUEsRUFBQSxHQUFBLEdBQ0EsR0FBQSxNQUNBLElBQUEsRUFDQSxNQUFBLEVBQUEsTUFDQSxRQUFBLFNBQUEsR0FDQSxFQUFBLElBQUEsV0FBQSxHQUNBLEVBQUEsS0FBQSxJQUVBLE1BQUEsU0FBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsS0FBQSxHQUFBLEdBQUEsRUFBQSxRQUFBLEtBQUEsRUFBQSxPQUVBLEVBQUEsTUFBQSx1QkFBQSxPQUNBLElBQUEsR0FBQSxLQUFBLEdBQUEsR0FBQSxFQUFBLFFBQUEsS0FBQSxFQUFBLE9BQ0EsRUFBQSxJQUFBLG1CQUFBLE9BQ0EsQ0FDQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxPQUFBLEVBQUEsT0FBQSxJQUNBLEdBQUEsSUFBQSxFQUFBLGlCQUFBLEdBR0EsRUFBQSxPQUVBLFNBQUEsT0FDQSxNQUFBLEVBQUEsU0FDQSxRQUFBLEVBQUEsZUFJQSxZQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsS0FDQSxHQUFBLEdBQUEsQ0FFQSxJQUFBLEtBRUEsSUFBQSxhQUFBLEVBQUEsZUFBQSxFQUFBLFlBQUEsTUFBQSxFQUNBLElBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLFlBQUEsT0FBQSxJQUNBLEVBQUEsTUFBQSxJQUFBLEVBQUEsWUFBQSxHQUFBLElBQUEsRUFBQSxFQUFBLGFBQUEsSUFBQSxFQUFBLFlBQUEsR0FBQSxHQUFBLFVBRUEsSUFBQSxZQUFBLEVBQUEsZUFBQSxhQUFBLEVBQUEsZUFBQSxFQUFBLFlBQUEsTUFBQSxFQUNBLEVBQUEsTUFBQSxJQUFBLEVBQUEsSUFBQSxFQUFBLEVBQUEsYUFBQSxJQUFBLEVBQUEsR0FBQSxVQUNBLElBQUEsUUFBQSxFQUFBLGNBQ0EsSUFBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxFQUFBLEVBQUEsSUFDQSxFQUFBLE1BQUEsSUFBQSxFQUFBLEdBQUEsSUFBQSxFQUFBLEVBQUEsYUFBQSxJQUFBLEVBQUEsR0FBQSxHQUFBLEtBSUEsS0FBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxFQUFBLEVBQUEsSUFBQSxDQUNBLEdBQUEsR0FBQSxFQUFBLEVBQ0EsR0FBQSxNQUNBLElBQUEsRUFBQSxJQUNBLEtBQUEsRUFBQSxTQUNBLEtBQUEsRUFDQSxRQUFBLFdBQ0EsRUFBQSxJQUFBLHVCQUFBLEVBQUEsU0FBQSxFQUFBLElBTUEsS0FIQSxHQUFBLEdBQUEsRUFBQSxNQUFBLEtBQ0EsRUFBQSxFQUNBLEVBQUEsRUFBQSxFQUFBLEtBQUEsR0FDQSxFQUFBLElBRUEsRUFBQSxFQUFBLEVBQUEsSUFEQSxJQUFBLEVBQUEsT0FBQSxFQUNBLEVBRUEsRUFBQSxFQUFBLFFBRUEsS0FHQSxNQUFBLFdBQ0EsRUFBQSxJQUFBLCtCQUFBLEVBQUEsU0FBQSxFQUFBLE1BRUEsU0FBQSxPQUNBLE1BQUEsRUFBQSxVQUNBLFFBQUEsRUFBQSxnQkFLQSxPQUFBLEVBR0EsSUFBQSxJQUNBLElBQUEsT0FDQSxLQUFBLE1BQ0EsV0FDQSxjQUFBLEVBQ0EsbUJBQUEsRUFDQSxhQUFBLE9BQ0EsY0FDQSxZQUFBLFNBQ0EsMkJBQUEsRUFDQSxJQUNBLFlBQUEsZUFDQSxVQUFBLGVBRUEsZ0JBQUEsRUFDQSxpQkFBQSxFQUNBLHFCQUFBLEVBQ0EsZ0JBQUEsRUFDQSxZQUFBLElBQ0EsYUFBQSxJQUNBLGFBQUEsWUFDQSxPQUFBLEVBRUEsV0FBQSw4QkFDQSxZQUFBLDZCQUVBLFVBQUEsRUFDQSxXQUFBLEVBRUEsU0FBQSxPQUNBLGlCQUFBLEVBQ0EsMkJBQUEsT0FFQSxhQUFBLEVBQ0EsYUFBQSxFQUNBLGNBQUEsV0FDQSxTQUFBLE9BRUEsb0JBQUEsS0FDQSxvQkFBQSxLQUNBLGtCQUFBLEVBQ0EsWUFBQSxNQUNBLFlBQUEsSUFDQSxhQUFBLFVBQ0EsZ0JBQUEsbUJBQUEsS0FBQSxVQUFBLEtBQUEsSUFDQSxpQkFBQSxvQkFBQSxLQUFBLFVBQUEsS0FBQSxJQUNBLHFCQUFBLEVBQ0EsaUJBQUEsY0FDQSxvQkFBQSx1QkFBQSxLQUFBLFVBQUEsS0FBQSxJQUVBLGNBQUEsRUFDQSx5QkFBQSxFQUNBLG9CQUFBLEVBQ0EscUJBQUEsT0FDQSxXQUFBLEVBQ0EsV0FBQSxVQUNBLGFBQUEsT0FFQSxxQkFBQSxPQUNBLFlBQUEsT0FDQSxnQkFBQSxPQUNBLGtCQUFBLEVBQUEsWUFDQSxZQUFBLEVBRUEsaUJBQUEsV0E0REEsR0FDQSxJQUFBLFFBQ0EsSUFBQSxPQUNBLElBQUEsT0FDQSxJQUFBLFNBQ0EsSUFBQSxRQUNBLElBQUEsVUFvVEEsR0FDQSxPQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEVBQ0EsSUFBQSxFQUFBLENBQ0EsR0FBQSxHQUFBLEdBQUEsS0FDQSxHQUFBLFFBQUEsRUFBQSxVQUFBLEdBQUEsRUFBQSxLQUNBLEVBQUEsYUFBQSxFQUFBLGtCQUVBLEdBQUEsRUFDQSxHQUFBLEVBQUEsVUFBQSxFQUFBLElBQUEsR0FDQSxTQUFBLE9BQUEsRUFBQSxJQUFBLEVBQUEsRUFBQSxJQUFBLEVBQUEsVUFHQSxLQUFBLFNBQUEsR0FHQSxJQUFBLEdBRkEsR0FBQSxFQUFBLElBQ0EsRUFBQSxTQUFBLE9BQUEsTUFBQSxLQUNBLEVBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxJQUFBLENBRUEsSUFEQSxHQUFBLEdBQUEsRUFBQSxHQUNBLEtBQUEsRUFBQSxPQUFBLElBQUEsRUFBQSxFQUFBLFVBQUEsRUFBQSxFQUFBLE9BQ0EsSUFBQSxJQUFBLEVBQUEsUUFBQSxHQUFBLE1BQUEsR0FBQSxVQUFBLEVBQUEsT0FBQSxFQUFBLFFBRUEsTUFBQSxPQUdBLE9BQUEsU0FBQSxHQUNBLEtBQUEsT0FBQSxFQUFBLEdBQUEsTUFJQSxHQUNBLE9BQUEsYUFDQSxLQUFBLFdBQUEsTUFBQSxPQUNBLE9BQUEsY0FPQSxHQUNBLE9BQUEsRUFBQSxFQUFBLE9BQUEsRUFDQSxXQUFBLEVBQ0EsS0FBQSxFQUFBLEVBQUEsS0FBQSxFQUNBLEtBQUEsRUFBQSxFQUFBLEtBQUEsbUJBQUEsVUFBQSxFQUFBLGFBQ0EsT0FBQSxtQkFBQSxVQUFBLEVBQUEsRUFDQSxlQUFBLEVBQ0EsT0FBQSxFQUNBLElBQUEsU0FBQSxHQUNBLEVBQUEsT0FBQSxtQkFBQSxVQUFBLFFBQUEsSUFBQSxJQUVBLE1BQUEsU0FBQSxHQUNBLG1CQUFBLFVBQUEsUUFBQSxNQUFBLElBRUEsb0JBQUEsU0FBQSxHQUNBLEdBQUEsR0FBQSxDQUVBLFFBREEsVUFBQSxHQUFBLFVBQUEsR0FBQSxVQUFBLEdBQUEsVUFBQSxLQUFBLEVBQUEsR0FDQSxHQUVBLFlBQUEsU0FBQSxHQUdBLFFBQUEsR0FBQSxHQUNBLEdBQUEsR0FBQSxDQUVBLElBQUEsZ0JBQUEsSUFBQSxFQUFBLFFBQUEsS0FBQSxHQUFBLENBQ0EsR0FBQSxHQUFBLEVBQUEsTUFBQSxJQUVBLEdBQUEsRUFBQSxhQUNBLEVBQUEsR0FBQSxjQUFBLElBQUEsRUFBQSxHQUFBLGNBQ0EsRUFBQSxHQUFBLGNBQUEsSUFBQSxFQUFBLEdBQUEsa0JBRUEsR0FBQSxFQUFBLGFBQUEsRUFBQSxjQUFBLENBR0EsT0FBQSxHQWZBLEdBQUEsR0FBQSxLQUFBLElBa0JBLEtBQ0EsRUFBQSxFQUFBLGVBQUEsRUFDQSxFQUFBLFNBQUEsSUFFQSxHQUFBLEVBQUEsUUFBQSxHQUFBLEdBQ0EsRUFBQSxLQUFBLEdBRUEsRUFBQSx1Q0FBQSxHQUdBLElBQUEsZ0JBQUEsSUFBQSxFQUFBLFFBQUEsS0FBQSxHQUFBLENBQ0EsR0FBQSxHQUFBLEVBQUEsTUFBQSxJQUVBLGdCQUFBLEVBQUEsTUFBQSxFQUFBLEVBQUEsSUFDQSxZQUFBLEVBQUEsTUFBQSxFQUFBLEVBQUEsRUFBQSxLQUFBLG9CQUFBLFVBRUEsR0FBQSxFQUFBLEdBR0EsS0FBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsWUFBQSxPQUFBLElBQ0EsS0FBQSxFQUFBLFFBQUEsRUFBQSxZQUFBLEtBQUEsRUFBQSxZQUFBLElBQUEsRUFBQSxLQUFBLEVBQUEsRUFBQSxZQUFBLElBRUEsT0FBQSxJQUVBLFlBQUEsU0FBQSxHQUNBLE1BQUEsR0FBQSxRQUFBLHNDQUFBLFNBRUEsdUJBQUEsU0FBQSxHQUNBLE1BQUEsZ0JBQUEsR0FDQSxFQUFBLFFBQUEsTUFBQSxRQUVBLEdBR0EsY0FDQSxRQUFBLFNBQUEsRUFBQSxHQUNBLEdBQUEsT0FBQSxhQUNBLElBQ0EsT0FBQSxhQUFBLFFBQUEsRUFBQSxHQUNBLE1BQUEsR0FDQSxFQUFBLElBQUEsZ0NBQUEsRUFBQSx3QkFJQSxRQUFBLFNBQUEsRUFBQSxHQUNBLEdBQUEsT0FBQSxhQUNBLElBQ0EsTUFBQSxRQUFBLGFBQUEsUUFBQSxFQUFBLEdBQ0EsTUFBQSxHQUVBLFdBREEsR0FBQSxJQUFBLGdDQUFBLEVBQUEsMkJBc2NBLEdBQUEsaUJBQUEsQ0FxZEEsSUFBQSxLQUNBLE1BQUEsVUFBQSxFQUFBLEdBQUEsSUFDQSxLQUFBLGFBQUEsRUFBQSxHQUFBLElBQ0EsS0FBQSxRQUFBLEVBQUEsR0FBQSxJQUNBLEtBQUEsV0FBQSxFQUFBLEdBQUEsSUFDQSxLQUFBLGFBQUEsRUFBQSxHQUFBLElBQ0EsS0FBQSxVQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxLQUFBLElBQ0EsTUFBQSxjQUFBLEVBQUEsR0FBQSxJQUNBLE1BQUEsWUFBQSxFQUFBLEdBQUEsSUFDQSxLQUFBLFVBQUEsR0FBQSxJQUNBLEtBQUEsZUFBQSxFQUFBLEdBQUEsSUFDQSxLQUFBLGNBQUEsRUFBQSxFQUFBLEdBQUEsSUFDQSxLQUFBLGFBQUEsRUFBQSxHQUFBLElBQ0EsS0FBQSxXQUFBLEVBQUEsR0FBQSxJQUNBLEtBQUEsV0FBQSxHQUFBLElBQ0EsS0FBQSxVQUFBLEVBQUEsR0FBQSxJQUNBLEtBQUEsV0FBQSxFQUFBLEVBQUEsR0FBQSxJQUNBLEtBQUEsV0FBQSxFQUFBLEdBQUEsSUFDQSxNQUFBLFNBQUEsR0FBQSxJQUNBLEtBQUEsU0FBQSxFQUFBLEVBQUEsR0FBQSxJQUNBLE1BQUEsYUFBQSxFQUFBLEVBQUEsR0FBQSxJQUNBLEtBQUEsU0FBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLElBQ0EsS0FBQSxVQUFBLEVBQUEsR0FBQSxJQUNBLEtBQUEsVUFBQSxFQUFBLEdBQUEsSUFDQSxNQUFBLHdCQUFBLEVBQUEsR0FBQSxJQUNBLEtBQUEsWUFBQSxHQUFBLElBQ0EsS0FBQSxTQUFBLEVBQUEsR0FBQSxJQUNBLEtBQUEsV0FBQSxFQUFBLEdBQUEsSUFDQSxLQUFBLGFBQUEsRUFBQSxHQUFBLElBQ0EsS0FBQSxXQUFBLEVBQUEsR0FBQSxJQUNBLFFBQUEsdUJBQUEsRUFBQSxHQUFBLElBQ0EsS0FBQSxZQUFBLEVBQUEsR0FBQSxJQUNBLEtBQUEsVUFBQSxFQUFBLEdBQUEsSUFDQSxLQUFBLFdBQUEsR0FBQSxJQUNBLEtBQUEsV0FBQSxFQUFBLEdBQUEsSUFDQSxNQUFBLFlBQUEsRUFBQSxHQUFBLElBQ0EsS0FBQSxXQUFBLEVBQUEsR0FBQSxJQUNBLEtBQUEsVUFBQSxFQUFBLEdBQUEsSUFDQSxNQUFBLFlBQUEsRUFBQSxHQUFBLElBQ0EsS0FBQSxXQUFBLEVBQUEsR0FBQSxJQUNBLEtBQUEsU0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLElBQUEsS0FDQSxLQUFBLG1CQUFBLEVBQUEsRUFBQSxFQUFBLElBQUEsS0FDQSxLQUFBLFlBQUEsRUFBQSxHQUFBLElBQ0EsS0FBQSxZQUFBLEVBQUEsR0FBQSxJQUNBLE1BQUEsT0FBQSxFQUFBLEdBQUEsSUFDQSxLQUFBLFNBQUEsRUFBQSxHQUFBLElBQ0EsS0FBQSxVQUFBLEVBQUEsR0FBQSxJQUNBLEtBQUEsU0FBQSxFQUFBLEdBQUEsSUFDQSxLQUFBLFlBQUEsRUFBQSxFQUFBLEdBQUEsSUFDQSxLQUFBLGFBQUEsRUFBQSxHQUFBLElBQ0EsS0FBQSxZQUFBLEVBQUEsR0FBQSxJQUNBLEtBQUEsZUFBQSxFQUFBLEdBQUEsSUFDQSxLQUFBLGNBQUEsR0FBQSxJQUNBLEtBQUEsYUFBQSxFQUFBLEdBQUEsS0FDQSxLQUFBLFdBQUEsRUFBQSxHQUFBLElBQ0EsS0FBQSxZQUFBLEdBQUEsSUFDQSxNQUFBLFVBQUEsR0FBQSxJQUNBLEtBQUEsWUFBQSxFQUFBLEdBQUEsS0FDQSxLQUFBLFlBQUEsR0FBQSxJQUNBLEtBQUEsVUFBQSxHQUFBLElBQ0EsS0FBQSxTQUFBLEdBQUEsSUFDQSxLQUFBLFdBQUEsRUFBQSxHQUFBLElBQ0EsS0FBQSxVQUFBLEdBQUEsSUFDQSxLQUFBLFdBQUEsRUFBQSxHQUFBLElBQ0EsS0FBQSxXQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsS0FDQSxLQUFBLFVBQUEsR0FBQSxJQUNBLEtBQUEsaUJBQUEsRUFBQSxHQUFBLElBQ0EsS0FBQSxXQUFBLEVBQUEsR0FBQSxJQUNBLEtBQUEsT0FBQSxHQUFBLElBQ0EsS0FBQSxjQUFBLEVBQUEsRUFBQSxJQUFBLEtBQ0EsS0FBQSxXQUFBLEVBQUEsRUFBQSxHQUFBLEtBQ0EsTUFBQSxZQUFBLEVBQUEsR0FBQSxJQUNBLE1BQUEsb0JBQUEsRUFBQSxHQUFBLElBQ0EsS0FBQSxZQUFBLEVBQUEsR0FBQSxJQUNBLEtBQUEsU0FBQSxFQUFBLEdBQUEsSUFDQSxLQUFBLGNBQUEsRUFBQSxHQUFBLEtBQ0EsS0FBQSxhQUFBLEVBQUEsR0FBQSxJQUNBLEtBQUEsYUFBQSxFQUFBLEdBQUEsSUFDQSxNQUFBLFlBQUEsRUFBQSxFQUFBLEdBQUEsS0FDQSxLQUFBLFdBQUEsRUFBQSxHQUFBLElBQ0EsS0FBQSxTQUFBLEdBQUEsSUFDQSxLQUFBLFdBQUEsRUFBQSxFQUFBLEdBQUEsSUFBQSxLQUNBLE1BQUEsV0FBQSxFQUFBLEdBQUEsSUFDQSxNQUFBLGNBQUEsRUFBQSxHQUFBLElBQ0EsS0FBQSxvQkFBQSxFQUFBLEdBQUEsSUFDQSxLQUFBLFVBQUEsRUFBQSxHQUFBLElBQ0EsS0FBQSxTQUFBLEVBQUEsR0FBQSxJQUNBLEtBQUEscUJBQUEsRUFBQSxHQUFBLElBQ0EsS0FBQSxhQUFBLEVBQUEsR0FBQSxJQUNBLE1BQUEsa0JBQUEsRUFBQSxHQUFBLElBQ0EsS0FBQSxXQUFBLEVBQUEsR0FBQSxJQUNBLEtBQUEsU0FBQSxFQUFBLEdBQUEsSUFDQSxLQUFBLFdBQUEsRUFBQSxHQUFBLElBQ0EsTUFBQSxjQUFBLEVBQUEsR0FBQSxJQUNBLEtBQUEsVUFBQSxFQUFBLEVBQUEsR0FBQSxJQUNBLE1BQUEsY0FBQSxFQUFBLEdBQUEsSUFDQSxLQUFBLFVBQUEsRUFBQSxHQUFBLElBQ0EsS0FBQSxjQUFBLEVBQUEsR0FBQSxJQUNBLFFBQUEsd0JBQUEsRUFBQSxHQUFBLElBQ0EsS0FBQSxXQUFBLEVBQUEsR0FBQSxJQUNBLEtBQUEsWUFBQSxFQUFBLEVBQUEsSUFBQSxLQUNBLEtBQUEsV0FBQSxFQUFBLEVBQUEsR0FBQSxJQUNBLE1BQUEsU0FBQSxHQUFBLElBQ0EsTUFBQSxTQUFBLEVBQUEsR0FBQSxJQUNBLEtBQUEsaUJBQUEsRUFBQSxHQUFBLElBQ0EsS0FBQSxXQUFBLEVBQUEsR0FBQSxJQUNBLEtBQUEsVUFBQSxFQUFBLEVBQUEsR0FBQSxJQUNBLEtBQUEsYUFBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEtBQ0EsS0FBQSxVQUFBLEVBQUEsR0FBQSxJQUNBLE1BQUEsV0FBQSxFQUFBLEdBQUEsSUFDQSxLQUFBLFlBQUEsRUFBQSxHQUFBLElBQ0EsS0FBQSxXQUFBLEVBQUEsRUFBQSxHQUFBLElBQ0EsS0FBQSxhQUFBLEdBQUEsSUFDQSxLQUFBLFdBQUEsRUFBQSxHQUFBLElBQ0EsS0FBQSxXQUFBLEVBQUEsR0FBQSxJQUNBLEtBQUEsU0FBQSxFQUFBLEdBQUEsSUFDQSxLQUFBLFVBQUEsRUFBQSxHQUFBLElBQ0EsS0FBQSxTQUFBLEVBQUEsR0FBQSxJQUNBLEtBQUEsUUFBQSxHQUFBLElBQ0EsS0FBQSxZQUFBLEVBQUEsR0FBQSxJQUNBLEtBQUEsV0FBQSxFQUFBLEdBQUEsSUFDQSxLQUFBLFdBQUEsRUFBQSxHQUFBLElBQ0EsS0FBQSxTQUFBLEdBQUEsSUFDQSxLQUFBLFVBQUEsR0FBQSxJQUNBLEtBQUEsYUFBQSxFQUFBLEVBQUEsR0FBQSxJQUNBLEtBQUEsUUFBQSxFQUFBLEdBQUEsSUFDQSxLQUFBLFNBQUEsRUFBQSxHQUFBLElBQ0EsS0FBQSxjQUFBLEdBQUEsSUFDQSxLQUFBLFdBQUEsRUFBQSxHQUFBLElBQ0EsS0FBQSxTQUFBLEdBQUEsSUFDQSxLQUFBLFVBQUEsRUFBQSxHQUFBLElBQ0EsS0FBQSxXQUFBLEdBQUEsSUFHQSxHQUNBLEVBQUEsU0FBQSxHQUFBLE1BQUEsUUFBQSxFQUFBLElBQ0EsRUFBQSxTQUFBLEdBQUEsTUFBQSxRQUFBLEdBQUEsSUFDQSxFQUFBLFdBQUEsTUFBQSxJQUNBLEVBQUEsU0FBQSxHQUFBLE1BQUEsUUFBQSxFQUFBLElBQUEsR0FBQSxFQUFBLEtBQUEsR0FBQSxFQUFBLEVBQUEsSUFBQSxHQUFBLEdBQUEsRUFBQSxLQUFBLEdBQUEsRUFBQSxLQUFBLEVBQUEsS0FBQSxJQUFBLEVBQUEsSUFDQSxFQUFBLFNBQUEsR0FBQSxNQUFBLFFBQUEsSUFBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxLQUFBLEdBQUEsSUFBQSxFQUFBLElBQUEsRUFBQSxFQUFBLEtBQUEsR0FBQSxFQUFBLElBQ0EsRUFBQSxTQUFBLEdBQUEsTUFBQSxRQUFBLEdBQUEsRUFBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxJQUNBLEVBQUEsU0FBQSxHQUFBLE1BQUEsUUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLElBQUEsR0FBQSxHQUFBLEVBQUEsS0FBQSxHQUFBLEVBQUEsS0FBQSxFQUFBLEtBQUEsSUFBQSxFQUFBLElBQ0EsRUFBQSxTQUFBLEdBQUEsTUFBQSxRQUFBLEdBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEdBQUEsR0FBQSxJQUFBLEVBQUEsRUFBQSxJQUNBLEVBQUEsU0FBQSxHQUFBLE1BQUEsUUFBQSxHQUFBLElBQ0EsR0FBQSxTQUFBLEdBQUEsTUFBQSxRQUFBLEdBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLElBQ0EsR0FBQSxTQUFBLEdBQUEsTUFBQSxRQUFBLEdBQUEsR0FBQSxJQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsSUFBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLElBQ0EsR0FBQSxTQUFBLEdBQUEsTUFBQSxRQUFBLEVBQUEsSUFBQSxHQUFBLEVBQUEsS0FBQSxLQUNBLEdBQUEsU0FBQSxHQUFBLE1BQUEsUUFBQSxJQUFBLElBQ0EsR0FBQSxTQUFBLEdBQUEsTUFBQSxRQUFBLEdBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLElBQ0EsR0FBQSxTQUFBLEdBQUEsTUFBQSxRQUFBLEVBQUEsSUFBQSxHQUFBLEVBQUEsS0FBQSxHQUFBLEVBQUEsRUFBQSxJQUFBLElBQUEsR0FBQSxFQUFBLEtBQUEsRUFBQSxLQUFBLElBQUEsRUFBQSxJQUNBLEdBQUEsU0FBQSxHQUFBLE1BQUEsUUFBQSxFQUFBLElBQUEsR0FBQSxFQUFBLEtBQUEsR0FBQSxFQUFBLElBQUEsRUFBQSxFQUFBLElBQ0EsR0FBQSxTQUFBLEdBQUEsTUFBQSxRQUFBLEdBQUEsR0FBQSxFQUFBLElBQUEsRUFBQSxFQUFBLElBQ0EsR0FBQSxTQUFBLEdBQUEsTUFBQSxRQUFBLEdBQUEsRUFBQSxFQUFBLElBQ0EsR0FBQSxTQUFBLEdBQUEsTUFBQSxRQUFBLEdBQUEsRUFBQSxFQUFBLElBQUEsR0FBQSxFQUFBLElBQUEsR0FBQSxHQUFBLEVBQUEsSUFBQSxFQUFBLEVBQUEsSUFBQSxJQUFBLEdBQUEsRUFBQSxJQUFBLEVBQUEsSUFDQSxHQUFBLFNBQUEsR0FBQSxNQUFBLFFBQUEsR0FBQSxFQUFBLEVBQUEsSUFBQSxHQUFBLEVBQUEsSUFBQSxHQUFBLEdBQUEsRUFBQSxJQUFBLEVBQUEsSUFDQSxHQUFBLFNBQUEsR0FBQSxNQUFBLFFBQUEsRUFBQSxLQUFBLEVBQUEsRUFBQSxFQUFBLEtBQUEsRUFBQSxFQUFBLEVBQUEsS0FBQSxHQUFBLEVBQUEsS0FBQSxFQUFBLEVBQUEsS0FHQSxHQUVBLE1BQUEsV0FDQSxHQUFBLEdBQUEsSUFDQSxLQUFBLEVBQUEsRUFBQSxPQUFBLEtBQ0EsRUFBQSxFQUFBLEdBQUEsS0FDQSxLQUFBLEVBQUEsR0FBQSxHQUNBLFFBQUEsRUFBQSxHQUFBLEdBQ0EsUUFBQSxFQUFBLEVBQUEsR0FBQSxJQUdBLE9BQUEsTUFJQSxRQUFBLFNBQUEsRUFBQSxHQUNBLEVBQUEsTUFBQSxHQUFBLEdBR0EsY0FBQSxTQUFBLEdBQ0EsSUFBQSxFQUFBLGFBQUEsRUFBQSxZQUFBLE1BQUEsRUFBQSxDQUNBLEdBQUEsR0FBQSxFQUFBLE1BQUEsSUFFQSxHQUFBLGFBQ0EsSUFBQSxFQUNBLEtBQUEsRUFBQSxNQUFBLEVBQUEsT0FLQSxZQUFBLFNBQUEsRUFBQSxHQUNBLEdBRUEsR0FGQSxFQUFBLEVBQUEsTUFBQSxJQVNBLE9BTEEsR0FEQSxFQUFBLGFBQUEsRUFBQSxZQUFBLE1BQUEsRUFDQSxFQUFBLFlBQUEsS0FFQSxFQUFBLE1BQUEsRUFBQSxFQUFBLG9CQUFBLEtBR0EsR0FBQSxFQUFBLFFBQUEsUUFBQSxHQUNBLEVBRUEsSUFBQSxLQUFBLElBQUEsRUFBQSxJQUlBLElBQUEsU0FBQSxFQUFBLEdBR0EsUUFBQSxHQUFBLEVBQUEsR0FDQSxHQUFBLEVBTUEsSUFKQSxFQURBLEVBQUEsYUFBQSxFQUFBLFlBQUEsTUFBQSxFQUNBLEVBQUEsWUFBQSxLQUVBLEVBQUEsTUFBQSxHQUVBLENBQ0EsR0FBQSxFQUVBLEdBQUEsRUFBQSxRQURBLEVBQUEsTUFDQSxFQUVBLEtBQUEsSUFBQSxHQUdBLElBQUEsR0FBQSxFQUFBLFFBQUEsRUFRQSxPQVBBLEtBQUEsRUFBQSxRQUFBLFFBQUEsSUFBQSxFQUFBLFFBQUEsS0FDQSxJQUFBLEVBQ0EsRUFBQSxHQUNBLElBQUEsSUFDQSxFQUFBLElBR0EsRUFFQSxNQUFBLEtBQUEsRUFBQSxJQUFBLEtBM0JBLEdBQUEsR0FBQSxFQUFBLE1BQUEsSUErQkEsT0FBQSxHQUFBLEVBQUEsRUFBQSxvQkFBQSxJQUFBLEtBSUEsS0FDQSxFQUFBLFNBQUEsRUFBQSxHQUNBLEVBQUEsR0FBQSxHQUdBLEdBQUEsV0FDQSxRQUFBLEdBQUEsR0FDQSxNQUFBLFFBQUEsVUFBQSxTQUFBLEtBQUEsR0FBQSxNQUFBLEVBQUEsSUFBQSxjQUVBLFFBQUEsR0FBQSxFQUFBLEdBQ0EsSUFBQSxHQUFBLE1BQUEsRUFBQSxFQUFBLElBQUEsR0FBQSxHQUNBLE1BQUEsR0FBQSxLQUFBLElBR0EsR0FBQSxHQUFBLFdBSUEsTUFIQSxHQUFBLE1BQUEsZUFBQSxVQUFBLE1BQ0EsRUFBQSxNQUFBLFVBQUEsSUFBQSxFQUFBLE1BQUEsVUFBQSxLQUVBLEVBQUEsT0FBQSxLQUFBLEtBQUEsRUFBQSxNQUFBLFVBQUEsSUFBQSxXQXVHQSxPQXBHQSxHQUFBLE9BQUEsU0FBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxFQUFBLEdBQUEsSUFDQSxLQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsSUFFQSxHQURBLEVBQUEsRUFBQSxFQUFBLElBQ0EsV0FBQSxFQUNBLEVBQUEsS0FBQSxFQUFBLFFBRUEsSUFBQSxVQUFBLEVBQUEsQ0FFQSxHQURBLEVBQUEsRUFBQSxHQUNBLEVBQUEsR0FFQSxJQURBLEVBQUEsRUFBQSxHQUNBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxPQUFBLElBQUEsQ0FDQSxJQUFBLEVBQUEsZUFBQSxFQUFBLEdBQUEsSUFDQSxLQUFBLElBQUEseUNBQUEsRUFBQSxHQUFBLEdBRUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxRQUlBLEdBREEsRUFBQSxHQUNBLEVBQUEsRUFBQSxJQUdBLEVBQUEsSUFHQSxJQUFBLE9BQUEsS0FBQSxFQUFBLEtBQUEsVUFBQSxFQUFBLEdBQ0EsS0FBQSxJQUFBLDBDQUFBLEVBQUEsR0FFQSxRQUFBLEVBQUEsSUFDQSxJQUFBLElBQUEsRUFBQSxFQUFBLFNBQUEsRUFBQSxNQUNBLEtBQUEsSUFBQSxFQUFBLE9BQUEsYUFBQSxFQUFBLE1BQ0EsS0FBQSxJQUFBLEVBQUEsU0FBQSxFQUFBLEdBQUEsTUFDQSxLQUFBLElBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxjQUFBLEVBQUEsSUFBQSxFQUFBLGVBQUEsTUFDQSxLQUFBLElBQUEsRUFBQSxFQUFBLEdBQUEsV0FBQSxHQUFBLFFBQUEsRUFBQSxJQUFBLFdBQUEsRUFBQSxNQUNBLEtBQUEsSUFBQSxFQUFBLEVBQUEsU0FBQSxFQUFBLE1BQ0EsS0FBQSxJQUFBLEdBQUEsRUFBQSxPQUFBLEtBQUEsRUFBQSxHQUFBLEVBQUEsVUFBQSxFQUFBLEVBQUEsSUFBQSxDQUFBLE1BQ0EsS0FBQSxJQUFBLEVBQUEsS0FBQSxJQUFBLEVBQUEsTUFDQSxLQUFBLElBQUEsRUFBQSxFQUFBLFNBQUEsR0FBQSxNQUNBLEtBQUEsSUFBQSxFQUFBLEVBQUEsU0FBQSxJQUFBLGNBRUEsRUFBQSxRQUFBLEtBQUEsRUFBQSxLQUFBLEVBQUEsSUFBQSxHQUFBLEVBQUEsSUFBQSxFQUFBLEVBQ0EsRUFBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsSUFBQSxFQUFBLEdBQUEsT0FBQSxHQUFBLElBQ0EsRUFBQSxFQUFBLEdBQUEsT0FBQSxHQUFBLE9BQ0EsRUFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEdBQUEsR0FDQSxFQUFBLEtBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEdBR0EsTUFBQSxHQUFBLEtBQUEsS0FHQSxFQUFBLFNBRUEsRUFBQSxNQUFBLFNBQUEsR0FFQSxJQURBLEdBQUEsR0FBQSxFQUFBLEtBQUEsS0FBQSxFQUFBLEVBQ0EsR0FBQSxDQUNBLEdBQUEsUUFBQSxFQUFBLFlBQUEsS0FBQSxJQUNBLEVBQUEsS0FBQSxFQUFBLFFBRUEsSUFBQSxRQUFBLEVBQUEsV0FBQSxLQUFBLElBQ0EsRUFBQSxLQUFBLFNBRUEsQ0FBQSxHQUFBLFFBQUEsRUFBQSx1RkFBQSxLQUFBLElBZ0NBLEtBQUEsZ0JBL0JBLElBQUEsRUFBQSxHQUFBLENBQ0EsR0FBQSxDQUNBLElBQUEsTUFBQSxFQUFBLEVBQUEsR0FBQSxJQUNBLElBQUEsUUFBQSxFQUFBLHNCQUFBLEtBQUEsSUFlQSxLQUFBLGdCQWJBLEtBREEsRUFBQSxLQUFBLEVBQUEsSUFDQSxNQUFBLEVBQUEsRUFBQSxVQUFBLEVBQUEsR0FBQSxVQUNBLEdBQUEsUUFBQSxFQUFBLHdCQUFBLEtBQUEsSUFDQSxFQUFBLEtBQUEsRUFBQSxRQUVBLENBQUEsR0FBQSxRQUFBLEVBQUEsYUFBQSxLQUFBLElBSUEsS0FBQSxnQkFIQSxHQUFBLEtBQUEsRUFBQSxJQVVBLEVBQUEsR0FBQSxNQUdBLElBQUEsQ0FFQSxJQUFBLElBQUEsRUFDQSxLQUFBLDJFQUVBLEdBQUEsS0FBQSxHQUtBLEVBQUEsRUFBQSxVQUFBLEVBQUEsR0FBQSxRQUVBLE1BQUEsSUFHQSxLQUdBLEdBQUEsU0FBQSxFQUFBLEdBRUEsTUFEQSxHQUFBLFFBQUEsR0FDQSxHQUFBLE1BQUEsS0FBQSxHQUdBLEdBQUEsVUFBQSxTQUFBLEVBQUEsRUFBQSxHQUNBLE1BQUEsR0FBQSxRQUVBLG1CQUFBLE9BQUEsVUFBQSxTQUFBLE1BQUEsRUFBQSxTQUNBLEdBQUEsRUFBQSxFQUFBLFNBQ0EsZ0JBQUEsR0FBQSxRQUNBLEdBQUEsRUFBQSxFQUFBLFNBR0EsRUFSQSxJQVdBLEVBQUEsS0FBQSxFQUNBLEVBQUEsY0FBQSxFQUNBLEVBQUEsT0FBQSxFQUNBLEVBQUEsUUFBQSxFQUNBLEVBQUEsa0JBQUEsRUFDQSxFQUFBLGtCQUFBLEVBQ0EsRUFBQSxrQkFBQSxFQUNBLEVBQUEsWUFBQSxFQUNBLEVBQUEsYUFBQSxFQUNBLEVBQUEscUJBQUEsRUFDQSxFQUFBLGNBQUEsRUFDQSxFQUFBLGVBQUEsRUFDQSxFQUFBLG9CQUFBLEVBQ0EsRUFBQSxFQUFBLEVBQ0EsRUFBQSxVQUFBLEVBQ0EsRUFBQSxPQUFBLEVBQ0EsRUFBQSxlQUFBLEVBQUEsZUFDQSxFQUFBLGlCQUFBLEVBQ0EsRUFBQSxLQUFBLEVBQ0EsRUFBQSxVQUFBLEVBQ0EsRUFBQSxJQUFBLEVBQ0EsRUFBQSxpQkFBQSxFQUNBLEVBQUEsaUJBQUEsRUFBQSxpQkFDQSxFQUFBLFFBQUEsRUFDQSxFQUFBLFdBQUEsR0FFQSxtQkFBQSxTQUFBLE9BQUEsUUMzcEVBLElBQUEsT0FBQSxXQUNBLEdBQUEsS0FFQSxRQUNBLE9BQUEsU0FBQSxFQUFBLEdBQ0EsR0FBQSxVQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsS0FDQSxJQUFBLEdBQUEsV0FDQSxVQUFBLElBQUEsR0FDQSxLQUFBLFdBQUEsTUFBQSxLQUFBLFdBRUEsbUJBQUEsS0FDQSxFQUFBLFVBQUEsR0FBQSxHQUFBLEdBRUEsSUFBQSxLQUNBLElBQUEsRUFBQSxVQUNBLEVBQUEsUUFBQSxRQUVBLEVBQUEsRUFBQSxPQUFBLEVBQUEsUUFBQSxXQUVBLEVBQUEsS0FBQSxFQUFBLGVBRUEsR0FBQSxTQUVBLEdBQUEsTUFBQSxRQUFBLEVBQUEsVUFBQSxFQUNBLEtBQUEsR0FBQSxHQUFBLEVBQUEsTUFBQSxFQUFBLEdBQUEsSUFDQSxNQUFBLE1BQUEsRUFBQSxVQUFBLE1BRUEsT0FBQSxJQUVBLE1BQUEsU0FBQSxFQUFBLEVBQUEsR0FFQSxHQURBLEVBQUEsSUFBQSxFQUNBLG1CQUFBLElBQUEsT0FBQSxFQUNBLElBQUEsR0FBQSxLQUFBLElBQ0EsSUFBQSxFQUFBLElBQUEsa0JBQUEsR0FBQSxNQUNBLEVBQUEsR0FBQSxFQUFBLEdBSUEsT0FBQSxJQUVBLFFBQUEsU0FBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsVUFBQSxPQUFBLENBQ0EsR0FBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLENBQ0EsR0FBQSxXQUNBLEdBQUEsR0FBQSxLQUFBLE1BQUEsTUFBQSxPQUFBLENBQ0EsSUFBQSxHQUFBLEVBQUEsTUFBQSxLQUFBLFVBRUEsT0FEQSxHQUFBLEtBQUEsT0FBQSxRQUFBLE1BQUEsT0FDQSxHQUdBLEVBQUEsUUFBQSxXQUFBLE1BQUEsSUFDQSxFQUFBLFNBQUEsV0FBQSxNQUFBLEdBQUEsWUFDQSxFQUFBLEdBQUEsTUFFQSxLQUFBLEdBQUEsS0FBQSxHQUNBLEVBQUEsSUFBQSxrQkFBQSxHQUFBLEdBQ0EsTUFBQSxRQUFBLEVBQUEsRUFBQSxHQUVBLEVBQUEsR0FBQSxFQUFBLEVBSUEsT0FBQSxJQUVBLFVBQUEsV0FDQSxHQUFBLEdBQUEsU0FDQSxJQUFBLEdBQUEsRUFBQSxRQUFBLEVBQUEsR0FBQSxZQUFBLENBQ0EsR0FBQSxHQUFBLEVBQUEsR0FBQSxZQUFBLEVBRUEsS0FBQSxFQUFBLEdBQUEsR0FHQSxNQUFBLFVBQUEsR0FFQSxHQUFBLElBQUEsRUFDQSxFQUFBLE1BQUEsT0FBQSxNQUFBLEVBQUEsT0FBQSxFQUNBLFFBQ0EsWUFBQSxXQUNBLE1BQUEsV0FBQSxJQUFBLEVBQUEsRUFDQSxFQUFBLEVBQ0EsRUFBQSxHQUFBLE1BR0EsT0FNQSxPQUFBLE9BQUEsV0FDQSxNQUFBLE9BQUEsT0FBQSxNQUFBLEtBQUEsWUFJQSxtQkFBQSxVQUNBLE9BQUEsUUFBQSxPQ3ZCQSxTQUFBLEVBQUEsR0FDQSxnQkFBQSxVQUFBLGdCQUFBLFFBQ0EsT0FBQSxRQUFBLElBQ0Esa0JBQUEsU0FBQSxPQUFBLElBQ0EsVUFBQSxHQUNBLGdCQUFBLFNBQ0EsUUFBQSxXQUFBLElBRUEsRUFBQSxXQUFBLEtBQ0EsS0FBQSxXQUNBLE1BQUEsVUFBQSxHQUtBLFFBQUEsR0FBQSxHQUdBLEdBQUEsRUFBQSxHQUNBLE1BQUEsR0FBQSxHQUFBLE9BR0EsSUFBQSxHQUFBLEVBQUEsSUFDQSxXQUNBLEdBQUEsRUFDQSxRQUFBLEVBVUEsT0FOQSxHQUFBLEdBQUEsS0FBQSxFQUFBLFFBQUEsRUFBQSxFQUFBLFFBQUEsR0FHQSxFQUFBLFFBQUEsRUFHQSxFQUFBLFFBdkJBLEdBQUEsS0FxQ0EsT0FUQSxHQUFBLEVBQUEsRUFHQSxFQUFBLEVBQUEsRUFHQSxFQUFBLEVBQUEsR0FHQSxFQUFBLEtBS0EsU0FBQSxFQUFBLEVBQUEsR0FFQSxZQW9DQSxTQUFBLEtBQ0EsR0FBQSxHQUFBLEdBQUEsR0FBQSxxQkFhQSxPQVhBLEdBQUEsT0FBQSxFQUFBLEdBQ0EsRUFBQSxXQUFBLEVBQUEsV0FDQSxFQUFBLFVBQUEsRUFBQSxXQUNBLEVBQUEsTUFBQSxFQUNBLEVBQUEsaUJBQUEsRUFBQSxpQkFFQSxFQUFBLEdBQUEsRUFDQSxFQUFBLFNBQUEsU0FBQSxHQUNBLE1BQUEsR0FBQSxTQUFBLEVBQUEsSUFHQSxFQWhEQSxHQUFBLEdBQUEsRUFBQSxHQUFBLFdBRUEsRUFBQSxFQUFBLEdBQUEsVUFFQSxHQUFBLFlBQUEsQ0FFQSxJQUFBLEdBQUEsRUFBQSxHQUVBLEVBQUEsRUFBQSxHQUtBLEVBQUEsRUFBQSxJQUVBLEVBQUEsRUFBQSxHQUVBLEVBQUEsRUFBQSxHQUVBLEVBQUEsRUFBQSxHQUVBLEVBQUEsRUFBQSxHQUVBLEVBQUEsRUFBQSxHQUVBLEVBQUEsRUFBQSxJQUVBLEVBQUEsRUFBQSxHQUVBLEVBQUEsRUFBQSxJQUVBLEVBQUEsRUFBQSxHQW9CQSxFQUFBLEdBQ0EsR0FBQSxPQUFBLEVBRUEsRUFBQSxXQUFBLEdBRUEsRUFBQSxXQUFBLEVBRUEsRUFBQSxXQUFBLEVBQ0EsRUFBQSxRQUFBLEVBQUEsWUFJQSxTQUFBLEVBQUEsR0FFQSxZQUVBLEdBQUEsV0FBQSxTQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsV0FDQSxNQUFBLEVBRUEsSUFBQSxLQUVBLElBQUEsTUFBQSxFQUNBLElBQUEsR0FBQSxLQUFBLEdBQ0EsT0FBQSxVQUFBLGVBQUEsS0FBQSxFQUFBLEtBQUEsRUFBQSxHQUFBLEVBQUEsR0FLQSxPQURBLEdBQUEsV0FBQSxFQUNBLEdBSUEsRUFBQSxZQUFBLEdBSUEsU0FBQSxFQUFBLEdBRUEsWUFFQSxHQUFBLFdBQUEsU0FBQSxHQUNBLE1BQUEsSUFBQSxFQUFBLFdBQUEsR0FDQSxVQUFBLElBSUEsRUFBQSxZQUFBLEdBSUEsU0FBQSxFQUFBLEVBQUEsR0FFQSxZQXVDQSxTQUFBLEdBQUEsRUFBQSxFQUFBLEdBQ0EsS0FBQSxRQUFBLE1BQ0EsS0FBQSxTQUFBLE1BQ0EsS0FBQSxXQUFBLE1BRUEsRUFBQSx1QkFBQSxNQUNBLEVBQUEsMEJBQUEsTUEzQ0EsR0FBQSxHQUFBLEVBQUEsR0FBQSxVQUVBLEdBQUEsWUFBQSxFQUNBLEVBQUEsc0JBQUEsQ0FFQSxJQUFBLEdBQUEsRUFBQSxHQUVBLEVBQUEsRUFBQSxHQUVBLEVBQUEsRUFBQSxHQUVBLEVBQUEsRUFBQSxHQUVBLEVBQUEsRUFBQSxJQUVBLEVBQUEsRUFBQSxJQUVBLEVBQUEsRUFBQSxHQUVBLEVBQUEsT0FDQSxHQUFBLFFBQUEsQ0FDQSxJQUFBLEdBQUEsQ0FFQSxHQUFBLGtCQUFBLENBQ0EsSUFBQSxJQUNBLEVBQUEsY0FDQSxFQUFBLGdCQUNBLEVBQUEsZ0JBQ0EsRUFBQSxXQUNBLEVBQUEsbUJBQ0EsRUFBQSxrQkFDQSxFQUFBLFdBR0EsR0FBQSxpQkFBQSxDQUNBLElBQUEsR0FBQSxpQkFXQSxHQUFBLFdBQ0EsWUFBQSxFQUVBLE9BQUEsRUFBQSxXQUNBLElBQUEsRUFBQSxXQUFBLElBRUEsZUFBQSxTQUFBLEVBQUEsR0FDQSxHQUFBLEVBQUEsU0FBQSxLQUFBLEtBQUEsRUFBQSxDQUNBLEdBQUEsRUFDQSxLQUFBLElBQUEsR0FBQSxXQUFBLDBDQUVBLEdBQUEsT0FBQSxLQUFBLFFBQUEsT0FFQSxNQUFBLFFBQUEsR0FBQSxHQUdBLGlCQUFBLFNBQUEsU0FDQSxNQUFBLFFBQUEsSUFHQSxnQkFBQSxTQUFBLEVBQUEsR0FDQSxHQUFBLEVBQUEsU0FBQSxLQUFBLEtBQUEsRUFDQSxFQUFBLE9BQUEsS0FBQSxTQUFBLE9BQ0EsQ0FDQSxHQUFBLG1CQUFBLEdBQ0EsS0FBQSxJQUFBLEdBQUEsV0FBQSw0Q0FBQSxFQUFBLGlCQUVBLE1BQUEsU0FBQSxHQUFBLElBR0Esa0JBQUEsU0FBQSxTQUNBLE1BQUEsU0FBQSxJQUdBLGtCQUFBLFNBQUEsRUFBQSxHQUNBLEdBQUEsRUFBQSxTQUFBLEtBQUEsS0FBQSxFQUFBLENBQ0EsR0FBQSxFQUNBLEtBQUEsSUFBQSxHQUFBLFdBQUEsNkNBRUEsR0FBQSxPQUFBLEtBQUEsV0FBQSxPQUVBLE1BQUEsV0FBQSxHQUFBLEdBR0Esb0JBQUEsU0FBQSxTQUNBLE1BQUEsV0FBQSxJQUlBLElBQUEsR0FBQSxFQUFBLFdBQUEsR0FFQSxHQUFBLElBQUEsRUFDQSxFQUFBLFlBQUEsRUFBQSxZQUNBLEVBQUEsT0FBQSxFQUFBLFlBSUEsU0FBQSxFQUFBLEdBRUEsWUF1QkEsU0FBQSxHQUFBLEdBQ0EsTUFBQSxHQUFBLEdBR0EsUUFBQSxHQUFBLEdBQ0EsSUFBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLFVBQUEsT0FBQSxJQUNBLElBQUEsR0FBQSxLQUFBLFdBQUEsR0FDQSxPQUFBLFVBQUEsZUFBQSxLQUFBLFVBQUEsR0FBQSxLQUNBLEVBQUEsR0FBQSxVQUFBLEdBQUEsR0FLQSxPQUFBLEdBK0JBLFFBQUEsR0FBQSxFQUFBLEdBQ0EsSUFBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxFQUFBLEVBQUEsSUFDQSxHQUFBLEVBQUEsS0FBQSxFQUNBLE1BQUEsRUFHQSxPQUFBLEdBR0EsUUFBQSxHQUFBLEdBQ0EsR0FBQSxnQkFBQSxHQUFBLENBRUEsR0FBQSxHQUFBLEVBQUEsT0FDQSxNQUFBLEdBQUEsUUFDQSxJQUFBLE1BQUEsRUFDQSxNQUFBLEVBQ0EsS0FBQSxFQUNBLE1BQUEsR0FBQSxFQU1BLEdBQUEsR0FBQSxFQUdBLE1BQUEsR0FBQSxLQUFBLEdBR0EsRUFBQSxRQUFBLEVBQUEsR0FGQSxFQUtBLFFBQUEsR0FBQSxHQUNBLE1BQUEsSUFBQSxJQUFBLEVBRUEsRUFBQSxJQUFBLElBQUEsRUFBQSxRQUNBLEdBRUEsR0FKQSxFQVFBLFFBQUEsR0FBQSxHQUNBLEdBQUEsR0FBQSxLQUFBLEVBRUEsT0FEQSxHQUFBLFFBQUEsRUFDQSxFQUdBLFFBQUEsR0FBQSxFQUFBLEdBRUEsTUFEQSxHQUFBLEtBQUEsRUFDQSxFQUdBLFFBQUEsR0FBQSxFQUFBLEdBQ0EsT0FBQSxFQUFBLEVBQUEsSUFBQSxJQUFBLEVBdkhBLEVBQUEsWUFBQSxFQUNBLEVBQUEsT0FBQSxFQUNBLEVBQUEsUUFBQSxFQUNBLEVBQUEsaUJBQUEsRUFDQSxFQUFBLFFBQUEsRUFDQSxFQUFBLFlBQUEsRUFDQSxFQUFBLFlBQUEsRUFDQSxFQUFBLGtCQUFBLENBQ0EsSUFBQSxJQUNBLElBQUEsUUFDQSxJQUFBLE9BQ0EsSUFBQSxPQUNBLElBQUEsU0FDQSxJQUFBLFNBQ0EsSUFBQSxTQUNBLElBQUEsVUFHQSxFQUFBLGFBQ0EsRUFBQSxZQWtCQSxFQUFBLE9BQUEsVUFBQSxRQUVBLEdBQUEsU0FBQSxDQUlBLElBQUEsR0FBQSxTQUFBLEdBQ0EsTUFBQSxrQkFBQSxHQUlBLEdBQUEsT0FDQSxFQUFBLFdBQUEsRUFBQSxTQUFBLEdBQ0EsTUFBQSxrQkFBQSxJQUFBLHNCQUFBLEVBQUEsS0FBQSxLQUdBLEVBQUEsV0FBQSxDQUtBLElBQUEsR0FBQSxNQUFBLFNBQUEsU0FBQSxHQUNBLE1BQUEsSUFBQSxnQkFBQSxHQUFBLG1CQUFBLEVBQUEsS0FBQSxJQUFBLEVBR0EsR0FBQSxRQUFBLEdBOERBLFNBQUEsRUFBQSxFQUFBLEdBRUEsWUFRQSxTQUFBLEdBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxHQUFBLEVBQUEsSUFDQSxFQUFBLE9BQ0EsRUFBQSxNQUNBLEtBQ0EsRUFBQSxFQUFBLE1BQUEsS0FDQSxFQUFBLEVBQUEsTUFBQSxPQUVBLEdBQUEsTUFBQSxFQUFBLElBQUEsRUFNQSxLQUFBLEdBSEEsR0FBQSxNQUFBLFVBQUEsWUFBQSxLQUFBLEtBQUEsR0FHQSxFQUFBLEVBQUEsRUFBQSxFQUFBLE9BQUEsSUFDQSxLQUFBLEVBQUEsSUFBQSxFQUFBLEVBQUEsR0FJQSxPQUFBLG1CQUNBLE1BQUEsa0JBQUEsS0FBQSxFQUdBLEtBQ0EsSUFDQSxLQUFBLFdBQUEsRUFJQSxFQUNBLE9BQUEsZUFBQSxLQUFBLFVBQUEsTUFBQSxJQUVBLEtBQUEsT0FBQSxHQUdBLE1BQUEsS0F6Q0EsR0FBQSxHQUFBLEVBQUEsR0FBQSxVQUVBLEdBQUEsWUFBQSxDQUVBLElBQUEsSUFBQSxjQUFBLFdBQUEsYUFBQSxVQUFBLE9BQUEsU0FBQSxRQTBDQSxHQUFBLFVBQUEsR0FBQSxPQUVBLEVBQUEsV0FBQSxFQUNBLEVBQUEsUUFBQSxFQUFBLFlBSUEsU0FBQSxFQUFBLEVBQUEsR0FFQSxFQUFBLFNBQUEsVUFBQSxFQUFBLEdBQUEsWUFBQSxJQUlBLFNBQUEsRUFBQSxFQUFBLEdBRUEsR0FBQSxHQUFBLEVBQUEsRUFDQSxHQUFBLFFBQUEsU0FBQSxFQUFBLEVBQUEsR0FDQSxNQUFBLEdBQUEsUUFBQSxFQUFBLEVBQUEsS0FLQSxTQUFBLEdBRUEsR0FBQSxHQUFBLE1BQ0EsR0FBQSxTQUNBLE9BQUEsRUFBQSxPQUNBLFNBQUEsRUFBQSxlQUNBLFVBQUEscUJBQ0EsUUFBQSxFQUFBLHlCQUNBLFFBQUEsRUFBQSxlQUNBLFNBQUEsRUFBQSxpQkFDQSxRQUFBLEVBQUEsS0FDQSxTQUFBLEVBQUEsb0JBQ0EsV0FBQSxFQUFBLHNCQUNBLFFBQUEsVUFLQSxTQUFBLEVBQUEsRUFBQSxHQUVBLFlBbUNBLFNBQUEsR0FBQSxHQUNBLEVBQUEsV0FBQSxHQUNBLEVBQUEsV0FBQSxHQUNBLEVBQUEsV0FBQSxHQUNBLEVBQUEsV0FBQSxHQUNBLEVBQUEsV0FBQSxHQUNBLEVBQUEsV0FBQSxHQUNBLEVBQUEsV0FBQSxHQXhDQSxHQUFBLEdBQUEsRUFBQSxHQUFBLFVBRUEsR0FBQSxZQUFBLEVBQ0EsRUFBQSx1QkFBQSxDQUVBLElBQUEsR0FBQSxFQUFBLElBRUEsRUFBQSxFQUFBLEdBRUEsRUFBQSxFQUFBLElBRUEsRUFBQSxFQUFBLEdBRUEsRUFBQSxFQUFBLElBRUEsRUFBQSxFQUFBLEdBRUEsRUFBQSxFQUFBLElBRUEsRUFBQSxFQUFBLEdBRUEsRUFBQSxFQUFBLElBRUEsRUFBQSxFQUFBLEdBRUEsRUFBQSxFQUFBLElBRUEsRUFBQSxFQUFBLEdBRUEsRUFBQSxFQUFBLElBRUEsRUFBQSxFQUFBLElBY0EsU0FBQSxFQUFBLEVBQUEsR0FFQSxZQUVBLEdBQUEsWUFBQSxDQUVBLElBQUEsR0FBQSxFQUFBLEVBRUEsR0FBQSxXQUFBLFNBQUEsR0FDQSxFQUFBLGVBQUEscUJBQUEsU0FBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsUUFDQSxFQUFBLEVBQUEsRUFFQSxJQUFBLEtBQUEsRUFDQSxNQUFBLEdBQUEsS0FDQSxJQUFBLEtBQUEsR0FBQSxNQUFBLEVBQ0EsTUFBQSxHQUFBLEtBQ0EsSUFBQSxFQUFBLFFBQUEsR0FDQSxNQUFBLEdBQUEsT0FBQSxHQUNBLEVBQUEsTUFDQSxFQUFBLEtBQUEsRUFBQSxPQUdBLEVBQUEsUUFBQSxLQUFBLEVBQUEsSUFFQSxFQUFBLEtBR0EsSUFBQSxFQUFBLE1BQUEsRUFBQSxJQUFBLENBQ0EsR0FBQSxHQUFBLEVBQUEsWUFBQSxFQUFBLEtBQ0EsR0FBQSxZQUFBLEVBQUEsa0JBQUEsRUFBQSxLQUFBLFlBQUEsRUFBQSxNQUNBLEdBQUEsS0FBQSxHQUdBLE1BQUEsR0FBQSxFQUFBLE1BS0EsRUFBQSxRQUFBLEVBQUEsWUFJQSxTQUFBLEVBQUEsRUFBQSxHQUVBLFlBRUEsSUFBQSxHQUFBLEVBQUEsR0FBQSxVQUVBLEdBQUEsWUFBQSxDQUVBLElBQUEsR0FBQSxFQUFBLEdBRUEsRUFBQSxFQUFBLEdBRUEsRUFBQSxFQUFBLEVBRUEsR0FBQSxXQUFBLFNBQUEsR0FDQSxFQUFBLGVBQUEsT0FBQSxTQUFBLEVBQUEsR0F3QkEsUUFBQSxHQUFBLEVBQUEsRUFBQSxHQUNBLElBQ0EsRUFBQSxJQUFBLEVBQ0EsRUFBQSxNQUFBLEVBQ0EsRUFBQSxNQUFBLElBQUEsRUFDQSxFQUFBLE9BQUEsRUFFQSxJQUNBLEVBQUEsWUFBQSxFQUFBLElBSUEsR0FBQSxFQUFBLEVBQUEsSUFDQSxLQUFBLEVBQ0EsWUFBQSxFQUFBLGFBQUEsRUFBQSxHQUFBLElBQUEsRUFBQSxFQUFBLFNBckNBLElBQUEsRUFDQSxLQUFBLElBQUEsR0FBQSxXQUFBLDhCQUdBLElBQUEsR0FBQSxFQUFBLEdBQ0EsRUFBQSxFQUFBLFFBQ0EsRUFBQSxFQUNBLEVBQUEsR0FDQSxFQUFBLE9BQ0EsRUFBQSxNQWdDQSxJQTlCQSxFQUFBLE1BQUEsRUFBQSxNQUNBLEVBQUEsRUFBQSxrQkFBQSxFQUFBLEtBQUEsWUFBQSxFQUFBLElBQUEsSUFBQSxLQUdBLEVBQUEsV0FBQSxLQUNBLEVBQUEsRUFBQSxLQUFBLE9BR0EsRUFBQSxPQUNBLEVBQUEsRUFBQSxZQUFBLEVBQUEsT0FxQkEsR0FBQSxnQkFBQSxHQUNBLEdBQUEsRUFBQSxRQUFBLEdBQ0EsSUFBQSxHQUFBLEdBQUEsRUFBQSxPQUFBLEVBQUEsRUFBQSxJQUNBLElBQUEsSUFDQSxFQUFBLEVBQUEsRUFBQSxJQUFBLEVBQUEsT0FBQSxPQUdBLENBQ0EsR0FBQSxHQUFBLE1BRUEsS0FBQSxHQUFBLEtBQUEsR0FDQSxFQUFBLGVBQUEsS0FJQSxTQUFBLEdBQ0EsRUFBQSxFQUFBLEVBQUEsR0FFQSxFQUFBLEVBQ0EsSUFHQSxVQUFBLEdBQ0EsRUFBQSxFQUFBLEVBQUEsR0FBQSxHQVNBLE1BSkEsS0FBQSxJQUNBLEVBQUEsRUFBQSxPQUdBLEtBSUEsRUFBQSxRQUFBLEVBQUEsWUFJQSxTQUFBLEVBQUEsRUFBQSxHQUVBLFlBRUEsSUFBQSxHQUFBLEVBQUEsR0FBQSxVQUVBLEdBQUEsWUFBQSxDQUVBLElBQUEsR0FBQSxFQUFBLEdBRUEsRUFBQSxFQUFBLEVBRUEsR0FBQSxXQUFBLFNBQUEsR0FDQSxFQUFBLGVBQUEsZ0JBQUEsV0FDQSxHQUFBLElBQUEsVUFBQSxPQUVBLE1BQUEsT0FHQSxNQUFBLElBQUEsR0FBQSxXQUFBLG9CQUFBLFVBQUEsVUFBQSxPQUFBLEdBQUEsS0FBQSxRQUtBLEVBQUEsUUFBQSxFQUFBLFlBSUEsU0FBQSxFQUFBLEVBQUEsR0FFQSxZQUVBLEdBQUEsWUFBQSxDQUVBLElBQUEsR0FBQSxFQUFBLEVBRUEsR0FBQSxXQUFBLFNBQUEsR0FDQSxFQUFBLGVBQUEsS0FBQSxTQUFBLEVBQUEsR0FRQSxNQVBBLEdBQUEsV0FBQSxLQUNBLEVBQUEsRUFBQSxLQUFBLFFBTUEsRUFBQSxLQUFBLGNBQUEsR0FBQSxFQUFBLFFBQUEsR0FDQSxFQUFBLFFBQUEsTUFFQSxFQUFBLEdBQUEsUUFJQSxFQUFBLGVBQUEsU0FBQSxTQUFBLEVBQUEsR0FDQSxNQUFBLEdBQUEsUUFBQSxNQUFBLEtBQUEsS0FBQSxHQUFBLEdBQUEsRUFBQSxRQUFBLFFBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxVQUlBLEVBQUEsUUFBQSxFQUFBLFlBSUEsU0FBQSxFQUFBLEdBRUEsWUFFQSxHQUFBLFlBQUEsRUFFQSxFQUFBLFdBQUEsU0FBQSxHQUNBLEVBQUEsZUFBQSxNQUFBLFdBR0EsSUFBQSxHQUZBLElBQUEsUUFDQSxFQUFBLFVBQUEsVUFBQSxPQUFBLEdBQ0EsRUFBQSxFQUFBLEVBQUEsVUFBQSxPQUFBLEVBQUEsSUFDQSxFQUFBLEtBQUEsVUFBQSxHQUdBLElBQUEsR0FBQSxDQUNBLE9BQUEsRUFBQSxLQUFBLE1BQ0EsRUFBQSxFQUFBLEtBQUEsTUFDQSxFQUFBLE1BQUEsTUFBQSxFQUFBLEtBQUEsUUFDQSxFQUFBLEVBQUEsS0FBQSxPQUVBLEVBQUEsR0FBQSxFQUVBLEVBQUEsSUFBQSxNQUFBLEVBQUEsTUFJQSxFQUFBLFFBQUEsRUFBQSxZQUlBLFNBQUEsRUFBQSxHQUVBLFlBRUEsR0FBQSxZQUFBLEVBRUEsRUFBQSxXQUFBLFNBQUEsR0FDQSxFQUFBLGVBQUEsU0FBQSxTQUFBLEVBQUEsR0FDQSxNQUFBLElBQUEsRUFBQSxNQUlBLEVBQUEsUUFBQSxFQUFBLFlBSUEsU0FBQSxFQUFBLEVBQUEsR0FFQSxZQUVBLEdBQUEsWUFBQSxDQUVBLElBQUEsR0FBQSxFQUFBLEVBRUEsR0FBQSxXQUFBLFNBQUEsR0FDQSxFQUFBLGVBQUEsT0FBQSxTQUFBLEVBQUEsR0FDQSxFQUFBLFdBQUEsS0FDQSxFQUFBLEVBQUEsS0FBQSxNQUdBLElBQUEsR0FBQSxFQUFBLEVBRUEsSUFBQSxFQUFBLFFBQUEsR0FZQSxNQUFBLEdBQUEsUUFBQSxLQVhBLElBQUEsR0FBQSxFQUFBLElBTUEsT0FMQSxHQUFBLE1BQUEsRUFBQSxNQUNBLEVBQUEsRUFBQSxZQUFBLEVBQUEsTUFDQSxFQUFBLFlBQUEsRUFBQSxrQkFBQSxFQUFBLEtBQUEsWUFBQSxFQUFBLElBQUEsS0FHQSxFQUFBLEdBQ0EsS0FBQSxFQUNBLFlBQUEsRUFBQSxhQUFBLElBQUEsR0FBQSxFQUFBLG1CQVFBLEVBQUEsUUFBQSxFQUFBLFlBSUEsU0FBQSxFQUFBLEVBQUEsR0FFQSxZQVdBLFNBQUEsR0FBQSxHQUNBLEVBQUEsV0FBQSxHQVZBLEdBQUEsR0FBQSxFQUFBLEdBQUEsVUFFQSxHQUFBLFlBQUEsRUFDQSxFQUFBLDBCQUFBLENBRUEsSUFBQSxHQUFBLEVBQUEsSUFFQSxFQUFBLEVBQUEsSUFRQSxTQUFBLEVBQUEsRUFBQSxHQUVBLFlBRUEsR0FBQSxZQUFBLENBRUEsSUFBQSxHQUFBLEVBQUEsRUFFQSxHQUFBLFdBQUEsU0FBQSxHQUNBLEVBQUEsa0JBQUEsU0FBQSxTQUFBLEVBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLENBZUEsT0FkQSxHQUFBLFdBQ0EsRUFBQSxZQUNBLEVBQUEsU0FBQSxFQUFBLEdBRUEsR0FBQSxHQUFBLEVBQUEsUUFDQSxHQUFBLFNBQUEsRUFBQSxVQUFBLEVBQUEsRUFBQSxTQUNBLElBQUEsR0FBQSxFQUFBLEVBQUEsRUFFQSxPQURBLEdBQUEsU0FBQSxFQUNBO0dBSUEsRUFBQSxTQUFBLEVBQUEsS0FBQSxJQUFBLEVBQUEsR0FFQSxLQUlBLEVBQUEsUUFBQSxFQUFBLFlBSUEsU0FBQSxFQUFBLEVBQUEsR0FFQSxZQUVBLEdBQUEsWUFBQSxDQUVBLElBQUEsR0FBQSxFQUFBLEdBRUEsR0FDQSxXQUFBLFFBQUEsT0FBQSxPQUFBLFNBQ0EsTUFBQSxPQUdBLFlBQUEsU0FBQSxHQUNBLEdBQUEsZ0JBQUEsR0FBQSxDQUNBLEdBQUEsR0FBQSxFQUFBLFFBQUEsRUFBQSxVQUFBLEVBQUEsY0FFQSxHQURBLEdBQUEsRUFDQSxFQUVBLFNBQUEsRUFBQSxJQUlBLE1BQUEsSUFJQSxJQUFBLFNBQUEsR0FHQSxHQUZBLEVBQUEsRUFBQSxZQUFBLEdBRUEsbUJBQUEsVUFBQSxFQUFBLFlBQUEsRUFBQSxRQUFBLEVBQUEsQ0FDQSxHQUFBLEdBQUEsRUFBQSxVQUFBLEVBQ0EsU0FBQSxLQUVBLEVBQUEsTUFHQSxLQUFBLEdBQUEsR0FBQSxVQUFBLE9BQUEsRUFBQSxNQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLElBQ0EsRUFBQSxFQUFBLEdBQUEsVUFBQSxFQUdBLFNBQUEsR0FBQSxNQUFBLFFBQUEsS0FLQSxHQUFBLFdBQUEsRUFDQSxFQUFBLFFBQUEsRUFBQSxZQUlBLFNBQUEsRUFBQSxHQUdBLFlBR0EsU0FBQSxHQUFBLEdBQ0EsS0FBQSxPQUFBLEVBRkEsRUFBQSxZQUFBLEVBS0EsRUFBQSxVQUFBLFNBQUEsRUFBQSxVQUFBLE9BQUEsV0FDQSxNQUFBLEdBQUEsS0FBQSxRQUdBLEVBQUEsV0FBQSxFQUNBLEVBQUEsUUFBQSxFQUFBLFlBSUEsU0FBQSxFQUFBLEVBQUEsR0FFQSxZQXdCQSxTQUFBLEdBQUEsR0FDQSxHQUFBLEdBQUEsR0FBQSxFQUFBLElBQUEsRUFDQSxFQUFBLEVBQUEsaUJBRUEsSUFBQSxJQUFBLEVBQUEsQ0FDQSxHQUFBLEVBQUEsRUFBQSxDQUNBLEdBQUEsR0FBQSxFQUFBLGlCQUFBLEdBQ0EsRUFBQSxFQUFBLGlCQUFBLEVBQ0EsTUFBQSxJQUFBLEdBQUEsV0FBQSw2SUFBQSxFQUFBLG9EQUFBLEVBQUEsTUFHQSxLQUFBLElBQUEsR0FBQSxXQUFBLHdJQUFBLEVBQUEsR0FBQSxPQUtBLFFBQUEsR0FBQSxFQUFBLEdBZUEsUUFBQSxHQUFBLEVBQUEsRUFBQSxHQUNBLEVBQUEsT0FDQSxFQUFBLEVBQUEsVUFBQSxFQUFBLEVBQUEsTUFDQSxFQUFBLE1BQ0EsRUFBQSxJQUFBLElBQUEsSUFJQSxFQUFBLEVBQUEsR0FBQSxlQUFBLEtBQUEsS0FBQSxFQUFBLEVBQUEsRUFDQSxJQUFBLEdBQUEsRUFBQSxHQUFBLGNBQUEsS0FBQSxLQUFBLEVBQUEsRUFBQSxFQU1BLElBSkEsTUFBQSxHQUFBLEVBQUEsVUFDQSxFQUFBLFNBQUEsRUFBQSxNQUFBLEVBQUEsUUFBQSxFQUFBLEVBQUEsZ0JBQUEsR0FDQSxFQUFBLEVBQUEsU0FBQSxFQUFBLE1BQUEsRUFBQSxJQUVBLE1BQUEsRUFBQSxDQUNBLEdBQUEsRUFBQSxPQUFBLENBRUEsSUFBQSxHQURBLEdBQUEsRUFBQSxNQUFBLE1BQ0EsRUFBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLEVBQUEsSUFDQSxFQUFBLElBQUEsRUFBQSxJQUFBLEdBREEsSUFLQSxFQUFBLEdBQUEsRUFBQSxPQUFBLEVBQUEsRUFFQSxHQUFBLEVBQUEsS0FBQSxNQUVBLE1BQUEsR0FFQSxLQUFBLElBQUEsR0FBQSxXQUFBLGVBQUEsRUFBQSxLQUFBLDREQWlFQSxRQUFBLEdBQUEsR0FtQkEsUUFBQSxHQUFBLEdBQ0EsTUFBQSxHQUFBLEVBQUEsS0FBQSxFQUFBLEVBQUEsRUFBQSxRQUFBLEVBQUEsU0FBQSxFQUFBLEVBQUEsR0FuQkEsR0FBQSxHQUFBLFVBQUEsUUFBQSxHQUFBLFNBQUEsVUFBQSxNQUFBLFVBQUEsR0FFQSxFQUFBLEVBQUEsSUFFQSxHQUFBLE9BQUEsSUFDQSxFQUFBLFNBQUEsRUFBQSxVQUNBLEVBQUEsRUFBQSxFQUFBLEdBRUEsSUFBQSxHQUFBLE9BQ0EsRUFBQSxFQUFBLGtCQUFBLE1BYUEsT0FaQSxHQUFBLFlBRUEsRUFEQSxFQUFBLE9BQ0EsR0FBQSxFQUFBLE9BQUEsSUFBQSxHQUFBLE9BQUEsRUFBQSxRQUFBLEVBQUEsUUFFQSxLQU9BLEVBQUEsRUFBQSxFQUFBLEtBQUEsRUFBQSxFQUFBLEVBQUEsV0FBQSxFQUFBLElBQ0EsRUFBQSxHQWxJQSxJQUFBLEVBQ0EsS0FBQSxJQUFBLEdBQUEsV0FBQSxvQ0FFQSxLQUFBLElBQUEsRUFBQSxLQUNBLEtBQUEsSUFBQSxHQUFBLFdBQUEsa0NBQUEsR0FHQSxHQUFBLEtBQUEsVUFBQSxFQUFBLE9BSUEsRUFBQSxHQUFBLGNBQUEsRUFBQSxTQW9DQSxJQUFBLElBQ0EsT0FBQSxTQUFBLEVBQUEsR0FDQSxLQUFBLElBQUEsSUFDQSxLQUFBLElBQUEsR0FBQSxXQUFBLElBQUEsRUFBQSxvQkFBQSxFQUVBLE9BQUEsR0FBQSxJQUVBLE9BQUEsU0FBQSxFQUFBLEdBRUEsSUFBQSxHQURBLEdBQUEsRUFBQSxPQUNBLEVBQUEsRUFBQSxFQUFBLEVBQUEsSUFDQSxHQUFBLEVBQUEsSUFBQSxNQUFBLEVBQUEsR0FBQSxHQUNBLE1BQUEsR0FBQSxHQUFBLElBSUEsT0FBQSxTQUFBLEVBQUEsR0FDQSxNQUFBLGtCQUFBLEdBQUEsRUFBQSxLQUFBLEdBQUEsR0FHQSxpQkFBQSxFQUFBLGlCQUNBLGNBQUEsRUFFQSxHQUFBLFNBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxFQUVBLE9BREEsR0FBQSxVQUFBLEVBQUEsRUFBQSxNQUNBLEdBR0EsWUFDQSxRQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxLQUFBLFNBQUEsR0FDQSxFQUFBLEtBQUEsR0FBQSxFQU1BLE9BTEEsSUFBQSxHQUFBLEdBQUEsRUFDQSxFQUFBLEVBQUEsS0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxJQUNBLEVBQUEsS0FBQSxTQUFBLEdBQUEsRUFBQSxLQUFBLEVBQUEsSUFFQSxHQUdBLEtBQUEsU0FBQSxFQUFBLEdBQ0EsS0FBQSxHQUFBLEtBQ0EsRUFBQSxFQUFBLE9BRUEsT0FBQSxJQUVBLE1BQUEsU0FBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEdBQUEsQ0FNQSxPQUpBLElBQUEsR0FBQSxJQUFBLElBQ0EsRUFBQSxFQUFBLFVBQUEsRUFBQSxJQUdBLEdBR0EsS0FBQSxFQUFBLEdBQUEsS0FDQSxhQUFBLEVBQUEsU0F5REEsT0E3QkEsR0FBQSxPQUFBLEVBRUEsRUFBQSxPQUFBLFNBQUEsR0FDQSxFQUFBLFNBVUEsRUFBQSxRQUFBLEVBQUEsUUFDQSxFQUFBLFNBQUEsRUFBQSxTQUNBLEVBQUEsV0FBQSxFQUFBLGFBWEEsRUFBQSxRQUFBLEVBQUEsTUFBQSxFQUFBLFFBQUEsRUFBQSxTQUVBLEVBQUEsYUFDQSxFQUFBLFNBQUEsRUFBQSxNQUFBLEVBQUEsU0FBQSxFQUFBLFlBRUEsRUFBQSxZQUFBLEVBQUEsaUJBQ0EsRUFBQSxXQUFBLEVBQUEsTUFBQSxFQUFBLFdBQUEsRUFBQSxlQVNBLEVBQUEsT0FBQSxTQUFBLEVBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxFQUFBLGlCQUFBLEVBQ0EsS0FBQSxJQUFBLEdBQUEsV0FBQSx5QkFFQSxJQUFBLEVBQUEsWUFBQSxFQUNBLEtBQUEsSUFBQSxHQUFBLFdBQUEsMEJBR0EsT0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsSUFFQSxFQUdBLFFBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUNBLFFBQUEsR0FBQSxHQUNBLEdBQUEsR0FBQSxVQUFBLFFBQUEsR0FBQSxTQUFBLFVBQUEsTUFBQSxVQUFBLEdBRUEsRUFBQSxDQUtBLE9BSkEsSUFBQSxHQUFBLEVBQUEsS0FDQSxHQUFBLEdBQUEsT0FBQSxJQUdBLEVBQUEsRUFBQSxFQUFBLEVBQUEsUUFBQSxFQUFBLFNBQUEsRUFBQSxNQUFBLEVBQUEsSUFBQSxFQUFBLGFBQUEsT0FBQSxHQUFBLEdBUUEsTUFMQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBRUEsRUFBQSxRQUFBLEVBQ0EsRUFBQSxNQUFBLEVBQUEsRUFBQSxPQUFBLEVBQ0EsRUFBQSxZQUFBLEdBQUEsRUFDQSxFQUdBLFFBQUEsR0FBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEVBV0EsRUFBQSxNQUFBLEVBQUEsT0FFQSxFQUFBLEtBQUEsRUFDQSxFQUFBLEVBQUEsU0FBQSxRQWJBLElBQUEsbUJBQUEsRUFBQSxLQUFBLENBRUEsSUFEQSxHQUFBLEdBQUEsRUFBQSxLQUNBLEVBQUEsbUJBQUEsR0FDQSxFQUFBLEVBQUEsT0FFQSxHQUFBLEVBQUEsaUJBQ0EsRUFBQSxpQkFBQSxNQUVBLEdBQUEsRUFBQSxTQUFBLEVBQUEsS0FPQSxPQUFBLEdBR0EsUUFBQSxHQUFBLEVBQUEsRUFBQSxHQUNBLEVBQUEsU0FBQSxFQUNBLEVBQUEsTUFDQSxFQUFBLEtBQUEsWUFBQSxFQUFBLElBQUEsSUFBQSxFQUFBLEtBQUEsWUFHQSxJQUFBLEdBQUEsTUFjQSxJQWJBLEVBQUEsSUFBQSxFQUFBLEtBQUEsSUFDQSxFQUFBLEtBQUEsRUFBQSxZQUFBLEVBQUEsTUFDQSxFQUFBLEVBQUEsS0FBQSxpQkFBQSxFQUFBLEdBRUEsRUFBQSxXQUNBLEVBQUEsU0FBQSxFQUFBLFVBQUEsRUFBQSxTQUFBLEVBQUEsWUFJQSxTQUFBLEdBQUEsSUFDQSxFQUFBLEdBR0EsU0FBQSxFQUNBLEtBQUEsSUFBQSxHQUFBLFdBQUEsZUFBQSxFQUFBLEtBQUEsc0JBQ0EsT0FBQSxhQUFBLFVBQ0EsRUFBQSxFQUFBLEdBREEsT0FLQSxRQUFBLEtBQ0EsTUFBQSxHQUdBLFFBQUEsR0FBQSxFQUFBLEdBS0EsTUFKQSxJQUFBLFFBQUEsS0FDQSxFQUFBLEVBQUEsRUFBQSxZQUFBLE1BQ0EsRUFBQSxLQUFBLEdBRUEsRUFHQSxRQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxFQUFBLFVBQUEsQ0FDQSxHQUFBLEtBQ0EsR0FBQSxFQUFBLFVBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEdBQ0EsRUFBQSxPQUFBLEVBQUEsR0FFQSxNQUFBLEdBalNBLEdBQUEsR0FBQSxFQUFBLEdBQUEsV0FFQSxFQUFBLEVBQUEsR0FBQSxVQUVBLEdBQUEsWUFBQSxFQUNBLEVBQUEsY0FBQSxFQUNBLEVBQUEsU0FBQSxFQUNBLEVBQUEsWUFBQSxFQUNBLEVBQUEsZUFBQSxFQUNBLEVBQUEsY0FBQSxFQUNBLEVBQUEsS0FBQSxDQUVBLElBQUEsR0FBQSxFQUFBLEdBRUEsRUFBQSxFQUFBLEdBRUEsRUFBQSxFQUFBLEdBRUEsRUFBQSxFQUFBLEdBRUEsRUFBQSxFQUFBLElBa1JBLFNBQUEsRUFBQSxJQUVBLFNBQUEsR0FDQSxZQUVBLEdBQUEsWUFBQSxFQUVBLEVBQUEsV0FBQSxTQUFBLEdBRUEsR0FBQSxHQUFBLG1CQUFBLEdBQUEsRUFBQSxPQUNBLEVBQUEsRUFBQSxVQUVBLEdBQUEsV0FBQSxXQUlBLE1BSEEsR0FBQSxhQUFBLElBQ0EsRUFBQSxXQUFBLEdBRUEsSUFJQSxFQUFBLFFBQUEsRUFBQSxhQUNBLEtBQUEsRUFBQSxXQUFBLE1BQUEsZUNsekNBLFNBQUEsR0E4R0EsUUFBQSxLQUNBLE1BQUEsc0JBQ0EsT0FBQSxLQUFBLFlBQ0EsS0FDQSxPQUFBLEtBQUEsVUFDQSxLQUNBLE9BQUEsS0FBQSxZQUNBLEtBSUEsUUFBQSxLQUNBLEdBQUEsR0FBQSxRQUFBLE9BQ0EsT0FBQSxzQkFDQSxFQUFBLFFBQUEsS0FBQSxZQUNBLEtBQ0EsRUFBQSxRQUFBLEtBQUEsVUFDQSxLQUNBLEVBQUEsUUFBQSxLQUFBLFlBQ0EsS0FvQkEsUUFBQSxHQUFBLEdBRUEsSUFEQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEdBQ0EsTUFBQSxFQUFBLEVBQUEsUUFBQSxLQUFBLEVBQUEsS0FBQSxHQUNBLE9BQUEsR0ErMEJBLFFBQUEsR0FBQSxFQUFBLEdBS0EsUUFBQSxHQUFBLEdBQ0EsS0FBQSxVQUFBLEVBQ0EsS0FBQSxLQUFBLFNBQUEsRUFMQSxHQUFBLEdBQUEsRUFBQSxTQUNBLEVBQUEsVUFBQSxFQUFBLFdBQUEsY0FPQSxPQUFBLFVBQUEsR0FFQSxHQUFBLEtBQUEsR0FBQSxJQUFBLEVBTUEsTUFIQSxNQUFBLEdBQUEsU0FHQSxFQUFBLE9BQUEsR0FBQSxHQUFBLEVBQUEsT0FBQSxFQUFBLFFBSUEsSUFBQSxHQUFBLEtBQUEsR0FBQSxRQUNBLEVBQUEsS0FBQSxHQUFBLE9BRUEsTUFBQSxHQUFBLFFBQUEsRUFLQSxFQUFBLEdBQUEsR0FBQSxLQUFBLGNBQUEsRUFBQSxPQUFBLEVBQUEsU0FHQSxFQUFBLEVBQUEsRUFBQSxPQUFBLEVBSUEsTUFBQSxHQUFBLFFBQ0EsR0FBQSxZQUFBLEdBQUEsQ0FDQSxFQUFBLEtBRUEsSUFBQSxHQUFBLEVBQUEsT0FBQSxFQUFBLFNBQ0EsUUFBQSxHQUFBLEdBQUEsT0FBQSxJQVFBLE1BSkEsTUFBQSxHQUFBLEVBQ0EsS0FBQSxHQUFBLEdBR0EsRUFBQSxPQUFBLElBc0hBLFFBQUEsR0FBQSxHQUtBLElBSkEsR0FBQSxHQUFBLEVBQUEsTUFBQSxJQUNBLEdBQUEsSUFDQSxHQUFBLEVBRUEsRUFBQSxRQUFBLENBQ0EsR0FBQSxHQUFBLEVBQUEsT0FDQSxRQUFBLEdBQ0EsSUFBQSxJQUVBLEVBQ0EsRUFBQSxFQUFBLE9BQUEsSUFBQSxFQUlBLEVBQUEsS0FBQSxHQUVBLE1BQ0EsS0FBQSxJQUNBLElBQUEsSUFFQSxHQUFBLENBQ0EsTUFDQSxLQUFBLEtBR0EsRUFBQSxFQUFBLE9BQ0EsU0FDQSxFQUFBLEVBQUEsT0FBQSxJQUFBLEdBS0EsTUFBQSxHQStQQSxRQUFBLEdBQUEsR0FDQSxNQUFBLEdBQUEsSUFDQSxFQUFBLE9BQUEsR0FDQSxnQkFBQSxHQUFBLEtBQ0EsRUFBQSxFQUFBLElBQ0EsRUFBQSxHQUNBLE9BMENBLFFBQUEsR0FBQSxHQUNBLE1BQUEsR0FBQSxRQUFBLEtBQUEsU0FDQSxRQUFBLEtBQUEsUUFDQSxRQUFBLEtBQUEsUUFDQSxRQUFBLEtBQUEsVUFDQSxRQUFBLEtBQUEsU0FHQSxRQUFBLEdBQUEsR0FFQSxHQUFBLGdCQUFBLEdBQ0EsTUFBQSxHQUFBLEVBR0EsSUFBQSxHQUFBLEVBQUEsUUFDQSxLQUNBLElBTUEsTUFKQSxFQUFBLFFBQUEsZ0JBQUEsR0FBQSxJQUFBLEVBQUEsWUFBQSxTQUNBLEVBQUEsRUFBQSxTQUdBLEVBQUEsUUFDQSxFQUFBLEtBQUEsRUFBQSxFQUFBLFNBR0EsSUFBQSxHQUFBLEVBQ0EsS0FBQSxHQUFBLEtBQUEsR0FDQSxHQUFBLElBQUEsRUFBQSxLQUFBLEVBQUEsRUFBQSxJQUFBLEdBSUEsT0FBQSxPQUFBLEdBQUEsTUFBQSxHQUFBLE1BQUEsRUFDQSxJQUFBLEVBQUEsRUFBQSxLQUdBLElBQUEsRUFBQSxFQUFBLElBQUEsRUFBQSxLQUFBLElBQUEsS0FBQSxFQUFBLElBSUEsUUFBQSxHQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsRUFDQSxHQUFBLEtBR0EsSUFBQSxHQUFBLEVBQUEsTUFBQSxFQUVBLG1CQUFBLEdBQUEscUJBQ0EsRUFBQSxFQUFBLG1CQUFBLEVBQUEsR0FJQSxJQUFBLEdBQUEsRUFBQSxFQUNBLElBQUEsRUFBQSxDQUNBLEVBQUEsS0FDQSxLQUFBLElBQUEsR0FDQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEVBRUEsR0FBQSxFQUFBLEdBSUEsR0FBQSxnQkFBQSxHQUNBLE1BQUEsRUFJQSxRQUFBLEVBQUEsSUFDQSxJQUFBLFNBQ0EsRUFBQSxHQUFBLElBQUEsRUFBQSxHQUFBLFlBQ0EsR0FBQSxHQUFBLEtBQ0EsTUFDQSxLQUFBLGFBQ0EsRUFBQSxHQUFBLElBQ0EsTUFDQSxLQUFBLGFBQ0EsRUFBQSxHQUFBLElBQ0EsTUFDQSxLQUFBLFdBQ0EsRUFBQSxHQUFBLElBQ0EsTUFDQSxLQUFBLE9BQ0EsRUFBQSxHQUFBLEdBQ0EsTUFDQSxLQUFBLFdBQ0EsRUFBQSxHQUFBLE9BQ0EsU0FBQSxHQUFBLFVBQ0EsTUFDQSxLQUFBLGFBQ0EsRUFBQSxHQUFBLE1BQ0EsRUFBQSxFQUFBLEVBQUEsQ0FDQSxJQUFBLElBQUEsT0FDQSxHQUFBLEtBQUEsTUFBQSxFQUFBLEVBQUEsT0FBQSxFQUFBLEVBQUEsT0FBQSxJQUNBLEVBQUEsR0FBQSxDQUNBLE1BQ0EsS0FBQSxhQUNBLEVBQUEsR0FBQSxNQUNBLE1BQ0EsS0FBQSxNQUNBLEVBQUEsR0FBQSxJQUFBLEVBQUEsR0FBQSxXQUNBLEdBQUEsR0FBQSxJQUNBLE1BQ0EsS0FBQSxZQUNBLEVBQUEsR0FBQSxJQUNBLE1BQ0EsS0FBQSxPQUNBLEVBQUEsR0FBQSxHQUNBLE1BQ0EsS0FBQSxXQUNBLEVBQUEsR0FBQSxHQUdBLElBQUEsR0FBQSxFQUFBLEVBQUEsSUFHQSxLQUFBLEVBY0EsTUFBQSxHQUFBLGVBYkEsR0FBQSxJQUdBLEVBQUEsS0FBQSxFQUFBLEtBQ0EsRUFBQSxRQUNBLEVBQUEsTUFBQSxFQUFBLGFBSUEsR0FBQSxRQU1BLE1BQ0EsS0FBQSxVQUNBLEVBQUEsR0FBQSxLQUdBLElBQUEsR0FBQSxFQUFBLEVBQUEsSUFHQSxLQUFBLEVBY0EsTUFBQSxHQUFBLGVBYkEsR0FBQSxJQUdBLEVBQUEsSUFBQSxFQUFBLEtBQ0EsRUFBQSxRQUNBLEVBQUEsTUFBQSxFQUFBLGFBSUEsR0FBQSxTQWFBLEdBSEEsRUFBQSxFQUdBLEVBQUEsQ0FFQSxJQUFBLEdBQUEsS0FBQSxHQUFBLEdBQUEsQ0FDQSxFQUFBLENBQ0EsT0FHQSxJQUFBLEdBQ0EsRUFBQSxPQUFBLEVBQUEsR0FJQSxLQUFBLEVBQUEsRUFBQSxTQUFBLEVBQ0EsRUFBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsRUFHQSxPQUFBLEdBS0EsUUFBQSxHQUFBLEdBSUEsSUFGQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsRUFFQSxFQUFBLEVBQUEsUUFFQSxnQkFBQSxHQUFBLEdBQ0EsRUFBQSxFQUFBLEVBQUEsUUFBQSxnQkFBQSxHQUFBLEVBQUEsR0FFQSxFQUFBLElBQUEsRUFBQSxPQUFBLEVBQUEsRUFBQSxHQUFBLEtBR0EsR0FLQSxFQUFBLEVBQUEsTUFDQSxHQTNvREEsR0FBQSxHQUFBLEVBQUEsU0FBQSxTQUFBLEdBQ0EsYUFBQSxJQUNBLElBQUEsWUFDQSxLQUFBLFFBQUEsRUFBQSxTQUFBLE1BQ0EsTUFDQSxLQUFBLFNBQ0EsS0FBQSxRQUFBLENBQ0EsTUFDQSxTQUNBLEtBQUEsSUFBQSxHQUFBLFVBSUEsS0FBQSxJQUFBLE9BQUEsNkJBQUEsT0FBQSxHQUFBLElBSEEsTUFBQSxRQUFBLEVBQUEsU0FBQSxHQU9BLEtBQUEsWUFDQSxLQUFBLGdCQUNBLEtBQUEsYUFBQSxHQVVBLEdBQUEsTUFBQSxTQUFBLEVBQUEsR0FFQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEVBQ0EsT0FBQSxHQUFBLE9BQUEsSUFZQSxFQUFBLE9BQUEsU0FBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxXQUFBLEVBQUEsRUFBQSxFQUVBLE9BQUEsR0FBQSxhQUFBLElBY0EsRUFBQSxXQUFBLFNBQUEsRUFBQSxFQUFBLEdBRUEsZ0JBQUEsS0FBQSxFQUFBLEtBQUEsTUFBQSxFQUFBLEdBS0EsSUFBQSxHQUFBLEVBQUEsR0FDQSxJQUVBLElBQUEsRUFBQSxhQUNBLEVBQUEsRUFBQSxXQUdBLElBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxFQUVBLE9BREEsR0FBQSxHQUNBLEVBMkJBLElBQUEsR0FBQSxFQUFBLFNBQUEsU0FBQSxFQUFBLEVBQUEsR0FFQSxHQUFBLFVBQUEsU0FBQSxFQUFBLE9BRUEsSUFBQSxHQUFBLEdBQUEsUUFBQSxFQVNBLE9BUkEsR0FBQSxTQUFBLEVBRUEsRUFBQSxRQUFBLEVBQ0EsRUFBQSxTQUFBLEVBRUEsUUFBQSxJQUNBLEVBQUEsV0FBQSxHQUVBLEVBVUEsR0FBQSxVQUFBLGFBQUEsU0FBQSxHQUNBLEVBQUEsRUFBQSxRQUFBLGdCQUFBLEtBR0EsSUFFQSxHQUZBLEVBQUEsb0NBQ0EsS0FHQSxFQUFBLENBUUEsS0FOQSxPQUFBLEVBQUEsV0FBQSxLQUFBLE1BRUEsR0FBQSxFQUFBLEVBQUEsSUFDQSxFQUFBLFVBQUEsRUFBQSxHQUFBLFFBR0EsUUFBQSxFQUFBLEVBQUEsS0FBQSxLQUNBLE9BQUEsRUFBQSxLQUNBLEVBQUEsR0FBQSxLQUNBLEVBQUEsYUFFQSxFQUFBLEtBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxHQUFBLElBQ0EsR0FBQSxFQUFBLEVBQUEsR0FHQSxPQUFBLElBd0JBLEVBQUEsVUFBQSxhQUFBLFNBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxLQUFBLFFBQUEsTUFDQSxFQUFBLEVBQUEsU0FFQSxJQUFBLFlBQUEsR0FDQSxNQUFBLEdBQUEsU0FBQSxLQUFBLEtBQUEsRUFBQSxFQUdBLEtBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLE9BQUEsSUFBQSxDQUVBLEdBQUEsR0FBQSxFQUFBLEVBQUEsSUFBQSxLQUFBLEtBQUEsRUFBQSxFQUNBLElBQUEsRUFLQSxRQUhBLEVBQUEsSUFBQSxFQUFBLE9BQUEsSUFBQSxFQUFBLEVBQUEsTUFDQSxLQUFBLE1BQUEsRUFBQSxHQUFBLGdDQUVBLEVBS0EsVUFHQSxFQUFBLFVBQUEsY0FBQSxTQUFBLEdBQ0EsTUFBQSxNQUFBLFFBQUEsT0FBQSxTQUFBLEtBQUEsS0FBQSxPQUFBLEtBVUEsRUFBQSxVQUFBLE9BQUEsU0FBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLFlBQUEsT0FBQSxFQUFBLEtBQUEsYUFBQSxHQUdBLEVBQUEsS0FBQSxJQUNBLEtBSUEsSUFIQSxLQUFBLEtBQUEsR0FBQSxLQUFBLE9BQUEsWUFHQSxFQUFBLFFBQUEsQ0FDQSxHQUFBLEdBQUEsS0FBQSxhQUFBLEVBQUEsUUFBQSxFQUdBLEdBQUEsUUFFQSxLQUFBLEtBQUEsS0FBQSxNQUFBLEtBQUEsS0FBQSxHQUVBLE1BQUEsTUFBQSxLQUVBLFFBQ0EsSUFDQSxLQUFBLEtBQUEsS0FNQSxFQUFBLFVBQUEsTUFBQSxXQUNBLEdBQUEsR0FBQSxNQUFBLFVBQUEsTUFBQSxLQUFBLFVBQ0EsR0FBQSxRQUFBLEtBQUEsY0FDQSxtQkFBQSxRQUNBLE1BQUEsTUFBQSxNQUFBLEdBQ0EsbUJBQUEsVUFBQSxtQkFBQSxTQUFBLEtBQ0EsUUFBQSxJQUFBLE1BQUEsS0FBQSxJQUdBLEVBQUEsVUFBQSxtQkFBQSxTQUFBLEVBQUEsRUFBQSxHQUtBLElBSEEsR0FBQSxHQUNBLEVBQUEsRUFBQSxVQUVBLEVBQUEsUUFBQSxPQUFBLEVBQUEsRUFBQSxLQUFBLEtBQ0EsRUFBQSxFQUFBLE9BQUEsRUFBQSxHQUFBLFFBQ0EsRUFBQSxLQUFBLEtBQUEsRUFFQSxPQUFBLElBUUEsRUFBQSxZQVVBLEVBQUEsU0FBQSxRQUNBLE9BQ0EsVUFBQSxTQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxNQUFBLG9DQUVBLEtBQUEsRUFBQSxNQUFBLE9BRUEsSUFBQSxJQUFBLFVBQUEsTUFBQSxFQUFBLEdBQUEsUUFNQSxPQUxBLE9BQUEsVUFBQSxLQUFBLE1BQUEsRUFBQSxLQUFBLGNBQUEsRUFBQSxLQUVBLEVBQUEsR0FBQSxPQUFBLEVBQUEsUUFDQSxFQUFBLFFBQUEsRUFBQSxFQUFBLE9BQUEsRUFBQSxHQUFBLFFBQUEsRUFBQSxTQUFBLEVBQUEsV0FBQSxLQUVBLElBR0EsYUFBQSxTQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxNQUFBLDZCQUVBLEtBQUEsRUFBQSxNQUFBLE9BRUEsSUFBQSxHQUFBLE1BQUEsRUFBQSxHQUFBLEVBQUEsRUFDQSxHQUFBLFVBQUEsTUFBQSxHQUFBLEVBQUEsR0FLQSxPQUhBLEdBQUEsR0FBQSxPQUFBLEVBQUEsUUFDQSxFQUFBLFFBQUEsRUFBQSxFQUFBLE9BQUEsRUFBQSxHQUFBLFFBQUEsRUFBQSxTQUFBLEVBQUEsV0FBQSxLQUVBLElBR0EsS0FBQSxTQUFBLEVBQUEsR0FPQSxHQUFBLE1BQ0EsRUFBQSwyQkFJQSxLQUFBLEVBQUEsTUFBQSxHQUFBLE1BQUEsT0FFQSxHQUNBLE9BQUEsQ0FFQSxHQUFBLEdBQUEsS0FBQSxtQkFDQSxFQUFBLEVBQUEsVUFBQSxTQUFBLEdBQUEsRUFBQSxLQUFBLEVBQUEsS0FFQSxJQUFBLEVBQUEsT0FBQSxDQUVBLEVBQUEsUUFBQSxFQUFBLEVBQUEsRUFBQSxVQUNBLE1BQUEsR0FFQSxJQUFBLEVBQUEsT0FVQSxLQUFBLEVBUkEsS0FBQSxFQUFBLEdBQUEsTUFBQSxHQUFBLEtBQUEsRUFHQSxHQUFBLEtBQUEsRUFBQSxTQUFBLFFBQUEsU0FBQSxJQUFBLFVBQUEsSUFFQSxFQUFBLEVBQUEsUUFPQSxRQUFBLGFBQUEsRUFBQSxLQUFBLFNBR0EsVUFBQSxTQUFBLEVBQUEsR0FFQSxHQUFBLEdBQUEsRUFBQSxNQUFBLHlFQUVBLEtBQUEsRUFDQSxNQUFBLE9BR0EsSUFBQSxLQUFBLE1BWUEsT0FUQSxHQUFBLElBQ0EsRUFBQSxRQUFBLE1BQUEsRUFBQSxLQUFBLGFBQUEsRUFBQSxRQUlBLEVBQUEsSUFDQSxFQUFBLFFBQUEsRUFBQSxFQUFBLEtBR0EsR0FvQkEsTUFBQSxXQVdBLFFBQUEsR0FBQSxHQUVBLE1BQUEsSUFBQSxRQUVBLFFBQUEsRUFBQSxNQUFBLEVBQUEsWUFBQSxFQUFBLFlBRUEsRUFBQSxPQUFBLEVBQUEsR0FBQSxjQUdBLFFBQUEsR0FBQSxHQUNBLE1BQUEsR0FBQSxRQUFBLFlBQUEsUUFLQSxRQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEVBRUEsV0FEQSxHQUFBLE1BQUEsUUFBQSxPQUFBLEdBSUEsSUFBQSxHQUFBLEVBQUEsRUFBQSxPQUFBLFlBQUEsUUFBQSxRQUFBLEVBQUEsRUFBQSxPQUFBLEdBQUEsR0FDQSxFQUFBLEVBQUEsT0FBQSxHQUNBLENBR0EsSUFBQSxFQUFBLE9BQUEsR0FBQSxFQUFBLFFBQUEsRUFFQSxLQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLElBQUEsQ0FDQSxHQUFBLEdBQUEsRUFBQSxHQUNBLEVBQUEsZ0JBQUEsRUFDQSxJQUFBLEVBQUEsT0FBQSxHQUFBLGdCQUFBLEdBQUEsRUFBQSxPQUFBLEdBQ0EsRUFBQSxFQUFBLE9BQUEsSUFBQSxFQUdBLEVBQUEsS0FBQSxJQU9BLFFBQUEsR0FBQSxFQUFBLEdBTUEsSUFKQSxHQUFBLEdBQUEsR0FBQSxRQUFBLEtBQUEsRUFBQSxJQUFBLEVBQUEsZUFDQSxFQUFBLEdBQUEsUUFBQSxJQUFBLEVBQUEsSUFBQSxFQUFBLElBQUEsTUFDQSxLQUVBLEVBQUEsT0FBQSxHQUNBLEVBQUEsS0FBQSxFQUFBLEtBREEsQ0FFQSxHQUFBLEdBQUEsRUFBQSxRQUVBLEVBQUEsRUFBQSxRQUFBLEVBQUEsR0FFQSxHQUFBLEtBQUEsRUFBQSxFQUFBLEVBQUEsU0FBQSxFQUFBLGFBTUEsTUFBQSxHQUlBLFFBQUEsR0FBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxLQUNBLEVBQUEsRUFBQSxFQUFBLE9BQUEsRUFFQSxNQUFBLEVBQUEsWUFBQSxRQUFBLFFBQUEsRUFBQSxHQUFBLElBR0EsR0FBQSxFQUFBLEdBQUEsRUFBQSxPQUdBLEVBQUEsTUFBQSxRQUFBLE9BQUEsRUFBQSxPQUFBLEVBQUEsRUFBQSxPQUFBLFNBRUEsQ0FDQSxHQUFBLEdBQUEsRUFBQSxLQUNBLEdBQUEsTUFBQSxRQUFBLE9BQUEsRUFBQSxPQUFBLEVBQUEsRUFBQSxPQUFBLElBQUEsSUF2RkEsR0FBQSxHQUFBLGdCQUNBLEVBQUEsUUFHQSxFQUFBLEdBQUEsUUFBQSxhQUFBLEVBQUEsVUFDQSxFQUFBLG9CQXVGQSxPQUFBLFVBQUEsRUFBQSxHQUlBLFFBQUEsR0FBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLEtBQUEsRUFBQSxLQUNBLGVBQ0EsYUFHQSxPQURBLEdBQUEsTUFBQSxLQUFBLEVBQUEsT0FBQSxFQUFBLEtBQ0EsRUFUQSxHQUFBLEdBQUEsRUFBQSxNQUFBLEVBQ0EsS0FBQSxFQUFBLE1BQUEsT0FxQkEsS0FUQSxHQUVBLEdBR0EsRUFMQSxLQUNBLEVBQUEsRUFBQSxHQUVBLEdBQUEsRUFDQSxHQUFBLEVBQUEsR0FBQSxRQUtBLENBVUEsSUFBQSxHQVJBLEdBQUEsRUFBQSxNQUFBLFVBSUEsRUFBQSxHQUlBLEVBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxJQUFBLENBQ0EsR0FBQSxHQUFBLEdBQ0EsRUFBQSxFQUFBLEdBQUEsUUFBQSxNQUFBLFNBQUEsR0FBQSxNQUFBLEdBQUEsRUFBQSxLQUdBLEVBQUEsRUFBQSxFQUFBLE9BTUEsSUFKQSxFQUFBLEVBQUEsTUFBQSxHQUlBLFNBQUEsRUFBQSxHQUFBLENBRUEsRUFBQSxTQUNBLEVBQUEsRUFBQSxFQUFBLEtBQUEsY0FBQSxHQUFBLEdBRUEsR0FBQSxFQUNBLEVBQUEsSUFHQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEdBQ0EsSUFBQSxHQUFBLEtBQUEsTUFBQSxFQUFBLEdBQUEsT0FBQSxHQUFBLENBRUEsSUFBQSxFQUFBLEVBQUEsT0FHQSxFQUFBLEVBQUEsR0FDQSxFQUFBLEtBQUEsR0FDQSxFQUFBLEVBQUEsSUFBQSxnQkFFQSxDQUtBLEdBQUEsSUFBQSxDQUNBLEtBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLElBQ0EsR0FBQSxFQUFBLEdBQUEsUUFBQSxFQUFBLEdBQUEsQ0FDQSxFQUFBLEVBQUEsR0FBQSxLQUNBLEVBQUEsT0FBQSxFQUFBLEVBQUEsRUFBQSxRQUFBLEVBQUEsSUFDQSxHQUFBLENBQ0EsT0FHQSxJQUVBLElBQ0EsR0FBQSxFQUFBLFFBQ0EsRUFBQSxPQUFBLEVBQUEsRUFBQSxPQUFBLEdBRUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxPQUtBLEVBQUEsRUFBQSxHQUNBLEVBQUEsS0FBQSxLQUtBLEdBQUEsWUFDQSxFQUFBLEtBQUEsR0FFQSxFQUFBLEdBSUEsRUFBQSxPQUFBLEVBQUEsR0FBQSxTQUNBLEdBQUEsRUFBQSxFQUFBLE9BQUEsRUFBQSxHQUFBLFNBSUEsRUFBQSxTQUNBLEVBQUEsRUFBQSxFQUFBLEtBQUEsY0FBQSxHQUFBLEdBRUEsR0FBQSxFQUNBLEVBQUEsR0FLQSxJQUFBLEdBQUEsRUFBQSxFQUFBLE9BQUEsRUFHQSxHQUFBLE9BQUEsSUFFQSxFQUFBLEVBQUEsRUFBQSxNQUVBLEVBQUEsS0FBQSxNQUFBLEVBQUEsS0FBQSxPQUFBLE9BR0EsSUFBQSxHQUFBLEVBQUEsSUFBQSxFQUFBLEdBQUEsV0FBQSxFQUVBLEtBQUEsRUFBQSxNQUFBLEtBQUEsRUFBQSxNQUFBLE1BaUJBLEtBaEJBLEdBQUEsRUFBQSxPQUdBLElBQUEsR0FBQSxLQUFBLFFBQUEsTUFBQSxVQUFBLEVBQUEsRUFFQSxJQUFBLEVBQUEsQ0FDQSxFQUFBLEtBQUEsTUFBQSxFQUFBLEVBQ0EsT0FJQSxFQUFBLEVBQUEsRUFBQSxNQUVBLEdBQUEsRUFNQSxNQUFBLE9BSUEsV0FBQSxTQUFBLEVBQUEsR0FDQSxJQUFBLEVBQUEsTUFBQSxPQUNBLE1BQUEsT0FFQSxJQUFBLEtBT0EsSUFBQSxLQUFBLEVBQUEsR0FBQSxDQU1BLElBTEEsR0FBQSxHQUFBLEVBQUEsTUFBQSxNQUNBLEtBQ0EsRUFBQSxFQUFBLFdBR0EsRUFBQSxRQUFBLEtBQUEsRUFBQSxHQUFBLElBQ0EsRUFBQSxLQUFBLEVBQUEsU0FDQSxHQUdBLElBQUEsR0FBQSxFQUFBLEVBQUEsS0FBQSxNQUFBLEtBQUEsRUFBQSxXQUNBLEdBQUEsS0FBQSxNQUFBLEVBQUEsS0FBQSxhQUFBLE9BRUEsRUFBQSxFQUFBLEVBQUEsS0FBQSxNQUFBLEVBQUEsU0FBQSxHQUtBLEtBQUEsRUFBQSxRQUFBLEtBQUEsRUFBQSxHQUFBLElBQUEsQ0FDQSxHQUFBLEdBQUEsRUFBQSxPQUNBLEdBQUEsRUFBQSxFQUFBLEVBQUEsU0FBQSxFQUFBLEVBQUEsU0FBQSxFQUFBLFlBSUEsR0FBQSxHQUFBLEVBQUEsUUFBQSxTQUFBLElBRUEsR0FEQSxLQUFBLEtBQ0EsS0FBQSxPQUFBLEdBQUEsZ0JBQ0EsRUFBQSxFQUFBLEVBWUEsT0FUQSxJQUFBLEVBQUEsbUJBQ0EsR0FBQSxXQUVBLEVBQUEsSUFDQSxFQUFBLE9BQUEsRUFBQSxJQUlBLEVBQUEsS0FBQSxHQUNBLEdBR0EsY0FBQSxTQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsOERBR0EsS0FBQSxFQUFBLE1BQUEsR0FDQSxNQUFBLE9BR0EsR0FBQSxLQUFBLE9BQ0EsS0FBQSxLQUFBLE9BQUEsRUFBQSxLQUdBLElBQUEsR0FBQSxFQUFBLEtBQUEsS0FHQSxVQUFBLEVBQUEsYUFDQSxFQUFBLGNBR0EsSUFBQSxHQUFBLEtBQUEsbUJBQUEsRUFBQSxFQUFBLFNBQUEsR0FFQSxFQUFBLElBQUEsS0FBQSxFQUFBLEdBQUEsSUFBQSxLQUFBLEVBQUEsR0FBQSxFQUFBLEdBQUEsT0FBQSxLQUNBLEVBQUEsR0FBQSxFQUFBLEdBQUEsVUFBQSxFQUFBLEVBQUEsR0FBQSxPQUFBLEdBRUEsSUFBQSxHQUFBLEVBQUEsV0FBQSxFQUFBLEdBQUEsZ0JBQ0EsS0FBQSxFQUFBLEdBR0EsVUFBQSxFQUFBLEdBQ0EsRUFBQSxNQUFBLEVBQUEsR0FDQSxTQUFBLEVBQUEsS0FDQSxFQUFBLE1BQUEsRUFBQSxLQU9BLE9BSEEsR0FBQSxRQUNBLEVBQUEsUUFBQSxFQUFBLEVBQUEsRUFBQSxlQUtBLEtBQUEsU0FBQSxHQUVBLFFBQUEsUUFBQSxPQUFBLEtBQUEsY0FBQSxRQUtBLEVBQUEsU0FBQSxPQUFBLFFBRUEsZUFBQSxTQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsR0FDQSxDQUdBLEdBQUEsR0FBQSxLQUFBLFFBQUEsT0FBQSxZQUNBLElBQUEsR0FBQSxHQUFBLFFBQUEsaUJBQUEsRUFBQSxRQUFBLEdBQUEsSUFHQSxJQURBLEVBQUEsRUFBQSxLQUFBLElBQ0EsRUFFQSxPQUFBLEVBQUEsT0FBQSxFQUVBLElBQUEsRUFBQSxHQUVBLE9BQUEsRUFBQSxHQUFBLE9BQUEsRUFBQSxHQUdBLElBQUEsRUFRQSxPQVBBLEdBQUEsSUFBQSxNQUFBLFFBQUEsU0FDQSxFQUFBLEtBQUEsUUFBQSxPQUFBLEVBQUEsSUFBQSxLQUNBLEtBQ0EsRUFBQSxPQUFBLEVBQUEsT0FBQSxFQUFBLFFBR0EsRUFBQSxJQUFBLEVBQUEsR0FBQSxPQUFBLEVBQUEsS0FJQSxTQUFBLFNBQUEsRUFBQSxHQUtBLFFBQUEsR0FBQSxHQUVBLGdCQUFBLElBQUEsZ0JBQUEsR0FBQSxFQUFBLE9BQUEsR0FDQSxFQUFBLEVBQUEsT0FBQSxJQUFBLEVBRUEsRUFBQSxLQUFBLEdBR0EsSUFYQSxHQUNBLEdBREEsS0FXQSxFQUFBLE9BQUEsR0FDQSxFQUFBLEtBQUEsUUFBQSxPQUFBLGVBQUEsS0FBQSxLQUFBLEVBQUEsRUFBQSxHQUNBLEVBQUEsRUFBQSxPQUFBLEVBQUEsU0FDQSxFQUFBLEVBQUEsRUFHQSxPQUFBLElBS0EsSUFBQSxhQUNBLElBQUEsYUFFQSxXQUFBLDZCQUVBLEtBQUEsU0FBQSxHQUdBLE1BQUEsTUFBQSxRQUFBLE9BQUEsV0FBQSxLQUFBLElBQ0EsRUFBQSxFQUFBLE9BQUEsS0FHQSxFQUFBLE9BR0EsS0FBQSxTQUFBLEdBT0EsR0FBQSxHQUFBLEVBQUEsTUFBQSxxRUFFQSxJQUFBLEVBQUEsQ0FDQSxFQUFBLElBQUEsS0FBQSxFQUFBLEdBQUEsSUFBQSxLQUFBLEVBQUEsR0FBQSxFQUFBLEdBQUEsT0FBQSxLQUNBLEVBQUEsR0FBQSxFQUFBLEdBQUEsVUFBQSxFQUFBLEVBQUEsR0FBQSxPQUFBLElBRUEsRUFBQSxHQUFBLEtBQUEsUUFBQSxPQUFBLFNBQUEsS0FBQSxLQUFBLEVBQUEsR0FBQSxNQUFBLEVBRUEsSUFBQSxJQUFBLElBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxJQUFBLEdBSUEsT0FIQSxVQUFBLEVBQUEsS0FDQSxFQUFBLE1BQUEsRUFBQSxLQUVBLEVBQUEsR0FBQSxRQUFBLE1BQUEsSUFNQSxNQUZBLEdBQUEsRUFBQSxNQUFBLDhCQUVBLEdBR0EsRUFBQSxHQUFBLFFBQUEsV0FBQSxJQUFBLEVBQUEsR0FBQSxJQUFBLEVBQUEsR0FBQSxjQUFBLFNBQUEsRUFBQSxPQUlBLEVBQUEsT0FHQSxJQUFBLFFBQUEsR0FBQSxHQUVBLEdBQUEsR0FBQSxPQUFBLEdBRUEsRUFBQSxFQUFBLGVBQUEsa0JBQUEsS0FBQSxLQUFBLEVBQUEsT0FBQSxHQUFBLElBR0EsS0FBQSxFQUFBLE9BQUEsRUFBQSxJQUVBLElBRUEsR0FDQSxFQUhBLEVBQUEsRUFBQSxFQUFBLEdBQ0EsRUFBQSxFQUFBLEVBTUEsR0FBQSxFQUFBLE9BQUEsRUFRQSxJQUFBLEdBQUEsRUFBQSxNQUFBLHVEQUNBLElBQUEsRUFBQSxDQUNBLEdBQUEsR0FBQSxFQUFBLEVBT0EsSUFOQSxHQUFBLEVBQUEsR0FBQSxPQUVBLEdBQUEsS0FBQSxFQUFBLElBQUEsS0FBQSxFQUFBLEVBQUEsT0FBQSxLQUNBLEVBQUEsRUFBQSxVQUFBLEVBQUEsRUFBQSxPQUFBLEtBR0EsRUFBQSxHQUVBLElBQUEsR0FEQSxHQUFBLEVBQ0EsRUFBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLElBQ0EsT0FBQSxFQUFBLElBQ0EsSUFBQSxJQUNBLEdBQ0EsTUFDQSxLQUFBLElBQ0EsS0FBQSxJQUNBLEdBQUEsRUFBQSxPQUFBLEVBQ0EsRUFBQSxFQUFBLFVBQUEsRUFBQSxJQWVBLE1BUEEsR0FBQSxLQUFBLFFBQUEsT0FBQSxTQUFBLEtBQUEsS0FBQSxFQUFBLE1BQUEsR0FFQSxHQUFBLEtBQUEsR0FBQSxJQUNBLFNBQUEsRUFBQSxLQUNBLEVBQUEsTUFBQSxFQUFBLElBRUEsR0FBQSxPQUFBLEdBQUEsT0FBQSxJQUNBLEVBQUEsR0FPQSxNQUZBLEdBQUEsRUFBQSxNQUFBLGlCQUVBLEdBRUEsR0FBQSxFQUFBLEdBQUEsT0FHQSxHQUFBLEtBQUEsRUFBQSxJQUFBLE9BQUEsSUFBQSxjQUFBLFNBQUEsRUFBQSxPQUFBLEVBQUEsSUFFQSxHQUFBLFdBQUEsR0FBQSxPQUFBLElBS0EsRUFBQSxJQUtBLEdBQUEsRUFBQSxRQUFBLGdCQUFBLEdBQUEsSUFFQSxHQUFBLElBQUEsRUFBQSxHQUFBLGNBQUEsU0FBQSxFQUFBLE9BQUEsRUFBQSxJQUNBLEdBQUEsV0FBQSxFQUFBLEVBQUEsS0FDQSxFQUFBLEtBSUEsRUFBQSxNQUlBLElBQUEsU0FBQSxHQUNBLEdBQUEsRUFFQSxPQUFBLFFBQUEsRUFBQSxFQUFBLE1BQUEsNERBQ0EsRUFBQSxJQUNBLEVBQUEsR0FBQSxRQUFBLFFBQUEsS0FBQSxVQUFBLEVBQUEsSUFBQSxFQUFBLEtBR0EsVUFBQSxFQUFBLElBQ0EsRUFBQSxHQUFBLFFBQUEsUUFBQSxLQUFBLEVBQUEsSUFBQSxFQUFBLEdBQUEsT0FBQSxVQUFBLFdBR0EsRUFBQSxHQUFBLFFBQUEsUUFBQSxLQUFBLEVBQUEsSUFBQSxFQUFBLE1BR0EsRUFBQSxNQUdBLElBQUEsU0FBQSxHQUdBLEdBQUEsR0FBQSxFQUFBLE1BQUEscUJBRUEsT0FBQSxJQUFBLEVBQUEsSUFDQSxFQUFBLEdBQUEsT0FBQSxFQUFBLEdBQUEsUUFBQSxhQUFBLEVBQUEsTUFHQSxFQUFBLE1BSUEsT0FBQSxXQUNBLE9BQUEsR0FBQSxnQkE4REEsRUFBQSxTQUFBLE9BQUEsT0FBQSxNQUFBLEVBQUEsU0FBQSxNQUNBLEVBQUEsU0FBQSxPQUFBLE9BQUEsR0FBQSxFQUFBLFNBQUEsTUFDQSxFQUFBLFNBQUEsT0FBQSxPQUFBLEtBQUEsRUFBQSxLQUFBLEtBQ0EsRUFBQSxTQUFBLE9BQUEsT0FBQSxFQUFBLEVBQUEsS0FBQSxLQUlBLEVBQUEsZ0JBQUEsU0FBQSxHQUNBLEdBQUEsS0FDQSxLQUFBLEdBQUEsS0FBQSxHQUNBLGFBQUEsR0FBQSxZQUFBLEdBQ0EsRUFBQSxLQUFBLEVBRUEsR0FBQSxVQUFBLEdBSUEsRUFBQSxvQkFBQSxTQUFBLEdBQ0EsR0FBQSxLQUVBLEtBQUEsR0FBQSxLQUFBLEdBRUEsSUFBQSxFQUFBLE1BQUEsWUFBQSxDQUNBLEdBQUEsR0FBQSxFQUFBLFFBQUEsdUJBQUEsUUFDQSxRQUFBLEtBQUEsTUFDQSxHQUFBLEtBQUEsR0FBQSxFQUFBLE9BQUEsRUFBQSxNQUFBLEVBQUEsS0FHQSxFQUFBLEVBQUEsS0FBQSxLQUNBLEVBQUEsYUFBQSxDQUdBLElBQUEsR0FBQSxFQUFBLFFBQ0EsR0FBQSxTQUFBLFNBQUEsRUFBQSxHQUNBLE1BQUEsU0FBQSxFQUNBLEVBQUEsS0FBQSxLQUFBLEVBQUEsR0FJQSxFQUFBLEtBQUEsS0FBQSxFQUFBLEtBS0EsRUFBQSxrQkFDQSxFQUFBLGVBQUEsa0JBQUEsU0FBQSxFQUFBLEdBSUEsSUFIQSxHQUFBLEdBQUEsRUFDQSxPQUVBLENBQ0EsR0FBQSxFQUFBLE9BQUEsSUFBQSxFQUdBLE1BREEsTUFDQSxFQUFBLEVBR0EsSUFBQSxHQUFBLEVBQUEsT0FFQSxNQUFBLEtBR0EsSUFBQSxHQUFBLEtBQUEsUUFBQSxPQUFBLGVBQUEsS0FBQSxLQUFBLEVBQUEsT0FBQSxHQUNBLElBQUEsRUFBQSxHQUVBLEVBQUEsS0FBQSxNQUFBLEVBQUEsRUFBQSxNQUFBLE1BS0EsRUFBQSxnQkFBQSxTQUFBLEdBQ0EsUUFBQSxNQUVBLFFBQUEsTUFHQSxNQUpBLEdBQUEsVUFBQSxFQUFBLE1BRUEsRUFBQSxVQUFBLEVBQUEsUUFFQSxNQUFBLEdBQUEsR0FBQSxPQUFBLEdBQUEsS0FHQSxFQUFBLGdCQUFBLEVBQUEsU0FBQSxPQUFBLE9BQ0EsRUFBQSxvQkFBQSxFQUFBLFNBQUEsT0FBQSxRQUVBLEVBQUEsU0FBQSxPQUFBLEVBQUEsZ0JBQUEsRUFBQSxTQUFBLFFBRUEsRUFBQSxTQUFBLE9BQUEsZ0JBQUEsU0FBQSxHQUlBLElBQUEsR0FIQSxHQUFBLEVBQUEsR0FDQSxLQUVBLEVBQUEsRUFBQSxFQUFBLEVBQUEsU0FBQSxFQUVBLEdBQUEsS0FBQSxLQUFBLEVBQUEsSUFDQSxFQUFBLEdBQUEsRUFBQSxHQUFBLFVBQUEsT0FHQSxJQUFBLE1BQUEsS0FBQSxFQUFBLElBR0EsRUFBQSxTQURBLEVBQUEsU0FDQSxFQUFBLFNBQUEsRUFBQSxHQUFBLFFBQUEsSUFBQSxLQUdBLEVBQUEsR0FBQSxVQUFBLE9BSUEsSUFBQSxLQUFBLEtBQUEsRUFBQSxJQUFBLENBQ0EsR0FBQSxHQUFBLEVBQUEsR0FBQSxNQUFBLEtBQ0EsR0FBQSxFQUFBLElBQUEsRUFBQSxHQUlBLE1BQUEsSUF1Q0EsRUFBQSxTQUFBLE9BQUEsTUFBQSxjQUFBLFNBQUEsR0FFQSxHQUFBLEVBQUEsV0FBQSxFQUFBLE1BQUEsT0FHQSxLQUFBLEVBQUEsTUFBQSx5QkFBQSxNQUFBLE9BR0EsR0FBQSxLQUFBLE9BQ0EsS0FBQSxLQUFBLE9BQUEsRUFBQSxLQUdBLElBQUEsR0FBQSxFQUFBLE1BQUEsS0FDQSxLQUFBLElBQUEsR0FBQSxDQUNBLEdBQUEsR0FBQSxFQUFBLEdBQUEsTUFBQSxrQkFDQSxFQUFBLEVBQUEsR0FBQSxjQUNBLEVBQUEsRUFBQSxFQUVBLE1BQUEsS0FBQSxHQUFBLEdBQUEsRUFJQSxVQUdBLEVBQUEsU0FBQSxPQUFBLE1BQUEsV0FBQSxTQUFBLEdBRUEsR0FBQSxHQUFBLEVBQUEsTUFBQSw0Q0FDQSxLQUFBLEVBQUEsTUFBQSxPQUdBLElBRUEsR0FGQSxFQUFBLEtBQUEsUUFBQSxnQkFBQSxFQUFBLEdBS0EsSUFBQSxLQUFBLEVBQUEsR0FBQSxDQUNBLEdBQUEsR0FBQSxLQUFBLEtBQUEsS0FBQSxLQUFBLE9BQUEsRUFJQSxJQUhBLEVBQUEsRUFBQSxHQUdBLGdCQUFBLEdBQUEsTUFBQSxPQUdBLEtBQ0EsS0FDQSxFQUFBLE9BQUEsRUFBQSxFQUFBLEdBSUEsS0FBQSxJQUFBLEdBQ0EsRUFBQSxHQUFBLEVBQUEsRUFJQSxVQUlBLEdBQUEsR0FBQSxFQUFBLFFBQUEsUUFBQSxJQUNBLEVBQUEsS0FBQSxhQUFBLEtBR0EsR0FBQSxFQUFBLEVBQUEsSUFDQSxJQUNBLEtBQ0EsRUFBQSxHQUFBLE9BQUEsRUFBQSxFQUFBLEdBSUEsS0FBQSxJQUFBLEdBQ0EsRUFBQSxHQUFBLEVBQUEsRUFHQSxPQUFBLElBR0EsRUFBQSxTQUFBLE9BQUEsTUFBQSxnQkFBQSxTQUFBLEVBQUEsR0FFQSxHQUVBLEdBQUEsRUFGQSxFQUFBLG1DQUNBLEdBQUEsS0FJQSxNQUFBLEVBQUEsRUFBQSxNQUFBLElBeUJBLE1BQUEsT0F0QkEsS0FEQSxHQUFBLElBQUEsR0FDQSxFQUFBLFFBQUEsRUFBQSxLQUFBLEVBQUEsS0FDQSxFQUFBLEtBQUEsRUFBQSxRQUdBLEtBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLFNBQUEsRUFBQSxDQUNBLEdBQUEsR0FBQSxFQUFBLEdBQUEsTUFBQSxHQUNBLEVBQUEsRUFBQSxHQUFBLFFBQUEsTUFBQSxJQUFBLE1BQUEsTUFDQSxFQUFBLEVBQUEsR0FBQSxNQUFBLFNBSUEsS0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLFNBQUEsRUFDQSxFQUFBLE1BQUEsS0FBQSxFQUFBLElBR0EsS0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLFNBQUEsRUFFQSxFQUFBLE1BQUEsTUFBQSxPQUFBLEtBQUEsY0FBQSxFQUFBLEdBQUEsUUFBQSxVQUFBLFNBUUEsT0FBQSxJQU1BLEVBQUEsU0FBQSxPQUFBLE1BQUEsTUFBQSxRQUFBLEdBQUEsR0FFQSxHQWlCQSxHQUFBLEVBakJBLEVBQUEsU0FBQSxFQUFBLEdBQ0EsRUFBQSxHQUFBLE1BQ0EsRUFBQSxNQUFBLHlCQUFBLEVBQUEsS0FBQSxFQUlBLEtBSEEsR0FFQSxHQUZBLEtBQ0EsRUFBQSxHQUFBLFFBQUEsb0JBQUEsRUFBQSxPQUFBLEVBQUEsUUFFQSxFQUFBLEVBQUEsTUFBQSxJQUNBLEVBQUEsS0FBQSxFQUFBLElBQ0EsRUFBQSxFQUFBLEVBR0EsT0FEQSxHQUFBLEtBQUEsR0FDQSxHQUdBLEVBQUEsNkVBRUEsRUFBQSx5R0FFQSxJQUFBLEVBQUEsRUFBQSxNQUFBLEdBR0EsRUFBQSxHQUFBLEVBQUEsR0FBQSxRQUFBLFdBQUEsUUFDQSxNQUFBLEVBQUEsRUFBQSxNQUFBLElBQ0EsTUFBQSxPQUdBLElBQUEsSUFBQSxTQUFBLFNBQUEsUUFBQSxTQUlBLEdBQUEsR0FBQSxFQUFBLEdBQUEsUUFBQSxTQUFBLElBQUEsTUFBQSxJQUdBLElBQUEsS0FVQSxLQVRBLEVBQUEsRUFBQSxHQUFBLFNBQUEsR0FDQSxFQUFBLEtBQUEsRUFBQSxNQUFBLGdCQUFBLE1BQUEsU0FDQSxFQUFBLE1BQUEsZ0JBQUEsTUFBQSxRQUNBLEVBQUEsTUFBQSxpQkFBQSxNQUFBLGdCQUtBLEVBQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxRQUFBLFNBQUEsSUFBQSxLQUNBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxPQUFBLElBQ0EsRUFBQSxHQUFBLEdBQUEsTUFBQSxLQUFBLEVBQUEsUUFBQSxPQUNBLEtBQUEsY0FBQSxFQUFBLEdBQUEsR0FBQSxTQWFBLE9BVEEsR0FBQSxFQUFBLEdBQUEsUUFBQSxXQUFBLElBQUEsTUFBQSxNQUFBLFNBQUEsR0FDQSxHQUFBLElBQUEsS0FFQSxLQURBLEVBQUEsRUFBQSxFQUFBLEtBQ0EsRUFBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLElBQ0EsRUFBQSxNQUFBLEtBQUEsRUFBQSxRQUFBLE9BQUEsS0FBQSxjQUFBLEVBQUEsR0FBQSxTQUVBLEdBQUEsR0FBQSxLQUFBLElBQ0EsT0FFQSxJQUdBLEVBQUEsU0FBQSxPQUFBLE9BQUEsTUFBQSxTQUFBLEVBQUEsRUFBQSxHQUNBLElBQUEsRUFBQSxPQUNBLE9BQUEsRUFBQSxLQUlBLElBQUEsR0FBQSxFQUFBLEVBQUEsT0FBQSxFQUVBLElBQUEsZ0JBQUEsR0FDQSxPQUFBLEVBQUEsS0FJQSxJQUFBLEdBQUEsRUFBQSxNQUFBLGdDQUdBLEtBQUEsRUFDQSxPQUFBLEVBQUEsS0FJQSxJQUFBLEdBQUEsS0FBQSxRQUFBLGdCQUFBLEVBQUEsSUFDQSxFQUFBLEVBQUEsRUFFQSxLQUNBLEtBQ0EsRUFBQSxPQUFBLEVBQUEsRUFBQSxHQUdBLEtBQUEsR0FBQSxLQUFBLEdBQ0EsRUFBQSxHQUFBLEVBQUEsRUFJQSxRQUFBLEVBQUEsR0FBQSxPQUFBLEtBR0EsRUFBQSxTQUFBLE9BQUEsT0FBQSxXQUFBLCtCQUVBLEVBQUEsZ0JBQUEsRUFBQSxTQUFBLE9BQUEsT0FDQSxFQUFBLG9CQUFBLEVBQUEsU0FBQSxPQUFBLE9BRUEsSUFJQSxHQUpBLEVBQUEsTUFBQSxTQUFBLFNBQUEsR0FDQSxNQUFBLGtCQUFBLE9BQUEsVUFBQSxTQUFBLEtBQUEsR0FNQSxHQURBLE1BQUEsVUFBQSxRQUNBLFNBQUEsRUFBQSxFQUFBLEdBQ0EsTUFBQSxHQUFBLFFBQUEsRUFBQSxJQUlBLFNBQUEsRUFBQSxFQUFBLEdBQ0EsSUFBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxJQUNBLEVBQUEsS0FBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsR0FLQSxJQUFBLEdBQUEsU0FBQSxHQUNBLElBQUEsR0FBQSxLQUFBLEdBQ0EsR0FBQSxlQUFBLEtBQUEsRUFBQSxHQUNBLE9BQUEsQ0FJQSxRQUFBLEVBMkJBLEdBQUEsYUFBQSxTQUFBLEVBQUEsR0FDQSxFQUFBLE1BRUEsRUFBQSxLQUFBLEVBQUEsT0FBQSxDQUVBLElBQUEsS0FFQSxJQUFBLEVBQUEsS0FDQSxFQUFBLEtBQUEsRUFBQSxRQVFBLEtBTEEsRUFBQSxTQUNBLEVBQUEsUUFBQSxnQkFBQSxHQUFBLElBQUEsRUFBQSxZQUFBLFFBQ0EsRUFBQSxRQUdBLEVBQUEsUUFDQSxFQUFBLEtBQUEsRUFBQSxFQUFBLFNBSUEsT0FBQSxHQUFBLEtBQUEsVUFpTkEsV0FDQSxNQUFBLG1CQUFBLFVBQ0EsT0FBQSxZQUNBLE9BQUEsVUFHQSxZQzdxREEsU0FBQSxFQUFBLEdBQ0EsWUFLQSxTQUFBLEdBQUEsRUFBQSxHQWlsREEsUUFBQSxHQUFBLEdBQ0EsTUFBQSxJQUFBLGFBQUEsS0FBQSxHQUFBLGFBQUEsR0FBQSxNQUFBLEtBQUEsR0FBQSxHQUFBLE1BQUEsR0F5Q0EsUUFBQSxHQUFBLEdBQ0EsTUFBQSxVQUFBLEdBQ0EsR0FDQSxHQURBLEVBQUEsS0FBQSxFQU9BLE9BRkEsR0FIQSxHQUFBLEVBQUEsR0FHQSxFQUFBLEtBQUEsS0FBQSxHQUZBLE1BL25EQSxLQUFBLGNBQ0EsSUFBQSxHQUFBLEtBQ0EsYUFBQSxFQUNBLFdBQUEsRUFDQSxZQUFBLEVBQ0EsWUFBQSxFQUNBLGFBQUEsRUFDQSxtQkFBQSxFQUNBLFFBQUEsVUFDQSxvQkFBQSxFQUNBLHFCQUFBLEtBQ0EscUJBQUEsS0FDQSxpQkFBQSxJQUNBLE1BQUEsS0FDQSxrQkFBQSxTQUNBLGVBQUEsRUFDQSxlQUFBLEVBQ0EsMEJBQUEsRUFDQSwwQkFBQSxFQUNBLFVBQUEsc0JBQ0EsYUFBQSxFQUNBLFlBQUEsRUFDQSxTQUFBLFNBRUEsS0FBQSxnQkFDQSxVQUFBLEVBQ0EsVUFBQSxFQUNBLEtBQUEsS0FDQSxNQUFBLEVBQ0EsTUFBQSxLQUNBLFFBQUEsS0FDQSxPQUFBLEtBQ0EsYUFBQSxLQUNBLE9BQUEsS0FDQSxRQUFBLEtBQ0EsU0FBQSxLQUNBLGFBQUEsS0FDQSxXQUFBLEtBQ0EsT0FBQSxLQUNBLFNBQUEsS0FDQSxXQUFBLEVBQ0EsaUJBQUEsRUFDQSxTQUFBLEtBQ0EsSUFBQSxFQUNBLGFBQUEsRUFDQSxRQUFBLEVBQ0EsR0FBQSxLQUNBLEtBQUEsS0FDQSxlQUFBLEVBQ0EsT0FBQSxLQUVBLEtBQUEsZUFDQSxVQUFBLEtBQ0EsWUFBQSxLQUNBLGFBQUEsRUFDQSxpQkFBQSxFQUNBLFdBQUEsRUFDQSxlQUFBLEtBQ0EsWUFBQSxNQUVBLEtBQUEsa0JBQ0EsV0FBQSxFQUNBLFVBQUEsS0FDQSxVQUFBLEtBQ0EsU0FBQSxNQUVBLEtBQUEsY0FDQSxLQUNBLE1BQUEsMkJBQUEsYUFBQSxZQUFBLFlBQUEsb0JBQ0EsVUFBQSxHQUVBLEtBQ0EsU0FBQSxNQUFBLE1BQUEsT0FDQSxNQUFBLGdDQUFBLFlBQUEsY0FBQSxrQkFBQSx1QkFDQSxVQUFBLEdBRUEsS0FDQSxNQUFBLDRCQUNBLFVBQUEsR0FFQSxNQUNBLE1BQUEseUJBQUEsY0FDQSxVQUFBLEdBRUEsS0FDQSxNQUFBLHdCQUFBLFlBQUEsYUFBQSxlQUNBLFVBQUEsR0FFQSxNQUNBLE1BQUEsY0FDQSxVQUFBLElBR0EsS0FBQSxRQUFBLGdCQUNBLEtBQUEsR0FBQSxHQUFBLFdBQ0EsS0FBQSxRQUFBLHFCQUNBLEtBQUEsY0FBQSxrQkFDQSxLQUFBLGNBQUEsa0JBQ0EsS0FBQSxRQUFBLEtBQ0EsS0FBQSxTQUFBLEtBQ0EsS0FBQSxPQUFBLEtBQ0EsS0FBQSxXQUFBLEVBQ0EsS0FBQSxTQUFBLEVBQ0EsS0FBQSxJQUFBLEtBQ0EsS0FBQSxVQUNBLEtBQUEsWUFDQSxLQUFBLE9BQUEsRUFDQSxLQUFBLGVBQUEsRUFDQSxLQUFBLFlBQUEsS0FDQSxLQUFBLGNBQ0EsT0FBQSxpQkFDQSxPQUFBLGtCQUVBLEtBQUEsVUFDQSxXQUFBLEVBQ0EsVUFBQSxFQUNBLGNBQUEsRUFDQSxRQUFBLEVBQ0EsV0FBQSxHQUVBLEtBQUEsV0FFQSxLQUFBLE9BQ0EsV0FBQSxNQUVBLEtBQUEsU0FDQSxLQUFBLFdBQUEsRUFDQSxLQUFBLGFBQUEsQ0FDQSxJQUFBLEdBQ0EsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQ0EsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FEQSxHQUFBLEtBQUEsR0FBQSxLQUFBLEdBQUEsS0FBQSxHQUFBLFVBQUEsVUFBQSxHQUFBLEVBQUEsU0FBQSxLQUFBLFdBQUEsR0FBQSxTQUFBLE1BQUEsSUFBQSxFQUFBLElBQUEsRUFBQSxJQUFBLEVBQUEsSUFBQSxFQUFBLElBQUEsRUFBQSxHQUFBLEVBQUEsR0FBQSxLQUFBLEdBQUEsS0FBQSxJQUFBLEVBQUEsSUFBQSxFQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsTUFDQSxHQUFBLEtBQUEsR0FBQSxNQUFBLFVBQUEsTUFBQSxJQUFBLEVBQUEsR0FBQSxFQUFBLEdBQUEsSUFDQSxHQUFBLEdBQUEsTUFBQSx1QkFBQSxHQUFBLEdBQUEsTUFBQSxZQUFBLEdBQUEsR0FBQSxNQUFBLGlCQUNBLEdBQUEsR0FBQSxNQUFBLFdBQ0EsR0FBQSxHQUFBLE1BQUEsYUFBQSxHQUFBLE1BQUEsV0FDQSxHQUFBLEdBQUEsTUFBQSxVQUNBLEdBQUEsR0FBQSxNQUFBLHlCQUFBLElBQUEsR0FDQSxJQUFBLEdBQUEsTUFBQSxvQkFBQSxHQUFBLE1BQUEscUJBQUEsS0FBQSxHQUFBLE1BQUEsVUFBQSxHQUFBLE1BQUEsd0JBRUEsSUFEQSxFQUFBLFVBQUEsR0FBQSxRQUFBLE1BQUEsRUFDQSxHQUFBLFdBQUEsRUFBQSxHQUFBLFdBQUEsTUFDQSxHQUFBLEtBQUEsR0FBQSxXQUFBLElBQUEsR0FBQSxZQUNBLElBQUEsR0FDQSxHQUFBLHlCQUNBLEdBQUEsY0FDQSxHQUFBLDJGQUNBLEdBQUEsR0FBQSxTQUFBLEdBQUEsU0FBQSxTQUFBLE1BQUEsU0FBQSxLQUNBLEdBQUEsR0FBQSxHQUFBLEtBQ0EsR0FBQSxrRkFDQSxJQUFBLFFBQUEsTUFBQSxNQUFBLE1BQUEsTUFBQSxNQUFBLE1BQUEsTUFBQSxNQUFBLE9BQUEsTUFBQSxPQUNBLEdBQUEsR0FBQSxRQUFBLE9BQUEsR0FBQSxLQUFBLEtBQUEsYUFBQSxJQUNBLE1BQUEsWUFBQSw4Q0FDQSxLQUFBLFdBQUEsR0FDQSxHQUNBLE9BQUEsaUJBQ0EsV0FBQSxpQkFDQSxTQUFBLFlBQ0EsWUFBQSxlQUNBLFVBQUEsYUFDQSxhQUFBLGdCQUNBLFNBQUEsWUFDQSxTQUFBLG1CQUNBLFdBQUEsZUFFQSxHQUNBLEtBQ0Esb0JBQ0Esb0JBQ0EsbUJBQ0EsK0JBRUEsS0FBQSxTQUFBLFdBQ0EsSUFDQSxNQUFBLFNBQUEsSUFBQSxJQUFBLFFBQUEsR0FBQSxNQUFBLFVBQUEsR0FBQSxHQUFBLE9BQUEsTUFBQSxHQUFBLFFBQUEsY0FBQSxFQUNBLE1BQUEsR0FDQSxPQUFBLE1BR0EsS0FBQSxNQUFBLFNBQUEsR0FDQSxHQUFBLElBQUEsR0FBQSxHQXFDQSxPQXBDQSxLQUFBLEdBQUEsSUFBQSxJQUFBLEdBQUEsT0FBQSxFQUFBLGVBQUEsR0FBQSxFQUFBLE1BQUEsR0FBQSxFQUFBLFlBQUEsR0FFQSxFQUFBLEdBQ0EsS0FDQSxLQUNBLEdBQUEsYUFBQSwwQkFBQSxHQUFBLGFBQUEsNEJBQ0EsR0FBQSxLQUFBLEVBQUEsYUFDQSxJQUFBLEdBRUEsR0FBQSxhQUFBLDJCQUNBLEdBQUEsS0FBQSxFQUFBLGFBQ0EsSUFBQSxLQUdBLElBQUEsS0FDQSxHQUFBLGFBQUEseUJBQ0EsR0FBQSxLQUFBLEVBQUEsZUFFQSxHQUFBLGFBQUEsZUFBQSxFQUNBLEdBQUEsYUFBQSxhQUFBLEVBQ0EsR0FDQSxHQUFBLGFBQUEsR0FDQSxLQUFBLEdBQUEsTUFBQSxvQkFBQSxNQUNBLElBQUEsS0FJQSxJQUNBLEdBQUEsR0FBQSxFQUFBLE1BQUEsR0FDQSxHQUFBLG1CQUVBLEdBQUEsRUFBQSxNQUFBLEdBQUEsYUFBQSxHQUFBLFlBQ0EsV0FBQSxFQUFBLElBR0EsSUFBQSxFQUNBLElBRUEsS0FBQSxHQUFBLFdBQ0EsTUFBQSxJQUFBLEtBQUEsR0FBQSxHQUFBLGVBQUEsR0FBQSxVQUVBLEtBQUEsVUFBQSxLQUFBLEdBQ0EsS0FBQSxTQUFBLFNBQUEsR0FDQSxNQUFBLEdBQUEsSUFBQSxHQUFBLElBQUEsRUFBQSxJQUVBLEtBQUEsWUFBQSxTQUFBLEVBQUEsR0FtQkEsUUFBQSxLQUlBLE1BSEEsR0FBQSxFQUFBLEdBQ0EsR0FBQSxPQUFBLEVBQUEsSUFBQSxHQUFBLEdBQUEsR0FDQSxHQUFBLFNBQUEsS0FBQSxFQUFBLElBQ0EsR0FBQSxPQUFBLEVBQUEsSUF0QkEsR0FBQSxHQUFBLEVBQUEsRUFBQSxJQUNBLEtBQUEsS0FBQSxHQUFBLEtBQ0EsT0FBQSxDQWFBLElBWEEsSUFBQSxJQUNBLEdBQ0EsR0FBQSxFQUNBLElBQUEsSUFHQSxFQUFBLEVBQUEsR0FDQSxFQUFBLElBQUEsRUFBQSxFQUFBLEtBQ0EsRUFBQSxLQUFBLElBQ0EsRUFBQSxHQUFBLEdBQUEsYUFBQSxTQUFBLE1BRUEsRUFBQSxFQUFBLElBQUEsR0FDQSxNQUFBLElBQUEsT0FBQSxFQUFBLEdBUUEsSUFBQSxFQUFBLEdBQ0EsRUFBQSxJQUNBLEVBQUEsYUFBQSxPQUNBLENBQ0EsR0FBQSxHQUFBLFVBQ0EsTUFBQSxJQUVBLElBQUEsR0FBQSxNQUFBLFlBQUEsRUFBQSxLQUFBLEVBQUEsSUFBQSxNQUFBLFVBQ0EsTUFBQSxJQUVBLEdBQUEsR0FDQSxPQUFBLEVBQUEsY0FDQSxFQUFBLGVBQUEsRUFBQSxZQUFBLEVBQUEsS0FBQSxFQUFBLEtBQUEsTUFBQSxLQUFBLElBQUEsRUFBQSxLQUFBLEVBQUEsSUFBQSxNQUFBLE1BR0EsRUFBQSxFQUFBLEVBQUEsR0FDQSxFQUFBLElBQ0EsSUFBQSxFQUNBLEdBQUEsYUFBQSxFQUFBLEdBQUEsRUFBQSxPQUFBLEVBQUEsRUFBQSxnQkFFQSxHQUFBLGFBQUEsRUFBQSxHQUFBLEVBQUEsSUFBQSxFQUFBLFlBQUEsRUFBQSxnQkFBQSxFQUFBLFVBQUEsRUFBQSxZQUFBLEVBQUEsWUFBQSxFQUFBLFlBQUEsRUFBQSxFQUFBLE9BQUEsRUFBQSxFQUFBLFVBQUEsRUFBQSxVQUFBLEtBQUEsRUFBQSxVQUFBLEVBQUEsRUFBQSxTQUFBLEVBQUEsZUFDQSxFQUFBLFlBQ0EsRUFBQSxXQUFBLEVBQ0EsRUFBQSxXQUNBLEVBQUEsVUFBQSxNQUFBLEtBSUEsRUFBQSxZQUFBLEVBQUEsV0FBQSxFQUFBLFVBQ0EsRUFBQSxLQUFBLEdBTUEsT0FIQSxFQUFBLFdBQUEsRUFBQSxVQUNBLEVBQUEsT0FFQSxHQUVBLEtBQUEsYUFBQSxTQUFBLEVBQUEsR0FDQSxJQUFBLEVBQUEsR0FBQSxPQUFBLENBQ0EsSUFBQSxHQUFBLEVBQUEsR0FBQSxPQUFBLEVBSUEsS0FIQSxFQUFBLE9BQ0EsRUFBQSxPQUNBLEVBQUEsU0FDQSxFQUFBLEVBQUEsRUFBQSxHQUFBLFNBQUEsT0FBQSxJQUNBLEdBQUEsR0FBQSxTQUFBLEtBQUEsRUFBQSxDQUNBLEdBQUEsU0FBQSxPQUFBLEVBQUEsRUFDQSxPQVFBLE1BTEEsSUFDQSxFQUFBLFVBQUEsR0FFQSxFQUFBLFdBQ0EsSUFBQSxPQUFBLElBQ0EsR0FFQSxLQUFBLEtBQUEsU0FBQSxFQUFBLEdBQ0EsTUFBQSxHQUFBLEdBQ0EsR0FBQSxPQUFBLEdBQUEsS0FBQSxJQURBLEdBR0EsS0FBQSxPQUFBLFNBQUEsR0FDQSxNQUFBLEdBQUEsR0FDQSxHQUFBLE9BQUEsR0FBQSxVQURBLEdBR0EsS0FBQSxXQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxNQUFBLEdBQUEsR0FDQSxHQUFBLE9BQUEsR0FBQSxXQUFBLEVBQUEsRUFBQSxJQURBLEdBR0EsS0FBQSxXQUFBLEtBQUEsV0FDQSxLQUFBLGdCQUFBLFNBQUEsRUFBQSxFQUFBLEdBQ0EsTUFBQSxHQUFBLEdBQ0EsR0FBQSxPQUFBLEdBQUEsZ0JBQUEsRUFBQSxJQURBLEdBR0EsS0FBQSxLQUFBLFNBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxLQUNBLEVBQUEsS0FBQSxZQUFBLFFBQ0EsS0FBQSxLQUFBLEdBQUEsS0FDQSxPQUFBLENBRUEsSUFBQSxFQUFBLEVBQUEsR0FXQSxJQUNBLEdBQ0EsSUFBQSxRQWJBLENBQ0EsSUFBQSxFQUFBLE9BQUEsQ0FDQSxLQUNBLEdBQ0EsSUFBQSxJQUdBLEdBQUEsRUFBQSxNQUNBLEVBQUEsR0FBQSxFQUNBLEVBQUEsR0FBQSxZQUFBLEdBQUEsUUFVQSxNQUhBLFFBQUEsSUFDQSxFQUFBLEdBQUEsT0FBQSxHQUFBLEtBQUEsSUFFQSxHQUVBLEtBQUEsTUFBQSxLQUFBLEtBQ0EsS0FBQSxnQkFBQSxTQUFBLEVBQUEsRUFBQSxHQUNBLE1BQUEsR0FBQSxHQUNBLEdBQUEsT0FBQSxHQUFBLGdCQUFBLEVBQUEsSUFEQSxHQUdBLEtBQUEsWUFBQSxTQUFBLEVBQUEsR0FDQSxNQUFBLEdBQUEsR0FDQSxHQUFBLE9BQUEsR0FBQSxZQUFBLElBREEsR0FHQSxLQUFBLEtBQUEsU0FBQSxHQUNBLE1BQUEsR0FBQSxHQUNBLEdBQUEsT0FBQSxHQUFBLFFBREEsR0FHQSxLQUFBLFFBQUEsV0FDQSxHQUFBLEVBQ0EsS0FBQSxJQUFBLElBQUEsT0FDQSxHQUFBLE9BQUEsZUFBQSxJQUNBLEdBQUEsT0FBQSxHQUFBLFFBSUEsS0FBQSxNQUFBLFNBQUEsR0FDQSxNQUFBLEdBQUEsR0FDQSxHQUFBLE9BQUEsR0FBQSxTQURBLEdBR0EsS0FBQSxTQUFBLFdBQ0EsR0FBQSxFQUNBLEtBQUEsRUFBQSxHQUFBLFNBQUEsT0FBQSxFQUFBLEdBQUEsRUFBQSxJQUNBLEdBQUEsT0FBQSxHQUFBLFNBQUEsSUFBQSxTQUdBLEtBQUEsT0FBQSxTQUFBLEdBQ0EsTUFBQSxHQUFBLEdBQ0EsR0FBQSxPQUFBLEdBQUEsVUFEQSxHQUdBLEtBQUEsVUFBQSxXQUNBLEdBQUEsRUFDQSxLQUFBLEVBQUEsR0FBQSxTQUFBLE9BQUEsRUFBQSxHQUFBLEVBQUEsSUFDQSxHQUFBLE9BQUEsR0FBQSxTQUFBLElBQUEsVUFHQSxLQUFBLFlBQUEsU0FBQSxHQUNBLE1BQUEsR0FBQSxHQUNBLEdBQUEsT0FBQSxHQUFBLGVBREEsR0FHQSxLQUFBLE9BQUEsU0FBQSxFQUFBLEdBQ0EsTUFBQSxHQUFBLEdBQ0EsR0FBQSxPQUFBLEdBQUEsT0FBQSxJQURBLEdBR0EsS0FBQSxVQUFBLFNBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxDQUNBLElBQUEsSUFBQSxJQUFBLE1BQUEsSUFBQSxJQUFBLEVBQUEsQ0FDQSxJQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsU0FBQSxPQUFBLEVBQUEsRUFBQSxJQUNBLEdBQUEsT0FBQSxHQUFBLFNBQUEsSUFBQSxVQUFBLEVBRUEsUUFBQSxFQUVBLE1BQUEsR0FBQSxHQUNBLEdBQUEsT0FBQSxHQUFBLFVBQUEsSUFEQSxHQUdBLEtBQUEsS0FBQSxTQUFBLEdBQ0EsR0FBQSxHQUFBLENBSUEsSUFIQSxZQUFBLFVBQ0EsRUFBQSxNQUVBLEVBTUEsTUFBQSxHQUFBLEdBQ0EsR0FBQSxPQUFBLEdBQUEsUUFEQSxDQUxBLEtBQUEsRUFBQSxHQUFBLFNBQUEsT0FBQSxFQUFBLEdBQUEsRUFBQSxJQUNBLEdBQUEsT0FBQSxHQUFBLFNBQUEsSUFBQSxNQU9BLE9BTEEsSUFBQSxPQUFBLEdBS0EsR0FFQSxLQUFBLFFBQUEsV0FDQSxHQUFBLFFBRUEsS0FBQSxPQUFBLFNBQUEsR0FDQSxHQUFBLEVBSUEsSUFIQSxZQUFBLFVBQ0EsRUFBQSxNQUVBLEVBTUEsTUFBQSxHQUFBLEdBQ0EsR0FBQSxPQUFBLEdBQUEsVUFEQSxDQUxBLEtBQUEsRUFBQSxHQUFBLFNBQUEsT0FBQSxFQUFBLEdBQUEsRUFBQSxJQUNBLEdBQUEsT0FBQSxHQUFBLFNBQUEsSUFBQSxRQU9BLE9BTEEsSUFBQSxPQUFBLEdBS0EsR0FFQSxLQUFBLFVBQUEsV0FDQSxHQUFBLFVBRUEsS0FBQSxXQUFBLFNBQUEsR0FDQSxNQUFBLEdBQUEsR0FDQSxHQUFBLE9BQUEsR0FBQSxjQURBLEdBR0EsS0FBQSxhQUFBLFdBQ0EsR0FBQSxHQUFBLENBSUEsT0FIQSxLQUFBLElBQUEsSUFDQSxFQUFBLFNBQUEsR0FBQSxnQkFBQSxLQUVBLEdBRUEsS0FBQSxRQUFBLFNBQUEsR0FDQSxHQUFBLEVBSUEsSUFIQSxJQUFBLElBQ0EsR0FBQSxHQUVBLEdBQUEsT0FBQSxDQUVBLEtBREEsSUFBQSxFQUNBLEVBQUEsR0FBQSxTQUFBLE9BQUEsRUFBQSxHQUFBLEVBQUEsSUFDQSxFQUFBLEdBQUEsT0FBQSxHQUFBLFNBQUEsSUFLQSxPQUhBLEdBQUEsSUFDQSxFQUFBLEdBQ0EsR0FBQSxPQUFBLEVBQUEsT0FBQSxJQUNBLEdBRUEsS0FBQSxZQUFBLFNBQUEsR0FDQSxHQUFBLEVBU0EsT0FSQSxJQUFBLFdBQ0EsRUFBQSxHQUNBLEtBQUEsTUFHQSxHQUFBLEtBQ0EsRUFBQSxHQUFBLEdBQUEsU0FBQSxFQUFBLEVBQUEsRUFBQSxNQUFBLElBQUEsT0FBQSxFQUFBLE1BQUEsR0FBQSxjQUFBLE1BRUEsR0FFQSxLQUFBLFdBQUEsU0FBQSxHQUNBLEdBQUEsRUFTQSxPQVJBLElBQUEsV0FDQSxFQUFBLEdBQ0EsSUFBQSxNQUdBLEdBQUEsS0FDQSxFQUFBLEdBQUEsR0FBQSxPQUFBLEVBQUEsTUFBQSxHQUFBLGFBQUEsTUFFQSxHQUVBLEtBQUEsWUFBQSxTQUFBLEdBQ0EsTUFBQSxHQUFBLE9BQUEsR0FBQSxFQUFBLE1BQUEsR0FBQSxZQUFBLEVBQUEsT0FBQSxFQUNBLEdBQUEsV0FBQSxFQUFBLE9BRUEsS0FBQSxhQUFBLFNBQUEsR0FDQSxJQUFBLEVBQUEsTUFBQSxLQUNBLElBQUEsR0FBQSxHQUFBLE9BQUEsRUFDQSxPQUFBLElBRUEsS0FBQSxRQUFBLFNBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxVQUNBLEdBQUEsQ0FDQSxJQUFBLGtCQUFBLEdBUUEsS0FBQSxHQUFBLGVBQUEsRUFFQSxPQVRBLEtBQ0EsRUFBQSxHQUVBLEVBQUEsRUFBQSxFQUFBLEdBQ0EsSUFDQSxHQUFBLEVBSUEsR0FFQSxLQUFBLFVBQUEsU0FBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLFlBQ0EsR0FBQSxDQUNBLElBQUEsa0JBQUEsR0FRQSxLQUFBLEdBQUEsZUFBQSxFQUVBLE9BVEEsS0FDQSxFQUFBLEdBRUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEtBQUEsSUFDQSxHQUFBLEVBSUEsR0FFQSxLQUFBLFlBQUEsV0FDQSxPQUFBLEdBRUEsS0FBQSxJQUFBLEtBQUEsWUFDQSxLQUFBLE9BQUEsYUFFQSxLQUFBLE9BQUEsU0FBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsQ0FDQSxLQUFBLEVBQUEsR0FBQSxTQUFBLE9BQUEsRUFBQSxHQUFBLEVBQUEsSUFDQSxHQUFBLE9BQUEsR0FBQSxTQUFBLElBQUEsVUFFQSxJQUFBLEdBQ0EsSUFDQSxLQUNBLEdBQUEsR0FBQSxXQUVBLEdBQUEsR0FBQSxXQUFBLFlBQUEsSUFDQSxNQUFBLElBU0EsR0FOQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBQ0EsR0FBQSxRQUFBLEVBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLFdBQUEsRUFDQSxHQUFBLFlBQ0EsR0FBQSxVQUNBLEdBQUEsRUFDQSxJQUFBLEVBQ0EsRUFTQSxVQVJBLEtBQUEsSUFBQSxJQUNBLEdBQUEsR0FBQSxlQUFBLEdBQ0EsSUFBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsT0FBQSxFQUFBLEVBQUEsSUFDQSxHQUFBLEdBQUEsR0FBQSxPQUFBLENBa0JBLE9BWEEsSUFBQSxPQUNBLFdBQUEsTUFFQSxHQUFBLFNBQ0EsR0FBQSxXQUFBLEVBQ0EsR0FBQSxhQUFBLEVBQ0EsRUFBQSxXQUFBLFdBQ0EsR0FDQSxHQUFBLG9CQUVBLElBQ0EsSUFFQSxLQUFBLE1BQUEsV0FDQSxNQUFBLElBQUEsUUFBQSxHQUFBLElBRUEsS0FBQSxnQkFBQSxXQUNBLE1BQUEsS0FBQSxpQkFBQSxJQUFBLEdBQUEsZ0JBQUEsTUFFQSxLQUFBLGlCQUFBLFdBQ0EsSUFBQSxFQUNBLElBQ0EsV0FBQSxXQUNBLE1BQUEsS0FBQSxHQUNBLElBQ0EsSUFDQSxJQUFBLEdBQ0EsSUFDQSxJQUNBLEtBRUEsS0FBQSxTQUFBLFdBQ0EsR0FBQSxTQUFBLElBRUEsRUFBQSxTQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsS0FBQSxHQUFBLEVBQUEsS0FBQSxFQUFBLEVBQUEsRUFBQSxJQUNBLElBQ0EsU0FBQSxLQUNBLEtBQUEsTUFFQSxLQUFBLEdBQUEsRUFBQSxHQUNBLEtBQUEsSUFBQSxLQUFBLEdBQ0EsS0FBQSxJQUFBLEVBQUEsSUFDQSxLQUFBLFFBQUEsRUFBQSxHQUNBLEtBQUEsZ0JBQUEsS0FBQSxRQUNBLEtBQUEsSUFBQSxLQUFBLGdCQUNBLEtBQUEsSUFBQSxLQUFBLFFBQUEsSUFDQSxLQUFBLE9BQUEsS0FBQSxRQUFBLE9BQ0EsS0FBQSxTQUFBLEVBQ0EsS0FBQSxHQUFBLEtBQ0EsR0FBQSxLQUFBLElBQ0EsS0FBQSxPQUNBLEtBQUEsT0FBQSxhQUVBLEtBQUEsS0FBQSxTQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsSUFpQkE7R0FoQkEsSUFBQSxFQUNBLEVBQUEsSUFBQSxFQUFBLEVBQUEsRUFBQSxVQUVBLEVBQUEsRUFBQSxRQUNBLEVBQUEsSUFBQSxFQUNBLEdBQUEsSUFBQSxFQUFBLE1BQ0EsRUFBQSxJQUFBLElBQUEsRUFBQSxJQUNBLEVBQUEsSUFBQSxPQUdBLEVBQUEsSUFBQSxNQUNBLEVBQUEsSUFBQSxJQUFBLEVBQUEsS0FFQSxFQUFBLElBQUEsSUFBQSxFQUFBLEVBQUEsSUFBQSxLQUNBLEVBQUEsZ0JBQUEsRUFBQSxJQUNBLEVBQUEsRUFBQSxLQUNBLEVBQUEsTUFBQSxFQUFBLElBQ0EsTUFBQSxFQUVBLElBQUEsRUFBQSxNQUFBLEVBQUEsS0FBQSxJQUFBLEVBQUEsWUFBQSxJQUFBLEVBQUEsV0FNQSxNQUxBLEtBQUEsRUFBQSxZQUFBLEVBQUEsUUFDQSxHQUFBLEVBQUEsV0FDQSxFQUFBLE9BQUEsTUFBQSxLQUFBLEVBQUEsYUFHQSxDQU1BLElBSkEsRUFBQSxRQUFBLEVBQ0EsRUFBQSxXQUFBLEVBQ0EsRUFBQSxVQUFBLEVBQ0EsRUFBQSxPQUNBLEVBQUEsR0FDQSxFQUFBLEVBQUEsYUFBQSxHQUNBLEVBQUEsZUFDQSxFQUFBLGdCQUFBLEVBQ0EsRUFBQSxNQUFBLEVBQUEsTUFDQSxFQUFBLEdBQUEsSUFBQSxFQUFBLElBQ0EsRUFBQSxZQUFBLElBRUEsRUFBQSxHQUFBLFdBQUEsT0FDQSxFQUFBLEdBQUEsUUFBQSxPQUNBLEVBQUEsR0FBQSxjQUFBLE9BR0EsQ0FDQSxHQUFBLEdBQUEsVUFDQSxNQUFBLEVBRUEsSUFBQSxFQUFBLElBQUEsS0FBQSxFQUFBLElBQUEsSUFBQSxNQUFBLFVBQ0EsTUFBQSxFQUVBLEtBQ0EsRUFBQSxTQUFBLEVBQ0EsRUFBQSxJQUFBLEVBQUEsRUFBQSxJQUNBLEVBQUEsSUFBQSxXQUFBLEVBQUEsSUFBQSxVQUFBLEVBQUEsSUFBQSxRQUNBLEVBQUEsSUFBQSxVQUFBLEdBRUEsRUFBQSxFQUFBLElBQ0EsSUFBQSxFQUNBLEdBQUEsTUFBQSxFQUFBLEdBQUEsRUFBQSxJQUFBLEVBQUEsT0FBQSxFQUFBLFNBQUEsRUFBQSxlQUVBLEdBQUEsTUFBQSxFQUFBLEdBQUEsRUFBQSxNQUFBLEVBQUEsU0FBQSxFQUFBLFNBQUEsRUFBQSxPQUFBLElBQUEsRUFBQSxTQUFBLEVBQUEsZUFFQSxNQUFBLEdBQ0EsR0FDQSxLQUFBLDRCQUNBLE9BQUEsS0FLQSxNQURBLEdBQUEsSUFBQSxFQUFBLElBQ0EsR0FFQSxLQUFBLE9BQUEsV0FpQkEsTUFoQkEsS0FBQSxFQUFBLGFBQ0EsRUFBQSxTQU9BLElBQ0EsRUFBQSxLQUNBLEVBQUEsR0FBQSxRQUNBLEVBQUEsR0FBQSxFQUFBLE1BVEEsSUFBQSxFQUNBLEdBQUEsUUFBQSxFQUFBLEdBQUEsSUFFQSxHQUFBLFFBQUEsRUFBQSxJQVNBLEtBRUEsR0FFQSxLQUFBLFNBQUEsU0FBQSxHQUNBLEVBQUEsU0FJQSxJQUNBLEVBQUEsS0FDQSxFQUFBLEdBQUEsUUFDQSxHQUFBLEVBQUEsSUFDQSxJQUNBLElBRUEsRUFBQSxHQUFBLEdBQUEsS0FDQSxFQUFBLEdBQUEsUUFYQSxFQUFBLElBQUEsVUFBQSxLQUNBLEdBQUEsY0FBQSxFQUFBLEtBYUEsR0FDQSxHQUFBLGFBQUEsRUFBQSxJQUFBLElBR0EsS0FBQSxLQUFBLFNBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLEVBQ0EsRUFBQSxFQUFBLEVBQ0EsR0FBQSxDQVlBLElBWEEsRUFBQSxJQUFBLEdBQUEsRUFBQSxFQUNBLElBQ0EsTUFFQSxFQUFBLE1BQ0EsRUFBQSxJQUFBLElBQUEsRUFBQSxLQUVBLEVBQUEsSUFBQSxFQUFBLEVBQUEsSUFBQSxFQUFBLFNBQ0EsRUFBQSxJQUFBLEVBQUEsRUFBQSxFQUFBLEtBQ0EsRUFBQSxJQUFBLElBQUEsRUFBQSxFQUFBLElBQUEsS0FDQSxFQUFBLGdCQUFBLEVBQUEsS0FDQSxFQUFBLFNBQUEsRUFBQSxJQUFBLFlBQUEsRUFBQSxVQUlBLE1BSEEsR0FBQSxlQUNBLEVBQUEsYUFBQSxHQUVBLENBTUEsSUFKQSxFQUFBLEVBQUEsT0FDQSxFQUFBLGFBQUEsRUFBQSxLQUNBLEtBRUEsSUFBQSxFQUFBLFlBQUEsRUFBQSxTQUNBLEVBQUEsRUFBQSxJQUFBLFdBQ0EsR0FJQSxNQUhBLEdBQUEsU0FDQSxFQUFBLFlBQUEsRUFBQSxJQUFBLFVBRUEsQ0FVQSxJQVBBLEVBQUEsS0FBQSxFQUFBLE1BQUEsRUFBQSxNQUNBLEVBQUEsWUFBQSxFQUFBLFNBQUEsSUFBQSxJQUFBLEVBR0EsRUFBQSxLQUFBLEVBQUEsS0FGQSxHQUFBLElBS0EsRUFBQSxPQUNBLEdBQUEsSUFBQSxFQUFBLFdBQUEsQ0FDQSxHQUFBLEVBQUEsU0FBQSxHQUFBLFVBR0EsQ0FBQSxJQUFBLEVBQUEsUUFHQSxNQUFBLEVBRkEsR0FBQSxLQUFBLEVBQUEsU0FIQSxHQUFBLElBQUEsVUFBQSxFQUNBLEVBQUEsS0FBQSxFQUFBLElBTUEsR0FBQSxnQkFBQSxFQUFBLFFBQ0EsSUFBQSxJQUFBLEVBQUEsV0FDQSxNQUFBLEVBMkZBLFFBdEZBLEVBQUEsU0FBQSxJQUFBLEdBQUEsRUFBQSxTQUFBLEdBQUEsRUFBQSxXQUFBLEVBQUEsV0FDQSxFQUFBLFNBQUEsR0FFQSxFQUFBLFFBQUEsRUFBQSxVQUFBLEtBQUEsRUFBQSxJQUFBLFdBQUEsRUFBQSxTQUFBLEdBQ0EsRUFBQSxVQUVBLEVBQUEsSUFBQSxFQUFBLEVBQUEsRUFBQSxPQUNBLEVBQUEsU0FBQSxPQUFBLEVBQUEsSUFBQSxVQUFBLEVBQUEsSUFBQSxTQUFBLEdBQUEsT0FBQSxFQUFBLElBQUEsTUFBQSxFQUFBLElBQUEsS0FBQSxHQUFBLE9BQUEsRUFBQSxJQUFBLEtBQUEsSUFBQSxFQUFBLGVBQUEsSUFBQSxFQUFBLFlBQUEsRUFBQSxJQUFBLFlBQ0EsRUFBQSxXQUNBLEVBQUEsSUFBQSxFQUFBLEVBQUEsRUFBQSxLQUNBLEVBQUEsS0FBQSxFQUFBLE1BRUEsRUFBQSxVQUFBLEVBQUEsZUFDQSxFQUFBLE1BQ0EsV0FBQSxJQUVBLEVBQUEsU0FBQSxFQUFBLFFBQUEsRUFBQSxZQUFBLElBQUEsRUFBQSxZQUNBLEVBQUEsTUFDQSxPQUFBLElBR0EsRUFBQSxJQUFBLE9BRUEsRUFBQSxlQUFBLEVBQUEsSUFBQSxpQkFBQSxFQUFBLFNBQUEsRUFBQSxJQUFBLFlBQUEsS0FBQSxFQUFBLFNBQUEsRUFBQSxJQUFBLEVBQUEsZ0JBQ0EsRUFBQSxnQkFFQSxFQUFBLElBQUEsWUFBQSxJQUFBLEVBQUEsV0FDQSxFQUFBLEdBRUEsRUFBQSxVQUFBLEVBQ0EsRUFBQSxRQUFBLEVBQ0EsRUFBQSxTQUFBLEVBQUEsSUFBQSxXQUFBLEdBQUEsTUFBQSxFQUFBLElBQUEsVUFBQSxFQUFBLEVBQUEsSUFBQSxTQUNBLEVBQUEsVUFDQSxFQUFBLElBQUEsRUFBQSxFQUFBLEVBQUEsT0FFQSxFQUFBLElBQUEsUUFBQSxJQUNBLEVBQUEsSUFBQSxPQUFBLE1BQUEsR0FDQSxHQUFBLEdBRUEsRUFBQSxVQUFBLEVBQUEsSUFBQSxRQUFBLEdBQ0EsRUFBQSxPQUFBLEVBQUEsSUFBQSxLQUFBLEdBQ0EsSUFBQSxFQUFBLElBQUEsY0FDQSxFQUFBLGdCQUFBLEVBQUEsSUFBQSxjQUVBLEVBQUEsUUFPQSxFQUFBLGNBQUEsR0FDQSxJQUNBLEVBQUEsRUFBQSxlQUNBLEVBQUEsWUFBQSxFQUFBLElBQUEsVUFDQSxFQUFBLFNBRUEsRUFBQSxHQUFBLE9BQUEsRUFBQSxJQUFBLEtBQ0EsRUFBQSxXQUNBLEdBQUEsT0FBQSxFQUFBLFFBQUEsR0FDQSxFQUFBLFVBQUEsR0FDQSxHQUFBLEdBQ0EsRUFBQSxNQUVBLEVBQUEsV0FDQSxHQUFBLE9BQUEsRUFBQSxVQUFBLEVBQ0EsS0FDQSxFQUFBLFlBQUEsRUFBQSxJQUFBLFNBQUEsR0FDQSxNQUFBLElBRUEsRUFBQSxRQUVBLEdBQUEsSUFBQSxFQUFBLFFBQUEsR0FDQSxFQUFBLElBQUEsU0FBQSxJQUNBLEVBQUEsT0FBQSxLQUFBLElBQUEsRUFBQSxLQUFBLElBQUEsRUFBQSxFQUFBLElBQUEsT0FBQSxPQUVBLEVBQUEsUUFDQSxFQUFBLE9BQUEsR0FFQSxFQUFBLElBQUEsU0FDQSxHQUFBLElBQUEsRUFBQSxVQUFBLEdBRUEsRUFBQSxTQXJDQSxFQUFBLEdBQUEsT0FBQSxFQUFBLEdBQUEsRUFBQSxJQUFBLE9BQUEsRUFBQSxJQUFBLEVBQUEsRUFBQSxTQUFBLEVBQUEsU0FBQSxHQUFBLEVBQUEsSUFBQSxZQUFBLEdBQ0EsSUFBQSxHQUFBLEdBQ0EsRUFBQSxJQUFBLGFBQ0EsRUFBQSxJQUFBLFlBQUEsTUFBQSxLQXNDQSxHQUVBLEtBQUEsTUFBQSxLQUFBLEtBQ0EsS0FBQSxLQUFBLFNBQUEsR0FDQSxHQUNBLEdBREEsRUFBQSxFQUFBLEdBaUNBLE9BL0JBLEtBQUEsRUFBQSxZQUNBLEVBQUEsZ0JBQUEsR0FDQSxFQUFBLGlCQUFBLEdBQ0EsRUFBQSxRQUFBLEVBQ0EsRUFBQSxVQUNBLEVBQUEsVUFBQSxHQUVBLElBQ0EsRUFBQSxJQUNBLEVBQUEsZ0JBQUEsRUFBQSxJQUVBLEVBQUEsUUFLQSxFQUFBLEtBQ0EsRUFBQSxFQUFBLFNBQ0EsRUFBQSxZQUFBLEdBQ0EsRUFBQSxTQUFBLEVBQ0EsRUFBQSxHQUFBLFFBQ0EsRUFBQSxVQUFBLEVBQ0EsRUFBQSxXQUNBLE1BWEEsR0FBQSxNQUFBLEVBQUEsR0FBQSxHQUNBLEVBQUEsV0FDQSxFQUFBLFVBV0EsRUFBQSxjQUFBLEVBQ0EsRUFBQSxPQUNBLEVBQUEsUUFDQSxFQUFBLE9BQUEsTUFBQSxJQUdBLEdBRUEsS0FBQSxZQUFBLFNBQUEsR0FDQSxFQUFBLElBQUEsU0FBQSxFQUNBLEVBQUEsVUFDQSxHQUFBLGFBQUEsRUFBQSxHQUFBLEdBQ0EsSUFDQSxFQUFBLGVBQUEsSUFBQSxFQUFBLFlBQ0EsRUFBQSxtQkFLQSxLQUFBLFlBQUEsV0FDQSxNQUFBLEdBQUEsSUFBQSxVQUVBLEtBQUEsZ0JBQUEsU0FBQSxHQUNBLEdBQUEsR0FBQSxLQUFBLElBQUEsR0FBQSxLQUFBLElBQUEsRUFBQSxHQUNBLElBQUEsRUFBQSxRQUNBLElBQ0EsRUFBQSxJQUFBLGFBQUEsRUFDQSxFQUFBLEdBQUEsYUFBQSxFQUNBLE1BQUEsSUFHQSxNQUFBLElBRUEsS0FBQSxZQUFBLFNBQUEsR0FDQSxJQUFBLElBQ0EsRUFBQSxFQUVBLElBQUEsR0FBQSxFQUNBLEVBQUEsRUFBQSxRQUFBLEtBQUEsSUFBQSxFQUFBLEdBQUEsS0FBQSxJQUFBLEVBQUEsVUFBQSxFQUFBLElBQUEsU0FBQSxLQUFBLElBQUEsRUFBQSxHQUtBLElBSkEsRUFBQSxTQUFBLEVBQ0EsRUFBQSxFQUFBLFNBQUEsR0FDQSxFQUFBLGlCQUFBLEVBQUEsVUFDQSxFQUFBLElBQUEsU0FBQSxFQUNBLEVBQUEsU0FLQSxHQUFBLEVBQUEsR0FBQSxDQUNBLEdBQUEsRUFBQSxnQkFDQSxHQUFBLEVBQUEsR0FBQSxZQUFBLFFBQUEsS0FBQSxFQUFBLFFBQUEsR0FDQSxJQUNBLEVBQUEsR0FBQSxZQUFBLEdBQ0EsSUFBQSxFQUFBLFdBQUEsRUFBQSxTQUNBLEVBQUEsR0FBQSxRQUVBLE1BQUEsU0FHQSxJQUFBLEVBQ0EsTUFBQSxFQUVBLEdBQUEsUUFDQSxFQUFBLFVBQUEsUUFuQkEsR0FBQSxJQUFBLEVBQUEsRUFBQSxTQUFBLEVBQ0EsRUFBQSxZQUFBLElBQUEsRUFBQSxZQUNBLEdBQUEsYUFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLFNBQUEsRUFBQSxVQUFBLEVBQUEsSUFBQSxVQW9CQSxPQUFBLElBRUEsS0FBQSxNQUFBLFNBQUEsR0FDQSxNQUFBLEdBQUEsUUFBQSxJQUFBLEVBQUEsV0FBQSxJQUFBLEVBQUEsV0FBQSxHQUNBLEVBQUEsUUFBQSxFQUNBLEVBQUEsU0FLQSxFQUFBLGVBQUEsUUFDQSxNQUxBLEdBQUEsSUFBQSxJQUNBLEdBQUEsT0FBQSxFQUFBLEdBQUEsRUFBQSxJQUFBLFdBTUEsRUFBQSxJQUFBLFNBQ0EsRUFBQSxJQUFBLFFBQUEsTUFBQSxHQUVBLElBRUEsS0FBQSxPQUFBLFdBQ0EsR0FBQSxHQUFBLEVBQUEsR0FDQSxPQUFBLEdBQUEsUUFDQSxFQUFBLFFBQUEsRUFDQSxFQUFBLFVBQUEsRUFDQSxFQUFBLFNBTUEsRUFBQSxlQUFBLE9BQ0EsTUFOQSxFQUFBLGNBQUEsRUFBQSxXQUNBLEVBQUEsWUFBQSxFQUFBLFVBRUEsR0FBQSxPQUFBLEVBQUEsR0FBQSxFQUFBLGFBS0EsR0FBQSxFQUFBLFFBQ0EsRUFBQSxPQUFBLE1BQUEsR0FDQSxHQUFBLEdBQ0EsRUFBQSxVQUNBLEVBQUEsU0FBQSxNQUFBLEdBRUEsR0FsQkEsR0FvQkEsS0FBQSxZQUFBLFdBQ0EsTUFBQSxLQUFBLEVBQUEsV0FDQSxFQUFBLE1BQ0EsU0FBQSxJQUFBLEdBQUEsRUFBQSxRQUFBLEVBQUEsU0FBQSxHQUFBLEVBQUEsV0FFQSxJQUVBLEVBQUEsT0FDQSxFQUFBLFNBRUEsRUFBQSxRQUVBLElBRUEsS0FBQSxPQUFBLFNBQUEsRUFBQSxHQWVBLE1BZEEsS0FBQSxJQUNBLEVBQUEsR0FFQSxJQUFBLElBQ0EsR0FBQSxHQUVBLEVBQUEsU0FDQSxHQUFBLFFBQUEsRUFBQSxHQUFBLEdBRUEsRUFBQSxJQUFBLElBQUEsRUFDQSxJQUNBLEVBQUEsSUFBQSxFQUNBLEVBQUEsUUFBQSxJQUFBLEdBRUEsR0FFQSxLQUFBLFVBQUEsU0FBQSxFQUFBLEdBcUJBLE1BcEJBLEtBQUEsSUFDQSxFQUFBLEtBRUEsSUFBQSxJQUNBLEdBQUEsR0FFQSxFQUFBLFFBRUEsRUFBQSxLQUNBLEdBQUEsUUFBQSxFQUFBLFFBQ0EsRUFBQSxPQUFBLEVBQ0EsRUFBQSxHQUFBLE9BQUEsR0FFQSxFQUFBLEdBQUEsT0FBQSxLQUFBLElBQUEsRUFBQSxLQUFBLElBQUEsRUFBQSxFQUFBLE9BTkEsR0FBQSxXQUFBLEVBQUEsR0FBQSxHQUFBLFFBQUEsRUFBQSxPQUFBLEVBQUEsTUFBQSxFQUFBLEdBUUEsRUFBQSxJQUFBLE9BQUEsRUFDQSxJQUNBLEVBQUEsT0FBQSxFQUNBLEVBQUEsUUFBQSxPQUFBLEdBRUEsR0FFQSxLQUFBLEtBQUEsV0FPQSxNQU5BLEdBQUEsT0FBQSxFQUNBLEVBQUEsUUFFQSxFQUFBLEtBQ0EsRUFBQSxHQUFBLE9BQUEsR0FGQSxHQUFBLFdBQUEsRUFBQSxHQUFBLEdBSUEsR0FFQSxLQUFBLE9BQUEsV0FDQSxFQUFBLE9BQUEsQ0FDQSxJQUFBLEdBQUEsRUFBQSxJQUFBLFNBQUEsQ0FNQSxPQUxBLEdBQUEsUUFFQSxFQUFBLEtBQ0EsRUFBQSxHQUFBLE9BQUEsR0FGQSxHQUFBLFdBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxJQUFBLE9BQUEsRUFBQSxRQUFBLFFBSUEsR0FFQSxLQUFBLFdBQUEsV0FDQSxNQUFBLEdBQUEsTUFBQSxFQUFBLFNBQUEsRUFBQSxRQUVBLEtBQUEsV0FBQSxTQUFBLEVBQUEsRUFBQSxHQU9BLE1BTkEsR0FBQSxNQUNBLFNBQUEsU0FBQSxFQUFBLElBQ0EsT0FBQSxFQUNBLE1BQUEsSUFBQSxFQUFBLEVBQUEsRUFDQSxPQUFBLElBRUEsR0FFQSxLQUFBLFdBQUEsS0FBQSxXQUNBLEtBQUEsZ0JBQUEsU0FBQSxFQUFBLEdBQ0EsR0FBQSxFQUVBLElBREEsRUFBQSxTQUFBLEVBQUEsS0FDQSxNQUFBLEdBR0EsSUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLE9BQUEsSUFDQSxJQUFBLEVBQUEsR0FBQSxXQUNBLEdBQUEsSUFBQSxFQUFBLEdBQUEsU0FDQSxFQUFBLEdBQUEsT0FDQSxJQUVBLEVBQUEsT0FBQSxFQUFBLE1BS0EsS0FBQSxtQkFBQSxXQUNBLEdBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxNQUNBLEtBQUEsSUFBQSxFQUFBLFdBQUEsR0FBQSxFQUFBLE9BQUEsQ0FDQSxLQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxJQUNBLEVBQUEsRUFBQSxJQUNBLEVBQUEsT0FBQSxFQUFBLFVBQUEsRUFBQSxXQUNBLEVBQUEsT0FBQSxFQUNBLElBQ0EsRUFBQSxPQUFBLE1BQUEsRUFBQSxPQUFBLEVBQUEsV0FDQSxFQUFBLEVBQUEsT0FHQSxRQUFBLEdBRUEsS0FBQSxpQkFBQSxTQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLE1BQ0EsS0FBQSxFQUFBLE9BQUEsQ0FDQSxLQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxJQUNBLEVBQUEsRUFBQSxHQUNBLEVBQUEsT0FBQSxHQUFBLEVBQUEsV0FDQSxFQUFBLE9BQUEsRUFDQSxJQUdBLFFBQUEsR0FFQSxFQUFBLFdBQ0EsR0FHQSxHQUFBLEVBSEEsRUFBQSxFQUFBLElBQ0EsRUFBQSxFQUFBLEtBQ0EsRUFBQSxFQUFBLEVBZ0JBLE9BZEEsR0FBQSxXQUNBLEVBQUEsZ0JBQUEsRUFBQSxHQUNBLEVBQUEsUUFFQSxFQUFBLFdBQ0EsT0FBQSxHQUFBLE1BQUEsSUFDQSxFQUFBLFdBQUEsRUFBQSxJQUdBLE9BQUEsR0FBQSxNQUFBLEtBQ0EsRUFBQSxTQUFBLEVBQ0EsRUFBQSxXQUFBLEVBQ0EsS0FFQSxHQUVBLEVBQUEsV0FDQSxHQUFBLEdBQ0EsRUFBQSxFQUFBLElBQUEsVUFDQSxJQUFBLEVBQ0EsSUFBQSxJQUFBLEdBQ0EsRUFBQSxlQUFBLElBQ0EsRUFBQSxXQUFBLFNBQUEsRUFBQSxJQUFBLEVBQUEsS0FLQSxFQUFBLFdBQ0EsR0FBQSxHQUNBLEVBQUEsRUFBQSxJQUFBLFVBQ0EsSUFBQSxFQUNBLElBQUEsSUFBQSxHQUNBLEVBQUEsZUFBQSxJQUNBLEVBQUEsZ0JBQUEsU0FBQSxFQUFBLE1BS0EsRUFBQSxXQUNBLEVBQUEsU0FDQSxFQUFBLElBR0EsRUFBQSxXQUNBLEVBQUEsU0FDQSxFQUFBLElBR0EsRUFBQSxTQUFBLEdBQ0EsSUFDQSxLQUNBLEVBQUEsR0FFQSxHQUFBLEVBQ0EsRUFBQSxVQUFBLEtBQ0EsRUFBQSxHQUFBLEtBQ0EsRUFBQSxnQkFBQSxFQUNBLEVBQUEsWUFBQSxLQUNBLEVBQUEsV0FBQSxLQUNBLEVBQUEsU0FBQSxFQUFBLEtBQUEsRUFBQSxJQUFBLFNBQUEsRUFBQSxJQUFBLFNBQUEsS0FDQSxFQUFBLGlCQUFBLEtBQ0EsRUFBQSxZQUNBLEVBQUEsVUFDQSxFQUFBLE9BQUEsUUFDQSxFQUFBLE9BQUEsU0FDQSxFQUFBLFNBQUEsRUFDQSxFQUFBLGFBQUEsRUFDQSxFQUFBLG1CQUNBLEVBQUEsY0FBQSxFQUNBLEVBQUEsUUFBQSxFQUNBLEVBQUEsWUFDQSxFQUFBLFdBQUEsRUFDQSxFQUFBLE9BQUEsRUFDQSxFQUFBLFFBQUEsRUFDQSxFQUFBLFVBQ0EsS0FBQSxFQUNBLE1BQUEsR0FFQSxFQUFBLGNBQ0EsUUFDQSxVQUVBLEVBQUEsVUFBQSxFQUNBLEVBQUEsU0FBQSxLQUNBLEVBQUEsUUFFQSxJQUNBLEtBQUEsU0FBQSxTQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLElBb0JBLFFBbkJBLEVBQUEsV0FBQSxJQUNBLEVBQUEsS0FBQSxJQUFBLEVBQUEsVUFBQSxHQUFBLElBQUEsRUFBQSxjQUFBLEVBQUEsVUFDQSxFQUFBLEVBQUEsc0JBQ0EsSUFBQSxFQUFBLFdBQ0EsRUFBQSxTQUFBLEVBQ0EsRUFBQSxTQUFBLEVBQ0EsR0FBQSxHQUVBLEVBQUEsaUJBQUEsRUFBQSxTQUNBLEVBQUEsRUFBQSxHQUFBLFlBQUEsSUFBQSxFQUNBLElBQUEsRUFBQSxPQUNBLEVBQUEsS0FBQSxFQUNBLEdBQUEsSUFFQSxHQUFBLElBQ0EsRUFBQSxjQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsSUFJQSxHQUVBLEtBQUEsb0JBQUEsV0FDQSxHQUFBLEdBQUEsRUFBQSxJQUNBLEVBQUEsRUFBQSxJQUFBLEVBQUEsR0FBQSxTQUFBLEVBQUEsR0FBQSxTQUFBLEdBQUEsR0FBQSxFQUFBLFNBQUEsRUFBQSxTQUFBLEtBQ0EsRUFBQSxJQUFBLE1BQUEsSUFBQSxNQUFBLEVBQUEsRUFBQSxJQUNBLE9BQUEsSUFFQSxLQUFBLFlBQUEsU0FBQSxFQUFBLEdBQ0EsRUFBQSxLQUFBLEVBQUEsRUFBQSxPQUFBLElBRUEsS0FBQSxhQUFBLFNBQUEsR0FDQSxHQUdBLEdBSEEsRUFBQSxFQUFBLEVBQUEsSUFBQSxHQUNBLEVBQUEsR0FBQSxHQUFBLEVBQUEsR0FDQSxFQUFBLFVBQUEsRUFBQSxJQVNBLElBUEEsR0FDQSxJQUFBLFVBQUEsTUFDQSxHQUFBLEdBRUEsSUFBQSxVQUFBLEtBQ0EsR0FBQSxHQUVBLEVBQUEsQ0FDQSxHQUFBLEVBQUEsR0FDQSxHQUFBLEdBQ0EsRUFBQSxJQUFBLEVBQUEsR0FBQSxZQUFBLEdBQ0EsRUFBQSxHQUFBLFdBRUEsS0FBQSxJQUFBLElBQUEsVUFBQSxHQUVBLE1BREEsR0FBQSxZQUFBLEVBQUEsRUFBQSxPQUNBLENBR0EsS0FDQSxHQUNBLEdBQUEsR0FFQSxFQUFBLElBQUEsRUFBQSxJQUNBLEVBQUEsSUFBQSxFQUFBLElBQ0EsRUFBQSxFQUFBLElBQ0EsR0FBQSxFQUFBLElBQ0EsRUFBQSxjQUFBLE9BR0EsR0FBQSxVQUFBLEVBQUEsVUFDQSxFQUFBLEdBQUEsR0FBQSxPQUFBLEVBQUEsS0FDQSxFQUFBLEdBQUEsUUFFQSxFQUFBLEdBQUEsSUFBQSxNQUFBLFVBQUEsR0FBQSxHQUFBLE9BQUEsTUFBQSxHQUFBLE9BRUEsRUFBQSxFQUFBLEdBQ0EsRUFBQSxjQUFBLEVBQ0EsS0FDQSxHQUFBLEVBY0EsT0FYQSxHQUFBLFNBQUEsRUFDQSxFQUFBLEdBQUEsRUFDQSxFQUFBLEdBQUEsRUFDQSxJQUNBLEVBQUEsWUFBQSxFQUFBLEVBQUEsT0FDQSxFQUFBLFVBQUEsRUFBQSxTQUNBLEVBQUEsUUFFQSxFQUFBLFlBQUEsRUFDQSxFQUFBLFFBQUEsUUFFQSxHQUVBLEVBQUEsV0FHQSxRQUFBLEdBQUEsRUFBQSxFQUFBLEdBQ0EsTUFBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLGlCQUFBLEVBQUEsRUFBQSxJQUFBLEdBQUEsS0FIQSxHQUFBLEVBQUEsR0FBQSxjQUFBLE9BQUEsQ0FDQSxJQUFBLEVBSUEsR0FBQSxHQUFBLGVBQUEsQ0FDQSxLQUFBLElBQUEsSUFDQSxHQUFBLGVBQUEsSUFDQSxFQUFBLEVBQUEsR0FBQSxHQUdBLFFBQUEsR0FFQSxFQUFBLFdBRUEsUUFBQSxHQUFBLEVBQUEsRUFBQSxHQUNBLE1BQUEsR0FBQSxHQUFBLEVBQUEsR0FBQSxvQkFBQSxFQUFBLEVBQUEsSUFBQSxHQUFBLEtBRkEsR0FBQSxFQUlBLEdBQUEsR0FBQSxlQUFBLENBQ0EsS0FBQSxJQUFBLElBQ0EsR0FBQSxlQUFBLElBQ0EsRUFBQSxFQUFBLEdBQUEsS0FJQSxLQUFBLFFBQUEsU0FBQSxHQUNBLEdBQ0EsS0FBQSxJQUFBLEVBQUEsU0FBQSxJQUFBLEdBQUEsRUFBQSxRQVlBLE9BWEEsR0FBQSxPQUFBLEVBQ0EsRUFBQSxXQUFBLEVBQUEsRUFBQSxFQUNBLEVBQUEsZ0JBQUEsR0FDQSxHQUFBLEVBQUEsU0FDQSxFQUFBLFdBRUEsRUFBQSxJQUFBLFFBQ0EsR0FBQSxFQUFBLFdBQ0EsRUFBQSxJQUFBLE9BQUEsTUFBQSxHQUFBLE9BR0EsR0FFQSxLQUFBLFNBQUEsU0FBQSxFQUFBLEdBQ0EsRUFBQSxJQUFBLFNBQ0EsR0FBQSxFQUFBLFdBQ0EsRUFBQSxJQUFBLFFBQUEsTUFBQSxHQUFBLEVBQUEsT0FJQSxLQUFBLGdCQUFBLFNBQUEsR0FDQSxNQUFBLEtBQUEsRUFBQSxXQUFBLEVBQ0EsR0FBQSxFQUFBLGNBQUEsSUFBQSxFQUFBLGFBQUEsR0FDQSxFQUFBLFlBQUEsSUFBQSxFQUNBLEVBQUEsSUFBQSxnQkFDQSxFQUFBLElBQUEsZUFBQSxNQUFBLEdBQUEsS0FFQSxJQUVBLEtBQUEsV0FBQSxXQUlBLE1BSEEsR0FBQSxJQUFBLFdBQ0EsRUFBQSxJQUFBLFVBQUEsTUFBQSxJQUVBLEdBRUEsS0FBQSxXQUFBLFNBQUEsRUFBQSxFQUFBLEdBQ0EsRUFBQSxXQUNBLEVBQUEsSUFBQSxXQUFBLElBQUEsRUFBQSxVQUNBLEVBQUEsSUFBQSxVQUFBLEVBQUEsRUFBQSxJQUlBLEtBQUEsV0FBQSxTQUFBLEVBQUEsRUFBQSxHQUNBLEVBQUEsSUFBQSxXQUNBLEVBQUEsSUFBQSxVQUFBLEVBQUEsRUFBQSxJQUdBLEtBQUEsVUFBQSxXQUNBLEdBQUEsR0FBQSxFQUFBLElBQUEsUUFDQSxHQUFBLGdCQUFBLEdBQ0EsRUFBQSxpQkFBQSxHQUNBLEVBQUEsZ0JBQ0EsRUFBQSxnQkFDQSxFQUFBLGdCQUNBLElBQ0EsRUFBQSxVQUFBLEVBQ0EsRUFBQSxRQUFBLEVBQ0EsRUFBQSxjQUFBLEVBQ0EsRUFBQSxtQkFDQSxFQUFBLE9BQ0EsSUFDQSxFQUFBLFVBQ0EsRUFBQSxTQUFBLE1BR0EsRUFBQSxlQUFBLEVBQUEsSUFBQSxrQkFDQSxHQUNBLEdBQUEsRUFBQSxXQUNBLEVBQUEsTUFBQSxPQU1BLEtBQUEsY0FBQSxTQUFBLEVBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsR0FDQSxHQUFBLFlBQUEsRUFDQSxFQUFBLFdBQUEsRUFDQSxFQUFBLFNBQUEsS0FBQSxNQUFBLEdBQ0EsRUFBQSxhQUFBLEVBUUEsRUFBQSxpQkFQQSxFQUFBLFNBQUEsRUFBQSxZQU9BLEVBQUEsU0FOQSxFQUFBLFNBQ0EsRUFBQSxTQUFBLEVBQUEsU0FBQSxFQUFBLFNBQUEsRUFBQSxTQUVBLFNBQUEsRUFBQSxXQUFBLEVBQUEsWUFBQSxFQUFBLFNBQUEsSUFLQSxFQUFBLFVBQ0EsRUFBQSxXQUNBLE1BQUEsRUFDQSxJQUFBLEVBQUEsYUFHQSxJQUFBLEVBQUEsWUFBQSxFQUFBLFVBQUEsRUFBQSxjQUNBLEVBQUEsYUFBQSxNQUFBLElBR0EsS0FBQSxjQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUNBLEdBQ0EsR0FEQSxFQUFBLEVBQUEsR0FFQSxPQUFBLE9BQUEsSUFBQSxPQUFBLEdBQUEsR0FDQSxFQUFBLFNBQUEsS0FBQSxJQUFBLEVBQUEsR0FDQSxFQUFBLHNCQUNBLEVBQUEsU0FBQSxFQUFBLElBQ0EsRUFBQSxhQUFBLElBQUEsR0FBQSxJQUNBLEVBQUEsVUFDQSxLQUFBLEVBQUEsU0FDQSxNQUFBLEVBQUEsWUFHQSxFQUFBLGlCQUFBLElBQUEsR0FBQSxJQUNBLEVBQUEsY0FDQSxLQUFBLEVBQUEsTUFBQSxLQUNBLE1BQUEsRUFBQSxNQUFBLE9BR0EsRUFBQSxXQUNBLElBQUEsR0FBQSxHQUFBLEVBQUEsU0FDQSxFQUFBLEVBQUEsT0FBQSxNQUFBLEtBQ0EsRUFBQSxPQUFBLEVBQ0EsRUFBQSxPQUFBLEtBQUEsRUFDQSxFQUFBLFVBQUEsR0FBQSxFQUFBLFVBQ0EsRUFBQSxPQUFBLE1BQUEsRUFBQSxRQUFBLE1BQUEsUUFLQSxJQUFBLEVBQUEsWUFDQSxFQUFBLFNBQUEsSUFBQSxHQUFBLEVBQUEsV0FBQSxFQUFBLGFBQ0EsRUFBQSxnQkFBQSxHQUVBLEVBQUEsY0FDQSxFQUFBLGFBQUEsTUFBQSxLQUdBLElBRUEsS0FBQSxlQUFBLFNBQUEsR0FDQSxFQUFBLFlBQUEsRUFDQSxFQUFBLElBQUEsZUFDQSxFQUFBLElBQUEsY0FBQSxNQUFBLEdBQUEsS0FHQSxLQUFBLFlBQUEsU0FBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsSUFDQSxLQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxFQUFBLEVBQUEsSUFDQSxFQUFBLEVBQUEsSUFBQSxFQUFBLEVBRUEsR0FBQSxTQUFBLEVBQ0EsRUFBQSxJQUFBLFlBQ0EsRUFBQSxJQUFBLFdBQUEsS0FBQSxFQUFBLEVBQUEsV0FHQSxLQUFBLE9BQUEsU0FBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsSUFDQSxLQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxFQUFBLEVBQUEsSUFDQSxFQUFBLEVBQUEsSUFBQSxFQUFBLEVBRUEsR0FBQSxJQUFBLEVBQUEsRUFBQSxJQUFBLEdBQ0EsRUFBQSxJQUFBLE9BQ0EsRUFBQSxJQUFBLE1BQUEsTUFBQSxJQUdBLEtBQUEsV0FBQSxTQUFBLEdBQ0EsRUFBQSxJQUFBLEVBQ0EsRUFBQSxVQUFBLEVBQ0EsSUFDQSxFQUFBLFNBQUEsRUFDQSxFQUFBLEVBQUEsTUFDQSxFQUFBLGNBQ0EsRUFBQSxLQUFBLEVBQUEsRUFBQSxlQUNBLEVBQUEsSUFBQSxVQUNBLEVBQUEsUUFHQSxFQUFBLElBQUEsV0FDQSxFQUFBLElBQUEsVUFBQSxNQUFBLEdBQUEsTUFJQSxLQUFBLGFBQUEsV0FDQSxFQUFBLFVBQUEsR0FDQSxFQUFBLElBQUEsYUFDQSxFQUFBLElBQUEsWUFBQSxNQUFBLEtBS0EsRUFBQSxXQUNBLE1BQUEsSUFBQSxNQUFBLEdBQUEscUJBQUEsT0FBQSxJQUVBLEVBQUEsU0FBQSxHQUNBLE1BQUEsSUFBQSxlQUFBLElBRUEsRUFBQSxTQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEtBQ0EsR0FBQSxJQUFBLEVBQUEsR0FBQSxlQUFBLENBQ0EsS0FBQSxJQUFBLEdBQ0EsRUFBQSxlQUFBLElBQUEsRUFBQSxLQUFBLElBRUEsRUFBQSxHQURBLGdCQUFBLEdBQUEsSUFBQSxPQUFBLEVBQUEsR0FDQSxFQUFBLEdBRUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxJQUlBLE9BQUEsSUFFQSxHQUFBLFNBQUEsRUFBQSxHQUNBLEVBQUEsU0FBQSxJQUFBLEVBR0EsSUFGQSxFQUFBLFdBQUEsRUFBQSxJQUtBLEdBQ0EsUUFBQSxFQUNBLFVBQUEsRUFDQSxlQUFBLEVBQ0EsY0FBQSxFQUNBLGlCQUFBLEdBRUEsRUFBQSxTQUFBLEVBQUEsR0FDQSxHQUFBLEdBQ0EsR0FBQSxFQUNBLEVBQUEsSUFBQSxFQUNBLEVBQUEsR0FBQSxhQUNBLEVBQUEsQ0FDQSxLQUFBLElBQUEsR0FDQSxHQUFBLEVBQUEsZUFBQSxHQUNBLEdBQUEsZ0JBQUEsR0FBQSxJQUFBLE9BQUEsRUFBQSxJQUFBLEVBQUEsWUFBQSxRQUFBLEVBQUEsWUFBQSxRQUNBLEdBQUEsRUFBQSxLQUFBLEVBQ0EsR0FBQSxHQUFBLEdBQUEsRUFBQSxHQUNBLEVBQUEsS0FBQSxHQUNBLEdBQUEsYUFBQSxHQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxJQUNBLEVBQUEsS0FBQSxFQUNBLEdBQUEsRUFDQSxHQUFBLFlBQUEsVUFDQSxHQUFBLEdBQUEsTUFBQSxHQUFBLEVBQUEsWUFBQSxPQUFBLEVBQUEsSUFBQSxFQUFBLEtBRUEsR0FBQSxHQUFBLEVBQUEsT0FFQSxDQUFBLEdBQUEsRUFBQSxLQUFBLEVBR0EsTUFBQSxHQUFBLEVBQUEsR0FBQSxFQUZBLElBQUEsRUFNQSxNQUFBLElBS0EsR0FBQSxXQU1BLFFBQUEsR0FBQSxHQUNBLEdBQUEsR0FBQSxHQUFBLEtBQUEsR0FDQSxFQUFBLEVBQUEsTUFTQSxPQVJBLElBQ0EsRUFBQSxHQUFBLEtBQUEsRUFBQSxHQUNBLEVBQUEsR0FDQSxFQUFBLE9BRUEsSUFBQSxHQUNBLEVBQUEsTUFBQSxHQUVBLEVBRUEsUUFBQSxHQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxRQUNBLEdBQUEsRUFBQSxHQUNBLEdBQ0EsRUFBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLElBRUEsRUFBQSxHQUFBLE1BQUEsRUFBQSxHQUdBLFFBQUEsS0FDQSxFQUFBLEVBQUEsV0FBQSxPQUVBLFFBQUEsS0FDQSxFQUFBLEVBQUEsV0FBQSxVQS9CQSxHQUFBLEdBQUEsRUFBQSxZQUNBLEdBQ0EsSUFBQSxFQUFBLGNBQUEsbUJBQ0EsT0FBQSxFQUFBLGNBQUEsc0JBOEJBLFFBQ0EsSUFBQSxFQUNBLE9BQUEsTUFlQSxJQUNBLE1BQUEsRUFBQSxjQUVBLFFBQUEsRUFBQSxXQUNBLEdBQ0EsR0FEQSxFQUFBLEtBQUEsRUFFQSxLQUFBLEVBQUEsZUFBQSxDQU1BLEdBSEEsRUFBQSxnQkFBQSxFQUNBLEVBQUEsZ0JBQUEsR0FDQSxFQUFBLEVBQUEsSUFBQSxXQUFBLEdBQUEsTUFBQSxFQUFBLElBQUEsVUFBQSxLQUFBLEVBQUEsSUFBQSxTQUFBLEdBQ0EsS0FBQSxjQUFBLEVBQ0EsSUFDQSxLQUFBLFlBQUEsRUFDQSxNQUFBLElBR0EsRUFBQSxJQUFBLFlBQ0EsRUFBQSxJQUFBLGdCQUdBLGVBQUEsRUFBQSxXQUNBLEdBQUEsR0FBQSxLQUFBLEVBQ0EsR0FBQSxTQUNBLEVBQUEsZ0JBQUEsR0FDQSxFQUFBLGNBQUEsRUFBQSxZQUFBLEVBQUEsV0FBQSxFQUFBLHVCQUNBLEVBQUEsU0FBQSxNQUdBLGVBQUEsRUFBQSxXQUNBLEdBQ0EsR0FEQSxFQUFBLEtBQUEsRUFFQSxHQUFBLEVBQUEsc0JBQ0EsTUFBQSxJQUFBLElBQUEsRUFBQSxXQUNBLEVBQUEsaUJBQUEsRUFBQSxTQUFBLEtBR0EsTUFBQSxFQUFBLFdBQ0EsR0FBQSxHQUFBLEtBQUEsRUFDQSxHQUFBLGNBRUEsTUFBQSxFQUFBLFdBQ0EsR0FBQSxHQUFBLEVBQUEsS0FBQSxNQUFBLE9BQUEsSUFDQSxNQUFBLEdBQUEsU0FBQSxHQUNBLEtBQUEsR0FBQSxTQUFBLEtBQUEsTUFBQSxLQUFBLEtBRUEsV0FBQSxFQUFBLFdBQ0EsR0FBQSxHQUFBLEtBQUEsRUFDQSxHQUFBLFNBQUEsS0FDQSxFQUFBLFNBQUEsRUFBQSx5QkFHQSxlQUFBLEVBQUEsY0FFQSxVQUFBLEVBQUEsV0FDQSxLQUFBLEdBQUEsZ0JBQUEsS0FFQSxLQUFBLEVBQUEsV0FDQSxLQUFBLEdBQUEsZ0JBQUEsS0FFQSxRQUFBLEVBQUEsV0FDQSxLQUFBLEdBQUEsZ0JBQUEsS0FFQSxTQUFBLEVBQUEsU0FBQSxHQUNBLEdBQ0EsR0FBQSxFQURBLEVBQUEsS0FBQSxHQUNBLEVBQUEsRUFFQSxHQURBLGFBQUEsRUFBQSxLQUNBLEVBQUEsT0FBQSxVQUNBLEVBQUEsRUFBQSxRQUFBLEVBQ0EsRUFBQSxFQUFBLE9BQUEsQ0FFQSxJQURBLEVBQUEsWUFDQSxHQUFBLEVBQUEsT0FBQSxDQUNBLElBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLEVBQUEsRUFBQSxJQUNBLEVBQUEsU0FBQSxNQUNBLE1BQUEsRUFBQSxNQUFBLEdBQUEsR0FDQSxJQUFBLEVBQUEsSUFBQSxHQUFBLElBR0EsSUFBQSxFQUFBLElBQUEsR0FBQSxFQUFBLE1BQUEsSUFBQSxHQUNBLEVBQUEsS0FBQSxJQUFBLEVBQUEsR0FBQSxFQUFBLE9BQUEsU0FBQSxLQUVBLE1BQUEsS0FDQSxFQUFBLGNBQUEsRUFBQSxFQUFBLEVBQUEsdUJBQ0EsR0FBQSxHQUFBLElBQUEsR0FDQSxHQUFBLGVBQUEsS0FBQSxLQUFBLE1BSUEsV0FBQSxFQUFBLGNBRUEsUUFBQSxFQUFBLFNBQUEsR0FDQSxHQUFBLEdBQUEsS0FBQSxFQUNBLElBQUEsU0FBQSxLQUFBLEtBQUEsR0FDQSxFQUFBLGVBRUEsUUFBQSxFQUFBLGNBRUEsV0FBQSxFQUFBLFdBQ0EsS0FBQSxHQUFBLGFBRUEsUUFBQSxFQUFBLFdBQ0EsR0FBQSxHQUFBLEtBQUEsRUFDQSxHQUFBLGdCQUFBLE1BR0EsRUFBQSxTQUFBLEdBQ0EsR0FBQSxFQVFBLE9BSkEsR0FIQSxJQUFBLEVBQUEsTUFBQSxFQUFBLEtBQUEsRUFBQSxXQUVBLEVBQUEsV0FBQSxFQUFBLE1BQUEsRUFBQSxFQUFBLE9BQ0EsRUFFQSxFQUFBLEtBQUEsR0FBQSxLQUFBLEVBQUEsT0FBQSxHQUFBLElBQUEsRUFBQSxPQUFBLEdBQUEsV0FBQSxFQUFBLElBQUEsTUFBQSxXQUpBLEdBUUEsR0FBQSxTQUFBLEdBQ0EsR0FBQSxFQVdBLE9BVkEsS0FDQSxFQUFBLEdBQUEsR0FBQSxHQUFBLE1BQUEsWUFBQSxhQUFBLEdBQUEsR0FDQSxFQUFBLElBQUEsRUFDQSxFQUFBLGlCQUFBLElBQ0EsRUFBQSxjQUFBLElBR0EsS0FDQSxHQUFBLE1BRUEsR0FFQSxFQUFBLFNBQUEsR0FDQSxJQUFBLEdBQUEsZ0JBQUEsR0FBQSxTQUFBLE9BQUEsQ0FDQSxJQUdBLEdBQ0EsRUFDQSxFQUNBLEVBTkEsRUFBQSxFQUFBLEtBQUEsS0FDQSxFQUFBLEVBQUEsTUFBQSxLQUNBLEVBQUEsR0FBQSxZQUtBLElBQUEsR0FBQSxHQUFBLE1BQUEsS0FBQSxFQUFBLE1BQUEsSUFBQSxNQUFBLEtBQUEsRUFBQSxFQUNBLEtBQUEsR0FBQSxDQUNBLEtBQ0EsS0FBQSxJQUFBLEdBQ0EsRUFBQSxlQUFBLEtBQ0EsR0FBQSxLQUFBLEdBQ0EsRUFBQSxHQUFBLFVBQ0EsR0FBQSxHQUFBLE9BQUEsRUFBQSxHQUFBLFVBSUEsSUFBQSxHQUFBLFFBQUEsT0FBQSxHQUFBLEtBQUEsS0FBQSxhQUFBLEtBcUJBLE1BbkJBLEdBQUEsRUFBQSxFQUFBLGNBQUEsTUFBQSxJQUFBLEtBQ0EsR0FBQSxFQUFBLE9BUUEsRUFBQSxFQUFBLEdBUEEsR0FHQSxFQUFBLEVBQUEsUUFBQSxLQUNBLEdBQUEsS0FBQSxFQUFBLEVBQUEsT0FBQSxFQUFBLEdBQUEsR0FBQSxPQUFBLElBSEEsR0FBQSxFQVFBLEdBQUEsR0FBQSxNQUFBLEtBQUEsRUFDQSxFQUFBLEdBQUEsTUFBQSxLQUFBLEVBQUEsSUFFQSxFQUFBLFNBQUEsRUFDQSxFQUFBLEdBQUEsTUFBQSxhQUFBLEtBQUEsSUFDQSxHQUFBLE1BQUEsR0FBQSxFQUNBLEVBQUEsR0FBQSxHQUFBLE1BQUEsS0FBQSxFQUFBLElBRUEsR0FFQSxHQUFBLFdBUUEsUUFBQSxHQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQ0EsR0FBQSxFQUNBLEdBQUEsQ0FDQSxLQUFBLEdBQUEsa0JBQUEsR0FBQSxZQUFBLE1BQUEsRUFDQSxJQUFBLFlBQUEsT0FBQSxDQUNBLElBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLEVBQUEsRUFBQSxLQUNBLEdBQUEsTUFBQSxFQUFBLEtBQUEsRUFBQSxZQUFBLEVBQUEsSUFBQSxNQUFBLEdBQUEsY0FDQSxHQUFBLEVBQ0EsR0FBQSxNQUFBLEVBQUEsS0FBQSxFQUNBLEdBQUEsTUFBQSxFQUFBLE1BQUEsRUFBQSxHQUFBLE1BQUEsSUFHQSxHQUFBLE1BRUEsR0FBQSxHQUFBLGtCQUFBLEdBQUEsWUFBQSxFQUFBLFlBQUEsSUFBQSxFQUNBLEtBQUEsSUFBQSxFQUFBLE1BQUEsR0FBQSxXQUVBLE9BQUEsR0F6QkEsSUFBQSxHQUFBLGdCQUFBLEdBQUEsU0FHQSxNQUZBLElBQUEsTUFBQSxZQUFBLEVBQ0EsSUFBQSxHQUNBLENBRUEsSUFDQSxHQUFBLEVBQUEsRUFBQSxFQURBLEVBQUEsUUFBQSxFQUFBLElBQUEsTUFBQSxVQUFBLEdBQUEsR0FBQSxPQUFBLE1BQUEsR0FBQSxPQUFBLEtBQ0EsSUFxQkEsR0FBQSxHQUFBLFlBQ0EsS0FBQSxJQUFBLEdBQ0EsR0FBQSxFQUFBLGVBQUEsS0FDQSxFQUFBLFNBQUEsRUFDQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEdBQUEsTUFDQSxFQUFBLEdBQUEsRUFBQSxHQUNBLEVBQUEsTUFBQSxLQUNBLEdBQUEsTUFBQSxJQUFBLEVBQ0EsR0FBQSxNQUFBLElBQUEsSUFFQSxHQUFBLE1BQUEsSUFBQSxFQUNBLEdBQUEsTUFBQSxJQUFBLEdBRUEsRUFBQSxJQUFBLEVBQUEsR0FBQSxTQUNBLElBQUEsRUFBQSxFQUFBLEdBQUEsUUFBQSxPQUFBLEVBQUEsR0FBQSxFQUFBLElBQ0EsRUFBQSxTQUFBLEVBQUEsR0FBQSxRQUFBLElBQUEsRUFBQSxHQUNBLEdBQUEsTUFBQSxFQUFBLEdBQUEsUUFBQSxJQUFBLEVBQUEsR0FDQSxHQUFBLE1BQUEsRUFBQSxHQUFBLFFBQUEsSUFBQSxFQUFBLEVBU0EsT0FKQSxHQUFBLFlBQUEsRUFBQSxFQUFBLEtBQ0EsR0FBQSxNQUFBLEVBQUEsR0FBQSxNQUFBLEdBQ0EsR0FBQSxNQUFBLFdBQUEsSUFDQSxHQUFBLEdBQUEsTUFBQSxZQUNBLEdBRUEsS0FFQSxFQUFBLGFBRUEsRUFBQSxTQUFBLEdBSUEsTUFIQSxLQUFBLEdBQUEsRUFBQSxNQUFBLEdBQUEsRUFBQSxTQUNBLEVBQUEsUUFBQSxHQUVBLEdBRUEsRUFBQSxTQUFBLEdBSUEsTUFIQSxLQUFBLEVBQUEsZ0JBQUEsRUFBQSxPQUFBLEVBQUEsYUFBQSxFQUFBLGlCQUFBLEVBQUEsYUFDQSxFQUFBLGVBQUEsR0FFQSxHQUVBLEVBQUEsYUFFQSxFQUFBLFdBQ0EsT0FBQSxHQUVBLEVBQUEsU0FBQSxHQUNBLEdBQUEsRUFDQSxLQUFBLElBQUEsR0FDQSxFQUFBLGVBQUEsSUFBQSxrQkFBQSxHQUFBLEtBQ0EsRUFBQSxHQUFBLEVBR0EsR0FBQSxNQUVBLEVBQUEsU0FBQSxHQUNBLElBQUEsSUFDQSxHQUFBLElBRUEsSUFBQSxJQUNBLEdBQUEsUUFBQSxJQUdBLEVBQUEsU0FBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLElBQ0EsSUFBQSxFQUNBLEdBQUEsRUFBQSxNQUFBLG1CQUVBLEdBREEsRUFBQSxFQUFBLE9BQUEsRUFBQSxjQUFBLFlBQUEsU0FBQSxHQUNBLE1BQUEsT0FDQSxHQUFBLFlBQUEsT0FBQSxFQUFBLE9BQUEsSUFDQSxHQUFBLElBT0EsT0FKQSxJQUFBLEdBQUEsS0FBQSxFQUFBLFlBQUEsS0FBQSxFQUFBLE9BQUEsRUFBQSxFQUFBLFlBQUEsS0FBQSxHQUFBLE1BQUEsR0FBQSxTQUNBLEdBQUEsYUFDQSxHQUFBLFFBQUEsR0FBQSxPQUFBLFdBRUEsR0FFQSxFQUFBLFdBQ0EsRUFBQSxTQUFBLEdBQUEsYUFBQSxJQUNBLElBQUEsR0FBQSxJQUFBLElBQ0EsR0FBQSxhQUFBLEVBQUEsR0FFQSxJQUFBLEdBQUEsR0FBQSxXQUFBLEdBQUEsV0FBQSxhQUFBLE1BQ0EsSUFBQSxnQkFBQSxHQUFBLFdBQUEsR0FBQSxhQUFBLElBQUEsVUFBQSxFQUFBLElBQ0EsR0FBQSxhQUFBLEVBQUEsR0FFQSxHQUFBLFFBQUEsR0FBQSxlQUFBLEdBQUEsVUFBQSxxQkFBQSxJQUFBLEVBQUEsaUJBQUEsa0JBQ0EsRUFBQSxHQUNBLEdBQUEsZUFBQSxFQUFBLEdBQUEsZUFBQSxHQUFBLGVBQ0EsR0FBQSxTQUFBLFdBQUEsRUFDQSxHQUFBLGVBQUEsRUFBQSxHQUFBLGVBQUEsR0FBQSxrQkFDQSxHQUFBLGFBQUEsT0FBQSxHQUFBLFFBQUEsV0FBQSxHQUFBLEtBQUEsS0FBQSxhQUFBLEtBQ0EsR0FBQSxTQUFBLFdBQUEsR0FFQSxHQUFBLFNBQUEsV0FBQSxFQUVBLEdBQUEsWUFBQSxHQUFBLGFBQUEsSUFBQSxFQUFBLFNBQUEsVUFDQSxHQUFBLFVBQUEsSUFBQSxFQUFBLG9CQUFBLDRCQUFBLFFBQUEsT0FBQSxHQUNBLEdBQUEsU0FBQSxTQUFBLEdBQUEsU0FBQSxhQUFBLEdBQUEsU0FBQSxPQUFBLEVBQUEsR0FFQSxFQUFBLFNBQUEsRUFBQSxHQUNBLElBR0EsR0FBQSxZQUFBLEVBQUEsSUFFQSxFQUFBLGFBRUEsRUFBQSxLQUFBLGFBQ0EsRUFBQSxXQUNBLEdBQUEsS0FVQSxPQVRBLElBQUEsV0FDQSxFQUFBLEtBQUEsRUFBQSxVQUVBLEdBQUEsWUFDQSxFQUFBLEtBQUEsRUFBQSxZQUVBLEdBQUEsb0JBQ0EsRUFBQSxLQUFBLEVBQUEsVUFFQSxFQUFBLEtBQUEsTUFFQSxFQUFBLFdBQ0EsR0FDQSxJQURBLEVBQUEsYUFDQSxHQUFBLG1CQUNBLEVBQUEsRUFDQSxHQUNBLEtBQUEsYUFFQSxJQUFBLFlBR0EsR0FBQSxLQVlBLEdBQUEsTUFDQSxHQUFBLElBQUEsV0FBQSxJQUFBLEVBQUEsV0FBQSxFQUFBLFdBQUEsR0FBQSxjQUFBLElBQUEsRUFBQSxhQUFBLEtBQUEsS0FBQSxPQVpBLEtBQ0EsR0FBQSxJQUFBLFVBQUEsSUFBQSxJQUFBLEVBQUEsV0FBQSxLQUFBLE9BQUEsRUFBQSxFQUFBLFlBQUEsRUFBQSxXQUVBLEdBQUEsZUFBQSxFQUNBLEdBQ0EsS0FBQSxZQUNBLFlBQUEsRUFDQSxNQUFBLElBRUEsRUFBQSxNQU9BLEVBQUEsU0FBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEtBQUEsSUFDQSxHQUFBLE9BRUEsR0FBQSxHQUFBLE1BQ0EsT0FBQSxFQUNBLE1BQUEsR0FBQSxLQUNBLE9BQUEsS0FHQSxFQUFBLFNBQUEsR0FNQSxHQUxBLElBQ0EsR0FDQSxLQUFBLEdBQUEsS0FBQSxVQUFBLGVBR0EsSUFBQSxJQUFBLEVBQUEsV0FBQSxPQUFBLENBQ0EsSUFBQSxjQUFBLEVBQUEsT0FBQSxHQUFBLE1BQUEsS0FBQSxFQUFBLFlBQUEsT0FBQSxDQUNBLElBSUEsR0FBQSxFQUpBLEdBQ0EsUUFBQSxHQUFBLEVBQUEsV0FBQSxHQUFBLE1BQUEsSUFFQSxFQUFBLEdBQUEsRUFBQSxLQUFBLEdBQUEsRUFBQSxhQUNBLEtBQ0EsR0FBQSxHQUNBLEVBQUEsS0FBQSxHQUFBLElBSUEsS0FIQSxFQUFBLFFBQ0EsRUFBQSxHQUFBLE1BQUEsRUFBQSxPQUVBLEVBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxFQUFBLEVBQUEsSUFDQSxFQUFBLEdBQUEsU0FBQSxHQUNBLEVBQUEsS0FBQSxFQUFBLEdBR0EsSUFBQSxFQUFBLE9BQ0EsSUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLE9BQUEsRUFBQSxFQUFBLElBQ0EsRUFBQSxHQUFBLE1BQ0EsRUFBQSxHQUFBLE9BQUEsTUFBQSxFQUFBLEdBQUEsTUFBQSxHQUVBLEVBQUEsR0FBQSxPQUFBLE1BQUEsS0FBQSxHQUVBLElBQ0EsRUFBQSxHQUFBLE9BQUEsRUFJQSxRQUFBLEdBRUEsRUFBQSxXQUNBLEVBQUEsV0FBQSxXQUNBLEdBQUEsZUFDQSxJQUVBLElBQ0Esa0JBQUEsSUFBQSxRQUNBLEdBQUEsT0FBQSxNQUFBLEdBRUEsR0FBQSxtQkFDQSxHQUFBLElBQUEsRUFBQSxPQUFBLElBRUEsSUFFQSxHQUFBLFdBQ0EsR0FBQSxLQUFBLEVBQUEsTUFBQSxHQUNBLElBQUEsR0FBQSxFQUFBLEVBQ0EsRUFEQSxHQUFBLEVBQUEsRUFBQSxVQUFBLEVBQUEsRUFBQSxhQUVBLEtBQ0EsRUFBQSxFQUFBLFFBQ0EsTUFBQSxHQUNBLEVBQUEsT0FFQSxHQUFBLEdBQUEsRUFBQSxPQUNBLEVBQUEsZ0NBQ0EsRUFBQSxFQUFBLFVBQ0EsR0FBQSxFQUFBLElBQUEsRUFBQSxHQUFBLGVBQUEsRUFBQSxHQUFBLGNBQUEsY0FDQSxHQUFBLE9BRUEsSUFBQSxJQUFBLElBQUEsR0FBQSxNQUFBLGNBQUEsQ0FDQSxJQUNBLEVBQUEsR0FBQSxHQUFBLGlDQUNBLE1BQUEsR0FDQSxFQUFBLEtBRUEsSUFBQSxFQUNBLEVBQUEsS0FHQSxNQURBLElBQUEsRUFDQSxHQUVBLEVBQUEsV0FDQSxHQUFBLEdBQ0EsRUFDQSxFQUFBLEdBQUEsYUFDQSxFQUFBLE1BQUEsR0FBQSxNQUFBLHNCQVlBLElBWEEsR0FDQSxHQUFBLFVBQUEsRUFDQSxHQUFBLFdBQUEsRUFDQSxHQUFBLE1BQ0EsR0FBQSxJQUFBLE1BQUEsUUFBQSxTQUVBLEdBQUEsZ0JBQ0EsR0FBQSxPQUFBLEdBQUEsTUFBQSxjQUNBLEdBQUEsVUFBQSxJQUdBLEdBQUEsZUFBQSxHQUFBLFNBQUEsQ0FDQSxHQUFBLENBQ0EsS0FBQSxJQUFBLEdBQ0EsRUFBQSxlQUFBLElBQ0EsRUFBQSxHQUFBLFdBQ0EsR0FBQSxNQUFBLFlBQUEsRUFBQSxHQUFBLE1BR0EsR0FBQSxjQUFBLEdBQUEsTUFBQSxJQUFBLEdBQUEsTUFBQSxFQUFBLEdBQUEsU0FDQSxHQUFBLElBSEEsR0FBQSxFQUNBLEdBQUEsSUFhQSxNQUxBLElBQUEsY0FDQSxHQUFBLEVBQ0EsR0FBQSxHQUVBLEdBQUEsVUFBQSxHQUFBLFVBQUEsR0FBQSxnQkFBQSxHQUNBLEdBQUEsV0FFQSxFQUFBLFNBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsQ0FDQSxJQUFBLFlBQUEsT0FBQSxDQUNBLElBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLEVBQUEsRUFBQSxJQUNBLEdBQUEsRUFBQSxZQUFBLFNBQ0EsR0FBQSxHQUFBLFlBQUEsRUFBQSxHQUFBLE1BQUEsQ0FDQSxFQUFBLENBQ0EsWUFFQSxJQUFBLEdBQUEsV0FBQSxFQUFBLElBQUEsQ0FDQSxFQUFBLENBQ0EsT0FHQSxFQUFBLEdBQUEsTUFDQSxFQUFBLEdBQUEsRUFBQSxHQUFBLEtBRUEsRUFBQSxFQUFBLE9BRUEsR0FBQSxDQUVBLE9BQUEsSUFFQSxFQUFBLFNBQUEsR0FDQSxFQUFBLFlBQ0EsRUFBQSxXQUFBLEdBQ0EsSUFBQSxHQUFBLHVCQUNBLE9BQUEsSUFBQSxJQUFBLEtBQ0EsR0FBQSxZQUFBLEVBQUEsR0FBQSx1QkFFQSxRQUlBLEVBQUEsU0FBQSxHQUNBLEVBQUEsWUFDQSxFQUFBLFdBQUEsR0FDQSxJQUFBLEdBQUEsc0JBQ0EsT0FJQSxFQUFBLFdBQ0EsR0FBQSxFQUNBLElBQUEsT0FBQSxLQUFBLEdBR0EsTUFGQSxlQUFBLFNBQ0EsR0FBQSxLQUdBLEtBQUEsRUFBQSxHQUFBLFNBQUEsT0FBQSxFQUFBLEdBQUEsRUFBQSxJQUNBLEdBQUEsT0FBQSxHQUFBLFNBQUEsSUFBQSxTQUFBLEdBQUEsT0FBQSxHQUFBLFNBQUEsSUFBQSxXQUNBLEdBQUEsT0FBQSxHQUFBLFNBQUEsSUFBQSxZQUlBLEVBQUEsU0FBQSxHQUNBLEVBQUEsSUFBQSxFQUFBLEtBQ0Esa0JBQUEsSUFBQSxTQUNBLEdBQUEsUUFBQSxNQUFBLElBQ0EsS0FBQSxFQUFBLE9BQUEsRUFBQSxFQUFBLEtBQUEsUUFHQSxFQUFBLFFBQUEsR0FBQSxFQUFBLE9BQ0EsR0FBQSxXQUdBLEdBQUEsV0FDQSxHQUFBLElBQUEsS0FBQSxDQUdBLEdBQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxZQUNBLEtBQUEsSUFBQSxHQUNBLEdBQUEsRUFBQSxlQUFBLEtBQ0EsUUFBQSxHQUFBLFFBQUEsS0FDQSxHQUFBLE1BQUEsSUFBQSxFQUNBLEVBQUEsSUFBQSxFQUFBLEdBQUEsU0FDQSxJQUFBLEVBQUEsRUFBQSxHQUFBLFFBQUEsT0FBQSxFQUFBLEdBQUEsRUFBQSxJQUNBLEdBQUEsTUFBQSxFQUFBLEdBQUEsUUFBQSxLQUFBLElBT0EsS0FBQSxnQkFBQSxhQUVBLEtBQUEscUJBQUEsV0FDQSxJQUFBLEdBQUEsVUFBQSxDQUlBLEdBQUEsV0FBQSxFQUNBLElBQUEsRUFDQSxJQUNBLEtBRUEsV0FBQSxFQUFBLEdBQUEsSUFBQSxLQUVBLEVBQUEsU0FBQSxFQUFBLEdBRUEsUUFBQSxNQXFCQSxRQUFBLEdBQUEsRUFBQSxHQUNBLE1BQUEsZ0JBQUEsRUFBQSxZQUFBLEVBQUEsT0F2QkEsR0FBQSxJQUFBLEdBQUEsT0FBQSxDQUdBLElBQUEsR0FBQSxVQU9BLE1BTkEsS0FDQSxJQUNBLEdBQUEsSUFBQSxFQUFBLEdBQUEsU0FDQSxJQUNBLElBQUEsRUFDQSxJQUFBLEdBQ0EsQ0FFQSxJQU9BLEdBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFQQSxFQUFBLEdBQUEsR0FBQSxJQUNBLEVBQUEsR0FBQSxRQUFBLEVBQ0EsRUFBQSw0Q0FDQSxFQUFBLElBQ0EsRUFBQSxJQUNBLEVBQUEsS0FDQSxFQUFBLEdBQUEscUJBQUEsUUFBQSxFQWtDQSxJQWhDQSxFQUFBLEdBQUEsRUFBQSxLQUFBLEVBQUEsSUFBQSxNQUFBLFFBQ0EsRUFBQSxJQUFBLEVBQUEsR0FBQSxHQUFBLEVBSUEsSUFDQSxHQUFBLElBQUEsRUFBQSxHQUFBLEVBQUEsR0FDQSxFQUFBLEdBQUEsSUFDQSxHQUFBLE9BQUEsR0FBQSxPQUFBLEdBQUEsbUJBQUEsY0FBQSxHQUFBLE1BQ0EsT0FBQSxHQUFBLFFBQUEsR0FBQSxNQUFBLGFBQUEsS0FBQSxHQUFBLHFCQUFBLFVBQUEsU0FBQSxNQUFBLGtCQUNBLEdBQUEsS0FBQSxFQUFBLFVBQ0EsR0FBQSxNQUFBLE1BRUEsR0FDQSxLQUFBLEVBQ0EsR0FBQSxFQUNBLElBQUEsRUFDQSxRQUFBLE9BQ0Esa0JBQUEsR0FBQSxrQkFDQSxRQUFBLEdBQUEsUUFDQSxZQUFBLEdBQUEsdUNBQ0EsTUFBQSxFQUNBLEtBQUEsZ0NBQ0EsTUFBQSxHQUFBLE1BQ0EsWUFBQSxRQUVBLEdBQUEsYUFDQSxFQUFBLFVBQUEsV0FFQSxHQUFBLGFBQ0EsR0FBQSxNQUVBLEdBQ0EsRUFBQSxHQUFBLGNBQUEsT0FDQSxHQUNBLGVBQUEsRUFBQSxXQUFBLEVBQUEsV0FBQSxFQUFBLEtBQUEsWUFBQSxFQUFBLE1BQUEsMEpBQ0EsRUFBQSxRQUFBLEdBQ0EsRUFBQSxvQkFBQSxHQUFBLG1CQUNBLEVBQUEsVUFBQSxFQUFBLFNBQ0EsR0FBQSxNQUFBLEVBQUEsUUFBQSxHQUFBLE9BQUEsR0FDQSxFQUFBLFVBQUEsR0FBQSxTQUNBLEVBQUEsY0FBQSxRQUNBLEdBQUEsV0FBQSxFQUFBLFlBQUEsRUFBQSxXQUFBLEdBQ0EsYUFDQSxLQUFBLFFBQ0EsQ0FDQSxFQUFBLEdBQUEsY0FBQSxRQUNBLEtBQUEsSUFBQSxHQUNBLEVBQUEsZUFBQSxJQUNBLEVBQUEsYUFBQSxFQUFBLEVBQUEsSUFPQSxHQUhBLElBQ0EsRUFBQSxJQUNBLEVBQUEsSUFHQSxHQURBLEdBQUEsSUFBQSxFQUFBLEdBQUEsVUFBQSxHQUFBLGNBQUEsT0FDQSxHQUFBLElBQUEsR0FxREEsRUFBQSxHQUFBLElBQUEsVUFDQSxHQUFBLElBQUEsV0FBQSxFQUFBLEVBQUEsSUFBQSxFQUFBLGFBQUEsRUFBQSxJQUFBLEVBQUEsSUFDQSxHQUFBLElBQUEsWUFBQSxHQUNBLEtBQ0EsRUFBQSxHQUFBLElBQUEsWUFBQSxHQUFBLGNBQUEsUUFDQSxFQUFBLFVBQUEsRUFBQSxPQUNBLEVBQUEsVUFBQSxHQUVBLElBQUEsTUE3REEsQ0ErQkEsR0E5QkEsR0FBQSxJQUFBLEdBQUEsR0FBQSxRQUNBLEdBQUEsSUFBQSxVQUFBLEVBQUEsV0FBQSxJQUFBLEVBQ0EsRUFBQSxLQUNBLEVBQUEsS0FDQSxHQUFBLGdCQUNBLEdBQUEsbUJBQ0EsR0FDQSxTQUFBLFFBQ0EsTUFBQSxNQUNBLE9BQUEsTUFDQSxPQUFBLE1BQ0EsS0FBQSxNQUNBLFNBQUEsV0FHQSxHQUNBLFNBQUEsV0FDQSxNQUFBLE1BQ0EsT0FBQSxNQUNBLElBQUEsVUFDQSxLQUFBLFdBRUEsSUFDQSxFQUFBLEtBQUEsS0FBQSxJQUFBLFNBQUEsRUFBQSxLQUFBLEtBQUEsUUFJQSxLQUNBLEdBQUEsSUFBQSxNQUFBLE9BQUEsTUFFQSxHQUFBLFdBQ0EsSUFBQSxJQUFBLEdBQ0EsRUFBQSxlQUFBLEtBQ0EsR0FBQSxJQUFBLE1BQUEsR0FBQSxFQUFBLEdBSUEsS0FDQSxJQUNBLEdBQUEsSUFBQSxZQUFBLEdBRUEsRUFBQSxZQUFBLEdBQUEsS0FDQSxLQUNBLEVBQUEsR0FBQSxJQUFBLFlBQUEsR0FBQSxjQUFBLFFBQ0EsRUFBQSxVQUFBLEVBQUEsT0FDQSxFQUFBLFVBQUEsR0FFQSxJQUFBLEVBQ0EsTUFBQSxHQUNBLEtBQUEsSUFBQSxPQUFBLEVBQUEsWUFBQSxNQUFBLEVBQUEsYUFnQkEsTUFGQSxLQUFBLEVBQ0EsS0FDQSxHQUVBLEVBQUEsV0FDQSxNQUFBLElBQUEsV0FDQSxLQUNBLEdBRUEsSUFBQSxFQUNBLEdBQUEsS0FHQSxHQUFBLEdBQUEsU0FBQSxHQUFBLElBQ0EsS0FDQSxJQUdBLEdBR0EsR0FBQSxJQUFBLFVBQUEsR0FGQSxHQUFBLElBQUEsWUFBQSxJQUlBLEdBQUEsS0FDQSxJQUFBLEdBUkEsRUFBQSxHQUFBLEdBQUEsR0FBQSxLQVVBLEdBQUEsR0FBQSxTQUFBLEdBQUEsS0FFQSxrQkFBQSxJQUFBLGFBQ0EsV0FBQSxHQUFBLFlBQUEsSUFFQSxJQXBCQSxHQXNCQSxFQUFBLFdBQ0EsV0FBQSxFQUFBLE1BRUEsRUFBQSxXQUNBLEVBQUEsV0FBQSxXQUNBLEdBQUEsT0FDQSxhQUFBLElBQ0EsU0FDQSxHQUFBLGVBQUEsRUFDQSxHQUFBLG9CQUNBLElBRUEsRUFBQSxXQUNBLEdBQUEsR0FDQSxHQUFBLENBQ0EsSUFBQSxNQUdBLEtBR0EsSUFBQSxFQUNBLEdBQUEsT0FBQSxFQUFBLE9BQUEsR0FDQSxJQUFBLEtBQUEsS0FHQSxLQUNBLEVBQUEsR0FBQSxrQkFDQSxFQUFBLEdBQUEsSUFBQSxJQUNBLEdBQUEsSUFHQSxXQUFBLFdBRUEsTUFEQSxHQUFBLEdBQUEsa0JBQ0EsR0FDQSxJQUFBLE1BQ0EsR0FBQSxXQUFBLEVBQUEsVUFHQSxJQUFBLEtBQ0EsT0FBQSxFQUNBLEdBQUEsZUFBQSxJQUFBLEdBQUEsaUJBQ0EsR0FBQSxlQUNBLEtBRUEsR0FBQSxlQUFBLEVBQ0EsSUFFQSxHQUNBLEtBQUEsWUFDQSxZQUFBLEVBQ0EsT0FDQSxLQUFBLHFCQUlBLElBQUEsR0FBQSxvQkFDQSxHQUFBLGVBQUEsRUFDQSxJQUVBLEdBQUEsT0FHQSxHQUFBLHNCQUVBLEVBQUEsV0FDQSxRQUFBLEtBQ0EsR0FBQSxPQUFBLEVBQUEsUUFBQSxHQUVBLE1BQUEsTUFBQSxJQUNBLEtBQ0EsSUFFQSxJQUFBLEVBQ0EsSUFBQSxFQUNBLElBQUEsRUFDQSxJQUNBLEtBQ0EsSUFFQSxHQUFBLGFBRUEsR0FBQSxhQUVBLEVBQUEsU0FBQSxHQUNBLEdBQUEsR0FBQSxPQUFBLENBQ0EsSUFBQSxHQUFBLFVBR0EsTUFGQSxLQUFBLEVBQ0EsS0FDQSxDQUVBLElBRUEsR0FGQSxFQUFBLEdBQUEsZUFBQSxHQUFBLG1CQUFBLEdBQUEsa0JBQ0EsR0FBQSxDQTRCQSxPQTFCQSxLQUNBLElBQUEsR0FFQSxHQUNBLE1BQUEsSUFBQSxHQUFBLFdBQUEsaUJBRUEsSUFBQSxLQUNBLEdBQUEsZUFBQSxHQUFBLE1BQ0EsR0FBQSxJQUFBLFVBQUEsSUFBQSxLQUFBLE9BQUEsR0FBQSxrQkFBQSxFQUFBLFlBQUEsRUFBQSxXQUVBLEdBQ0EsS0FBQSxZQUNBLE1BQUEsRUFDQSxZQUFBLElBRUEsRUFBQSxHQUNBLEdBQUEsR0FHQSxLQUNBLEdBQUEsb0JBQUEsR0FDQSxHQUFBLElBQUEsRUFBQSxPQUFBLEdBRUEsS0FHQSxHQUVBLEVBQUEsV0FDQSxHQUFBLEdBQ0EsRUFBQSxHQUFBLFlBQ0EsS0FBQSxJQUFBLEdBQ0EsRUFBQSxlQUFBLEtBQ0EsR0FBQSxLQUFBLEVBQ0EsR0FBQSxHQUFBLEVBQUEsR0FDQSxHQUFBLEtBQUEsRUFBQSxLQUNBLEdBQUEsYUFBQSxHQUFBLEdBQUEsTUFLQSxFQUFBLFdBSUEsUUFBQSxLQUNBLEdBQUEsT0FBQSxFQUFBLE9BQUEsR0FBQSxrQkFKQSxHQUFBLEdBQ0EsT0FBQSxDQUtBLElBQUEsR0FBQSxVQU1BLE1BTEEsTUFDQSxJQUNBLEdBQUEsU0FBQSxFQUNBLE1BRUEsQ0FFQSxJQUNBLEtBQ0EsR0FBQSx3QkFBQSxHQUNBLEdBQUEsRUFBQSxHQUFBLHVCQUFBLEdBQUEsbUJBQUEsR0FBQSxLQUNBLEdBQUEsV0FDQSxHQUFBLGdCQUVBLEdBQUEsU0FBQSxFQUNBLEdBQUEsV0FDQSxHQUFBLElBQUEsRUFBQSxTQUFBLEdBRUEsTUFBQSxHQU9BLE1BTkEsSUFDQSxLQUFBLHdCQUNBLE9BQUEsSUFFQSxHQUFBLEdBQ0EsS0FDQSxFQUlBLE1BRkEsS0FDQSxLQUNBLEdBRUEsRUFBQSxXQUNBLE1BQUEsSUFBQSxHQUNBLEdBQUEsRUFDQSxJQUNBLEtBQ0EsSUFBQSxHQUFBLFVBQ0EsR0FBQSxPQUNBLGVBQUEsRUFDQSxhQUFBLElBR0EsTUFDQSxJQUFBLEtBQ0EsR0FBQSxLQUFBLEVBQUEsV0FDQSxHQUFBLE9BQ0EsaUJBQUEsS0FHQSxHQUFBLHFCQUNBLEdBQUEsb0JBQUEsbUJBQUEsR0FBQSxHQUVBLEtBQ0EsSUFFQSxHQUFBLFdBS0EsTUFKQSxhQUFBLEdBQUEsYUFDQSxJQUNBLEdBQUEsWUFBQSxxQkFBQSxNQUVBLEdBRUEsRUFBQSxXQUNBLElBQUEsRUFDQSxJQUNBLEdBQUEsT0FBQSxFQUFBLE9BQUEsSUFFQSxLQUNBLEdBQUEsSUFBQSxFQUFBLFFBQUEsR0FDQSxHQUFBLElBQUEsRUFBQSxPQUFBLEdBQ0EsR0FBQSxJQUFBLEVBQUEsT0FBQSxHQUNBLEdBQUEsaUJBQ0EsR0FBQSxpQkFBQSxtQkFBQSxHQUFBLEdBQ0EsR0FBQSxZQUNBLEdBQUEsWUFBQSxxQkFBQSxJQUVBLEdBQ0EsS0FBQSxpQkFDQSxPQUFBLElBNWxGQSxJQUFBLElBQUEsRUFBQSxTQUNBLEtBQUEsSUFBQSxPQUFBLG9FQUVBLElBQUEsR0FBQSxJQThsRkEsR0FBQSxZQUFBLEdBQUEsWUFDQSxFQUFBLEdBQUEsSUFFQSxnQkFBQSxTQUFBLFFBQUEsZ0JBQUEsUUFBQSxTQUNBLE9BQUEsUUFBQSxhQUFBLEVBQ0EsT0FBQSxRQUFBLGFBQUEsR0FDQSxrQkFBQSxTQUFBLE9BQUEsS0FDQSxPQUFBLFdBQ0EsUUFBQSxHQUFBLEdBQ0EsSUFBQSxFQUFBLGNBQUEsWUFBQSxVQUFBLENBQ0EsR0FBQSxHQUFBLEVBQUEsRUFDQSxhQUFBLEtBQ0EsRUFBQSxhQUFBLEdBR0EsTUFBQSxHQUFBLGFBRUEsT0FDQSxZQUFBLEVBQ0EsWUFBQSxLQU1BLEVBQUEsYUFBQSxFQUVBLEVBQUEsYUFBQSxHQUNBLFFDM29GQSxXQUFBLFFBQUEsS0FBQSxNQUFBLGNBQUEsUUFBQSxHQUFBLEdBQUEsTUFBQSxZQUFBLE1BQUEsTUFBQSxJQUFBLFFBQUEsR0FBQSxHQUFBLE1BQUEsWUFBQSxNQUFBLElBQUEsUUFBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsZ0JBQUEsR0FBQSxDQUFBLEdBQUEsSUFBQSxFQUFBLFFBQUEsT0FBQSxFQUFBLEVBQUEsTUFBQSxJQUFBLEVBQUEsR0FBQSxHQUFBLE1BQUEsR0FBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxJQUFBLElBQUEsRUFBQSxTQUFBLEtBQUEsSUFBQSxXQUFBLHFEQUFBLE9BQUEsR0FBQSxRQUFBLEdBQUEsR0FBQSxPQUFBLEVBQUEsRUFBQSxHQVVBLFFBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsR0FBQSxRQUFBLEVBQUEsU0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEtBY0EsUUFBQSxHQUFBLEVBQUEsR0FBQSxHQUFBLEdBQUEsQ0FBQSxHQUFBLE1BQUEsVUFBQSxNQUFBLEtBQUEsR0FBQSxFQUFBLElBQUEsRUFBQSxPQUFBLFVBQUEsSUFBQSxFQUFBLEtBQUEsRUFBQSxNQUFBLEdBQUEsRUFBQSxFQUFBLFFBQUEsRUFBQSxjQUFBLEtBQUEsRUFBQSxNQUFBLEVBQUEsSUFBQSxRQUFBLEtBQUEsR0FBQSxFQUFBLFFBQUEsWUFBQSxFQUFBLEdBQUEsTUFBQSxFQUFBLEdBQUEsTUFBQSxFQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsS0FBQSxNQVlBLFFBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxvQkFDQSxRQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxNQUFBLEtBQUEsSUFBQSxJQUFBLEdBQUEsRUFBQSxHQUFBLE1BQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxNQUFBLEdBQUEsTUFBQSxHQUFBLEdBQUEsUUFBQSxNQUFBLE1BQUEsR0FBQSxHQUFBLFFBQUEsTUFBQSxFQUFBLFNBQUEsRUFBQSxHQUFBLEVBQUEsS0FBQSxHQUFBLEVBQUEsRUFBQSxVQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLE1BQUEsR0FBQSxFQUFBLEVBQUEsUUFBQSxNQUFBLEtBQUEsRUFBQSxTQUFBLEVBQUEsTUFBQSxFQUFBLEdBQUEsSUFBQSxTQUFBLEVBQUEsRUFBQSxTQUFBLEVBQUEsR0FBQSxJQUFBLEtBQUEsRUFDQSxRQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsQ0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxhQUFBLFNBQUEsR0FBQSxJQUFBLEVBQUEsUUFBQSxTQUFBLEVBQUEsRUFBQSxRQUFBLEdBQUEsR0FBQSxHQUFBLE9BQUEsVUFBQSxFQUFBLEtBQUEsRUFBQSxFQUFBLFlBQUEsU0FBQSxHQUFBLEVBQUEsRUFBQSxRQUFBLE9BQUEsRUFBQSxFQUFBLElBQUEsRUFBQSxFQUFBLFFBQUEsR0FBQSxNQUFBLEVBQUEsTUFBQSxFQUFBLEVBQUEsUUFBQSxHQUFBLE1BQUEsRUFBQSxNQUFBLEVBQUEsS0FBQSxLQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxLQUFBLEVBQUEsTUFBQSxFQUFBLFdBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxhQUFBLEdBQUEsRUFBQSxFQUFBLGNBQUEsR0FBQSxFQUFBLEVBQUEsV0FBQSxTQUFBLEdBQUEsRUFBQSxFQUFBLElBQUEsSUFBQSxHQUFBLEdBQUEsT0FBQSxVQUFBLEVBQUEsSUFBQSxJQUFBLEVBQUEsaUJBQUEsS0FBQSxFQUFBLFdBUUEsUUFBQSxHQUFBLEVBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLENBQUEsT0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLFlBQUEsRUFBQSxFQUFBLE9BQUEsRUFBQSxVQUFBLFVBQUEsRUFBQSxFQUFBLElBQUEsRUFBQSxFQUFBLGVBQUEsRUFBQSxlQUFBLEdBQUEsTUFBQSxFQUFBLE1BQUEsSUFBQSxFQUFBLEVBQUEsSUFBQSxhQUFBLEdBQUEsRUFBQSxFQUFBLEdBQUEsR0FBQSxLQUFBLElBQUEsRUFBQSxLQUFBLElBQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxNQUFBLEVBQUEsRUFBQSxLQUFBLEVBQUEsRUFBQSxlQUFBLEVBQUEsZUFBQSxHQUFBLE1BQUEsRUFBQSxNQUFBLElBQUEsRUFBQSxFQUFBLElBQUEsWUFBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsS0FBQSxJQUFBLEVBQUEsS0FBQSxJQUFBLEdBQUEsRUFBQSxHQUFBLEtBRUEsUUFBQSxJQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsUUFBQSxFQUFBLEtBQUEsRUFBQSxXQUFBLEVBQUEsU0FJQSxRQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxvQkFBQSxFQUFBLEVBQUEsYUFBQSxlQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLFFBQUEsRUFBQSxFQUFBLEdBQUEsSUFBQSxRQUFBLFFBQUEsR0FBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxJQUFBLEVBQUEsRUFBQSxhQUFBLGVBQUEsR0FTQSxRQUFBLElBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLFdBQUEsVUFBQSxJQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLGNBQUEsSUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxLQUFBLE1BQUEsR0FBQSxPQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLGdCQUFBLENBQUEsR0FBQSxHQUFBLENBQUEsS0FBQSxFQUFBLEVBQUEsV0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLE9BQUEsRUFBQSxFQUFBLElBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLFNBQUEsY0FBQSxXQUFBLEVBQUEsRUFBQSxRQUFBLEtBQUEsRUFBQSxHQUFBLElBQUEsVUFBQSxHQUFBLEVBQUEsT0FBQSxLQUFBLEVBQUEsR0FBQSxJQUFBLE1BQUEsR0FHQSxRQUFBLEdBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxJQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxVQUFBLEVBQUEsRUFBQSxHQUFBLFVBQUEsR0FBQSxFQUFBLElBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxDQUFBLElBQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxPQUFBLEVBQUEsU0FBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsZUFBQSxLQUFBLEVBQUEsR0FBQSxFQUFBLEtBQUEsRUFBQSxLQUFBLEVBQUEsRUFBQSxLQUFBLEVBQUEsRUFBQSxFQUFBLGNBQUEsRUFBQSxVQUFBLEVBQUEsRUFBQSxhQUFBLEVBQUEsRUFBQSxJQUFBLEVBQUEsS0FBQSxFQUFBLEVBQUEsR0FBQSxRQUFBLFFBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsV0FBQSxLQUFBLEVBQUEsT0FDQSxRQUFBLEdBQUEsRUFBQSxHQUFBLElBQUEsR0FBQSxFQUFBLEtBQUEsS0FBQSxFQUFBLEdBQUEsSUFBQSxFQUFBLEVBQUEsbUJBQUEsRUFBQSxFQUFBLGNBQUEsRUFBQSxFQUFBLG9CQUNBLFFBQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxHQUFBLEVBQUEsSUFBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxXQUFBLEtBQUEsR0FBQSxTQUFBLEtBQUEsRUFBQSxFQUFBLEdBQUEsR0FBQSxNQUFBLEdBQUEsS0FBQSxHQUFBLElBQUEsR0FBQSxHQUNBLFFBQUEsR0FBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEdBQUEsSUFBQSxNQUFBLEdBQUEsRUFBQSxLQUFBLE1BQUEsR0FBQSxLQUFBLEdBQUEsRUFBQSxLQUFBLEVBQUEsRUFBQSxJQUFBLGFBQUEsRUFBQSwyQkFBQSxFQUFBLEdBQUEsd0JBQUEsR0FBQSxhQUFBLEVBQUEsTUFBQSxFQUFBLElBQUEsYUFBQSxFQUFBLG1CQUFBLEVBQUEsR0FBQSxnQ0FBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxJQUFBLEdBQUEsR0FTQSxRQUFBLEdBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsYUFBQSxFQUFBLEdBQUEsRUFBQSxJQUFBLEVBQUEsR0FBQSxFQUFBLElBQUEsRUFBQSxRQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxTQUFBLEVBQUEsV0FBQSxFQUFBLEtBQUEsRUFBQSxXQUFBLEtBQUEsT0FBQSxLQUFBLEVBQUEsUUFBQSxLQUFBLEVBQUEsS0FBQSxVQUFBLHlCQUFBLEdBQUEsRUFBQSxLQUFBLEVBQUEsRUFBQSxVQUFBLFdBQUEsYUFBQSxNQUtBLFFBQUEsR0FBQSxFQUFBLEdBQUEsTUFBQSxLQUFBLEdBQUEsRUFBQSxLQUFBLEVBQUEsR0FBQSxFQUFBLEdBc0JBLFFBQUEsSUFBQSxHQUFBLE1BQUEsR0FBQSxJQUFBLEdBQUEsRUFBQSxJQUFBLEVBQUEsc0JBQUEsRUFBQSxJQUFBLFVBQUEsZUFBQSxFQUFBLEVBQUEsSUFBQSxVQUFBLGNBQUEsT0FRQSxRQUFBLElBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEtBQUEsRUFBQSxFQUFBLE9BQUEsRUFBQSxJQUFBLEVBQUEsRUFBQSxRQUFBLEVBQUEsSUFrQkEsUUFBQSxNQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLE9BQUEsR0FBQSxjQUFBLEVBQUEsTUFBQSxFQUFBLElBQUEsTUFBQSxHQUFBLFNBQUEsR0FBQSxNQUFBLE1BQUEsRUFBQSxnQkFBQSxFQUFBLElBQUEsUUFBQSxJQUFBLEdBQUEsR0FBQSxHQUFBLFdBQUEsTUFBQSxNQUFBLEVBQUEsZ0JBQUEsSUFRQSxRQUFBLElBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQSxNQUFBLEdBQUEsTUFBQSxFQUFBLEtBQUEsRUFBQSxFQUFBLE1BQUEsRUFBQSxFQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxHQUFBLFlBQUEsSUFBQSxHQUFBLEdBQUEsUUFBQSxRQUFBLEVBQUEsU0FBQSxFQUFBLEVBQUEsR0FBQSxLQUFBLEdBQUEsRUFBQSxNQUFBLEVBQUEsRUFBQSxXQUFBLFdBQUEsV0FBQSxFQUFBLEVBQUEsSUFBQSxFQUFBLE9BQUEsS0FBQSxRQUFBLEdBQUEsRUFBQSxFQUFBLEdBQUEsSUFBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLE9BQUEsRUFBQSxFQUFBLElBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxPQUFBLEdBQUEsRUFBQSxPQUFBLEVBQUEsR0FBQSxHQUFBLEVBQUEsS0FBQSxHQUFBLEVBQUEsRUFBQSxRQUFBLEVBQUEsV0FBQSxFQUFBLEVBQUEsRUFBQSxJQUFBLEVBQUEsRUFBQSxJQUFBLEVBQUEsRUFBQSxFQUFBLGVBR0EsUUFBQSxJQUFBLEdBQUEsSUFBQSxFQUFBLElBQUEsRUFBQSxPQUFBLElBQUEsRUFBQSxLQUFBLEVBQUEsRUFBQSxFQUFBLGFBQUEsRUFBQSxLQUFBLEVBQUEsRUFBQSxPQUFBLEVBQUEsSUFBQSxFQUFBLEVBQUEsRUFBQSxRQUFBLEVBQUEsS0FBQSxFQUFBLEVBQUEsTUFBQSxFQUFBLEtBQUEsYUFBQSxFQUFBLEdBQUEsY0FBQSxFQUFBLElBQUEsRUFBQSxFQUFBLEdBQUEsb0JBQUEsRUFBQSxJQUVBLFFBQUEsSUFBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLE1BQUEsSUFBQSxHQUFBLENBQUEsSUFBQSxHQUFBLEVBQUEsQ0FBQSxPQUFBLElBQUEsRUFBQSxRQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxLQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsSUFBQSxFQUFBLEVBQUEsTUFBQSxPQUFBLEVBQUEsRUFBQSxPQUFBLEVBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxNQUFBLFFBQUEsRUFBQSxXQUFBLEVBQUEsSUFBQSxFQUFBLEVBQUEsR0FBQSxHQUFBLEtBQUEsV0FBQSxHQUFBLEdBQUEsR0FBQSxXQUFBLEdBQUEsR0FBQSxXQUFBLEdBQUEsSUFBQSxHQUFBLEVBQUEsS0FBQSxFQWNBLFFBQUEsR0FBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLEVBQUEsTUFBQSxLQUFBLEVBQUE7RUFBQSxFQUFBLElBQUEsS0FBQSxFQUFBLFlBQUEsRUFBQSxXQUFBLE9BQUEsRUFBQSxHQUFBLEtBQUEsR0FBQSxHQUFBLEVBQUEsU0FBQSxFQUFBLEVBQUEsVUFBQSxFQUFBLFFBQUEsSUFBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLE1BQUEsRUFBQSxHQUFBLEVBNUpBLEdBQUEsR0FBQSxPQUFBLEdBQUEsRUFBQSxFQUFBLEtBQUEsR0FBQSxFQUFBLENBQUEsVUFBQSxjQUFBLFNBQUEsU0FBQSxjQUFBLFNBQUEsU0FBQSxjQUFBLFFBQ0EsSUFBQSxTQUFBLE9BQUEsUUFBQSxDQUFBLEdBQUEsR0FBQSxPQUFBLEVBQUEsR0FBQSxVQUFBLFNBQUEsU0FBQSxTQUFBLFdBQUEsVUFDQSxFQUFBLFNBQUEsV0FBQSxRQUFBLFNBQUEsU0FBQSxTQUFBLE1BQUEsSUFBQSxPQUFBLElBQUEsY0FBQSxFQUFBLGlCQUFBLGtCQUFBLElBQUEsVUFBQSxlQUFBLGVBQUEsb0JBQUEsa0JBQUEsaUJBQUEsY0FBQSxpQkFBQSxTQUFBLFNBQUEscUJBQUEsUUFBQSxHQUFBLGFBQUEsU0FBQSxVQUFBLFdBQUEsVUFBQSxVQUFBLElBQUEsVUFBQSxJQUFBLFVBQUEsVUFBQSxLQUFBLGFBQUEsb0JBQUEsa0RBQ0Esc0JBQUEsRUFBQSxLQUFBLFFBQUEsUUFBQSxNQUFBLElBQUEsRUFBQSxHQUFBLGtCQUFBLEVBQUEsR0FBQSxpQkFBQSxFQUFBLEdBQUEsU0FBQSxFQUFBLEdBQUEsTUFBQSxHQUFBLFFBQUEsVUFBQSxHQUFBLEVBQUEsUUFBQSxVQUFBLEtBQUEsRUFBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLFFBQUEsVUFBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLFFBQUEsV0FBQSxFQUFBLE1BQUEsa0JBQUEsU0FBQSxPQUFBLElBQUEsVUFBQSxXQUFBLE1BQUEsV0FBQSxnQkFBQSxVQUFBLGdCQUFBLFVBQUEsT0FBQSxRQUFBLFNBQUEsRUFBQSxHQUFBLEVBQUEsV0FBQSxJQUNBLEVBQUEsR0FBQSxPQUFBLFNBQUEsR0FBQSxHQUFBLEdBQUEsQ0FBQSxHQUFBLE1BQUEsRUFBQSxFQUFBLE1BQUEsRUFBQSxHQUFBLEtBQUEsVUFBQSxNQUFBLEtBQUEsVUFBQSxHQUFBLElBQUEsRUFBQSxXQUFBLEVBQUEsTUFBQSxLQUFBLFlBQUEsRUFBQSxVQUFBLEVBQUEsRUFBQSxPQUFBLEtBQUEsV0FBQSxFQUFBLFVBQUEsWUFBQSxFQUFBLEVBQUEsT0FBQSxFQUFBLEdBQUEsT0FBQSxFQUFBLE9BQUEsRUFBQSxHQUFBLE1BQUEsS0FBQSxHQUFBLEtBQUEsR0FBQSxFQUFBLGVBQUEsS0FBQSxFQUFBLFVBQUEsR0FBQSxFQUFBLEdBQUEsT0FBQSxJQUFBLEVBQUEsR0FBQSxPQUFBLFdBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxPQUFBLEtBQUEsVUFBQSxPQUFBLE1BQUEsTUFBQSxFQUFBLFdBQUEsR0FDQSxFQUFBLEVBQUEsU0FBQSxFQUFBLEVBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxRQUFBLEdBQUEsTUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxJQUFBLEdBQUEsRUFBQSxRQUFBLEVBQUEsR0FBQSxJQUFBLEVBQUEsTUFBQSxFQUFBLEVBQUEsS0FBQSxFQUFBLEVBQUEsT0FBQSxFQUFBLElBQUEsRUFBQSxFQUFBLEVBQUEsS0FBQSxFQUFBLEVBQUEsR0FBQSxLQUFBLEdBQUEsRUFBQSxJQUFBLEVBQUEsU0FBQSxFQUFBLEVBQUEsRUFBQSxTQUFBLEdBQUEsSUFBQSxFQUFBLFNBQUEsQ0FBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLElBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxLQUFBLElBQUEsRUFBQSxJQUFBLEdBQUEsR0FBQSxFQUFBLE1BQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLE9BQUEsRUFBQSxJQUFBLEVBQUEsS0FBQSxJQUFBLEVBQUEsR0FBQSxLQUFBLEVBQUEsTUFBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLFNBQUEsRUFBQSxpQkFBQSxFQUFBLGlCQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxhQUFBLEVBQUEsWUFBQSxLQUFBLEVBQUEsRUFBQSxLQUNBLEVBQUEsRUFBQSxTQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEdBQUEsQ0FBQSxHQUFBLEdBQUEsRUFBQSxRQUFBLEVBQUEsSUFBQSxFQUFBLEVBQUEsQ0FBQSxHQUFBLEVBQUEsRUFBQSxRQUFBLEdBQUEsTUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxJQUFBLEVBQUEsQ0FBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsSUFBQSxFQUFBLENBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLElBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLElBQUEsRUFBQSxHQUFBLElBQUEsRUFBQSxHQUFBLEVBQUEsT0FBQSxJQUFBLE9BQUEsR0FBQSxFQUFBLEtBQUEsR0FBQSxHQUFBLEVBQUEsUUFBQSxLQUFBLElBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsTUFBQSxFQUFBLEdBQUEsRUFBQSxNQUFBLEVBQUEsR0FBQSxTQUFBLEVBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxRQUFBLEVBQUEsS0FBQSxFQUFBLEVBQUEsR0FBQSxlQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsb0JBQUEsRUFBQSxvQkFBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsYUFBQSxFQUFBLFlBQUEsS0FBQSxFQUFBLEVBQUEsSUFBQSxFQUFBLEdBQUEsRUFBQSxXQUFBLEdBQUEsUUFBQSxHQUFBLFFBQUEsR0FBQSxVQUFBLEVBQUEsR0FBQSxJQUFBLEVBQUEsR0FBQSxJQUNBLEVBQUEsR0FBQSxTQUFBLEdBQUEsUUFBQSxLQUFBLE1BQUEsR0FBQSxRQUFBLEtBQUEsTUFBQSxHQUFBLElBQUEsSUFBQSxFQUFBLEdBQUEsQ0FBQSxHQUFBLEdBQUEsR0FBQSxPQUFBLEtBQUEsS0FBQSxLQUFBLEdBQUEsS0FBQSxHQUFBLFdBQUEsR0FBQSxXQUFBLEdBQUEsZ0JBQUEsSUFBQSxlQUFBLEdBQUEsRUFBQSxpQkFBQSxFQUFBLEdBQUEsRUFBQSxJQUNBLElBREEsRUFBQSxTQUFBLEVBQUEsT0FBQSxFQUFBLFlBQUEsVUFBQSxFQUFBLGNBQUEsRUFBQSxjQUFBLEVBQUEsT0FBQSxFQUFBLFVBQUEsRUFBQSxZQUFBLEVBQUEsZUFBQSxXQUFBLEVBQUEsZ0JBQUEsRUFBQSxpQkFBQSxFQUFBLFlBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLGlCQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxpQkFBQSxFQUFBLEVBQUEsZ0JBQUEsV0FBQSxFQUFBLGlCQUNBLEVBQUEsa0JBQUEsRUFBQSxhQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSx5QkFBQSxXQUFBLEVBQUEsMEJBQUEsRUFBQSwyQkFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLG1CQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsU0FBQSxFQUFBLENBQUEsRUFBQSxTQUFBLGVBQUEsSUFBQSxHQUFBLFNBQUEsSUFBQSxHQUFBLE1BQUEsRUFBQSxTQUFBLEdBQUEsRUFBQSxZQUFBLEdBQUEsRUFBQSxZQUFBLElBQUEsR0FBQSxFQUFBLFlBQUEsR0FBQSxFQUFBLFlBQUEsR0FBQSxFQUFBLE1BQUEsRUFBQSxTQUFBLEdBQUEsRUFBQSxXQUFBLEdBQUEsRUFBQSxXQUFBLElBQUEsR0FBQSxFQUFBLFdBQUEsR0FBQSxFQUFBLFdBQUEsR0FBQSxFQUFBLE1BQUEsRUFBQSxVQUFBLEVBQUEsUUFBQSxFQUFBLFFBQUEsSUFBQSxFQUFBLE9BQUEsRUFBQSxFQUFBLE9BQUEsRUFDQSxFQURBLEVBQUEsT0FDQSxFQUFBLEVBQUEsRUFBQSxPQUFBLEVBQUEsR0FBQSxNQUFBLElBQUEsRUFBQSxFQUFBLFNBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLFFBQUEsTUFBQSxFQUFBLEVBQUEsWUFBQSxFQUFBLGFBQUEsT0FBQSxnQkFBQSxLQUFBLEdBQUEsS0FBQSxFQUFBLE9BQUEsSUFBQSxFQUFBLEVBQUEsR0FBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsS0FBQSxFQUFBLEdBQUEsSUFBQSxFQUFBLE1BQUEsRUFBQSxVQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxHQUFBLEVBQUEsbUJBQUEsRUFBQSxFQUFBLFFBQUEsRUFBQSxTQUFBLEVBQUEsT0FBQSxFQUFBLFNBQUEsRUFBQSxTQUFBLEVBQUEsa0JBQUEsR0FBQSxPQUFBLEVBQUEsT0FBQSxFQUFBLE9BQUEsRUFBQSxRQUFBLEVBQUEsU0FBQSxJQUFBLEVBQUEsa0JBQ0EsRUFBQSxFQUFBLFNBQUEsRUFBQSxFQUFBLEdBQUEsUUFBQSxLQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLE1BQUEsS0FBQSxXQUFBLE1BQUEsR0FBQSxFQUFBLFFBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsSUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLFFBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxJQUFBLElBQUEsR0FBQSxPQUFBLFVBQUEsY0FBQSxHQUFBLEVBQUEsU0FBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLE9BQUEsR0FBQSxNQUFBLEVBQUEsU0FBQSxjQUFBLEdBQUEsT0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLFNBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxRQUFBLFVBQUEsUUFBQSxFQUFBLEVBQUEsYUFBQSxFQUFBLEdBQUEsRUFBQSxHQUFBLElBQUEsR0FBQSxFQUFBLEdBQUEsU0FBQSxHQUFBLE1BQUEsR0FBQSxPQUFBLEdBQUEsY0FBQSxFQUFBLE1BQUEsSUFBQSxFQUFBLEtBQ0EsRUFBQSxFQUFBLE9BQUEsT0FBQSxRQUFBLFNBQUEsR0FBQSxRQUFBLE1BQUEsTUFBQSxHQUFBLFVBQUEsRUFBQSxHQUFBLElBQUEsRUFBQSxFQUFBLEVBQUEsU0FBQSxFQUFBLEVBQUEsR0FBQSxJQUFBLEdBQUEsS0FBQSxHQUFBLEVBQUEsS0FBQSxFQUFBLElBQUEsRUFBQSxLQUFBLEdBQUEsS0FBQSxFQUFBLEVBQUEsS0FBQSxFQUFBLEVBQUEsRUFBQSxTQUFBLEVBQUEsR0FBQSxJQUFBLEVBQUEsTUFBQSxFQUFBLEtBQUEsR0FBQSxLQUFBLEdBQUEsRUFBQSxLQUFBLEVBQUEsS0FBQSxFQUFBLEdBQUEsRUFBQSxHQUFBLE9BQUEsSUFBQSxFQUFBLEVBQUEsR0FBQSxTQUFBLEVBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxDQUFBLEdBQUEsRUFBQSxFQUFBLEtBQUEsRUFBQSxLQUFBLElBQUEsR0FBQSxFQUFBLEtBQUEsRUFBQSxLQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxJQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsR0FBQSxPQUFBLElBQUEsRUFBQSxFQUFBLEtBQUEsU0FBQSxHQUFBLE1BQUEsR0FBQSxFQUFBLEtBQUEsSUFDQSxFQUFBLEVBQUEsR0FBQSxTQUFBLEdBQUEsUUFBQSxHQUFBLGdCQUFBLElBQUEsb0JBQUEsRUFBQSxZQUFBLEVBQUEsY0FBQSxRQUFBLEVBQUEsRUFBQSxRQUFBLE1BQUEsU0FBQSxTQUFBLEdBQUEsTUFBQSxtQkFBQSxPQUFBLFVBQUEsU0FBQSxLQUFBLElBQUEsRUFBQSxHQUFBLFNBQUEsR0FBQSxNQUFBLEtBQUEsR0FBQSxFQUFBLEtBQUEsU0FBQSxFQUFBLEVBQUEsR0FBQSxRQUFBLEtBQUEsTUFBQSxHQUFBLE1BQUEsRUFBQSxXQUFBLE1BQUEsR0FBQSxJQUFBLEVBQUEsRUFBQSxFQUFBLEtBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxJQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLE1BQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxRQUFBLFNBQUEsR0FBQSxPQUFBLFVBQUEsRUFBQSxRQUFBLFNBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLFFBQUEsT0FBQSxLQUFBLEVBQUEsRUFBQSxFQUFBLFNBQUEsRUFBQSxJQUFBLEVBQUEsR0FBQSxPQUFBLEVBQUEsR0FBQSxJQUNBLEVBQUEsR0FBQSxTQUFBLEdBQUEsTUFBQSxHQUFBLEVBQUEsRUFBQSxZQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsR0FBQSxNQUFBLEVBQUEsR0FBQSxTQUFBLEdBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxRQUFBLElBQUEsRUFBQSxPQUFBLEdBQUEsR0FBQSxFQUFBLFdBQUEsR0FBQSxFQUFBLFNBQUEsTUFBQSxHQUFBLEVBQUEsZ0JBQUEsRUFBQSxnQkFBQSxFQUFBLFNBQUEsRUFBQSxFQUFBLFNBQUEsS0FBQSxFQUFBLEdBQUEsU0FBQSxHQUFBLElBQUEsR0FBQSxLQUFBLEdBQUEsR0FBQSxFQUFBLEtBQUEsRUFBQSxNQUFBLEVBQUEsT0FBQSxJQUFBLEVBQUEsR0FBQSxTQUFBLEVBQUEsR0FBQSxNQUFBLE1BQUEsSUFBQSxFQUFBLFVBQUEsS0FBQSxRQUFBLElBQUEsRUFBQSxNQUFBLEVBQUEsRUFBQSxTQUFBLEVBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQSxLQUFBLEVBQUEsVUFBQSxLQUFBLEVBQUEsVUFBQSxFQUFBLEVBQUEsVUFBQSxJQUFBLElBQ0EsRUFBQSxFQUFBLFNBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxDQUFBLElBQUEsRUFBQSxHQUFBLEVBQUEsR0FBQSxDQUFBLElBQUEsRUFBQSxFQUFBLFVBQUEsTUFBQSxLQUFBLEVBQUEsRUFBQSxPQUFBLEVBQUEsR0FBQSxFQUFBLElBQUEsRUFBQSxLQUFBLEdBQUEsRUFBQSxPQUFBLEVBQUEsRUFBQSxHQUFBLFVBQUEsRUFBQSxLQUFBLE9BQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxTQUFBLEVBQUEsRUFBQSxVQUFBLFVBQUEsRUFBQSxHQUFBLFVBQUEsS0FBQSxFQUFBLEdBQUEsRUFBQSxHQUFBLFFBQUEsS0FBQSxFQUFBLEdBQUEsRUFBQSxHQUFBLFFBQUEsS0FBQSxFQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsSUFBQSxFQUFBLElBQUEsRUFBQSxFQUFBLElBQUEsSUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsTUFBQSxhQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLFdBQUEsS0FBQSxFQUFBLEVBQUEsSUFBQSxJQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxNQUFBLDBDQUFBLEVBQUEsQ0FDQSxJQUFBLEVBQUEsRUFBQSxJQUFBLFdBQUEsRUFBQSxJQUFBLEVBQUEsRUFBQSxJQUFBLFdBQUEsRUFBQSxJQUFBLEVBQUEsR0FBQSxFQUFBLFdBQUEsRUFBQSxHQUFBLElBQUEsRUFBQSxJQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxJQUFBLFVBQUEsS0FBQSxFQUFBLElBQUEsSUFBQSxFQUFBLEdBQUEsRUFBQSxHQUFBLFdBQUEsS0FBQSxFQUFBLEdBQUEsRUFBQSxHQUFBLFVBQUEsS0FBQSxFQUFBLEdBQUEsRUFBQSxNQUFBLGdCQUFBLFNBQUEsT0FBQSxJQUFBLG1CQUFBLFFBQUEsSUFBQSxFQUFBLEdBQUEsa0JBQUEsR0FBQSxFQUFBLE1BQUEsRUFBQSxHQUFBLFNBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsU0FBQSxFQUFBLEdBQUEsSUFBQSxHQUFBLG1CQUFBLElBQUEsSUFBQSxFQUFBLEVBQUEsZ0JBQUEsR0FBQSxFQUFBLGFBQUEsRUFBQSxJQUFBLEVBQUEsR0FBQSxNQUNBLEVBQUEsR0FBQSxTQUFBLEdBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxDQUFBLElBQUEsS0FBQSxHQUFBLEVBQUEsWUFBQSxFQUFBLEVBQUEsV0FBQSxPQUFBLENBQUEsRUFBQSxFQUFBLFVBQUEsS0FBQSxHQUFBLEdBQUEsRUFBQSxPQUFBLEVBQUEsR0FBQSxFQUFBLElBQUEsRUFBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEVBQUEsR0FBQSxPQUFBLGlCQUFBLEdBQUEsSUFBQSxLQUFBLHlDQUFBLFFBQUEsSUFBQSxFQUFBLFFBQUEsRUFBQSxJQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLE1BQUEsSUFDQSxFQUFBLEdBQUEsU0FBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLEVBQUEsT0FBQSxVQUFBLGFBQUEsU0FBQSxZQUFBLGlCQUFBLEVBQUEsU0FBQSxZQUFBLGlCQUFBLEVBQUEsSUFBQSxpQkFBQSxHQUFBLEVBQUEsZUFBQSxFQUFBLEVBQUEsU0FBQSxFQUFBLE9BQUEsRUFBQSxHQUFBLGNBQUEsRUFBQSxPQUFBLElBQUEsTUFBQSxHQUFBLEVBQUEsR0FBQSxTQUFBLEVBQUEsR0FBQSxFQUFBLFdBQUEsRUFBQSxhQUFBLEVBQUEsRUFBQSxZQUFBLEVBQUEsWUFBQSxJQUFBLEVBQUEsTUFBQSxFQUFBLEVBQUEsU0FBQSxHQUFBLE1BQUEsS0FBQSxFQUFBLFFBQUEsT0FBQSxFQUFBLEVBQUEsTUFBQSxJQUFBLFNBQUEsZUFBQSxJQUNBLEVBQUEsR0FBQSxTQUFBLEVBQUEsR0FBQSxFQUFBLEdBQUEsQ0FBQSxJQUFBLEdBQUEsS0FBQSxNQUFBLEVBQUEsSUFBQSxFQUFBLEtBQUEsTUFBQSxFQUFBLEdBQUEsSUFBQSxFQUFBLEtBQUEsTUFBQSxFQUFBLE1BQUEsRUFBQSxLQUFBLE1BQUEsRUFBQSxHQUFBLElBQUEsRUFBQSxLQUFBLE1BQUEsRUFBQSxLQUFBLFFBQUEsTUFBQSxJQUFBLE1BQUEsS0FBQSxFQUFBLEVBQUEsRUFBQSxLQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLElBQUEsR0FBQSxLQUFBLEdBQUEsR0FBQSxLQUFBLEdBQUEsRUFBQSxJQUFBLEVBQUEsR0FBQSxNQUFBLEdBQUEsRUFBQSxJQUFBLEVBQUEsSUFBQSxFQUFBLEdBQUEsV0FBQSxTQUFBLEtBQUEsUUFBQSxTQUFBLGNBQUEsRUFBQSxJQUFBLEVBQUEsR0FBQSxXQUFBLFNBQUEsY0FBQSxFQUFBLElBQUEsRUFBQSxLQUFBLFNBQUEsR0FBQSxPQUFBLEVBQUEsSUFBQSxRQUFBLGFBQUEsS0FBQSxFQUFBLE1BQUEsU0FBQSxFQUFBLEdBQUEsTUFBQSxLQUFBLEVBQUEsR0FBQSxLQUFBLE1BQUEsRUFBQSxLQUFBLElBQUEsR0FBQSxJQUFBLEtBQUEsSUFBQSxHQUFBLElBQ0EsRUFBQSxHQUFBLFNBQUEsRUFBQSxHQUFBLE9BQUEsT0FBQSxFQUFBLE1BQUEsV0FBQSxNQUFBLElBQUEsSUFBQSxXQUFBLE1BQUEsTUFDQSxFQUFBLElBQUEsU0FBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsQ0FBQSxHQUFBLEdBQUEsSUFBQSxtQkFBQSxrQkFBQSxPQUFBLGVBQUEsV0FBQSxJQUFBLE1BQUEsSUFBQSxRQUFBLGNBQUEsc0JBQUEsTUFBQSxJQUFBLElBQUEsTUFBQSxJQUFBLFFBQUEsY0FBQSxzQkFBQSxNQUFBLElBQUEsSUFBQSxNQUFBLElBQUEsUUFBQSxjQUFBLGtCQUFBLE1BQUEsSUFBQSxLQUFBLE9BQUEsbURBQUEsRUFBQSxHQUFBLGdCQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxPQUFBLFNBQUEsRUFBQSxTQUFBLEVBQUEsT0FBQSxFQUFBLFNBQUEsRUFBQSxPQUFBLE9BQUEsZ0JBQUEsbUJBQ0EsSUFBQSxFQUFBLFNBQUEsRUFBQSxVQUFBLFNBQUEsRUFBQSxTQUFBLEVBQUEsbUJBQUEsV0FBQSxJQUFBLEVBQUEsYUFBQSxNQUFBLEVBQUEsUUFBQSxHQUFBLElBQUEsRUFBQSxPQUFBLEVBQUEsRUFBQSxjQUFBLEVBQUEsRUFBQSxrQkFBQSxFQUFBLEdBQUEsUUFBQSxlQUFBLEVBQUEsT0FBQSxXQUFBLEVBQUEsRUFBQSxlQUFBLEVBQUEsUUFBQSxFQUFBLEVBQUEsV0FBQSxJQUFBLEVBQUEsVUFBQSxFQUFBLEtBQUEsRUFBQSxLQUFBLE1BQUEsRUFBQSxHQUFBLElBQUEsRUFBQSxnQkFBQSxHQUFBLE1BQUEsR0FBQSxXQUFBLEdBQUEsR0FBQSxJQUFBLEVBQUEsT0FBQSxNQUFBLEdBQUEsRUFBQSxLQUNBLEVBQUEsR0FBQSxTQUFBLEdBQUEsSUFBQSxHQUFBLEdBQUEsT0FBQSxjQUFBLENBQUEsS0FBQSxFQUFBLE9BQUEsR0FBQSxNQUFBLEdBQUEsSUFBQSxFQUFBLE1BQUEsTUFBQSxFQUFBLEtBQUEsRUFBQSxJQUFBLDhCQUFBLEdBQUEsSUFBQSxFQUFBLEtBQUEsRUFBQSxJQUFBLHFDQUFBLEdBQUEsRUFBQSxJQUFBLCtCQUFBLEtBQUEsRUFBQSxHQUFBLFNBQUEsR0FBQSxNQUFBLEdBQUEsTUFBQSxrQkFBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLFVBQUEsWUFBQSxFQUFBLFlBQUEsV0FBQSxNQUFBLEdBQ0EsRUFBQSxHQUFBLFNBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLENBQUEsR0FBQSxtREFBQSxNQUFBLEtBQUEsRUFBQSxFQUFBLEVBQUEsS0FBQSxLQUFBLEtBQUEsRUFBQSxLQUFBLEVBQUEsTUFBQSxVQUFBLEVBQUEsWUFBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLEVBQUEsVUFBQSxZQUFBLEVBQUEsU0FBQSxFQUFBLEVBQUEsV0FBQSxFQUFBLGFBQUEsUUFBQSxvQ0FBQSxTQUFBLEtBQUEsWUFBQSxJQUFBLElBQUEsS0FBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxJQUFBLEVBQUEsRUFBQSxJQUFBLEVBQUEsRUFBQSxHQUFBLE9BQUEsSUFBQSxTQUFBLEtBQUEsWUFBQSxHQUFBLEdBQ0EsRUFBQSxJQUFBLFdBQUEsRUFBQSxFQUFBLFlBQUEsRUFBQSxJQUFBLFdBQUEsRUFBQSxJQUFBLE1BQUEsV0FBQSxFQUFBLFFBQUEsWUFBQSxFQUFBLElBQUEsS0FBQSxXQUFBLEVBQUEsT0FBQSxZQUNBLEVBQUEsR0FBQSxTQUFBLEdBQUEsR0FBQSxHQUFBLENBQUEsT0FBQSxHQUFBLHVCQUFBLEVBQUEsYUFBQSxFQUFBLEVBQUEseUJBQUEsR0FBQSxFQUFBLFNBQUEsZ0JBQUEsRUFBQSxTQUFBLE1BQUEsS0FBQSxFQUFBLE1BQUEsRUFBQSxNQUFBLE9BQUEsYUFBQSxFQUFBLGFBQUEsRUFBQSxZQUFBLEVBQUEsWUFBQSxJQUFBLElBQUEsRUFBQSxNQUFBLEVBQUEsS0FBQSxPQUFBLGFBQUEsRUFBQSxZQUFBLEVBQUEsV0FBQSxFQUFBLFdBQUEsT0FBQSxLQUFBLEVBQUEsSUFBQSxJQUFBLEVBQUEsTUFBQSxFQUFBLEdBQUEsUUFBQSxTQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLFFBQUEsSUFBQSxZQUFBLFVBQUEsSUFBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxFQUFBLElBQUEsRUFBQSxFQUFBLEtBQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsT0FBQSxJQUFBLEVBQUEsTUFDQSxFQUFBLEdBQUEsR0FBQSxTQUFBLEVBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxDQUFBLEdBQUEsRUFBQSxFQUFBLEtBQUEsRUFBQSxLQUFBLElBQUEsR0FBQSxFQUFBLGVBQUEsS0FBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEdBQUEsSUFBQSxFQUFBLEVBQUEsR0FBQSxHQUFBLEVBQUEsR0FBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLEdBQUEsT0FBQSxJQUNBLEVBQUEsRUFBQSxFQUFBLEdBQUEsUUFBQSxFQUFBLFNBQUEsRUFBQSxFQUFBLEdBQUEsR0FBQSxLQUFBLEVBQUEsRUFBQSxLQUFBLEVBQUEsRUFBQSxFQUFBLEtBQUEsS0FBQSxHQUFBLEVBQUEsS0FBQSxRQUFBLEdBQUEsS0FBQSxFQUFBLEVBQUEsSUFBQSxFQUFBLElBQUEsRUFBQSxHQUFBLEdBQUEsS0FBQSxJQUFBLEtBQUEsR0FBQSxFQUFBLElBQUEsRUFBQSxNQUFBLGFBQUEsY0FBQSxFQUFBLEtBQUEsS0FBQSxHQUFBLEVBQUEsTUFBQSxFQUFBLEtBQUEsRUFBQSxFQUFBLElBQUEsS0FBQSxJQUFBLEtBQUEsS0FBQSxLQUFBLE1BQUEsS0FBQSxNQUFBLEtBQUEsS0FBQSxLQUFBLEVBQUEsR0FBQSxFQUFBLEtBQUEsRUFBQSxDQUFBLEdBQUEsR0FBQSxDQUFBLE1BQUEsSUFBQSxxQkFBQSxFQUFBLEVBQUEsS0FBQSxLQUFBLElBQUEsS0FBQSxJQUFBLG9CQUFBLEtBQUEsRUFBQSxhQUFBLFdBQUEsSUFBQSxjQUFBLEdBQUEsRUFBQSxZQUFBLEVBQUEsT0FBQSxFQUFBLFdBQUEsSUFBQSxjQUFBLElBQUEsS0FBQSxFQUFBLFlBQUEsR0FBQSxLQUFBLEVBQUEsV0FDQSxHQUFBLEtBQUEsRUFBQSxjQUFBLFFBQUEsRUFBQSxFQUFBLEVBQUEsVUFBQSxFQUFBLFFBQUEsV0FBQSxHQUFBLEtBQUEsR0FBQSxLQUFBLFVBQUEsUUFBQSxJQUFBLEtBQUEsRUFBQSxJQUFBLEdBQUEsR0FBQSxLQUFBLEVBQUEsT0FBQSxFQUFBLEdBQUEsRUFBQSxJQUFBLEtBQUEsRUFBQSxHQUFBLFNBQUEsS0FBQSxFQUFBLEdBQUEsU0FBQSxNQUFBLEdBQUEsS0FBQSxHQUFBLEtBQUEsRUFBQSxFQUFBLEtBQUEsSUFBQSxLQUFBLEVBQUEsWUFBQSxLQUFBLEVBQUEsV0FBQSxZQUFBLEtBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEtBQUEsRUFBQSxRQUFBLFNBQUEsR0FBQSxNQUFBLEtBQUEsRUFBQSxLQUFBLEVBQUEsS0FBQSxFQUFBLEVBQUEsR0FBQSxHQUFBLEtBQUEsRUFBQSxJQUFBLEVBQUEsRUFBQSxTQUFBLEVBQUEsR0FBQSxNQUFBLEdBQUEsRUFBQSxFQUFBLElBQ0EsRUFBQSxFQUFBLFNBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxFQUFBLFdBQUEsRUFBQSxLQUFBLEVBQUEsV0FBQSxPQUFBLElBQUEsRUFBQSxJQUFBLEVBQUEsR0FBQSxHQUFBLEVBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsS0FBQSxFQUFBLEdBQUEsV0FBQSxNQUFBLE1BQUEsR0FBQSxLQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsS0FBQSxFQUFBLEtBQUEsRUFBQSxNQUFBLEVBQUEsU0FBQSxFQUFBLEtBQUEsRUFBQSxHQUFBLFNBQUEsR0FBQSxNQUFBLE1BQUEsR0FBQSxJQUFBLEVBQUEsR0FBQSxTQUFBLEdBQUEsTUFBQSxNQUFBLEdBQUEsSUFDQSxFQUFBLEVBQUEsU0FBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLENBQUEsT0FBQSxnQkFBQSxJQUFBLEVBQUEsRUFBQSxFQUFBLE1BQUEsRUFBQSxFQUFBLGdCQUFBLEVBQUEsR0FBQSxHQUFBLEVBQUEsS0FBQSxFQUFBLEVBQUEsR0FBQSxRQUFBLFFBQUEsR0FBQSxLQUFBLEdBQUEsS0FBQSxJQUFBLEVBQUEsRUFBQSxLQUFBLEVBQUEsS0FBQSxHQUFBLGtCQUFBLEdBQUEsS0FBQSxLQUFBLEdBQUEsRUFBQSxNQUFBLElBQUEsRUFBQSxHQUFBLEVBQUEsTUFBQSxFQUFBLFVBQUEsS0FBQSxHQUFBLEdBQUEsR0FBQSxrQkFBQSxHQUFBLElBQUEsRUFBQSxNQUFBLEtBQUEsS0FBQSxZQUFBLEVBQUEsTUFBQSxHQUNBLEVBQUEsWUFBQSxTQUFBLEdBQUEsR0FBQSxnQkFBQSxLQUFBLEVBQUEsS0FBQSxHQUFBLElBQUEsR0FBQSxLQUFBLEVBQUEsQ0FBQSxJQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsS0FBQSxFQUFBLE9BQUEsRUFBQSxHQUFBLEVBQUEsSUFBQSxHQUFBLEtBQUEsRUFBQSxLQUFBLEVBQUEsQ0FBQSxFQUFBLEVBQUEsS0FBQSxFQUFBLE9BQUEsRUFBQSxFQUFBLE9BQUEsSUFBQSxLQUFBLEdBQUEsRUFBQSxJQUFBLEVBQUEsS0FBQSxHQUFBLEVBQUEsTUFBQSxHQUFBLEVBQUEsRUFBQSxNQUFBLEVBQUEsYUFBQSxLQUFBLE1BQUEsS0FBQSxLQUFBLFlBQUEsRUFBQSxRQUNBLEVBQUEsR0FBQSxXQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLENBQUEsSUFBQSxFQUFBLEtBQUEsRUFBQSxFQUFBLFVBQUEsRUFBQSxFQUFBLFNBQUEsR0FBQSxFQUFBLFNBQUEsRUFBQSxHQUFBLEVBQUEsS0FBQSxJQUFBLEVBQUEsRUFBQSxJQUFBLElBQUEsSUFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsS0FBQSxFQUFBLEVBQUEsUUFBQSxHQUFBLElBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLE9BQUEsSUFBQSxFQUFBLEVBQUEsR0FBQSxnQkFBQSxJQUFBLEVBQUEsRUFBQSxNQUFBLEVBQUEsRUFBQSxLQUFBLEVBQUEsRUFBQSxPQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsSUFBQSxFQUFBLEVBQUEsRUFBQSxJQUNBLEVBQUEsRUFBQSxTQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLENBQUEsT0FBQSxnQkFBQSxJQUFBLEVBQUEsRUFBQSxRQUFBLEdBQUEsRUFBQSxFQUFBLEtBQUEsRUFBQSxFQUFBLEVBQUEsS0FBQSxLQUFBLEtBQUEsRUFBQSxFQUFBLEtBQUEsS0FBQSxHQUFBLEVBQUEsS0FBQSxFQUFBLFdBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxJQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsS0FBQSxFQUFBLFVBQUEsR0FBQSxFQUFBLFdBQUEsRUFBQSxFQUFBLFVBQUEsSUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsVUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsVUFBQSxJQUFBLGtCQUFBLEdBQUEsSUFBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxVQUFBLEtBQUEsTUFDQSxFQUFBLEVBQUEsU0FBQSxFQUFBLEVBQUEsR0FBQSxPQUFBLEdBQUEsZ0JBQUEsSUFBQSxFQUFBLEVBQUEsUUFBQSxHQUFBLEVBQUEsRUFBQSxLQUFBLEVBQUEsRUFBQSxJQUFBLEVBQUEsRUFBQSxLQUFBLEtBQUEsR0FBQSxLQUFBLEVBQUEsVUFBQSxHQUFBLEVBQUEsVUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsVUFBQSxLQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLFVBQUEsS0FBQSxNQUFBLEVBQUEsRUFBQSxTQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLENBQUEsT0FBQSxnQkFBQSxJQUFBLEVBQUEsRUFBQSxRQUFBLEdBQUEsRUFBQSxFQUFBLEtBQUEsRUFBQSxFQUFBLEVBQUEsS0FBQSxLQUFBLEtBQUEsRUFBQSxFQUFBLEtBQUEsS0FBQSxHQUFBLEVBQUEsS0FBQSxFQUFBLFdBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsTUFBQSxLQUFBLFlBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxLQUFBLEVBQUEsRUFBQSxFQUFBLElBQUEsTUFBQSxFQUFBLEVBQUEsU0FBQSxHQUFBLE1BQUEsR0FBQSxFQUFBLEtBQUEsRUFBQSxHQUFBLE1BQ0EsRUFBQSxFQUFBLFNBQUEsR0FBQSxNQUFBLEtBQUEsS0FBQSxHQUFBLEVBQUEsS0FBQSxPQUFBLEtBQUEsS0FBQSxJQUFBLEtBQUEsT0FBQSxLQUFBLEdBQUEsS0FBQSxLQUFBLE1BQUEsRUFBQSxHQUFBLFdBQUEsS0FBQSxHQUFBLENBQUEsSUFBQSxHQUFBLEtBQUEsRUFBQSxJQUFBLEdBQUEsRUFBQSxFQUFBLE9BQUEsQ0FBQSxJQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLEVBQUEsRUFBQSxJQUFBLEVBQUEsR0FBQSxLQUFBLEtBQUEsTUFBQSxNQUFBLEtBQUEsRUFBQSxXQUFBLEVBQUEsR0FBQSxTQUFBLEdBQUEsTUFBQSxHQUFBLEdBQUEsS0FBQSxFQUFBLElBQUEsRUFBQSxFQUFBLFNBQUEsR0FBQSxNQUFBLEdBQUEsRUFBQSxLQUFBLEVBQUEsR0FBQSxNQUFBLEVBQUEsRUFBQSxTQUFBLEdBQUEsTUFBQSxHQUFBLEVBQUEsS0FBQSxFQUFBLEdBQUEsTUFBQSxFQUFBLEtBQUEsV0FBQSxNQUFBLE1BQUEsRUFBQSxNQUFBLFFBQUEsUUFBQSxNQUFBLEVBQUEsRUFBQSxXQUFBLE1BQUEsTUFBQSxFQUFBLE1BQUEsUUFBQSxPQUFBLE1BQ0EsRUFBQSxRQUFBLFdBQUEsS0FBQSxJQUFBLEtBQUEsS0FBQSxLQUFBLEVBQUEsTUFBQSxTQUFBLEVBQUEsR0FBQSxNQUFBLEdBQUEsS0FBQSxRQUFBLEVBQUEsSUFBQSxFQUFBLE9BQUEsU0FBQSxFQUFBLEdBQUEsTUFBQSxHQUFBLEtBQUEsU0FBQSxFQUFBLElBQUEsRUFBQSxHQUFBLFNBQUEsRUFBQSxHQUFBLE1BQUEsTUFBQSxNQUFBLEVBQUEsR0FBQSxPQUFBLElBR0EsRUFBQSxFQUFBLEVBQUEsRUFBQSxRQUFBLEVBQUEsU0FBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEtBQUEsS0FBQSxFQUFBLEdBQUEsRUFBQSxNQUFBLEtBQUEsRUFBQSxNQUFBLEtBQUEsR0FBQSxLQUFBLEVBQUEsUUFBQSxLQUFBLEdBQUEsS0FBQSxFQUFBLFFBQUEsS0FBQSxJQUFBLEtBQUEsRUFBQSxPQUFBLEtBQUEsT0FBQSxFQUFBLEVBQUEsRUFBQSxVQUNBLEVBQUEsRUFBQSxTQUFBLEVBQUEsR0FBQSxHQUFBLEVBQUEsT0FBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLFVBQUEsS0FBQSxJQUFBLEtBQUEsU0FBQSxZQUFBLFNBQUEsU0FBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsVUFBQSxFQUFBLEtBQUEsS0FBQSxFQUFBLEdBQUEsRUFBQSxZQUFBLEtBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxVQUFBLHdCQUFBLEtBQUEsR0FBQSxFQUFBLEVBQUEsUUFBQSxVQUFBLG1CQUFBLFVBQUEsS0FBQSxFQUFBLEtBQUEsS0FBQSxjQUFBLEtBQUEsRUFBQSxZQUFBLEtBQUEsSUFBQSxFQUFBLFlBQUEsS0FBQSxJQUFBLEdBQUEsRUFBQSxFQUFBLFdBQUEsTUFBQSxlQUFBLEVBQUEsRUFBQSxVQUFBLEVBQUEsS0FBQSxPQUFBLEVBQUEsRUFBQSxJQUFBLEVBQUEsR0FBQSxXQUFBLEVBQUEsRUFBQSxTQUFBLFVBQUEsRUFBQSxLQUFBLEtBQUEsS0FBQSxLQUNBLEVBQUEsRUFBQSxTQUFBLElBQUEsSUFBQSxFQUFBLE9BQUEsSUFBQSxFQUFBLFNBQUEsRUFBQSxpQkFBQSxLQUFBLE1BQUEsRUFBQSxHQUFBLFdBQUEsRUFBQSxFQUFBLFNBQUEsVUFBQSxFQUFBLEtBQUEsS0FBQSxLQUFBLEtBQ0EsRUFBQSxFQUFBLEVBQUEsRUFBQSxRQUFBLEVBQUEsU0FBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEtBQUEsS0FBQSxFQUFBLEdBQUEsS0FBQSxHQUFBLEtBQUEsR0FBQSxLQUFBLEVBQUEsU0FBQSxLQUFBLE9BQUEsS0FBQSxHQUFBLEtBQUEsRUFBQSxZQUFBLEtBQUEsRUFBQSxZQUFBLEtBQUEsSUFBQSxLQUFBLEVBQUEsYUFBQSxLQUFBLElBQUEsS0FBQSxFQUFBLFFBQUEsS0FBQSxJQUFBLEtBQUEsRUFBQSxPQUFBLEtBQUEsSUFBQSxLQUFBLEVBQUEsUUFBQSxLQUFBLEdBQUEsS0FBQSxFQUFBLEVBQUEsa0JBQUEsS0FBQSxRQUFBLEtBQUEsRUFBQSxFQUFBLEtBQUEsR0FBQSxLQUFBLFFBQUEsS0FBQSxLQUFBLEtBQUEsRUFBQSxLQUFBLEVBQUEsS0FBQSxLQUFBLEtBQUEsSUFBQSxLQUFBLEVBQUEsSUFBQSxFQUFBLEtBQUEsS0FBQSxLQUFBLE9BQUEsRUFBQSxFQUFBLEVBQUEsVUFDQSxFQUFBLFFBQUEsV0FBQSxFQUFBLEVBQUEsU0FBQSxZQUFBLEtBQUEsRUFBQSxLQUFBLEdBQUEsRUFBQSxFQUFBLFNBQUEsVUFBQSxLQUFBLEVBQUEsSUFBQSxHQUFBLEVBQUEsRUFBQSxTQUFBLFlBQUEsS0FBQSxFQUFBLEtBQUEsR0FBQSxFQUFBLEVBQUEsU0FBQSxXQUFBLEtBQUEsRUFBQSxJQUFBLEdBQUEsRUFBQSxFQUFBLFNBQUEsUUFBQSxFQUFBLEtBQUEsS0FBQSxLQUFBLElBQUEsRUFBQSxFQUFBLFVBQUEsUUFBQSxLQUFBLE9BQUEsRUFBQSxFQUFBLFNBQUEsRUFBQSxHQUFBLE1BQUEsR0FBQSxNQUFBLEVBQUEsV0FBQSxjQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsS0FBQSxTQUFBLGdCQUFBLEVBQUEsZ0JBQUEsRUFBQSxnQkFBQSxJQUFBLFNBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxVQUFBLEVBQUEsS0FBQSxLQUFBLEVBQUEsSUFDQSxFQUFBLEdBQUEsU0FBQSxHQUFBLEVBQUEsaUJBQUEsRUFBQSxLQUFBLEtBQUEsRUFBQSxlQUFBLEVBQUEsRUFBQSxTQUFBLFlBQUEsS0FBQSxFQUFBLE1BQUEsRUFBQSxFQUFBLFNBQUEsVUFBQSxLQUFBLEVBQUEsS0FBQSxFQUFBLEVBQUEsU0FBQSxZQUFBLEtBQUEsRUFBQSxNQUFBLEVBQUEsRUFBQSxTQUFBLFdBQUEsS0FBQSxFQUFBLEtBQUEsS0FBQSxHQUFBLElBQUEsRUFBQSxHQUFBLElBQUEsRUFBQSxHQUFBLFdBQUEsRUFBQSxLQUFBLEtBQUEsRUFBQSxlQUFBLEVBQUEsRUFBQSxTQUFBLFlBQUEsS0FBQSxFQUFBLEtBQUEsR0FBQSxFQUFBLEVBQUEsU0FBQSxVQUFBLEtBQUEsRUFBQSxJQUFBLEdBQUEsRUFBQSxFQUFBLFNBQUEsWUFBQSxLQUFBLEVBQUEsS0FBQSxHQUFBLEVBQUEsRUFBQSxTQUFBLFdBQUEsS0FBQSxFQUFBLElBQUEsR0FBQSxLQUFBLFVBQ0EsRUFBQSxPQUFBLFdBQUEsR0FBQSxLQUFBLEVBQUEsQ0FBQSxHQUFBLEdBQUEsRUFBQSxLQUFBLEtBQUEsRUFBQSxLQUFBLE9BQUEsRUFBQSxLQUFBLEVBQUEsSUFBQSxNQUFBLEtBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLENBQUEsRUFBQSxLQUFBLEVBQUEsV0FBQSxJQUFBLEdBQUEsRUFBQSxJQUFBLFdBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxJQUFBLE1BQUEsS0FBQSxFQUFBLE1BQUEsSUFBQSxFQUFBLEdBQUEsSUFBQSxJQUFBLEVBQUEsSUFBQSxNQUFBLE1BQUEsRUFBQSxNQUFBLElBQUEsRUFBQSxHQUFBLE9BQ0EsRUFBQSxHQUFBLFdBQUEsRUFBQSxFQUFBLFNBQUEsUUFBQSxFQUFBLEtBQUEsS0FBQSxLQUFBLEtBQ0EsRUFBQSxFQUFBLFNBQUEsR0FBQSxJQUFBLEVBQUEsT0FBQSxJQUFBLEVBQUEsT0FBQSxFQUFBLGlCQUFBLEtBQUEsT0FBQSxJQUFBLEVBQUEsT0FBQSxJQUFBLEVBQUEsU0FBQSxFQUFBLGlCQUFBLEtBQUEsT0FBQSxFQUFBLEdBQUEsV0FBQSxFQUFBLEVBQUEsU0FBQSxRQUFBLEVBQUEsS0FBQSxLQUFBLEtBQUEsS0FBQSxFQUFBLEVBQUEsU0FBQSxHQUFBLEVBQUEsMkJBQUEsRUFBQSxrQkFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLFNBQUEsRUFBQSxFQUFBLFVBQUEsYUFBQSxFQUNBLEVBQUEsRUFBQSxVQUFBLEVBQUEsU0FBQSxFQUFBLEdBQUEsTUFBQSxHQUFBLE1BQUEsRUFBQSxXQUFBLHFCQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsVUFBQSxrQ0FBQSxLQUFBLGFBQUEsV0FBQSxHQUFBLEVBQUEsRUFBQSxVQUFBLEVBQUEsS0FBQSxLQUFBLE1BQUEsSUFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLFNBQ0EsRUFBQSxHQUFBLFVBQUEsRUFBQSxXQUFBLEdBQUEsR0FBQSxLQUFBLFVBQUEsSUFBQSxJQUFBLE9BQUEsTUFBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLFVBQUEscUJBQUEsRUFBQSxFQUFBLEVBQUEsVUFBQSxFQUFBLEtBQUEsS0FBQSxPQUFBLE9BQUEsS0FBQSxFQUFBLFVBQUEsYUFBQSxFQUFBLFlBQUEsS0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLFFBQUEsU0FBQSxHQUFBLEVBQUEsaUJBQUEsRUFBQSw2QkFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsUUFBQSxFQUFBLFNBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxLQUFBLEtBQUEsRUFBQSxHQUFBLEtBQUEsU0FBQSxFQUFBLGFBQUEsRUFBQSxFQUFBLFVBQUEsRUFBQSxTQUFBLEVBQUEsR0FBQSxNQUFBLEdBQUEsRUFBQSxVQUFBLEVBQUEsS0FBQSxLQUFBLEtBQUEsRUFBQSxFQUFBLEdBQUEsVUFBQSxnQkFBQSxVQUFBLEtBQUEsRUFBQSxLQUFBLEVBQUEsUUFBQSxLQUNBLEVBQUEsRUFBQSxVQUFBLEVBQUEsV0FBQSxLQUFBLFNBQUEsSUFBQSxFQUFBLEVBQUEsVUFBQSxTQUFBLFNBQUEsR0FBQSxHQUFBLEtBQUEsRUFBQSxnQkFBQSxLQUFBLEVBQUEsYUFBQSxnQkFBQSxLQUFBLEtBQUEsRUFBQSxnQkFBQSxLQUFBLEVBQUEsYUFBQSxnQkFBQSxLQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsUUFBQSxFQUFBLFNBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxLQUFBLEtBQUEsRUFBQSxHQUFBLEtBQUEsR0FBQSxLQUFBLEtBQUEsS0FBQSxFQUFBLEtBQUEsSUFBQSxLQUFBLEdBQUEsSUFBQSxLQUFBLEVBQUEsUUFBQSxLQUFBLElBQUEsS0FBQSxFQUFBLFFBQUEsS0FBQSxHQUFBLEtBQUEsRUFBQSxhQUFBLGdCQUFBLEdBQUEsS0FBQSxFQUFBLGFBQUEsT0FBQSxhQUFBLEVBQUEsRUFBQSxFQUFBLFVBQUEsRUFBQSxHQUFBLEVBQ0EsRUFBQSxHQUFBLFdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsRUFBQSxJQUFBLEtBQUEsVUFBQSxPQUFBLEVBQUEsS0FBQSxZQUFBLEVBQUEsRUFBQSxNQUFBLFVBQUEsaUJBQUEsVUFBQSxFQUFBLEdBQUEsS0FBQSxVQUFBLE9BQUEsR0FBQSxNQUFBLEtBQUEsRUFBQSxLQUFBLGNBQUEsSUFBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEtBQUEsRUFBQSxPQUFBLElBQUEsR0FBQSxFQUFBLEtBQUEsRUFBQSxHQUFBLE9BQUEsSUFBQSxFQUFBLEdBQUEsSUFBQSxFQUFBLEVBQUEsV0FBQSxNQUFBLE1BQUEsVUFBQSxvQkFBQSxFQUFBLEVBQUEsVUFBQSxFQUFBLEtBQUEsT0FBQSxFQUFBLEdBQUEsSUFBQSxFQUFBLEdBQUEsSUFBQSxFQUFBLEVBQUEsV0FBQSxLQUFBLEVBQUEsV0FBQSxFQUFBLEtBQUEsS0FBQSxXQUFBLEVBQUEsS0FBQSxJQUFBLEtBQUEsRUFBQSxVQUFBLEtBQUEsR0FBQSxFQUFBLE1BQUEsRUFBQSxPQUNBLEVBQUEsRUFBQSxTQUFBLEdBQUEsRUFBQSxpQkFBQSxJQUFBLEVBQUEsT0FBQSxJQUFBLEVBQUEsTUFBQSxLQUFBLEdBQUEsRUFBQSxNQUFBLEVBQUEsTUFBQSxJQUFBLEVBQUEsT0FBQSxLQUFBLElBQUEsRUFBQSxPQUFBLEVBQUEsRUFBQSxTQUFBLEdBQUEsZ0JBQUEsR0FBQSxLQUFBLEtBQUEsRUFBQSxnQkFBQSxHQUFBLEtBQUEsUUFBQSxFQUFBLGdCQUFBLElBQUEsRUFBQSxFQUFBLEVBQUEsS0FBQSxHQUFBLEtBQUEsVUFBQSxLQUFBLFFBQUEsRUFBQSxFQUFBLEdBQUEsS0FBQSxPQUFBLEtBQUEsRUFBQSxFQUFBLFVBQUEsS0FBQSxFQUNBLEVBQUEsRUFBQSxVQUFBLFFBQUEsR0FBQSxFQUFBLEVBQUEsVUFBQSxPQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsd0hBQUEsTUFBQSxLQUNBLEVBQUEsRUFBQSxJQUFBLEVBQUEsaUNBQUEsRUFBQSw4REFBQSxFQUFBLDhIQUFBLEVBQUEscUhBQUEsRUFBQSxvRUFBQSxLQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsT0FBQSxJQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxJQUFBLEVBQUEsRUFBQSxFQUFBLFVBQUEsRUFBQSxFQUFBLEdBQUEsSUFBQSxDQUNBLElBQUEsR0FBQSxFQUFBLEVBQUEsQ0FFQSxLQURBLEdBQUEsd0dBQUEsTUFBQSxLQUFBLDRJQUFBLE1BQUEsS0FBQSxvSkFBQSxNQUFBLEtBQUEsNEhBQUEsTUFBQSxLQUFBLG9IQUFBLE1BQUEsTUFDQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLE9BQUEsSUFBQSxHQUFBLEVBQUEsR0FBQSxJQUFBLFVBQUEsQ0FBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLEdBQUEsRUFBQSxJQUFBLEVBQUEsR0FBQSxNQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxJQUFBLEVBQUEsR0FBQSxHQUFBLEVBQUEsSUFBQSxFQUFBLEVBQ0EsR0FBQSxPQUFBLEVBQUEsRUFBQSxRQUFBLEVBQUEsU0FBQSxFQUFBLEVBQUEsR0FBQSxLQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxJQUFBLGFBQUEsRUFBQSxJQUFBLEtBQUEsR0FBQSxHQUFBLEVBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxHQUFBLEVBQUEsVUFBQSxFQUFBLFFBQUEsU0FBQSxLQUFBLEdBQUEsRUFBQSxXQUFBLEVBQUEsUUFBQSxVQUFBLEtBQUEsS0FBQSxLQUFBLEdBQUEsRUFBQSxRQUFBLEdBQUEsS0FBQSxLQUFBLEVBQUEsU0FBQSxFQUFBLFNBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEtBQUEsVUFBQSxLQUFBLEVBQUEsU0FBQSxlQUFBLEVBQUEsRUFBQSxLQUFBLEtBQUEsS0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEtBQUEsV0FBQSx1QkFBQSx5QkFBQSxFQUFBLE9BQUEsS0FBQSxFQUFBLGFBQUEsRUFBQSxHQUFBLEtBQUEsR0FBQSxLQUFBLEVBQUEsU0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLFFBQUEsU0FBQSxFQUNBLEdBQUEsS0FBQSxHQUFBLElBQUEsS0FBQSxJQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxDQUFBLEdBQUEsRUFBQSxLQUFBLEtBQUEsS0FBQSxvQkFBQSxLQUFBLEVBQUEsWUFBQSxXQUFBLElBQUEsY0FBQSxHQUFBLEVBQUEsWUFBQSxFQUFBLE9BQUEsS0FBQSxFQUFBLFlBQUEsU0FBQSxJQUFBLEVBQUEsU0FBQSxHQUFBLEVBQUEsU0FBQSxLQUFBLEVBQUEsRUFBQSxRQUFBLEVBQUEsRUFBQSxRQUFBLE9BQUEsS0FBQSxFQUFBLFVBQUEsV0FBQSxJQUFBLGNBQUEsS0FBQSxLQUFBLEVBQUEsVUFBQSxHQUFBLEtBQUEsRUFBQSxRQUFBLEdBQUEsRUFBQSxZQUFBLEVBQUEsS0FBQSxLQUFBLFdBQUEsR0FBQSxLQUFBLEdBQUEsQ0FBQSxLQUFBLEdBQUEsRUFBQSxLQUFBLFdBQUEsR0FBQSxhQUFBLEVBQUEsSUFBQSxHQUFBLEtBQUEsVUFBQSxpQkFBQSxHQUFBLElBQUEsRUFBQSxXQUFBLEVBQUEsS0FBQSxLQUFBLFdBQUEsS0FBQSxJQUNBLEtBQUEsV0FBQSxLQUFBLE9BQUEsS0FBQSxLQUFBLEVBQUEsVUFBQSxXQUFBLGNBQUEsR0FBQSxhQUFBLFFBQUEsRUFBQSxFQUFBLE9BQUEsVUFBQSxFQUFBLFNBQUEsU0FBQSxHQUFBLE1BQUEsS0FBQSxFQUFBLEtBQUEsSUFBQSxLQUFBLEdBQUEsRUFBQSxPQUFBLEVBQUEsVUFBQSxFQUFBLE1BQUEsRUFBQSxFQUFBLEVBQUEsUUFBQSxFQUFBLFFBQUEsV0FBQSxLQUFBLEVBQUEsV0FBQSxLQUFBLEVBQUEsV0FBQSxFQUFBLEdBQUEsS0FBQSxHQUFBLEVBQUEsS0FBQSxHQUFBLEtBQUEsRUFBQSxTQUFBLEtBQUEsRUFBQSxPQUFBLEdBQUEsS0FBQSxHQUFBLEtBQUEsRUFBQSxTQUFBLEtBQUEsRUFBQSxPQUFBLEdBQUEsS0FBQSxHQUFBLEtBQUEsRUFBQSxVQUFBLEVBQUEsRUFBQSxVQUFBLFFBQUEsS0FBQSxPQUVBLEVBQUEsRUFBQSxXQUFBLEdBQUEsR0FBQSxFQUFBLEtBQUEsRUFBQSxFQUFBLEVBQUEsVUFBQSxFQUFBLEtBQUEsS0FBQSxPQUFBLEVBQUEsS0FBQSxDQUFBLElBQUEsRUFBQSxnQkFBQSxTQUFBLEVBQUEsZ0JBQUEsVUFBQSxFQUFBLGdCQUFBLENBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLENBQUEsS0FBQSxFQUFBLEVBQUEsV0FBQSxFQUFBLEVBQUEsT0FBQSxLQUFBLEtBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLFNBQUEsY0FBQSxVQUFBLEdBQUEsRUFBQSxLQUFBLEVBQUEsS0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLE9BQUEsSUFBQSxFQUFBLFlBQUEsRUFBQSxJQUNBLE1BREEsR0FBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLFNBQUEsR0FBQSxTQUFBLEVBQUEsRUFBQSxVQUFBLEVBQUEsR0FBQSxFQUFBLGFBQUEsRUFBQSxFQUFBLE1BQUEsRUFBQSxJQUFBLGFBQUEsRUFBQSxVQUFBLFdBQUEsRUFBQSxPQUFBLEVBQUEsT0FBQSxLQUFBLEtBQUEsRUFBQSxjQUFBLEtBQUEsTUFBQSxLQUFBLEVBQUEsTUFBQSxHQUFBLEtBQUEsT0FBQSxLQUFBLEVBQUEsT0FDQSxHQUFBLEVBQUEsR0FBQSxFQUFBLGFBQUEsRUFBQSxZQUFBLEVBQUEsV0FBQSxhQUFBLEVBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxFQUFBLEtBQUEsRUFBQSxZQUFBLEtBQUEsSUFBQSxLQUFBLEVBQUEsVUFBQSxLQUFBLElBQUEsS0FBQSxHQUFBLFVBQUEsaUJBQUEsVUFBQSxTQUFBLEtBQUEsSUFBQSxLQUFBLEVBQUEsVUFBQSxLQUFBLElBQUEsS0FBQSxFQUFBLFNBQUEsS0FBQSxJQUFBLEtBQUEsRUFBQSxRQUFBLEtBQUEsSUFBQSxLQUFBLEVBQUEsT0FBQSxLQUFBLElBQUEsS0FBQSxFQUFBLFlBQUEsS0FBQSxJQUFBLEtBQUEsRUFBQSxRQUFBLEtBQUEsSUFBQSxLQUFBLEVBQUEsV0FBQSxLQUFBLElBQUEsS0FBQSxFQUFBLGlCQUFBLEtBQUEsSUFBQSxLQUFBLEVBQUEsbUJBQUEsS0FBQSxJQUFBLEdBQ0EsRUFBQSxHQUFBLFdBQUEsS0FBQSxNQUFBLEdBQUEsS0FBQSxVQUFBLEVBQUEsS0FBQSxHQUFBLEtBQUEsRUFBQSxPQUFBLFdBQUEsRUFBQSxLQUFBLE1BQUEsS0FBQSxFQUFBLGNBQUEsRUFBQSxHQUFBLEVBQ0EsRUFBQSxHQUFBLFdBQUEsS0FBQSxFQUFBLGNBQUEsS0FBQSxFQUFBLGdCQUFBLEVBQUEsR0FBQSxXQUFBLEtBQUEsRUFBQSxnQkFBQSxFQUFBLEdBQUEsV0FBQSxLQUFBLEVBQUEsZ0JBQUEsRUFBQSxHQUFBLFdBQUEsS0FBQSxFQUFBLGdCQUFBLEVBQUEsR0FBQSxXQUFBLEtBQUEsRUFBQSxnQkFBQSxFQUFBLEdBQUEsV0FBQSxLQUFBLEVBQUEsV0FBQSxLQUFBLFlBQUEsS0FBQSxFQUFBLFdBQUEsS0FBQSxFQUFBLG9CQUFBLEVBQUEsR0FBQSxXQUFBLEtBQUEsRUFBQSxlQUFBLEtBQUEsRUFBQSxlQUNBLEVBQUEsR0FBQSxXQUFBLEdBQUEsS0FBQSxtQkFBQSxLQUFBLEVBQUEsa0JBQUEsRUFBQSxHQUFBLFdBQUEsS0FBQSxFQUFBLE1BQUEsS0FBQSxZQUFBLEdBQUEsS0FBQSxRQUFBLEtBQUEsVUFBQSxLQUFBLFNBQUEsRUFBQSxHQUFBLFdBQUEsR0FBQSxHQUFBLEVBQUEsS0FBQSxXQUFBLEtBQUEsRUFBQSxJQUFBLEVBQUEsS0FBQSxLQUFBLFNBQUEsR0FBQSxNQUFBLEVBQUEsS0FBQSxFQUFBLFlBQUEsS0FBQSxFQUFBLGNBQUEsRUFBQSxHQUFBLFdBQUEsS0FBQSxlQUFBLEtBQUEsRUFBQSxrQkFBQSxLQUFBLEVBQUEsbUJBQ0EsRUFBQSxLQUFBLFdBQUEsTUFBQSxHQUFBLEtBQUEsUUFBQSxNQUFBLEVBQUEsTUFBQSxXQUFBLE1BQUEsR0FBQSxLQUFBLFNBQUEsTUFBQSxFQUFBLE9BQUEsV0FBQSxNQUFBLEdBQUEsS0FBQSxZQUFBLEVBQUEsRUFBQSxHQUNBLEVBQUEsWUFBQSxTQUFBLEdBQUEsTUFBQSxLQUFBLEdBQUEsRUFBQSxLQUFBLGlCQUFBLEdBQUEsTUFBQSxLQUFBLEVBQUEsWUFBQSxFQUFBLEtBQUEsZ0JBQUEsR0FBQSxFQUFBLFNBQUEsU0FBQSxHQUFBLE1BQUEsS0FBQSxHQUFBLEtBQUEsRUFBQSxTQUFBLFdBQUEsR0FBQSxPQUFBLEtBQUEsRUFBQSxXQUFBLEdBQUEsS0FBQSxLQUFBLEtBQUEsRUFBQSxVQUFBLElBQUEsRUFBQSxjQUFBLFdBQUEsTUFBQSxNQUFBLFdBQUEsS0FBQSxlQUFBLEVBQUEsU0FBQSxXQUFBLEdBQUEsR0FBQSxFQUFBLEtBQUEsV0FBQSxPQUFBLElBQUEsRUFBQSxTQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsSUFBQSxHQUNBLEVBQUEsZ0JBQUEsV0FBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEtBQUEsV0FBQSxFQUFBLEtBQUEsV0FBQSxFQUFBLENBQUEsS0FBQSxFQUFBLE1BQUEsRUFBQSxLQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLElBQUEsRUFBQSxFQUFBLE1BQUEsR0FBQSxFQUFBLEVBQUEsSUFBQSxHQUFBLEVBQUEsSUFBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLENBQUEsT0FBQSxHQUFBLEdBQUEsRUFBQSxPQUFBLFNBQUEsR0FBQSxNQUFBLEtBQUEsR0FBQSxFQUFBLEtBQUEsSUFBQSxFQUFBLEtBQUEsSUFBQSxFQUFBLFdBQUEsS0FBQSxLQUFBLEVBQUEsT0FBQSxFQUFBLEVBQUEsS0FBQSxZQUFBLEdBQUEsRUFBQSxHQUFBLEdBQUEsT0FBQSxFQUFBLFdBQUEsRUFBQSxLQUFBLFdBQUEsTUFBQSxHQUFBLEVBQUEsSUFBQSxFQUFBLE1BQUEsU0FBQSxHQUFBLE1BQUEsS0FBQSxHQUFBLEVBQUEsS0FBQSxXQUFBLEdBQUEsTUFBQSxFQUFBLEtBQUEsVUFBQSxHQUFBLEVBQUEsR0FBQSxXQUFBLE1BQUEsR0FBQSxLQUFBLHVCQUFBLEdBQUEsRUFBQSxHQUFBLEVBQ0EsRUFBQSxhQUFBLFNBQUEsR0FBQSxNQUFBLEtBQUEsR0FBQSxLQUFBLEtBQUEsRUFBQSxNQUFBLEtBQUEsSUFBQSxFQUFBLGFBQUEsU0FBQSxHQUFBLE1BQUEsR0FBQSxJQUFBLEtBQUEsOEZBQUEsS0FBQSxhQUFBLElBQ0EsRUFBQSxrQkFBQSxXQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQSxPQUFBLE1BQUEsYUFBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLFNBQUEsRUFBQSxpQkFBQSxFQUFBLEtBQUEsS0FBQSxXQUFBLEtBQUEsYUFBQSxTQUFBLEVBQUEsb0JBQUEsS0FBQSxpQkFBQSxHQUFBLEVBQUEsRUFBQSxTQUFBLEVBQUEsaUJBQUEsVUFBQSxRQUFBLEtBQUEsRUFBQSx1QkFBQSxLQUFBLEVBQUEsRUFBQSxzQkFBQSxLQUFBLEVBQUEsS0FBQSxFQUFBLEtBQUEsb0JBQUEsS0FBQSxLQUFBLEtBQUEsRUFBQSxxQkFBQSxNQUNBLEVBQUEsa0JBQUEsV0FBQSxNQUFBLEdBQUEsSUFBQSxLQUFBLHdHQUFBLEtBQUEscUJBQUEsRUFBQSxlQUFBLFdBQUEsR0FBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLE9BQUEsTUFBQSxhQUFBLEdBQUEsRUFBQSxTQUFBLEVBQUEsa0JBQUEsS0FBQSxFQUFBLEtBQUEsRUFBQSxLQUFBLG1CQUFBLEtBQUEsS0FBQSxLQUFBLEVBQUEscUJBQUEsTUFBQSxFQUFBLGlCQUFBLFdBQUEsTUFBQSxHQUFBLElBQUEsS0FBQSw4RUFBQSxLQUFBLGtCQUNBLEVBQUEsR0FBQSxXQUFBLEtBQUEsR0FBQSxFQUFBLEtBQUEsR0FBQSxTQUFBLGdCQUFBLE1BQUEsU0FBQSxFQUFBLEVBQUEsU0FBQSxVQUFBLEVBQUEsS0FBQSxLQUFBLEtBQUEsS0FBQSxTQUFBLGdCQUFBLE1BQUEsU0FBQSxTQUFBLEVBQUEsRUFBQSxTQUFBLEtBQUEsbUJBQUEsS0FBQSxFQUFBLG9CQUFBLEVBQUEsR0FBQSxTQUFBLEdBQUEsS0FBQSxFQUFBLFVBQUEsS0FBQSxpQkFBQSxFQUFBLEtBQUEsaUJBQUEsS0FBQSxPQUFBLEVBQUEsR0FBQSxXQUFBLEtBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxTQUFBLFVBQUEsS0FBQSxJQUFBLFNBQUEsZ0JBQUEsTUFBQSxTQUFBLEtBQUEsR0FBQSxFQUFBLEVBQUEsU0FBQSxLQUFBLG1CQUFBLEtBQUEsRUFBQSxtQkFDQSxFQUFBLGFBQUEsU0FBQSxHQUFBLElBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxLQUFBLEVBQUEsVUFBQSxFQUFBLEVBQUEsT0FBQSxJQUFBLENBQUEsR0FBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLElBQUEsRUFBQSxPQUFBLFFBQUEsRUFBQSxJQUFBLEdBQUEsR0FBQSxFQUFBLGNBQUEsSUFBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLE9BQUEsSUFBQSxDQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsSUFBQSxFQUFBLGNBQUEsR0FBQSxPQUFBLE9BQUEsRUFBQSxFQUFBLFFBQUEsR0FBQSxJQUFBLE1BQUEsUUFBQSxFQUFBLHFFQUFBLE1BQUEsSUFDQSxFQUFBLElBQUEsU0FBQSxHQUFBLE1BQUEsS0FBQSxFQUFBLEVBQUEsS0FBQSxRQUFBLEVBQUEsRUFBQSxRQUFBLEdBQUEsRUFBQSxLQUFBLEdBQUEsZ0JBQUEsR0FBQSxLQUFBLEtBQUEsSUFBQSxJQUFBLFlBQUEsVUFBQSxFQUFBLE9BQUEsT0FBQSxRQUFBLEtBQUEsSUFBQSxjQUFBLEdBQUEsRUFBQSxNQUFBLEtBQUEsS0FBQSxFQUFBLElBQUEsRUFBQSxJQUFBLEtBQUEsR0FBQSxFQUFBLE1BQUEsR0FBQSxLQUFBLEVBQUEsV0FBQSxFQUFBLEtBQUEsTUFBQSxFQUFBLEtBQUEsUUFBQSxLQUFBLEVBQUEsU0FBQSxLQUFBLE9BQUEsS0FBQSxFQUFBLFVBQUEsS0FBQSxXQUFBLE9BQ0EsRUFBQSxLQUFBLFdBQUEsTUFBQSxHQUFBLEtBQUEsUUFBQSxNQUFBLEVBQUEsV0FBQSxXQUFBLE1BQUEsR0FBQSxLQUFBLGVBQUEsS0FBQSxFQUFBLEtBQUEsSUFBQSxFQUFBLEdBQUEsV0FBQSxNQUFBLE1BQUEsSUFBQSxJQUFBLEVBQUEsR0FBQSxTQUFBLEdBQUEsTUFBQSxLQUFBLEdBQUEsRUFBQSxLQUFBLGFBQUEsR0FBQSxLQUFBLEVBQUEsUUFBQSxFQUFBLE1BQUEsRUFBQSxLQUFBLFlBQ0EsRUFBQSxTQUFBLFNBQUEsR0FBQSxNQUFBLEtBQUEsR0FBQSxFQUFBLEtBQUEsY0FBQSxHQUFBLEtBQUEsRUFBQSxTQUFBLEVBQUEsTUFBQSxFQUFBLEtBQUEsYUFBQSxFQUFBLEtBQUEsU0FBQSxHQUFBLE1BQUEsS0FBQSxHQUFBLEVBQUEsS0FBQSxVQUFBLEdBQUEsS0FBQSxFQUFBLEtBQUEsRUFBQSxNQUFBLEVBQUEsS0FBQSxTQUFBLEVBQUEsT0FBQSxTQUFBLEdBQUEsTUFBQSxLQUFBLEVBQUEsS0FBQSxJQUFBLElBQUEsRUFBQSxJQUFBLEtBQUEsR0FBQSxFQUFBLEVBQUEsS0FBQSxZQUFBLEdBQUEsS0FBQSxFQUFBLGdCQUFBLE9BQ0EsRUFBQSxTQUFBLFNBQUEsR0FBQSxNQUFBLEtBQUEsR0FBQSxJQUFBLEVBQUEsS0FBQSxLQUFBLEtBQUEsS0FBQSxHQUFBLElBQUEsS0FBQSxFQUFBLHlCQUFBLEtBQUEsRUFBQSx3QkFBQSxLQUFBLEVBQUEscUJBQUEsS0FBQSxFQUFBLHdCQUFBLEtBQUEsRUFBQSx5QkFBQSxLQUFBLEVBQUEsc0JBQUEsTUFBQSxLQUFBLElBQUEsRUFBQSxPQUFBLFVBQUEsR0FBQSxFQUFBLEVBQUEsT0FBQSxVQUNBLEVBQUEsb0JBQUEsU0FBQSxHQUFBLE1BQUEsS0FBQSxHQUFBLElBQUEsRUFBQSxLQUFBLEtBQUEsS0FBQSxLQUFBLEdBQUEsSUFBQSxLQUFBLEVBQUEsNkJBQUEsS0FBQSxFQUFBLHlCQUFBLEtBQUEsRUFBQSw2QkFBQSxLQUFBLEVBQUEseUJBQUEsTUFBQSxLQUFBLElBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxNQUFBLFNBQUEsR0FBQSxNQUFBLEtBQUEsRUFBQSxLQUFBLEdBQUEsSUFBQSxHQUFBLEtBQUEsR0FBQSxFQUFBLEtBQUEsRUFBQSxhQUFBLE9BQUEsS0FBQSxHQUFBLFlBQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxHQUFBLEVBQUEsR0FBQSxLQUFBLEVBQUEsU0FBQSxLQUFBLEVBQUEsYUFBQSxFQUFBLElBQUEsTUFBQSxTQUFBLEtBQUEsR0FBQSxLQUFBLElBQUEsRUFBQSxFQUFBLEdBQUEsS0FBQSxHQUFBLE1BQUEsSUFBQSxLQUFBLEdBQUEsUUFBQSxLQUFBLElBQUEsT0FDQSxFQUFBLE1BQUEsV0FBQSxNQUFBLEdBQUEsS0FBQSxVQUFBLEVBQUEsUUFBQSxXQUFBLE1BQUEsR0FBQSxLQUFBLFlBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxtQkFBQSxXQUFBLEtBQUEsR0FBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsV0FBQSxTQUFBLEdBQUEsTUFBQSxLQUFBLEdBQUEsSUFBQSxFQUFBLElBQUEsS0FBQSxNQUFBLEtBQUEsR0FBQSxJQUFBLEtBQUEsR0FBQSxFQUFBLEtBQUEsRUFBQSxxQkFBQSxLQUFBLEVBQUEsbUJBQUEsS0FBQSxFQUFBLGdCQUFBLEtBQUEsR0FBQSxFQUFBLEtBQUEsR0FBQSxLQUFBLEVBQUEsRUFBQSxZQUFBLFNBQUEsR0FBQSxFQUFBLGtCQUFBLEVBQUEsbUJBQUEsS0FBQSxFQUFBLG1CQUFBLEtBQUEsRUFBQSxxQkFBQSxLQUFBLEVBQUEsa0JBQUEsTUFBQSxLQUFBLElBQ0EsRUFBQSxhQUFBLFNBQUEsR0FBQSxNQUFBLEtBQUEsR0FBQSxFQUFBLEtBQUEsa0JBQUEsR0FBQSxNQUFBLEtBQUEsR0FBQSxLQUFBLEVBQUEscUJBQUEsRUFBQSxLQUFBLGdCQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxTQUFBLEVBQUEsR0FBQSxVQUFBLEdBQUEsR0FBQSxPQUFBLFVBQUEsY0FBQSxzQkFBQSxlQUFBLG1CQUFBLHdCQUFBLGVBQUEsbUJBQUEsb0JBQUEsaUJBQUEsY0FBQSw0QkFBQSxFQUFBLEdBQUEsVUFBQSxFQUFBLFdBQUEsTUFBQSxHQUFBLEVBQUEsT0FBQSxVQUFBLHFCQUNBLEVBQUEsR0FBQSxFQUFBLEVBQUEsUUFBQSxFQUFBLFNBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxLQUFBLEtBQUEsRUFBQSxNQUFBLEVBQUEsR0FBQSxVQUFBLEVBQUEsV0FBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLFVBQUEsRUFBQSxLQUFBLEtBQUEsT0FBQSxVQUFBLGlDQUFBLE9BQUEsTUFBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLFVBQUEsbUJBQUEsVUFBQSxrQ0FBQSxLQUFBLEVBQUEsZUFBQSxVQUFBLEtBQUEsRUFBQSxRQUFBLFlBQUEsUUFBQSxFQUFBLFlBQUEsS0FBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxRQUFBLEVBQUEsU0FBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEtBQUEsS0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEVBQUEsT0FBQSxLQUFBLElBQUEsS0FBQSxFQUFBLEVBQUEsUUFBQSxLQUFBLE9BQUEsRUFBQSxFQUFBLEdBQUEsVUFBQSxFQUFBLEdBQUEsT0FDQSxFQUFBLEVBQUEsV0FBQSxNQUFBLG9CQUFBLEVBQUEsRUFBQSxVQUFBLEVBQUEsS0FBQSxPQUFBLEVBQUEsRUFBQSxXQUFBLEtBQUEsRUFBQSxTQUFBLEtBQUEsRUFBQSxPQUFBLEtBQUEsRUFBQSxTQUFBLEVBQUEsR0FBQSxXQUFBLEtBQUEsRUFBQSxjQUFBLEtBQUEsRUFBQSxlQUFBLEtBQUEsRUFBQSxTQUFBLEdBQUEsU0FBQSxHQUFBLFVBQUEsS0FBQSxFQUFBLFVBQUEsRUFBQSxHQUFBLFdBQUEsS0FBQSxFQUFBLGVBQUEsS0FBQSxFQUFBLGNBQUEsS0FBQSxFQUFBLFNBQUEsR0FBQSxTQUFBLEdBQUEsVUFBQSxLQUFBLEVBQUEsU0FBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLFFBQUEsRUFBQSxTQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsS0FBQSxLQUFBLEVBQUEsR0FBQSxLQUFBLEVBQUEsRUFBQSxhQUFBLEtBQUEsT0FDQSxFQUFBLEdBQUEsVUFBQSxFQUFBLFdBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxVQUFBLEVBQUEsS0FBQSxLQUFBLE9BQUEsVUFBQSxrREFBQSxPQUFBLE1BQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxVQUFBLDJCQUFBLFVBQUEsMERBQUEsWUFBQSxRQUFBLEVBQUEsWUFBQSxLQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsVUFBQSxHQUFBLFdBQUEsR0FBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxFQUFBLFlBQUEsS0FBQSxFQUFBLGFBQUEsTUFBQSxFQUFBLFVBQUEsa0NBQUEsS0FBQSxFQUFBLGdCQUFBLFdBQUEsRUFBQSxHQUFBLEVBQUEsS0FBQSxFQUFBLGFBQ0EsRUFBQSxHQUFBLEVBQUEsRUFBQSxRQUFBLEVBQUEsU0FBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEtBQUEsS0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEVBQUEsYUFBQSxLQUFBLE9BQUEsRUFBQSxHQUFBLFVBQUEsRUFBQSxXQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsVUFBQSxFQUFBLEtBQUEsS0FBQSxPQUFBLFVBQUEsOENBQUEsT0FBQSxNQUFBLEVBQUEsRUFBQSxFQUFBLE9BQUEsVUFBQSx1QkFBQSxVQUFBLGtDQUFBLEtBQUEsRUFBQSxpQkFBQSxlQUFBLFlBQUEsUUFBQSxFQUFBLFlBQUEsS0FBQSxHQUFBLEdBQ0EsRUFBQSxHQUFBLFVBQUEsR0FBQSxXQUFBLEdBQUEsR0FBQSxLQUFBLEVBQUEsVUFBQSxLQUFBLEtBQUEsRUFBQSxVQUFBLGtDQUFBLEtBQUEsRUFBQSxpQkFBQSxXQUFBLEVBQUEsR0FBQSxLQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsUUFBQSxFQUFBLFNBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxLQUFBLEtBQUEsRUFBQSxNQUFBLEVBQUEsR0FBQSxVQUFBLEVBQUEsV0FBQSxNQUFBLEdBQUEsRUFBQSxVQUFBLEVBQUEsS0FBQSxLQUFBLE9BQUEsVUFBQSxtQkFBQSxVQUFBLCtCQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsUUFBQSxFQUFBLFNBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxLQUFBLEtBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxFQUFBLGFBQUEsS0FBQSxPQUNBLEVBQUEsR0FBQSxVQUFBLEVBQUEsV0FBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLFVBQUEsRUFBQSxLQUFBLEtBQUEsT0FBQSxVQUFBLG9EQUFBLE9BQUEsTUFBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLFVBQUEsNkJBQUEsVUFBQSxrQ0FBQSxLQUFBLEVBQUEsa0JBQUEsZ0JBQUEsWUFBQSxRQUFBLEVBQUEsWUFBQSxLQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsVUFBQSxHQUFBLFdBQUEsS0FBQSxFQUFBLGFBQUEsS0FBQSxFQUFBLFVBQUEsa0NBQUEsS0FBQSxFQUFBLGtCQUFBLFlBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxtQkFDQSxFQUFBLEdBQUEsRUFBQSxFQUFBLFFBQUEsRUFBQSxTQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsS0FBQSxLQUFBLEVBQUEsTUFBQSxFQUFBLEdBQUEsVUFBQSxHQUFBLGFBQUEsRUFBQSxHQUFBLFVBQUEsRUFBQSxXQUFBLE1BQUEsMEJBQUEsRUFBQSxFQUFBLFVBQUEsRUFBQSxLQUFBLE9BQUEsRUFBQSxHQUFBLFVBQUEsRUFBQSxXQUFBLEtBQUEsRUFBQSxnQkFBQSxLQUFBLEVBQUEsaUJBQUEsS0FBQSxHQUFBLFVBQUEsS0FBQSxFQUFBLGdCQUFBLEtBQUEsRUFBQSxvQkFBQSxLQUFBLEdBQUEsVUFBQSxLQUFBLEVBQUE7RUFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLFFBQUEsRUFBQSxTQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsS0FBQSxLQUFBLEVBQUEsTUFBQSxFQUFBLEdBQUEsVUFBQSxHQUFBLFVBQUEsYUFDQSxFQUFBLEdBQUEsVUFBQSxFQUFBLFdBQUEsTUFBQSxHQUFBLEVBQUEsVUFBQSxFQUFBLEtBQUEsS0FBQSxPQUFBLFVBQUEsc0NBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxRQUFBLEVBQUEsU0FBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEtBQUEsS0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEVBQUEsYUFBQSxLQUFBLElBQUEsRUFBQSxFQUFBLEVBQUEsS0FBQSxLQUFBLEtBQUEsUUFBQSxFQUFBLEVBQUEsR0FBQSxVQUFBLEVBQUEsR0FBQSxVQUFBLG1CQUFBLG1CQUFBLGVBQUEsUUFBQSxrQkFBQSxXQUFBLGNBQUEsRUFBQSxHQUFBLGFBQUEsRUFBQSxFQUFBLFdBQUEsTUFBQSxHQUFBLEVBQUEsVUFBQSxFQUFBLEtBQUEsS0FBQSxPQUFBLFVBQUEsc0JBQUEsYUFBQSx3QkFDQSxFQUFBLEdBQUEsV0FBQSxHQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEVBQUEsWUFBQSxLQUFBLEVBQUEsYUFBQSxNQUFBLEVBQUEsYUFBQSxnQkFBQSxFQUFBLE1BQUEsSUFBQSxLQUFBLEtBQUEsSUFBQSxLQUFBLEVBQUEsYUFBQSxpQkFBQSxFQUFBLEdBQUEsRUFBQSxLQUFBLEVBQUEsY0FBQSxFQUFBLEdBQUEsV0FBQSxNQUFBLE1BQUEsRUFBQSxjQUFBLEtBQUEsRUFBQSxZQUFBLEVBQUEsR0FBQSxTQUFBLEdBQUEsRUFBQSxFQUFBLFVBQUEsR0FBQSxLQUFBLEtBQUEsR0FBQSxLQUFBLEVBQUEsR0FBQSxFQUFBLEtBQUEsSUFBQSxLQUFBLEVBQUEsU0FBQSxLQUFBLEVBQUEsU0FBQSxFQUFBLEdBQUEsU0FBQSxHQUFBLEVBQUEsRUFBQSxLQUFBLEdBQUEsS0FBQSxFQUFBLFdBQUEsR0FBQSxLQUFBLEVBQUEsYUFBQSxHQUFBLElBQUEsS0FBQSxFQUFBLFlBQUEsSUFDQSxFQUFBLEdBQUEsU0FBQSxHQUFBLEVBQUEsRUFBQSxVQUFBLEdBQUEsS0FBQSxLQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsRUFBQSxLQUFBLElBQUEsS0FBQSxFQUFBLFFBQUEsRUFBQSxHQUFBLFdBQUEsS0FBQSxFQUFBLFlBQUEsS0FBQSxFQUFBLGNBQUEsSUFBQSxFQUFBLEdBQUEsV0FBQSxLQUFBLEVBQUEsWUFBQSxLQUFBLEVBQUEsY0FBQSxJQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsUUFBQSxFQUFBLFNBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxLQUFBLEtBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxFQUFBLFdBQUEsS0FBQSxXQUFBLEVBQUEsR0FBQSxVQUFBLEVBQUEsV0FBQSxNQUFBLEdBQUEsRUFBQSxVQUFBLEVBQUEsS0FBQSxLQUFBLE9BQUEsVUFBQSxvQkFBQSxVQUFBLHdDQUFBLEtBQUEsRUFBQSxVQUFBLHdCQUNBLEVBQUEsR0FBQSxVQUFBLE9BQUEsV0FBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxLQUFBLEVBQUEsVUFBQSxHQUFBLEtBQUEsRUFBQSxVQUFBLElBQUEsR0FBQSxFQUFBLEtBQUEsQ0FBQSxLQUFBLEVBQUEsRUFBQSxXQUFBLEVBQUEsRUFBQSxXQUFBLEVBQUEsRUFBQSxJQUFBLEVBQUEsT0FBQSxHQUFBLEVBQUEsSUFBQSxFQUFBLEdBQUEsRUFBQSxLQUFBLEVBQUEsU0FBQSxLQUFBLEVBQUEsTUFBQSxNQUFBLEtBQUEsRUFBQSxHQUFBLEdBQUEsSUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLE9BQUEsSUFBQSxFQUFBLEVBQUEsTUFBQSxHQUFBLEVBQUEsRUFBQSxJQUFBLElBQUEsRUFBQSxFQUFBLE1BQUEsRUFBQSxLQUFBLEVBQUEsWUFBQSxFQUFBLE1BQUEsRUFBQSxNQUFBLEtBQUEsS0FBQSxFQUFBLEdBQUEsR0FBQSxJQUFBLEVBQUEsTUFBQSxNQUFBLE1BQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsRUFBQSxFQUFBLE9BQUEsRUFBQSxFQUFBLE9BQUEsSUFBQSxLQUFBLEVBQUEsWUFBQSxFQUFBLEVBQUEsS0FBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLFFBQUEsRUFBQSxTQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsS0FBQSxLQUFBLEVBQUEsTUFDQSxFQUFBLEdBQUEsVUFBQSxFQUFBLFdBQUEsTUFBQSxHQUFBLEVBQUEsVUFBQSxFQUFBLEtBQUEsS0FBQSxPQUFBLFVBQUEsb0JBQUEsVUFBQSx3Q0FBQSxLQUFBLEVBQUEsWUFBQSx3QkFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLFFBQUEsRUFBQSxTQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsS0FBQSxLQUFBLEVBQUEsR0FBQSxLQUFBLEVBQUEsRUFBQSxhQUFBLEtBQUEsT0FBQSxFQUFBLEdBQUEsVUFBQSxhQUFBLFFBQUEsRUFBQSxHQUFBLFVBQUEsRUFBQSxXQUFBLE1BQUEsR0FBQSxFQUFBLFVBQUEsRUFBQSxLQUFBLEtBQUEsT0FBQSxVQUFBLGtCQUFBLFlBQUEsU0FDQSxFQUFBLEdBQUEsVUFBQSxHQUFBLFdBQUEsR0FBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxFQUFBLFlBQUEsS0FBQSxFQUFBLGFBQUEsTUFBQSxFQUFBLFVBQUEsa0NBQUEsRUFBQSxHQUFBLEVBQUEsS0FBQSxFQUFBLFlBQUEsV0FBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLFFBQUEsRUFBQSxTQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsS0FBQSxLQUFBLEVBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLHdCQUFBLEdBQUEsS0FBQSxFQUFBLGNBQUEsS0FBQSxFQUFBLEVBQUEsWUFBQSxXQUFBLEVBQUEsRUFBQSx3QkFBQSxFQUFBLEtBQUEsRUFBQSxjQUFBLEtBQUEsRUFBQSxtQkFBQSxFQUFBLEdBQUEsVUFBQSxHQUFBLFVBQUEsZUFDQSxFQUFBLEdBQUEsVUFBQSxFQUFBLFdBQUEsTUFBQSxHQUFBLEVBQUEsVUFBQSxFQUFBLEtBQUEsS0FBQSxPQUFBLFVBQUEsb0NBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxRQUFBLEVBQUEsU0FBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEtBQUEsS0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEVBQUEsZUFBQSxLQUFBLElBQUEsRUFBQSxFQUFBLEVBQUEsS0FBQSxLQUFBLEtBQUEsUUFBQSxFQUFBLEVBQUEsR0FBQSxVQUFBLEVBQUEsR0FBQSxXQUFBLEtBQUEsRUFBQSxhQUFBLGdCQUFBLEVBQUEsTUFBQSxJQUFBLEtBQUEsRUFBQSxTQUFBLElBQUEsS0FBQSxFQUFBLGFBQUEsaUJBQUEsRUFBQSxNQUFBLElBQUEsS0FBQSxFQUFBLFNBQUEsR0FBQSxNQUFBLEVBQUEsR0FBQSxVQUFBLGVBQUEsaUJBQUEsUUFBQSxjQUFBLFdBQUEsZ0JBQ0EsRUFBQSxHQUFBLGVBQUEsRUFBQSxFQUFBLFdBQUEsTUFBQSxHQUFBLEVBQUEsVUFBQSxFQUFBLEtBQUEsS0FBQSxPQUFBLFVBQUEsaUJBQUEsYUFBQSxrQkFBQSxFQUFBLEdBQUEsU0FBQSxHQUFBLEtBQUEsRUFBQSxTQUFBLEtBQUEsRUFBQSxNQUFBLEdBQUEsS0FBQSxFQUFBLE9BQUEsRUFBQSxLQUFBLEtBQUEsRUFBQSxHQUFBLFdBQUEsTUFBQSxNQUFBLEVBQUEsUUFBQSxFQUFBLEtBQUEsRUFBQSxVQUFBLEVBQUEsR0FBQSxXQUFBLEtBQUEsRUFBQSxPQUFBLEtBQUEsRUFBQSxTQUFBLEtBQUEsRUFBQSxHQUFBLFdBQUEsS0FBQSxFQUFBLE9BQUEsS0FBQSxFQUFBLFNBQUEsS0FBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLFFBQUEsRUFBQSxTQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsS0FBQSxLQUFBLEVBQUEsTUFDQSxFQUFBLEdBQUEsVUFBQSxFQUFBLFdBQUEsTUFBQSxHQUFBLEVBQUEsVUFBQSxFQUFBLEtBQUEsS0FBQSxPQUFBLFVBQUEsbUJBQUEsVUFBQSw0Q0FBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLFNBQUEsRUFBQSxHQUFBLFVBQUEsYUFBQSxRQUFBLEVBQUEsR0FBQSxVQUFBLEVBQUEsV0FBQSxNQUFBLEdBQUEsRUFBQSxVQUFBLEVBQUEsS0FBQSxLQUFBLE9BQUEsVUFBQSx1QkFDQSxFQUFBLEdBQUEsRUFBQSxFQUFBLFFBQUEsRUFBQSxTQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsS0FBQSxLQUFBLEVBQUEsR0FBQSxLQUFBLEVBQUEsRUFBQSxlQUFBLEtBQUEsUUFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLHdCQUFBLEdBQUEsS0FBQSxFQUFBLGNBQUEsS0FBQSxFQUFBLEVBQUEsWUFBQSxXQUFBLEVBQUEsRUFBQSx3QkFBQSxFQUFBLEtBQUEsRUFBQSxjQUFBLEtBQUEsRUFBQSxtQkFBQSxFQUFBLEdBQUEsVUFBQSxFQUFBLFdBQUEsTUFBQSxHQUFBLEVBQUEsVUFBQSxFQUFBLEtBQUEsS0FBQSxPQUFBLFVBQUEsK0JBQUEsVUFBQSx1Q0FBQSxLQUFBLEVBQUEsUUFBQSxtQkFDQSxFQUFBLEdBQUEsVUFBQSxFQUFBLFdBQUEsS0FBQSxFQUFBLE1BQUEsS0FBQSxFQUFBLFFBQUEsRUFBQSxJQUFBLEVBQUEsR0FBQSxVQUFBLE9BQUEsV0FBQSxHQUFBLEdBQUEsS0FBQSxFQUFBLFNBQUEsRUFBQSxDQUFBLEtBQUEsSUFBQSxHQUFBLEtBQUEsRUFBQSxRQUFBLEVBQUEsRUFBQSxJQUFBLEVBQUEsRUFBQSxFQUFBLElBQUEsSUFBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLFFBQUEsS0FBQSxFQUFBLFNBQUEsR0FBQSxTQUFBLEdBQUEsV0FBQSxLQUFBLEVBQUEsWUFBQSxLQUFBLEVBQUEsU0FBQSxHQUFBLFNBQUEsR0FBQSxVQUFBLEtBQUEsRUFBQSxXQUFBLEtBQUEsRUFBQSxTQUFBLEdBQUEsU0FBQSxHQUFBLFdBQUEsS0FBQSxFQUFBLFVBQUEsS0FBQSxFQUFBLFNBQUEsR0FBQSxTQUFBLEdBQUEsVUFBQSxLQUFBLEVBQUEsU0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLElBQUEsRUFBQSxFQUFBLEtBQUEsRUFBQSxXQUFBLEVBQUEsR0FBQSxFQUFBLEtBQUEsRUFBQSxXQUFBLElBQ0EsRUFBQSxHQUFBLEVBQUEsRUFBQSxRQUFBLEVBQUEsU0FBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEtBQUEsS0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEVBQUEsZUFBQSxLQUFBLFFBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSx3QkFBQSxHQUFBLEtBQUEsRUFBQSxjQUFBLEtBQUEsRUFBQSxFQUFBLFlBQUEsV0FBQSxFQUFBLEVBQUEsd0JBQUEsRUFBQSxLQUFBLEVBQUEsY0FBQSxLQUFBLEVBQUEsZ0JBQUEsS0FBQSxFQUFBLHNCQUFBLEVBQUEsR0FBQSxVQUFBLEdBQUEsV0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxHQUFBLEdBQUEsUUFBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsRUFBQSxLQUFBLEVBQUEsVUFBQSxPQUFBLEdBQUEsRUFBQSxRQUFBLFdBQUEsRUFBQSxFQUFBLHNCQUFBLEVBQUEsRUFBQSxPQUFBLFdBQUEsRUFBQSxLQUFBLEVBQUEsRUFBQSxHQUFBLEdBQ0EsRUFBQSxHQUFBLFVBQUEsRUFBQSxXQUFBLEVBQUEsR0FBQSxVQUFBLEVBQUEsS0FBQSxNQUFBLEVBQUEsRUFBQSxVQUFBLEVBQUEsS0FBQSxPQUFBLEVBQUEsR0FBQSxVQUFBLEVBQUEsV0FBQSxNQUFBLEdBQUEsRUFBQSxVQUFBLEVBQUEsS0FBQSxLQUFBLE9BQUEsVUFBQSxxREFBQSxVQUFBLHVDQUFBLEtBQUEsRUFBQSxRQUFBLG1CQUFBLEVBQUEsR0FBQSxVQUFBLE9BQUEsRUFBQSxHQUFBLFVBQUEsT0FBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLFFBQUEsRUFBQSxTQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsS0FBQSxLQUFBLEVBQUEsR0FBQSxLQUFBLEtBQUEsS0FBQSxLQUFBLEtBQUEsRUFBQSxFQUFBLFlBQUEsS0FBQSxJQUFBLEtBQUEsRUFBQSxFQUFBLGFBQUEsS0FBQSxPQUFBLEVBQUEsRUFBQSxHQUFBLFVBQ0EsRUFBQSxFQUFBLFdBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxVQUFBLEVBQUEsS0FBQSxLQUFBLE9BQUEsVUFBQSxnREFBQSxVQUFBLG1FQUFBLEtBQUEsRUFBQSxpQkFBQSxpQkFBQSxPQUFBLE1BQUEsR0FBQSxFQUFBLEVBQUEsT0FBQSxVQUFBLDBCQUFBLFVBQUEsSUFBQSxFQUFBLFlBQUEsS0FBQSxJQUFBLEdBQUEsRUFBQSxHQUFBLFdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsS0FBQSxFQUFBLEtBQUEsSUFBQSxVQUFBLGFBQUEsSUFBQSxFQUFBLElBQUEsR0FBQSxHQUFBLEVBQUEsT0FBQSxFQUFBLEdBQUEsRUFBQSxJQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxLQUFBLEtBQUEsS0FBQSxFQUFBLEdBQUEsTUFBQSxPQUFBLElBQ0EsRUFBQSxHQUFBLFdBQUEsS0FBQSxJQUFBLGFBQUEsZ0JBQUEsS0FBQSxJQUFBLGlCQUFBLEVBQUEsRUFBQSxXQUFBLElBQUEsR0FBQSxHQUFBLEtBQUEsSUFBQSxlQUFBLEVBQUEsS0FBQSxJQUFBLFVBQUEsY0FBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLE9BQUEsSUFBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLENBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxLQUFBLElBQUEsYUFBQSxJQUFBLEVBQUEsR0FBQSxXQUFBLEdBQUEsTUFBQSxLQUFBLEVBQUEsY0FBQSxLQUFBLEVBQUEsZUFDQSxFQUFBLEdBQUEsV0FBQSxHQUFBLFFBQUEsS0FBQSxHQUFBLFVBQUEsS0FBQSxJQUFBLGVBQUEsTUFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLFFBQUEsR0FBQSxTQUFBLEVBQUEsU0FBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsTUFBQSxFQUFBLEtBQUEsRUFBQSxLQUFBLEdBQUEsV0FBQSxFQUFBLEdBQUEsR0FBQSxNQUFBLEVBQUEsRUFBQSxTQUFBLElBQUEsRUFBQSxFQUFBLEVBQUEsS0FBQSxLQUFBLEVBQUEsR0FBQSxLQUFBLEVBQUEsRUFBQSxhQUFBLEtBQUEsV0FBQSxFQUFBLEdBQUEsVUFBQSxFQUFBLFdBQUEsRUFBQSxFQUFBLFVBQUEsRUFBQSxLQUFBLE1BQUEsS0FBQSxJQUFBLGFBQUEsS0FBQSxLQUFBLEVBQUEsR0FBQSxVQUFBLE9BQUEsV0FBQSxLQUFBLFNBQUEsS0FBQSxJQUFBLGdCQUFBLEtBQUEsS0FDQSxFQUFBLEdBQUEsRUFBQSxFQUFBLFFBQUEsRUFBQSxTQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsS0FBQSxLQUFBLEVBQUEsR0FBQSxLQUFBLFNBQUEsRUFBQSxFQUFBLGVBQUEsRUFBQSxLQUFBLEtBQUEsS0FBQSxZQUFBLEVBQUEsR0FBQSxVQUFBLFFBQUEsV0FBQSxLQUFBLElBQUEsRUFBQSxlQUFBLEtBQUEsUUFBQSxFQUFBLEVBQUEsVUFBQSxRQUFBLEtBQUEsT0FBQSxFQUFBLEdBQUEsVUFBQSxFQUFBLFdBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxPQUFBLFVBQUEsYUFBQSxTQUFBLElBQUEsT0FBQSxHQUFBLEtBQUEsS0FBQSxHQUFBLEVBQUEsRUFBQSxPQUFBLEVBQUEsWUFBQSxLQUFBLEtBQUEsR0FDQSxFQUFBLEdBQUEsVUFBQSxPQUFBLFdBQUEsR0FBQSxHQUFBLEVBQUEsS0FBQSxJQUFBLFFBQUEsTUFBQSxHQUFBLEtBQUEsR0FBQSxJQUFBLEdBQUEsRUFBQSxHQUFBLElBQUEsRUFBQSxRQUFBLEVBQUEsTUFBQSxLQUFBLEVBQUEsTUFBQSxnQkFBQSxHQUFBLEVBQUEsS0FBQSxFQUFBLE1BQUEsUUFBQSxHQUFBLEtBQUEsS0FBQSxFQUFBLEdBQUEsVUFBQSxFQUFBLFdBQUEsS0FBQSxFQUFBLFFBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxRQUFBLEVBQUEsU0FBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEtBQUEsS0FBQSxFQUFBLE1BQUEsRUFBQSxHQUFBLFVBQUEsRUFBQSxXQUFBLE1BQUEsR0FBQSxFQUFBLFVBQUEsRUFBQSxLQUFBLEtBQUEsT0FBQSxVQUFBLHlCQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsU0FDQSxFQUFBLEdBQUEsVUFBQSxFQUFBLFdBQUEsTUFBQSxHQUFBLEVBQUEsVUFBQSxFQUFBLEtBQUEsS0FBQSxPQUFBLFVBQUEsc0JBQUEsVUFBQSxtQ0FBQSxhQUFBLGdCQUFBLEVBQUEsR0FBQSxVQUFBLEVBQUEsV0FBQSxLQUFBLEVBQUEsUUFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLFFBQUEsRUFBQSxTQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsS0FBQSxLQUFBLEVBQUEsR0FBQSxLQUFBLFNBQUEsS0FBQSxFQUFBLEVBQUEsUUFBQSxLQUFBLFdBQUEsRUFBQSxHQUFBLFVBQUEsRUFBQSxXQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsVUFBQSxFQUFBLEtBQUEsS0FBQSxPQUFBLFVBQUEscUJBQUEsT0FBQSxNQUFBLEVBQUEsRUFBQSxFQUFBLE9BQUEsRUFBQSxZQUFBLEtBQUEsR0FBQSxHQUNBLEVBQUEsR0FBQSxVQUFBLE9BQUEsV0FBQSxLQUFBLElBQUEsVUFBQSxLQUFBLEVBQUEsVUFBQSxLQUFBLEVBQUEsS0FBQSxJQUFBLFFBQUEsV0FDQSxFQUFBLEVBQUEsRUFBQSxFQUFBLFFBQUEsRUFBQSxTQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsTUFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsS0FBQSxLQUFBLEVBQUEsRUFBQSxHQUFBLEtBQUEseUJBQUEsS0FBQSxHQUFBLEVBQUEsS0FBQSxHQUFBLFlBQUEsRUFBQSxLQUFBLEtBQUEsV0FBQSxHQUFBLEdBQUEsS0FBQSxJQUFBLGlCQUFBLE1BQUEsSUFBQSxHQUFBLEtBQUEsSUFBQSxFQUFBLFlBQUEsS0FBQSxHQUFBLEVBQUEsSUFBQSxHQUFBLGNBQUEsS0FBQSxNQUFBLE1BQUEsS0FBQSwyQkFBQSxFQUFBLEtBQUEsRUFBQSxLQUFBLEdBQUEsRUFBQSxLQUFBLEVBQUEsRUFBQSxPQUFBLEtBQUEsSUFBQSxLQUFBLEVBQUEsRUFBQSxRQUFBLEtBQUEsSUFBQSxLQUFBLEVBQUEsYUFBQSxXQUFBLEtBQUEseUJBQUEsRUFBQSxHQUFBLFFBQUEsSUFBQSxFQUFBLEdBQUEsS0FBQSxJQUFBLEVBQUEsV0FBQSxHQUFBLEVBQUEsYUFBQSxFQUFBLHNCQUFBLENBQUEsR0FBQSxFQUNBLE1BQUEsRUFBQSxZQUFBLEtBQUEsR0FBQSxLQUFBLEVBQUEsYUFBQSxXQUFBLEVBQUEsS0FBQSxFQUFBLGVBQUEsS0FBQSxFQUFBLFlBQUEsV0FBQSxHQUFBLEtBQUEsSUFBQSx1QkFBQSxLQUFBLEVBQUEsV0FBQSxTQUFBLEdBQUEsRUFBQSxtQkFBQSxFQUFBLE1BQUEsS0FBQSxFQUFBLE1BQUEsS0FBQSxNQUFBLEtBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxFQUFBLGtCQUFBLEdBQUEsS0FBQSxFQUFBLEVBQUEsbUJBQUEsS0FBQSxJQUFBLEtBQUEsRUFBQSxXQUFBLEtBQUEsY0FBQSxFQUFBLEtBQUEsZ0JBQUEsS0FBQSxJQUFBLEVBQUEsa0JBQUEsRUFBQSxFQUFBLEVBQUEsVUFDQSxFQUFBLEdBQUEsV0FBQSxLQUFBLEVBQUEsT0FBQSxLQUFBLEVBQUEsY0FBQSxLQUFBLEVBQUEsYUFBQSxLQUFBLEVBQUEsY0FBQSxLQUFBLEVBQUEsZUFBQSxLQUFBLEVBQUEsWUFBQSxLQUFBLEVBQUEsU0FBQSxLQUFBLEVBQUEsY0FBQSxFQUFBLEVBQUEsU0FBQSxHQUFBLElBQUEsRUFBQSxRQUFBLEtBQUEsSUFBQSxhQUFBLEtBQUEsSUFBQSxTQUFBLEtBQUEsSUFBQSxPQUFBLEtBQUEsSUFBQSxVQUFBLEVBQUEsR0FBQSxXQUFBLEtBQUEsSUFBQSxZQUFBLEtBQUEsSUFBQSxlQUNBLEVBQUEsR0FBQSxXQUFBLEtBQUEsSUFBQSxLQUFBLEtBQUEsS0FBQSxHQUFBLFlBQUEsRUFBQSxLQUFBLEtBQUEsV0FBQSxLQUFBLElBQUEsRUFBQSxnQkFBQSxNQUFBLEVBQUEsR0FBQSxXQUFBLGNBQUEsS0FBQSxJQUFBLEtBQUEsSUFBQSxFQUFBLGVBQUEsRUFBQSxRQUFBLFdBQUEsS0FBQSxLQUFBLEtBQUEsR0FBQSxFQUFBLGNBQUEsS0FBQSxLQUFBLEtBQUEsSUFBQSxHQUFBLE1BQUEsRUFBQSxFQUFBLFVBQUEsUUFBQSxLQUFBLE9BQUEsRUFBQSxHQUFBLFdBQUEsS0FBQSxJQUFBLEtBQUEsSUFBQSxFQUFBLGVBQUEsRUFBQSxHQUFBLElBQUEsRUFBQSxFQUFBLFVBQUEsc0JBQUEsRUFBQSxFQUFBLEVBQUEsVUFBQSx5QkFBQSxFQUFBLEVBQUEsRUFBQSxVQUFBLHFCQUFBLEVBQ0EsRUFBQSxFQUFBLFVBQUEsdUJBQUEsRUFBQSxFQUFBLEVBQUEsVUFBQSx5QkFBQSxFQUFBLEVBQUEsU0FDQSxFQUFBLEVBQUEsRUFBQSxFQUFBLFFBQUEsRUFBQSxTQUFBLEVBQUEsRUFBQSxHQUFBLElBQUEsS0FBQSxzQkFBQSxFQUFBLEVBQUEsS0FBQSxLQUFBLHFCQUFBLEVBQUEsRUFBQSxLQUFBLEtBQUEseUJBQUEsRUFBQSxHQUFBLEtBQUEsdUJBQUEsS0FBQSx5QkFBQSxFQUFBLEVBQUEsRUFBQSxLQUFBLEtBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxPQUFBLEVBQUEsR0FBQSxFQUFBLElBQUEsS0FBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsS0FBQSxHQUFBLE1BQUEsRUFBQSxFQUFBLFNBQUEsS0FBQSxFQUFBLGFBQUEsRUFBQSxLQUFBLEVBQUEsR0FBQSxJQUFBLEVBQUEsRUFBQSxNQUFBLEtBQUEsRUFBQSxJQUFBLEVBQUEsS0FBQSxFQUFBLElBQUEsRUFBQSxVQUFBLHlCQUFBLEVBQUEsQ0FBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLENBQUEsR0FBQSxLQUFBLEVBQUEsS0FBQSxJQUFBLEVBQUEsRUFBQSxXQUFBLEVBQUEsRUFBQSxXQUFBLEVBQUEsRUFBQSxXQUFBLEVBQUEsRUFBQSxTQUFBLEdBQUEsRUFBQSxXQUFBLEVBQUEsRUFBQSxTQUNBLEdBQUEsRUFBQSxFQUFBLGtCQUFBLEdBQUEsRUFBQSxFQUFBLG1CQUFBLEdBQUEsRUFBQSxXQUFBLEVBQUEsRUFBQSxrQkFBQSxHQUFBLEVBQUEsRUFBQSxtQkFBQSxJQUFBLEVBQUEsRUFBQSxVQUFBLEdBQUEsRUFBQSxFQUFBLHNCQUFBLEdBQUEsRUFBQSxvQkFBQSxHQUFBLEVBQUEsRUFBQSxXQUFBLEtBQUEsR0FBQSxLQUFBLEVBQUEsVUFBQSxLQUFBLGlCQUFBLE1BQUEsRUFBQSxPQUFBLEtBQUEsVUFBQSxLQUFBLFFBQUEsRUFBQSxFQUFBLEVBQUEsVUFBQSxFQUFBLFFBQUEsV0FBQSxFQUFBLEVBQUEsR0FBQSxLQUFBLEdBQUEsRUFBQSxFQUFBLFVBQUEsUUFBQSxLQUFBLE9BQ0EsRUFBQSxFQUFBLFdBQUEsR0FBQSxHQUFBLEVBQUEsS0FBQSxFQUFBLEVBQUEsRUFBQSxDQUFBLElBQUEsS0FBQSwwQkFBQSxJQUFBLEdBQUEsRUFBQSxFQUFBLFVBQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsSUFBQSxFQUFBLEVBQUEsRUFBQSxTQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsUUFBQSxHQUFBLEVBQUEsS0FBQSxhQUFBLFFBQUEsZUFBQSxFQUFBLE9BQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLE1BQUEsR0FBQSxXQUFBLFVBQUEsT0FBQSxRQUFBLEtBQUEsR0FBQSxHQUFBLEVBQUEsT0FBQSxFQUFBLEdBQUEsRUFBQSxJQUFBLENBQUEsR0FBQSxHQUFBLEVBQUEsR0FBQSxJQUFBLG9CQUFBLEdBQUEsRUFBQSxLQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsSUFBQSxFQUFBLEdBQUEsRUFBQSxHQUFBLE1BQUEsSUFBQSxFQUFBLEdBQUEsU0FBQSxHQUFBLFNBQUEsRUFBQSxNQUFBLEtBQUEsUUFBQSxLQUFBLElBQUEsTUFBQSxLQUFBLFFBQUEsT0FBQSxFQUFBLFFBQUEsRUFBQSxLQUFBLElBQUEsRUFBQSxLQUFBLEVBQUEsS0FBQSxXQUFBLEtBQUEsRUFBQSxRQUNBLEVBQUEsTUFBQSxXQUFBLEtBQUEsRUFBQSxTQUFBLEVBQUEsT0FBQSxXQUFBLE1BQUEsTUFBQSxFQUFBLFFBQUEsRUFBQSxZQUFBLFdBQUEsTUFBQSxNQUFBLEVBQUEsYUFBQSxFQUFBLEdBQUEsU0FBQSxHQUFBLElBQUEsS0FBQSxFQUFBLFlBQUEsRUFBQSxNQUFBLEdBQUEsRUFBQSxJQUFBLEVBQUEsb0NBQUEsRUFBQSxTQUFBLFdBQUEsTUFBQSxNQUFBLEVBQUEsVUFBQSxHQUFBLEVBQUEsU0FBQSxXQUFBLE1BQUEsTUFBQSxFQUFBLFVBQUEsRUFBQSxPQUFBLFdBQUEsTUFBQSxNQUFBLEVBQUEsUUFBQSxFQUFBLEdBQUEsU0FBQSxHQUFBLEtBQUEsRUFBQSxPQUFBLEdBQUEsRUFBQSxNQUFBLFdBQUEsTUFBQSxNQUFBLEVBQUEsT0FBQSxFQUFBLEdBQUEsU0FBQSxHQUFBLEtBQUEsRUFBQSxNQUFBLEdBQUEsRUFBQSxNQUFBLFdBQUEsTUFBQSxNQUFBLEVBQUEsYUFDQSxFQUFBLE9BQUEsV0FBQSxNQUFBLE1BQUEsRUFBQSxjQUFBLEVBQUEsR0FBQSxXQUFBLE1BQUEsa0JBQUEsTUFBQSxFQUFBLHdCQUFBLFVBQUEsS0FBQSxFQUFBLElBQUEsdUJBQUEsS0FBQSxFQUFBLEdBQUEsRUFBQSxHQUNBLEVBQUEsR0FBQSxXQUFBLEdBQUEsR0FBQSxLQUFBLENBQUEsK0JBQUEsSUFBQSxLQUFBLEVBQUEsd0JBQUEsV0FBQSxLQUFBLEVBQUEsYUFBQSxHQUFBLEtBQUEsRUFBQSxzQkFBQSxXQUFBLEtBQUEsRUFBQSxhQUFBLEdBQUEsS0FBQSxFQUFBLEVBQUEsc0JBQUEsS0FBQSxFQUFBLEVBQUEsc0JBQUEsRUFBQSxRQUFBLEVBQUEsY0FBQSxFQUFBLElBQUEsS0FBQSxFQUFBLE9BQUEsV0FBQSxXQUFBLEVBQUEsUUFBQSxFQUFBLHlCQUFBLElBQUEsRUFBQSx5QkFBQSxFQUFBLEdBQUEsV0FBQSxLQUFBLEVBQUEsd0JBQUEsRUFBQSxJQUFBLFNBQUEsR0FBQSxNQUFBLEtBQUEsRUFBQSxLQUFBLEVBQUEsU0FBQSxLQUFBLEVBQUEsSUFBQSxJQUNBLEVBQUEsS0FBQSxXQUFBLEtBQUEsRUFBQSxRQUFBLEVBQUEsV0FBQSxXQUFBLE1BQUEsTUFBQSxFQUFBLFlBQUEsRUFBQSxPQUFBLFdBQUEsTUFBQSxNQUFBLEVBQUEsUUFBQSxFQUFBLEdBQUEsU0FBQSxHQUFBLEtBQUEsRUFBQSxPQUFBLEdBQUEsRUFBQSxHQUFBLFdBQUEsTUFBQSxNQUFBLEVBQUEsSUFBQSxFQUFBLEdBQUEsU0FBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxTQUFBLFdBQUEsTUFBQSxNQUFBLEVBQUEsVUFBQSxFQUFBLEdBQUEsU0FBQSxHQUFBLEtBQUEsRUFBQSxTQUFBLEdBQUEsRUFBQSxTQUFBLFdBQUEsTUFBQSxNQUFBLEVBQUEsVUFBQSxFQUFBLEtBQUEsV0FBQSxNQUFBLE1BQUEsRUFBQSxNQUFBLEVBQUEsR0FBQSxTQUFBLEdBQUEsS0FBQSxFQUFBLEtBQUEsR0FBQSxFQUFBLE1BQUEsV0FBQSxNQUFBLE1BQUEsRUFBQSxPQUFBLEVBQUEsUUFBQSxXQUFBLE1BQUEsTUFBQSxFQUFBLFNBQ0EsRUFBQSxNQUFBLFdBQUEsTUFBQSxNQUFBLEVBQUEsT0FBQSxFQUFBLGFBQUEsV0FBQSxNQUFBLE1BQUEsRUFBQSxjQUFBLEVBQUEsR0FBQSxTQUFBLEdBQUEsS0FBQSxFQUFBLGFBQUEsR0FBQSxFQUFBLGFBQUEsV0FBQSxNQUFBLE1BQUEsRUFBQSxjQUFBLEVBQUEsRUFBQSxZQUFBLFdBQUEsSUFBQSxFQUFBLEVBQUEsT0FBQSxHQUFBLE1BQUEsR0FBQSxNQUFBLEdBQUEsUUFBQSxFQUFBLEVBQUEsYUFBQSxFQUFBLEVBQUEsR0FBQSxTQUFBLEdBQUEsSUFBQSxRQUFBLEVBQUEsRUFBQSxZQUFBLEVBQUEsTUFBQSxNQUFBLEdBQUEsTUFBQSxLQUFBLEVBQUEsRUFBQSxHQUFBLFdBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxNQUFBLE9BQUEsR0FBQSxFQUFBLE9BQUEsRUFBQSxFQUFBLEdBQUEsSUFBQSxFQUFBLEVBQUEsUUFDQSxFQUFBLEVBQUEsR0FBQSxXQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsWUFBQSxPQUFBLEdBQUEsRUFBQSxhQUFBLEVBQUEsRUFBQSxHQUFBLElBQUEsRUFBQSxFQUFBLGFBQUEsSUFBQSxHQUFBLEdBQUEsNENBQUEsR0FBQSxjQUFBLEdBQUEsRUFBQSxHQUFBLFdBQUEsR0FBQSxFQUFBLEtBQUEsSUFBQSxFQUFBLEVBQUEsRUFBQSxZQUFBLFVBQUEsYUFBQSxFQUFBLEVBQUEsWUFBQSxVQUFBLFlBQUEsU0FBQSxHQUFBLE1BQUEsSUFBQSxHQUFBLEtBQUEsR0FBQSxRQUFBLEVBQUEsS0FBQSxLQUFBLEtBQUEsRUFBQSxLQUFBLElBQUEsRUFBQSxFQUFBLEVBQUEsWUFBQSxVQUFBLGFBQUEsRUFBQSxFQUFBLFlBQUEsVUFBQSxZQUFBLFNBQUEsR0FBQSxNQUFBLElBQUEsR0FBQSxLQUFBLEdBQUEsUUFBQSxFQUFBLEtBQUEsS0FBQSxNQUNBLEVBQUEsRUFBQSxHQUFBLFdBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxZQUFBLFVBQUEsV0FBQSxPQUFBLEdBQUEsRUFBQSxZQUFBLFVBQUEsWUFBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxLQUFBLEVBQUEsRUFBQSxHQUFBLDRNQUFBLE1BQUEsS0FDQSxFQUFBLEVBQUEsR0FBQSxTQUFBLEdBQUEsR0FBQSxFQUFBLENBQUEsSUFBQSxFQUFBLE9BQUEsRUFBQSxFQUFBLFlBQUEsRUFBQSxXQUFBLFlBQUEsR0FBQSxFQUFBLGlCQUFBLEVBQUEsWUFBQSxFQUFBLFdBQUEsSUFBQSxFQUFBLGdCQUFBLE9BQUEsa0JBQUEsR0FBQSxLQUFBLElBQUEsRUFBQSxPQUFBLE1BQUEsT0FDQSxFQUFBLEVBQUEsRUFBQSxFQUFBLFFBQUEsRUFBQSxTQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxLQUFBLEtBQUEsRUFBQSxFQUFBLEVBQUEsSUFBQSxHQUFBLEVBQUEsTUFBQSxHQUFBLEVBQUEsUUFBQSxJQUFBLEdBQUEsS0FBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLEdBQUEsRUFBQSxLQUFBLGdCQUFBLEVBQUEsRUFBQSxLQUFBLGFBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxjQUFBLHdCQUFBLG1CQUFBLHdCQUFBLHdCQUFBLHdCQUFBLFNBQUEsRUFBQSxTQUFBLFFBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxLQUFBLE1BQUEsRUFBQSxPQUFBLEVBQUEsV0FBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLE1BQUEsU0FBQSxRQUFBLFdBQUEsRUFBQSxRQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEtBQUEsRUFBQSxRQUFBLFlBQUEsRUFBQSxXQUFBLEtBQUEsRUFBQSxNQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsT0FDQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsS0FBQSxFQUFBLGVBQUEsbUJBQUEsRUFBQSxJQUFBLEVBQUEsV0FBQSxtQkFBQSxFQUFBLEtBQUEsRUFBQSxJQUFBLG1CQUFBLEVBQUEsR0FBQSxFQUFBLE9BQUEsRUFBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLFdBQUEsS0FBQSxFQUFBLFdBQUEsS0FBQSxPQUFBLEtBQUEsT0FBQSxLQUFBLFlBQUEsRUFBQSxhQUFBLEVBQUEsSUFBQSxLQUFBLEVBQUEsV0FBQSxLQUFBLEVBQUEsWUFBQSxXQUFBLEtBQUEsSUFBQSxHQUFBLEtBQUEsWUFBQSxRQUFBLFFBQUEsRUFBQSxFQUFBLGFBQUEsRUFBQSxvQkFBQSxLQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxJQUFBLEVBQUEsRUFBQSxFQUFBLE1BQUEsRUFBQSxFQUFBLFVBQUEsUUFBQSxXQUFBLEVBQUEsRUFBQSxVQUFBLFFBQUEsS0FBQSxPQUFBLEVBQUEsRUFBQSxVQUFBLEtBQUEsV0FBQSxLQUFBLEVBQUEsWUFDQSxFQUFBLEVBQUEsVUFBQSxNQUFBLFdBQUEsS0FBQSxFQUFBLGFBQUEsRUFBQSxFQUFBLFVBQUEsSUFBQSxTQUFBLEdBQUEsR0FBQSxJQUFBLEVBQUEsTUFBQSxNQUFBLFlBQUEsSUFBQSxFQUFBLEVBQUEsR0FBQSxJQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsR0FBQSxLQUFBLEdBQUEsRUFBQSxJQUFBLEtBQUEsR0FBQSxFQUFBLE1BQUEsRUFBQSxFQUFBLEdBQUEsR0FBQSxLQUFBLEVBQUEsUUFBQSxJQUFBLEtBQUEsRUFBQSxXQUFBLENBQUEsR0FBQSxHQUFBLElBQUEsWUFBQSxXQUFBLEVBQUEsUUFBQSxLQUFBLEVBQUEsRUFBQSxVQUFBLGVBQUEsU0FBQSxHQUFBLEtBQUEsR0FBQSxFQUFBLEtBQUEsRUFBQSxnQkFBQSxjQUFBLEdBQUEsRUFBQSxFQUFBLFVBQUEsR0FBQSxLQUFBLE9BQUEsRUFBQSxFQUFBLFVBQUEsWUFBQSxXQUFBLE1BQUEsTUFBQSxVQUFBLEtBQUEsSUFBQSxFQUFBLEtBQUEsRUFBQSxnQkFBQSxnQkFDQSxFQUFBLEVBQUEsVUFBQSxXQUFBLFdBQUEsR0FBQSxHQUFBLEtBQUEsRUFBQSxnQkFBQSxhQUFBLElBQUEsR0FBQSxFQUFBLENBQUEsR0FBQSxHQUFBLEtBQUEsaUJBQUEsRUFBQSxLQUFBLFlBQUEsSUFBQSxJQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxJQUFBLE1BQUEsSUFBQSxFQUFBLEVBQUEsVUFBQSxLQUFBLFdBQUEsS0FBQSxFQUFBLFlBQUEsRUFBQSxFQUFBLFVBQUEsT0FBQSxXQUFBLEtBQUEsRUFBQSxnQkFBQSxXQUFBLEVBQUEsRUFBQSxVQUFBLFVBQUEsSUFBQSxFQUFBLEVBQUEsVUFBQSxTQUFBLFdBQUEsTUFBQSxHQUFBLEdBQUEsRUFBQSxLQUFBLEVBQUEsZ0JBQUEsY0FBQSxFQUFBLEVBQUEsVUFBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsVUFBQSxHQUFBLEVBQUEsRUFFQSxJQUFBLElBQUEsRUFBQSxFQUFBLFVBQUEsRUFBQSw0SUFBQSxNQUFBLEtBQUEsR0FBQSxvS0FBQSxNQUFBLEtBQUEsQ0FBQSxLQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxJQUFBLEdBQUEsRUFBQSxJQUFBLElBQUEsS0FBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLE9BQUEsSUFBQSxHQUFBLEdBQUEsR0F1QkEsSUF2QkEsRUFBQSxFQUFBLFlBQUEsV0FBQSxNQUFBLEtBQUEsRUFBQSxFQUFBLFVBQUEsSUFDQSxFQUFBLEVBQUEsR0FBQSxTQUFBLEdBQUEsTUFBQSxHQUFBLE1BQUEsRUFBQSxFQUFBLEtBQUEsUUFBQSxNQUFBLElBQUEsY0FBQSxJQUFBLEdBQUEsRUFBQSxJQUFBLElBQUEsR0FBQSxFQUFBLEdBQUEsUUFBQSxRQUFBLElBQUEsRUFBQSxFQUFBLElBQUEsWUFBQSxNQUFBLGNBQUEsTUFBQSxZQUFBLE1BQUEsWUFBQSxPQUFBLEVBQUEsRUFBQSxJQUFBLFdBQUEsTUFBQSxXQUFBLE9BQUEsRUFBQSxFQUFBLFFBQUEsU0FBQSxHQUFBLEdBQUEsSUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEtBQUEsRUFBQSxZQUFBLEVBQUEsV0FBQSxVQUFBLEVBQUEsT0FBQSxFQUFBLEVBQUEsRUFBQSxXQUFBLEVBQUEsS0FBQSxFQUFBLEVBQUEsV0FBQSxTQUFBLEdBQUEsRUFBQSxNQUFBLEVBQUEsSUFBQSxnQkFBQSxFQUFBLEtBQUEsV0FBQSxXQUFBLEVBQUEsRUFBQSxXQUFBLElBQUEsTUFBQSxFQUFBLEVBQUEsUUFBQSxTQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxPQUFBLEVBQUEsSUFDQSxFQUFBLEVBQUEsUUFBQSxTQUFBLEVBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEdBQUEsT0FBQSxFQUFBLFVBQUEsQ0FBQSxHQUFBLE1BQUEsZUFBQSxHQUFBLEtBQUEsRUFBQSxRQUFBLEdBQUEsSUFBQSxFQUFBLEVBQUEsUUFBQSxXQUFBLEdBQUEsR0FBQSxPQUFBLEtBQUEsRUFBQSxHQUFBLFFBQUEsY0FBQSxpQ0FBQSxZQUFBLFlBQUEsUUFBQSxPQUFBLEtBQUEsTUFBQSxjQUFBLEdBQUEsTUFBQSxHQUFBLElBQUEsVUFBQSxVQUFBLGlDQUFBLGdCQUFBLEdBQUEsVUFBQSxRQUFBLHdCQUFBLFVBQUEsUUFBQSxvQkFBQSxZQUFBLFFBQUEsT0FBQSxLQUFBLE1BQUEsY0FBQSxJQUFBLE1BQUEsS0FBQSxNQUFBLEdBQUEsTUFBQSxNQUNBLEVBQUEsRUFBQSxHQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLFVBQUEsSUFBQSxXQUFBLEdBQUEsRUFBQSxFQUFBLFdBQUEsRUFBQSxXQUFBLGFBQUEsRUFBQSxFQUFBLElBQUEsR0FBQSxFQUFBLFdBQUEsRUFBQSxPQUFBLFlBQUEsV0FBQSxFQUFBLE1BQUEsUUFBQSxTQUFBLEtBQUEsR0FDQSxFQUFBLEVBQUEsR0FBQSxTQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxPQUFBLElBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxTQUFBLEVBQUEsR0FBQSxHQUFBLEVBQUEsSUFBQSxFQUFBLFVBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxNQUFBLEVBQUEsVUFBQSxFQUFBLGtCQUFBLFNBQUEsZ0JBQUEsT0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsU0FBQSxFQUFBLEdBQUEsR0FBQSxnQkFBQSxFQUFBLFlBQUEsRUFBQSxTQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLE1BQUEsT0FBQSxPQUFBLFFBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLFNBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxLQUFBLEVBQUEsT0FBQSwrQ0FBQSxFQUFBLElBQUEsRUFBQSxhQUFBLEVBQUEsRUFBQSxHQUFBLFNBQUEsRUFBQSxHQUFBLE1BQUEsR0FBQSxJQUFBLEdBQ0EsRUFBQSxFQUFBLEdBQUEsU0FBQSxHQUFBLEdBQUEsSUFBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsRUFBQSxNQUFBLEVBQUEsSUFBQSxHQUFBLEVBQUEsRUFBQSxRQUFBLElBQUEsT0FBQSxLQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsWUFBQSxLQUFBLEVBQUEsSUFBQSxJQUFBLEVBQUEsRUFBQSxFQUFBLFNBQUEsRUFBQSxHQUFBLEVBQUEsVUFBQSxFQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsVUFBQSxFQUFBLEVBQUEsUUFBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLFNBQUEsR0FBQSxNQUFBLEtBQUEsR0FBQSxFQUFBLElBQUEsRUFBQSxFQUFBLEdBQUEsb0JBQUEsRUFBQSxFQUFBLEdBQUEsU0FBQSxHQUFBLE1BQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxJQUNBLEVBQUEsR0FBQSxFQUFBLEVBQUEsUUFBQSxFQUFBLFNBQUEsRUFBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsS0FBQSxLQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxTQUFBLElBQUEsRUFBQSxFQUFBLFFBQUEsT0FBQSxFQUFBLElBQUEsRUFBQSxFQUFBLGFBQUEsS0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsVUFBQSxFQUFBLEVBQUEsT0FBQSxJQUFBLENBQUEsR0FBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLElBQUEsRUFBQSxPQUFBLFFBQUEsRUFBQSxJQUFBLEdBQUEsRUFBQSxjQUFBLENBQUEsRUFBQSxFQUFBLEVBQUEsWUFBQSxFQUFBLE9BQUEsVUFBQSxXQUFBLFdBQUEsTUFBQSxNQUFBLEdBQUEsS0FBQSxRQUVBLEVBQUEsRUFBQSxFQUFBLEVBQUEsUUFBQSxFQUFBLFNBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxLQUFBLEtBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxFQUFBLElBQUEsT0FBQSxFQUFBLEtBQUEsSUFBQSxFQUFBLFNBQUEsSUFBQSxFQUFBLElBQUEsS0FBQSxHQUFBLEVBQUEsSUFBQSxLQUFBLEdBQUEsRUFBQSxZQUFBLEVBQUEsS0FBQSxLQUFBLEdBQUEsRUFBQSxNQUFBLEtBQUEsR0FBQSxFQUFBLFFBQUEsS0FBQSxHQUFBLEVBQUEsTUFBQSxLQUFBLE1BQUEsS0FBQSxNQUFBLEtBQUEsR0FBQSxLQUFBLEdBQUEsS0FBQSxFQUFBLEVBQUEsRUFBQSxVQUFBLEVBQUEsRUFBQSxFQUFBLEtBQUEsRUFBQSxJQUFBLEVBQUEsTUFBQSxFQUFBLEdBQUEsRUFBQSxNQUFBLEVBQUEsTUFBQSxFQUFBLE1BQUEsRUFBQSxTQUFBLEVBQUEsTUFBQSxFQUFBLE1BQUEsRUFBQSxNQUFBLEVBQUEsR0FBQSxFQUFBLE1BQUEsRUFBQSxHQUFBLEVBQUEsTUFBQSxFQUFBLFdBQUEsRUFBQSxNQUFBLEVBQUEsS0FBQSxFQUFBLE1BQUEsRUFBQSxFQUFBLFdBQUEsTUFBQSxHQUFBLEVBQUEsVUFBQSxFQUFBLEtBQUEsS0FBQSxPQUFBLFVBQUEsT0FBQSxLQUFBLEVBQUEscUJBQ0EsRUFBQSxLQUFBLFdBQUEsR0FBQSxNQUFBLEtBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxVQUFBLEtBQUEsS0FBQSxPQUFBLEVBQUEsRUFBQSxXQUFBLEdBQUEsTUFBQSxLQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsVUFBQSxFQUFBLEtBQUEsT0FBQSxFQUFBLFFBQUEsV0FBQSxHQUFBLEtBQUEsSUFBQSxLQUFBLElBQUEsS0FBQSxFQUFBLEVBQUEsYUFBQSxFQUFBLEtBQUEsS0FBQSxLQUFBLE9BQUEsS0FBQSxJQUFBLEtBQUEsRUFBQSxFQUFBLFFBQUEsRUFBQSxLQUFBLEtBQUEsS0FBQSxNQUFBLEtBQUEsSUFBQSxLQUFBLFFBQUEsS0FBQSxFQUFBLEdBQUEsb0JBQUEsWUFBQSxNQUFBLEtBQUEsR0FBQSxHQUNBLEVBQUEsS0FBQSxXQUFBLElBQUEsS0FBQSxLQUFBLEtBQUEsR0FBQSxFQUFBLEVBQUEsSUFBQSxLQUFBLEdBQUEsRUFBQSxLQUFBLEtBQUEsS0FBQSxJQUFBLEVBQUEsS0FBQSxLQUFBLEtBQUEsT0FBQSxFQUFBLEdBQUEsU0FBQSxHQUFBLEtBQUEsTUFBQSxFQUFBLEtBQUEsR0FBQSxFQUFBLEtBQUEsRUFBQSxVQUNBLEVBQUEsR0FBQSxTQUFBLEdBQUEsR0FBQSxHQUFBLENBQUEsR0FBQSxFQUFBLE1BQUEsS0FBQSxLQUFBLEdBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxFQUFBLEVBQUEsSUFBQSxHQUFBLEVBQUEsRUFBQSxLQUFBLEVBQUEsSUFBQSxDQUFBLElBQUEsSUFBQSxFQUFBLFFBQUEsUUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEtBQUEsSUFBQSxLQUFBLEVBQUEsS0FBQSxHQUFBLE9BQUEsR0FBQSxHQUFBLEVBQUEsTUFBQSxLQUFBLEdBQUEsUUFBQSxFQUFBLEVBQUEsTUFBQSxVQUFBLEVBQUEsVUFBQSxHQUFBLEVBQUEsSUFBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLElBQUEsS0FBQSxJQUFBLEtBQUEsRUFBQSxFQUFBLEtBQUEsRUFBQSxNQUFBLEVBQUEsS0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEtBQUEsU0FBQSxLQUFBLEdBQUEsS0FBQSxHQUFBLEtBQUEsR0FBQSxFQUFBLEtBQUEsRUFBQSxXQUVBLEVBQUEsT0FBQSxXQUFBLEdBQUEsRUFBQSxLQUFBLEdBQUEsT0FBQSxDQUFBLEdBQUEsR0FBQSxLQUFBLEVBQUEsVUFBQSxpQkFBQSxFQUFBLEVBQUEsS0FBQSxFQUFBLGNBQUEsQ0FBQSxJQUFBLEtBQUEsS0FBQSxHQUFBLEVBQUEsS0FBQSxJQUFBLEtBQUEsSUFBQSxFQUFBLENBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsS0FBQSxHQUFBLEVBQUEsS0FBQSxFQUFBLFdBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxJQUFBLEtBQUEsR0FBQSxLQUFBLElBQUEsS0FBQSxLQUFBLEVBQUEsRUFBQSxLQUFBLEtBQUEsRUFBQSxLQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxLQUFBLEtBQUEsRUFBQSxLQUFBLEdBQUEsRUFBQSxPQUFBLEtBQUEsQ0FBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsSUFBQSxFQUFBLEVBQUEsS0FBQSxJQUFBLEVBQUEsRUFBQSxJQUFBLEVBQUEsS0FBQSxFQUFBLEdBQUEsT0FBQSxJQUFBLEVBQUEsRUFBQSxXQUFBLEdBQUEsRUFBQSxLQUFBLElBQUEsRUFBQSxFQUFBLFdBQUEsRUFBQSxLQUFBLEVBQUEsR0FBQSxJQUFBLEVBQUEsVUFBQSxJQUFBLEVBQUEsT0FBQSxFQUFBLEVBQUEsR0FBQSxJQUFBLElBQUEsRUFBQSxHQUFBLEVBQUEsSUFBQSxFQUFBLEtBQUEsR0FBQSxJQUFBLElBQUEsRUFBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLEtBQUEsSUFBQSxFQUNBLEVBQUEsSUFBQSxFQUFBLEtBQUEsSUFBQSxFQUFBLEVBQUEsV0FBQSxFQUFBLEdBQUEsQ0FBQSxJQUFBLEVBQUEsQ0FBQSxHQUFBLElBQUEsRUFBQSxLQUFBLFNBQUEsQ0FBQSxHQUFBLElBQUEsRUFBQSxPQUFBLEVBQUEsS0FBQSxNQUFBLElBQUEsS0FBQSxHQUFBLEVBQUEsS0FBQSxHQUFBLEVBQUEsS0FBQSxHQUFBLEVBQUEsS0FBQSxHQUFBLEVBQUEsS0FBQSxHQUFBLEVBQUEsRUFBQSxLQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxFQUFBLEVBQUEsSUFBQSxHQUFBLDRCQUFBLEVBQUEsR0FBQSxLQUFBLFNBQUEsTUFBQSxFQUFBLFVBQUEsRUFBQSxLQUFBLEVBQUEsZ0JBQUEsRUFBQSxNQUFBLFdBQUEsS0FBQSxHQUFBLEVBQUEsS0FBQSxHQUFBLEtBQUEsRUFBQSxXQUFBLEtBQUEsR0FBQSxLQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLFNBQUEsRUFBQSxHQUFBLFVBQUEsRUFBQSxXQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsU0FBQSxFQUFBLEdBQUEsVUFBQSxFQUFBLFlBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxTQUFBLEVBQUEsR0FBQSxVQUFBLEVBQUEsV0FDQSxFQUFBLEdBQUEsRUFBQSxFQUFBLFFBQUEsRUFBQSxTQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEtBQUEsS0FBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsUUFBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLE9BQUEsQ0FBQSxFQUFBLEtBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxNQUFBLEtBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLE9BQUEsSUFBQSxFQUFBLEVBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxLQUFBLEVBQUEsTUFBQSxFQUFBLFNBQUEsT0FBQSxFQUFBLEdBQUEsVUFBQSxFQUFBLFdBQUEsTUFBQSxHQUFBLEVBQUEsVUFBQSxFQUFBLEtBQUEsS0FBQSxPQUFBLFVBQUEsNEJBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxRQUFBLEVBQUEsU0FBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsR0FBQSxFQUFBLEtBQUEsR0FBQSxNQUFBLEVBQUEsUUFBQSxFQUFBLFNBQUEsRUFBQSxLQUFBLEVBQUEsRUFBQSxLQUFBLEtBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxFQUFBLEVBQUEsSUFBQSxjQUFBLEtBQUEsV0FDQSxFQUFBLEdBQUEsVUFBQSxFQUFBLFdBQUEsRUFBQSxFQUFBLFVBQUEsRUFBQSxLQUFBLE1BQUEsRUFBQSxLQUFBLEVBQUEsS0FBQSxHQUFBLEVBQUEsS0FBQSxHQUFBLE1BQUEsRUFBQSxHQUFBLFVBQUEsT0FBQSxXQUFBLEtBQUEsU0FBQSxHQUFBLEtBQUEsR0FBQSxTQUFBLEVBQUEsR0FBQSxFQUFBLEdBQUEsUUFBQSxFQUFBLFNBQUEsRUFBQSxHQUFBLEVBQUEsT0FBQSxFQUFBLFdBQUEsTUFBQSxHQUFBLE1BQUEsRUFBQSxFQUFBLE1BQUEsV0FBQSxNQUFBLEdBQUEsS0FBQSxRQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxJQUFBLEVBQUEsR0FBQSxLQUFBLEtBQUEsRUFBQSxHQUFBLEtBQUEsU0FBQSxNQUFBLEVBQUEsR0FBQSxVQUFBLEVBQUEsV0FBQSxFQUFBLEdBQUEsVUFBQSxFQUFBLEtBQUEsTUFBQSxFQUFBLEtBQUEsRUFBQSxLQUFBLEdBQUEsRUFBQSxLQUFBLEdBQUEsTUFDQSxFQUFBLEdBQUEsVUFBQSxPQUFBLFdBQUEsSUFBQSxHQUFBLEdBQUEsRUFBQSxLQUFBLEVBQUEsYUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLE9BQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxJQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsS0FBQSxLQUFBLEdBQUEsS0FBQSxHQUFBLEVBQUEsU0FBQSxFQUFBLEVBQUEsTUFBQSxTQUFBLElBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxRQUFBLEVBQUEsU0FBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEtBQUEsS0FBQSxFQUFBLEdBQUEsR0FBQSxLQUFBLEVBQUEsUUFBQSxLQUFBLE9BQUEsRUFBQSxFQUFBLFVBQUEsR0FBQSxXQUFBLEdBQUEsR0FBQSxJQUFBLEdBQUEsS0FBQSxHQUFBLEdBQUEsR0FBQSxLQUFBLEdBQUEsS0FBQSxLQUFBLElBQUEsS0FBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEtBQUEsRUFBQSxhQUFBLE9BQUEsSUFBQSxFQUFBLEtBQUEsRUFBQSxhQUFBLEdBQUEsRUFBQSxNQUFBLEtBQUEsR0FBQSxFQUFBLEtBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxHQUFBLE1BQUEsSUFBQSxPQUFBLElBQ0EsRUFBQSxHQUFBLEVBQUEsRUFBQSxRQUFBLEVBQUEsU0FBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsS0FBQSxLQUFBLEVBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxhQUFBLGFBQUEsb0JBQUEsRUFBQSxHQUFBLFVBQUEsRUFBQSxXQUFBLEVBQUEsR0FBQSxVQUFBLEdBQUEsV0FBQSxFQUFBLEdBQUEsVUFBQSxVQUFBLHNCQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsUUFBQSxFQUFBLFNBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEtBQUEsS0FBQSxFQUFBLEVBQUEsR0FBQSxLQUFBLEVBQUEsYUFBQSxhQUFBLHFCQUFBLEVBQUEsR0FBQSxVQUFBLEVBQUEsWUFBQSxFQUFBLEdBQUEsVUFBQSxHQUFBLFlBQUEsRUFBQSxHQUFBLFVBQUEsVUFBQSx1QkFDQSxFQUFBLEdBQUEsRUFBQSxFQUFBLFFBQUEsRUFBQSxTQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxLQUFBLEtBQUEsRUFBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLGFBQUEsYUFBQSxvQkFBQSxFQUFBLEVBQUEsR0FBQSxVQUFBLEVBQUEsRUFBQSxXQUFBLEVBQUEsR0FBQSxXQUFBLEVBQUEsVUFBQSxzQkFBQSxFQUFBLEdBQUEsV0FBQSxJQUFBLEdBQUEsR0FBQSxLQUFBLEVBQUEsRUFBQSxFQUFBLEtBQUEsRUFBQSxhQUFBLE9BQUEsSUFBQSxFQUFBLEtBQUEsRUFBQSxhQUFBLEdBQUEsRUFBQSxNQUFBLEtBQUEsR0FBQSxFQUFBLEtBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxHQUFBLE1BQUEsSUFBQSxPQUFBLElBQ0EsRUFBQSxHQUFBLFdBQUEsSUFBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEtBQUEsRUFBQSxhQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxFQUFBLEtBQUEsS0FBQSxFQUFBLEVBQUEsSUFBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsS0FBQSxLQUFBLEVBQUEsQ0FBQSxHQUFBLElBQUEsRUFBQSxhQUFBLENBQUEsRUFBQSxDQUFBLE9BQUEsRUFBQSxPQUFBLEVBQUEsRUFBQSxTQUFBLEVBQUEsS0FBQSxLQUFBLEtBQUEsS0FBQSxHQUFBLEVBQUEsS0FBQSxHQUFBLElBQUEsSUFBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsR0FBQSxFQUFBLEtBQUEsWUFBQSxFQUFBLEVBQUEsTUFBQSxVQUFBLGlCQUFBLFVBQUEsRUFBQSxHQUFBLEtBQUEsR0FBQSxHQUFBLE9BQUEsRUFBQSxDQUFBLEVBQUEsRUFBQSxFQUFBLEtBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxFQUFBLEVBQUEsSUFBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsR0FBQSxNQUFBLEVBQUEsSUFBQSxJQUFBLEVBQUEsS0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLE1BQUEsRUFBQSxHQUFBLE1BQUEsR0FBQSxLQUFBLEVBQUEsUUFBQSxLQUFBLE9BQUEsR0FDQSxFQUFBLEdBQUEsRUFBQSxFQUFBLFFBQUEsRUFBQSxTQUFBLEVBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxHQUFBLEVBQUEsTUFBQSxFQUFBLEtBQUEsSUFBQSxFQUFBLElBQUEsRUFBQSxFQUFBLGFBQUEsR0FBQSxNQUFBLEVBQUEsS0FBQSxFQUFBLFNBQUEsRUFBQSxXQUFBLEdBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEtBQUEsS0FBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLFlBQUEsRUFBQSxLQUFBLEtBQUEsS0FBQSxZQUFBLEVBQUEsR0FBQSxVQUFBLEVBQUEsV0FBQSxFQUFBLEVBQUEsVUFBQSxFQUFBLEtBQUEsTUFBQSxLQUFBLEVBQUEsWUFBQSxLQUFBLElBQUEsV0FBQSxLQUFBLE9BQUEsS0FBQSxJQUFBLFlBQUEsRUFBQSxHQUFBLFVBQUEsT0FBQSxXQUFBLEdBQUEsR0FBQSxLQUFBLElBQUEsRUFBQSxLQUFBLEVBQUEsYUFBQSxNQUFBLFNBQUEsRUFBQSxXQUFBLEdBQUEsRUFBQSxFQUFBLEtBQ0EsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLFVBQUEsRUFBQSxVQUFBLG1CQUFBLGtCQUFBLG9CQUNBLG1CQUFBLFFBQUEsTUFBQSxrQkFBQSxRQUFBLEtBQUEsTUFBQSxFQUFBLEtBQUEsT0FBQSxTQUFBLENBQUEsRUFBQSxPQUFBLElBQUEsR0FBQSwwR0FBQSxHQUFBLEtBQUEsTUFBQSxTQUFBLEVBQUEsR0FBQSxRQUFBLEdBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLElBQUEsR0FBQSxnQkFBQSxHQUFBLElBQUEsSUFBQSxHQUFBLE9BQUEsVUFBQSxlQUFBLEtBQUEsRUFBQSxLQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsSUFBQSxFQUFBLEVBQUEsR0FBQSxRQUFBLEdBQUEsR0FBQSxPQUFBLEdBQUEsS0FBQSxFQUFBLEVBQUEsR0FBQSxHQUFBLEVBQ0EsSUFEQSxFQUFBLE9BQUEsR0FBQSxFQUFBLFVBQUEsRUFBQSxFQUFBLEtBQUEsS0FBQSxFQUFBLEVBQUEsUUFBQSxFQUFBLFNBQUEsR0FBQSxNQUFBLE9BQUEsT0FDQSxFQUFBLFdBQUEsR0FBQSxTQUFBLEtBQUEsTUFBQSxPQUFBLGdCQUFBLEtBQUEsRUFBQSxRQUFBLHNDQUFBLEtBQUEsUUFBQSxtRUFBQSxLQUFBLFFBQUEsdUJBQUEsS0FBQSxNQUFBLEdBQUEsS0FBQSxJQUFBLEVBQUEsS0FBQSxrQkFBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLElBQUEsQ0FBQSxNQUFBLElBQUEsYUFBQSxpREFDQSxFQUFBLEdBQUEsV0FBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLENBQUEsR0FBQSxTQUFBLHFCQUFBLFNBQUEsRUFBQSxTQUFBLHFCQUFBLFFBQUEsSUFBQSxLQUFBLElBQUEsR0FBQSxFQUFBLEVBQUEsT0FBQSxJQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxFQUFBLEVBQUEsSUFBQSxFQUFBLEtBQUEsRUFBQSxHQUFBLElBQUEsR0FBQSxFQUFBLEVBQUEsT0FBQSxJQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxFQUFBLEVBQUEsSUFBQSxFQUFBLEtBQUEsRUFBQSxHQUFBLElBQUEsR0FBQSxFQUFBLEVBQUEsT0FBQSxJQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxFQUFBLEVBQUEsSUFBQSxDQUFBLEtBQUEsRUFBQSxFQUFBLE1BQUEsRUFBQSxhQUFBLENBQUEsRUFBQSxJQUFBLE9BQUEsRUFBQSxTQUFBLElBQUEsRUFBQSxFQUFBLGFBQUEsY0FBQSxJQUFBLEdBQUEsUUFBQSxRQUFBLEdBQUEsSUFBQSxFQUFBLE1BQUEsRUFBQSxHQUFBLFdBQUEsV0FBQSxFQUFBLEdBQUEsSUFDQSxhQUFBLFNBQUEsV0FBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxPQUFBLFdBQUEsRUFBQSxHQUFBLElBQUEsRUFBQSxLQUFBLEVBQUEsR0FBQSxTQUFBLEVBQUEsR0FBQSxFQUFBLE9BQUEsVUFBQSxHQUFBLEVBQUEsSUFBQSxJQUFBLElBQUEsR0FBQSxVQUFBLEdBQUEsRUFBQSxNQUFBLEdBQUEsRUFBQSxrQkFBQSxFQUFBLFNBQUEsRUFBQSxrQkFBQSxFQUFBLElBQUEsRUFBQSx3QkFBQSxFQUFBLElBQUEsRUFBQSxnQkFBQSxFQUFBLElBQUEsRUFBQSxvQkFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLFVBQUEsT0FBQSxFQUFBLEVBQUEsVUFBQSxFQUFBLEVBQUEsRUFBQSxVQUFBLFFBQUEsRUFBQSxFQUFBLFVBQUEsUUFBQSxFQUFBLEVBQUEsVUFBQSxLQUFBLEVBQUEsRUFBQSxVQUFBLEVBQUEsRUFBQSxFQUFBLFVBQUEsUUFBQSxFQUFBLEVBQUEsVUFBQSxRQUFBLEVBQUEsRUFBQSxVQUFBLFNBQUEsRUFBQSxFQUFBLFVBQUEsRUFBQSxFQUFBLEVBQUEsVUFBQSxVQUFBLEVBQUEsRUFBQSxVQUFBLEdBQUEsRUFBQSxFQUFBLFVBQUEsR0FBQSxFQUFBLEVBQUEsVUFBQSxFQUFBLEVBQUEsRUFBQSxVQUFBLFNBQUEsRUFBQSxFQUFBLFVBQUEsRUFDQSxFQUFBLEVBQUEsVUFBQSxTQUFBLEVBQUEsRUFBQSxVQUFBLEdBQUEsRUFBQSxFQUFBLFVBQUEsYUFBQSxFQUFBLEVBQUEsVUFBQSxHQUFBLEVBQUEsRUFBQSxVQUFBLFNBQUEsRUFBQSxFQUFBLFVBQUEsU0FBQSxFQUFBLEVBQUEsVUFBQSxhQUFBLEVBQUEsRUFBQSxVQUFBLEdBQUEsRUFBQSxFQUFBLFVBQUEsWUFBQSxFQUFBLEVBQUEsVUFBQSxZQUFBLEVBQUEsRUFBQSxVQUFBLEdBQUEsRUFBQSxFQUFBLFVBQUEsRUFBQSxFQUFBLEVBQUEsVUFBQSxJQUFBLEVBQUEsRUFBQSxVQUFBLEVBQUEsRUFBQSxFQUFBLFVBQUEsSUFBQSxFQUFBLEVBQUEsVUFBQSxFQUFBLEVBQUEsRUFBQSxVQUFBLFFBQUEsRUFBQSxFQUFBLFVBQUEsRUFBQSxFQUFBLEVBQUEsVUFBQSxhQUFBLEVBQUEsRUFBQSxVQUFBLEdBQUEsRUFBQSxFQUFBLFVBQUEsS0FBQSxFQUFBLEVBQUEsVUFBQSxLQUFBLEVBQUEsRUFBQSxVQUFBLEtBQUEsRUFBQSxFQUFBLFVBQUEsRUFDQSxFQUFBLEVBQUEsVUFBQSxNQUFBLEVBQUEsRUFBQSxVQUFBLE1BQUEsRUFBQSxFQUFBLFVBQUEsT0FBQSxFQUFBLEVBQUEsVUFBQSxPQUFBLEVBQUEsRUFBQSxVQUFBLFdBQUEsRUFBQSxFQUFBLFVBQUEsR0FBQSxFQUFBLEVBQUEsVUFBQSxNQUFBLEVBQUEsRUFBQSxVQUFBLEVBQUEsRUFBQSxFQUFBLFVBQUEsU0FBQSxFQUFBLEVBQUEsVUFBQSxFQUFBLEVBQUEsRUFBQSxVQUFBLFlBQUEsRUFBQSxFQUFBLFVBQUEsRUFBQSxFQUFBLEVBQUEsVUFBQSxjQUFBLEVBQUEsRUFBQSxVQUFBLEVBQUEsRUFBQSxFQUFBLFVBQUEsU0FBQSxFQUFBLEVBQUEsVUFBQSxFQUFBLEVBQUEsT0FBQSxVQUFBLE1BQUEsRUFBQSxPQUFBLFVBQUEsTUFBQSxFQUFBLE9BQUEsVUFBQSxnQkFBQSxFQUFBLE9BQUEsVUFBQSxHQUFBLEVBQUEsT0FBQSxVQUFBLGVBQUEsRUFBQSxPQUFBLFVBQUEsR0FDQSxFQUFBLE9BQUEsVUFBQSxRQUFBLEVBQUEsT0FBQSxVQUFBLEdBQUEsRUFBQSxPQUFBLFVBQUEsY0FBQSxFQUFBLE9BQUEsVUFBQSxjQUFBLEVBQUEsT0FBQSxVQUFBLG1CQUFBLEVBQUEsT0FBQSxVQUFBLEdBQUEsRUFBQSxPQUFBLFVBQUEsWUFBQSxFQUFBLE9BQUEsVUFBQSxHQUFBLEVBQUEsT0FBQSxVQUFBLGtCQUFBLEVBQUEsT0FBQSxVQUFBLGtCQUFBLEVBQUEsT0FBQSxVQUFBLGtCQUFBLEVBQUEsT0FBQSxVQUFBLGtCQUFBLEVBQUEsT0FBQSxVQUFBLGlCQUFBLEVBQUEsT0FBQSxVQUFBLGlCQUFBLEVBQUEsT0FBQSxVQUFBLGVBQUEsRUFBQSxPQUFBLFVBQUEsZUFDQSxFQUFBLE9BQUEsVUFBQSxhQUFBLEVBQUEsT0FBQSxVQUFBLGFBQUEsRUFBQSxPQUFBLFVBQUEsYUFBQSxFQUFBLE9BQUEsVUFBQSxhQUFBLEVBQUEsc0JBQUEsRUFBQSxJQUFBLEVBQUEsMkJBQUEsRUFBQSxJQUFBLEVBQUEscUJBQUEsRUFBQSxJQUFBLEVBQUEsaUJBQUEsRUFBQSxHQUFBLEVBQUEscUJBQUEsRUFBQSxJQUFBLEVBQUEsMkJBQUEsRUFBQSxJQUFBLEVBQUEsd0JBQUEsRUFBQSxJQUFBLEVBQUEseUJBQUEsRUFBQSxJQUFBLEVBQUEsNkJBQUEsRUFBQSxJQUFBLEVBQUEsMEJBQUEsRUFBQSxJQUFBLEVBQUEsc0JBQUEsRUFBQSxJQUNBLEVBQUEsK0JBQUEsRUFBQSxJQUFBLEVBQUEsc0JBQUEsRUFBQSxJQUFBLEVBQUEsdUJBQUEsRUFBQSxJQUFBLEVBQUEsaUJBQUEsRUFBQSxHQUFBLEVBQUEsMEJBQUEsRUFBQSxJQUFBLEVBQUEsa0JBQUEsRUFBQSxJQUFBLEVBQUEsMEJBQUEsRUFBQSxJQUFBLEVBQUEsMEJBQUEsRUFBQSxJQUFBLEVBQUEscUJBQUEsRUFBQSxJQUFBLEVBQUEsd0JBQUEsRUFBQSxJQUFBLEVBQUEsb0JBQUEsRUFBQSxJQUFBLEVBQUEsc0JBQUEsRUFBQSxJQUFBLEVBQUEsMkJBQUEsRUFBQSxJQUFBLEVBQUEsdUJBQUEsRUFBQSxJQUFBLEVBQUEscUJBQUEsRUFBQSxJQUFBLEVBQUEsc0JBQUEsRUFBQSxJQUNBLEVBQUEsZUFBQSxFQUFBLElBQUEsRUFBQSxtQkFBQSxFQUFBLEdBQUEsRUFBQSxxQkFBQSxFQUFBLEdBQUEsRUFBQSxpQ0FBQSxFQUFBLElBQUEsRUFBQSxFQUFBLFVBQUEsWUFBQSxFQUFBLEVBQUEsVUFBQSxHQUFBLEVBQUEsRUFBQSxVQUFBLFlBQUEsRUFBQSxFQUFBLFVBQUEsR0FBQSxFQUFBLEdBQUEsVUFBQSxZQUFBLEVBQUEsR0FBQSxVQUFBLEdBQUEsRUFBQSwwQkFBQSxFQUFBLElBQUEsRUFBQSx5QkFBQSxFQUFBLElBQUEsRUFBQSx5QkFBQSxFQUFBLElBQUEsRUFBQSw4QkFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLFVBQUEsc0JBQUEsRUFBQSxFQUFBLFVBQUEsR0FBQSxFQUFBLEVBQUEsVUFBQSx5QkFBQSxFQUFBLEVBQUEsVUFBQSxHQUNBLEVBQUEsRUFBQSxVQUFBLHFCQUFBLEVBQUEsRUFBQSxVQUFBLEdBQUEsRUFBQSxFQUFBLFVBQUEsdUJBQUEsRUFBQSxFQUFBLFVBQUEsR0FBQSxFQUFBLEVBQUEsVUFBQSx5QkFBQSxFQUFBLEVBQUEsVUFBQSxHQUFBLEVBQUEsRUFBQSxVQUFBLFVBQUEsRUFBQSxFQUFBLFVBQUEsR0FBQSxFQUFBLGdCQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsT0FBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsWUFBQSxFQUFBLEVBQUEsWUFBQSxFQUFBLEVBQUEsY0FBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsaUJBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLG1CQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxVQUFBLGVBQUEsRUFBQSxFQUFBLFVBQUEsR0FBQSxFQUFBLEVBQUEsVUFBQSxVQUFBLEVBQUEsRUFBQSxVQUFBLEdBQUEsRUFBQSxFQUFBLFVBQUEsU0FBQSxFQUFBLEVBQUEsVUFBQSxHQUNBLEVBQUEsRUFBQSxVQUFBLFdBQUEsRUFBQSxFQUFBLFVBQUEsR0FBQSxFQUFBLEVBQUEsVUFBQSxZQUFBLEVBQUEsRUFBQSxVQUFBLEdBQUEsRUFBQSxFQUFBLFVBQUEsUUFBQSxFQUFBLEVBQUEsVUFBQSxHQUFBLEVBQUEsRUFBQSxVQUFBLGdCQUFBLEVBQUEsRUFBQSxVQUFBLEdBQUEsRUFBQSxFQUFBLFVBQUEsZUFBQSxFQUFBLEVBQUEsVUFBQSxHQUFBLEVBQUEsRUFBQSxVQUFBLGFBQUEsRUFBQSxFQUFBLFVBQUEsYUFBQSxFQUFBLEVBQUEsVUFBQSxnQkFBQSxFQUFBLEVBQUEsVUFBQSxHQUFBLEVBQUEsZ0JBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxZQUFBLEVBQUEsRUFBQSxZQUFBLEVBQUEsRUFBQSxjQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxRQUFBLEVBQUEsRUFBQSxRQUFBLEVBQUEsRUFBQSxNQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxRQUFBLEVBQUEsRUFBQSxRQUFBLEVBQUEsb0JBQUEsRUFBQSxHQUNBLEVBQUEsRUFBQSxVQUFBLE1BQUEsRUFBQSxFQUFBLFVBQUEsTUFBQSxFQUFBLEVBQUEsVUFBQSxLQUFBLEVBQUEsRUFBQSxVQUFBLEVBQUEsRUFBQSxFQUFBLFVBQUEsS0FBQSxFQUFBLEVBQUEsVUFBQSxLQUFBLEVBQUEsRUFBQSxVQUFBLEtBQUEsRUFBQSxFQUFBLFVBQUEsR0FBQSxFQUFBLEVBQUEsVUFBQSxXQUFBLEVBQUEsRUFBQSxVQUFBLEdBQUEsRUFBQSx3QkFBQSxFQUFBLElBQUEsRUFBQSx5QkFBQSxFQUFBLElBQUEsRUFBQSx3QkFBQSxFQUFBLElBQUEsRUFBQSxvQkFBQSxFQUFBLElBQUEsRUFBQSxpQkFBQSxFQUFBLElBQUEsRUFBQSwwQkFBQSxFQUFBLElBQUEsRUFBQSxlQUFBLEVBQUEsSUFBQSxFQUFBLEdBQUEsYUFBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLFlBQUEsRUFBQSxNQ2hLQSxXQU9BLFFBQUEsT0FDQSxtQkFBQSxVQUFBLGtCQUFBLFNBQUEsTUFDQSxNQUFBLFVBQUEsUUFBQSxLQUFBLFVBQUEsaUJBQ0EsUUFBQSxJQUFBLE1BQUEsVUFBQSxLQUFBLEtBQUEsVUFBQSxPQVVBLFFBQUEsVUFBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEVBQUEsaUJBQ0EsRUFBQSxpQkFBQSxFQUFBLEdBQUEsT0FDQSxDQUFBLElBQUEsRUFBQSxZQUtBLEtBQUEsSUFBQSxPQUFBLGtDQUpBLEdBQUEsWUFBQSxLQUFBLEVBQUEsV0FDQSxFQUFBLEtBQUEsTUFpQkEsUUFBQSxnQkFBQSxHQUNBLEdBQUEsRUFFQSxVQUFBLE9BQUEsU0FBQSxXQUNBLEdBQ0EsYUFBQSxHQUVBLEVBQUEsV0FBQSxFQUFBO0dBNERBLFFBQUEsUUFBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLEVBQUEsRUFDQSxFQUFBLFVBQUEsRUFPQSxPQU5BLEdBQUEsRUFBQSxLQUNBLEVBQUEsRUFBQSxJQUVBLEVBQUEsRUFBQSxFQUFBLFlBQ0EsRUFBQSxFQUFBLEVBQUEsY0FHQSxLQUFBLEVBQ0EsTUFBQSxFQUNBLElBQUEsRUFDQSxPQUFBLEdBVUEsUUFBQSxXQUFBLEVBQUEsR0FDQSxJQUFBLEdBQUEsS0FBQSxHQUNBLEVBQUEsZUFBQSxLQUNBLEVBQUEsTUFBQSxHQUFBLEVBQUEsSUFZQSxRQUFBLFlBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxPQUFBLEVBRUEsV0FBQSxHQUNBLFNBQUEsV0FDQSxLQUFBLEVBQUEsS0FBQSxLQUNBLElBQUEsRUFBQSxJQUFBLEtBQ0EsTUFBQSxFQUFBLFlBQUEsS0FDQSxPQUFBLEVBQUEsYUFBQSxPQWlDQSxRQUFBLGNBQUEsR0FDQSxNQUFBLEdBQUEsUUFBQSxZQUFBLElBUUEsUUFBQSxRQUFBLEdBQ0EsTUFBQSxLQUFBLEVBQUEsUUFBQSxLQUFBLEVBQUEsUUFBQSxRQUFBLElBQUEsR0FHQSxRQUFBLFVBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxHQUFBLFFBQUEsTUFBQSxFQUFBLE1BQ0EsT0FBQSxHQUFBLEtBQUEsRUFBQSxXQUVBLFFBQUEsVUFBQSxFQUFBLEdBQ0EsU0FBQSxFQUFBLEtBQ0EsRUFBQSxXQUFBLElBQUEsR0FHQSxRQUFBLGFBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxHQUFBLFFBQUEsTUFBQSxFQUFBLE1BQ0EsR0FBQSxVQUFBLEVBQUEsVUFBQSxRQUFBLEVBQUEsSUFHQSxRQUFBLFlBQUEsR0FDQSxFQUFBLFdBQUEsWUFBQSxHQWpLQSxHQUFBLFNBQUEsZ0JBQUEsc0JBR0EsR0FBQSxXQUFBLFNBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSx3QkFDQSxFQUFBLEVBQUEsY0FDQSxFQUFBLEVBQUEsS0FDQSxFQUFBLEVBQUEsZ0JBQ0EsRUFBQSxFQUFBLFdBQUEsRUFBQSxXQUFBLEVBQ0EsRUFBQSxFQUFBLFlBQUEsRUFBQSxZQUFBLEVBSUEsRUFBQSxDQUNBLElBQUEsRUFBQSxzQkFBQSxDQUNBLEdBQUEsR0FBQSxFQUFBLHVCQUNBLElBQUEsRUFBQSxNQUFBLEVBQUEsTUFBQSxFQUFBLFlBR0EsRUFBQSxJQUNBLEVBQUEsRUFDQSxFQUFBLEVBR0EsSUFBQSxHQUFBLEVBQUEsSUFBQSxHQUFBLE9BQUEsYUFBQSxHQUFBLEVBQUEsVUFBQSxHQUFBLEVBQUEsVUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEtBQUEsR0FBQSxPQUFBLGFBQUEsR0FBQSxFQUFBLFdBQUEsR0FBQSxFQUFBLFdBQUEsR0FBQSxDQUVBLFFBQ0EsSUFBQSxFQUNBLEtBQUEsUUFLQSxJQUFBLFdBQUEsU0FBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLEVBQUEsQ0FDQSxHQUNBLElBQUEsRUFBQSxXQUFBLEVBQ0EsR0FBQSxFQUFBLFlBQUEsRUFDQSxFQUFBLEVBQUEsbUJBQ0EsRUFFQSxRQUNBLEtBQUEsRUFDQSxJQUFBLEdBaUVBLElBQUEsV0FBQSxXQUNBLEdBQUEsR0FBQSxTQUFBLGNBQUEsTUFDQSxPQUFBLFVBQUEsR0FDQSxFQUFBLFVBQUEsQ0FDQSxJQUFBLEdBQUEsRUFBQSxVQUNBLE9BQUEsR0FBQSxZQUFBLE9BUUEsT0FBQSxXQUNBLEdBQUEsR0FBQSxDQUNBLE9BQUEsWUFDQSxNQUFBLG1CQUFBLE9BK0NBLFFBQUEsV0FBQSxTQUFBLEVBQUEsR0FDQSxLQUFBLFdBRUEsT0FBQSxhQUVBLEtBQUEsV0FFQSxRQUVBLFlBQUEsRUFLQSxjQUFBLEVBRUEsV0FBQSxRQUVBLFdBQUEsUUFFQSxjQUFBLFdBR0EsU0FBQSxhQUlBLFNBQUEsYUFJQSxXQUFBLGFBS0EsS0FBQSxHQUFBLEtBQUEsR0FDQSxFQUFBLGVBQUEsS0FDQSxLQUFBLFVBQUEsR0FBQSxFQUFBLEdBaUJBLE9BWkEsR0FBQSxPQUVBLEVBQUEsRUFBQSxHQUNBLGdCQUFBLEtBQ0EsT0FBQSxLQUFBLEtBRUEsRUFBQSxFQUFBLE1BQUEsSUFHQSxFQUFBLFNBQUEsZUFBQSxJQUdBLEdBQUEsSUFBQSxFQUFBLFVBTUEsS0FBQSxFQUFBLFNBQUEsZUFFQSxTQUFBLEVBQUEsUUFBQSxTQUFBLEdBQ0EsR0FBQSxFQUFBLGVBQ0EsRUFBQSxpQkFDQSxPQUFBLFFBQ0EsT0FBQSxNQUFBLGFBQUEsS0FNQSxLQUFBLFFBQUEsRUFFQSxLQUFBLE9BQUEsS0FFQSxLQUFBLFdBQUEsRUFJQSxLQUFBLGFBRUEsTUFBQSxzQkExQkEsS0FBQSxnRUE4QkEsV0FBQSxXQUNBLFFBQUEsU0FBQSxHQUNBLEtBQUEsVUFBQSxLQUFBLEdBRUEsUUFBQSxXQUNBLFNBQUEsS0FBQSxRQUFBLEtBQUEsVUFBQSxlQUNBLEtBQUEsV0FBQSxDQUVBLElBQUEsR0FBQSxLQUFBLFFBQUEsU0FBQSxlQUNBLFNBQUEsR0FBQSxVQUFBLElBQ0EsS0FBQSxRQUFBLGFBQUEsV0FBQSxZQUlBLEtBQUEsU0FJQSxLQUFBLE9BQUEsV0FBQSxNQUFBLFdBQUEsV0FHQSxPQUFBLFdBQ0EsWUFBQSxLQUFBLFFBQUEsS0FBQSxVQUFBLGVBQ0EsS0FBQSxRQUFBLGdCQUFBLFlBQ0EsS0FBQSxXQUFBLEdBUUEsYUFBQSxXQUNBLEdBQUEsR0FBQSxLQUVBLEVBQUEsU0FBQSxjQUFBLFFBQ0EsR0FBQSxhQUFBLE9BQUEsUUFDQSxFQUFBLGFBQUEsT0FBQSxLQUFBLFVBQUEsTUFFQSxVQUFBLEdBQ0EsU0FBQSxXQUlBLE1BQUEsRUFDQSxPQUFBLEVBQ0EsUUFBQSxFQUNBLFNBQUEsUUFHQSxXQUFBLGFBQ0EsT0FBQSxXQUdBLElBQUEsR0FBQSxTQUFBLGNBQUEsTUFxQkEsSUFwQkEsVUFBQSxHQUNBLFFBQUEsUUFDQSxTQUFBLFdBQ0EsU0FBQSxTQUNBLE9BQUEsRUFDQSxRQUFBLEVBQ0EsUUFBQSxFQUdBLFVBQUEsTUFFQSxPQUFBLGFBS0EsRUFBQSxZQUFBLEdBSUEsTUFBQSxFQUFBLE1BQUEsUUFBQSxDQUNBLEdBQUEsbUJBQUEsR0FBQSxRQUNBLEtBQUEsSUFBQSxPQUFBLHVDQUVBLEdBQUEsTUFBQSxPQUFBLG1CQUdBLFNBQUEsRUFBQSxTQUFBLFdBRUEsR0FBQSxHQUFBLEtBQUEsRUFBQSxNQUFBLENBTUEsR0FBQSxHQUFBLGFBQUEsRUFBQSxNQUVBLFFBQUEsSUFBQSxFQUFBLFVBQUEsU0FBQSxLQUFBLEVBQUEsRUFBQSxPQUFBLFFBQ0EsR0FBQSxtQkFLQSxFQUFBLFVBQUEsWUFDQSxFQUFBLGFBSUEsU0FBQSxFQUFBLFlBQUEsV0FDQSxTQUFBLEVBQUEsUUFBQSxFQUFBLFVBQUEsY0FHQSxTQUFBLEVBQUEsV0FBQSxXQUNBLFlBQUEsRUFBQSxRQUFBLEVBQUEsVUFBQSxZQUNBLFlBQUEsRUFBQSxRQUFBLEVBQUEsVUFBQSxjQVNBLFNBQUEsRUFBQSxRQUFBLFdBQ0EsU0FBQSxFQUFBLFFBQUEsRUFBQSxVQUFBLGNBR0EsU0FBQSxFQUFBLE9BQUEsV0FDQSxZQUFBLEVBQUEsUUFBQSxFQUFBLFVBQUEsY0FNQSxTQUFBLEtBQUEsWUFBQSxHQUVBLEtBQUEsT0FBQSxHQUVBLFlBQUEsV0FDQSxLQUFBLFNBS0EsV0FBQSxLQUFBLE9BQUEsWUFDQSxLQUFBLE9BQUEsS0FDQSxLQUFBLGVBRUEsWUFBQSxLQUFBLFFBQUEsS0FBQSxVQUFBLFlBQ0EsWUFBQSxLQUFBLFFBQUEsS0FBQSxVQUFBLGNBTUEsZUFBQSxXQUNBLEdBQUEsR0FBQSxJQU1BLFVBQUEsRUFBQSxRQUFBLFlBQUEsV0FDQSxJQUFBLEVBQUEsVUFBQSxDQUlBLEVBQUEsUUFDQSxFQUFBLGNBR0EsSUFBQSxHQUFBLEVBQUEsT0FBQSxVQUNBLFlBQUEsRUFBQSxRQUFBLEdBQ0EsRUFBQSxNQUFBLFdBQUEsY0FzQkEsY0FBQSxXQUdBLEdBQUEsR0FBQSxTQVFBLEVBQUEsVUFBQSx5Q0FBQSxFQUFBLE9BVUEsT0FMQSxHQUFBLGFBQUEsS0FBQSxHQUVBLEVBQUEsTUFBQSxRQUFBLE9BQ0EsU0FBQSxLQUFBLFlBQUEsR0FFQSxHQU9BLFlBQUEsU0FBQSxHQUNBLEdBQUEsR0FBQSxLQUFBLFVBT0EsRUFBQSxVQUFBLDREQUVBLEdBQUEsYUFBQSxTQUFBLEVBQUEsUUFDQSxFQUFBLGFBQUEsU0FBQSxFQUFBLE1BQ0EsRUFBQSxNQUFBLFFBQUEsT0FDQSxTQUFBLEtBQUEsWUFBQSxFQUdBLEtBQUEsR0FBQSxLQUFBLEdBQUEsS0FDQSxHQUFBLEVBQUEsS0FBQSxlQUFBLEdBQUEsQ0FDQSxHQUFBLEdBQUEsU0FBQSxjQUFBLFFBQ0EsR0FBQSxhQUFBLE9BQUEsVUFDQSxFQUFBLGFBQUEsT0FBQSxHQUNBLEVBQUEsYUFBQSxRQUFBLEVBQUEsS0FBQSxJQUNBLEVBQUEsWUFBQSxHQUdBLE1BQUEsSUFPQSxhQUFBLFNBQUEsT0FBQSxNQUVBLEdBQUEsZUFBQSxFQUFBLEtBQUEsS0FBQSxTQUFBLEtBQUEsU0FFQSxVQUFBLE9BQUEsT0FBQSxXQUVBLEdBQ0EsdUNBQUEsT0FBQSxLQUVBLCtCQUFBLE9BQUEsSUFZQSxZQVBBLGNBRUEsV0FBQSxXQUNBLFdBQUEsU0FDQSxHQU1BLElBQUEsS0FBQSxPQUFBLGdCQUFBLE9BQUEsZ0JBQUEsT0FBQSxPQUFBLE9BQUEsSUFBQSxRQUdBLE1BQUEsSUFBQSxZQUFBLFlBQUEsSUFBQSxZQVFBLElBQUEsTUFBQSxTQUFBLElBQUEsS0FBQSxXQUFBLENBT0EsR0FBQSxTQUVBLEtBQUEsWUFFQSxTQUFBLElBQUEsWUFDQSxJQUFBLE1BRUEsU0FBQSxJQUFBLEtBQUEsVUFFQSxTQUFBLGNBQUEsUUFBQSxTQUFBLGFBQUEsZ0JBT0EsSUFBQSxLQUFBLFlBQUEsT0FBQSxJQUFBLEtBQUEsV0FBQSxTQUFBLGdCQUNBLElBQUEsWUFDQSxTQUFBLElBQUEsS0FBQSxXQUFBLFdBQUEsV0FJQSxTQURBLFNBQ0EsS0FBQSxJQUFBLFNBQUEsVUFPQSxTQUFBLElBR0EsU0FBQSxXQUFBLEtBQUEsS0FBQSxLQUFBLFVBS0EsY0FBQSxFQUdBLE9BQUEsSUFBQSxrQ0FNQSxPQUFBLFdBQ0EsR0FBQSxHQUFBLEtBQUEsRUFBQSxLQUFBLFNBRUEsSUFBQSxLQUFBLFFBQUEsS0FBQSxLQUFBLE9BQUEsTUFBQSxDQUlBLEdBQUEsR0FBQSxhQUFBLEtBQUEsT0FBQSxNQUdBLEtBQUEsSUFBQSxFQUFBLFNBQUEsS0FBQSxLQUFBLEVBQUEsT0FBQSxJQUVBLFdBREEsTUFBQSxhQUtBLElBQUEsR0FBQSxLQUFBLGdCQUNBLEVBQUEsS0FBQSxZQUFBLEVBSUEsWUFBQSxLQUFBLE9BQUEsWUFDQSxZQUFBLEVBQUEsUUFBQSxFQUFBLFVBQUEsWUFDQSxZQUFBLEVBQUEsUUFBQSxFQUFBLFVBQUEsWUFFQSxFQUFBLFlBQUEsS0FBQSxRQUVBLEVBQUEsU0FHQSxXQUFBLEdBQUEsRUFBQSxLQUNBLFdBQUEsS0FBQSxRQUFBLEtBQUEsT0FBQSxLQUdBLEtBQUEsYUFBQSxFQUFBLEdBR0EsS0FBQSxvQkN0ckJBLElBQUEsR0FBQSxRQUFBLEdBQUEsRUFBQSxHQVdBLFFBQUEsR0FBQSxHQUNBLEVBQUEsRUFBQSxTQUNBLEVBQUEsRUFBQSxTQUNBLEVBQUEsRUFBQSxzQkFBQSxFQUFBLGFBQ0EsRUFBQSxFQUFBLHVCQUFBLEVBQUEsV0FtQkEsUUFBQSxLQUNBLEdBS0EsR0FMQSxLQUFBLE1BQUEsS0FBQSxXQUNBLElBQUEsTUFBQSxFQUFBLElBQUEsRUFBQSxLQUFBLEVBQUEsTUFBQSxHQUFBLE9BQUEsR0FBQSxJQUFBLFFBQUEsR0FBQSxJQUFBLFdBQUEsR0FBQSxJQUNBLEVBQUEsRUFBQSxFQUFBLE1BQ0EsRUFBQSxTQUFBLEdBQUEsUUFBQSxZQUNBLEdBQUEsSUFBQSxNQUFBLFVBQ0EsSUFDQSxJQUFBLEVBQUEsS0FBQSxFQUFBLEtBQUEsRUFBQSxLQUFBLElBQUEsT0FBQSw4REFDQSxNQUFBLEVBQUEsRUFBQSxLQUFBLEVBQUEsS0FDQSxHQUFBLEtBQUEsRUFBQSxJQUFBLEVBQUEsR0FBQSxFQUFBLElBQUEsRUFBQSxPQUNBLElBQUEsTUFBQSxFQUFBLEdBQUEsRUFBQSxNQUFBLEdBQUEsRUFBQSxPQUNBLElBQUEsTUFBQSxFQUFBLEdBQUEsRUFBQSxLQUFBLEVBQUEsUUFDQSxJQUFBLE1BQUEsRUFBQSxHQUFBLEdBQUEsQ0FDQSxHQUFBLEdBQUEsRUFBQSxLQUFBLEVBQUEsR0FDQSxHQUFBLE1BQUEsRUFBQSxJQUFBLEVBQUEsS0FBQSxFQUFBLEdBQUEsSUFBQSxHQUlBLEdBQUEsR0FBQSxFQUFBLE1BQUEsRUFBQSxFQUFBLEVBRUEsR0FBQSxTQURBLElBQUEsRUFBQSxRQUFBLEVBQUEsS0FBQSxFQUFBLE1BQUEsRUFDQSxFQUFBLEdBR0EsQ0FHQSxLQUFBLEdBQUEsS0FBQSxHQUNBLEVBQUEsZUFBQSxLQUNBLElBQUEsR0FBQSxNQUFBLEVBQUEsSUFBQSxLQUFBLEVBQUEsSUFDQSxFQUFBLEtBQUEsRUFBQSxJQUNBLEVBQUEsTUFBQSxHQUFBLElBRUEsRUFBQSxNQUFBLEdBQUEsRUFBQSxHQUtBLE9BRkEsR0FBQSxPQUFBLElBQUEsRUFBQSxNQUFBLEdBQUEsRUFBQSxLQUFBLE1BRUEsRUFFQSxRQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQTJCQSxLQUFBLE1BQUEsR0FBQSxNQUFBLEVBQUEsY0FBQSxFQUFBLElBQUEsTUFBQSxHQUFBLEVBQUEsR0FDQSxHQUFBLFdBQUEsRUFBQSxRQUFBLE1BQUEsRUFDQSxJQUFBLEdBQUEsRUFBQSxLQUFBLEdBQUEsRUFBQSxFQUFBLEtBQUEsRUFDQSxJQUFBLE1BQUEsR0FBQSxJQUFBLEVBQUEsQ0FDQSxHQUFBLE1BQUEsRUFDQSxHQUFBLEdBQUEsRUFBQSxNQUFBLENBQ0EsR0FBQSxHQUFBLEVBQUEsRUFDQSxFQUFBLEdBQUEsSUFBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLE1BQ0EsR0FBQSxFQUFBLE1BQUEsTUFBQSxFQUFBLEdBQUEsRUFBQSxNQUFBLEVBQUEsUUFFQSxHQUFBLE9BQUEsRUFBQSxFQUFBLE1BQUEsRUFFQSxHQUFBLEdBQUEsR0FBQSxZQUNBLEVBQUEsTUFBQSxNQUNBLEVBQUEsU0FHQSxHQUFBLElBQUEsRUFBQSxDQUVBLElBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLE9BQUEsRUFBQSxFQUFBLElBQ0EsRUFBQSxLQUFBLEVBQUEsTUFBQSxJQUNBLEVBQUEsRUFBQSxPQUFBLFNBQUEsR0FDQSxJQUNBLEVBQUEsRUFBQSxPQWFBLEtBQUEsR0FUQSxNQUFBLEVBQUEsRUFBQSxTQUFBLEVBQUEsT0FBQSxFQUFBLEVBT0EsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQ0EsS0FBQSxHQUFBLEVBQ0EsRUFBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLElBQ0EsRUFBQSxJQUFBLEVBQUEsR0FBQSxPQUFBLE1BQUEsRUFBQSxHQUFBLE1BQUEsTUFDQSxHQUFBLEVBQ0EsRUFBQSxFQUFBLEdBQUEsTUFBQSxNQUFBLE9BQUEsRUFBQSxNQUFBLEdBS0EsS0FBQSxHQURBLEdBQUEsRUFDQSxFQUFBLEVBQUEsRUFBQSxFQUFBLE9BQUEsRUFBQSxFQUFBLElBQ0EsR0FBQSxFQUFBLElBQUEsRUFBQSxHQUFBLE9BQUEsTUFBQSxFQUFBLEdBQUEsTUFBQSxJQUFBLENBQ0EsSUFBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxFQUFBLEVBQUEsSUFDQSxFQUFBLElBQUEsRUFBQSxHQUFBLE9BQUEsTUFBQSxFQUFBLEdBQUEsTUFBQSxNQUFBLEVBQUEsR0FBQSxNQUFBLElBQUEsY0FBQSxJQUVBLE9BSUEsR0FBQSxFQUFBLENBQ0EsR0FBQSxJQUFBLENBQ0EsSUFBQSxFQUFBLFFBQUEsRUFBQSxPQUFBLEdBQUEsTUFDQSxLQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxJQUNBLEdBQUEsRUFBQSxPQUFBLEVBQUEsT0FBQSxFQUFBLE1BQUEsS0FBQSxFQUFBLE1BQUEsSUFBQSxDQUNBLEdBQUEsQ0FDQSxPQUlBLEdBQUEsRUFBQSxDQUNBLElBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLE9BQUEsRUFBQSxFQUFBLElBQ0EsR0FBQSxFQUFBLElBQUEsRUFBQSxHQUFBLE9BQ0EsTUFBQSxFQUFBLEdBQUEsTUFBQSxJQUFBLENBQ0EsR0FBQSxHQUFBLEVBQUEsR0FBQSxNQUFBLEdBRUEsR0FBQSxHQURBLEVBQUEsSUFFQSxPQUFBLEVBQ0EsTUFBQSxFQUNBLEtBQUEsRUFBQSxHQUFBLE1BQ0EsUUFBQSxFQUFBLE1BQUEsRUFBQSxHQUFBLFFBQUEsRUFBQSxjQUFBLFNBTEEsT0FBQSxFQUFBLE1BQUEsR0FVQSxHQUFBLEtBQ0EsS0FBQSxHQUFBLEtBQUEsR0FBQSxFQUFBLEtBQUEsRUFBQSxHQUNBLElBQUEsR0FBQSxFQUFBLEtBQUEsR0FDQSxFQUFBLEdBQUEsT0FBQSxFQUFBLE9BQ0EsR0FBQSxNQUFBLEVBQUEsTUFBQSxPQUVBLEtBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxJQUFBLENBS0EsR0FKQSxFQUFBLFNBQUEsSUFDQSxFQUFBLEVBQUEsRUFBQSxPQUFBLE1BQUEsRUFBQSxFQUFBLFFBQ0EsRUFBQSxPQUFBLEVBQUEsTUFBQSxJQUVBLEVBQUEsU0FBQSxFQUFBLENBQ0EsR0FBQSxHQUFBLEVBQUEsY0FBQSxNQUNBLEdBQUEsSUFBQSxFQUFBLEVBQUEsT0FBQSxNQUFBLElBQ0EsRUFBQSxhQUFBLEVBQUEsRUFBQSxXQUFBLEVBQUEsUUFBQSxNQUNBLEVBQUEsT0FBQSxFQUFBLE1BQUEsR0FBQSxPQUFBLElBQUEsRUFBQSxFQUFBLE9BQUEsTUFBQSxLQUFBLE9BQUEsS0FDQSxFQUFBLE1BQUEsRUFBQSxPQUFBLEVBR0EsRUFBQSxTQUFBLElBQ0EsRUFBQSxXQUFBLEVBQUEsU0FBQSxFQUFBLFNBQUEsT0FBQSxFQUFBLFNBQ0EsRUFBQSxhQUFBLEVBQUEsUUFBQSxFQUFBLFdBQUEsRUFBQSxRQUFBLE1BRUEsRUFBQSxFQUFBLE9BQUEsRUFBQSxFQUFBLE1BQ0EsRUFBQSxNQUFBLEVBQUEsT0FBQSxFQUFBLFNBR0EsRUFBQSxHQUtBLElBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLEVBQUEsRUFBQSxJQUFBLENBRUEsR0FBQSxJQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEVBQ0EsTUFBQSxJQUNBLEdBQUEsTUFBQSxTQUFBLEdBQUEsR0FLQSxHQUpBLEdBQUEsVUFJQSxHQUFBLE1BQUEsdUJBQUEsSUFBQSxPQUVBLEVBQUEsS0FBQSxNQUFBLEVBQUEsR0FBQSxPQUFBLEVBQ0EsRUFBQSxLQUFBLElBRUEsSUFBQSxFQUFBLENBSUEsSUFBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxFQUFBLEVBQUEsSUFDQSxNQUFBLEVBQUEsSUFBQSxFQUFBLEtBQUEsTUFBQSxFQUFBLEVBQUEsR0FBQSxNQUlBLEtBQUEsR0FBQSxJQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsTUFBQSxHQUFBLElBQ0EsTUFBQSxHQUFBLFlBQUEsRUFBQSxRQUFBLElBQUEsR0FBQSxHQUFBLEtBQUEsRUFBQSxJQUVBLEdBQUEsT0FBQSxFQUFBLFNBQUEsRUFBQSxPQUFBLEVBQUEsUUFDQSxFQUFBLE1BQUEsT0FHQSxJQUFBLE1BQUEsR0FBQSxJQUFBLEVBQUEsQ0FFQSxJQURBLEdBQUEsT0FBQSxNQUNBLEVBQUEsTUFBQSxDQUNBLEdBQUEsSUFBQSxFQUFBLEtBQUEsV0FBQSxFQUFBLEtBQ0EsR0FBQSxRQUFBLEVBQUEsT0FBQSxZQUFBLEVBQUEsTUFBQSxFQUFBLE1BQUEsUUFBQSxJQUFBLEdBQ0EsR0FBQSxHQUFBLEdBQUEsRUFBQSxZQUFBLElBQUEsSUFBQSxFQUFBLFlBQUEsR0FDQSxFQUFBLEdBQUEsRUFBQSxPQUFBLEVBQUEsTUFBQSxHQUVBLElBREEsRUFBQSxHQUFBLElBQUEsR0FBQSxFQUFBLGFBQUEsRUFBQSxZQUFBLFFBQUEsSUFBQSxHQUFBLEVBQUEsS0FBQSxLQUFBLElBQUEsZUFDQSxXQUFBLEVBQUEsUUFBQSxNQUFBLEVBQ0EsS0FDQSxFQUFBLFFBQUEsRUFBQSxVQUNBLEVBQUEsTUFBQSxJQUFBLEdBRUEsR0FBQSxVQUFBLEdBQUEsTUFBQSxXQUFBLEdBQUEsUUFBQSxHQUFBLFdBQ0EsR0FBQSxLQUFBLElBQ0EsR0FBQSxLQUFBLElBRUEsSUFBQSxFQUFBLEtBQUEsR0FBQSxPQUFBLEtBQUEsSUFBQSxPQUFBLCtFQUNBLEdBQUEsUUFBQSxFQUFBLFVBQ0EsRUFBQSxRQUFBLEVBQUEsU0FFQSxJQUFBLElBQUEsT0FBQSxLQUFBLEVBQUEsT0FDQSxHQUFBLEdBQUEsUUFBQSxPQUFBLEdBQUEsTUFBQSxFQUFBLEVBRUEsS0FBQSxFQUFBLEtBQUEsRUFBQSxLQUFBLEdBQUEsT0FBQSxRQUFBLE9BQUEsS0FBQSxFQUFBLE9BQUEsT0FBQSxRQUFBLEVBQUEsTUFBQSxJQUFBLEVBQUEsTUFBQSxJQUFBLEVBQUEsTUFBQSxLQUFBLEVBQUEsTUFBQSxLQUFBLE9BQUEsRUFBQSxPQUFBLGNBQUEsRUFBQSxlQUFBLEVBQUEsY0FBQSxVQUFBLElBQUEsUUFBQSxFQUFBLE9BQUEsWUFBQSxFQUFBLGVBQUEsRUFBQSxjQUFBLFVBQUEsS0FDQSxFQUFBLE1BQUEsUUFBQSxFQUFBLEVBQUEsT0FDQSxFQUFBLHFCQUFBLEdBQUEsY0FBQSxXQUFBLEdBQUEsRUFBQSxjQUFBLFdBQ0EsRUFBQSxhQUNBLElBQUEsR0FBQSxJQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsWUFBQSxHQUFBLFVBQ0EsSUFBQSxXQUFBLEdBQUEsR0FBQSxVQUFBLGVBQUEsR0FJQSxJQUFBLEVBQUEsS0FBQSxFQUFBLE1BQUEsRUFBQSxNQUVBLElBQUEsSUFBQSxHQUFBLElBQUEsRUFBQSxNQUFBLE1BS0EsSUFKQSxFQUFBLE1BQUEsTUFBQSxFQUFBLEVBQUEsTUFBQSxNQUNBLFFBQUEsRUFBQSxJQUFBLEVBQUEsNkJBQ0EsU0FBQSxFQUFBLE1BQUEsRUFBQSxzQ0FFQSxHQUFBLENBWUEsR0FYQSxHQUFBLEVBQUEsTUFBQSxHQUFBLElBQUEsRUFBQSxFQUFBLGNBQUEsRUFBQSxJQUFBLEVBQUEsTUFBQSxJQUFBLEVBQUEsZ0JBQUEsRUFBQSxFQUFBLElBQUEsRUFBQSxNQUFBLElBQ0EsSUFBQSxFQUFBLEVBQUEsY0FBQSxFQUFBLEtBQUEsRUFBQSxnQkFBQSxFQUFBLEVBQUEsS0FDQSxHQUNBLElBQUEsRUFBQSxJQUVBLE1BQUEsR0FBQSxFQUFBLEdBQUEsRUFBQSxJQUFBLEVBQUEsU0FBQSxHQUFBLEVBQUEsTUFDQSxTQUFBLE1BQUEsRUFBQSxVQUFBLEVBQUEsU0FBQSxPQUFBLEVBQ0EsRUFBQSxHQUFBLEVBQUEsSUFBQSxFQUFBLEVBQUEsRUFBQSxTQUFBLEVBQUEsVUFBQSxFQUFBLEVBQUEsRUFBQSxNQUFBLGdCQUFBLEdBQUEsRUFBQSxFQUFBLEdBQ0EsRUFBQSxTQUNBLE9BQUEsS0FFQSxHQUFBLE9BQUEsQ0FDQSxFQUFBLE1BQUEsR0FDQSxFQUFBLFlBQUEsRUFDQSxLQUFBLEdBQUEsSUFBQSxFQUFBLEVBQUEsR0FBQSxHQUFBLEdBQUEsSUFFQSxHQURBLEdBQUEsVUFBQSxHQUFBLFNBQUEsT0FBQSxHQUFBLFNBQUEsR0FBQSxTQUFBLE1BQ0EsSUFBQSxHQUFBLFNBQUEsQ0FDQSxHQUFBLElBQUEsR0FBQSxRQUNBLElBQUEsU0FBQSxFQUNBLEdBQUEsU0FBQSxLQUFBLElBS0EsRUFBQSxXQUFBLEVBQUEsU0FBQSxRQUFBLEVBQUEsU0FBQSxVQUVBLFdBQUEsRUFBQSxLQUFBLFNBQUEsR0FBQSxPQUFBLEVBQUEsR0FBQSxFQUFBLEtBQUEsTUFBQSxFQUFBLE1BQUEsVUFBQSxHQUNBLEVBQUEsYUFBQSxHQUFBLEVBQUEsV0FBQSxJQUFBLFVBR0EsSUFBQSxFQUFBLE1BQUEsR0FDQSxJQUFBLEVBQUEsR0FBQSxFQUFBLElBQUEsRUFBQSxNQUFBLEVBQUEsTUFBQSxHQUNBLEVBQUEsU0FBQSxFQUFBLEdBQUEsRUFBQSxJQUFBLEVBQUEsRUFBQSxFQUFBLFNBQUEsRUFBQSxVQUFBLEVBQUEsRUFBQSxFQUFBLE1BQUEsZ0JBQUEsR0FBQSxFQUFBLEVBQUEsR0FDQSxFQUFBLE1BQUEsUUFBQSxFQUNBLEdBQUEsU0FDQSxFQUFBLE1BQUEsR0FDQSxFQUFBLFlBQUEsSUFFQSxLQUFBLEdBQUEsTUFBQSxJQUFBLEVBQUEsYUFBQSxHQUFBLEVBQUEsV0FBQSxJQUFBLEtBR0EsVUFBQSxHQUFBLE1BQUEsU0FBQSxFQUFBLENBQ0EsR0FBQSxJQUFBLEVBQUEsY0FBQSxFQUFBLGtCQUdBLEdBQUEsU0FBQSxFQUFBLEdBQ0EsTUFBQSxZQUNBLE1BQUEsR0FBQSxNQUFBLE9BQUEsTUFBQSxFQUFBLElBR0EsR0FBQSxLQUFBLEdBQUEsR0FBQSxJQUFBLEdBQUEsR0FBQSxVQUdBLFVBQUEsSUFBQSxFQUFBLENBRUEsR0FBQSxFQUNBLEtBQUEsRUFBQSxNQUFBLFFBQ0EsRUFBQSxTQUNBLEVBQUEsRUFBQSxFQUFBLEVBQUEsSUFHQSxHQUFBLEVBQUEsZUFBQSxJQUNBLEVBQUEsU0FBQSxNQUFBLElBQUEsRUFBQSxhQUFBLEVBQUEsR0FBQSxFQUFBLFdBQUEsSUFBQSxPQUVBLEVBQUEsd0JBQUEsY0FBQSxJQUFBLEdBQUEsR0FBQSxHQUFBLFlBQUEsR0FBQSxFQUNBLEVBQUEsTUFBQSxHQUVBLEVBQUEsWUFBQSxFQUFBLFdBQUEsS0FBQSxHQUNBLEVBQUEsRUFBQSxNQUNBLEdBQUEsSUFBQSxFQUFBLGdCQUNBLEVBQUEsVUFDQSxFQUFBLEVBQUEsR0FDQSxFQUFBLEVBQUEsRUFBQSxFQUFBLElBS0EsYUFBQSxFQUFBLEVBQUEsTUFBQSxFQUNBLEVBQUEsRUFBQSxVQUFBLElBRUEsSUFBQSxFQUFBLEdBQUEsVUFBQSxFQUFBLE9BQUEsS0FDQSxFQUFBLEVBQUEsTUFBQSxHQUNBLEdBQUEsRUFBQSxlQUFBLEtBRUEsRUFBQSxhQUFBLEVBQUEsR0FBQSxFQUFBLFdBQUEsSUFBQSxNQUNBLEVBQUEsR0FBQSxVQUFBLElBSUEsRUFBQSxHQUFBLEdBQUEsWUFBQSxHQUNBLEVBQUEsTUFBQSxHQUVBLEVBQUEsTUFBQSxRQUFBLEVBR0EsTUFBQSxHQUVBLFFBQUEsR0FBQSxFQUFBLEdBQUEsTUFBQSxHQUFBLE9BQUEsRUFBQSxRQUFBLEVBQUEsTUFBQSxFQUFBLE1BQ0EsUUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxJQUFBLEdBQUEsS0FBQSxHQUFBLENBQ0EsR0FBQSxHQUFBLEVBQUEsR0FDQSxFQUFBLEVBQUEsRUFDQSxJQUFBLElBQUEsSUFBQSxJQUFBLEVBdUNBLFVBQUEsR0FBQSxVQUFBLEdBQUEsRUFBQSxPQUFBLElBQ0EsRUFBQSxNQUFBLE9BeENBLENBQ0EsRUFBQSxHQUFBLENBQ0EsS0FFQSxHQUFBLFdBQUEsR0FBQSxPQUFBLEVBQUEsUUFFQSxVQUFBLEtBQUEsR0FBQSxJQUFBLEVBQUEsUUFBQSxNQUNBLEVBQUEsR0FBQSxFQUFBLEVBQUEsT0FHQSxJQUFBLFVBQUEsR0FBQSxNQUFBLEdBQUEsRUFBQSxLQUFBLEtBQUEsRUFBQSxDQUNBLElBQUEsR0FBQSxLQUFBLElBQ0EsTUFBQSxHQUFBLEVBQUEsS0FBQSxFQUFBLE1BQUEsRUFBQSxNQUFBLEdBQUEsRUFBQSxHQUVBLEtBQUEsR0FBQSxLQUFBLEdBQ0EsSUFBQSxLQUFBLEVBQUEsTUFBQSxHQUFBLFFBSUEsT0FBQSxFQUNBLFNBQUEsRUFBQSxFQUFBLGVBQUEsK0JBQUEsT0FBQSxHQUNBLGNBQUEsRUFBQSxFQUFBLGFBQUEsUUFBQSxHQUNBLEVBQUEsYUFBQSxFQUFBLEdBS0EsSUFBQSxJQUFBLFNBQUEsR0FBQSxVQUFBLEdBQUEsU0FBQSxHQUFBLFNBQUEsR0FBQSxVQUFBLEdBQUEsV0FBQSxHQUVBLFVBQUEsR0FBQSxFQUFBLEtBQUEsS0FBQSxFQUFBLEdBQUEsR0FFQSxFQUFBLGFBQUEsRUFBQSxHQUVBLE1BQUEsR0FFQSxHQUFBLEVBQUEsUUFBQSxRQUFBLG9CQUFBLEVBQUEsS0FBQSxLQVFBLE1BQUEsR0FFQSxRQUFBLEdBQUEsRUFBQSxHQUNBLElBQUEsR0FBQSxHQUFBLEVBQUEsT0FBQSxFQUFBLEVBQUEsR0FBQSxJQUNBLEdBQUEsRUFBQSxJQUFBLEVBQUEsR0FBQSxXQUFBLENBQ0EsSUFBQSxFQUFBLEdBQUEsV0FBQSxZQUFBLEVBQUEsSUFDQSxNQUFBLElBQ0EsS0FBQSxPQUFBLEdBQ0EsRUFBQSxJQUFBLEVBQUEsRUFBQSxJQUdBLEdBQUEsRUFBQSxTQUFBLEVBQUEsT0FBQSxHQUVBLFFBQUEsR0FBQSxHQUtBLEdBSkEsRUFBQSxxQkFBQSxHQUFBLGNBQUEsV0FBQSxJQUNBLEVBQUEsY0FBQSxXQUNBLEVBQUEsY0FBQSxTQUFBLE1BRUEsRUFBQSxZQUNBLElBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsWUFBQSxHQUFBLFVBQ0EsR0FBQSxXQUFBLEdBQUEsRUFBQSxVQUFBLGVBQUEsR0FHQSxJQUFBLEVBQUEsU0FDQSxHQUFBLEVBQUEsS0FBQSxFQUFBLFlBQUEsRUFDQSxJQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLFNBQUEsR0FBQSxJQUFBLEVBQUEsT0FFQSxHQUFBLFNBQUEsS0FBQSxFQUFBLEVBQUEsVUFHQSxRQUFBLEdBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsV0FBQSxFQUNBLElBQUEsRUFBQSxDQUNBLEdBQUEsR0FBQSxHQUFBLEVBQUEsU0FDQSxFQUFBLEVBQUEsY0FBQSxPQUNBLElBQ0EsRUFBQSxhQUFBLEVBQUEsR0FBQSxNQUNBLEVBQUEsbUJBQUEsY0FBQSxHQUNBLEVBQUEsWUFBQSxJQUVBLEVBQUEsbUJBQUEsY0FBQSxPQUVBLEdBQUEsbUJBQUEsWUFBQSxFQUVBLEtBREEsR0FBQSxNQUNBLEVBQUEsV0FBQSxLQUFBLEdBQ0EsRUFBQSxLQUFBLEVBQUEsV0FBQSxJQUNBLEdBRUEsT0FBQSxHQUVBLFFBQUEsR0FBQSxFQUFBLEdBQ0EsTUFBQSxVQUFBLEdBQ0EsRUFBQSxHQUFBLE1BQ0EsRUFBQSxPQUFBLFNBQUEsUUFDQSxFQUFBLGtCQUNBLEtBQUEsTUFBQSxHQUFBLEtBQUEsRUFBQSxHQUNBLFFBQ0EsT0FpQ0EsUUFBQSxHQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsUUFBQSxFQUNBLE9BQUEsR0FBQSxFQUFBLEVBQUEsS0FBQSxHQUFBLEVBQUEsRUFTQSxRQUFBLEdBQUEsR0FDQSxHQUFBLEdBQUEsV0FFQSxNQURBLFdBQUEsU0FBQSxFQUFBLFVBQUEsSUFDQSxFQU9BLE9BSkEsR0FBQSxPQUFBLFdBQ0EsTUFBQSxJQUdBLEVBY0EsUUFBQSxHQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsV0FDQSxPQUFBLEVBQUEsWUFBQSxHQUFBLE1BQUEsS0FBQSxJQUFBLE1BRUEsRUFBQSxTQUFBLEdBRUEsTUFEQSxXQUFBLE9BQUEsSUFBQSxFQUFBLEVBQUEsVUFBQSxNQUFBLEtBQUEsVUFBQSxLQUNBLEVBQUEsS0FBQSxNQUFBLEVBQUEsR0FBQSxHQUFBLE9BQUEsSUFBQSxJQUVBLEdBQUEsVUFBQSxFQUFBLElBQ0EsSUFBQSxJQUFBLFdBQUEsRUFBQSxLQUFBLEVBRUEsT0FEQSxHQUFBLElBQUEsTUFBQSxFQUFBLEdBQUEsTUFBQSxFQUFBLE9BQUEsSUFBQSxFQUFBLEdBQUEsTUFDQSxFQW1FQSxRQUFBLEtBQ0EsSUFDQSxJQUNBLEVBQUEsS0FFQSxLQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsSUFDQSxHQUFBLEVBQUEsR0FBQSxDQUNBLEdBQUEsR0FBQSxFQUFBLEdBQUEsWUFBQSxFQUFBLEdBQUEsV0FBQSxRQUFBLEVBQUEsSUFBQSxPQUFBLEVBQUEsR0FBQSxXQUFBLFNBQUEsRUFBQSxHQUNBLEdBQUEsT0FBQSxFQUFBLEVBQUEsR0FBQSxLQUFBLEVBQUEsR0FBQSxLQUFBLEVBQUEsR0FBQSxHQUFBLElBSUEsSUFDQSxJQUNBLEVBQUEsTUFFQSxFQUFBLEtBQ0EsRUFBQSxHQUFBLE1BQ0EsRUFBQSxPQUFBLFNBQUEsUUFzR0EsUUFBQSxHQUFBLEdBQ0EsTUFBQSxHQUFBLE1BQUEsR0FBQSxFQUFBLE1BQUEsTUFBQSxRQUVBLFFBQUEsR0FBQSxFQUFBLEVBQUEsR0FDQSxLQUVBLElBQUEsR0FBQSxFQUFBLFFBQUEsSUFDQSxNQUFBLElBQ0EsR0FBQSxFQUFBLEVBQUEsT0FBQSxFQUFBLEVBQUEsRUFBQSxTQUNBLEVBQUEsRUFBQSxPQUFBLEVBQUEsR0FLQSxJQUFBLEdBQUEsT0FBQSxLQUFBLEdBQ0EsRUFBQSxFQUFBLFFBQUEsRUFDQSxJQUFBLEtBQUEsRUFFQSxNQURBLEdBQUEsTUFBQSxFQUFBLEVBQUEsRUFBQSxNQUNBLENBR0EsS0FBQSxHQUFBLEtBQUEsR0FBQSxDQUNBLEdBQUEsSUFBQSxFQUVBLE1BREEsR0FBQSxNQUFBLEVBQUEsRUFBQSxLQUNBLENBR0EsSUFBQSxHQUFBLEdBQUEsUUFBQSxJQUFBLEVBQUEsUUFBQSxpQkFBQSxTQUFBLFFBQUEsV0FBQSxhQUFBLE1BRUEsSUFBQSxFQUFBLEtBQUEsR0FPQSxNQU5BLEdBQUEsUUFBQSxFQUFBLFdBR0EsSUFBQSxHQUZBLEdBQUEsRUFBQSxNQUFBLGdCQUNBLEtBQUEsTUFBQSxLQUFBLFVBQUEsRUFBQSxJQUNBLEVBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxFQUFBLEVBQUEsSUFBQSxHQUFBLEVBQUEsR0FBQSxRQUFBLFFBQUEsS0FBQSxtQkFBQSxFQUFBLEdBQ0EsR0FBQSxNQUFBLEVBQUEsRUFBQSxPQUVBLEdBSUEsUUFBQSxHQUFBLEdBRUEsR0FEQSxFQUFBLEdBQUEsT0FDQSxFQUFBLFVBQUEsRUFBQSxTQUFBLElBQUEsRUFBQSxNQUFBLENBQ0EsRUFBQSxlQUFBLEVBQUEsaUJBQ0EsRUFBQSxhQUFBLENBR0EsS0FGQSxHQUFBLEdBQUEsRUFBQSxlQUFBLEVBQUEsV0FDQSxFQUFBLGFBQUEsRUFBQSxNQUFBLE1BQUEsRUFBQSxPQUFBLEVBQUEsRUFBQSxPQUFBLE1BQUEsT0FDQSxHQUFBLEtBQUEsRUFBQSxTQUFBLGVBQUEsRUFBQSxFQUFBLFVBQ0EsR0FBQSxNQUFBLEVBQUEsRUFBQSxNQUFBLE1BQUEsTUFBQSxHQUFBLEVBQUEsTUFBQSxNQUFBLFFBQUEsSUFFQSxRQUFBLEtBQ0EsUUFBQSxFQUFBLE1BQUEsTUFBQSxFQUFBLEtBQUEsRUFBQSxLQUFBLEVBQUEsS0FDQSxFQUFBLFNBQUEsRUFBQSxHQUVBLFFBQUEsR0FBQSxFQUFBLEdBQ0EsR0FBQSxNQUNBLElBQ0EsS0FBQSxHQUFBLEtBQUEsR0FBQSxDQUNBLEdBQUEsR0FBQSxFQUFBLEVBQUEsSUFBQSxFQUFBLElBQUEsRUFDQSxFQUFBLEVBQUEsR0FDQSxFQUFBLEVBQUEsS0FBQSxHQUNBLEVBQUEsT0FBQSxFQUFBLG1CQUFBLEdBQ0EsSUFBQSxFQUFBLEVBQUEsRUFBQSxHQUNBLElBQUEsRUFBQSxFQUFBLE9BQUEsU0FBQSxFQUFBLEdBRUEsTUFEQSxHQUFBLEtBQUEsRUFBQSxPQUNBLEVBQUEsR0FBQSxHQUlBLEdBSEEsRUFBQSxHQUFBLElBQUEsRUFDQSxFQUFBLE9BQUEsbUJBQUEsR0FBQSxJQUFBLG1CQUFBLFVBR0EsS0FBQSxLQUNBLG1CQUFBLEdBQUEsSUFBQSxtQkFBQSxFQUNBLEtBQUEsR0FBQSxFQUFBLEtBQUEsR0FFQSxNQUFBLEdBQUEsS0FBQSxLQUVBLFFBQUEsR0FBQSxHQUNBLE1BQUEsRUFBQSxPQUFBLEtBQUEsRUFBQSxFQUFBLFVBQUEsR0FHQSxLQUFBLEdBREEsR0FBQSxFQUFBLE1BQUEsS0FBQSxLQUNBLEVBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxFQUFBLEVBQUEsSUFBQSxDQUNBLEdBQUEsR0FBQSxFQUFBLEdBQUEsTUFBQSxLQUNBLEVBQUEsbUJBQUEsRUFBQSxJQUNBLEVBQUEsR0FBQSxFQUFBLE9BQUEsbUJBQUEsRUFBQSxJQUFBLElBQ0EsT0FBQSxFQUFBLElBQ0EsRUFBQSxLQUFBLEVBQUEsTUFBQSxJQUFBLEVBQUEsSUFBQSxFQUFBLEtBQ0EsRUFBQSxHQUFBLEtBQUEsSUFFQSxFQUFBLEdBQUEsRUFFQSxNQUFBLEdBS0EsUUFBQSxHQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsRUFDQSxHQUFBLEVBQUEsV0FBQSxFQUFBLElBQ0EsRUFBQSxHQUFBLEVBUUEsUUFBQSxHQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxLQUFBLEVBS0EsT0FKQSxHQUFBLEtBQUEsR0FDQSxFQUFBLEtBQUEsU0FBQSxFQUFBLEdBQ0EsTUFBQSxHQUFBLEVBQUEsS0FBQSxFQUFBLEdBQUEsSUFFQSxFQU1BLFFBQUEsR0FBQSxFQUFBLEdBd0NBLFFBQUEsR0FBQSxHQUNBLEVBQUEsR0FBQSxFQUNBLEVBQUEsSUFBQSxTQUFBLEdBQ0EsSUFBQSxHQUFBLEVBQUEsUUFBQSxJQUFBLEVBQUEsT0FBQSxLQUlBLFFBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxHQUNBLElBQUEsTUFBQSxHQUFBLEVBQUEsS0FBQSxLQUFBLFNBQUEsS0FBQSxVQUFBLEtBQUEsRUFDQSxJQUVBLEdBQUEsR0FBQSxDQUNBLEdBQUEsS0FBQSxFQUFBLFNBQUEsR0FDQSxNQUNBLEVBQUEsRUFDQSxNQUNBLFNBQUEsR0FDQSxNQUNBLEVBQUEsRUFDQSxPQUdBLE1BQUEsR0FDQSxFQUFBLFNBQUEsUUFBQSxHQUNBLEVBQUEsRUFDQSxRQUdBLEtBSUEsUUFBQSxLQUVBLEdBQUEsRUFDQSxLQUNBLEVBQUEsR0FBQSxFQUFBLEtBRUEsTUFBQSxHQUlBLE1BSEEsR0FBQSxTQUFBLFFBQUEsR0FDQSxFQUFBLEVBQ0EsRUFBQSxFQUNBLElBRUEsRUFBQSxFQUFBLFdBQ0EsRUFBQSxFQUNBLEtBQ0EsV0FDQSxFQUFBLEVBQ0EsS0FDQSxXQUNBLElBQ0EsSUFBQSxTQUFBLEtBQUEsRUFDQSxFQUFBLEVBQUEsR0FFQSxJQUFBLEdBQUEsa0JBQUEsS0FDQSxFQUFBLEVBQUEsR0FDQSxFQUFBLEdBR0EsTUFBQSxHQUdBLE1BRkEsR0FBQSxTQUFBLFFBQUEsR0FDQSxFQUFBLEVBQ0EsSUFHQSxJQUFBLEdBQ0EsRUFBQSxZQUNBLEtBR0EsRUFBQSxFQUFBLFdBQ0EsRUFBQSxJQUNBLEVBQUEsV0FDQSxFQUFBLElBQUEsR0FBQSxPQWpIQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFDQSxFQUFBLEtBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxJQUVBLEdBQUEsV0FFQSxFQUFBLFFBQUEsU0FBQSxHQU9BLE1BTkEsS0FDQSxFQUFBLEVBQ0EsRUFBQSxFQUVBLEtBRUEsTUFHQSxFQUFBLE9BQUEsU0FBQSxHQU9BLE1BTkEsS0FDQSxFQUFBLEVBQ0EsRUFBQSxFQUVBLEtBRUEsTUFHQSxFQUFBLFFBQUEsS0FBQSxTQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEVBQUEsRUFVQSxPQVRBLEtBQUEsRUFDQSxFQUFBLFFBQUEsR0FFQSxJQUFBLEVBQ0EsRUFBQSxPQUFBLEdBR0EsRUFBQSxLQUFBLEdBRUEsRUFBQSxTQWlIQSxRQUFBLEdBQUEsR0FBQSxNQUFBLEdBRUEsUUFBQSxHQUFBLEdBQ0EsSUFBQSxFQUFBLFVBQUEsVUFBQSxFQUFBLFNBQUEsY0F5Q0EsQ0FDQSxHQUFBLEdBQUEsR0FBQSxHQUFBLGNBY0EsSUFiQSxFQUFBLEtBQUEsRUFBQSxPQUFBLEVBQUEsS0FBQSxFQUFBLEVBQUEsS0FBQSxFQUFBLFVBQ0EsRUFBQSxtQkFBQSxXQUNBLElBQUEsRUFBQSxhQUNBLEVBQUEsUUFBQSxLQUFBLEVBQUEsT0FBQSxJQUFBLEVBQUEsUUFBQSxLQUFBLE9BQUEsT0FBQSxJQUNBLEVBQUEsU0FBQSxLQUFBLFFBQUEsT0FBQSxNQUdBLEVBQUEsWUFBQSxLQUFBLFdBQUEsRUFBQSxNQUFBLFFBQUEsRUFBQSxRQUNBLEVBQUEsaUJBQUEsZUFBQSxtQ0FFQSxFQUFBLGNBQUEsS0FBQSxPQUNBLEVBQUEsaUJBQUEsU0FBQSxrQ0FFQSxHQUFBLFNBQUEsRUFBQSxDQUNBLEdBQUEsR0FBQSxFQUFBLE9BQUEsRUFBQSxFQUNBLE9BQUEsSUFBQSxFQUFBLEdBR0EsR0FBQSxHQUFBLFFBQUEsRUFBQSxRQUFBLEVBQUEsS0FBQSxFQUFBLEtBQUEsRUFDQSxJQUFBLEdBQUEsRUFBQSxLQUFBLElBQUEsR0FBQSxFQUFBLGFBQUEsRUFBQSxTQUNBLEtBQUEsb0dBR0EsT0FEQSxHQUFBLEtBQUEsR0FDQSxFQWpFQSxHQUFBLEdBQUEscUJBQUEsR0FBQSxPQUFBLFVBQUEsSUFBQSxLQUFBLE1BQUEsS0FBQSxLQUFBLFVBQUEsU0FBQSxJQUNBLEVBQUEsRUFBQSxjQUFBLFNBRUEsR0FBQSxHQUFBLFNBQUEsR0FDQSxFQUFBLFdBQUEsWUFBQSxHQUNBLEVBQUEsUUFDQSxLQUFBLE9BQ0EsUUFDQSxhQUFBLEtBR0EsRUFBQSxHQUFBLEdBR0EsRUFBQSxRQUFBLFdBWUEsTUFYQSxHQUFBLFdBQUEsWUFBQSxHQUVBLEVBQUEsU0FDQSxLQUFBLFFBQ0EsUUFDQSxPQUFBLElBQ0EsYUFBQSxLQUFBLFdBQUEsTUFBQSxrQ0FHQSxFQUFBLEdBQUEsR0FFQSxHQUdBLEVBQUEsT0FBQSxXQUNBLE9BQUEsR0FHQSxFQUFBLElBQUEsRUFBQSxLQUNBLEVBQUEsSUFBQSxRQUFBLEtBQUEsRUFBQSxJQUFBLE1BQ0EsRUFBQSxZQUFBLEVBQUEsWUFBQSxZQUNBLElBQUEsRUFDQSxJQUFBLEVBQUEsRUFBQSxVQUNBLEVBQUEsS0FBQSxZQUFBLEdBOEJBLFFBQUEsR0FBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLFFBQUEsRUFBQSxRQUFBLFNBQUEsRUFBQSxTQUFBLENBQ0EsR0FBQSxHQUFBLEVBQUEsSUFBQSxRQUFBLEtBQUEsRUFBQSxJQUFBLElBQ0EsRUFBQSxFQUFBLEVBQ0EsR0FBQSxJQUFBLEVBQUEsS0FBQSxFQUFBLEVBQUEsRUFBQSxRQUVBLEdBQUEsS0FBQSxFQUFBLEVBQ0EsT0FBQSxHQUVBLFFBQUEsR0FBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsTUFBQSxjQUNBLElBQUEsR0FBQSxFQUNBLElBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLE9BQUEsSUFBQSxDQUNBLEdBQUEsR0FBQSxFQUFBLEdBQUEsTUFBQSxFQUNBLEdBQUEsRUFBQSxRQUFBLEVBQUEsR0FBQSxFQUFBLFVBQ0EsR0FBQSxHQUdBLE1BQUEsR0FsbENBLEdBT0EsR0FBQSxFQUFBLEVBQUEsRUFQQSxFQUFBLGtCQUFBLEVBQUEsaUJBQUEsRUFBQSxrQkFBQSxFQUFBLFdBQ0EsS0FBQSxTQUNBLEVBQUEsdUNBQUEsRUFBQSwrQkFDQSxFQUFBLDBGQUNBLEVBQUEsWUFhQSxHQUFBLEVBc2RBLElBQUEsR0FDQSxHQUNBLFlBQUEsU0FBQSxHQUNBLElBQUEsSUFBQSxFQUFBLEVBQUEsY0FBQSxTQUNBLEVBQUEsaUJBQUEsRUFBQSxrQkFBQSxFQUNBLEVBQUEsYUFBQSxFQUFBLEVBQUEsaUJBRUEsRUFBQSxZQUFBLEdBQ0EsS0FBQSxXQUFBLEVBQUEsWUFFQSxhQUFBLFNBQUEsR0FDQSxLQUFBLFlBQUEsSUFFQSxlQUVBLEtBQUEsSUFDQSxHQUFBLE9BQUEsU0FBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEtBQ0EsS0FBQSxFQUFBLEtBQUEsSUFBQSxPQUFBLG9GQUNBLElBQUEsR0FBQSxFQUFBLEdBQ0EsRUFBQSxJQUFBLEVBQ0EsRUFBQSxHQUFBLElBQUEsRUFBQSxnQkFBQSxFQUFBLENBQ0EsSUFBQSxRQUFBLEVBQUEsTUFBQSxHQUFBLElBQUEsT0FBQSxTQUFBLFNBQUEsSUFDQSxFQUFBLEtBQUEsR0FBQSxFQUFBLEVBQUEsWUFDQSxLQUFBLEdBQUEsRUFBQSxHQUNBLEVBQUEsR0FBQSxFQUFBLEVBQUEsS0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLElBQUEsRUFBQSxFQUFBLEtBQUEsRUFBQSxFQUNBLEtBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLE9BQUEsRUFBQSxFQUFBLElBQUEsRUFBQSxNQU9BLEVBQUEsTUFBQSxTQUFBLEdBR0EsTUFGQSxHQUFBLEdBQUEsUUFBQSxHQUNBLEVBQUEsVUFBQSxFQUNBLEdBZ0JBLEVBQUEsS0FBQSxTQUFBLEdBRUEsT0FBQSxNQUFBLEdBQUEsRUFBQSxLQUFBLEtBQUEsU0FBQSxLQUFBLFVBQUEsR0FBQSxPQUFBLEVBQ0EsRUFBQSxHQUdBLEVBQUEsR0FHQSxJQUFBLEdBQUEsS0FBQSxLQUFBLEtBQUEsRUFBQSxLQUFBLEVBQUEsRUFBQSxFQUFBLEtBQUEsRUFBQSxLQUFBLE1BQ0EsR0FBQSxFQWNBLEdBQUEsVUFBQSxTQUFBLEdBQ0EsTUFBQSxHQUFBLEtBQUEsTUFBQSxLQUFBLFVBQUEsS0FFQSxFQUFBLE1BQUEsRUFBQSxPQUFBLFNBQUEsRUFBQSxHQUNBLElBQUEsRUFBQSxLQUFBLElBQUEsT0FBQSw0RUFDQSxJQUFBLEdBQUEsRUFBQSxRQUFBLEVBQ0EsR0FBQSxJQUFBLEVBQUEsRUFBQSxPQU9BLEtBQUEsR0FBQSxHQUxBLEdBQUEsRUFDQSxHQUFBLGVBQUEsV0FDQSxHQUFBLEVBQ0EsRUFBQSxFQUFBLE9BRUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxHQUFBLElBQ0EsRUFBQSxRQUFBLEtBQUEsRUFBQSxXQUFBLEdBQ0EsRUFBQSxXQUFBLFNBQUEsSUFFQSxJQUFBLEVBQ0EsSUFBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxHQUFBLElBQUEsRUFBQSxXQUFBLFNBQUEsRUFBQSxZQUVBLE1BTUEsSUFKQSxFQUFBLFVBQUEsR0FBQSxHQUFBLFdBQUEsR0FDQSxFQUFBLEdBQUEsU0FBQSxJQUdBLEVBQUEsQ0FDQSxFQUFBLE9BQUEsU0FBQSxPQUNBLEVBQUEsbUJBQ0EsRUFBQSxHQUFBLEVBQ0EsVUFBQSxPQUFBLElBQUEsRUFBQSxhQUFBLEtBQUEsTUFBQSxLQUFBLFVBQUEsSUFDQSxJQUFBLEdBQUEsRUFBQSxFQUFBLElBQUEsV0FBQSxjQUNBLEVBQUEsRUFBQSxZQUFBLEVBQ0EsRUFBQSxHQUFBLEVBUUEsT0FMQSxLQUFBLElBQ0EsRUFBQSxHQUFBLEVBQ0EsRUFBQSxHQUFBLEdBRUEsS0FDQSxFQUFBLElBR0EsSUFBQSxLQUFBLENBQ0EsR0FBQSxPQUFBLFNBQUEsR0FDQSxLQUNBLElBQUEsRUFHQSxHQUFBLEtBQUEsR0FHQSxJQUFBLEVBQUEsdUJBQUEsR0FBQSxNQUFBLEVBQUEsTUFDQSxFQUFBLEdBQUEsRUFBQSxHQUNBLEVBQUEsRUFBQSxFQUFBLE1BSUEsSUFDQSxFQUFBLEVBQUEsV0FBQSxFQUFBLE1BQUEsS0FFQSxJQUFBLElBRUEsRUFBQSxPQUFBLFNBQUEsRUFBQSxNQXNCQSxJQUFBLElBQUEsQ0FDQSxHQUFBLGlCQUFBLFdBQUEsTUFDQSxFQUFBLGVBQUEsV0FDQSxHQUFBLEtBQUEsSUFBQSxHQUFBLEVBQUEsR0FDQSxJQUFBLElBQUEsRUFBQSxTQUVBLElBQUEsSUFBQSxXQUNBLFFBQUEsRUFBQSxPQUFBLFlBQ0EsS0FDQSxFQUFBLE9BQUEsU0FBQSxTQUVBLEVBQUEsaUJBR0EsR0FBQSxTQUFBLFNBQUEsRUFBQSxHQUNBLE1BQUEsVUFBQSxHQUNBLEVBQUEsR0FBQSxLQUNBLElBQUEsR0FBQSxFQUFBLGVBQUEsSUFDQSxHQUFBLElBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQSxhQUFBLEtBS0EsSUFDQSxJQUFBLEdBREEsSUFBQSxTQUFBLEdBQUEsS0FBQSxJQUFBLE9BQUEsS0FDQSxHQUFBLEVBQUEsSUFBQSxDQWdlQSxPQS9kQSxHQUFBLE1BQUEsV0FFQSxHQUFBLElBQUEsVUFBQSxPQUFBLE1BQUEsR0FFQSxJQUFBLElBQUEsVUFBQSxRQUFBLEVBQUEsS0FBQSxVQUFBLE1BQUEsRUFBQSxDQUNBLEdBQUEsR0FBQSxVQUFBLEdBQUEsRUFBQSxVQUFBLEdBQUEsRUFBQSxVQUFBLEVBQ0EsSUFBQSxTQUFBLEdBQ0EsR0FBQSxHQUFBLEdBQUEsRUFBQSxFQUNBLEtBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxDQUNBLEdBQUEsR0FBQSxLQUFBLElBQUEsT0FBQSx3RUFDQSxLQUFBLEVBQ0EsRUFBQSxNQUFBLEdBQUEsR0FDQSxJQUFBLEdBR0EsSUFBQSxHQUFBLFNBQUEsRUFBQSxNQUFBLEtBQUEsZUFBQSxZQUNBLEdBQUEsR0FBQSxXQUNBLEdBQUEsR0FBQSxFQUFBLEVBQUEsTUFBQSxLQUNBLGNBQUEsRUFBQSxNQUFBLE9BQUEsR0FBQSxFQUFBLFFBQ0EsSUFBQSxFQUFBLElBQ0EsR0FBQSxJQUdBLEVBQUEsRUFDQSxFQUFBLFNBR0EsSUFBQSxVQUFBLEdBQUEsa0JBQUEsVUFBQSxHQUFBLFlBQUEsQ0FDQSxHQUFBLEdBQUEsVUFBQSxHQUdBLEdBRkEsVUFBQSxHQUNBLFVBQUEsR0FDQSxVQUFBLEdBQ0EsR0FBQSxNQUFBLGFBQUEsRUFBQSxNQUFBLEtBQUEsRUFBQSxTQUFBLElBQUEsR0FBQSxFQUFBLE1BQUEsTUFBQSxFQUFBLE1BQUEsS0FDQSxFQUFBLGtCQUNBLEVBQUEsb0JBQUEsUUFBQSxHQUNBLEVBQUEsaUJBQUEsUUFBQSxLQUdBLEVBQUEsWUFBQSxVQUFBLEdBQ0EsRUFBQSxZQUFBLFVBQUEsUUFJQSxJQUFBLEVBQUEsS0FBQSxVQUFBLE1BQUEsRUFBQSxDQUNBLEdBQUEsR0FBQSxFQUNBLElBQUEsVUFBQSxFQUNBLElBQUEsR0FBQSxVQUFBLE9BQ0EsRUFBQSxHQUFBLFFBQUEsS0FDQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEdBQUEsTUFBQSxFQUFBLE1BQ0EsS0FBQSxHQUFBLEtBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQSxFQUNBLElBQUEsR0FBQSxFQUFBLEdBQ0EsRUFBQSxFQUFBLEdBQUEsR0FBQSxNQUFBLEVBQUEsR0FBQSxFQUNBLEtBQUEsR0FBQSxHQUFBLEtBQUEsRUFBQSxRQUFBLEtBQUEsSUFBQSxLQUFBLEVBRUEsSUFBQSxJQUFBLElBQUEsVUFBQSxPQUFBLFVBQUEsR0FBQSxVQUFBLE9BQUEsR0FBQSxJQUFBLFVBQUEsRUFFQSxHQUFBLFFBQUEsV0FDQSxFQUFBLEVBQ0EsRUFBQSxXQUNBLEVBQUEsUUFBQSxFQUFBLGVBQUEsYUFBQSxLQUFBLEVBQUEsTUFBQSxHQUFBLEVBQUEsTUFBQSxNQUFBLEtBRUEsR0FBQSxHQUFBLEVBQUEsTUFBQSxNQUFBLE1BR0EsRUFBQSxFQUFBLE1BQUEsTUFBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLE1BQUEsTUFBQSxPQUlBLEVBQUEsTUFBQSxNQUFBLFNBQUEsR0FDQSxJQUFBLEdBQUEsS0FBQSxJQUFBLE9BQUEsc0ZBQ0EsT0FBQSxJQUFBLElBRUEsRUFBQSxNQUFBLEtBQUEsU0E2RkEsRUFBQSxNQUFBLGlCQUFBLEVBQ0EsRUFBQSxNQUFBLGlCQUFBLEVBUUEsRUFBQSxTQUFBLFdBQ0EsR0FBQSxHQUFBLEdBQUEsRUFFQSxPQURBLEdBQUEsUUFBQSxFQUFBLEVBQUEsU0FDQSxHQXNJQSxFQUFBLFNBQUEsUUFBQSxTQUFBLEdBQ0EsR0FBQSxtQkFBQSxFQUFBLEtBQUEsS0FBQSxFQUFBLFlBQUEsV0FBQSxNQUFBLFVBQUEsS0FBQSxJQUdBLEVBQUEsS0FBQSxTQUFBLEdBRUEsUUFBQSxHQUFBLEVBQUEsR0FDQSxNQUFBLFVBQUEsR0FPQSxNQU5BLEdBQUEsR0FBQSxFQUNBLElBQUEsRUFBQSxVQUNBLE1BQUEsSUFDQSxFQUFBLFFBQUEsR0FDQSxFQUFBLEdBQUEsSUFFQSxHQVRBLEdBQUEsR0FBQSxVQWFBLEVBQUEsRUFBQSxXQUNBLEVBQUEsRUFBQSxPQUNBLEVBQUEsR0FBQSxPQUFBLEVBQ0EsSUFBQSxFQUFBLE9BQUEsRUFDQSxJQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLElBQ0EsRUFBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLFFBR0EsR0FBQSxXQUVBLE9BQUEsR0FBQSxTQStGQSxFQUFBLFFBQUEsU0FBQSxHQUNBLEVBQUEsY0FBQSxHQUFBLEVBQUEsa0JBQ0EsSUFBQSxHQUFBLEdBQUEsR0FDQSxFQUFBLEVBQUEsVUFBQSxVQUFBLEVBQUEsU0FBQSxjQUNBLEVBQUEsRUFBQSxVQUFBLEVBQUEsRUFBQSxFQUFBLFdBQUEsS0FBQSxVQUNBLEVBQUEsRUFBQSxZQUFBLEVBQUEsRUFBQSxFQUFBLGFBQUEsS0FBQSxNQUNBLEVBQUEsRUFBQSxTQUFBLEdBQUEsTUFBQSxHQUFBLGNBQUEsRUFBQSxTQUFBLFNBQUEsR0FDQSxNQUFBLEtBQUEsRUFBQSxhQUFBLFFBQUEsSUFBQSxLQUFBLE1BQUEsS0FBQSxFQUFBLGFBMEJBLE9BeEJBLEdBQUEsUUFBQSxFQUFBLFFBQUEsT0FBQSxjQUNBLEVBQUEsSUFBQSxFQUFBLEVBQUEsSUFBQSxFQUFBLE1BQ0EsRUFBQSxFQUFBLEVBQUEsRUFBQSxLQUFBLEdBQ0EsRUFBQSxPQUFBLEVBQUEsUUFBQSxTQUFBLEdBQ0EsSUFDQSxFQUFBLEdBQUEsS0FDQSxJQUFBLElBQUEsU0FBQSxFQUFBLEtBQUEsRUFBQSxjQUFBLEVBQUEsY0FBQSxFQUNBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLElBQUEsRUFBQSxPQUNBLElBQUEsU0FBQSxFQUFBLEtBQ0EsR0FBQSxFQUFBLEtBQUEsS0FBQSxHQUFBLEVBQUEsS0FDQSxJQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLElBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxLQUFBLEVBQUEsUUFFQSxHQUFBLE9BQUEsRUFBQSxHQUFBLEdBQUEsS0FBQSxHQUVBLEdBQUEsU0FBQSxFQUFBLEtBQUEsVUFBQSxVQUFBLEdBRUEsTUFBQSxHQUNBLEVBQUEsU0FBQSxRQUFBLEdBQ0EsRUFBQSxPQUFBLEdBRUEsRUFBQSxjQUFBLEdBQUEsRUFBQSxrQkFFQSxFQUFBLEdBQ0EsRUFBQSxRQUFBLEVBQUEsRUFBQSxRQUFBLEVBQUEsY0FDQSxFQUFBLFNBSUEsRUFBQSxLQUFBLFNBQUEsR0FFQSxNQURBLEdBQUEsRUFBQSxHQUFBLEdBQ0EsR0FHQSxFQUFBLEtBQUEsUUFBQSxFQUVBLEdBQ0EsbUJBQUEsUUFBQSxVQUVBLG9CQUFBLFNBQUEsT0FBQSxRQUFBLE9BQUEsUUFBQSxPQUFBLFFBQUEsRUFDQSxrQkFBQSxTQUFBLE9BQUEsS0FBQSxPQUFBLFdBQUEsTUFBQSxLQ3RvQ0EsU0FBQSxHQWFBLFFBQUEsS0FDQSxHQUFBLEdBQUEsVUFBQSxHQUFBLEVBQUEsRUFBQSxLQUlBLE9BSEEsR0FBQSxJQUFBLEVBQUEsZUFBQSxLQUNBLEVBQUEsR0FBQSxFQUFBLE1BQUEsSUFFQSxFQUFBLE9BQUEsS0FBQSxLQUFBLEVBQUEsR0FBQSxXQW9KQSxRQUFBLEdBQUEsR0FDQSxNQUFBLFFBQUEsVUFBQSxTQUFBLEtBQUEsR0FBQSxNQUFBLEVBQUEsSUFBQSxjQUdBLFFBQUEsR0FBQSxFQUFBLEdBQ0EsTUFBQSxPQUFBLEVBQUEsR0FBQSxLQUFBLEdBMUtBLEdBQUEsSUFDQSxXQUFBLE9BQ0EsT0FBQSxTQUNBLEtBQUEsWUFDQSxPQUFBLFdBQ0EsWUFBQSx3RkFDQSxJQUFBLHNCQUNBLFdBQUEsd0JBQ0EsYUFBQSxhQUNBLEtBQUEsVUFXQSxHQUFBLE9BQUEsU0FBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxFQUFBLEdBQUEsS0FBQSxHQUFBLEVBQUEsRUFBQSxFQUNBLEtBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxJQUVBLEdBREEsRUFBQSxFQUFBLEVBQUEsSUFDQSxXQUFBLEVBQ0EsRUFBQSxFQUFBLFFBQUEsRUFBQSxPQUVBLElBQUEsVUFBQSxFQUFBLENBRUEsR0FEQSxFQUFBLEVBQUEsR0FDQSxFQUFBLEdBRUEsSUFEQSxFQUFBLEVBQUEsR0FDQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsT0FBQSxJQUFBLENBQ0EsSUFBQSxFQUFBLGVBQUEsRUFBQSxHQUFBLElBQ0EsS0FBQSxJQUFBLE9BQUEsRUFBQSx5Q0FBQSxFQUFBLEdBQUEsSUFFQSxHQUFBLEVBQUEsRUFBQSxHQUFBLFFBSUEsR0FEQSxFQUFBLEdBQ0EsRUFBQSxFQUFBLElBR0EsRUFBQSxJQU9BLElBSkEsWUFBQSxFQUFBLEtBQ0EsRUFBQSxLQUdBLEVBQUEsV0FBQSxLQUFBLEVBQUEsS0FBQSxVQUFBLEVBQUEsSUFBQSxNQUFBLEdBQ0EsS0FBQSxJQUFBLFdBQUEsRUFBQSwwQ0FBQSxFQUFBLElBT0EsUUFKQSxFQUFBLE9BQUEsS0FBQSxFQUFBLE1BQ0EsRUFBQSxHQUFBLEdBR0EsRUFBQSxJQUNBLElBQUEsSUFDQSxFQUFBLEVBQUEsU0FBQSxFQUNBLE1BQ0EsS0FBQSxJQUNBLEVBQUEsT0FBQSxhQUFBLEVBQ0EsTUFDQSxLQUFBLElBQ0EsSUFBQSxJQUNBLEVBQUEsU0FBQSxFQUFBLEdBQ0EsTUFDQSxLQUFBLElBQ0EsRUFBQSxFQUFBLEdBQUEsRUFBQSxjQUFBLEVBQUEsSUFBQSxFQUFBLGVBQ0EsTUFDQSxLQUFBLElBQ0EsRUFBQSxFQUFBLEdBQUEsV0FBQSxHQUFBLFFBQUEsRUFBQSxJQUFBLFdBQUEsRUFDQSxNQUNBLEtBQUEsSUFDQSxFQUFBLEVBQUEsU0FBQSxFQUNBLE1BQ0EsS0FBQSxJQUNBLEdBQUEsRUFBQSxPQUFBLEtBQUEsRUFBQSxHQUFBLEVBQUEsVUFBQSxFQUFBLEVBQUEsSUFBQSxDQUNBLE1BQ0EsS0FBQSxJQUNBLEtBQUEsQ0FDQSxNQUNBLEtBQUEsSUFDQSxFQUFBLEVBQUEsU0FBQSxHQUNBLE1BQ0EsS0FBQSxJQUNBLEVBQUEsRUFBQSxTQUFBLElBQUEsZUFHQSxFQUFBLE9BQUEsS0FBQSxFQUFBLEtBQUEsSUFBQSxFQUFBLEdBS0EsRUFBQSxJQUpBLEVBQUEsRUFBQSxJQUFBLElBQ0EsRUFBQSxFQUFBLFdBQUEsUUFBQSxFQUFBLEtBQUEsS0FLQSxFQUFBLEVBQUEsR0FBQSxNQUFBLEVBQUEsR0FBQSxJQUFBLEVBQUEsR0FBQSxPQUFBLEdBQUEsSUFDQSxFQUFBLEVBQUEsSUFBQSxFQUFBLEdBQUEsT0FDQSxFQUFBLEVBQUEsSUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsR0FDQSxFQUFBLEVBQUEsUUFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsTUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUdBLE1BQUEsR0FBQSxLQUFBLEtBR0EsRUFBQSxTQUVBLEVBQUEsTUFBQSxTQUFBLEdBRUEsSUFEQSxHQUFBLEdBQUEsRUFBQSxLQUFBLEtBQUEsRUFBQSxFQUNBLEdBQUEsQ0FDQSxHQUFBLFFBQUEsRUFBQSxFQUFBLEtBQUEsS0FBQSxJQUNBLEVBQUEsRUFBQSxRQUFBLEVBQUEsT0FFQSxJQUFBLFFBQUEsRUFBQSxFQUFBLE9BQUEsS0FBQSxJQUNBLEVBQUEsRUFBQSxRQUFBLFFBRUEsQ0FBQSxHQUFBLFFBQUEsRUFBQSxFQUFBLFlBQUEsS0FBQSxJQWdDQSxLQUFBLElBQUEsYUFBQSxtQ0EvQkEsSUFBQSxFQUFBLEdBQUEsQ0FDQSxHQUFBLENBQ0EsSUFBQSxNQUFBLEVBQUEsRUFBQSxHQUFBLElBQ0EsSUFBQSxRQUFBLEVBQUEsRUFBQSxJQUFBLEtBQUEsSUFlQSxLQUFBLElBQUEsYUFBQSwrQ0FiQSxLQURBLEVBQUEsRUFBQSxRQUFBLEVBQUEsR0FDQSxNQUFBLEVBQUEsRUFBQSxVQUFBLEVBQUEsR0FBQSxVQUNBLEdBQUEsUUFBQSxFQUFBLEVBQUEsV0FBQSxLQUFBLElBQ0EsRUFBQSxFQUFBLFFBQUEsRUFBQSxPQUVBLENBQUEsR0FBQSxRQUFBLEVBQUEsRUFBQSxhQUFBLEtBQUEsSUFJQSxLQUFBLElBQUEsYUFBQSwrQ0FIQSxHQUFBLEVBQUEsUUFBQSxFQUFBLEdBVUEsRUFBQSxHQUFBLE1BR0EsSUFBQSxDQUVBLElBQUEsSUFBQSxFQUNBLEtBQUEsSUFBQSxPQUFBLDRFQUVBLEdBQUEsRUFBQSxRQUFBLEVBS0EsRUFBQSxFQUFBLFVBQUEsRUFBQSxHQUFBLFFBRUEsTUFBQSxHQUdBLElBQUEsR0FBQSxTQUFBLEVBQUEsRUFBQSxHQUdBLE1BRkEsSUFBQSxPQUFBLE1BQUEsR0FDQSxFQUFBLE9BQUEsRUFBQSxFQUFBLEdBQ0EsRUFBQSxNQUFBLEtBQUEsR0FpQkEsb0JBQUEsVUFDQSxRQUFBLFFBQUEsRUFDQSxRQUFBLFNBQUEsSUFHQSxFQUFBLFFBQUEsRUFDQSxFQUFBLFNBQUEsRUFFQSxrQkFBQSxTQUFBLE9BQUEsS0FDQSxPQUFBLFdBQ0EsT0FDQSxRQUFBLEVBQ0EsU0FBQSxPQUtBLG1CQUFBLFFBQUEsS0FBQSxRQ3RMQSxTQUFBLEdBQUEsR0FBQSxnQkFBQSxVQUFBLG1CQUFBLFFBQUEsT0FBQSxRQUFBLFFBQUEsSUFBQSxrQkFBQSxTQUFBLE9BQUEsSUFBQSxVQUFBLE9BQUEsQ0FBQSxHQUFBLEVBQUEsR0FBQSxtQkFBQSxRQUFBLE9BQUEsbUJBQUEsUUFBQSxPQUFBLG1CQUFBLE1BQUEsS0FBQSxLQUFBLEVBQUEsTUFBQSxNQUFBLFdBQUEsTUFBQSxTQUFBLEdBQUEsRUFBQSxFQUFBLEdBQUEsUUFBQSxHQUFBLEVBQUEsR0FBQSxJQUFBLEVBQUEsR0FBQSxDQUFBLElBQUEsRUFBQSxHQUFBLENBQUEsR0FBQSxHQUFBLGtCQUFBLFVBQUEsT0FBQSxLQUFBLEdBQUEsRUFBQSxNQUFBLEdBQUEsR0FBQSxFQUFBLElBQUEsRUFBQSxNQUFBLEdBQUEsR0FBQSxFQUFBLElBQUEsR0FBQSxHQUFBLE9BQUEsdUJBQUEsRUFBQSxJQUFBLE1BQUEsR0FBQSxLQUFBLG1CQUFBLEVBQUEsR0FBQSxHQUFBLEVBQUEsSUFBQSxXQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsRUFBQSxRQUFBLFNBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxPQUFBLEdBQUEsRUFBQSxFQUFBLElBQUEsRUFBQSxFQUFBLFFBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxNQUFBLEdBQUEsR0FBQSxRQUFBLElBQUEsR0FBQSxHQUFBLGtCQUFBLFVBQUEsUUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLE9BQUEsSUFBQSxFQUFBLEVBQUEsR0FBQSxPQUFBLEtBQUEsR0FBQSxTQUFBLEVBQUEsR0FDQSxZQUVBLFNBQUEsR0FBQSxHQUNBLEtBQUEsS0FBQSxtQkFDQSxLQUFBLFFBQUEsRUFFQSxFQUFBLFVBQUEsR0FBQSxPQUNBLEVBQUEsVUFBQSxZQUFBLEVBRUEsRUFBQSxRQUFBLE9BRUEsR0FBQSxTQUFBLEVBQUEsR0FDQSxZQUVBLElBQUEsR0FBQSxTQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLEdBQ0EsRUFBQSxDQUVBLElBQUEsSUFBQSxHQUFBLENBSUEsR0FBQSxHQUFBLFNBQUEsRUFDQSxVQUNBLENBRUEsR0FBQSxHQUFBLFdBQ0EsR0FBQSxNQUFBLE1BQUEsS0FBQSxXQUVBLEVBQUEsR0FBQSxFQUFBLEtBQUEsS0FDQSxHQUFBLE1BQUEsRUFBQSxPQUFBLFVBQUEsT0FBQSxVQUFBLEdBQ0EsSUFBQSxFQUFBLEVBQUEsR0FHQSxHQUdBLFNBQUEsVUFBQSxNQUFBLEtBQ0EsRUFDQSxFQUNBLEtBTUEsR0FBQSxTQUNBLFdBQUEsUUFHQSxHQUFBLFNBQUEsRUFBQSxJQUNBLFNBQUEsR0FFQSxZQWVBLFNBQUEsS0FDQSxPQUFBLEdBQUEsTUFZQSxRQUFBLEdBQUEsRUFBQSxHQUNBLE1BQUEsR0FBQSxHQUNBLFNBQUEsR0FBQSxNQUFBLEdBQUEsRUFBQSxJQUNBLEVBTUEsUUFBQSxLQUNBLEtBQUEsV0FBQSxnQkFBQSxRQUFBLEtBQUEsV0FFQSxLQUFBLGNBQUEsRUFBQSxHQUNBLEtBQUEsZUFBQSxFQUFBLEdBQ0EsS0FBQSx1QkFBQSxLQUNBLEtBQUEsVUFBQSxLQUNBLEtBQUEsYUFBQSxLQUNBLEtBQUEsY0FBQSxLQUNBLEtBQUEsV0FBQSxLQUNBLEtBQUEsZUFBQSxLQUNBLEtBQUEsa0JBQ0EsS0FBQSxnQkFDQSxPQUFBLGFBQ0EsZ0JBQ0EsY0FDQSxpQkFDQSxnQkFDQSxZQUFBLFlBQ0EscUJBQUEsRUFDQSxpQkFBQSxFQUdBLGFBQUEsSUFDQSxnQkFBQSxHQUNBLGlCQUFBLEVBQ0EsWUFBQSxFQUNBLFdBQUEsR0FFQSxLQUFBLGVBQUEsRUFDQSxLQUFBLG1CQUFBLEVBQ0EsS0FBQSw4QkFBQSxNQUFBLGdCQUdBLEtBQUEsaUJBQUEsRUFBQSxZQUNBLEtBQUEsMkJBQ0EsS0FBQSxZQUNBLEtBQUEsV0FBQSxJQUNBLEtBQUEsb0JBQ0EsS0FBQSxnQkFDQSxLQUFBLG1CQUFBLEtBQ0EsS0FBQSxpQkFDQSxLQUFBLFVBQUEsRUFBQSxTQUNBLEtBQUEsVUFBQSxLQUFBLFdBQUEsS0FBQSxVQUFBLEtBQ0EsS0FBQSxlQUVBLEtBQUEsR0FBQSxLQUFBLE1BQUEsaUJBQ0EsS0FBQSx3QkFBQSxHQUFBLEtBQUEsaUJBQUEsR0FrbkRBLFFBQUEsR0FBQSxHQUNBLE1BQUEsVUFBQSxFQUdBLFFBQUEsR0FBQSxHQUNBLE1BQUEsa0JBQUEsR0FHQSxRQUFBLEdBQUEsR0FDQSxNQUFBLG9CQUFBLEVBQUEsU0FBQSxLQUFBLEdBSUEsUUFBQSxHQUFBLEdBQ0EsSUFBQSxHQUFBLEtBQUEsR0FBQSxPQUFBLENBQ0EsUUFBQSxFQUdBLFFBQUEsR0FBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLENBRUEsSUFBQSxFQUFBLEVBQUEsUUFDQSxJQUFBLElBQUEsR0FDQSxFQUFBLEVBQUEsSUFDQSxFQUFBLEtBQUEsS0FBQSxFQUFBLEVBQUEsUUFLQSxJQURBLEVBQUEsRUFBQSxPQUVBLElBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxJQUNBLEVBQUEsS0FBQSxLQUFBLEVBQUEsRUFBQSxJQU1BLFFBQUEsR0FBQSxFQUFBLEdBQ0EsTUFBQSxJQUdBLEVBQUEsRUFBQSxTQUFBLEVBQUEsR0FDQSxFQUFBLEdBQUEsSUFFQSxHQUxBLEVBZ0JBLFFBQUEsR0FBQSxHQUNBLE1BQUEsUUFBQSxTQUdBLE9BQUEsU0FBQSxJQUZBLEVBS0EsUUFBQSxHQUFBLEVBQUEsR0FDQSxPQUFBLEdBQUEsRUFBQSxRQUFBLEVBQUEsRUFBQSxFQUFBLE9BQUEsRUFBQSxHQUFBLElBVUEsUUFBQSxHQUFBLEVBQUEsR0FDQSxNQUFBLEdBQUEsZUFBQSxLQUFBLEVBQUEsR0FHQSxRQUFBLEdBQUEsR0FPQSxJQUpBLEdBRUEsR0FGQSxLQUNBLEVBQUEsRUFBQSxFQUFBLEVBQUEsT0FHQSxFQUFBLEVBQUEsSUFDQSxFQUFBLEVBQUEsR0FDQSxFQUFBLEdBR0EsRUFBQSxLQUFBLEVBQUEsUUFBQSw4QkFBQSxTQUNBLEdBQUEsRUFBQSxRQUVBLEVBQUEsS0FBQSxFQUFBLE9BSUEsT0FBQSxJQUFBLFFBQUEsRUFBQSxLQUFBLEtBQUEsS0FHQSxRQUFBLEdBQUEsR0FDQSxHQUFBLEtBSUEsT0FIQSxHQUFBLEVBQUEsU0FBQSxFQUFBLEdBQ0EsRUFBQSxLQUFBLG1CQUFBLEdBQUEsSUFBQSxtQkFBQSxNQUVBLEVBQUEsS0FBQSxLQU1BLFFBQUEsR0FBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLE1BQUEsaUVBQ0EsS0FBQSxFQUFBLFFBR0EsSUFBQSxHQUFBLEVBQUEsSUFBQSxHQUNBLEVBQUEsRUFBQSxJQUFBLEVBQ0EsUUFDQSxTQUFBLEVBQUEsR0FDQSxLQUFBLEVBQUEsR0FDQSxLQUFBLEVBQUEsR0FDQSxTQUFBLEVBQUEsR0FBQSxFQUFBLEdBR0EsUUFBQSxLQUNBLEdBQUEsR0FBQSxFQUFBLFFBQUEsRUFBQSxRQUVBLEtBQUEsRUFBQSxJQUFBLEVBQUEsZ0JBQUEsQ0FFQSxHQUFBLEdBQUEsR0FBQSxhQUFBLEVBQ0EsR0FBQSxnQkFBQSxHQUdBLEVBQUEsR0FBQSxLQUFBLEVBQUEsR0FBQSxNQUVBLEVBQUEsR0FBQSxNQUFBLEVBQUEsR0FBQSxLQUVBLElBQUEsR0FBQSxTQUFBLEdBRUEsSUFEQSxHQUFBLEdBQUEsRUFBQSxTQUFBLElBQ0EsRUFBQSxPQUFBLEdBQ0EsRUFBQSxJQUFBLENBRUEsT0FBQSxHQUdBLE9BQUEsR0FBQSxFQUFBLElBQUEsRUFBQSxFQUFBLElBQUEsRUFBQSxFQUFBLElBQUEsRUFBQSxFQUFBLElBQUEsRUFBQSxFQUFBLElBQ0EsRUFBQSxFQUFBLElBQUEsRUFBQSxFQUFBLElBQUEsRUFBQSxFQUFBLElBR0EsTUFBQSxtQ0FBQSxRQUFBLFFBQUEsU0FBQSxHQUNBLEdBQUEsR0FBQSxHQUFBLEtBQUEsU0FBQSxFQUNBLEVBQUEsTUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLENBQ0EsT0FBQSxHQUFBLFNBQUEsTUFZQSxRQUFBLEdBQUEsR0FXQSxJQVRBLEdBT0EsR0FQQSxFQUFBLEVBQ0EsRUFBQSxHQUNBLEtBQ0EsRUFBQSxFQUNBLEVBQUEsRUFDQSxFQUFBLE1BQ0EsRUFBQSxFQUFBLE9BR0EsR0FBQSxJQUFBLElBRUEsRUFBQSxFQUFBLEtBS0EsU0FBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsT0FBQSxFQUFBLEVBQUEsUUFBQSxLQUlBLEVBQUEsS0FBQSxHQUVBLEdBQUEsRUFBQSxPQUNBLEVBQUEsRUFBQSxVQUdBLE9BQUEsR0FBQSxVQUFBLEtBQUEsR0FTQSxRQUFBLEdBQUEsR0FDQSxHQUNBLEdBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFMQSxJQU9BLEtBQUEsSUFBQSxFQUFBLFFBQ0EsTUFBQSxFQVNBLElBTkEsRUFBQSxLQUFBLEVBQUEsUUFBQSxlQUNBLEVBQUEsSUFDQSxFQUFBLEtBQUEsSUFBQSxFQUFBLElBR0EsRUFBQSxFQUFBLFVBQ0EsR0FBQSxFQUFBLEdBRUEsSUFEQSxFQUFBLEVBQUEsTUFBQSxPQUNBLEVBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxJQUNBLEVBQUEsS0FBQSxJQUFBLEVBQUEsR0FHQTtHQUFBLElBQUEsT0FBQSxPQUFBLFFBQUEsTUFDQSxLQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxJQUNBLEVBQUEsRUFBQSxHQUNBLEVBQUEsRUFBQSxhQUFBLEdBQ0EsR0FDQSxFQUFBLEtBQUEsSUFBQSxFQUFBLEtBQUEsRUFBQSxLQUdBLE9BQUEsR0FBQSxLQUFBLElBTUEsUUFBQSxHQUFBLEVBQUEsR0FDQSxXQUFBLElBQUEsR0FNQSxRQUFBLEdBQUEsRUFBQSxHQUNBLE1BQUEsR0FBQSxFQUFBLElBQ0EsR0FFQSxFQUFBLEVBQUEsT0FBQSxHQUNBLEVBQUEsRUFBQSxPQUFBLEdBRUEsRUFBQSxPQUFBLEVBQUEsTUFDQSxFQUFBLFFBQUEsRUFBQSxPQUNBLEVBRUEsRUFBQSxFQUFBLFdBQUEsRUFBQSxhQU1BLFFBQUEsR0FBQSxFQUFBLEdBQ0EsR0FBQSxFQUFBLEVBQUEsR0FDQSxPQUFBLENBRUEsSUFBQSxHQUFBLEVBQUEsT0FDQSxFQUFBLEVBQUEsTUFHQSxJQUFBLEVBQUEsU0FBQSxFQUFBLE9BQ0EsT0FBQSxDQUlBLEtBQUEsR0FEQSxHQUFBLEVBQ0EsRUFBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLElBR0EsR0FGQSxFQUFBLEVBQUEsR0FDQSxFQUFBLEVBQUEsR0FDQSxFQUFBLFdBQUEsRUFBQSxVQUNBLEVBQUEsU0FBQSxFQUFBLFFBQ0EsRUFBQSxRQUFBLEVBQUEsT0FDQSxFQUFBLGNBQUEsRUFBQSxZQUNBLE9BQUEsQ0FFQSxRQUFBLEVBVUEsUUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsRUFDQSxHQUFBLEdBQUEsRUFBQSxHQUNBLEdBQ0EsRUFBQSxNQUFBLEVBQUEsRUFBQSxJQS8rREEsR0FBQSxHQUFBLEVBQUEsR0FDQSxFQUFBLEVBQUEsR0FDQSxFQUFBLEVBQUEsR0FDQSxFQUFBLEVBQUEsR0FFQSxFQUFBLEVBQUEsUUFDQSxFQUFBLEVBQUEsU0FFQSxFQUFBLEVBQUEsR0FBQSxXQUVBLEVBQUEsMkNBQUEsTUFBQSxLQUNBLEVBQUEsZ0VBT0EsRUFBQSxtQkFBQSxRQUFBLE9BQ0EsbUJBQUEsR0FBQSxFQUNBLG1CQUFBLE1BQUEsUUFFQSxFQUFBLEVBQUEsU0FDQSxFQUFBLEVBQUEsU0FxRUEsR0FBQSxXQUtBLFFBQUEsU0FFQSxPQUFBLEVBRUEsU0FBQSxFQVNBLE9BQUEsU0FBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLElBRUEsSUFBQSxFQUFBLGNBRUEsTUFEQSxNQUFBLFVBQUEsUUFBQSw0Q0FDQSxDQUVBLEtBQUEsRUFBQSxNQUFBLEVBRUEsSUFBQSxHQUFBLEVBQUEsY0FHQSxJQUNBLEVBQUEsRUFBQSxTQUFBLEVBQUEsR0FFQSxTQUFBLEdBQUEsVUFBQSxHQUFBLFNBQUEsRUFDQSxFQUFBLGVBQUEsR0FBQSxFQUVBLEVBQUEsR0FBQSxJQUtBLEVBQUEsT0FBQSxHQUlBLEVBQUEsYUFBQSxLQUFBLHFCQUNBLEVBQUEsYUFBQSxLQUFBLGlEQUdBLEVBQUEsYUFBQSxFQUFBLEVBQUEsY0FDQSxFQUFBLFdBQUEsRUFBQSxXQUFBLE9BQUEsRUFBQSxFQUFBLGFBQUEsRUFDQSxFQUFBLGNBQUEsRUFBQSxjQUFBLE9BQUEsRUFBQSxFQUFBLGdCQUFBLEVBQ0EsRUFBQSxhQUFBLEVBQUEsRUFBQSxjQUNBLEVBQUEsZUFBQSxLQUFBLElBQUEsRUFBQSxLQUFBLElBQUEsRUFBQSxnQkFBQSxJQUFBLEtBRUEsSUFBQSxJQUNBLEtBQUEsRUFDQSxTQUFBLEVBQ0EsS0FBQSxFQUNBLFVBQUEsR0FHQSxFQUFBLEVBQUEsZUFDQSx3QkFBQSxTQUFBLEtBQUEsR0FDQSxFQUFBLEVBQUEsRUFBQSxHQUNBLEtBQUEsSUFDQSxFQUFBLEdBRUEsRUFBQSxnQkFBQSxDQUVBLElBQUEsSUFDQSxVQUFBLEdBR0EsRUFBQSxFQUFBLFVBV0EsT0FWQSx1QkFBQSxTQUFBLEtBQUEsR0FDQSxFQUFBLEVBQUEsRUFBQSxHQUNBLEtBQUEsSUFDQSxFQUFBLEdBRUEsRUFBQSxXQUFBLEVBRUEsRUFBQSxzQkFBQSxFQUFBLG9CQUdBLEdBV0EsUUFBQSxXQUNBLEdBQUEsR0FBQSxJQW1CQSxPQWxCQSxHQUFBLFlBQUEsRUFBQSxvQkFDQSxFQUFBLE9BQUEsVUFBQSxXQUNBLEVBQUEsd0JBQUEsTUFBQSxFQUFBLGFBRUEsRUFBQSxlQUFBLFlBQUEsRUFBQSxlQUFBLFdBQUEsVUFDQSxFQUFBLHNCQUdBLEVBQUEsZUFBQSxpQkFDQSxFQUFBLHlCQUdBLEVBQUEsZ0JBRUEsRUFBQSxtQkFBQSxHQUdBLE1BQUEsZ0JBQUEsRUFBQSxlQUFBLGdCQUNBLE1BUUEsT0FBQSxTQUFBLEdBQ0EsR0FBQSxHQUFBLEtBQ0EsRUFBQSxFQUFBLFVBQUEsR0FDQSxFQUFBLEVBQUEsS0FBQSxZQUFBLEtBQ0EsRUFBQSxFQUFBLEtBQUEsT0FBQSxFQUFBLEVBRUEsR0FBQSxLQUFBLEVBQ0EsRUFBQSxXQUFBLEVBQUEsS0FDQSxFQUFBLGNBQUEsRUFBQSxNQUFBLEVBQUEsS0FBQSxPQUFBLEdBQ0EsRUFBQSxlQUFBLEVBQUEsS0FBQSxPQUFBLEVBQUEsR0FFQSxFQUFBLGNBQUEsRUFBQSxpQkFBQSxHQUVBLEVBQUEsZ0JBQUEsRUFBQSxjQUNBLElBQUEsRUFBQSxPQUFBLEVBQUEsZUFBQSxVQUlBLEtBQUEsaUJBV0EsUUFBQSxTQUFBLEVBQUEsRUFBQSxHQU9BLE1BTkEsR0FBQSxLQUNBLEVBQUEsTUFDQSxFQUFBLEVBQ0EsRUFBQSxRQUdBLEtBQUEsS0FBQSxFQUFBLEdBQUEsTUFBQSxLQUFBLElBV0EsS0FBQSxTQUFBLEVBQUEsRUFBQSxHQXFDQSxRQUFBLEtBQ0EsR0FBQSxNQUFBLEVBQUEsVUFBQSxPQUNBLEdBQUEsR0FBQSxHQUFBLEVBQUEsUUFBQSxDQVFBLEtBTkEsR0FBQSxFQUFBLElBQ0EsRUFBQSxNQUFBLEtBQUEsV0FLQSxLQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsS0FBQSxFQUFBLFVBQUEsSUFBQSxVQUFBLEVBRUEsS0FLQSxNQUFBLEdBQUEsTUFBQSxLQUFBLEdBQ0EsTUFBQSxHQUdBLEtBRkEsR0FBQSxxQkFDQSxFQUFBLGlCQUFBLEVBQUEsR0FDQSxHQXpEQSxHQUFBLEdBQUEsSUFHQSxJQUFBLEVBQUEsS0FBQSxFQUFBLEdBQ0EsTUFBQSxFQVdBLElBUEEsRUFBQSxLQUNBLEVBQUEsRUFDQSxFQUFBLFNBS0EsRUFBQSxHQUNBLE1BQUEsRUFJQSxLQUNBLEdBQUEsRUFBQSxVQUNBLE1BQUEsRUFJQSxJQUFBLEVBQUEsa0JBQ0EsTUFBQSxHQUFBLGtCQUVBLE1BQUEsR0FJQSxNQUFBLEdBNkJBLElBQUEsR0FBQSxLQUFBLEdBQ0EsRUFBQSxFQUFBLEtBQ0EsRUFBQSxHQUFBLEVBQUEsR0FXQSxPQVJBLEdBQUEsVUFBQSxFQUFBLFVBRUEsRUFBQSxrQkFBQSxFQUdBLEVBQUEsV0FBQSxFQUNBLEVBQUEsVUFBQSxFQUVBLEdBUUEsVUFBQSxXQVFBLE1BUEEsR0FBQSxPQUFBLFlBRUEsS0FBQSxtQkFFQSxNQUFBLGdCQUFBLEtBQUEsOEJBQ0EsS0FBQSxtQkFBQSxFQUVBLE1BVUEsaUJBQUEsU0FBQSxFQUFBLEdBRUEsSUFBQSxFQUFBLEdBQ0EsTUFBQSxNQUFBLGVBQUEsRUFBQSxHQUNBLGVBQUEsRUFDQSxZQUFBLEdBQ0EsR0FJQSxNQUFBLHVCQUFBLENBT0EsS0FDQSxHQUFBLEdBQUEsRUFBQSxrQkFBQSxFQUNBLE1BQUEsaUJBQUEsRUFBQSxHQUNBLE1BQUEsR0FDQSxHQUFBLElBQUEsRUFDQSxLQUFBLEdBSUEsTUFBQSxPQVVBLGVBQUEsU0FBQSxFQUFBLEdBSUEsSUFBQSxLQUFBLGVBQUEsYUFBQSxPQUFBLEtBQUEsZUFBQSxhQUFBLEtBQUEsR0FBQSxDQUlBLEVBQUEsS0FFQSxJQUFBLEdBQUEsR0FDQSxRQUFBLEVBQUEsSUFDQSxFQUVBLElBQUEsS0FBQSxlQUFBLFlBQUEsR0FBQSxFQUFBLFdBQUEsQ0FDQSxHQUFBLEVBS0EsS0FDQSxLQUFBLElBQUEsT0FBQSxHQUNBLE1BQUEsR0FDQSxFQUFBLEVBSUEsRUFBQSxLQUFBLEtBRUEsRUFBQSxHQUdBLFlBQUEsRUFJQSxnQkFBQSxFQUFBLGdCQUFBLEdBQUEsR0FDQSxFQUVBLElBQUEsR0FBQSxFQUFBLGtCQUFBLEdBQ0EsRUFBQSxLQUFBLGVBQUEsRUFBQSxFQUNBLEdBQUEsWUFFQSxPQUFBLEVBQUEsV0FPQSxNQUZBLE1BQUEsTUFBQSxHQUVBLE9BR0Esa0JBQUEsU0FBQSxHQUNBLEdBQUEsR0FBQSxHQUNBLFVBQUEsSUFBQSxLQUNBLEVBRUEsSUFBQSxFQUFBLEtBQUEsZUFBQSxvQkFBQSxDQUNBLEdBQUEsR0FBQSxLQUFBLGVBQUEsbUJBQUEsRUFFQSxJQUFBLEVBQUEsS0FBQSxFQUFBLEdBQ0EsRUFBQSxNQUNBLElBQUEsS0FBQSxFQUNBLE1BQUEsTUFRQSxNQUpBLE1BQUEsYUFBQSxLQUFBLEdBQ0EsS0FBQSxhQUFBLE9BQUEsS0FBQSxlQUFBLGdCQUNBLEtBQUEsYUFBQSxRQUVBLE1BR0EsVUFBQSxTQUFBLEdBQ0EsR0FBQSxNQUFBLE1BQUEsS0FBQSxVQUFBLEVBT0EsT0FMQSxNQUFBLFNBQUEsTUFBQSxFQUFBLElBQ0EsS0FBQSxtQkFDQSxLQUFBLGdCQUdBLE1BU0EsZUFBQSxTQUFBLEdBSUEsTUFGQSxNQUFBLGVBQUEsS0FBQSxFQUVBLE1BU0EsZ0JBQUEsU0FBQSxHQUdBLE1BRkEsTUFBQSxjQUFBLFFBQUEsR0FFQSxNQVNBLGVBQUEsU0FBQSxHQUdBLE1BRkEsTUFBQSxjQUFBLE9BQUEsR0FFQSxNQVFBLGFBQUEsV0FHQSxNQUZBLE1BQUEsa0JBRUEsTUFRQSxXQUFBLFdBRUEsTUFBQSxNQUFBLE1BQUEsRUFBQSxLQUFBLGtCQVVBLGVBQUEsU0FBQSxHQUdBLE1BRkEsTUFBQSxlQUFBLFlBQUEsRUFFQSxNQVNBLFdBQUEsU0FBQSxHQUdBLE1BRkEsTUFBQSxlQUFBLFFBQUEsRUFFQSxNQVVBLGdCQUFBLFNBQUEsR0FDQSxHQUFBLEdBQUEsS0FBQSxlQUFBLFlBR0EsT0FGQSxNQUFBLGVBQUEsYUFDQSxFQUFBLEVBQUEsR0FDQSxNQVVBLHNCQUFBLFNBQUEsR0FDQSxHQUFBLEdBQUEsS0FBQSxlQUFBLGtCQUdBLE9BRkEsTUFBQSxlQUFBLG1CQUNBLEVBQUEsRUFBQSxHQUNBLE1BVUEsc0JBQUEsU0FBQSxHQUNBLEdBQUEsR0FBQSxLQUFBLGVBQUEsa0JBR0EsT0FGQSxNQUFBLGVBQUEsbUJBQ0EsRUFBQSxFQUFBLEdBQ0EsTUFZQSxhQUFBLFNBQUEsR0FHQSxNQUZBLE1BQUEsZUFBQSxVQUFBLEVBRUEsTUFRQSxjQUFBLFdBQ0EsTUFBQSxNQUFBLHdCQVFBLFlBQUEsV0FDQSxNQUFBLE1BQUEsY0FRQSxRQUFBLFdBQ0EsTUFBQSxNQUFBLFNBQ0EsS0FBQSxlQU9BLEdBTkEsS0FBQSwwQkFDQSxLQUFBLHlCQUFBLEVBQ0EsS0FBQSxVQUFBLFFBQUEsMkNBRUEsSUFOQSxHQVdBLFVBQUEsV0FJQSxHQUFBLEdBQUEsRUFBQSxXQUNBLElBQ0EsS0FBQSxPQUFBLEVBQUEsSUFBQSxFQUFBLFFBQUEsV0FJQSxpQkFBQSxTQUFBLEdBQ0EsR0FBQSxFQUFBLENBR0EsRUFBQSxLQUVBLElBQUEsR0FBQSxFQUFBLFNBQUEsS0FBQSxhQUNBLEtBQUEsRUFDQSxLQUFBLElBQUEsR0FBQSxrQkFHQSxJQUFBLEdBQUEsRUFBQSxLQUFBLEtBQUEsSUFDQSxLQUFBLEVBQ0EsS0FBQSxJQUFBLEdBQUEsY0FHQSxJQUFBLEdBQUEsbUJBQ0EsRUFBQSxFQUNBLElBQUEsWUFBQSxFQUFBLEdBQ0EsR0FBQSxRQUFBLEVBQUEsRUFFQSxJQUFBLEdBQUEsRUFBQSxNQUFBLEtBQUEsZUFBQSxJQUNBLEtBQ0EsRUFBQSxPQUFBLEdBQUEsU0FBQSxFQUFBLEVBQUEsT0FDQSxFQUFBLFFBQUEsR0FBQSxVQUFBLEVBQUEsRUFBQSxRQUdBLElBQUEsR0FBQSxLQUFBLGlCQUFBLEtBQUEsVUFBQSxJQUVBLEVBQUEsRUFBQSxjQUFBLFNBQ0EsR0FBQSxPQUFBLEVBQ0EsRUFBQSxJQUFBLEVBQUEseUJBQUEsR0FDQSxFQUFBLE1BQUEsRUFBQSxNQUFBLFlBQUEsS0FJQSxtQkFBQSxXQUNBLEdBQUEsR0FBQSxJQUNBLE1BQUEsZ0JBQUEsRUFDQSxXQUFBLFdBRUEsRUFBQSxnQkFBQSxLQUlBLGNBQUEsU0FBQSxFQUFBLEdBRUEsR0FBQSxHQUFBLENBRUEsSUFBQSxLQUFBLGFBQUEsQ0FHQSxFQUFBLE1BRUEsRUFBQSxRQUFBLEVBQUEsT0FBQSxFQUFBLEdBQUEsY0FBQSxFQUFBLE9BQUEsR0FFQSxFQUFBLGFBQ0EsRUFBQSxFQUFBLFlBQUEsY0FDQSxFQUFBLFVBQUEsR0FBQSxHQUFBLEtBRUEsRUFBQSxFQUFBLG9CQUNBLEVBQUEsVUFBQSxFQUdBLEtBQUEsSUFBQSxHQUFBLEVBQUEsRUFBQSxLQUNBLEVBQUEsR0FBQSxFQUFBLEdBR0EsSUFBQSxFQUFBLFlBRUEsRUFBQSxjQUFBLE9BSUEsS0FDQSxFQUFBLFVBQUEsS0FBQSxFQUFBLFVBQUEsY0FBQSxHQUNBLE1BQUEsT0FZQSx3QkFBQSxTQUFBLEdBQ0EsR0FBQSxHQUFBLElBQ0EsT0FBQSxVQUFBLEdBU0EsR0FMQSxFQUFBLGlCQUFBLEtBS0EsRUFBQSxxQkFBQSxFQUFBLENBR0EsRUFBQSxtQkFBQSxDQU1BLElBQUEsRUFDQSxLQUNBLEVBQUEsRUFBQSxFQUFBLFFBQ0EsTUFBQSxHQUNBLEVBQUEsWUFHQSxFQUFBLG1CQUNBLFNBQUEsTUFBQSxFQUNBLFFBQUEsT0FVQSxzQkFBQSxXQUNBLEdBQUEsR0FBQSxLQUNBLEVBQUEsR0FLQSxPQUFBLFVBQUEsR0FDQSxHQUFBLEVBQ0EsS0FDQSxFQUFBLEVBQUEsT0FDQSxNQUFBLEdBR0EsT0FFQSxHQUFBLEdBQUEsR0FBQSxFQUFBLE9BS0EsSUFBQSxJQUFBLFVBQUEsR0FBQSxhQUFBLEdBQUEsRUFBQSxtQkFBQSxDQUtBLEdBQUEsR0FBQSxFQUFBLGdCQUNBLElBQ0EsRUFBQSx3QkFBQSxTQUFBLEdBRUEsYUFBQSxHQUNBLEVBQUEsaUJBQUEsV0FBQSxXQUNBLEVBQUEsaUJBQUEsTUFDQSxNQVVBLGtCQUFBLFNBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLEtBQUEsVUFBQSxNQUNBLEVBQUEsRUFBQSxHQUNBLEVBQUEsRUFBQSxFQUtBLE1BQUEsVUFBQSxFQUlBLEVBQUEsV0FBQSxFQUFBLFVBQUEsRUFBQSxPQUFBLEVBQUEsT0FDQSxFQUFBLEVBQUEsVUFDQSxFQUFBLFdBQUEsRUFBQSxVQUFBLEVBQUEsT0FBQSxFQUFBLE9BQ0EsRUFBQSxFQUFBLFVBRUEsS0FBQSxtQkFDQSxTQUFBLGFBQ0EsTUFDQSxHQUFBLEVBQ0EsS0FBQSxNQVNBLG9CQUFBLFdBS0EsUUFBQSxHQUFBLEdBQ0EsTUFBQSxZQUlBLElBQUEsR0FEQSxHQUFBLEdBQUEsT0FBQSxVQUFBLFFBQ0EsRUFBQSxFQUFBLEVBQUEsRUFBQSxTQUFBLEVBQ0EsRUFBQSxHQUFBLFVBQUEsRUFFQSxJQUFBLEdBQUEsRUFBQSxFQVFBLE9BUEEsR0FBQSxLQUNBLEVBQUEsR0FBQSxFQUFBLEtBQUEsSUFNQSxFQUFBLE1BQ0EsRUFBQSxNQUFBLEtBQUEsR0FFQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEtBT0EsUUFBQSxHQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsSUFBQSxFQUFBLEdBQUEsU0FDQSxJQUFBLEVBQUEsZ0JBQUEsRUFBQSxlQUFBLHNCQUNBLEVBQUEsRUFBQSxtQkFBQSxTQUFBLEdBQ0EsTUFBQSxVQUFBLEVBQUEsRUFBQSxFQUFBLEdBQ0EsSUFDQSxHQUFBLEVBQUEsY0FDQSxFQUFBLFlBQUEsRUFBQSxLQUFBLEVBQUEsY0FFQSxNQUFBLElBTUEsR0FBQSxHQUNBLEVBQ0EsQ0EyQkEsT0F6QkEsSUFBQSxFQUFBLE1BQUEsZ0JBQUEsR0FBQSxTQUFBLEtBR0EsRUFBQSxFQUFBLHdCQUFBLFNBQ0EsRUFBQSxFQUFBLHdCQUNBLEVBQUEsU0FBQSxHQUlBLEdBQUEsRUFBQSxDQUVBLEdBQUEsRUFDQSxLQUNBLEVBQUEsRUFBQSxLQUNBLE1BQUEsR0FHQSxPQUVBLE1BQUEsVUFBQSxFQUNBLEVBQUEsR0FDQSxhQUFBLEVBQ0EsRUFBQSxHQURBLFVBSUEsRUFBQSxLQUFBLEtBQUEsRUFBQSxFQUFBLEtBQUEsRUFBQSxPQUFBLEdBQUEsRUFBQSxLQUVBLEdBQ0EsRUFBQSxFQUFBLHNCQUFBLFNBQUEsR0FDQSxNQUFBLFVBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxJQUNBLEVBQUEsSUFBQSxFQUFBLGtCQUFBLEVBQUEsa0JBQUEsR0FDQSxNQUFBLElBR0EsTUFBQSxHQUFBLEtBQUEsS0FBQSxFQUFBLEVBQUEsRUFBQSxLQUVBLElBdEZBLEdBQUEsR0FBQSxLQUVBLEVBQUEsRUFBQSxpQkEwQkEsRUFBQSxLQUFBLGVBQUEsZUE4REEsR0FBQSxFQUFBLGFBQUEsRUFBQSxHQUNBLEVBQUEsRUFBQSxjQUFBLEVBQUEsR0FDQSxFQUFBLHVCQUNBLEVBQUEsRUFBQSx3QkFBQSxTQUFBLEdBQ0EsTUFBQSxVQUFBLEdBQ0EsTUFBQSxHQUFBLEVBQUEsS0FBQSxNQUVBLEVBTUEsS0FBQSxHQURBLElBQUEsY0FBQSxTQUFBLE9BQUEsbUJBQUEsaUJBQUEsb0JBQUEsa0JBQUEsY0FBQSxhQUFBLHFCQUFBLGNBQUEsYUFBQSxpQkFBQSxlQUFBLGtCQUFBLGNBQUEsY0FBQSxlQUFBLHFCQUFBLFNBQUEsWUFBQSxlQUFBLGdCQUFBLFlBQUEsa0JBQUEsU0FBQSxpQkFBQSw0QkFBQSx3QkFDQSxFQUFBLEVBQUEsRUFBQSxFQUFBLE9BQUEsSUFDQSxFQUFBLEVBQUEsS0FjQSx1QkFBQSxXQU1BLFFBQUEsR0FBQSxFQUFBLEdBQ0EsSUFBQSxJQUFBLEVBQUEsRUFBQSxLQUNBLEVBQUEsRUFBQSxFQUFBLFNBQUEsR0FDQSxNQUFBLEdBQUEsS0FBQSxLQVJBLEdBQUEsR0FBQSxLQUNBLEVBQUEsS0FBQSxlQUFBLGdCQUVBLEVBQUEsRUFBQSxnQkFVQSxJQUFBLEVBQUEsS0FBQSxrQkFBQSxHQUFBLENBQ0EsR0FBQSxHQUFBLGVBQUEsU0FDQSxHQUFBLEVBQUEsT0FBQSxTQUFBLEdBQ0EsTUFBQSxVQUFBLEVBQUEsR0FXQSxNQVJBLEdBQUEsSUFBQSxLQUFBLEVBQUEsUUFBQSxFQUFBLGNBQ0EsS0FBQSxhQUNBLE9BQUEsRUFDQSxJQUFBLEVBQ0EsWUFBQSxPQUlBLEVBQUEsTUFBQSxLQUFBLGFBRUEsR0FFQSxFQUFBLEVBQUEsT0FBQSxTQUFBLEdBQ0EsTUFBQSxZQUdBLFFBQUEsS0FDQSxHQUFBLEVBQUEsY0FBQSxJQUFBLEVBQUEsWUFBQSxJQUFBLEVBQUEsWUFBQSxDQUNBLElBR0EsRUFBQSxZQUFBLFlBQUEsRUFBQSxPQUNBLE1BQUEsSUFDQSxFQUFBLG1CQUNBLEtBQUEsT0FDQSxTQUFBLE1BQ0EsS0FBQSxFQUFBLGVBTUEsSUFBQSxHQWxCQSxHQUFBLEtBaUJBLEdBQUEsU0FBQSxVQUFBLGNBQ0EsRUFBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLElBQ0EsRUFBQSxFQUFBLEdBQUEsRUFhQSxPQVZBLHNCQUFBLElBQUEsRUFBQSxFQUFBLG9CQUNBLEVBQUEsRUFBQSxxQkFBQSxTQUFBLEdBQ0EsTUFBQSxHQUFBLEtBQUEsRUFBQSxPQUFBLEtBS0EsRUFBQSxtQkFBQSxFQUdBLEVBQUEsTUFBQSxLQUFBLGFBRUEsR0FHQSxFQUFBLEtBQUEsU0FBQSxJQUNBLEVBQUEsRUFBQSxRQUFBLFNBQUEsR0FDQSxNQUFBLFlBSUEsSUFBQSxHQURBLEdBQUEsR0FBQSxPQUFBLFVBQUEsUUFDQSxFQUFBLEVBQUEsRUFBQSxFQUFBLFNBQUEsRUFDQSxFQUFBLEdBQUEsVUFBQSxFQUdBLElBRUEsR0FGQSxFQUFBLEVBQUEsR0FDQSxFQUFBLEtBR0EsaUJBQUEsR0FDQSxFQUFBLEdBRUEsRUFBQSxFQUFBLElBQ0EsRUFBQSxTQUNBLEVBQUEsRUFBQSxTQUlBLEVBQUEsSUFBQSxFQUFBLEdBQUEsU0FDQSxFQUFBLEVBQUEsR0FBQSxPQUdBLElBQUEsSUFDQSxPQUFBLEVBQ0EsSUFBQSxFQUNBLFlBQUEsS0FTQSxPQU5BLEdBQUEsbUJBQ0EsS0FBQSxPQUNBLFNBQUEsUUFDQSxLQUFBLElBR0EsRUFBQSxNQUFBLEtBQUEsR0FBQSxLQUFBLFNBQUEsR0FHQSxNQUZBLEdBQUEsWUFBQSxFQUFBLE9BRUEsTUFHQSxHQUtBLEVBQUEsS0FBQSxLQUFBLGVBQ0EsRUFBQSxrQkFDQSxFQUFBLGlCQUFBLFFBQUEsRUFBQSx3QkFBQSxVQUFBLEdBQ0EsRUFBQSxpQkFBQSxXQUFBLEVBQUEseUJBQUEsS0FJQSxFQUFBLFlBQUEsVUFBQSxFQUFBLHdCQUFBLFVBQ0EsRUFBQSxZQUFBLGFBQUEsRUFBQSwwQkFRQSxJQUFBLEdBQUEsRUFBQSxPQUNBLEVBQUEsR0FBQSxFQUFBLEtBQUEsRUFBQSxJQUFBLFFBQ0EsR0FBQSxHQUFBLEVBQUEsU0FBQSxRQUFBLFNBQ0EsSUFBQSxFQUFBLFVBQUEsRUFBQSxDQUVBLEdBQUEsR0FBQSxFQUFBLFVBQ0EsR0FBQSxXQUFBLFdBQ0EsR0FBQSxHQUFBLEVBQUEsVUFBQSxJQUdBLE9BRkEsR0FBQSxrQkFBQSxFQUFBLFVBQUEsR0FFQSxFQUNBLEVBQUEsTUFBQSxLQUFBLFdBREEsUUFLQSxFQUFBLFFBQUEsWUFBQSxTQUFBLEdBR0EsTUFBQSxZQUNBLEdBQUEsR0FBQSxVQUFBLE9BQUEsRUFBQSxVQUFBLEdBQUEsTUFRQSxPQUxBLElBRUEsRUFBQSxrQkFBQSxFQUFBLFVBQUEsRUFBQSxJQUdBLEVBQUEsTUFBQSxLQUFBLGFBRUEsR0FHQSxHQUFBLEVBQUEsU0FBQSxXQUFBLElBQUEsUUFBQSxJQUFBLENBRUEsR0FBQSxHQUFBLFNBQUEsRUFBQSxHQUNBLEVBQUEsbUJBQ0EsUUFBQSxFQUNBLE1BQUEsRUFBQSxNQUNBLFNBQUEsWUFJQSxJQUFBLFFBQUEsT0FBQSxPQUFBLFFBQUEsT0FBQSxTQUFBLEVBQUEsR0FDQSxFQUFBLFFBQUEsRUFBQSxPQU1BLGlCQUFBLFdBR0EsSUFEQSxHQUFBLEdBQ0EsS0FBQSxpQkFBQSxRQUFBLENBQ0EsRUFBQSxLQUFBLGlCQUFBLE9BRUEsSUFBQSxHQUFBLEVBQUEsR0FDQSxFQUFBLEVBQUEsR0FDQSxFQUFBLEVBQUEsRUFFQSxHQUFBLEdBQUEsSUFJQSxjQUFBLFdBQ0EsR0FBQSxHQUFBLElBR0EsR0FBQSxLQUFBLFNBQUEsU0FBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsR0FDQSxFQUFBLEVBQUEsRUFDQSxHQUFBLE1BQUEsR0FBQSxHQUFBLE9BQUEsT0FJQSxVQUFBLFNBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxLQUFBLEdBQ0EsS0FDQSxFQUFBLENBRUEsS0FDQSxLQUFBLEtBQUEsRUFBQSxFQUFBLElBQUEsRUFBQSxJQUFBLEdBQ0EsTUFBQSxHQUNBLEtBQUEsSUFBQSxHQUFBLGdCQUFBLEdBR0EsR0FBQSxFQUFBLE9BQUEsS0FBQSxlQUFBLGVBQ0EsS0FBQSxJQUFBLEdBQUEsaUZBR0EsT0FBQSxJQUdBLGlCQUFBLFNBQUEsR0FFQSxHQUFBLEdBQUEsS0FBQSxFQUFBLE1BQ0EsRUFBQSxLQUFBLElBQUEsRUFBQSxLQUFBLEdBS0EsT0FIQSxHQUFBLFdBQ0EsRUFBQSxFQUFBLFNBQUEsSUFBQSxHQUVBLEdBR0Esd0JBQUEsV0FFQSxLQUFBLGdCQUNBLEtBQUEsaUJBQUEsTUFBQSxLQUFBLFlBSUEsaUJBQUEsU0FBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEtBQUEsZUFBQSxFQUFBLEVBRUEsTUFBQSxjQUFBLFVBQ0EsVUFBQSxFQUNBLFFBQUEsSUFHQSxLQUFBLGtCQUNBLEVBQUEsS0FDQSxFQUFBLFFBQ0EsRUFBQSxJQUNBLEVBQUEsT0FDQSxFQUNBLElBSUEsZUFBQSxTQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsS0FDQSxJQUNBLElBQUEsRUFBQSxPQUFBLEVBQUEsTUFBQSxTQUNBLEVBQUEsRUFBQSxNQUFBLFNBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLGdCQUFBLEVBQ0EsSUFDQSxFQUFBLEtBQUEsS0FLQSxHQUFBLEVBQUEsZ0JBQ0EsSUFBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsZ0JBQUEsRUFBQSxFQUFBLE9BQUEsSUFDQSxFQUFBLEdBQUEsUUFBQSxDQUtBLE9BREEsR0FBQSxFQUFBLE1BQUEsRUFBQSxLQUFBLGVBQUEsa0JBS0EsZ0JBQUEsU0FBQSxHQUNBLEdBQUEsRUFBQSxJQUFBLENBR0EsR0FBQSxJQUNBLFNBQUEsRUFBQSxJQUNBLE9BQUEsRUFBQSxLQUNBLE1BQUEsRUFBQSxPQUNBLFdBQUEsRUFBQSxNQUFBLElBWUEsT0FUQSxHQUFBLFNBRUEsS0FBQSxlQUFBLGFBQUEsT0FBQSxLQUFBLGVBQUEsYUFBQSxLQUFBLEVBQUEsV0FFQSxxQkFBQSxLQUFBLEVBQUEsY0FFQSxxQkFBQSxLQUFBLEVBQUEsV0FHQSxJQUdBLGtCQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxFQUNBLE1BQUEsS0FBQSxlQUFBLGFBQUEsTUFBQSxLQUFBLGVBQUEsYUFBQSxLQUFBLEtBRUEsR0FBQSxHQUVBLEdBQUEsRUFBQSxRQUNBLEVBQUEsRUFBQSxHQUFBLFVBQUEsRUFHQSxFQUFBLFVBQ0EsR0FBQSxPQUFBLElBQ0EsSUFDQSxHQUNBLFNBQ0EsU0FBQSxFQUNBLE9BQUEsRUFDQSxRQUFBLE1BS0EsS0FBQSxlQUFBLFdBQUEsTUFBQSxLQUFBLGVBQUEsV0FBQSxLQUFBLElBQ0EsS0FBQSxlQUFBLGNBQUEsT0FBQSxLQUFBLGVBQUEsY0FBQSxLQUFBLEtBQUEsQ0FFQSxHQUFBLEdBQUEsR0FFQSxXQUNBLFNBQ0EsS0FBQSxFQUNBLE1BQUEsRUFDQSxXQUFBLEtBR0EsUUFBQSxHQUNBLEVBR0EsTUFBQSxNQUFBLEtBR0EsWUFBQSxTQUFBLEdBR0EsR0FBQSxHQUFBLEtBQUEsZUFBQSxnQkFJQSxJQUhBLEVBQUEsVUFDQSxFQUFBLFFBQUEsRUFBQSxFQUFBLFFBQUEsSUFFQSxFQUFBLFVBQUEsQ0FDQSxHQUFBLEdBQUEsRUFBQSxVQUFBLE9BQUEsRUFDQSxHQUFBLE1BQUEsRUFBQSxFQUFBLE1BQUEsR0FHQSxHQUFBLEdBQUEsRUFBQSxPQWFBLE9BWkEsS0FDQSxFQUFBLE1BQ0EsRUFBQSxJQUFBLEVBQUEsRUFBQSxJQUFBLEtBQUEsZUFBQSxlQUVBLEVBQUEsVUFDQSxFQUFBLFFBQUEsRUFBQSxFQUFBLFFBQUEsS0FBQSxlQUFBLGdCQUlBLEVBQUEsYUFBQSxFQUFBLFlBQUEsUUFDQSxLQUFBLGlCQUFBLEVBQUEsYUFFQSxHQU1BLGlCQUFBLFNBQUEsR0FRQSxJQUFBLEdBSkEsR0FDQSxFQUNBLEVBSEEsR0FBQSxLQUFBLE9BQUEsT0FLQSxFQUFBLEVBQUEsRUFBQSxFQUFBLE9BQUEsU0FBQSxFQUVBLEdBREEsRUFBQSxFQUFBLE9BQUEsR0FDQSxFQUFBLGVBQUEsU0FBQSxFQUFBLEVBQUEsUUFBQSxFQUFBLEVBQUEsTUFBQSxDQUdBLEVBQUEsS0FBQSxFQUFBLEtBQ0EsS0FBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsU0FBQSxFQUNBLEVBQUEsRUFBQSxHQUNBLEVBQUEsZUFBQSxLQUNBLEVBQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxLQUFBLGVBQUEsY0FHQSxHQUFBLE9BQUEsR0FBQSxLQUFBLElBSUEsYUFBQSxXQUNBLEdBQUEsS0FBQSxlQUFBLEtBQUEsYUFBQSxDQUNBLEdBQUEsS0FrQkEsT0FoQkEsTUFBQSxlQUFBLEVBQUEsWUFDQSxFQUFBLFNBQ0EsYUFBQSxVQUFBLFlBSUEsS0FBQSxlQUNBLEVBQUEsVUFBQSxFQUFBLFNBQUEsT0FDQSxFQUFBLElBQUEsRUFBQSxTQUFBLE1BRUEsRUFBQSxXQUNBLEVBQUEsVUFBQSxFQUFBLFlBQ0EsRUFBQSxRQUFBLFFBQUEsRUFBQSxXQUlBLElBR0EsY0FBQSxXQUNBLEtBQUEsaUJBQUEsRUFDQSxLQUFBLGNBQUEsTUFHQSxlQUFBLFdBQ0EsTUFBQSxNQUFBLGtCQUFBLElBQUEsS0FBQSxjQUFBLEtBQUEsa0JBWUEsY0FBQSxTQUFBLEdBQ0EsR0FBQSxHQUFBLEtBQUEsU0FFQSxPQUFBLElBQ0EsRUFBQSxVQUFBLEVBQUEsU0FDQSxFQUFBLFVBQUEsRUFBQSxRQUlBLEVBQUEsWUFBQSxFQUFBLFdBQ0EsRUFBQSxFQUFBLFdBQUEsRUFBQSxZQUdBLEVBQUEsV0FBQSxFQUFBLFVBQ0EsRUFBQSxFQUFBLFVBQUEsRUFBQSxZQUdBLEdBWEEsR0FjQSxpQkFBQSxTQUFBLEdBRUEsSUFBQSxLQUFBLGlCQUFBLENBSUEsR0FBQSxHQUFBLEVBQUEsTUFLQSxJQUFBLE1BQUEsR0FBQSxNQUFBLEdBQUEsTUFBQSxFQUFBLENBR0EsR0FBQSxFQUNBLEtBR0EsRUFBQSxFQUFBLGtCQUFBLGVBQ0EsRUFBQSxJQUFBLFNBQUEsRUFBQSxJQUNBLE1BQUEsSUFLQSxLQUFBLGlCQUFBLEVBRUEsRUFFQSxFQUFBLEtBQUEsa0JBQUEsSUFFQSxLQUFBLGNBQUEsT0FHQSxNQUFBLFNBQUEsR0FDQSxHQUFBLEdBQUEsS0FBQSxlQUVBLEdBQ0EsUUFBQSxLQUFBLGVBQ0EsT0FBQSxFQUFBLE9BQ0EsU0FBQSxjQUNBLEVBQUEsS0FBQSxjQWdEQSxPQTlDQSxLQUNBLEVBQUEsUUFBQSxHQUlBLEVBQUEsc0JBQUEsR0FBQSxlQUVBLEVBQUEsRUFBQSxFQUFBLEdBR0EsRUFBQSxLQUFBLEVBQUEsS0FBQSxLQUFBLGVBQUEsTUFBQSxFQUFBLE1BQ0EsRUFBQSxNQUFBLEVBQUEsS0FBQSxLQUFBLGVBQUEsT0FBQSxFQUFBLE9BR0EsRUFBQSxNQUFBLG9CQUFBLElBQUEsS0FBQSxXQUVBLEtBQUEsY0FBQSxLQUFBLGFBQUEsT0FBQSxJQUdBLEVBQUEsYUFDQSxVQUFBLE1BQUEsS0FBQSxLQUFBLGFBQUEsS0FLQSxFQUFBLEVBQUEsYUFBQSxHQUFBLEtBRUEsS0FBQSxlQUFBLE9BRUEsRUFBQSxLQUFBLEtBQUEsZUFBQSxNQUlBLEVBQUEsY0FBQSxFQUFBLFlBQUEsRUFBQSxhQUdBLEVBQUEsVUFBQSxFQUFBLFFBQUEsRUFBQSxTQUdBLEVBQUEsYUFBQSxFQUFBLFlBQUEsRUFBQSxZQUVBLEVBQUEsRUFBQSxnQkFDQSxFQUFBLEVBQUEsYUFBQSxJQUFBLElBSUEsR0FBQSxFQUFBLElBS0EsRUFBQSxFQUFBLHNCQUFBLEVBQUEsbUJBQUEsR0FMQSxPQVdBLEtBQUEscUJBQ0EsTUFBQSxVQUFBLE9BQUEsdUNBQUEsUUFJQSxnQkFBQSxHQUFBLFdBQ0EsS0FBQSxTQUFBLEVBQUEsWUFDQSxLQUFBLHNCQUFBLEdBR0EsS0FBQSxzQkFBQSxLQUlBLFNBQUEsV0FDQSxNQUFBLE1BR0Esc0JBQUEsU0FBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEtBQ0EsRUFBQSxLQUFBLGNBRUEsSUFBQSxLQUFBLFVBQUEsQ0FhQSxHQVJBLEtBQUEsYUFBQSxFQUFBLFdBQUEsRUFBQSxTQUFBLEtBQUEsWUFHQSxFQUFBLEtBQUEsWUFBQSxJQUtBLEtBQUEsZUFBQSxpQkFBQSxLQUFBLGNBQUEsR0FFQSxXQURBLE1BQUEsVUFBQSxPQUFBLCtCQUFBLEVBS0EsTUFBQSxVQUFBLEVBRUEsS0FBQSxVQUFBLFFBQUEsdUJBQUEsRUFFQSxJQUFBLElBQ0EsZUFBQSxJQUNBLGNBQUEsWUFBQSxLQUFBLFFBQ0EsV0FBQSxLQUFBLFdBRUEsTUFBQSxnQkFDQSxFQUFBLGNBQUEsS0FBQSxjQUdBLElBQUEsR0FBQSxFQUFBLFdBQUEsRUFBQSxVQUFBLE9BQUEsRUFDQSxNQUFBLG1CQUNBLFNBQUEsU0FDQSxRQUFBLEdBQ0EsRUFBQSxLQUFBLEVBQUEsS0FBQSxLQUFBLElBQUEsRUFBQSxNQUNBLEVBQUEsUUFDQSxTQUFBLEVBQUEsU0FDQSxNQUFBLEVBQUEsT0FBQSxTQUdBLElBQUEsR0FBQSxLQUFBLGlCQUNBLEVBQUEsV0FBQSxLQUFBLGNBQUEsS0FBQSxNQUNBLElBQUEsRUFDQSxLQUFBLEVBQ0EsS0FBQSxFQUNBLFFBQUEsRUFDQSxVQUFBLFdBQ0EsRUFBQSxnQkFFQSxFQUFBLGNBQUEsV0FDQSxLQUFBLEVBQ0EsSUFBQSxJQUVBLEdBQUEsS0FFQSxRQUFBLFNBQUEsR0FDQSxFQUFBLFVBQUEsUUFBQSxtQ0FBQSxHQUVBLEVBQUEsU0FDQSxFQUFBLGlCQUFBLEVBQUEsU0FHQSxFQUFBLGNBQUEsV0FDQSxLQUFBLEVBQ0EsSUFBQSxJQUVBLEVBQUEsR0FBQSxHQUFBLE9BQUEsc0RBQ0EsR0FBQSxFQUFBLFFBS0EsYUFBQSxTQUFBLEdBQ0EsR0FBQSxHQUFBLEdBQUEsZ0JBR0EsRUFDQSxtQkFBQSxJQUNBLG1CQUFBLGVBRUEsSUFBQSxFQUFBLENBRUEsR0FBQSxHQUFBLEVBQUEsR0FFQSxvQkFBQSxHQUNBLEVBQUEsbUJBQUEsV0FDQSxHQUFBLElBQUEsRUFBQSxXQUVBLEdBQUEsTUFBQSxFQUFBLE9BQ0EsRUFBQSxXQUFBLEVBQUEsZ0JBQ0EsSUFBQSxFQUFBLFFBQUEsQ0FDQSxHQUFBLEdBQUEsR0FBQSxPQUFBLHNCQUFBLEVBQUEsT0FDQSxHQUFBLFFBQUEsRUFDQSxFQUFBLFFBQUEsTUFJQSxFQUFBLEdBQUEsZ0JBR0EsRUFBQSxFQUFBLFFBQUEsV0FBQSxJQUdBLEVBQUEsWUFDQSxFQUFBLE9BQUEsRUFBQSxXQUVBLEVBQUEsVUFDQSxFQUFBLFFBQUEsV0FDQSxHQUFBLEdBQUEsR0FBQSxPQUFBLG9DQUNBLEdBQUEsUUFBQSxFQUNBLEVBQUEsUUFBQSxNQU9BLEVBQUEsS0FBQSxPQUFBLEVBQUEsSUFBQSxFQUFBLEVBQUEsT0FDQSxFQUFBLEtBQUEsRUFBQSxFQUFBLFNBR0EsVUFBQSxTQUFBLEdBQ0EsS0FBQSx3QkFBQSxJQUFBLEtBQUEsT0FFQSxTQUFBLFVBQUEsTUFBQSxLQUNBLEtBQUEsd0JBQUEsR0FDQSxLQUFBLG9CQUNBLE1BQUEsS0FBQSxVQUFBLEtBS0EsY0FBQSxTQUFBLEVBQUEsR0FDQSxFQUFBLFNBQ0EsTUFBQSxlQUFBLEdBRUEsS0FBQSxlQUFBLEdBQUEsRUFBQSxLQUFBLGVBQUEsT0FBQSxJQVdBLElBQUEsR0FBQSxPQUFBLFNBaVRBLG9CQUFBLFVBQUEsVUFDQSxFQUFBLE9BQ0EsWUFBQSxFQUNBLFdBQUEsRUFDQSxTQUFBLEVBQ0EsU0FBQSxFQUNBLGNBQUEsRUFDQSxRQUFBLEVBQ0EsS0FBQSxFQUNBLFlBQUEsRUFDQSxTQUFBLEVBQ0EsT0FBQSxFQUNBLFdBQUEsRUFDQSxVQUFBLEVBQ0EsTUFBQSxFQUNBLGlCQUFBLEVBQ0Esb0JBQUEsRUFDQSxTQUFBLEVBQ0EsS0FBQSxJQUtBLEVBQUEsVUFBQSxRQUFBLEVBQUEsVUFBQSxlQUNBLEVBQUEsVUFBQSxrQkFBQSxFQUFBLFVBQUEsV0FFQSxFQUFBLFFBQUEsSUFFQSxLQUFBLEtBQUEsbUJBQUEsUUFBQSxPQUFBLG1CQUFBLE1BQUEsS0FBQSxtQkFBQSxRQUFBLGFBQ0EsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsSUFBQSxHQUFBLFNBQUEsRUFBQSxJQUNBLFNBQUEsR0FPQSxZQUVBLElBQUEsR0FBQSxFQUFBLEdBR0EsRUFBQSxtQkFBQSxRQUFBLE9BQ0EsbUJBQUEsR0FBQSxFQUNBLG1CQUFBLE1BQUEsUUFFQSxFQUFBLEVBQUEsTUFFQSxFQUFBLEdBQUEsRUFRQSxHQUFBLFdBQUEsV0FFQSxNQURBLEdBQUEsTUFBQSxFQUNBLEdBR0EsRUFBQSxZQUVBLEVBQUEsUUFBQSxJQUVBLEtBQUEsS0FBQSxtQkFBQSxRQUFBLE9BQUEsbUJBQUEsTUFBQSxLQUFBLG1CQUFBLFFBQUEsYUFDQSxFQUFBLElBQUEsR0FBQSxTQUFBLEVBQUEsR0FDQSxZQUVBLFNBQUEsR0FBQSxHQUNBLE1BQUEsZ0JBQUEsSUFBQSxPQUFBLEVBS0EsUUFBQSxHQUFBLEdBQ0EsVUFBQSxTQUFBLEtBQUEsSUFDQSxJQUFBLGlCQUFBLE9BQUEsQ0FDQSxLQUFBLHFCQUFBLE9BQUEsQ0FDQSxLQUFBLHdCQUFBLE9BQUEsQ0FDQSxTQUFBLE1BQUEsYUFBQSxRQUlBLFFBQUEsR0FBQSxHQUNBLFFBQUEsR0FBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsSUFBQSxDQUNBLE9BQUEsR0FDQSxFQUFBLElBQUEsRUFFQSxFQUdBLE1BQUEsR0FHQSxFQUFBLFNBQ0EsU0FBQSxFQUNBLFFBQUEsRUFDQSxnQkFBQSxRQUdBLEdBQUEsU0FBQSxFQUFBLElBQ0EsU0FBQSxHQUNBLFlBZ0NBLFNBQUEsS0FDQSxNQUFBLG1CQUFBLFdBQUEsbUJBQUEsVUFBQSxTQUNBLEdBRUEsU0FBQSxTQUFBLEtBbENBLEdBQUEsR0FBQSxFQUFBLEdBWUEsR0FDQSxxQkFBQSxFQUNBLE9BQUEsR0FJQSxFQUFBLG1CQUFBLFFBQUEsT0FDQSxtQkFBQSxHQUFBLEVBQ0EsbUJBQUEsTUFBQSxRQUlBLEtBQUEsTUFDQSxFQUFBLElBR0EsRUFBQSx5R0FpREEsR0FBQSxPQUFBLFdBVUEsUUFBQSxHQUFBLEdBQ0EsSUFDQSxFQUFBLEtBQUEsR0FPQSxRQUFBLEdBQUEsR0FDQSxJQUFBLEdBQUEsR0FBQSxFQUFBLE9BQUEsRUFBQSxHQUFBLElBQUEsRUFDQSxFQUFBLEtBQUEsR0FDQSxFQUFBLE9BQUEsRUFBQSxHQVFBLFFBQUEsS0FDQSxJQUNBLEtBT0EsUUFBQSxHQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsSUFDQSxLQUFBLEdBQUEsRUFBQSxvQkFBQSxDQUdBLElBQUEsR0FBQSxLQUFBLEdBQ0EsR0FBQSxFQUFBLGVBQUEsR0FDQSxJQUNBLEVBQUEsR0FBQSxNQUFBLE1BQUEsR0FBQSxPQUFBLEVBQUEsS0FBQSxVQUFBLEtBQ0EsTUFBQSxHQUNBLEVBQUEsRUFLQSxHQUFBLEVBQ0EsS0FBQSxJQWlCQSxRQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxJQUVBLElBQUEsRUFDQSxFQUFBLGtCQUFBLG9DQUFBLEVBQUEsRUFBQSxFQUFBLEdBQ0EsUUFDQSxJQUFBLEdBQUEsRUFBQSxRQUFBLEdBTUEsRUFBQSxFQUFBLGtCQUFBLEdBQ0EsRUFBQSxHQUFBLE9BQ0EsQ0FDQSxHQVFBLEdBUkEsR0FDQSxJQUFBLEVBQ0EsS0FBQSxFQUNBLE9BQUEsR0FHQSxFQUFBLE9BQ0EsRUFBQSxDQUVBLElBQUEsdUJBQUEsU0FBQSxLQUFBLEdBQUEsQ0FDQSxHQUFBLEdBQUEsRUFBQSxNQUFBLEVBQ0EsS0FDQSxFQUFBLEVBQUEsR0FDQSxFQUFBLEVBQUEsSUFJQSxFQUFBLEtBQUEsRUFFQSxHQUNBLEtBQUEsRUFDQSxRQUFBLEVBQ0EsSUFBQSxJQUNBLE9BQUEsSUFFQSxFQUFBLEdBQUEsR0FHQSxNQUFBLEdBQ0EsRUFBQSxNQUFBLEtBQUEsWUFHQSxFQUdBLFFBQUEsS0FFQSxJQUdBLEVBQUEsRUFBQSxRQUNBLEVBQUEsUUFBQSxFQUNBLEdBQUEsR0FHQSxRQUFBLEtBRUEsSUFHQSxFQUFBLFFBQUEsRUFDQSxHQUFBLEVBQ0EsRUFBQSxRQUdBLFFBQUEsS0FDQSxHQUFBLEdBQUEsRUFDQSxFQUFBLENBQ0EsR0FBQSxLQUNBLEVBQUEsS0FDQSxFQUFBLEtBQ0EsRUFBQSxNQUFBLE1BQUEsR0FBQSxHQUFBLE9BQUEsSUFVQSxRQUFBLEdBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLEtBQUEsVUFBQSxFQUNBLElBQUEsRUFBQSxDQUNBLEdBQUEsSUFBQSxFQUNBLE1BRUEsS0FJQSxHQUFBLEdBQUEsRUFBQSxrQkFBQSxFQWVBLElBZEEsRUFBQSxFQUNBLEVBQUEsRUFDQSxFQUFBLEVBTUEsV0FBQSxXQUNBLElBQUEsR0FDQSxLQUVBLEVBQUEsV0FBQSxJQUFBLEdBRUEsS0FBQSxFQUNBLEtBQUEsR0F2TEEsR0EwREEsR0FBQSxFQTFEQSxLQUNBLEVBQUEsS0FDQSxFQUFBLEtBQ0EsRUFBQSxJQTJMQSxPQUhBLEdBQUEsVUFBQSxFQUNBLEVBQUEsWUFBQSxFQUNBLEVBQUEsVUFBQSxFQUNBLEtBc0RBLEVBQUEsa0JBQUEsV0E0Q0EsUUFBQSxHQUFBLEdBQ0EsR0FBQSxtQkFBQSxHQUFBLE9BQUEsRUFBQSxNQUFBLENBaUJBLElBQUEsR0FMQSxHQUNBLEVBQ0EsRUFaQSxFQUFBLDhIQUNBLEVBQUEsa0lBQ0EsRUFBQSxnSEFHQSxFQUFBLGdEQUNBLEVBQUEsZ0NBRUEsRUFBQSxFQUFBLE1BQUEsTUFBQSxNQUNBLEtBTUEsR0FGQSxzQkFBQSxLQUFBLEVBQUEsU0FFQSxHQUFBLEVBQUEsRUFBQSxPQUFBLEVBQUEsSUFBQSxFQUFBLENBQ0EsR0FBQSxFQUFBLEVBQUEsS0FBQSxFQUFBLElBQUEsQ0FDQSxHQUFBLEdBQUEsRUFBQSxJQUFBLElBQUEsRUFBQSxHQUFBLFFBQUEsVUFDQSxFQUFBLEVBQUEsSUFBQSxJQUFBLEVBQUEsR0FBQSxRQUFBLE9BQ0EsS0FBQSxFQUFBLEVBQUEsS0FBQSxFQUFBLE9BRUEsRUFBQSxHQUFBLEVBQUEsR0FDQSxFQUFBLEdBQUEsRUFBQSxHQUNBLEVBQUEsR0FBQSxFQUFBLElBRUEsR0FDQSxJQUFBLEVBQUEsS0FBQSxFQUFBLEdBQ0EsS0FBQSxFQUFBLElBQUEsRUFDQSxLQUFBLEdBQUEsRUFBQSxPQUNBLEtBQUEsRUFBQSxJQUFBLEVBQUEsR0FBQSxLQUNBLE9BQUEsRUFBQSxJQUFBLEVBQUEsR0FBQSxVQUVBLElBQUEsRUFBQSxFQUFBLEtBQUEsRUFBQSxJQUNBLEdBQ0EsSUFBQSxFQUFBLEdBQ0EsS0FBQSxFQUFBLElBQUEsRUFDQSxRQUNBLE1BQUEsRUFBQSxHQUNBLE9BQUEsRUFBQSxJQUFBLEVBQUEsR0FBQSxVQUVBLENBQUEsS0FBQSxFQUFBLEVBQUEsS0FBQSxFQUFBLEtBc0JBLFFBckJBLElBQUEsR0FBQSxFQUFBLElBQUEsRUFBQSxHQUFBLFFBQUEsV0FBQSxFQUNBLEtBQUEsRUFBQSxFQUFBLEtBQUEsRUFBQSxNQUVBLEVBQUEsR0FBQSxFQUFBLEdBQ0EsRUFBQSxHQUFBLEVBQUEsR0FDQSxFQUFBLEdBQUEsTUFDQSxJQUFBLEdBQUEsRUFBQSxJQUFBLG1CQUFBLEdBQUEsZUFLQSxFQUFBLEdBQUEsT0FBQSxFQUFBLGFBQUEsR0FFQSxHQUNBLElBQUEsRUFBQSxHQUNBLEtBQUEsRUFBQSxJQUFBLEVBQ0EsS0FBQSxFQUFBLEdBQUEsRUFBQSxHQUFBLE1BQUEsUUFDQSxLQUFBLEVBQUEsSUFBQSxFQUFBLEdBQUEsS0FDQSxPQUFBLEVBQUEsSUFBQSxFQUFBLEdBQUEsT0FNQSxFQUFBLE1BQUEsRUFBQSxPQUNBLEVBQUEsS0FBQSxHQUdBLEVBQUEsS0FBQSxHQUdBLE1BQUEsR0FBQSxRQUtBLEtBQUEsRUFBQSxLQUNBLFFBQUEsRUFBQSxRQUNBLElBQUEsSUFDQSxNQUFBLEdBUEEsTUF3QkEsUUFBQSxHQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsSUFDQSxJQUFBLEVBQ0EsS0FBQSxFQUdBLElBQUEsRUFBQSxLQUFBLEVBQUEsS0FBQSxDQU9BLEdBTkEsRUFBQSxZQUFBLEVBRUEsRUFBQSxPQUNBLEVBQUEsS0FBQSxHQUdBLEVBQUEsTUFBQSxPQUFBLEdBQ0EsRUFBQSxNQUFBLEdBQUEsTUFBQSxFQUFBLElBQUEsQ0FDQSxHQUFBLEVBQUEsTUFBQSxHQUFBLE9BQUEsRUFBQSxLQUNBLE9BQUEsQ0FDQSxLQUFBLEVBQUEsTUFBQSxHQUFBLE1BQUEsRUFBQSxNQUFBLEdBQUEsT0FBQSxFQUFBLEtBRUEsTUFEQSxHQUFBLE1BQUEsR0FBQSxLQUFBLEVBQUEsTUFDQSxFQU9BLE1BRkEsR0FBQSxNQUFBLFFBQUEsR0FDQSxFQUFBLFNBQUEsR0FDQSxFQUtBLE1BSEEsR0FBQSxZQUFBLEdBR0EsRUFZQSxRQUFBLEdBQUEsRUFBQSxHQVNBLElBQUEsR0FKQSxHQUNBLEVBTEEsRUFBQSxxRUFDQSxLQUNBLEtBQ0EsR0FBQSxFQUtBLEVBQUEsRUFBQSxPQUFBLElBQUEsRUFBQSxFQUFBLEVBQUEsT0FDQSxHQUFBLElBQUEsR0FBQSxJQUFBLEVBQUEsT0FBQSxDQWtCQSxHQWJBLEdBQ0EsSUFBQSxLQUNBLEtBQUEsRUFDQSxLQUFBLEtBQ0EsT0FBQSxNQUdBLEVBQUEsS0FDQSxFQUFBLEtBQUEsRUFBQSxNQUNBLEVBQUEsRUFBQSxLQUFBLEVBQUEsZUFDQSxFQUFBLEtBQUEsRUFBQSxJQUdBLG1CQUFBLEdBQUEsS0FDQSxJQUNBLEVBQUEsS0FBQSxFQUFBLE1BQUEsVUFBQSxFQUFBLEVBQUEsTUFBQSxRQUFBLE1BQ0EsTUFBQSxJQUdBLEVBQUEsR0FBQSxHQUNBLEdBQUEsRUFFQSxFQUFBLEdBQUEsSUFBQSxFQUdBLEVBQUEsS0FBQSxHQUdBLEdBR0EsRUFBQSxPQUFBLEVBQUEsRUFHQSxJQUFBLElBQ0EsS0FBQSxFQUFBLEtBQ0EsUUFBQSxFQUFBLFFBQ0EsSUFBQSxJQUNBLE1BQUEsRUFHQSxPQURBLEdBQUEsRUFBQSxFQUFBLFdBQUEsRUFBQSxTQUFBLEVBQUEsTUFBQSxFQUFBLFdBQUEsRUFBQSxTQUFBLEVBQUEsYUFDQSxFQVFBLFFBQUEsR0FBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLElBQ0EsR0FBQSxNQUFBLEVBQUEsR0FBQSxDQUVBLEtBRUEsR0FEQSxFQUFBLEVBQUEsR0FFQSxNQUFBLEdBRUEsTUFBQSxHQUNBLEdBQUEsRUFBQSxNQUNBLEtBQUEsR0FJQSxJQUVBLEdBREEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUVBLE1BQUEsR0FFQSxNQUFBLEdBQ0EsR0FBQSxFQUFBLE1BQ0EsS0FBQSxHQUdBLE9BQ0EsS0FBQSxFQUFBLEtBQ0EsUUFBQSxFQUFBLFFBQ0EsSUFBQSxLQU9BLE1BSEEsR0FBQSxvQ0FBQSxFQUNBLEVBQUEsK0JBQUEsRUFFQSxLQUdBLEVBQUEsUUFBQSxJQUVBLEtBQUEsS0FBQSxtQkFBQSxRQUFBLE9BQUEsbUJBQUEsTUFBQSxLQUFBLG1CQUFBLFFBQUEsYUFDQSxFQUFBLElBQUEsR0FBQSxTQUFBLEVBQUEsRUFBQSxHQUNBLFlBZ0JBLFNBQUEsR0FBQSxFQUFBLEdBQ0EsSUFBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsU0FBQSxFQUNBLEdBQUEsRUFBQSxLQUFBLEVBQUEsTUFBQSxFQUVBLE9BQUEsR0FHQSxRQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxNQUFBLE1BQUEsVUFBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEdBR0EsUUFBQSxHQUFBLEVBQUEsR0FDQSxHQUFBLE1BQUEsSUFPQSxPQUxBLE9BQUEsSUFBQSxFQUFBLFNBQUEsRUFBQSxHQUNBLE1BQUEsR0FBQSxLQUFBLEVBQUEsZUFDQSxlQUFBLEVBQUEsTUFBQSxFQUFBLEVBQUEsRUFBQSxJQUFBLEtBQUEsS0FBQSxNQUdBLFNBQUEsRUFBQSxHQUNBLEdBQUEsRUFBQSxPQUFBLEVBQUEsQ0FDQSxHQUFBLEdBQUEsRUFBQSxFQUFBLE9BQ0EsRUFBQSxFQUFBLE9BQUEsRUFBQSxHQUFBLEVBQUEsS0FBQSxPQUNBLEVBQUEsRUFBQSxPQUFBLEVBQUEsSUFBQSxHQUFBLEVBQUEsS0FBQSxJQUNBLEVBQUEsRUFBQSxLQUFBLEVBQUEsRUFBQSxLQUFBLEtBQUEsRUFBQSxRQUVBLEdBQUEsS0FBQSxFQUVBLE9BQUEsT0FBQSxFQUFBLEVBQUEsRUFBQSxLQUFBLEtBQUEsRUFBQSxJQS9CQSxFQUFBLEVBQUEsUUFBQSxFQUNBLEVBQUEsYUFBQSxZQWtDQSxJQUFBIiwiZmlsZSI6ImxpYnMtYjg5ZjA0YTMxMi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIE1vZGVybml6ciAyLjguMyAoQ3VzdG9tIEJ1aWxkKSB8IE1JVCAmIEJTRFxuICogQnVpbGQ6IGh0dHA6Ly9tb2Rlcm5penIuY29tL2Rvd25sb2FkLyMtaW5wdXQtaW5wdXR0eXBlcy10b3VjaC1zaGl2LXRlc3RzdHlsZXMtcHJlZml4ZXMtZm9ybXNfcGxhY2Vob2xkZXItbG9hZFxuICovXG47d2luZG93Lk1vZGVybml6cj1mdW5jdGlvbihhLGIsYyl7ZnVuY3Rpb24gdyhhKXtpLmNzc1RleHQ9YX1mdW5jdGlvbiB4KGEsYil7cmV0dXJuIHcobS5qb2luKGErXCI7XCIpKyhifHxcIlwiKSl9ZnVuY3Rpb24geShhLGIpe3JldHVybiB0eXBlb2YgYT09PWJ9ZnVuY3Rpb24geihhLGIpe3JldHVybiEhfihcIlwiK2EpLmluZGV4T2YoYil9ZnVuY3Rpb24gQShhLGIsZCl7Zm9yKHZhciBlIGluIGEpe3ZhciBmPWJbYVtlXV07aWYoZiE9PWMpcmV0dXJuIGQ9PT0hMT9hW2VdOnkoZixcImZ1bmN0aW9uXCIpP2YuYmluZChkfHxiKTpmfXJldHVybiExfWZ1bmN0aW9uIEIoKXtlLmlucHV0PWZ1bmN0aW9uKGMpe2Zvcih2YXIgZD0wLGU9Yy5sZW5ndGg7ZDxlO2QrKylwW2NbZF1dPWNbZF1pbiBqO3JldHVybiBwLmxpc3QmJihwLmxpc3Q9ISFiLmNyZWF0ZUVsZW1lbnQoXCJkYXRhbGlzdFwiKSYmISFhLkhUTUxEYXRhTGlzdEVsZW1lbnQpLHB9KFwiYXV0b2NvbXBsZXRlIGF1dG9mb2N1cyBsaXN0IHBsYWNlaG9sZGVyIG1heCBtaW4gbXVsdGlwbGUgcGF0dGVybiByZXF1aXJlZCBzdGVwXCIuc3BsaXQoXCIgXCIpKSxlLmlucHV0dHlwZXM9ZnVuY3Rpb24oYSl7Zm9yKHZhciBkPTAsZSxnLGgsaT1hLmxlbmd0aDtkPGk7ZCsrKWouc2V0QXR0cmlidXRlKFwidHlwZVwiLGc9YVtkXSksZT1qLnR5cGUhPT1cInRleHRcIixlJiYoai52YWx1ZT1rLGouc3R5bGUuY3NzVGV4dD1cInBvc2l0aW9uOmFic29sdXRlO3Zpc2liaWxpdHk6aGlkZGVuO1wiLC9ecmFuZ2UkLy50ZXN0KGcpJiZqLnN0eWxlLldlYmtpdEFwcGVhcmFuY2UhPT1jPyhmLmFwcGVuZENoaWxkKGopLGg9Yi5kZWZhdWx0VmlldyxlPWguZ2V0Q29tcHV0ZWRTdHlsZSYmaC5nZXRDb21wdXRlZFN0eWxlKGosbnVsbCkuV2Via2l0QXBwZWFyYW5jZSE9PVwidGV4dGZpZWxkXCImJmoub2Zmc2V0SGVpZ2h0IT09MCxmLnJlbW92ZUNoaWxkKGopKTovXihzZWFyY2h8dGVsKSQvLnRlc3QoZyl8fCgvXih1cmx8ZW1haWwpJC8udGVzdChnKT9lPWouY2hlY2tWYWxpZGl0eSYmai5jaGVja1ZhbGlkaXR5KCk9PT0hMTplPWoudmFsdWUhPWspKSxvW2FbZF1dPSEhZTtyZXR1cm4gb30oXCJzZWFyY2ggdGVsIHVybCBlbWFpbCBkYXRldGltZSBkYXRlIG1vbnRoIHdlZWsgdGltZSBkYXRldGltZS1sb2NhbCBudW1iZXIgcmFuZ2UgY29sb3JcIi5zcGxpdChcIiBcIikpfXZhciBkPVwiMi44LjNcIixlPXt9LGY9Yi5kb2N1bWVudEVsZW1lbnQsZz1cIm1vZGVybml6clwiLGg9Yi5jcmVhdGVFbGVtZW50KGcpLGk9aC5zdHlsZSxqPWIuY3JlYXRlRWxlbWVudChcImlucHV0XCIpLGs9XCI6KVwiLGw9e30udG9TdHJpbmcsbT1cIiAtd2Via2l0LSAtbW96LSAtby0gLW1zLSBcIi5zcGxpdChcIiBcIiksbj17fSxvPXt9LHA9e30scT1bXSxyPXEuc2xpY2Uscyx0PWZ1bmN0aW9uKGEsYyxkLGUpe3ZhciBoLGksaixrLGw9Yi5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLG09Yi5ib2R5LG49bXx8Yi5jcmVhdGVFbGVtZW50KFwiYm9keVwiKTtpZihwYXJzZUludChkLDEwKSl3aGlsZShkLS0paj1iLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksai5pZD1lP2VbZF06ZysoZCsxKSxsLmFwcGVuZENoaWxkKGopO3JldHVybiBoPVtcIiYjMTczO1wiLCc8c3R5bGUgaWQ9XCJzJyxnLCdcIj4nLGEsXCI8L3N0eWxlPlwiXS5qb2luKFwiXCIpLGwuaWQ9ZywobT9sOm4pLmlubmVySFRNTCs9aCxuLmFwcGVuZENoaWxkKGwpLG18fChuLnN0eWxlLmJhY2tncm91bmQ9XCJcIixuLnN0eWxlLm92ZXJmbG93PVwiaGlkZGVuXCIsaz1mLnN0eWxlLm92ZXJmbG93LGYuc3R5bGUub3ZlcmZsb3c9XCJoaWRkZW5cIixmLmFwcGVuZENoaWxkKG4pKSxpPWMobCxhKSxtP2wucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChsKToobi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG4pLGYuc3R5bGUub3ZlcmZsb3c9ayksISFpfSx1PXt9Lmhhc093blByb3BlcnR5LHY7IXkodSxcInVuZGVmaW5lZFwiKSYmIXkodS5jYWxsLFwidW5kZWZpbmVkXCIpP3Y9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdS5jYWxsKGEsYil9OnY9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYiBpbiBhJiZ5KGEuY29uc3RydWN0b3IucHJvdG90eXBlW2JdLFwidW5kZWZpbmVkXCIpfSxGdW5jdGlvbi5wcm90b3R5cGUuYmluZHx8KEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kPWZ1bmN0aW9uKGIpe3ZhciBjPXRoaXM7aWYodHlwZW9mIGMhPVwiZnVuY3Rpb25cIil0aHJvdyBuZXcgVHlwZUVycm9yO3ZhciBkPXIuY2FsbChhcmd1bWVudHMsMSksZT1mdW5jdGlvbigpe2lmKHRoaXMgaW5zdGFuY2VvZiBlKXt2YXIgYT1mdW5jdGlvbigpe307YS5wcm90b3R5cGU9Yy5wcm90b3R5cGU7dmFyIGY9bmV3IGEsZz1jLmFwcGx5KGYsZC5jb25jYXQoci5jYWxsKGFyZ3VtZW50cykpKTtyZXR1cm4gT2JqZWN0KGcpPT09Zz9nOmZ9cmV0dXJuIGMuYXBwbHkoYixkLmNvbmNhdChyLmNhbGwoYXJndW1lbnRzKSkpfTtyZXR1cm4gZX0pLG4udG91Y2g9ZnVuY3Rpb24oKXt2YXIgYztyZXR1cm5cIm9udG91Y2hzdGFydFwiaW4gYXx8YS5Eb2N1bWVudFRvdWNoJiZiIGluc3RhbmNlb2YgRG9jdW1lbnRUb3VjaD9jPSEwOnQoW1wiQG1lZGlhIChcIixtLmpvaW4oXCJ0b3VjaC1lbmFibGVkKSwoXCIpLGcsXCIpXCIsXCJ7I21vZGVybml6cnt0b3A6OXB4O3Bvc2l0aW9uOmFic29sdXRlfX1cIl0uam9pbihcIlwiKSxmdW5jdGlvbihhKXtjPWEub2Zmc2V0VG9wPT09OX0pLGN9O2Zvcih2YXIgQyBpbiBuKXYobixDKSYmKHM9Qy50b0xvd2VyQ2FzZSgpLGVbc109bltDXSgpLHEucHVzaCgoZVtzXT9cIlwiOlwibm8tXCIpK3MpKTtyZXR1cm4gZS5pbnB1dHx8QigpLGUuYWRkVGVzdD1mdW5jdGlvbihhLGIpe2lmKHR5cGVvZiBhPT1cIm9iamVjdFwiKWZvcih2YXIgZCBpbiBhKXYoYSxkKSYmZS5hZGRUZXN0KGQsYVtkXSk7ZWxzZXthPWEudG9Mb3dlckNhc2UoKTtpZihlW2FdIT09YylyZXR1cm4gZTtiPXR5cGVvZiBiPT1cImZ1bmN0aW9uXCI/YigpOmIsdHlwZW9mIGVuYWJsZUNsYXNzZXMhPVwidW5kZWZpbmVkXCImJmVuYWJsZUNsYXNzZXMmJihmLmNsYXNzTmFtZSs9XCIgXCIrKGI/XCJcIjpcIm5vLVwiKSthKSxlW2FdPWJ9cmV0dXJuIGV9LHcoXCJcIiksaD1qPW51bGwsZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBsKGEsYil7dmFyIGM9YS5jcmVhdGVFbGVtZW50KFwicFwiKSxkPWEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJoZWFkXCIpWzBdfHxhLmRvY3VtZW50RWxlbWVudDtyZXR1cm4gYy5pbm5lckhUTUw9XCJ4PHN0eWxlPlwiK2IrXCI8L3N0eWxlPlwiLGQuaW5zZXJ0QmVmb3JlKGMubGFzdENoaWxkLGQuZmlyc3RDaGlsZCl9ZnVuY3Rpb24gbSgpe3ZhciBhPXMuZWxlbWVudHM7cmV0dXJuIHR5cGVvZiBhPT1cInN0cmluZ1wiP2Euc3BsaXQoXCIgXCIpOmF9ZnVuY3Rpb24gbihhKXt2YXIgYj1qW2FbaF1dO3JldHVybiBifHwoYj17fSxpKyssYVtoXT1pLGpbaV09YiksYn1mdW5jdGlvbiBvKGEsYyxkKXtjfHwoYz1iKTtpZihrKXJldHVybiBjLmNyZWF0ZUVsZW1lbnQoYSk7ZHx8KGQ9bihjKSk7dmFyIGc7cmV0dXJuIGQuY2FjaGVbYV0/Zz1kLmNhY2hlW2FdLmNsb25lTm9kZSgpOmYudGVzdChhKT9nPShkLmNhY2hlW2FdPWQuY3JlYXRlRWxlbShhKSkuY2xvbmVOb2RlKCk6Zz1kLmNyZWF0ZUVsZW0oYSksZy5jYW5IYXZlQ2hpbGRyZW4mJiFlLnRlc3QoYSkmJiFnLnRhZ1Vybj9kLmZyYWcuYXBwZW5kQ2hpbGQoZyk6Z31mdW5jdGlvbiBwKGEsYyl7YXx8KGE9Yik7aWYoaylyZXR1cm4gYS5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7Yz1jfHxuKGEpO3ZhciBkPWMuZnJhZy5jbG9uZU5vZGUoKSxlPTAsZj1tKCksZz1mLmxlbmd0aDtmb3IoO2U8ZztlKyspZC5jcmVhdGVFbGVtZW50KGZbZV0pO3JldHVybiBkfWZ1bmN0aW9uIHEoYSxiKXtiLmNhY2hlfHwoYi5jYWNoZT17fSxiLmNyZWF0ZUVsZW09YS5jcmVhdGVFbGVtZW50LGIuY3JlYXRlRnJhZz1hLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQsYi5mcmFnPWIuY3JlYXRlRnJhZygpKSxhLmNyZWF0ZUVsZW1lbnQ9ZnVuY3Rpb24oYyl7cmV0dXJuIHMuc2hpdk1ldGhvZHM/byhjLGEsYik6Yi5jcmVhdGVFbGVtKGMpfSxhLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQ9RnVuY3Rpb24oXCJoLGZcIixcInJldHVybiBmdW5jdGlvbigpe3ZhciBuPWYuY2xvbmVOb2RlKCksYz1uLmNyZWF0ZUVsZW1lbnQ7aC5zaGl2TWV0aG9kcyYmKFwiK20oKS5qb2luKCkucmVwbGFjZSgvW1xcd1xcLV0rL2csZnVuY3Rpb24oYSl7cmV0dXJuIGIuY3JlYXRlRWxlbShhKSxiLmZyYWcuY3JlYXRlRWxlbWVudChhKSwnYyhcIicrYSsnXCIpJ30pK1wiKTtyZXR1cm4gbn1cIikocyxiLmZyYWcpfWZ1bmN0aW9uIHIoYSl7YXx8KGE9Yik7dmFyIGM9bihhKTtyZXR1cm4gcy5zaGl2Q1NTJiYhZyYmIWMuaGFzQ1NTJiYoYy5oYXNDU1M9ISFsKGEsXCJhcnRpY2xlLGFzaWRlLGRpYWxvZyxmaWdjYXB0aW9uLGZpZ3VyZSxmb290ZXIsaGVhZGVyLGhncm91cCxtYWluLG5hdixzZWN0aW9ue2Rpc3BsYXk6YmxvY2t9bWFya3tiYWNrZ3JvdW5kOiNGRjA7Y29sb3I6IzAwMH10ZW1wbGF0ZXtkaXNwbGF5Om5vbmV9XCIpKSxrfHxxKGEsYyksYX12YXIgYz1cIjMuNy4wXCIsZD1hLmh0bWw1fHx7fSxlPS9ePHxeKD86YnV0dG9ufG1hcHxzZWxlY3R8dGV4dGFyZWF8b2JqZWN0fGlmcmFtZXxvcHRpb258b3B0Z3JvdXApJC9pLGY9L14oPzphfGJ8Y29kZXxkaXZ8ZmllbGRzZXR8aDF8aDJ8aDN8aDR8aDV8aDZ8aXxsYWJlbHxsaXxvbHxwfHF8c3BhbnxzdHJvbmd8c3R5bGV8dGFibGV8dGJvZHl8dGR8dGh8dHJ8dWwpJC9pLGcsaD1cIl9odG1sNXNoaXZcIixpPTAsaj17fSxrOyhmdW5jdGlvbigpe3RyeXt2YXIgYT1iLmNyZWF0ZUVsZW1lbnQoXCJhXCIpO2EuaW5uZXJIVE1MPVwiPHh5ej48L3h5ej5cIixnPVwiaGlkZGVuXCJpbiBhLGs9YS5jaGlsZE5vZGVzLmxlbmd0aD09MXx8ZnVuY3Rpb24oKXtiLmNyZWF0ZUVsZW1lbnQoXCJhXCIpO3ZhciBhPWIuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO3JldHVybiB0eXBlb2YgYS5jbG9uZU5vZGU9PVwidW5kZWZpbmVkXCJ8fHR5cGVvZiBhLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQ9PVwidW5kZWZpbmVkXCJ8fHR5cGVvZiBhLmNyZWF0ZUVsZW1lbnQ9PVwidW5kZWZpbmVkXCJ9KCl9Y2F0Y2goYyl7Zz0hMCxrPSEwfX0pKCk7dmFyIHM9e2VsZW1lbnRzOmQuZWxlbWVudHN8fFwiYWJiciBhcnRpY2xlIGFzaWRlIGF1ZGlvIGJkaSBjYW52YXMgZGF0YSBkYXRhbGlzdCBkZXRhaWxzIGRpYWxvZyBmaWdjYXB0aW9uIGZpZ3VyZSBmb290ZXIgaGVhZGVyIGhncm91cCBtYWluIG1hcmsgbWV0ZXIgbmF2IG91dHB1dCBwcm9ncmVzcyBzZWN0aW9uIHN1bW1hcnkgdGVtcGxhdGUgdGltZSB2aWRlb1wiLHZlcnNpb246YyxzaGl2Q1NTOmQuc2hpdkNTUyE9PSExLHN1cHBvcnRzVW5rbm93bkVsZW1lbnRzOmssc2hpdk1ldGhvZHM6ZC5zaGl2TWV0aG9kcyE9PSExLHR5cGU6XCJkZWZhdWx0XCIsc2hpdkRvY3VtZW50OnIsY3JlYXRlRWxlbWVudDpvLGNyZWF0ZURvY3VtZW50RnJhZ21lbnQ6cH07YS5odG1sNT1zLHIoYil9KHRoaXMsYiksZS5fdmVyc2lvbj1kLGUuX3ByZWZpeGVzPW0sZS50ZXN0U3R5bGVzPXQsZX0odGhpcyx0aGlzLmRvY3VtZW50KSxmdW5jdGlvbihhLGIsYyl7ZnVuY3Rpb24gZChhKXtyZXR1cm5cIltvYmplY3QgRnVuY3Rpb25dXCI9PW8uY2FsbChhKX1mdW5jdGlvbiBlKGEpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBhfWZ1bmN0aW9uIGYoKXt9ZnVuY3Rpb24gZyhhKXtyZXR1cm4hYXx8XCJsb2FkZWRcIj09YXx8XCJjb21wbGV0ZVwiPT1hfHxcInVuaW5pdGlhbGl6ZWRcIj09YX1mdW5jdGlvbiBoKCl7dmFyIGE9cC5zaGlmdCgpO3E9MSxhP2EudD9tKGZ1bmN0aW9uKCl7KFwiY1wiPT1hLnQ/Qi5pbmplY3RDc3M6Qi5pbmplY3RKcykoYS5zLDAsYS5hLGEueCxhLmUsMSl9LDApOihhKCksaCgpKTpxPTB9ZnVuY3Rpb24gaShhLGMsZCxlLGYsaSxqKXtmdW5jdGlvbiBrKGIpe2lmKCFvJiZnKGwucmVhZHlTdGF0ZSkmJih1LnI9bz0xLCFxJiZoKCksbC5vbmxvYWQ9bC5vbnJlYWR5c3RhdGVjaGFuZ2U9bnVsbCxiKSl7XCJpbWdcIiE9YSYmbShmdW5jdGlvbigpe3QucmVtb3ZlQ2hpbGQobCl9LDUwKTtmb3IodmFyIGQgaW4geVtjXSl5W2NdLmhhc093blByb3BlcnR5KGQpJiZ5W2NdW2RdLm9ubG9hZCgpfX12YXIgaj1qfHxCLmVycm9yVGltZW91dCxsPWIuY3JlYXRlRWxlbWVudChhKSxvPTAscj0wLHU9e3Q6ZCxzOmMsZTpmLGE6aSx4Omp9OzE9PT15W2NdJiYocj0xLHlbY109W10pLFwib2JqZWN0XCI9PWE/bC5kYXRhPWM6KGwuc3JjPWMsbC50eXBlPWEpLGwud2lkdGg9bC5oZWlnaHQ9XCIwXCIsbC5vbmVycm9yPWwub25sb2FkPWwub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7ay5jYWxsKHRoaXMscil9LHAuc3BsaWNlKGUsMCx1KSxcImltZ1wiIT1hJiYocnx8Mj09PXlbY10/KHQuaW5zZXJ0QmVmb3JlKGwscz9udWxsOm4pLG0oayxqKSk6eVtjXS5wdXNoKGwpKX1mdW5jdGlvbiBqKGEsYixjLGQsZil7cmV0dXJuIHE9MCxiPWJ8fFwialwiLGUoYSk/aShcImNcIj09Yj92OnUsYSxiLHRoaXMuaSsrLGMsZCxmKToocC5zcGxpY2UodGhpcy5pKyssMCxhKSwxPT1wLmxlbmd0aCYmaCgpKSx0aGlzfWZ1bmN0aW9uIGsoKXt2YXIgYT1CO3JldHVybiBhLmxvYWRlcj17bG9hZDpqLGk6MH0sYX12YXIgbD1iLmRvY3VtZW50RWxlbWVudCxtPWEuc2V0VGltZW91dCxuPWIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzY3JpcHRcIilbMF0sbz17fS50b1N0cmluZyxwPVtdLHE9MCxyPVwiTW96QXBwZWFyYW5jZVwiaW4gbC5zdHlsZSxzPXImJiEhYi5jcmVhdGVSYW5nZSgpLmNvbXBhcmVOb2RlLHQ9cz9sOm4ucGFyZW50Tm9kZSxsPWEub3BlcmEmJlwiW29iamVjdCBPcGVyYV1cIj09by5jYWxsKGEub3BlcmEpLGw9ISFiLmF0dGFjaEV2ZW50JiYhbCx1PXI/XCJvYmplY3RcIjpsP1wic2NyaXB0XCI6XCJpbWdcIix2PWw/XCJzY3JpcHRcIjp1LHc9QXJyYXkuaXNBcnJheXx8ZnVuY3Rpb24oYSl7cmV0dXJuXCJbb2JqZWN0IEFycmF5XVwiPT1vLmNhbGwoYSl9LHg9W10seT17fSx6PXt0aW1lb3V0OmZ1bmN0aW9uKGEsYil7cmV0dXJuIGIubGVuZ3RoJiYoYS50aW1lb3V0PWJbMF0pLGF9fSxBLEI7Qj1mdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe3ZhciBhPWEuc3BsaXQoXCIhXCIpLGI9eC5sZW5ndGgsYz1hLnBvcCgpLGQ9YS5sZW5ndGgsYz17dXJsOmMsb3JpZ1VybDpjLHByZWZpeGVzOmF9LGUsZixnO2ZvcihmPTA7ZjxkO2YrKylnPWFbZl0uc3BsaXQoXCI9XCIpLChlPXpbZy5zaGlmdCgpXSkmJihjPWUoYyxnKSk7Zm9yKGY9MDtmPGI7ZisrKWM9eFtmXShjKTtyZXR1cm4gY31mdW5jdGlvbiBnKGEsZSxmLGcsaCl7dmFyIGk9YihhKSxqPWkuYXV0b0NhbGxiYWNrO2kudXJsLnNwbGl0KFwiLlwiKS5wb3AoKS5zcGxpdChcIj9cIikuc2hpZnQoKSxpLmJ5cGFzc3x8KGUmJihlPWQoZSk/ZTplW2FdfHxlW2ddfHxlW2Euc3BsaXQoXCIvXCIpLnBvcCgpLnNwbGl0KFwiP1wiKVswXV0pLGkuaW5zdGVhZD9pLmluc3RlYWQoYSxlLGYsZyxoKTooeVtpLnVybF0/aS5ub2V4ZWM9ITA6eVtpLnVybF09MSxmLmxvYWQoaS51cmwsaS5mb3JjZUNTU3x8IWkuZm9yY2VKUyYmXCJjc3NcIj09aS51cmwuc3BsaXQoXCIuXCIpLnBvcCgpLnNwbGl0KFwiP1wiKS5zaGlmdCgpP1wiY1wiOmMsaS5ub2V4ZWMsaS5hdHRycyxpLnRpbWVvdXQpLChkKGUpfHxkKGopKSYmZi5sb2FkKGZ1bmN0aW9uKCl7aygpLGUmJmUoaS5vcmlnVXJsLGgsZyksaiYmaihpLm9yaWdVcmwsaCxnKSx5W2kudXJsXT0yfSkpKX1mdW5jdGlvbiBoKGEsYil7ZnVuY3Rpb24gYyhhLGMpe2lmKGEpe2lmKGUoYSkpY3x8KGo9ZnVuY3Rpb24oKXt2YXIgYT1bXS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7ay5hcHBseSh0aGlzLGEpLGwoKX0pLGcoYSxqLGIsMCxoKTtlbHNlIGlmKE9iamVjdChhKT09PWEpZm9yKG4gaW4gbT1mdW5jdGlvbigpe3ZhciBiPTAsYztmb3IoYyBpbiBhKWEuaGFzT3duUHJvcGVydHkoYykmJmIrKztyZXR1cm4gYn0oKSxhKWEuaGFzT3duUHJvcGVydHkobikmJighYyYmIS0tbSYmKGQoaik/aj1mdW5jdGlvbigpe3ZhciBhPVtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtrLmFwcGx5KHRoaXMsYSksbCgpfTpqW25dPWZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbigpe3ZhciBiPVtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKTthJiZhLmFwcGx5KHRoaXMsYiksbCgpfX0oa1tuXSkpLGcoYVtuXSxqLGIsbixoKSl9ZWxzZSFjJiZsKCl9dmFyIGg9ISFhLnRlc3QsaT1hLmxvYWR8fGEuYm90aCxqPWEuY2FsbGJhY2t8fGYsaz1qLGw9YS5jb21wbGV0ZXx8ZixtLG47YyhoP2EueWVwOmEubm9wZSwhIWkpLGkmJmMoaSl9dmFyIGksaixsPXRoaXMueWVwbm9wZS5sb2FkZXI7aWYoZShhKSlnKGEsMCxsLDApO2Vsc2UgaWYodyhhKSlmb3IoaT0wO2k8YS5sZW5ndGg7aSsrKWo9YVtpXSxlKGopP2coaiwwLGwsMCk6dyhqKT9CKGopOk9iamVjdChqKT09PWomJmgoaixsKTtlbHNlIE9iamVjdChhKT09PWEmJmgoYSxsKX0sQi5hZGRQcmVmaXg9ZnVuY3Rpb24oYSxiKXt6W2FdPWJ9LEIuYWRkRmlsdGVyPWZ1bmN0aW9uKGEpe3gucHVzaChhKX0sQi5lcnJvclRpbWVvdXQ9MWU0LG51bGw9PWIucmVhZHlTdGF0ZSYmYi5hZGRFdmVudExpc3RlbmVyJiYoYi5yZWFkeVN0YXRlPVwibG9hZGluZ1wiLGIuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIixBPWZ1bmN0aW9uKCl7Yi5yZW1vdmVFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLEEsMCksYi5yZWFkeVN0YXRlPVwiY29tcGxldGVcIn0sMCkpLGEueWVwbm9wZT1rKCksYS55ZXBub3BlLmV4ZWN1dGVTdGFjaz1oLGEueWVwbm9wZS5pbmplY3RKcz1mdW5jdGlvbihhLGMsZCxlLGksail7dmFyIGs9Yi5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpLGwsbyxlPWV8fEIuZXJyb3JUaW1lb3V0O2suc3JjPWE7Zm9yKG8gaW4gZClrLnNldEF0dHJpYnV0ZShvLGRbb10pO2M9aj9oOmN8fGYsay5vbnJlYWR5c3RhdGVjaGFuZ2U9ay5vbmxvYWQ9ZnVuY3Rpb24oKXshbCYmZyhrLnJlYWR5U3RhdGUpJiYobD0xLGMoKSxrLm9ubG9hZD1rLm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsKX0sbShmdW5jdGlvbigpe2x8fChsPTEsYygxKSl9LGUpLGk/ay5vbmxvYWQoKTpuLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGssbil9LGEueWVwbm9wZS5pbmplY3RDc3M9ZnVuY3Rpb24oYSxjLGQsZSxnLGkpe3ZhciBlPWIuY3JlYXRlRWxlbWVudChcImxpbmtcIiksaixjPWk/aDpjfHxmO2UuaHJlZj1hLGUucmVsPVwic3R5bGVzaGVldFwiLGUudHlwZT1cInRleHQvY3NzXCI7Zm9yKGogaW4gZCllLnNldEF0dHJpYnV0ZShqLGRbal0pO2d8fChuLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGUsbiksbShjLDApKX19KHRoaXMsZG9jdW1lbnQpLE1vZGVybml6ci5sb2FkPWZ1bmN0aW9uKCl7eWVwbm9wZS5hcHBseSh3aW5kb3csW10uc2xpY2UuY2FsbChhcmd1bWVudHMsMCkpfSxNb2Rlcm5penIuYWRkVGVzdChcInBsYWNlaG9sZGVyXCIsZnVuY3Rpb24oKXtyZXR1cm5cInBsYWNlaG9sZGVyXCJpbihNb2Rlcm5penIuaW5wdXR8fGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKSkmJlwicGxhY2Vob2xkZXJcImluKE1vZGVybml6ci50ZXh0YXJlYXx8ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRleHRhcmVhXCIpKX0pO1xuIiwiLyohXG4gKiBqUXVlcnkgSmF2YVNjcmlwdCBMaWJyYXJ5IHYzLjIuMVxuICogaHR0cHM6Ly9qcXVlcnkuY29tL1xuICpcbiAqIEluY2x1ZGVzIFNpenpsZS5qc1xuICogaHR0cHM6Ly9zaXp6bGVqcy5jb20vXG4gKlxuICogQ29weXJpZ2h0IEpTIEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlXG4gKiBodHRwczovL2pxdWVyeS5vcmcvbGljZW5zZVxuICpcbiAqIERhdGU6IDIwMTctMDMtMjBUMTg6NTlaXG4gKi9cbiggZnVuY3Rpb24oIGdsb2JhbCwgZmFjdG9yeSApIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblxuXHRpZiAoIHR5cGVvZiBtb2R1bGUgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIG1vZHVsZS5leHBvcnRzID09PSBcIm9iamVjdFwiICkge1xuXG5cdFx0Ly8gRm9yIENvbW1vbkpTIGFuZCBDb21tb25KUy1saWtlIGVudmlyb25tZW50cyB3aGVyZSBhIHByb3BlciBgd2luZG93YFxuXHRcdC8vIGlzIHByZXNlbnQsIGV4ZWN1dGUgdGhlIGZhY3RvcnkgYW5kIGdldCBqUXVlcnkuXG5cdFx0Ly8gRm9yIGVudmlyb25tZW50cyB0aGF0IGRvIG5vdCBoYXZlIGEgYHdpbmRvd2Agd2l0aCBhIGBkb2N1bWVudGBcblx0XHQvLyAoc3VjaCBhcyBOb2RlLmpzKSwgZXhwb3NlIGEgZmFjdG9yeSBhcyBtb2R1bGUuZXhwb3J0cy5cblx0XHQvLyBUaGlzIGFjY2VudHVhdGVzIHRoZSBuZWVkIGZvciB0aGUgY3JlYXRpb24gb2YgYSByZWFsIGB3aW5kb3dgLlxuXHRcdC8vIGUuZy4gdmFyIGpRdWVyeSA9IHJlcXVpcmUoXCJqcXVlcnlcIikod2luZG93KTtcblx0XHQvLyBTZWUgdGlja2V0ICMxNDU0OSBmb3IgbW9yZSBpbmZvLlxuXHRcdG1vZHVsZS5leHBvcnRzID0gZ2xvYmFsLmRvY3VtZW50ID9cblx0XHRcdGZhY3RvcnkoIGdsb2JhbCwgdHJ1ZSApIDpcblx0XHRcdGZ1bmN0aW9uKCB3ICkge1xuXHRcdFx0XHRpZiAoICF3LmRvY3VtZW50ICkge1xuXHRcdFx0XHRcdHRocm93IG5ldyBFcnJvciggXCJqUXVlcnkgcmVxdWlyZXMgYSB3aW5kb3cgd2l0aCBhIGRvY3VtZW50XCIgKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gZmFjdG9yeSggdyApO1xuXHRcdFx0fTtcblx0fSBlbHNlIHtcblx0XHRmYWN0b3J5KCBnbG9iYWwgKTtcblx0fVxuXG4vLyBQYXNzIHRoaXMgaWYgd2luZG93IGlzIG5vdCBkZWZpbmVkIHlldFxufSApKCB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93IDogdGhpcywgZnVuY3Rpb24oIHdpbmRvdywgbm9HbG9iYWwgKSB7XG5cbi8vIEVkZ2UgPD0gMTIgLSAxMyssIEZpcmVmb3ggPD0xOCAtIDQ1KywgSUUgMTAgLSAxMSwgU2FmYXJpIDUuMSAtIDkrLCBpT1MgNiAtIDkuMVxuLy8gdGhyb3cgZXhjZXB0aW9ucyB3aGVuIG5vbi1zdHJpY3QgY29kZSAoZS5nLiwgQVNQLk5FVCA0LjUpIGFjY2Vzc2VzIHN0cmljdCBtb2RlXG4vLyBhcmd1bWVudHMuY2FsbGVlLmNhbGxlciAodHJhYy0xMzMzNSkuIEJ1dCBhcyBvZiBqUXVlcnkgMy4wICgyMDE2KSwgc3RyaWN0IG1vZGUgc2hvdWxkIGJlIGNvbW1vblxuLy8gZW5vdWdoIHRoYXQgYWxsIHN1Y2ggYXR0ZW1wdHMgYXJlIGd1YXJkZWQgaW4gYSB0cnkgYmxvY2suXG5cInVzZSBzdHJpY3RcIjtcblxudmFyIGFyciA9IFtdO1xuXG52YXIgZG9jdW1lbnQgPSB3aW5kb3cuZG9jdW1lbnQ7XG5cbnZhciBnZXRQcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZjtcblxudmFyIHNsaWNlID0gYXJyLnNsaWNlO1xuXG52YXIgY29uY2F0ID0gYXJyLmNvbmNhdDtcblxudmFyIHB1c2ggPSBhcnIucHVzaDtcblxudmFyIGluZGV4T2YgPSBhcnIuaW5kZXhPZjtcblxudmFyIGNsYXNzMnR5cGUgPSB7fTtcblxudmFyIHRvU3RyaW5nID0gY2xhc3MydHlwZS50b1N0cmluZztcblxudmFyIGhhc093biA9IGNsYXNzMnR5cGUuaGFzT3duUHJvcGVydHk7XG5cbnZhciBmblRvU3RyaW5nID0gaGFzT3duLnRvU3RyaW5nO1xuXG52YXIgT2JqZWN0RnVuY3Rpb25TdHJpbmcgPSBmblRvU3RyaW5nLmNhbGwoIE9iamVjdCApO1xuXG52YXIgc3VwcG9ydCA9IHt9O1xuXG5cblxuXHRmdW5jdGlvbiBET01FdmFsKCBjb2RlLCBkb2MgKSB7XG5cdFx0ZG9jID0gZG9jIHx8IGRvY3VtZW50O1xuXG5cdFx0dmFyIHNjcmlwdCA9IGRvYy5jcmVhdGVFbGVtZW50KCBcInNjcmlwdFwiICk7XG5cblx0XHRzY3JpcHQudGV4dCA9IGNvZGU7XG5cdFx0ZG9jLmhlYWQuYXBwZW5kQ2hpbGQoIHNjcmlwdCApLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoIHNjcmlwdCApO1xuXHR9XG4vKiBnbG9iYWwgU3ltYm9sICovXG4vLyBEZWZpbmluZyB0aGlzIGdsb2JhbCBpbiAuZXNsaW50cmMuanNvbiB3b3VsZCBjcmVhdGUgYSBkYW5nZXIgb2YgdXNpbmcgdGhlIGdsb2JhbFxuLy8gdW5ndWFyZGVkIGluIGFub3RoZXIgcGxhY2UsIGl0IHNlZW1zIHNhZmVyIHRvIGRlZmluZSBnbG9iYWwgb25seSBmb3IgdGhpcyBtb2R1bGVcblxuXG5cbnZhclxuXHR2ZXJzaW9uID0gXCIzLjIuMVwiLFxuXG5cdC8vIERlZmluZSBhIGxvY2FsIGNvcHkgb2YgalF1ZXJ5XG5cdGpRdWVyeSA9IGZ1bmN0aW9uKCBzZWxlY3RvciwgY29udGV4dCApIHtcblxuXHRcdC8vIFRoZSBqUXVlcnkgb2JqZWN0IGlzIGFjdHVhbGx5IGp1c3QgdGhlIGluaXQgY29uc3RydWN0b3IgJ2VuaGFuY2VkJ1xuXHRcdC8vIE5lZWQgaW5pdCBpZiBqUXVlcnkgaXMgY2FsbGVkIChqdXN0IGFsbG93IGVycm9yIHRvIGJlIHRocm93biBpZiBub3QgaW5jbHVkZWQpXG5cdFx0cmV0dXJuIG5ldyBqUXVlcnkuZm4uaW5pdCggc2VsZWN0b3IsIGNvbnRleHQgKTtcblx0fSxcblxuXHQvLyBTdXBwb3J0OiBBbmRyb2lkIDw9NC4wIG9ubHlcblx0Ly8gTWFrZSBzdXJlIHdlIHRyaW0gQk9NIGFuZCBOQlNQXG5cdHJ0cmltID0gL15bXFxzXFx1RkVGRlxceEEwXSt8W1xcc1xcdUZFRkZcXHhBMF0rJC9nLFxuXG5cdC8vIE1hdGNoZXMgZGFzaGVkIHN0cmluZyBmb3IgY2FtZWxpemluZ1xuXHRybXNQcmVmaXggPSAvXi1tcy0vLFxuXHRyZGFzaEFscGhhID0gLy0oW2Etel0pL2csXG5cblx0Ly8gVXNlZCBieSBqUXVlcnkuY2FtZWxDYXNlIGFzIGNhbGxiYWNrIHRvIHJlcGxhY2UoKVxuXHRmY2FtZWxDYXNlID0gZnVuY3Rpb24oIGFsbCwgbGV0dGVyICkge1xuXHRcdHJldHVybiBsZXR0ZXIudG9VcHBlckNhc2UoKTtcblx0fTtcblxualF1ZXJ5LmZuID0galF1ZXJ5LnByb3RvdHlwZSA9IHtcblxuXHQvLyBUaGUgY3VycmVudCB2ZXJzaW9uIG9mIGpRdWVyeSBiZWluZyB1c2VkXG5cdGpxdWVyeTogdmVyc2lvbixcblxuXHRjb25zdHJ1Y3RvcjogalF1ZXJ5LFxuXG5cdC8vIFRoZSBkZWZhdWx0IGxlbmd0aCBvZiBhIGpRdWVyeSBvYmplY3QgaXMgMFxuXHRsZW5ndGg6IDAsXG5cblx0dG9BcnJheTogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHNsaWNlLmNhbGwoIHRoaXMgKTtcblx0fSxcblxuXHQvLyBHZXQgdGhlIE50aCBlbGVtZW50IGluIHRoZSBtYXRjaGVkIGVsZW1lbnQgc2V0IE9SXG5cdC8vIEdldCB0aGUgd2hvbGUgbWF0Y2hlZCBlbGVtZW50IHNldCBhcyBhIGNsZWFuIGFycmF5XG5cdGdldDogZnVuY3Rpb24oIG51bSApIHtcblxuXHRcdC8vIFJldHVybiBhbGwgdGhlIGVsZW1lbnRzIGluIGEgY2xlYW4gYXJyYXlcblx0XHRpZiAoIG51bSA9PSBudWxsICkge1xuXHRcdFx0cmV0dXJuIHNsaWNlLmNhbGwoIHRoaXMgKTtcblx0XHR9XG5cblx0XHQvLyBSZXR1cm4ganVzdCB0aGUgb25lIGVsZW1lbnQgZnJvbSB0aGUgc2V0XG5cdFx0cmV0dXJuIG51bSA8IDAgPyB0aGlzWyBudW0gKyB0aGlzLmxlbmd0aCBdIDogdGhpc1sgbnVtIF07XG5cdH0sXG5cblx0Ly8gVGFrZSBhbiBhcnJheSBvZiBlbGVtZW50cyBhbmQgcHVzaCBpdCBvbnRvIHRoZSBzdGFja1xuXHQvLyAocmV0dXJuaW5nIHRoZSBuZXcgbWF0Y2hlZCBlbGVtZW50IHNldClcblx0cHVzaFN0YWNrOiBmdW5jdGlvbiggZWxlbXMgKSB7XG5cblx0XHQvLyBCdWlsZCBhIG5ldyBqUXVlcnkgbWF0Y2hlZCBlbGVtZW50IHNldFxuXHRcdHZhciByZXQgPSBqUXVlcnkubWVyZ2UoIHRoaXMuY29uc3RydWN0b3IoKSwgZWxlbXMgKTtcblxuXHRcdC8vIEFkZCB0aGUgb2xkIG9iamVjdCBvbnRvIHRoZSBzdGFjayAoYXMgYSByZWZlcmVuY2UpXG5cdFx0cmV0LnByZXZPYmplY3QgPSB0aGlzO1xuXG5cdFx0Ly8gUmV0dXJuIHRoZSBuZXdseS1mb3JtZWQgZWxlbWVudCBzZXRcblx0XHRyZXR1cm4gcmV0O1xuXHR9LFxuXG5cdC8vIEV4ZWN1dGUgYSBjYWxsYmFjayBmb3IgZXZlcnkgZWxlbWVudCBpbiB0aGUgbWF0Y2hlZCBzZXQuXG5cdGVhY2g6IGZ1bmN0aW9uKCBjYWxsYmFjayApIHtcblx0XHRyZXR1cm4galF1ZXJ5LmVhY2goIHRoaXMsIGNhbGxiYWNrICk7XG5cdH0sXG5cblx0bWFwOiBmdW5jdGlvbiggY2FsbGJhY2sgKSB7XG5cdFx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKCBqUXVlcnkubWFwKCB0aGlzLCBmdW5jdGlvbiggZWxlbSwgaSApIHtcblx0XHRcdHJldHVybiBjYWxsYmFjay5jYWxsKCBlbGVtLCBpLCBlbGVtICk7XG5cdFx0fSApICk7XG5cdH0sXG5cblx0c2xpY2U6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLnB1c2hTdGFjayggc2xpY2UuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApICk7XG5cdH0sXG5cblx0Zmlyc3Q6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLmVxKCAwICk7XG5cdH0sXG5cblx0bGFzdDogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMuZXEoIC0xICk7XG5cdH0sXG5cblx0ZXE6IGZ1bmN0aW9uKCBpICkge1xuXHRcdHZhciBsZW4gPSB0aGlzLmxlbmd0aCxcblx0XHRcdGogPSAraSArICggaSA8IDAgPyBsZW4gOiAwICk7XG5cdFx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKCBqID49IDAgJiYgaiA8IGxlbiA/IFsgdGhpc1sgaiBdIF0gOiBbXSApO1xuXHR9LFxuXG5cdGVuZDogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMucHJldk9iamVjdCB8fCB0aGlzLmNvbnN0cnVjdG9yKCk7XG5cdH0sXG5cblx0Ly8gRm9yIGludGVybmFsIHVzZSBvbmx5LlxuXHQvLyBCZWhhdmVzIGxpa2UgYW4gQXJyYXkncyBtZXRob2QsIG5vdCBsaWtlIGEgalF1ZXJ5IG1ldGhvZC5cblx0cHVzaDogcHVzaCxcblx0c29ydDogYXJyLnNvcnQsXG5cdHNwbGljZTogYXJyLnNwbGljZVxufTtcblxualF1ZXJ5LmV4dGVuZCA9IGpRdWVyeS5mbi5leHRlbmQgPSBmdW5jdGlvbigpIHtcblx0dmFyIG9wdGlvbnMsIG5hbWUsIHNyYywgY29weSwgY29weUlzQXJyYXksIGNsb25lLFxuXHRcdHRhcmdldCA9IGFyZ3VtZW50c1sgMCBdIHx8IHt9LFxuXHRcdGkgPSAxLFxuXHRcdGxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGgsXG5cdFx0ZGVlcCA9IGZhbHNlO1xuXG5cdC8vIEhhbmRsZSBhIGRlZXAgY29weSBzaXR1YXRpb25cblx0aWYgKCB0eXBlb2YgdGFyZ2V0ID09PSBcImJvb2xlYW5cIiApIHtcblx0XHRkZWVwID0gdGFyZ2V0O1xuXG5cdFx0Ly8gU2tpcCB0aGUgYm9vbGVhbiBhbmQgdGhlIHRhcmdldFxuXHRcdHRhcmdldCA9IGFyZ3VtZW50c1sgaSBdIHx8IHt9O1xuXHRcdGkrKztcblx0fVxuXG5cdC8vIEhhbmRsZSBjYXNlIHdoZW4gdGFyZ2V0IGlzIGEgc3RyaW5nIG9yIHNvbWV0aGluZyAocG9zc2libGUgaW4gZGVlcCBjb3B5KVxuXHRpZiAoIHR5cGVvZiB0YXJnZXQgIT09IFwib2JqZWN0XCIgJiYgIWpRdWVyeS5pc0Z1bmN0aW9uKCB0YXJnZXQgKSApIHtcblx0XHR0YXJnZXQgPSB7fTtcblx0fVxuXG5cdC8vIEV4dGVuZCBqUXVlcnkgaXRzZWxmIGlmIG9ubHkgb25lIGFyZ3VtZW50IGlzIHBhc3NlZFxuXHRpZiAoIGkgPT09IGxlbmd0aCApIHtcblx0XHR0YXJnZXQgPSB0aGlzO1xuXHRcdGktLTtcblx0fVxuXG5cdGZvciAoIDsgaSA8IGxlbmd0aDsgaSsrICkge1xuXG5cdFx0Ly8gT25seSBkZWFsIHdpdGggbm9uLW51bGwvdW5kZWZpbmVkIHZhbHVlc1xuXHRcdGlmICggKCBvcHRpb25zID0gYXJndW1lbnRzWyBpIF0gKSAhPSBudWxsICkge1xuXG5cdFx0XHQvLyBFeHRlbmQgdGhlIGJhc2Ugb2JqZWN0XG5cdFx0XHRmb3IgKCBuYW1lIGluIG9wdGlvbnMgKSB7XG5cdFx0XHRcdHNyYyA9IHRhcmdldFsgbmFtZSBdO1xuXHRcdFx0XHRjb3B5ID0gb3B0aW9uc1sgbmFtZSBdO1xuXG5cdFx0XHRcdC8vIFByZXZlbnQgbmV2ZXItZW5kaW5nIGxvb3Bcblx0XHRcdFx0aWYgKCB0YXJnZXQgPT09IGNvcHkgKSB7XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBSZWN1cnNlIGlmIHdlJ3JlIG1lcmdpbmcgcGxhaW4gb2JqZWN0cyBvciBhcnJheXNcblx0XHRcdFx0aWYgKCBkZWVwICYmIGNvcHkgJiYgKCBqUXVlcnkuaXNQbGFpbk9iamVjdCggY29weSApIHx8XG5cdFx0XHRcdFx0KCBjb3B5SXNBcnJheSA9IEFycmF5LmlzQXJyYXkoIGNvcHkgKSApICkgKSB7XG5cblx0XHRcdFx0XHRpZiAoIGNvcHlJc0FycmF5ICkge1xuXHRcdFx0XHRcdFx0Y29weUlzQXJyYXkgPSBmYWxzZTtcblx0XHRcdFx0XHRcdGNsb25lID0gc3JjICYmIEFycmF5LmlzQXJyYXkoIHNyYyApID8gc3JjIDogW107XG5cblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0Y2xvbmUgPSBzcmMgJiYgalF1ZXJ5LmlzUGxhaW5PYmplY3QoIHNyYyApID8gc3JjIDoge307XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gTmV2ZXIgbW92ZSBvcmlnaW5hbCBvYmplY3RzLCBjbG9uZSB0aGVtXG5cdFx0XHRcdFx0dGFyZ2V0WyBuYW1lIF0gPSBqUXVlcnkuZXh0ZW5kKCBkZWVwLCBjbG9uZSwgY29weSApO1xuXG5cdFx0XHRcdC8vIERvbid0IGJyaW5nIGluIHVuZGVmaW5lZCB2YWx1ZXNcblx0XHRcdFx0fSBlbHNlIGlmICggY29weSAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRcdHRhcmdldFsgbmFtZSBdID0gY29weTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8vIFJldHVybiB0aGUgbW9kaWZpZWQgb2JqZWN0XG5cdHJldHVybiB0YXJnZXQ7XG59O1xuXG5qUXVlcnkuZXh0ZW5kKCB7XG5cblx0Ly8gVW5pcXVlIGZvciBlYWNoIGNvcHkgb2YgalF1ZXJ5IG9uIHRoZSBwYWdlXG5cdGV4cGFuZG86IFwialF1ZXJ5XCIgKyAoIHZlcnNpb24gKyBNYXRoLnJhbmRvbSgpICkucmVwbGFjZSggL1xcRC9nLCBcIlwiICksXG5cblx0Ly8gQXNzdW1lIGpRdWVyeSBpcyByZWFkeSB3aXRob3V0IHRoZSByZWFkeSBtb2R1bGVcblx0aXNSZWFkeTogdHJ1ZSxcblxuXHRlcnJvcjogZnVuY3Rpb24oIG1zZyApIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoIG1zZyApO1xuXHR9LFxuXG5cdG5vb3A6IGZ1bmN0aW9uKCkge30sXG5cblx0aXNGdW5jdGlvbjogZnVuY3Rpb24oIG9iaiApIHtcblx0XHRyZXR1cm4galF1ZXJ5LnR5cGUoIG9iaiApID09PSBcImZ1bmN0aW9uXCI7XG5cdH0sXG5cblx0aXNXaW5kb3c6IGZ1bmN0aW9uKCBvYmogKSB7XG5cdFx0cmV0dXJuIG9iaiAhPSBudWxsICYmIG9iaiA9PT0gb2JqLndpbmRvdztcblx0fSxcblxuXHRpc051bWVyaWM6IGZ1bmN0aW9uKCBvYmogKSB7XG5cblx0XHQvLyBBcyBvZiBqUXVlcnkgMy4wLCBpc051bWVyaWMgaXMgbGltaXRlZCB0b1xuXHRcdC8vIHN0cmluZ3MgYW5kIG51bWJlcnMgKHByaW1pdGl2ZXMgb3Igb2JqZWN0cylcblx0XHQvLyB0aGF0IGNhbiBiZSBjb2VyY2VkIHRvIGZpbml0ZSBudW1iZXJzIChnaC0yNjYyKVxuXHRcdHZhciB0eXBlID0galF1ZXJ5LnR5cGUoIG9iaiApO1xuXHRcdHJldHVybiAoIHR5cGUgPT09IFwibnVtYmVyXCIgfHwgdHlwZSA9PT0gXCJzdHJpbmdcIiApICYmXG5cblx0XHRcdC8vIHBhcnNlRmxvYXQgTmFOcyBudW1lcmljLWNhc3QgZmFsc2UgcG9zaXRpdmVzIChcIlwiKVxuXHRcdFx0Ly8gLi4uYnV0IG1pc2ludGVycHJldHMgbGVhZGluZy1udW1iZXIgc3RyaW5ncywgcGFydGljdWxhcmx5IGhleCBsaXRlcmFscyAoXCIweC4uLlwiKVxuXHRcdFx0Ly8gc3VidHJhY3Rpb24gZm9yY2VzIGluZmluaXRpZXMgdG8gTmFOXG5cdFx0XHQhaXNOYU4oIG9iaiAtIHBhcnNlRmxvYXQoIG9iaiApICk7XG5cdH0sXG5cblx0aXNQbGFpbk9iamVjdDogZnVuY3Rpb24oIG9iaiApIHtcblx0XHR2YXIgcHJvdG8sIEN0b3I7XG5cblx0XHQvLyBEZXRlY3Qgb2J2aW91cyBuZWdhdGl2ZXNcblx0XHQvLyBVc2UgdG9TdHJpbmcgaW5zdGVhZCBvZiBqUXVlcnkudHlwZSB0byBjYXRjaCBob3N0IG9iamVjdHNcblx0XHRpZiAoICFvYmogfHwgdG9TdHJpbmcuY2FsbCggb2JqICkgIT09IFwiW29iamVjdCBPYmplY3RdXCIgKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0cHJvdG8gPSBnZXRQcm90byggb2JqICk7XG5cblx0XHQvLyBPYmplY3RzIHdpdGggbm8gcHJvdG90eXBlIChlLmcuLCBgT2JqZWN0LmNyZWF0ZSggbnVsbCApYCkgYXJlIHBsYWluXG5cdFx0aWYgKCAhcHJvdG8gKSB7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cblx0XHQvLyBPYmplY3RzIHdpdGggcHJvdG90eXBlIGFyZSBwbGFpbiBpZmYgdGhleSB3ZXJlIGNvbnN0cnVjdGVkIGJ5IGEgZ2xvYmFsIE9iamVjdCBmdW5jdGlvblxuXHRcdEN0b3IgPSBoYXNPd24uY2FsbCggcHJvdG8sIFwiY29uc3RydWN0b3JcIiApICYmIHByb3RvLmNvbnN0cnVjdG9yO1xuXHRcdHJldHVybiB0eXBlb2YgQ3RvciA9PT0gXCJmdW5jdGlvblwiICYmIGZuVG9TdHJpbmcuY2FsbCggQ3RvciApID09PSBPYmplY3RGdW5jdGlvblN0cmluZztcblx0fSxcblxuXHRpc0VtcHR5T2JqZWN0OiBmdW5jdGlvbiggb2JqICkge1xuXG5cdFx0LyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLXZhcnMgKi9cblx0XHQvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2VzbGludC9lc2xpbnQvaXNzdWVzLzYxMjVcblx0XHR2YXIgbmFtZTtcblxuXHRcdGZvciAoIG5hbWUgaW4gb2JqICkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblx0XHRyZXR1cm4gdHJ1ZTtcblx0fSxcblxuXHR0eXBlOiBmdW5jdGlvbiggb2JqICkge1xuXHRcdGlmICggb2JqID09IG51bGwgKSB7XG5cdFx0XHRyZXR1cm4gb2JqICsgXCJcIjtcblx0XHR9XG5cblx0XHQvLyBTdXBwb3J0OiBBbmRyb2lkIDw9Mi4zIG9ubHkgKGZ1bmN0aW9uaXNoIFJlZ0V4cClcblx0XHRyZXR1cm4gdHlwZW9mIG9iaiA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2Ygb2JqID09PSBcImZ1bmN0aW9uXCIgP1xuXHRcdFx0Y2xhc3MydHlwZVsgdG9TdHJpbmcuY2FsbCggb2JqICkgXSB8fCBcIm9iamVjdFwiIDpcblx0XHRcdHR5cGVvZiBvYmo7XG5cdH0sXG5cblx0Ly8gRXZhbHVhdGVzIGEgc2NyaXB0IGluIGEgZ2xvYmFsIGNvbnRleHRcblx0Z2xvYmFsRXZhbDogZnVuY3Rpb24oIGNvZGUgKSB7XG5cdFx0RE9NRXZhbCggY29kZSApO1xuXHR9LFxuXG5cdC8vIENvbnZlcnQgZGFzaGVkIHRvIGNhbWVsQ2FzZTsgdXNlZCBieSB0aGUgY3NzIGFuZCBkYXRhIG1vZHVsZXNcblx0Ly8gU3VwcG9ydDogSUUgPD05IC0gMTEsIEVkZ2UgMTIgLSAxM1xuXHQvLyBNaWNyb3NvZnQgZm9yZ290IHRvIGh1bXAgdGhlaXIgdmVuZG9yIHByZWZpeCAoIzk1NzIpXG5cdGNhbWVsQ2FzZTogZnVuY3Rpb24oIHN0cmluZyApIHtcblx0XHRyZXR1cm4gc3RyaW5nLnJlcGxhY2UoIHJtc1ByZWZpeCwgXCJtcy1cIiApLnJlcGxhY2UoIHJkYXNoQWxwaGEsIGZjYW1lbENhc2UgKTtcblx0fSxcblxuXHRlYWNoOiBmdW5jdGlvbiggb2JqLCBjYWxsYmFjayApIHtcblx0XHR2YXIgbGVuZ3RoLCBpID0gMDtcblxuXHRcdGlmICggaXNBcnJheUxpa2UoIG9iaiApICkge1xuXHRcdFx0bGVuZ3RoID0gb2JqLmxlbmd0aDtcblx0XHRcdGZvciAoIDsgaSA8IGxlbmd0aDsgaSsrICkge1xuXHRcdFx0XHRpZiAoIGNhbGxiYWNrLmNhbGwoIG9ialsgaSBdLCBpLCBvYmpbIGkgXSApID09PSBmYWxzZSApIHtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRmb3IgKCBpIGluIG9iaiApIHtcblx0XHRcdFx0aWYgKCBjYWxsYmFjay5jYWxsKCBvYmpbIGkgXSwgaSwgb2JqWyBpIF0gKSA9PT0gZmFsc2UgKSB7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gb2JqO1xuXHR9LFxuXG5cdC8vIFN1cHBvcnQ6IEFuZHJvaWQgPD00LjAgb25seVxuXHR0cmltOiBmdW5jdGlvbiggdGV4dCApIHtcblx0XHRyZXR1cm4gdGV4dCA9PSBudWxsID9cblx0XHRcdFwiXCIgOlxuXHRcdFx0KCB0ZXh0ICsgXCJcIiApLnJlcGxhY2UoIHJ0cmltLCBcIlwiICk7XG5cdH0sXG5cblx0Ly8gcmVzdWx0cyBpcyBmb3IgaW50ZXJuYWwgdXNhZ2Ugb25seVxuXHRtYWtlQXJyYXk6IGZ1bmN0aW9uKCBhcnIsIHJlc3VsdHMgKSB7XG5cdFx0dmFyIHJldCA9IHJlc3VsdHMgfHwgW107XG5cblx0XHRpZiAoIGFyciAhPSBudWxsICkge1xuXHRcdFx0aWYgKCBpc0FycmF5TGlrZSggT2JqZWN0KCBhcnIgKSApICkge1xuXHRcdFx0XHRqUXVlcnkubWVyZ2UoIHJldCxcblx0XHRcdFx0XHR0eXBlb2YgYXJyID09PSBcInN0cmluZ1wiID9cblx0XHRcdFx0XHRbIGFyciBdIDogYXJyXG5cdFx0XHRcdCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRwdXNoLmNhbGwoIHJldCwgYXJyICk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHJldDtcblx0fSxcblxuXHRpbkFycmF5OiBmdW5jdGlvbiggZWxlbSwgYXJyLCBpICkge1xuXHRcdHJldHVybiBhcnIgPT0gbnVsbCA/IC0xIDogaW5kZXhPZi5jYWxsKCBhcnIsIGVsZW0sIGkgKTtcblx0fSxcblxuXHQvLyBTdXBwb3J0OiBBbmRyb2lkIDw9NC4wIG9ubHksIFBoYW50b21KUyAxIG9ubHlcblx0Ly8gcHVzaC5hcHBseShfLCBhcnJheWxpa2UpIHRocm93cyBvbiBhbmNpZW50IFdlYktpdFxuXHRtZXJnZTogZnVuY3Rpb24oIGZpcnN0LCBzZWNvbmQgKSB7XG5cdFx0dmFyIGxlbiA9ICtzZWNvbmQubGVuZ3RoLFxuXHRcdFx0aiA9IDAsXG5cdFx0XHRpID0gZmlyc3QubGVuZ3RoO1xuXG5cdFx0Zm9yICggOyBqIDwgbGVuOyBqKysgKSB7XG5cdFx0XHRmaXJzdFsgaSsrIF0gPSBzZWNvbmRbIGogXTtcblx0XHR9XG5cblx0XHRmaXJzdC5sZW5ndGggPSBpO1xuXG5cdFx0cmV0dXJuIGZpcnN0O1xuXHR9LFxuXG5cdGdyZXA6IGZ1bmN0aW9uKCBlbGVtcywgY2FsbGJhY2ssIGludmVydCApIHtcblx0XHR2YXIgY2FsbGJhY2tJbnZlcnNlLFxuXHRcdFx0bWF0Y2hlcyA9IFtdLFxuXHRcdFx0aSA9IDAsXG5cdFx0XHRsZW5ndGggPSBlbGVtcy5sZW5ndGgsXG5cdFx0XHRjYWxsYmFja0V4cGVjdCA9ICFpbnZlcnQ7XG5cblx0XHQvLyBHbyB0aHJvdWdoIHRoZSBhcnJheSwgb25seSBzYXZpbmcgdGhlIGl0ZW1zXG5cdFx0Ly8gdGhhdCBwYXNzIHRoZSB2YWxpZGF0b3IgZnVuY3Rpb25cblx0XHRmb3IgKCA7IGkgPCBsZW5ndGg7IGkrKyApIHtcblx0XHRcdGNhbGxiYWNrSW52ZXJzZSA9ICFjYWxsYmFjayggZWxlbXNbIGkgXSwgaSApO1xuXHRcdFx0aWYgKCBjYWxsYmFja0ludmVyc2UgIT09IGNhbGxiYWNrRXhwZWN0ICkge1xuXHRcdFx0XHRtYXRjaGVzLnB1c2goIGVsZW1zWyBpIF0gKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gbWF0Y2hlcztcblx0fSxcblxuXHQvLyBhcmcgaXMgZm9yIGludGVybmFsIHVzYWdlIG9ubHlcblx0bWFwOiBmdW5jdGlvbiggZWxlbXMsIGNhbGxiYWNrLCBhcmcgKSB7XG5cdFx0dmFyIGxlbmd0aCwgdmFsdWUsXG5cdFx0XHRpID0gMCxcblx0XHRcdHJldCA9IFtdO1xuXG5cdFx0Ly8gR28gdGhyb3VnaCB0aGUgYXJyYXksIHRyYW5zbGF0aW5nIGVhY2ggb2YgdGhlIGl0ZW1zIHRvIHRoZWlyIG5ldyB2YWx1ZXNcblx0XHRpZiAoIGlzQXJyYXlMaWtlKCBlbGVtcyApICkge1xuXHRcdFx0bGVuZ3RoID0gZWxlbXMubGVuZ3RoO1xuXHRcdFx0Zm9yICggOyBpIDwgbGVuZ3RoOyBpKysgKSB7XG5cdFx0XHRcdHZhbHVlID0gY2FsbGJhY2soIGVsZW1zWyBpIF0sIGksIGFyZyApO1xuXG5cdFx0XHRcdGlmICggdmFsdWUgIT0gbnVsbCApIHtcblx0XHRcdFx0XHRyZXQucHVzaCggdmFsdWUgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0Ly8gR28gdGhyb3VnaCBldmVyeSBrZXkgb24gdGhlIG9iamVjdCxcblx0XHR9IGVsc2Uge1xuXHRcdFx0Zm9yICggaSBpbiBlbGVtcyApIHtcblx0XHRcdFx0dmFsdWUgPSBjYWxsYmFjayggZWxlbXNbIGkgXSwgaSwgYXJnICk7XG5cblx0XHRcdFx0aWYgKCB2YWx1ZSAhPSBudWxsICkge1xuXHRcdFx0XHRcdHJldC5wdXNoKCB2YWx1ZSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gRmxhdHRlbiBhbnkgbmVzdGVkIGFycmF5c1xuXHRcdHJldHVybiBjb25jYXQuYXBwbHkoIFtdLCByZXQgKTtcblx0fSxcblxuXHQvLyBBIGdsb2JhbCBHVUlEIGNvdW50ZXIgZm9yIG9iamVjdHNcblx0Z3VpZDogMSxcblxuXHQvLyBCaW5kIGEgZnVuY3Rpb24gdG8gYSBjb250ZXh0LCBvcHRpb25hbGx5IHBhcnRpYWxseSBhcHBseWluZyBhbnlcblx0Ly8gYXJndW1lbnRzLlxuXHRwcm94eTogZnVuY3Rpb24oIGZuLCBjb250ZXh0ICkge1xuXHRcdHZhciB0bXAsIGFyZ3MsIHByb3h5O1xuXG5cdFx0aWYgKCB0eXBlb2YgY29udGV4dCA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdHRtcCA9IGZuWyBjb250ZXh0IF07XG5cdFx0XHRjb250ZXh0ID0gZm47XG5cdFx0XHRmbiA9IHRtcDtcblx0XHR9XG5cblx0XHQvLyBRdWljayBjaGVjayB0byBkZXRlcm1pbmUgaWYgdGFyZ2V0IGlzIGNhbGxhYmxlLCBpbiB0aGUgc3BlY1xuXHRcdC8vIHRoaXMgdGhyb3dzIGEgVHlwZUVycm9yLCBidXQgd2Ugd2lsbCBqdXN0IHJldHVybiB1bmRlZmluZWQuXG5cdFx0aWYgKCAhalF1ZXJ5LmlzRnVuY3Rpb24oIGZuICkgKSB7XG5cdFx0XHRyZXR1cm4gdW5kZWZpbmVkO1xuXHRcdH1cblxuXHRcdC8vIFNpbXVsYXRlZCBiaW5kXG5cdFx0YXJncyA9IHNsaWNlLmNhbGwoIGFyZ3VtZW50cywgMiApO1xuXHRcdHByb3h5ID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4gZm4uYXBwbHkoIGNvbnRleHQgfHwgdGhpcywgYXJncy5jb25jYXQoIHNsaWNlLmNhbGwoIGFyZ3VtZW50cyApICkgKTtcblx0XHR9O1xuXG5cdFx0Ly8gU2V0IHRoZSBndWlkIG9mIHVuaXF1ZSBoYW5kbGVyIHRvIHRoZSBzYW1lIG9mIG9yaWdpbmFsIGhhbmRsZXIsIHNvIGl0IGNhbiBiZSByZW1vdmVkXG5cdFx0cHJveHkuZ3VpZCA9IGZuLmd1aWQgPSBmbi5ndWlkIHx8IGpRdWVyeS5ndWlkKys7XG5cblx0XHRyZXR1cm4gcHJveHk7XG5cdH0sXG5cblx0bm93OiBEYXRlLm5vdyxcblxuXHQvLyBqUXVlcnkuc3VwcG9ydCBpcyBub3QgdXNlZCBpbiBDb3JlIGJ1dCBvdGhlciBwcm9qZWN0cyBhdHRhY2ggdGhlaXJcblx0Ly8gcHJvcGVydGllcyB0byBpdCBzbyBpdCBuZWVkcyB0byBleGlzdC5cblx0c3VwcG9ydDogc3VwcG9ydFxufSApO1xuXG5pZiAoIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiApIHtcblx0alF1ZXJ5LmZuWyBTeW1ib2wuaXRlcmF0b3IgXSA9IGFyclsgU3ltYm9sLml0ZXJhdG9yIF07XG59XG5cbi8vIFBvcHVsYXRlIHRoZSBjbGFzczJ0eXBlIG1hcFxualF1ZXJ5LmVhY2goIFwiQm9vbGVhbiBOdW1iZXIgU3RyaW5nIEZ1bmN0aW9uIEFycmF5IERhdGUgUmVnRXhwIE9iamVjdCBFcnJvciBTeW1ib2xcIi5zcGxpdCggXCIgXCIgKSxcbmZ1bmN0aW9uKCBpLCBuYW1lICkge1xuXHRjbGFzczJ0eXBlWyBcIltvYmplY3QgXCIgKyBuYW1lICsgXCJdXCIgXSA9IG5hbWUudG9Mb3dlckNhc2UoKTtcbn0gKTtcblxuZnVuY3Rpb24gaXNBcnJheUxpa2UoIG9iaiApIHtcblxuXHQvLyBTdXBwb3J0OiByZWFsIGlPUyA4LjIgb25seSAobm90IHJlcHJvZHVjaWJsZSBpbiBzaW11bGF0b3IpXG5cdC8vIGBpbmAgY2hlY2sgdXNlZCB0byBwcmV2ZW50IEpJVCBlcnJvciAoZ2gtMjE0NSlcblx0Ly8gaGFzT3duIGlzbid0IHVzZWQgaGVyZSBkdWUgdG8gZmFsc2UgbmVnYXRpdmVzXG5cdC8vIHJlZ2FyZGluZyBOb2RlbGlzdCBsZW5ndGggaW4gSUVcblx0dmFyIGxlbmd0aCA9ICEhb2JqICYmIFwibGVuZ3RoXCIgaW4gb2JqICYmIG9iai5sZW5ndGgsXG5cdFx0dHlwZSA9IGpRdWVyeS50eXBlKCBvYmogKTtcblxuXHRpZiAoIHR5cGUgPT09IFwiZnVuY3Rpb25cIiB8fCBqUXVlcnkuaXNXaW5kb3coIG9iaiApICkge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cdHJldHVybiB0eXBlID09PSBcImFycmF5XCIgfHwgbGVuZ3RoID09PSAwIHx8XG5cdFx0dHlwZW9mIGxlbmd0aCA9PT0gXCJudW1iZXJcIiAmJiBsZW5ndGggPiAwICYmICggbGVuZ3RoIC0gMSApIGluIG9iajtcbn1cbnZhciBTaXp6bGUgPVxuLyohXG4gKiBTaXp6bGUgQ1NTIFNlbGVjdG9yIEVuZ2luZSB2Mi4zLjNcbiAqIGh0dHBzOi8vc2l6emxlanMuY29tL1xuICpcbiAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2VcbiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2VcbiAqXG4gKiBEYXRlOiAyMDE2LTA4LTA4XG4gKi9cbihmdW5jdGlvbiggd2luZG93ICkge1xuXG52YXIgaSxcblx0c3VwcG9ydCxcblx0RXhwcixcblx0Z2V0VGV4dCxcblx0aXNYTUwsXG5cdHRva2VuaXplLFxuXHRjb21waWxlLFxuXHRzZWxlY3QsXG5cdG91dGVybW9zdENvbnRleHQsXG5cdHNvcnRJbnB1dCxcblx0aGFzRHVwbGljYXRlLFxuXG5cdC8vIExvY2FsIGRvY3VtZW50IHZhcnNcblx0c2V0RG9jdW1lbnQsXG5cdGRvY3VtZW50LFxuXHRkb2NFbGVtLFxuXHRkb2N1bWVudElzSFRNTCxcblx0cmJ1Z2d5UVNBLFxuXHRyYnVnZ3lNYXRjaGVzLFxuXHRtYXRjaGVzLFxuXHRjb250YWlucyxcblxuXHQvLyBJbnN0YW5jZS1zcGVjaWZpYyBkYXRhXG5cdGV4cGFuZG8gPSBcInNpenpsZVwiICsgMSAqIG5ldyBEYXRlKCksXG5cdHByZWZlcnJlZERvYyA9IHdpbmRvdy5kb2N1bWVudCxcblx0ZGlycnVucyA9IDAsXG5cdGRvbmUgPSAwLFxuXHRjbGFzc0NhY2hlID0gY3JlYXRlQ2FjaGUoKSxcblx0dG9rZW5DYWNoZSA9IGNyZWF0ZUNhY2hlKCksXG5cdGNvbXBpbGVyQ2FjaGUgPSBjcmVhdGVDYWNoZSgpLFxuXHRzb3J0T3JkZXIgPSBmdW5jdGlvbiggYSwgYiApIHtcblx0XHRpZiAoIGEgPT09IGIgKSB7XG5cdFx0XHRoYXNEdXBsaWNhdGUgPSB0cnVlO1xuXHRcdH1cblx0XHRyZXR1cm4gMDtcblx0fSxcblxuXHQvLyBJbnN0YW5jZSBtZXRob2RzXG5cdGhhc093biA9ICh7fSkuaGFzT3duUHJvcGVydHksXG5cdGFyciA9IFtdLFxuXHRwb3AgPSBhcnIucG9wLFxuXHRwdXNoX25hdGl2ZSA9IGFyci5wdXNoLFxuXHRwdXNoID0gYXJyLnB1c2gsXG5cdHNsaWNlID0gYXJyLnNsaWNlLFxuXHQvLyBVc2UgYSBzdHJpcHBlZC1kb3duIGluZGV4T2YgYXMgaXQncyBmYXN0ZXIgdGhhbiBuYXRpdmVcblx0Ly8gaHR0cHM6Ly9qc3BlcmYuY29tL3Rob3ItaW5kZXhvZi12cy1mb3IvNVxuXHRpbmRleE9mID0gZnVuY3Rpb24oIGxpc3QsIGVsZW0gKSB7XG5cdFx0dmFyIGkgPSAwLFxuXHRcdFx0bGVuID0gbGlzdC5sZW5ndGg7XG5cdFx0Zm9yICggOyBpIDwgbGVuOyBpKysgKSB7XG5cdFx0XHRpZiAoIGxpc3RbaV0gPT09IGVsZW0gKSB7XG5cdFx0XHRcdHJldHVybiBpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gLTE7XG5cdH0sXG5cblx0Ym9vbGVhbnMgPSBcImNoZWNrZWR8c2VsZWN0ZWR8YXN5bmN8YXV0b2ZvY3VzfGF1dG9wbGF5fGNvbnRyb2xzfGRlZmVyfGRpc2FibGVkfGhpZGRlbnxpc21hcHxsb29wfG11bHRpcGxlfG9wZW58cmVhZG9ubHl8cmVxdWlyZWR8c2NvcGVkXCIsXG5cblx0Ly8gUmVndWxhciBleHByZXNzaW9uc1xuXG5cdC8vIGh0dHA6Ly93d3cudzMub3JnL1RSL2NzczMtc2VsZWN0b3JzLyN3aGl0ZXNwYWNlXG5cdHdoaXRlc3BhY2UgPSBcIltcXFxceDIwXFxcXHRcXFxcclxcXFxuXFxcXGZdXCIsXG5cblx0Ly8gaHR0cDovL3d3dy53My5vcmcvVFIvQ1NTMjEvc3luZGF0YS5odG1sI3ZhbHVlLWRlZi1pZGVudGlmaWVyXG5cdGlkZW50aWZpZXIgPSBcIig/OlxcXFxcXFxcLnxbXFxcXHctXXxbXlxcMC1cXFxceGEwXSkrXCIsXG5cblx0Ly8gQXR0cmlidXRlIHNlbGVjdG9yczogaHR0cDovL3d3dy53My5vcmcvVFIvc2VsZWN0b3JzLyNhdHRyaWJ1dGUtc2VsZWN0b3JzXG5cdGF0dHJpYnV0ZXMgPSBcIlxcXFxbXCIgKyB3aGl0ZXNwYWNlICsgXCIqKFwiICsgaWRlbnRpZmllciArIFwiKSg/OlwiICsgd2hpdGVzcGFjZSArXG5cdFx0Ly8gT3BlcmF0b3IgKGNhcHR1cmUgMilcblx0XHRcIiooWypeJHwhfl0/PSlcIiArIHdoaXRlc3BhY2UgK1xuXHRcdC8vIFwiQXR0cmlidXRlIHZhbHVlcyBtdXN0IGJlIENTUyBpZGVudGlmaWVycyBbY2FwdHVyZSA1XSBvciBzdHJpbmdzIFtjYXB0dXJlIDMgb3IgY2FwdHVyZSA0XVwiXG5cdFx0XCIqKD86JygoPzpcXFxcXFxcXC58W15cXFxcXFxcXCddKSopJ3xcXFwiKCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcXFxcIl0pKilcXFwifChcIiArIGlkZW50aWZpZXIgKyBcIikpfClcIiArIHdoaXRlc3BhY2UgK1xuXHRcdFwiKlxcXFxdXCIsXG5cblx0cHNldWRvcyA9IFwiOihcIiArIGlkZW50aWZpZXIgKyBcIikoPzpcXFxcKChcIiArXG5cdFx0Ly8gVG8gcmVkdWNlIHRoZSBudW1iZXIgb2Ygc2VsZWN0b3JzIG5lZWRpbmcgdG9rZW5pemUgaW4gdGhlIHByZUZpbHRlciwgcHJlZmVyIGFyZ3VtZW50czpcblx0XHQvLyAxLiBxdW90ZWQgKGNhcHR1cmUgMzsgY2FwdHVyZSA0IG9yIGNhcHR1cmUgNSlcblx0XHRcIignKCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcJ10pKiknfFxcXCIoKD86XFxcXFxcXFwufFteXFxcXFxcXFxcXFwiXSkqKVxcXCIpfFwiICtcblx0XHQvLyAyLiBzaW1wbGUgKGNhcHR1cmUgNilcblx0XHRcIigoPzpcXFxcXFxcXC58W15cXFxcXFxcXCgpW1xcXFxdXXxcIiArIGF0dHJpYnV0ZXMgKyBcIikqKXxcIiArXG5cdFx0Ly8gMy4gYW55dGhpbmcgZWxzZSAoY2FwdHVyZSAyKVxuXHRcdFwiLipcIiArXG5cdFx0XCIpXFxcXCl8KVwiLFxuXG5cdC8vIExlYWRpbmcgYW5kIG5vbi1lc2NhcGVkIHRyYWlsaW5nIHdoaXRlc3BhY2UsIGNhcHR1cmluZyBzb21lIG5vbi13aGl0ZXNwYWNlIGNoYXJhY3RlcnMgcHJlY2VkaW5nIHRoZSBsYXR0ZXJcblx0cndoaXRlc3BhY2UgPSBuZXcgUmVnRXhwKCB3aGl0ZXNwYWNlICsgXCIrXCIsIFwiZ1wiICksXG5cdHJ0cmltID0gbmV3IFJlZ0V4cCggXCJeXCIgKyB3aGl0ZXNwYWNlICsgXCIrfCgoPzpefFteXFxcXFxcXFxdKSg/OlxcXFxcXFxcLikqKVwiICsgd2hpdGVzcGFjZSArIFwiKyRcIiwgXCJnXCIgKSxcblxuXHRyY29tbWEgPSBuZXcgUmVnRXhwKCBcIl5cIiArIHdoaXRlc3BhY2UgKyBcIiosXCIgKyB3aGl0ZXNwYWNlICsgXCIqXCIgKSxcblx0cmNvbWJpbmF0b3JzID0gbmV3IFJlZ0V4cCggXCJeXCIgKyB3aGl0ZXNwYWNlICsgXCIqKFs+K35dfFwiICsgd2hpdGVzcGFjZSArIFwiKVwiICsgd2hpdGVzcGFjZSArIFwiKlwiICksXG5cblx0cmF0dHJpYnV0ZVF1b3RlcyA9IG5ldyBSZWdFeHAoIFwiPVwiICsgd2hpdGVzcGFjZSArIFwiKihbXlxcXFxdJ1xcXCJdKj8pXCIgKyB3aGl0ZXNwYWNlICsgXCIqXFxcXF1cIiwgXCJnXCIgKSxcblxuXHRycHNldWRvID0gbmV3IFJlZ0V4cCggcHNldWRvcyApLFxuXHRyaWRlbnRpZmllciA9IG5ldyBSZWdFeHAoIFwiXlwiICsgaWRlbnRpZmllciArIFwiJFwiICksXG5cblx0bWF0Y2hFeHByID0ge1xuXHRcdFwiSURcIjogbmV3IFJlZ0V4cCggXCJeIyhcIiArIGlkZW50aWZpZXIgKyBcIilcIiApLFxuXHRcdFwiQ0xBU1NcIjogbmV3IFJlZ0V4cCggXCJeXFxcXC4oXCIgKyBpZGVudGlmaWVyICsgXCIpXCIgKSxcblx0XHRcIlRBR1wiOiBuZXcgUmVnRXhwKCBcIl4oXCIgKyBpZGVudGlmaWVyICsgXCJ8WypdKVwiICksXG5cdFx0XCJBVFRSXCI6IG5ldyBSZWdFeHAoIFwiXlwiICsgYXR0cmlidXRlcyApLFxuXHRcdFwiUFNFVURPXCI6IG5ldyBSZWdFeHAoIFwiXlwiICsgcHNldWRvcyApLFxuXHRcdFwiQ0hJTERcIjogbmV3IFJlZ0V4cCggXCJeOihvbmx5fGZpcnN0fGxhc3R8bnRofG50aC1sYXN0KS0oY2hpbGR8b2YtdHlwZSkoPzpcXFxcKFwiICsgd2hpdGVzcGFjZSArXG5cdFx0XHRcIiooZXZlbnxvZGR8KChbKy1dfCkoXFxcXGQqKW58KVwiICsgd2hpdGVzcGFjZSArIFwiKig/OihbKy1dfClcIiArIHdoaXRlc3BhY2UgK1xuXHRcdFx0XCIqKFxcXFxkKyl8KSlcIiArIHdoaXRlc3BhY2UgKyBcIipcXFxcKXwpXCIsIFwiaVwiICksXG5cdFx0XCJib29sXCI6IG5ldyBSZWdFeHAoIFwiXig/OlwiICsgYm9vbGVhbnMgKyBcIikkXCIsIFwiaVwiICksXG5cdFx0Ly8gRm9yIHVzZSBpbiBsaWJyYXJpZXMgaW1wbGVtZW50aW5nIC5pcygpXG5cdFx0Ly8gV2UgdXNlIHRoaXMgZm9yIFBPUyBtYXRjaGluZyBpbiBgc2VsZWN0YFxuXHRcdFwibmVlZHNDb250ZXh0XCI6IG5ldyBSZWdFeHAoIFwiXlwiICsgd2hpdGVzcGFjZSArIFwiKls+K35dfDooZXZlbnxvZGR8ZXF8Z3R8bHR8bnRofGZpcnN0fGxhc3QpKD86XFxcXChcIiArXG5cdFx0XHR3aGl0ZXNwYWNlICsgXCIqKCg/Oi1cXFxcZCk/XFxcXGQqKVwiICsgd2hpdGVzcGFjZSArIFwiKlxcXFwpfCkoPz1bXi1dfCQpXCIsIFwiaVwiIClcblx0fSxcblxuXHRyaW5wdXRzID0gL14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9uKSQvaSxcblx0cmhlYWRlciA9IC9eaFxcZCQvaSxcblxuXHRybmF0aXZlID0gL15bXntdK1xce1xccypcXFtuYXRpdmUgXFx3LyxcblxuXHQvLyBFYXNpbHktcGFyc2VhYmxlL3JldHJpZXZhYmxlIElEIG9yIFRBRyBvciBDTEFTUyBzZWxlY3RvcnNcblx0cnF1aWNrRXhwciA9IC9eKD86IyhbXFx3LV0rKXwoXFx3Kyl8XFwuKFtcXHctXSspKSQvLFxuXG5cdHJzaWJsaW5nID0gL1srfl0vLFxuXG5cdC8vIENTUyBlc2NhcGVzXG5cdC8vIGh0dHA6Ly93d3cudzMub3JnL1RSL0NTUzIxL3N5bmRhdGEuaHRtbCNlc2NhcGVkLWNoYXJhY3RlcnNcblx0cnVuZXNjYXBlID0gbmV3IFJlZ0V4cCggXCJcXFxcXFxcXChbXFxcXGRhLWZdezEsNn1cIiArIHdoaXRlc3BhY2UgKyBcIj98KFwiICsgd2hpdGVzcGFjZSArIFwiKXwuKVwiLCBcImlnXCIgKSxcblx0ZnVuZXNjYXBlID0gZnVuY3Rpb24oIF8sIGVzY2FwZWQsIGVzY2FwZWRXaGl0ZXNwYWNlICkge1xuXHRcdHZhciBoaWdoID0gXCIweFwiICsgZXNjYXBlZCAtIDB4MTAwMDA7XG5cdFx0Ly8gTmFOIG1lYW5zIG5vbi1jb2RlcG9pbnRcblx0XHQvLyBTdXBwb3J0OiBGaXJlZm94PDI0XG5cdFx0Ly8gV29ya2Fyb3VuZCBlcnJvbmVvdXMgbnVtZXJpYyBpbnRlcnByZXRhdGlvbiBvZiArXCIweFwiXG5cdFx0cmV0dXJuIGhpZ2ggIT09IGhpZ2ggfHwgZXNjYXBlZFdoaXRlc3BhY2UgP1xuXHRcdFx0ZXNjYXBlZCA6XG5cdFx0XHRoaWdoIDwgMCA/XG5cdFx0XHRcdC8vIEJNUCBjb2RlcG9pbnRcblx0XHRcdFx0U3RyaW5nLmZyb21DaGFyQ29kZSggaGlnaCArIDB4MTAwMDAgKSA6XG5cdFx0XHRcdC8vIFN1cHBsZW1lbnRhbCBQbGFuZSBjb2RlcG9pbnQgKHN1cnJvZ2F0ZSBwYWlyKVxuXHRcdFx0XHRTdHJpbmcuZnJvbUNoYXJDb2RlKCBoaWdoID4+IDEwIHwgMHhEODAwLCBoaWdoICYgMHgzRkYgfCAweERDMDAgKTtcblx0fSxcblxuXHQvLyBDU1Mgc3RyaW5nL2lkZW50aWZpZXIgc2VyaWFsaXphdGlvblxuXHQvLyBodHRwczovL2RyYWZ0cy5jc3N3Zy5vcmcvY3Nzb20vI2NvbW1vbi1zZXJpYWxpemluZy1pZGlvbXNcblx0cmNzc2VzY2FwZSA9IC8oW1xcMC1cXHgxZlxceDdmXXxeLT9cXGQpfF4tJHxbXlxcMC1cXHgxZlxceDdmLVxcdUZGRkZcXHctXS9nLFxuXHRmY3NzZXNjYXBlID0gZnVuY3Rpb24oIGNoLCBhc0NvZGVQb2ludCApIHtcblx0XHRpZiAoIGFzQ29kZVBvaW50ICkge1xuXG5cdFx0XHQvLyBVKzAwMDAgTlVMTCBiZWNvbWVzIFUrRkZGRCBSRVBMQUNFTUVOVCBDSEFSQUNURVJcblx0XHRcdGlmICggY2ggPT09IFwiXFwwXCIgKSB7XG5cdFx0XHRcdHJldHVybiBcIlxcdUZGRkRcIjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQ29udHJvbCBjaGFyYWN0ZXJzIGFuZCAoZGVwZW5kZW50IHVwb24gcG9zaXRpb24pIG51bWJlcnMgZ2V0IGVzY2FwZWQgYXMgY29kZSBwb2ludHNcblx0XHRcdHJldHVybiBjaC5zbGljZSggMCwgLTEgKSArIFwiXFxcXFwiICsgY2guY2hhckNvZGVBdCggY2gubGVuZ3RoIC0gMSApLnRvU3RyaW5nKCAxNiApICsgXCIgXCI7XG5cdFx0fVxuXG5cdFx0Ly8gT3RoZXIgcG90ZW50aWFsbHktc3BlY2lhbCBBU0NJSSBjaGFyYWN0ZXJzIGdldCBiYWNrc2xhc2gtZXNjYXBlZFxuXHRcdHJldHVybiBcIlxcXFxcIiArIGNoO1xuXHR9LFxuXG5cdC8vIFVzZWQgZm9yIGlmcmFtZXNcblx0Ly8gU2VlIHNldERvY3VtZW50KClcblx0Ly8gUmVtb3ZpbmcgdGhlIGZ1bmN0aW9uIHdyYXBwZXIgY2F1c2VzIGEgXCJQZXJtaXNzaW9uIERlbmllZFwiXG5cdC8vIGVycm9yIGluIElFXG5cdHVubG9hZEhhbmRsZXIgPSBmdW5jdGlvbigpIHtcblx0XHRzZXREb2N1bWVudCgpO1xuXHR9LFxuXG5cdGRpc2FibGVkQW5jZXN0b3IgPSBhZGRDb21iaW5hdG9yKFxuXHRcdGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuIGVsZW0uZGlzYWJsZWQgPT09IHRydWUgJiYgKFwiZm9ybVwiIGluIGVsZW0gfHwgXCJsYWJlbFwiIGluIGVsZW0pO1xuXHRcdH0sXG5cdFx0eyBkaXI6IFwicGFyZW50Tm9kZVwiLCBuZXh0OiBcImxlZ2VuZFwiIH1cblx0KTtcblxuLy8gT3B0aW1pemUgZm9yIHB1c2guYXBwbHkoIF8sIE5vZGVMaXN0IClcbnRyeSB7XG5cdHB1c2guYXBwbHkoXG5cdFx0KGFyciA9IHNsaWNlLmNhbGwoIHByZWZlcnJlZERvYy5jaGlsZE5vZGVzICkpLFxuXHRcdHByZWZlcnJlZERvYy5jaGlsZE5vZGVzXG5cdCk7XG5cdC8vIFN1cHBvcnQ6IEFuZHJvaWQ8NC4wXG5cdC8vIERldGVjdCBzaWxlbnRseSBmYWlsaW5nIHB1c2guYXBwbHlcblx0YXJyWyBwcmVmZXJyZWREb2MuY2hpbGROb2Rlcy5sZW5ndGggXS5ub2RlVHlwZTtcbn0gY2F0Y2ggKCBlICkge1xuXHRwdXNoID0geyBhcHBseTogYXJyLmxlbmd0aCA/XG5cblx0XHQvLyBMZXZlcmFnZSBzbGljZSBpZiBwb3NzaWJsZVxuXHRcdGZ1bmN0aW9uKCB0YXJnZXQsIGVscyApIHtcblx0XHRcdHB1c2hfbmF0aXZlLmFwcGx5KCB0YXJnZXQsIHNsaWNlLmNhbGwoZWxzKSApO1xuXHRcdH0gOlxuXG5cdFx0Ly8gU3VwcG9ydDogSUU8OVxuXHRcdC8vIE90aGVyd2lzZSBhcHBlbmQgZGlyZWN0bHlcblx0XHRmdW5jdGlvbiggdGFyZ2V0LCBlbHMgKSB7XG5cdFx0XHR2YXIgaiA9IHRhcmdldC5sZW5ndGgsXG5cdFx0XHRcdGkgPSAwO1xuXHRcdFx0Ly8gQ2FuJ3QgdHJ1c3QgTm9kZUxpc3QubGVuZ3RoXG5cdFx0XHR3aGlsZSAoICh0YXJnZXRbaisrXSA9IGVsc1tpKytdKSApIHt9XG5cdFx0XHR0YXJnZXQubGVuZ3RoID0gaiAtIDE7XG5cdFx0fVxuXHR9O1xufVxuXG5mdW5jdGlvbiBTaXp6bGUoIHNlbGVjdG9yLCBjb250ZXh0LCByZXN1bHRzLCBzZWVkICkge1xuXHR2YXIgbSwgaSwgZWxlbSwgbmlkLCBtYXRjaCwgZ3JvdXBzLCBuZXdTZWxlY3Rvcixcblx0XHRuZXdDb250ZXh0ID0gY29udGV4dCAmJiBjb250ZXh0Lm93bmVyRG9jdW1lbnQsXG5cblx0XHQvLyBub2RlVHlwZSBkZWZhdWx0cyB0byA5LCBzaW5jZSBjb250ZXh0IGRlZmF1bHRzIHRvIGRvY3VtZW50XG5cdFx0bm9kZVR5cGUgPSBjb250ZXh0ID8gY29udGV4dC5ub2RlVHlwZSA6IDk7XG5cblx0cmVzdWx0cyA9IHJlc3VsdHMgfHwgW107XG5cblx0Ly8gUmV0dXJuIGVhcmx5IGZyb20gY2FsbHMgd2l0aCBpbnZhbGlkIHNlbGVjdG9yIG9yIGNvbnRleHRcblx0aWYgKCB0eXBlb2Ygc2VsZWN0b3IgIT09IFwic3RyaW5nXCIgfHwgIXNlbGVjdG9yIHx8XG5cdFx0bm9kZVR5cGUgIT09IDEgJiYgbm9kZVR5cGUgIT09IDkgJiYgbm9kZVR5cGUgIT09IDExICkge1xuXG5cdFx0cmV0dXJuIHJlc3VsdHM7XG5cdH1cblxuXHQvLyBUcnkgdG8gc2hvcnRjdXQgZmluZCBvcGVyYXRpb25zIChhcyBvcHBvc2VkIHRvIGZpbHRlcnMpIGluIEhUTUwgZG9jdW1lbnRzXG5cdGlmICggIXNlZWQgKSB7XG5cblx0XHRpZiAoICggY29udGV4dCA/IGNvbnRleHQub3duZXJEb2N1bWVudCB8fCBjb250ZXh0IDogcHJlZmVycmVkRG9jICkgIT09IGRvY3VtZW50ICkge1xuXHRcdFx0c2V0RG9jdW1lbnQoIGNvbnRleHQgKTtcblx0XHR9XG5cdFx0Y29udGV4dCA9IGNvbnRleHQgfHwgZG9jdW1lbnQ7XG5cblx0XHRpZiAoIGRvY3VtZW50SXNIVE1MICkge1xuXG5cdFx0XHQvLyBJZiB0aGUgc2VsZWN0b3IgaXMgc3VmZmljaWVudGx5IHNpbXBsZSwgdHJ5IHVzaW5nIGEgXCJnZXQqQnkqXCIgRE9NIG1ldGhvZFxuXHRcdFx0Ly8gKGV4Y2VwdGluZyBEb2N1bWVudEZyYWdtZW50IGNvbnRleHQsIHdoZXJlIHRoZSBtZXRob2RzIGRvbid0IGV4aXN0KVxuXHRcdFx0aWYgKCBub2RlVHlwZSAhPT0gMTEgJiYgKG1hdGNoID0gcnF1aWNrRXhwci5leGVjKCBzZWxlY3RvciApKSApIHtcblxuXHRcdFx0XHQvLyBJRCBzZWxlY3RvclxuXHRcdFx0XHRpZiAoIChtID0gbWF0Y2hbMV0pICkge1xuXG5cdFx0XHRcdFx0Ly8gRG9jdW1lbnQgY29udGV4dFxuXHRcdFx0XHRcdGlmICggbm9kZVR5cGUgPT09IDkgKSB7XG5cdFx0XHRcdFx0XHRpZiAoIChlbGVtID0gY29udGV4dC5nZXRFbGVtZW50QnlJZCggbSApKSApIHtcblxuXHRcdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRSwgT3BlcmEsIFdlYmtpdFxuXHRcdFx0XHRcdFx0XHQvLyBUT0RPOiBpZGVudGlmeSB2ZXJzaW9uc1xuXHRcdFx0XHRcdFx0XHQvLyBnZXRFbGVtZW50QnlJZCBjYW4gbWF0Y2ggZWxlbWVudHMgYnkgbmFtZSBpbnN0ZWFkIG9mIElEXG5cdFx0XHRcdFx0XHRcdGlmICggZWxlbS5pZCA9PT0gbSApIHtcblx0XHRcdFx0XHRcdFx0XHRyZXN1bHRzLnB1c2goIGVsZW0gKTtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gcmVzdWx0cztcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHJlc3VsdHM7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBFbGVtZW50IGNvbnRleHRcblx0XHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRSwgT3BlcmEsIFdlYmtpdFxuXHRcdFx0XHRcdFx0Ly8gVE9ETzogaWRlbnRpZnkgdmVyc2lvbnNcblx0XHRcdFx0XHRcdC8vIGdldEVsZW1lbnRCeUlkIGNhbiBtYXRjaCBlbGVtZW50cyBieSBuYW1lIGluc3RlYWQgb2YgSURcblx0XHRcdFx0XHRcdGlmICggbmV3Q29udGV4dCAmJiAoZWxlbSA9IG5ld0NvbnRleHQuZ2V0RWxlbWVudEJ5SWQoIG0gKSkgJiZcblx0XHRcdFx0XHRcdFx0Y29udGFpbnMoIGNvbnRleHQsIGVsZW0gKSAmJlxuXHRcdFx0XHRcdFx0XHRlbGVtLmlkID09PSBtICkge1xuXG5cdFx0XHRcdFx0XHRcdHJlc3VsdHMucHVzaCggZWxlbSApO1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gcmVzdWx0cztcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gVHlwZSBzZWxlY3RvclxuXHRcdFx0XHR9IGVsc2UgaWYgKCBtYXRjaFsyXSApIHtcblx0XHRcdFx0XHRwdXNoLmFwcGx5KCByZXN1bHRzLCBjb250ZXh0LmdldEVsZW1lbnRzQnlUYWdOYW1lKCBzZWxlY3RvciApICk7XG5cdFx0XHRcdFx0cmV0dXJuIHJlc3VsdHM7XG5cblx0XHRcdFx0Ly8gQ2xhc3Mgc2VsZWN0b3Jcblx0XHRcdFx0fSBlbHNlIGlmICggKG0gPSBtYXRjaFszXSkgJiYgc3VwcG9ydC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lICYmXG5cdFx0XHRcdFx0Y29udGV4dC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lICkge1xuXG5cdFx0XHRcdFx0cHVzaC5hcHBseSggcmVzdWx0cywgY29udGV4dC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCBtICkgKTtcblx0XHRcdFx0XHRyZXR1cm4gcmVzdWx0cztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBUYWtlIGFkdmFudGFnZSBvZiBxdWVyeVNlbGVjdG9yQWxsXG5cdFx0XHRpZiAoIHN1cHBvcnQucXNhICYmXG5cdFx0XHRcdCFjb21waWxlckNhY2hlWyBzZWxlY3RvciArIFwiIFwiIF0gJiZcblx0XHRcdFx0KCFyYnVnZ3lRU0EgfHwgIXJidWdneVFTQS50ZXN0KCBzZWxlY3RvciApKSApIHtcblxuXHRcdFx0XHRpZiAoIG5vZGVUeXBlICE9PSAxICkge1xuXHRcdFx0XHRcdG5ld0NvbnRleHQgPSBjb250ZXh0O1xuXHRcdFx0XHRcdG5ld1NlbGVjdG9yID0gc2VsZWN0b3I7XG5cblx0XHRcdFx0Ly8gcVNBIGxvb2tzIG91dHNpZGUgRWxlbWVudCBjb250ZXh0LCB3aGljaCBpcyBub3Qgd2hhdCB3ZSB3YW50XG5cdFx0XHRcdC8vIFRoYW5rcyB0byBBbmRyZXcgRHVwb250IGZvciB0aGlzIHdvcmthcm91bmQgdGVjaG5pcXVlXG5cdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDw9OFxuXHRcdFx0XHQvLyBFeGNsdWRlIG9iamVjdCBlbGVtZW50c1xuXHRcdFx0XHR9IGVsc2UgaWYgKCBjb250ZXh0Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgIT09IFwib2JqZWN0XCIgKSB7XG5cblx0XHRcdFx0XHQvLyBDYXB0dXJlIHRoZSBjb250ZXh0IElELCBzZXR0aW5nIGl0IGZpcnN0IGlmIG5lY2Vzc2FyeVxuXHRcdFx0XHRcdGlmICggKG5pZCA9IGNvbnRleHQuZ2V0QXR0cmlidXRlKCBcImlkXCIgKSkgKSB7XG5cdFx0XHRcdFx0XHRuaWQgPSBuaWQucmVwbGFjZSggcmNzc2VzY2FwZSwgZmNzc2VzY2FwZSApO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0LnNldEF0dHJpYnV0ZSggXCJpZFwiLCAobmlkID0gZXhwYW5kbykgKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBQcmVmaXggZXZlcnkgc2VsZWN0b3IgaW4gdGhlIGxpc3Rcblx0XHRcdFx0XHRncm91cHMgPSB0b2tlbml6ZSggc2VsZWN0b3IgKTtcblx0XHRcdFx0XHRpID0gZ3JvdXBzLmxlbmd0aDtcblx0XHRcdFx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdFx0XHRcdGdyb3Vwc1tpXSA9IFwiI1wiICsgbmlkICsgXCIgXCIgKyB0b1NlbGVjdG9yKCBncm91cHNbaV0gKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0bmV3U2VsZWN0b3IgPSBncm91cHMuam9pbiggXCIsXCIgKTtcblxuXHRcdFx0XHRcdC8vIEV4cGFuZCBjb250ZXh0IGZvciBzaWJsaW5nIHNlbGVjdG9yc1xuXHRcdFx0XHRcdG5ld0NvbnRleHQgPSByc2libGluZy50ZXN0KCBzZWxlY3RvciApICYmIHRlc3RDb250ZXh0KCBjb250ZXh0LnBhcmVudE5vZGUgKSB8fFxuXHRcdFx0XHRcdFx0Y29udGV4dDtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmICggbmV3U2VsZWN0b3IgKSB7XG5cdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdHB1c2guYXBwbHkoIHJlc3VsdHMsXG5cdFx0XHRcdFx0XHRcdG5ld0NvbnRleHQucXVlcnlTZWxlY3RvckFsbCggbmV3U2VsZWN0b3IgKVxuXHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdHJldHVybiByZXN1bHRzO1xuXHRcdFx0XHRcdH0gY2F0Y2ggKCBxc2FFcnJvciApIHtcblx0XHRcdFx0XHR9IGZpbmFsbHkge1xuXHRcdFx0XHRcdFx0aWYgKCBuaWQgPT09IGV4cGFuZG8gKSB7XG5cdFx0XHRcdFx0XHRcdGNvbnRleHQucmVtb3ZlQXR0cmlidXRlKCBcImlkXCIgKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQvLyBBbGwgb3RoZXJzXG5cdHJldHVybiBzZWxlY3QoIHNlbGVjdG9yLnJlcGxhY2UoIHJ0cmltLCBcIiQxXCIgKSwgY29udGV4dCwgcmVzdWx0cywgc2VlZCApO1xufVxuXG4vKipcbiAqIENyZWF0ZSBrZXktdmFsdWUgY2FjaGVzIG9mIGxpbWl0ZWQgc2l6ZVxuICogQHJldHVybnMge2Z1bmN0aW9uKHN0cmluZywgb2JqZWN0KX0gUmV0dXJucyB0aGUgT2JqZWN0IGRhdGEgYWZ0ZXIgc3RvcmluZyBpdCBvbiBpdHNlbGYgd2l0aFxuICpcdHByb3BlcnR5IG5hbWUgdGhlIChzcGFjZS1zdWZmaXhlZCkgc3RyaW5nIGFuZCAoaWYgdGhlIGNhY2hlIGlzIGxhcmdlciB0aGFuIEV4cHIuY2FjaGVMZW5ndGgpXG4gKlx0ZGVsZXRpbmcgdGhlIG9sZGVzdCBlbnRyeVxuICovXG5mdW5jdGlvbiBjcmVhdGVDYWNoZSgpIHtcblx0dmFyIGtleXMgPSBbXTtcblxuXHRmdW5jdGlvbiBjYWNoZSgga2V5LCB2YWx1ZSApIHtcblx0XHQvLyBVc2UgKGtleSArIFwiIFwiKSB0byBhdm9pZCBjb2xsaXNpb24gd2l0aCBuYXRpdmUgcHJvdG90eXBlIHByb3BlcnRpZXMgKHNlZSBJc3N1ZSAjMTU3KVxuXHRcdGlmICgga2V5cy5wdXNoKCBrZXkgKyBcIiBcIiApID4gRXhwci5jYWNoZUxlbmd0aCApIHtcblx0XHRcdC8vIE9ubHkga2VlcCB0aGUgbW9zdCByZWNlbnQgZW50cmllc1xuXHRcdFx0ZGVsZXRlIGNhY2hlWyBrZXlzLnNoaWZ0KCkgXTtcblx0XHR9XG5cdFx0cmV0dXJuIChjYWNoZVsga2V5ICsgXCIgXCIgXSA9IHZhbHVlKTtcblx0fVxuXHRyZXR1cm4gY2FjaGU7XG59XG5cbi8qKlxuICogTWFyayBhIGZ1bmN0aW9uIGZvciBzcGVjaWFsIHVzZSBieSBTaXp6bGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBmdW5jdGlvbiB0byBtYXJrXG4gKi9cbmZ1bmN0aW9uIG1hcmtGdW5jdGlvbiggZm4gKSB7XG5cdGZuWyBleHBhbmRvIF0gPSB0cnVlO1xuXHRyZXR1cm4gZm47XG59XG5cbi8qKlxuICogU3VwcG9ydCB0ZXN0aW5nIHVzaW5nIGFuIGVsZW1lbnRcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFBhc3NlZCB0aGUgY3JlYXRlZCBlbGVtZW50IGFuZCByZXR1cm5zIGEgYm9vbGVhbiByZXN1bHRcbiAqL1xuZnVuY3Rpb24gYXNzZXJ0KCBmbiApIHtcblx0dmFyIGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImZpZWxkc2V0XCIpO1xuXG5cdHRyeSB7XG5cdFx0cmV0dXJuICEhZm4oIGVsICk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH0gZmluYWxseSB7XG5cdFx0Ly8gUmVtb3ZlIGZyb20gaXRzIHBhcmVudCBieSBkZWZhdWx0XG5cdFx0aWYgKCBlbC5wYXJlbnROb2RlICkge1xuXHRcdFx0ZWwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCggZWwgKTtcblx0XHR9XG5cdFx0Ly8gcmVsZWFzZSBtZW1vcnkgaW4gSUVcblx0XHRlbCA9IG51bGw7XG5cdH1cbn1cblxuLyoqXG4gKiBBZGRzIHRoZSBzYW1lIGhhbmRsZXIgZm9yIGFsbCBvZiB0aGUgc3BlY2lmaWVkIGF0dHJzXG4gKiBAcGFyYW0ge1N0cmluZ30gYXR0cnMgUGlwZS1zZXBhcmF0ZWQgbGlzdCBvZiBhdHRyaWJ1dGVzXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBoYW5kbGVyIFRoZSBtZXRob2QgdGhhdCB3aWxsIGJlIGFwcGxpZWRcbiAqL1xuZnVuY3Rpb24gYWRkSGFuZGxlKCBhdHRycywgaGFuZGxlciApIHtcblx0dmFyIGFyciA9IGF0dHJzLnNwbGl0KFwifFwiKSxcblx0XHRpID0gYXJyLmxlbmd0aDtcblxuXHR3aGlsZSAoIGktLSApIHtcblx0XHRFeHByLmF0dHJIYW5kbGVbIGFycltpXSBdID0gaGFuZGxlcjtcblx0fVxufVxuXG4vKipcbiAqIENoZWNrcyBkb2N1bWVudCBvcmRlciBvZiB0d28gc2libGluZ3NcbiAqIEBwYXJhbSB7RWxlbWVudH0gYVxuICogQHBhcmFtIHtFbGVtZW50fSBiXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBSZXR1cm5zIGxlc3MgdGhhbiAwIGlmIGEgcHJlY2VkZXMgYiwgZ3JlYXRlciB0aGFuIDAgaWYgYSBmb2xsb3dzIGJcbiAqL1xuZnVuY3Rpb24gc2libGluZ0NoZWNrKCBhLCBiICkge1xuXHR2YXIgY3VyID0gYiAmJiBhLFxuXHRcdGRpZmYgPSBjdXIgJiYgYS5ub2RlVHlwZSA9PT0gMSAmJiBiLm5vZGVUeXBlID09PSAxICYmXG5cdFx0XHRhLnNvdXJjZUluZGV4IC0gYi5zb3VyY2VJbmRleDtcblxuXHQvLyBVc2UgSUUgc291cmNlSW5kZXggaWYgYXZhaWxhYmxlIG9uIGJvdGggbm9kZXNcblx0aWYgKCBkaWZmICkge1xuXHRcdHJldHVybiBkaWZmO1xuXHR9XG5cblx0Ly8gQ2hlY2sgaWYgYiBmb2xsb3dzIGFcblx0aWYgKCBjdXIgKSB7XG5cdFx0d2hpbGUgKCAoY3VyID0gY3VyLm5leHRTaWJsaW5nKSApIHtcblx0XHRcdGlmICggY3VyID09PSBiICkge1xuXHRcdFx0XHRyZXR1cm4gLTE7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIGEgPyAxIDogLTE7XG59XG5cbi8qKlxuICogUmV0dXJucyBhIGZ1bmN0aW9uIHRvIHVzZSBpbiBwc2V1ZG9zIGZvciBpbnB1dCB0eXBlc1xuICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcbiAqL1xuZnVuY3Rpb24gY3JlYXRlSW5wdXRQc2V1ZG8oIHR5cGUgKSB7XG5cdHJldHVybiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHR2YXIgbmFtZSA9IGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcblx0XHRyZXR1cm4gbmFtZSA9PT0gXCJpbnB1dFwiICYmIGVsZW0udHlwZSA9PT0gdHlwZTtcblx0fTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgZnVuY3Rpb24gdG8gdXNlIGluIHBzZXVkb3MgZm9yIGJ1dHRvbnNcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUJ1dHRvblBzZXVkbyggdHlwZSApIHtcblx0cmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdHZhciBuYW1lID0gZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO1xuXHRcdHJldHVybiAobmFtZSA9PT0gXCJpbnB1dFwiIHx8IG5hbWUgPT09IFwiYnV0dG9uXCIpICYmIGVsZW0udHlwZSA9PT0gdHlwZTtcblx0fTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgZnVuY3Rpb24gdG8gdXNlIGluIHBzZXVkb3MgZm9yIDplbmFibGVkLzpkaXNhYmxlZFxuICogQHBhcmFtIHtCb29sZWFufSBkaXNhYmxlZCB0cnVlIGZvciA6ZGlzYWJsZWQ7IGZhbHNlIGZvciA6ZW5hYmxlZFxuICovXG5mdW5jdGlvbiBjcmVhdGVEaXNhYmxlZFBzZXVkbyggZGlzYWJsZWQgKSB7XG5cblx0Ly8gS25vd24gOmRpc2FibGVkIGZhbHNlIHBvc2l0aXZlczogZmllbGRzZXRbZGlzYWJsZWRdID4gbGVnZW5kOm50aC1vZi10eXBlKG4rMikgOmNhbi1kaXNhYmxlXG5cdHJldHVybiBmdW5jdGlvbiggZWxlbSApIHtcblxuXHRcdC8vIE9ubHkgY2VydGFpbiBlbGVtZW50cyBjYW4gbWF0Y2ggOmVuYWJsZWQgb3IgOmRpc2FibGVkXG5cdFx0Ly8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2Uvc2NyaXB0aW5nLmh0bWwjc2VsZWN0b3ItZW5hYmxlZFxuXHRcdC8vIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL3NjcmlwdGluZy5odG1sI3NlbGVjdG9yLWRpc2FibGVkXG5cdFx0aWYgKCBcImZvcm1cIiBpbiBlbGVtICkge1xuXG5cdFx0XHQvLyBDaGVjayBmb3IgaW5oZXJpdGVkIGRpc2FibGVkbmVzcyBvbiByZWxldmFudCBub24tZGlzYWJsZWQgZWxlbWVudHM6XG5cdFx0XHQvLyAqIGxpc3RlZCBmb3JtLWFzc29jaWF0ZWQgZWxlbWVudHMgaW4gYSBkaXNhYmxlZCBmaWVsZHNldFxuXHRcdFx0Ly8gICBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9mb3Jtcy5odG1sI2NhdGVnb3J5LWxpc3RlZFxuXHRcdFx0Ly8gICBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9mb3Jtcy5odG1sI2NvbmNlcHQtZmUtZGlzYWJsZWRcblx0XHRcdC8vICogb3B0aW9uIGVsZW1lbnRzIGluIGEgZGlzYWJsZWQgb3B0Z3JvdXBcblx0XHRcdC8vICAgaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvZm9ybXMuaHRtbCNjb25jZXB0LW9wdGlvbi1kaXNhYmxlZFxuXHRcdFx0Ly8gQWxsIHN1Y2ggZWxlbWVudHMgaGF2ZSBhIFwiZm9ybVwiIHByb3BlcnR5LlxuXHRcdFx0aWYgKCBlbGVtLnBhcmVudE5vZGUgJiYgZWxlbS5kaXNhYmxlZCA9PT0gZmFsc2UgKSB7XG5cblx0XHRcdFx0Ly8gT3B0aW9uIGVsZW1lbnRzIGRlZmVyIHRvIGEgcGFyZW50IG9wdGdyb3VwIGlmIHByZXNlbnRcblx0XHRcdFx0aWYgKCBcImxhYmVsXCIgaW4gZWxlbSApIHtcblx0XHRcdFx0XHRpZiAoIFwibGFiZWxcIiBpbiBlbGVtLnBhcmVudE5vZGUgKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZWxlbS5wYXJlbnROb2RlLmRpc2FibGVkID09PSBkaXNhYmxlZDtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0cmV0dXJuIGVsZW0uZGlzYWJsZWQgPT09IGRpc2FibGVkO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDYgLSAxMVxuXHRcdFx0XHQvLyBVc2UgdGhlIGlzRGlzYWJsZWQgc2hvcnRjdXQgcHJvcGVydHkgdG8gY2hlY2sgZm9yIGRpc2FibGVkIGZpZWxkc2V0IGFuY2VzdG9yc1xuXHRcdFx0XHRyZXR1cm4gZWxlbS5pc0Rpc2FibGVkID09PSBkaXNhYmxlZCB8fFxuXG5cdFx0XHRcdFx0Ly8gV2hlcmUgdGhlcmUgaXMgbm8gaXNEaXNhYmxlZCwgY2hlY2sgbWFudWFsbHlcblx0XHRcdFx0XHQvKiBqc2hpbnQgLVcwMTggKi9cblx0XHRcdFx0XHRlbGVtLmlzRGlzYWJsZWQgIT09ICFkaXNhYmxlZCAmJlxuXHRcdFx0XHRcdFx0ZGlzYWJsZWRBbmNlc3RvciggZWxlbSApID09PSBkaXNhYmxlZDtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGVsZW0uZGlzYWJsZWQgPT09IGRpc2FibGVkO1xuXG5cdFx0Ly8gVHJ5IHRvIHdpbm5vdyBvdXQgZWxlbWVudHMgdGhhdCBjYW4ndCBiZSBkaXNhYmxlZCBiZWZvcmUgdHJ1c3RpbmcgdGhlIGRpc2FibGVkIHByb3BlcnR5LlxuXHRcdC8vIFNvbWUgdmljdGltcyBnZXQgY2F1Z2h0IGluIG91ciBuZXQgKGxhYmVsLCBsZWdlbmQsIG1lbnUsIHRyYWNrKSwgYnV0IGl0IHNob3VsZG4ndFxuXHRcdC8vIGV2ZW4gZXhpc3Qgb24gdGhlbSwgbGV0IGFsb25lIGhhdmUgYSBib29sZWFuIHZhbHVlLlxuXHRcdH0gZWxzZSBpZiAoIFwibGFiZWxcIiBpbiBlbGVtICkge1xuXHRcdFx0cmV0dXJuIGVsZW0uZGlzYWJsZWQgPT09IGRpc2FibGVkO1xuXHRcdH1cblxuXHRcdC8vIFJlbWFpbmluZyBlbGVtZW50cyBhcmUgbmVpdGhlciA6ZW5hYmxlZCBub3IgOmRpc2FibGVkXG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9O1xufVxuXG4vKipcbiAqIFJldHVybnMgYSBmdW5jdGlvbiB0byB1c2UgaW4gcHNldWRvcyBmb3IgcG9zaXRpb25hbHNcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oIGZuICkge1xuXHRyZXR1cm4gbWFya0Z1bmN0aW9uKGZ1bmN0aW9uKCBhcmd1bWVudCApIHtcblx0XHRhcmd1bWVudCA9ICthcmd1bWVudDtcblx0XHRyZXR1cm4gbWFya0Z1bmN0aW9uKGZ1bmN0aW9uKCBzZWVkLCBtYXRjaGVzICkge1xuXHRcdFx0dmFyIGosXG5cdFx0XHRcdG1hdGNoSW5kZXhlcyA9IGZuKCBbXSwgc2VlZC5sZW5ndGgsIGFyZ3VtZW50ICksXG5cdFx0XHRcdGkgPSBtYXRjaEluZGV4ZXMubGVuZ3RoO1xuXG5cdFx0XHQvLyBNYXRjaCBlbGVtZW50cyBmb3VuZCBhdCB0aGUgc3BlY2lmaWVkIGluZGV4ZXNcblx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHRpZiAoIHNlZWRbIChqID0gbWF0Y2hJbmRleGVzW2ldKSBdICkge1xuXHRcdFx0XHRcdHNlZWRbal0gPSAhKG1hdGNoZXNbal0gPSBzZWVkW2pdKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0pO1xuXHR9KTtcbn1cblxuLyoqXG4gKiBDaGVja3MgYSBub2RlIGZvciB2YWxpZGl0eSBhcyBhIFNpenpsZSBjb250ZXh0XG4gKiBAcGFyYW0ge0VsZW1lbnR8T2JqZWN0PX0gY29udGV4dFxuICogQHJldHVybnMge0VsZW1lbnR8T2JqZWN0fEJvb2xlYW59IFRoZSBpbnB1dCBub2RlIGlmIGFjY2VwdGFibGUsIG90aGVyd2lzZSBhIGZhbHN5IHZhbHVlXG4gKi9cbmZ1bmN0aW9uIHRlc3RDb250ZXh0KCBjb250ZXh0ICkge1xuXHRyZXR1cm4gY29udGV4dCAmJiB0eXBlb2YgY29udGV4dC5nZXRFbGVtZW50c0J5VGFnTmFtZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBjb250ZXh0O1xufVxuXG4vLyBFeHBvc2Ugc3VwcG9ydCB2YXJzIGZvciBjb252ZW5pZW5jZVxuc3VwcG9ydCA9IFNpenpsZS5zdXBwb3J0ID0ge307XG5cbi8qKlxuICogRGV0ZWN0cyBYTUwgbm9kZXNcbiAqIEBwYXJhbSB7RWxlbWVudHxPYmplY3R9IGVsZW0gQW4gZWxlbWVudCBvciBhIGRvY3VtZW50XG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZmYgZWxlbSBpcyBhIG5vbi1IVE1MIFhNTCBub2RlXG4gKi9cbmlzWE1MID0gU2l6emxlLmlzWE1MID0gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdC8vIGRvY3VtZW50RWxlbWVudCBpcyB2ZXJpZmllZCBmb3IgY2FzZXMgd2hlcmUgaXQgZG9lc24ndCB5ZXQgZXhpc3Rcblx0Ly8gKHN1Y2ggYXMgbG9hZGluZyBpZnJhbWVzIGluIElFIC0gIzQ4MzMpXG5cdHZhciBkb2N1bWVudEVsZW1lbnQgPSBlbGVtICYmIChlbGVtLm93bmVyRG9jdW1lbnQgfHwgZWxlbSkuZG9jdW1lbnRFbGVtZW50O1xuXHRyZXR1cm4gZG9jdW1lbnRFbGVtZW50ID8gZG9jdW1lbnRFbGVtZW50Lm5vZGVOYW1lICE9PSBcIkhUTUxcIiA6IGZhbHNlO1xufTtcblxuLyoqXG4gKiBTZXRzIGRvY3VtZW50LXJlbGF0ZWQgdmFyaWFibGVzIG9uY2UgYmFzZWQgb24gdGhlIGN1cnJlbnQgZG9jdW1lbnRcbiAqIEBwYXJhbSB7RWxlbWVudHxPYmplY3R9IFtkb2NdIEFuIGVsZW1lbnQgb3IgZG9jdW1lbnQgb2JqZWN0IHRvIHVzZSB0byBzZXQgdGhlIGRvY3VtZW50XG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjdXJyZW50IGRvY3VtZW50XG4gKi9cbnNldERvY3VtZW50ID0gU2l6emxlLnNldERvY3VtZW50ID0gZnVuY3Rpb24oIG5vZGUgKSB7XG5cdHZhciBoYXNDb21wYXJlLCBzdWJXaW5kb3csXG5cdFx0ZG9jID0gbm9kZSA/IG5vZGUub3duZXJEb2N1bWVudCB8fCBub2RlIDogcHJlZmVycmVkRG9jO1xuXG5cdC8vIFJldHVybiBlYXJseSBpZiBkb2MgaXMgaW52YWxpZCBvciBhbHJlYWR5IHNlbGVjdGVkXG5cdGlmICggZG9jID09PSBkb2N1bWVudCB8fCBkb2Mubm9kZVR5cGUgIT09IDkgfHwgIWRvYy5kb2N1bWVudEVsZW1lbnQgKSB7XG5cdFx0cmV0dXJuIGRvY3VtZW50O1xuXHR9XG5cblx0Ly8gVXBkYXRlIGdsb2JhbCB2YXJpYWJsZXNcblx0ZG9jdW1lbnQgPSBkb2M7XG5cdGRvY0VsZW0gPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG5cdGRvY3VtZW50SXNIVE1MID0gIWlzWE1MKCBkb2N1bWVudCApO1xuXG5cdC8vIFN1cHBvcnQ6IElFIDktMTEsIEVkZ2Vcblx0Ly8gQWNjZXNzaW5nIGlmcmFtZSBkb2N1bWVudHMgYWZ0ZXIgdW5sb2FkIHRocm93cyBcInBlcm1pc3Npb24gZGVuaWVkXCIgZXJyb3JzIChqUXVlcnkgIzEzOTM2KVxuXHRpZiAoIHByZWZlcnJlZERvYyAhPT0gZG9jdW1lbnQgJiZcblx0XHQoc3ViV2luZG93ID0gZG9jdW1lbnQuZGVmYXVsdFZpZXcpICYmIHN1YldpbmRvdy50b3AgIT09IHN1YldpbmRvdyApIHtcblxuXHRcdC8vIFN1cHBvcnQ6IElFIDExLCBFZGdlXG5cdFx0aWYgKCBzdWJXaW5kb3cuYWRkRXZlbnRMaXN0ZW5lciApIHtcblx0XHRcdHN1YldpbmRvdy5hZGRFdmVudExpc3RlbmVyKCBcInVubG9hZFwiLCB1bmxvYWRIYW5kbGVyLCBmYWxzZSApO1xuXG5cdFx0Ly8gU3VwcG9ydDogSUUgOSAtIDEwIG9ubHlcblx0XHR9IGVsc2UgaWYgKCBzdWJXaW5kb3cuYXR0YWNoRXZlbnQgKSB7XG5cdFx0XHRzdWJXaW5kb3cuYXR0YWNoRXZlbnQoIFwib251bmxvYWRcIiwgdW5sb2FkSGFuZGxlciApO1xuXHRcdH1cblx0fVxuXG5cdC8qIEF0dHJpYnV0ZXNcblx0LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG5cdC8vIFN1cHBvcnQ6IElFPDhcblx0Ly8gVmVyaWZ5IHRoYXQgZ2V0QXR0cmlidXRlIHJlYWxseSByZXR1cm5zIGF0dHJpYnV0ZXMgYW5kIG5vdCBwcm9wZXJ0aWVzXG5cdC8vIChleGNlcHRpbmcgSUU4IGJvb2xlYW5zKVxuXHRzdXBwb3J0LmF0dHJpYnV0ZXMgPSBhc3NlcnQoZnVuY3Rpb24oIGVsICkge1xuXHRcdGVsLmNsYXNzTmFtZSA9IFwiaVwiO1xuXHRcdHJldHVybiAhZWwuZ2V0QXR0cmlidXRlKFwiY2xhc3NOYW1lXCIpO1xuXHR9KTtcblxuXHQvKiBnZXRFbGVtZW50KHMpQnkqXG5cdC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuXHQvLyBDaGVjayBpZiBnZXRFbGVtZW50c0J5VGFnTmFtZShcIipcIikgcmV0dXJucyBvbmx5IGVsZW1lbnRzXG5cdHN1cHBvcnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUgPSBhc3NlcnQoZnVuY3Rpb24oIGVsICkge1xuXHRcdGVsLmFwcGVuZENoaWxkKCBkb2N1bWVudC5jcmVhdGVDb21tZW50KFwiXCIpICk7XG5cdFx0cmV0dXJuICFlbC5nZXRFbGVtZW50c0J5VGFnTmFtZShcIipcIikubGVuZ3RoO1xuXHR9KTtcblxuXHQvLyBTdXBwb3J0OiBJRTw5XG5cdHN1cHBvcnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSA9IHJuYXRpdmUudGVzdCggZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSApO1xuXG5cdC8vIFN1cHBvcnQ6IElFPDEwXG5cdC8vIENoZWNrIGlmIGdldEVsZW1lbnRCeUlkIHJldHVybnMgZWxlbWVudHMgYnkgbmFtZVxuXHQvLyBUaGUgYnJva2VuIGdldEVsZW1lbnRCeUlkIG1ldGhvZHMgZG9uJ3QgcGljayB1cCBwcm9ncmFtbWF0aWNhbGx5LXNldCBuYW1lcyxcblx0Ly8gc28gdXNlIGEgcm91bmRhYm91dCBnZXRFbGVtZW50c0J5TmFtZSB0ZXN0XG5cdHN1cHBvcnQuZ2V0QnlJZCA9IGFzc2VydChmdW5jdGlvbiggZWwgKSB7XG5cdFx0ZG9jRWxlbS5hcHBlbmRDaGlsZCggZWwgKS5pZCA9IGV4cGFuZG87XG5cdFx0cmV0dXJuICFkb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZSB8fCAhZG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUoIGV4cGFuZG8gKS5sZW5ndGg7XG5cdH0pO1xuXG5cdC8vIElEIGZpbHRlciBhbmQgZmluZFxuXHRpZiAoIHN1cHBvcnQuZ2V0QnlJZCApIHtcblx0XHRFeHByLmZpbHRlcltcIklEXCJdID0gZnVuY3Rpb24oIGlkICkge1xuXHRcdFx0dmFyIGF0dHJJZCA9IGlkLnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICk7XG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdHJldHVybiBlbGVtLmdldEF0dHJpYnV0ZShcImlkXCIpID09PSBhdHRySWQ7XG5cdFx0XHR9O1xuXHRcdH07XG5cdFx0RXhwci5maW5kW1wiSURcIl0gPSBmdW5jdGlvbiggaWQsIGNvbnRleHQgKSB7XG5cdFx0XHRpZiAoIHR5cGVvZiBjb250ZXh0LmdldEVsZW1lbnRCeUlkICE9PSBcInVuZGVmaW5lZFwiICYmIGRvY3VtZW50SXNIVE1MICkge1xuXHRcdFx0XHR2YXIgZWxlbSA9IGNvbnRleHQuZ2V0RWxlbWVudEJ5SWQoIGlkICk7XG5cdFx0XHRcdHJldHVybiBlbGVtID8gWyBlbGVtIF0gOiBbXTtcblx0XHRcdH1cblx0XHR9O1xuXHR9IGVsc2Uge1xuXHRcdEV4cHIuZmlsdGVyW1wiSURcIl0gPSAgZnVuY3Rpb24oIGlkICkge1xuXHRcdFx0dmFyIGF0dHJJZCA9IGlkLnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICk7XG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdHZhciBub2RlID0gdHlwZW9mIGVsZW0uZ2V0QXR0cmlidXRlTm9kZSAhPT0gXCJ1bmRlZmluZWRcIiAmJlxuXHRcdFx0XHRcdGVsZW0uZ2V0QXR0cmlidXRlTm9kZShcImlkXCIpO1xuXHRcdFx0XHRyZXR1cm4gbm9kZSAmJiBub2RlLnZhbHVlID09PSBhdHRySWQ7XG5cdFx0XHR9O1xuXHRcdH07XG5cblx0XHQvLyBTdXBwb3J0OiBJRSA2IC0gNyBvbmx5XG5cdFx0Ly8gZ2V0RWxlbWVudEJ5SWQgaXMgbm90IHJlbGlhYmxlIGFzIGEgZmluZCBzaG9ydGN1dFxuXHRcdEV4cHIuZmluZFtcIklEXCJdID0gZnVuY3Rpb24oIGlkLCBjb250ZXh0ICkge1xuXHRcdFx0aWYgKCB0eXBlb2YgY29udGV4dC5nZXRFbGVtZW50QnlJZCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBkb2N1bWVudElzSFRNTCApIHtcblx0XHRcdFx0dmFyIG5vZGUsIGksIGVsZW1zLFxuXHRcdFx0XHRcdGVsZW0gPSBjb250ZXh0LmdldEVsZW1lbnRCeUlkKCBpZCApO1xuXG5cdFx0XHRcdGlmICggZWxlbSApIHtcblxuXHRcdFx0XHRcdC8vIFZlcmlmeSB0aGUgaWQgYXR0cmlidXRlXG5cdFx0XHRcdFx0bm9kZSA9IGVsZW0uZ2V0QXR0cmlidXRlTm9kZShcImlkXCIpO1xuXHRcdFx0XHRcdGlmICggbm9kZSAmJiBub2RlLnZhbHVlID09PSBpZCApIHtcblx0XHRcdFx0XHRcdHJldHVybiBbIGVsZW0gXTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBGYWxsIGJhY2sgb24gZ2V0RWxlbWVudHNCeU5hbWVcblx0XHRcdFx0XHRlbGVtcyA9IGNvbnRleHQuZ2V0RWxlbWVudHNCeU5hbWUoIGlkICk7XG5cdFx0XHRcdFx0aSA9IDA7XG5cdFx0XHRcdFx0d2hpbGUgKCAoZWxlbSA9IGVsZW1zW2krK10pICkge1xuXHRcdFx0XHRcdFx0bm9kZSA9IGVsZW0uZ2V0QXR0cmlidXRlTm9kZShcImlkXCIpO1xuXHRcdFx0XHRcdFx0aWYgKCBub2RlICYmIG5vZGUudmFsdWUgPT09IGlkICkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gWyBlbGVtIF07XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIFtdO1xuXHRcdFx0fVxuXHRcdH07XG5cdH1cblxuXHQvLyBUYWdcblx0RXhwci5maW5kW1wiVEFHXCJdID0gc3VwcG9ydC5nZXRFbGVtZW50c0J5VGFnTmFtZSA/XG5cdFx0ZnVuY3Rpb24oIHRhZywgY29udGV4dCApIHtcblx0XHRcdGlmICggdHlwZW9mIGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUgIT09IFwidW5kZWZpbmVkXCIgKSB7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0LmdldEVsZW1lbnRzQnlUYWdOYW1lKCB0YWcgKTtcblxuXHRcdFx0Ly8gRG9jdW1lbnRGcmFnbWVudCBub2RlcyBkb24ndCBoYXZlIGdFQlROXG5cdFx0XHR9IGVsc2UgaWYgKCBzdXBwb3J0LnFzYSApIHtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQucXVlcnlTZWxlY3RvckFsbCggdGFnICk7XG5cdFx0XHR9XG5cdFx0fSA6XG5cblx0XHRmdW5jdGlvbiggdGFnLCBjb250ZXh0ICkge1xuXHRcdFx0dmFyIGVsZW0sXG5cdFx0XHRcdHRtcCA9IFtdLFxuXHRcdFx0XHRpID0gMCxcblx0XHRcdFx0Ly8gQnkgaGFwcHkgY29pbmNpZGVuY2UsIGEgKGJyb2tlbikgZ0VCVE4gYXBwZWFycyBvbiBEb2N1bWVudEZyYWdtZW50IG5vZGVzIHRvb1xuXHRcdFx0XHRyZXN1bHRzID0gY29udGV4dC5nZXRFbGVtZW50c0J5VGFnTmFtZSggdGFnICk7XG5cblx0XHRcdC8vIEZpbHRlciBvdXQgcG9zc2libGUgY29tbWVudHNcblx0XHRcdGlmICggdGFnID09PSBcIipcIiApIHtcblx0XHRcdFx0d2hpbGUgKCAoZWxlbSA9IHJlc3VsdHNbaSsrXSkgKSB7XG5cdFx0XHRcdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAxICkge1xuXHRcdFx0XHRcdFx0dG1wLnB1c2goIGVsZW0gKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gdG1wO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHJlc3VsdHM7XG5cdFx0fTtcblxuXHQvLyBDbGFzc1xuXHRFeHByLmZpbmRbXCJDTEFTU1wiXSA9IHN1cHBvcnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSAmJiBmdW5jdGlvbiggY2xhc3NOYW1lLCBjb250ZXh0ICkge1xuXHRcdGlmICggdHlwZW9mIGNvbnRleHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBkb2N1bWVudElzSFRNTCApIHtcblx0XHRcdHJldHVybiBjb250ZXh0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoIGNsYXNzTmFtZSApO1xuXHRcdH1cblx0fTtcblxuXHQvKiBRU0EvbWF0Y2hlc1NlbGVjdG9yXG5cdC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuXHQvLyBRU0EgYW5kIG1hdGNoZXNTZWxlY3RvciBzdXBwb3J0XG5cblx0Ly8gbWF0Y2hlc1NlbGVjdG9yKDphY3RpdmUpIHJlcG9ydHMgZmFsc2Ugd2hlbiB0cnVlIChJRTkvT3BlcmEgMTEuNSlcblx0cmJ1Z2d5TWF0Y2hlcyA9IFtdO1xuXG5cdC8vIHFTYSg6Zm9jdXMpIHJlcG9ydHMgZmFsc2Ugd2hlbiB0cnVlIChDaHJvbWUgMjEpXG5cdC8vIFdlIGFsbG93IHRoaXMgYmVjYXVzZSBvZiBhIGJ1ZyBpbiBJRTgvOSB0aGF0IHRocm93cyBhbiBlcnJvclxuXHQvLyB3aGVuZXZlciBgZG9jdW1lbnQuYWN0aXZlRWxlbWVudGAgaXMgYWNjZXNzZWQgb24gYW4gaWZyYW1lXG5cdC8vIFNvLCB3ZSBhbGxvdyA6Zm9jdXMgdG8gcGFzcyB0aHJvdWdoIFFTQSBhbGwgdGhlIHRpbWUgdG8gYXZvaWQgdGhlIElFIGVycm9yXG5cdC8vIFNlZSBodHRwczovL2J1Z3MuanF1ZXJ5LmNvbS90aWNrZXQvMTMzNzhcblx0cmJ1Z2d5UVNBID0gW107XG5cblx0aWYgKCAoc3VwcG9ydC5xc2EgPSBybmF0aXZlLnRlc3QoIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwgKSkgKSB7XG5cdFx0Ly8gQnVpbGQgUVNBIHJlZ2V4XG5cdFx0Ly8gUmVnZXggc3RyYXRlZ3kgYWRvcHRlZCBmcm9tIERpZWdvIFBlcmluaVxuXHRcdGFzc2VydChmdW5jdGlvbiggZWwgKSB7XG5cdFx0XHQvLyBTZWxlY3QgaXMgc2V0IHRvIGVtcHR5IHN0cmluZyBvbiBwdXJwb3NlXG5cdFx0XHQvLyBUaGlzIGlzIHRvIHRlc3QgSUUncyB0cmVhdG1lbnQgb2Ygbm90IGV4cGxpY2l0bHlcblx0XHRcdC8vIHNldHRpbmcgYSBib29sZWFuIGNvbnRlbnQgYXR0cmlidXRlLFxuXHRcdFx0Ly8gc2luY2UgaXRzIHByZXNlbmNlIHNob3VsZCBiZSBlbm91Z2hcblx0XHRcdC8vIGh0dHBzOi8vYnVncy5qcXVlcnkuY29tL3RpY2tldC8xMjM1OVxuXHRcdFx0ZG9jRWxlbS5hcHBlbmRDaGlsZCggZWwgKS5pbm5lckhUTUwgPSBcIjxhIGlkPSdcIiArIGV4cGFuZG8gKyBcIic+PC9hPlwiICtcblx0XHRcdFx0XCI8c2VsZWN0IGlkPSdcIiArIGV4cGFuZG8gKyBcIi1cXHJcXFxcJyBtc2FsbG93Y2FwdHVyZT0nJz5cIiArXG5cdFx0XHRcdFwiPG9wdGlvbiBzZWxlY3RlZD0nJz48L29wdGlvbj48L3NlbGVjdD5cIjtcblxuXHRcdFx0Ly8gU3VwcG9ydDogSUU4LCBPcGVyYSAxMS0xMi4xNlxuXHRcdFx0Ly8gTm90aGluZyBzaG91bGQgYmUgc2VsZWN0ZWQgd2hlbiBlbXB0eSBzdHJpbmdzIGZvbGxvdyBePSBvciAkPSBvciAqPVxuXHRcdFx0Ly8gVGhlIHRlc3QgYXR0cmlidXRlIG11c3QgYmUgdW5rbm93biBpbiBPcGVyYSBidXQgXCJzYWZlXCIgZm9yIFdpblJUXG5cdFx0XHQvLyBodHRwczovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9saWJyYXJ5L2llL2hoNDY1Mzg4LmFzcHgjYXR0cmlidXRlX3NlY3Rpb25cblx0XHRcdGlmICggZWwucXVlcnlTZWxlY3RvckFsbChcIlttc2FsbG93Y2FwdHVyZV49JyddXCIpLmxlbmd0aCApIHtcblx0XHRcdFx0cmJ1Z2d5UVNBLnB1c2goIFwiWypeJF09XCIgKyB3aGl0ZXNwYWNlICsgXCIqKD86Jyd8XFxcIlxcXCIpXCIgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gU3VwcG9ydDogSUU4XG5cdFx0XHQvLyBCb29sZWFuIGF0dHJpYnV0ZXMgYW5kIFwidmFsdWVcIiBhcmUgbm90IHRyZWF0ZWQgY29ycmVjdGx5XG5cdFx0XHRpZiAoICFlbC5xdWVyeVNlbGVjdG9yQWxsKFwiW3NlbGVjdGVkXVwiKS5sZW5ndGggKSB7XG5cdFx0XHRcdHJidWdneVFTQS5wdXNoKCBcIlxcXFxbXCIgKyB3aGl0ZXNwYWNlICsgXCIqKD86dmFsdWV8XCIgKyBib29sZWFucyArIFwiKVwiICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFN1cHBvcnQ6IENocm9tZTwyOSwgQW5kcm9pZDw0LjQsIFNhZmFyaTw3LjArLCBpT1M8Ny4wKywgUGhhbnRvbUpTPDEuOS44K1xuXHRcdFx0aWYgKCAhZWwucXVlcnlTZWxlY3RvckFsbCggXCJbaWR+PVwiICsgZXhwYW5kbyArIFwiLV1cIiApLmxlbmd0aCApIHtcblx0XHRcdFx0cmJ1Z2d5UVNBLnB1c2goXCJ+PVwiKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gV2Via2l0L09wZXJhIC0gOmNoZWNrZWQgc2hvdWxkIHJldHVybiBzZWxlY3RlZCBvcHRpb24gZWxlbWVudHNcblx0XHRcdC8vIGh0dHA6Ly93d3cudzMub3JnL1RSLzIwMTEvUkVDLWNzczMtc2VsZWN0b3JzLTIwMTEwOTI5LyNjaGVja2VkXG5cdFx0XHQvLyBJRTggdGhyb3dzIGVycm9yIGhlcmUgYW5kIHdpbGwgbm90IHNlZSBsYXRlciB0ZXN0c1xuXHRcdFx0aWYgKCAhZWwucXVlcnlTZWxlY3RvckFsbChcIjpjaGVja2VkXCIpLmxlbmd0aCApIHtcblx0XHRcdFx0cmJ1Z2d5UVNBLnB1c2goXCI6Y2hlY2tlZFwiKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gU3VwcG9ydDogU2FmYXJpIDgrLCBpT1MgOCtcblx0XHRcdC8vIGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD0xMzY4NTFcblx0XHRcdC8vIEluLXBhZ2UgYHNlbGVjdG9yI2lkIHNpYmxpbmctY29tYmluYXRvciBzZWxlY3RvcmAgZmFpbHNcblx0XHRcdGlmICggIWVsLnF1ZXJ5U2VsZWN0b3JBbGwoIFwiYSNcIiArIGV4cGFuZG8gKyBcIisqXCIgKS5sZW5ndGggKSB7XG5cdFx0XHRcdHJidWdneVFTQS5wdXNoKFwiLiMuK1srfl1cIik7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHRhc3NlcnQoZnVuY3Rpb24oIGVsICkge1xuXHRcdFx0ZWwuaW5uZXJIVE1MID0gXCI8YSBocmVmPScnIGRpc2FibGVkPSdkaXNhYmxlZCc+PC9hPlwiICtcblx0XHRcdFx0XCI8c2VsZWN0IGRpc2FibGVkPSdkaXNhYmxlZCc+PG9wdGlvbi8+PC9zZWxlY3Q+XCI7XG5cblx0XHRcdC8vIFN1cHBvcnQ6IFdpbmRvd3MgOCBOYXRpdmUgQXBwc1xuXHRcdFx0Ly8gVGhlIHR5cGUgYW5kIG5hbWUgYXR0cmlidXRlcyBhcmUgcmVzdHJpY3RlZCBkdXJpbmcgLmlubmVySFRNTCBhc3NpZ25tZW50XG5cdFx0XHR2YXIgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG5cdFx0XHRpbnB1dC5zZXRBdHRyaWJ1dGUoIFwidHlwZVwiLCBcImhpZGRlblwiICk7XG5cdFx0XHRlbC5hcHBlbmRDaGlsZCggaW5wdXQgKS5zZXRBdHRyaWJ1dGUoIFwibmFtZVwiLCBcIkRcIiApO1xuXG5cdFx0XHQvLyBTdXBwb3J0OiBJRThcblx0XHRcdC8vIEVuZm9yY2UgY2FzZS1zZW5zaXRpdml0eSBvZiBuYW1lIGF0dHJpYnV0ZVxuXHRcdFx0aWYgKCBlbC5xdWVyeVNlbGVjdG9yQWxsKFwiW25hbWU9ZF1cIikubGVuZ3RoICkge1xuXHRcdFx0XHRyYnVnZ3lRU0EucHVzaCggXCJuYW1lXCIgKyB3aGl0ZXNwYWNlICsgXCIqWypeJHwhfl0/PVwiICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEZGIDMuNSAtIDplbmFibGVkLzpkaXNhYmxlZCBhbmQgaGlkZGVuIGVsZW1lbnRzIChoaWRkZW4gZWxlbWVudHMgYXJlIHN0aWxsIGVuYWJsZWQpXG5cdFx0XHQvLyBJRTggdGhyb3dzIGVycm9yIGhlcmUgYW5kIHdpbGwgbm90IHNlZSBsYXRlciB0ZXN0c1xuXHRcdFx0aWYgKCBlbC5xdWVyeVNlbGVjdG9yQWxsKFwiOmVuYWJsZWRcIikubGVuZ3RoICE9PSAyICkge1xuXHRcdFx0XHRyYnVnZ3lRU0EucHVzaCggXCI6ZW5hYmxlZFwiLCBcIjpkaXNhYmxlZFwiICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFN1cHBvcnQ6IElFOS0xMStcblx0XHRcdC8vIElFJ3MgOmRpc2FibGVkIHNlbGVjdG9yIGRvZXMgbm90IHBpY2sgdXAgdGhlIGNoaWxkcmVuIG9mIGRpc2FibGVkIGZpZWxkc2V0c1xuXHRcdFx0ZG9jRWxlbS5hcHBlbmRDaGlsZCggZWwgKS5kaXNhYmxlZCA9IHRydWU7XG5cdFx0XHRpZiAoIGVsLnF1ZXJ5U2VsZWN0b3JBbGwoXCI6ZGlzYWJsZWRcIikubGVuZ3RoICE9PSAyICkge1xuXHRcdFx0XHRyYnVnZ3lRU0EucHVzaCggXCI6ZW5hYmxlZFwiLCBcIjpkaXNhYmxlZFwiICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIE9wZXJhIDEwLTExIGRvZXMgbm90IHRocm93IG9uIHBvc3QtY29tbWEgaW52YWxpZCBwc2V1ZG9zXG5cdFx0XHRlbC5xdWVyeVNlbGVjdG9yQWxsKFwiKiw6eFwiKTtcblx0XHRcdHJidWdneVFTQS5wdXNoKFwiLC4qOlwiKTtcblx0XHR9KTtcblx0fVxuXG5cdGlmICggKHN1cHBvcnQubWF0Y2hlc1NlbGVjdG9yID0gcm5hdGl2ZS50ZXN0KCAobWF0Y2hlcyA9IGRvY0VsZW0ubWF0Y2hlcyB8fFxuXHRcdGRvY0VsZW0ud2Via2l0TWF0Y2hlc1NlbGVjdG9yIHx8XG5cdFx0ZG9jRWxlbS5tb3pNYXRjaGVzU2VsZWN0b3IgfHxcblx0XHRkb2NFbGVtLm9NYXRjaGVzU2VsZWN0b3IgfHxcblx0XHRkb2NFbGVtLm1zTWF0Y2hlc1NlbGVjdG9yKSApKSApIHtcblxuXHRcdGFzc2VydChmdW5jdGlvbiggZWwgKSB7XG5cdFx0XHQvLyBDaGVjayB0byBzZWUgaWYgaXQncyBwb3NzaWJsZSB0byBkbyBtYXRjaGVzU2VsZWN0b3Jcblx0XHRcdC8vIG9uIGEgZGlzY29ubmVjdGVkIG5vZGUgKElFIDkpXG5cdFx0XHRzdXBwb3J0LmRpc2Nvbm5lY3RlZE1hdGNoID0gbWF0Y2hlcy5jYWxsKCBlbCwgXCIqXCIgKTtcblxuXHRcdFx0Ly8gVGhpcyBzaG91bGQgZmFpbCB3aXRoIGFuIGV4Y2VwdGlvblxuXHRcdFx0Ly8gR2Vja28gZG9lcyBub3QgZXJyb3IsIHJldHVybnMgZmFsc2UgaW5zdGVhZFxuXHRcdFx0bWF0Y2hlcy5jYWxsKCBlbCwgXCJbcyE9JyddOnhcIiApO1xuXHRcdFx0cmJ1Z2d5TWF0Y2hlcy5wdXNoKCBcIiE9XCIsIHBzZXVkb3MgKTtcblx0XHR9KTtcblx0fVxuXG5cdHJidWdneVFTQSA9IHJidWdneVFTQS5sZW5ndGggJiYgbmV3IFJlZ0V4cCggcmJ1Z2d5UVNBLmpvaW4oXCJ8XCIpICk7XG5cdHJidWdneU1hdGNoZXMgPSByYnVnZ3lNYXRjaGVzLmxlbmd0aCAmJiBuZXcgUmVnRXhwKCByYnVnZ3lNYXRjaGVzLmpvaW4oXCJ8XCIpICk7XG5cblx0LyogQ29udGFpbnNcblx0LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXHRoYXNDb21wYXJlID0gcm5hdGl2ZS50ZXN0KCBkb2NFbGVtLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uICk7XG5cblx0Ly8gRWxlbWVudCBjb250YWlucyBhbm90aGVyXG5cdC8vIFB1cnBvc2VmdWxseSBzZWxmLWV4Y2x1c2l2ZVxuXHQvLyBBcyBpbiwgYW4gZWxlbWVudCBkb2VzIG5vdCBjb250YWluIGl0c2VsZlxuXHRjb250YWlucyA9IGhhc0NvbXBhcmUgfHwgcm5hdGl2ZS50ZXN0KCBkb2NFbGVtLmNvbnRhaW5zICkgP1xuXHRcdGZ1bmN0aW9uKCBhLCBiICkge1xuXHRcdFx0dmFyIGFkb3duID0gYS5ub2RlVHlwZSA9PT0gOSA/IGEuZG9jdW1lbnRFbGVtZW50IDogYSxcblx0XHRcdFx0YnVwID0gYiAmJiBiLnBhcmVudE5vZGU7XG5cdFx0XHRyZXR1cm4gYSA9PT0gYnVwIHx8ICEhKCBidXAgJiYgYnVwLm5vZGVUeXBlID09PSAxICYmIChcblx0XHRcdFx0YWRvd24uY29udGFpbnMgP1xuXHRcdFx0XHRcdGFkb3duLmNvbnRhaW5zKCBidXAgKSA6XG5cdFx0XHRcdFx0YS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiAmJiBhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKCBidXAgKSAmIDE2XG5cdFx0XHQpKTtcblx0XHR9IDpcblx0XHRmdW5jdGlvbiggYSwgYiApIHtcblx0XHRcdGlmICggYiApIHtcblx0XHRcdFx0d2hpbGUgKCAoYiA9IGIucGFyZW50Tm9kZSkgKSB7XG5cdFx0XHRcdFx0aWYgKCBiID09PSBhICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fTtcblxuXHQvKiBTb3J0aW5nXG5cdC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuXHQvLyBEb2N1bWVudCBvcmRlciBzb3J0aW5nXG5cdHNvcnRPcmRlciA9IGhhc0NvbXBhcmUgP1xuXHRmdW5jdGlvbiggYSwgYiApIHtcblxuXHRcdC8vIEZsYWcgZm9yIGR1cGxpY2F0ZSByZW1vdmFsXG5cdFx0aWYgKCBhID09PSBiICkge1xuXHRcdFx0aGFzRHVwbGljYXRlID0gdHJ1ZTtcblx0XHRcdHJldHVybiAwO1xuXHRcdH1cblxuXHRcdC8vIFNvcnQgb24gbWV0aG9kIGV4aXN0ZW5jZSBpZiBvbmx5IG9uZSBpbnB1dCBoYXMgY29tcGFyZURvY3VtZW50UG9zaXRpb25cblx0XHR2YXIgY29tcGFyZSA9ICFhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uIC0gIWIuY29tcGFyZURvY3VtZW50UG9zaXRpb247XG5cdFx0aWYgKCBjb21wYXJlICkge1xuXHRcdFx0cmV0dXJuIGNvbXBhcmU7XG5cdFx0fVxuXG5cdFx0Ly8gQ2FsY3VsYXRlIHBvc2l0aW9uIGlmIGJvdGggaW5wdXRzIGJlbG9uZyB0byB0aGUgc2FtZSBkb2N1bWVudFxuXHRcdGNvbXBhcmUgPSAoIGEub3duZXJEb2N1bWVudCB8fCBhICkgPT09ICggYi5vd25lckRvY3VtZW50IHx8IGIgKSA/XG5cdFx0XHRhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKCBiICkgOlxuXG5cdFx0XHQvLyBPdGhlcndpc2Ugd2Uga25vdyB0aGV5IGFyZSBkaXNjb25uZWN0ZWRcblx0XHRcdDE7XG5cblx0XHQvLyBEaXNjb25uZWN0ZWQgbm9kZXNcblx0XHRpZiAoIGNvbXBhcmUgJiAxIHx8XG5cdFx0XHQoIXN1cHBvcnQuc29ydERldGFjaGVkICYmIGIuY29tcGFyZURvY3VtZW50UG9zaXRpb24oIGEgKSA9PT0gY29tcGFyZSkgKSB7XG5cblx0XHRcdC8vIENob29zZSB0aGUgZmlyc3QgZWxlbWVudCB0aGF0IGlzIHJlbGF0ZWQgdG8gb3VyIHByZWZlcnJlZCBkb2N1bWVudFxuXHRcdFx0aWYgKCBhID09PSBkb2N1bWVudCB8fCBhLm93bmVyRG9jdW1lbnQgPT09IHByZWZlcnJlZERvYyAmJiBjb250YWlucyhwcmVmZXJyZWREb2MsIGEpICkge1xuXHRcdFx0XHRyZXR1cm4gLTE7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIGIgPT09IGRvY3VtZW50IHx8IGIub3duZXJEb2N1bWVudCA9PT0gcHJlZmVycmVkRG9jICYmIGNvbnRhaW5zKHByZWZlcnJlZERvYywgYikgKSB7XG5cdFx0XHRcdHJldHVybiAxO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBNYWludGFpbiBvcmlnaW5hbCBvcmRlclxuXHRcdFx0cmV0dXJuIHNvcnRJbnB1dCA/XG5cdFx0XHRcdCggaW5kZXhPZiggc29ydElucHV0LCBhICkgLSBpbmRleE9mKCBzb3J0SW5wdXQsIGIgKSApIDpcblx0XHRcdFx0MDtcblx0XHR9XG5cblx0XHRyZXR1cm4gY29tcGFyZSAmIDQgPyAtMSA6IDE7XG5cdH0gOlxuXHRmdW5jdGlvbiggYSwgYiApIHtcblx0XHQvLyBFeGl0IGVhcmx5IGlmIHRoZSBub2RlcyBhcmUgaWRlbnRpY2FsXG5cdFx0aWYgKCBhID09PSBiICkge1xuXHRcdFx0aGFzRHVwbGljYXRlID0gdHJ1ZTtcblx0XHRcdHJldHVybiAwO1xuXHRcdH1cblxuXHRcdHZhciBjdXIsXG5cdFx0XHRpID0gMCxcblx0XHRcdGF1cCA9IGEucGFyZW50Tm9kZSxcblx0XHRcdGJ1cCA9IGIucGFyZW50Tm9kZSxcblx0XHRcdGFwID0gWyBhIF0sXG5cdFx0XHRicCA9IFsgYiBdO1xuXG5cdFx0Ly8gUGFyZW50bGVzcyBub2RlcyBhcmUgZWl0aGVyIGRvY3VtZW50cyBvciBkaXNjb25uZWN0ZWRcblx0XHRpZiAoICFhdXAgfHwgIWJ1cCApIHtcblx0XHRcdHJldHVybiBhID09PSBkb2N1bWVudCA/IC0xIDpcblx0XHRcdFx0YiA9PT0gZG9jdW1lbnQgPyAxIDpcblx0XHRcdFx0YXVwID8gLTEgOlxuXHRcdFx0XHRidXAgPyAxIDpcblx0XHRcdFx0c29ydElucHV0ID9cblx0XHRcdFx0KCBpbmRleE9mKCBzb3J0SW5wdXQsIGEgKSAtIGluZGV4T2YoIHNvcnRJbnB1dCwgYiApICkgOlxuXHRcdFx0XHQwO1xuXG5cdFx0Ly8gSWYgdGhlIG5vZGVzIGFyZSBzaWJsaW5ncywgd2UgY2FuIGRvIGEgcXVpY2sgY2hlY2tcblx0XHR9IGVsc2UgaWYgKCBhdXAgPT09IGJ1cCApIHtcblx0XHRcdHJldHVybiBzaWJsaW5nQ2hlY2soIGEsIGIgKTtcblx0XHR9XG5cblx0XHQvLyBPdGhlcndpc2Ugd2UgbmVlZCBmdWxsIGxpc3RzIG9mIHRoZWlyIGFuY2VzdG9ycyBmb3IgY29tcGFyaXNvblxuXHRcdGN1ciA9IGE7XG5cdFx0d2hpbGUgKCAoY3VyID0gY3VyLnBhcmVudE5vZGUpICkge1xuXHRcdFx0YXAudW5zaGlmdCggY3VyICk7XG5cdFx0fVxuXHRcdGN1ciA9IGI7XG5cdFx0d2hpbGUgKCAoY3VyID0gY3VyLnBhcmVudE5vZGUpICkge1xuXHRcdFx0YnAudW5zaGlmdCggY3VyICk7XG5cdFx0fVxuXG5cdFx0Ly8gV2FsayBkb3duIHRoZSB0cmVlIGxvb2tpbmcgZm9yIGEgZGlzY3JlcGFuY3lcblx0XHR3aGlsZSAoIGFwW2ldID09PSBicFtpXSApIHtcblx0XHRcdGkrKztcblx0XHR9XG5cblx0XHRyZXR1cm4gaSA/XG5cdFx0XHQvLyBEbyBhIHNpYmxpbmcgY2hlY2sgaWYgdGhlIG5vZGVzIGhhdmUgYSBjb21tb24gYW5jZXN0b3Jcblx0XHRcdHNpYmxpbmdDaGVjayggYXBbaV0sIGJwW2ldICkgOlxuXG5cdFx0XHQvLyBPdGhlcndpc2Ugbm9kZXMgaW4gb3VyIGRvY3VtZW50IHNvcnQgZmlyc3Rcblx0XHRcdGFwW2ldID09PSBwcmVmZXJyZWREb2MgPyAtMSA6XG5cdFx0XHRicFtpXSA9PT0gcHJlZmVycmVkRG9jID8gMSA6XG5cdFx0XHQwO1xuXHR9O1xuXG5cdHJldHVybiBkb2N1bWVudDtcbn07XG5cblNpenpsZS5tYXRjaGVzID0gZnVuY3Rpb24oIGV4cHIsIGVsZW1lbnRzICkge1xuXHRyZXR1cm4gU2l6emxlKCBleHByLCBudWxsLCBudWxsLCBlbGVtZW50cyApO1xufTtcblxuU2l6emxlLm1hdGNoZXNTZWxlY3RvciA9IGZ1bmN0aW9uKCBlbGVtLCBleHByICkge1xuXHQvLyBTZXQgZG9jdW1lbnQgdmFycyBpZiBuZWVkZWRcblx0aWYgKCAoIGVsZW0ub3duZXJEb2N1bWVudCB8fCBlbGVtICkgIT09IGRvY3VtZW50ICkge1xuXHRcdHNldERvY3VtZW50KCBlbGVtICk7XG5cdH1cblxuXHQvLyBNYWtlIHN1cmUgdGhhdCBhdHRyaWJ1dGUgc2VsZWN0b3JzIGFyZSBxdW90ZWRcblx0ZXhwciA9IGV4cHIucmVwbGFjZSggcmF0dHJpYnV0ZVF1b3RlcywgXCI9JyQxJ11cIiApO1xuXG5cdGlmICggc3VwcG9ydC5tYXRjaGVzU2VsZWN0b3IgJiYgZG9jdW1lbnRJc0hUTUwgJiZcblx0XHQhY29tcGlsZXJDYWNoZVsgZXhwciArIFwiIFwiIF0gJiZcblx0XHQoICFyYnVnZ3lNYXRjaGVzIHx8ICFyYnVnZ3lNYXRjaGVzLnRlc3QoIGV4cHIgKSApICYmXG5cdFx0KCAhcmJ1Z2d5UVNBICAgICB8fCAhcmJ1Z2d5UVNBLnRlc3QoIGV4cHIgKSApICkge1xuXG5cdFx0dHJ5IHtcblx0XHRcdHZhciByZXQgPSBtYXRjaGVzLmNhbGwoIGVsZW0sIGV4cHIgKTtcblxuXHRcdFx0Ly8gSUUgOSdzIG1hdGNoZXNTZWxlY3RvciByZXR1cm5zIGZhbHNlIG9uIGRpc2Nvbm5lY3RlZCBub2Rlc1xuXHRcdFx0aWYgKCByZXQgfHwgc3VwcG9ydC5kaXNjb25uZWN0ZWRNYXRjaCB8fFxuXHRcdFx0XHRcdC8vIEFzIHdlbGwsIGRpc2Nvbm5lY3RlZCBub2RlcyBhcmUgc2FpZCB0byBiZSBpbiBhIGRvY3VtZW50XG5cdFx0XHRcdFx0Ly8gZnJhZ21lbnQgaW4gSUUgOVxuXHRcdFx0XHRcdGVsZW0uZG9jdW1lbnQgJiYgZWxlbS5kb2N1bWVudC5ub2RlVHlwZSAhPT0gMTEgKSB7XG5cdFx0XHRcdHJldHVybiByZXQ7XG5cdFx0XHR9XG5cdFx0fSBjYXRjaCAoZSkge31cblx0fVxuXG5cdHJldHVybiBTaXp6bGUoIGV4cHIsIGRvY3VtZW50LCBudWxsLCBbIGVsZW0gXSApLmxlbmd0aCA+IDA7XG59O1xuXG5TaXp6bGUuY29udGFpbnMgPSBmdW5jdGlvbiggY29udGV4dCwgZWxlbSApIHtcblx0Ly8gU2V0IGRvY3VtZW50IHZhcnMgaWYgbmVlZGVkXG5cdGlmICggKCBjb250ZXh0Lm93bmVyRG9jdW1lbnQgfHwgY29udGV4dCApICE9PSBkb2N1bWVudCApIHtcblx0XHRzZXREb2N1bWVudCggY29udGV4dCApO1xuXHR9XG5cdHJldHVybiBjb250YWlucyggY29udGV4dCwgZWxlbSApO1xufTtcblxuU2l6emxlLmF0dHIgPSBmdW5jdGlvbiggZWxlbSwgbmFtZSApIHtcblx0Ly8gU2V0IGRvY3VtZW50IHZhcnMgaWYgbmVlZGVkXG5cdGlmICggKCBlbGVtLm93bmVyRG9jdW1lbnQgfHwgZWxlbSApICE9PSBkb2N1bWVudCApIHtcblx0XHRzZXREb2N1bWVudCggZWxlbSApO1xuXHR9XG5cblx0dmFyIGZuID0gRXhwci5hdHRySGFuZGxlWyBuYW1lLnRvTG93ZXJDYXNlKCkgXSxcblx0XHQvLyBEb24ndCBnZXQgZm9vbGVkIGJ5IE9iamVjdC5wcm90b3R5cGUgcHJvcGVydGllcyAoalF1ZXJ5ICMxMzgwNylcblx0XHR2YWwgPSBmbiAmJiBoYXNPd24uY2FsbCggRXhwci5hdHRySGFuZGxlLCBuYW1lLnRvTG93ZXJDYXNlKCkgKSA/XG5cdFx0XHRmbiggZWxlbSwgbmFtZSwgIWRvY3VtZW50SXNIVE1MICkgOlxuXHRcdFx0dW5kZWZpbmVkO1xuXG5cdHJldHVybiB2YWwgIT09IHVuZGVmaW5lZCA/XG5cdFx0dmFsIDpcblx0XHRzdXBwb3J0LmF0dHJpYnV0ZXMgfHwgIWRvY3VtZW50SXNIVE1MID9cblx0XHRcdGVsZW0uZ2V0QXR0cmlidXRlKCBuYW1lICkgOlxuXHRcdFx0KHZhbCA9IGVsZW0uZ2V0QXR0cmlidXRlTm9kZShuYW1lKSkgJiYgdmFsLnNwZWNpZmllZCA/XG5cdFx0XHRcdHZhbC52YWx1ZSA6XG5cdFx0XHRcdG51bGw7XG59O1xuXG5TaXp6bGUuZXNjYXBlID0gZnVuY3Rpb24oIHNlbCApIHtcblx0cmV0dXJuIChzZWwgKyBcIlwiKS5yZXBsYWNlKCByY3NzZXNjYXBlLCBmY3NzZXNjYXBlICk7XG59O1xuXG5TaXp6bGUuZXJyb3IgPSBmdW5jdGlvbiggbXNnICkge1xuXHR0aHJvdyBuZXcgRXJyb3IoIFwiU3ludGF4IGVycm9yLCB1bnJlY29nbml6ZWQgZXhwcmVzc2lvbjogXCIgKyBtc2cgKTtcbn07XG5cbi8qKlxuICogRG9jdW1lbnQgc29ydGluZyBhbmQgcmVtb3ZpbmcgZHVwbGljYXRlc1xuICogQHBhcmFtIHtBcnJheUxpa2V9IHJlc3VsdHNcbiAqL1xuU2l6emxlLnVuaXF1ZVNvcnQgPSBmdW5jdGlvbiggcmVzdWx0cyApIHtcblx0dmFyIGVsZW0sXG5cdFx0ZHVwbGljYXRlcyA9IFtdLFxuXHRcdGogPSAwLFxuXHRcdGkgPSAwO1xuXG5cdC8vIFVubGVzcyB3ZSAqa25vdyogd2UgY2FuIGRldGVjdCBkdXBsaWNhdGVzLCBhc3N1bWUgdGhlaXIgcHJlc2VuY2Vcblx0aGFzRHVwbGljYXRlID0gIXN1cHBvcnQuZGV0ZWN0RHVwbGljYXRlcztcblx0c29ydElucHV0ID0gIXN1cHBvcnQuc29ydFN0YWJsZSAmJiByZXN1bHRzLnNsaWNlKCAwICk7XG5cdHJlc3VsdHMuc29ydCggc29ydE9yZGVyICk7XG5cblx0aWYgKCBoYXNEdXBsaWNhdGUgKSB7XG5cdFx0d2hpbGUgKCAoZWxlbSA9IHJlc3VsdHNbaSsrXSkgKSB7XG5cdFx0XHRpZiAoIGVsZW0gPT09IHJlc3VsdHNbIGkgXSApIHtcblx0XHRcdFx0aiA9IGR1cGxpY2F0ZXMucHVzaCggaSApO1xuXHRcdFx0fVxuXHRcdH1cblx0XHR3aGlsZSAoIGotLSApIHtcblx0XHRcdHJlc3VsdHMuc3BsaWNlKCBkdXBsaWNhdGVzWyBqIF0sIDEgKTtcblx0XHR9XG5cdH1cblxuXHQvLyBDbGVhciBpbnB1dCBhZnRlciBzb3J0aW5nIHRvIHJlbGVhc2Ugb2JqZWN0c1xuXHQvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2pxdWVyeS9zaXp6bGUvcHVsbC8yMjVcblx0c29ydElucHV0ID0gbnVsbDtcblxuXHRyZXR1cm4gcmVzdWx0cztcbn07XG5cbi8qKlxuICogVXRpbGl0eSBmdW5jdGlvbiBmb3IgcmV0cmlldmluZyB0aGUgdGV4dCB2YWx1ZSBvZiBhbiBhcnJheSBvZiBET00gbm9kZXNcbiAqIEBwYXJhbSB7QXJyYXl8RWxlbWVudH0gZWxlbVxuICovXG5nZXRUZXh0ID0gU2l6emxlLmdldFRleHQgPSBmdW5jdGlvbiggZWxlbSApIHtcblx0dmFyIG5vZGUsXG5cdFx0cmV0ID0gXCJcIixcblx0XHRpID0gMCxcblx0XHRub2RlVHlwZSA9IGVsZW0ubm9kZVR5cGU7XG5cblx0aWYgKCAhbm9kZVR5cGUgKSB7XG5cdFx0Ly8gSWYgbm8gbm9kZVR5cGUsIHRoaXMgaXMgZXhwZWN0ZWQgdG8gYmUgYW4gYXJyYXlcblx0XHR3aGlsZSAoIChub2RlID0gZWxlbVtpKytdKSApIHtcblx0XHRcdC8vIERvIG5vdCB0cmF2ZXJzZSBjb21tZW50IG5vZGVzXG5cdFx0XHRyZXQgKz0gZ2V0VGV4dCggbm9kZSApO1xuXHRcdH1cblx0fSBlbHNlIGlmICggbm9kZVR5cGUgPT09IDEgfHwgbm9kZVR5cGUgPT09IDkgfHwgbm9kZVR5cGUgPT09IDExICkge1xuXHRcdC8vIFVzZSB0ZXh0Q29udGVudCBmb3IgZWxlbWVudHNcblx0XHQvLyBpbm5lclRleHQgdXNhZ2UgcmVtb3ZlZCBmb3IgY29uc2lzdGVuY3kgb2YgbmV3IGxpbmVzIChqUXVlcnkgIzExMTUzKVxuXHRcdGlmICggdHlwZW9mIGVsZW0udGV4dENvbnRlbnQgPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRyZXR1cm4gZWxlbS50ZXh0Q29udGVudDtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gVHJhdmVyc2UgaXRzIGNoaWxkcmVuXG5cdFx0XHRmb3IgKCBlbGVtID0gZWxlbS5maXJzdENoaWxkOyBlbGVtOyBlbGVtID0gZWxlbS5uZXh0U2libGluZyApIHtcblx0XHRcdFx0cmV0ICs9IGdldFRleHQoIGVsZW0gKTtcblx0XHRcdH1cblx0XHR9XG5cdH0gZWxzZSBpZiAoIG5vZGVUeXBlID09PSAzIHx8IG5vZGVUeXBlID09PSA0ICkge1xuXHRcdHJldHVybiBlbGVtLm5vZGVWYWx1ZTtcblx0fVxuXHQvLyBEbyBub3QgaW5jbHVkZSBjb21tZW50IG9yIHByb2Nlc3NpbmcgaW5zdHJ1Y3Rpb24gbm9kZXNcblxuXHRyZXR1cm4gcmV0O1xufTtcblxuRXhwciA9IFNpenpsZS5zZWxlY3RvcnMgPSB7XG5cblx0Ly8gQ2FuIGJlIGFkanVzdGVkIGJ5IHRoZSB1c2VyXG5cdGNhY2hlTGVuZ3RoOiA1MCxcblxuXHRjcmVhdGVQc2V1ZG86IG1hcmtGdW5jdGlvbixcblxuXHRtYXRjaDogbWF0Y2hFeHByLFxuXG5cdGF0dHJIYW5kbGU6IHt9LFxuXG5cdGZpbmQ6IHt9LFxuXG5cdHJlbGF0aXZlOiB7XG5cdFx0XCI+XCI6IHsgZGlyOiBcInBhcmVudE5vZGVcIiwgZmlyc3Q6IHRydWUgfSxcblx0XHRcIiBcIjogeyBkaXI6IFwicGFyZW50Tm9kZVwiIH0sXG5cdFx0XCIrXCI6IHsgZGlyOiBcInByZXZpb3VzU2libGluZ1wiLCBmaXJzdDogdHJ1ZSB9LFxuXHRcdFwiflwiOiB7IGRpcjogXCJwcmV2aW91c1NpYmxpbmdcIiB9XG5cdH0sXG5cblx0cHJlRmlsdGVyOiB7XG5cdFx0XCJBVFRSXCI6IGZ1bmN0aW9uKCBtYXRjaCApIHtcblx0XHRcdG1hdGNoWzFdID0gbWF0Y2hbMV0ucmVwbGFjZSggcnVuZXNjYXBlLCBmdW5lc2NhcGUgKTtcblxuXHRcdFx0Ly8gTW92ZSB0aGUgZ2l2ZW4gdmFsdWUgdG8gbWF0Y2hbM10gd2hldGhlciBxdW90ZWQgb3IgdW5xdW90ZWRcblx0XHRcdG1hdGNoWzNdID0gKCBtYXRjaFszXSB8fCBtYXRjaFs0XSB8fCBtYXRjaFs1XSB8fCBcIlwiICkucmVwbGFjZSggcnVuZXNjYXBlLCBmdW5lc2NhcGUgKTtcblxuXHRcdFx0aWYgKCBtYXRjaFsyXSA9PT0gXCJ+PVwiICkge1xuXHRcdFx0XHRtYXRjaFszXSA9IFwiIFwiICsgbWF0Y2hbM10gKyBcIiBcIjtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIG1hdGNoLnNsaWNlKCAwLCA0ICk7XG5cdFx0fSxcblxuXHRcdFwiQ0hJTERcIjogZnVuY3Rpb24oIG1hdGNoICkge1xuXHRcdFx0LyogbWF0Y2hlcyBmcm9tIG1hdGNoRXhwcltcIkNISUxEXCJdXG5cdFx0XHRcdDEgdHlwZSAob25seXxudGh8Li4uKVxuXHRcdFx0XHQyIHdoYXQgKGNoaWxkfG9mLXR5cGUpXG5cdFx0XHRcdDMgYXJndW1lbnQgKGV2ZW58b2RkfFxcZCp8XFxkKm4oWystXVxcZCspP3wuLi4pXG5cdFx0XHRcdDQgeG4tY29tcG9uZW50IG9mIHhuK3kgYXJndW1lbnQgKFsrLV0/XFxkKm58KVxuXHRcdFx0XHQ1IHNpZ24gb2YgeG4tY29tcG9uZW50XG5cdFx0XHRcdDYgeCBvZiB4bi1jb21wb25lbnRcblx0XHRcdFx0NyBzaWduIG9mIHktY29tcG9uZW50XG5cdFx0XHRcdDggeSBvZiB5LWNvbXBvbmVudFxuXHRcdFx0Ki9cblx0XHRcdG1hdGNoWzFdID0gbWF0Y2hbMV0udG9Mb3dlckNhc2UoKTtcblxuXHRcdFx0aWYgKCBtYXRjaFsxXS5zbGljZSggMCwgMyApID09PSBcIm50aFwiICkge1xuXHRcdFx0XHQvLyBudGgtKiByZXF1aXJlcyBhcmd1bWVudFxuXHRcdFx0XHRpZiAoICFtYXRjaFszXSApIHtcblx0XHRcdFx0XHRTaXp6bGUuZXJyb3IoIG1hdGNoWzBdICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBudW1lcmljIHggYW5kIHkgcGFyYW1ldGVycyBmb3IgRXhwci5maWx0ZXIuQ0hJTERcblx0XHRcdFx0Ly8gcmVtZW1iZXIgdGhhdCBmYWxzZS90cnVlIGNhc3QgcmVzcGVjdGl2ZWx5IHRvIDAvMVxuXHRcdFx0XHRtYXRjaFs0XSA9ICsoIG1hdGNoWzRdID8gbWF0Y2hbNV0gKyAobWF0Y2hbNl0gfHwgMSkgOiAyICogKCBtYXRjaFszXSA9PT0gXCJldmVuXCIgfHwgbWF0Y2hbM10gPT09IFwib2RkXCIgKSApO1xuXHRcdFx0XHRtYXRjaFs1XSA9ICsoICggbWF0Y2hbN10gKyBtYXRjaFs4XSApIHx8IG1hdGNoWzNdID09PSBcIm9kZFwiICk7XG5cblx0XHRcdC8vIG90aGVyIHR5cGVzIHByb2hpYml0IGFyZ3VtZW50c1xuXHRcdFx0fSBlbHNlIGlmICggbWF0Y2hbM10gKSB7XG5cdFx0XHRcdFNpenpsZS5lcnJvciggbWF0Y2hbMF0gKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIG1hdGNoO1xuXHRcdH0sXG5cblx0XHRcIlBTRVVET1wiOiBmdW5jdGlvbiggbWF0Y2ggKSB7XG5cdFx0XHR2YXIgZXhjZXNzLFxuXHRcdFx0XHR1bnF1b3RlZCA9ICFtYXRjaFs2XSAmJiBtYXRjaFsyXTtcblxuXHRcdFx0aWYgKCBtYXRjaEV4cHJbXCJDSElMRFwiXS50ZXN0KCBtYXRjaFswXSApICkge1xuXHRcdFx0XHRyZXR1cm4gbnVsbDtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQWNjZXB0IHF1b3RlZCBhcmd1bWVudHMgYXMtaXNcblx0XHRcdGlmICggbWF0Y2hbM10gKSB7XG5cdFx0XHRcdG1hdGNoWzJdID0gbWF0Y2hbNF0gfHwgbWF0Y2hbNV0gfHwgXCJcIjtcblxuXHRcdFx0Ly8gU3RyaXAgZXhjZXNzIGNoYXJhY3RlcnMgZnJvbSB1bnF1b3RlZCBhcmd1bWVudHNcblx0XHRcdH0gZWxzZSBpZiAoIHVucXVvdGVkICYmIHJwc2V1ZG8udGVzdCggdW5xdW90ZWQgKSAmJlxuXHRcdFx0XHQvLyBHZXQgZXhjZXNzIGZyb20gdG9rZW5pemUgKHJlY3Vyc2l2ZWx5KVxuXHRcdFx0XHQoZXhjZXNzID0gdG9rZW5pemUoIHVucXVvdGVkLCB0cnVlICkpICYmXG5cdFx0XHRcdC8vIGFkdmFuY2UgdG8gdGhlIG5leHQgY2xvc2luZyBwYXJlbnRoZXNpc1xuXHRcdFx0XHQoZXhjZXNzID0gdW5xdW90ZWQuaW5kZXhPZiggXCIpXCIsIHVucXVvdGVkLmxlbmd0aCAtIGV4Y2VzcyApIC0gdW5xdW90ZWQubGVuZ3RoKSApIHtcblxuXHRcdFx0XHQvLyBleGNlc3MgaXMgYSBuZWdhdGl2ZSBpbmRleFxuXHRcdFx0XHRtYXRjaFswXSA9IG1hdGNoWzBdLnNsaWNlKCAwLCBleGNlc3MgKTtcblx0XHRcdFx0bWF0Y2hbMl0gPSB1bnF1b3RlZC5zbGljZSggMCwgZXhjZXNzICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFJldHVybiBvbmx5IGNhcHR1cmVzIG5lZWRlZCBieSB0aGUgcHNldWRvIGZpbHRlciBtZXRob2QgKHR5cGUgYW5kIGFyZ3VtZW50KVxuXHRcdFx0cmV0dXJuIG1hdGNoLnNsaWNlKCAwLCAzICk7XG5cdFx0fVxuXHR9LFxuXG5cdGZpbHRlcjoge1xuXG5cdFx0XCJUQUdcIjogZnVuY3Rpb24oIG5vZGVOYW1lU2VsZWN0b3IgKSB7XG5cdFx0XHR2YXIgbm9kZU5hbWUgPSBub2RlTmFtZVNlbGVjdG9yLnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICkudG9Mb3dlckNhc2UoKTtcblx0XHRcdHJldHVybiBub2RlTmFtZVNlbGVjdG9yID09PSBcIipcIiA/XG5cdFx0XHRcdGZ1bmN0aW9uKCkgeyByZXR1cm4gdHJ1ZTsgfSA6XG5cdFx0XHRcdGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHRcdHJldHVybiBlbGVtLm5vZGVOYW1lICYmIGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gbm9kZU5hbWU7XG5cdFx0XHRcdH07XG5cdFx0fSxcblxuXHRcdFwiQ0xBU1NcIjogZnVuY3Rpb24oIGNsYXNzTmFtZSApIHtcblx0XHRcdHZhciBwYXR0ZXJuID0gY2xhc3NDYWNoZVsgY2xhc3NOYW1lICsgXCIgXCIgXTtcblxuXHRcdFx0cmV0dXJuIHBhdHRlcm4gfHxcblx0XHRcdFx0KHBhdHRlcm4gPSBuZXcgUmVnRXhwKCBcIihefFwiICsgd2hpdGVzcGFjZSArIFwiKVwiICsgY2xhc3NOYW1lICsgXCIoXCIgKyB3aGl0ZXNwYWNlICsgXCJ8JClcIiApKSAmJlxuXHRcdFx0XHRjbGFzc0NhY2hlKCBjbGFzc05hbWUsIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHRcdHJldHVybiBwYXR0ZXJuLnRlc3QoIHR5cGVvZiBlbGVtLmNsYXNzTmFtZSA9PT0gXCJzdHJpbmdcIiAmJiBlbGVtLmNsYXNzTmFtZSB8fCB0eXBlb2YgZWxlbS5nZXRBdHRyaWJ1dGUgIT09IFwidW5kZWZpbmVkXCIgJiYgZWxlbS5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKSB8fCBcIlwiICk7XG5cdFx0XHRcdH0pO1xuXHRcdH0sXG5cblx0XHRcIkFUVFJcIjogZnVuY3Rpb24oIG5hbWUsIG9wZXJhdG9yLCBjaGVjayApIHtcblx0XHRcdHJldHVybiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0dmFyIHJlc3VsdCA9IFNpenpsZS5hdHRyKCBlbGVtLCBuYW1lICk7XG5cblx0XHRcdFx0aWYgKCByZXN1bHQgPT0gbnVsbCApIHtcblx0XHRcdFx0XHRyZXR1cm4gb3BlcmF0b3IgPT09IFwiIT1cIjtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoICFvcGVyYXRvciApIHtcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJlc3VsdCArPSBcIlwiO1xuXG5cdFx0XHRcdHJldHVybiBvcGVyYXRvciA9PT0gXCI9XCIgPyByZXN1bHQgPT09IGNoZWNrIDpcblx0XHRcdFx0XHRvcGVyYXRvciA9PT0gXCIhPVwiID8gcmVzdWx0ICE9PSBjaGVjayA6XG5cdFx0XHRcdFx0b3BlcmF0b3IgPT09IFwiXj1cIiA/IGNoZWNrICYmIHJlc3VsdC5pbmRleE9mKCBjaGVjayApID09PSAwIDpcblx0XHRcdFx0XHRvcGVyYXRvciA9PT0gXCIqPVwiID8gY2hlY2sgJiYgcmVzdWx0LmluZGV4T2YoIGNoZWNrICkgPiAtMSA6XG5cdFx0XHRcdFx0b3BlcmF0b3IgPT09IFwiJD1cIiA/IGNoZWNrICYmIHJlc3VsdC5zbGljZSggLWNoZWNrLmxlbmd0aCApID09PSBjaGVjayA6XG5cdFx0XHRcdFx0b3BlcmF0b3IgPT09IFwifj1cIiA/ICggXCIgXCIgKyByZXN1bHQucmVwbGFjZSggcndoaXRlc3BhY2UsIFwiIFwiICkgKyBcIiBcIiApLmluZGV4T2YoIGNoZWNrICkgPiAtMSA6XG5cdFx0XHRcdFx0b3BlcmF0b3IgPT09IFwifD1cIiA/IHJlc3VsdCA9PT0gY2hlY2sgfHwgcmVzdWx0LnNsaWNlKCAwLCBjaGVjay5sZW5ndGggKyAxICkgPT09IGNoZWNrICsgXCItXCIgOlxuXHRcdFx0XHRcdGZhbHNlO1xuXHRcdFx0fTtcblx0XHR9LFxuXG5cdFx0XCJDSElMRFwiOiBmdW5jdGlvbiggdHlwZSwgd2hhdCwgYXJndW1lbnQsIGZpcnN0LCBsYXN0ICkge1xuXHRcdFx0dmFyIHNpbXBsZSA9IHR5cGUuc2xpY2UoIDAsIDMgKSAhPT0gXCJudGhcIixcblx0XHRcdFx0Zm9yd2FyZCA9IHR5cGUuc2xpY2UoIC00ICkgIT09IFwibGFzdFwiLFxuXHRcdFx0XHRvZlR5cGUgPSB3aGF0ID09PSBcIm9mLXR5cGVcIjtcblxuXHRcdFx0cmV0dXJuIGZpcnN0ID09PSAxICYmIGxhc3QgPT09IDAgP1xuXG5cdFx0XHRcdC8vIFNob3J0Y3V0IGZvciA6bnRoLSoobilcblx0XHRcdFx0ZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdFx0cmV0dXJuICEhZWxlbS5wYXJlbnROb2RlO1xuXHRcdFx0XHR9IDpcblxuXHRcdFx0XHRmdW5jdGlvbiggZWxlbSwgY29udGV4dCwgeG1sICkge1xuXHRcdFx0XHRcdHZhciBjYWNoZSwgdW5pcXVlQ2FjaGUsIG91dGVyQ2FjaGUsIG5vZGUsIG5vZGVJbmRleCwgc3RhcnQsXG5cdFx0XHRcdFx0XHRkaXIgPSBzaW1wbGUgIT09IGZvcndhcmQgPyBcIm5leHRTaWJsaW5nXCIgOiBcInByZXZpb3VzU2libGluZ1wiLFxuXHRcdFx0XHRcdFx0cGFyZW50ID0gZWxlbS5wYXJlbnROb2RlLFxuXHRcdFx0XHRcdFx0bmFtZSA9IG9mVHlwZSAmJiBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksXG5cdFx0XHRcdFx0XHR1c2VDYWNoZSA9ICF4bWwgJiYgIW9mVHlwZSxcblx0XHRcdFx0XHRcdGRpZmYgPSBmYWxzZTtcblxuXHRcdFx0XHRcdGlmICggcGFyZW50ICkge1xuXG5cdFx0XHRcdFx0XHQvLyA6KGZpcnN0fGxhc3R8b25seSktKGNoaWxkfG9mLXR5cGUpXG5cdFx0XHRcdFx0XHRpZiAoIHNpbXBsZSApIHtcblx0XHRcdFx0XHRcdFx0d2hpbGUgKCBkaXIgKSB7XG5cdFx0XHRcdFx0XHRcdFx0bm9kZSA9IGVsZW07XG5cdFx0XHRcdFx0XHRcdFx0d2hpbGUgKCAobm9kZSA9IG5vZGVbIGRpciBdKSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdGlmICggb2ZUeXBlID9cblx0XHRcdFx0XHRcdFx0XHRcdFx0bm9kZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSBuYW1lIDpcblx0XHRcdFx0XHRcdFx0XHRcdFx0bm9kZS5ub2RlVHlwZSA9PT0gMSApIHtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdC8vIFJldmVyc2UgZGlyZWN0aW9uIGZvciA6b25seS0qIChpZiB3ZSBoYXZlbid0IHlldCBkb25lIHNvKVxuXHRcdFx0XHRcdFx0XHRcdHN0YXJ0ID0gZGlyID0gdHlwZSA9PT0gXCJvbmx5XCIgJiYgIXN0YXJ0ICYmIFwibmV4dFNpYmxpbmdcIjtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0c3RhcnQgPSBbIGZvcndhcmQgPyBwYXJlbnQuZmlyc3RDaGlsZCA6IHBhcmVudC5sYXN0Q2hpbGQgXTtcblxuXHRcdFx0XHRcdFx0Ly8gbm9uLXhtbCA6bnRoLWNoaWxkKC4uLikgc3RvcmVzIGNhY2hlIGRhdGEgb24gYHBhcmVudGBcblx0XHRcdFx0XHRcdGlmICggZm9yd2FyZCAmJiB1c2VDYWNoZSApIHtcblxuXHRcdFx0XHRcdFx0XHQvLyBTZWVrIGBlbGVtYCBmcm9tIGEgcHJldmlvdXNseS1jYWNoZWQgaW5kZXhcblxuXHRcdFx0XHRcdFx0XHQvLyAuLi5pbiBhIGd6aXAtZnJpZW5kbHkgd2F5XG5cdFx0XHRcdFx0XHRcdG5vZGUgPSBwYXJlbnQ7XG5cdFx0XHRcdFx0XHRcdG91dGVyQ2FjaGUgPSBub2RlWyBleHBhbmRvIF0gfHwgKG5vZGVbIGV4cGFuZG8gXSA9IHt9KTtcblxuXHRcdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA8OSBvbmx5XG5cdFx0XHRcdFx0XHRcdC8vIERlZmVuZCBhZ2FpbnN0IGNsb25lZCBhdHRyb3BlcnRpZXMgKGpRdWVyeSBnaC0xNzA5KVxuXHRcdFx0XHRcdFx0XHR1bmlxdWVDYWNoZSA9IG91dGVyQ2FjaGVbIG5vZGUudW5pcXVlSUQgXSB8fFxuXHRcdFx0XHRcdFx0XHRcdChvdXRlckNhY2hlWyBub2RlLnVuaXF1ZUlEIF0gPSB7fSk7XG5cblx0XHRcdFx0XHRcdFx0Y2FjaGUgPSB1bmlxdWVDYWNoZVsgdHlwZSBdIHx8IFtdO1xuXHRcdFx0XHRcdFx0XHRub2RlSW5kZXggPSBjYWNoZVsgMCBdID09PSBkaXJydW5zICYmIGNhY2hlWyAxIF07XG5cdFx0XHRcdFx0XHRcdGRpZmYgPSBub2RlSW5kZXggJiYgY2FjaGVbIDIgXTtcblx0XHRcdFx0XHRcdFx0bm9kZSA9IG5vZGVJbmRleCAmJiBwYXJlbnQuY2hpbGROb2Rlc1sgbm9kZUluZGV4IF07XG5cblx0XHRcdFx0XHRcdFx0d2hpbGUgKCAobm9kZSA9ICsrbm9kZUluZGV4ICYmIG5vZGUgJiYgbm9kZVsgZGlyIF0gfHxcblxuXHRcdFx0XHRcdFx0XHRcdC8vIEZhbGxiYWNrIHRvIHNlZWtpbmcgYGVsZW1gIGZyb20gdGhlIHN0YXJ0XG5cdFx0XHRcdFx0XHRcdFx0KGRpZmYgPSBub2RlSW5kZXggPSAwKSB8fCBzdGFydC5wb3AoKSkgKSB7XG5cblx0XHRcdFx0XHRcdFx0XHQvLyBXaGVuIGZvdW5kLCBjYWNoZSBpbmRleGVzIG9uIGBwYXJlbnRgIGFuZCBicmVha1xuXHRcdFx0XHRcdFx0XHRcdGlmICggbm9kZS5ub2RlVHlwZSA9PT0gMSAmJiArK2RpZmYgJiYgbm9kZSA9PT0gZWxlbSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdHVuaXF1ZUNhY2hlWyB0eXBlIF0gPSBbIGRpcnJ1bnMsIG5vZGVJbmRleCwgZGlmZiBdO1xuXHRcdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdC8vIFVzZSBwcmV2aW91c2x5LWNhY2hlZCBlbGVtZW50IGluZGV4IGlmIGF2YWlsYWJsZVxuXHRcdFx0XHRcdFx0XHRpZiAoIHVzZUNhY2hlICkge1xuXHRcdFx0XHRcdFx0XHRcdC8vIC4uLmluIGEgZ3ppcC1mcmllbmRseSB3YXlcblx0XHRcdFx0XHRcdFx0XHRub2RlID0gZWxlbTtcblx0XHRcdFx0XHRcdFx0XHRvdXRlckNhY2hlID0gbm9kZVsgZXhwYW5kbyBdIHx8IChub2RlWyBleHBhbmRvIF0gPSB7fSk7XG5cblx0XHRcdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA8OSBvbmx5XG5cdFx0XHRcdFx0XHRcdFx0Ly8gRGVmZW5kIGFnYWluc3QgY2xvbmVkIGF0dHJvcGVydGllcyAoalF1ZXJ5IGdoLTE3MDkpXG5cdFx0XHRcdFx0XHRcdFx0dW5pcXVlQ2FjaGUgPSBvdXRlckNhY2hlWyBub2RlLnVuaXF1ZUlEIF0gfHxcblx0XHRcdFx0XHRcdFx0XHRcdChvdXRlckNhY2hlWyBub2RlLnVuaXF1ZUlEIF0gPSB7fSk7XG5cblx0XHRcdFx0XHRcdFx0XHRjYWNoZSA9IHVuaXF1ZUNhY2hlWyB0eXBlIF0gfHwgW107XG5cdFx0XHRcdFx0XHRcdFx0bm9kZUluZGV4ID0gY2FjaGVbIDAgXSA9PT0gZGlycnVucyAmJiBjYWNoZVsgMSBdO1xuXHRcdFx0XHRcdFx0XHRcdGRpZmYgPSBub2RlSW5kZXg7XG5cdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHQvLyB4bWwgOm50aC1jaGlsZCguLi4pXG5cdFx0XHRcdFx0XHRcdC8vIG9yIDpudGgtbGFzdC1jaGlsZCguLi4pIG9yIDpudGgoLWxhc3QpPy1vZi10eXBlKC4uLilcblx0XHRcdFx0XHRcdFx0aWYgKCBkaWZmID09PSBmYWxzZSApIHtcblx0XHRcdFx0XHRcdFx0XHQvLyBVc2UgdGhlIHNhbWUgbG9vcCBhcyBhYm92ZSB0byBzZWVrIGBlbGVtYCBmcm9tIHRoZSBzdGFydFxuXHRcdFx0XHRcdFx0XHRcdHdoaWxlICggKG5vZGUgPSArK25vZGVJbmRleCAmJiBub2RlICYmIG5vZGVbIGRpciBdIHx8XG5cdFx0XHRcdFx0XHRcdFx0XHQoZGlmZiA9IG5vZGVJbmRleCA9IDApIHx8IHN0YXJ0LnBvcCgpKSApIHtcblxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKCAoIG9mVHlwZSA/XG5cdFx0XHRcdFx0XHRcdFx0XHRcdG5vZGUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gbmFtZSA6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdG5vZGUubm9kZVR5cGUgPT09IDEgKSAmJlxuXHRcdFx0XHRcdFx0XHRcdFx0XHQrK2RpZmYgKSB7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gQ2FjaGUgdGhlIGluZGV4IG9mIGVhY2ggZW5jb3VudGVyZWQgZWxlbWVudFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoIHVzZUNhY2hlICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdG91dGVyQ2FjaGUgPSBub2RlWyBleHBhbmRvIF0gfHwgKG5vZGVbIGV4cGFuZG8gXSA9IHt9KTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDw5IG9ubHlcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBEZWZlbmQgYWdhaW5zdCBjbG9uZWQgYXR0cm9wZXJ0aWVzIChqUXVlcnkgZ2gtMTcwOSlcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR1bmlxdWVDYWNoZSA9IG91dGVyQ2FjaGVbIG5vZGUudW5pcXVlSUQgXSB8fFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0KG91dGVyQ2FjaGVbIG5vZGUudW5pcXVlSUQgXSA9IHt9KTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHVuaXF1ZUNhY2hlWyB0eXBlIF0gPSBbIGRpcnJ1bnMsIGRpZmYgXTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmICggbm9kZSA9PT0gZWxlbSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHQvLyBJbmNvcnBvcmF0ZSB0aGUgb2Zmc2V0LCB0aGVuIGNoZWNrIGFnYWluc3QgY3ljbGUgc2l6ZVxuXHRcdFx0XHRcdFx0ZGlmZiAtPSBsYXN0O1xuXHRcdFx0XHRcdFx0cmV0dXJuIGRpZmYgPT09IGZpcnN0IHx8ICggZGlmZiAlIGZpcnN0ID09PSAwICYmIGRpZmYgLyBmaXJzdCA+PSAwICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9O1xuXHRcdH0sXG5cblx0XHRcIlBTRVVET1wiOiBmdW5jdGlvbiggcHNldWRvLCBhcmd1bWVudCApIHtcblx0XHRcdC8vIHBzZXVkby1jbGFzcyBuYW1lcyBhcmUgY2FzZS1pbnNlbnNpdGl2ZVxuXHRcdFx0Ly8gaHR0cDovL3d3dy53My5vcmcvVFIvc2VsZWN0b3JzLyNwc2V1ZG8tY2xhc3Nlc1xuXHRcdFx0Ly8gUHJpb3JpdGl6ZSBieSBjYXNlIHNlbnNpdGl2aXR5IGluIGNhc2UgY3VzdG9tIHBzZXVkb3MgYXJlIGFkZGVkIHdpdGggdXBwZXJjYXNlIGxldHRlcnNcblx0XHRcdC8vIFJlbWVtYmVyIHRoYXQgc2V0RmlsdGVycyBpbmhlcml0cyBmcm9tIHBzZXVkb3Ncblx0XHRcdHZhciBhcmdzLFxuXHRcdFx0XHRmbiA9IEV4cHIucHNldWRvc1sgcHNldWRvIF0gfHwgRXhwci5zZXRGaWx0ZXJzWyBwc2V1ZG8udG9Mb3dlckNhc2UoKSBdIHx8XG5cdFx0XHRcdFx0U2l6emxlLmVycm9yKCBcInVuc3VwcG9ydGVkIHBzZXVkbzogXCIgKyBwc2V1ZG8gKTtcblxuXHRcdFx0Ly8gVGhlIHVzZXIgbWF5IHVzZSBjcmVhdGVQc2V1ZG8gdG8gaW5kaWNhdGUgdGhhdFxuXHRcdFx0Ly8gYXJndW1lbnRzIGFyZSBuZWVkZWQgdG8gY3JlYXRlIHRoZSBmaWx0ZXIgZnVuY3Rpb25cblx0XHRcdC8vIGp1c3QgYXMgU2l6emxlIGRvZXNcblx0XHRcdGlmICggZm5bIGV4cGFuZG8gXSApIHtcblx0XHRcdFx0cmV0dXJuIGZuKCBhcmd1bWVudCApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBCdXQgbWFpbnRhaW4gc3VwcG9ydCBmb3Igb2xkIHNpZ25hdHVyZXNcblx0XHRcdGlmICggZm4ubGVuZ3RoID4gMSApIHtcblx0XHRcdFx0YXJncyA9IFsgcHNldWRvLCBwc2V1ZG8sIFwiXCIsIGFyZ3VtZW50IF07XG5cdFx0XHRcdHJldHVybiBFeHByLnNldEZpbHRlcnMuaGFzT3duUHJvcGVydHkoIHBzZXVkby50b0xvd2VyQ2FzZSgpICkgP1xuXHRcdFx0XHRcdG1hcmtGdW5jdGlvbihmdW5jdGlvbiggc2VlZCwgbWF0Y2hlcyApIHtcblx0XHRcdFx0XHRcdHZhciBpZHgsXG5cdFx0XHRcdFx0XHRcdG1hdGNoZWQgPSBmbiggc2VlZCwgYXJndW1lbnQgKSxcblx0XHRcdFx0XHRcdFx0aSA9IG1hdGNoZWQubGVuZ3RoO1xuXHRcdFx0XHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdFx0XHRcdGlkeCA9IGluZGV4T2YoIHNlZWQsIG1hdGNoZWRbaV0gKTtcblx0XHRcdFx0XHRcdFx0c2VlZFsgaWR4IF0gPSAhKCBtYXRjaGVzWyBpZHggXSA9IG1hdGNoZWRbaV0gKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9KSA6XG5cdFx0XHRcdFx0ZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZm4oIGVsZW0sIDAsIGFyZ3MgKTtcblx0XHRcdFx0XHR9O1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gZm47XG5cdFx0fVxuXHR9LFxuXG5cdHBzZXVkb3M6IHtcblx0XHQvLyBQb3RlbnRpYWxseSBjb21wbGV4IHBzZXVkb3Ncblx0XHRcIm5vdFwiOiBtYXJrRnVuY3Rpb24oZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdFx0Ly8gVHJpbSB0aGUgc2VsZWN0b3IgcGFzc2VkIHRvIGNvbXBpbGVcblx0XHRcdC8vIHRvIGF2b2lkIHRyZWF0aW5nIGxlYWRpbmcgYW5kIHRyYWlsaW5nXG5cdFx0XHQvLyBzcGFjZXMgYXMgY29tYmluYXRvcnNcblx0XHRcdHZhciBpbnB1dCA9IFtdLFxuXHRcdFx0XHRyZXN1bHRzID0gW10sXG5cdFx0XHRcdG1hdGNoZXIgPSBjb21waWxlKCBzZWxlY3Rvci5yZXBsYWNlKCBydHJpbSwgXCIkMVwiICkgKTtcblxuXHRcdFx0cmV0dXJuIG1hdGNoZXJbIGV4cGFuZG8gXSA/XG5cdFx0XHRcdG1hcmtGdW5jdGlvbihmdW5jdGlvbiggc2VlZCwgbWF0Y2hlcywgY29udGV4dCwgeG1sICkge1xuXHRcdFx0XHRcdHZhciBlbGVtLFxuXHRcdFx0XHRcdFx0dW5tYXRjaGVkID0gbWF0Y2hlciggc2VlZCwgbnVsbCwgeG1sLCBbXSApLFxuXHRcdFx0XHRcdFx0aSA9IHNlZWQubGVuZ3RoO1xuXG5cdFx0XHRcdFx0Ly8gTWF0Y2ggZWxlbWVudHMgdW5tYXRjaGVkIGJ5IGBtYXRjaGVyYFxuXHRcdFx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHRcdFx0aWYgKCAoZWxlbSA9IHVubWF0Y2hlZFtpXSkgKSB7XG5cdFx0XHRcdFx0XHRcdHNlZWRbaV0gPSAhKG1hdGNoZXNbaV0gPSBlbGVtKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pIDpcblx0XHRcdFx0ZnVuY3Rpb24oIGVsZW0sIGNvbnRleHQsIHhtbCApIHtcblx0XHRcdFx0XHRpbnB1dFswXSA9IGVsZW07XG5cdFx0XHRcdFx0bWF0Y2hlciggaW5wdXQsIG51bGwsIHhtbCwgcmVzdWx0cyApO1xuXHRcdFx0XHRcdC8vIERvbid0IGtlZXAgdGhlIGVsZW1lbnQgKGlzc3VlICMyOTkpXG5cdFx0XHRcdFx0aW5wdXRbMF0gPSBudWxsO1xuXHRcdFx0XHRcdHJldHVybiAhcmVzdWx0cy5wb3AoKTtcblx0XHRcdFx0fTtcblx0XHR9KSxcblxuXHRcdFwiaGFzXCI6IG1hcmtGdW5jdGlvbihmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdHJldHVybiBTaXp6bGUoIHNlbGVjdG9yLCBlbGVtICkubGVuZ3RoID4gMDtcblx0XHRcdH07XG5cdFx0fSksXG5cblx0XHRcImNvbnRhaW5zXCI6IG1hcmtGdW5jdGlvbihmdW5jdGlvbiggdGV4dCApIHtcblx0XHRcdHRleHQgPSB0ZXh0LnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICk7XG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdHJldHVybiAoIGVsZW0udGV4dENvbnRlbnQgfHwgZWxlbS5pbm5lclRleHQgfHwgZ2V0VGV4dCggZWxlbSApICkuaW5kZXhPZiggdGV4dCApID4gLTE7XG5cdFx0XHR9O1xuXHRcdH0pLFxuXG5cdFx0Ly8gXCJXaGV0aGVyIGFuIGVsZW1lbnQgaXMgcmVwcmVzZW50ZWQgYnkgYSA6bGFuZygpIHNlbGVjdG9yXG5cdFx0Ly8gaXMgYmFzZWQgc29sZWx5IG9uIHRoZSBlbGVtZW50J3MgbGFuZ3VhZ2UgdmFsdWVcblx0XHQvLyBiZWluZyBlcXVhbCB0byB0aGUgaWRlbnRpZmllciBDLFxuXHRcdC8vIG9yIGJlZ2lubmluZyB3aXRoIHRoZSBpZGVudGlmaWVyIEMgaW1tZWRpYXRlbHkgZm9sbG93ZWQgYnkgXCItXCIuXG5cdFx0Ly8gVGhlIG1hdGNoaW5nIG9mIEMgYWdhaW5zdCB0aGUgZWxlbWVudCdzIGxhbmd1YWdlIHZhbHVlIGlzIHBlcmZvcm1lZCBjYXNlLWluc2Vuc2l0aXZlbHkuXG5cdFx0Ly8gVGhlIGlkZW50aWZpZXIgQyBkb2VzIG5vdCBoYXZlIHRvIGJlIGEgdmFsaWQgbGFuZ3VhZ2UgbmFtZS5cIlxuXHRcdC8vIGh0dHA6Ly93d3cudzMub3JnL1RSL3NlbGVjdG9ycy8jbGFuZy1wc2V1ZG9cblx0XHRcImxhbmdcIjogbWFya0Z1bmN0aW9uKCBmdW5jdGlvbiggbGFuZyApIHtcblx0XHRcdC8vIGxhbmcgdmFsdWUgbXVzdCBiZSBhIHZhbGlkIGlkZW50aWZpZXJcblx0XHRcdGlmICggIXJpZGVudGlmaWVyLnRlc3QobGFuZyB8fCBcIlwiKSApIHtcblx0XHRcdFx0U2l6emxlLmVycm9yKCBcInVuc3VwcG9ydGVkIGxhbmc6IFwiICsgbGFuZyApO1xuXHRcdFx0fVxuXHRcdFx0bGFuZyA9IGxhbmcucmVwbGFjZSggcnVuZXNjYXBlLCBmdW5lc2NhcGUgKS50b0xvd2VyQ2FzZSgpO1xuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHR2YXIgZWxlbUxhbmc7XG5cdFx0XHRcdGRvIHtcblx0XHRcdFx0XHRpZiAoIChlbGVtTGFuZyA9IGRvY3VtZW50SXNIVE1MID9cblx0XHRcdFx0XHRcdGVsZW0ubGFuZyA6XG5cdFx0XHRcdFx0XHRlbGVtLmdldEF0dHJpYnV0ZShcInhtbDpsYW5nXCIpIHx8IGVsZW0uZ2V0QXR0cmlidXRlKFwibGFuZ1wiKSkgKSB7XG5cblx0XHRcdFx0XHRcdGVsZW1MYW5nID0gZWxlbUxhbmcudG9Mb3dlckNhc2UoKTtcblx0XHRcdFx0XHRcdHJldHVybiBlbGVtTGFuZyA9PT0gbGFuZyB8fCBlbGVtTGFuZy5pbmRleE9mKCBsYW5nICsgXCItXCIgKSA9PT0gMDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gd2hpbGUgKCAoZWxlbSA9IGVsZW0ucGFyZW50Tm9kZSkgJiYgZWxlbS5ub2RlVHlwZSA9PT0gMSApO1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9O1xuXHRcdH0pLFxuXG5cdFx0Ly8gTWlzY2VsbGFuZW91c1xuXHRcdFwidGFyZ2V0XCI6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0dmFyIGhhc2ggPSB3aW5kb3cubG9jYXRpb24gJiYgd2luZG93LmxvY2F0aW9uLmhhc2g7XG5cdFx0XHRyZXR1cm4gaGFzaCAmJiBoYXNoLnNsaWNlKCAxICkgPT09IGVsZW0uaWQ7XG5cdFx0fSxcblxuXHRcdFwicm9vdFwiOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiBlbGVtID09PSBkb2NFbGVtO1xuXHRcdH0sXG5cblx0XHRcImZvY3VzXCI6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuIGVsZW0gPT09IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgJiYgKCFkb2N1bWVudC5oYXNGb2N1cyB8fCBkb2N1bWVudC5oYXNGb2N1cygpKSAmJiAhIShlbGVtLnR5cGUgfHwgZWxlbS5ocmVmIHx8IH5lbGVtLnRhYkluZGV4KTtcblx0XHR9LFxuXG5cdFx0Ly8gQm9vbGVhbiBwcm9wZXJ0aWVzXG5cdFx0XCJlbmFibGVkXCI6IGNyZWF0ZURpc2FibGVkUHNldWRvKCBmYWxzZSApLFxuXHRcdFwiZGlzYWJsZWRcIjogY3JlYXRlRGlzYWJsZWRQc2V1ZG8oIHRydWUgKSxcblxuXHRcdFwiY2hlY2tlZFwiOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdC8vIEluIENTUzMsIDpjaGVja2VkIHNob3VsZCByZXR1cm4gYm90aCBjaGVja2VkIGFuZCBzZWxlY3RlZCBlbGVtZW50c1xuXHRcdFx0Ly8gaHR0cDovL3d3dy53My5vcmcvVFIvMjAxMS9SRUMtY3NzMy1zZWxlY3RvcnMtMjAxMTA5MjkvI2NoZWNrZWRcblx0XHRcdHZhciBub2RlTmFtZSA9IGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcblx0XHRcdHJldHVybiAobm9kZU5hbWUgPT09IFwiaW5wdXRcIiAmJiAhIWVsZW0uY2hlY2tlZCkgfHwgKG5vZGVOYW1lID09PSBcIm9wdGlvblwiICYmICEhZWxlbS5zZWxlY3RlZCk7XG5cdFx0fSxcblxuXHRcdFwic2VsZWN0ZWRcIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHQvLyBBY2Nlc3NpbmcgdGhpcyBwcm9wZXJ0eSBtYWtlcyBzZWxlY3RlZC1ieS1kZWZhdWx0XG5cdFx0XHQvLyBvcHRpb25zIGluIFNhZmFyaSB3b3JrIHByb3Blcmx5XG5cdFx0XHRpZiAoIGVsZW0ucGFyZW50Tm9kZSApIHtcblx0XHRcdFx0ZWxlbS5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXg7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBlbGVtLnNlbGVjdGVkID09PSB0cnVlO1xuXHRcdH0sXG5cblx0XHQvLyBDb250ZW50c1xuXHRcdFwiZW1wdHlcIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHQvLyBodHRwOi8vd3d3LnczLm9yZy9UUi9zZWxlY3RvcnMvI2VtcHR5LXBzZXVkb1xuXHRcdFx0Ly8gOmVtcHR5IGlzIG5lZ2F0ZWQgYnkgZWxlbWVudCAoMSkgb3IgY29udGVudCBub2RlcyAodGV4dDogMzsgY2RhdGE6IDQ7IGVudGl0eSByZWY6IDUpLFxuXHRcdFx0Ly8gICBidXQgbm90IGJ5IG90aGVycyAoY29tbWVudDogODsgcHJvY2Vzc2luZyBpbnN0cnVjdGlvbjogNzsgZXRjLilcblx0XHRcdC8vIG5vZGVUeXBlIDwgNiB3b3JrcyBiZWNhdXNlIGF0dHJpYnV0ZXMgKDIpIGRvIG5vdCBhcHBlYXIgYXMgY2hpbGRyZW5cblx0XHRcdGZvciAoIGVsZW0gPSBlbGVtLmZpcnN0Q2hpbGQ7IGVsZW07IGVsZW0gPSBlbGVtLm5leHRTaWJsaW5nICkge1xuXHRcdFx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPCA2ICkge1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fSxcblxuXHRcdFwicGFyZW50XCI6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuICFFeHByLnBzZXVkb3NbXCJlbXB0eVwiXSggZWxlbSApO1xuXHRcdH0sXG5cblx0XHQvLyBFbGVtZW50L2lucHV0IHR5cGVzXG5cdFx0XCJoZWFkZXJcIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gcmhlYWRlci50ZXN0KCBlbGVtLm5vZGVOYW1lICk7XG5cdFx0fSxcblxuXHRcdFwiaW5wdXRcIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gcmlucHV0cy50ZXN0KCBlbGVtLm5vZGVOYW1lICk7XG5cdFx0fSxcblxuXHRcdFwiYnV0dG9uXCI6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0dmFyIG5hbWUgPSBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG5cdFx0XHRyZXR1cm4gbmFtZSA9PT0gXCJpbnB1dFwiICYmIGVsZW0udHlwZSA9PT0gXCJidXR0b25cIiB8fCBuYW1lID09PSBcImJ1dHRvblwiO1xuXHRcdH0sXG5cblx0XHRcInRleHRcIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHR2YXIgYXR0cjtcblx0XHRcdHJldHVybiBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09IFwiaW5wdXRcIiAmJlxuXHRcdFx0XHRlbGVtLnR5cGUgPT09IFwidGV4dFwiICYmXG5cblx0XHRcdFx0Ly8gU3VwcG9ydDogSUU8OFxuXHRcdFx0XHQvLyBOZXcgSFRNTDUgYXR0cmlidXRlIHZhbHVlcyAoZS5nLiwgXCJzZWFyY2hcIikgYXBwZWFyIHdpdGggZWxlbS50eXBlID09PSBcInRleHRcIlxuXHRcdFx0XHQoIChhdHRyID0gZWxlbS5nZXRBdHRyaWJ1dGUoXCJ0eXBlXCIpKSA9PSBudWxsIHx8IGF0dHIudG9Mb3dlckNhc2UoKSA9PT0gXCJ0ZXh0XCIgKTtcblx0XHR9LFxuXG5cdFx0Ly8gUG9zaXRpb24taW4tY29sbGVjdGlvblxuXHRcdFwiZmlyc3RcIjogY3JlYXRlUG9zaXRpb25hbFBzZXVkbyhmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiBbIDAgXTtcblx0XHR9KSxcblxuXHRcdFwibGFzdFwiOiBjcmVhdGVQb3NpdGlvbmFsUHNldWRvKGZ1bmN0aW9uKCBtYXRjaEluZGV4ZXMsIGxlbmd0aCApIHtcblx0XHRcdHJldHVybiBbIGxlbmd0aCAtIDEgXTtcblx0XHR9KSxcblxuXHRcdFwiZXFcIjogY3JlYXRlUG9zaXRpb25hbFBzZXVkbyhmdW5jdGlvbiggbWF0Y2hJbmRleGVzLCBsZW5ndGgsIGFyZ3VtZW50ICkge1xuXHRcdFx0cmV0dXJuIFsgYXJndW1lbnQgPCAwID8gYXJndW1lbnQgKyBsZW5ndGggOiBhcmd1bWVudCBdO1xuXHRcdH0pLFxuXG5cdFx0XCJldmVuXCI6IGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oZnVuY3Rpb24oIG1hdGNoSW5kZXhlcywgbGVuZ3RoICkge1xuXHRcdFx0dmFyIGkgPSAwO1xuXHRcdFx0Zm9yICggOyBpIDwgbGVuZ3RoOyBpICs9IDIgKSB7XG5cdFx0XHRcdG1hdGNoSW5kZXhlcy5wdXNoKCBpICk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gbWF0Y2hJbmRleGVzO1xuXHRcdH0pLFxuXG5cdFx0XCJvZGRcIjogY3JlYXRlUG9zaXRpb25hbFBzZXVkbyhmdW5jdGlvbiggbWF0Y2hJbmRleGVzLCBsZW5ndGggKSB7XG5cdFx0XHR2YXIgaSA9IDE7XG5cdFx0XHRmb3IgKCA7IGkgPCBsZW5ndGg7IGkgKz0gMiApIHtcblx0XHRcdFx0bWF0Y2hJbmRleGVzLnB1c2goIGkgKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBtYXRjaEluZGV4ZXM7XG5cdFx0fSksXG5cblx0XHRcImx0XCI6IGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oZnVuY3Rpb24oIG1hdGNoSW5kZXhlcywgbGVuZ3RoLCBhcmd1bWVudCApIHtcblx0XHRcdHZhciBpID0gYXJndW1lbnQgPCAwID8gYXJndW1lbnQgKyBsZW5ndGggOiBhcmd1bWVudDtcblx0XHRcdGZvciAoIDsgLS1pID49IDA7ICkge1xuXHRcdFx0XHRtYXRjaEluZGV4ZXMucHVzaCggaSApO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIG1hdGNoSW5kZXhlcztcblx0XHR9KSxcblxuXHRcdFwiZ3RcIjogY3JlYXRlUG9zaXRpb25hbFBzZXVkbyhmdW5jdGlvbiggbWF0Y2hJbmRleGVzLCBsZW5ndGgsIGFyZ3VtZW50ICkge1xuXHRcdFx0dmFyIGkgPSBhcmd1bWVudCA8IDAgPyBhcmd1bWVudCArIGxlbmd0aCA6IGFyZ3VtZW50O1xuXHRcdFx0Zm9yICggOyArK2kgPCBsZW5ndGg7ICkge1xuXHRcdFx0XHRtYXRjaEluZGV4ZXMucHVzaCggaSApO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIG1hdGNoSW5kZXhlcztcblx0XHR9KVxuXHR9XG59O1xuXG5FeHByLnBzZXVkb3NbXCJudGhcIl0gPSBFeHByLnBzZXVkb3NbXCJlcVwiXTtcblxuLy8gQWRkIGJ1dHRvbi9pbnB1dCB0eXBlIHBzZXVkb3NcbmZvciAoIGkgaW4geyByYWRpbzogdHJ1ZSwgY2hlY2tib3g6IHRydWUsIGZpbGU6IHRydWUsIHBhc3N3b3JkOiB0cnVlLCBpbWFnZTogdHJ1ZSB9ICkge1xuXHRFeHByLnBzZXVkb3NbIGkgXSA9IGNyZWF0ZUlucHV0UHNldWRvKCBpICk7XG59XG5mb3IgKCBpIGluIHsgc3VibWl0OiB0cnVlLCByZXNldDogdHJ1ZSB9ICkge1xuXHRFeHByLnBzZXVkb3NbIGkgXSA9IGNyZWF0ZUJ1dHRvblBzZXVkbyggaSApO1xufVxuXG4vLyBFYXN5IEFQSSBmb3IgY3JlYXRpbmcgbmV3IHNldEZpbHRlcnNcbmZ1bmN0aW9uIHNldEZpbHRlcnMoKSB7fVxuc2V0RmlsdGVycy5wcm90b3R5cGUgPSBFeHByLmZpbHRlcnMgPSBFeHByLnBzZXVkb3M7XG5FeHByLnNldEZpbHRlcnMgPSBuZXcgc2V0RmlsdGVycygpO1xuXG50b2tlbml6ZSA9IFNpenpsZS50b2tlbml6ZSA9IGZ1bmN0aW9uKCBzZWxlY3RvciwgcGFyc2VPbmx5ICkge1xuXHR2YXIgbWF0Y2hlZCwgbWF0Y2gsIHRva2VucywgdHlwZSxcblx0XHRzb0ZhciwgZ3JvdXBzLCBwcmVGaWx0ZXJzLFxuXHRcdGNhY2hlZCA9IHRva2VuQ2FjaGVbIHNlbGVjdG9yICsgXCIgXCIgXTtcblxuXHRpZiAoIGNhY2hlZCApIHtcblx0XHRyZXR1cm4gcGFyc2VPbmx5ID8gMCA6IGNhY2hlZC5zbGljZSggMCApO1xuXHR9XG5cblx0c29GYXIgPSBzZWxlY3Rvcjtcblx0Z3JvdXBzID0gW107XG5cdHByZUZpbHRlcnMgPSBFeHByLnByZUZpbHRlcjtcblxuXHR3aGlsZSAoIHNvRmFyICkge1xuXG5cdFx0Ly8gQ29tbWEgYW5kIGZpcnN0IHJ1blxuXHRcdGlmICggIW1hdGNoZWQgfHwgKG1hdGNoID0gcmNvbW1hLmV4ZWMoIHNvRmFyICkpICkge1xuXHRcdFx0aWYgKCBtYXRjaCApIHtcblx0XHRcdFx0Ly8gRG9uJ3QgY29uc3VtZSB0cmFpbGluZyBjb21tYXMgYXMgdmFsaWRcblx0XHRcdFx0c29GYXIgPSBzb0Zhci5zbGljZSggbWF0Y2hbMF0ubGVuZ3RoICkgfHwgc29GYXI7XG5cdFx0XHR9XG5cdFx0XHRncm91cHMucHVzaCggKHRva2VucyA9IFtdKSApO1xuXHRcdH1cblxuXHRcdG1hdGNoZWQgPSBmYWxzZTtcblxuXHRcdC8vIENvbWJpbmF0b3JzXG5cdFx0aWYgKCAobWF0Y2ggPSByY29tYmluYXRvcnMuZXhlYyggc29GYXIgKSkgKSB7XG5cdFx0XHRtYXRjaGVkID0gbWF0Y2guc2hpZnQoKTtcblx0XHRcdHRva2Vucy5wdXNoKHtcblx0XHRcdFx0dmFsdWU6IG1hdGNoZWQsXG5cdFx0XHRcdC8vIENhc3QgZGVzY2VuZGFudCBjb21iaW5hdG9ycyB0byBzcGFjZVxuXHRcdFx0XHR0eXBlOiBtYXRjaFswXS5yZXBsYWNlKCBydHJpbSwgXCIgXCIgKVxuXHRcdFx0fSk7XG5cdFx0XHRzb0ZhciA9IHNvRmFyLnNsaWNlKCBtYXRjaGVkLmxlbmd0aCApO1xuXHRcdH1cblxuXHRcdC8vIEZpbHRlcnNcblx0XHRmb3IgKCB0eXBlIGluIEV4cHIuZmlsdGVyICkge1xuXHRcdFx0aWYgKCAobWF0Y2ggPSBtYXRjaEV4cHJbIHR5cGUgXS5leGVjKCBzb0ZhciApKSAmJiAoIXByZUZpbHRlcnNbIHR5cGUgXSB8fFxuXHRcdFx0XHQobWF0Y2ggPSBwcmVGaWx0ZXJzWyB0eXBlIF0oIG1hdGNoICkpKSApIHtcblx0XHRcdFx0bWF0Y2hlZCA9IG1hdGNoLnNoaWZ0KCk7XG5cdFx0XHRcdHRva2Vucy5wdXNoKHtcblx0XHRcdFx0XHR2YWx1ZTogbWF0Y2hlZCxcblx0XHRcdFx0XHR0eXBlOiB0eXBlLFxuXHRcdFx0XHRcdG1hdGNoZXM6IG1hdGNoXG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRzb0ZhciA9IHNvRmFyLnNsaWNlKCBtYXRjaGVkLmxlbmd0aCApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmICggIW1hdGNoZWQgKSB7XG5cdFx0XHRicmVhaztcblx0XHR9XG5cdH1cblxuXHQvLyBSZXR1cm4gdGhlIGxlbmd0aCBvZiB0aGUgaW52YWxpZCBleGNlc3Ncblx0Ly8gaWYgd2UncmUganVzdCBwYXJzaW5nXG5cdC8vIE90aGVyd2lzZSwgdGhyb3cgYW4gZXJyb3Igb3IgcmV0dXJuIHRva2Vuc1xuXHRyZXR1cm4gcGFyc2VPbmx5ID9cblx0XHRzb0Zhci5sZW5ndGggOlxuXHRcdHNvRmFyID9cblx0XHRcdFNpenpsZS5lcnJvciggc2VsZWN0b3IgKSA6XG5cdFx0XHQvLyBDYWNoZSB0aGUgdG9rZW5zXG5cdFx0XHR0b2tlbkNhY2hlKCBzZWxlY3RvciwgZ3JvdXBzICkuc2xpY2UoIDAgKTtcbn07XG5cbmZ1bmN0aW9uIHRvU2VsZWN0b3IoIHRva2VucyApIHtcblx0dmFyIGkgPSAwLFxuXHRcdGxlbiA9IHRva2Vucy5sZW5ndGgsXG5cdFx0c2VsZWN0b3IgPSBcIlwiO1xuXHRmb3IgKCA7IGkgPCBsZW47IGkrKyApIHtcblx0XHRzZWxlY3RvciArPSB0b2tlbnNbaV0udmFsdWU7XG5cdH1cblx0cmV0dXJuIHNlbGVjdG9yO1xufVxuXG5mdW5jdGlvbiBhZGRDb21iaW5hdG9yKCBtYXRjaGVyLCBjb21iaW5hdG9yLCBiYXNlICkge1xuXHR2YXIgZGlyID0gY29tYmluYXRvci5kaXIsXG5cdFx0c2tpcCA9IGNvbWJpbmF0b3IubmV4dCxcblx0XHRrZXkgPSBza2lwIHx8IGRpcixcblx0XHRjaGVja05vbkVsZW1lbnRzID0gYmFzZSAmJiBrZXkgPT09IFwicGFyZW50Tm9kZVwiLFxuXHRcdGRvbmVOYW1lID0gZG9uZSsrO1xuXG5cdHJldHVybiBjb21iaW5hdG9yLmZpcnN0ID9cblx0XHQvLyBDaGVjayBhZ2FpbnN0IGNsb3Nlc3QgYW5jZXN0b3IvcHJlY2VkaW5nIGVsZW1lbnRcblx0XHRmdW5jdGlvbiggZWxlbSwgY29udGV4dCwgeG1sICkge1xuXHRcdFx0d2hpbGUgKCAoZWxlbSA9IGVsZW1bIGRpciBdKSApIHtcblx0XHRcdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAxIHx8IGNoZWNrTm9uRWxlbWVudHMgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIG1hdGNoZXIoIGVsZW0sIGNvbnRleHQsIHhtbCApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fSA6XG5cblx0XHQvLyBDaGVjayBhZ2FpbnN0IGFsbCBhbmNlc3Rvci9wcmVjZWRpbmcgZWxlbWVudHNcblx0XHRmdW5jdGlvbiggZWxlbSwgY29udGV4dCwgeG1sICkge1xuXHRcdFx0dmFyIG9sZENhY2hlLCB1bmlxdWVDYWNoZSwgb3V0ZXJDYWNoZSxcblx0XHRcdFx0bmV3Q2FjaGUgPSBbIGRpcnJ1bnMsIGRvbmVOYW1lIF07XG5cblx0XHRcdC8vIFdlIGNhbid0IHNldCBhcmJpdHJhcnkgZGF0YSBvbiBYTUwgbm9kZXMsIHNvIHRoZXkgZG9uJ3QgYmVuZWZpdCBmcm9tIGNvbWJpbmF0b3IgY2FjaGluZ1xuXHRcdFx0aWYgKCB4bWwgKSB7XG5cdFx0XHRcdHdoaWxlICggKGVsZW0gPSBlbGVtWyBkaXIgXSkgKSB7XG5cdFx0XHRcdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAxIHx8IGNoZWNrTm9uRWxlbWVudHMgKSB7XG5cdFx0XHRcdFx0XHRpZiAoIG1hdGNoZXIoIGVsZW0sIGNvbnRleHQsIHhtbCApICkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHdoaWxlICggKGVsZW0gPSBlbGVtWyBkaXIgXSkgKSB7XG5cdFx0XHRcdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAxIHx8IGNoZWNrTm9uRWxlbWVudHMgKSB7XG5cdFx0XHRcdFx0XHRvdXRlckNhY2hlID0gZWxlbVsgZXhwYW5kbyBdIHx8IChlbGVtWyBleHBhbmRvIF0gPSB7fSk7XG5cblx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDw5IG9ubHlcblx0XHRcdFx0XHRcdC8vIERlZmVuZCBhZ2FpbnN0IGNsb25lZCBhdHRyb3BlcnRpZXMgKGpRdWVyeSBnaC0xNzA5KVxuXHRcdFx0XHRcdFx0dW5pcXVlQ2FjaGUgPSBvdXRlckNhY2hlWyBlbGVtLnVuaXF1ZUlEIF0gfHwgKG91dGVyQ2FjaGVbIGVsZW0udW5pcXVlSUQgXSA9IHt9KTtcblxuXHRcdFx0XHRcdFx0aWYgKCBza2lwICYmIHNraXAgPT09IGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSApIHtcblx0XHRcdFx0XHRcdFx0ZWxlbSA9IGVsZW1bIGRpciBdIHx8IGVsZW07XG5cdFx0XHRcdFx0XHR9IGVsc2UgaWYgKCAob2xkQ2FjaGUgPSB1bmlxdWVDYWNoZVsga2V5IF0pICYmXG5cdFx0XHRcdFx0XHRcdG9sZENhY2hlWyAwIF0gPT09IGRpcnJ1bnMgJiYgb2xkQ2FjaGVbIDEgXSA9PT0gZG9uZU5hbWUgKSB7XG5cblx0XHRcdFx0XHRcdFx0Ly8gQXNzaWduIHRvIG5ld0NhY2hlIHNvIHJlc3VsdHMgYmFjay1wcm9wYWdhdGUgdG8gcHJldmlvdXMgZWxlbWVudHNcblx0XHRcdFx0XHRcdFx0cmV0dXJuIChuZXdDYWNoZVsgMiBdID0gb2xkQ2FjaGVbIDIgXSk7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHQvLyBSZXVzZSBuZXdjYWNoZSBzbyByZXN1bHRzIGJhY2stcHJvcGFnYXRlIHRvIHByZXZpb3VzIGVsZW1lbnRzXG5cdFx0XHRcdFx0XHRcdHVuaXF1ZUNhY2hlWyBrZXkgXSA9IG5ld0NhY2hlO1xuXG5cdFx0XHRcdFx0XHRcdC8vIEEgbWF0Y2ggbWVhbnMgd2UncmUgZG9uZTsgYSBmYWlsIG1lYW5zIHdlIGhhdmUgdG8ga2VlcCBjaGVja2luZ1xuXHRcdFx0XHRcdFx0XHRpZiAoIChuZXdDYWNoZVsgMiBdID0gbWF0Y2hlciggZWxlbSwgY29udGV4dCwgeG1sICkpICkge1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fTtcbn1cblxuZnVuY3Rpb24gZWxlbWVudE1hdGNoZXIoIG1hdGNoZXJzICkge1xuXHRyZXR1cm4gbWF0Y2hlcnMubGVuZ3RoID4gMSA/XG5cdFx0ZnVuY3Rpb24oIGVsZW0sIGNvbnRleHQsIHhtbCApIHtcblx0XHRcdHZhciBpID0gbWF0Y2hlcnMubGVuZ3RoO1xuXHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdGlmICggIW1hdGNoZXJzW2ldKCBlbGVtLCBjb250ZXh0LCB4bWwgKSApIHtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH0gOlxuXHRcdG1hdGNoZXJzWzBdO1xufVxuXG5mdW5jdGlvbiBtdWx0aXBsZUNvbnRleHRzKCBzZWxlY3RvciwgY29udGV4dHMsIHJlc3VsdHMgKSB7XG5cdHZhciBpID0gMCxcblx0XHRsZW4gPSBjb250ZXh0cy5sZW5ndGg7XG5cdGZvciAoIDsgaSA8IGxlbjsgaSsrICkge1xuXHRcdFNpenpsZSggc2VsZWN0b3IsIGNvbnRleHRzW2ldLCByZXN1bHRzICk7XG5cdH1cblx0cmV0dXJuIHJlc3VsdHM7XG59XG5cbmZ1bmN0aW9uIGNvbmRlbnNlKCB1bm1hdGNoZWQsIG1hcCwgZmlsdGVyLCBjb250ZXh0LCB4bWwgKSB7XG5cdHZhciBlbGVtLFxuXHRcdG5ld1VubWF0Y2hlZCA9IFtdLFxuXHRcdGkgPSAwLFxuXHRcdGxlbiA9IHVubWF0Y2hlZC5sZW5ndGgsXG5cdFx0bWFwcGVkID0gbWFwICE9IG51bGw7XG5cblx0Zm9yICggOyBpIDwgbGVuOyBpKysgKSB7XG5cdFx0aWYgKCAoZWxlbSA9IHVubWF0Y2hlZFtpXSkgKSB7XG5cdFx0XHRpZiAoICFmaWx0ZXIgfHwgZmlsdGVyKCBlbGVtLCBjb250ZXh0LCB4bWwgKSApIHtcblx0XHRcdFx0bmV3VW5tYXRjaGVkLnB1c2goIGVsZW0gKTtcblx0XHRcdFx0aWYgKCBtYXBwZWQgKSB7XG5cdFx0XHRcdFx0bWFwLnB1c2goIGkgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiBuZXdVbm1hdGNoZWQ7XG59XG5cbmZ1bmN0aW9uIHNldE1hdGNoZXIoIHByZUZpbHRlciwgc2VsZWN0b3IsIG1hdGNoZXIsIHBvc3RGaWx0ZXIsIHBvc3RGaW5kZXIsIHBvc3RTZWxlY3RvciApIHtcblx0aWYgKCBwb3N0RmlsdGVyICYmICFwb3N0RmlsdGVyWyBleHBhbmRvIF0gKSB7XG5cdFx0cG9zdEZpbHRlciA9IHNldE1hdGNoZXIoIHBvc3RGaWx0ZXIgKTtcblx0fVxuXHRpZiAoIHBvc3RGaW5kZXIgJiYgIXBvc3RGaW5kZXJbIGV4cGFuZG8gXSApIHtcblx0XHRwb3N0RmluZGVyID0gc2V0TWF0Y2hlciggcG9zdEZpbmRlciwgcG9zdFNlbGVjdG9yICk7XG5cdH1cblx0cmV0dXJuIG1hcmtGdW5jdGlvbihmdW5jdGlvbiggc2VlZCwgcmVzdWx0cywgY29udGV4dCwgeG1sICkge1xuXHRcdHZhciB0ZW1wLCBpLCBlbGVtLFxuXHRcdFx0cHJlTWFwID0gW10sXG5cdFx0XHRwb3N0TWFwID0gW10sXG5cdFx0XHRwcmVleGlzdGluZyA9IHJlc3VsdHMubGVuZ3RoLFxuXG5cdFx0XHQvLyBHZXQgaW5pdGlhbCBlbGVtZW50cyBmcm9tIHNlZWQgb3IgY29udGV4dFxuXHRcdFx0ZWxlbXMgPSBzZWVkIHx8IG11bHRpcGxlQ29udGV4dHMoIHNlbGVjdG9yIHx8IFwiKlwiLCBjb250ZXh0Lm5vZGVUeXBlID8gWyBjb250ZXh0IF0gOiBjb250ZXh0LCBbXSApLFxuXG5cdFx0XHQvLyBQcmVmaWx0ZXIgdG8gZ2V0IG1hdGNoZXIgaW5wdXQsIHByZXNlcnZpbmcgYSBtYXAgZm9yIHNlZWQtcmVzdWx0cyBzeW5jaHJvbml6YXRpb25cblx0XHRcdG1hdGNoZXJJbiA9IHByZUZpbHRlciAmJiAoIHNlZWQgfHwgIXNlbGVjdG9yICkgP1xuXHRcdFx0XHRjb25kZW5zZSggZWxlbXMsIHByZU1hcCwgcHJlRmlsdGVyLCBjb250ZXh0LCB4bWwgKSA6XG5cdFx0XHRcdGVsZW1zLFxuXG5cdFx0XHRtYXRjaGVyT3V0ID0gbWF0Y2hlciA/XG5cdFx0XHRcdC8vIElmIHdlIGhhdmUgYSBwb3N0RmluZGVyLCBvciBmaWx0ZXJlZCBzZWVkLCBvciBub24tc2VlZCBwb3N0RmlsdGVyIG9yIHByZWV4aXN0aW5nIHJlc3VsdHMsXG5cdFx0XHRcdHBvc3RGaW5kZXIgfHwgKCBzZWVkID8gcHJlRmlsdGVyIDogcHJlZXhpc3RpbmcgfHwgcG9zdEZpbHRlciApID9cblxuXHRcdFx0XHRcdC8vIC4uLmludGVybWVkaWF0ZSBwcm9jZXNzaW5nIGlzIG5lY2Vzc2FyeVxuXHRcdFx0XHRcdFtdIDpcblxuXHRcdFx0XHRcdC8vIC4uLm90aGVyd2lzZSB1c2UgcmVzdWx0cyBkaXJlY3RseVxuXHRcdFx0XHRcdHJlc3VsdHMgOlxuXHRcdFx0XHRtYXRjaGVySW47XG5cblx0XHQvLyBGaW5kIHByaW1hcnkgbWF0Y2hlc1xuXHRcdGlmICggbWF0Y2hlciApIHtcblx0XHRcdG1hdGNoZXIoIG1hdGNoZXJJbiwgbWF0Y2hlck91dCwgY29udGV4dCwgeG1sICk7XG5cdFx0fVxuXG5cdFx0Ly8gQXBwbHkgcG9zdEZpbHRlclxuXHRcdGlmICggcG9zdEZpbHRlciApIHtcblx0XHRcdHRlbXAgPSBjb25kZW5zZSggbWF0Y2hlck91dCwgcG9zdE1hcCApO1xuXHRcdFx0cG9zdEZpbHRlciggdGVtcCwgW10sIGNvbnRleHQsIHhtbCApO1xuXG5cdFx0XHQvLyBVbi1tYXRjaCBmYWlsaW5nIGVsZW1lbnRzIGJ5IG1vdmluZyB0aGVtIGJhY2sgdG8gbWF0Y2hlckluXG5cdFx0XHRpID0gdGVtcC5sZW5ndGg7XG5cdFx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdFx0aWYgKCAoZWxlbSA9IHRlbXBbaV0pICkge1xuXHRcdFx0XHRcdG1hdGNoZXJPdXRbIHBvc3RNYXBbaV0gXSA9ICEobWF0Y2hlckluWyBwb3N0TWFwW2ldIF0gPSBlbGVtKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmICggc2VlZCApIHtcblx0XHRcdGlmICggcG9zdEZpbmRlciB8fCBwcmVGaWx0ZXIgKSB7XG5cdFx0XHRcdGlmICggcG9zdEZpbmRlciApIHtcblx0XHRcdFx0XHQvLyBHZXQgdGhlIGZpbmFsIG1hdGNoZXJPdXQgYnkgY29uZGVuc2luZyB0aGlzIGludGVybWVkaWF0ZSBpbnRvIHBvc3RGaW5kZXIgY29udGV4dHNcblx0XHRcdFx0XHR0ZW1wID0gW107XG5cdFx0XHRcdFx0aSA9IG1hdGNoZXJPdXQubGVuZ3RoO1xuXHRcdFx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHRcdFx0aWYgKCAoZWxlbSA9IG1hdGNoZXJPdXRbaV0pICkge1xuXHRcdFx0XHRcdFx0XHQvLyBSZXN0b3JlIG1hdGNoZXJJbiBzaW5jZSBlbGVtIGlzIG5vdCB5ZXQgYSBmaW5hbCBtYXRjaFxuXHRcdFx0XHRcdFx0XHR0ZW1wLnB1c2goIChtYXRjaGVySW5baV0gPSBlbGVtKSApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRwb3N0RmluZGVyKCBudWxsLCAobWF0Y2hlck91dCA9IFtdKSwgdGVtcCwgeG1sICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBNb3ZlIG1hdGNoZWQgZWxlbWVudHMgZnJvbSBzZWVkIHRvIHJlc3VsdHMgdG8ga2VlcCB0aGVtIHN5bmNocm9uaXplZFxuXHRcdFx0XHRpID0gbWF0Y2hlck91dC5sZW5ndGg7XG5cdFx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHRcdGlmICggKGVsZW0gPSBtYXRjaGVyT3V0W2ldKSAmJlxuXHRcdFx0XHRcdFx0KHRlbXAgPSBwb3N0RmluZGVyID8gaW5kZXhPZiggc2VlZCwgZWxlbSApIDogcHJlTWFwW2ldKSA+IC0xICkge1xuXG5cdFx0XHRcdFx0XHRzZWVkW3RlbXBdID0gIShyZXN1bHRzW3RlbXBdID0gZWxlbSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHQvLyBBZGQgZWxlbWVudHMgdG8gcmVzdWx0cywgdGhyb3VnaCBwb3N0RmluZGVyIGlmIGRlZmluZWRcblx0XHR9IGVsc2Uge1xuXHRcdFx0bWF0Y2hlck91dCA9IGNvbmRlbnNlKFxuXHRcdFx0XHRtYXRjaGVyT3V0ID09PSByZXN1bHRzID9cblx0XHRcdFx0XHRtYXRjaGVyT3V0LnNwbGljZSggcHJlZXhpc3RpbmcsIG1hdGNoZXJPdXQubGVuZ3RoICkgOlxuXHRcdFx0XHRcdG1hdGNoZXJPdXRcblx0XHRcdCk7XG5cdFx0XHRpZiAoIHBvc3RGaW5kZXIgKSB7XG5cdFx0XHRcdHBvc3RGaW5kZXIoIG51bGwsIHJlc3VsdHMsIG1hdGNoZXJPdXQsIHhtbCApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cHVzaC5hcHBseSggcmVzdWx0cywgbWF0Y2hlck91dCApO1xuXHRcdFx0fVxuXHRcdH1cblx0fSk7XG59XG5cbmZ1bmN0aW9uIG1hdGNoZXJGcm9tVG9rZW5zKCB0b2tlbnMgKSB7XG5cdHZhciBjaGVja0NvbnRleHQsIG1hdGNoZXIsIGosXG5cdFx0bGVuID0gdG9rZW5zLmxlbmd0aCxcblx0XHRsZWFkaW5nUmVsYXRpdmUgPSBFeHByLnJlbGF0aXZlWyB0b2tlbnNbMF0udHlwZSBdLFxuXHRcdGltcGxpY2l0UmVsYXRpdmUgPSBsZWFkaW5nUmVsYXRpdmUgfHwgRXhwci5yZWxhdGl2ZVtcIiBcIl0sXG5cdFx0aSA9IGxlYWRpbmdSZWxhdGl2ZSA/IDEgOiAwLFxuXG5cdFx0Ly8gVGhlIGZvdW5kYXRpb25hbCBtYXRjaGVyIGVuc3VyZXMgdGhhdCBlbGVtZW50cyBhcmUgcmVhY2hhYmxlIGZyb20gdG9wLWxldmVsIGNvbnRleHQocylcblx0XHRtYXRjaENvbnRleHQgPSBhZGRDb21iaW5hdG9yKCBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiBlbGVtID09PSBjaGVja0NvbnRleHQ7XG5cdFx0fSwgaW1wbGljaXRSZWxhdGl2ZSwgdHJ1ZSApLFxuXHRcdG1hdGNoQW55Q29udGV4dCA9IGFkZENvbWJpbmF0b3IoIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuIGluZGV4T2YoIGNoZWNrQ29udGV4dCwgZWxlbSApID4gLTE7XG5cdFx0fSwgaW1wbGljaXRSZWxhdGl2ZSwgdHJ1ZSApLFxuXHRcdG1hdGNoZXJzID0gWyBmdW5jdGlvbiggZWxlbSwgY29udGV4dCwgeG1sICkge1xuXHRcdFx0dmFyIHJldCA9ICggIWxlYWRpbmdSZWxhdGl2ZSAmJiAoIHhtbCB8fCBjb250ZXh0ICE9PSBvdXRlcm1vc3RDb250ZXh0ICkgKSB8fCAoXG5cdFx0XHRcdChjaGVja0NvbnRleHQgPSBjb250ZXh0KS5ub2RlVHlwZSA/XG5cdFx0XHRcdFx0bWF0Y2hDb250ZXh0KCBlbGVtLCBjb250ZXh0LCB4bWwgKSA6XG5cdFx0XHRcdFx0bWF0Y2hBbnlDb250ZXh0KCBlbGVtLCBjb250ZXh0LCB4bWwgKSApO1xuXHRcdFx0Ly8gQXZvaWQgaGFuZ2luZyBvbnRvIGVsZW1lbnQgKGlzc3VlICMyOTkpXG5cdFx0XHRjaGVja0NvbnRleHQgPSBudWxsO1xuXHRcdFx0cmV0dXJuIHJldDtcblx0XHR9IF07XG5cblx0Zm9yICggOyBpIDwgbGVuOyBpKysgKSB7XG5cdFx0aWYgKCAobWF0Y2hlciA9IEV4cHIucmVsYXRpdmVbIHRva2Vuc1tpXS50eXBlIF0pICkge1xuXHRcdFx0bWF0Y2hlcnMgPSBbIGFkZENvbWJpbmF0b3IoZWxlbWVudE1hdGNoZXIoIG1hdGNoZXJzICksIG1hdGNoZXIpIF07XG5cdFx0fSBlbHNlIHtcblx0XHRcdG1hdGNoZXIgPSBFeHByLmZpbHRlclsgdG9rZW5zW2ldLnR5cGUgXS5hcHBseSggbnVsbCwgdG9rZW5zW2ldLm1hdGNoZXMgKTtcblxuXHRcdFx0Ly8gUmV0dXJuIHNwZWNpYWwgdXBvbiBzZWVpbmcgYSBwb3NpdGlvbmFsIG1hdGNoZXJcblx0XHRcdGlmICggbWF0Y2hlclsgZXhwYW5kbyBdICkge1xuXHRcdFx0XHQvLyBGaW5kIHRoZSBuZXh0IHJlbGF0aXZlIG9wZXJhdG9yIChpZiBhbnkpIGZvciBwcm9wZXIgaGFuZGxpbmdcblx0XHRcdFx0aiA9ICsraTtcblx0XHRcdFx0Zm9yICggOyBqIDwgbGVuOyBqKysgKSB7XG5cdFx0XHRcdFx0aWYgKCBFeHByLnJlbGF0aXZlWyB0b2tlbnNbal0udHlwZSBdICkge1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBzZXRNYXRjaGVyKFxuXHRcdFx0XHRcdGkgPiAxICYmIGVsZW1lbnRNYXRjaGVyKCBtYXRjaGVycyApLFxuXHRcdFx0XHRcdGkgPiAxICYmIHRvU2VsZWN0b3IoXG5cdFx0XHRcdFx0XHQvLyBJZiB0aGUgcHJlY2VkaW5nIHRva2VuIHdhcyBhIGRlc2NlbmRhbnQgY29tYmluYXRvciwgaW5zZXJ0IGFuIGltcGxpY2l0IGFueS1lbGVtZW50IGAqYFxuXHRcdFx0XHRcdFx0dG9rZW5zLnNsaWNlKCAwLCBpIC0gMSApLmNvbmNhdCh7IHZhbHVlOiB0b2tlbnNbIGkgLSAyIF0udHlwZSA9PT0gXCIgXCIgPyBcIipcIiA6IFwiXCIgfSlcblx0XHRcdFx0XHQpLnJlcGxhY2UoIHJ0cmltLCBcIiQxXCIgKSxcblx0XHRcdFx0XHRtYXRjaGVyLFxuXHRcdFx0XHRcdGkgPCBqICYmIG1hdGNoZXJGcm9tVG9rZW5zKCB0b2tlbnMuc2xpY2UoIGksIGogKSApLFxuXHRcdFx0XHRcdGogPCBsZW4gJiYgbWF0Y2hlckZyb21Ub2tlbnMoICh0b2tlbnMgPSB0b2tlbnMuc2xpY2UoIGogKSkgKSxcblx0XHRcdFx0XHRqIDwgbGVuICYmIHRvU2VsZWN0b3IoIHRva2VucyApXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0XHRtYXRjaGVycy5wdXNoKCBtYXRjaGVyICk7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIGVsZW1lbnRNYXRjaGVyKCBtYXRjaGVycyApO1xufVxuXG5mdW5jdGlvbiBtYXRjaGVyRnJvbUdyb3VwTWF0Y2hlcnMoIGVsZW1lbnRNYXRjaGVycywgc2V0TWF0Y2hlcnMgKSB7XG5cdHZhciBieVNldCA9IHNldE1hdGNoZXJzLmxlbmd0aCA+IDAsXG5cdFx0YnlFbGVtZW50ID0gZWxlbWVudE1hdGNoZXJzLmxlbmd0aCA+IDAsXG5cdFx0c3VwZXJNYXRjaGVyID0gZnVuY3Rpb24oIHNlZWQsIGNvbnRleHQsIHhtbCwgcmVzdWx0cywgb3V0ZXJtb3N0ICkge1xuXHRcdFx0dmFyIGVsZW0sIGosIG1hdGNoZXIsXG5cdFx0XHRcdG1hdGNoZWRDb3VudCA9IDAsXG5cdFx0XHRcdGkgPSBcIjBcIixcblx0XHRcdFx0dW5tYXRjaGVkID0gc2VlZCAmJiBbXSxcblx0XHRcdFx0c2V0TWF0Y2hlZCA9IFtdLFxuXHRcdFx0XHRjb250ZXh0QmFja3VwID0gb3V0ZXJtb3N0Q29udGV4dCxcblx0XHRcdFx0Ly8gV2UgbXVzdCBhbHdheXMgaGF2ZSBlaXRoZXIgc2VlZCBlbGVtZW50cyBvciBvdXRlcm1vc3QgY29udGV4dFxuXHRcdFx0XHRlbGVtcyA9IHNlZWQgfHwgYnlFbGVtZW50ICYmIEV4cHIuZmluZFtcIlRBR1wiXSggXCIqXCIsIG91dGVybW9zdCApLFxuXHRcdFx0XHQvLyBVc2UgaW50ZWdlciBkaXJydW5zIGlmZiB0aGlzIGlzIHRoZSBvdXRlcm1vc3QgbWF0Y2hlclxuXHRcdFx0XHRkaXJydW5zVW5pcXVlID0gKGRpcnJ1bnMgKz0gY29udGV4dEJhY2t1cCA9PSBudWxsID8gMSA6IE1hdGgucmFuZG9tKCkgfHwgMC4xKSxcblx0XHRcdFx0bGVuID0gZWxlbXMubGVuZ3RoO1xuXG5cdFx0XHRpZiAoIG91dGVybW9zdCApIHtcblx0XHRcdFx0b3V0ZXJtb3N0Q29udGV4dCA9IGNvbnRleHQgPT09IGRvY3VtZW50IHx8IGNvbnRleHQgfHwgb3V0ZXJtb3N0O1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBBZGQgZWxlbWVudHMgcGFzc2luZyBlbGVtZW50TWF0Y2hlcnMgZGlyZWN0bHkgdG8gcmVzdWx0c1xuXHRcdFx0Ly8gU3VwcG9ydDogSUU8OSwgU2FmYXJpXG5cdFx0XHQvLyBUb2xlcmF0ZSBOb2RlTGlzdCBwcm9wZXJ0aWVzIChJRTogXCJsZW5ndGhcIjsgU2FmYXJpOiA8bnVtYmVyPikgbWF0Y2hpbmcgZWxlbWVudHMgYnkgaWRcblx0XHRcdGZvciAoIDsgaSAhPT0gbGVuICYmIChlbGVtID0gZWxlbXNbaV0pICE9IG51bGw7IGkrKyApIHtcblx0XHRcdFx0aWYgKCBieUVsZW1lbnQgJiYgZWxlbSApIHtcblx0XHRcdFx0XHRqID0gMDtcblx0XHRcdFx0XHRpZiAoICFjb250ZXh0ICYmIGVsZW0ub3duZXJEb2N1bWVudCAhPT0gZG9jdW1lbnQgKSB7XG5cdFx0XHRcdFx0XHRzZXREb2N1bWVudCggZWxlbSApO1xuXHRcdFx0XHRcdFx0eG1sID0gIWRvY3VtZW50SXNIVE1MO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHR3aGlsZSAoIChtYXRjaGVyID0gZWxlbWVudE1hdGNoZXJzW2orK10pICkge1xuXHRcdFx0XHRcdFx0aWYgKCBtYXRjaGVyKCBlbGVtLCBjb250ZXh0IHx8IGRvY3VtZW50LCB4bWwpICkge1xuXHRcdFx0XHRcdFx0XHRyZXN1bHRzLnB1c2goIGVsZW0gKTtcblx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmICggb3V0ZXJtb3N0ICkge1xuXHRcdFx0XHRcdFx0ZGlycnVucyA9IGRpcnJ1bnNVbmlxdWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gVHJhY2sgdW5tYXRjaGVkIGVsZW1lbnRzIGZvciBzZXQgZmlsdGVyc1xuXHRcdFx0XHRpZiAoIGJ5U2V0ICkge1xuXHRcdFx0XHRcdC8vIFRoZXkgd2lsbCBoYXZlIGdvbmUgdGhyb3VnaCBhbGwgcG9zc2libGUgbWF0Y2hlcnNcblx0XHRcdFx0XHRpZiAoIChlbGVtID0gIW1hdGNoZXIgJiYgZWxlbSkgKSB7XG5cdFx0XHRcdFx0XHRtYXRjaGVkQ291bnQtLTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBMZW5ndGhlbiB0aGUgYXJyYXkgZm9yIGV2ZXJ5IGVsZW1lbnQsIG1hdGNoZWQgb3Igbm90XG5cdFx0XHRcdFx0aWYgKCBzZWVkICkge1xuXHRcdFx0XHRcdFx0dW5tYXRjaGVkLnB1c2goIGVsZW0gKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gYGlgIGlzIG5vdyB0aGUgY291bnQgb2YgZWxlbWVudHMgdmlzaXRlZCBhYm92ZSwgYW5kIGFkZGluZyBpdCB0byBgbWF0Y2hlZENvdW50YFxuXHRcdFx0Ly8gbWFrZXMgdGhlIGxhdHRlciBub25uZWdhdGl2ZS5cblx0XHRcdG1hdGNoZWRDb3VudCArPSBpO1xuXG5cdFx0XHQvLyBBcHBseSBzZXQgZmlsdGVycyB0byB1bm1hdGNoZWQgZWxlbWVudHNcblx0XHRcdC8vIE5PVEU6IFRoaXMgY2FuIGJlIHNraXBwZWQgaWYgdGhlcmUgYXJlIG5vIHVubWF0Y2hlZCBlbGVtZW50cyAoaS5lLiwgYG1hdGNoZWRDb3VudGBcblx0XHRcdC8vIGVxdWFscyBgaWApLCB1bmxlc3Mgd2UgZGlkbid0IHZpc2l0IF9hbnlfIGVsZW1lbnRzIGluIHRoZSBhYm92ZSBsb29wIGJlY2F1c2Ugd2UgaGF2ZVxuXHRcdFx0Ly8gbm8gZWxlbWVudCBtYXRjaGVycyBhbmQgbm8gc2VlZC5cblx0XHRcdC8vIEluY3JlbWVudGluZyBhbiBpbml0aWFsbHktc3RyaW5nIFwiMFwiIGBpYCBhbGxvd3MgYGlgIHRvIHJlbWFpbiBhIHN0cmluZyBvbmx5IGluIHRoYXRcblx0XHRcdC8vIGNhc2UsIHdoaWNoIHdpbGwgcmVzdWx0IGluIGEgXCIwMFwiIGBtYXRjaGVkQ291bnRgIHRoYXQgZGlmZmVycyBmcm9tIGBpYCBidXQgaXMgYWxzb1xuXHRcdFx0Ly8gbnVtZXJpY2FsbHkgemVyby5cblx0XHRcdGlmICggYnlTZXQgJiYgaSAhPT0gbWF0Y2hlZENvdW50ICkge1xuXHRcdFx0XHRqID0gMDtcblx0XHRcdFx0d2hpbGUgKCAobWF0Y2hlciA9IHNldE1hdGNoZXJzW2orK10pICkge1xuXHRcdFx0XHRcdG1hdGNoZXIoIHVubWF0Y2hlZCwgc2V0TWF0Y2hlZCwgY29udGV4dCwgeG1sICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoIHNlZWQgKSB7XG5cdFx0XHRcdFx0Ly8gUmVpbnRlZ3JhdGUgZWxlbWVudCBtYXRjaGVzIHRvIGVsaW1pbmF0ZSB0aGUgbmVlZCBmb3Igc29ydGluZ1xuXHRcdFx0XHRcdGlmICggbWF0Y2hlZENvdW50ID4gMCApIHtcblx0XHRcdFx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHRcdFx0XHRpZiAoICEodW5tYXRjaGVkW2ldIHx8IHNldE1hdGNoZWRbaV0pICkge1xuXHRcdFx0XHRcdFx0XHRcdHNldE1hdGNoZWRbaV0gPSBwb3AuY2FsbCggcmVzdWx0cyApO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gRGlzY2FyZCBpbmRleCBwbGFjZWhvbGRlciB2YWx1ZXMgdG8gZ2V0IG9ubHkgYWN0dWFsIG1hdGNoZXNcblx0XHRcdFx0XHRzZXRNYXRjaGVkID0gY29uZGVuc2UoIHNldE1hdGNoZWQgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIEFkZCBtYXRjaGVzIHRvIHJlc3VsdHNcblx0XHRcdFx0cHVzaC5hcHBseSggcmVzdWx0cywgc2V0TWF0Y2hlZCApO1xuXG5cdFx0XHRcdC8vIFNlZWRsZXNzIHNldCBtYXRjaGVzIHN1Y2NlZWRpbmcgbXVsdGlwbGUgc3VjY2Vzc2Z1bCBtYXRjaGVycyBzdGlwdWxhdGUgc29ydGluZ1xuXHRcdFx0XHRpZiAoIG91dGVybW9zdCAmJiAhc2VlZCAmJiBzZXRNYXRjaGVkLmxlbmd0aCA+IDAgJiZcblx0XHRcdFx0XHQoIG1hdGNoZWRDb3VudCArIHNldE1hdGNoZXJzLmxlbmd0aCApID4gMSApIHtcblxuXHRcdFx0XHRcdFNpenpsZS51bmlxdWVTb3J0KCByZXN1bHRzICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gT3ZlcnJpZGUgbWFuaXB1bGF0aW9uIG9mIGdsb2JhbHMgYnkgbmVzdGVkIG1hdGNoZXJzXG5cdFx0XHRpZiAoIG91dGVybW9zdCApIHtcblx0XHRcdFx0ZGlycnVucyA9IGRpcnJ1bnNVbmlxdWU7XG5cdFx0XHRcdG91dGVybW9zdENvbnRleHQgPSBjb250ZXh0QmFja3VwO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gdW5tYXRjaGVkO1xuXHRcdH07XG5cblx0cmV0dXJuIGJ5U2V0ID9cblx0XHRtYXJrRnVuY3Rpb24oIHN1cGVyTWF0Y2hlciApIDpcblx0XHRzdXBlck1hdGNoZXI7XG59XG5cbmNvbXBpbGUgPSBTaXp6bGUuY29tcGlsZSA9IGZ1bmN0aW9uKCBzZWxlY3RvciwgbWF0Y2ggLyogSW50ZXJuYWwgVXNlIE9ubHkgKi8gKSB7XG5cdHZhciBpLFxuXHRcdHNldE1hdGNoZXJzID0gW10sXG5cdFx0ZWxlbWVudE1hdGNoZXJzID0gW10sXG5cdFx0Y2FjaGVkID0gY29tcGlsZXJDYWNoZVsgc2VsZWN0b3IgKyBcIiBcIiBdO1xuXG5cdGlmICggIWNhY2hlZCApIHtcblx0XHQvLyBHZW5lcmF0ZSBhIGZ1bmN0aW9uIG9mIHJlY3Vyc2l2ZSBmdW5jdGlvbnMgdGhhdCBjYW4gYmUgdXNlZCB0byBjaGVjayBlYWNoIGVsZW1lbnRcblx0XHRpZiAoICFtYXRjaCApIHtcblx0XHRcdG1hdGNoID0gdG9rZW5pemUoIHNlbGVjdG9yICk7XG5cdFx0fVxuXHRcdGkgPSBtYXRjaC5sZW5ndGg7XG5cdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRjYWNoZWQgPSBtYXRjaGVyRnJvbVRva2VucyggbWF0Y2hbaV0gKTtcblx0XHRcdGlmICggY2FjaGVkWyBleHBhbmRvIF0gKSB7XG5cdFx0XHRcdHNldE1hdGNoZXJzLnB1c2goIGNhY2hlZCApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZWxlbWVudE1hdGNoZXJzLnB1c2goIGNhY2hlZCApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIENhY2hlIHRoZSBjb21waWxlZCBmdW5jdGlvblxuXHRcdGNhY2hlZCA9IGNvbXBpbGVyQ2FjaGUoIHNlbGVjdG9yLCBtYXRjaGVyRnJvbUdyb3VwTWF0Y2hlcnMoIGVsZW1lbnRNYXRjaGVycywgc2V0TWF0Y2hlcnMgKSApO1xuXG5cdFx0Ly8gU2F2ZSBzZWxlY3RvciBhbmQgdG9rZW5pemF0aW9uXG5cdFx0Y2FjaGVkLnNlbGVjdG9yID0gc2VsZWN0b3I7XG5cdH1cblx0cmV0dXJuIGNhY2hlZDtcbn07XG5cbi8qKlxuICogQSBsb3ctbGV2ZWwgc2VsZWN0aW9uIGZ1bmN0aW9uIHRoYXQgd29ya3Mgd2l0aCBTaXp6bGUncyBjb21waWxlZFxuICogIHNlbGVjdG9yIGZ1bmN0aW9uc1xuICogQHBhcmFtIHtTdHJpbmd8RnVuY3Rpb259IHNlbGVjdG9yIEEgc2VsZWN0b3Igb3IgYSBwcmUtY29tcGlsZWRcbiAqICBzZWxlY3RvciBmdW5jdGlvbiBidWlsdCB3aXRoIFNpenpsZS5jb21waWxlXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGNvbnRleHRcbiAqIEBwYXJhbSB7QXJyYXl9IFtyZXN1bHRzXVxuICogQHBhcmFtIHtBcnJheX0gW3NlZWRdIEEgc2V0IG9mIGVsZW1lbnRzIHRvIG1hdGNoIGFnYWluc3RcbiAqL1xuc2VsZWN0ID0gU2l6emxlLnNlbGVjdCA9IGZ1bmN0aW9uKCBzZWxlY3RvciwgY29udGV4dCwgcmVzdWx0cywgc2VlZCApIHtcblx0dmFyIGksIHRva2VucywgdG9rZW4sIHR5cGUsIGZpbmQsXG5cdFx0Y29tcGlsZWQgPSB0eXBlb2Ygc2VsZWN0b3IgPT09IFwiZnVuY3Rpb25cIiAmJiBzZWxlY3Rvcixcblx0XHRtYXRjaCA9ICFzZWVkICYmIHRva2VuaXplKCAoc2VsZWN0b3IgPSBjb21waWxlZC5zZWxlY3RvciB8fCBzZWxlY3RvcikgKTtcblxuXHRyZXN1bHRzID0gcmVzdWx0cyB8fCBbXTtcblxuXHQvLyBUcnkgdG8gbWluaW1pemUgb3BlcmF0aW9ucyBpZiB0aGVyZSBpcyBvbmx5IG9uZSBzZWxlY3RvciBpbiB0aGUgbGlzdCBhbmQgbm8gc2VlZFxuXHQvLyAodGhlIGxhdHRlciBvZiB3aGljaCBndWFyYW50ZWVzIHVzIGNvbnRleHQpXG5cdGlmICggbWF0Y2gubGVuZ3RoID09PSAxICkge1xuXG5cdFx0Ly8gUmVkdWNlIGNvbnRleHQgaWYgdGhlIGxlYWRpbmcgY29tcG91bmQgc2VsZWN0b3IgaXMgYW4gSURcblx0XHR0b2tlbnMgPSBtYXRjaFswXSA9IG1hdGNoWzBdLnNsaWNlKCAwICk7XG5cdFx0aWYgKCB0b2tlbnMubGVuZ3RoID4gMiAmJiAodG9rZW4gPSB0b2tlbnNbMF0pLnR5cGUgPT09IFwiSURcIiAmJlxuXHRcdFx0XHRjb250ZXh0Lm5vZGVUeXBlID09PSA5ICYmIGRvY3VtZW50SXNIVE1MICYmIEV4cHIucmVsYXRpdmVbIHRva2Vuc1sxXS50eXBlIF0gKSB7XG5cblx0XHRcdGNvbnRleHQgPSAoIEV4cHIuZmluZFtcIklEXCJdKCB0b2tlbi5tYXRjaGVzWzBdLnJlcGxhY2UocnVuZXNjYXBlLCBmdW5lc2NhcGUpLCBjb250ZXh0ICkgfHwgW10gKVswXTtcblx0XHRcdGlmICggIWNvbnRleHQgKSB7XG5cdFx0XHRcdHJldHVybiByZXN1bHRzO1xuXG5cdFx0XHQvLyBQcmVjb21waWxlZCBtYXRjaGVycyB3aWxsIHN0aWxsIHZlcmlmeSBhbmNlc3RyeSwgc28gc3RlcCB1cCBhIGxldmVsXG5cdFx0XHR9IGVsc2UgaWYgKCBjb21waWxlZCApIHtcblx0XHRcdFx0Y29udGV4dCA9IGNvbnRleHQucGFyZW50Tm9kZTtcblx0XHRcdH1cblxuXHRcdFx0c2VsZWN0b3IgPSBzZWxlY3Rvci5zbGljZSggdG9rZW5zLnNoaWZ0KCkudmFsdWUubGVuZ3RoICk7XG5cdFx0fVxuXG5cdFx0Ly8gRmV0Y2ggYSBzZWVkIHNldCBmb3IgcmlnaHQtdG8tbGVmdCBtYXRjaGluZ1xuXHRcdGkgPSBtYXRjaEV4cHJbXCJuZWVkc0NvbnRleHRcIl0udGVzdCggc2VsZWN0b3IgKSA/IDAgOiB0b2tlbnMubGVuZ3RoO1xuXHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0dG9rZW4gPSB0b2tlbnNbaV07XG5cblx0XHRcdC8vIEFib3J0IGlmIHdlIGhpdCBhIGNvbWJpbmF0b3Jcblx0XHRcdGlmICggRXhwci5yZWxhdGl2ZVsgKHR5cGUgPSB0b2tlbi50eXBlKSBdICkge1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHRcdGlmICggKGZpbmQgPSBFeHByLmZpbmRbIHR5cGUgXSkgKSB7XG5cdFx0XHRcdC8vIFNlYXJjaCwgZXhwYW5kaW5nIGNvbnRleHQgZm9yIGxlYWRpbmcgc2libGluZyBjb21iaW5hdG9yc1xuXHRcdFx0XHRpZiAoIChzZWVkID0gZmluZChcblx0XHRcdFx0XHR0b2tlbi5tYXRjaGVzWzBdLnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICksXG5cdFx0XHRcdFx0cnNpYmxpbmcudGVzdCggdG9rZW5zWzBdLnR5cGUgKSAmJiB0ZXN0Q29udGV4dCggY29udGV4dC5wYXJlbnROb2RlICkgfHwgY29udGV4dFxuXHRcdFx0XHQpKSApIHtcblxuXHRcdFx0XHRcdC8vIElmIHNlZWQgaXMgZW1wdHkgb3Igbm8gdG9rZW5zIHJlbWFpbiwgd2UgY2FuIHJldHVybiBlYXJseVxuXHRcdFx0XHRcdHRva2Vucy5zcGxpY2UoIGksIDEgKTtcblx0XHRcdFx0XHRzZWxlY3RvciA9IHNlZWQubGVuZ3RoICYmIHRvU2VsZWN0b3IoIHRva2VucyApO1xuXHRcdFx0XHRcdGlmICggIXNlbGVjdG9yICkge1xuXHRcdFx0XHRcdFx0cHVzaC5hcHBseSggcmVzdWx0cywgc2VlZCApO1xuXHRcdFx0XHRcdFx0cmV0dXJuIHJlc3VsdHM7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQvLyBDb21waWxlIGFuZCBleGVjdXRlIGEgZmlsdGVyaW5nIGZ1bmN0aW9uIGlmIG9uZSBpcyBub3QgcHJvdmlkZWRcblx0Ly8gUHJvdmlkZSBgbWF0Y2hgIHRvIGF2b2lkIHJldG9rZW5pemF0aW9uIGlmIHdlIG1vZGlmaWVkIHRoZSBzZWxlY3RvciBhYm92ZVxuXHQoIGNvbXBpbGVkIHx8IGNvbXBpbGUoIHNlbGVjdG9yLCBtYXRjaCApICkoXG5cdFx0c2VlZCxcblx0XHRjb250ZXh0LFxuXHRcdCFkb2N1bWVudElzSFRNTCxcblx0XHRyZXN1bHRzLFxuXHRcdCFjb250ZXh0IHx8IHJzaWJsaW5nLnRlc3QoIHNlbGVjdG9yICkgJiYgdGVzdENvbnRleHQoIGNvbnRleHQucGFyZW50Tm9kZSApIHx8IGNvbnRleHRcblx0KTtcblx0cmV0dXJuIHJlc3VsdHM7XG59O1xuXG4vLyBPbmUtdGltZSBhc3NpZ25tZW50c1xuXG4vLyBTb3J0IHN0YWJpbGl0eVxuc3VwcG9ydC5zb3J0U3RhYmxlID0gZXhwYW5kby5zcGxpdChcIlwiKS5zb3J0KCBzb3J0T3JkZXIgKS5qb2luKFwiXCIpID09PSBleHBhbmRvO1xuXG4vLyBTdXBwb3J0OiBDaHJvbWUgMTQtMzUrXG4vLyBBbHdheXMgYXNzdW1lIGR1cGxpY2F0ZXMgaWYgdGhleSBhcmVuJ3QgcGFzc2VkIHRvIHRoZSBjb21wYXJpc29uIGZ1bmN0aW9uXG5zdXBwb3J0LmRldGVjdER1cGxpY2F0ZXMgPSAhIWhhc0R1cGxpY2F0ZTtcblxuLy8gSW5pdGlhbGl6ZSBhZ2FpbnN0IHRoZSBkZWZhdWx0IGRvY3VtZW50XG5zZXREb2N1bWVudCgpO1xuXG4vLyBTdXBwb3J0OiBXZWJraXQ8NTM3LjMyIC0gU2FmYXJpIDYuMC4zL0Nocm9tZSAyNSAoZml4ZWQgaW4gQ2hyb21lIDI3KVxuLy8gRGV0YWNoZWQgbm9kZXMgY29uZm91bmRpbmdseSBmb2xsb3cgKmVhY2ggb3RoZXIqXG5zdXBwb3J0LnNvcnREZXRhY2hlZCA9IGFzc2VydChmdW5jdGlvbiggZWwgKSB7XG5cdC8vIFNob3VsZCByZXR1cm4gMSwgYnV0IHJldHVybnMgNCAoZm9sbG93aW5nKVxuXHRyZXR1cm4gZWwuY29tcGFyZURvY3VtZW50UG9zaXRpb24oIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJmaWVsZHNldFwiKSApICYgMTtcbn0pO1xuXG4vLyBTdXBwb3J0OiBJRTw4XG4vLyBQcmV2ZW50IGF0dHJpYnV0ZS9wcm9wZXJ0eSBcImludGVycG9sYXRpb25cIlxuLy8gaHR0cHM6Ly9tc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvbGlicmFyeS9tczUzNjQyOSUyOFZTLjg1JTI5LmFzcHhcbmlmICggIWFzc2VydChmdW5jdGlvbiggZWwgKSB7XG5cdGVsLmlubmVySFRNTCA9IFwiPGEgaHJlZj0nIyc+PC9hPlwiO1xuXHRyZXR1cm4gZWwuZmlyc3RDaGlsZC5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpID09PSBcIiNcIiA7XG59KSApIHtcblx0YWRkSGFuZGxlKCBcInR5cGV8aHJlZnxoZWlnaHR8d2lkdGhcIiwgZnVuY3Rpb24oIGVsZW0sIG5hbWUsIGlzWE1MICkge1xuXHRcdGlmICggIWlzWE1MICkge1xuXHRcdFx0cmV0dXJuIGVsZW0uZ2V0QXR0cmlidXRlKCBuYW1lLCBuYW1lLnRvTG93ZXJDYXNlKCkgPT09IFwidHlwZVwiID8gMSA6IDIgKTtcblx0XHR9XG5cdH0pO1xufVxuXG4vLyBTdXBwb3J0OiBJRTw5XG4vLyBVc2UgZGVmYXVsdFZhbHVlIGluIHBsYWNlIG9mIGdldEF0dHJpYnV0ZShcInZhbHVlXCIpXG5pZiAoICFzdXBwb3J0LmF0dHJpYnV0ZXMgfHwgIWFzc2VydChmdW5jdGlvbiggZWwgKSB7XG5cdGVsLmlubmVySFRNTCA9IFwiPGlucHV0Lz5cIjtcblx0ZWwuZmlyc3RDaGlsZC5zZXRBdHRyaWJ1dGUoIFwidmFsdWVcIiwgXCJcIiApO1xuXHRyZXR1cm4gZWwuZmlyc3RDaGlsZC5nZXRBdHRyaWJ1dGUoIFwidmFsdWVcIiApID09PSBcIlwiO1xufSkgKSB7XG5cdGFkZEhhbmRsZSggXCJ2YWx1ZVwiLCBmdW5jdGlvbiggZWxlbSwgbmFtZSwgaXNYTUwgKSB7XG5cdFx0aWYgKCAhaXNYTUwgJiYgZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSBcImlucHV0XCIgKSB7XG5cdFx0XHRyZXR1cm4gZWxlbS5kZWZhdWx0VmFsdWU7XG5cdFx0fVxuXHR9KTtcbn1cblxuLy8gU3VwcG9ydDogSUU8OVxuLy8gVXNlIGdldEF0dHJpYnV0ZU5vZGUgdG8gZmV0Y2ggYm9vbGVhbnMgd2hlbiBnZXRBdHRyaWJ1dGUgbGllc1xuaWYgKCAhYXNzZXJ0KGZ1bmN0aW9uKCBlbCApIHtcblx0cmV0dXJuIGVsLmdldEF0dHJpYnV0ZShcImRpc2FibGVkXCIpID09IG51bGw7XG59KSApIHtcblx0YWRkSGFuZGxlKCBib29sZWFucywgZnVuY3Rpb24oIGVsZW0sIG5hbWUsIGlzWE1MICkge1xuXHRcdHZhciB2YWw7XG5cdFx0aWYgKCAhaXNYTUwgKSB7XG5cdFx0XHRyZXR1cm4gZWxlbVsgbmFtZSBdID09PSB0cnVlID8gbmFtZS50b0xvd2VyQ2FzZSgpIDpcblx0XHRcdFx0XHQodmFsID0gZWxlbS5nZXRBdHRyaWJ1dGVOb2RlKCBuYW1lICkpICYmIHZhbC5zcGVjaWZpZWQgP1xuXHRcdFx0XHRcdHZhbC52YWx1ZSA6XG5cdFx0XHRcdG51bGw7XG5cdFx0fVxuXHR9KTtcbn1cblxucmV0dXJuIFNpenpsZTtcblxufSkoIHdpbmRvdyApO1xuXG5cblxualF1ZXJ5LmZpbmQgPSBTaXp6bGU7XG5qUXVlcnkuZXhwciA9IFNpenpsZS5zZWxlY3RvcnM7XG5cbi8vIERlcHJlY2F0ZWRcbmpRdWVyeS5leHByWyBcIjpcIiBdID0galF1ZXJ5LmV4cHIucHNldWRvcztcbmpRdWVyeS51bmlxdWVTb3J0ID0galF1ZXJ5LnVuaXF1ZSA9IFNpenpsZS51bmlxdWVTb3J0O1xualF1ZXJ5LnRleHQgPSBTaXp6bGUuZ2V0VGV4dDtcbmpRdWVyeS5pc1hNTERvYyA9IFNpenpsZS5pc1hNTDtcbmpRdWVyeS5jb250YWlucyA9IFNpenpsZS5jb250YWlucztcbmpRdWVyeS5lc2NhcGVTZWxlY3RvciA9IFNpenpsZS5lc2NhcGU7XG5cblxuXG5cbnZhciBkaXIgPSBmdW5jdGlvbiggZWxlbSwgZGlyLCB1bnRpbCApIHtcblx0dmFyIG1hdGNoZWQgPSBbXSxcblx0XHR0cnVuY2F0ZSA9IHVudGlsICE9PSB1bmRlZmluZWQ7XG5cblx0d2hpbGUgKCAoIGVsZW0gPSBlbGVtWyBkaXIgXSApICYmIGVsZW0ubm9kZVR5cGUgIT09IDkgKSB7XG5cdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAxICkge1xuXHRcdFx0aWYgKCB0cnVuY2F0ZSAmJiBqUXVlcnkoIGVsZW0gKS5pcyggdW50aWwgKSApIHtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0XHRtYXRjaGVkLnB1c2goIGVsZW0gKTtcblx0XHR9XG5cdH1cblx0cmV0dXJuIG1hdGNoZWQ7XG59O1xuXG5cbnZhciBzaWJsaW5ncyA9IGZ1bmN0aW9uKCBuLCBlbGVtICkge1xuXHR2YXIgbWF0Y2hlZCA9IFtdO1xuXG5cdGZvciAoIDsgbjsgbiA9IG4ubmV4dFNpYmxpbmcgKSB7XG5cdFx0aWYgKCBuLm5vZGVUeXBlID09PSAxICYmIG4gIT09IGVsZW0gKSB7XG5cdFx0XHRtYXRjaGVkLnB1c2goIG4gKTtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gbWF0Y2hlZDtcbn07XG5cblxudmFyIHJuZWVkc0NvbnRleHQgPSBqUXVlcnkuZXhwci5tYXRjaC5uZWVkc0NvbnRleHQ7XG5cblxuXG5mdW5jdGlvbiBub2RlTmFtZSggZWxlbSwgbmFtZSApIHtcblxuICByZXR1cm4gZWxlbS5ub2RlTmFtZSAmJiBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09IG5hbWUudG9Mb3dlckNhc2UoKTtcblxufTtcbnZhciByc2luZ2xlVGFnID0gKCAvXjwoW2Etel1bXlxcL1xcMD46XFx4MjBcXHRcXHJcXG5cXGZdKilbXFx4MjBcXHRcXHJcXG5cXGZdKlxcLz8+KD86PFxcL1xcMT58KSQvaSApO1xuXG5cblxudmFyIHJpc1NpbXBsZSA9IC9eLlteOiNcXFtcXC4sXSokLztcblxuLy8gSW1wbGVtZW50IHRoZSBpZGVudGljYWwgZnVuY3Rpb25hbGl0eSBmb3IgZmlsdGVyIGFuZCBub3RcbmZ1bmN0aW9uIHdpbm5vdyggZWxlbWVudHMsIHF1YWxpZmllciwgbm90ICkge1xuXHRpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCBxdWFsaWZpZXIgKSApIHtcblx0XHRyZXR1cm4galF1ZXJ5LmdyZXAoIGVsZW1lbnRzLCBmdW5jdGlvbiggZWxlbSwgaSApIHtcblx0XHRcdHJldHVybiAhIXF1YWxpZmllci5jYWxsKCBlbGVtLCBpLCBlbGVtICkgIT09IG5vdDtcblx0XHR9ICk7XG5cdH1cblxuXHQvLyBTaW5nbGUgZWxlbWVudFxuXHRpZiAoIHF1YWxpZmllci5ub2RlVHlwZSApIHtcblx0XHRyZXR1cm4galF1ZXJ5LmdyZXAoIGVsZW1lbnRzLCBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiAoIGVsZW0gPT09IHF1YWxpZmllciApICE9PSBub3Q7XG5cdFx0fSApO1xuXHR9XG5cblx0Ly8gQXJyYXlsaWtlIG9mIGVsZW1lbnRzIChqUXVlcnksIGFyZ3VtZW50cywgQXJyYXkpXG5cdGlmICggdHlwZW9mIHF1YWxpZmllciAhPT0gXCJzdHJpbmdcIiApIHtcblx0XHRyZXR1cm4galF1ZXJ5LmdyZXAoIGVsZW1lbnRzLCBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiAoIGluZGV4T2YuY2FsbCggcXVhbGlmaWVyLCBlbGVtICkgPiAtMSApICE9PSBub3Q7XG5cdFx0fSApO1xuXHR9XG5cblx0Ly8gU2ltcGxlIHNlbGVjdG9yIHRoYXQgY2FuIGJlIGZpbHRlcmVkIGRpcmVjdGx5LCByZW1vdmluZyBub24tRWxlbWVudHNcblx0aWYgKCByaXNTaW1wbGUudGVzdCggcXVhbGlmaWVyICkgKSB7XG5cdFx0cmV0dXJuIGpRdWVyeS5maWx0ZXIoIHF1YWxpZmllciwgZWxlbWVudHMsIG5vdCApO1xuXHR9XG5cblx0Ly8gQ29tcGxleCBzZWxlY3RvciwgY29tcGFyZSB0aGUgdHdvIHNldHMsIHJlbW92aW5nIG5vbi1FbGVtZW50c1xuXHRxdWFsaWZpZXIgPSBqUXVlcnkuZmlsdGVyKCBxdWFsaWZpZXIsIGVsZW1lbnRzICk7XG5cdHJldHVybiBqUXVlcnkuZ3JlcCggZWxlbWVudHMsIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdHJldHVybiAoIGluZGV4T2YuY2FsbCggcXVhbGlmaWVyLCBlbGVtICkgPiAtMSApICE9PSBub3QgJiYgZWxlbS5ub2RlVHlwZSA9PT0gMTtcblx0fSApO1xufVxuXG5qUXVlcnkuZmlsdGVyID0gZnVuY3Rpb24oIGV4cHIsIGVsZW1zLCBub3QgKSB7XG5cdHZhciBlbGVtID0gZWxlbXNbIDAgXTtcblxuXHRpZiAoIG5vdCApIHtcblx0XHRleHByID0gXCI6bm90KFwiICsgZXhwciArIFwiKVwiO1xuXHR9XG5cblx0aWYgKCBlbGVtcy5sZW5ndGggPT09IDEgJiYgZWxlbS5ub2RlVHlwZSA9PT0gMSApIHtcblx0XHRyZXR1cm4galF1ZXJ5LmZpbmQubWF0Y2hlc1NlbGVjdG9yKCBlbGVtLCBleHByICkgPyBbIGVsZW0gXSA6IFtdO1xuXHR9XG5cblx0cmV0dXJuIGpRdWVyeS5maW5kLm1hdGNoZXMoIGV4cHIsIGpRdWVyeS5ncmVwKCBlbGVtcywgZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0cmV0dXJuIGVsZW0ubm9kZVR5cGUgPT09IDE7XG5cdH0gKSApO1xufTtcblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRmaW5kOiBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0dmFyIGksIHJldCxcblx0XHRcdGxlbiA9IHRoaXMubGVuZ3RoLFxuXHRcdFx0c2VsZiA9IHRoaXM7XG5cblx0XHRpZiAoIHR5cGVvZiBzZWxlY3RvciAhPT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdHJldHVybiB0aGlzLnB1c2hTdGFjayggalF1ZXJ5KCBzZWxlY3RvciApLmZpbHRlciggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGZvciAoIGkgPSAwOyBpIDwgbGVuOyBpKysgKSB7XG5cdFx0XHRcdFx0aWYgKCBqUXVlcnkuY29udGFpbnMoIHNlbGZbIGkgXSwgdGhpcyApICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9ICkgKTtcblx0XHR9XG5cblx0XHRyZXQgPSB0aGlzLnB1c2hTdGFjayggW10gKTtcblxuXHRcdGZvciAoIGkgPSAwOyBpIDwgbGVuOyBpKysgKSB7XG5cdFx0XHRqUXVlcnkuZmluZCggc2VsZWN0b3IsIHNlbGZbIGkgXSwgcmV0ICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGxlbiA+IDEgPyBqUXVlcnkudW5pcXVlU29ydCggcmV0ICkgOiByZXQ7XG5cdH0sXG5cdGZpbHRlcjogZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdHJldHVybiB0aGlzLnB1c2hTdGFjayggd2lubm93KCB0aGlzLCBzZWxlY3RvciB8fCBbXSwgZmFsc2UgKSApO1xuXHR9LFxuXHRub3Q6IGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHRyZXR1cm4gdGhpcy5wdXNoU3RhY2soIHdpbm5vdyggdGhpcywgc2VsZWN0b3IgfHwgW10sIHRydWUgKSApO1xuXHR9LFxuXHRpczogZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdHJldHVybiAhIXdpbm5vdyhcblx0XHRcdHRoaXMsXG5cblx0XHRcdC8vIElmIHRoaXMgaXMgYSBwb3NpdGlvbmFsL3JlbGF0aXZlIHNlbGVjdG9yLCBjaGVjayBtZW1iZXJzaGlwIGluIHRoZSByZXR1cm5lZCBzZXRcblx0XHRcdC8vIHNvICQoXCJwOmZpcnN0XCIpLmlzKFwicDpsYXN0XCIpIHdvbid0IHJldHVybiB0cnVlIGZvciBhIGRvYyB3aXRoIHR3byBcInBcIi5cblx0XHRcdHR5cGVvZiBzZWxlY3RvciA9PT0gXCJzdHJpbmdcIiAmJiBybmVlZHNDb250ZXh0LnRlc3QoIHNlbGVjdG9yICkgP1xuXHRcdFx0XHRqUXVlcnkoIHNlbGVjdG9yICkgOlxuXHRcdFx0XHRzZWxlY3RvciB8fCBbXSxcblx0XHRcdGZhbHNlXG5cdFx0KS5sZW5ndGg7XG5cdH1cbn0gKTtcblxuXG4vLyBJbml0aWFsaXplIGEgalF1ZXJ5IG9iamVjdFxuXG5cbi8vIEEgY2VudHJhbCByZWZlcmVuY2UgdG8gdGhlIHJvb3QgalF1ZXJ5KGRvY3VtZW50KVxudmFyIHJvb3RqUXVlcnksXG5cblx0Ly8gQSBzaW1wbGUgd2F5IHRvIGNoZWNrIGZvciBIVE1MIHN0cmluZ3Ncblx0Ly8gUHJpb3JpdGl6ZSAjaWQgb3ZlciA8dGFnPiB0byBhdm9pZCBYU1MgdmlhIGxvY2F0aW9uLmhhc2ggKCM5NTIxKVxuXHQvLyBTdHJpY3QgSFRNTCByZWNvZ25pdGlvbiAoIzExMjkwOiBtdXN0IHN0YXJ0IHdpdGggPClcblx0Ly8gU2hvcnRjdXQgc2ltcGxlICNpZCBjYXNlIGZvciBzcGVlZFxuXHRycXVpY2tFeHByID0gL14oPzpcXHMqKDxbXFx3XFxXXSs+KVtePl0qfCMoW1xcdy1dKykpJC8sXG5cblx0aW5pdCA9IGpRdWVyeS5mbi5pbml0ID0gZnVuY3Rpb24oIHNlbGVjdG9yLCBjb250ZXh0LCByb290ICkge1xuXHRcdHZhciBtYXRjaCwgZWxlbTtcblxuXHRcdC8vIEhBTkRMRTogJChcIlwiKSwgJChudWxsKSwgJCh1bmRlZmluZWQpLCAkKGZhbHNlKVxuXHRcdGlmICggIXNlbGVjdG9yICkge1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fVxuXG5cdFx0Ly8gTWV0aG9kIGluaXQoKSBhY2NlcHRzIGFuIGFsdGVybmF0ZSByb290alF1ZXJ5XG5cdFx0Ly8gc28gbWlncmF0ZSBjYW4gc3VwcG9ydCBqUXVlcnkuc3ViIChnaC0yMTAxKVxuXHRcdHJvb3QgPSByb290IHx8IHJvb3RqUXVlcnk7XG5cblx0XHQvLyBIYW5kbGUgSFRNTCBzdHJpbmdzXG5cdFx0aWYgKCB0eXBlb2Ygc2VsZWN0b3IgPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRpZiAoIHNlbGVjdG9yWyAwIF0gPT09IFwiPFwiICYmXG5cdFx0XHRcdHNlbGVjdG9yWyBzZWxlY3Rvci5sZW5ndGggLSAxIF0gPT09IFwiPlwiICYmXG5cdFx0XHRcdHNlbGVjdG9yLmxlbmd0aCA+PSAzICkge1xuXG5cdFx0XHRcdC8vIEFzc3VtZSB0aGF0IHN0cmluZ3MgdGhhdCBzdGFydCBhbmQgZW5kIHdpdGggPD4gYXJlIEhUTUwgYW5kIHNraXAgdGhlIHJlZ2V4IGNoZWNrXG5cdFx0XHRcdG1hdGNoID0gWyBudWxsLCBzZWxlY3RvciwgbnVsbCBdO1xuXG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRtYXRjaCA9IHJxdWlja0V4cHIuZXhlYyggc2VsZWN0b3IgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gTWF0Y2ggaHRtbCBvciBtYWtlIHN1cmUgbm8gY29udGV4dCBpcyBzcGVjaWZpZWQgZm9yICNpZFxuXHRcdFx0aWYgKCBtYXRjaCAmJiAoIG1hdGNoWyAxIF0gfHwgIWNvbnRleHQgKSApIHtcblxuXHRcdFx0XHQvLyBIQU5ETEU6ICQoaHRtbCkgLT4gJChhcnJheSlcblx0XHRcdFx0aWYgKCBtYXRjaFsgMSBdICkge1xuXHRcdFx0XHRcdGNvbnRleHQgPSBjb250ZXh0IGluc3RhbmNlb2YgalF1ZXJ5ID8gY29udGV4dFsgMCBdIDogY29udGV4dDtcblxuXHRcdFx0XHRcdC8vIE9wdGlvbiB0byBydW4gc2NyaXB0cyBpcyB0cnVlIGZvciBiYWNrLWNvbXBhdFxuXHRcdFx0XHRcdC8vIEludGVudGlvbmFsbHkgbGV0IHRoZSBlcnJvciBiZSB0aHJvd24gaWYgcGFyc2VIVE1MIGlzIG5vdCBwcmVzZW50XG5cdFx0XHRcdFx0alF1ZXJ5Lm1lcmdlKCB0aGlzLCBqUXVlcnkucGFyc2VIVE1MKFxuXHRcdFx0XHRcdFx0bWF0Y2hbIDEgXSxcblx0XHRcdFx0XHRcdGNvbnRleHQgJiYgY29udGV4dC5ub2RlVHlwZSA/IGNvbnRleHQub3duZXJEb2N1bWVudCB8fCBjb250ZXh0IDogZG9jdW1lbnQsXG5cdFx0XHRcdFx0XHR0cnVlXG5cdFx0XHRcdFx0KSApO1xuXG5cdFx0XHRcdFx0Ly8gSEFORExFOiAkKGh0bWwsIHByb3BzKVxuXHRcdFx0XHRcdGlmICggcnNpbmdsZVRhZy50ZXN0KCBtYXRjaFsgMSBdICkgJiYgalF1ZXJ5LmlzUGxhaW5PYmplY3QoIGNvbnRleHQgKSApIHtcblx0XHRcdFx0XHRcdGZvciAoIG1hdGNoIGluIGNvbnRleHQgKSB7XG5cblx0XHRcdFx0XHRcdFx0Ly8gUHJvcGVydGllcyBvZiBjb250ZXh0IGFyZSBjYWxsZWQgYXMgbWV0aG9kcyBpZiBwb3NzaWJsZVxuXHRcdFx0XHRcdFx0XHRpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCB0aGlzWyBtYXRjaCBdICkgKSB7XG5cdFx0XHRcdFx0XHRcdFx0dGhpc1sgbWF0Y2ggXSggY29udGV4dFsgbWF0Y2ggXSApO1xuXG5cdFx0XHRcdFx0XHRcdC8vIC4uLmFuZCBvdGhlcndpc2Ugc2V0IGFzIGF0dHJpYnV0ZXNcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHR0aGlzLmF0dHIoIG1hdGNoLCBjb250ZXh0WyBtYXRjaCBdICk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblxuXHRcdFx0XHQvLyBIQU5ETEU6ICQoI2lkKVxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGVsZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCggbWF0Y2hbIDIgXSApO1xuXG5cdFx0XHRcdFx0aWYgKCBlbGVtICkge1xuXG5cdFx0XHRcdFx0XHQvLyBJbmplY3QgdGhlIGVsZW1lbnQgZGlyZWN0bHkgaW50byB0aGUgalF1ZXJ5IG9iamVjdFxuXHRcdFx0XHRcdFx0dGhpc1sgMCBdID0gZWxlbTtcblx0XHRcdFx0XHRcdHRoaXMubGVuZ3RoID0gMTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHRcdH1cblxuXHRcdFx0Ly8gSEFORExFOiAkKGV4cHIsICQoLi4uKSlcblx0XHRcdH0gZWxzZSBpZiAoICFjb250ZXh0IHx8IGNvbnRleHQuanF1ZXJ5ICkge1xuXHRcdFx0XHRyZXR1cm4gKCBjb250ZXh0IHx8IHJvb3QgKS5maW5kKCBzZWxlY3RvciApO1xuXG5cdFx0XHQvLyBIQU5ETEU6ICQoZXhwciwgY29udGV4dClcblx0XHRcdC8vICh3aGljaCBpcyBqdXN0IGVxdWl2YWxlbnQgdG86ICQoY29udGV4dCkuZmluZChleHByKVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmV0dXJuIHRoaXMuY29uc3RydWN0b3IoIGNvbnRleHQgKS5maW5kKCBzZWxlY3RvciApO1xuXHRcdFx0fVxuXG5cdFx0Ly8gSEFORExFOiAkKERPTUVsZW1lbnQpXG5cdFx0fSBlbHNlIGlmICggc2VsZWN0b3Iubm9kZVR5cGUgKSB7XG5cdFx0XHR0aGlzWyAwIF0gPSBzZWxlY3Rvcjtcblx0XHRcdHRoaXMubGVuZ3RoID0gMTtcblx0XHRcdHJldHVybiB0aGlzO1xuXG5cdFx0Ly8gSEFORExFOiAkKGZ1bmN0aW9uKVxuXHRcdC8vIFNob3J0Y3V0IGZvciBkb2N1bWVudCByZWFkeVxuXHRcdH0gZWxzZSBpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCBzZWxlY3RvciApICkge1xuXHRcdFx0cmV0dXJuIHJvb3QucmVhZHkgIT09IHVuZGVmaW5lZCA/XG5cdFx0XHRcdHJvb3QucmVhZHkoIHNlbGVjdG9yICkgOlxuXG5cdFx0XHRcdC8vIEV4ZWN1dGUgaW1tZWRpYXRlbHkgaWYgcmVhZHkgaXMgbm90IHByZXNlbnRcblx0XHRcdFx0c2VsZWN0b3IoIGpRdWVyeSApO1xuXHRcdH1cblxuXHRcdHJldHVybiBqUXVlcnkubWFrZUFycmF5KCBzZWxlY3RvciwgdGhpcyApO1xuXHR9O1xuXG4vLyBHaXZlIHRoZSBpbml0IGZ1bmN0aW9uIHRoZSBqUXVlcnkgcHJvdG90eXBlIGZvciBsYXRlciBpbnN0YW50aWF0aW9uXG5pbml0LnByb3RvdHlwZSA9IGpRdWVyeS5mbjtcblxuLy8gSW5pdGlhbGl6ZSBjZW50cmFsIHJlZmVyZW5jZVxucm9vdGpRdWVyeSA9IGpRdWVyeSggZG9jdW1lbnQgKTtcblxuXG52YXIgcnBhcmVudHNwcmV2ID0gL14oPzpwYXJlbnRzfHByZXYoPzpVbnRpbHxBbGwpKS8sXG5cblx0Ly8gTWV0aG9kcyBndWFyYW50ZWVkIHRvIHByb2R1Y2UgYSB1bmlxdWUgc2V0IHdoZW4gc3RhcnRpbmcgZnJvbSBhIHVuaXF1ZSBzZXRcblx0Z3VhcmFudGVlZFVuaXF1ZSA9IHtcblx0XHRjaGlsZHJlbjogdHJ1ZSxcblx0XHRjb250ZW50czogdHJ1ZSxcblx0XHRuZXh0OiB0cnVlLFxuXHRcdHByZXY6IHRydWVcblx0fTtcblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRoYXM6IGZ1bmN0aW9uKCB0YXJnZXQgKSB7XG5cdFx0dmFyIHRhcmdldHMgPSBqUXVlcnkoIHRhcmdldCwgdGhpcyApLFxuXHRcdFx0bCA9IHRhcmdldHMubGVuZ3RoO1xuXG5cdFx0cmV0dXJuIHRoaXMuZmlsdGVyKCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBpID0gMDtcblx0XHRcdGZvciAoIDsgaSA8IGw7IGkrKyApIHtcblx0XHRcdFx0aWYgKCBqUXVlcnkuY29udGFpbnMoIHRoaXMsIHRhcmdldHNbIGkgXSApICkge1xuXHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9LFxuXG5cdGNsb3Nlc3Q6IGZ1bmN0aW9uKCBzZWxlY3RvcnMsIGNvbnRleHQgKSB7XG5cdFx0dmFyIGN1cixcblx0XHRcdGkgPSAwLFxuXHRcdFx0bCA9IHRoaXMubGVuZ3RoLFxuXHRcdFx0bWF0Y2hlZCA9IFtdLFxuXHRcdFx0dGFyZ2V0cyA9IHR5cGVvZiBzZWxlY3RvcnMgIT09IFwic3RyaW5nXCIgJiYgalF1ZXJ5KCBzZWxlY3RvcnMgKTtcblxuXHRcdC8vIFBvc2l0aW9uYWwgc2VsZWN0b3JzIG5ldmVyIG1hdGNoLCBzaW5jZSB0aGVyZSdzIG5vIF9zZWxlY3Rpb25fIGNvbnRleHRcblx0XHRpZiAoICFybmVlZHNDb250ZXh0LnRlc3QoIHNlbGVjdG9ycyApICkge1xuXHRcdFx0Zm9yICggOyBpIDwgbDsgaSsrICkge1xuXHRcdFx0XHRmb3IgKCBjdXIgPSB0aGlzWyBpIF07IGN1ciAmJiBjdXIgIT09IGNvbnRleHQ7IGN1ciA9IGN1ci5wYXJlbnROb2RlICkge1xuXG5cdFx0XHRcdFx0Ly8gQWx3YXlzIHNraXAgZG9jdW1lbnQgZnJhZ21lbnRzXG5cdFx0XHRcdFx0aWYgKCBjdXIubm9kZVR5cGUgPCAxMSAmJiAoIHRhcmdldHMgP1xuXHRcdFx0XHRcdFx0dGFyZ2V0cy5pbmRleCggY3VyICkgPiAtMSA6XG5cblx0XHRcdFx0XHRcdC8vIERvbid0IHBhc3Mgbm9uLWVsZW1lbnRzIHRvIFNpenpsZVxuXHRcdFx0XHRcdFx0Y3VyLm5vZGVUeXBlID09PSAxICYmXG5cdFx0XHRcdFx0XHRcdGpRdWVyeS5maW5kLm1hdGNoZXNTZWxlY3RvciggY3VyLCBzZWxlY3RvcnMgKSApICkge1xuXG5cdFx0XHRcdFx0XHRtYXRjaGVkLnB1c2goIGN1ciApO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKCBtYXRjaGVkLmxlbmd0aCA+IDEgPyBqUXVlcnkudW5pcXVlU29ydCggbWF0Y2hlZCApIDogbWF0Y2hlZCApO1xuXHR9LFxuXG5cdC8vIERldGVybWluZSB0aGUgcG9zaXRpb24gb2YgYW4gZWxlbWVudCB3aXRoaW4gdGhlIHNldFxuXHRpbmRleDogZnVuY3Rpb24oIGVsZW0gKSB7XG5cblx0XHQvLyBObyBhcmd1bWVudCwgcmV0dXJuIGluZGV4IGluIHBhcmVudFxuXHRcdGlmICggIWVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gKCB0aGlzWyAwIF0gJiYgdGhpc1sgMCBdLnBhcmVudE5vZGUgKSA/IHRoaXMuZmlyc3QoKS5wcmV2QWxsKCkubGVuZ3RoIDogLTE7XG5cdFx0fVxuXG5cdFx0Ly8gSW5kZXggaW4gc2VsZWN0b3Jcblx0XHRpZiAoIHR5cGVvZiBlbGVtID09PSBcInN0cmluZ1wiICkge1xuXHRcdFx0cmV0dXJuIGluZGV4T2YuY2FsbCggalF1ZXJ5KCBlbGVtICksIHRoaXNbIDAgXSApO1xuXHRcdH1cblxuXHRcdC8vIExvY2F0ZSB0aGUgcG9zaXRpb24gb2YgdGhlIGRlc2lyZWQgZWxlbWVudFxuXHRcdHJldHVybiBpbmRleE9mLmNhbGwoIHRoaXMsXG5cblx0XHRcdC8vIElmIGl0IHJlY2VpdmVzIGEgalF1ZXJ5IG9iamVjdCwgdGhlIGZpcnN0IGVsZW1lbnQgaXMgdXNlZFxuXHRcdFx0ZWxlbS5qcXVlcnkgPyBlbGVtWyAwIF0gOiBlbGVtXG5cdFx0KTtcblx0fSxcblxuXHRhZGQ6IGZ1bmN0aW9uKCBzZWxlY3RvciwgY29udGV4dCApIHtcblx0XHRyZXR1cm4gdGhpcy5wdXNoU3RhY2soXG5cdFx0XHRqUXVlcnkudW5pcXVlU29ydChcblx0XHRcdFx0alF1ZXJ5Lm1lcmdlKCB0aGlzLmdldCgpLCBqUXVlcnkoIHNlbGVjdG9yLCBjb250ZXh0ICkgKVxuXHRcdFx0KVxuXHRcdCk7XG5cdH0sXG5cblx0YWRkQmFjazogZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdHJldHVybiB0aGlzLmFkZCggc2VsZWN0b3IgPT0gbnVsbCA/XG5cdFx0XHR0aGlzLnByZXZPYmplY3QgOiB0aGlzLnByZXZPYmplY3QuZmlsdGVyKCBzZWxlY3RvciApXG5cdFx0KTtcblx0fVxufSApO1xuXG5mdW5jdGlvbiBzaWJsaW5nKCBjdXIsIGRpciApIHtcblx0d2hpbGUgKCAoIGN1ciA9IGN1clsgZGlyIF0gKSAmJiBjdXIubm9kZVR5cGUgIT09IDEgKSB7fVxuXHRyZXR1cm4gY3VyO1xufVxuXG5qUXVlcnkuZWFjaCgge1xuXHRwYXJlbnQ6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdHZhciBwYXJlbnQgPSBlbGVtLnBhcmVudE5vZGU7XG5cdFx0cmV0dXJuIHBhcmVudCAmJiBwYXJlbnQubm9kZVR5cGUgIT09IDExID8gcGFyZW50IDogbnVsbDtcblx0fSxcblx0cGFyZW50czogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0cmV0dXJuIGRpciggZWxlbSwgXCJwYXJlbnROb2RlXCIgKTtcblx0fSxcblx0cGFyZW50c1VudGlsOiBmdW5jdGlvbiggZWxlbSwgaSwgdW50aWwgKSB7XG5cdFx0cmV0dXJuIGRpciggZWxlbSwgXCJwYXJlbnROb2RlXCIsIHVudGlsICk7XG5cdH0sXG5cdG5leHQ6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdHJldHVybiBzaWJsaW5nKCBlbGVtLCBcIm5leHRTaWJsaW5nXCIgKTtcblx0fSxcblx0cHJldjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0cmV0dXJuIHNpYmxpbmcoIGVsZW0sIFwicHJldmlvdXNTaWJsaW5nXCIgKTtcblx0fSxcblx0bmV4dEFsbDogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0cmV0dXJuIGRpciggZWxlbSwgXCJuZXh0U2libGluZ1wiICk7XG5cdH0sXG5cdHByZXZBbGw6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdHJldHVybiBkaXIoIGVsZW0sIFwicHJldmlvdXNTaWJsaW5nXCIgKTtcblx0fSxcblx0bmV4dFVudGlsOiBmdW5jdGlvbiggZWxlbSwgaSwgdW50aWwgKSB7XG5cdFx0cmV0dXJuIGRpciggZWxlbSwgXCJuZXh0U2libGluZ1wiLCB1bnRpbCApO1xuXHR9LFxuXHRwcmV2VW50aWw6IGZ1bmN0aW9uKCBlbGVtLCBpLCB1bnRpbCApIHtcblx0XHRyZXR1cm4gZGlyKCBlbGVtLCBcInByZXZpb3VzU2libGluZ1wiLCB1bnRpbCApO1xuXHR9LFxuXHRzaWJsaW5nczogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0cmV0dXJuIHNpYmxpbmdzKCAoIGVsZW0ucGFyZW50Tm9kZSB8fCB7fSApLmZpcnN0Q2hpbGQsIGVsZW0gKTtcblx0fSxcblx0Y2hpbGRyZW46IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdHJldHVybiBzaWJsaW5ncyggZWxlbS5maXJzdENoaWxkICk7XG5cdH0sXG5cdGNvbnRlbnRzOiBmdW5jdGlvbiggZWxlbSApIHtcbiAgICAgICAgaWYgKCBub2RlTmFtZSggZWxlbSwgXCJpZnJhbWVcIiApICkge1xuICAgICAgICAgICAgcmV0dXJuIGVsZW0uY29udGVudERvY3VtZW50O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU3VwcG9ydDogSUUgOSAtIDExIG9ubHksIGlPUyA3IG9ubHksIEFuZHJvaWQgQnJvd3NlciA8PTQuMyBvbmx5XG4gICAgICAgIC8vIFRyZWF0IHRoZSB0ZW1wbGF0ZSBlbGVtZW50IGFzIGEgcmVndWxhciBvbmUgaW4gYnJvd3NlcnMgdGhhdFxuICAgICAgICAvLyBkb24ndCBzdXBwb3J0IGl0LlxuICAgICAgICBpZiAoIG5vZGVOYW1lKCBlbGVtLCBcInRlbXBsYXRlXCIgKSApIHtcbiAgICAgICAgICAgIGVsZW0gPSBlbGVtLmNvbnRlbnQgfHwgZWxlbTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBqUXVlcnkubWVyZ2UoIFtdLCBlbGVtLmNoaWxkTm9kZXMgKTtcblx0fVxufSwgZnVuY3Rpb24oIG5hbWUsIGZuICkge1xuXHRqUXVlcnkuZm5bIG5hbWUgXSA9IGZ1bmN0aW9uKCB1bnRpbCwgc2VsZWN0b3IgKSB7XG5cdFx0dmFyIG1hdGNoZWQgPSBqUXVlcnkubWFwKCB0aGlzLCBmbiwgdW50aWwgKTtcblxuXHRcdGlmICggbmFtZS5zbGljZSggLTUgKSAhPT0gXCJVbnRpbFwiICkge1xuXHRcdFx0c2VsZWN0b3IgPSB1bnRpbDtcblx0XHR9XG5cblx0XHRpZiAoIHNlbGVjdG9yICYmIHR5cGVvZiBzZWxlY3RvciA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdG1hdGNoZWQgPSBqUXVlcnkuZmlsdGVyKCBzZWxlY3RvciwgbWF0Y2hlZCApO1xuXHRcdH1cblxuXHRcdGlmICggdGhpcy5sZW5ndGggPiAxICkge1xuXG5cdFx0XHQvLyBSZW1vdmUgZHVwbGljYXRlc1xuXHRcdFx0aWYgKCAhZ3VhcmFudGVlZFVuaXF1ZVsgbmFtZSBdICkge1xuXHRcdFx0XHRqUXVlcnkudW5pcXVlU29ydCggbWF0Y2hlZCApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBSZXZlcnNlIG9yZGVyIGZvciBwYXJlbnRzKiBhbmQgcHJldi1kZXJpdmF0aXZlc1xuXHRcdFx0aWYgKCBycGFyZW50c3ByZXYudGVzdCggbmFtZSApICkge1xuXHRcdFx0XHRtYXRjaGVkLnJldmVyc2UoKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5wdXNoU3RhY2soIG1hdGNoZWQgKTtcblx0fTtcbn0gKTtcbnZhciBybm90aHRtbHdoaXRlID0gKCAvW15cXHgyMFxcdFxcclxcblxcZl0rL2cgKTtcblxuXG5cbi8vIENvbnZlcnQgU3RyaW5nLWZvcm1hdHRlZCBvcHRpb25zIGludG8gT2JqZWN0LWZvcm1hdHRlZCBvbmVzXG5mdW5jdGlvbiBjcmVhdGVPcHRpb25zKCBvcHRpb25zICkge1xuXHR2YXIgb2JqZWN0ID0ge307XG5cdGpRdWVyeS5lYWNoKCBvcHRpb25zLm1hdGNoKCBybm90aHRtbHdoaXRlICkgfHwgW10sIGZ1bmN0aW9uKCBfLCBmbGFnICkge1xuXHRcdG9iamVjdFsgZmxhZyBdID0gdHJ1ZTtcblx0fSApO1xuXHRyZXR1cm4gb2JqZWN0O1xufVxuXG4vKlxuICogQ3JlYXRlIGEgY2FsbGJhY2sgbGlzdCB1c2luZyB0aGUgZm9sbG93aW5nIHBhcmFtZXRlcnM6XG4gKlxuICpcdG9wdGlvbnM6IGFuIG9wdGlvbmFsIGxpc3Qgb2Ygc3BhY2Utc2VwYXJhdGVkIG9wdGlvbnMgdGhhdCB3aWxsIGNoYW5nZSBob3dcbiAqXHRcdFx0dGhlIGNhbGxiYWNrIGxpc3QgYmVoYXZlcyBvciBhIG1vcmUgdHJhZGl0aW9uYWwgb3B0aW9uIG9iamVjdFxuICpcbiAqIEJ5IGRlZmF1bHQgYSBjYWxsYmFjayBsaXN0IHdpbGwgYWN0IGxpa2UgYW4gZXZlbnQgY2FsbGJhY2sgbGlzdCBhbmQgY2FuIGJlXG4gKiBcImZpcmVkXCIgbXVsdGlwbGUgdGltZXMuXG4gKlxuICogUG9zc2libGUgb3B0aW9uczpcbiAqXG4gKlx0b25jZTpcdFx0XHR3aWxsIGVuc3VyZSB0aGUgY2FsbGJhY2sgbGlzdCBjYW4gb25seSBiZSBmaXJlZCBvbmNlIChsaWtlIGEgRGVmZXJyZWQpXG4gKlxuICpcdG1lbW9yeTpcdFx0XHR3aWxsIGtlZXAgdHJhY2sgb2YgcHJldmlvdXMgdmFsdWVzIGFuZCB3aWxsIGNhbGwgYW55IGNhbGxiYWNrIGFkZGVkXG4gKlx0XHRcdFx0XHRhZnRlciB0aGUgbGlzdCBoYXMgYmVlbiBmaXJlZCByaWdodCBhd2F5IHdpdGggdGhlIGxhdGVzdCBcIm1lbW9yaXplZFwiXG4gKlx0XHRcdFx0XHR2YWx1ZXMgKGxpa2UgYSBEZWZlcnJlZClcbiAqXG4gKlx0dW5pcXVlOlx0XHRcdHdpbGwgZW5zdXJlIGEgY2FsbGJhY2sgY2FuIG9ubHkgYmUgYWRkZWQgb25jZSAobm8gZHVwbGljYXRlIGluIHRoZSBsaXN0KVxuICpcbiAqXHRzdG9wT25GYWxzZTpcdGludGVycnVwdCBjYWxsaW5ncyB3aGVuIGEgY2FsbGJhY2sgcmV0dXJucyBmYWxzZVxuICpcbiAqL1xualF1ZXJ5LkNhbGxiYWNrcyA9IGZ1bmN0aW9uKCBvcHRpb25zICkge1xuXG5cdC8vIENvbnZlcnQgb3B0aW9ucyBmcm9tIFN0cmluZy1mb3JtYXR0ZWQgdG8gT2JqZWN0LWZvcm1hdHRlZCBpZiBuZWVkZWRcblx0Ly8gKHdlIGNoZWNrIGluIGNhY2hlIGZpcnN0KVxuXHRvcHRpb25zID0gdHlwZW9mIG9wdGlvbnMgPT09IFwic3RyaW5nXCIgP1xuXHRcdGNyZWF0ZU9wdGlvbnMoIG9wdGlvbnMgKSA6XG5cdFx0alF1ZXJ5LmV4dGVuZCgge30sIG9wdGlvbnMgKTtcblxuXHR2YXIgLy8gRmxhZyB0byBrbm93IGlmIGxpc3QgaXMgY3VycmVudGx5IGZpcmluZ1xuXHRcdGZpcmluZyxcblxuXHRcdC8vIExhc3QgZmlyZSB2YWx1ZSBmb3Igbm9uLWZvcmdldHRhYmxlIGxpc3RzXG5cdFx0bWVtb3J5LFxuXG5cdFx0Ly8gRmxhZyB0byBrbm93IGlmIGxpc3Qgd2FzIGFscmVhZHkgZmlyZWRcblx0XHRmaXJlZCxcblxuXHRcdC8vIEZsYWcgdG8gcHJldmVudCBmaXJpbmdcblx0XHRsb2NrZWQsXG5cblx0XHQvLyBBY3R1YWwgY2FsbGJhY2sgbGlzdFxuXHRcdGxpc3QgPSBbXSxcblxuXHRcdC8vIFF1ZXVlIG9mIGV4ZWN1dGlvbiBkYXRhIGZvciByZXBlYXRhYmxlIGxpc3RzXG5cdFx0cXVldWUgPSBbXSxcblxuXHRcdC8vIEluZGV4IG9mIGN1cnJlbnRseSBmaXJpbmcgY2FsbGJhY2sgKG1vZGlmaWVkIGJ5IGFkZC9yZW1vdmUgYXMgbmVlZGVkKVxuXHRcdGZpcmluZ0luZGV4ID0gLTEsXG5cblx0XHQvLyBGaXJlIGNhbGxiYWNrc1xuXHRcdGZpcmUgPSBmdW5jdGlvbigpIHtcblxuXHRcdFx0Ly8gRW5mb3JjZSBzaW5nbGUtZmlyaW5nXG5cdFx0XHRsb2NrZWQgPSBsb2NrZWQgfHwgb3B0aW9ucy5vbmNlO1xuXG5cdFx0XHQvLyBFeGVjdXRlIGNhbGxiYWNrcyBmb3IgYWxsIHBlbmRpbmcgZXhlY3V0aW9ucyxcblx0XHRcdC8vIHJlc3BlY3RpbmcgZmlyaW5nSW5kZXggb3ZlcnJpZGVzIGFuZCBydW50aW1lIGNoYW5nZXNcblx0XHRcdGZpcmVkID0gZmlyaW5nID0gdHJ1ZTtcblx0XHRcdGZvciAoIDsgcXVldWUubGVuZ3RoOyBmaXJpbmdJbmRleCA9IC0xICkge1xuXHRcdFx0XHRtZW1vcnkgPSBxdWV1ZS5zaGlmdCgpO1xuXHRcdFx0XHR3aGlsZSAoICsrZmlyaW5nSW5kZXggPCBsaXN0Lmxlbmd0aCApIHtcblxuXHRcdFx0XHRcdC8vIFJ1biBjYWxsYmFjayBhbmQgY2hlY2sgZm9yIGVhcmx5IHRlcm1pbmF0aW9uXG5cdFx0XHRcdFx0aWYgKCBsaXN0WyBmaXJpbmdJbmRleCBdLmFwcGx5KCBtZW1vcnlbIDAgXSwgbWVtb3J5WyAxIF0gKSA9PT0gZmFsc2UgJiZcblx0XHRcdFx0XHRcdG9wdGlvbnMuc3RvcE9uRmFsc2UgKSB7XG5cblx0XHRcdFx0XHRcdC8vIEp1bXAgdG8gZW5kIGFuZCBmb3JnZXQgdGhlIGRhdGEgc28gLmFkZCBkb2Vzbid0IHJlLWZpcmVcblx0XHRcdFx0XHRcdGZpcmluZ0luZGV4ID0gbGlzdC5sZW5ndGg7XG5cdFx0XHRcdFx0XHRtZW1vcnkgPSBmYWxzZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gRm9yZ2V0IHRoZSBkYXRhIGlmIHdlJ3JlIGRvbmUgd2l0aCBpdFxuXHRcdFx0aWYgKCAhb3B0aW9ucy5tZW1vcnkgKSB7XG5cdFx0XHRcdG1lbW9yeSA9IGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHRmaXJpbmcgPSBmYWxzZTtcblxuXHRcdFx0Ly8gQ2xlYW4gdXAgaWYgd2UncmUgZG9uZSBmaXJpbmcgZm9yIGdvb2Rcblx0XHRcdGlmICggbG9ja2VkICkge1xuXG5cdFx0XHRcdC8vIEtlZXAgYW4gZW1wdHkgbGlzdCBpZiB3ZSBoYXZlIGRhdGEgZm9yIGZ1dHVyZSBhZGQgY2FsbHNcblx0XHRcdFx0aWYgKCBtZW1vcnkgKSB7XG5cdFx0XHRcdFx0bGlzdCA9IFtdO1xuXG5cdFx0XHRcdC8vIE90aGVyd2lzZSwgdGhpcyBvYmplY3QgaXMgc3BlbnRcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRsaXN0ID0gXCJcIjtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHQvLyBBY3R1YWwgQ2FsbGJhY2tzIG9iamVjdFxuXHRcdHNlbGYgPSB7XG5cblx0XHRcdC8vIEFkZCBhIGNhbGxiYWNrIG9yIGEgY29sbGVjdGlvbiBvZiBjYWxsYmFja3MgdG8gdGhlIGxpc3Rcblx0XHRcdGFkZDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGlmICggbGlzdCApIHtcblxuXHRcdFx0XHRcdC8vIElmIHdlIGhhdmUgbWVtb3J5IGZyb20gYSBwYXN0IHJ1biwgd2Ugc2hvdWxkIGZpcmUgYWZ0ZXIgYWRkaW5nXG5cdFx0XHRcdFx0aWYgKCBtZW1vcnkgJiYgIWZpcmluZyApIHtcblx0XHRcdFx0XHRcdGZpcmluZ0luZGV4ID0gbGlzdC5sZW5ndGggLSAxO1xuXHRcdFx0XHRcdFx0cXVldWUucHVzaCggbWVtb3J5ICk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0KCBmdW5jdGlvbiBhZGQoIGFyZ3MgKSB7XG5cdFx0XHRcdFx0XHRqUXVlcnkuZWFjaCggYXJncywgZnVuY3Rpb24oIF8sIGFyZyApIHtcblx0XHRcdFx0XHRcdFx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggYXJnICkgKSB7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKCAhb3B0aW9ucy51bmlxdWUgfHwgIXNlbGYuaGFzKCBhcmcgKSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdGxpc3QucHVzaCggYXJnICk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9IGVsc2UgaWYgKCBhcmcgJiYgYXJnLmxlbmd0aCAmJiBqUXVlcnkudHlwZSggYXJnICkgIT09IFwic3RyaW5nXCIgKSB7XG5cblx0XHRcdFx0XHRcdFx0XHQvLyBJbnNwZWN0IHJlY3Vyc2l2ZWx5XG5cdFx0XHRcdFx0XHRcdFx0YWRkKCBhcmcgKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSApO1xuXHRcdFx0XHRcdH0gKSggYXJndW1lbnRzICk7XG5cblx0XHRcdFx0XHRpZiAoIG1lbW9yeSAmJiAhZmlyaW5nICkge1xuXHRcdFx0XHRcdFx0ZmlyZSgpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdH0sXG5cblx0XHRcdC8vIFJlbW92ZSBhIGNhbGxiYWNrIGZyb20gdGhlIGxpc3Rcblx0XHRcdHJlbW92ZTogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGpRdWVyeS5lYWNoKCBhcmd1bWVudHMsIGZ1bmN0aW9uKCBfLCBhcmcgKSB7XG5cdFx0XHRcdFx0dmFyIGluZGV4O1xuXHRcdFx0XHRcdHdoaWxlICggKCBpbmRleCA9IGpRdWVyeS5pbkFycmF5KCBhcmcsIGxpc3QsIGluZGV4ICkgKSA+IC0xICkge1xuXHRcdFx0XHRcdFx0bGlzdC5zcGxpY2UoIGluZGV4LCAxICk7XG5cblx0XHRcdFx0XHRcdC8vIEhhbmRsZSBmaXJpbmcgaW5kZXhlc1xuXHRcdFx0XHRcdFx0aWYgKCBpbmRleCA8PSBmaXJpbmdJbmRleCApIHtcblx0XHRcdFx0XHRcdFx0ZmlyaW5nSW5kZXgtLTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gKTtcblx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHR9LFxuXG5cdFx0XHQvLyBDaGVjayBpZiBhIGdpdmVuIGNhbGxiYWNrIGlzIGluIHRoZSBsaXN0LlxuXHRcdFx0Ly8gSWYgbm8gYXJndW1lbnQgaXMgZ2l2ZW4sIHJldHVybiB3aGV0aGVyIG9yIG5vdCBsaXN0IGhhcyBjYWxsYmFja3MgYXR0YWNoZWQuXG5cdFx0XHRoYXM6IGZ1bmN0aW9uKCBmbiApIHtcblx0XHRcdFx0cmV0dXJuIGZuID9cblx0XHRcdFx0XHRqUXVlcnkuaW5BcnJheSggZm4sIGxpc3QgKSA+IC0xIDpcblx0XHRcdFx0XHRsaXN0Lmxlbmd0aCA+IDA7XG5cdFx0XHR9LFxuXG5cdFx0XHQvLyBSZW1vdmUgYWxsIGNhbGxiYWNrcyBmcm9tIHRoZSBsaXN0XG5cdFx0XHRlbXB0eTogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGlmICggbGlzdCApIHtcblx0XHRcdFx0XHRsaXN0ID0gW107XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHR9LFxuXG5cdFx0XHQvLyBEaXNhYmxlIC5maXJlIGFuZCAuYWRkXG5cdFx0XHQvLyBBYm9ydCBhbnkgY3VycmVudC9wZW5kaW5nIGV4ZWN1dGlvbnNcblx0XHRcdC8vIENsZWFyIGFsbCBjYWxsYmFja3MgYW5kIHZhbHVlc1xuXHRcdFx0ZGlzYWJsZTogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGxvY2tlZCA9IHF1ZXVlID0gW107XG5cdFx0XHRcdGxpc3QgPSBtZW1vcnkgPSBcIlwiO1xuXHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdH0sXG5cdFx0XHRkaXNhYmxlZDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiAhbGlzdDtcblx0XHRcdH0sXG5cblx0XHRcdC8vIERpc2FibGUgLmZpcmVcblx0XHRcdC8vIEFsc28gZGlzYWJsZSAuYWRkIHVubGVzcyB3ZSBoYXZlIG1lbW9yeSAoc2luY2UgaXQgd291bGQgaGF2ZSBubyBlZmZlY3QpXG5cdFx0XHQvLyBBYm9ydCBhbnkgcGVuZGluZyBleGVjdXRpb25zXG5cdFx0XHRsb2NrOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0bG9ja2VkID0gcXVldWUgPSBbXTtcblx0XHRcdFx0aWYgKCAhbWVtb3J5ICYmICFmaXJpbmcgKSB7XG5cdFx0XHRcdFx0bGlzdCA9IG1lbW9yeSA9IFwiXCI7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHR9LFxuXHRcdFx0bG9ja2VkOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuICEhbG9ja2VkO1xuXHRcdFx0fSxcblxuXHRcdFx0Ly8gQ2FsbCBhbGwgY2FsbGJhY2tzIHdpdGggdGhlIGdpdmVuIGNvbnRleHQgYW5kIGFyZ3VtZW50c1xuXHRcdFx0ZmlyZVdpdGg6IGZ1bmN0aW9uKCBjb250ZXh0LCBhcmdzICkge1xuXHRcdFx0XHRpZiAoICFsb2NrZWQgKSB7XG5cdFx0XHRcdFx0YXJncyA9IGFyZ3MgfHwgW107XG5cdFx0XHRcdFx0YXJncyA9IFsgY29udGV4dCwgYXJncy5zbGljZSA/IGFyZ3Muc2xpY2UoKSA6IGFyZ3MgXTtcblx0XHRcdFx0XHRxdWV1ZS5wdXNoKCBhcmdzICk7XG5cdFx0XHRcdFx0aWYgKCAhZmlyaW5nICkge1xuXHRcdFx0XHRcdFx0ZmlyZSgpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdH0sXG5cblx0XHRcdC8vIENhbGwgYWxsIHRoZSBjYWxsYmFja3Mgd2l0aCB0aGUgZ2l2ZW4gYXJndW1lbnRzXG5cdFx0XHRmaXJlOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0c2VsZi5maXJlV2l0aCggdGhpcywgYXJndW1lbnRzICk7XG5cdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0fSxcblxuXHRcdFx0Ly8gVG8ga25vdyBpZiB0aGUgY2FsbGJhY2tzIGhhdmUgYWxyZWFkeSBiZWVuIGNhbGxlZCBhdCBsZWFzdCBvbmNlXG5cdFx0XHRmaXJlZDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiAhIWZpcmVkO1xuXHRcdFx0fVxuXHRcdH07XG5cblx0cmV0dXJuIHNlbGY7XG59O1xuXG5cbmZ1bmN0aW9uIElkZW50aXR5KCB2ICkge1xuXHRyZXR1cm4gdjtcbn1cbmZ1bmN0aW9uIFRocm93ZXIoIGV4ICkge1xuXHR0aHJvdyBleDtcbn1cblxuZnVuY3Rpb24gYWRvcHRWYWx1ZSggdmFsdWUsIHJlc29sdmUsIHJlamVjdCwgbm9WYWx1ZSApIHtcblx0dmFyIG1ldGhvZDtcblxuXHR0cnkge1xuXG5cdFx0Ly8gQ2hlY2sgZm9yIHByb21pc2UgYXNwZWN0IGZpcnN0IHRvIHByaXZpbGVnZSBzeW5jaHJvbm91cyBiZWhhdmlvclxuXHRcdGlmICggdmFsdWUgJiYgalF1ZXJ5LmlzRnVuY3Rpb24oICggbWV0aG9kID0gdmFsdWUucHJvbWlzZSApICkgKSB7XG5cdFx0XHRtZXRob2QuY2FsbCggdmFsdWUgKS5kb25lKCByZXNvbHZlICkuZmFpbCggcmVqZWN0ICk7XG5cblx0XHQvLyBPdGhlciB0aGVuYWJsZXNcblx0XHR9IGVsc2UgaWYgKCB2YWx1ZSAmJiBqUXVlcnkuaXNGdW5jdGlvbiggKCBtZXRob2QgPSB2YWx1ZS50aGVuICkgKSApIHtcblx0XHRcdG1ldGhvZC5jYWxsKCB2YWx1ZSwgcmVzb2x2ZSwgcmVqZWN0ICk7XG5cblx0XHQvLyBPdGhlciBub24tdGhlbmFibGVzXG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0Ly8gQ29udHJvbCBgcmVzb2x2ZWAgYXJndW1lbnRzIGJ5IGxldHRpbmcgQXJyYXkjc2xpY2UgY2FzdCBib29sZWFuIGBub1ZhbHVlYCB0byBpbnRlZ2VyOlxuXHRcdFx0Ly8gKiBmYWxzZTogWyB2YWx1ZSBdLnNsaWNlKCAwICkgPT4gcmVzb2x2ZSggdmFsdWUgKVxuXHRcdFx0Ly8gKiB0cnVlOiBbIHZhbHVlIF0uc2xpY2UoIDEgKSA9PiByZXNvbHZlKClcblx0XHRcdHJlc29sdmUuYXBwbHkoIHVuZGVmaW5lZCwgWyB2YWx1ZSBdLnNsaWNlKCBub1ZhbHVlICkgKTtcblx0XHR9XG5cblx0Ly8gRm9yIFByb21pc2VzL0ErLCBjb252ZXJ0IGV4Y2VwdGlvbnMgaW50byByZWplY3Rpb25zXG5cdC8vIFNpbmNlIGpRdWVyeS53aGVuIGRvZXNuJ3QgdW53cmFwIHRoZW5hYmxlcywgd2UgY2FuIHNraXAgdGhlIGV4dHJhIGNoZWNrcyBhcHBlYXJpbmcgaW5cblx0Ly8gRGVmZXJyZWQjdGhlbiB0byBjb25kaXRpb25hbGx5IHN1cHByZXNzIHJlamVjdGlvbi5cblx0fSBjYXRjaCAoIHZhbHVlICkge1xuXG5cdFx0Ly8gU3VwcG9ydDogQW5kcm9pZCA0LjAgb25seVxuXHRcdC8vIFN0cmljdCBtb2RlIGZ1bmN0aW9ucyBpbnZva2VkIHdpdGhvdXQgLmNhbGwvLmFwcGx5IGdldCBnbG9iYWwtb2JqZWN0IGNvbnRleHRcblx0XHRyZWplY3QuYXBwbHkoIHVuZGVmaW5lZCwgWyB2YWx1ZSBdICk7XG5cdH1cbn1cblxualF1ZXJ5LmV4dGVuZCgge1xuXG5cdERlZmVycmVkOiBmdW5jdGlvbiggZnVuYyApIHtcblx0XHR2YXIgdHVwbGVzID0gW1xuXG5cdFx0XHRcdC8vIGFjdGlvbiwgYWRkIGxpc3RlbmVyLCBjYWxsYmFja3MsXG5cdFx0XHRcdC8vIC4uLiAudGhlbiBoYW5kbGVycywgYXJndW1lbnQgaW5kZXgsIFtmaW5hbCBzdGF0ZV1cblx0XHRcdFx0WyBcIm5vdGlmeVwiLCBcInByb2dyZXNzXCIsIGpRdWVyeS5DYWxsYmFja3MoIFwibWVtb3J5XCIgKSxcblx0XHRcdFx0XHRqUXVlcnkuQ2FsbGJhY2tzKCBcIm1lbW9yeVwiICksIDIgXSxcblx0XHRcdFx0WyBcInJlc29sdmVcIiwgXCJkb25lXCIsIGpRdWVyeS5DYWxsYmFja3MoIFwib25jZSBtZW1vcnlcIiApLFxuXHRcdFx0XHRcdGpRdWVyeS5DYWxsYmFja3MoIFwib25jZSBtZW1vcnlcIiApLCAwLCBcInJlc29sdmVkXCIgXSxcblx0XHRcdFx0WyBcInJlamVjdFwiLCBcImZhaWxcIiwgalF1ZXJ5LkNhbGxiYWNrcyggXCJvbmNlIG1lbW9yeVwiICksXG5cdFx0XHRcdFx0alF1ZXJ5LkNhbGxiYWNrcyggXCJvbmNlIG1lbW9yeVwiICksIDEsIFwicmVqZWN0ZWRcIiBdXG5cdFx0XHRdLFxuXHRcdFx0c3RhdGUgPSBcInBlbmRpbmdcIixcblx0XHRcdHByb21pc2UgPSB7XG5cdFx0XHRcdHN0YXRlOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRyZXR1cm4gc3RhdGU7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdGFsd2F5czogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0ZGVmZXJyZWQuZG9uZSggYXJndW1lbnRzICkuZmFpbCggYXJndW1lbnRzICk7XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdFwiY2F0Y2hcIjogZnVuY3Rpb24oIGZuICkge1xuXHRcdFx0XHRcdHJldHVybiBwcm9taXNlLnRoZW4oIG51bGwsIGZuICk7XG5cdFx0XHRcdH0sXG5cblx0XHRcdFx0Ly8gS2VlcCBwaXBlIGZvciBiYWNrLWNvbXBhdFxuXHRcdFx0XHRwaXBlOiBmdW5jdGlvbiggLyogZm5Eb25lLCBmbkZhaWwsIGZuUHJvZ3Jlc3MgKi8gKSB7XG5cdFx0XHRcdFx0dmFyIGZucyA9IGFyZ3VtZW50cztcblxuXHRcdFx0XHRcdHJldHVybiBqUXVlcnkuRGVmZXJyZWQoIGZ1bmN0aW9uKCBuZXdEZWZlciApIHtcblx0XHRcdFx0XHRcdGpRdWVyeS5lYWNoKCB0dXBsZXMsIGZ1bmN0aW9uKCBpLCB0dXBsZSApIHtcblxuXHRcdFx0XHRcdFx0XHQvLyBNYXAgdHVwbGVzIChwcm9ncmVzcywgZG9uZSwgZmFpbCkgdG8gYXJndW1lbnRzIChkb25lLCBmYWlsLCBwcm9ncmVzcylcblx0XHRcdFx0XHRcdFx0dmFyIGZuID0galF1ZXJ5LmlzRnVuY3Rpb24oIGZuc1sgdHVwbGVbIDQgXSBdICkgJiYgZm5zWyB0dXBsZVsgNCBdIF07XG5cblx0XHRcdFx0XHRcdFx0Ly8gZGVmZXJyZWQucHJvZ3Jlc3MoZnVuY3Rpb24oKSB7IGJpbmQgdG8gbmV3RGVmZXIgb3IgbmV3RGVmZXIubm90aWZ5IH0pXG5cdFx0XHRcdFx0XHRcdC8vIGRlZmVycmVkLmRvbmUoZnVuY3Rpb24oKSB7IGJpbmQgdG8gbmV3RGVmZXIgb3IgbmV3RGVmZXIucmVzb2x2ZSB9KVxuXHRcdFx0XHRcdFx0XHQvLyBkZWZlcnJlZC5mYWlsKGZ1bmN0aW9uKCkgeyBiaW5kIHRvIG5ld0RlZmVyIG9yIG5ld0RlZmVyLnJlamVjdCB9KVxuXHRcdFx0XHRcdFx0XHRkZWZlcnJlZFsgdHVwbGVbIDEgXSBdKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0XHR2YXIgcmV0dXJuZWQgPSBmbiAmJiBmbi5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKCByZXR1cm5lZCAmJiBqUXVlcnkuaXNGdW5jdGlvbiggcmV0dXJuZWQucHJvbWlzZSApICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuZWQucHJvbWlzZSgpXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC5wcm9ncmVzcyggbmV3RGVmZXIubm90aWZ5IClcblx0XHRcdFx0XHRcdFx0XHRcdFx0LmRvbmUoIG5ld0RlZmVyLnJlc29sdmUgKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQuZmFpbCggbmV3RGVmZXIucmVqZWN0ICk7XG5cdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRcdG5ld0RlZmVyWyB0dXBsZVsgMCBdICsgXCJXaXRoXCIgXShcblx0XHRcdFx0XHRcdFx0XHRcdFx0dGhpcyxcblx0XHRcdFx0XHRcdFx0XHRcdFx0Zm4gPyBbIHJldHVybmVkIF0gOiBhcmd1bWVudHNcblx0XHRcdFx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0XHRmbnMgPSBudWxsO1xuXHRcdFx0XHRcdH0gKS5wcm9taXNlKCk7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdHRoZW46IGZ1bmN0aW9uKCBvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCwgb25Qcm9ncmVzcyApIHtcblx0XHRcdFx0XHR2YXIgbWF4RGVwdGggPSAwO1xuXHRcdFx0XHRcdGZ1bmN0aW9uIHJlc29sdmUoIGRlcHRoLCBkZWZlcnJlZCwgaGFuZGxlciwgc3BlY2lhbCApIHtcblx0XHRcdFx0XHRcdHJldHVybiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0dmFyIHRoYXQgPSB0aGlzLFxuXHRcdFx0XHRcdFx0XHRcdGFyZ3MgPSBhcmd1bWVudHMsXG5cdFx0XHRcdFx0XHRcdFx0bWlnaHRUaHJvdyA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0dmFyIHJldHVybmVkLCB0aGVuO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBQcm9taXNlcy9BKyBzZWN0aW9uIDIuMy4zLjMuM1xuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gaHR0cHM6Ly9wcm9taXNlc2FwbHVzLmNvbS8jcG9pbnQtNTlcblx0XHRcdFx0XHRcdFx0XHRcdC8vIElnbm9yZSBkb3VibGUtcmVzb2x1dGlvbiBhdHRlbXB0c1xuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKCBkZXB0aCA8IG1heERlcHRoICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybmVkID0gaGFuZGxlci5hcHBseSggdGhhdCwgYXJncyApO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBQcm9taXNlcy9BKyBzZWN0aW9uIDIuMy4xXG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBodHRwczovL3Byb21pc2VzYXBsdXMuY29tLyNwb2ludC00OFxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKCByZXR1cm5lZCA9PT0gZGVmZXJyZWQucHJvbWlzZSgpICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCBcIlRoZW5hYmxlIHNlbGYtcmVzb2x1dGlvblwiICk7XG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IFByb21pc2VzL0ErIHNlY3Rpb25zIDIuMy4zLjEsIDMuNVxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gaHR0cHM6Ly9wcm9taXNlc2FwbHVzLmNvbS8jcG9pbnQtNTRcblx0XHRcdFx0XHRcdFx0XHRcdC8vIGh0dHBzOi8vcHJvbWlzZXNhcGx1cy5jb20vI3BvaW50LTc1XG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBSZXRyaWV2ZSBgdGhlbmAgb25seSBvbmNlXG5cdFx0XHRcdFx0XHRcdFx0XHR0aGVuID0gcmV0dXJuZWQgJiZcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBQcm9taXNlcy9BKyBzZWN0aW9uIDIuMy40XG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8vIGh0dHBzOi8vcHJvbWlzZXNhcGx1cy5jb20vI3BvaW50LTY0XG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8vIE9ubHkgY2hlY2sgb2JqZWN0cyBhbmQgZnVuY3Rpb25zIGZvciB0aGVuYWJpbGl0eVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQoIHR5cGVvZiByZXR1cm5lZCA9PT0gXCJvYmplY3RcIiB8fFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHR5cGVvZiByZXR1cm5lZCA9PT0gXCJmdW5jdGlvblwiICkgJiZcblx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuZWQudGhlbjtcblxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gSGFuZGxlIGEgcmV0dXJuZWQgdGhlbmFibGVcblx0XHRcdFx0XHRcdFx0XHRcdGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIHRoZW4gKSApIHtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBTcGVjaWFsIHByb2Nlc3NvcnMgKG5vdGlmeSkganVzdCB3YWl0IGZvciByZXNvbHV0aW9uXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmICggc3BlY2lhbCApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0aGVuLmNhbGwoXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm5lZCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJlc29sdmUoIG1heERlcHRoLCBkZWZlcnJlZCwgSWRlbnRpdHksIHNwZWNpYWwgKSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJlc29sdmUoIG1heERlcHRoLCBkZWZlcnJlZCwgVGhyb3dlciwgc3BlY2lhbCApXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0KTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBOb3JtYWwgcHJvY2Vzc29ycyAocmVzb2x2ZSkgYWxzbyBob29rIGludG8gcHJvZ3Jlc3Ncblx0XHRcdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIC4uLmFuZCBkaXNyZWdhcmQgb2xkZXIgcmVzb2x1dGlvbiB2YWx1ZXNcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRtYXhEZXB0aCsrO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGhlbi5jYWxsKFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuZWQsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXNvbHZlKCBtYXhEZXB0aCwgZGVmZXJyZWQsIElkZW50aXR5LCBzcGVjaWFsICksXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXNvbHZlKCBtYXhEZXB0aCwgZGVmZXJyZWQsIFRocm93ZXIsIHNwZWNpYWwgKSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJlc29sdmUoIG1heERlcHRoLCBkZWZlcnJlZCwgSWRlbnRpdHksXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGRlZmVycmVkLm5vdGlmeVdpdGggKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gSGFuZGxlIGFsbCBvdGhlciByZXR1cm5lZCB2YWx1ZXNcblx0XHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gT25seSBzdWJzdGl0dXRlIGhhbmRsZXJzIHBhc3Mgb24gY29udGV4dFxuXHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBhbmQgbXVsdGlwbGUgdmFsdWVzIChub24tc3BlYyBiZWhhdmlvcilcblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKCBoYW5kbGVyICE9PSBJZGVudGl0eSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0aGF0ID0gdW5kZWZpbmVkO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGFyZ3MgPSBbIHJldHVybmVkIF07XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBQcm9jZXNzIHRoZSB2YWx1ZShzKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBEZWZhdWx0IHByb2Nlc3MgaXMgcmVzb2x2ZVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQoIHNwZWNpYWwgfHwgZGVmZXJyZWQucmVzb2x2ZVdpdGggKSggdGhhdCwgYXJncyApO1xuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdH0sXG5cblx0XHRcdFx0XHRcdFx0XHQvLyBPbmx5IG5vcm1hbCBwcm9jZXNzb3JzIChyZXNvbHZlKSBjYXRjaCBhbmQgcmVqZWN0IGV4Y2VwdGlvbnNcblx0XHRcdFx0XHRcdFx0XHRwcm9jZXNzID0gc3BlY2lhbCA/XG5cdFx0XHRcdFx0XHRcdFx0XHRtaWdodFRocm93IDpcblx0XHRcdFx0XHRcdFx0XHRcdGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdG1pZ2h0VGhyb3coKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0fSBjYXRjaCAoIGUgKSB7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoIGpRdWVyeS5EZWZlcnJlZC5leGNlcHRpb25Ib29rICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0alF1ZXJ5LkRlZmVycmVkLmV4Y2VwdGlvbkhvb2soIGUsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHByb2Nlc3Muc3RhY2tUcmFjZSApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IFByb21pc2VzL0ErIHNlY3Rpb24gMi4zLjMuMy40LjFcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBodHRwczovL3Byb21pc2VzYXBsdXMuY29tLyNwb2ludC02MVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIElnbm9yZSBwb3N0LXJlc29sdXRpb24gZXhjZXB0aW9uc1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmICggZGVwdGggKyAxID49IG1heERlcHRoICkge1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBPbmx5IHN1YnN0aXR1dGUgaGFuZGxlcnMgcGFzcyBvbiBjb250ZXh0XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBhbmQgbXVsdGlwbGUgdmFsdWVzIChub24tc3BlYyBiZWhhdmlvcilcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmICggaGFuZGxlciAhPT0gVGhyb3dlciApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGhhdCA9IHVuZGVmaW5lZDtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0YXJncyA9IFsgZSBdO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRkZWZlcnJlZC5yZWplY3RXaXRoKCB0aGF0LCBhcmdzICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHR9O1xuXG5cdFx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IFByb21pc2VzL0ErIHNlY3Rpb24gMi4zLjMuMy4xXG5cdFx0XHRcdFx0XHRcdC8vIGh0dHBzOi8vcHJvbWlzZXNhcGx1cy5jb20vI3BvaW50LTU3XG5cdFx0XHRcdFx0XHRcdC8vIFJlLXJlc29sdmUgcHJvbWlzZXMgaW1tZWRpYXRlbHkgdG8gZG9kZ2UgZmFsc2UgcmVqZWN0aW9uIGZyb21cblx0XHRcdFx0XHRcdFx0Ly8gc3Vic2VxdWVudCBlcnJvcnNcblx0XHRcdFx0XHRcdFx0aWYgKCBkZXB0aCApIHtcblx0XHRcdFx0XHRcdFx0XHRwcm9jZXNzKCk7XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHRcdFx0XHQvLyBDYWxsIGFuIG9wdGlvbmFsIGhvb2sgdG8gcmVjb3JkIHRoZSBzdGFjaywgaW4gY2FzZSBvZiBleGNlcHRpb25cblx0XHRcdFx0XHRcdFx0XHQvLyBzaW5jZSBpdCdzIG90aGVyd2lzZSBsb3N0IHdoZW4gZXhlY3V0aW9uIGdvZXMgYXN5bmNcblx0XHRcdFx0XHRcdFx0XHRpZiAoIGpRdWVyeS5EZWZlcnJlZC5nZXRTdGFja0hvb2sgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRwcm9jZXNzLnN0YWNrVHJhY2UgPSBqUXVlcnkuRGVmZXJyZWQuZ2V0U3RhY2tIb29rKCk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdHdpbmRvdy5zZXRUaW1lb3V0KCBwcm9jZXNzICk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIGpRdWVyeS5EZWZlcnJlZCggZnVuY3Rpb24oIG5ld0RlZmVyICkge1xuXG5cdFx0XHRcdFx0XHQvLyBwcm9ncmVzc19oYW5kbGVycy5hZGQoIC4uLiApXG5cdFx0XHRcdFx0XHR0dXBsZXNbIDAgXVsgMyBdLmFkZChcblx0XHRcdFx0XHRcdFx0cmVzb2x2ZShcblx0XHRcdFx0XHRcdFx0XHQwLFxuXHRcdFx0XHRcdFx0XHRcdG5ld0RlZmVyLFxuXHRcdFx0XHRcdFx0XHRcdGpRdWVyeS5pc0Z1bmN0aW9uKCBvblByb2dyZXNzICkgP1xuXHRcdFx0XHRcdFx0XHRcdFx0b25Qcm9ncmVzcyA6XG5cdFx0XHRcdFx0XHRcdFx0XHRJZGVudGl0eSxcblx0XHRcdFx0XHRcdFx0XHRuZXdEZWZlci5ub3RpZnlXaXRoXG5cdFx0XHRcdFx0XHRcdClcblx0XHRcdFx0XHRcdCk7XG5cblx0XHRcdFx0XHRcdC8vIGZ1bGZpbGxlZF9oYW5kbGVycy5hZGQoIC4uLiApXG5cdFx0XHRcdFx0XHR0dXBsZXNbIDEgXVsgMyBdLmFkZChcblx0XHRcdFx0XHRcdFx0cmVzb2x2ZShcblx0XHRcdFx0XHRcdFx0XHQwLFxuXHRcdFx0XHRcdFx0XHRcdG5ld0RlZmVyLFxuXHRcdFx0XHRcdFx0XHRcdGpRdWVyeS5pc0Z1bmN0aW9uKCBvbkZ1bGZpbGxlZCApID9cblx0XHRcdFx0XHRcdFx0XHRcdG9uRnVsZmlsbGVkIDpcblx0XHRcdFx0XHRcdFx0XHRcdElkZW50aXR5XG5cdFx0XHRcdFx0XHRcdClcblx0XHRcdFx0XHRcdCk7XG5cblx0XHRcdFx0XHRcdC8vIHJlamVjdGVkX2hhbmRsZXJzLmFkZCggLi4uIClcblx0XHRcdFx0XHRcdHR1cGxlc1sgMiBdWyAzIF0uYWRkKFxuXHRcdFx0XHRcdFx0XHRyZXNvbHZlKFxuXHRcdFx0XHRcdFx0XHRcdDAsXG5cdFx0XHRcdFx0XHRcdFx0bmV3RGVmZXIsXG5cdFx0XHRcdFx0XHRcdFx0alF1ZXJ5LmlzRnVuY3Rpb24oIG9uUmVqZWN0ZWQgKSA/XG5cdFx0XHRcdFx0XHRcdFx0XHRvblJlamVjdGVkIDpcblx0XHRcdFx0XHRcdFx0XHRcdFRocm93ZXJcblx0XHRcdFx0XHRcdFx0KVxuXHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHR9ICkucHJvbWlzZSgpO1xuXHRcdFx0XHR9LFxuXG5cdFx0XHRcdC8vIEdldCBhIHByb21pc2UgZm9yIHRoaXMgZGVmZXJyZWRcblx0XHRcdFx0Ly8gSWYgb2JqIGlzIHByb3ZpZGVkLCB0aGUgcHJvbWlzZSBhc3BlY3QgaXMgYWRkZWQgdG8gdGhlIG9iamVjdFxuXHRcdFx0XHRwcm9taXNlOiBmdW5jdGlvbiggb2JqICkge1xuXHRcdFx0XHRcdHJldHVybiBvYmogIT0gbnVsbCA/IGpRdWVyeS5leHRlbmQoIG9iaiwgcHJvbWlzZSApIDogcHJvbWlzZTtcblx0XHRcdFx0fVxuXHRcdFx0fSxcblx0XHRcdGRlZmVycmVkID0ge307XG5cblx0XHQvLyBBZGQgbGlzdC1zcGVjaWZpYyBtZXRob2RzXG5cdFx0alF1ZXJ5LmVhY2goIHR1cGxlcywgZnVuY3Rpb24oIGksIHR1cGxlICkge1xuXHRcdFx0dmFyIGxpc3QgPSB0dXBsZVsgMiBdLFxuXHRcdFx0XHRzdGF0ZVN0cmluZyA9IHR1cGxlWyA1IF07XG5cblx0XHRcdC8vIHByb21pc2UucHJvZ3Jlc3MgPSBsaXN0LmFkZFxuXHRcdFx0Ly8gcHJvbWlzZS5kb25lID0gbGlzdC5hZGRcblx0XHRcdC8vIHByb21pc2UuZmFpbCA9IGxpc3QuYWRkXG5cdFx0XHRwcm9taXNlWyB0dXBsZVsgMSBdIF0gPSBsaXN0LmFkZDtcblxuXHRcdFx0Ly8gSGFuZGxlIHN0YXRlXG5cdFx0XHRpZiAoIHN0YXRlU3RyaW5nICkge1xuXHRcdFx0XHRsaXN0LmFkZChcblx0XHRcdFx0XHRmdW5jdGlvbigpIHtcblxuXHRcdFx0XHRcdFx0Ly8gc3RhdGUgPSBcInJlc29sdmVkXCIgKGkuZS4sIGZ1bGZpbGxlZClcblx0XHRcdFx0XHRcdC8vIHN0YXRlID0gXCJyZWplY3RlZFwiXG5cdFx0XHRcdFx0XHRzdGF0ZSA9IHN0YXRlU3RyaW5nO1xuXHRcdFx0XHRcdH0sXG5cblx0XHRcdFx0XHQvLyByZWplY3RlZF9jYWxsYmFja3MuZGlzYWJsZVxuXHRcdFx0XHRcdC8vIGZ1bGZpbGxlZF9jYWxsYmFja3MuZGlzYWJsZVxuXHRcdFx0XHRcdHR1cGxlc1sgMyAtIGkgXVsgMiBdLmRpc2FibGUsXG5cblx0XHRcdFx0XHQvLyBwcm9ncmVzc19jYWxsYmFja3MubG9ja1xuXHRcdFx0XHRcdHR1cGxlc1sgMCBdWyAyIF0ubG9ja1xuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBwcm9ncmVzc19oYW5kbGVycy5maXJlXG5cdFx0XHQvLyBmdWxmaWxsZWRfaGFuZGxlcnMuZmlyZVxuXHRcdFx0Ly8gcmVqZWN0ZWRfaGFuZGxlcnMuZmlyZVxuXHRcdFx0bGlzdC5hZGQoIHR1cGxlWyAzIF0uZmlyZSApO1xuXG5cdFx0XHQvLyBkZWZlcnJlZC5ub3RpZnkgPSBmdW5jdGlvbigpIHsgZGVmZXJyZWQubm90aWZ5V2l0aCguLi4pIH1cblx0XHRcdC8vIGRlZmVycmVkLnJlc29sdmUgPSBmdW5jdGlvbigpIHsgZGVmZXJyZWQucmVzb2x2ZVdpdGgoLi4uKSB9XG5cdFx0XHQvLyBkZWZlcnJlZC5yZWplY3QgPSBmdW5jdGlvbigpIHsgZGVmZXJyZWQucmVqZWN0V2l0aCguLi4pIH1cblx0XHRcdGRlZmVycmVkWyB0dXBsZVsgMCBdIF0gPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0ZGVmZXJyZWRbIHR1cGxlWyAwIF0gKyBcIldpdGhcIiBdKCB0aGlzID09PSBkZWZlcnJlZCA/IHVuZGVmaW5lZCA6IHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdH07XG5cblx0XHRcdC8vIGRlZmVycmVkLm5vdGlmeVdpdGggPSBsaXN0LmZpcmVXaXRoXG5cdFx0XHQvLyBkZWZlcnJlZC5yZXNvbHZlV2l0aCA9IGxpc3QuZmlyZVdpdGhcblx0XHRcdC8vIGRlZmVycmVkLnJlamVjdFdpdGggPSBsaXN0LmZpcmVXaXRoXG5cdFx0XHRkZWZlcnJlZFsgdHVwbGVbIDAgXSArIFwiV2l0aFwiIF0gPSBsaXN0LmZpcmVXaXRoO1xuXHRcdH0gKTtcblxuXHRcdC8vIE1ha2UgdGhlIGRlZmVycmVkIGEgcHJvbWlzZVxuXHRcdHByb21pc2UucHJvbWlzZSggZGVmZXJyZWQgKTtcblxuXHRcdC8vIENhbGwgZ2l2ZW4gZnVuYyBpZiBhbnlcblx0XHRpZiAoIGZ1bmMgKSB7XG5cdFx0XHRmdW5jLmNhbGwoIGRlZmVycmVkLCBkZWZlcnJlZCApO1xuXHRcdH1cblxuXHRcdC8vIEFsbCBkb25lIVxuXHRcdHJldHVybiBkZWZlcnJlZDtcblx0fSxcblxuXHQvLyBEZWZlcnJlZCBoZWxwZXJcblx0d2hlbjogZnVuY3Rpb24oIHNpbmdsZVZhbHVlICkge1xuXHRcdHZhclxuXG5cdFx0XHQvLyBjb3VudCBvZiB1bmNvbXBsZXRlZCBzdWJvcmRpbmF0ZXNcblx0XHRcdHJlbWFpbmluZyA9IGFyZ3VtZW50cy5sZW5ndGgsXG5cblx0XHRcdC8vIGNvdW50IG9mIHVucHJvY2Vzc2VkIGFyZ3VtZW50c1xuXHRcdFx0aSA9IHJlbWFpbmluZyxcblxuXHRcdFx0Ly8gc3Vib3JkaW5hdGUgZnVsZmlsbG1lbnQgZGF0YVxuXHRcdFx0cmVzb2x2ZUNvbnRleHRzID0gQXJyYXkoIGkgKSxcblx0XHRcdHJlc29sdmVWYWx1ZXMgPSBzbGljZS5jYWxsKCBhcmd1bWVudHMgKSxcblxuXHRcdFx0Ly8gdGhlIG1hc3RlciBEZWZlcnJlZFxuXHRcdFx0bWFzdGVyID0galF1ZXJ5LkRlZmVycmVkKCksXG5cblx0XHRcdC8vIHN1Ym9yZGluYXRlIGNhbGxiYWNrIGZhY3Rvcnlcblx0XHRcdHVwZGF0ZUZ1bmMgPSBmdW5jdGlvbiggaSApIHtcblx0XHRcdFx0cmV0dXJuIGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHRcdFx0XHRyZXNvbHZlQ29udGV4dHNbIGkgXSA9IHRoaXM7XG5cdFx0XHRcdFx0cmVzb2x2ZVZhbHVlc1sgaSBdID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBzbGljZS5jYWxsKCBhcmd1bWVudHMgKSA6IHZhbHVlO1xuXHRcdFx0XHRcdGlmICggISggLS1yZW1haW5pbmcgKSApIHtcblx0XHRcdFx0XHRcdG1hc3Rlci5yZXNvbHZlV2l0aCggcmVzb2x2ZUNvbnRleHRzLCByZXNvbHZlVmFsdWVzICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9O1xuXHRcdFx0fTtcblxuXHRcdC8vIFNpbmdsZS0gYW5kIGVtcHR5IGFyZ3VtZW50cyBhcmUgYWRvcHRlZCBsaWtlIFByb21pc2UucmVzb2x2ZVxuXHRcdGlmICggcmVtYWluaW5nIDw9IDEgKSB7XG5cdFx0XHRhZG9wdFZhbHVlKCBzaW5nbGVWYWx1ZSwgbWFzdGVyLmRvbmUoIHVwZGF0ZUZ1bmMoIGkgKSApLnJlc29sdmUsIG1hc3Rlci5yZWplY3QsXG5cdFx0XHRcdCFyZW1haW5pbmcgKTtcblxuXHRcdFx0Ly8gVXNlIC50aGVuKCkgdG8gdW53cmFwIHNlY29uZGFyeSB0aGVuYWJsZXMgKGNmLiBnaC0zMDAwKVxuXHRcdFx0aWYgKCBtYXN0ZXIuc3RhdGUoKSA9PT0gXCJwZW5kaW5nXCIgfHxcblx0XHRcdFx0alF1ZXJ5LmlzRnVuY3Rpb24oIHJlc29sdmVWYWx1ZXNbIGkgXSAmJiByZXNvbHZlVmFsdWVzWyBpIF0udGhlbiApICkge1xuXG5cdFx0XHRcdHJldHVybiBtYXN0ZXIudGhlbigpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIE11bHRpcGxlIGFyZ3VtZW50cyBhcmUgYWdncmVnYXRlZCBsaWtlIFByb21pc2UuYWxsIGFycmF5IGVsZW1lbnRzXG5cdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRhZG9wdFZhbHVlKCByZXNvbHZlVmFsdWVzWyBpIF0sIHVwZGF0ZUZ1bmMoIGkgKSwgbWFzdGVyLnJlamVjdCApO1xuXHRcdH1cblxuXHRcdHJldHVybiBtYXN0ZXIucHJvbWlzZSgpO1xuXHR9XG59ICk7XG5cblxuLy8gVGhlc2UgdXN1YWxseSBpbmRpY2F0ZSBhIHByb2dyYW1tZXIgbWlzdGFrZSBkdXJpbmcgZGV2ZWxvcG1lbnQsXG4vLyB3YXJuIGFib3V0IHRoZW0gQVNBUCByYXRoZXIgdGhhbiBzd2FsbG93aW5nIHRoZW0gYnkgZGVmYXVsdC5cbnZhciByZXJyb3JOYW1lcyA9IC9eKEV2YWx8SW50ZXJuYWx8UmFuZ2V8UmVmZXJlbmNlfFN5bnRheHxUeXBlfFVSSSlFcnJvciQvO1xuXG5qUXVlcnkuRGVmZXJyZWQuZXhjZXB0aW9uSG9vayA9IGZ1bmN0aW9uKCBlcnJvciwgc3RhY2sgKSB7XG5cblx0Ly8gU3VwcG9ydDogSUUgOCAtIDkgb25seVxuXHQvLyBDb25zb2xlIGV4aXN0cyB3aGVuIGRldiB0b29scyBhcmUgb3Blbiwgd2hpY2ggY2FuIGhhcHBlbiBhdCBhbnkgdGltZVxuXHRpZiAoIHdpbmRvdy5jb25zb2xlICYmIHdpbmRvdy5jb25zb2xlLndhcm4gJiYgZXJyb3IgJiYgcmVycm9yTmFtZXMudGVzdCggZXJyb3IubmFtZSApICkge1xuXHRcdHdpbmRvdy5jb25zb2xlLndhcm4oIFwialF1ZXJ5LkRlZmVycmVkIGV4Y2VwdGlvbjogXCIgKyBlcnJvci5tZXNzYWdlLCBlcnJvci5zdGFjaywgc3RhY2sgKTtcblx0fVxufTtcblxuXG5cblxualF1ZXJ5LnJlYWR5RXhjZXB0aW9uID0gZnVuY3Rpb24oIGVycm9yICkge1xuXHR3aW5kb3cuc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cdFx0dGhyb3cgZXJyb3I7XG5cdH0gKTtcbn07XG5cblxuXG5cbi8vIFRoZSBkZWZlcnJlZCB1c2VkIG9uIERPTSByZWFkeVxudmFyIHJlYWR5TGlzdCA9IGpRdWVyeS5EZWZlcnJlZCgpO1xuXG5qUXVlcnkuZm4ucmVhZHkgPSBmdW5jdGlvbiggZm4gKSB7XG5cblx0cmVhZHlMaXN0XG5cdFx0LnRoZW4oIGZuIClcblxuXHRcdC8vIFdyYXAgalF1ZXJ5LnJlYWR5RXhjZXB0aW9uIGluIGEgZnVuY3Rpb24gc28gdGhhdCB0aGUgbG9va3VwXG5cdFx0Ly8gaGFwcGVucyBhdCB0aGUgdGltZSBvZiBlcnJvciBoYW5kbGluZyBpbnN0ZWFkIG9mIGNhbGxiYWNrXG5cdFx0Ly8gcmVnaXN0cmF0aW9uLlxuXHRcdC5jYXRjaCggZnVuY3Rpb24oIGVycm9yICkge1xuXHRcdFx0alF1ZXJ5LnJlYWR5RXhjZXB0aW9uKCBlcnJvciApO1xuXHRcdH0gKTtcblxuXHRyZXR1cm4gdGhpcztcbn07XG5cbmpRdWVyeS5leHRlbmQoIHtcblxuXHQvLyBJcyB0aGUgRE9NIHJlYWR5IHRvIGJlIHVzZWQ/IFNldCB0byB0cnVlIG9uY2UgaXQgb2NjdXJzLlxuXHRpc1JlYWR5OiBmYWxzZSxcblxuXHQvLyBBIGNvdW50ZXIgdG8gdHJhY2sgaG93IG1hbnkgaXRlbXMgdG8gd2FpdCBmb3IgYmVmb3JlXG5cdC8vIHRoZSByZWFkeSBldmVudCBmaXJlcy4gU2VlICM2NzgxXG5cdHJlYWR5V2FpdDogMSxcblxuXHQvLyBIYW5kbGUgd2hlbiB0aGUgRE9NIGlzIHJlYWR5XG5cdHJlYWR5OiBmdW5jdGlvbiggd2FpdCApIHtcblxuXHRcdC8vIEFib3J0IGlmIHRoZXJlIGFyZSBwZW5kaW5nIGhvbGRzIG9yIHdlJ3JlIGFscmVhZHkgcmVhZHlcblx0XHRpZiAoIHdhaXQgPT09IHRydWUgPyAtLWpRdWVyeS5yZWFkeVdhaXQgOiBqUXVlcnkuaXNSZWFkeSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBSZW1lbWJlciB0aGF0IHRoZSBET00gaXMgcmVhZHlcblx0XHRqUXVlcnkuaXNSZWFkeSA9IHRydWU7XG5cblx0XHQvLyBJZiBhIG5vcm1hbCBET00gUmVhZHkgZXZlbnQgZmlyZWQsIGRlY3JlbWVudCwgYW5kIHdhaXQgaWYgbmVlZCBiZVxuXHRcdGlmICggd2FpdCAhPT0gdHJ1ZSAmJiAtLWpRdWVyeS5yZWFkeVdhaXQgPiAwICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIElmIHRoZXJlIGFyZSBmdW5jdGlvbnMgYm91bmQsIHRvIGV4ZWN1dGVcblx0XHRyZWFkeUxpc3QucmVzb2x2ZVdpdGgoIGRvY3VtZW50LCBbIGpRdWVyeSBdICk7XG5cdH1cbn0gKTtcblxualF1ZXJ5LnJlYWR5LnRoZW4gPSByZWFkeUxpc3QudGhlbjtcblxuLy8gVGhlIHJlYWR5IGV2ZW50IGhhbmRsZXIgYW5kIHNlbGYgY2xlYW51cCBtZXRob2RcbmZ1bmN0aW9uIGNvbXBsZXRlZCgpIHtcblx0ZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lciggXCJET01Db250ZW50TG9hZGVkXCIsIGNvbXBsZXRlZCApO1xuXHR3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lciggXCJsb2FkXCIsIGNvbXBsZXRlZCApO1xuXHRqUXVlcnkucmVhZHkoKTtcbn1cblxuLy8gQ2F0Y2ggY2FzZXMgd2hlcmUgJChkb2N1bWVudCkucmVhZHkoKSBpcyBjYWxsZWRcbi8vIGFmdGVyIHRoZSBicm93c2VyIGV2ZW50IGhhcyBhbHJlYWR5IG9jY3VycmVkLlxuLy8gU3VwcG9ydDogSUUgPD05IC0gMTAgb25seVxuLy8gT2xkZXIgSUUgc29tZXRpbWVzIHNpZ25hbHMgXCJpbnRlcmFjdGl2ZVwiIHRvbyBzb29uXG5pZiAoIGRvY3VtZW50LnJlYWR5U3RhdGUgPT09IFwiY29tcGxldGVcIiB8fFxuXHQoIGRvY3VtZW50LnJlYWR5U3RhdGUgIT09IFwibG9hZGluZ1wiICYmICFkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZG9TY3JvbGwgKSApIHtcblxuXHQvLyBIYW5kbGUgaXQgYXN5bmNocm9ub3VzbHkgdG8gYWxsb3cgc2NyaXB0cyB0aGUgb3Bwb3J0dW5pdHkgdG8gZGVsYXkgcmVhZHlcblx0d2luZG93LnNldFRpbWVvdXQoIGpRdWVyeS5yZWFkeSApO1xuXG59IGVsc2Uge1xuXG5cdC8vIFVzZSB0aGUgaGFuZHkgZXZlbnQgY2FsbGJhY2tcblx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggXCJET01Db250ZW50TG9hZGVkXCIsIGNvbXBsZXRlZCApO1xuXG5cdC8vIEEgZmFsbGJhY2sgdG8gd2luZG93Lm9ubG9hZCwgdGhhdCB3aWxsIGFsd2F5cyB3b3JrXG5cdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCBcImxvYWRcIiwgY29tcGxldGVkICk7XG59XG5cblxuXG5cbi8vIE11bHRpZnVuY3Rpb25hbCBtZXRob2QgdG8gZ2V0IGFuZCBzZXQgdmFsdWVzIG9mIGEgY29sbGVjdGlvblxuLy8gVGhlIHZhbHVlL3MgY2FuIG9wdGlvbmFsbHkgYmUgZXhlY3V0ZWQgaWYgaXQncyBhIGZ1bmN0aW9uXG52YXIgYWNjZXNzID0gZnVuY3Rpb24oIGVsZW1zLCBmbiwga2V5LCB2YWx1ZSwgY2hhaW5hYmxlLCBlbXB0eUdldCwgcmF3ICkge1xuXHR2YXIgaSA9IDAsXG5cdFx0bGVuID0gZWxlbXMubGVuZ3RoLFxuXHRcdGJ1bGsgPSBrZXkgPT0gbnVsbDtcblxuXHQvLyBTZXRzIG1hbnkgdmFsdWVzXG5cdGlmICggalF1ZXJ5LnR5cGUoIGtleSApID09PSBcIm9iamVjdFwiICkge1xuXHRcdGNoYWluYWJsZSA9IHRydWU7XG5cdFx0Zm9yICggaSBpbiBrZXkgKSB7XG5cdFx0XHRhY2Nlc3MoIGVsZW1zLCBmbiwgaSwga2V5WyBpIF0sIHRydWUsIGVtcHR5R2V0LCByYXcgKTtcblx0XHR9XG5cblx0Ly8gU2V0cyBvbmUgdmFsdWVcblx0fSBlbHNlIGlmICggdmFsdWUgIT09IHVuZGVmaW5lZCApIHtcblx0XHRjaGFpbmFibGUgPSB0cnVlO1xuXG5cdFx0aWYgKCAhalF1ZXJ5LmlzRnVuY3Rpb24oIHZhbHVlICkgKSB7XG5cdFx0XHRyYXcgPSB0cnVlO1xuXHRcdH1cblxuXHRcdGlmICggYnVsayApIHtcblxuXHRcdFx0Ly8gQnVsayBvcGVyYXRpb25zIHJ1biBhZ2FpbnN0IHRoZSBlbnRpcmUgc2V0XG5cdFx0XHRpZiAoIHJhdyApIHtcblx0XHRcdFx0Zm4uY2FsbCggZWxlbXMsIHZhbHVlICk7XG5cdFx0XHRcdGZuID0gbnVsbDtcblxuXHRcdFx0Ly8gLi4uZXhjZXB0IHdoZW4gZXhlY3V0aW5nIGZ1bmN0aW9uIHZhbHVlc1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0YnVsayA9IGZuO1xuXHRcdFx0XHRmbiA9IGZ1bmN0aW9uKCBlbGVtLCBrZXksIHZhbHVlICkge1xuXHRcdFx0XHRcdHJldHVybiBidWxrLmNhbGwoIGpRdWVyeSggZWxlbSApLCB2YWx1ZSApO1xuXHRcdFx0XHR9O1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmICggZm4gKSB7XG5cdFx0XHRmb3IgKCA7IGkgPCBsZW47IGkrKyApIHtcblx0XHRcdFx0Zm4oXG5cdFx0XHRcdFx0ZWxlbXNbIGkgXSwga2V5LCByYXcgP1xuXHRcdFx0XHRcdHZhbHVlIDpcblx0XHRcdFx0XHR2YWx1ZS5jYWxsKCBlbGVtc1sgaSBdLCBpLCBmbiggZWxlbXNbIGkgXSwga2V5ICkgKVxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdGlmICggY2hhaW5hYmxlICkge1xuXHRcdHJldHVybiBlbGVtcztcblx0fVxuXG5cdC8vIEdldHNcblx0aWYgKCBidWxrICkge1xuXHRcdHJldHVybiBmbi5jYWxsKCBlbGVtcyApO1xuXHR9XG5cblx0cmV0dXJuIGxlbiA/IGZuKCBlbGVtc1sgMCBdLCBrZXkgKSA6IGVtcHR5R2V0O1xufTtcbnZhciBhY2NlcHREYXRhID0gZnVuY3Rpb24oIG93bmVyICkge1xuXG5cdC8vIEFjY2VwdHMgb25seTpcblx0Ly8gIC0gTm9kZVxuXHQvLyAgICAtIE5vZGUuRUxFTUVOVF9OT0RFXG5cdC8vICAgIC0gTm9kZS5ET0NVTUVOVF9OT0RFXG5cdC8vICAtIE9iamVjdFxuXHQvLyAgICAtIEFueVxuXHRyZXR1cm4gb3duZXIubm9kZVR5cGUgPT09IDEgfHwgb3duZXIubm9kZVR5cGUgPT09IDkgfHwgISggK293bmVyLm5vZGVUeXBlICk7XG59O1xuXG5cblxuXG5mdW5jdGlvbiBEYXRhKCkge1xuXHR0aGlzLmV4cGFuZG8gPSBqUXVlcnkuZXhwYW5kbyArIERhdGEudWlkKys7XG59XG5cbkRhdGEudWlkID0gMTtcblxuRGF0YS5wcm90b3R5cGUgPSB7XG5cblx0Y2FjaGU6IGZ1bmN0aW9uKCBvd25lciApIHtcblxuXHRcdC8vIENoZWNrIGlmIHRoZSBvd25lciBvYmplY3QgYWxyZWFkeSBoYXMgYSBjYWNoZVxuXHRcdHZhciB2YWx1ZSA9IG93bmVyWyB0aGlzLmV4cGFuZG8gXTtcblxuXHRcdC8vIElmIG5vdCwgY3JlYXRlIG9uZVxuXHRcdGlmICggIXZhbHVlICkge1xuXHRcdFx0dmFsdWUgPSB7fTtcblxuXHRcdFx0Ly8gV2UgY2FuIGFjY2VwdCBkYXRhIGZvciBub24tZWxlbWVudCBub2RlcyBpbiBtb2Rlcm4gYnJvd3NlcnMsXG5cdFx0XHQvLyBidXQgd2Ugc2hvdWxkIG5vdCwgc2VlICM4MzM1LlxuXHRcdFx0Ly8gQWx3YXlzIHJldHVybiBhbiBlbXB0eSBvYmplY3QuXG5cdFx0XHRpZiAoIGFjY2VwdERhdGEoIG93bmVyICkgKSB7XG5cblx0XHRcdFx0Ly8gSWYgaXQgaXMgYSBub2RlIHVubGlrZWx5IHRvIGJlIHN0cmluZ2lmeS1lZCBvciBsb29wZWQgb3ZlclxuXHRcdFx0XHQvLyB1c2UgcGxhaW4gYXNzaWdubWVudFxuXHRcdFx0XHRpZiAoIG93bmVyLm5vZGVUeXBlICkge1xuXHRcdFx0XHRcdG93bmVyWyB0aGlzLmV4cGFuZG8gXSA9IHZhbHVlO1xuXG5cdFx0XHRcdC8vIE90aGVyd2lzZSBzZWN1cmUgaXQgaW4gYSBub24tZW51bWVyYWJsZSBwcm9wZXJ0eVxuXHRcdFx0XHQvLyBjb25maWd1cmFibGUgbXVzdCBiZSB0cnVlIHRvIGFsbG93IHRoZSBwcm9wZXJ0eSB0byBiZVxuXHRcdFx0XHQvLyBkZWxldGVkIHdoZW4gZGF0YSBpcyByZW1vdmVkXG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KCBvd25lciwgdGhpcy5leHBhbmRvLCB7XG5cdFx0XHRcdFx0XHR2YWx1ZTogdmFsdWUsXG5cdFx0XHRcdFx0XHRjb25maWd1cmFibGU6IHRydWVcblx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gdmFsdWU7XG5cdH0sXG5cdHNldDogZnVuY3Rpb24oIG93bmVyLCBkYXRhLCB2YWx1ZSApIHtcblx0XHR2YXIgcHJvcCxcblx0XHRcdGNhY2hlID0gdGhpcy5jYWNoZSggb3duZXIgKTtcblxuXHRcdC8vIEhhbmRsZTogWyBvd25lciwga2V5LCB2YWx1ZSBdIGFyZ3Ncblx0XHQvLyBBbHdheXMgdXNlIGNhbWVsQ2FzZSBrZXkgKGdoLTIyNTcpXG5cdFx0aWYgKCB0eXBlb2YgZGF0YSA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdGNhY2hlWyBqUXVlcnkuY2FtZWxDYXNlKCBkYXRhICkgXSA9IHZhbHVlO1xuXG5cdFx0Ly8gSGFuZGxlOiBbIG93bmVyLCB7IHByb3BlcnRpZXMgfSBdIGFyZ3Ncblx0XHR9IGVsc2Uge1xuXG5cdFx0XHQvLyBDb3B5IHRoZSBwcm9wZXJ0aWVzIG9uZS1ieS1vbmUgdG8gdGhlIGNhY2hlIG9iamVjdFxuXHRcdFx0Zm9yICggcHJvcCBpbiBkYXRhICkge1xuXHRcdFx0XHRjYWNoZVsgalF1ZXJ5LmNhbWVsQ2FzZSggcHJvcCApIF0gPSBkYXRhWyBwcm9wIF07XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiBjYWNoZTtcblx0fSxcblx0Z2V0OiBmdW5jdGlvbiggb3duZXIsIGtleSApIHtcblx0XHRyZXR1cm4ga2V5ID09PSB1bmRlZmluZWQgP1xuXHRcdFx0dGhpcy5jYWNoZSggb3duZXIgKSA6XG5cblx0XHRcdC8vIEFsd2F5cyB1c2UgY2FtZWxDYXNlIGtleSAoZ2gtMjI1Nylcblx0XHRcdG93bmVyWyB0aGlzLmV4cGFuZG8gXSAmJiBvd25lclsgdGhpcy5leHBhbmRvIF1bIGpRdWVyeS5jYW1lbENhc2UoIGtleSApIF07XG5cdH0sXG5cdGFjY2VzczogZnVuY3Rpb24oIG93bmVyLCBrZXksIHZhbHVlICkge1xuXG5cdFx0Ly8gSW4gY2FzZXMgd2hlcmUgZWl0aGVyOlxuXHRcdC8vXG5cdFx0Ly8gICAxLiBObyBrZXkgd2FzIHNwZWNpZmllZFxuXHRcdC8vICAgMi4gQSBzdHJpbmcga2V5IHdhcyBzcGVjaWZpZWQsIGJ1dCBubyB2YWx1ZSBwcm92aWRlZFxuXHRcdC8vXG5cdFx0Ly8gVGFrZSB0aGUgXCJyZWFkXCIgcGF0aCBhbmQgYWxsb3cgdGhlIGdldCBtZXRob2QgdG8gZGV0ZXJtaW5lXG5cdFx0Ly8gd2hpY2ggdmFsdWUgdG8gcmV0dXJuLCByZXNwZWN0aXZlbHkgZWl0aGVyOlxuXHRcdC8vXG5cdFx0Ly8gICAxLiBUaGUgZW50aXJlIGNhY2hlIG9iamVjdFxuXHRcdC8vICAgMi4gVGhlIGRhdGEgc3RvcmVkIGF0IHRoZSBrZXlcblx0XHQvL1xuXHRcdGlmICgga2V5ID09PSB1bmRlZmluZWQgfHxcblx0XHRcdFx0KCAoIGtleSAmJiB0eXBlb2Yga2V5ID09PSBcInN0cmluZ1wiICkgJiYgdmFsdWUgPT09IHVuZGVmaW5lZCApICkge1xuXG5cdFx0XHRyZXR1cm4gdGhpcy5nZXQoIG93bmVyLCBrZXkgKTtcblx0XHR9XG5cblx0XHQvLyBXaGVuIHRoZSBrZXkgaXMgbm90IGEgc3RyaW5nLCBvciBib3RoIGEga2V5IGFuZCB2YWx1ZVxuXHRcdC8vIGFyZSBzcGVjaWZpZWQsIHNldCBvciBleHRlbmQgKGV4aXN0aW5nIG9iamVjdHMpIHdpdGggZWl0aGVyOlxuXHRcdC8vXG5cdFx0Ly8gICAxLiBBbiBvYmplY3Qgb2YgcHJvcGVydGllc1xuXHRcdC8vICAgMi4gQSBrZXkgYW5kIHZhbHVlXG5cdFx0Ly9cblx0XHR0aGlzLnNldCggb3duZXIsIGtleSwgdmFsdWUgKTtcblxuXHRcdC8vIFNpbmNlIHRoZSBcInNldFwiIHBhdGggY2FuIGhhdmUgdHdvIHBvc3NpYmxlIGVudHJ5IHBvaW50c1xuXHRcdC8vIHJldHVybiB0aGUgZXhwZWN0ZWQgZGF0YSBiYXNlZCBvbiB3aGljaCBwYXRoIHdhcyB0YWtlblsqXVxuXHRcdHJldHVybiB2YWx1ZSAhPT0gdW5kZWZpbmVkID8gdmFsdWUgOiBrZXk7XG5cdH0sXG5cdHJlbW92ZTogZnVuY3Rpb24oIG93bmVyLCBrZXkgKSB7XG5cdFx0dmFyIGksXG5cdFx0XHRjYWNoZSA9IG93bmVyWyB0aGlzLmV4cGFuZG8gXTtcblxuXHRcdGlmICggY2FjaGUgPT09IHVuZGVmaW5lZCApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpZiAoIGtleSAhPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHQvLyBTdXBwb3J0IGFycmF5IG9yIHNwYWNlIHNlcGFyYXRlZCBzdHJpbmcgb2Yga2V5c1xuXHRcdFx0aWYgKCBBcnJheS5pc0FycmF5KCBrZXkgKSApIHtcblxuXHRcdFx0XHQvLyBJZiBrZXkgaXMgYW4gYXJyYXkgb2Yga2V5cy4uLlxuXHRcdFx0XHQvLyBXZSBhbHdheXMgc2V0IGNhbWVsQ2FzZSBrZXlzLCBzbyByZW1vdmUgdGhhdC5cblx0XHRcdFx0a2V5ID0ga2V5Lm1hcCggalF1ZXJ5LmNhbWVsQ2FzZSApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0a2V5ID0galF1ZXJ5LmNhbWVsQ2FzZSgga2V5ICk7XG5cblx0XHRcdFx0Ly8gSWYgYSBrZXkgd2l0aCB0aGUgc3BhY2VzIGV4aXN0cywgdXNlIGl0LlxuXHRcdFx0XHQvLyBPdGhlcndpc2UsIGNyZWF0ZSBhbiBhcnJheSBieSBtYXRjaGluZyBub24td2hpdGVzcGFjZVxuXHRcdFx0XHRrZXkgPSBrZXkgaW4gY2FjaGUgP1xuXHRcdFx0XHRcdFsga2V5IF0gOlxuXHRcdFx0XHRcdCgga2V5Lm1hdGNoKCBybm90aHRtbHdoaXRlICkgfHwgW10gKTtcblx0XHRcdH1cblxuXHRcdFx0aSA9IGtleS5sZW5ndGg7XG5cblx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHRkZWxldGUgY2FjaGVbIGtleVsgaSBdIF07XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gUmVtb3ZlIHRoZSBleHBhbmRvIGlmIHRoZXJlJ3Mgbm8gbW9yZSBkYXRhXG5cdFx0aWYgKCBrZXkgPT09IHVuZGVmaW5lZCB8fCBqUXVlcnkuaXNFbXB0eU9iamVjdCggY2FjaGUgKSApIHtcblxuXHRcdFx0Ly8gU3VwcG9ydDogQ2hyb21lIDw9MzUgLSA0NVxuXHRcdFx0Ly8gV2Via2l0ICYgQmxpbmsgcGVyZm9ybWFuY2Ugc3VmZmVycyB3aGVuIGRlbGV0aW5nIHByb3BlcnRpZXNcblx0XHRcdC8vIGZyb20gRE9NIG5vZGVzLCBzbyBzZXQgdG8gdW5kZWZpbmVkIGluc3RlYWRcblx0XHRcdC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTM3ODYwNyAoYnVnIHJlc3RyaWN0ZWQpXG5cdFx0XHRpZiAoIG93bmVyLm5vZGVUeXBlICkge1xuXHRcdFx0XHRvd25lclsgdGhpcy5leHBhbmRvIF0gPSB1bmRlZmluZWQ7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRkZWxldGUgb3duZXJbIHRoaXMuZXhwYW5kbyBdO1xuXHRcdFx0fVxuXHRcdH1cblx0fSxcblx0aGFzRGF0YTogZnVuY3Rpb24oIG93bmVyICkge1xuXHRcdHZhciBjYWNoZSA9IG93bmVyWyB0aGlzLmV4cGFuZG8gXTtcblx0XHRyZXR1cm4gY2FjaGUgIT09IHVuZGVmaW5lZCAmJiAhalF1ZXJ5LmlzRW1wdHlPYmplY3QoIGNhY2hlICk7XG5cdH1cbn07XG52YXIgZGF0YVByaXYgPSBuZXcgRGF0YSgpO1xuXG52YXIgZGF0YVVzZXIgPSBuZXcgRGF0YSgpO1xuXG5cblxuLy9cdEltcGxlbWVudGF0aW9uIFN1bW1hcnlcbi8vXG4vL1x0MS4gRW5mb3JjZSBBUEkgc3VyZmFjZSBhbmQgc2VtYW50aWMgY29tcGF0aWJpbGl0eSB3aXRoIDEuOS54IGJyYW5jaFxuLy9cdDIuIEltcHJvdmUgdGhlIG1vZHVsZSdzIG1haW50YWluYWJpbGl0eSBieSByZWR1Y2luZyB0aGUgc3RvcmFnZVxuLy9cdFx0cGF0aHMgdG8gYSBzaW5nbGUgbWVjaGFuaXNtLlxuLy9cdDMuIFVzZSB0aGUgc2FtZSBzaW5nbGUgbWVjaGFuaXNtIHRvIHN1cHBvcnQgXCJwcml2YXRlXCIgYW5kIFwidXNlclwiIGRhdGEuXG4vL1x0NC4gX05ldmVyXyBleHBvc2UgXCJwcml2YXRlXCIgZGF0YSB0byB1c2VyIGNvZGUgKFRPRE86IERyb3AgX2RhdGEsIF9yZW1vdmVEYXRhKVxuLy9cdDUuIEF2b2lkIGV4cG9zaW5nIGltcGxlbWVudGF0aW9uIGRldGFpbHMgb24gdXNlciBvYmplY3RzIChlZy4gZXhwYW5kbyBwcm9wZXJ0aWVzKVxuLy9cdDYuIFByb3ZpZGUgYSBjbGVhciBwYXRoIGZvciBpbXBsZW1lbnRhdGlvbiB1cGdyYWRlIHRvIFdlYWtNYXAgaW4gMjAxNFxuXG52YXIgcmJyYWNlID0gL14oPzpcXHtbXFx3XFxXXSpcXH18XFxbW1xcd1xcV10qXFxdKSQvLFxuXHRybXVsdGlEYXNoID0gL1tBLVpdL2c7XG5cbmZ1bmN0aW9uIGdldERhdGEoIGRhdGEgKSB7XG5cdGlmICggZGF0YSA9PT0gXCJ0cnVlXCIgKSB7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblxuXHRpZiAoIGRhdGEgPT09IFwiZmFsc2VcIiApIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHRpZiAoIGRhdGEgPT09IFwibnVsbFwiICkge1xuXHRcdHJldHVybiBudWxsO1xuXHR9XG5cblx0Ly8gT25seSBjb252ZXJ0IHRvIGEgbnVtYmVyIGlmIGl0IGRvZXNuJ3QgY2hhbmdlIHRoZSBzdHJpbmdcblx0aWYgKCBkYXRhID09PSArZGF0YSArIFwiXCIgKSB7XG5cdFx0cmV0dXJuICtkYXRhO1xuXHR9XG5cblx0aWYgKCByYnJhY2UudGVzdCggZGF0YSApICkge1xuXHRcdHJldHVybiBKU09OLnBhcnNlKCBkYXRhICk7XG5cdH1cblxuXHRyZXR1cm4gZGF0YTtcbn1cblxuZnVuY3Rpb24gZGF0YUF0dHIoIGVsZW0sIGtleSwgZGF0YSApIHtcblx0dmFyIG5hbWU7XG5cblx0Ly8gSWYgbm90aGluZyB3YXMgZm91bmQgaW50ZXJuYWxseSwgdHJ5IHRvIGZldGNoIGFueVxuXHQvLyBkYXRhIGZyb20gdGhlIEhUTUw1IGRhdGEtKiBhdHRyaWJ1dGVcblx0aWYgKCBkYXRhID09PSB1bmRlZmluZWQgJiYgZWxlbS5ub2RlVHlwZSA9PT0gMSApIHtcblx0XHRuYW1lID0gXCJkYXRhLVwiICsga2V5LnJlcGxhY2UoIHJtdWx0aURhc2gsIFwiLSQmXCIgKS50b0xvd2VyQ2FzZSgpO1xuXHRcdGRhdGEgPSBlbGVtLmdldEF0dHJpYnV0ZSggbmFtZSApO1xuXG5cdFx0aWYgKCB0eXBlb2YgZGF0YSA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdGRhdGEgPSBnZXREYXRhKCBkYXRhICk7XG5cdFx0XHR9IGNhdGNoICggZSApIHt9XG5cblx0XHRcdC8vIE1ha2Ugc3VyZSB3ZSBzZXQgdGhlIGRhdGEgc28gaXQgaXNuJ3QgY2hhbmdlZCBsYXRlclxuXHRcdFx0ZGF0YVVzZXIuc2V0KCBlbGVtLCBrZXksIGRhdGEgKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0ZGF0YSA9IHVuZGVmaW5lZDtcblx0XHR9XG5cdH1cblx0cmV0dXJuIGRhdGE7XG59XG5cbmpRdWVyeS5leHRlbmQoIHtcblx0aGFzRGF0YTogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0cmV0dXJuIGRhdGFVc2VyLmhhc0RhdGEoIGVsZW0gKSB8fCBkYXRhUHJpdi5oYXNEYXRhKCBlbGVtICk7XG5cdH0sXG5cblx0ZGF0YTogZnVuY3Rpb24oIGVsZW0sIG5hbWUsIGRhdGEgKSB7XG5cdFx0cmV0dXJuIGRhdGFVc2VyLmFjY2VzcyggZWxlbSwgbmFtZSwgZGF0YSApO1xuXHR9LFxuXG5cdHJlbW92ZURhdGE6IGZ1bmN0aW9uKCBlbGVtLCBuYW1lICkge1xuXHRcdGRhdGFVc2VyLnJlbW92ZSggZWxlbSwgbmFtZSApO1xuXHR9LFxuXG5cdC8vIFRPRE86IE5vdyB0aGF0IGFsbCBjYWxscyB0byBfZGF0YSBhbmQgX3JlbW92ZURhdGEgaGF2ZSBiZWVuIHJlcGxhY2VkXG5cdC8vIHdpdGggZGlyZWN0IGNhbGxzIHRvIGRhdGFQcml2IG1ldGhvZHMsIHRoZXNlIGNhbiBiZSBkZXByZWNhdGVkLlxuXHRfZGF0YTogZnVuY3Rpb24oIGVsZW0sIG5hbWUsIGRhdGEgKSB7XG5cdFx0cmV0dXJuIGRhdGFQcml2LmFjY2VzcyggZWxlbSwgbmFtZSwgZGF0YSApO1xuXHR9LFxuXG5cdF9yZW1vdmVEYXRhOiBmdW5jdGlvbiggZWxlbSwgbmFtZSApIHtcblx0XHRkYXRhUHJpdi5yZW1vdmUoIGVsZW0sIG5hbWUgKTtcblx0fVxufSApO1xuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdGRhdGE6IGZ1bmN0aW9uKCBrZXksIHZhbHVlICkge1xuXHRcdHZhciBpLCBuYW1lLCBkYXRhLFxuXHRcdFx0ZWxlbSA9IHRoaXNbIDAgXSxcblx0XHRcdGF0dHJzID0gZWxlbSAmJiBlbGVtLmF0dHJpYnV0ZXM7XG5cblx0XHQvLyBHZXRzIGFsbCB2YWx1ZXNcblx0XHRpZiAoIGtleSA9PT0gdW5kZWZpbmVkICkge1xuXHRcdFx0aWYgKCB0aGlzLmxlbmd0aCApIHtcblx0XHRcdFx0ZGF0YSA9IGRhdGFVc2VyLmdldCggZWxlbSApO1xuXG5cdFx0XHRcdGlmICggZWxlbS5ub2RlVHlwZSA9PT0gMSAmJiAhZGF0YVByaXYuZ2V0KCBlbGVtLCBcImhhc0RhdGFBdHRyc1wiICkgKSB7XG5cdFx0XHRcdFx0aSA9IGF0dHJzLmxlbmd0aDtcblx0XHRcdFx0XHR3aGlsZSAoIGktLSApIHtcblxuXHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgMTEgb25seVxuXHRcdFx0XHRcdFx0Ly8gVGhlIGF0dHJzIGVsZW1lbnRzIGNhbiBiZSBudWxsICgjMTQ4OTQpXG5cdFx0XHRcdFx0XHRpZiAoIGF0dHJzWyBpIF0gKSB7XG5cdFx0XHRcdFx0XHRcdG5hbWUgPSBhdHRyc1sgaSBdLm5hbWU7XG5cdFx0XHRcdFx0XHRcdGlmICggbmFtZS5pbmRleE9mKCBcImRhdGEtXCIgKSA9PT0gMCApIHtcblx0XHRcdFx0XHRcdFx0XHRuYW1lID0galF1ZXJ5LmNhbWVsQ2FzZSggbmFtZS5zbGljZSggNSApICk7XG5cdFx0XHRcdFx0XHRcdFx0ZGF0YUF0dHIoIGVsZW0sIG5hbWUsIGRhdGFbIG5hbWUgXSApO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGRhdGFQcml2LnNldCggZWxlbSwgXCJoYXNEYXRhQXR0cnNcIiwgdHJ1ZSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBkYXRhO1xuXHRcdH1cblxuXHRcdC8vIFNldHMgbXVsdGlwbGUgdmFsdWVzXG5cdFx0aWYgKCB0eXBlb2Yga2V5ID09PSBcIm9iamVjdFwiICkge1xuXHRcdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGRhdGFVc2VyLnNldCggdGhpcywga2V5ICk7XG5cdFx0XHR9ICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGFjY2VzcyggdGhpcywgZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdFx0dmFyIGRhdGE7XG5cblx0XHRcdC8vIFRoZSBjYWxsaW5nIGpRdWVyeSBvYmplY3QgKGVsZW1lbnQgbWF0Y2hlcykgaXMgbm90IGVtcHR5XG5cdFx0XHQvLyAoYW5kIHRoZXJlZm9yZSBoYXMgYW4gZWxlbWVudCBhcHBlYXJzIGF0IHRoaXNbIDAgXSkgYW5kIHRoZVxuXHRcdFx0Ly8gYHZhbHVlYCBwYXJhbWV0ZXIgd2FzIG5vdCB1bmRlZmluZWQuIEFuIGVtcHR5IGpRdWVyeSBvYmplY3Rcblx0XHRcdC8vIHdpbGwgcmVzdWx0IGluIGB1bmRlZmluZWRgIGZvciBlbGVtID0gdGhpc1sgMCBdIHdoaWNoIHdpbGxcblx0XHRcdC8vIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBhbiBhdHRlbXB0IHRvIHJlYWQgYSBkYXRhIGNhY2hlIGlzIG1hZGUuXG5cdFx0XHRpZiAoIGVsZW0gJiYgdmFsdWUgPT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0XHQvLyBBdHRlbXB0IHRvIGdldCBkYXRhIGZyb20gdGhlIGNhY2hlXG5cdFx0XHRcdC8vIFRoZSBrZXkgd2lsbCBhbHdheXMgYmUgY2FtZWxDYXNlZCBpbiBEYXRhXG5cdFx0XHRcdGRhdGEgPSBkYXRhVXNlci5nZXQoIGVsZW0sIGtleSApO1xuXHRcdFx0XHRpZiAoIGRhdGEgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0XHRyZXR1cm4gZGF0YTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIEF0dGVtcHQgdG8gXCJkaXNjb3ZlclwiIHRoZSBkYXRhIGluXG5cdFx0XHRcdC8vIEhUTUw1IGN1c3RvbSBkYXRhLSogYXR0cnNcblx0XHRcdFx0ZGF0YSA9IGRhdGFBdHRyKCBlbGVtLCBrZXkgKTtcblx0XHRcdFx0aWYgKCBkYXRhICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGRhdGE7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBXZSB0cmllZCByZWFsbHkgaGFyZCwgYnV0IHRoZSBkYXRhIGRvZXNuJ3QgZXhpc3QuXG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gU2V0IHRoZSBkYXRhLi4uXG5cdFx0XHR0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRcdC8vIFdlIGFsd2F5cyBzdG9yZSB0aGUgY2FtZWxDYXNlZCBrZXlcblx0XHRcdFx0ZGF0YVVzZXIuc2V0KCB0aGlzLCBrZXksIHZhbHVlICk7XG5cdFx0XHR9ICk7XG5cdFx0fSwgbnVsbCwgdmFsdWUsIGFyZ3VtZW50cy5sZW5ndGggPiAxLCBudWxsLCB0cnVlICk7XG5cdH0sXG5cblx0cmVtb3ZlRGF0YTogZnVuY3Rpb24oIGtleSApIHtcblx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdGRhdGFVc2VyLnJlbW92ZSggdGhpcywga2V5ICk7XG5cdFx0fSApO1xuXHR9XG59ICk7XG5cblxualF1ZXJ5LmV4dGVuZCgge1xuXHRxdWV1ZTogZnVuY3Rpb24oIGVsZW0sIHR5cGUsIGRhdGEgKSB7XG5cdFx0dmFyIHF1ZXVlO1xuXG5cdFx0aWYgKCBlbGVtICkge1xuXHRcdFx0dHlwZSA9ICggdHlwZSB8fCBcImZ4XCIgKSArIFwicXVldWVcIjtcblx0XHRcdHF1ZXVlID0gZGF0YVByaXYuZ2V0KCBlbGVtLCB0eXBlICk7XG5cblx0XHRcdC8vIFNwZWVkIHVwIGRlcXVldWUgYnkgZ2V0dGluZyBvdXQgcXVpY2tseSBpZiB0aGlzIGlzIGp1c3QgYSBsb29rdXBcblx0XHRcdGlmICggZGF0YSApIHtcblx0XHRcdFx0aWYgKCAhcXVldWUgfHwgQXJyYXkuaXNBcnJheSggZGF0YSApICkge1xuXHRcdFx0XHRcdHF1ZXVlID0gZGF0YVByaXYuYWNjZXNzKCBlbGVtLCB0eXBlLCBqUXVlcnkubWFrZUFycmF5KCBkYXRhICkgKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRxdWV1ZS5wdXNoKCBkYXRhICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJldHVybiBxdWV1ZSB8fCBbXTtcblx0XHR9XG5cdH0sXG5cblx0ZGVxdWV1ZTogZnVuY3Rpb24oIGVsZW0sIHR5cGUgKSB7XG5cdFx0dHlwZSA9IHR5cGUgfHwgXCJmeFwiO1xuXG5cdFx0dmFyIHF1ZXVlID0galF1ZXJ5LnF1ZXVlKCBlbGVtLCB0eXBlICksXG5cdFx0XHRzdGFydExlbmd0aCA9IHF1ZXVlLmxlbmd0aCxcblx0XHRcdGZuID0gcXVldWUuc2hpZnQoKSxcblx0XHRcdGhvb2tzID0galF1ZXJ5Ll9xdWV1ZUhvb2tzKCBlbGVtLCB0eXBlICksXG5cdFx0XHRuZXh0ID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGpRdWVyeS5kZXF1ZXVlKCBlbGVtLCB0eXBlICk7XG5cdFx0XHR9O1xuXG5cdFx0Ly8gSWYgdGhlIGZ4IHF1ZXVlIGlzIGRlcXVldWVkLCBhbHdheXMgcmVtb3ZlIHRoZSBwcm9ncmVzcyBzZW50aW5lbFxuXHRcdGlmICggZm4gPT09IFwiaW5wcm9ncmVzc1wiICkge1xuXHRcdFx0Zm4gPSBxdWV1ZS5zaGlmdCgpO1xuXHRcdFx0c3RhcnRMZW5ndGgtLTtcblx0XHR9XG5cblx0XHRpZiAoIGZuICkge1xuXG5cdFx0XHQvLyBBZGQgYSBwcm9ncmVzcyBzZW50aW5lbCB0byBwcmV2ZW50IHRoZSBmeCBxdWV1ZSBmcm9tIGJlaW5nXG5cdFx0XHQvLyBhdXRvbWF0aWNhbGx5IGRlcXVldWVkXG5cdFx0XHRpZiAoIHR5cGUgPT09IFwiZnhcIiApIHtcblx0XHRcdFx0cXVldWUudW5zaGlmdCggXCJpbnByb2dyZXNzXCIgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQ2xlYXIgdXAgdGhlIGxhc3QgcXVldWUgc3RvcCBmdW5jdGlvblxuXHRcdFx0ZGVsZXRlIGhvb2tzLnN0b3A7XG5cdFx0XHRmbi5jYWxsKCBlbGVtLCBuZXh0LCBob29rcyApO1xuXHRcdH1cblxuXHRcdGlmICggIXN0YXJ0TGVuZ3RoICYmIGhvb2tzICkge1xuXHRcdFx0aG9va3MuZW1wdHkuZmlyZSgpO1xuXHRcdH1cblx0fSxcblxuXHQvLyBOb3QgcHVibGljIC0gZ2VuZXJhdGUgYSBxdWV1ZUhvb2tzIG9iamVjdCwgb3IgcmV0dXJuIHRoZSBjdXJyZW50IG9uZVxuXHRfcXVldWVIb29rczogZnVuY3Rpb24oIGVsZW0sIHR5cGUgKSB7XG5cdFx0dmFyIGtleSA9IHR5cGUgKyBcInF1ZXVlSG9va3NcIjtcblx0XHRyZXR1cm4gZGF0YVByaXYuZ2V0KCBlbGVtLCBrZXkgKSB8fCBkYXRhUHJpdi5hY2Nlc3MoIGVsZW0sIGtleSwge1xuXHRcdFx0ZW1wdHk6IGpRdWVyeS5DYWxsYmFja3MoIFwib25jZSBtZW1vcnlcIiApLmFkZCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGRhdGFQcml2LnJlbW92ZSggZWxlbSwgWyB0eXBlICsgXCJxdWV1ZVwiLCBrZXkgXSApO1xuXHRcdFx0fSApXG5cdFx0fSApO1xuXHR9XG59ICk7XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblx0cXVldWU6IGZ1bmN0aW9uKCB0eXBlLCBkYXRhICkge1xuXHRcdHZhciBzZXR0ZXIgPSAyO1xuXG5cdFx0aWYgKCB0eXBlb2YgdHlwZSAhPT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdGRhdGEgPSB0eXBlO1xuXHRcdFx0dHlwZSA9IFwiZnhcIjtcblx0XHRcdHNldHRlci0tO1xuXHRcdH1cblxuXHRcdGlmICggYXJndW1lbnRzLmxlbmd0aCA8IHNldHRlciApIHtcblx0XHRcdHJldHVybiBqUXVlcnkucXVldWUoIHRoaXNbIDAgXSwgdHlwZSApO1xuXHRcdH1cblxuXHRcdHJldHVybiBkYXRhID09PSB1bmRlZmluZWQgP1xuXHRcdFx0dGhpcyA6XG5cdFx0XHR0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgcXVldWUgPSBqUXVlcnkucXVldWUoIHRoaXMsIHR5cGUsIGRhdGEgKTtcblxuXHRcdFx0XHQvLyBFbnN1cmUgYSBob29rcyBmb3IgdGhpcyBxdWV1ZVxuXHRcdFx0XHRqUXVlcnkuX3F1ZXVlSG9va3MoIHRoaXMsIHR5cGUgKTtcblxuXHRcdFx0XHRpZiAoIHR5cGUgPT09IFwiZnhcIiAmJiBxdWV1ZVsgMCBdICE9PSBcImlucHJvZ3Jlc3NcIiApIHtcblx0XHRcdFx0XHRqUXVlcnkuZGVxdWV1ZSggdGhpcywgdHlwZSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9ICk7XG5cdH0sXG5cdGRlcXVldWU6IGZ1bmN0aW9uKCB0eXBlICkge1xuXHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0alF1ZXJ5LmRlcXVldWUoIHRoaXMsIHR5cGUgKTtcblx0XHR9ICk7XG5cdH0sXG5cdGNsZWFyUXVldWU6IGZ1bmN0aW9uKCB0eXBlICkge1xuXHRcdHJldHVybiB0aGlzLnF1ZXVlKCB0eXBlIHx8IFwiZnhcIiwgW10gKTtcblx0fSxcblxuXHQvLyBHZXQgYSBwcm9taXNlIHJlc29sdmVkIHdoZW4gcXVldWVzIG9mIGEgY2VydGFpbiB0eXBlXG5cdC8vIGFyZSBlbXB0aWVkIChmeCBpcyB0aGUgdHlwZSBieSBkZWZhdWx0KVxuXHRwcm9taXNlOiBmdW5jdGlvbiggdHlwZSwgb2JqICkge1xuXHRcdHZhciB0bXAsXG5cdFx0XHRjb3VudCA9IDEsXG5cdFx0XHRkZWZlciA9IGpRdWVyeS5EZWZlcnJlZCgpLFxuXHRcdFx0ZWxlbWVudHMgPSB0aGlzLFxuXHRcdFx0aSA9IHRoaXMubGVuZ3RoLFxuXHRcdFx0cmVzb2x2ZSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZiAoICEoIC0tY291bnQgKSApIHtcblx0XHRcdFx0XHRkZWZlci5yZXNvbHZlV2l0aCggZWxlbWVudHMsIFsgZWxlbWVudHMgXSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXG5cdFx0aWYgKCB0eXBlb2YgdHlwZSAhPT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdG9iaiA9IHR5cGU7XG5cdFx0XHR0eXBlID0gdW5kZWZpbmVkO1xuXHRcdH1cblx0XHR0eXBlID0gdHlwZSB8fCBcImZ4XCI7XG5cblx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdHRtcCA9IGRhdGFQcml2LmdldCggZWxlbWVudHNbIGkgXSwgdHlwZSArIFwicXVldWVIb29rc1wiICk7XG5cdFx0XHRpZiAoIHRtcCAmJiB0bXAuZW1wdHkgKSB7XG5cdFx0XHRcdGNvdW50Kys7XG5cdFx0XHRcdHRtcC5lbXB0eS5hZGQoIHJlc29sdmUgKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmVzb2x2ZSgpO1xuXHRcdHJldHVybiBkZWZlci5wcm9taXNlKCBvYmogKTtcblx0fVxufSApO1xudmFyIHBudW0gPSAoIC9bKy1dPyg/OlxcZCpcXC58KVxcZCsoPzpbZUVdWystXT9cXGQrfCkvICkuc291cmNlO1xuXG52YXIgcmNzc051bSA9IG5ldyBSZWdFeHAoIFwiXig/OihbKy1dKT18KShcIiArIHBudW0gKyBcIikoW2EteiVdKikkXCIsIFwiaVwiICk7XG5cblxudmFyIGNzc0V4cGFuZCA9IFsgXCJUb3BcIiwgXCJSaWdodFwiLCBcIkJvdHRvbVwiLCBcIkxlZnRcIiBdO1xuXG52YXIgaXNIaWRkZW5XaXRoaW5UcmVlID0gZnVuY3Rpb24oIGVsZW0sIGVsICkge1xuXG5cdFx0Ly8gaXNIaWRkZW5XaXRoaW5UcmVlIG1pZ2h0IGJlIGNhbGxlZCBmcm9tIGpRdWVyeSNmaWx0ZXIgZnVuY3Rpb247XG5cdFx0Ly8gaW4gdGhhdCBjYXNlLCBlbGVtZW50IHdpbGwgYmUgc2Vjb25kIGFyZ3VtZW50XG5cdFx0ZWxlbSA9IGVsIHx8IGVsZW07XG5cblx0XHQvLyBJbmxpbmUgc3R5bGUgdHJ1bXBzIGFsbFxuXHRcdHJldHVybiBlbGVtLnN0eWxlLmRpc3BsYXkgPT09IFwibm9uZVwiIHx8XG5cdFx0XHRlbGVtLnN0eWxlLmRpc3BsYXkgPT09IFwiXCIgJiZcblxuXHRcdFx0Ly8gT3RoZXJ3aXNlLCBjaGVjayBjb21wdXRlZCBzdHlsZVxuXHRcdFx0Ly8gU3VwcG9ydDogRmlyZWZveCA8PTQzIC0gNDVcblx0XHRcdC8vIERpc2Nvbm5lY3RlZCBlbGVtZW50cyBjYW4gaGF2ZSBjb21wdXRlZCBkaXNwbGF5OiBub25lLCBzbyBmaXJzdCBjb25maXJtIHRoYXQgZWxlbSBpc1xuXHRcdFx0Ly8gaW4gdGhlIGRvY3VtZW50LlxuXHRcdFx0alF1ZXJ5LmNvbnRhaW5zKCBlbGVtLm93bmVyRG9jdW1lbnQsIGVsZW0gKSAmJlxuXG5cdFx0XHRqUXVlcnkuY3NzKCBlbGVtLCBcImRpc3BsYXlcIiApID09PSBcIm5vbmVcIjtcblx0fTtcblxudmFyIHN3YXAgPSBmdW5jdGlvbiggZWxlbSwgb3B0aW9ucywgY2FsbGJhY2ssIGFyZ3MgKSB7XG5cdHZhciByZXQsIG5hbWUsXG5cdFx0b2xkID0ge307XG5cblx0Ly8gUmVtZW1iZXIgdGhlIG9sZCB2YWx1ZXMsIGFuZCBpbnNlcnQgdGhlIG5ldyBvbmVzXG5cdGZvciAoIG5hbWUgaW4gb3B0aW9ucyApIHtcblx0XHRvbGRbIG5hbWUgXSA9IGVsZW0uc3R5bGVbIG5hbWUgXTtcblx0XHRlbGVtLnN0eWxlWyBuYW1lIF0gPSBvcHRpb25zWyBuYW1lIF07XG5cdH1cblxuXHRyZXQgPSBjYWxsYmFjay5hcHBseSggZWxlbSwgYXJncyB8fCBbXSApO1xuXG5cdC8vIFJldmVydCB0aGUgb2xkIHZhbHVlc1xuXHRmb3IgKCBuYW1lIGluIG9wdGlvbnMgKSB7XG5cdFx0ZWxlbS5zdHlsZVsgbmFtZSBdID0gb2xkWyBuYW1lIF07XG5cdH1cblxuXHRyZXR1cm4gcmV0O1xufTtcblxuXG5cblxuZnVuY3Rpb24gYWRqdXN0Q1NTKCBlbGVtLCBwcm9wLCB2YWx1ZVBhcnRzLCB0d2VlbiApIHtcblx0dmFyIGFkanVzdGVkLFxuXHRcdHNjYWxlID0gMSxcblx0XHRtYXhJdGVyYXRpb25zID0gMjAsXG5cdFx0Y3VycmVudFZhbHVlID0gdHdlZW4gP1xuXHRcdFx0ZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiB0d2Vlbi5jdXIoKTtcblx0XHRcdH0gOlxuXHRcdFx0ZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiBqUXVlcnkuY3NzKCBlbGVtLCBwcm9wLCBcIlwiICk7XG5cdFx0XHR9LFxuXHRcdGluaXRpYWwgPSBjdXJyZW50VmFsdWUoKSxcblx0XHR1bml0ID0gdmFsdWVQYXJ0cyAmJiB2YWx1ZVBhcnRzWyAzIF0gfHwgKCBqUXVlcnkuY3NzTnVtYmVyWyBwcm9wIF0gPyBcIlwiIDogXCJweFwiICksXG5cblx0XHQvLyBTdGFydGluZyB2YWx1ZSBjb21wdXRhdGlvbiBpcyByZXF1aXJlZCBmb3IgcG90ZW50aWFsIHVuaXQgbWlzbWF0Y2hlc1xuXHRcdGluaXRpYWxJblVuaXQgPSAoIGpRdWVyeS5jc3NOdW1iZXJbIHByb3AgXSB8fCB1bml0ICE9PSBcInB4XCIgJiYgK2luaXRpYWwgKSAmJlxuXHRcdFx0cmNzc051bS5leGVjKCBqUXVlcnkuY3NzKCBlbGVtLCBwcm9wICkgKTtcblxuXHRpZiAoIGluaXRpYWxJblVuaXQgJiYgaW5pdGlhbEluVW5pdFsgMyBdICE9PSB1bml0ICkge1xuXG5cdFx0Ly8gVHJ1c3QgdW5pdHMgcmVwb3J0ZWQgYnkgalF1ZXJ5LmNzc1xuXHRcdHVuaXQgPSB1bml0IHx8IGluaXRpYWxJblVuaXRbIDMgXTtcblxuXHRcdC8vIE1ha2Ugc3VyZSB3ZSB1cGRhdGUgdGhlIHR3ZWVuIHByb3BlcnRpZXMgbGF0ZXIgb25cblx0XHR2YWx1ZVBhcnRzID0gdmFsdWVQYXJ0cyB8fCBbXTtcblxuXHRcdC8vIEl0ZXJhdGl2ZWx5IGFwcHJveGltYXRlIGZyb20gYSBub256ZXJvIHN0YXJ0aW5nIHBvaW50XG5cdFx0aW5pdGlhbEluVW5pdCA9ICtpbml0aWFsIHx8IDE7XG5cblx0XHRkbyB7XG5cblx0XHRcdC8vIElmIHByZXZpb3VzIGl0ZXJhdGlvbiB6ZXJvZWQgb3V0LCBkb3VibGUgdW50aWwgd2UgZ2V0ICpzb21ldGhpbmcqLlxuXHRcdFx0Ly8gVXNlIHN0cmluZyBmb3IgZG91Ymxpbmcgc28gd2UgZG9uJ3QgYWNjaWRlbnRhbGx5IHNlZSBzY2FsZSBhcyB1bmNoYW5nZWQgYmVsb3dcblx0XHRcdHNjYWxlID0gc2NhbGUgfHwgXCIuNVwiO1xuXG5cdFx0XHQvLyBBZGp1c3QgYW5kIGFwcGx5XG5cdFx0XHRpbml0aWFsSW5Vbml0ID0gaW5pdGlhbEluVW5pdCAvIHNjYWxlO1xuXHRcdFx0alF1ZXJ5LnN0eWxlKCBlbGVtLCBwcm9wLCBpbml0aWFsSW5Vbml0ICsgdW5pdCApO1xuXG5cdFx0Ly8gVXBkYXRlIHNjYWxlLCB0b2xlcmF0aW5nIHplcm8gb3IgTmFOIGZyb20gdHdlZW4uY3VyKClcblx0XHQvLyBCcmVhayB0aGUgbG9vcCBpZiBzY2FsZSBpcyB1bmNoYW5nZWQgb3IgcGVyZmVjdCwgb3IgaWYgd2UndmUganVzdCBoYWQgZW5vdWdoLlxuXHRcdH0gd2hpbGUgKFxuXHRcdFx0c2NhbGUgIT09ICggc2NhbGUgPSBjdXJyZW50VmFsdWUoKSAvIGluaXRpYWwgKSAmJiBzY2FsZSAhPT0gMSAmJiAtLW1heEl0ZXJhdGlvbnNcblx0XHQpO1xuXHR9XG5cblx0aWYgKCB2YWx1ZVBhcnRzICkge1xuXHRcdGluaXRpYWxJblVuaXQgPSAraW5pdGlhbEluVW5pdCB8fCAraW5pdGlhbCB8fCAwO1xuXG5cdFx0Ly8gQXBwbHkgcmVsYXRpdmUgb2Zmc2V0ICgrPS8tPSkgaWYgc3BlY2lmaWVkXG5cdFx0YWRqdXN0ZWQgPSB2YWx1ZVBhcnRzWyAxIF0gP1xuXHRcdFx0aW5pdGlhbEluVW5pdCArICggdmFsdWVQYXJ0c1sgMSBdICsgMSApICogdmFsdWVQYXJ0c1sgMiBdIDpcblx0XHRcdCt2YWx1ZVBhcnRzWyAyIF07XG5cdFx0aWYgKCB0d2VlbiApIHtcblx0XHRcdHR3ZWVuLnVuaXQgPSB1bml0O1xuXHRcdFx0dHdlZW4uc3RhcnQgPSBpbml0aWFsSW5Vbml0O1xuXHRcdFx0dHdlZW4uZW5kID0gYWRqdXN0ZWQ7XG5cdFx0fVxuXHR9XG5cdHJldHVybiBhZGp1c3RlZDtcbn1cblxuXG52YXIgZGVmYXVsdERpc3BsYXlNYXAgPSB7fTtcblxuZnVuY3Rpb24gZ2V0RGVmYXVsdERpc3BsYXkoIGVsZW0gKSB7XG5cdHZhciB0ZW1wLFxuXHRcdGRvYyA9IGVsZW0ub3duZXJEb2N1bWVudCxcblx0XHRub2RlTmFtZSA9IGVsZW0ubm9kZU5hbWUsXG5cdFx0ZGlzcGxheSA9IGRlZmF1bHREaXNwbGF5TWFwWyBub2RlTmFtZSBdO1xuXG5cdGlmICggZGlzcGxheSApIHtcblx0XHRyZXR1cm4gZGlzcGxheTtcblx0fVxuXG5cdHRlbXAgPSBkb2MuYm9keS5hcHBlbmRDaGlsZCggZG9jLmNyZWF0ZUVsZW1lbnQoIG5vZGVOYW1lICkgKTtcblx0ZGlzcGxheSA9IGpRdWVyeS5jc3MoIHRlbXAsIFwiZGlzcGxheVwiICk7XG5cblx0dGVtcC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKCB0ZW1wICk7XG5cblx0aWYgKCBkaXNwbGF5ID09PSBcIm5vbmVcIiApIHtcblx0XHRkaXNwbGF5ID0gXCJibG9ja1wiO1xuXHR9XG5cdGRlZmF1bHREaXNwbGF5TWFwWyBub2RlTmFtZSBdID0gZGlzcGxheTtcblxuXHRyZXR1cm4gZGlzcGxheTtcbn1cblxuZnVuY3Rpb24gc2hvd0hpZGUoIGVsZW1lbnRzLCBzaG93ICkge1xuXHR2YXIgZGlzcGxheSwgZWxlbSxcblx0XHR2YWx1ZXMgPSBbXSxcblx0XHRpbmRleCA9IDAsXG5cdFx0bGVuZ3RoID0gZWxlbWVudHMubGVuZ3RoO1xuXG5cdC8vIERldGVybWluZSBuZXcgZGlzcGxheSB2YWx1ZSBmb3IgZWxlbWVudHMgdGhhdCBuZWVkIHRvIGNoYW5nZVxuXHRmb3IgKCA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrICkge1xuXHRcdGVsZW0gPSBlbGVtZW50c1sgaW5kZXggXTtcblx0XHRpZiAoICFlbGVtLnN0eWxlICkge1xuXHRcdFx0Y29udGludWU7XG5cdFx0fVxuXG5cdFx0ZGlzcGxheSA9IGVsZW0uc3R5bGUuZGlzcGxheTtcblx0XHRpZiAoIHNob3cgKSB7XG5cblx0XHRcdC8vIFNpbmNlIHdlIGZvcmNlIHZpc2liaWxpdHkgdXBvbiBjYXNjYWRlLWhpZGRlbiBlbGVtZW50cywgYW4gaW1tZWRpYXRlIChhbmQgc2xvdylcblx0XHRcdC8vIGNoZWNrIGlzIHJlcXVpcmVkIGluIHRoaXMgZmlyc3QgbG9vcCB1bmxlc3Mgd2UgaGF2ZSBhIG5vbmVtcHR5IGRpc3BsYXkgdmFsdWUgKGVpdGhlclxuXHRcdFx0Ly8gaW5saW5lIG9yIGFib3V0LXRvLWJlLXJlc3RvcmVkKVxuXHRcdFx0aWYgKCBkaXNwbGF5ID09PSBcIm5vbmVcIiApIHtcblx0XHRcdFx0dmFsdWVzWyBpbmRleCBdID0gZGF0YVByaXYuZ2V0KCBlbGVtLCBcImRpc3BsYXlcIiApIHx8IG51bGw7XG5cdFx0XHRcdGlmICggIXZhbHVlc1sgaW5kZXggXSApIHtcblx0XHRcdFx0XHRlbGVtLnN0eWxlLmRpc3BsYXkgPSBcIlwiO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRpZiAoIGVsZW0uc3R5bGUuZGlzcGxheSA9PT0gXCJcIiAmJiBpc0hpZGRlbldpdGhpblRyZWUoIGVsZW0gKSApIHtcblx0XHRcdFx0dmFsdWVzWyBpbmRleCBdID0gZ2V0RGVmYXVsdERpc3BsYXkoIGVsZW0gKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0aWYgKCBkaXNwbGF5ICE9PSBcIm5vbmVcIiApIHtcblx0XHRcdFx0dmFsdWVzWyBpbmRleCBdID0gXCJub25lXCI7XG5cblx0XHRcdFx0Ly8gUmVtZW1iZXIgd2hhdCB3ZSdyZSBvdmVyd3JpdGluZ1xuXHRcdFx0XHRkYXRhUHJpdi5zZXQoIGVsZW0sIFwiZGlzcGxheVwiLCBkaXNwbGF5ICk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Ly8gU2V0IHRoZSBkaXNwbGF5IG9mIHRoZSBlbGVtZW50cyBpbiBhIHNlY29uZCBsb29wIHRvIGF2b2lkIGNvbnN0YW50IHJlZmxvd1xuXHRmb3IgKCBpbmRleCA9IDA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrICkge1xuXHRcdGlmICggdmFsdWVzWyBpbmRleCBdICE9IG51bGwgKSB7XG5cdFx0XHRlbGVtZW50c1sgaW5kZXggXS5zdHlsZS5kaXNwbGF5ID0gdmFsdWVzWyBpbmRleCBdO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiBlbGVtZW50cztcbn1cblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRzaG93OiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gc2hvd0hpZGUoIHRoaXMsIHRydWUgKTtcblx0fSxcblx0aGlkZTogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHNob3dIaWRlKCB0aGlzICk7XG5cdH0sXG5cdHRvZ2dsZTogZnVuY3Rpb24oIHN0YXRlICkge1xuXHRcdGlmICggdHlwZW9mIHN0YXRlID09PSBcImJvb2xlYW5cIiApIHtcblx0XHRcdHJldHVybiBzdGF0ZSA/IHRoaXMuc2hvdygpIDogdGhpcy5oaWRlKCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRpZiAoIGlzSGlkZGVuV2l0aGluVHJlZSggdGhpcyApICkge1xuXHRcdFx0XHRqUXVlcnkoIHRoaXMgKS5zaG93KCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRqUXVlcnkoIHRoaXMgKS5oaWRlKCk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9XG59ICk7XG52YXIgcmNoZWNrYWJsZVR5cGUgPSAoIC9eKD86Y2hlY2tib3h8cmFkaW8pJC9pICk7XG5cbnZhciBydGFnTmFtZSA9ICggLzwoW2Etel1bXlxcL1xcMD5cXHgyMFxcdFxcclxcblxcZl0rKS9pICk7XG5cbnZhciByc2NyaXB0VHlwZSA9ICggL14kfFxcLyg/OmphdmF8ZWNtYSlzY3JpcHQvaSApO1xuXG5cblxuLy8gV2UgaGF2ZSB0byBjbG9zZSB0aGVzZSB0YWdzIHRvIHN1cHBvcnQgWEhUTUwgKCMxMzIwMClcbnZhciB3cmFwTWFwID0ge1xuXG5cdC8vIFN1cHBvcnQ6IElFIDw9OSBvbmx5XG5cdG9wdGlvbjogWyAxLCBcIjxzZWxlY3QgbXVsdGlwbGU9J211bHRpcGxlJz5cIiwgXCI8L3NlbGVjdD5cIiBdLFxuXG5cdC8vIFhIVE1MIHBhcnNlcnMgZG8gbm90IG1hZ2ljYWxseSBpbnNlcnQgZWxlbWVudHMgaW4gdGhlXG5cdC8vIHNhbWUgd2F5IHRoYXQgdGFnIHNvdXAgcGFyc2VycyBkby4gU28gd2UgY2Fubm90IHNob3J0ZW5cblx0Ly8gdGhpcyBieSBvbWl0dGluZyA8dGJvZHk+IG9yIG90aGVyIHJlcXVpcmVkIGVsZW1lbnRzLlxuXHR0aGVhZDogWyAxLCBcIjx0YWJsZT5cIiwgXCI8L3RhYmxlPlwiIF0sXG5cdGNvbDogWyAyLCBcIjx0YWJsZT48Y29sZ3JvdXA+XCIsIFwiPC9jb2xncm91cD48L3RhYmxlPlwiIF0sXG5cdHRyOiBbIDIsIFwiPHRhYmxlPjx0Ym9keT5cIiwgXCI8L3Rib2R5PjwvdGFibGU+XCIgXSxcblx0dGQ6IFsgMywgXCI8dGFibGU+PHRib2R5Pjx0cj5cIiwgXCI8L3RyPjwvdGJvZHk+PC90YWJsZT5cIiBdLFxuXG5cdF9kZWZhdWx0OiBbIDAsIFwiXCIsIFwiXCIgXVxufTtcblxuLy8gU3VwcG9ydDogSUUgPD05IG9ubHlcbndyYXBNYXAub3B0Z3JvdXAgPSB3cmFwTWFwLm9wdGlvbjtcblxud3JhcE1hcC50Ym9keSA9IHdyYXBNYXAudGZvb3QgPSB3cmFwTWFwLmNvbGdyb3VwID0gd3JhcE1hcC5jYXB0aW9uID0gd3JhcE1hcC50aGVhZDtcbndyYXBNYXAudGggPSB3cmFwTWFwLnRkO1xuXG5cbmZ1bmN0aW9uIGdldEFsbCggY29udGV4dCwgdGFnICkge1xuXG5cdC8vIFN1cHBvcnQ6IElFIDw9OSAtIDExIG9ubHlcblx0Ly8gVXNlIHR5cGVvZiB0byBhdm9pZCB6ZXJvLWFyZ3VtZW50IG1ldGhvZCBpbnZvY2F0aW9uIG9uIGhvc3Qgb2JqZWN0cyAoIzE1MTUxKVxuXHR2YXIgcmV0O1xuXG5cdGlmICggdHlwZW9mIGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUgIT09IFwidW5kZWZpbmVkXCIgKSB7XG5cdFx0cmV0ID0gY29udGV4dC5nZXRFbGVtZW50c0J5VGFnTmFtZSggdGFnIHx8IFwiKlwiICk7XG5cblx0fSBlbHNlIGlmICggdHlwZW9mIGNvbnRleHQucXVlcnlTZWxlY3RvckFsbCAhPT0gXCJ1bmRlZmluZWRcIiApIHtcblx0XHRyZXQgPSBjb250ZXh0LnF1ZXJ5U2VsZWN0b3JBbGwoIHRhZyB8fCBcIipcIiApO1xuXG5cdH0gZWxzZSB7XG5cdFx0cmV0ID0gW107XG5cdH1cblxuXHRpZiAoIHRhZyA9PT0gdW5kZWZpbmVkIHx8IHRhZyAmJiBub2RlTmFtZSggY29udGV4dCwgdGFnICkgKSB7XG5cdFx0cmV0dXJuIGpRdWVyeS5tZXJnZSggWyBjb250ZXh0IF0sIHJldCApO1xuXHR9XG5cblx0cmV0dXJuIHJldDtcbn1cblxuXG4vLyBNYXJrIHNjcmlwdHMgYXMgaGF2aW5nIGFscmVhZHkgYmVlbiBldmFsdWF0ZWRcbmZ1bmN0aW9uIHNldEdsb2JhbEV2YWwoIGVsZW1zLCByZWZFbGVtZW50cyApIHtcblx0dmFyIGkgPSAwLFxuXHRcdGwgPSBlbGVtcy5sZW5ndGg7XG5cblx0Zm9yICggOyBpIDwgbDsgaSsrICkge1xuXHRcdGRhdGFQcml2LnNldChcblx0XHRcdGVsZW1zWyBpIF0sXG5cdFx0XHRcImdsb2JhbEV2YWxcIixcblx0XHRcdCFyZWZFbGVtZW50cyB8fCBkYXRhUHJpdi5nZXQoIHJlZkVsZW1lbnRzWyBpIF0sIFwiZ2xvYmFsRXZhbFwiIClcblx0XHQpO1xuXHR9XG59XG5cblxudmFyIHJodG1sID0gLzx8JiM/XFx3KzsvO1xuXG5mdW5jdGlvbiBidWlsZEZyYWdtZW50KCBlbGVtcywgY29udGV4dCwgc2NyaXB0cywgc2VsZWN0aW9uLCBpZ25vcmVkICkge1xuXHR2YXIgZWxlbSwgdG1wLCB0YWcsIHdyYXAsIGNvbnRhaW5zLCBqLFxuXHRcdGZyYWdtZW50ID0gY29udGV4dC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksXG5cdFx0bm9kZXMgPSBbXSxcblx0XHRpID0gMCxcblx0XHRsID0gZWxlbXMubGVuZ3RoO1xuXG5cdGZvciAoIDsgaSA8IGw7IGkrKyApIHtcblx0XHRlbGVtID0gZWxlbXNbIGkgXTtcblxuXHRcdGlmICggZWxlbSB8fCBlbGVtID09PSAwICkge1xuXG5cdFx0XHQvLyBBZGQgbm9kZXMgZGlyZWN0bHlcblx0XHRcdGlmICggalF1ZXJ5LnR5cGUoIGVsZW0gKSA9PT0gXCJvYmplY3RcIiApIHtcblxuXHRcdFx0XHQvLyBTdXBwb3J0OiBBbmRyb2lkIDw9NC4wIG9ubHksIFBoYW50b21KUyAxIG9ubHlcblx0XHRcdFx0Ly8gcHVzaC5hcHBseShfLCBhcnJheWxpa2UpIHRocm93cyBvbiBhbmNpZW50IFdlYktpdFxuXHRcdFx0XHRqUXVlcnkubWVyZ2UoIG5vZGVzLCBlbGVtLm5vZGVUeXBlID8gWyBlbGVtIF0gOiBlbGVtICk7XG5cblx0XHRcdC8vIENvbnZlcnQgbm9uLWh0bWwgaW50byBhIHRleHQgbm9kZVxuXHRcdFx0fSBlbHNlIGlmICggIXJodG1sLnRlc3QoIGVsZW0gKSApIHtcblx0XHRcdFx0bm9kZXMucHVzaCggY29udGV4dC5jcmVhdGVUZXh0Tm9kZSggZWxlbSApICk7XG5cblx0XHRcdC8vIENvbnZlcnQgaHRtbCBpbnRvIERPTSBub2Rlc1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dG1wID0gdG1wIHx8IGZyYWdtZW50LmFwcGVuZENoaWxkKCBjb250ZXh0LmNyZWF0ZUVsZW1lbnQoIFwiZGl2XCIgKSApO1xuXG5cdFx0XHRcdC8vIERlc2VyaWFsaXplIGEgc3RhbmRhcmQgcmVwcmVzZW50YXRpb25cblx0XHRcdFx0dGFnID0gKCBydGFnTmFtZS5leGVjKCBlbGVtICkgfHwgWyBcIlwiLCBcIlwiIF0gKVsgMSBdLnRvTG93ZXJDYXNlKCk7XG5cdFx0XHRcdHdyYXAgPSB3cmFwTWFwWyB0YWcgXSB8fCB3cmFwTWFwLl9kZWZhdWx0O1xuXHRcdFx0XHR0bXAuaW5uZXJIVE1MID0gd3JhcFsgMSBdICsgalF1ZXJ5Lmh0bWxQcmVmaWx0ZXIoIGVsZW0gKSArIHdyYXBbIDIgXTtcblxuXHRcdFx0XHQvLyBEZXNjZW5kIHRocm91Z2ggd3JhcHBlcnMgdG8gdGhlIHJpZ2h0IGNvbnRlbnRcblx0XHRcdFx0aiA9IHdyYXBbIDAgXTtcblx0XHRcdFx0d2hpbGUgKCBqLS0gKSB7XG5cdFx0XHRcdFx0dG1wID0gdG1wLmxhc3RDaGlsZDtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIFN1cHBvcnQ6IEFuZHJvaWQgPD00LjAgb25seSwgUGhhbnRvbUpTIDEgb25seVxuXHRcdFx0XHQvLyBwdXNoLmFwcGx5KF8sIGFycmF5bGlrZSkgdGhyb3dzIG9uIGFuY2llbnQgV2ViS2l0XG5cdFx0XHRcdGpRdWVyeS5tZXJnZSggbm9kZXMsIHRtcC5jaGlsZE5vZGVzICk7XG5cblx0XHRcdFx0Ly8gUmVtZW1iZXIgdGhlIHRvcC1sZXZlbCBjb250YWluZXJcblx0XHRcdFx0dG1wID0gZnJhZ21lbnQuZmlyc3RDaGlsZDtcblxuXHRcdFx0XHQvLyBFbnN1cmUgdGhlIGNyZWF0ZWQgbm9kZXMgYXJlIG9ycGhhbmVkICgjMTIzOTIpXG5cdFx0XHRcdHRtcC50ZXh0Q29udGVudCA9IFwiXCI7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Ly8gUmVtb3ZlIHdyYXBwZXIgZnJvbSBmcmFnbWVudFxuXHRmcmFnbWVudC50ZXh0Q29udGVudCA9IFwiXCI7XG5cblx0aSA9IDA7XG5cdHdoaWxlICggKCBlbGVtID0gbm9kZXNbIGkrKyBdICkgKSB7XG5cblx0XHQvLyBTa2lwIGVsZW1lbnRzIGFscmVhZHkgaW4gdGhlIGNvbnRleHQgY29sbGVjdGlvbiAodHJhYy00MDg3KVxuXHRcdGlmICggc2VsZWN0aW9uICYmIGpRdWVyeS5pbkFycmF5KCBlbGVtLCBzZWxlY3Rpb24gKSA+IC0xICkge1xuXHRcdFx0aWYgKCBpZ25vcmVkICkge1xuXHRcdFx0XHRpZ25vcmVkLnB1c2goIGVsZW0gKTtcblx0XHRcdH1cblx0XHRcdGNvbnRpbnVlO1xuXHRcdH1cblxuXHRcdGNvbnRhaW5zID0galF1ZXJ5LmNvbnRhaW5zKCBlbGVtLm93bmVyRG9jdW1lbnQsIGVsZW0gKTtcblxuXHRcdC8vIEFwcGVuZCB0byBmcmFnbWVudFxuXHRcdHRtcCA9IGdldEFsbCggZnJhZ21lbnQuYXBwZW5kQ2hpbGQoIGVsZW0gKSwgXCJzY3JpcHRcIiApO1xuXG5cdFx0Ly8gUHJlc2VydmUgc2NyaXB0IGV2YWx1YXRpb24gaGlzdG9yeVxuXHRcdGlmICggY29udGFpbnMgKSB7XG5cdFx0XHRzZXRHbG9iYWxFdmFsKCB0bXAgKTtcblx0XHR9XG5cblx0XHQvLyBDYXB0dXJlIGV4ZWN1dGFibGVzXG5cdFx0aWYgKCBzY3JpcHRzICkge1xuXHRcdFx0aiA9IDA7XG5cdFx0XHR3aGlsZSAoICggZWxlbSA9IHRtcFsgaisrIF0gKSApIHtcblx0XHRcdFx0aWYgKCByc2NyaXB0VHlwZS50ZXN0KCBlbGVtLnR5cGUgfHwgXCJcIiApICkge1xuXHRcdFx0XHRcdHNjcmlwdHMucHVzaCggZWxlbSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIGZyYWdtZW50O1xufVxuXG5cbiggZnVuY3Rpb24oKSB7XG5cdHZhciBmcmFnbWVudCA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxcblx0XHRkaXYgPSBmcmFnbWVudC5hcHBlbmRDaGlsZCggZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJkaXZcIiApICksXG5cdFx0aW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImlucHV0XCIgKTtcblxuXHQvLyBTdXBwb3J0OiBBbmRyb2lkIDQuMCAtIDQuMyBvbmx5XG5cdC8vIENoZWNrIHN0YXRlIGxvc3QgaWYgdGhlIG5hbWUgaXMgc2V0ICgjMTEyMTcpXG5cdC8vIFN1cHBvcnQ6IFdpbmRvd3MgV2ViIEFwcHMgKFdXQSlcblx0Ly8gYG5hbWVgIGFuZCBgdHlwZWAgbXVzdCB1c2UgLnNldEF0dHJpYnV0ZSBmb3IgV1dBICgjMTQ5MDEpXG5cdGlucHV0LnNldEF0dHJpYnV0ZSggXCJ0eXBlXCIsIFwicmFkaW9cIiApO1xuXHRpbnB1dC5zZXRBdHRyaWJ1dGUoIFwiY2hlY2tlZFwiLCBcImNoZWNrZWRcIiApO1xuXHRpbnB1dC5zZXRBdHRyaWJ1dGUoIFwibmFtZVwiLCBcInRcIiApO1xuXG5cdGRpdi5hcHBlbmRDaGlsZCggaW5wdXQgKTtcblxuXHQvLyBTdXBwb3J0OiBBbmRyb2lkIDw9NC4xIG9ubHlcblx0Ly8gT2xkZXIgV2ViS2l0IGRvZXNuJ3QgY2xvbmUgY2hlY2tlZCBzdGF0ZSBjb3JyZWN0bHkgaW4gZnJhZ21lbnRzXG5cdHN1cHBvcnQuY2hlY2tDbG9uZSA9IGRpdi5jbG9uZU5vZGUoIHRydWUgKS5jbG9uZU5vZGUoIHRydWUgKS5sYXN0Q2hpbGQuY2hlY2tlZDtcblxuXHQvLyBTdXBwb3J0OiBJRSA8PTExIG9ubHlcblx0Ly8gTWFrZSBzdXJlIHRleHRhcmVhIChhbmQgY2hlY2tib3gpIGRlZmF1bHRWYWx1ZSBpcyBwcm9wZXJseSBjbG9uZWRcblx0ZGl2LmlubmVySFRNTCA9IFwiPHRleHRhcmVhPng8L3RleHRhcmVhPlwiO1xuXHRzdXBwb3J0Lm5vQ2xvbmVDaGVja2VkID0gISFkaXYuY2xvbmVOb2RlKCB0cnVlICkubGFzdENoaWxkLmRlZmF1bHRWYWx1ZTtcbn0gKSgpO1xudmFyIGRvY3VtZW50RWxlbWVudCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcblxuXG5cbnZhclxuXHRya2V5RXZlbnQgPSAvXmtleS8sXG5cdHJtb3VzZUV2ZW50ID0gL14oPzptb3VzZXxwb2ludGVyfGNvbnRleHRtZW51fGRyYWd8ZHJvcCl8Y2xpY2svLFxuXHRydHlwZW5hbWVzcGFjZSA9IC9eKFteLl0qKSg/OlxcLiguKyl8KS87XG5cbmZ1bmN0aW9uIHJldHVyblRydWUoKSB7XG5cdHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiByZXR1cm5GYWxzZSgpIHtcblx0cmV0dXJuIGZhbHNlO1xufVxuXG4vLyBTdXBwb3J0OiBJRSA8PTkgb25seVxuLy8gU2VlICMxMzM5MyBmb3IgbW9yZSBpbmZvXG5mdW5jdGlvbiBzYWZlQWN0aXZlRWxlbWVudCgpIHtcblx0dHJ5IHtcblx0XHRyZXR1cm4gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcblx0fSBjYXRjaCAoIGVyciApIHsgfVxufVxuXG5mdW5jdGlvbiBvbiggZWxlbSwgdHlwZXMsIHNlbGVjdG9yLCBkYXRhLCBmbiwgb25lICkge1xuXHR2YXIgb3JpZ0ZuLCB0eXBlO1xuXG5cdC8vIFR5cGVzIGNhbiBiZSBhIG1hcCBvZiB0eXBlcy9oYW5kbGVyc1xuXHRpZiAoIHR5cGVvZiB0eXBlcyA9PT0gXCJvYmplY3RcIiApIHtcblxuXHRcdC8vICggdHlwZXMtT2JqZWN0LCBzZWxlY3RvciwgZGF0YSApXG5cdFx0aWYgKCB0eXBlb2Ygc2VsZWN0b3IgIT09IFwic3RyaW5nXCIgKSB7XG5cblx0XHRcdC8vICggdHlwZXMtT2JqZWN0LCBkYXRhIClcblx0XHRcdGRhdGEgPSBkYXRhIHx8IHNlbGVjdG9yO1xuXHRcdFx0c2VsZWN0b3IgPSB1bmRlZmluZWQ7XG5cdFx0fVxuXHRcdGZvciAoIHR5cGUgaW4gdHlwZXMgKSB7XG5cdFx0XHRvbiggZWxlbSwgdHlwZSwgc2VsZWN0b3IsIGRhdGEsIHR5cGVzWyB0eXBlIF0sIG9uZSApO1xuXHRcdH1cblx0XHRyZXR1cm4gZWxlbTtcblx0fVxuXG5cdGlmICggZGF0YSA9PSBudWxsICYmIGZuID09IG51bGwgKSB7XG5cblx0XHQvLyAoIHR5cGVzLCBmbiApXG5cdFx0Zm4gPSBzZWxlY3Rvcjtcblx0XHRkYXRhID0gc2VsZWN0b3IgPSB1bmRlZmluZWQ7XG5cdH0gZWxzZSBpZiAoIGZuID09IG51bGwgKSB7XG5cdFx0aWYgKCB0eXBlb2Ygc2VsZWN0b3IgPT09IFwic3RyaW5nXCIgKSB7XG5cblx0XHRcdC8vICggdHlwZXMsIHNlbGVjdG9yLCBmbiApXG5cdFx0XHRmbiA9IGRhdGE7XG5cdFx0XHRkYXRhID0gdW5kZWZpbmVkO1xuXHRcdH0gZWxzZSB7XG5cblx0XHRcdC8vICggdHlwZXMsIGRhdGEsIGZuIClcblx0XHRcdGZuID0gZGF0YTtcblx0XHRcdGRhdGEgPSBzZWxlY3Rvcjtcblx0XHRcdHNlbGVjdG9yID0gdW5kZWZpbmVkO1xuXHRcdH1cblx0fVxuXHRpZiAoIGZuID09PSBmYWxzZSApIHtcblx0XHRmbiA9IHJldHVybkZhbHNlO1xuXHR9IGVsc2UgaWYgKCAhZm4gKSB7XG5cdFx0cmV0dXJuIGVsZW07XG5cdH1cblxuXHRpZiAoIG9uZSA9PT0gMSApIHtcblx0XHRvcmlnRm4gPSBmbjtcblx0XHRmbiA9IGZ1bmN0aW9uKCBldmVudCApIHtcblxuXHRcdFx0Ly8gQ2FuIHVzZSBhbiBlbXB0eSBzZXQsIHNpbmNlIGV2ZW50IGNvbnRhaW5zIHRoZSBpbmZvXG5cdFx0XHRqUXVlcnkoKS5vZmYoIGV2ZW50ICk7XG5cdFx0XHRyZXR1cm4gb3JpZ0ZuLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblx0XHR9O1xuXG5cdFx0Ly8gVXNlIHNhbWUgZ3VpZCBzbyBjYWxsZXIgY2FuIHJlbW92ZSB1c2luZyBvcmlnRm5cblx0XHRmbi5ndWlkID0gb3JpZ0ZuLmd1aWQgfHwgKCBvcmlnRm4uZ3VpZCA9IGpRdWVyeS5ndWlkKysgKTtcblx0fVxuXHRyZXR1cm4gZWxlbS5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRqUXVlcnkuZXZlbnQuYWRkKCB0aGlzLCB0eXBlcywgZm4sIGRhdGEsIHNlbGVjdG9yICk7XG5cdH0gKTtcbn1cblxuLypcbiAqIEhlbHBlciBmdW5jdGlvbnMgZm9yIG1hbmFnaW5nIGV2ZW50cyAtLSBub3QgcGFydCBvZiB0aGUgcHVibGljIGludGVyZmFjZS5cbiAqIFByb3BzIHRvIERlYW4gRWR3YXJkcycgYWRkRXZlbnQgbGlicmFyeSBmb3IgbWFueSBvZiB0aGUgaWRlYXMuXG4gKi9cbmpRdWVyeS5ldmVudCA9IHtcblxuXHRnbG9iYWw6IHt9LFxuXG5cdGFkZDogZnVuY3Rpb24oIGVsZW0sIHR5cGVzLCBoYW5kbGVyLCBkYXRhLCBzZWxlY3RvciApIHtcblxuXHRcdHZhciBoYW5kbGVPYmpJbiwgZXZlbnRIYW5kbGUsIHRtcCxcblx0XHRcdGV2ZW50cywgdCwgaGFuZGxlT2JqLFxuXHRcdFx0c3BlY2lhbCwgaGFuZGxlcnMsIHR5cGUsIG5hbWVzcGFjZXMsIG9yaWdUeXBlLFxuXHRcdFx0ZWxlbURhdGEgPSBkYXRhUHJpdi5nZXQoIGVsZW0gKTtcblxuXHRcdC8vIERvbid0IGF0dGFjaCBldmVudHMgdG8gbm9EYXRhIG9yIHRleHQvY29tbWVudCBub2RlcyAoYnV0IGFsbG93IHBsYWluIG9iamVjdHMpXG5cdFx0aWYgKCAhZWxlbURhdGEgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gQ2FsbGVyIGNhbiBwYXNzIGluIGFuIG9iamVjdCBvZiBjdXN0b20gZGF0YSBpbiBsaWV1IG9mIHRoZSBoYW5kbGVyXG5cdFx0aWYgKCBoYW5kbGVyLmhhbmRsZXIgKSB7XG5cdFx0XHRoYW5kbGVPYmpJbiA9IGhhbmRsZXI7XG5cdFx0XHRoYW5kbGVyID0gaGFuZGxlT2JqSW4uaGFuZGxlcjtcblx0XHRcdHNlbGVjdG9yID0gaGFuZGxlT2JqSW4uc2VsZWN0b3I7XG5cdFx0fVxuXG5cdFx0Ly8gRW5zdXJlIHRoYXQgaW52YWxpZCBzZWxlY3RvcnMgdGhyb3cgZXhjZXB0aW9ucyBhdCBhdHRhY2ggdGltZVxuXHRcdC8vIEV2YWx1YXRlIGFnYWluc3QgZG9jdW1lbnRFbGVtZW50IGluIGNhc2UgZWxlbSBpcyBhIG5vbi1lbGVtZW50IG5vZGUgKGUuZy4sIGRvY3VtZW50KVxuXHRcdGlmICggc2VsZWN0b3IgKSB7XG5cdFx0XHRqUXVlcnkuZmluZC5tYXRjaGVzU2VsZWN0b3IoIGRvY3VtZW50RWxlbWVudCwgc2VsZWN0b3IgKTtcblx0XHR9XG5cblx0XHQvLyBNYWtlIHN1cmUgdGhhdCB0aGUgaGFuZGxlciBoYXMgYSB1bmlxdWUgSUQsIHVzZWQgdG8gZmluZC9yZW1vdmUgaXQgbGF0ZXJcblx0XHRpZiAoICFoYW5kbGVyLmd1aWQgKSB7XG5cdFx0XHRoYW5kbGVyLmd1aWQgPSBqUXVlcnkuZ3VpZCsrO1xuXHRcdH1cblxuXHRcdC8vIEluaXQgdGhlIGVsZW1lbnQncyBldmVudCBzdHJ1Y3R1cmUgYW5kIG1haW4gaGFuZGxlciwgaWYgdGhpcyBpcyB0aGUgZmlyc3Rcblx0XHRpZiAoICEoIGV2ZW50cyA9IGVsZW1EYXRhLmV2ZW50cyApICkge1xuXHRcdFx0ZXZlbnRzID0gZWxlbURhdGEuZXZlbnRzID0ge307XG5cdFx0fVxuXHRcdGlmICggISggZXZlbnRIYW5kbGUgPSBlbGVtRGF0YS5oYW5kbGUgKSApIHtcblx0XHRcdGV2ZW50SGFuZGxlID0gZWxlbURhdGEuaGFuZGxlID0gZnVuY3Rpb24oIGUgKSB7XG5cblx0XHRcdFx0Ly8gRGlzY2FyZCB0aGUgc2Vjb25kIGV2ZW50IG9mIGEgalF1ZXJ5LmV2ZW50LnRyaWdnZXIoKSBhbmRcblx0XHRcdFx0Ly8gd2hlbiBhbiBldmVudCBpcyBjYWxsZWQgYWZ0ZXIgYSBwYWdlIGhhcyB1bmxvYWRlZFxuXHRcdFx0XHRyZXR1cm4gdHlwZW9mIGpRdWVyeSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBqUXVlcnkuZXZlbnQudHJpZ2dlcmVkICE9PSBlLnR5cGUgP1xuXHRcdFx0XHRcdGpRdWVyeS5ldmVudC5kaXNwYXRjaC5hcHBseSggZWxlbSwgYXJndW1lbnRzICkgOiB1bmRlZmluZWQ7XG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdC8vIEhhbmRsZSBtdWx0aXBsZSBldmVudHMgc2VwYXJhdGVkIGJ5IGEgc3BhY2Vcblx0XHR0eXBlcyA9ICggdHlwZXMgfHwgXCJcIiApLm1hdGNoKCBybm90aHRtbHdoaXRlICkgfHwgWyBcIlwiIF07XG5cdFx0dCA9IHR5cGVzLmxlbmd0aDtcblx0XHR3aGlsZSAoIHQtLSApIHtcblx0XHRcdHRtcCA9IHJ0eXBlbmFtZXNwYWNlLmV4ZWMoIHR5cGVzWyB0IF0gKSB8fCBbXTtcblx0XHRcdHR5cGUgPSBvcmlnVHlwZSA9IHRtcFsgMSBdO1xuXHRcdFx0bmFtZXNwYWNlcyA9ICggdG1wWyAyIF0gfHwgXCJcIiApLnNwbGl0KCBcIi5cIiApLnNvcnQoKTtcblxuXHRcdFx0Ly8gVGhlcmUgKm11c3QqIGJlIGEgdHlwZSwgbm8gYXR0YWNoaW5nIG5hbWVzcGFjZS1vbmx5IGhhbmRsZXJzXG5cdFx0XHRpZiAoICF0eXBlICkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gSWYgZXZlbnQgY2hhbmdlcyBpdHMgdHlwZSwgdXNlIHRoZSBzcGVjaWFsIGV2ZW50IGhhbmRsZXJzIGZvciB0aGUgY2hhbmdlZCB0eXBlXG5cdFx0XHRzcGVjaWFsID0galF1ZXJ5LmV2ZW50LnNwZWNpYWxbIHR5cGUgXSB8fCB7fTtcblxuXHRcdFx0Ly8gSWYgc2VsZWN0b3IgZGVmaW5lZCwgZGV0ZXJtaW5lIHNwZWNpYWwgZXZlbnQgYXBpIHR5cGUsIG90aGVyd2lzZSBnaXZlbiB0eXBlXG5cdFx0XHR0eXBlID0gKCBzZWxlY3RvciA/IHNwZWNpYWwuZGVsZWdhdGVUeXBlIDogc3BlY2lhbC5iaW5kVHlwZSApIHx8IHR5cGU7XG5cblx0XHRcdC8vIFVwZGF0ZSBzcGVjaWFsIGJhc2VkIG9uIG5ld2x5IHJlc2V0IHR5cGVcblx0XHRcdHNwZWNpYWwgPSBqUXVlcnkuZXZlbnQuc3BlY2lhbFsgdHlwZSBdIHx8IHt9O1xuXG5cdFx0XHQvLyBoYW5kbGVPYmogaXMgcGFzc2VkIHRvIGFsbCBldmVudCBoYW5kbGVyc1xuXHRcdFx0aGFuZGxlT2JqID0galF1ZXJ5LmV4dGVuZCgge1xuXHRcdFx0XHR0eXBlOiB0eXBlLFxuXHRcdFx0XHRvcmlnVHlwZTogb3JpZ1R5cGUsXG5cdFx0XHRcdGRhdGE6IGRhdGEsXG5cdFx0XHRcdGhhbmRsZXI6IGhhbmRsZXIsXG5cdFx0XHRcdGd1aWQ6IGhhbmRsZXIuZ3VpZCxcblx0XHRcdFx0c2VsZWN0b3I6IHNlbGVjdG9yLFxuXHRcdFx0XHRuZWVkc0NvbnRleHQ6IHNlbGVjdG9yICYmIGpRdWVyeS5leHByLm1hdGNoLm5lZWRzQ29udGV4dC50ZXN0KCBzZWxlY3RvciApLFxuXHRcdFx0XHRuYW1lc3BhY2U6IG5hbWVzcGFjZXMuam9pbiggXCIuXCIgKVxuXHRcdFx0fSwgaGFuZGxlT2JqSW4gKTtcblxuXHRcdFx0Ly8gSW5pdCB0aGUgZXZlbnQgaGFuZGxlciBxdWV1ZSBpZiB3ZSdyZSB0aGUgZmlyc3Rcblx0XHRcdGlmICggISggaGFuZGxlcnMgPSBldmVudHNbIHR5cGUgXSApICkge1xuXHRcdFx0XHRoYW5kbGVycyA9IGV2ZW50c1sgdHlwZSBdID0gW107XG5cdFx0XHRcdGhhbmRsZXJzLmRlbGVnYXRlQ291bnQgPSAwO1xuXG5cdFx0XHRcdC8vIE9ubHkgdXNlIGFkZEV2ZW50TGlzdGVuZXIgaWYgdGhlIHNwZWNpYWwgZXZlbnRzIGhhbmRsZXIgcmV0dXJucyBmYWxzZVxuXHRcdFx0XHRpZiAoICFzcGVjaWFsLnNldHVwIHx8XG5cdFx0XHRcdFx0c3BlY2lhbC5zZXR1cC5jYWxsKCBlbGVtLCBkYXRhLCBuYW1lc3BhY2VzLCBldmVudEhhbmRsZSApID09PSBmYWxzZSApIHtcblxuXHRcdFx0XHRcdGlmICggZWxlbS5hZGRFdmVudExpc3RlbmVyICkge1xuXHRcdFx0XHRcdFx0ZWxlbS5hZGRFdmVudExpc3RlbmVyKCB0eXBlLCBldmVudEhhbmRsZSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIHNwZWNpYWwuYWRkICkge1xuXHRcdFx0XHRzcGVjaWFsLmFkZC5jYWxsKCBlbGVtLCBoYW5kbGVPYmogKTtcblxuXHRcdFx0XHRpZiAoICFoYW5kbGVPYmouaGFuZGxlci5ndWlkICkge1xuXHRcdFx0XHRcdGhhbmRsZU9iai5oYW5kbGVyLmd1aWQgPSBoYW5kbGVyLmd1aWQ7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gQWRkIHRvIHRoZSBlbGVtZW50J3MgaGFuZGxlciBsaXN0LCBkZWxlZ2F0ZXMgaW4gZnJvbnRcblx0XHRcdGlmICggc2VsZWN0b3IgKSB7XG5cdFx0XHRcdGhhbmRsZXJzLnNwbGljZSggaGFuZGxlcnMuZGVsZWdhdGVDb3VudCsrLCAwLCBoYW5kbGVPYmogKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGhhbmRsZXJzLnB1c2goIGhhbmRsZU9iaiApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBLZWVwIHRyYWNrIG9mIHdoaWNoIGV2ZW50cyBoYXZlIGV2ZXIgYmVlbiB1c2VkLCBmb3IgZXZlbnQgb3B0aW1pemF0aW9uXG5cdFx0XHRqUXVlcnkuZXZlbnQuZ2xvYmFsWyB0eXBlIF0gPSB0cnVlO1xuXHRcdH1cblxuXHR9LFxuXG5cdC8vIERldGFjaCBhbiBldmVudCBvciBzZXQgb2YgZXZlbnRzIGZyb20gYW4gZWxlbWVudFxuXHRyZW1vdmU6IGZ1bmN0aW9uKCBlbGVtLCB0eXBlcywgaGFuZGxlciwgc2VsZWN0b3IsIG1hcHBlZFR5cGVzICkge1xuXG5cdFx0dmFyIGosIG9yaWdDb3VudCwgdG1wLFxuXHRcdFx0ZXZlbnRzLCB0LCBoYW5kbGVPYmosXG5cdFx0XHRzcGVjaWFsLCBoYW5kbGVycywgdHlwZSwgbmFtZXNwYWNlcywgb3JpZ1R5cGUsXG5cdFx0XHRlbGVtRGF0YSA9IGRhdGFQcml2Lmhhc0RhdGEoIGVsZW0gKSAmJiBkYXRhUHJpdi5nZXQoIGVsZW0gKTtcblxuXHRcdGlmICggIWVsZW1EYXRhIHx8ICEoIGV2ZW50cyA9IGVsZW1EYXRhLmV2ZW50cyApICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIE9uY2UgZm9yIGVhY2ggdHlwZS5uYW1lc3BhY2UgaW4gdHlwZXM7IHR5cGUgbWF5IGJlIG9taXR0ZWRcblx0XHR0eXBlcyA9ICggdHlwZXMgfHwgXCJcIiApLm1hdGNoKCBybm90aHRtbHdoaXRlICkgfHwgWyBcIlwiIF07XG5cdFx0dCA9IHR5cGVzLmxlbmd0aDtcblx0XHR3aGlsZSAoIHQtLSApIHtcblx0XHRcdHRtcCA9IHJ0eXBlbmFtZXNwYWNlLmV4ZWMoIHR5cGVzWyB0IF0gKSB8fCBbXTtcblx0XHRcdHR5cGUgPSBvcmlnVHlwZSA9IHRtcFsgMSBdO1xuXHRcdFx0bmFtZXNwYWNlcyA9ICggdG1wWyAyIF0gfHwgXCJcIiApLnNwbGl0KCBcIi5cIiApLnNvcnQoKTtcblxuXHRcdFx0Ly8gVW5iaW5kIGFsbCBldmVudHMgKG9uIHRoaXMgbmFtZXNwYWNlLCBpZiBwcm92aWRlZCkgZm9yIHRoZSBlbGVtZW50XG5cdFx0XHRpZiAoICF0eXBlICkge1xuXHRcdFx0XHRmb3IgKCB0eXBlIGluIGV2ZW50cyApIHtcblx0XHRcdFx0XHRqUXVlcnkuZXZlbnQucmVtb3ZlKCBlbGVtLCB0eXBlICsgdHlwZXNbIHQgXSwgaGFuZGxlciwgc2VsZWN0b3IsIHRydWUgKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0c3BlY2lhbCA9IGpRdWVyeS5ldmVudC5zcGVjaWFsWyB0eXBlIF0gfHwge307XG5cdFx0XHR0eXBlID0gKCBzZWxlY3RvciA/IHNwZWNpYWwuZGVsZWdhdGVUeXBlIDogc3BlY2lhbC5iaW5kVHlwZSApIHx8IHR5cGU7XG5cdFx0XHRoYW5kbGVycyA9IGV2ZW50c1sgdHlwZSBdIHx8IFtdO1xuXHRcdFx0dG1wID0gdG1wWyAyIF0gJiZcblx0XHRcdFx0bmV3IFJlZ0V4cCggXCIoXnxcXFxcLilcIiArIG5hbWVzcGFjZXMuam9pbiggXCJcXFxcLig/Oi4qXFxcXC58KVwiICkgKyBcIihcXFxcLnwkKVwiICk7XG5cblx0XHRcdC8vIFJlbW92ZSBtYXRjaGluZyBldmVudHNcblx0XHRcdG9yaWdDb3VudCA9IGogPSBoYW5kbGVycy5sZW5ndGg7XG5cdFx0XHR3aGlsZSAoIGotLSApIHtcblx0XHRcdFx0aGFuZGxlT2JqID0gaGFuZGxlcnNbIGogXTtcblxuXHRcdFx0XHRpZiAoICggbWFwcGVkVHlwZXMgfHwgb3JpZ1R5cGUgPT09IGhhbmRsZU9iai5vcmlnVHlwZSApICYmXG5cdFx0XHRcdFx0KCAhaGFuZGxlciB8fCBoYW5kbGVyLmd1aWQgPT09IGhhbmRsZU9iai5ndWlkICkgJiZcblx0XHRcdFx0XHQoICF0bXAgfHwgdG1wLnRlc3QoIGhhbmRsZU9iai5uYW1lc3BhY2UgKSApICYmXG5cdFx0XHRcdFx0KCAhc2VsZWN0b3IgfHwgc2VsZWN0b3IgPT09IGhhbmRsZU9iai5zZWxlY3RvciB8fFxuXHRcdFx0XHRcdFx0c2VsZWN0b3IgPT09IFwiKipcIiAmJiBoYW5kbGVPYmouc2VsZWN0b3IgKSApIHtcblx0XHRcdFx0XHRoYW5kbGVycy5zcGxpY2UoIGosIDEgKTtcblxuXHRcdFx0XHRcdGlmICggaGFuZGxlT2JqLnNlbGVjdG9yICkge1xuXHRcdFx0XHRcdFx0aGFuZGxlcnMuZGVsZWdhdGVDb3VudC0tO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZiAoIHNwZWNpYWwucmVtb3ZlICkge1xuXHRcdFx0XHRcdFx0c3BlY2lhbC5yZW1vdmUuY2FsbCggZWxlbSwgaGFuZGxlT2JqICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIFJlbW92ZSBnZW5lcmljIGV2ZW50IGhhbmRsZXIgaWYgd2UgcmVtb3ZlZCBzb21ldGhpbmcgYW5kIG5vIG1vcmUgaGFuZGxlcnMgZXhpc3Rcblx0XHRcdC8vIChhdm9pZHMgcG90ZW50aWFsIGZvciBlbmRsZXNzIHJlY3Vyc2lvbiBkdXJpbmcgcmVtb3ZhbCBvZiBzcGVjaWFsIGV2ZW50IGhhbmRsZXJzKVxuXHRcdFx0aWYgKCBvcmlnQ291bnQgJiYgIWhhbmRsZXJzLmxlbmd0aCApIHtcblx0XHRcdFx0aWYgKCAhc3BlY2lhbC50ZWFyZG93biB8fFxuXHRcdFx0XHRcdHNwZWNpYWwudGVhcmRvd24uY2FsbCggZWxlbSwgbmFtZXNwYWNlcywgZWxlbURhdGEuaGFuZGxlICkgPT09IGZhbHNlICkge1xuXG5cdFx0XHRcdFx0alF1ZXJ5LnJlbW92ZUV2ZW50KCBlbGVtLCB0eXBlLCBlbGVtRGF0YS5oYW5kbGUgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGRlbGV0ZSBldmVudHNbIHR5cGUgXTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBSZW1vdmUgZGF0YSBhbmQgdGhlIGV4cGFuZG8gaWYgaXQncyBubyBsb25nZXIgdXNlZFxuXHRcdGlmICggalF1ZXJ5LmlzRW1wdHlPYmplY3QoIGV2ZW50cyApICkge1xuXHRcdFx0ZGF0YVByaXYucmVtb3ZlKCBlbGVtLCBcImhhbmRsZSBldmVudHNcIiApO1xuXHRcdH1cblx0fSxcblxuXHRkaXNwYXRjaDogZnVuY3Rpb24oIG5hdGl2ZUV2ZW50ICkge1xuXG5cdFx0Ly8gTWFrZSBhIHdyaXRhYmxlIGpRdWVyeS5FdmVudCBmcm9tIHRoZSBuYXRpdmUgZXZlbnQgb2JqZWN0XG5cdFx0dmFyIGV2ZW50ID0galF1ZXJ5LmV2ZW50LmZpeCggbmF0aXZlRXZlbnQgKTtcblxuXHRcdHZhciBpLCBqLCByZXQsIG1hdGNoZWQsIGhhbmRsZU9iaiwgaGFuZGxlclF1ZXVlLFxuXHRcdFx0YXJncyA9IG5ldyBBcnJheSggYXJndW1lbnRzLmxlbmd0aCApLFxuXHRcdFx0aGFuZGxlcnMgPSAoIGRhdGFQcml2LmdldCggdGhpcywgXCJldmVudHNcIiApIHx8IHt9IClbIGV2ZW50LnR5cGUgXSB8fCBbXSxcblx0XHRcdHNwZWNpYWwgPSBqUXVlcnkuZXZlbnQuc3BlY2lhbFsgZXZlbnQudHlwZSBdIHx8IHt9O1xuXG5cdFx0Ly8gVXNlIHRoZSBmaXgtZWQgalF1ZXJ5LkV2ZW50IHJhdGhlciB0aGFuIHRoZSAocmVhZC1vbmx5KSBuYXRpdmUgZXZlbnRcblx0XHRhcmdzWyAwIF0gPSBldmVudDtcblxuXHRcdGZvciAoIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrICkge1xuXHRcdFx0YXJnc1sgaSBdID0gYXJndW1lbnRzWyBpIF07XG5cdFx0fVxuXG5cdFx0ZXZlbnQuZGVsZWdhdGVUYXJnZXQgPSB0aGlzO1xuXG5cdFx0Ly8gQ2FsbCB0aGUgcHJlRGlzcGF0Y2ggaG9vayBmb3IgdGhlIG1hcHBlZCB0eXBlLCBhbmQgbGV0IGl0IGJhaWwgaWYgZGVzaXJlZFxuXHRcdGlmICggc3BlY2lhbC5wcmVEaXNwYXRjaCAmJiBzcGVjaWFsLnByZURpc3BhdGNoLmNhbGwoIHRoaXMsIGV2ZW50ICkgPT09IGZhbHNlICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIERldGVybWluZSBoYW5kbGVyc1xuXHRcdGhhbmRsZXJRdWV1ZSA9IGpRdWVyeS5ldmVudC5oYW5kbGVycy5jYWxsKCB0aGlzLCBldmVudCwgaGFuZGxlcnMgKTtcblxuXHRcdC8vIFJ1biBkZWxlZ2F0ZXMgZmlyc3Q7IHRoZXkgbWF5IHdhbnQgdG8gc3RvcCBwcm9wYWdhdGlvbiBiZW5lYXRoIHVzXG5cdFx0aSA9IDA7XG5cdFx0d2hpbGUgKCAoIG1hdGNoZWQgPSBoYW5kbGVyUXVldWVbIGkrKyBdICkgJiYgIWV2ZW50LmlzUHJvcGFnYXRpb25TdG9wcGVkKCkgKSB7XG5cdFx0XHRldmVudC5jdXJyZW50VGFyZ2V0ID0gbWF0Y2hlZC5lbGVtO1xuXG5cdFx0XHRqID0gMDtcblx0XHRcdHdoaWxlICggKCBoYW5kbGVPYmogPSBtYXRjaGVkLmhhbmRsZXJzWyBqKysgXSApICYmXG5cdFx0XHRcdCFldmVudC5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCgpICkge1xuXG5cdFx0XHRcdC8vIFRyaWdnZXJlZCBldmVudCBtdXN0IGVpdGhlciAxKSBoYXZlIG5vIG5hbWVzcGFjZSwgb3IgMikgaGF2ZSBuYW1lc3BhY2Uocylcblx0XHRcdFx0Ly8gYSBzdWJzZXQgb3IgZXF1YWwgdG8gdGhvc2UgaW4gdGhlIGJvdW5kIGV2ZW50IChib3RoIGNhbiBoYXZlIG5vIG5hbWVzcGFjZSkuXG5cdFx0XHRcdGlmICggIWV2ZW50LnJuYW1lc3BhY2UgfHwgZXZlbnQucm5hbWVzcGFjZS50ZXN0KCBoYW5kbGVPYmoubmFtZXNwYWNlICkgKSB7XG5cblx0XHRcdFx0XHRldmVudC5oYW5kbGVPYmogPSBoYW5kbGVPYmo7XG5cdFx0XHRcdFx0ZXZlbnQuZGF0YSA9IGhhbmRsZU9iai5kYXRhO1xuXG5cdFx0XHRcdFx0cmV0ID0gKCAoIGpRdWVyeS5ldmVudC5zcGVjaWFsWyBoYW5kbGVPYmoub3JpZ1R5cGUgXSB8fCB7fSApLmhhbmRsZSB8fFxuXHRcdFx0XHRcdFx0aGFuZGxlT2JqLmhhbmRsZXIgKS5hcHBseSggbWF0Y2hlZC5lbGVtLCBhcmdzICk7XG5cblx0XHRcdFx0XHRpZiAoIHJldCAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRcdFx0aWYgKCAoIGV2ZW50LnJlc3VsdCA9IHJldCApID09PSBmYWxzZSApIHtcblx0XHRcdFx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0XHRcdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gQ2FsbCB0aGUgcG9zdERpc3BhdGNoIGhvb2sgZm9yIHRoZSBtYXBwZWQgdHlwZVxuXHRcdGlmICggc3BlY2lhbC5wb3N0RGlzcGF0Y2ggKSB7XG5cdFx0XHRzcGVjaWFsLnBvc3REaXNwYXRjaC5jYWxsKCB0aGlzLCBldmVudCApO1xuXHRcdH1cblxuXHRcdHJldHVybiBldmVudC5yZXN1bHQ7XG5cdH0sXG5cblx0aGFuZGxlcnM6IGZ1bmN0aW9uKCBldmVudCwgaGFuZGxlcnMgKSB7XG5cdFx0dmFyIGksIGhhbmRsZU9iaiwgc2VsLCBtYXRjaGVkSGFuZGxlcnMsIG1hdGNoZWRTZWxlY3RvcnMsXG5cdFx0XHRoYW5kbGVyUXVldWUgPSBbXSxcblx0XHRcdGRlbGVnYXRlQ291bnQgPSBoYW5kbGVycy5kZWxlZ2F0ZUNvdW50LFxuXHRcdFx0Y3VyID0gZXZlbnQudGFyZ2V0O1xuXG5cdFx0Ly8gRmluZCBkZWxlZ2F0ZSBoYW5kbGVyc1xuXHRcdGlmICggZGVsZWdhdGVDb3VudCAmJlxuXG5cdFx0XHQvLyBTdXBwb3J0OiBJRSA8PTlcblx0XHRcdC8vIEJsYWNrLWhvbGUgU1ZHIDx1c2U+IGluc3RhbmNlIHRyZWVzICh0cmFjLTEzMTgwKVxuXHRcdFx0Y3VyLm5vZGVUeXBlICYmXG5cblx0XHRcdC8vIFN1cHBvcnQ6IEZpcmVmb3ggPD00MlxuXHRcdFx0Ly8gU3VwcHJlc3Mgc3BlYy12aW9sYXRpbmcgY2xpY2tzIGluZGljYXRpbmcgYSBub24tcHJpbWFyeSBwb2ludGVyIGJ1dHRvbiAodHJhYy0zODYxKVxuXHRcdFx0Ly8gaHR0cHM6Ly93d3cudzMub3JnL1RSL0RPTS1MZXZlbC0zLUV2ZW50cy8jZXZlbnQtdHlwZS1jbGlja1xuXHRcdFx0Ly8gU3VwcG9ydDogSUUgMTEgb25seVxuXHRcdFx0Ly8gLi4uYnV0IG5vdCBhcnJvdyBrZXkgXCJjbGlja3NcIiBvZiByYWRpbyBpbnB1dHMsIHdoaWNoIGNhbiBoYXZlIGBidXR0b25gIC0xIChnaC0yMzQzKVxuXHRcdFx0ISggZXZlbnQudHlwZSA9PT0gXCJjbGlja1wiICYmIGV2ZW50LmJ1dHRvbiA+PSAxICkgKSB7XG5cblx0XHRcdGZvciAoIDsgY3VyICE9PSB0aGlzOyBjdXIgPSBjdXIucGFyZW50Tm9kZSB8fCB0aGlzICkge1xuXG5cdFx0XHRcdC8vIERvbid0IGNoZWNrIG5vbi1lbGVtZW50cyAoIzEzMjA4KVxuXHRcdFx0XHQvLyBEb24ndCBwcm9jZXNzIGNsaWNrcyBvbiBkaXNhYmxlZCBlbGVtZW50cyAoIzY5MTEsICM4MTY1LCAjMTEzODIsICMxMTc2NClcblx0XHRcdFx0aWYgKCBjdXIubm9kZVR5cGUgPT09IDEgJiYgISggZXZlbnQudHlwZSA9PT0gXCJjbGlja1wiICYmIGN1ci5kaXNhYmxlZCA9PT0gdHJ1ZSApICkge1xuXHRcdFx0XHRcdG1hdGNoZWRIYW5kbGVycyA9IFtdO1xuXHRcdFx0XHRcdG1hdGNoZWRTZWxlY3RvcnMgPSB7fTtcblx0XHRcdFx0XHRmb3IgKCBpID0gMDsgaSA8IGRlbGVnYXRlQ291bnQ7IGkrKyApIHtcblx0XHRcdFx0XHRcdGhhbmRsZU9iaiA9IGhhbmRsZXJzWyBpIF07XG5cblx0XHRcdFx0XHRcdC8vIERvbid0IGNvbmZsaWN0IHdpdGggT2JqZWN0LnByb3RvdHlwZSBwcm9wZXJ0aWVzICgjMTMyMDMpXG5cdFx0XHRcdFx0XHRzZWwgPSBoYW5kbGVPYmouc2VsZWN0b3IgKyBcIiBcIjtcblxuXHRcdFx0XHRcdFx0aWYgKCBtYXRjaGVkU2VsZWN0b3JzWyBzZWwgXSA9PT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRcdFx0XHRtYXRjaGVkU2VsZWN0b3JzWyBzZWwgXSA9IGhhbmRsZU9iai5uZWVkc0NvbnRleHQgP1xuXHRcdFx0XHRcdFx0XHRcdGpRdWVyeSggc2VsLCB0aGlzICkuaW5kZXgoIGN1ciApID4gLTEgOlxuXHRcdFx0XHRcdFx0XHRcdGpRdWVyeS5maW5kKCBzZWwsIHRoaXMsIG51bGwsIFsgY3VyIF0gKS5sZW5ndGg7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRpZiAoIG1hdGNoZWRTZWxlY3RvcnNbIHNlbCBdICkge1xuXHRcdFx0XHRcdFx0XHRtYXRjaGVkSGFuZGxlcnMucHVzaCggaGFuZGxlT2JqICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmICggbWF0Y2hlZEhhbmRsZXJzLmxlbmd0aCApIHtcblx0XHRcdFx0XHRcdGhhbmRsZXJRdWV1ZS5wdXNoKCB7IGVsZW06IGN1ciwgaGFuZGxlcnM6IG1hdGNoZWRIYW5kbGVycyB9ICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gQWRkIHRoZSByZW1haW5pbmcgKGRpcmVjdGx5LWJvdW5kKSBoYW5kbGVyc1xuXHRcdGN1ciA9IHRoaXM7XG5cdFx0aWYgKCBkZWxlZ2F0ZUNvdW50IDwgaGFuZGxlcnMubGVuZ3RoICkge1xuXHRcdFx0aGFuZGxlclF1ZXVlLnB1c2goIHsgZWxlbTogY3VyLCBoYW5kbGVyczogaGFuZGxlcnMuc2xpY2UoIGRlbGVnYXRlQ291bnQgKSB9ICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGhhbmRsZXJRdWV1ZTtcblx0fSxcblxuXHRhZGRQcm9wOiBmdW5jdGlvbiggbmFtZSwgaG9vayApIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoIGpRdWVyeS5FdmVudC5wcm90b3R5cGUsIG5hbWUsIHtcblx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRjb25maWd1cmFibGU6IHRydWUsXG5cblx0XHRcdGdldDogalF1ZXJ5LmlzRnVuY3Rpb24oIGhvb2sgKSA/XG5cdFx0XHRcdGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGlmICggdGhpcy5vcmlnaW5hbEV2ZW50ICkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gaG9vayggdGhpcy5vcmlnaW5hbEV2ZW50ICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IDpcblx0XHRcdFx0ZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0aWYgKCB0aGlzLm9yaWdpbmFsRXZlbnQgKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiB0aGlzLm9yaWdpbmFsRXZlbnRbIG5hbWUgXTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0sXG5cblx0XHRcdHNldDogZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoIHRoaXMsIG5hbWUsIHtcblx0XHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0XHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZSxcblx0XHRcdFx0XHR3cml0YWJsZTogdHJ1ZSxcblx0XHRcdFx0XHR2YWx1ZTogdmFsdWVcblx0XHRcdFx0fSApO1xuXHRcdFx0fVxuXHRcdH0gKTtcblx0fSxcblxuXHRmaXg6IGZ1bmN0aW9uKCBvcmlnaW5hbEV2ZW50ICkge1xuXHRcdHJldHVybiBvcmlnaW5hbEV2ZW50WyBqUXVlcnkuZXhwYW5kbyBdID9cblx0XHRcdG9yaWdpbmFsRXZlbnQgOlxuXHRcdFx0bmV3IGpRdWVyeS5FdmVudCggb3JpZ2luYWxFdmVudCApO1xuXHR9LFxuXG5cdHNwZWNpYWw6IHtcblx0XHRsb2FkOiB7XG5cblx0XHRcdC8vIFByZXZlbnQgdHJpZ2dlcmVkIGltYWdlLmxvYWQgZXZlbnRzIGZyb20gYnViYmxpbmcgdG8gd2luZG93LmxvYWRcblx0XHRcdG5vQnViYmxlOiB0cnVlXG5cdFx0fSxcblx0XHRmb2N1czoge1xuXG5cdFx0XHQvLyBGaXJlIG5hdGl2ZSBldmVudCBpZiBwb3NzaWJsZSBzbyBibHVyL2ZvY3VzIHNlcXVlbmNlIGlzIGNvcnJlY3Rcblx0XHRcdHRyaWdnZXI6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZiAoIHRoaXMgIT09IHNhZmVBY3RpdmVFbGVtZW50KCkgJiYgdGhpcy5mb2N1cyApIHtcblx0XHRcdFx0XHR0aGlzLmZvY3VzKCk7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcdFx0ZGVsZWdhdGVUeXBlOiBcImZvY3VzaW5cIlxuXHRcdH0sXG5cdFx0Ymx1cjoge1xuXHRcdFx0dHJpZ2dlcjogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGlmICggdGhpcyA9PT0gc2FmZUFjdGl2ZUVsZW1lbnQoKSAmJiB0aGlzLmJsdXIgKSB7XG5cdFx0XHRcdFx0dGhpcy5ibHVyKCk7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcdFx0ZGVsZWdhdGVUeXBlOiBcImZvY3Vzb3V0XCJcblx0XHR9LFxuXHRcdGNsaWNrOiB7XG5cblx0XHRcdC8vIEZvciBjaGVja2JveCwgZmlyZSBuYXRpdmUgZXZlbnQgc28gY2hlY2tlZCBzdGF0ZSB3aWxsIGJlIHJpZ2h0XG5cdFx0XHR0cmlnZ2VyOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKCB0aGlzLnR5cGUgPT09IFwiY2hlY2tib3hcIiAmJiB0aGlzLmNsaWNrICYmIG5vZGVOYW1lKCB0aGlzLCBcImlucHV0XCIgKSApIHtcblx0XHRcdFx0XHR0aGlzLmNsaWNrKCk7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXG5cdFx0XHQvLyBGb3IgY3Jvc3MtYnJvd3NlciBjb25zaXN0ZW5jeSwgZG9uJ3QgZmlyZSBuYXRpdmUgLmNsaWNrKCkgb24gbGlua3Ncblx0XHRcdF9kZWZhdWx0OiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHRcdHJldHVybiBub2RlTmFtZSggZXZlbnQudGFyZ2V0LCBcImFcIiApO1xuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHRiZWZvcmV1bmxvYWQ6IHtcblx0XHRcdHBvc3REaXNwYXRjaDogZnVuY3Rpb24oIGV2ZW50ICkge1xuXG5cdFx0XHRcdC8vIFN1cHBvcnQ6IEZpcmVmb3ggMjArXG5cdFx0XHRcdC8vIEZpcmVmb3ggZG9lc24ndCBhbGVydCBpZiB0aGUgcmV0dXJuVmFsdWUgZmllbGQgaXMgbm90IHNldC5cblx0XHRcdFx0aWYgKCBldmVudC5yZXN1bHQgIT09IHVuZGVmaW5lZCAmJiBldmVudC5vcmlnaW5hbEV2ZW50ICkge1xuXHRcdFx0XHRcdGV2ZW50Lm9yaWdpbmFsRXZlbnQucmV0dXJuVmFsdWUgPSBldmVudC5yZXN1bHQ7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cbn07XG5cbmpRdWVyeS5yZW1vdmVFdmVudCA9IGZ1bmN0aW9uKCBlbGVtLCB0eXBlLCBoYW5kbGUgKSB7XG5cblx0Ly8gVGhpcyBcImlmXCIgaXMgbmVlZGVkIGZvciBwbGFpbiBvYmplY3RzXG5cdGlmICggZWxlbS5yZW1vdmVFdmVudExpc3RlbmVyICkge1xuXHRcdGVsZW0ucmVtb3ZlRXZlbnRMaXN0ZW5lciggdHlwZSwgaGFuZGxlICk7XG5cdH1cbn07XG5cbmpRdWVyeS5FdmVudCA9IGZ1bmN0aW9uKCBzcmMsIHByb3BzICkge1xuXG5cdC8vIEFsbG93IGluc3RhbnRpYXRpb24gd2l0aG91dCB0aGUgJ25ldycga2V5d29yZFxuXHRpZiAoICEoIHRoaXMgaW5zdGFuY2VvZiBqUXVlcnkuRXZlbnQgKSApIHtcblx0XHRyZXR1cm4gbmV3IGpRdWVyeS5FdmVudCggc3JjLCBwcm9wcyApO1xuXHR9XG5cblx0Ly8gRXZlbnQgb2JqZWN0XG5cdGlmICggc3JjICYmIHNyYy50eXBlICkge1xuXHRcdHRoaXMub3JpZ2luYWxFdmVudCA9IHNyYztcblx0XHR0aGlzLnR5cGUgPSBzcmMudHlwZTtcblxuXHRcdC8vIEV2ZW50cyBidWJibGluZyB1cCB0aGUgZG9jdW1lbnQgbWF5IGhhdmUgYmVlbiBtYXJrZWQgYXMgcHJldmVudGVkXG5cdFx0Ly8gYnkgYSBoYW5kbGVyIGxvd2VyIGRvd24gdGhlIHRyZWU7IHJlZmxlY3QgdGhlIGNvcnJlY3QgdmFsdWUuXG5cdFx0dGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQgPSBzcmMuZGVmYXVsdFByZXZlbnRlZCB8fFxuXHRcdFx0XHRzcmMuZGVmYXVsdFByZXZlbnRlZCA9PT0gdW5kZWZpbmVkICYmXG5cblx0XHRcdFx0Ly8gU3VwcG9ydDogQW5kcm9pZCA8PTIuMyBvbmx5XG5cdFx0XHRcdHNyYy5yZXR1cm5WYWx1ZSA9PT0gZmFsc2UgP1xuXHRcdFx0cmV0dXJuVHJ1ZSA6XG5cdFx0XHRyZXR1cm5GYWxzZTtcblxuXHRcdC8vIENyZWF0ZSB0YXJnZXQgcHJvcGVydGllc1xuXHRcdC8vIFN1cHBvcnQ6IFNhZmFyaSA8PTYgLSA3IG9ubHlcblx0XHQvLyBUYXJnZXQgc2hvdWxkIG5vdCBiZSBhIHRleHQgbm9kZSAoIzUwNCwgIzEzMTQzKVxuXHRcdHRoaXMudGFyZ2V0ID0gKCBzcmMudGFyZ2V0ICYmIHNyYy50YXJnZXQubm9kZVR5cGUgPT09IDMgKSA/XG5cdFx0XHRzcmMudGFyZ2V0LnBhcmVudE5vZGUgOlxuXHRcdFx0c3JjLnRhcmdldDtcblxuXHRcdHRoaXMuY3VycmVudFRhcmdldCA9IHNyYy5jdXJyZW50VGFyZ2V0O1xuXHRcdHRoaXMucmVsYXRlZFRhcmdldCA9IHNyYy5yZWxhdGVkVGFyZ2V0O1xuXG5cdC8vIEV2ZW50IHR5cGVcblx0fSBlbHNlIHtcblx0XHR0aGlzLnR5cGUgPSBzcmM7XG5cdH1cblxuXHQvLyBQdXQgZXhwbGljaXRseSBwcm92aWRlZCBwcm9wZXJ0aWVzIG9udG8gdGhlIGV2ZW50IG9iamVjdFxuXHRpZiAoIHByb3BzICkge1xuXHRcdGpRdWVyeS5leHRlbmQoIHRoaXMsIHByb3BzICk7XG5cdH1cblxuXHQvLyBDcmVhdGUgYSB0aW1lc3RhbXAgaWYgaW5jb21pbmcgZXZlbnQgZG9lc24ndCBoYXZlIG9uZVxuXHR0aGlzLnRpbWVTdGFtcCA9IHNyYyAmJiBzcmMudGltZVN0YW1wIHx8IGpRdWVyeS5ub3coKTtcblxuXHQvLyBNYXJrIGl0IGFzIGZpeGVkXG5cdHRoaXNbIGpRdWVyeS5leHBhbmRvIF0gPSB0cnVlO1xufTtcblxuLy8galF1ZXJ5LkV2ZW50IGlzIGJhc2VkIG9uIERPTTMgRXZlbnRzIGFzIHNwZWNpZmllZCBieSB0aGUgRUNNQVNjcmlwdCBMYW5ndWFnZSBCaW5kaW5nXG4vLyBodHRwczovL3d3dy53My5vcmcvVFIvMjAwMy9XRC1ET00tTGV2ZWwtMy1FdmVudHMtMjAwMzAzMzEvZWNtYS1zY3JpcHQtYmluZGluZy5odG1sXG5qUXVlcnkuRXZlbnQucHJvdG90eXBlID0ge1xuXHRjb25zdHJ1Y3RvcjogalF1ZXJ5LkV2ZW50LFxuXHRpc0RlZmF1bHRQcmV2ZW50ZWQ6IHJldHVybkZhbHNlLFxuXHRpc1Byb3BhZ2F0aW9uU3RvcHBlZDogcmV0dXJuRmFsc2UsXG5cdGlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkOiByZXR1cm5GYWxzZSxcblx0aXNTaW11bGF0ZWQ6IGZhbHNlLFxuXG5cdHByZXZlbnREZWZhdWx0OiBmdW5jdGlvbigpIHtcblx0XHR2YXIgZSA9IHRoaXMub3JpZ2luYWxFdmVudDtcblxuXHRcdHRoaXMuaXNEZWZhdWx0UHJldmVudGVkID0gcmV0dXJuVHJ1ZTtcblxuXHRcdGlmICggZSAmJiAhdGhpcy5pc1NpbXVsYXRlZCApIHtcblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHR9XG5cdH0sXG5cdHN0b3BQcm9wYWdhdGlvbjogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGUgPSB0aGlzLm9yaWdpbmFsRXZlbnQ7XG5cblx0XHR0aGlzLmlzUHJvcGFnYXRpb25TdG9wcGVkID0gcmV0dXJuVHJ1ZTtcblxuXHRcdGlmICggZSAmJiAhdGhpcy5pc1NpbXVsYXRlZCApIHtcblx0XHRcdGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0fVxuXHR9LFxuXHRzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb246IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBlID0gdGhpcy5vcmlnaW5hbEV2ZW50O1xuXG5cdFx0dGhpcy5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCA9IHJldHVyblRydWU7XG5cblx0XHRpZiAoIGUgJiYgIXRoaXMuaXNTaW11bGF0ZWQgKSB7XG5cdFx0XHRlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuXHRcdH1cblxuXHRcdHRoaXMuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdH1cbn07XG5cbi8vIEluY2x1ZGVzIGFsbCBjb21tb24gZXZlbnQgcHJvcHMgaW5jbHVkaW5nIEtleUV2ZW50IGFuZCBNb3VzZUV2ZW50IHNwZWNpZmljIHByb3BzXG5qUXVlcnkuZWFjaCgge1xuXHRhbHRLZXk6IHRydWUsXG5cdGJ1YmJsZXM6IHRydWUsXG5cdGNhbmNlbGFibGU6IHRydWUsXG5cdGNoYW5nZWRUb3VjaGVzOiB0cnVlLFxuXHRjdHJsS2V5OiB0cnVlLFxuXHRkZXRhaWw6IHRydWUsXG5cdGV2ZW50UGhhc2U6IHRydWUsXG5cdG1ldGFLZXk6IHRydWUsXG5cdHBhZ2VYOiB0cnVlLFxuXHRwYWdlWTogdHJ1ZSxcblx0c2hpZnRLZXk6IHRydWUsXG5cdHZpZXc6IHRydWUsXG5cdFwiY2hhclwiOiB0cnVlLFxuXHRjaGFyQ29kZTogdHJ1ZSxcblx0a2V5OiB0cnVlLFxuXHRrZXlDb2RlOiB0cnVlLFxuXHRidXR0b246IHRydWUsXG5cdGJ1dHRvbnM6IHRydWUsXG5cdGNsaWVudFg6IHRydWUsXG5cdGNsaWVudFk6IHRydWUsXG5cdG9mZnNldFg6IHRydWUsXG5cdG9mZnNldFk6IHRydWUsXG5cdHBvaW50ZXJJZDogdHJ1ZSxcblx0cG9pbnRlclR5cGU6IHRydWUsXG5cdHNjcmVlblg6IHRydWUsXG5cdHNjcmVlblk6IHRydWUsXG5cdHRhcmdldFRvdWNoZXM6IHRydWUsXG5cdHRvRWxlbWVudDogdHJ1ZSxcblx0dG91Y2hlczogdHJ1ZSxcblxuXHR3aGljaDogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdHZhciBidXR0b24gPSBldmVudC5idXR0b247XG5cblx0XHQvLyBBZGQgd2hpY2ggZm9yIGtleSBldmVudHNcblx0XHRpZiAoIGV2ZW50LndoaWNoID09IG51bGwgJiYgcmtleUV2ZW50LnRlc3QoIGV2ZW50LnR5cGUgKSApIHtcblx0XHRcdHJldHVybiBldmVudC5jaGFyQ29kZSAhPSBudWxsID8gZXZlbnQuY2hhckNvZGUgOiBldmVudC5rZXlDb2RlO1xuXHRcdH1cblxuXHRcdC8vIEFkZCB3aGljaCBmb3IgY2xpY2s6IDEgPT09IGxlZnQ7IDIgPT09IG1pZGRsZTsgMyA9PT0gcmlnaHRcblx0XHRpZiAoICFldmVudC53aGljaCAmJiBidXR0b24gIT09IHVuZGVmaW5lZCAmJiBybW91c2VFdmVudC50ZXN0KCBldmVudC50eXBlICkgKSB7XG5cdFx0XHRpZiAoIGJ1dHRvbiAmIDEgKSB7XG5cdFx0XHRcdHJldHVybiAxO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIGJ1dHRvbiAmIDIgKSB7XG5cdFx0XHRcdHJldHVybiAzO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIGJ1dHRvbiAmIDQgKSB7XG5cdFx0XHRcdHJldHVybiAyO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gMDtcblx0XHR9XG5cblx0XHRyZXR1cm4gZXZlbnQud2hpY2g7XG5cdH1cbn0sIGpRdWVyeS5ldmVudC5hZGRQcm9wICk7XG5cbi8vIENyZWF0ZSBtb3VzZWVudGVyL2xlYXZlIGV2ZW50cyB1c2luZyBtb3VzZW92ZXIvb3V0IGFuZCBldmVudC10aW1lIGNoZWNrc1xuLy8gc28gdGhhdCBldmVudCBkZWxlZ2F0aW9uIHdvcmtzIGluIGpRdWVyeS5cbi8vIERvIHRoZSBzYW1lIGZvciBwb2ludGVyZW50ZXIvcG9pbnRlcmxlYXZlIGFuZCBwb2ludGVyb3Zlci9wb2ludGVyb3V0XG4vL1xuLy8gU3VwcG9ydDogU2FmYXJpIDcgb25seVxuLy8gU2FmYXJpIHNlbmRzIG1vdXNlZW50ZXIgdG9vIG9mdGVuOyBzZWU6XG4vLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD00NzAyNThcbi8vIGZvciB0aGUgZGVzY3JpcHRpb24gb2YgdGhlIGJ1ZyAoaXQgZXhpc3RlZCBpbiBvbGRlciBDaHJvbWUgdmVyc2lvbnMgYXMgd2VsbCkuXG5qUXVlcnkuZWFjaCgge1xuXHRtb3VzZWVudGVyOiBcIm1vdXNlb3ZlclwiLFxuXHRtb3VzZWxlYXZlOiBcIm1vdXNlb3V0XCIsXG5cdHBvaW50ZXJlbnRlcjogXCJwb2ludGVyb3ZlclwiLFxuXHRwb2ludGVybGVhdmU6IFwicG9pbnRlcm91dFwiXG59LCBmdW5jdGlvbiggb3JpZywgZml4ICkge1xuXHRqUXVlcnkuZXZlbnQuc3BlY2lhbFsgb3JpZyBdID0ge1xuXHRcdGRlbGVnYXRlVHlwZTogZml4LFxuXHRcdGJpbmRUeXBlOiBmaXgsXG5cblx0XHRoYW5kbGU6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdHZhciByZXQsXG5cdFx0XHRcdHRhcmdldCA9IHRoaXMsXG5cdFx0XHRcdHJlbGF0ZWQgPSBldmVudC5yZWxhdGVkVGFyZ2V0LFxuXHRcdFx0XHRoYW5kbGVPYmogPSBldmVudC5oYW5kbGVPYmo7XG5cblx0XHRcdC8vIEZvciBtb3VzZWVudGVyL2xlYXZlIGNhbGwgdGhlIGhhbmRsZXIgaWYgcmVsYXRlZCBpcyBvdXRzaWRlIHRoZSB0YXJnZXQuXG5cdFx0XHQvLyBOQjogTm8gcmVsYXRlZFRhcmdldCBpZiB0aGUgbW91c2UgbGVmdC9lbnRlcmVkIHRoZSBicm93c2VyIHdpbmRvd1xuXHRcdFx0aWYgKCAhcmVsYXRlZCB8fCAoIHJlbGF0ZWQgIT09IHRhcmdldCAmJiAhalF1ZXJ5LmNvbnRhaW5zKCB0YXJnZXQsIHJlbGF0ZWQgKSApICkge1xuXHRcdFx0XHRldmVudC50eXBlID0gaGFuZGxlT2JqLm9yaWdUeXBlO1xuXHRcdFx0XHRyZXQgPSBoYW5kbGVPYmouaGFuZGxlci5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cdFx0XHRcdGV2ZW50LnR5cGUgPSBmaXg7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gcmV0O1xuXHRcdH1cblx0fTtcbn0gKTtcblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXG5cdG9uOiBmdW5jdGlvbiggdHlwZXMsIHNlbGVjdG9yLCBkYXRhLCBmbiApIHtcblx0XHRyZXR1cm4gb24oIHRoaXMsIHR5cGVzLCBzZWxlY3RvciwgZGF0YSwgZm4gKTtcblx0fSxcblx0b25lOiBmdW5jdGlvbiggdHlwZXMsIHNlbGVjdG9yLCBkYXRhLCBmbiApIHtcblx0XHRyZXR1cm4gb24oIHRoaXMsIHR5cGVzLCBzZWxlY3RvciwgZGF0YSwgZm4sIDEgKTtcblx0fSxcblx0b2ZmOiBmdW5jdGlvbiggdHlwZXMsIHNlbGVjdG9yLCBmbiApIHtcblx0XHR2YXIgaGFuZGxlT2JqLCB0eXBlO1xuXHRcdGlmICggdHlwZXMgJiYgdHlwZXMucHJldmVudERlZmF1bHQgJiYgdHlwZXMuaGFuZGxlT2JqICkge1xuXG5cdFx0XHQvLyAoIGV2ZW50ICkgIGRpc3BhdGNoZWQgalF1ZXJ5LkV2ZW50XG5cdFx0XHRoYW5kbGVPYmogPSB0eXBlcy5oYW5kbGVPYmo7XG5cdFx0XHRqUXVlcnkoIHR5cGVzLmRlbGVnYXRlVGFyZ2V0ICkub2ZmKFxuXHRcdFx0XHRoYW5kbGVPYmoubmFtZXNwYWNlID9cblx0XHRcdFx0XHRoYW5kbGVPYmoub3JpZ1R5cGUgKyBcIi5cIiArIGhhbmRsZU9iai5uYW1lc3BhY2UgOlxuXHRcdFx0XHRcdGhhbmRsZU9iai5vcmlnVHlwZSxcblx0XHRcdFx0aGFuZGxlT2JqLnNlbGVjdG9yLFxuXHRcdFx0XHRoYW5kbGVPYmouaGFuZGxlclxuXHRcdFx0KTtcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH1cblx0XHRpZiAoIHR5cGVvZiB0eXBlcyA9PT0gXCJvYmplY3RcIiApIHtcblxuXHRcdFx0Ly8gKCB0eXBlcy1vYmplY3QgWywgc2VsZWN0b3JdIClcblx0XHRcdGZvciAoIHR5cGUgaW4gdHlwZXMgKSB7XG5cdFx0XHRcdHRoaXMub2ZmKCB0eXBlLCBzZWxlY3RvciwgdHlwZXNbIHR5cGUgXSApO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fVxuXHRcdGlmICggc2VsZWN0b3IgPT09IGZhbHNlIHx8IHR5cGVvZiBzZWxlY3RvciA9PT0gXCJmdW5jdGlvblwiICkge1xuXG5cdFx0XHQvLyAoIHR5cGVzIFssIGZuXSApXG5cdFx0XHRmbiA9IHNlbGVjdG9yO1xuXHRcdFx0c2VsZWN0b3IgPSB1bmRlZmluZWQ7XG5cdFx0fVxuXHRcdGlmICggZm4gPT09IGZhbHNlICkge1xuXHRcdFx0Zm4gPSByZXR1cm5GYWxzZTtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRqUXVlcnkuZXZlbnQucmVtb3ZlKCB0aGlzLCB0eXBlcywgZm4sIHNlbGVjdG9yICk7XG5cdFx0fSApO1xuXHR9XG59ICk7XG5cblxudmFyXG5cblx0LyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuXG5cdC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vZXNsaW50L2VzbGludC9pc3N1ZXMvMzIyOVxuXHRyeGh0bWxUYWcgPSAvPCg/IWFyZWF8YnJ8Y29sfGVtYmVkfGhyfGltZ3xpbnB1dHxsaW5rfG1ldGF8cGFyYW0pKChbYS16XVteXFwvXFwwPlxceDIwXFx0XFxyXFxuXFxmXSopW14+XSopXFwvPi9naSxcblxuXHQvKiBlc2xpbnQtZW5hYmxlICovXG5cblx0Ly8gU3VwcG9ydDogSUUgPD0xMCAtIDExLCBFZGdlIDEyIC0gMTNcblx0Ly8gSW4gSUUvRWRnZSB1c2luZyByZWdleCBncm91cHMgaGVyZSBjYXVzZXMgc2V2ZXJlIHNsb3dkb3ducy5cblx0Ly8gU2VlIGh0dHBzOi8vY29ubmVjdC5taWNyb3NvZnQuY29tL0lFL2ZlZWRiYWNrL2RldGFpbHMvMTczNjUxMi9cblx0cm5vSW5uZXJodG1sID0gLzxzY3JpcHR8PHN0eWxlfDxsaW5rL2ksXG5cblx0Ly8gY2hlY2tlZD1cImNoZWNrZWRcIiBvciBjaGVja2VkXG5cdHJjaGVja2VkID0gL2NoZWNrZWRcXHMqKD86W149XXw9XFxzKi5jaGVja2VkLikvaSxcblx0cnNjcmlwdFR5cGVNYXNrZWQgPSAvXnRydWVcXC8oLiopLyxcblx0cmNsZWFuU2NyaXB0ID0gL15cXHMqPCEoPzpcXFtDREFUQVxcW3wtLSl8KD86XFxdXFxdfC0tKT5cXHMqJC9nO1xuXG4vLyBQcmVmZXIgYSB0Ym9keSBvdmVyIGl0cyBwYXJlbnQgdGFibGUgZm9yIGNvbnRhaW5pbmcgbmV3IHJvd3NcbmZ1bmN0aW9uIG1hbmlwdWxhdGlvblRhcmdldCggZWxlbSwgY29udGVudCApIHtcblx0aWYgKCBub2RlTmFtZSggZWxlbSwgXCJ0YWJsZVwiICkgJiZcblx0XHRub2RlTmFtZSggY29udGVudC5ub2RlVHlwZSAhPT0gMTEgPyBjb250ZW50IDogY29udGVudC5maXJzdENoaWxkLCBcInRyXCIgKSApIHtcblxuXHRcdHJldHVybiBqUXVlcnkoIFwiPnRib2R5XCIsIGVsZW0gKVsgMCBdIHx8IGVsZW07XG5cdH1cblxuXHRyZXR1cm4gZWxlbTtcbn1cblxuLy8gUmVwbGFjZS9yZXN0b3JlIHRoZSB0eXBlIGF0dHJpYnV0ZSBvZiBzY3JpcHQgZWxlbWVudHMgZm9yIHNhZmUgRE9NIG1hbmlwdWxhdGlvblxuZnVuY3Rpb24gZGlzYWJsZVNjcmlwdCggZWxlbSApIHtcblx0ZWxlbS50eXBlID0gKCBlbGVtLmdldEF0dHJpYnV0ZSggXCJ0eXBlXCIgKSAhPT0gbnVsbCApICsgXCIvXCIgKyBlbGVtLnR5cGU7XG5cdHJldHVybiBlbGVtO1xufVxuZnVuY3Rpb24gcmVzdG9yZVNjcmlwdCggZWxlbSApIHtcblx0dmFyIG1hdGNoID0gcnNjcmlwdFR5cGVNYXNrZWQuZXhlYyggZWxlbS50eXBlICk7XG5cblx0aWYgKCBtYXRjaCApIHtcblx0XHRlbGVtLnR5cGUgPSBtYXRjaFsgMSBdO1xuXHR9IGVsc2Uge1xuXHRcdGVsZW0ucmVtb3ZlQXR0cmlidXRlKCBcInR5cGVcIiApO1xuXHR9XG5cblx0cmV0dXJuIGVsZW07XG59XG5cbmZ1bmN0aW9uIGNsb25lQ29weUV2ZW50KCBzcmMsIGRlc3QgKSB7XG5cdHZhciBpLCBsLCB0eXBlLCBwZGF0YU9sZCwgcGRhdGFDdXIsIHVkYXRhT2xkLCB1ZGF0YUN1ciwgZXZlbnRzO1xuXG5cdGlmICggZGVzdC5ub2RlVHlwZSAhPT0gMSApIHtcblx0XHRyZXR1cm47XG5cdH1cblxuXHQvLyAxLiBDb3B5IHByaXZhdGUgZGF0YTogZXZlbnRzLCBoYW5kbGVycywgZXRjLlxuXHRpZiAoIGRhdGFQcml2Lmhhc0RhdGEoIHNyYyApICkge1xuXHRcdHBkYXRhT2xkID0gZGF0YVByaXYuYWNjZXNzKCBzcmMgKTtcblx0XHRwZGF0YUN1ciA9IGRhdGFQcml2LnNldCggZGVzdCwgcGRhdGFPbGQgKTtcblx0XHRldmVudHMgPSBwZGF0YU9sZC5ldmVudHM7XG5cblx0XHRpZiAoIGV2ZW50cyApIHtcblx0XHRcdGRlbGV0ZSBwZGF0YUN1ci5oYW5kbGU7XG5cdFx0XHRwZGF0YUN1ci5ldmVudHMgPSB7fTtcblxuXHRcdFx0Zm9yICggdHlwZSBpbiBldmVudHMgKSB7XG5cdFx0XHRcdGZvciAoIGkgPSAwLCBsID0gZXZlbnRzWyB0eXBlIF0ubGVuZ3RoOyBpIDwgbDsgaSsrICkge1xuXHRcdFx0XHRcdGpRdWVyeS5ldmVudC5hZGQoIGRlc3QsIHR5cGUsIGV2ZW50c1sgdHlwZSBdWyBpIF0gKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8vIDIuIENvcHkgdXNlciBkYXRhXG5cdGlmICggZGF0YVVzZXIuaGFzRGF0YSggc3JjICkgKSB7XG5cdFx0dWRhdGFPbGQgPSBkYXRhVXNlci5hY2Nlc3MoIHNyYyApO1xuXHRcdHVkYXRhQ3VyID0galF1ZXJ5LmV4dGVuZCgge30sIHVkYXRhT2xkICk7XG5cblx0XHRkYXRhVXNlci5zZXQoIGRlc3QsIHVkYXRhQ3VyICk7XG5cdH1cbn1cblxuLy8gRml4IElFIGJ1Z3MsIHNlZSBzdXBwb3J0IHRlc3RzXG5mdW5jdGlvbiBmaXhJbnB1dCggc3JjLCBkZXN0ICkge1xuXHR2YXIgbm9kZU5hbWUgPSBkZXN0Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG5cblx0Ly8gRmFpbHMgdG8gcGVyc2lzdCB0aGUgY2hlY2tlZCBzdGF0ZSBvZiBhIGNsb25lZCBjaGVja2JveCBvciByYWRpbyBidXR0b24uXG5cdGlmICggbm9kZU5hbWUgPT09IFwiaW5wdXRcIiAmJiByY2hlY2thYmxlVHlwZS50ZXN0KCBzcmMudHlwZSApICkge1xuXHRcdGRlc3QuY2hlY2tlZCA9IHNyYy5jaGVja2VkO1xuXG5cdC8vIEZhaWxzIHRvIHJldHVybiB0aGUgc2VsZWN0ZWQgb3B0aW9uIHRvIHRoZSBkZWZhdWx0IHNlbGVjdGVkIHN0YXRlIHdoZW4gY2xvbmluZyBvcHRpb25zXG5cdH0gZWxzZSBpZiAoIG5vZGVOYW1lID09PSBcImlucHV0XCIgfHwgbm9kZU5hbWUgPT09IFwidGV4dGFyZWFcIiApIHtcblx0XHRkZXN0LmRlZmF1bHRWYWx1ZSA9IHNyYy5kZWZhdWx0VmFsdWU7XG5cdH1cbn1cblxuZnVuY3Rpb24gZG9tTWFuaXAoIGNvbGxlY3Rpb24sIGFyZ3MsIGNhbGxiYWNrLCBpZ25vcmVkICkge1xuXG5cdC8vIEZsYXR0ZW4gYW55IG5lc3RlZCBhcnJheXNcblx0YXJncyA9IGNvbmNhdC5hcHBseSggW10sIGFyZ3MgKTtcblxuXHR2YXIgZnJhZ21lbnQsIGZpcnN0LCBzY3JpcHRzLCBoYXNTY3JpcHRzLCBub2RlLCBkb2MsXG5cdFx0aSA9IDAsXG5cdFx0bCA9IGNvbGxlY3Rpb24ubGVuZ3RoLFxuXHRcdGlOb0Nsb25lID0gbCAtIDEsXG5cdFx0dmFsdWUgPSBhcmdzWyAwIF0sXG5cdFx0aXNGdW5jdGlvbiA9IGpRdWVyeS5pc0Z1bmN0aW9uKCB2YWx1ZSApO1xuXG5cdC8vIFdlIGNhbid0IGNsb25lTm9kZSBmcmFnbWVudHMgdGhhdCBjb250YWluIGNoZWNrZWQsIGluIFdlYktpdFxuXHRpZiAoIGlzRnVuY3Rpb24gfHxcblx0XHRcdCggbCA+IDEgJiYgdHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiICYmXG5cdFx0XHRcdCFzdXBwb3J0LmNoZWNrQ2xvbmUgJiYgcmNoZWNrZWQudGVzdCggdmFsdWUgKSApICkge1xuXHRcdHJldHVybiBjb2xsZWN0aW9uLmVhY2goIGZ1bmN0aW9uKCBpbmRleCApIHtcblx0XHRcdHZhciBzZWxmID0gY29sbGVjdGlvbi5lcSggaW5kZXggKTtcblx0XHRcdGlmICggaXNGdW5jdGlvbiApIHtcblx0XHRcdFx0YXJnc1sgMCBdID0gdmFsdWUuY2FsbCggdGhpcywgaW5kZXgsIHNlbGYuaHRtbCgpICk7XG5cdFx0XHR9XG5cdFx0XHRkb21NYW5pcCggc2VsZiwgYXJncywgY2FsbGJhY2ssIGlnbm9yZWQgKTtcblx0XHR9ICk7XG5cdH1cblxuXHRpZiAoIGwgKSB7XG5cdFx0ZnJhZ21lbnQgPSBidWlsZEZyYWdtZW50KCBhcmdzLCBjb2xsZWN0aW9uWyAwIF0ub3duZXJEb2N1bWVudCwgZmFsc2UsIGNvbGxlY3Rpb24sIGlnbm9yZWQgKTtcblx0XHRmaXJzdCA9IGZyYWdtZW50LmZpcnN0Q2hpbGQ7XG5cblx0XHRpZiAoIGZyYWdtZW50LmNoaWxkTm9kZXMubGVuZ3RoID09PSAxICkge1xuXHRcdFx0ZnJhZ21lbnQgPSBmaXJzdDtcblx0XHR9XG5cblx0XHQvLyBSZXF1aXJlIGVpdGhlciBuZXcgY29udGVudCBvciBhbiBpbnRlcmVzdCBpbiBpZ25vcmVkIGVsZW1lbnRzIHRvIGludm9rZSB0aGUgY2FsbGJhY2tcblx0XHRpZiAoIGZpcnN0IHx8IGlnbm9yZWQgKSB7XG5cdFx0XHRzY3JpcHRzID0galF1ZXJ5Lm1hcCggZ2V0QWxsKCBmcmFnbWVudCwgXCJzY3JpcHRcIiApLCBkaXNhYmxlU2NyaXB0ICk7XG5cdFx0XHRoYXNTY3JpcHRzID0gc2NyaXB0cy5sZW5ndGg7XG5cblx0XHRcdC8vIFVzZSB0aGUgb3JpZ2luYWwgZnJhZ21lbnQgZm9yIHRoZSBsYXN0IGl0ZW1cblx0XHRcdC8vIGluc3RlYWQgb2YgdGhlIGZpcnN0IGJlY2F1c2UgaXQgY2FuIGVuZCB1cFxuXHRcdFx0Ly8gYmVpbmcgZW1wdGllZCBpbmNvcnJlY3RseSBpbiBjZXJ0YWluIHNpdHVhdGlvbnMgKCM4MDcwKS5cblx0XHRcdGZvciAoIDsgaSA8IGw7IGkrKyApIHtcblx0XHRcdFx0bm9kZSA9IGZyYWdtZW50O1xuXG5cdFx0XHRcdGlmICggaSAhPT0gaU5vQ2xvbmUgKSB7XG5cdFx0XHRcdFx0bm9kZSA9IGpRdWVyeS5jbG9uZSggbm9kZSwgdHJ1ZSwgdHJ1ZSApO1xuXG5cdFx0XHRcdFx0Ly8gS2VlcCByZWZlcmVuY2VzIHRvIGNsb25lZCBzY3JpcHRzIGZvciBsYXRlciByZXN0b3JhdGlvblxuXHRcdFx0XHRcdGlmICggaGFzU2NyaXB0cyApIHtcblxuXHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogQW5kcm9pZCA8PTQuMCBvbmx5LCBQaGFudG9tSlMgMSBvbmx5XG5cdFx0XHRcdFx0XHQvLyBwdXNoLmFwcGx5KF8sIGFycmF5bGlrZSkgdGhyb3dzIG9uIGFuY2llbnQgV2ViS2l0XG5cdFx0XHRcdFx0XHRqUXVlcnkubWVyZ2UoIHNjcmlwdHMsIGdldEFsbCggbm9kZSwgXCJzY3JpcHRcIiApICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y2FsbGJhY2suY2FsbCggY29sbGVjdGlvblsgaSBdLCBub2RlLCBpICk7XG5cdFx0XHR9XG5cblx0XHRcdGlmICggaGFzU2NyaXB0cyApIHtcblx0XHRcdFx0ZG9jID0gc2NyaXB0c1sgc2NyaXB0cy5sZW5ndGggLSAxIF0ub3duZXJEb2N1bWVudDtcblxuXHRcdFx0XHQvLyBSZWVuYWJsZSBzY3JpcHRzXG5cdFx0XHRcdGpRdWVyeS5tYXAoIHNjcmlwdHMsIHJlc3RvcmVTY3JpcHQgKTtcblxuXHRcdFx0XHQvLyBFdmFsdWF0ZSBleGVjdXRhYmxlIHNjcmlwdHMgb24gZmlyc3QgZG9jdW1lbnQgaW5zZXJ0aW9uXG5cdFx0XHRcdGZvciAoIGkgPSAwOyBpIDwgaGFzU2NyaXB0czsgaSsrICkge1xuXHRcdFx0XHRcdG5vZGUgPSBzY3JpcHRzWyBpIF07XG5cdFx0XHRcdFx0aWYgKCByc2NyaXB0VHlwZS50ZXN0KCBub2RlLnR5cGUgfHwgXCJcIiApICYmXG5cdFx0XHRcdFx0XHQhZGF0YVByaXYuYWNjZXNzKCBub2RlLCBcImdsb2JhbEV2YWxcIiApICYmXG5cdFx0XHRcdFx0XHRqUXVlcnkuY29udGFpbnMoIGRvYywgbm9kZSApICkge1xuXG5cdFx0XHRcdFx0XHRpZiAoIG5vZGUuc3JjICkge1xuXG5cdFx0XHRcdFx0XHRcdC8vIE9wdGlvbmFsIEFKQVggZGVwZW5kZW5jeSwgYnV0IHdvbid0IHJ1biBzY3JpcHRzIGlmIG5vdCBwcmVzZW50XG5cdFx0XHRcdFx0XHRcdGlmICggalF1ZXJ5Ll9ldmFsVXJsICkge1xuXHRcdFx0XHRcdFx0XHRcdGpRdWVyeS5fZXZhbFVybCggbm9kZS5zcmMgKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0RE9NRXZhbCggbm9kZS50ZXh0Q29udGVudC5yZXBsYWNlKCByY2xlYW5TY3JpcHQsIFwiXCIgKSwgZG9jICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIGNvbGxlY3Rpb247XG59XG5cbmZ1bmN0aW9uIHJlbW92ZSggZWxlbSwgc2VsZWN0b3IsIGtlZXBEYXRhICkge1xuXHR2YXIgbm9kZSxcblx0XHRub2RlcyA9IHNlbGVjdG9yID8galF1ZXJ5LmZpbHRlciggc2VsZWN0b3IsIGVsZW0gKSA6IGVsZW0sXG5cdFx0aSA9IDA7XG5cblx0Zm9yICggOyAoIG5vZGUgPSBub2Rlc1sgaSBdICkgIT0gbnVsbDsgaSsrICkge1xuXHRcdGlmICggIWtlZXBEYXRhICYmIG5vZGUubm9kZVR5cGUgPT09IDEgKSB7XG5cdFx0XHRqUXVlcnkuY2xlYW5EYXRhKCBnZXRBbGwoIG5vZGUgKSApO1xuXHRcdH1cblxuXHRcdGlmICggbm9kZS5wYXJlbnROb2RlICkge1xuXHRcdFx0aWYgKCBrZWVwRGF0YSAmJiBqUXVlcnkuY29udGFpbnMoIG5vZGUub3duZXJEb2N1bWVudCwgbm9kZSApICkge1xuXHRcdFx0XHRzZXRHbG9iYWxFdmFsKCBnZXRBbGwoIG5vZGUsIFwic2NyaXB0XCIgKSApO1xuXHRcdFx0fVxuXHRcdFx0bm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKCBub2RlICk7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIGVsZW07XG59XG5cbmpRdWVyeS5leHRlbmQoIHtcblx0aHRtbFByZWZpbHRlcjogZnVuY3Rpb24oIGh0bWwgKSB7XG5cdFx0cmV0dXJuIGh0bWwucmVwbGFjZSggcnhodG1sVGFnLCBcIjwkMT48LyQyPlwiICk7XG5cdH0sXG5cblx0Y2xvbmU6IGZ1bmN0aW9uKCBlbGVtLCBkYXRhQW5kRXZlbnRzLCBkZWVwRGF0YUFuZEV2ZW50cyApIHtcblx0XHR2YXIgaSwgbCwgc3JjRWxlbWVudHMsIGRlc3RFbGVtZW50cyxcblx0XHRcdGNsb25lID0gZWxlbS5jbG9uZU5vZGUoIHRydWUgKSxcblx0XHRcdGluUGFnZSA9IGpRdWVyeS5jb250YWlucyggZWxlbS5vd25lckRvY3VtZW50LCBlbGVtICk7XG5cblx0XHQvLyBGaXggSUUgY2xvbmluZyBpc3N1ZXNcblx0XHRpZiAoICFzdXBwb3J0Lm5vQ2xvbmVDaGVja2VkICYmICggZWxlbS5ub2RlVHlwZSA9PT0gMSB8fCBlbGVtLm5vZGVUeXBlID09PSAxMSApICYmXG5cdFx0XHRcdCFqUXVlcnkuaXNYTUxEb2MoIGVsZW0gKSApIHtcblxuXHRcdFx0Ly8gV2UgZXNjaGV3IFNpenpsZSBoZXJlIGZvciBwZXJmb3JtYW5jZSByZWFzb25zOiBodHRwczovL2pzcGVyZi5jb20vZ2V0YWxsLXZzLXNpenpsZS8yXG5cdFx0XHRkZXN0RWxlbWVudHMgPSBnZXRBbGwoIGNsb25lICk7XG5cdFx0XHRzcmNFbGVtZW50cyA9IGdldEFsbCggZWxlbSApO1xuXG5cdFx0XHRmb3IgKCBpID0gMCwgbCA9IHNyY0VsZW1lbnRzLmxlbmd0aDsgaSA8IGw7IGkrKyApIHtcblx0XHRcdFx0Zml4SW5wdXQoIHNyY0VsZW1lbnRzWyBpIF0sIGRlc3RFbGVtZW50c1sgaSBdICk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gQ29weSB0aGUgZXZlbnRzIGZyb20gdGhlIG9yaWdpbmFsIHRvIHRoZSBjbG9uZVxuXHRcdGlmICggZGF0YUFuZEV2ZW50cyApIHtcblx0XHRcdGlmICggZGVlcERhdGFBbmRFdmVudHMgKSB7XG5cdFx0XHRcdHNyY0VsZW1lbnRzID0gc3JjRWxlbWVudHMgfHwgZ2V0QWxsKCBlbGVtICk7XG5cdFx0XHRcdGRlc3RFbGVtZW50cyA9IGRlc3RFbGVtZW50cyB8fCBnZXRBbGwoIGNsb25lICk7XG5cblx0XHRcdFx0Zm9yICggaSA9IDAsIGwgPSBzcmNFbGVtZW50cy5sZW5ndGg7IGkgPCBsOyBpKysgKSB7XG5cdFx0XHRcdFx0Y2xvbmVDb3B5RXZlbnQoIHNyY0VsZW1lbnRzWyBpIF0sIGRlc3RFbGVtZW50c1sgaSBdICk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNsb25lQ29weUV2ZW50KCBlbGVtLCBjbG9uZSApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIFByZXNlcnZlIHNjcmlwdCBldmFsdWF0aW9uIGhpc3Rvcnlcblx0XHRkZXN0RWxlbWVudHMgPSBnZXRBbGwoIGNsb25lLCBcInNjcmlwdFwiICk7XG5cdFx0aWYgKCBkZXN0RWxlbWVudHMubGVuZ3RoID4gMCApIHtcblx0XHRcdHNldEdsb2JhbEV2YWwoIGRlc3RFbGVtZW50cywgIWluUGFnZSAmJiBnZXRBbGwoIGVsZW0sIFwic2NyaXB0XCIgKSApO1xuXHRcdH1cblxuXHRcdC8vIFJldHVybiB0aGUgY2xvbmVkIHNldFxuXHRcdHJldHVybiBjbG9uZTtcblx0fSxcblxuXHRjbGVhbkRhdGE6IGZ1bmN0aW9uKCBlbGVtcyApIHtcblx0XHR2YXIgZGF0YSwgZWxlbSwgdHlwZSxcblx0XHRcdHNwZWNpYWwgPSBqUXVlcnkuZXZlbnQuc3BlY2lhbCxcblx0XHRcdGkgPSAwO1xuXG5cdFx0Zm9yICggOyAoIGVsZW0gPSBlbGVtc1sgaSBdICkgIT09IHVuZGVmaW5lZDsgaSsrICkge1xuXHRcdFx0aWYgKCBhY2NlcHREYXRhKCBlbGVtICkgKSB7XG5cdFx0XHRcdGlmICggKCBkYXRhID0gZWxlbVsgZGF0YVByaXYuZXhwYW5kbyBdICkgKSB7XG5cdFx0XHRcdFx0aWYgKCBkYXRhLmV2ZW50cyApIHtcblx0XHRcdFx0XHRcdGZvciAoIHR5cGUgaW4gZGF0YS5ldmVudHMgKSB7XG5cdFx0XHRcdFx0XHRcdGlmICggc3BlY2lhbFsgdHlwZSBdICkge1xuXHRcdFx0XHRcdFx0XHRcdGpRdWVyeS5ldmVudC5yZW1vdmUoIGVsZW0sIHR5cGUgKTtcblxuXHRcdFx0XHRcdFx0XHQvLyBUaGlzIGlzIGEgc2hvcnRjdXQgdG8gYXZvaWQgalF1ZXJ5LmV2ZW50LnJlbW92ZSdzIG92ZXJoZWFkXG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0alF1ZXJ5LnJlbW92ZUV2ZW50KCBlbGVtLCB0eXBlLCBkYXRhLmhhbmRsZSApO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gU3VwcG9ydDogQ2hyb21lIDw9MzUgLSA0NStcblx0XHRcdFx0XHQvLyBBc3NpZ24gdW5kZWZpbmVkIGluc3RlYWQgb2YgdXNpbmcgZGVsZXRlLCBzZWUgRGF0YSNyZW1vdmVcblx0XHRcdFx0XHRlbGVtWyBkYXRhUHJpdi5leHBhbmRvIF0gPSB1bmRlZmluZWQ7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKCBlbGVtWyBkYXRhVXNlci5leHBhbmRvIF0gKSB7XG5cblx0XHRcdFx0XHQvLyBTdXBwb3J0OiBDaHJvbWUgPD0zNSAtIDQ1K1xuXHRcdFx0XHRcdC8vIEFzc2lnbiB1bmRlZmluZWQgaW5zdGVhZCBvZiB1c2luZyBkZWxldGUsIHNlZSBEYXRhI3JlbW92ZVxuXHRcdFx0XHRcdGVsZW1bIGRhdGFVc2VyLmV4cGFuZG8gXSA9IHVuZGVmaW5lZDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxufSApO1xuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdGRldGFjaDogZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdHJldHVybiByZW1vdmUoIHRoaXMsIHNlbGVjdG9yLCB0cnVlICk7XG5cdH0sXG5cblx0cmVtb3ZlOiBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0cmV0dXJuIHJlbW92ZSggdGhpcywgc2VsZWN0b3IgKTtcblx0fSxcblxuXHR0ZXh0OiBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0cmV0dXJuIGFjY2VzcyggdGhpcywgZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdFx0cmV0dXJuIHZhbHVlID09PSB1bmRlZmluZWQgP1xuXHRcdFx0XHRqUXVlcnkudGV4dCggdGhpcyApIDpcblx0XHRcdFx0dGhpcy5lbXB0eSgpLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGlmICggdGhpcy5ub2RlVHlwZSA9PT0gMSB8fCB0aGlzLm5vZGVUeXBlID09PSAxMSB8fCB0aGlzLm5vZGVUeXBlID09PSA5ICkge1xuXHRcdFx0XHRcdFx0dGhpcy50ZXh0Q29udGVudCA9IHZhbHVlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSApO1xuXHRcdH0sIG51bGwsIHZhbHVlLCBhcmd1bWVudHMubGVuZ3RoICk7XG5cdH0sXG5cblx0YXBwZW5kOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gZG9tTWFuaXAoIHRoaXMsIGFyZ3VtZW50cywgZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRpZiAoIHRoaXMubm9kZVR5cGUgPT09IDEgfHwgdGhpcy5ub2RlVHlwZSA9PT0gMTEgfHwgdGhpcy5ub2RlVHlwZSA9PT0gOSApIHtcblx0XHRcdFx0dmFyIHRhcmdldCA9IG1hbmlwdWxhdGlvblRhcmdldCggdGhpcywgZWxlbSApO1xuXHRcdFx0XHR0YXJnZXQuYXBwZW5kQ2hpbGQoIGVsZW0gKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cdH0sXG5cblx0cHJlcGVuZDogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIGRvbU1hbmlwKCB0aGlzLCBhcmd1bWVudHMsIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0aWYgKCB0aGlzLm5vZGVUeXBlID09PSAxIHx8IHRoaXMubm9kZVR5cGUgPT09IDExIHx8IHRoaXMubm9kZVR5cGUgPT09IDkgKSB7XG5cdFx0XHRcdHZhciB0YXJnZXQgPSBtYW5pcHVsYXRpb25UYXJnZXQoIHRoaXMsIGVsZW0gKTtcblx0XHRcdFx0dGFyZ2V0Lmluc2VydEJlZm9yZSggZWxlbSwgdGFyZ2V0LmZpcnN0Q2hpbGQgKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cdH0sXG5cblx0YmVmb3JlOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gZG9tTWFuaXAoIHRoaXMsIGFyZ3VtZW50cywgZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRpZiAoIHRoaXMucGFyZW50Tm9kZSApIHtcblx0XHRcdFx0dGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZSggZWxlbSwgdGhpcyApO1xuXHRcdFx0fVxuXHRcdH0gKTtcblx0fSxcblxuXHRhZnRlcjogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIGRvbU1hbmlwKCB0aGlzLCBhcmd1bWVudHMsIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0aWYgKCB0aGlzLnBhcmVudE5vZGUgKSB7XG5cdFx0XHRcdHRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoIGVsZW0sIHRoaXMubmV4dFNpYmxpbmcgKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cdH0sXG5cblx0ZW1wdHk6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBlbGVtLFxuXHRcdFx0aSA9IDA7XG5cblx0XHRmb3IgKCA7ICggZWxlbSA9IHRoaXNbIGkgXSApICE9IG51bGw7IGkrKyApIHtcblx0XHRcdGlmICggZWxlbS5ub2RlVHlwZSA9PT0gMSApIHtcblxuXHRcdFx0XHQvLyBQcmV2ZW50IG1lbW9yeSBsZWFrc1xuXHRcdFx0XHRqUXVlcnkuY2xlYW5EYXRhKCBnZXRBbGwoIGVsZW0sIGZhbHNlICkgKTtcblxuXHRcdFx0XHQvLyBSZW1vdmUgYW55IHJlbWFpbmluZyBub2Rlc1xuXHRcdFx0XHRlbGVtLnRleHRDb250ZW50ID0gXCJcIjtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHRjbG9uZTogZnVuY3Rpb24oIGRhdGFBbmRFdmVudHMsIGRlZXBEYXRhQW5kRXZlbnRzICkge1xuXHRcdGRhdGFBbmRFdmVudHMgPSBkYXRhQW5kRXZlbnRzID09IG51bGwgPyBmYWxzZSA6IGRhdGFBbmRFdmVudHM7XG5cdFx0ZGVlcERhdGFBbmRFdmVudHMgPSBkZWVwRGF0YUFuZEV2ZW50cyA9PSBudWxsID8gZGF0YUFuZEV2ZW50cyA6IGRlZXBEYXRhQW5kRXZlbnRzO1xuXG5cdFx0cmV0dXJuIHRoaXMubWFwKCBmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiBqUXVlcnkuY2xvbmUoIHRoaXMsIGRhdGFBbmRFdmVudHMsIGRlZXBEYXRhQW5kRXZlbnRzICk7XG5cdFx0fSApO1xuXHR9LFxuXG5cdGh0bWw6IGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHRyZXR1cm4gYWNjZXNzKCB0aGlzLCBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0XHR2YXIgZWxlbSA9IHRoaXNbIDAgXSB8fCB7fSxcblx0XHRcdFx0aSA9IDAsXG5cdFx0XHRcdGwgPSB0aGlzLmxlbmd0aDtcblxuXHRcdFx0aWYgKCB2YWx1ZSA9PT0gdW5kZWZpbmVkICYmIGVsZW0ubm9kZVR5cGUgPT09IDEgKSB7XG5cdFx0XHRcdHJldHVybiBlbGVtLmlubmVySFRNTDtcblx0XHRcdH1cblxuXHRcdFx0Ly8gU2VlIGlmIHdlIGNhbiB0YWtlIGEgc2hvcnRjdXQgYW5kIGp1c3QgdXNlIGlubmVySFRNTFxuXHRcdFx0aWYgKCB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgJiYgIXJub0lubmVyaHRtbC50ZXN0KCB2YWx1ZSApICYmXG5cdFx0XHRcdCF3cmFwTWFwWyAoIHJ0YWdOYW1lLmV4ZWMoIHZhbHVlICkgfHwgWyBcIlwiLCBcIlwiIF0gKVsgMSBdLnRvTG93ZXJDYXNlKCkgXSApIHtcblxuXHRcdFx0XHR2YWx1ZSA9IGpRdWVyeS5odG1sUHJlZmlsdGVyKCB2YWx1ZSApO1xuXG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0Zm9yICggOyBpIDwgbDsgaSsrICkge1xuXHRcdFx0XHRcdFx0ZWxlbSA9IHRoaXNbIGkgXSB8fCB7fTtcblxuXHRcdFx0XHRcdFx0Ly8gUmVtb3ZlIGVsZW1lbnQgbm9kZXMgYW5kIHByZXZlbnQgbWVtb3J5IGxlYWtzXG5cdFx0XHRcdFx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgKSB7XG5cdFx0XHRcdFx0XHRcdGpRdWVyeS5jbGVhbkRhdGEoIGdldEFsbCggZWxlbSwgZmFsc2UgKSApO1xuXHRcdFx0XHRcdFx0XHRlbGVtLmlubmVySFRNTCA9IHZhbHVlO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGVsZW0gPSAwO1xuXG5cdFx0XHRcdC8vIElmIHVzaW5nIGlubmVySFRNTCB0aHJvd3MgYW4gZXhjZXB0aW9uLCB1c2UgdGhlIGZhbGxiYWNrIG1ldGhvZFxuXHRcdFx0XHR9IGNhdGNoICggZSApIHt9XG5cdFx0XHR9XG5cblx0XHRcdGlmICggZWxlbSApIHtcblx0XHRcdFx0dGhpcy5lbXB0eSgpLmFwcGVuZCggdmFsdWUgKTtcblx0XHRcdH1cblx0XHR9LCBudWxsLCB2YWx1ZSwgYXJndW1lbnRzLmxlbmd0aCApO1xuXHR9LFxuXG5cdHJlcGxhY2VXaXRoOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgaWdub3JlZCA9IFtdO1xuXG5cdFx0Ly8gTWFrZSB0aGUgY2hhbmdlcywgcmVwbGFjaW5nIGVhY2ggbm9uLWlnbm9yZWQgY29udGV4dCBlbGVtZW50IHdpdGggdGhlIG5ldyBjb250ZW50XG5cdFx0cmV0dXJuIGRvbU1hbmlwKCB0aGlzLCBhcmd1bWVudHMsIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0dmFyIHBhcmVudCA9IHRoaXMucGFyZW50Tm9kZTtcblxuXHRcdFx0aWYgKCBqUXVlcnkuaW5BcnJheSggdGhpcywgaWdub3JlZCApIDwgMCApIHtcblx0XHRcdFx0alF1ZXJ5LmNsZWFuRGF0YSggZ2V0QWxsKCB0aGlzICkgKTtcblx0XHRcdFx0aWYgKCBwYXJlbnQgKSB7XG5cdFx0XHRcdFx0cGFyZW50LnJlcGxhY2VDaGlsZCggZWxlbSwgdGhpcyApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHQvLyBGb3JjZSBjYWxsYmFjayBpbnZvY2F0aW9uXG5cdFx0fSwgaWdub3JlZCApO1xuXHR9XG59ICk7XG5cbmpRdWVyeS5lYWNoKCB7XG5cdGFwcGVuZFRvOiBcImFwcGVuZFwiLFxuXHRwcmVwZW5kVG86IFwicHJlcGVuZFwiLFxuXHRpbnNlcnRCZWZvcmU6IFwiYmVmb3JlXCIsXG5cdGluc2VydEFmdGVyOiBcImFmdGVyXCIsXG5cdHJlcGxhY2VBbGw6IFwicmVwbGFjZVdpdGhcIlxufSwgZnVuY3Rpb24oIG5hbWUsIG9yaWdpbmFsICkge1xuXHRqUXVlcnkuZm5bIG5hbWUgXSA9IGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHR2YXIgZWxlbXMsXG5cdFx0XHRyZXQgPSBbXSxcblx0XHRcdGluc2VydCA9IGpRdWVyeSggc2VsZWN0b3IgKSxcblx0XHRcdGxhc3QgPSBpbnNlcnQubGVuZ3RoIC0gMSxcblx0XHRcdGkgPSAwO1xuXG5cdFx0Zm9yICggOyBpIDw9IGxhc3Q7IGkrKyApIHtcblx0XHRcdGVsZW1zID0gaSA9PT0gbGFzdCA/IHRoaXMgOiB0aGlzLmNsb25lKCB0cnVlICk7XG5cdFx0XHRqUXVlcnkoIGluc2VydFsgaSBdIClbIG9yaWdpbmFsIF0oIGVsZW1zICk7XG5cblx0XHRcdC8vIFN1cHBvcnQ6IEFuZHJvaWQgPD00LjAgb25seSwgUGhhbnRvbUpTIDEgb25seVxuXHRcdFx0Ly8gLmdldCgpIGJlY2F1c2UgcHVzaC5hcHBseShfLCBhcnJheWxpa2UpIHRocm93cyBvbiBhbmNpZW50IFdlYktpdFxuXHRcdFx0cHVzaC5hcHBseSggcmV0LCBlbGVtcy5nZXQoKSApO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLnB1c2hTdGFjayggcmV0ICk7XG5cdH07XG59ICk7XG52YXIgcm1hcmdpbiA9ICggL15tYXJnaW4vICk7XG5cbnZhciBybnVtbm9ucHggPSBuZXcgUmVnRXhwKCBcIl4oXCIgKyBwbnVtICsgXCIpKD8hcHgpW2EteiVdKyRcIiwgXCJpXCIgKTtcblxudmFyIGdldFN0eWxlcyA9IGZ1bmN0aW9uKCBlbGVtICkge1xuXG5cdFx0Ly8gU3VwcG9ydDogSUUgPD0xMSBvbmx5LCBGaXJlZm94IDw9MzAgKCMxNTA5OCwgIzE0MTUwKVxuXHRcdC8vIElFIHRocm93cyBvbiBlbGVtZW50cyBjcmVhdGVkIGluIHBvcHVwc1xuXHRcdC8vIEZGIG1lYW53aGlsZSB0aHJvd3Mgb24gZnJhbWUgZWxlbWVudHMgdGhyb3VnaCBcImRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGVcIlxuXHRcdHZhciB2aWV3ID0gZWxlbS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3O1xuXG5cdFx0aWYgKCAhdmlldyB8fCAhdmlldy5vcGVuZXIgKSB7XG5cdFx0XHR2aWV3ID0gd2luZG93O1xuXHRcdH1cblxuXHRcdHJldHVybiB2aWV3LmdldENvbXB1dGVkU3R5bGUoIGVsZW0gKTtcblx0fTtcblxuXG5cbiggZnVuY3Rpb24oKSB7XG5cblx0Ly8gRXhlY3V0aW5nIGJvdGggcGl4ZWxQb3NpdGlvbiAmIGJveFNpemluZ1JlbGlhYmxlIHRlc3RzIHJlcXVpcmUgb25seSBvbmUgbGF5b3V0XG5cdC8vIHNvIHRoZXkncmUgZXhlY3V0ZWQgYXQgdGhlIHNhbWUgdGltZSB0byBzYXZlIHRoZSBzZWNvbmQgY29tcHV0YXRpb24uXG5cdGZ1bmN0aW9uIGNvbXB1dGVTdHlsZVRlc3RzKCkge1xuXG5cdFx0Ly8gVGhpcyBpcyBhIHNpbmdsZXRvbiwgd2UgbmVlZCB0byBleGVjdXRlIGl0IG9ubHkgb25jZVxuXHRcdGlmICggIWRpdiApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRkaXYuc3R5bGUuY3NzVGV4dCA9XG5cdFx0XHRcImJveC1zaXppbmc6Ym9yZGVyLWJveDtcIiArXG5cdFx0XHRcInBvc2l0aW9uOnJlbGF0aXZlO2Rpc3BsYXk6YmxvY2s7XCIgK1xuXHRcdFx0XCJtYXJnaW46YXV0bztib3JkZXI6MXB4O3BhZGRpbmc6MXB4O1wiICtcblx0XHRcdFwidG9wOjElO3dpZHRoOjUwJVwiO1xuXHRcdGRpdi5pbm5lckhUTUwgPSBcIlwiO1xuXHRcdGRvY3VtZW50RWxlbWVudC5hcHBlbmRDaGlsZCggY29udGFpbmVyICk7XG5cblx0XHR2YXIgZGl2U3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSggZGl2ICk7XG5cdFx0cGl4ZWxQb3NpdGlvblZhbCA9IGRpdlN0eWxlLnRvcCAhPT0gXCIxJVwiO1xuXG5cdFx0Ly8gU3VwcG9ydDogQW5kcm9pZCA0LjAgLSA0LjMgb25seSwgRmlyZWZveCA8PTMgLSA0NFxuXHRcdHJlbGlhYmxlTWFyZ2luTGVmdFZhbCA9IGRpdlN0eWxlLm1hcmdpbkxlZnQgPT09IFwiMnB4XCI7XG5cdFx0Ym94U2l6aW5nUmVsaWFibGVWYWwgPSBkaXZTdHlsZS53aWR0aCA9PT0gXCI0cHhcIjtcblxuXHRcdC8vIFN1cHBvcnQ6IEFuZHJvaWQgNC4wIC0gNC4zIG9ubHlcblx0XHQvLyBTb21lIHN0eWxlcyBjb21lIGJhY2sgd2l0aCBwZXJjZW50YWdlIHZhbHVlcywgZXZlbiB0aG91Z2ggdGhleSBzaG91bGRuJ3Rcblx0XHRkaXYuc3R5bGUubWFyZ2luUmlnaHQgPSBcIjUwJVwiO1xuXHRcdHBpeGVsTWFyZ2luUmlnaHRWYWwgPSBkaXZTdHlsZS5tYXJnaW5SaWdodCA9PT0gXCI0cHhcIjtcblxuXHRcdGRvY3VtZW50RWxlbWVudC5yZW1vdmVDaGlsZCggY29udGFpbmVyICk7XG5cblx0XHQvLyBOdWxsaWZ5IHRoZSBkaXYgc28gaXQgd291bGRuJ3QgYmUgc3RvcmVkIGluIHRoZSBtZW1vcnkgYW5kXG5cdFx0Ly8gaXQgd2lsbCBhbHNvIGJlIGEgc2lnbiB0aGF0IGNoZWNrcyBhbHJlYWR5IHBlcmZvcm1lZFxuXHRcdGRpdiA9IG51bGw7XG5cdH1cblxuXHR2YXIgcGl4ZWxQb3NpdGlvblZhbCwgYm94U2l6aW5nUmVsaWFibGVWYWwsIHBpeGVsTWFyZ2luUmlnaHRWYWwsIHJlbGlhYmxlTWFyZ2luTGVmdFZhbCxcblx0XHRjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImRpdlwiICksXG5cdFx0ZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJkaXZcIiApO1xuXG5cdC8vIEZpbmlzaCBlYXJseSBpbiBsaW1pdGVkIChub24tYnJvd3NlcikgZW52aXJvbm1lbnRzXG5cdGlmICggIWRpdi5zdHlsZSApIHtcblx0XHRyZXR1cm47XG5cdH1cblxuXHQvLyBTdXBwb3J0OiBJRSA8PTkgLSAxMSBvbmx5XG5cdC8vIFN0eWxlIG9mIGNsb25lZCBlbGVtZW50IGFmZmVjdHMgc291cmNlIGVsZW1lbnQgY2xvbmVkICgjODkwOClcblx0ZGl2LnN0eWxlLmJhY2tncm91bmRDbGlwID0gXCJjb250ZW50LWJveFwiO1xuXHRkaXYuY2xvbmVOb2RlKCB0cnVlICkuc3R5bGUuYmFja2dyb3VuZENsaXAgPSBcIlwiO1xuXHRzdXBwb3J0LmNsZWFyQ2xvbmVTdHlsZSA9IGRpdi5zdHlsZS5iYWNrZ3JvdW5kQ2xpcCA9PT0gXCJjb250ZW50LWJveFwiO1xuXG5cdGNvbnRhaW5lci5zdHlsZS5jc3NUZXh0ID0gXCJib3JkZXI6MDt3aWR0aDo4cHg7aGVpZ2h0OjA7dG9wOjA7bGVmdDotOTk5OXB4O1wiICtcblx0XHRcInBhZGRpbmc6MDttYXJnaW4tdG9wOjFweDtwb3NpdGlvbjphYnNvbHV0ZVwiO1xuXHRjb250YWluZXIuYXBwZW5kQ2hpbGQoIGRpdiApO1xuXG5cdGpRdWVyeS5leHRlbmQoIHN1cHBvcnQsIHtcblx0XHRwaXhlbFBvc2l0aW9uOiBmdW5jdGlvbigpIHtcblx0XHRcdGNvbXB1dGVTdHlsZVRlc3RzKCk7XG5cdFx0XHRyZXR1cm4gcGl4ZWxQb3NpdGlvblZhbDtcblx0XHR9LFxuXHRcdGJveFNpemluZ1JlbGlhYmxlOiBmdW5jdGlvbigpIHtcblx0XHRcdGNvbXB1dGVTdHlsZVRlc3RzKCk7XG5cdFx0XHRyZXR1cm4gYm94U2l6aW5nUmVsaWFibGVWYWw7XG5cdFx0fSxcblx0XHRwaXhlbE1hcmdpblJpZ2h0OiBmdW5jdGlvbigpIHtcblx0XHRcdGNvbXB1dGVTdHlsZVRlc3RzKCk7XG5cdFx0XHRyZXR1cm4gcGl4ZWxNYXJnaW5SaWdodFZhbDtcblx0XHR9LFxuXHRcdHJlbGlhYmxlTWFyZ2luTGVmdDogZnVuY3Rpb24oKSB7XG5cdFx0XHRjb21wdXRlU3R5bGVUZXN0cygpO1xuXHRcdFx0cmV0dXJuIHJlbGlhYmxlTWFyZ2luTGVmdFZhbDtcblx0XHR9XG5cdH0gKTtcbn0gKSgpO1xuXG5cbmZ1bmN0aW9uIGN1ckNTUyggZWxlbSwgbmFtZSwgY29tcHV0ZWQgKSB7XG5cdHZhciB3aWR0aCwgbWluV2lkdGgsIG1heFdpZHRoLCByZXQsXG5cblx0XHQvLyBTdXBwb3J0OiBGaXJlZm94IDUxK1xuXHRcdC8vIFJldHJpZXZpbmcgc3R5bGUgYmVmb3JlIGNvbXB1dGVkIHNvbWVob3dcblx0XHQvLyBmaXhlcyBhbiBpc3N1ZSB3aXRoIGdldHRpbmcgd3JvbmcgdmFsdWVzXG5cdFx0Ly8gb24gZGV0YWNoZWQgZWxlbWVudHNcblx0XHRzdHlsZSA9IGVsZW0uc3R5bGU7XG5cblx0Y29tcHV0ZWQgPSBjb21wdXRlZCB8fCBnZXRTdHlsZXMoIGVsZW0gKTtcblxuXHQvLyBnZXRQcm9wZXJ0eVZhbHVlIGlzIG5lZWRlZCBmb3I6XG5cdC8vICAgLmNzcygnZmlsdGVyJykgKElFIDkgb25seSwgIzEyNTM3KVxuXHQvLyAgIC5jc3MoJy0tY3VzdG9tUHJvcGVydHkpICgjMzE0NClcblx0aWYgKCBjb21wdXRlZCApIHtcblx0XHRyZXQgPSBjb21wdXRlZC5nZXRQcm9wZXJ0eVZhbHVlKCBuYW1lICkgfHwgY29tcHV0ZWRbIG5hbWUgXTtcblxuXHRcdGlmICggcmV0ID09PSBcIlwiICYmICFqUXVlcnkuY29udGFpbnMoIGVsZW0ub3duZXJEb2N1bWVudCwgZWxlbSApICkge1xuXHRcdFx0cmV0ID0galF1ZXJ5LnN0eWxlKCBlbGVtLCBuYW1lICk7XG5cdFx0fVxuXG5cdFx0Ly8gQSB0cmlidXRlIHRvIHRoZSBcImF3ZXNvbWUgaGFjayBieSBEZWFuIEVkd2FyZHNcIlxuXHRcdC8vIEFuZHJvaWQgQnJvd3NlciByZXR1cm5zIHBlcmNlbnRhZ2UgZm9yIHNvbWUgdmFsdWVzLFxuXHRcdC8vIGJ1dCB3aWR0aCBzZWVtcyB0byBiZSByZWxpYWJseSBwaXhlbHMuXG5cdFx0Ly8gVGhpcyBpcyBhZ2FpbnN0IHRoZSBDU1NPTSBkcmFmdCBzcGVjOlxuXHRcdC8vIGh0dHBzOi8vZHJhZnRzLmNzc3dnLm9yZy9jc3NvbS8jcmVzb2x2ZWQtdmFsdWVzXG5cdFx0aWYgKCAhc3VwcG9ydC5waXhlbE1hcmdpblJpZ2h0KCkgJiYgcm51bW5vbnB4LnRlc3QoIHJldCApICYmIHJtYXJnaW4udGVzdCggbmFtZSApICkge1xuXG5cdFx0XHQvLyBSZW1lbWJlciB0aGUgb3JpZ2luYWwgdmFsdWVzXG5cdFx0XHR3aWR0aCA9IHN0eWxlLndpZHRoO1xuXHRcdFx0bWluV2lkdGggPSBzdHlsZS5taW5XaWR0aDtcblx0XHRcdG1heFdpZHRoID0gc3R5bGUubWF4V2lkdGg7XG5cblx0XHRcdC8vIFB1dCBpbiB0aGUgbmV3IHZhbHVlcyB0byBnZXQgYSBjb21wdXRlZCB2YWx1ZSBvdXRcblx0XHRcdHN0eWxlLm1pbldpZHRoID0gc3R5bGUubWF4V2lkdGggPSBzdHlsZS53aWR0aCA9IHJldDtcblx0XHRcdHJldCA9IGNvbXB1dGVkLndpZHRoO1xuXG5cdFx0XHQvLyBSZXZlcnQgdGhlIGNoYW5nZWQgdmFsdWVzXG5cdFx0XHRzdHlsZS53aWR0aCA9IHdpZHRoO1xuXHRcdFx0c3R5bGUubWluV2lkdGggPSBtaW5XaWR0aDtcblx0XHRcdHN0eWxlLm1heFdpZHRoID0gbWF4V2lkdGg7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHJldCAhPT0gdW5kZWZpbmVkID9cblxuXHRcdC8vIFN1cHBvcnQ6IElFIDw9OSAtIDExIG9ubHlcblx0XHQvLyBJRSByZXR1cm5zIHpJbmRleCB2YWx1ZSBhcyBhbiBpbnRlZ2VyLlxuXHRcdHJldCArIFwiXCIgOlxuXHRcdHJldDtcbn1cblxuXG5mdW5jdGlvbiBhZGRHZXRIb29rSWYoIGNvbmRpdGlvbkZuLCBob29rRm4gKSB7XG5cblx0Ly8gRGVmaW5lIHRoZSBob29rLCB3ZSdsbCBjaGVjayBvbiB0aGUgZmlyc3QgcnVuIGlmIGl0J3MgcmVhbGx5IG5lZWRlZC5cblx0cmV0dXJuIHtcblx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0aWYgKCBjb25kaXRpb25GbigpICkge1xuXG5cdFx0XHRcdC8vIEhvb2sgbm90IG5lZWRlZCAob3IgaXQncyBub3QgcG9zc2libGUgdG8gdXNlIGl0IGR1ZVxuXHRcdFx0XHQvLyB0byBtaXNzaW5nIGRlcGVuZGVuY3kpLCByZW1vdmUgaXQuXG5cdFx0XHRcdGRlbGV0ZSB0aGlzLmdldDtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBIb29rIG5lZWRlZDsgcmVkZWZpbmUgaXQgc28gdGhhdCB0aGUgc3VwcG9ydCB0ZXN0IGlzIG5vdCBleGVjdXRlZCBhZ2Fpbi5cblx0XHRcdHJldHVybiAoIHRoaXMuZ2V0ID0gaG9va0ZuICkuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdH1cblx0fTtcbn1cblxuXG52YXJcblxuXHQvLyBTd2FwcGFibGUgaWYgZGlzcGxheSBpcyBub25lIG9yIHN0YXJ0cyB3aXRoIHRhYmxlXG5cdC8vIGV4Y2VwdCBcInRhYmxlXCIsIFwidGFibGUtY2VsbFwiLCBvciBcInRhYmxlLWNhcHRpb25cIlxuXHQvLyBTZWUgaGVyZSBmb3IgZGlzcGxheSB2YWx1ZXM6IGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvQ1NTL2Rpc3BsYXlcblx0cmRpc3BsYXlzd2FwID0gL14obm9uZXx0YWJsZSg/IS1jW2VhXSkuKykvLFxuXHRyY3VzdG9tUHJvcCA9IC9eLS0vLFxuXHRjc3NTaG93ID0geyBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLCB2aXNpYmlsaXR5OiBcImhpZGRlblwiLCBkaXNwbGF5OiBcImJsb2NrXCIgfSxcblx0Y3NzTm9ybWFsVHJhbnNmb3JtID0ge1xuXHRcdGxldHRlclNwYWNpbmc6IFwiMFwiLFxuXHRcdGZvbnRXZWlnaHQ6IFwiNDAwXCJcblx0fSxcblxuXHRjc3NQcmVmaXhlcyA9IFsgXCJXZWJraXRcIiwgXCJNb3pcIiwgXCJtc1wiIF0sXG5cdGVtcHR5U3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImRpdlwiICkuc3R5bGU7XG5cbi8vIFJldHVybiBhIGNzcyBwcm9wZXJ0eSBtYXBwZWQgdG8gYSBwb3RlbnRpYWxseSB2ZW5kb3IgcHJlZml4ZWQgcHJvcGVydHlcbmZ1bmN0aW9uIHZlbmRvclByb3BOYW1lKCBuYW1lICkge1xuXG5cdC8vIFNob3J0Y3V0IGZvciBuYW1lcyB0aGF0IGFyZSBub3QgdmVuZG9yIHByZWZpeGVkXG5cdGlmICggbmFtZSBpbiBlbXB0eVN0eWxlICkge1xuXHRcdHJldHVybiBuYW1lO1xuXHR9XG5cblx0Ly8gQ2hlY2sgZm9yIHZlbmRvciBwcmVmaXhlZCBuYW1lc1xuXHR2YXIgY2FwTmFtZSA9IG5hbWVbIDAgXS50b1VwcGVyQ2FzZSgpICsgbmFtZS5zbGljZSggMSApLFxuXHRcdGkgPSBjc3NQcmVmaXhlcy5sZW5ndGg7XG5cblx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0bmFtZSA9IGNzc1ByZWZpeGVzWyBpIF0gKyBjYXBOYW1lO1xuXHRcdGlmICggbmFtZSBpbiBlbXB0eVN0eWxlICkge1xuXHRcdFx0cmV0dXJuIG5hbWU7XG5cdFx0fVxuXHR9XG59XG5cbi8vIFJldHVybiBhIHByb3BlcnR5IG1hcHBlZCBhbG9uZyB3aGF0IGpRdWVyeS5jc3NQcm9wcyBzdWdnZXN0cyBvciB0b1xuLy8gYSB2ZW5kb3IgcHJlZml4ZWQgcHJvcGVydHkuXG5mdW5jdGlvbiBmaW5hbFByb3BOYW1lKCBuYW1lICkge1xuXHR2YXIgcmV0ID0galF1ZXJ5LmNzc1Byb3BzWyBuYW1lIF07XG5cdGlmICggIXJldCApIHtcblx0XHRyZXQgPSBqUXVlcnkuY3NzUHJvcHNbIG5hbWUgXSA9IHZlbmRvclByb3BOYW1lKCBuYW1lICkgfHwgbmFtZTtcblx0fVxuXHRyZXR1cm4gcmV0O1xufVxuXG5mdW5jdGlvbiBzZXRQb3NpdGl2ZU51bWJlciggZWxlbSwgdmFsdWUsIHN1YnRyYWN0ICkge1xuXG5cdC8vIEFueSByZWxhdGl2ZSAoKy8tKSB2YWx1ZXMgaGF2ZSBhbHJlYWR5IGJlZW5cblx0Ly8gbm9ybWFsaXplZCBhdCB0aGlzIHBvaW50XG5cdHZhciBtYXRjaGVzID0gcmNzc051bS5leGVjKCB2YWx1ZSApO1xuXHRyZXR1cm4gbWF0Y2hlcyA/XG5cblx0XHQvLyBHdWFyZCBhZ2FpbnN0IHVuZGVmaW5lZCBcInN1YnRyYWN0XCIsIGUuZy4sIHdoZW4gdXNlZCBhcyBpbiBjc3NIb29rc1xuXHRcdE1hdGgubWF4KCAwLCBtYXRjaGVzWyAyIF0gLSAoIHN1YnRyYWN0IHx8IDAgKSApICsgKCBtYXRjaGVzWyAzIF0gfHwgXCJweFwiICkgOlxuXHRcdHZhbHVlO1xufVxuXG5mdW5jdGlvbiBhdWdtZW50V2lkdGhPckhlaWdodCggZWxlbSwgbmFtZSwgZXh0cmEsIGlzQm9yZGVyQm94LCBzdHlsZXMgKSB7XG5cdHZhciBpLFxuXHRcdHZhbCA9IDA7XG5cblx0Ly8gSWYgd2UgYWxyZWFkeSBoYXZlIHRoZSByaWdodCBtZWFzdXJlbWVudCwgYXZvaWQgYXVnbWVudGF0aW9uXG5cdGlmICggZXh0cmEgPT09ICggaXNCb3JkZXJCb3ggPyBcImJvcmRlclwiIDogXCJjb250ZW50XCIgKSApIHtcblx0XHRpID0gNDtcblxuXHQvLyBPdGhlcndpc2UgaW5pdGlhbGl6ZSBmb3IgaG9yaXpvbnRhbCBvciB2ZXJ0aWNhbCBwcm9wZXJ0aWVzXG5cdH0gZWxzZSB7XG5cdFx0aSA9IG5hbWUgPT09IFwid2lkdGhcIiA/IDEgOiAwO1xuXHR9XG5cblx0Zm9yICggOyBpIDwgNDsgaSArPSAyICkge1xuXG5cdFx0Ly8gQm90aCBib3ggbW9kZWxzIGV4Y2x1ZGUgbWFyZ2luLCBzbyBhZGQgaXQgaWYgd2Ugd2FudCBpdFxuXHRcdGlmICggZXh0cmEgPT09IFwibWFyZ2luXCIgKSB7XG5cdFx0XHR2YWwgKz0galF1ZXJ5LmNzcyggZWxlbSwgZXh0cmEgKyBjc3NFeHBhbmRbIGkgXSwgdHJ1ZSwgc3R5bGVzICk7XG5cdFx0fVxuXG5cdFx0aWYgKCBpc0JvcmRlckJveCApIHtcblxuXHRcdFx0Ly8gYm9yZGVyLWJveCBpbmNsdWRlcyBwYWRkaW5nLCBzbyByZW1vdmUgaXQgaWYgd2Ugd2FudCBjb250ZW50XG5cdFx0XHRpZiAoIGV4dHJhID09PSBcImNvbnRlbnRcIiApIHtcblx0XHRcdFx0dmFsIC09IGpRdWVyeS5jc3MoIGVsZW0sIFwicGFkZGluZ1wiICsgY3NzRXhwYW5kWyBpIF0sIHRydWUsIHN0eWxlcyApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBBdCB0aGlzIHBvaW50LCBleHRyYSBpc24ndCBib3JkZXIgbm9yIG1hcmdpbiwgc28gcmVtb3ZlIGJvcmRlclxuXHRcdFx0aWYgKCBleHRyYSAhPT0gXCJtYXJnaW5cIiApIHtcblx0XHRcdFx0dmFsIC09IGpRdWVyeS5jc3MoIGVsZW0sIFwiYm9yZGVyXCIgKyBjc3NFeHBhbmRbIGkgXSArIFwiV2lkdGhcIiwgdHJ1ZSwgc3R5bGVzICk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0Ly8gQXQgdGhpcyBwb2ludCwgZXh0cmEgaXNuJ3QgY29udGVudCwgc28gYWRkIHBhZGRpbmdcblx0XHRcdHZhbCArPSBqUXVlcnkuY3NzKCBlbGVtLCBcInBhZGRpbmdcIiArIGNzc0V4cGFuZFsgaSBdLCB0cnVlLCBzdHlsZXMgKTtcblxuXHRcdFx0Ly8gQXQgdGhpcyBwb2ludCwgZXh0cmEgaXNuJ3QgY29udGVudCBub3IgcGFkZGluZywgc28gYWRkIGJvcmRlclxuXHRcdFx0aWYgKCBleHRyYSAhPT0gXCJwYWRkaW5nXCIgKSB7XG5cdFx0XHRcdHZhbCArPSBqUXVlcnkuY3NzKCBlbGVtLCBcImJvcmRlclwiICsgY3NzRXhwYW5kWyBpIF0gKyBcIldpZHRoXCIsIHRydWUsIHN0eWxlcyApO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiB2YWw7XG59XG5cbmZ1bmN0aW9uIGdldFdpZHRoT3JIZWlnaHQoIGVsZW0sIG5hbWUsIGV4dHJhICkge1xuXG5cdC8vIFN0YXJ0IHdpdGggY29tcHV0ZWQgc3R5bGVcblx0dmFyIHZhbHVlSXNCb3JkZXJCb3gsXG5cdFx0c3R5bGVzID0gZ2V0U3R5bGVzKCBlbGVtICksXG5cdFx0dmFsID0gY3VyQ1NTKCBlbGVtLCBuYW1lLCBzdHlsZXMgKSxcblx0XHRpc0JvcmRlckJveCA9IGpRdWVyeS5jc3MoIGVsZW0sIFwiYm94U2l6aW5nXCIsIGZhbHNlLCBzdHlsZXMgKSA9PT0gXCJib3JkZXItYm94XCI7XG5cblx0Ly8gQ29tcHV0ZWQgdW5pdCBpcyBub3QgcGl4ZWxzLiBTdG9wIGhlcmUgYW5kIHJldHVybi5cblx0aWYgKCBybnVtbm9ucHgudGVzdCggdmFsICkgKSB7XG5cdFx0cmV0dXJuIHZhbDtcblx0fVxuXG5cdC8vIENoZWNrIGZvciBzdHlsZSBpbiBjYXNlIGEgYnJvd3NlciB3aGljaCByZXR1cm5zIHVucmVsaWFibGUgdmFsdWVzXG5cdC8vIGZvciBnZXRDb21wdXRlZFN0eWxlIHNpbGVudGx5IGZhbGxzIGJhY2sgdG8gdGhlIHJlbGlhYmxlIGVsZW0uc3R5bGVcblx0dmFsdWVJc0JvcmRlckJveCA9IGlzQm9yZGVyQm94ICYmXG5cdFx0KCBzdXBwb3J0LmJveFNpemluZ1JlbGlhYmxlKCkgfHwgdmFsID09PSBlbGVtLnN0eWxlWyBuYW1lIF0gKTtcblxuXHQvLyBGYWxsIGJhY2sgdG8gb2Zmc2V0V2lkdGgvSGVpZ2h0IHdoZW4gdmFsdWUgaXMgXCJhdXRvXCJcblx0Ly8gVGhpcyBoYXBwZW5zIGZvciBpbmxpbmUgZWxlbWVudHMgd2l0aCBubyBleHBsaWNpdCBzZXR0aW5nIChnaC0zNTcxKVxuXHRpZiAoIHZhbCA9PT0gXCJhdXRvXCIgKSB7XG5cdFx0dmFsID0gZWxlbVsgXCJvZmZzZXRcIiArIG5hbWVbIDAgXS50b1VwcGVyQ2FzZSgpICsgbmFtZS5zbGljZSggMSApIF07XG5cdH1cblxuXHQvLyBOb3JtYWxpemUgXCJcIiwgYXV0bywgYW5kIHByZXBhcmUgZm9yIGV4dHJhXG5cdHZhbCA9IHBhcnNlRmxvYXQoIHZhbCApIHx8IDA7XG5cblx0Ly8gVXNlIHRoZSBhY3RpdmUgYm94LXNpemluZyBtb2RlbCB0byBhZGQvc3VidHJhY3QgaXJyZWxldmFudCBzdHlsZXNcblx0cmV0dXJuICggdmFsICtcblx0XHRhdWdtZW50V2lkdGhPckhlaWdodChcblx0XHRcdGVsZW0sXG5cdFx0XHRuYW1lLFxuXHRcdFx0ZXh0cmEgfHwgKCBpc0JvcmRlckJveCA/IFwiYm9yZGVyXCIgOiBcImNvbnRlbnRcIiApLFxuXHRcdFx0dmFsdWVJc0JvcmRlckJveCxcblx0XHRcdHN0eWxlc1xuXHRcdClcblx0KSArIFwicHhcIjtcbn1cblxualF1ZXJ5LmV4dGVuZCgge1xuXG5cdC8vIEFkZCBpbiBzdHlsZSBwcm9wZXJ0eSBob29rcyBmb3Igb3ZlcnJpZGluZyB0aGUgZGVmYXVsdFxuXHQvLyBiZWhhdmlvciBvZiBnZXR0aW5nIGFuZCBzZXR0aW5nIGEgc3R5bGUgcHJvcGVydHlcblx0Y3NzSG9va3M6IHtcblx0XHRvcGFjaXR5OiB7XG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCBlbGVtLCBjb21wdXRlZCApIHtcblx0XHRcdFx0aWYgKCBjb21wdXRlZCApIHtcblxuXHRcdFx0XHRcdC8vIFdlIHNob3VsZCBhbHdheXMgZ2V0IGEgbnVtYmVyIGJhY2sgZnJvbSBvcGFjaXR5XG5cdFx0XHRcdFx0dmFyIHJldCA9IGN1ckNTUyggZWxlbSwgXCJvcGFjaXR5XCIgKTtcblx0XHRcdFx0XHRyZXR1cm4gcmV0ID09PSBcIlwiID8gXCIxXCIgOiByZXQ7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH0sXG5cblx0Ly8gRG9uJ3QgYXV0b21hdGljYWxseSBhZGQgXCJweFwiIHRvIHRoZXNlIHBvc3NpYmx5LXVuaXRsZXNzIHByb3BlcnRpZXNcblx0Y3NzTnVtYmVyOiB7XG5cdFx0XCJhbmltYXRpb25JdGVyYXRpb25Db3VudFwiOiB0cnVlLFxuXHRcdFwiY29sdW1uQ291bnRcIjogdHJ1ZSxcblx0XHRcImZpbGxPcGFjaXR5XCI6IHRydWUsXG5cdFx0XCJmbGV4R3Jvd1wiOiB0cnVlLFxuXHRcdFwiZmxleFNocmlua1wiOiB0cnVlLFxuXHRcdFwiZm9udFdlaWdodFwiOiB0cnVlLFxuXHRcdFwibGluZUhlaWdodFwiOiB0cnVlLFxuXHRcdFwib3BhY2l0eVwiOiB0cnVlLFxuXHRcdFwib3JkZXJcIjogdHJ1ZSxcblx0XHRcIm9ycGhhbnNcIjogdHJ1ZSxcblx0XHRcIndpZG93c1wiOiB0cnVlLFxuXHRcdFwiekluZGV4XCI6IHRydWUsXG5cdFx0XCJ6b29tXCI6IHRydWVcblx0fSxcblxuXHQvLyBBZGQgaW4gcHJvcGVydGllcyB3aG9zZSBuYW1lcyB5b3Ugd2lzaCB0byBmaXggYmVmb3JlXG5cdC8vIHNldHRpbmcgb3IgZ2V0dGluZyB0aGUgdmFsdWVcblx0Y3NzUHJvcHM6IHtcblx0XHRcImZsb2F0XCI6IFwiY3NzRmxvYXRcIlxuXHR9LFxuXG5cdC8vIEdldCBhbmQgc2V0IHRoZSBzdHlsZSBwcm9wZXJ0eSBvbiBhIERPTSBOb2RlXG5cdHN0eWxlOiBmdW5jdGlvbiggZWxlbSwgbmFtZSwgdmFsdWUsIGV4dHJhICkge1xuXG5cdFx0Ly8gRG9uJ3Qgc2V0IHN0eWxlcyBvbiB0ZXh0IGFuZCBjb21tZW50IG5vZGVzXG5cdFx0aWYgKCAhZWxlbSB8fCBlbGVtLm5vZGVUeXBlID09PSAzIHx8IGVsZW0ubm9kZVR5cGUgPT09IDggfHwgIWVsZW0uc3R5bGUgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gTWFrZSBzdXJlIHRoYXQgd2UncmUgd29ya2luZyB3aXRoIHRoZSByaWdodCBuYW1lXG5cdFx0dmFyIHJldCwgdHlwZSwgaG9va3MsXG5cdFx0XHRvcmlnTmFtZSA9IGpRdWVyeS5jYW1lbENhc2UoIG5hbWUgKSxcblx0XHRcdGlzQ3VzdG9tUHJvcCA9IHJjdXN0b21Qcm9wLnRlc3QoIG5hbWUgKSxcblx0XHRcdHN0eWxlID0gZWxlbS5zdHlsZTtcblxuXHRcdC8vIE1ha2Ugc3VyZSB0aGF0IHdlJ3JlIHdvcmtpbmcgd2l0aCB0aGUgcmlnaHQgbmFtZS4gV2UgZG9uJ3Rcblx0XHQvLyB3YW50IHRvIHF1ZXJ5IHRoZSB2YWx1ZSBpZiBpdCBpcyBhIENTUyBjdXN0b20gcHJvcGVydHlcblx0XHQvLyBzaW5jZSB0aGV5IGFyZSB1c2VyLWRlZmluZWQuXG5cdFx0aWYgKCAhaXNDdXN0b21Qcm9wICkge1xuXHRcdFx0bmFtZSA9IGZpbmFsUHJvcE5hbWUoIG9yaWdOYW1lICk7XG5cdFx0fVxuXG5cdFx0Ly8gR2V0cyBob29rIGZvciB0aGUgcHJlZml4ZWQgdmVyc2lvbiwgdGhlbiB1bnByZWZpeGVkIHZlcnNpb25cblx0XHRob29rcyA9IGpRdWVyeS5jc3NIb29rc1sgbmFtZSBdIHx8IGpRdWVyeS5jc3NIb29rc1sgb3JpZ05hbWUgXTtcblxuXHRcdC8vIENoZWNrIGlmIHdlJ3JlIHNldHRpbmcgYSB2YWx1ZVxuXHRcdGlmICggdmFsdWUgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdHR5cGUgPSB0eXBlb2YgdmFsdWU7XG5cblx0XHRcdC8vIENvbnZlcnQgXCIrPVwiIG9yIFwiLT1cIiB0byByZWxhdGl2ZSBudW1iZXJzICgjNzM0NSlcblx0XHRcdGlmICggdHlwZSA9PT0gXCJzdHJpbmdcIiAmJiAoIHJldCA9IHJjc3NOdW0uZXhlYyggdmFsdWUgKSApICYmIHJldFsgMSBdICkge1xuXHRcdFx0XHR2YWx1ZSA9IGFkanVzdENTUyggZWxlbSwgbmFtZSwgcmV0ICk7XG5cblx0XHRcdFx0Ly8gRml4ZXMgYnVnICM5MjM3XG5cdFx0XHRcdHR5cGUgPSBcIm51bWJlclwiO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBNYWtlIHN1cmUgdGhhdCBudWxsIGFuZCBOYU4gdmFsdWVzIGFyZW4ndCBzZXQgKCM3MTE2KVxuXHRcdFx0aWYgKCB2YWx1ZSA9PSBudWxsIHx8IHZhbHVlICE9PSB2YWx1ZSApIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBJZiBhIG51bWJlciB3YXMgcGFzc2VkIGluLCBhZGQgdGhlIHVuaXQgKGV4Y2VwdCBmb3IgY2VydGFpbiBDU1MgcHJvcGVydGllcylcblx0XHRcdGlmICggdHlwZSA9PT0gXCJudW1iZXJcIiApIHtcblx0XHRcdFx0dmFsdWUgKz0gcmV0ICYmIHJldFsgMyBdIHx8ICggalF1ZXJ5LmNzc051bWJlclsgb3JpZ05hbWUgXSA/IFwiXCIgOiBcInB4XCIgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gYmFja2dyb3VuZC0qIHByb3BzIGFmZmVjdCBvcmlnaW5hbCBjbG9uZSdzIHZhbHVlc1xuXHRcdFx0aWYgKCAhc3VwcG9ydC5jbGVhckNsb25lU3R5bGUgJiYgdmFsdWUgPT09IFwiXCIgJiYgbmFtZS5pbmRleE9mKCBcImJhY2tncm91bmRcIiApID09PSAwICkge1xuXHRcdFx0XHRzdHlsZVsgbmFtZSBdID0gXCJpbmhlcml0XCI7XG5cdFx0XHR9XG5cblx0XHRcdC8vIElmIGEgaG9vayB3YXMgcHJvdmlkZWQsIHVzZSB0aGF0IHZhbHVlLCBvdGhlcndpc2UganVzdCBzZXQgdGhlIHNwZWNpZmllZCB2YWx1ZVxuXHRcdFx0aWYgKCAhaG9va3MgfHwgISggXCJzZXRcIiBpbiBob29rcyApIHx8XG5cdFx0XHRcdCggdmFsdWUgPSBob29rcy5zZXQoIGVsZW0sIHZhbHVlLCBleHRyYSApICkgIT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0XHRpZiAoIGlzQ3VzdG9tUHJvcCApIHtcblx0XHRcdFx0XHRzdHlsZS5zZXRQcm9wZXJ0eSggbmFtZSwgdmFsdWUgKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRzdHlsZVsgbmFtZSBdID0gdmFsdWU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdH0gZWxzZSB7XG5cblx0XHRcdC8vIElmIGEgaG9vayB3YXMgcHJvdmlkZWQgZ2V0IHRoZSBub24tY29tcHV0ZWQgdmFsdWUgZnJvbSB0aGVyZVxuXHRcdFx0aWYgKCBob29rcyAmJiBcImdldFwiIGluIGhvb2tzICYmXG5cdFx0XHRcdCggcmV0ID0gaG9va3MuZ2V0KCBlbGVtLCBmYWxzZSwgZXh0cmEgKSApICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdFx0cmV0dXJuIHJldDtcblx0XHRcdH1cblxuXHRcdFx0Ly8gT3RoZXJ3aXNlIGp1c3QgZ2V0IHRoZSB2YWx1ZSBmcm9tIHRoZSBzdHlsZSBvYmplY3Rcblx0XHRcdHJldHVybiBzdHlsZVsgbmFtZSBdO1xuXHRcdH1cblx0fSxcblxuXHRjc3M6IGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCBleHRyYSwgc3R5bGVzICkge1xuXHRcdHZhciB2YWwsIG51bSwgaG9va3MsXG5cdFx0XHRvcmlnTmFtZSA9IGpRdWVyeS5jYW1lbENhc2UoIG5hbWUgKSxcblx0XHRcdGlzQ3VzdG9tUHJvcCA9IHJjdXN0b21Qcm9wLnRlc3QoIG5hbWUgKTtcblxuXHRcdC8vIE1ha2Ugc3VyZSB0aGF0IHdlJ3JlIHdvcmtpbmcgd2l0aCB0aGUgcmlnaHQgbmFtZS4gV2UgZG9uJ3Rcblx0XHQvLyB3YW50IHRvIG1vZGlmeSB0aGUgdmFsdWUgaWYgaXQgaXMgYSBDU1MgY3VzdG9tIHByb3BlcnR5XG5cdFx0Ly8gc2luY2UgdGhleSBhcmUgdXNlci1kZWZpbmVkLlxuXHRcdGlmICggIWlzQ3VzdG9tUHJvcCApIHtcblx0XHRcdG5hbWUgPSBmaW5hbFByb3BOYW1lKCBvcmlnTmFtZSApO1xuXHRcdH1cblxuXHRcdC8vIFRyeSBwcmVmaXhlZCBuYW1lIGZvbGxvd2VkIGJ5IHRoZSB1bnByZWZpeGVkIG5hbWVcblx0XHRob29rcyA9IGpRdWVyeS5jc3NIb29rc1sgbmFtZSBdIHx8IGpRdWVyeS5jc3NIb29rc1sgb3JpZ05hbWUgXTtcblxuXHRcdC8vIElmIGEgaG9vayB3YXMgcHJvdmlkZWQgZ2V0IHRoZSBjb21wdXRlZCB2YWx1ZSBmcm9tIHRoZXJlXG5cdFx0aWYgKCBob29rcyAmJiBcImdldFwiIGluIGhvb2tzICkge1xuXHRcdFx0dmFsID0gaG9va3MuZ2V0KCBlbGVtLCB0cnVlLCBleHRyYSApO1xuXHRcdH1cblxuXHRcdC8vIE90aGVyd2lzZSwgaWYgYSB3YXkgdG8gZ2V0IHRoZSBjb21wdXRlZCB2YWx1ZSBleGlzdHMsIHVzZSB0aGF0XG5cdFx0aWYgKCB2YWwgPT09IHVuZGVmaW5lZCApIHtcblx0XHRcdHZhbCA9IGN1ckNTUyggZWxlbSwgbmFtZSwgc3R5bGVzICk7XG5cdFx0fVxuXG5cdFx0Ly8gQ29udmVydCBcIm5vcm1hbFwiIHRvIGNvbXB1dGVkIHZhbHVlXG5cdFx0aWYgKCB2YWwgPT09IFwibm9ybWFsXCIgJiYgbmFtZSBpbiBjc3NOb3JtYWxUcmFuc2Zvcm0gKSB7XG5cdFx0XHR2YWwgPSBjc3NOb3JtYWxUcmFuc2Zvcm1bIG5hbWUgXTtcblx0XHR9XG5cblx0XHQvLyBNYWtlIG51bWVyaWMgaWYgZm9yY2VkIG9yIGEgcXVhbGlmaWVyIHdhcyBwcm92aWRlZCBhbmQgdmFsIGxvb2tzIG51bWVyaWNcblx0XHRpZiAoIGV4dHJhID09PSBcIlwiIHx8IGV4dHJhICkge1xuXHRcdFx0bnVtID0gcGFyc2VGbG9hdCggdmFsICk7XG5cdFx0XHRyZXR1cm4gZXh0cmEgPT09IHRydWUgfHwgaXNGaW5pdGUoIG51bSApID8gbnVtIHx8IDAgOiB2YWw7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHZhbDtcblx0fVxufSApO1xuXG5qUXVlcnkuZWFjaCggWyBcImhlaWdodFwiLCBcIndpZHRoXCIgXSwgZnVuY3Rpb24oIGksIG5hbWUgKSB7XG5cdGpRdWVyeS5jc3NIb29rc1sgbmFtZSBdID0ge1xuXHRcdGdldDogZnVuY3Rpb24oIGVsZW0sIGNvbXB1dGVkLCBleHRyYSApIHtcblx0XHRcdGlmICggY29tcHV0ZWQgKSB7XG5cblx0XHRcdFx0Ly8gQ2VydGFpbiBlbGVtZW50cyBjYW4gaGF2ZSBkaW1lbnNpb24gaW5mbyBpZiB3ZSBpbnZpc2libHkgc2hvdyB0aGVtXG5cdFx0XHRcdC8vIGJ1dCBpdCBtdXN0IGhhdmUgYSBjdXJyZW50IGRpc3BsYXkgc3R5bGUgdGhhdCB3b3VsZCBiZW5lZml0XG5cdFx0XHRcdHJldHVybiByZGlzcGxheXN3YXAudGVzdCggalF1ZXJ5LmNzcyggZWxlbSwgXCJkaXNwbGF5XCIgKSApICYmXG5cblx0XHRcdFx0XHQvLyBTdXBwb3J0OiBTYWZhcmkgOCtcblx0XHRcdFx0XHQvLyBUYWJsZSBjb2x1bW5zIGluIFNhZmFyaSBoYXZlIG5vbi16ZXJvIG9mZnNldFdpZHRoICYgemVyb1xuXHRcdFx0XHRcdC8vIGdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoIHVubGVzcyBkaXNwbGF5IGlzIGNoYW5nZWQuXG5cdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgPD0xMSBvbmx5XG5cdFx0XHRcdFx0Ly8gUnVubmluZyBnZXRCb3VuZGluZ0NsaWVudFJlY3Qgb24gYSBkaXNjb25uZWN0ZWQgbm9kZVxuXHRcdFx0XHRcdC8vIGluIElFIHRocm93cyBhbiBlcnJvci5cblx0XHRcdFx0XHQoICFlbGVtLmdldENsaWVudFJlY3RzKCkubGVuZ3RoIHx8ICFlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoICkgP1xuXHRcdFx0XHRcdFx0c3dhcCggZWxlbSwgY3NzU2hvdywgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiBnZXRXaWR0aE9ySGVpZ2h0KCBlbGVtLCBuYW1lLCBleHRyYSApO1xuXHRcdFx0XHRcdFx0fSApIDpcblx0XHRcdFx0XHRcdGdldFdpZHRoT3JIZWlnaHQoIGVsZW0sIG5hbWUsIGV4dHJhICk7XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdHNldDogZnVuY3Rpb24oIGVsZW0sIHZhbHVlLCBleHRyYSApIHtcblx0XHRcdHZhciBtYXRjaGVzLFxuXHRcdFx0XHRzdHlsZXMgPSBleHRyYSAmJiBnZXRTdHlsZXMoIGVsZW0gKSxcblx0XHRcdFx0c3VidHJhY3QgPSBleHRyYSAmJiBhdWdtZW50V2lkdGhPckhlaWdodChcblx0XHRcdFx0XHRlbGVtLFxuXHRcdFx0XHRcdG5hbWUsXG5cdFx0XHRcdFx0ZXh0cmEsXG5cdFx0XHRcdFx0alF1ZXJ5LmNzcyggZWxlbSwgXCJib3hTaXppbmdcIiwgZmFsc2UsIHN0eWxlcyApID09PSBcImJvcmRlci1ib3hcIixcblx0XHRcdFx0XHRzdHlsZXNcblx0XHRcdFx0KTtcblxuXHRcdFx0Ly8gQ29udmVydCB0byBwaXhlbHMgaWYgdmFsdWUgYWRqdXN0bWVudCBpcyBuZWVkZWRcblx0XHRcdGlmICggc3VidHJhY3QgJiYgKCBtYXRjaGVzID0gcmNzc051bS5leGVjKCB2YWx1ZSApICkgJiZcblx0XHRcdFx0KCBtYXRjaGVzWyAzIF0gfHwgXCJweFwiICkgIT09IFwicHhcIiApIHtcblxuXHRcdFx0XHRlbGVtLnN0eWxlWyBuYW1lIF0gPSB2YWx1ZTtcblx0XHRcdFx0dmFsdWUgPSBqUXVlcnkuY3NzKCBlbGVtLCBuYW1lICk7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBzZXRQb3NpdGl2ZU51bWJlciggZWxlbSwgdmFsdWUsIHN1YnRyYWN0ICk7XG5cdFx0fVxuXHR9O1xufSApO1xuXG5qUXVlcnkuY3NzSG9va3MubWFyZ2luTGVmdCA9IGFkZEdldEhvb2tJZiggc3VwcG9ydC5yZWxpYWJsZU1hcmdpbkxlZnQsXG5cdGZ1bmN0aW9uKCBlbGVtLCBjb21wdXRlZCApIHtcblx0XHRpZiAoIGNvbXB1dGVkICkge1xuXHRcdFx0cmV0dXJuICggcGFyc2VGbG9hdCggY3VyQ1NTKCBlbGVtLCBcIm1hcmdpbkxlZnRcIiApICkgfHxcblx0XHRcdFx0ZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0IC1cblx0XHRcdFx0XHRzd2FwKCBlbGVtLCB7IG1hcmdpbkxlZnQ6IDAgfSwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0O1xuXHRcdFx0XHRcdH0gKVxuXHRcdFx0XHQpICsgXCJweFwiO1xuXHRcdH1cblx0fVxuKTtcblxuLy8gVGhlc2UgaG9va3MgYXJlIHVzZWQgYnkgYW5pbWF0ZSB0byBleHBhbmQgcHJvcGVydGllc1xualF1ZXJ5LmVhY2goIHtcblx0bWFyZ2luOiBcIlwiLFxuXHRwYWRkaW5nOiBcIlwiLFxuXHRib3JkZXI6IFwiV2lkdGhcIlxufSwgZnVuY3Rpb24oIHByZWZpeCwgc3VmZml4ICkge1xuXHRqUXVlcnkuY3NzSG9va3NbIHByZWZpeCArIHN1ZmZpeCBdID0ge1xuXHRcdGV4cGFuZDogZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdFx0dmFyIGkgPSAwLFxuXHRcdFx0XHRleHBhbmRlZCA9IHt9LFxuXG5cdFx0XHRcdC8vIEFzc3VtZXMgYSBzaW5nbGUgbnVtYmVyIGlmIG5vdCBhIHN0cmluZ1xuXHRcdFx0XHRwYXJ0cyA9IHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIiA/IHZhbHVlLnNwbGl0KCBcIiBcIiApIDogWyB2YWx1ZSBdO1xuXG5cdFx0XHRmb3IgKCA7IGkgPCA0OyBpKysgKSB7XG5cdFx0XHRcdGV4cGFuZGVkWyBwcmVmaXggKyBjc3NFeHBhbmRbIGkgXSArIHN1ZmZpeCBdID1cblx0XHRcdFx0XHRwYXJ0c1sgaSBdIHx8IHBhcnRzWyBpIC0gMiBdIHx8IHBhcnRzWyAwIF07XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBleHBhbmRlZDtcblx0XHR9XG5cdH07XG5cblx0aWYgKCAhcm1hcmdpbi50ZXN0KCBwcmVmaXggKSApIHtcblx0XHRqUXVlcnkuY3NzSG9va3NbIHByZWZpeCArIHN1ZmZpeCBdLnNldCA9IHNldFBvc2l0aXZlTnVtYmVyO1xuXHR9XG59ICk7XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblx0Y3NzOiBmdW5jdGlvbiggbmFtZSwgdmFsdWUgKSB7XG5cdFx0cmV0dXJuIGFjY2VzcyggdGhpcywgZnVuY3Rpb24oIGVsZW0sIG5hbWUsIHZhbHVlICkge1xuXHRcdFx0dmFyIHN0eWxlcywgbGVuLFxuXHRcdFx0XHRtYXAgPSB7fSxcblx0XHRcdFx0aSA9IDA7XG5cblx0XHRcdGlmICggQXJyYXkuaXNBcnJheSggbmFtZSApICkge1xuXHRcdFx0XHRzdHlsZXMgPSBnZXRTdHlsZXMoIGVsZW0gKTtcblx0XHRcdFx0bGVuID0gbmFtZS5sZW5ndGg7XG5cblx0XHRcdFx0Zm9yICggOyBpIDwgbGVuOyBpKysgKSB7XG5cdFx0XHRcdFx0bWFwWyBuYW1lWyBpIF0gXSA9IGpRdWVyeS5jc3MoIGVsZW0sIG5hbWVbIGkgXSwgZmFsc2UsIHN0eWxlcyApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIG1hcDtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHZhbHVlICE9PSB1bmRlZmluZWQgP1xuXHRcdFx0XHRqUXVlcnkuc3R5bGUoIGVsZW0sIG5hbWUsIHZhbHVlICkgOlxuXHRcdFx0XHRqUXVlcnkuY3NzKCBlbGVtLCBuYW1lICk7XG5cdFx0fSwgbmFtZSwgdmFsdWUsIGFyZ3VtZW50cy5sZW5ndGggPiAxICk7XG5cdH1cbn0gKTtcblxuXG5mdW5jdGlvbiBUd2VlbiggZWxlbSwgb3B0aW9ucywgcHJvcCwgZW5kLCBlYXNpbmcgKSB7XG5cdHJldHVybiBuZXcgVHdlZW4ucHJvdG90eXBlLmluaXQoIGVsZW0sIG9wdGlvbnMsIHByb3AsIGVuZCwgZWFzaW5nICk7XG59XG5qUXVlcnkuVHdlZW4gPSBUd2VlbjtcblxuVHdlZW4ucHJvdG90eXBlID0ge1xuXHRjb25zdHJ1Y3RvcjogVHdlZW4sXG5cdGluaXQ6IGZ1bmN0aW9uKCBlbGVtLCBvcHRpb25zLCBwcm9wLCBlbmQsIGVhc2luZywgdW5pdCApIHtcblx0XHR0aGlzLmVsZW0gPSBlbGVtO1xuXHRcdHRoaXMucHJvcCA9IHByb3A7XG5cdFx0dGhpcy5lYXNpbmcgPSBlYXNpbmcgfHwgalF1ZXJ5LmVhc2luZy5fZGVmYXVsdDtcblx0XHR0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuXHRcdHRoaXMuc3RhcnQgPSB0aGlzLm5vdyA9IHRoaXMuY3VyKCk7XG5cdFx0dGhpcy5lbmQgPSBlbmQ7XG5cdFx0dGhpcy51bml0ID0gdW5pdCB8fCAoIGpRdWVyeS5jc3NOdW1iZXJbIHByb3AgXSA/IFwiXCIgOiBcInB4XCIgKTtcblx0fSxcblx0Y3VyOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgaG9va3MgPSBUd2Vlbi5wcm9wSG9va3NbIHRoaXMucHJvcCBdO1xuXG5cdFx0cmV0dXJuIGhvb2tzICYmIGhvb2tzLmdldCA/XG5cdFx0XHRob29rcy5nZXQoIHRoaXMgKSA6XG5cdFx0XHRUd2Vlbi5wcm9wSG9va3MuX2RlZmF1bHQuZ2V0KCB0aGlzICk7XG5cdH0sXG5cdHJ1bjogZnVuY3Rpb24oIHBlcmNlbnQgKSB7XG5cdFx0dmFyIGVhc2VkLFxuXHRcdFx0aG9va3MgPSBUd2Vlbi5wcm9wSG9va3NbIHRoaXMucHJvcCBdO1xuXG5cdFx0aWYgKCB0aGlzLm9wdGlvbnMuZHVyYXRpb24gKSB7XG5cdFx0XHR0aGlzLnBvcyA9IGVhc2VkID0galF1ZXJ5LmVhc2luZ1sgdGhpcy5lYXNpbmcgXShcblx0XHRcdFx0cGVyY2VudCwgdGhpcy5vcHRpb25zLmR1cmF0aW9uICogcGVyY2VudCwgMCwgMSwgdGhpcy5vcHRpb25zLmR1cmF0aW9uXG5cdFx0XHQpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLnBvcyA9IGVhc2VkID0gcGVyY2VudDtcblx0XHR9XG5cdFx0dGhpcy5ub3cgPSAoIHRoaXMuZW5kIC0gdGhpcy5zdGFydCApICogZWFzZWQgKyB0aGlzLnN0YXJ0O1xuXG5cdFx0aWYgKCB0aGlzLm9wdGlvbnMuc3RlcCApIHtcblx0XHRcdHRoaXMub3B0aW9ucy5zdGVwLmNhbGwoIHRoaXMuZWxlbSwgdGhpcy5ub3csIHRoaXMgKTtcblx0XHR9XG5cblx0XHRpZiAoIGhvb2tzICYmIGhvb2tzLnNldCApIHtcblx0XHRcdGhvb2tzLnNldCggdGhpcyApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRUd2Vlbi5wcm9wSG9va3MuX2RlZmF1bHQuc2V0KCB0aGlzICk7XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzO1xuXHR9XG59O1xuXG5Ud2Vlbi5wcm90b3R5cGUuaW5pdC5wcm90b3R5cGUgPSBUd2Vlbi5wcm90b3R5cGU7XG5cblR3ZWVuLnByb3BIb29rcyA9IHtcblx0X2RlZmF1bHQ6IHtcblx0XHRnZXQ6IGZ1bmN0aW9uKCB0d2VlbiApIHtcblx0XHRcdHZhciByZXN1bHQ7XG5cblx0XHRcdC8vIFVzZSBhIHByb3BlcnR5IG9uIHRoZSBlbGVtZW50IGRpcmVjdGx5IHdoZW4gaXQgaXMgbm90IGEgRE9NIGVsZW1lbnQsXG5cdFx0XHQvLyBvciB3aGVuIHRoZXJlIGlzIG5vIG1hdGNoaW5nIHN0eWxlIHByb3BlcnR5IHRoYXQgZXhpc3RzLlxuXHRcdFx0aWYgKCB0d2Vlbi5lbGVtLm5vZGVUeXBlICE9PSAxIHx8XG5cdFx0XHRcdHR3ZWVuLmVsZW1bIHR3ZWVuLnByb3AgXSAhPSBudWxsICYmIHR3ZWVuLmVsZW0uc3R5bGVbIHR3ZWVuLnByb3AgXSA9PSBudWxsICkge1xuXHRcdFx0XHRyZXR1cm4gdHdlZW4uZWxlbVsgdHdlZW4ucHJvcCBdO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBQYXNzaW5nIGFuIGVtcHR5IHN0cmluZyBhcyBhIDNyZCBwYXJhbWV0ZXIgdG8gLmNzcyB3aWxsIGF1dG9tYXRpY2FsbHlcblx0XHRcdC8vIGF0dGVtcHQgYSBwYXJzZUZsb2F0IGFuZCBmYWxsYmFjayB0byBhIHN0cmluZyBpZiB0aGUgcGFyc2UgZmFpbHMuXG5cdFx0XHQvLyBTaW1wbGUgdmFsdWVzIHN1Y2ggYXMgXCIxMHB4XCIgYXJlIHBhcnNlZCB0byBGbG9hdDtcblx0XHRcdC8vIGNvbXBsZXggdmFsdWVzIHN1Y2ggYXMgXCJyb3RhdGUoMXJhZClcIiBhcmUgcmV0dXJuZWQgYXMtaXMuXG5cdFx0XHRyZXN1bHQgPSBqUXVlcnkuY3NzKCB0d2Vlbi5lbGVtLCB0d2Vlbi5wcm9wLCBcIlwiICk7XG5cblx0XHRcdC8vIEVtcHR5IHN0cmluZ3MsIG51bGwsIHVuZGVmaW5lZCBhbmQgXCJhdXRvXCIgYXJlIGNvbnZlcnRlZCB0byAwLlxuXHRcdFx0cmV0dXJuICFyZXN1bHQgfHwgcmVzdWx0ID09PSBcImF1dG9cIiA/IDAgOiByZXN1bHQ7XG5cdFx0fSxcblx0XHRzZXQ6IGZ1bmN0aW9uKCB0d2VlbiApIHtcblxuXHRcdFx0Ly8gVXNlIHN0ZXAgaG9vayBmb3IgYmFjayBjb21wYXQuXG5cdFx0XHQvLyBVc2UgY3NzSG9vayBpZiBpdHMgdGhlcmUuXG5cdFx0XHQvLyBVc2UgLnN0eWxlIGlmIGF2YWlsYWJsZSBhbmQgdXNlIHBsYWluIHByb3BlcnRpZXMgd2hlcmUgYXZhaWxhYmxlLlxuXHRcdFx0aWYgKCBqUXVlcnkuZnguc3RlcFsgdHdlZW4ucHJvcCBdICkge1xuXHRcdFx0XHRqUXVlcnkuZnguc3RlcFsgdHdlZW4ucHJvcCBdKCB0d2VlbiApO1xuXHRcdFx0fSBlbHNlIGlmICggdHdlZW4uZWxlbS5ub2RlVHlwZSA9PT0gMSAmJlxuXHRcdFx0XHQoIHR3ZWVuLmVsZW0uc3R5bGVbIGpRdWVyeS5jc3NQcm9wc1sgdHdlZW4ucHJvcCBdIF0gIT0gbnVsbCB8fFxuXHRcdFx0XHRcdGpRdWVyeS5jc3NIb29rc1sgdHdlZW4ucHJvcCBdICkgKSB7XG5cdFx0XHRcdGpRdWVyeS5zdHlsZSggdHdlZW4uZWxlbSwgdHdlZW4ucHJvcCwgdHdlZW4ubm93ICsgdHdlZW4udW5pdCApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dHdlZW4uZWxlbVsgdHdlZW4ucHJvcCBdID0gdHdlZW4ubm93O1xuXHRcdFx0fVxuXHRcdH1cblx0fVxufTtcblxuLy8gU3VwcG9ydDogSUUgPD05IG9ubHlcbi8vIFBhbmljIGJhc2VkIGFwcHJvYWNoIHRvIHNldHRpbmcgdGhpbmdzIG9uIGRpc2Nvbm5lY3RlZCBub2Rlc1xuVHdlZW4ucHJvcEhvb2tzLnNjcm9sbFRvcCA9IFR3ZWVuLnByb3BIb29rcy5zY3JvbGxMZWZ0ID0ge1xuXHRzZXQ6IGZ1bmN0aW9uKCB0d2VlbiApIHtcblx0XHRpZiAoIHR3ZWVuLmVsZW0ubm9kZVR5cGUgJiYgdHdlZW4uZWxlbS5wYXJlbnROb2RlICkge1xuXHRcdFx0dHdlZW4uZWxlbVsgdHdlZW4ucHJvcCBdID0gdHdlZW4ubm93O1xuXHRcdH1cblx0fVxufTtcblxualF1ZXJ5LmVhc2luZyA9IHtcblx0bGluZWFyOiBmdW5jdGlvbiggcCApIHtcblx0XHRyZXR1cm4gcDtcblx0fSxcblx0c3dpbmc6IGZ1bmN0aW9uKCBwICkge1xuXHRcdHJldHVybiAwLjUgLSBNYXRoLmNvcyggcCAqIE1hdGguUEkgKSAvIDI7XG5cdH0sXG5cdF9kZWZhdWx0OiBcInN3aW5nXCJcbn07XG5cbmpRdWVyeS5meCA9IFR3ZWVuLnByb3RvdHlwZS5pbml0O1xuXG4vLyBCYWNrIGNvbXBhdCA8MS44IGV4dGVuc2lvbiBwb2ludFxualF1ZXJ5LmZ4LnN0ZXAgPSB7fTtcblxuXG5cblxudmFyXG5cdGZ4Tm93LCBpblByb2dyZXNzLFxuXHRyZnh0eXBlcyA9IC9eKD86dG9nZ2xlfHNob3d8aGlkZSkkLyxcblx0cnJ1biA9IC9xdWV1ZUhvb2tzJC87XG5cbmZ1bmN0aW9uIHNjaGVkdWxlKCkge1xuXHRpZiAoIGluUHJvZ3Jlc3MgKSB7XG5cdFx0aWYgKCBkb2N1bWVudC5oaWRkZW4gPT09IGZhbHNlICYmIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgKSB7XG5cdFx0XHR3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCBzY2hlZHVsZSApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR3aW5kb3cuc2V0VGltZW91dCggc2NoZWR1bGUsIGpRdWVyeS5meC5pbnRlcnZhbCApO1xuXHRcdH1cblxuXHRcdGpRdWVyeS5meC50aWNrKCk7XG5cdH1cbn1cblxuLy8gQW5pbWF0aW9ucyBjcmVhdGVkIHN5bmNocm9ub3VzbHkgd2lsbCBydW4gc3luY2hyb25vdXNseVxuZnVuY3Rpb24gY3JlYXRlRnhOb3coKSB7XG5cdHdpbmRvdy5zZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblx0XHRmeE5vdyA9IHVuZGVmaW5lZDtcblx0fSApO1xuXHRyZXR1cm4gKCBmeE5vdyA9IGpRdWVyeS5ub3coKSApO1xufVxuXG4vLyBHZW5lcmF0ZSBwYXJhbWV0ZXJzIHRvIGNyZWF0ZSBhIHN0YW5kYXJkIGFuaW1hdGlvblxuZnVuY3Rpb24gZ2VuRngoIHR5cGUsIGluY2x1ZGVXaWR0aCApIHtcblx0dmFyIHdoaWNoLFxuXHRcdGkgPSAwLFxuXHRcdGF0dHJzID0geyBoZWlnaHQ6IHR5cGUgfTtcblxuXHQvLyBJZiB3ZSBpbmNsdWRlIHdpZHRoLCBzdGVwIHZhbHVlIGlzIDEgdG8gZG8gYWxsIGNzc0V4cGFuZCB2YWx1ZXMsXG5cdC8vIG90aGVyd2lzZSBzdGVwIHZhbHVlIGlzIDIgdG8gc2tpcCBvdmVyIExlZnQgYW5kIFJpZ2h0XG5cdGluY2x1ZGVXaWR0aCA9IGluY2x1ZGVXaWR0aCA/IDEgOiAwO1xuXHRmb3IgKCA7IGkgPCA0OyBpICs9IDIgLSBpbmNsdWRlV2lkdGggKSB7XG5cdFx0d2hpY2ggPSBjc3NFeHBhbmRbIGkgXTtcblx0XHRhdHRyc1sgXCJtYXJnaW5cIiArIHdoaWNoIF0gPSBhdHRyc1sgXCJwYWRkaW5nXCIgKyB3aGljaCBdID0gdHlwZTtcblx0fVxuXG5cdGlmICggaW5jbHVkZVdpZHRoICkge1xuXHRcdGF0dHJzLm9wYWNpdHkgPSBhdHRycy53aWR0aCA9IHR5cGU7XG5cdH1cblxuXHRyZXR1cm4gYXR0cnM7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVR3ZWVuKCB2YWx1ZSwgcHJvcCwgYW5pbWF0aW9uICkge1xuXHR2YXIgdHdlZW4sXG5cdFx0Y29sbGVjdGlvbiA9ICggQW5pbWF0aW9uLnR3ZWVuZXJzWyBwcm9wIF0gfHwgW10gKS5jb25jYXQoIEFuaW1hdGlvbi50d2VlbmVyc1sgXCIqXCIgXSApLFxuXHRcdGluZGV4ID0gMCxcblx0XHRsZW5ndGggPSBjb2xsZWN0aW9uLmxlbmd0aDtcblx0Zm9yICggOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKyApIHtcblx0XHRpZiAoICggdHdlZW4gPSBjb2xsZWN0aW9uWyBpbmRleCBdLmNhbGwoIGFuaW1hdGlvbiwgcHJvcCwgdmFsdWUgKSApICkge1xuXG5cdFx0XHQvLyBXZSdyZSBkb25lIHdpdGggdGhpcyBwcm9wZXJ0eVxuXHRcdFx0cmV0dXJuIHR3ZWVuO1xuXHRcdH1cblx0fVxufVxuXG5mdW5jdGlvbiBkZWZhdWx0UHJlZmlsdGVyKCBlbGVtLCBwcm9wcywgb3B0cyApIHtcblx0dmFyIHByb3AsIHZhbHVlLCB0b2dnbGUsIGhvb2tzLCBvbGRmaXJlLCBwcm9wVHdlZW4sIHJlc3RvcmVEaXNwbGF5LCBkaXNwbGF5LFxuXHRcdGlzQm94ID0gXCJ3aWR0aFwiIGluIHByb3BzIHx8IFwiaGVpZ2h0XCIgaW4gcHJvcHMsXG5cdFx0YW5pbSA9IHRoaXMsXG5cdFx0b3JpZyA9IHt9LFxuXHRcdHN0eWxlID0gZWxlbS5zdHlsZSxcblx0XHRoaWRkZW4gPSBlbGVtLm5vZGVUeXBlICYmIGlzSGlkZGVuV2l0aGluVHJlZSggZWxlbSApLFxuXHRcdGRhdGFTaG93ID0gZGF0YVByaXYuZ2V0KCBlbGVtLCBcImZ4c2hvd1wiICk7XG5cblx0Ly8gUXVldWUtc2tpcHBpbmcgYW5pbWF0aW9ucyBoaWphY2sgdGhlIGZ4IGhvb2tzXG5cdGlmICggIW9wdHMucXVldWUgKSB7XG5cdFx0aG9va3MgPSBqUXVlcnkuX3F1ZXVlSG9va3MoIGVsZW0sIFwiZnhcIiApO1xuXHRcdGlmICggaG9va3MudW5xdWV1ZWQgPT0gbnVsbCApIHtcblx0XHRcdGhvb2tzLnVucXVldWVkID0gMDtcblx0XHRcdG9sZGZpcmUgPSBob29rcy5lbXB0eS5maXJlO1xuXHRcdFx0aG9va3MuZW1wdHkuZmlyZSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZiAoICFob29rcy51bnF1ZXVlZCApIHtcblx0XHRcdFx0XHRvbGRmaXJlKCk7XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cdFx0fVxuXHRcdGhvb2tzLnVucXVldWVkKys7XG5cblx0XHRhbmltLmFsd2F5cyggZnVuY3Rpb24oKSB7XG5cblx0XHRcdC8vIEVuc3VyZSB0aGUgY29tcGxldGUgaGFuZGxlciBpcyBjYWxsZWQgYmVmb3JlIHRoaXMgY29tcGxldGVzXG5cdFx0XHRhbmltLmFsd2F5cyggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGhvb2tzLnVucXVldWVkLS07XG5cdFx0XHRcdGlmICggIWpRdWVyeS5xdWV1ZSggZWxlbSwgXCJmeFwiICkubGVuZ3RoICkge1xuXHRcdFx0XHRcdGhvb2tzLmVtcHR5LmZpcmUoKTtcblx0XHRcdFx0fVxuXHRcdFx0fSApO1xuXHRcdH0gKTtcblx0fVxuXG5cdC8vIERldGVjdCBzaG93L2hpZGUgYW5pbWF0aW9uc1xuXHRmb3IgKCBwcm9wIGluIHByb3BzICkge1xuXHRcdHZhbHVlID0gcHJvcHNbIHByb3AgXTtcblx0XHRpZiAoIHJmeHR5cGVzLnRlc3QoIHZhbHVlICkgKSB7XG5cdFx0XHRkZWxldGUgcHJvcHNbIHByb3AgXTtcblx0XHRcdHRvZ2dsZSA9IHRvZ2dsZSB8fCB2YWx1ZSA9PT0gXCJ0b2dnbGVcIjtcblx0XHRcdGlmICggdmFsdWUgPT09ICggaGlkZGVuID8gXCJoaWRlXCIgOiBcInNob3dcIiApICkge1xuXG5cdFx0XHRcdC8vIFByZXRlbmQgdG8gYmUgaGlkZGVuIGlmIHRoaXMgaXMgYSBcInNob3dcIiBhbmRcblx0XHRcdFx0Ly8gdGhlcmUgaXMgc3RpbGwgZGF0YSBmcm9tIGEgc3RvcHBlZCBzaG93L2hpZGVcblx0XHRcdFx0aWYgKCB2YWx1ZSA9PT0gXCJzaG93XCIgJiYgZGF0YVNob3cgJiYgZGF0YVNob3dbIHByb3AgXSAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRcdGhpZGRlbiA9IHRydWU7XG5cblx0XHRcdFx0Ly8gSWdub3JlIGFsbCBvdGhlciBuby1vcCBzaG93L2hpZGUgZGF0YVxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRvcmlnWyBwcm9wIF0gPSBkYXRhU2hvdyAmJiBkYXRhU2hvd1sgcHJvcCBdIHx8IGpRdWVyeS5zdHlsZSggZWxlbSwgcHJvcCApO1xuXHRcdH1cblx0fVxuXG5cdC8vIEJhaWwgb3V0IGlmIHRoaXMgaXMgYSBuby1vcCBsaWtlIC5oaWRlKCkuaGlkZSgpXG5cdHByb3BUd2VlbiA9ICFqUXVlcnkuaXNFbXB0eU9iamVjdCggcHJvcHMgKTtcblx0aWYgKCAhcHJvcFR3ZWVuICYmIGpRdWVyeS5pc0VtcHR5T2JqZWN0KCBvcmlnICkgKSB7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0Ly8gUmVzdHJpY3QgXCJvdmVyZmxvd1wiIGFuZCBcImRpc3BsYXlcIiBzdHlsZXMgZHVyaW5nIGJveCBhbmltYXRpb25zXG5cdGlmICggaXNCb3ggJiYgZWxlbS5ub2RlVHlwZSA9PT0gMSApIHtcblxuXHRcdC8vIFN1cHBvcnQ6IElFIDw9OSAtIDExLCBFZGdlIDEyIC0gMTNcblx0XHQvLyBSZWNvcmQgYWxsIDMgb3ZlcmZsb3cgYXR0cmlidXRlcyBiZWNhdXNlIElFIGRvZXMgbm90IGluZmVyIHRoZSBzaG9ydGhhbmRcblx0XHQvLyBmcm9tIGlkZW50aWNhbGx5LXZhbHVlZCBvdmVyZmxvd1ggYW5kIG92ZXJmbG93WVxuXHRcdG9wdHMub3ZlcmZsb3cgPSBbIHN0eWxlLm92ZXJmbG93LCBzdHlsZS5vdmVyZmxvd1gsIHN0eWxlLm92ZXJmbG93WSBdO1xuXG5cdFx0Ly8gSWRlbnRpZnkgYSBkaXNwbGF5IHR5cGUsIHByZWZlcnJpbmcgb2xkIHNob3cvaGlkZSBkYXRhIG92ZXIgdGhlIENTUyBjYXNjYWRlXG5cdFx0cmVzdG9yZURpc3BsYXkgPSBkYXRhU2hvdyAmJiBkYXRhU2hvdy5kaXNwbGF5O1xuXHRcdGlmICggcmVzdG9yZURpc3BsYXkgPT0gbnVsbCApIHtcblx0XHRcdHJlc3RvcmVEaXNwbGF5ID0gZGF0YVByaXYuZ2V0KCBlbGVtLCBcImRpc3BsYXlcIiApO1xuXHRcdH1cblx0XHRkaXNwbGF5ID0galF1ZXJ5LmNzcyggZWxlbSwgXCJkaXNwbGF5XCIgKTtcblx0XHRpZiAoIGRpc3BsYXkgPT09IFwibm9uZVwiICkge1xuXHRcdFx0aWYgKCByZXN0b3JlRGlzcGxheSApIHtcblx0XHRcdFx0ZGlzcGxheSA9IHJlc3RvcmVEaXNwbGF5O1xuXHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHQvLyBHZXQgbm9uZW1wdHkgdmFsdWUocykgYnkgdGVtcG9yYXJpbHkgZm9yY2luZyB2aXNpYmlsaXR5XG5cdFx0XHRcdHNob3dIaWRlKCBbIGVsZW0gXSwgdHJ1ZSApO1xuXHRcdFx0XHRyZXN0b3JlRGlzcGxheSA9IGVsZW0uc3R5bGUuZGlzcGxheSB8fCByZXN0b3JlRGlzcGxheTtcblx0XHRcdFx0ZGlzcGxheSA9IGpRdWVyeS5jc3MoIGVsZW0sIFwiZGlzcGxheVwiICk7XG5cdFx0XHRcdHNob3dIaWRlKCBbIGVsZW0gXSApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIEFuaW1hdGUgaW5saW5lIGVsZW1lbnRzIGFzIGlubGluZS1ibG9ja1xuXHRcdGlmICggZGlzcGxheSA9PT0gXCJpbmxpbmVcIiB8fCBkaXNwbGF5ID09PSBcImlubGluZS1ibG9ja1wiICYmIHJlc3RvcmVEaXNwbGF5ICE9IG51bGwgKSB7XG5cdFx0XHRpZiAoIGpRdWVyeS5jc3MoIGVsZW0sIFwiZmxvYXRcIiApID09PSBcIm5vbmVcIiApIHtcblxuXHRcdFx0XHQvLyBSZXN0b3JlIHRoZSBvcmlnaW5hbCBkaXNwbGF5IHZhbHVlIGF0IHRoZSBlbmQgb2YgcHVyZSBzaG93L2hpZGUgYW5pbWF0aW9uc1xuXHRcdFx0XHRpZiAoICFwcm9wVHdlZW4gKSB7XG5cdFx0XHRcdFx0YW5pbS5kb25lKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdHN0eWxlLmRpc3BsYXkgPSByZXN0b3JlRGlzcGxheTtcblx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0aWYgKCByZXN0b3JlRGlzcGxheSA9PSBudWxsICkge1xuXHRcdFx0XHRcdFx0ZGlzcGxheSA9IHN0eWxlLmRpc3BsYXk7XG5cdFx0XHRcdFx0XHRyZXN0b3JlRGlzcGxheSA9IGRpc3BsYXkgPT09IFwibm9uZVwiID8gXCJcIiA6IGRpc3BsYXk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdHN0eWxlLmRpc3BsYXkgPSBcImlubGluZS1ibG9ja1wiO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdGlmICggb3B0cy5vdmVyZmxvdyApIHtcblx0XHRzdHlsZS5vdmVyZmxvdyA9IFwiaGlkZGVuXCI7XG5cdFx0YW5pbS5hbHdheXMoIGZ1bmN0aW9uKCkge1xuXHRcdFx0c3R5bGUub3ZlcmZsb3cgPSBvcHRzLm92ZXJmbG93WyAwIF07XG5cdFx0XHRzdHlsZS5vdmVyZmxvd1ggPSBvcHRzLm92ZXJmbG93WyAxIF07XG5cdFx0XHRzdHlsZS5vdmVyZmxvd1kgPSBvcHRzLm92ZXJmbG93WyAyIF07XG5cdFx0fSApO1xuXHR9XG5cblx0Ly8gSW1wbGVtZW50IHNob3cvaGlkZSBhbmltYXRpb25zXG5cdHByb3BUd2VlbiA9IGZhbHNlO1xuXHRmb3IgKCBwcm9wIGluIG9yaWcgKSB7XG5cblx0XHQvLyBHZW5lcmFsIHNob3cvaGlkZSBzZXR1cCBmb3IgdGhpcyBlbGVtZW50IGFuaW1hdGlvblxuXHRcdGlmICggIXByb3BUd2VlbiApIHtcblx0XHRcdGlmICggZGF0YVNob3cgKSB7XG5cdFx0XHRcdGlmICggXCJoaWRkZW5cIiBpbiBkYXRhU2hvdyApIHtcblx0XHRcdFx0XHRoaWRkZW4gPSBkYXRhU2hvdy5oaWRkZW47XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGRhdGFTaG93ID0gZGF0YVByaXYuYWNjZXNzKCBlbGVtLCBcImZ4c2hvd1wiLCB7IGRpc3BsYXk6IHJlc3RvcmVEaXNwbGF5IH0gKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gU3RvcmUgaGlkZGVuL3Zpc2libGUgZm9yIHRvZ2dsZSBzbyBgLnN0b3AoKS50b2dnbGUoKWAgXCJyZXZlcnNlc1wiXG5cdFx0XHRpZiAoIHRvZ2dsZSApIHtcblx0XHRcdFx0ZGF0YVNob3cuaGlkZGVuID0gIWhpZGRlbjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gU2hvdyBlbGVtZW50cyBiZWZvcmUgYW5pbWF0aW5nIHRoZW1cblx0XHRcdGlmICggaGlkZGVuICkge1xuXHRcdFx0XHRzaG93SGlkZSggWyBlbGVtIF0sIHRydWUgKTtcblx0XHRcdH1cblxuXHRcdFx0LyogZXNsaW50LWRpc2FibGUgbm8tbG9vcC1mdW5jICovXG5cblx0XHRcdGFuaW0uZG9uZSggZnVuY3Rpb24oKSB7XG5cblx0XHRcdC8qIGVzbGludC1lbmFibGUgbm8tbG9vcC1mdW5jICovXG5cblx0XHRcdFx0Ly8gVGhlIGZpbmFsIHN0ZXAgb2YgYSBcImhpZGVcIiBhbmltYXRpb24gaXMgYWN0dWFsbHkgaGlkaW5nIHRoZSBlbGVtZW50XG5cdFx0XHRcdGlmICggIWhpZGRlbiApIHtcblx0XHRcdFx0XHRzaG93SGlkZSggWyBlbGVtIF0gKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRkYXRhUHJpdi5yZW1vdmUoIGVsZW0sIFwiZnhzaG93XCIgKTtcblx0XHRcdFx0Zm9yICggcHJvcCBpbiBvcmlnICkge1xuXHRcdFx0XHRcdGpRdWVyeS5zdHlsZSggZWxlbSwgcHJvcCwgb3JpZ1sgcHJvcCBdICk7XG5cdFx0XHRcdH1cblx0XHRcdH0gKTtcblx0XHR9XG5cblx0XHQvLyBQZXItcHJvcGVydHkgc2V0dXBcblx0XHRwcm9wVHdlZW4gPSBjcmVhdGVUd2VlbiggaGlkZGVuID8gZGF0YVNob3dbIHByb3AgXSA6IDAsIHByb3AsIGFuaW0gKTtcblx0XHRpZiAoICEoIHByb3AgaW4gZGF0YVNob3cgKSApIHtcblx0XHRcdGRhdGFTaG93WyBwcm9wIF0gPSBwcm9wVHdlZW4uc3RhcnQ7XG5cdFx0XHRpZiAoIGhpZGRlbiApIHtcblx0XHRcdFx0cHJvcFR3ZWVuLmVuZCA9IHByb3BUd2Vlbi5zdGFydDtcblx0XHRcdFx0cHJvcFR3ZWVuLnN0YXJ0ID0gMDtcblx0XHRcdH1cblx0XHR9XG5cdH1cbn1cblxuZnVuY3Rpb24gcHJvcEZpbHRlciggcHJvcHMsIHNwZWNpYWxFYXNpbmcgKSB7XG5cdHZhciBpbmRleCwgbmFtZSwgZWFzaW5nLCB2YWx1ZSwgaG9va3M7XG5cblx0Ly8gY2FtZWxDYXNlLCBzcGVjaWFsRWFzaW5nIGFuZCBleHBhbmQgY3NzSG9vayBwYXNzXG5cdGZvciAoIGluZGV4IGluIHByb3BzICkge1xuXHRcdG5hbWUgPSBqUXVlcnkuY2FtZWxDYXNlKCBpbmRleCApO1xuXHRcdGVhc2luZyA9IHNwZWNpYWxFYXNpbmdbIG5hbWUgXTtcblx0XHR2YWx1ZSA9IHByb3BzWyBpbmRleCBdO1xuXHRcdGlmICggQXJyYXkuaXNBcnJheSggdmFsdWUgKSApIHtcblx0XHRcdGVhc2luZyA9IHZhbHVlWyAxIF07XG5cdFx0XHR2YWx1ZSA9IHByb3BzWyBpbmRleCBdID0gdmFsdWVbIDAgXTtcblx0XHR9XG5cblx0XHRpZiAoIGluZGV4ICE9PSBuYW1lICkge1xuXHRcdFx0cHJvcHNbIG5hbWUgXSA9IHZhbHVlO1xuXHRcdFx0ZGVsZXRlIHByb3BzWyBpbmRleCBdO1xuXHRcdH1cblxuXHRcdGhvb2tzID0galF1ZXJ5LmNzc0hvb2tzWyBuYW1lIF07XG5cdFx0aWYgKCBob29rcyAmJiBcImV4cGFuZFwiIGluIGhvb2tzICkge1xuXHRcdFx0dmFsdWUgPSBob29rcy5leHBhbmQoIHZhbHVlICk7XG5cdFx0XHRkZWxldGUgcHJvcHNbIG5hbWUgXTtcblxuXHRcdFx0Ly8gTm90IHF1aXRlICQuZXh0ZW5kLCB0aGlzIHdvbid0IG92ZXJ3cml0ZSBleGlzdGluZyBrZXlzLlxuXHRcdFx0Ly8gUmV1c2luZyAnaW5kZXgnIGJlY2F1c2Ugd2UgaGF2ZSB0aGUgY29ycmVjdCBcIm5hbWVcIlxuXHRcdFx0Zm9yICggaW5kZXggaW4gdmFsdWUgKSB7XG5cdFx0XHRcdGlmICggISggaW5kZXggaW4gcHJvcHMgKSApIHtcblx0XHRcdFx0XHRwcm9wc1sgaW5kZXggXSA9IHZhbHVlWyBpbmRleCBdO1xuXHRcdFx0XHRcdHNwZWNpYWxFYXNpbmdbIGluZGV4IF0gPSBlYXNpbmc7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0c3BlY2lhbEVhc2luZ1sgbmFtZSBdID0gZWFzaW5nO1xuXHRcdH1cblx0fVxufVxuXG5mdW5jdGlvbiBBbmltYXRpb24oIGVsZW0sIHByb3BlcnRpZXMsIG9wdGlvbnMgKSB7XG5cdHZhciByZXN1bHQsXG5cdFx0c3RvcHBlZCxcblx0XHRpbmRleCA9IDAsXG5cdFx0bGVuZ3RoID0gQW5pbWF0aW9uLnByZWZpbHRlcnMubGVuZ3RoLFxuXHRcdGRlZmVycmVkID0galF1ZXJ5LkRlZmVycmVkKCkuYWx3YXlzKCBmdW5jdGlvbigpIHtcblxuXHRcdFx0Ly8gRG9uJ3QgbWF0Y2ggZWxlbSBpbiB0aGUgOmFuaW1hdGVkIHNlbGVjdG9yXG5cdFx0XHRkZWxldGUgdGljay5lbGVtO1xuXHRcdH0gKSxcblx0XHR0aWNrID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRpZiAoIHN0b3BwZWQgKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XHRcdHZhciBjdXJyZW50VGltZSA9IGZ4Tm93IHx8IGNyZWF0ZUZ4Tm93KCksXG5cdFx0XHRcdHJlbWFpbmluZyA9IE1hdGgubWF4KCAwLCBhbmltYXRpb24uc3RhcnRUaW1lICsgYW5pbWF0aW9uLmR1cmF0aW9uIC0gY3VycmVudFRpbWUgKSxcblxuXHRcdFx0XHQvLyBTdXBwb3J0OiBBbmRyb2lkIDIuMyBvbmx5XG5cdFx0XHRcdC8vIEFyY2hhaWMgY3Jhc2ggYnVnIHdvbid0IGFsbG93IHVzIHRvIHVzZSBgMSAtICggMC41IHx8IDAgKWAgKCMxMjQ5Nylcblx0XHRcdFx0dGVtcCA9IHJlbWFpbmluZyAvIGFuaW1hdGlvbi5kdXJhdGlvbiB8fCAwLFxuXHRcdFx0XHRwZXJjZW50ID0gMSAtIHRlbXAsXG5cdFx0XHRcdGluZGV4ID0gMCxcblx0XHRcdFx0bGVuZ3RoID0gYW5pbWF0aW9uLnR3ZWVucy5sZW5ndGg7XG5cblx0XHRcdGZvciAoIDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KysgKSB7XG5cdFx0XHRcdGFuaW1hdGlvbi50d2VlbnNbIGluZGV4IF0ucnVuKCBwZXJjZW50ICk7XG5cdFx0XHR9XG5cblx0XHRcdGRlZmVycmVkLm5vdGlmeVdpdGgoIGVsZW0sIFsgYW5pbWF0aW9uLCBwZXJjZW50LCByZW1haW5pbmcgXSApO1xuXG5cdFx0XHQvLyBJZiB0aGVyZSdzIG1vcmUgdG8gZG8sIHlpZWxkXG5cdFx0XHRpZiAoIHBlcmNlbnQgPCAxICYmIGxlbmd0aCApIHtcblx0XHRcdFx0cmV0dXJuIHJlbWFpbmluZztcblx0XHRcdH1cblxuXHRcdFx0Ly8gSWYgdGhpcyB3YXMgYW4gZW1wdHkgYW5pbWF0aW9uLCBzeW50aGVzaXplIGEgZmluYWwgcHJvZ3Jlc3Mgbm90aWZpY2F0aW9uXG5cdFx0XHRpZiAoICFsZW5ndGggKSB7XG5cdFx0XHRcdGRlZmVycmVkLm5vdGlmeVdpdGgoIGVsZW0sIFsgYW5pbWF0aW9uLCAxLCAwIF0gKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gUmVzb2x2ZSB0aGUgYW5pbWF0aW9uIGFuZCByZXBvcnQgaXRzIGNvbmNsdXNpb25cblx0XHRcdGRlZmVycmVkLnJlc29sdmVXaXRoKCBlbGVtLCBbIGFuaW1hdGlvbiBdICk7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fSxcblx0XHRhbmltYXRpb24gPSBkZWZlcnJlZC5wcm9taXNlKCB7XG5cdFx0XHRlbGVtOiBlbGVtLFxuXHRcdFx0cHJvcHM6IGpRdWVyeS5leHRlbmQoIHt9LCBwcm9wZXJ0aWVzICksXG5cdFx0XHRvcHRzOiBqUXVlcnkuZXh0ZW5kKCB0cnVlLCB7XG5cdFx0XHRcdHNwZWNpYWxFYXNpbmc6IHt9LFxuXHRcdFx0XHRlYXNpbmc6IGpRdWVyeS5lYXNpbmcuX2RlZmF1bHRcblx0XHRcdH0sIG9wdGlvbnMgKSxcblx0XHRcdG9yaWdpbmFsUHJvcGVydGllczogcHJvcGVydGllcyxcblx0XHRcdG9yaWdpbmFsT3B0aW9uczogb3B0aW9ucyxcblx0XHRcdHN0YXJ0VGltZTogZnhOb3cgfHwgY3JlYXRlRnhOb3coKSxcblx0XHRcdGR1cmF0aW9uOiBvcHRpb25zLmR1cmF0aW9uLFxuXHRcdFx0dHdlZW5zOiBbXSxcblx0XHRcdGNyZWF0ZVR3ZWVuOiBmdW5jdGlvbiggcHJvcCwgZW5kICkge1xuXHRcdFx0XHR2YXIgdHdlZW4gPSBqUXVlcnkuVHdlZW4oIGVsZW0sIGFuaW1hdGlvbi5vcHRzLCBwcm9wLCBlbmQsXG5cdFx0XHRcdFx0XHRhbmltYXRpb24ub3B0cy5zcGVjaWFsRWFzaW5nWyBwcm9wIF0gfHwgYW5pbWF0aW9uLm9wdHMuZWFzaW5nICk7XG5cdFx0XHRcdGFuaW1hdGlvbi50d2VlbnMucHVzaCggdHdlZW4gKTtcblx0XHRcdFx0cmV0dXJuIHR3ZWVuO1xuXHRcdFx0fSxcblx0XHRcdHN0b3A6IGZ1bmN0aW9uKCBnb3RvRW5kICkge1xuXHRcdFx0XHR2YXIgaW5kZXggPSAwLFxuXG5cdFx0XHRcdFx0Ly8gSWYgd2UgYXJlIGdvaW5nIHRvIHRoZSBlbmQsIHdlIHdhbnQgdG8gcnVuIGFsbCB0aGUgdHdlZW5zXG5cdFx0XHRcdFx0Ly8gb3RoZXJ3aXNlIHdlIHNraXAgdGhpcyBwYXJ0XG5cdFx0XHRcdFx0bGVuZ3RoID0gZ290b0VuZCA/IGFuaW1hdGlvbi50d2VlbnMubGVuZ3RoIDogMDtcblx0XHRcdFx0aWYgKCBzdG9wcGVkICkge1xuXHRcdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHN0b3BwZWQgPSB0cnVlO1xuXHRcdFx0XHRmb3IgKCA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrICkge1xuXHRcdFx0XHRcdGFuaW1hdGlvbi50d2VlbnNbIGluZGV4IF0ucnVuKCAxICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBSZXNvbHZlIHdoZW4gd2UgcGxheWVkIHRoZSBsYXN0IGZyYW1lOyBvdGhlcndpc2UsIHJlamVjdFxuXHRcdFx0XHRpZiAoIGdvdG9FbmQgKSB7XG5cdFx0XHRcdFx0ZGVmZXJyZWQubm90aWZ5V2l0aCggZWxlbSwgWyBhbmltYXRpb24sIDEsIDAgXSApO1xuXHRcdFx0XHRcdGRlZmVycmVkLnJlc29sdmVXaXRoKCBlbGVtLCBbIGFuaW1hdGlvbiwgZ290b0VuZCBdICk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0ZGVmZXJyZWQucmVqZWN0V2l0aCggZWxlbSwgWyBhbmltYXRpb24sIGdvdG9FbmQgXSApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0fVxuXHRcdH0gKSxcblx0XHRwcm9wcyA9IGFuaW1hdGlvbi5wcm9wcztcblxuXHRwcm9wRmlsdGVyKCBwcm9wcywgYW5pbWF0aW9uLm9wdHMuc3BlY2lhbEVhc2luZyApO1xuXG5cdGZvciAoIDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KysgKSB7XG5cdFx0cmVzdWx0ID0gQW5pbWF0aW9uLnByZWZpbHRlcnNbIGluZGV4IF0uY2FsbCggYW5pbWF0aW9uLCBlbGVtLCBwcm9wcywgYW5pbWF0aW9uLm9wdHMgKTtcblx0XHRpZiAoIHJlc3VsdCApIHtcblx0XHRcdGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIHJlc3VsdC5zdG9wICkgKSB7XG5cdFx0XHRcdGpRdWVyeS5fcXVldWVIb29rcyggYW5pbWF0aW9uLmVsZW0sIGFuaW1hdGlvbi5vcHRzLnF1ZXVlICkuc3RvcCA9XG5cdFx0XHRcdFx0alF1ZXJ5LnByb3h5KCByZXN1bHQuc3RvcCwgcmVzdWx0ICk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gcmVzdWx0O1xuXHRcdH1cblx0fVxuXG5cdGpRdWVyeS5tYXAoIHByb3BzLCBjcmVhdGVUd2VlbiwgYW5pbWF0aW9uICk7XG5cblx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggYW5pbWF0aW9uLm9wdHMuc3RhcnQgKSApIHtcblx0XHRhbmltYXRpb24ub3B0cy5zdGFydC5jYWxsKCBlbGVtLCBhbmltYXRpb24gKTtcblx0fVxuXG5cdC8vIEF0dGFjaCBjYWxsYmFja3MgZnJvbSBvcHRpb25zXG5cdGFuaW1hdGlvblxuXHRcdC5wcm9ncmVzcyggYW5pbWF0aW9uLm9wdHMucHJvZ3Jlc3MgKVxuXHRcdC5kb25lKCBhbmltYXRpb24ub3B0cy5kb25lLCBhbmltYXRpb24ub3B0cy5jb21wbGV0ZSApXG5cdFx0LmZhaWwoIGFuaW1hdGlvbi5vcHRzLmZhaWwgKVxuXHRcdC5hbHdheXMoIGFuaW1hdGlvbi5vcHRzLmFsd2F5cyApO1xuXG5cdGpRdWVyeS5meC50aW1lcihcblx0XHRqUXVlcnkuZXh0ZW5kKCB0aWNrLCB7XG5cdFx0XHRlbGVtOiBlbGVtLFxuXHRcdFx0YW5pbTogYW5pbWF0aW9uLFxuXHRcdFx0cXVldWU6IGFuaW1hdGlvbi5vcHRzLnF1ZXVlXG5cdFx0fSApXG5cdCk7XG5cblx0cmV0dXJuIGFuaW1hdGlvbjtcbn1cblxualF1ZXJ5LkFuaW1hdGlvbiA9IGpRdWVyeS5leHRlbmQoIEFuaW1hdGlvbiwge1xuXG5cdHR3ZWVuZXJzOiB7XG5cdFx0XCIqXCI6IFsgZnVuY3Rpb24oIHByb3AsIHZhbHVlICkge1xuXHRcdFx0dmFyIHR3ZWVuID0gdGhpcy5jcmVhdGVUd2VlbiggcHJvcCwgdmFsdWUgKTtcblx0XHRcdGFkanVzdENTUyggdHdlZW4uZWxlbSwgcHJvcCwgcmNzc051bS5leGVjKCB2YWx1ZSApLCB0d2VlbiApO1xuXHRcdFx0cmV0dXJuIHR3ZWVuO1xuXHRcdH0gXVxuXHR9LFxuXG5cdHR3ZWVuZXI6IGZ1bmN0aW9uKCBwcm9wcywgY2FsbGJhY2sgKSB7XG5cdFx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggcHJvcHMgKSApIHtcblx0XHRcdGNhbGxiYWNrID0gcHJvcHM7XG5cdFx0XHRwcm9wcyA9IFsgXCIqXCIgXTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cHJvcHMgPSBwcm9wcy5tYXRjaCggcm5vdGh0bWx3aGl0ZSApO1xuXHRcdH1cblxuXHRcdHZhciBwcm9wLFxuXHRcdFx0aW5kZXggPSAwLFxuXHRcdFx0bGVuZ3RoID0gcHJvcHMubGVuZ3RoO1xuXG5cdFx0Zm9yICggOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKyApIHtcblx0XHRcdHByb3AgPSBwcm9wc1sgaW5kZXggXTtcblx0XHRcdEFuaW1hdGlvbi50d2VlbmVyc1sgcHJvcCBdID0gQW5pbWF0aW9uLnR3ZWVuZXJzWyBwcm9wIF0gfHwgW107XG5cdFx0XHRBbmltYXRpb24udHdlZW5lcnNbIHByb3AgXS51bnNoaWZ0KCBjYWxsYmFjayApO1xuXHRcdH1cblx0fSxcblxuXHRwcmVmaWx0ZXJzOiBbIGRlZmF1bHRQcmVmaWx0ZXIgXSxcblxuXHRwcmVmaWx0ZXI6IGZ1bmN0aW9uKCBjYWxsYmFjaywgcHJlcGVuZCApIHtcblx0XHRpZiAoIHByZXBlbmQgKSB7XG5cdFx0XHRBbmltYXRpb24ucHJlZmlsdGVycy51bnNoaWZ0KCBjYWxsYmFjayApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRBbmltYXRpb24ucHJlZmlsdGVycy5wdXNoKCBjYWxsYmFjayApO1xuXHRcdH1cblx0fVxufSApO1xuXG5qUXVlcnkuc3BlZWQgPSBmdW5jdGlvbiggc3BlZWQsIGVhc2luZywgZm4gKSB7XG5cdHZhciBvcHQgPSBzcGVlZCAmJiB0eXBlb2Ygc3BlZWQgPT09IFwib2JqZWN0XCIgPyBqUXVlcnkuZXh0ZW5kKCB7fSwgc3BlZWQgKSA6IHtcblx0XHRjb21wbGV0ZTogZm4gfHwgIWZuICYmIGVhc2luZyB8fFxuXHRcdFx0alF1ZXJ5LmlzRnVuY3Rpb24oIHNwZWVkICkgJiYgc3BlZWQsXG5cdFx0ZHVyYXRpb246IHNwZWVkLFxuXHRcdGVhc2luZzogZm4gJiYgZWFzaW5nIHx8IGVhc2luZyAmJiAhalF1ZXJ5LmlzRnVuY3Rpb24oIGVhc2luZyApICYmIGVhc2luZ1xuXHR9O1xuXG5cdC8vIEdvIHRvIHRoZSBlbmQgc3RhdGUgaWYgZnggYXJlIG9mZlxuXHRpZiAoIGpRdWVyeS5meC5vZmYgKSB7XG5cdFx0b3B0LmR1cmF0aW9uID0gMDtcblxuXHR9IGVsc2Uge1xuXHRcdGlmICggdHlwZW9mIG9wdC5kdXJhdGlvbiAhPT0gXCJudW1iZXJcIiApIHtcblx0XHRcdGlmICggb3B0LmR1cmF0aW9uIGluIGpRdWVyeS5meC5zcGVlZHMgKSB7XG5cdFx0XHRcdG9wdC5kdXJhdGlvbiA9IGpRdWVyeS5meC5zcGVlZHNbIG9wdC5kdXJhdGlvbiBdO1xuXG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRvcHQuZHVyYXRpb24gPSBqUXVlcnkuZnguc3BlZWRzLl9kZWZhdWx0O1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8vIE5vcm1hbGl6ZSBvcHQucXVldWUgLSB0cnVlL3VuZGVmaW5lZC9udWxsIC0+IFwiZnhcIlxuXHRpZiAoIG9wdC5xdWV1ZSA9PSBudWxsIHx8IG9wdC5xdWV1ZSA9PT0gdHJ1ZSApIHtcblx0XHRvcHQucXVldWUgPSBcImZ4XCI7XG5cdH1cblxuXHQvLyBRdWV1ZWluZ1xuXHRvcHQub2xkID0gb3B0LmNvbXBsZXRlO1xuXG5cdG9wdC5jb21wbGV0ZSA9IGZ1bmN0aW9uKCkge1xuXHRcdGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIG9wdC5vbGQgKSApIHtcblx0XHRcdG9wdC5vbGQuY2FsbCggdGhpcyApO1xuXHRcdH1cblxuXHRcdGlmICggb3B0LnF1ZXVlICkge1xuXHRcdFx0alF1ZXJ5LmRlcXVldWUoIHRoaXMsIG9wdC5xdWV1ZSApO1xuXHRcdH1cblx0fTtcblxuXHRyZXR1cm4gb3B0O1xufTtcblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRmYWRlVG86IGZ1bmN0aW9uKCBzcGVlZCwgdG8sIGVhc2luZywgY2FsbGJhY2sgKSB7XG5cblx0XHQvLyBTaG93IGFueSBoaWRkZW4gZWxlbWVudHMgYWZ0ZXIgc2V0dGluZyBvcGFjaXR5IHRvIDBcblx0XHRyZXR1cm4gdGhpcy5maWx0ZXIoIGlzSGlkZGVuV2l0aGluVHJlZSApLmNzcyggXCJvcGFjaXR5XCIsIDAgKS5zaG93KClcblxuXHRcdFx0Ly8gQW5pbWF0ZSB0byB0aGUgdmFsdWUgc3BlY2lmaWVkXG5cdFx0XHQuZW5kKCkuYW5pbWF0ZSggeyBvcGFjaXR5OiB0byB9LCBzcGVlZCwgZWFzaW5nLCBjYWxsYmFjayApO1xuXHR9LFxuXHRhbmltYXRlOiBmdW5jdGlvbiggcHJvcCwgc3BlZWQsIGVhc2luZywgY2FsbGJhY2sgKSB7XG5cdFx0dmFyIGVtcHR5ID0galF1ZXJ5LmlzRW1wdHlPYmplY3QoIHByb3AgKSxcblx0XHRcdG9wdGFsbCA9IGpRdWVyeS5zcGVlZCggc3BlZWQsIGVhc2luZywgY2FsbGJhY2sgKSxcblx0XHRcdGRvQW5pbWF0aW9uID0gZnVuY3Rpb24oKSB7XG5cblx0XHRcdFx0Ly8gT3BlcmF0ZSBvbiBhIGNvcHkgb2YgcHJvcCBzbyBwZXItcHJvcGVydHkgZWFzaW5nIHdvbid0IGJlIGxvc3Rcblx0XHRcdFx0dmFyIGFuaW0gPSBBbmltYXRpb24oIHRoaXMsIGpRdWVyeS5leHRlbmQoIHt9LCBwcm9wICksIG9wdGFsbCApO1xuXG5cdFx0XHRcdC8vIEVtcHR5IGFuaW1hdGlvbnMsIG9yIGZpbmlzaGluZyByZXNvbHZlcyBpbW1lZGlhdGVseVxuXHRcdFx0XHRpZiAoIGVtcHR5IHx8IGRhdGFQcml2LmdldCggdGhpcywgXCJmaW5pc2hcIiApICkge1xuXHRcdFx0XHRcdGFuaW0uc3RvcCggdHJ1ZSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXHRcdFx0ZG9BbmltYXRpb24uZmluaXNoID0gZG9BbmltYXRpb247XG5cblx0XHRyZXR1cm4gZW1wdHkgfHwgb3B0YWxsLnF1ZXVlID09PSBmYWxzZSA/XG5cdFx0XHR0aGlzLmVhY2goIGRvQW5pbWF0aW9uICkgOlxuXHRcdFx0dGhpcy5xdWV1ZSggb3B0YWxsLnF1ZXVlLCBkb0FuaW1hdGlvbiApO1xuXHR9LFxuXHRzdG9wOiBmdW5jdGlvbiggdHlwZSwgY2xlYXJRdWV1ZSwgZ290b0VuZCApIHtcblx0XHR2YXIgc3RvcFF1ZXVlID0gZnVuY3Rpb24oIGhvb2tzICkge1xuXHRcdFx0dmFyIHN0b3AgPSBob29rcy5zdG9wO1xuXHRcdFx0ZGVsZXRlIGhvb2tzLnN0b3A7XG5cdFx0XHRzdG9wKCBnb3RvRW5kICk7XG5cdFx0fTtcblxuXHRcdGlmICggdHlwZW9mIHR5cGUgIT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRnb3RvRW5kID0gY2xlYXJRdWV1ZTtcblx0XHRcdGNsZWFyUXVldWUgPSB0eXBlO1xuXHRcdFx0dHlwZSA9IHVuZGVmaW5lZDtcblx0XHR9XG5cdFx0aWYgKCBjbGVhclF1ZXVlICYmIHR5cGUgIT09IGZhbHNlICkge1xuXHRcdFx0dGhpcy5xdWV1ZSggdHlwZSB8fCBcImZ4XCIsIFtdICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgZGVxdWV1ZSA9IHRydWUsXG5cdFx0XHRcdGluZGV4ID0gdHlwZSAhPSBudWxsICYmIHR5cGUgKyBcInF1ZXVlSG9va3NcIixcblx0XHRcdFx0dGltZXJzID0galF1ZXJ5LnRpbWVycyxcblx0XHRcdFx0ZGF0YSA9IGRhdGFQcml2LmdldCggdGhpcyApO1xuXG5cdFx0XHRpZiAoIGluZGV4ICkge1xuXHRcdFx0XHRpZiAoIGRhdGFbIGluZGV4IF0gJiYgZGF0YVsgaW5kZXggXS5zdG9wICkge1xuXHRcdFx0XHRcdHN0b3BRdWV1ZSggZGF0YVsgaW5kZXggXSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRmb3IgKCBpbmRleCBpbiBkYXRhICkge1xuXHRcdFx0XHRcdGlmICggZGF0YVsgaW5kZXggXSAmJiBkYXRhWyBpbmRleCBdLnN0b3AgJiYgcnJ1bi50ZXN0KCBpbmRleCApICkge1xuXHRcdFx0XHRcdFx0c3RvcFF1ZXVlKCBkYXRhWyBpbmRleCBdICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdGZvciAoIGluZGV4ID0gdGltZXJzLmxlbmd0aDsgaW5kZXgtLTsgKSB7XG5cdFx0XHRcdGlmICggdGltZXJzWyBpbmRleCBdLmVsZW0gPT09IHRoaXMgJiZcblx0XHRcdFx0XHQoIHR5cGUgPT0gbnVsbCB8fCB0aW1lcnNbIGluZGV4IF0ucXVldWUgPT09IHR5cGUgKSApIHtcblxuXHRcdFx0XHRcdHRpbWVyc1sgaW5kZXggXS5hbmltLnN0b3AoIGdvdG9FbmQgKTtcblx0XHRcdFx0XHRkZXF1ZXVlID0gZmFsc2U7XG5cdFx0XHRcdFx0dGltZXJzLnNwbGljZSggaW5kZXgsIDEgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBTdGFydCB0aGUgbmV4dCBpbiB0aGUgcXVldWUgaWYgdGhlIGxhc3Qgc3RlcCB3YXNuJ3QgZm9yY2VkLlxuXHRcdFx0Ly8gVGltZXJzIGN1cnJlbnRseSB3aWxsIGNhbGwgdGhlaXIgY29tcGxldGUgY2FsbGJhY2tzLCB3aGljaFxuXHRcdFx0Ly8gd2lsbCBkZXF1ZXVlIGJ1dCBvbmx5IGlmIHRoZXkgd2VyZSBnb3RvRW5kLlxuXHRcdFx0aWYgKCBkZXF1ZXVlIHx8ICFnb3RvRW5kICkge1xuXHRcdFx0XHRqUXVlcnkuZGVxdWV1ZSggdGhpcywgdHlwZSApO1xuXHRcdFx0fVxuXHRcdH0gKTtcblx0fSxcblx0ZmluaXNoOiBmdW5jdGlvbiggdHlwZSApIHtcblx0XHRpZiAoIHR5cGUgIT09IGZhbHNlICkge1xuXHRcdFx0dHlwZSA9IHR5cGUgfHwgXCJmeFwiO1xuXHRcdH1cblx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBpbmRleCxcblx0XHRcdFx0ZGF0YSA9IGRhdGFQcml2LmdldCggdGhpcyApLFxuXHRcdFx0XHRxdWV1ZSA9IGRhdGFbIHR5cGUgKyBcInF1ZXVlXCIgXSxcblx0XHRcdFx0aG9va3MgPSBkYXRhWyB0eXBlICsgXCJxdWV1ZUhvb2tzXCIgXSxcblx0XHRcdFx0dGltZXJzID0galF1ZXJ5LnRpbWVycyxcblx0XHRcdFx0bGVuZ3RoID0gcXVldWUgPyBxdWV1ZS5sZW5ndGggOiAwO1xuXG5cdFx0XHQvLyBFbmFibGUgZmluaXNoaW5nIGZsYWcgb24gcHJpdmF0ZSBkYXRhXG5cdFx0XHRkYXRhLmZpbmlzaCA9IHRydWU7XG5cblx0XHRcdC8vIEVtcHR5IHRoZSBxdWV1ZSBmaXJzdFxuXHRcdFx0alF1ZXJ5LnF1ZXVlKCB0aGlzLCB0eXBlLCBbXSApO1xuXG5cdFx0XHRpZiAoIGhvb2tzICYmIGhvb2tzLnN0b3AgKSB7XG5cdFx0XHRcdGhvb2tzLnN0b3AuY2FsbCggdGhpcywgdHJ1ZSApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBMb29rIGZvciBhbnkgYWN0aXZlIGFuaW1hdGlvbnMsIGFuZCBmaW5pc2ggdGhlbVxuXHRcdFx0Zm9yICggaW5kZXggPSB0aW1lcnMubGVuZ3RoOyBpbmRleC0tOyApIHtcblx0XHRcdFx0aWYgKCB0aW1lcnNbIGluZGV4IF0uZWxlbSA9PT0gdGhpcyAmJiB0aW1lcnNbIGluZGV4IF0ucXVldWUgPT09IHR5cGUgKSB7XG5cdFx0XHRcdFx0dGltZXJzWyBpbmRleCBdLmFuaW0uc3RvcCggdHJ1ZSApO1xuXHRcdFx0XHRcdHRpbWVycy5zcGxpY2UoIGluZGV4LCAxICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gTG9vayBmb3IgYW55IGFuaW1hdGlvbnMgaW4gdGhlIG9sZCBxdWV1ZSBhbmQgZmluaXNoIHRoZW1cblx0XHRcdGZvciAoIGluZGV4ID0gMDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KysgKSB7XG5cdFx0XHRcdGlmICggcXVldWVbIGluZGV4IF0gJiYgcXVldWVbIGluZGV4IF0uZmluaXNoICkge1xuXHRcdFx0XHRcdHF1ZXVlWyBpbmRleCBdLmZpbmlzaC5jYWxsKCB0aGlzICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gVHVybiBvZmYgZmluaXNoaW5nIGZsYWdcblx0XHRcdGRlbGV0ZSBkYXRhLmZpbmlzaDtcblx0XHR9ICk7XG5cdH1cbn0gKTtcblxualF1ZXJ5LmVhY2goIFsgXCJ0b2dnbGVcIiwgXCJzaG93XCIsIFwiaGlkZVwiIF0sIGZ1bmN0aW9uKCBpLCBuYW1lICkge1xuXHR2YXIgY3NzRm4gPSBqUXVlcnkuZm5bIG5hbWUgXTtcblx0alF1ZXJ5LmZuWyBuYW1lIF0gPSBmdW5jdGlvbiggc3BlZWQsIGVhc2luZywgY2FsbGJhY2sgKSB7XG5cdFx0cmV0dXJuIHNwZWVkID09IG51bGwgfHwgdHlwZW9mIHNwZWVkID09PSBcImJvb2xlYW5cIiA/XG5cdFx0XHRjc3NGbi5hcHBseSggdGhpcywgYXJndW1lbnRzICkgOlxuXHRcdFx0dGhpcy5hbmltYXRlKCBnZW5GeCggbmFtZSwgdHJ1ZSApLCBzcGVlZCwgZWFzaW5nLCBjYWxsYmFjayApO1xuXHR9O1xufSApO1xuXG4vLyBHZW5lcmF0ZSBzaG9ydGN1dHMgZm9yIGN1c3RvbSBhbmltYXRpb25zXG5qUXVlcnkuZWFjaCgge1xuXHRzbGlkZURvd246IGdlbkZ4KCBcInNob3dcIiApLFxuXHRzbGlkZVVwOiBnZW5GeCggXCJoaWRlXCIgKSxcblx0c2xpZGVUb2dnbGU6IGdlbkZ4KCBcInRvZ2dsZVwiICksXG5cdGZhZGVJbjogeyBvcGFjaXR5OiBcInNob3dcIiB9LFxuXHRmYWRlT3V0OiB7IG9wYWNpdHk6IFwiaGlkZVwiIH0sXG5cdGZhZGVUb2dnbGU6IHsgb3BhY2l0eTogXCJ0b2dnbGVcIiB9XG59LCBmdW5jdGlvbiggbmFtZSwgcHJvcHMgKSB7XG5cdGpRdWVyeS5mblsgbmFtZSBdID0gZnVuY3Rpb24oIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICkge1xuXHRcdHJldHVybiB0aGlzLmFuaW1hdGUoIHByb3BzLCBzcGVlZCwgZWFzaW5nLCBjYWxsYmFjayApO1xuXHR9O1xufSApO1xuXG5qUXVlcnkudGltZXJzID0gW107XG5qUXVlcnkuZngudGljayA9IGZ1bmN0aW9uKCkge1xuXHR2YXIgdGltZXIsXG5cdFx0aSA9IDAsXG5cdFx0dGltZXJzID0galF1ZXJ5LnRpbWVycztcblxuXHRmeE5vdyA9IGpRdWVyeS5ub3coKTtcblxuXHRmb3IgKCA7IGkgPCB0aW1lcnMubGVuZ3RoOyBpKysgKSB7XG5cdFx0dGltZXIgPSB0aW1lcnNbIGkgXTtcblxuXHRcdC8vIFJ1biB0aGUgdGltZXIgYW5kIHNhZmVseSByZW1vdmUgaXQgd2hlbiBkb25lIChhbGxvd2luZyBmb3IgZXh0ZXJuYWwgcmVtb3ZhbClcblx0XHRpZiAoICF0aW1lcigpICYmIHRpbWVyc1sgaSBdID09PSB0aW1lciApIHtcblx0XHRcdHRpbWVycy5zcGxpY2UoIGktLSwgMSApO1xuXHRcdH1cblx0fVxuXG5cdGlmICggIXRpbWVycy5sZW5ndGggKSB7XG5cdFx0alF1ZXJ5LmZ4LnN0b3AoKTtcblx0fVxuXHRmeE5vdyA9IHVuZGVmaW5lZDtcbn07XG5cbmpRdWVyeS5meC50aW1lciA9IGZ1bmN0aW9uKCB0aW1lciApIHtcblx0alF1ZXJ5LnRpbWVycy5wdXNoKCB0aW1lciApO1xuXHRqUXVlcnkuZnguc3RhcnQoKTtcbn07XG5cbmpRdWVyeS5meC5pbnRlcnZhbCA9IDEzO1xualF1ZXJ5LmZ4LnN0YXJ0ID0gZnVuY3Rpb24oKSB7XG5cdGlmICggaW5Qcm9ncmVzcyApIHtcblx0XHRyZXR1cm47XG5cdH1cblxuXHRpblByb2dyZXNzID0gdHJ1ZTtcblx0c2NoZWR1bGUoKTtcbn07XG5cbmpRdWVyeS5meC5zdG9wID0gZnVuY3Rpb24oKSB7XG5cdGluUHJvZ3Jlc3MgPSBudWxsO1xufTtcblxualF1ZXJ5LmZ4LnNwZWVkcyA9IHtcblx0c2xvdzogNjAwLFxuXHRmYXN0OiAyMDAsXG5cblx0Ly8gRGVmYXVsdCBzcGVlZFxuXHRfZGVmYXVsdDogNDAwXG59O1xuXG5cbi8vIEJhc2VkIG9mZiBvZiB0aGUgcGx1Z2luIGJ5IENsaW50IEhlbGZlcnMsIHdpdGggcGVybWlzc2lvbi5cbi8vIGh0dHBzOi8vd2ViLmFyY2hpdmUub3JnL3dlYi8yMDEwMDMyNDAxNDc0Ny9odHRwOi8vYmxpbmRzaWduYWxzLmNvbS9pbmRleC5waHAvMjAwOS8wNy9qcXVlcnktZGVsYXkvXG5qUXVlcnkuZm4uZGVsYXkgPSBmdW5jdGlvbiggdGltZSwgdHlwZSApIHtcblx0dGltZSA9IGpRdWVyeS5meCA/IGpRdWVyeS5meC5zcGVlZHNbIHRpbWUgXSB8fCB0aW1lIDogdGltZTtcblx0dHlwZSA9IHR5cGUgfHwgXCJmeFwiO1xuXG5cdHJldHVybiB0aGlzLnF1ZXVlKCB0eXBlLCBmdW5jdGlvbiggbmV4dCwgaG9va3MgKSB7XG5cdFx0dmFyIHRpbWVvdXQgPSB3aW5kb3cuc2V0VGltZW91dCggbmV4dCwgdGltZSApO1xuXHRcdGhvb2tzLnN0b3AgPSBmdW5jdGlvbigpIHtcblx0XHRcdHdpbmRvdy5jbGVhclRpbWVvdXQoIHRpbWVvdXQgKTtcblx0XHR9O1xuXHR9ICk7XG59O1xuXG5cbiggZnVuY3Rpb24oKSB7XG5cdHZhciBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiaW5wdXRcIiApLFxuXHRcdHNlbGVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwic2VsZWN0XCIgKSxcblx0XHRvcHQgPSBzZWxlY3QuYXBwZW5kQ2hpbGQoIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwib3B0aW9uXCIgKSApO1xuXG5cdGlucHV0LnR5cGUgPSBcImNoZWNrYm94XCI7XG5cblx0Ly8gU3VwcG9ydDogQW5kcm9pZCA8PTQuMyBvbmx5XG5cdC8vIERlZmF1bHQgdmFsdWUgZm9yIGEgY2hlY2tib3ggc2hvdWxkIGJlIFwib25cIlxuXHRzdXBwb3J0LmNoZWNrT24gPSBpbnB1dC52YWx1ZSAhPT0gXCJcIjtcblxuXHQvLyBTdXBwb3J0OiBJRSA8PTExIG9ubHlcblx0Ly8gTXVzdCBhY2Nlc3Mgc2VsZWN0ZWRJbmRleCB0byBtYWtlIGRlZmF1bHQgb3B0aW9ucyBzZWxlY3Rcblx0c3VwcG9ydC5vcHRTZWxlY3RlZCA9IG9wdC5zZWxlY3RlZDtcblxuXHQvLyBTdXBwb3J0OiBJRSA8PTExIG9ubHlcblx0Ly8gQW4gaW5wdXQgbG9zZXMgaXRzIHZhbHVlIGFmdGVyIGJlY29taW5nIGEgcmFkaW9cblx0aW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImlucHV0XCIgKTtcblx0aW5wdXQudmFsdWUgPSBcInRcIjtcblx0aW5wdXQudHlwZSA9IFwicmFkaW9cIjtcblx0c3VwcG9ydC5yYWRpb1ZhbHVlID0gaW5wdXQudmFsdWUgPT09IFwidFwiO1xufSApKCk7XG5cblxudmFyIGJvb2xIb29rLFxuXHRhdHRySGFuZGxlID0galF1ZXJ5LmV4cHIuYXR0ckhhbmRsZTtcblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRhdHRyOiBmdW5jdGlvbiggbmFtZSwgdmFsdWUgKSB7XG5cdFx0cmV0dXJuIGFjY2VzcyggdGhpcywgalF1ZXJ5LmF0dHIsIG5hbWUsIHZhbHVlLCBhcmd1bWVudHMubGVuZ3RoID4gMSApO1xuXHR9LFxuXG5cdHJlbW92ZUF0dHI6IGZ1bmN0aW9uKCBuYW1lICkge1xuXHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0alF1ZXJ5LnJlbW92ZUF0dHIoIHRoaXMsIG5hbWUgKTtcblx0XHR9ICk7XG5cdH1cbn0gKTtcblxualF1ZXJ5LmV4dGVuZCgge1xuXHRhdHRyOiBmdW5jdGlvbiggZWxlbSwgbmFtZSwgdmFsdWUgKSB7XG5cdFx0dmFyIHJldCwgaG9va3MsXG5cdFx0XHRuVHlwZSA9IGVsZW0ubm9kZVR5cGU7XG5cblx0XHQvLyBEb24ndCBnZXQvc2V0IGF0dHJpYnV0ZXMgb24gdGV4dCwgY29tbWVudCBhbmQgYXR0cmlidXRlIG5vZGVzXG5cdFx0aWYgKCBuVHlwZSA9PT0gMyB8fCBuVHlwZSA9PT0gOCB8fCBuVHlwZSA9PT0gMiApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBGYWxsYmFjayB0byBwcm9wIHdoZW4gYXR0cmlidXRlcyBhcmUgbm90IHN1cHBvcnRlZFxuXHRcdGlmICggdHlwZW9mIGVsZW0uZ2V0QXR0cmlidXRlID09PSBcInVuZGVmaW5lZFwiICkge1xuXHRcdFx0cmV0dXJuIGpRdWVyeS5wcm9wKCBlbGVtLCBuYW1lLCB2YWx1ZSApO1xuXHRcdH1cblxuXHRcdC8vIEF0dHJpYnV0ZSBob29rcyBhcmUgZGV0ZXJtaW5lZCBieSB0aGUgbG93ZXJjYXNlIHZlcnNpb25cblx0XHQvLyBHcmFiIG5lY2Vzc2FyeSBob29rIGlmIG9uZSBpcyBkZWZpbmVkXG5cdFx0aWYgKCBuVHlwZSAhPT0gMSB8fCAhalF1ZXJ5LmlzWE1MRG9jKCBlbGVtICkgKSB7XG5cdFx0XHRob29rcyA9IGpRdWVyeS5hdHRySG9va3NbIG5hbWUudG9Mb3dlckNhc2UoKSBdIHx8XG5cdFx0XHRcdCggalF1ZXJ5LmV4cHIubWF0Y2guYm9vbC50ZXN0KCBuYW1lICkgPyBib29sSG9vayA6IHVuZGVmaW5lZCApO1xuXHRcdH1cblxuXHRcdGlmICggdmFsdWUgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdGlmICggdmFsdWUgPT09IG51bGwgKSB7XG5cdFx0XHRcdGpRdWVyeS5yZW1vdmVBdHRyKCBlbGVtLCBuYW1lICk7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCBob29rcyAmJiBcInNldFwiIGluIGhvb2tzICYmXG5cdFx0XHRcdCggcmV0ID0gaG9va3Muc2V0KCBlbGVtLCB2YWx1ZSwgbmFtZSApICkgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0cmV0dXJuIHJldDtcblx0XHRcdH1cblxuXHRcdFx0ZWxlbS5zZXRBdHRyaWJ1dGUoIG5hbWUsIHZhbHVlICsgXCJcIiApO1xuXHRcdFx0cmV0dXJuIHZhbHVlO1xuXHRcdH1cblxuXHRcdGlmICggaG9va3MgJiYgXCJnZXRcIiBpbiBob29rcyAmJiAoIHJldCA9IGhvb2tzLmdldCggZWxlbSwgbmFtZSApICkgIT09IG51bGwgKSB7XG5cdFx0XHRyZXR1cm4gcmV0O1xuXHRcdH1cblxuXHRcdHJldCA9IGpRdWVyeS5maW5kLmF0dHIoIGVsZW0sIG5hbWUgKTtcblxuXHRcdC8vIE5vbi1leGlzdGVudCBhdHRyaWJ1dGVzIHJldHVybiBudWxsLCB3ZSBub3JtYWxpemUgdG8gdW5kZWZpbmVkXG5cdFx0cmV0dXJuIHJldCA9PSBudWxsID8gdW5kZWZpbmVkIDogcmV0O1xuXHR9LFxuXG5cdGF0dHJIb29rczoge1xuXHRcdHR5cGU6IHtcblx0XHRcdHNldDogZnVuY3Rpb24oIGVsZW0sIHZhbHVlICkge1xuXHRcdFx0XHRpZiAoICFzdXBwb3J0LnJhZGlvVmFsdWUgJiYgdmFsdWUgPT09IFwicmFkaW9cIiAmJlxuXHRcdFx0XHRcdG5vZGVOYW1lKCBlbGVtLCBcImlucHV0XCIgKSApIHtcblx0XHRcdFx0XHR2YXIgdmFsID0gZWxlbS52YWx1ZTtcblx0XHRcdFx0XHRlbGVtLnNldEF0dHJpYnV0ZSggXCJ0eXBlXCIsIHZhbHVlICk7XG5cdFx0XHRcdFx0aWYgKCB2YWwgKSB7XG5cdFx0XHRcdFx0XHRlbGVtLnZhbHVlID0gdmFsO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm4gdmFsdWU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH0sXG5cblx0cmVtb3ZlQXR0cjogZnVuY3Rpb24oIGVsZW0sIHZhbHVlICkge1xuXHRcdHZhciBuYW1lLFxuXHRcdFx0aSA9IDAsXG5cblx0XHRcdC8vIEF0dHJpYnV0ZSBuYW1lcyBjYW4gY29udGFpbiBub24tSFRNTCB3aGl0ZXNwYWNlIGNoYXJhY3RlcnNcblx0XHRcdC8vIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL3N5bnRheC5odG1sI2F0dHJpYnV0ZXMtMlxuXHRcdFx0YXR0ck5hbWVzID0gdmFsdWUgJiYgdmFsdWUubWF0Y2goIHJub3RodG1sd2hpdGUgKTtcblxuXHRcdGlmICggYXR0ck5hbWVzICYmIGVsZW0ubm9kZVR5cGUgPT09IDEgKSB7XG5cdFx0XHR3aGlsZSAoICggbmFtZSA9IGF0dHJOYW1lc1sgaSsrIF0gKSApIHtcblx0XHRcdFx0ZWxlbS5yZW1vdmVBdHRyaWJ1dGUoIG5hbWUgKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cbn0gKTtcblxuLy8gSG9va3MgZm9yIGJvb2xlYW4gYXR0cmlidXRlc1xuYm9vbEhvb2sgPSB7XG5cdHNldDogZnVuY3Rpb24oIGVsZW0sIHZhbHVlLCBuYW1lICkge1xuXHRcdGlmICggdmFsdWUgPT09IGZhbHNlICkge1xuXG5cdFx0XHQvLyBSZW1vdmUgYm9vbGVhbiBhdHRyaWJ1dGVzIHdoZW4gc2V0IHRvIGZhbHNlXG5cdFx0XHRqUXVlcnkucmVtb3ZlQXR0ciggZWxlbSwgbmFtZSApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRlbGVtLnNldEF0dHJpYnV0ZSggbmFtZSwgbmFtZSApO1xuXHRcdH1cblx0XHRyZXR1cm4gbmFtZTtcblx0fVxufTtcblxualF1ZXJ5LmVhY2goIGpRdWVyeS5leHByLm1hdGNoLmJvb2wuc291cmNlLm1hdGNoKCAvXFx3Ky9nICksIGZ1bmN0aW9uKCBpLCBuYW1lICkge1xuXHR2YXIgZ2V0dGVyID0gYXR0ckhhbmRsZVsgbmFtZSBdIHx8IGpRdWVyeS5maW5kLmF0dHI7XG5cblx0YXR0ckhhbmRsZVsgbmFtZSBdID0gZnVuY3Rpb24oIGVsZW0sIG5hbWUsIGlzWE1MICkge1xuXHRcdHZhciByZXQsIGhhbmRsZSxcblx0XHRcdGxvd2VyY2FzZU5hbWUgPSBuYW1lLnRvTG93ZXJDYXNlKCk7XG5cblx0XHRpZiAoICFpc1hNTCApIHtcblxuXHRcdFx0Ly8gQXZvaWQgYW4gaW5maW5pdGUgbG9vcCBieSB0ZW1wb3JhcmlseSByZW1vdmluZyB0aGlzIGZ1bmN0aW9uIGZyb20gdGhlIGdldHRlclxuXHRcdFx0aGFuZGxlID0gYXR0ckhhbmRsZVsgbG93ZXJjYXNlTmFtZSBdO1xuXHRcdFx0YXR0ckhhbmRsZVsgbG93ZXJjYXNlTmFtZSBdID0gcmV0O1xuXHRcdFx0cmV0ID0gZ2V0dGVyKCBlbGVtLCBuYW1lLCBpc1hNTCApICE9IG51bGwgP1xuXHRcdFx0XHRsb3dlcmNhc2VOYW1lIDpcblx0XHRcdFx0bnVsbDtcblx0XHRcdGF0dHJIYW5kbGVbIGxvd2VyY2FzZU5hbWUgXSA9IGhhbmRsZTtcblx0XHR9XG5cdFx0cmV0dXJuIHJldDtcblx0fTtcbn0gKTtcblxuXG5cblxudmFyIHJmb2N1c2FibGUgPSAvXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b24pJC9pLFxuXHRyY2xpY2thYmxlID0gL14oPzphfGFyZWEpJC9pO1xuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdHByb3A6IGZ1bmN0aW9uKCBuYW1lLCB2YWx1ZSApIHtcblx0XHRyZXR1cm4gYWNjZXNzKCB0aGlzLCBqUXVlcnkucHJvcCwgbmFtZSwgdmFsdWUsIGFyZ3VtZW50cy5sZW5ndGggPiAxICk7XG5cdH0sXG5cblx0cmVtb3ZlUHJvcDogZnVuY3Rpb24oIG5hbWUgKSB7XG5cdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRkZWxldGUgdGhpc1sgalF1ZXJ5LnByb3BGaXhbIG5hbWUgXSB8fCBuYW1lIF07XG5cdFx0fSApO1xuXHR9XG59ICk7XG5cbmpRdWVyeS5leHRlbmQoIHtcblx0cHJvcDogZnVuY3Rpb24oIGVsZW0sIG5hbWUsIHZhbHVlICkge1xuXHRcdHZhciByZXQsIGhvb2tzLFxuXHRcdFx0blR5cGUgPSBlbGVtLm5vZGVUeXBlO1xuXG5cdFx0Ly8gRG9uJ3QgZ2V0L3NldCBwcm9wZXJ0aWVzIG9uIHRleHQsIGNvbW1lbnQgYW5kIGF0dHJpYnV0ZSBub2Rlc1xuXHRcdGlmICggblR5cGUgPT09IDMgfHwgblR5cGUgPT09IDggfHwgblR5cGUgPT09IDIgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aWYgKCBuVHlwZSAhPT0gMSB8fCAhalF1ZXJ5LmlzWE1MRG9jKCBlbGVtICkgKSB7XG5cblx0XHRcdC8vIEZpeCBuYW1lIGFuZCBhdHRhY2ggaG9va3Ncblx0XHRcdG5hbWUgPSBqUXVlcnkucHJvcEZpeFsgbmFtZSBdIHx8IG5hbWU7XG5cdFx0XHRob29rcyA9IGpRdWVyeS5wcm9wSG9va3NbIG5hbWUgXTtcblx0XHR9XG5cblx0XHRpZiAoIHZhbHVlICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRpZiAoIGhvb2tzICYmIFwic2V0XCIgaW4gaG9va3MgJiZcblx0XHRcdFx0KCByZXQgPSBob29rcy5zZXQoIGVsZW0sIHZhbHVlLCBuYW1lICkgKSAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRyZXR1cm4gcmV0O1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gKCBlbGVtWyBuYW1lIF0gPSB2YWx1ZSApO1xuXHRcdH1cblxuXHRcdGlmICggaG9va3MgJiYgXCJnZXRcIiBpbiBob29rcyAmJiAoIHJldCA9IGhvb2tzLmdldCggZWxlbSwgbmFtZSApICkgIT09IG51bGwgKSB7XG5cdFx0XHRyZXR1cm4gcmV0O1xuXHRcdH1cblxuXHRcdHJldHVybiBlbGVtWyBuYW1lIF07XG5cdH0sXG5cblx0cHJvcEhvb2tzOiB7XG5cdFx0dGFiSW5kZXg6IHtcblx0XHRcdGdldDogZnVuY3Rpb24oIGVsZW0gKSB7XG5cblx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgPD05IC0gMTEgb25seVxuXHRcdFx0XHQvLyBlbGVtLnRhYkluZGV4IGRvZXNuJ3QgYWx3YXlzIHJldHVybiB0aGVcblx0XHRcdFx0Ly8gY29ycmVjdCB2YWx1ZSB3aGVuIGl0IGhhc24ndCBiZWVuIGV4cGxpY2l0bHkgc2V0XG5cdFx0XHRcdC8vIGh0dHBzOi8vd2ViLmFyY2hpdmUub3JnL3dlYi8yMDE0MTExNjIzMzM0Ny9odHRwOi8vZmx1aWRwcm9qZWN0Lm9yZy9ibG9nLzIwMDgvMDEvMDkvZ2V0dGluZy1zZXR0aW5nLWFuZC1yZW1vdmluZy10YWJpbmRleC12YWx1ZXMtd2l0aC1qYXZhc2NyaXB0L1xuXHRcdFx0XHQvLyBVc2UgcHJvcGVyIGF0dHJpYnV0ZSByZXRyaWV2YWwoIzEyMDcyKVxuXHRcdFx0XHR2YXIgdGFiaW5kZXggPSBqUXVlcnkuZmluZC5hdHRyKCBlbGVtLCBcInRhYmluZGV4XCIgKTtcblxuXHRcdFx0XHRpZiAoIHRhYmluZGV4ICkge1xuXHRcdFx0XHRcdHJldHVybiBwYXJzZUludCggdGFiaW5kZXgsIDEwICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoXG5cdFx0XHRcdFx0cmZvY3VzYWJsZS50ZXN0KCBlbGVtLm5vZGVOYW1lICkgfHxcblx0XHRcdFx0XHRyY2xpY2thYmxlLnRlc3QoIGVsZW0ubm9kZU5hbWUgKSAmJlxuXHRcdFx0XHRcdGVsZW0uaHJlZlxuXHRcdFx0XHQpIHtcblx0XHRcdFx0XHRyZXR1cm4gMDtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiAtMTtcblx0XHRcdH1cblx0XHR9XG5cdH0sXG5cblx0cHJvcEZpeDoge1xuXHRcdFwiZm9yXCI6IFwiaHRtbEZvclwiLFxuXHRcdFwiY2xhc3NcIjogXCJjbGFzc05hbWVcIlxuXHR9XG59ICk7XG5cbi8vIFN1cHBvcnQ6IElFIDw9MTEgb25seVxuLy8gQWNjZXNzaW5nIHRoZSBzZWxlY3RlZEluZGV4IHByb3BlcnR5XG4vLyBmb3JjZXMgdGhlIGJyb3dzZXIgdG8gcmVzcGVjdCBzZXR0aW5nIHNlbGVjdGVkXG4vLyBvbiB0aGUgb3B0aW9uXG4vLyBUaGUgZ2V0dGVyIGVuc3VyZXMgYSBkZWZhdWx0IG9wdGlvbiBpcyBzZWxlY3RlZFxuLy8gd2hlbiBpbiBhbiBvcHRncm91cFxuLy8gZXNsaW50IHJ1bGUgXCJuby11bnVzZWQtZXhwcmVzc2lvbnNcIiBpcyBkaXNhYmxlZCBmb3IgdGhpcyBjb2RlXG4vLyBzaW5jZSBpdCBjb25zaWRlcnMgc3VjaCBhY2Nlc3Npb25zIG5vb3BcbmlmICggIXN1cHBvcnQub3B0U2VsZWN0ZWQgKSB7XG5cdGpRdWVyeS5wcm9wSG9va3Muc2VsZWN0ZWQgPSB7XG5cdFx0Z2V0OiBmdW5jdGlvbiggZWxlbSApIHtcblxuXHRcdFx0LyogZXNsaW50IG5vLXVudXNlZC1leHByZXNzaW9uczogXCJvZmZcIiAqL1xuXG5cdFx0XHR2YXIgcGFyZW50ID0gZWxlbS5wYXJlbnROb2RlO1xuXHRcdFx0aWYgKCBwYXJlbnQgJiYgcGFyZW50LnBhcmVudE5vZGUgKSB7XG5cdFx0XHRcdHBhcmVudC5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXg7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gbnVsbDtcblx0XHR9LFxuXHRcdHNldDogZnVuY3Rpb24oIGVsZW0gKSB7XG5cblx0XHRcdC8qIGVzbGludCBuby11bnVzZWQtZXhwcmVzc2lvbnM6IFwib2ZmXCIgKi9cblxuXHRcdFx0dmFyIHBhcmVudCA9IGVsZW0ucGFyZW50Tm9kZTtcblx0XHRcdGlmICggcGFyZW50ICkge1xuXHRcdFx0XHRwYXJlbnQuc2VsZWN0ZWRJbmRleDtcblxuXHRcdFx0XHRpZiAoIHBhcmVudC5wYXJlbnROb2RlICkge1xuXHRcdFx0XHRcdHBhcmVudC5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXg7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH07XG59XG5cbmpRdWVyeS5lYWNoKCBbXG5cdFwidGFiSW5kZXhcIixcblx0XCJyZWFkT25seVwiLFxuXHRcIm1heExlbmd0aFwiLFxuXHRcImNlbGxTcGFjaW5nXCIsXG5cdFwiY2VsbFBhZGRpbmdcIixcblx0XCJyb3dTcGFuXCIsXG5cdFwiY29sU3BhblwiLFxuXHRcInVzZU1hcFwiLFxuXHRcImZyYW1lQm9yZGVyXCIsXG5cdFwiY29udGVudEVkaXRhYmxlXCJcbl0sIGZ1bmN0aW9uKCkge1xuXHRqUXVlcnkucHJvcEZpeFsgdGhpcy50b0xvd2VyQ2FzZSgpIF0gPSB0aGlzO1xufSApO1xuXG5cblxuXG5cdC8vIFN0cmlwIGFuZCBjb2xsYXBzZSB3aGl0ZXNwYWNlIGFjY29yZGluZyB0byBIVE1MIHNwZWNcblx0Ly8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvaW5mcmFzdHJ1Y3R1cmUuaHRtbCNzdHJpcC1hbmQtY29sbGFwc2Utd2hpdGVzcGFjZVxuXHRmdW5jdGlvbiBzdHJpcEFuZENvbGxhcHNlKCB2YWx1ZSApIHtcblx0XHR2YXIgdG9rZW5zID0gdmFsdWUubWF0Y2goIHJub3RodG1sd2hpdGUgKSB8fCBbXTtcblx0XHRyZXR1cm4gdG9rZW5zLmpvaW4oIFwiIFwiICk7XG5cdH1cblxuXG5mdW5jdGlvbiBnZXRDbGFzcyggZWxlbSApIHtcblx0cmV0dXJuIGVsZW0uZ2V0QXR0cmlidXRlICYmIGVsZW0uZ2V0QXR0cmlidXRlKCBcImNsYXNzXCIgKSB8fCBcIlwiO1xufVxuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdGFkZENsYXNzOiBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0dmFyIGNsYXNzZXMsIGVsZW0sIGN1ciwgY3VyVmFsdWUsIGNsYXp6LCBqLCBmaW5hbFZhbHVlLFxuXHRcdFx0aSA9IDA7XG5cblx0XHRpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCB2YWx1ZSApICkge1xuXHRcdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oIGogKSB7XG5cdFx0XHRcdGpRdWVyeSggdGhpcyApLmFkZENsYXNzKCB2YWx1ZS5jYWxsKCB0aGlzLCBqLCBnZXRDbGFzcyggdGhpcyApICkgKTtcblx0XHRcdH0gKTtcblx0XHR9XG5cblx0XHRpZiAoIHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIiAmJiB2YWx1ZSApIHtcblx0XHRcdGNsYXNzZXMgPSB2YWx1ZS5tYXRjaCggcm5vdGh0bWx3aGl0ZSApIHx8IFtdO1xuXG5cdFx0XHR3aGlsZSAoICggZWxlbSA9IHRoaXNbIGkrKyBdICkgKSB7XG5cdFx0XHRcdGN1clZhbHVlID0gZ2V0Q2xhc3MoIGVsZW0gKTtcblx0XHRcdFx0Y3VyID0gZWxlbS5ub2RlVHlwZSA9PT0gMSAmJiAoIFwiIFwiICsgc3RyaXBBbmRDb2xsYXBzZSggY3VyVmFsdWUgKSArIFwiIFwiICk7XG5cblx0XHRcdFx0aWYgKCBjdXIgKSB7XG5cdFx0XHRcdFx0aiA9IDA7XG5cdFx0XHRcdFx0d2hpbGUgKCAoIGNsYXp6ID0gY2xhc3Nlc1sgaisrIF0gKSApIHtcblx0XHRcdFx0XHRcdGlmICggY3VyLmluZGV4T2YoIFwiIFwiICsgY2xhenogKyBcIiBcIiApIDwgMCApIHtcblx0XHRcdFx0XHRcdFx0Y3VyICs9IGNsYXp6ICsgXCIgXCI7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gT25seSBhc3NpZ24gaWYgZGlmZmVyZW50IHRvIGF2b2lkIHVubmVlZGVkIHJlbmRlcmluZy5cblx0XHRcdFx0XHRmaW5hbFZhbHVlID0gc3RyaXBBbmRDb2xsYXBzZSggY3VyICk7XG5cdFx0XHRcdFx0aWYgKCBjdXJWYWx1ZSAhPT0gZmluYWxWYWx1ZSApIHtcblx0XHRcdFx0XHRcdGVsZW0uc2V0QXR0cmlidXRlKCBcImNsYXNzXCIsIGZpbmFsVmFsdWUgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHRyZW1vdmVDbGFzczogZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdHZhciBjbGFzc2VzLCBlbGVtLCBjdXIsIGN1clZhbHVlLCBjbGF6eiwgaiwgZmluYWxWYWx1ZSxcblx0XHRcdGkgPSAwO1xuXG5cdFx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggdmFsdWUgKSApIHtcblx0XHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCBqICkge1xuXHRcdFx0XHRqUXVlcnkoIHRoaXMgKS5yZW1vdmVDbGFzcyggdmFsdWUuY2FsbCggdGhpcywgaiwgZ2V0Q2xhc3MoIHRoaXMgKSApICk7XG5cdFx0XHR9ICk7XG5cdFx0fVxuXG5cdFx0aWYgKCAhYXJndW1lbnRzLmxlbmd0aCApIHtcblx0XHRcdHJldHVybiB0aGlzLmF0dHIoIFwiY2xhc3NcIiwgXCJcIiApO1xuXHRcdH1cblxuXHRcdGlmICggdHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiICYmIHZhbHVlICkge1xuXHRcdFx0Y2xhc3NlcyA9IHZhbHVlLm1hdGNoKCBybm90aHRtbHdoaXRlICkgfHwgW107XG5cblx0XHRcdHdoaWxlICggKCBlbGVtID0gdGhpc1sgaSsrIF0gKSApIHtcblx0XHRcdFx0Y3VyVmFsdWUgPSBnZXRDbGFzcyggZWxlbSApO1xuXG5cdFx0XHRcdC8vIFRoaXMgZXhwcmVzc2lvbiBpcyBoZXJlIGZvciBiZXR0ZXIgY29tcHJlc3NpYmlsaXR5IChzZWUgYWRkQ2xhc3MpXG5cdFx0XHRcdGN1ciA9IGVsZW0ubm9kZVR5cGUgPT09IDEgJiYgKCBcIiBcIiArIHN0cmlwQW5kQ29sbGFwc2UoIGN1clZhbHVlICkgKyBcIiBcIiApO1xuXG5cdFx0XHRcdGlmICggY3VyICkge1xuXHRcdFx0XHRcdGogPSAwO1xuXHRcdFx0XHRcdHdoaWxlICggKCBjbGF6eiA9IGNsYXNzZXNbIGorKyBdICkgKSB7XG5cblx0XHRcdFx0XHRcdC8vIFJlbW92ZSAqYWxsKiBpbnN0YW5jZXNcblx0XHRcdFx0XHRcdHdoaWxlICggY3VyLmluZGV4T2YoIFwiIFwiICsgY2xhenogKyBcIiBcIiApID4gLTEgKSB7XG5cdFx0XHRcdFx0XHRcdGN1ciA9IGN1ci5yZXBsYWNlKCBcIiBcIiArIGNsYXp6ICsgXCIgXCIsIFwiIFwiICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gT25seSBhc3NpZ24gaWYgZGlmZmVyZW50IHRvIGF2b2lkIHVubmVlZGVkIHJlbmRlcmluZy5cblx0XHRcdFx0XHRmaW5hbFZhbHVlID0gc3RyaXBBbmRDb2xsYXBzZSggY3VyICk7XG5cdFx0XHRcdFx0aWYgKCBjdXJWYWx1ZSAhPT0gZmluYWxWYWx1ZSApIHtcblx0XHRcdFx0XHRcdGVsZW0uc2V0QXR0cmlidXRlKCBcImNsYXNzXCIsIGZpbmFsVmFsdWUgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHR0b2dnbGVDbGFzczogZnVuY3Rpb24oIHZhbHVlLCBzdGF0ZVZhbCApIHtcblx0XHR2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcblxuXHRcdGlmICggdHlwZW9mIHN0YXRlVmFsID09PSBcImJvb2xlYW5cIiAmJiB0eXBlID09PSBcInN0cmluZ1wiICkge1xuXHRcdFx0cmV0dXJuIHN0YXRlVmFsID8gdGhpcy5hZGRDbGFzcyggdmFsdWUgKSA6IHRoaXMucmVtb3ZlQ2xhc3MoIHZhbHVlICk7XG5cdFx0fVxuXG5cdFx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggdmFsdWUgKSApIHtcblx0XHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCBpICkge1xuXHRcdFx0XHRqUXVlcnkoIHRoaXMgKS50b2dnbGVDbGFzcyhcblx0XHRcdFx0XHR2YWx1ZS5jYWxsKCB0aGlzLCBpLCBnZXRDbGFzcyggdGhpcyApLCBzdGF0ZVZhbCApLFxuXHRcdFx0XHRcdHN0YXRlVmFsXG5cdFx0XHRcdCk7XG5cdFx0XHR9ICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgY2xhc3NOYW1lLCBpLCBzZWxmLCBjbGFzc05hbWVzO1xuXG5cdFx0XHRpZiAoIHR5cGUgPT09IFwic3RyaW5nXCIgKSB7XG5cblx0XHRcdFx0Ly8gVG9nZ2xlIGluZGl2aWR1YWwgY2xhc3MgbmFtZXNcblx0XHRcdFx0aSA9IDA7XG5cdFx0XHRcdHNlbGYgPSBqUXVlcnkoIHRoaXMgKTtcblx0XHRcdFx0Y2xhc3NOYW1lcyA9IHZhbHVlLm1hdGNoKCBybm90aHRtbHdoaXRlICkgfHwgW107XG5cblx0XHRcdFx0d2hpbGUgKCAoIGNsYXNzTmFtZSA9IGNsYXNzTmFtZXNbIGkrKyBdICkgKSB7XG5cblx0XHRcdFx0XHQvLyBDaGVjayBlYWNoIGNsYXNzTmFtZSBnaXZlbiwgc3BhY2Ugc2VwYXJhdGVkIGxpc3Rcblx0XHRcdFx0XHRpZiAoIHNlbGYuaGFzQ2xhc3MoIGNsYXNzTmFtZSApICkge1xuXHRcdFx0XHRcdFx0c2VsZi5yZW1vdmVDbGFzcyggY2xhc3NOYW1lICk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHNlbGYuYWRkQ2xhc3MoIGNsYXNzTmFtZSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHQvLyBUb2dnbGUgd2hvbGUgY2xhc3MgbmFtZVxuXHRcdFx0fSBlbHNlIGlmICggdmFsdWUgPT09IHVuZGVmaW5lZCB8fCB0eXBlID09PSBcImJvb2xlYW5cIiApIHtcblx0XHRcdFx0Y2xhc3NOYW1lID0gZ2V0Q2xhc3MoIHRoaXMgKTtcblx0XHRcdFx0aWYgKCBjbGFzc05hbWUgKSB7XG5cblx0XHRcdFx0XHQvLyBTdG9yZSBjbGFzc05hbWUgaWYgc2V0XG5cdFx0XHRcdFx0ZGF0YVByaXYuc2V0KCB0aGlzLCBcIl9fY2xhc3NOYW1lX19cIiwgY2xhc3NOYW1lICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBJZiB0aGUgZWxlbWVudCBoYXMgYSBjbGFzcyBuYW1lIG9yIGlmIHdlJ3JlIHBhc3NlZCBgZmFsc2VgLFxuXHRcdFx0XHQvLyB0aGVuIHJlbW92ZSB0aGUgd2hvbGUgY2xhc3NuYW1lIChpZiB0aGVyZSB3YXMgb25lLCB0aGUgYWJvdmUgc2F2ZWQgaXQpLlxuXHRcdFx0XHQvLyBPdGhlcndpc2UgYnJpbmcgYmFjayB3aGF0ZXZlciB3YXMgcHJldmlvdXNseSBzYXZlZCAoaWYgYW55dGhpbmcpLFxuXHRcdFx0XHQvLyBmYWxsaW5nIGJhY2sgdG8gdGhlIGVtcHR5IHN0cmluZyBpZiBub3RoaW5nIHdhcyBzdG9yZWQuXG5cdFx0XHRcdGlmICggdGhpcy5zZXRBdHRyaWJ1dGUgKSB7XG5cdFx0XHRcdFx0dGhpcy5zZXRBdHRyaWJ1dGUoIFwiY2xhc3NcIixcblx0XHRcdFx0XHRcdGNsYXNzTmFtZSB8fCB2YWx1ZSA9PT0gZmFsc2UgP1xuXHRcdFx0XHRcdFx0XCJcIiA6XG5cdFx0XHRcdFx0XHRkYXRhUHJpdi5nZXQoIHRoaXMsIFwiX19jbGFzc05hbWVfX1wiICkgfHwgXCJcIlxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9ICk7XG5cdH0sXG5cblx0aGFzQ2xhc3M6IGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHR2YXIgY2xhc3NOYW1lLCBlbGVtLFxuXHRcdFx0aSA9IDA7XG5cblx0XHRjbGFzc05hbWUgPSBcIiBcIiArIHNlbGVjdG9yICsgXCIgXCI7XG5cdFx0d2hpbGUgKCAoIGVsZW0gPSB0aGlzWyBpKysgXSApICkge1xuXHRcdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAxICYmXG5cdFx0XHRcdCggXCIgXCIgKyBzdHJpcEFuZENvbGxhcHNlKCBnZXRDbGFzcyggZWxlbSApICkgKyBcIiBcIiApLmluZGV4T2YoIGNsYXNzTmFtZSApID4gLTEgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG59ICk7XG5cblxuXG5cbnZhciBycmV0dXJuID0gL1xcci9nO1xuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdHZhbDogZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdHZhciBob29rcywgcmV0LCBpc0Z1bmN0aW9uLFxuXHRcdFx0ZWxlbSA9IHRoaXNbIDAgXTtcblxuXHRcdGlmICggIWFyZ3VtZW50cy5sZW5ndGggKSB7XG5cdFx0XHRpZiAoIGVsZW0gKSB7XG5cdFx0XHRcdGhvb2tzID0galF1ZXJ5LnZhbEhvb2tzWyBlbGVtLnR5cGUgXSB8fFxuXHRcdFx0XHRcdGpRdWVyeS52YWxIb29rc1sgZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpIF07XG5cblx0XHRcdFx0aWYgKCBob29rcyAmJlxuXHRcdFx0XHRcdFwiZ2V0XCIgaW4gaG9va3MgJiZcblx0XHRcdFx0XHQoIHJldCA9IGhvb2tzLmdldCggZWxlbSwgXCJ2YWx1ZVwiICkgKSAhPT0gdW5kZWZpbmVkXG5cdFx0XHRcdCkge1xuXHRcdFx0XHRcdHJldHVybiByZXQ7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXQgPSBlbGVtLnZhbHVlO1xuXG5cdFx0XHRcdC8vIEhhbmRsZSBtb3N0IGNvbW1vbiBzdHJpbmcgY2FzZXNcblx0XHRcdFx0aWYgKCB0eXBlb2YgcmV0ID09PSBcInN0cmluZ1wiICkge1xuXHRcdFx0XHRcdHJldHVybiByZXQucmVwbGFjZSggcnJldHVybiwgXCJcIiApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gSGFuZGxlIGNhc2VzIHdoZXJlIHZhbHVlIGlzIG51bGwvdW5kZWYgb3IgbnVtYmVyXG5cdFx0XHRcdHJldHVybiByZXQgPT0gbnVsbCA/IFwiXCIgOiByZXQ7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpc0Z1bmN0aW9uID0galF1ZXJ5LmlzRnVuY3Rpb24oIHZhbHVlICk7XG5cblx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbiggaSApIHtcblx0XHRcdHZhciB2YWw7XG5cblx0XHRcdGlmICggdGhpcy5ub2RlVHlwZSAhPT0gMSApIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIGlzRnVuY3Rpb24gKSB7XG5cdFx0XHRcdHZhbCA9IHZhbHVlLmNhbGwoIHRoaXMsIGksIGpRdWVyeSggdGhpcyApLnZhbCgpICk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR2YWwgPSB2YWx1ZTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gVHJlYXQgbnVsbC91bmRlZmluZWQgYXMgXCJcIjsgY29udmVydCBudW1iZXJzIHRvIHN0cmluZ1xuXHRcdFx0aWYgKCB2YWwgPT0gbnVsbCApIHtcblx0XHRcdFx0dmFsID0gXCJcIjtcblxuXHRcdFx0fSBlbHNlIGlmICggdHlwZW9mIHZhbCA9PT0gXCJudW1iZXJcIiApIHtcblx0XHRcdFx0dmFsICs9IFwiXCI7XG5cblx0XHRcdH0gZWxzZSBpZiAoIEFycmF5LmlzQXJyYXkoIHZhbCApICkge1xuXHRcdFx0XHR2YWwgPSBqUXVlcnkubWFwKCB2YWwsIGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHRcdFx0XHRyZXR1cm4gdmFsdWUgPT0gbnVsbCA/IFwiXCIgOiB2YWx1ZSArIFwiXCI7XG5cdFx0XHRcdH0gKTtcblx0XHRcdH1cblxuXHRcdFx0aG9va3MgPSBqUXVlcnkudmFsSG9va3NbIHRoaXMudHlwZSBdIHx8IGpRdWVyeS52YWxIb29rc1sgdGhpcy5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpIF07XG5cblx0XHRcdC8vIElmIHNldCByZXR1cm5zIHVuZGVmaW5lZCwgZmFsbCBiYWNrIHRvIG5vcm1hbCBzZXR0aW5nXG5cdFx0XHRpZiAoICFob29rcyB8fCAhKCBcInNldFwiIGluIGhvb2tzICkgfHwgaG9va3Muc2V0KCB0aGlzLCB2YWwsIFwidmFsdWVcIiApID09PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdHRoaXMudmFsdWUgPSB2YWw7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9XG59ICk7XG5cbmpRdWVyeS5leHRlbmQoIHtcblx0dmFsSG9va3M6IHtcblx0XHRvcHRpb246IHtcblx0XHRcdGdldDogZnVuY3Rpb24oIGVsZW0gKSB7XG5cblx0XHRcdFx0dmFyIHZhbCA9IGpRdWVyeS5maW5kLmF0dHIoIGVsZW0sIFwidmFsdWVcIiApO1xuXHRcdFx0XHRyZXR1cm4gdmFsICE9IG51bGwgP1xuXHRcdFx0XHRcdHZhbCA6XG5cblx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA8PTEwIC0gMTEgb25seVxuXHRcdFx0XHRcdC8vIG9wdGlvbi50ZXh0IHRocm93cyBleGNlcHRpb25zICgjMTQ2ODYsICMxNDg1OClcblx0XHRcdFx0XHQvLyBTdHJpcCBhbmQgY29sbGFwc2Ugd2hpdGVzcGFjZVxuXHRcdFx0XHRcdC8vIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvI3N0cmlwLWFuZC1jb2xsYXBzZS13aGl0ZXNwYWNlXG5cdFx0XHRcdFx0c3RyaXBBbmRDb2xsYXBzZSggalF1ZXJ5LnRleHQoIGVsZW0gKSApO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0c2VsZWN0OiB7XG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHR2YXIgdmFsdWUsIG9wdGlvbiwgaSxcblx0XHRcdFx0XHRvcHRpb25zID0gZWxlbS5vcHRpb25zLFxuXHRcdFx0XHRcdGluZGV4ID0gZWxlbS5zZWxlY3RlZEluZGV4LFxuXHRcdFx0XHRcdG9uZSA9IGVsZW0udHlwZSA9PT0gXCJzZWxlY3Qtb25lXCIsXG5cdFx0XHRcdFx0dmFsdWVzID0gb25lID8gbnVsbCA6IFtdLFxuXHRcdFx0XHRcdG1heCA9IG9uZSA/IGluZGV4ICsgMSA6IG9wdGlvbnMubGVuZ3RoO1xuXG5cdFx0XHRcdGlmICggaW5kZXggPCAwICkge1xuXHRcdFx0XHRcdGkgPSBtYXg7XG5cblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRpID0gb25lID8gaW5kZXggOiAwO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gTG9vcCB0aHJvdWdoIGFsbCB0aGUgc2VsZWN0ZWQgb3B0aW9uc1xuXHRcdFx0XHRmb3IgKCA7IGkgPCBtYXg7IGkrKyApIHtcblx0XHRcdFx0XHRvcHRpb24gPSBvcHRpb25zWyBpIF07XG5cblx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA8PTkgb25seVxuXHRcdFx0XHRcdC8vIElFOC05IGRvZXNuJ3QgdXBkYXRlIHNlbGVjdGVkIGFmdGVyIGZvcm0gcmVzZXQgKCMyNTUxKVxuXHRcdFx0XHRcdGlmICggKCBvcHRpb24uc2VsZWN0ZWQgfHwgaSA9PT0gaW5kZXggKSAmJlxuXG5cdFx0XHRcdFx0XHRcdC8vIERvbid0IHJldHVybiBvcHRpb25zIHRoYXQgYXJlIGRpc2FibGVkIG9yIGluIGEgZGlzYWJsZWQgb3B0Z3JvdXBcblx0XHRcdFx0XHRcdFx0IW9wdGlvbi5kaXNhYmxlZCAmJlxuXHRcdFx0XHRcdFx0XHQoICFvcHRpb24ucGFyZW50Tm9kZS5kaXNhYmxlZCB8fFxuXHRcdFx0XHRcdFx0XHRcdCFub2RlTmFtZSggb3B0aW9uLnBhcmVudE5vZGUsIFwib3B0Z3JvdXBcIiApICkgKSB7XG5cblx0XHRcdFx0XHRcdC8vIEdldCB0aGUgc3BlY2lmaWMgdmFsdWUgZm9yIHRoZSBvcHRpb25cblx0XHRcdFx0XHRcdHZhbHVlID0galF1ZXJ5KCBvcHRpb24gKS52YWwoKTtcblxuXHRcdFx0XHRcdFx0Ly8gV2UgZG9uJ3QgbmVlZCBhbiBhcnJheSBmb3Igb25lIHNlbGVjdHNcblx0XHRcdFx0XHRcdGlmICggb25lICkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gdmFsdWU7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdC8vIE11bHRpLVNlbGVjdHMgcmV0dXJuIGFuIGFycmF5XG5cdFx0XHRcdFx0XHR2YWx1ZXMucHVzaCggdmFsdWUgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gdmFsdWVzO1xuXHRcdFx0fSxcblxuXHRcdFx0c2V0OiBmdW5jdGlvbiggZWxlbSwgdmFsdWUgKSB7XG5cdFx0XHRcdHZhciBvcHRpb25TZXQsIG9wdGlvbixcblx0XHRcdFx0XHRvcHRpb25zID0gZWxlbS5vcHRpb25zLFxuXHRcdFx0XHRcdHZhbHVlcyA9IGpRdWVyeS5tYWtlQXJyYXkoIHZhbHVlICksXG5cdFx0XHRcdFx0aSA9IG9wdGlvbnMubGVuZ3RoO1xuXG5cdFx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHRcdG9wdGlvbiA9IG9wdGlvbnNbIGkgXTtcblxuXHRcdFx0XHRcdC8qIGVzbGludC1kaXNhYmxlIG5vLWNvbmQtYXNzaWduICovXG5cblx0XHRcdFx0XHRpZiAoIG9wdGlvbi5zZWxlY3RlZCA9XG5cdFx0XHRcdFx0XHRqUXVlcnkuaW5BcnJheSggalF1ZXJ5LnZhbEhvb2tzLm9wdGlvbi5nZXQoIG9wdGlvbiApLCB2YWx1ZXMgKSA+IC0xXG5cdFx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0XHRvcHRpb25TZXQgPSB0cnVlO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8qIGVzbGludC1lbmFibGUgbm8tY29uZC1hc3NpZ24gKi9cblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIEZvcmNlIGJyb3dzZXJzIHRvIGJlaGF2ZSBjb25zaXN0ZW50bHkgd2hlbiBub24tbWF0Y2hpbmcgdmFsdWUgaXMgc2V0XG5cdFx0XHRcdGlmICggIW9wdGlvblNldCApIHtcblx0XHRcdFx0XHRlbGVtLnNlbGVjdGVkSW5kZXggPSAtMTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gdmFsdWVzO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxufSApO1xuXG4vLyBSYWRpb3MgYW5kIGNoZWNrYm94ZXMgZ2V0dGVyL3NldHRlclxualF1ZXJ5LmVhY2goIFsgXCJyYWRpb1wiLCBcImNoZWNrYm94XCIgXSwgZnVuY3Rpb24oKSB7XG5cdGpRdWVyeS52YWxIb29rc1sgdGhpcyBdID0ge1xuXHRcdHNldDogZnVuY3Rpb24oIGVsZW0sIHZhbHVlICkge1xuXHRcdFx0aWYgKCBBcnJheS5pc0FycmF5KCB2YWx1ZSApICkge1xuXHRcdFx0XHRyZXR1cm4gKCBlbGVtLmNoZWNrZWQgPSBqUXVlcnkuaW5BcnJheSggalF1ZXJ5KCBlbGVtICkudmFsKCksIHZhbHVlICkgPiAtMSApO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcblx0aWYgKCAhc3VwcG9ydC5jaGVja09uICkge1xuXHRcdGpRdWVyeS52YWxIb29rc1sgdGhpcyBdLmdldCA9IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuIGVsZW0uZ2V0QXR0cmlidXRlKCBcInZhbHVlXCIgKSA9PT0gbnVsbCA/IFwib25cIiA6IGVsZW0udmFsdWU7XG5cdFx0fTtcblx0fVxufSApO1xuXG5cblxuXG4vLyBSZXR1cm4galF1ZXJ5IGZvciBhdHRyaWJ1dGVzLW9ubHkgaW5jbHVzaW9uXG5cblxudmFyIHJmb2N1c01vcnBoID0gL14oPzpmb2N1c2luZm9jdXN8Zm9jdXNvdXRibHVyKSQvO1xuXG5qUXVlcnkuZXh0ZW5kKCBqUXVlcnkuZXZlbnQsIHtcblxuXHR0cmlnZ2VyOiBmdW5jdGlvbiggZXZlbnQsIGRhdGEsIGVsZW0sIG9ubHlIYW5kbGVycyApIHtcblxuXHRcdHZhciBpLCBjdXIsIHRtcCwgYnViYmxlVHlwZSwgb250eXBlLCBoYW5kbGUsIHNwZWNpYWwsXG5cdFx0XHRldmVudFBhdGggPSBbIGVsZW0gfHwgZG9jdW1lbnQgXSxcblx0XHRcdHR5cGUgPSBoYXNPd24uY2FsbCggZXZlbnQsIFwidHlwZVwiICkgPyBldmVudC50eXBlIDogZXZlbnQsXG5cdFx0XHRuYW1lc3BhY2VzID0gaGFzT3duLmNhbGwoIGV2ZW50LCBcIm5hbWVzcGFjZVwiICkgPyBldmVudC5uYW1lc3BhY2Uuc3BsaXQoIFwiLlwiICkgOiBbXTtcblxuXHRcdGN1ciA9IHRtcCA9IGVsZW0gPSBlbGVtIHx8IGRvY3VtZW50O1xuXG5cdFx0Ly8gRG9uJ3QgZG8gZXZlbnRzIG9uIHRleHQgYW5kIGNvbW1lbnQgbm9kZXNcblx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDMgfHwgZWxlbS5ub2RlVHlwZSA9PT0gOCApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBmb2N1cy9ibHVyIG1vcnBocyB0byBmb2N1c2luL291dDsgZW5zdXJlIHdlJ3JlIG5vdCBmaXJpbmcgdGhlbSByaWdodCBub3dcblx0XHRpZiAoIHJmb2N1c01vcnBoLnRlc3QoIHR5cGUgKyBqUXVlcnkuZXZlbnQudHJpZ2dlcmVkICkgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aWYgKCB0eXBlLmluZGV4T2YoIFwiLlwiICkgPiAtMSApIHtcblxuXHRcdFx0Ly8gTmFtZXNwYWNlZCB0cmlnZ2VyOyBjcmVhdGUgYSByZWdleHAgdG8gbWF0Y2ggZXZlbnQgdHlwZSBpbiBoYW5kbGUoKVxuXHRcdFx0bmFtZXNwYWNlcyA9IHR5cGUuc3BsaXQoIFwiLlwiICk7XG5cdFx0XHR0eXBlID0gbmFtZXNwYWNlcy5zaGlmdCgpO1xuXHRcdFx0bmFtZXNwYWNlcy5zb3J0KCk7XG5cdFx0fVxuXHRcdG9udHlwZSA9IHR5cGUuaW5kZXhPZiggXCI6XCIgKSA8IDAgJiYgXCJvblwiICsgdHlwZTtcblxuXHRcdC8vIENhbGxlciBjYW4gcGFzcyBpbiBhIGpRdWVyeS5FdmVudCBvYmplY3QsIE9iamVjdCwgb3IganVzdCBhbiBldmVudCB0eXBlIHN0cmluZ1xuXHRcdGV2ZW50ID0gZXZlbnRbIGpRdWVyeS5leHBhbmRvIF0gP1xuXHRcdFx0ZXZlbnQgOlxuXHRcdFx0bmV3IGpRdWVyeS5FdmVudCggdHlwZSwgdHlwZW9mIGV2ZW50ID09PSBcIm9iamVjdFwiICYmIGV2ZW50ICk7XG5cblx0XHQvLyBUcmlnZ2VyIGJpdG1hc2s6ICYgMSBmb3IgbmF0aXZlIGhhbmRsZXJzOyAmIDIgZm9yIGpRdWVyeSAoYWx3YXlzIHRydWUpXG5cdFx0ZXZlbnQuaXNUcmlnZ2VyID0gb25seUhhbmRsZXJzID8gMiA6IDM7XG5cdFx0ZXZlbnQubmFtZXNwYWNlID0gbmFtZXNwYWNlcy5qb2luKCBcIi5cIiApO1xuXHRcdGV2ZW50LnJuYW1lc3BhY2UgPSBldmVudC5uYW1lc3BhY2UgP1xuXHRcdFx0bmV3IFJlZ0V4cCggXCIoXnxcXFxcLilcIiArIG5hbWVzcGFjZXMuam9pbiggXCJcXFxcLig/Oi4qXFxcXC58KVwiICkgKyBcIihcXFxcLnwkKVwiICkgOlxuXHRcdFx0bnVsbDtcblxuXHRcdC8vIENsZWFuIHVwIHRoZSBldmVudCBpbiBjYXNlIGl0IGlzIGJlaW5nIHJldXNlZFxuXHRcdGV2ZW50LnJlc3VsdCA9IHVuZGVmaW5lZDtcblx0XHRpZiAoICFldmVudC50YXJnZXQgKSB7XG5cdFx0XHRldmVudC50YXJnZXQgPSBlbGVtO1xuXHRcdH1cblxuXHRcdC8vIENsb25lIGFueSBpbmNvbWluZyBkYXRhIGFuZCBwcmVwZW5kIHRoZSBldmVudCwgY3JlYXRpbmcgdGhlIGhhbmRsZXIgYXJnIGxpc3Rcblx0XHRkYXRhID0gZGF0YSA9PSBudWxsID9cblx0XHRcdFsgZXZlbnQgXSA6XG5cdFx0XHRqUXVlcnkubWFrZUFycmF5KCBkYXRhLCBbIGV2ZW50IF0gKTtcblxuXHRcdC8vIEFsbG93IHNwZWNpYWwgZXZlbnRzIHRvIGRyYXcgb3V0c2lkZSB0aGUgbGluZXNcblx0XHRzcGVjaWFsID0galF1ZXJ5LmV2ZW50LnNwZWNpYWxbIHR5cGUgXSB8fCB7fTtcblx0XHRpZiAoICFvbmx5SGFuZGxlcnMgJiYgc3BlY2lhbC50cmlnZ2VyICYmIHNwZWNpYWwudHJpZ2dlci5hcHBseSggZWxlbSwgZGF0YSApID09PSBmYWxzZSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBEZXRlcm1pbmUgZXZlbnQgcHJvcGFnYXRpb24gcGF0aCBpbiBhZHZhbmNlLCBwZXIgVzNDIGV2ZW50cyBzcGVjICgjOTk1MSlcblx0XHQvLyBCdWJibGUgdXAgdG8gZG9jdW1lbnQsIHRoZW4gdG8gd2luZG93OyB3YXRjaCBmb3IgYSBnbG9iYWwgb3duZXJEb2N1bWVudCB2YXIgKCM5NzI0KVxuXHRcdGlmICggIW9ubHlIYW5kbGVycyAmJiAhc3BlY2lhbC5ub0J1YmJsZSAmJiAhalF1ZXJ5LmlzV2luZG93KCBlbGVtICkgKSB7XG5cblx0XHRcdGJ1YmJsZVR5cGUgPSBzcGVjaWFsLmRlbGVnYXRlVHlwZSB8fCB0eXBlO1xuXHRcdFx0aWYgKCAhcmZvY3VzTW9ycGgudGVzdCggYnViYmxlVHlwZSArIHR5cGUgKSApIHtcblx0XHRcdFx0Y3VyID0gY3VyLnBhcmVudE5vZGU7XG5cdFx0XHR9XG5cdFx0XHRmb3IgKCA7IGN1cjsgY3VyID0gY3VyLnBhcmVudE5vZGUgKSB7XG5cdFx0XHRcdGV2ZW50UGF0aC5wdXNoKCBjdXIgKTtcblx0XHRcdFx0dG1wID0gY3VyO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBPbmx5IGFkZCB3aW5kb3cgaWYgd2UgZ290IHRvIGRvY3VtZW50IChlLmcuLCBub3QgcGxhaW4gb2JqIG9yIGRldGFjaGVkIERPTSlcblx0XHRcdGlmICggdG1wID09PSAoIGVsZW0ub3duZXJEb2N1bWVudCB8fCBkb2N1bWVudCApICkge1xuXHRcdFx0XHRldmVudFBhdGgucHVzaCggdG1wLmRlZmF1bHRWaWV3IHx8IHRtcC5wYXJlbnRXaW5kb3cgfHwgd2luZG93ICk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gRmlyZSBoYW5kbGVycyBvbiB0aGUgZXZlbnQgcGF0aFxuXHRcdGkgPSAwO1xuXHRcdHdoaWxlICggKCBjdXIgPSBldmVudFBhdGhbIGkrKyBdICkgJiYgIWV2ZW50LmlzUHJvcGFnYXRpb25TdG9wcGVkKCkgKSB7XG5cblx0XHRcdGV2ZW50LnR5cGUgPSBpID4gMSA/XG5cdFx0XHRcdGJ1YmJsZVR5cGUgOlxuXHRcdFx0XHRzcGVjaWFsLmJpbmRUeXBlIHx8IHR5cGU7XG5cblx0XHRcdC8vIGpRdWVyeSBoYW5kbGVyXG5cdFx0XHRoYW5kbGUgPSAoIGRhdGFQcml2LmdldCggY3VyLCBcImV2ZW50c1wiICkgfHwge30gKVsgZXZlbnQudHlwZSBdICYmXG5cdFx0XHRcdGRhdGFQcml2LmdldCggY3VyLCBcImhhbmRsZVwiICk7XG5cdFx0XHRpZiAoIGhhbmRsZSApIHtcblx0XHRcdFx0aGFuZGxlLmFwcGx5KCBjdXIsIGRhdGEgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gTmF0aXZlIGhhbmRsZXJcblx0XHRcdGhhbmRsZSA9IG9udHlwZSAmJiBjdXJbIG9udHlwZSBdO1xuXHRcdFx0aWYgKCBoYW5kbGUgJiYgaGFuZGxlLmFwcGx5ICYmIGFjY2VwdERhdGEoIGN1ciApICkge1xuXHRcdFx0XHRldmVudC5yZXN1bHQgPSBoYW5kbGUuYXBwbHkoIGN1ciwgZGF0YSApO1xuXHRcdFx0XHRpZiAoIGV2ZW50LnJlc3VsdCA9PT0gZmFsc2UgKSB7XG5cdFx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0XHRldmVudC50eXBlID0gdHlwZTtcblxuXHRcdC8vIElmIG5vYm9keSBwcmV2ZW50ZWQgdGhlIGRlZmF1bHQgYWN0aW9uLCBkbyBpdCBub3dcblx0XHRpZiAoICFvbmx5SGFuZGxlcnMgJiYgIWV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpICkge1xuXG5cdFx0XHRpZiAoICggIXNwZWNpYWwuX2RlZmF1bHQgfHxcblx0XHRcdFx0c3BlY2lhbC5fZGVmYXVsdC5hcHBseSggZXZlbnRQYXRoLnBvcCgpLCBkYXRhICkgPT09IGZhbHNlICkgJiZcblx0XHRcdFx0YWNjZXB0RGF0YSggZWxlbSApICkge1xuXG5cdFx0XHRcdC8vIENhbGwgYSBuYXRpdmUgRE9NIG1ldGhvZCBvbiB0aGUgdGFyZ2V0IHdpdGggdGhlIHNhbWUgbmFtZSBhcyB0aGUgZXZlbnQuXG5cdFx0XHRcdC8vIERvbid0IGRvIGRlZmF1bHQgYWN0aW9ucyBvbiB3aW5kb3csIHRoYXQncyB3aGVyZSBnbG9iYWwgdmFyaWFibGVzIGJlICgjNjE3MClcblx0XHRcdFx0aWYgKCBvbnR5cGUgJiYgalF1ZXJ5LmlzRnVuY3Rpb24oIGVsZW1bIHR5cGUgXSApICYmICFqUXVlcnkuaXNXaW5kb3coIGVsZW0gKSApIHtcblxuXHRcdFx0XHRcdC8vIERvbid0IHJlLXRyaWdnZXIgYW4gb25GT08gZXZlbnQgd2hlbiB3ZSBjYWxsIGl0cyBGT08oKSBtZXRob2Rcblx0XHRcdFx0XHR0bXAgPSBlbGVtWyBvbnR5cGUgXTtcblxuXHRcdFx0XHRcdGlmICggdG1wICkge1xuXHRcdFx0XHRcdFx0ZWxlbVsgb250eXBlIF0gPSBudWxsO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8vIFByZXZlbnQgcmUtdHJpZ2dlcmluZyBvZiB0aGUgc2FtZSBldmVudCwgc2luY2Ugd2UgYWxyZWFkeSBidWJibGVkIGl0IGFib3ZlXG5cdFx0XHRcdFx0alF1ZXJ5LmV2ZW50LnRyaWdnZXJlZCA9IHR5cGU7XG5cdFx0XHRcdFx0ZWxlbVsgdHlwZSBdKCk7XG5cdFx0XHRcdFx0alF1ZXJ5LmV2ZW50LnRyaWdnZXJlZCA9IHVuZGVmaW5lZDtcblxuXHRcdFx0XHRcdGlmICggdG1wICkge1xuXHRcdFx0XHRcdFx0ZWxlbVsgb250eXBlIF0gPSB0bXA7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGV2ZW50LnJlc3VsdDtcblx0fSxcblxuXHQvLyBQaWdneWJhY2sgb24gYSBkb25vciBldmVudCB0byBzaW11bGF0ZSBhIGRpZmZlcmVudCBvbmVcblx0Ly8gVXNlZCBvbmx5IGZvciBgZm9jdXMoaW4gfCBvdXQpYCBldmVudHNcblx0c2ltdWxhdGU6IGZ1bmN0aW9uKCB0eXBlLCBlbGVtLCBldmVudCApIHtcblx0XHR2YXIgZSA9IGpRdWVyeS5leHRlbmQoXG5cdFx0XHRuZXcgalF1ZXJ5LkV2ZW50KCksXG5cdFx0XHRldmVudCxcblx0XHRcdHtcblx0XHRcdFx0dHlwZTogdHlwZSxcblx0XHRcdFx0aXNTaW11bGF0ZWQ6IHRydWVcblx0XHRcdH1cblx0XHQpO1xuXG5cdFx0alF1ZXJ5LmV2ZW50LnRyaWdnZXIoIGUsIG51bGwsIGVsZW0gKTtcblx0fVxuXG59ICk7XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblxuXHR0cmlnZ2VyOiBmdW5jdGlvbiggdHlwZSwgZGF0YSApIHtcblx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdGpRdWVyeS5ldmVudC50cmlnZ2VyKCB0eXBlLCBkYXRhLCB0aGlzICk7XG5cdFx0fSApO1xuXHR9LFxuXHR0cmlnZ2VySGFuZGxlcjogZnVuY3Rpb24oIHR5cGUsIGRhdGEgKSB7XG5cdFx0dmFyIGVsZW0gPSB0aGlzWyAwIF07XG5cdFx0aWYgKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuIGpRdWVyeS5ldmVudC50cmlnZ2VyKCB0eXBlLCBkYXRhLCBlbGVtLCB0cnVlICk7XG5cdFx0fVxuXHR9XG59ICk7XG5cblxualF1ZXJ5LmVhY2goICggXCJibHVyIGZvY3VzIGZvY3VzaW4gZm9jdXNvdXQgcmVzaXplIHNjcm9sbCBjbGljayBkYmxjbGljayBcIiArXG5cdFwibW91c2Vkb3duIG1vdXNldXAgbW91c2Vtb3ZlIG1vdXNlb3ZlciBtb3VzZW91dCBtb3VzZWVudGVyIG1vdXNlbGVhdmUgXCIgK1xuXHRcImNoYW5nZSBzZWxlY3Qgc3VibWl0IGtleWRvd24ga2V5cHJlc3Mga2V5dXAgY29udGV4dG1lbnVcIiApLnNwbGl0KCBcIiBcIiApLFxuXHRmdW5jdGlvbiggaSwgbmFtZSApIHtcblxuXHQvLyBIYW5kbGUgZXZlbnQgYmluZGluZ1xuXHRqUXVlcnkuZm5bIG5hbWUgXSA9IGZ1bmN0aW9uKCBkYXRhLCBmbiApIHtcblx0XHRyZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA+IDAgP1xuXHRcdFx0dGhpcy5vbiggbmFtZSwgbnVsbCwgZGF0YSwgZm4gKSA6XG5cdFx0XHR0aGlzLnRyaWdnZXIoIG5hbWUgKTtcblx0fTtcbn0gKTtcblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRob3ZlcjogZnVuY3Rpb24oIGZuT3ZlciwgZm5PdXQgKSB7XG5cdFx0cmV0dXJuIHRoaXMubW91c2VlbnRlciggZm5PdmVyICkubW91c2VsZWF2ZSggZm5PdXQgfHwgZm5PdmVyICk7XG5cdH1cbn0gKTtcblxuXG5cblxuc3VwcG9ydC5mb2N1c2luID0gXCJvbmZvY3VzaW5cIiBpbiB3aW5kb3c7XG5cblxuLy8gU3VwcG9ydDogRmlyZWZveCA8PTQ0XG4vLyBGaXJlZm94IGRvZXNuJ3QgaGF2ZSBmb2N1cyhpbiB8IG91dCkgZXZlbnRzXG4vLyBSZWxhdGVkIHRpY2tldCAtIGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTY4Nzc4N1xuLy9cbi8vIFN1cHBvcnQ6IENocm9tZSA8PTQ4IC0gNDksIFNhZmFyaSA8PTkuMCAtIDkuMVxuLy8gZm9jdXMoaW4gfCBvdXQpIGV2ZW50cyBmaXJlIGFmdGVyIGZvY3VzICYgYmx1ciBldmVudHMsXG4vLyB3aGljaCBpcyBzcGVjIHZpb2xhdGlvbiAtIGh0dHA6Ly93d3cudzMub3JnL1RSL0RPTS1MZXZlbC0zLUV2ZW50cy8jZXZlbnRzLWZvY3VzZXZlbnQtZXZlbnQtb3JkZXJcbi8vIFJlbGF0ZWQgdGlja2V0IC0gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9NDQ5ODU3XG5pZiAoICFzdXBwb3J0LmZvY3VzaW4gKSB7XG5cdGpRdWVyeS5lYWNoKCB7IGZvY3VzOiBcImZvY3VzaW5cIiwgYmx1cjogXCJmb2N1c291dFwiIH0sIGZ1bmN0aW9uKCBvcmlnLCBmaXggKSB7XG5cblx0XHQvLyBBdHRhY2ggYSBzaW5nbGUgY2FwdHVyaW5nIGhhbmRsZXIgb24gdGhlIGRvY3VtZW50IHdoaWxlIHNvbWVvbmUgd2FudHMgZm9jdXNpbi9mb2N1c291dFxuXHRcdHZhciBoYW5kbGVyID0gZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0alF1ZXJ5LmV2ZW50LnNpbXVsYXRlKCBmaXgsIGV2ZW50LnRhcmdldCwgalF1ZXJ5LmV2ZW50LmZpeCggZXZlbnQgKSApO1xuXHRcdH07XG5cblx0XHRqUXVlcnkuZXZlbnQuc3BlY2lhbFsgZml4IF0gPSB7XG5cdFx0XHRzZXR1cDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBkb2MgPSB0aGlzLm93bmVyRG9jdW1lbnQgfHwgdGhpcyxcblx0XHRcdFx0XHRhdHRhY2hlcyA9IGRhdGFQcml2LmFjY2VzcyggZG9jLCBmaXggKTtcblxuXHRcdFx0XHRpZiAoICFhdHRhY2hlcyApIHtcblx0XHRcdFx0XHRkb2MuYWRkRXZlbnRMaXN0ZW5lciggb3JpZywgaGFuZGxlciwgdHJ1ZSApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGRhdGFQcml2LmFjY2VzcyggZG9jLCBmaXgsICggYXR0YWNoZXMgfHwgMCApICsgMSApO1xuXHRcdFx0fSxcblx0XHRcdHRlYXJkb3duOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIGRvYyA9IHRoaXMub3duZXJEb2N1bWVudCB8fCB0aGlzLFxuXHRcdFx0XHRcdGF0dGFjaGVzID0gZGF0YVByaXYuYWNjZXNzKCBkb2MsIGZpeCApIC0gMTtcblxuXHRcdFx0XHRpZiAoICFhdHRhY2hlcyApIHtcblx0XHRcdFx0XHRkb2MucmVtb3ZlRXZlbnRMaXN0ZW5lciggb3JpZywgaGFuZGxlciwgdHJ1ZSApO1xuXHRcdFx0XHRcdGRhdGFQcml2LnJlbW92ZSggZG9jLCBmaXggKTtcblxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGRhdGFQcml2LmFjY2VzcyggZG9jLCBmaXgsIGF0dGFjaGVzICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9O1xuXHR9ICk7XG59XG52YXIgbG9jYXRpb24gPSB3aW5kb3cubG9jYXRpb247XG5cbnZhciBub25jZSA9IGpRdWVyeS5ub3coKTtcblxudmFyIHJxdWVyeSA9ICggL1xcPy8gKTtcblxuXG5cbi8vIENyb3NzLWJyb3dzZXIgeG1sIHBhcnNpbmdcbmpRdWVyeS5wYXJzZVhNTCA9IGZ1bmN0aW9uKCBkYXRhICkge1xuXHR2YXIgeG1sO1xuXHRpZiAoICFkYXRhIHx8IHR5cGVvZiBkYXRhICE9PSBcInN0cmluZ1wiICkge1xuXHRcdHJldHVybiBudWxsO1xuXHR9XG5cblx0Ly8gU3VwcG9ydDogSUUgOSAtIDExIG9ubHlcblx0Ly8gSUUgdGhyb3dzIG9uIHBhcnNlRnJvbVN0cmluZyB3aXRoIGludmFsaWQgaW5wdXQuXG5cdHRyeSB7XG5cdFx0eG1sID0gKCBuZXcgd2luZG93LkRPTVBhcnNlcigpICkucGFyc2VGcm9tU3RyaW5nKCBkYXRhLCBcInRleHQveG1sXCIgKTtcblx0fSBjYXRjaCAoIGUgKSB7XG5cdFx0eG1sID0gdW5kZWZpbmVkO1xuXHR9XG5cblx0aWYgKCAheG1sIHx8IHhtbC5nZXRFbGVtZW50c0J5VGFnTmFtZSggXCJwYXJzZXJlcnJvclwiICkubGVuZ3RoICkge1xuXHRcdGpRdWVyeS5lcnJvciggXCJJbnZhbGlkIFhNTDogXCIgKyBkYXRhICk7XG5cdH1cblx0cmV0dXJuIHhtbDtcbn07XG5cblxudmFyXG5cdHJicmFja2V0ID0gL1xcW1xcXSQvLFxuXHRyQ1JMRiA9IC9cXHI/XFxuL2csXG5cdHJzdWJtaXR0ZXJUeXBlcyA9IC9eKD86c3VibWl0fGJ1dHRvbnxpbWFnZXxyZXNldHxmaWxlKSQvaSxcblx0cnN1Ym1pdHRhYmxlID0gL14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8a2V5Z2VuKS9pO1xuXG5mdW5jdGlvbiBidWlsZFBhcmFtcyggcHJlZml4LCBvYmosIHRyYWRpdGlvbmFsLCBhZGQgKSB7XG5cdHZhciBuYW1lO1xuXG5cdGlmICggQXJyYXkuaXNBcnJheSggb2JqICkgKSB7XG5cblx0XHQvLyBTZXJpYWxpemUgYXJyYXkgaXRlbS5cblx0XHRqUXVlcnkuZWFjaCggb2JqLCBmdW5jdGlvbiggaSwgdiApIHtcblx0XHRcdGlmICggdHJhZGl0aW9uYWwgfHwgcmJyYWNrZXQudGVzdCggcHJlZml4ICkgKSB7XG5cblx0XHRcdFx0Ly8gVHJlYXQgZWFjaCBhcnJheSBpdGVtIGFzIGEgc2NhbGFyLlxuXHRcdFx0XHRhZGQoIHByZWZpeCwgdiApO1xuXG5cdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdC8vIEl0ZW0gaXMgbm9uLXNjYWxhciAoYXJyYXkgb3Igb2JqZWN0KSwgZW5jb2RlIGl0cyBudW1lcmljIGluZGV4LlxuXHRcdFx0XHRidWlsZFBhcmFtcyhcblx0XHRcdFx0XHRwcmVmaXggKyBcIltcIiArICggdHlwZW9mIHYgPT09IFwib2JqZWN0XCIgJiYgdiAhPSBudWxsID8gaSA6IFwiXCIgKSArIFwiXVwiLFxuXHRcdFx0XHRcdHYsXG5cdFx0XHRcdFx0dHJhZGl0aW9uYWwsXG5cdFx0XHRcdFx0YWRkXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXG5cdH0gZWxzZSBpZiAoICF0cmFkaXRpb25hbCAmJiBqUXVlcnkudHlwZSggb2JqICkgPT09IFwib2JqZWN0XCIgKSB7XG5cblx0XHQvLyBTZXJpYWxpemUgb2JqZWN0IGl0ZW0uXG5cdFx0Zm9yICggbmFtZSBpbiBvYmogKSB7XG5cdFx0XHRidWlsZFBhcmFtcyggcHJlZml4ICsgXCJbXCIgKyBuYW1lICsgXCJdXCIsIG9ialsgbmFtZSBdLCB0cmFkaXRpb25hbCwgYWRkICk7XG5cdFx0fVxuXG5cdH0gZWxzZSB7XG5cblx0XHQvLyBTZXJpYWxpemUgc2NhbGFyIGl0ZW0uXG5cdFx0YWRkKCBwcmVmaXgsIG9iaiApO1xuXHR9XG59XG5cbi8vIFNlcmlhbGl6ZSBhbiBhcnJheSBvZiBmb3JtIGVsZW1lbnRzIG9yIGEgc2V0IG9mXG4vLyBrZXkvdmFsdWVzIGludG8gYSBxdWVyeSBzdHJpbmdcbmpRdWVyeS5wYXJhbSA9IGZ1bmN0aW9uKCBhLCB0cmFkaXRpb25hbCApIHtcblx0dmFyIHByZWZpeCxcblx0XHRzID0gW10sXG5cdFx0YWRkID0gZnVuY3Rpb24oIGtleSwgdmFsdWVPckZ1bmN0aW9uICkge1xuXG5cdFx0XHQvLyBJZiB2YWx1ZSBpcyBhIGZ1bmN0aW9uLCBpbnZva2UgaXQgYW5kIHVzZSBpdHMgcmV0dXJuIHZhbHVlXG5cdFx0XHR2YXIgdmFsdWUgPSBqUXVlcnkuaXNGdW5jdGlvbiggdmFsdWVPckZ1bmN0aW9uICkgP1xuXHRcdFx0XHR2YWx1ZU9yRnVuY3Rpb24oKSA6XG5cdFx0XHRcdHZhbHVlT3JGdW5jdGlvbjtcblxuXHRcdFx0c1sgcy5sZW5ndGggXSA9IGVuY29kZVVSSUNvbXBvbmVudCgga2V5ICkgKyBcIj1cIiArXG5cdFx0XHRcdGVuY29kZVVSSUNvbXBvbmVudCggdmFsdWUgPT0gbnVsbCA/IFwiXCIgOiB2YWx1ZSApO1xuXHRcdH07XG5cblx0Ly8gSWYgYW4gYXJyYXkgd2FzIHBhc3NlZCBpbiwgYXNzdW1lIHRoYXQgaXQgaXMgYW4gYXJyYXkgb2YgZm9ybSBlbGVtZW50cy5cblx0aWYgKCBBcnJheS5pc0FycmF5KCBhICkgfHwgKCBhLmpxdWVyeSAmJiAhalF1ZXJ5LmlzUGxhaW5PYmplY3QoIGEgKSApICkge1xuXG5cdFx0Ly8gU2VyaWFsaXplIHRoZSBmb3JtIGVsZW1lbnRzXG5cdFx0alF1ZXJ5LmVhY2goIGEsIGZ1bmN0aW9uKCkge1xuXHRcdFx0YWRkKCB0aGlzLm5hbWUsIHRoaXMudmFsdWUgKTtcblx0XHR9ICk7XG5cblx0fSBlbHNlIHtcblxuXHRcdC8vIElmIHRyYWRpdGlvbmFsLCBlbmNvZGUgdGhlIFwib2xkXCIgd2F5ICh0aGUgd2F5IDEuMy4yIG9yIG9sZGVyXG5cdFx0Ly8gZGlkIGl0KSwgb3RoZXJ3aXNlIGVuY29kZSBwYXJhbXMgcmVjdXJzaXZlbHkuXG5cdFx0Zm9yICggcHJlZml4IGluIGEgKSB7XG5cdFx0XHRidWlsZFBhcmFtcyggcHJlZml4LCBhWyBwcmVmaXggXSwgdHJhZGl0aW9uYWwsIGFkZCApO1xuXHRcdH1cblx0fVxuXG5cdC8vIFJldHVybiB0aGUgcmVzdWx0aW5nIHNlcmlhbGl6YXRpb25cblx0cmV0dXJuIHMuam9pbiggXCImXCIgKTtcbn07XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblx0c2VyaWFsaXplOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4galF1ZXJ5LnBhcmFtKCB0aGlzLnNlcmlhbGl6ZUFycmF5KCkgKTtcblx0fSxcblx0c2VyaWFsaXplQXJyYXk6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLm1hcCggZnVuY3Rpb24oKSB7XG5cblx0XHRcdC8vIENhbiBhZGQgcHJvcEhvb2sgZm9yIFwiZWxlbWVudHNcIiB0byBmaWx0ZXIgb3IgYWRkIGZvcm0gZWxlbWVudHNcblx0XHRcdHZhciBlbGVtZW50cyA9IGpRdWVyeS5wcm9wKCB0aGlzLCBcImVsZW1lbnRzXCIgKTtcblx0XHRcdHJldHVybiBlbGVtZW50cyA/IGpRdWVyeS5tYWtlQXJyYXkoIGVsZW1lbnRzICkgOiB0aGlzO1xuXHRcdH0gKVxuXHRcdC5maWx0ZXIoIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIHR5cGUgPSB0aGlzLnR5cGU7XG5cblx0XHRcdC8vIFVzZSAuaXMoIFwiOmRpc2FibGVkXCIgKSBzbyB0aGF0IGZpZWxkc2V0W2Rpc2FibGVkXSB3b3Jrc1xuXHRcdFx0cmV0dXJuIHRoaXMubmFtZSAmJiAhalF1ZXJ5KCB0aGlzICkuaXMoIFwiOmRpc2FibGVkXCIgKSAmJlxuXHRcdFx0XHRyc3VibWl0dGFibGUudGVzdCggdGhpcy5ub2RlTmFtZSApICYmICFyc3VibWl0dGVyVHlwZXMudGVzdCggdHlwZSApICYmXG5cdFx0XHRcdCggdGhpcy5jaGVja2VkIHx8ICFyY2hlY2thYmxlVHlwZS50ZXN0KCB0eXBlICkgKTtcblx0XHR9IClcblx0XHQubWFwKCBmdW5jdGlvbiggaSwgZWxlbSApIHtcblx0XHRcdHZhciB2YWwgPSBqUXVlcnkoIHRoaXMgKS52YWwoKTtcblxuXHRcdFx0aWYgKCB2YWwgPT0gbnVsbCApIHtcblx0XHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0XHR9XG5cblx0XHRcdGlmICggQXJyYXkuaXNBcnJheSggdmFsICkgKSB7XG5cdFx0XHRcdHJldHVybiBqUXVlcnkubWFwKCB2YWwsIGZ1bmN0aW9uKCB2YWwgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHsgbmFtZTogZWxlbS5uYW1lLCB2YWx1ZTogdmFsLnJlcGxhY2UoIHJDUkxGLCBcIlxcclxcblwiICkgfTtcblx0XHRcdFx0fSApO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4geyBuYW1lOiBlbGVtLm5hbWUsIHZhbHVlOiB2YWwucmVwbGFjZSggckNSTEYsIFwiXFxyXFxuXCIgKSB9O1xuXHRcdH0gKS5nZXQoKTtcblx0fVxufSApO1xuXG5cbnZhclxuXHRyMjAgPSAvJTIwL2csXG5cdHJoYXNoID0gLyMuKiQvLFxuXHRyYW50aUNhY2hlID0gLyhbPyZdKV89W14mXSovLFxuXHRyaGVhZGVycyA9IC9eKC4qPyk6WyBcXHRdKihbXlxcclxcbl0qKSQvbWcsXG5cblx0Ly8gIzc2NTMsICM4MTI1LCAjODE1MjogbG9jYWwgcHJvdG9jb2wgZGV0ZWN0aW9uXG5cdHJsb2NhbFByb3RvY29sID0gL14oPzphYm91dHxhcHB8YXBwLXN0b3JhZ2V8ListZXh0ZW5zaW9ufGZpbGV8cmVzfHdpZGdldCk6JC8sXG5cdHJub0NvbnRlbnQgPSAvXig/OkdFVHxIRUFEKSQvLFxuXHRycHJvdG9jb2wgPSAvXlxcL1xcLy8sXG5cblx0LyogUHJlZmlsdGVyc1xuXHQgKiAxKSBUaGV5IGFyZSB1c2VmdWwgdG8gaW50cm9kdWNlIGN1c3RvbSBkYXRhVHlwZXMgKHNlZSBhamF4L2pzb25wLmpzIGZvciBhbiBleGFtcGxlKVxuXHQgKiAyKSBUaGVzZSBhcmUgY2FsbGVkOlxuXHQgKiAgICAtIEJFRk9SRSBhc2tpbmcgZm9yIGEgdHJhbnNwb3J0XG5cdCAqICAgIC0gQUZURVIgcGFyYW0gc2VyaWFsaXphdGlvbiAocy5kYXRhIGlzIGEgc3RyaW5nIGlmIHMucHJvY2Vzc0RhdGEgaXMgdHJ1ZSlcblx0ICogMykga2V5IGlzIHRoZSBkYXRhVHlwZVxuXHQgKiA0KSB0aGUgY2F0Y2hhbGwgc3ltYm9sIFwiKlwiIGNhbiBiZSB1c2VkXG5cdCAqIDUpIGV4ZWN1dGlvbiB3aWxsIHN0YXJ0IHdpdGggdHJhbnNwb3J0IGRhdGFUeXBlIGFuZCBUSEVOIGNvbnRpbnVlIGRvd24gdG8gXCIqXCIgaWYgbmVlZGVkXG5cdCAqL1xuXHRwcmVmaWx0ZXJzID0ge30sXG5cblx0LyogVHJhbnNwb3J0cyBiaW5kaW5nc1xuXHQgKiAxKSBrZXkgaXMgdGhlIGRhdGFUeXBlXG5cdCAqIDIpIHRoZSBjYXRjaGFsbCBzeW1ib2wgXCIqXCIgY2FuIGJlIHVzZWRcblx0ICogMykgc2VsZWN0aW9uIHdpbGwgc3RhcnQgd2l0aCB0cmFuc3BvcnQgZGF0YVR5cGUgYW5kIFRIRU4gZ28gdG8gXCIqXCIgaWYgbmVlZGVkXG5cdCAqL1xuXHR0cmFuc3BvcnRzID0ge30sXG5cblx0Ly8gQXZvaWQgY29tbWVudC1wcm9sb2cgY2hhciBzZXF1ZW5jZSAoIzEwMDk4KTsgbXVzdCBhcHBlYXNlIGxpbnQgYW5kIGV2YWRlIGNvbXByZXNzaW9uXG5cdGFsbFR5cGVzID0gXCIqL1wiLmNvbmNhdCggXCIqXCIgKSxcblxuXHQvLyBBbmNob3IgdGFnIGZvciBwYXJzaW5nIHRoZSBkb2N1bWVudCBvcmlnaW5cblx0b3JpZ2luQW5jaG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJhXCIgKTtcblx0b3JpZ2luQW5jaG9yLmhyZWYgPSBsb2NhdGlvbi5ocmVmO1xuXG4vLyBCYXNlIFwiY29uc3RydWN0b3JcIiBmb3IgalF1ZXJ5LmFqYXhQcmVmaWx0ZXIgYW5kIGpRdWVyeS5hamF4VHJhbnNwb3J0XG5mdW5jdGlvbiBhZGRUb1ByZWZpbHRlcnNPclRyYW5zcG9ydHMoIHN0cnVjdHVyZSApIHtcblxuXHQvLyBkYXRhVHlwZUV4cHJlc3Npb24gaXMgb3B0aW9uYWwgYW5kIGRlZmF1bHRzIHRvIFwiKlwiXG5cdHJldHVybiBmdW5jdGlvbiggZGF0YVR5cGVFeHByZXNzaW9uLCBmdW5jICkge1xuXG5cdFx0aWYgKCB0eXBlb2YgZGF0YVR5cGVFeHByZXNzaW9uICE9PSBcInN0cmluZ1wiICkge1xuXHRcdFx0ZnVuYyA9IGRhdGFUeXBlRXhwcmVzc2lvbjtcblx0XHRcdGRhdGFUeXBlRXhwcmVzc2lvbiA9IFwiKlwiO1xuXHRcdH1cblxuXHRcdHZhciBkYXRhVHlwZSxcblx0XHRcdGkgPSAwLFxuXHRcdFx0ZGF0YVR5cGVzID0gZGF0YVR5cGVFeHByZXNzaW9uLnRvTG93ZXJDYXNlKCkubWF0Y2goIHJub3RodG1sd2hpdGUgKSB8fCBbXTtcblxuXHRcdGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIGZ1bmMgKSApIHtcblxuXHRcdFx0Ly8gRm9yIGVhY2ggZGF0YVR5cGUgaW4gdGhlIGRhdGFUeXBlRXhwcmVzc2lvblxuXHRcdFx0d2hpbGUgKCAoIGRhdGFUeXBlID0gZGF0YVR5cGVzWyBpKysgXSApICkge1xuXG5cdFx0XHRcdC8vIFByZXBlbmQgaWYgcmVxdWVzdGVkXG5cdFx0XHRcdGlmICggZGF0YVR5cGVbIDAgXSA9PT0gXCIrXCIgKSB7XG5cdFx0XHRcdFx0ZGF0YVR5cGUgPSBkYXRhVHlwZS5zbGljZSggMSApIHx8IFwiKlwiO1xuXHRcdFx0XHRcdCggc3RydWN0dXJlWyBkYXRhVHlwZSBdID0gc3RydWN0dXJlWyBkYXRhVHlwZSBdIHx8IFtdICkudW5zaGlmdCggZnVuYyApO1xuXG5cdFx0XHRcdC8vIE90aGVyd2lzZSBhcHBlbmRcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHQoIHN0cnVjdHVyZVsgZGF0YVR5cGUgXSA9IHN0cnVjdHVyZVsgZGF0YVR5cGUgXSB8fCBbXSApLnB1c2goIGZ1bmMgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fTtcbn1cblxuLy8gQmFzZSBpbnNwZWN0aW9uIGZ1bmN0aW9uIGZvciBwcmVmaWx0ZXJzIGFuZCB0cmFuc3BvcnRzXG5mdW5jdGlvbiBpbnNwZWN0UHJlZmlsdGVyc09yVHJhbnNwb3J0cyggc3RydWN0dXJlLCBvcHRpb25zLCBvcmlnaW5hbE9wdGlvbnMsIGpxWEhSICkge1xuXG5cdHZhciBpbnNwZWN0ZWQgPSB7fSxcblx0XHRzZWVraW5nVHJhbnNwb3J0ID0gKCBzdHJ1Y3R1cmUgPT09IHRyYW5zcG9ydHMgKTtcblxuXHRmdW5jdGlvbiBpbnNwZWN0KCBkYXRhVHlwZSApIHtcblx0XHR2YXIgc2VsZWN0ZWQ7XG5cdFx0aW5zcGVjdGVkWyBkYXRhVHlwZSBdID0gdHJ1ZTtcblx0XHRqUXVlcnkuZWFjaCggc3RydWN0dXJlWyBkYXRhVHlwZSBdIHx8IFtdLCBmdW5jdGlvbiggXywgcHJlZmlsdGVyT3JGYWN0b3J5ICkge1xuXHRcdFx0dmFyIGRhdGFUeXBlT3JUcmFuc3BvcnQgPSBwcmVmaWx0ZXJPckZhY3RvcnkoIG9wdGlvbnMsIG9yaWdpbmFsT3B0aW9ucywganFYSFIgKTtcblx0XHRcdGlmICggdHlwZW9mIGRhdGFUeXBlT3JUcmFuc3BvcnQgPT09IFwic3RyaW5nXCIgJiZcblx0XHRcdFx0IXNlZWtpbmdUcmFuc3BvcnQgJiYgIWluc3BlY3RlZFsgZGF0YVR5cGVPclRyYW5zcG9ydCBdICkge1xuXG5cdFx0XHRcdG9wdGlvbnMuZGF0YVR5cGVzLnVuc2hpZnQoIGRhdGFUeXBlT3JUcmFuc3BvcnQgKTtcblx0XHRcdFx0aW5zcGVjdCggZGF0YVR5cGVPclRyYW5zcG9ydCApO1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9IGVsc2UgaWYgKCBzZWVraW5nVHJhbnNwb3J0ICkge1xuXHRcdFx0XHRyZXR1cm4gISggc2VsZWN0ZWQgPSBkYXRhVHlwZU9yVHJhbnNwb3J0ICk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHRcdHJldHVybiBzZWxlY3RlZDtcblx0fVxuXG5cdHJldHVybiBpbnNwZWN0KCBvcHRpb25zLmRhdGFUeXBlc1sgMCBdICkgfHwgIWluc3BlY3RlZFsgXCIqXCIgXSAmJiBpbnNwZWN0KCBcIipcIiApO1xufVxuXG4vLyBBIHNwZWNpYWwgZXh0ZW5kIGZvciBhamF4IG9wdGlvbnNcbi8vIHRoYXQgdGFrZXMgXCJmbGF0XCIgb3B0aW9ucyAobm90IHRvIGJlIGRlZXAgZXh0ZW5kZWQpXG4vLyBGaXhlcyAjOTg4N1xuZnVuY3Rpb24gYWpheEV4dGVuZCggdGFyZ2V0LCBzcmMgKSB7XG5cdHZhciBrZXksIGRlZXAsXG5cdFx0ZmxhdE9wdGlvbnMgPSBqUXVlcnkuYWpheFNldHRpbmdzLmZsYXRPcHRpb25zIHx8IHt9O1xuXG5cdGZvciAoIGtleSBpbiBzcmMgKSB7XG5cdFx0aWYgKCBzcmNbIGtleSBdICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHQoIGZsYXRPcHRpb25zWyBrZXkgXSA/IHRhcmdldCA6ICggZGVlcCB8fCAoIGRlZXAgPSB7fSApICkgKVsga2V5IF0gPSBzcmNbIGtleSBdO1xuXHRcdH1cblx0fVxuXHRpZiAoIGRlZXAgKSB7XG5cdFx0alF1ZXJ5LmV4dGVuZCggdHJ1ZSwgdGFyZ2V0LCBkZWVwICk7XG5cdH1cblxuXHRyZXR1cm4gdGFyZ2V0O1xufVxuXG4vKiBIYW5kbGVzIHJlc3BvbnNlcyB0byBhbiBhamF4IHJlcXVlc3Q6XG4gKiAtIGZpbmRzIHRoZSByaWdodCBkYXRhVHlwZSAobWVkaWF0ZXMgYmV0d2VlbiBjb250ZW50LXR5cGUgYW5kIGV4cGVjdGVkIGRhdGFUeXBlKVxuICogLSByZXR1cm5zIHRoZSBjb3JyZXNwb25kaW5nIHJlc3BvbnNlXG4gKi9cbmZ1bmN0aW9uIGFqYXhIYW5kbGVSZXNwb25zZXMoIHMsIGpxWEhSLCByZXNwb25zZXMgKSB7XG5cblx0dmFyIGN0LCB0eXBlLCBmaW5hbERhdGFUeXBlLCBmaXJzdERhdGFUeXBlLFxuXHRcdGNvbnRlbnRzID0gcy5jb250ZW50cyxcblx0XHRkYXRhVHlwZXMgPSBzLmRhdGFUeXBlcztcblxuXHQvLyBSZW1vdmUgYXV0byBkYXRhVHlwZSBhbmQgZ2V0IGNvbnRlbnQtdHlwZSBpbiB0aGUgcHJvY2Vzc1xuXHR3aGlsZSAoIGRhdGFUeXBlc1sgMCBdID09PSBcIipcIiApIHtcblx0XHRkYXRhVHlwZXMuc2hpZnQoKTtcblx0XHRpZiAoIGN0ID09PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRjdCA9IHMubWltZVR5cGUgfHwganFYSFIuZ2V0UmVzcG9uc2VIZWFkZXIoIFwiQ29udGVudC1UeXBlXCIgKTtcblx0XHR9XG5cdH1cblxuXHQvLyBDaGVjayBpZiB3ZSdyZSBkZWFsaW5nIHdpdGggYSBrbm93biBjb250ZW50LXR5cGVcblx0aWYgKCBjdCApIHtcblx0XHRmb3IgKCB0eXBlIGluIGNvbnRlbnRzICkge1xuXHRcdFx0aWYgKCBjb250ZW50c1sgdHlwZSBdICYmIGNvbnRlbnRzWyB0eXBlIF0udGVzdCggY3QgKSApIHtcblx0XHRcdFx0ZGF0YVR5cGVzLnVuc2hpZnQoIHR5cGUgKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Ly8gQ2hlY2sgdG8gc2VlIGlmIHdlIGhhdmUgYSByZXNwb25zZSBmb3IgdGhlIGV4cGVjdGVkIGRhdGFUeXBlXG5cdGlmICggZGF0YVR5cGVzWyAwIF0gaW4gcmVzcG9uc2VzICkge1xuXHRcdGZpbmFsRGF0YVR5cGUgPSBkYXRhVHlwZXNbIDAgXTtcblx0fSBlbHNlIHtcblxuXHRcdC8vIFRyeSBjb252ZXJ0aWJsZSBkYXRhVHlwZXNcblx0XHRmb3IgKCB0eXBlIGluIHJlc3BvbnNlcyApIHtcblx0XHRcdGlmICggIWRhdGFUeXBlc1sgMCBdIHx8IHMuY29udmVydGVyc1sgdHlwZSArIFwiIFwiICsgZGF0YVR5cGVzWyAwIF0gXSApIHtcblx0XHRcdFx0ZmluYWxEYXRhVHlwZSA9IHR5cGU7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCAhZmlyc3REYXRhVHlwZSApIHtcblx0XHRcdFx0Zmlyc3REYXRhVHlwZSA9IHR5cGU7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gT3IganVzdCB1c2UgZmlyc3Qgb25lXG5cdFx0ZmluYWxEYXRhVHlwZSA9IGZpbmFsRGF0YVR5cGUgfHwgZmlyc3REYXRhVHlwZTtcblx0fVxuXG5cdC8vIElmIHdlIGZvdW5kIGEgZGF0YVR5cGVcblx0Ly8gV2UgYWRkIHRoZSBkYXRhVHlwZSB0byB0aGUgbGlzdCBpZiBuZWVkZWRcblx0Ly8gYW5kIHJldHVybiB0aGUgY29ycmVzcG9uZGluZyByZXNwb25zZVxuXHRpZiAoIGZpbmFsRGF0YVR5cGUgKSB7XG5cdFx0aWYgKCBmaW5hbERhdGFUeXBlICE9PSBkYXRhVHlwZXNbIDAgXSApIHtcblx0XHRcdGRhdGFUeXBlcy51bnNoaWZ0KCBmaW5hbERhdGFUeXBlICk7XG5cdFx0fVxuXHRcdHJldHVybiByZXNwb25zZXNbIGZpbmFsRGF0YVR5cGUgXTtcblx0fVxufVxuXG4vKiBDaGFpbiBjb252ZXJzaW9ucyBnaXZlbiB0aGUgcmVxdWVzdCBhbmQgdGhlIG9yaWdpbmFsIHJlc3BvbnNlXG4gKiBBbHNvIHNldHMgdGhlIHJlc3BvbnNlWFhYIGZpZWxkcyBvbiB0aGUganFYSFIgaW5zdGFuY2VcbiAqL1xuZnVuY3Rpb24gYWpheENvbnZlcnQoIHMsIHJlc3BvbnNlLCBqcVhIUiwgaXNTdWNjZXNzICkge1xuXHR2YXIgY29udjIsIGN1cnJlbnQsIGNvbnYsIHRtcCwgcHJldixcblx0XHRjb252ZXJ0ZXJzID0ge30sXG5cblx0XHQvLyBXb3JrIHdpdGggYSBjb3B5IG9mIGRhdGFUeXBlcyBpbiBjYXNlIHdlIG5lZWQgdG8gbW9kaWZ5IGl0IGZvciBjb252ZXJzaW9uXG5cdFx0ZGF0YVR5cGVzID0gcy5kYXRhVHlwZXMuc2xpY2UoKTtcblxuXHQvLyBDcmVhdGUgY29udmVydGVycyBtYXAgd2l0aCBsb3dlcmNhc2VkIGtleXNcblx0aWYgKCBkYXRhVHlwZXNbIDEgXSApIHtcblx0XHRmb3IgKCBjb252IGluIHMuY29udmVydGVycyApIHtcblx0XHRcdGNvbnZlcnRlcnNbIGNvbnYudG9Mb3dlckNhc2UoKSBdID0gcy5jb252ZXJ0ZXJzWyBjb252IF07XG5cdFx0fVxuXHR9XG5cblx0Y3VycmVudCA9IGRhdGFUeXBlcy5zaGlmdCgpO1xuXG5cdC8vIENvbnZlcnQgdG8gZWFjaCBzZXF1ZW50aWFsIGRhdGFUeXBlXG5cdHdoaWxlICggY3VycmVudCApIHtcblxuXHRcdGlmICggcy5yZXNwb25zZUZpZWxkc1sgY3VycmVudCBdICkge1xuXHRcdFx0anFYSFJbIHMucmVzcG9uc2VGaWVsZHNbIGN1cnJlbnQgXSBdID0gcmVzcG9uc2U7XG5cdFx0fVxuXG5cdFx0Ly8gQXBwbHkgdGhlIGRhdGFGaWx0ZXIgaWYgcHJvdmlkZWRcblx0XHRpZiAoICFwcmV2ICYmIGlzU3VjY2VzcyAmJiBzLmRhdGFGaWx0ZXIgKSB7XG5cdFx0XHRyZXNwb25zZSA9IHMuZGF0YUZpbHRlciggcmVzcG9uc2UsIHMuZGF0YVR5cGUgKTtcblx0XHR9XG5cblx0XHRwcmV2ID0gY3VycmVudDtcblx0XHRjdXJyZW50ID0gZGF0YVR5cGVzLnNoaWZ0KCk7XG5cblx0XHRpZiAoIGN1cnJlbnQgKSB7XG5cblx0XHRcdC8vIFRoZXJlJ3Mgb25seSB3b3JrIHRvIGRvIGlmIGN1cnJlbnQgZGF0YVR5cGUgaXMgbm9uLWF1dG9cblx0XHRcdGlmICggY3VycmVudCA9PT0gXCIqXCIgKSB7XG5cblx0XHRcdFx0Y3VycmVudCA9IHByZXY7XG5cblx0XHRcdC8vIENvbnZlcnQgcmVzcG9uc2UgaWYgcHJldiBkYXRhVHlwZSBpcyBub24tYXV0byBhbmQgZGlmZmVycyBmcm9tIGN1cnJlbnRcblx0XHRcdH0gZWxzZSBpZiAoIHByZXYgIT09IFwiKlwiICYmIHByZXYgIT09IGN1cnJlbnQgKSB7XG5cblx0XHRcdFx0Ly8gU2VlayBhIGRpcmVjdCBjb252ZXJ0ZXJcblx0XHRcdFx0Y29udiA9IGNvbnZlcnRlcnNbIHByZXYgKyBcIiBcIiArIGN1cnJlbnQgXSB8fCBjb252ZXJ0ZXJzWyBcIiogXCIgKyBjdXJyZW50IF07XG5cblx0XHRcdFx0Ly8gSWYgbm9uZSBmb3VuZCwgc2VlayBhIHBhaXJcblx0XHRcdFx0aWYgKCAhY29udiApIHtcblx0XHRcdFx0XHRmb3IgKCBjb252MiBpbiBjb252ZXJ0ZXJzICkge1xuXG5cdFx0XHRcdFx0XHQvLyBJZiBjb252MiBvdXRwdXRzIGN1cnJlbnRcblx0XHRcdFx0XHRcdHRtcCA9IGNvbnYyLnNwbGl0KCBcIiBcIiApO1xuXHRcdFx0XHRcdFx0aWYgKCB0bXBbIDEgXSA9PT0gY3VycmVudCApIHtcblxuXHRcdFx0XHRcdFx0XHQvLyBJZiBwcmV2IGNhbiBiZSBjb252ZXJ0ZWQgdG8gYWNjZXB0ZWQgaW5wdXRcblx0XHRcdFx0XHRcdFx0Y29udiA9IGNvbnZlcnRlcnNbIHByZXYgKyBcIiBcIiArIHRtcFsgMCBdIF0gfHxcblx0XHRcdFx0XHRcdFx0XHRjb252ZXJ0ZXJzWyBcIiogXCIgKyB0bXBbIDAgXSBdO1xuXHRcdFx0XHRcdFx0XHRpZiAoIGNvbnYgKSB7XG5cblx0XHRcdFx0XHRcdFx0XHQvLyBDb25kZW5zZSBlcXVpdmFsZW5jZSBjb252ZXJ0ZXJzXG5cdFx0XHRcdFx0XHRcdFx0aWYgKCBjb252ID09PSB0cnVlICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0Y29udiA9IGNvbnZlcnRlcnNbIGNvbnYyIF07XG5cblx0XHRcdFx0XHRcdFx0XHQvLyBPdGhlcndpc2UsIGluc2VydCB0aGUgaW50ZXJtZWRpYXRlIGRhdGFUeXBlXG5cdFx0XHRcdFx0XHRcdFx0fSBlbHNlIGlmICggY29udmVydGVyc1sgY29udjIgXSAhPT0gdHJ1ZSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdGN1cnJlbnQgPSB0bXBbIDAgXTtcblx0XHRcdFx0XHRcdFx0XHRcdGRhdGFUeXBlcy51bnNoaWZ0KCB0bXBbIDEgXSApO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIEFwcGx5IGNvbnZlcnRlciAoaWYgbm90IGFuIGVxdWl2YWxlbmNlKVxuXHRcdFx0XHRpZiAoIGNvbnYgIT09IHRydWUgKSB7XG5cblx0XHRcdFx0XHQvLyBVbmxlc3MgZXJyb3JzIGFyZSBhbGxvd2VkIHRvIGJ1YmJsZSwgY2F0Y2ggYW5kIHJldHVybiB0aGVtXG5cdFx0XHRcdFx0aWYgKCBjb252ICYmIHMudGhyb3dzICkge1xuXHRcdFx0XHRcdFx0cmVzcG9uc2UgPSBjb252KCByZXNwb25zZSApO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0XHRyZXNwb25zZSA9IGNvbnYoIHJlc3BvbnNlICk7XG5cdFx0XHRcdFx0XHR9IGNhdGNoICggZSApIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHRcdFx0XHRzdGF0ZTogXCJwYXJzZXJlcnJvclwiLFxuXHRcdFx0XHRcdFx0XHRcdGVycm9yOiBjb252ID8gZSA6IFwiTm8gY29udmVyc2lvbiBmcm9tIFwiICsgcHJldiArIFwiIHRvIFwiICsgY3VycmVudFxuXHRcdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiB7IHN0YXRlOiBcInN1Y2Nlc3NcIiwgZGF0YTogcmVzcG9uc2UgfTtcbn1cblxualF1ZXJ5LmV4dGVuZCgge1xuXG5cdC8vIENvdW50ZXIgZm9yIGhvbGRpbmcgdGhlIG51bWJlciBvZiBhY3RpdmUgcXVlcmllc1xuXHRhY3RpdmU6IDAsXG5cblx0Ly8gTGFzdC1Nb2RpZmllZCBoZWFkZXIgY2FjaGUgZm9yIG5leHQgcmVxdWVzdFxuXHRsYXN0TW9kaWZpZWQ6IHt9LFxuXHRldGFnOiB7fSxcblxuXHRhamF4U2V0dGluZ3M6IHtcblx0XHR1cmw6IGxvY2F0aW9uLmhyZWYsXG5cdFx0dHlwZTogXCJHRVRcIixcblx0XHRpc0xvY2FsOiBybG9jYWxQcm90b2NvbC50ZXN0KCBsb2NhdGlvbi5wcm90b2NvbCApLFxuXHRcdGdsb2JhbDogdHJ1ZSxcblx0XHRwcm9jZXNzRGF0YTogdHJ1ZSxcblx0XHRhc3luYzogdHJ1ZSxcblx0XHRjb250ZW50VHlwZTogXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7IGNoYXJzZXQ9VVRGLThcIixcblxuXHRcdC8qXG5cdFx0dGltZW91dDogMCxcblx0XHRkYXRhOiBudWxsLFxuXHRcdGRhdGFUeXBlOiBudWxsLFxuXHRcdHVzZXJuYW1lOiBudWxsLFxuXHRcdHBhc3N3b3JkOiBudWxsLFxuXHRcdGNhY2hlOiBudWxsLFxuXHRcdHRocm93czogZmFsc2UsXG5cdFx0dHJhZGl0aW9uYWw6IGZhbHNlLFxuXHRcdGhlYWRlcnM6IHt9LFxuXHRcdCovXG5cblx0XHRhY2NlcHRzOiB7XG5cdFx0XHRcIipcIjogYWxsVHlwZXMsXG5cdFx0XHR0ZXh0OiBcInRleHQvcGxhaW5cIixcblx0XHRcdGh0bWw6IFwidGV4dC9odG1sXCIsXG5cdFx0XHR4bWw6IFwiYXBwbGljYXRpb24veG1sLCB0ZXh0L3htbFwiLFxuXHRcdFx0anNvbjogXCJhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L2phdmFzY3JpcHRcIlxuXHRcdH0sXG5cblx0XHRjb250ZW50czoge1xuXHRcdFx0eG1sOiAvXFxieG1sXFxiLyxcblx0XHRcdGh0bWw6IC9cXGJodG1sLyxcblx0XHRcdGpzb246IC9cXGJqc29uXFxiL1xuXHRcdH0sXG5cblx0XHRyZXNwb25zZUZpZWxkczoge1xuXHRcdFx0eG1sOiBcInJlc3BvbnNlWE1MXCIsXG5cdFx0XHR0ZXh0OiBcInJlc3BvbnNlVGV4dFwiLFxuXHRcdFx0anNvbjogXCJyZXNwb25zZUpTT05cIlxuXHRcdH0sXG5cblx0XHQvLyBEYXRhIGNvbnZlcnRlcnNcblx0XHQvLyBLZXlzIHNlcGFyYXRlIHNvdXJjZSAob3IgY2F0Y2hhbGwgXCIqXCIpIGFuZCBkZXN0aW5hdGlvbiB0eXBlcyB3aXRoIGEgc2luZ2xlIHNwYWNlXG5cdFx0Y29udmVydGVyczoge1xuXG5cdFx0XHQvLyBDb252ZXJ0IGFueXRoaW5nIHRvIHRleHRcblx0XHRcdFwiKiB0ZXh0XCI6IFN0cmluZyxcblxuXHRcdFx0Ly8gVGV4dCB0byBodG1sICh0cnVlID0gbm8gdHJhbnNmb3JtYXRpb24pXG5cdFx0XHRcInRleHQgaHRtbFwiOiB0cnVlLFxuXG5cdFx0XHQvLyBFdmFsdWF0ZSB0ZXh0IGFzIGEganNvbiBleHByZXNzaW9uXG5cdFx0XHRcInRleHQganNvblwiOiBKU09OLnBhcnNlLFxuXG5cdFx0XHQvLyBQYXJzZSB0ZXh0IGFzIHhtbFxuXHRcdFx0XCJ0ZXh0IHhtbFwiOiBqUXVlcnkucGFyc2VYTUxcblx0XHR9LFxuXG5cdFx0Ly8gRm9yIG9wdGlvbnMgdGhhdCBzaG91bGRuJ3QgYmUgZGVlcCBleHRlbmRlZDpcblx0XHQvLyB5b3UgY2FuIGFkZCB5b3VyIG93biBjdXN0b20gb3B0aW9ucyBoZXJlIGlmXG5cdFx0Ly8gYW5kIHdoZW4geW91IGNyZWF0ZSBvbmUgdGhhdCBzaG91bGRuJ3QgYmVcblx0XHQvLyBkZWVwIGV4dGVuZGVkIChzZWUgYWpheEV4dGVuZClcblx0XHRmbGF0T3B0aW9uczoge1xuXHRcdFx0dXJsOiB0cnVlLFxuXHRcdFx0Y29udGV4dDogdHJ1ZVxuXHRcdH1cblx0fSxcblxuXHQvLyBDcmVhdGVzIGEgZnVsbCBmbGVkZ2VkIHNldHRpbmdzIG9iamVjdCBpbnRvIHRhcmdldFxuXHQvLyB3aXRoIGJvdGggYWpheFNldHRpbmdzIGFuZCBzZXR0aW5ncyBmaWVsZHMuXG5cdC8vIElmIHRhcmdldCBpcyBvbWl0dGVkLCB3cml0ZXMgaW50byBhamF4U2V0dGluZ3MuXG5cdGFqYXhTZXR1cDogZnVuY3Rpb24oIHRhcmdldCwgc2V0dGluZ3MgKSB7XG5cdFx0cmV0dXJuIHNldHRpbmdzID9cblxuXHRcdFx0Ly8gQnVpbGRpbmcgYSBzZXR0aW5ncyBvYmplY3Rcblx0XHRcdGFqYXhFeHRlbmQoIGFqYXhFeHRlbmQoIHRhcmdldCwgalF1ZXJ5LmFqYXhTZXR0aW5ncyApLCBzZXR0aW5ncyApIDpcblxuXHRcdFx0Ly8gRXh0ZW5kaW5nIGFqYXhTZXR0aW5nc1xuXHRcdFx0YWpheEV4dGVuZCggalF1ZXJ5LmFqYXhTZXR0aW5ncywgdGFyZ2V0ICk7XG5cdH0sXG5cblx0YWpheFByZWZpbHRlcjogYWRkVG9QcmVmaWx0ZXJzT3JUcmFuc3BvcnRzKCBwcmVmaWx0ZXJzICksXG5cdGFqYXhUcmFuc3BvcnQ6IGFkZFRvUHJlZmlsdGVyc09yVHJhbnNwb3J0cyggdHJhbnNwb3J0cyApLFxuXG5cdC8vIE1haW4gbWV0aG9kXG5cdGFqYXg6IGZ1bmN0aW9uKCB1cmwsIG9wdGlvbnMgKSB7XG5cblx0XHQvLyBJZiB1cmwgaXMgYW4gb2JqZWN0LCBzaW11bGF0ZSBwcmUtMS41IHNpZ25hdHVyZVxuXHRcdGlmICggdHlwZW9mIHVybCA9PT0gXCJvYmplY3RcIiApIHtcblx0XHRcdG9wdGlvbnMgPSB1cmw7XG5cdFx0XHR1cmwgPSB1bmRlZmluZWQ7XG5cdFx0fVxuXG5cdFx0Ly8gRm9yY2Ugb3B0aW9ucyB0byBiZSBhbiBvYmplY3Rcblx0XHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuXHRcdHZhciB0cmFuc3BvcnQsXG5cblx0XHRcdC8vIFVSTCB3aXRob3V0IGFudGktY2FjaGUgcGFyYW1cblx0XHRcdGNhY2hlVVJMLFxuXG5cdFx0XHQvLyBSZXNwb25zZSBoZWFkZXJzXG5cdFx0XHRyZXNwb25zZUhlYWRlcnNTdHJpbmcsXG5cdFx0XHRyZXNwb25zZUhlYWRlcnMsXG5cblx0XHRcdC8vIHRpbWVvdXQgaGFuZGxlXG5cdFx0XHR0aW1lb3V0VGltZXIsXG5cblx0XHRcdC8vIFVybCBjbGVhbnVwIHZhclxuXHRcdFx0dXJsQW5jaG9yLFxuXG5cdFx0XHQvLyBSZXF1ZXN0IHN0YXRlIChiZWNvbWVzIGZhbHNlIHVwb24gc2VuZCBhbmQgdHJ1ZSB1cG9uIGNvbXBsZXRpb24pXG5cdFx0XHRjb21wbGV0ZWQsXG5cblx0XHRcdC8vIFRvIGtub3cgaWYgZ2xvYmFsIGV2ZW50cyBhcmUgdG8gYmUgZGlzcGF0Y2hlZFxuXHRcdFx0ZmlyZUdsb2JhbHMsXG5cblx0XHRcdC8vIExvb3AgdmFyaWFibGVcblx0XHRcdGksXG5cblx0XHRcdC8vIHVuY2FjaGVkIHBhcnQgb2YgdGhlIHVybFxuXHRcdFx0dW5jYWNoZWQsXG5cblx0XHRcdC8vIENyZWF0ZSB0aGUgZmluYWwgb3B0aW9ucyBvYmplY3Rcblx0XHRcdHMgPSBqUXVlcnkuYWpheFNldHVwKCB7fSwgb3B0aW9ucyApLFxuXG5cdFx0XHQvLyBDYWxsYmFja3MgY29udGV4dFxuXHRcdFx0Y2FsbGJhY2tDb250ZXh0ID0gcy5jb250ZXh0IHx8IHMsXG5cblx0XHRcdC8vIENvbnRleHQgZm9yIGdsb2JhbCBldmVudHMgaXMgY2FsbGJhY2tDb250ZXh0IGlmIGl0IGlzIGEgRE9NIG5vZGUgb3IgalF1ZXJ5IGNvbGxlY3Rpb25cblx0XHRcdGdsb2JhbEV2ZW50Q29udGV4dCA9IHMuY29udGV4dCAmJlxuXHRcdFx0XHQoIGNhbGxiYWNrQ29udGV4dC5ub2RlVHlwZSB8fCBjYWxsYmFja0NvbnRleHQuanF1ZXJ5ICkgP1xuXHRcdFx0XHRcdGpRdWVyeSggY2FsbGJhY2tDb250ZXh0ICkgOlxuXHRcdFx0XHRcdGpRdWVyeS5ldmVudCxcblxuXHRcdFx0Ly8gRGVmZXJyZWRzXG5cdFx0XHRkZWZlcnJlZCA9IGpRdWVyeS5EZWZlcnJlZCgpLFxuXHRcdFx0Y29tcGxldGVEZWZlcnJlZCA9IGpRdWVyeS5DYWxsYmFja3MoIFwib25jZSBtZW1vcnlcIiApLFxuXG5cdFx0XHQvLyBTdGF0dXMtZGVwZW5kZW50IGNhbGxiYWNrc1xuXHRcdFx0c3RhdHVzQ29kZSA9IHMuc3RhdHVzQ29kZSB8fCB7fSxcblxuXHRcdFx0Ly8gSGVhZGVycyAodGhleSBhcmUgc2VudCBhbGwgYXQgb25jZSlcblx0XHRcdHJlcXVlc3RIZWFkZXJzID0ge30sXG5cdFx0XHRyZXF1ZXN0SGVhZGVyc05hbWVzID0ge30sXG5cblx0XHRcdC8vIERlZmF1bHQgYWJvcnQgbWVzc2FnZVxuXHRcdFx0c3RyQWJvcnQgPSBcImNhbmNlbGVkXCIsXG5cblx0XHRcdC8vIEZha2UgeGhyXG5cdFx0XHRqcVhIUiA9IHtcblx0XHRcdFx0cmVhZHlTdGF0ZTogMCxcblxuXHRcdFx0XHQvLyBCdWlsZHMgaGVhZGVycyBoYXNodGFibGUgaWYgbmVlZGVkXG5cdFx0XHRcdGdldFJlc3BvbnNlSGVhZGVyOiBmdW5jdGlvbigga2V5ICkge1xuXHRcdFx0XHRcdHZhciBtYXRjaDtcblx0XHRcdFx0XHRpZiAoIGNvbXBsZXRlZCApIHtcblx0XHRcdFx0XHRcdGlmICggIXJlc3BvbnNlSGVhZGVycyApIHtcblx0XHRcdFx0XHRcdFx0cmVzcG9uc2VIZWFkZXJzID0ge307XG5cdFx0XHRcdFx0XHRcdHdoaWxlICggKCBtYXRjaCA9IHJoZWFkZXJzLmV4ZWMoIHJlc3BvbnNlSGVhZGVyc1N0cmluZyApICkgKSB7XG5cdFx0XHRcdFx0XHRcdFx0cmVzcG9uc2VIZWFkZXJzWyBtYXRjaFsgMSBdLnRvTG93ZXJDYXNlKCkgXSA9IG1hdGNoWyAyIF07XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdG1hdGNoID0gcmVzcG9uc2VIZWFkZXJzWyBrZXkudG9Mb3dlckNhc2UoKSBdO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm4gbWF0Y2ggPT0gbnVsbCA/IG51bGwgOiBtYXRjaDtcblx0XHRcdFx0fSxcblxuXHRcdFx0XHQvLyBSYXcgc3RyaW5nXG5cdFx0XHRcdGdldEFsbFJlc3BvbnNlSGVhZGVyczogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGNvbXBsZXRlZCA/IHJlc3BvbnNlSGVhZGVyc1N0cmluZyA6IG51bGw7XG5cdFx0XHRcdH0sXG5cblx0XHRcdFx0Ly8gQ2FjaGVzIHRoZSBoZWFkZXJcblx0XHRcdFx0c2V0UmVxdWVzdEhlYWRlcjogZnVuY3Rpb24oIG5hbWUsIHZhbHVlICkge1xuXHRcdFx0XHRcdGlmICggY29tcGxldGVkID09IG51bGwgKSB7XG5cdFx0XHRcdFx0XHRuYW1lID0gcmVxdWVzdEhlYWRlcnNOYW1lc1sgbmFtZS50b0xvd2VyQ2FzZSgpIF0gPVxuXHRcdFx0XHRcdFx0XHRyZXF1ZXN0SGVhZGVyc05hbWVzWyBuYW1lLnRvTG93ZXJDYXNlKCkgXSB8fCBuYW1lO1xuXHRcdFx0XHRcdFx0cmVxdWVzdEhlYWRlcnNbIG5hbWUgXSA9IHZhbHVlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdFx0fSxcblxuXHRcdFx0XHQvLyBPdmVycmlkZXMgcmVzcG9uc2UgY29udGVudC10eXBlIGhlYWRlclxuXHRcdFx0XHRvdmVycmlkZU1pbWVUeXBlOiBmdW5jdGlvbiggdHlwZSApIHtcblx0XHRcdFx0XHRpZiAoIGNvbXBsZXRlZCA9PSBudWxsICkge1xuXHRcdFx0XHRcdFx0cy5taW1lVHlwZSA9IHR5cGU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0XHR9LFxuXG5cdFx0XHRcdC8vIFN0YXR1cy1kZXBlbmRlbnQgY2FsbGJhY2tzXG5cdFx0XHRcdHN0YXR1c0NvZGU6IGZ1bmN0aW9uKCBtYXAgKSB7XG5cdFx0XHRcdFx0dmFyIGNvZGU7XG5cdFx0XHRcdFx0aWYgKCBtYXAgKSB7XG5cdFx0XHRcdFx0XHRpZiAoIGNvbXBsZXRlZCApIHtcblxuXHRcdFx0XHRcdFx0XHQvLyBFeGVjdXRlIHRoZSBhcHByb3ByaWF0ZSBjYWxsYmFja3Ncblx0XHRcdFx0XHRcdFx0anFYSFIuYWx3YXlzKCBtYXBbIGpxWEhSLnN0YXR1cyBdICk7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0XHRcdC8vIExhenktYWRkIHRoZSBuZXcgY2FsbGJhY2tzIGluIGEgd2F5IHRoYXQgcHJlc2VydmVzIG9sZCBvbmVzXG5cdFx0XHRcdFx0XHRcdGZvciAoIGNvZGUgaW4gbWFwICkge1xuXHRcdFx0XHRcdFx0XHRcdHN0YXR1c0NvZGVbIGNvZGUgXSA9IFsgc3RhdHVzQ29kZVsgY29kZSBdLCBtYXBbIGNvZGUgXSBdO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0XHR9LFxuXG5cdFx0XHRcdC8vIENhbmNlbCB0aGUgcmVxdWVzdFxuXHRcdFx0XHRhYm9ydDogZnVuY3Rpb24oIHN0YXR1c1RleHQgKSB7XG5cdFx0XHRcdFx0dmFyIGZpbmFsVGV4dCA9IHN0YXR1c1RleHQgfHwgc3RyQWJvcnQ7XG5cdFx0XHRcdFx0aWYgKCB0cmFuc3BvcnQgKSB7XG5cdFx0XHRcdFx0XHR0cmFuc3BvcnQuYWJvcnQoIGZpbmFsVGV4dCApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRkb25lKCAwLCBmaW5hbFRleHQgKTtcblx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdFx0fVxuXHRcdFx0fTtcblxuXHRcdC8vIEF0dGFjaCBkZWZlcnJlZHNcblx0XHRkZWZlcnJlZC5wcm9taXNlKCBqcVhIUiApO1xuXG5cdFx0Ly8gQWRkIHByb3RvY29sIGlmIG5vdCBwcm92aWRlZCAocHJlZmlsdGVycyBtaWdodCBleHBlY3QgaXQpXG5cdFx0Ly8gSGFuZGxlIGZhbHN5IHVybCBpbiB0aGUgc2V0dGluZ3Mgb2JqZWN0ICgjMTAwOTM6IGNvbnNpc3RlbmN5IHdpdGggb2xkIHNpZ25hdHVyZSlcblx0XHQvLyBXZSBhbHNvIHVzZSB0aGUgdXJsIHBhcmFtZXRlciBpZiBhdmFpbGFibGVcblx0XHRzLnVybCA9ICggKCB1cmwgfHwgcy51cmwgfHwgbG9jYXRpb24uaHJlZiApICsgXCJcIiApXG5cdFx0XHQucmVwbGFjZSggcnByb3RvY29sLCBsb2NhdGlvbi5wcm90b2NvbCArIFwiLy9cIiApO1xuXG5cdFx0Ly8gQWxpYXMgbWV0aG9kIG9wdGlvbiB0byB0eXBlIGFzIHBlciB0aWNrZXQgIzEyMDA0XG5cdFx0cy50eXBlID0gb3B0aW9ucy5tZXRob2QgfHwgb3B0aW9ucy50eXBlIHx8IHMubWV0aG9kIHx8IHMudHlwZTtcblxuXHRcdC8vIEV4dHJhY3QgZGF0YVR5cGVzIGxpc3Rcblx0XHRzLmRhdGFUeXBlcyA9ICggcy5kYXRhVHlwZSB8fCBcIipcIiApLnRvTG93ZXJDYXNlKCkubWF0Y2goIHJub3RodG1sd2hpdGUgKSB8fCBbIFwiXCIgXTtcblxuXHRcdC8vIEEgY3Jvc3MtZG9tYWluIHJlcXVlc3QgaXMgaW4gb3JkZXIgd2hlbiB0aGUgb3JpZ2luIGRvZXNuJ3QgbWF0Y2ggdGhlIGN1cnJlbnQgb3JpZ2luLlxuXHRcdGlmICggcy5jcm9zc0RvbWFpbiA9PSBudWxsICkge1xuXHRcdFx0dXJsQW5jaG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJhXCIgKTtcblxuXHRcdFx0Ly8gU3VwcG9ydDogSUUgPD04IC0gMTEsIEVkZ2UgMTIgLSAxM1xuXHRcdFx0Ly8gSUUgdGhyb3dzIGV4Y2VwdGlvbiBvbiBhY2Nlc3NpbmcgdGhlIGhyZWYgcHJvcGVydHkgaWYgdXJsIGlzIG1hbGZvcm1lZCxcblx0XHRcdC8vIGUuZy4gaHR0cDovL2V4YW1wbGUuY29tOjgweC9cblx0XHRcdHRyeSB7XG5cdFx0XHRcdHVybEFuY2hvci5ocmVmID0gcy51cmw7XG5cblx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgPD04IC0gMTEgb25seVxuXHRcdFx0XHQvLyBBbmNob3IncyBob3N0IHByb3BlcnR5IGlzbid0IGNvcnJlY3RseSBzZXQgd2hlbiBzLnVybCBpcyByZWxhdGl2ZVxuXHRcdFx0XHR1cmxBbmNob3IuaHJlZiA9IHVybEFuY2hvci5ocmVmO1xuXHRcdFx0XHRzLmNyb3NzRG9tYWluID0gb3JpZ2luQW5jaG9yLnByb3RvY29sICsgXCIvL1wiICsgb3JpZ2luQW5jaG9yLmhvc3QgIT09XG5cdFx0XHRcdFx0dXJsQW5jaG9yLnByb3RvY29sICsgXCIvL1wiICsgdXJsQW5jaG9yLmhvc3Q7XG5cdFx0XHR9IGNhdGNoICggZSApIHtcblxuXHRcdFx0XHQvLyBJZiB0aGVyZSBpcyBhbiBlcnJvciBwYXJzaW5nIHRoZSBVUkwsIGFzc3VtZSBpdCBpcyBjcm9zc0RvbWFpbixcblx0XHRcdFx0Ly8gaXQgY2FuIGJlIHJlamVjdGVkIGJ5IHRoZSB0cmFuc3BvcnQgaWYgaXQgaXMgaW52YWxpZFxuXHRcdFx0XHRzLmNyb3NzRG9tYWluID0gdHJ1ZTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBDb252ZXJ0IGRhdGEgaWYgbm90IGFscmVhZHkgYSBzdHJpbmdcblx0XHRpZiAoIHMuZGF0YSAmJiBzLnByb2Nlc3NEYXRhICYmIHR5cGVvZiBzLmRhdGEgIT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRzLmRhdGEgPSBqUXVlcnkucGFyYW0oIHMuZGF0YSwgcy50cmFkaXRpb25hbCApO1xuXHRcdH1cblxuXHRcdC8vIEFwcGx5IHByZWZpbHRlcnNcblx0XHRpbnNwZWN0UHJlZmlsdGVyc09yVHJhbnNwb3J0cyggcHJlZmlsdGVycywgcywgb3B0aW9ucywganFYSFIgKTtcblxuXHRcdC8vIElmIHJlcXVlc3Qgd2FzIGFib3J0ZWQgaW5zaWRlIGEgcHJlZmlsdGVyLCBzdG9wIHRoZXJlXG5cdFx0aWYgKCBjb21wbGV0ZWQgKSB7XG5cdFx0XHRyZXR1cm4ganFYSFI7XG5cdFx0fVxuXG5cdFx0Ly8gV2UgY2FuIGZpcmUgZ2xvYmFsIGV2ZW50cyBhcyBvZiBub3cgaWYgYXNrZWQgdG9cblx0XHQvLyBEb24ndCBmaXJlIGV2ZW50cyBpZiBqUXVlcnkuZXZlbnQgaXMgdW5kZWZpbmVkIGluIGFuIEFNRC11c2FnZSBzY2VuYXJpbyAoIzE1MTE4KVxuXHRcdGZpcmVHbG9iYWxzID0galF1ZXJ5LmV2ZW50ICYmIHMuZ2xvYmFsO1xuXG5cdFx0Ly8gV2F0Y2ggZm9yIGEgbmV3IHNldCBvZiByZXF1ZXN0c1xuXHRcdGlmICggZmlyZUdsb2JhbHMgJiYgalF1ZXJ5LmFjdGl2ZSsrID09PSAwICkge1xuXHRcdFx0alF1ZXJ5LmV2ZW50LnRyaWdnZXIoIFwiYWpheFN0YXJ0XCIgKTtcblx0XHR9XG5cblx0XHQvLyBVcHBlcmNhc2UgdGhlIHR5cGVcblx0XHRzLnR5cGUgPSBzLnR5cGUudG9VcHBlckNhc2UoKTtcblxuXHRcdC8vIERldGVybWluZSBpZiByZXF1ZXN0IGhhcyBjb250ZW50XG5cdFx0cy5oYXNDb250ZW50ID0gIXJub0NvbnRlbnQudGVzdCggcy50eXBlICk7XG5cblx0XHQvLyBTYXZlIHRoZSBVUkwgaW4gY2FzZSB3ZSdyZSB0b3lpbmcgd2l0aCB0aGUgSWYtTW9kaWZpZWQtU2luY2Vcblx0XHQvLyBhbmQvb3IgSWYtTm9uZS1NYXRjaCBoZWFkZXIgbGF0ZXIgb25cblx0XHQvLyBSZW1vdmUgaGFzaCB0byBzaW1wbGlmeSB1cmwgbWFuaXB1bGF0aW9uXG5cdFx0Y2FjaGVVUkwgPSBzLnVybC5yZXBsYWNlKCByaGFzaCwgXCJcIiApO1xuXG5cdFx0Ly8gTW9yZSBvcHRpb25zIGhhbmRsaW5nIGZvciByZXF1ZXN0cyB3aXRoIG5vIGNvbnRlbnRcblx0XHRpZiAoICFzLmhhc0NvbnRlbnQgKSB7XG5cblx0XHRcdC8vIFJlbWVtYmVyIHRoZSBoYXNoIHNvIHdlIGNhbiBwdXQgaXQgYmFja1xuXHRcdFx0dW5jYWNoZWQgPSBzLnVybC5zbGljZSggY2FjaGVVUkwubGVuZ3RoICk7XG5cblx0XHRcdC8vIElmIGRhdGEgaXMgYXZhaWxhYmxlLCBhcHBlbmQgZGF0YSB0byB1cmxcblx0XHRcdGlmICggcy5kYXRhICkge1xuXHRcdFx0XHRjYWNoZVVSTCArPSAoIHJxdWVyeS50ZXN0KCBjYWNoZVVSTCApID8gXCImXCIgOiBcIj9cIiApICsgcy5kYXRhO1xuXG5cdFx0XHRcdC8vICM5NjgyOiByZW1vdmUgZGF0YSBzbyB0aGF0IGl0J3Mgbm90IHVzZWQgaW4gYW4gZXZlbnR1YWwgcmV0cnlcblx0XHRcdFx0ZGVsZXRlIHMuZGF0YTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQWRkIG9yIHVwZGF0ZSBhbnRpLWNhY2hlIHBhcmFtIGlmIG5lZWRlZFxuXHRcdFx0aWYgKCBzLmNhY2hlID09PSBmYWxzZSApIHtcblx0XHRcdFx0Y2FjaGVVUkwgPSBjYWNoZVVSTC5yZXBsYWNlKCByYW50aUNhY2hlLCBcIiQxXCIgKTtcblx0XHRcdFx0dW5jYWNoZWQgPSAoIHJxdWVyeS50ZXN0KCBjYWNoZVVSTCApID8gXCImXCIgOiBcIj9cIiApICsgXCJfPVwiICsgKCBub25jZSsrICkgKyB1bmNhY2hlZDtcblx0XHRcdH1cblxuXHRcdFx0Ly8gUHV0IGhhc2ggYW5kIGFudGktY2FjaGUgb24gdGhlIFVSTCB0aGF0IHdpbGwgYmUgcmVxdWVzdGVkIChnaC0xNzMyKVxuXHRcdFx0cy51cmwgPSBjYWNoZVVSTCArIHVuY2FjaGVkO1xuXG5cdFx0Ly8gQ2hhbmdlICclMjAnIHRvICcrJyBpZiB0aGlzIGlzIGVuY29kZWQgZm9ybSBib2R5IGNvbnRlbnQgKGdoLTI2NTgpXG5cdFx0fSBlbHNlIGlmICggcy5kYXRhICYmIHMucHJvY2Vzc0RhdGEgJiZcblx0XHRcdCggcy5jb250ZW50VHlwZSB8fCBcIlwiICkuaW5kZXhPZiggXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIiApID09PSAwICkge1xuXHRcdFx0cy5kYXRhID0gcy5kYXRhLnJlcGxhY2UoIHIyMCwgXCIrXCIgKTtcblx0XHR9XG5cblx0XHQvLyBTZXQgdGhlIElmLU1vZGlmaWVkLVNpbmNlIGFuZC9vciBJZi1Ob25lLU1hdGNoIGhlYWRlciwgaWYgaW4gaWZNb2RpZmllZCBtb2RlLlxuXHRcdGlmICggcy5pZk1vZGlmaWVkICkge1xuXHRcdFx0aWYgKCBqUXVlcnkubGFzdE1vZGlmaWVkWyBjYWNoZVVSTCBdICkge1xuXHRcdFx0XHRqcVhIUi5zZXRSZXF1ZXN0SGVhZGVyKCBcIklmLU1vZGlmaWVkLVNpbmNlXCIsIGpRdWVyeS5sYXN0TW9kaWZpZWRbIGNhY2hlVVJMIF0gKTtcblx0XHRcdH1cblx0XHRcdGlmICggalF1ZXJ5LmV0YWdbIGNhY2hlVVJMIF0gKSB7XG5cdFx0XHRcdGpxWEhSLnNldFJlcXVlc3RIZWFkZXIoIFwiSWYtTm9uZS1NYXRjaFwiLCBqUXVlcnkuZXRhZ1sgY2FjaGVVUkwgXSApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIFNldCB0aGUgY29ycmVjdCBoZWFkZXIsIGlmIGRhdGEgaXMgYmVpbmcgc2VudFxuXHRcdGlmICggcy5kYXRhICYmIHMuaGFzQ29udGVudCAmJiBzLmNvbnRlbnRUeXBlICE9PSBmYWxzZSB8fCBvcHRpb25zLmNvbnRlbnRUeXBlICkge1xuXHRcdFx0anFYSFIuc2V0UmVxdWVzdEhlYWRlciggXCJDb250ZW50LVR5cGVcIiwgcy5jb250ZW50VHlwZSApO1xuXHRcdH1cblxuXHRcdC8vIFNldCB0aGUgQWNjZXB0cyBoZWFkZXIgZm9yIHRoZSBzZXJ2ZXIsIGRlcGVuZGluZyBvbiB0aGUgZGF0YVR5cGVcblx0XHRqcVhIUi5zZXRSZXF1ZXN0SGVhZGVyKFxuXHRcdFx0XCJBY2NlcHRcIixcblx0XHRcdHMuZGF0YVR5cGVzWyAwIF0gJiYgcy5hY2NlcHRzWyBzLmRhdGFUeXBlc1sgMCBdIF0gP1xuXHRcdFx0XHRzLmFjY2VwdHNbIHMuZGF0YVR5cGVzWyAwIF0gXSArXG5cdFx0XHRcdFx0KCBzLmRhdGFUeXBlc1sgMCBdICE9PSBcIipcIiA/IFwiLCBcIiArIGFsbFR5cGVzICsgXCI7IHE9MC4wMVwiIDogXCJcIiApIDpcblx0XHRcdFx0cy5hY2NlcHRzWyBcIipcIiBdXG5cdFx0KTtcblxuXHRcdC8vIENoZWNrIGZvciBoZWFkZXJzIG9wdGlvblxuXHRcdGZvciAoIGkgaW4gcy5oZWFkZXJzICkge1xuXHRcdFx0anFYSFIuc2V0UmVxdWVzdEhlYWRlciggaSwgcy5oZWFkZXJzWyBpIF0gKTtcblx0XHR9XG5cblx0XHQvLyBBbGxvdyBjdXN0b20gaGVhZGVycy9taW1ldHlwZXMgYW5kIGVhcmx5IGFib3J0XG5cdFx0aWYgKCBzLmJlZm9yZVNlbmQgJiZcblx0XHRcdCggcy5iZWZvcmVTZW5kLmNhbGwoIGNhbGxiYWNrQ29udGV4dCwganFYSFIsIHMgKSA9PT0gZmFsc2UgfHwgY29tcGxldGVkICkgKSB7XG5cblx0XHRcdC8vIEFib3J0IGlmIG5vdCBkb25lIGFscmVhZHkgYW5kIHJldHVyblxuXHRcdFx0cmV0dXJuIGpxWEhSLmFib3J0KCk7XG5cdFx0fVxuXG5cdFx0Ly8gQWJvcnRpbmcgaXMgbm8gbG9uZ2VyIGEgY2FuY2VsbGF0aW9uXG5cdFx0c3RyQWJvcnQgPSBcImFib3J0XCI7XG5cblx0XHQvLyBJbnN0YWxsIGNhbGxiYWNrcyBvbiBkZWZlcnJlZHNcblx0XHRjb21wbGV0ZURlZmVycmVkLmFkZCggcy5jb21wbGV0ZSApO1xuXHRcdGpxWEhSLmRvbmUoIHMuc3VjY2VzcyApO1xuXHRcdGpxWEhSLmZhaWwoIHMuZXJyb3IgKTtcblxuXHRcdC8vIEdldCB0cmFuc3BvcnRcblx0XHR0cmFuc3BvcnQgPSBpbnNwZWN0UHJlZmlsdGVyc09yVHJhbnNwb3J0cyggdHJhbnNwb3J0cywgcywgb3B0aW9ucywganFYSFIgKTtcblxuXHRcdC8vIElmIG5vIHRyYW5zcG9ydCwgd2UgYXV0by1hYm9ydFxuXHRcdGlmICggIXRyYW5zcG9ydCApIHtcblx0XHRcdGRvbmUoIC0xLCBcIk5vIFRyYW5zcG9ydFwiICk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGpxWEhSLnJlYWR5U3RhdGUgPSAxO1xuXG5cdFx0XHQvLyBTZW5kIGdsb2JhbCBldmVudFxuXHRcdFx0aWYgKCBmaXJlR2xvYmFscyApIHtcblx0XHRcdFx0Z2xvYmFsRXZlbnRDb250ZXh0LnRyaWdnZXIoIFwiYWpheFNlbmRcIiwgWyBqcVhIUiwgcyBdICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIElmIHJlcXVlc3Qgd2FzIGFib3J0ZWQgaW5zaWRlIGFqYXhTZW5kLCBzdG9wIHRoZXJlXG5cdFx0XHRpZiAoIGNvbXBsZXRlZCApIHtcblx0XHRcdFx0cmV0dXJuIGpxWEhSO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBUaW1lb3V0XG5cdFx0XHRpZiAoIHMuYXN5bmMgJiYgcy50aW1lb3V0ID4gMCApIHtcblx0XHRcdFx0dGltZW91dFRpbWVyID0gd2luZG93LnNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGpxWEhSLmFib3J0KCBcInRpbWVvdXRcIiApO1xuXHRcdFx0XHR9LCBzLnRpbWVvdXQgKTtcblx0XHRcdH1cblxuXHRcdFx0dHJ5IHtcblx0XHRcdFx0Y29tcGxldGVkID0gZmFsc2U7XG5cdFx0XHRcdHRyYW5zcG9ydC5zZW5kKCByZXF1ZXN0SGVhZGVycywgZG9uZSApO1xuXHRcdFx0fSBjYXRjaCAoIGUgKSB7XG5cblx0XHRcdFx0Ly8gUmV0aHJvdyBwb3N0LWNvbXBsZXRpb24gZXhjZXB0aW9uc1xuXHRcdFx0XHRpZiAoIGNvbXBsZXRlZCApIHtcblx0XHRcdFx0XHR0aHJvdyBlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gUHJvcGFnYXRlIG90aGVycyBhcyByZXN1bHRzXG5cdFx0XHRcdGRvbmUoIC0xLCBlICk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gQ2FsbGJhY2sgZm9yIHdoZW4gZXZlcnl0aGluZyBpcyBkb25lXG5cdFx0ZnVuY3Rpb24gZG9uZSggc3RhdHVzLCBuYXRpdmVTdGF0dXNUZXh0LCByZXNwb25zZXMsIGhlYWRlcnMgKSB7XG5cdFx0XHR2YXIgaXNTdWNjZXNzLCBzdWNjZXNzLCBlcnJvciwgcmVzcG9uc2UsIG1vZGlmaWVkLFxuXHRcdFx0XHRzdGF0dXNUZXh0ID0gbmF0aXZlU3RhdHVzVGV4dDtcblxuXHRcdFx0Ly8gSWdub3JlIHJlcGVhdCBpbnZvY2F0aW9uc1xuXHRcdFx0aWYgKCBjb21wbGV0ZWQgKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0Y29tcGxldGVkID0gdHJ1ZTtcblxuXHRcdFx0Ly8gQ2xlYXIgdGltZW91dCBpZiBpdCBleGlzdHNcblx0XHRcdGlmICggdGltZW91dFRpbWVyICkge1xuXHRcdFx0XHR3aW5kb3cuY2xlYXJUaW1lb3V0KCB0aW1lb3V0VGltZXIgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gRGVyZWZlcmVuY2UgdHJhbnNwb3J0IGZvciBlYXJseSBnYXJiYWdlIGNvbGxlY3Rpb25cblx0XHRcdC8vIChubyBtYXR0ZXIgaG93IGxvbmcgdGhlIGpxWEhSIG9iamVjdCB3aWxsIGJlIHVzZWQpXG5cdFx0XHR0cmFuc3BvcnQgPSB1bmRlZmluZWQ7XG5cblx0XHRcdC8vIENhY2hlIHJlc3BvbnNlIGhlYWRlcnNcblx0XHRcdHJlc3BvbnNlSGVhZGVyc1N0cmluZyA9IGhlYWRlcnMgfHwgXCJcIjtcblxuXHRcdFx0Ly8gU2V0IHJlYWR5U3RhdGVcblx0XHRcdGpxWEhSLnJlYWR5U3RhdGUgPSBzdGF0dXMgPiAwID8gNCA6IDA7XG5cblx0XHRcdC8vIERldGVybWluZSBpZiBzdWNjZXNzZnVsXG5cdFx0XHRpc1N1Y2Nlc3MgPSBzdGF0dXMgPj0gMjAwICYmIHN0YXR1cyA8IDMwMCB8fCBzdGF0dXMgPT09IDMwNDtcblxuXHRcdFx0Ly8gR2V0IHJlc3BvbnNlIGRhdGFcblx0XHRcdGlmICggcmVzcG9uc2VzICkge1xuXHRcdFx0XHRyZXNwb25zZSA9IGFqYXhIYW5kbGVSZXNwb25zZXMoIHMsIGpxWEhSLCByZXNwb25zZXMgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQ29udmVydCBubyBtYXR0ZXIgd2hhdCAodGhhdCB3YXkgcmVzcG9uc2VYWFggZmllbGRzIGFyZSBhbHdheXMgc2V0KVxuXHRcdFx0cmVzcG9uc2UgPSBhamF4Q29udmVydCggcywgcmVzcG9uc2UsIGpxWEhSLCBpc1N1Y2Nlc3MgKTtcblxuXHRcdFx0Ly8gSWYgc3VjY2Vzc2Z1bCwgaGFuZGxlIHR5cGUgY2hhaW5pbmdcblx0XHRcdGlmICggaXNTdWNjZXNzICkge1xuXG5cdFx0XHRcdC8vIFNldCB0aGUgSWYtTW9kaWZpZWQtU2luY2UgYW5kL29yIElmLU5vbmUtTWF0Y2ggaGVhZGVyLCBpZiBpbiBpZk1vZGlmaWVkIG1vZGUuXG5cdFx0XHRcdGlmICggcy5pZk1vZGlmaWVkICkge1xuXHRcdFx0XHRcdG1vZGlmaWVkID0ganFYSFIuZ2V0UmVzcG9uc2VIZWFkZXIoIFwiTGFzdC1Nb2RpZmllZFwiICk7XG5cdFx0XHRcdFx0aWYgKCBtb2RpZmllZCApIHtcblx0XHRcdFx0XHRcdGpRdWVyeS5sYXN0TW9kaWZpZWRbIGNhY2hlVVJMIF0gPSBtb2RpZmllZDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0bW9kaWZpZWQgPSBqcVhIUi5nZXRSZXNwb25zZUhlYWRlciggXCJldGFnXCIgKTtcblx0XHRcdFx0XHRpZiAoIG1vZGlmaWVkICkge1xuXHRcdFx0XHRcdFx0alF1ZXJ5LmV0YWdbIGNhY2hlVVJMIF0gPSBtb2RpZmllZDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBpZiBubyBjb250ZW50XG5cdFx0XHRcdGlmICggc3RhdHVzID09PSAyMDQgfHwgcy50eXBlID09PSBcIkhFQURcIiApIHtcblx0XHRcdFx0XHRzdGF0dXNUZXh0ID0gXCJub2NvbnRlbnRcIjtcblxuXHRcdFx0XHQvLyBpZiBub3QgbW9kaWZpZWRcblx0XHRcdFx0fSBlbHNlIGlmICggc3RhdHVzID09PSAzMDQgKSB7XG5cdFx0XHRcdFx0c3RhdHVzVGV4dCA9IFwibm90bW9kaWZpZWRcIjtcblxuXHRcdFx0XHQvLyBJZiB3ZSBoYXZlIGRhdGEsIGxldCdzIGNvbnZlcnQgaXRcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRzdGF0dXNUZXh0ID0gcmVzcG9uc2Uuc3RhdGU7XG5cdFx0XHRcdFx0c3VjY2VzcyA9IHJlc3BvbnNlLmRhdGE7XG5cdFx0XHRcdFx0ZXJyb3IgPSByZXNwb25zZS5lcnJvcjtcblx0XHRcdFx0XHRpc1N1Y2Nlc3MgPSAhZXJyb3I7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0Ly8gRXh0cmFjdCBlcnJvciBmcm9tIHN0YXR1c1RleHQgYW5kIG5vcm1hbGl6ZSBmb3Igbm9uLWFib3J0c1xuXHRcdFx0XHRlcnJvciA9IHN0YXR1c1RleHQ7XG5cdFx0XHRcdGlmICggc3RhdHVzIHx8ICFzdGF0dXNUZXh0ICkge1xuXHRcdFx0XHRcdHN0YXR1c1RleHQgPSBcImVycm9yXCI7XG5cdFx0XHRcdFx0aWYgKCBzdGF0dXMgPCAwICkge1xuXHRcdFx0XHRcdFx0c3RhdHVzID0gMDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gU2V0IGRhdGEgZm9yIHRoZSBmYWtlIHhociBvYmplY3Rcblx0XHRcdGpxWEhSLnN0YXR1cyA9IHN0YXR1cztcblx0XHRcdGpxWEhSLnN0YXR1c1RleHQgPSAoIG5hdGl2ZVN0YXR1c1RleHQgfHwgc3RhdHVzVGV4dCApICsgXCJcIjtcblxuXHRcdFx0Ly8gU3VjY2Vzcy9FcnJvclxuXHRcdFx0aWYgKCBpc1N1Y2Nlc3MgKSB7XG5cdFx0XHRcdGRlZmVycmVkLnJlc29sdmVXaXRoKCBjYWxsYmFja0NvbnRleHQsIFsgc3VjY2Vzcywgc3RhdHVzVGV4dCwganFYSFIgXSApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZGVmZXJyZWQucmVqZWN0V2l0aCggY2FsbGJhY2tDb250ZXh0LCBbIGpxWEhSLCBzdGF0dXNUZXh0LCBlcnJvciBdICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFN0YXR1cy1kZXBlbmRlbnQgY2FsbGJhY2tzXG5cdFx0XHRqcVhIUi5zdGF0dXNDb2RlKCBzdGF0dXNDb2RlICk7XG5cdFx0XHRzdGF0dXNDb2RlID0gdW5kZWZpbmVkO1xuXG5cdFx0XHRpZiAoIGZpcmVHbG9iYWxzICkge1xuXHRcdFx0XHRnbG9iYWxFdmVudENvbnRleHQudHJpZ2dlciggaXNTdWNjZXNzID8gXCJhamF4U3VjY2Vzc1wiIDogXCJhamF4RXJyb3JcIixcblx0XHRcdFx0XHRbIGpxWEhSLCBzLCBpc1N1Y2Nlc3MgPyBzdWNjZXNzIDogZXJyb3IgXSApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBDb21wbGV0ZVxuXHRcdFx0Y29tcGxldGVEZWZlcnJlZC5maXJlV2l0aCggY2FsbGJhY2tDb250ZXh0LCBbIGpxWEhSLCBzdGF0dXNUZXh0IF0gKTtcblxuXHRcdFx0aWYgKCBmaXJlR2xvYmFscyApIHtcblx0XHRcdFx0Z2xvYmFsRXZlbnRDb250ZXh0LnRyaWdnZXIoIFwiYWpheENvbXBsZXRlXCIsIFsganFYSFIsIHMgXSApO1xuXG5cdFx0XHRcdC8vIEhhbmRsZSB0aGUgZ2xvYmFsIEFKQVggY291bnRlclxuXHRcdFx0XHRpZiAoICEoIC0talF1ZXJ5LmFjdGl2ZSApICkge1xuXHRcdFx0XHRcdGpRdWVyeS5ldmVudC50cmlnZ2VyKCBcImFqYXhTdG9wXCIgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBqcVhIUjtcblx0fSxcblxuXHRnZXRKU09OOiBmdW5jdGlvbiggdXJsLCBkYXRhLCBjYWxsYmFjayApIHtcblx0XHRyZXR1cm4galF1ZXJ5LmdldCggdXJsLCBkYXRhLCBjYWxsYmFjaywgXCJqc29uXCIgKTtcblx0fSxcblxuXHRnZXRTY3JpcHQ6IGZ1bmN0aW9uKCB1cmwsIGNhbGxiYWNrICkge1xuXHRcdHJldHVybiBqUXVlcnkuZ2V0KCB1cmwsIHVuZGVmaW5lZCwgY2FsbGJhY2ssIFwic2NyaXB0XCIgKTtcblx0fVxufSApO1xuXG5qUXVlcnkuZWFjaCggWyBcImdldFwiLCBcInBvc3RcIiBdLCBmdW5jdGlvbiggaSwgbWV0aG9kICkge1xuXHRqUXVlcnlbIG1ldGhvZCBdID0gZnVuY3Rpb24oIHVybCwgZGF0YSwgY2FsbGJhY2ssIHR5cGUgKSB7XG5cblx0XHQvLyBTaGlmdCBhcmd1bWVudHMgaWYgZGF0YSBhcmd1bWVudCB3YXMgb21pdHRlZFxuXHRcdGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIGRhdGEgKSApIHtcblx0XHRcdHR5cGUgPSB0eXBlIHx8IGNhbGxiYWNrO1xuXHRcdFx0Y2FsbGJhY2sgPSBkYXRhO1xuXHRcdFx0ZGF0YSA9IHVuZGVmaW5lZDtcblx0XHR9XG5cblx0XHQvLyBUaGUgdXJsIGNhbiBiZSBhbiBvcHRpb25zIG9iamVjdCAod2hpY2ggdGhlbiBtdXN0IGhhdmUgLnVybClcblx0XHRyZXR1cm4galF1ZXJ5LmFqYXgoIGpRdWVyeS5leHRlbmQoIHtcblx0XHRcdHVybDogdXJsLFxuXHRcdFx0dHlwZTogbWV0aG9kLFxuXHRcdFx0ZGF0YVR5cGU6IHR5cGUsXG5cdFx0XHRkYXRhOiBkYXRhLFxuXHRcdFx0c3VjY2VzczogY2FsbGJhY2tcblx0XHR9LCBqUXVlcnkuaXNQbGFpbk9iamVjdCggdXJsICkgJiYgdXJsICkgKTtcblx0fTtcbn0gKTtcblxuXG5qUXVlcnkuX2V2YWxVcmwgPSBmdW5jdGlvbiggdXJsICkge1xuXHRyZXR1cm4galF1ZXJ5LmFqYXgoIHtcblx0XHR1cmw6IHVybCxcblxuXHRcdC8vIE1ha2UgdGhpcyBleHBsaWNpdCwgc2luY2UgdXNlciBjYW4gb3ZlcnJpZGUgdGhpcyB0aHJvdWdoIGFqYXhTZXR1cCAoIzExMjY0KVxuXHRcdHR5cGU6IFwiR0VUXCIsXG5cdFx0ZGF0YVR5cGU6IFwic2NyaXB0XCIsXG5cdFx0Y2FjaGU6IHRydWUsXG5cdFx0YXN5bmM6IGZhbHNlLFxuXHRcdGdsb2JhbDogZmFsc2UsXG5cdFx0XCJ0aHJvd3NcIjogdHJ1ZVxuXHR9ICk7XG59O1xuXG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblx0d3JhcEFsbDogZnVuY3Rpb24oIGh0bWwgKSB7XG5cdFx0dmFyIHdyYXA7XG5cblx0XHRpZiAoIHRoaXNbIDAgXSApIHtcblx0XHRcdGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIGh0bWwgKSApIHtcblx0XHRcdFx0aHRtbCA9IGh0bWwuY2FsbCggdGhpc1sgMCBdICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFRoZSBlbGVtZW50cyB0byB3cmFwIHRoZSB0YXJnZXQgYXJvdW5kXG5cdFx0XHR3cmFwID0galF1ZXJ5KCBodG1sLCB0aGlzWyAwIF0ub3duZXJEb2N1bWVudCApLmVxKCAwICkuY2xvbmUoIHRydWUgKTtcblxuXHRcdFx0aWYgKCB0aGlzWyAwIF0ucGFyZW50Tm9kZSApIHtcblx0XHRcdFx0d3JhcC5pbnNlcnRCZWZvcmUoIHRoaXNbIDAgXSApO1xuXHRcdFx0fVxuXG5cdFx0XHR3cmFwLm1hcCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBlbGVtID0gdGhpcztcblxuXHRcdFx0XHR3aGlsZSAoIGVsZW0uZmlyc3RFbGVtZW50Q2hpbGQgKSB7XG5cdFx0XHRcdFx0ZWxlbSA9IGVsZW0uZmlyc3RFbGVtZW50Q2hpbGQ7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gZWxlbTtcblx0XHRcdH0gKS5hcHBlbmQoIHRoaXMgKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHR3cmFwSW5uZXI6IGZ1bmN0aW9uKCBodG1sICkge1xuXHRcdGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIGh0bWwgKSApIHtcblx0XHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCBpICkge1xuXHRcdFx0XHRqUXVlcnkoIHRoaXMgKS53cmFwSW5uZXIoIGh0bWwuY2FsbCggdGhpcywgaSApICk7XG5cdFx0XHR9ICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgc2VsZiA9IGpRdWVyeSggdGhpcyApLFxuXHRcdFx0XHRjb250ZW50cyA9IHNlbGYuY29udGVudHMoKTtcblxuXHRcdFx0aWYgKCBjb250ZW50cy5sZW5ndGggKSB7XG5cdFx0XHRcdGNvbnRlbnRzLndyYXBBbGwoIGh0bWwgKTtcblxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0c2VsZi5hcHBlbmQoIGh0bWwgKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cdH0sXG5cblx0d3JhcDogZnVuY3Rpb24oIGh0bWwgKSB7XG5cdFx0dmFyIGlzRnVuY3Rpb24gPSBqUXVlcnkuaXNGdW5jdGlvbiggaHRtbCApO1xuXG5cdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oIGkgKSB7XG5cdFx0XHRqUXVlcnkoIHRoaXMgKS53cmFwQWxsKCBpc0Z1bmN0aW9uID8gaHRtbC5jYWxsKCB0aGlzLCBpICkgOiBodG1sICk7XG5cdFx0fSApO1xuXHR9LFxuXG5cdHVud3JhcDogZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdHRoaXMucGFyZW50KCBzZWxlY3RvciApLm5vdCggXCJib2R5XCIgKS5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdGpRdWVyeSggdGhpcyApLnJlcGxhY2VXaXRoKCB0aGlzLmNoaWxkTm9kZXMgKTtcblx0XHR9ICk7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cbn0gKTtcblxuXG5qUXVlcnkuZXhwci5wc2V1ZG9zLmhpZGRlbiA9IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRyZXR1cm4gIWpRdWVyeS5leHByLnBzZXVkb3MudmlzaWJsZSggZWxlbSApO1xufTtcbmpRdWVyeS5leHByLnBzZXVkb3MudmlzaWJsZSA9IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRyZXR1cm4gISEoIGVsZW0ub2Zmc2V0V2lkdGggfHwgZWxlbS5vZmZzZXRIZWlnaHQgfHwgZWxlbS5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCApO1xufTtcblxuXG5cblxualF1ZXJ5LmFqYXhTZXR0aW5ncy54aHIgPSBmdW5jdGlvbigpIHtcblx0dHJ5IHtcblx0XHRyZXR1cm4gbmV3IHdpbmRvdy5YTUxIdHRwUmVxdWVzdCgpO1xuXHR9IGNhdGNoICggZSApIHt9XG59O1xuXG52YXIgeGhyU3VjY2Vzc1N0YXR1cyA9IHtcblxuXHRcdC8vIEZpbGUgcHJvdG9jb2wgYWx3YXlzIHlpZWxkcyBzdGF0dXMgY29kZSAwLCBhc3N1bWUgMjAwXG5cdFx0MDogMjAwLFxuXG5cdFx0Ly8gU3VwcG9ydDogSUUgPD05IG9ubHlcblx0XHQvLyAjMTQ1MDogc29tZXRpbWVzIElFIHJldHVybnMgMTIyMyB3aGVuIGl0IHNob3VsZCBiZSAyMDRcblx0XHQxMjIzOiAyMDRcblx0fSxcblx0eGhyU3VwcG9ydGVkID0galF1ZXJ5LmFqYXhTZXR0aW5ncy54aHIoKTtcblxuc3VwcG9ydC5jb3JzID0gISF4aHJTdXBwb3J0ZWQgJiYgKCBcIndpdGhDcmVkZW50aWFsc1wiIGluIHhoclN1cHBvcnRlZCApO1xuc3VwcG9ydC5hamF4ID0geGhyU3VwcG9ydGVkID0gISF4aHJTdXBwb3J0ZWQ7XG5cbmpRdWVyeS5hamF4VHJhbnNwb3J0KCBmdW5jdGlvbiggb3B0aW9ucyApIHtcblx0dmFyIGNhbGxiYWNrLCBlcnJvckNhbGxiYWNrO1xuXG5cdC8vIENyb3NzIGRvbWFpbiBvbmx5IGFsbG93ZWQgaWYgc3VwcG9ydGVkIHRocm91Z2ggWE1MSHR0cFJlcXVlc3Rcblx0aWYgKCBzdXBwb3J0LmNvcnMgfHwgeGhyU3VwcG9ydGVkICYmICFvcHRpb25zLmNyb3NzRG9tYWluICkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzZW5kOiBmdW5jdGlvbiggaGVhZGVycywgY29tcGxldGUgKSB7XG5cdFx0XHRcdHZhciBpLFxuXHRcdFx0XHRcdHhociA9IG9wdGlvbnMueGhyKCk7XG5cblx0XHRcdFx0eGhyLm9wZW4oXG5cdFx0XHRcdFx0b3B0aW9ucy50eXBlLFxuXHRcdFx0XHRcdG9wdGlvbnMudXJsLFxuXHRcdFx0XHRcdG9wdGlvbnMuYXN5bmMsXG5cdFx0XHRcdFx0b3B0aW9ucy51c2VybmFtZSxcblx0XHRcdFx0XHRvcHRpb25zLnBhc3N3b3JkXG5cdFx0XHRcdCk7XG5cblx0XHRcdFx0Ly8gQXBwbHkgY3VzdG9tIGZpZWxkcyBpZiBwcm92aWRlZFxuXHRcdFx0XHRpZiAoIG9wdGlvbnMueGhyRmllbGRzICkge1xuXHRcdFx0XHRcdGZvciAoIGkgaW4gb3B0aW9ucy54aHJGaWVsZHMgKSB7XG5cdFx0XHRcdFx0XHR4aHJbIGkgXSA9IG9wdGlvbnMueGhyRmllbGRzWyBpIF07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gT3ZlcnJpZGUgbWltZSB0eXBlIGlmIG5lZWRlZFxuXHRcdFx0XHRpZiAoIG9wdGlvbnMubWltZVR5cGUgJiYgeGhyLm92ZXJyaWRlTWltZVR5cGUgKSB7XG5cdFx0XHRcdFx0eGhyLm92ZXJyaWRlTWltZVR5cGUoIG9wdGlvbnMubWltZVR5cGUgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIFgtUmVxdWVzdGVkLVdpdGggaGVhZGVyXG5cdFx0XHRcdC8vIEZvciBjcm9zcy1kb21haW4gcmVxdWVzdHMsIHNlZWluZyBhcyBjb25kaXRpb25zIGZvciBhIHByZWZsaWdodCBhcmVcblx0XHRcdFx0Ly8gYWtpbiB0byBhIGppZ3NhdyBwdXp6bGUsIHdlIHNpbXBseSBuZXZlciBzZXQgaXQgdG8gYmUgc3VyZS5cblx0XHRcdFx0Ly8gKGl0IGNhbiBhbHdheXMgYmUgc2V0IG9uIGEgcGVyLXJlcXVlc3QgYmFzaXMgb3IgZXZlbiB1c2luZyBhamF4U2V0dXApXG5cdFx0XHRcdC8vIEZvciBzYW1lLWRvbWFpbiByZXF1ZXN0cywgd29uJ3QgY2hhbmdlIGhlYWRlciBpZiBhbHJlYWR5IHByb3ZpZGVkLlxuXHRcdFx0XHRpZiAoICFvcHRpb25zLmNyb3NzRG9tYWluICYmICFoZWFkZXJzWyBcIlgtUmVxdWVzdGVkLVdpdGhcIiBdICkge1xuXHRcdFx0XHRcdGhlYWRlcnNbIFwiWC1SZXF1ZXN0ZWQtV2l0aFwiIF0gPSBcIlhNTEh0dHBSZXF1ZXN0XCI7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBTZXQgaGVhZGVyc1xuXHRcdFx0XHRmb3IgKCBpIGluIGhlYWRlcnMgKSB7XG5cdFx0XHRcdFx0eGhyLnNldFJlcXVlc3RIZWFkZXIoIGksIGhlYWRlcnNbIGkgXSApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gQ2FsbGJhY2tcblx0XHRcdFx0Y2FsbGJhY2sgPSBmdW5jdGlvbiggdHlwZSApIHtcblx0XHRcdFx0XHRyZXR1cm4gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRpZiAoIGNhbGxiYWNrICkge1xuXHRcdFx0XHRcdFx0XHRjYWxsYmFjayA9IGVycm9yQ2FsbGJhY2sgPSB4aHIub25sb2FkID1cblx0XHRcdFx0XHRcdFx0XHR4aHIub25lcnJvciA9IHhoci5vbmFib3J0ID0geGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IG51bGw7XG5cblx0XHRcdFx0XHRcdFx0aWYgKCB0eXBlID09PSBcImFib3J0XCIgKSB7XG5cdFx0XHRcdFx0XHRcdFx0eGhyLmFib3J0KCk7XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSBpZiAoIHR5cGUgPT09IFwiZXJyb3JcIiApIHtcblxuXHRcdFx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDw9OSBvbmx5XG5cdFx0XHRcdFx0XHRcdFx0Ly8gT24gYSBtYW51YWwgbmF0aXZlIGFib3J0LCBJRTkgdGhyb3dzXG5cdFx0XHRcdFx0XHRcdFx0Ly8gZXJyb3JzIG9uIGFueSBwcm9wZXJ0eSBhY2Nlc3MgdGhhdCBpcyBub3QgcmVhZHlTdGF0ZVxuXHRcdFx0XHRcdFx0XHRcdGlmICggdHlwZW9mIHhoci5zdGF0dXMgIT09IFwibnVtYmVyXCIgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRjb21wbGV0ZSggMCwgXCJlcnJvclwiICk7XG5cdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRcdGNvbXBsZXRlKFxuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8vIEZpbGU6IHByb3RvY29sIGFsd2F5cyB5aWVsZHMgc3RhdHVzIDA7IHNlZSAjODYwNSwgIzE0MjA3XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHhoci5zdGF0dXMsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHhoci5zdGF0dXNUZXh0XG5cdFx0XHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRjb21wbGV0ZShcblx0XHRcdFx0XHRcdFx0XHRcdHhoclN1Y2Nlc3NTdGF0dXNbIHhoci5zdGF0dXMgXSB8fCB4aHIuc3RhdHVzLFxuXHRcdFx0XHRcdFx0XHRcdFx0eGhyLnN0YXR1c1RleHQsXG5cblx0XHRcdFx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDw9OSBvbmx5XG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBJRTkgaGFzIG5vIFhIUjIgYnV0IHRocm93cyBvbiBiaW5hcnkgKHRyYWMtMTE0MjYpXG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBGb3IgWEhSMiBub24tdGV4dCwgbGV0IHRoZSBjYWxsZXIgaGFuZGxlIGl0IChnaC0yNDk4KVxuXHRcdFx0XHRcdFx0XHRcdFx0KCB4aHIucmVzcG9uc2VUeXBlIHx8IFwidGV4dFwiICkgIT09IFwidGV4dFwiICB8fFxuXHRcdFx0XHRcdFx0XHRcdFx0dHlwZW9mIHhoci5yZXNwb25zZVRleHQgIT09IFwic3RyaW5nXCIgP1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR7IGJpbmFyeTogeGhyLnJlc3BvbnNlIH0gOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHR7IHRleHQ6IHhoci5yZXNwb25zZVRleHQgfSxcblx0XHRcdFx0XHRcdFx0XHRcdHhoci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKVxuXHRcdFx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9O1xuXHRcdFx0XHR9O1xuXG5cdFx0XHRcdC8vIExpc3RlbiB0byBldmVudHNcblx0XHRcdFx0eGhyLm9ubG9hZCA9IGNhbGxiYWNrKCk7XG5cdFx0XHRcdGVycm9yQ2FsbGJhY2sgPSB4aHIub25lcnJvciA9IGNhbGxiYWNrKCBcImVycm9yXCIgKTtcblxuXHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA5IG9ubHlcblx0XHRcdFx0Ly8gVXNlIG9ucmVhZHlzdGF0ZWNoYW5nZSB0byByZXBsYWNlIG9uYWJvcnRcblx0XHRcdFx0Ly8gdG8gaGFuZGxlIHVuY2F1Z2h0IGFib3J0c1xuXHRcdFx0XHRpZiAoIHhoci5vbmFib3J0ICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdFx0eGhyLm9uYWJvcnQgPSBlcnJvckNhbGxiYWNrO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHtcblxuXHRcdFx0XHRcdFx0Ly8gQ2hlY2sgcmVhZHlTdGF0ZSBiZWZvcmUgdGltZW91dCBhcyBpdCBjaGFuZ2VzXG5cdFx0XHRcdFx0XHRpZiAoIHhoci5yZWFkeVN0YXRlID09PSA0ICkge1xuXG5cdFx0XHRcdFx0XHRcdC8vIEFsbG93IG9uZXJyb3IgdG8gYmUgY2FsbGVkIGZpcnN0LFxuXHRcdFx0XHRcdFx0XHQvLyBidXQgdGhhdCB3aWxsIG5vdCBoYW5kbGUgYSBuYXRpdmUgYWJvcnRcblx0XHRcdFx0XHRcdFx0Ly8gQWxzbywgc2F2ZSBlcnJvckNhbGxiYWNrIHRvIGEgdmFyaWFibGVcblx0XHRcdFx0XHRcdFx0Ly8gYXMgeGhyLm9uZXJyb3IgY2Fubm90IGJlIGFjY2Vzc2VkXG5cdFx0XHRcdFx0XHRcdHdpbmRvdy5zZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0XHRpZiAoIGNhbGxiYWNrICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0ZXJyb3JDYWxsYmFjaygpO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fSApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH07XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBDcmVhdGUgdGhlIGFib3J0IGNhbGxiYWNrXG5cdFx0XHRcdGNhbGxiYWNrID0gY2FsbGJhY2soIFwiYWJvcnRcIiApO1xuXG5cdFx0XHRcdHRyeSB7XG5cblx0XHRcdFx0XHQvLyBEbyBzZW5kIHRoZSByZXF1ZXN0ICh0aGlzIG1heSByYWlzZSBhbiBleGNlcHRpb24pXG5cdFx0XHRcdFx0eGhyLnNlbmQoIG9wdGlvbnMuaGFzQ29udGVudCAmJiBvcHRpb25zLmRhdGEgfHwgbnVsbCApO1xuXHRcdFx0XHR9IGNhdGNoICggZSApIHtcblxuXHRcdFx0XHRcdC8vICMxNDY4MzogT25seSByZXRocm93IGlmIHRoaXMgaGFzbid0IGJlZW4gbm90aWZpZWQgYXMgYW4gZXJyb3IgeWV0XG5cdFx0XHRcdFx0aWYgKCBjYWxsYmFjayApIHtcblx0XHRcdFx0XHRcdHRocm93IGU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXG5cdFx0XHRhYm9ydDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGlmICggY2FsbGJhY2sgKSB7XG5cdFx0XHRcdFx0Y2FsbGJhY2soKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH07XG5cdH1cbn0gKTtcblxuXG5cblxuLy8gUHJldmVudCBhdXRvLWV4ZWN1dGlvbiBvZiBzY3JpcHRzIHdoZW4gbm8gZXhwbGljaXQgZGF0YVR5cGUgd2FzIHByb3ZpZGVkIChTZWUgZ2gtMjQzMilcbmpRdWVyeS5hamF4UHJlZmlsdGVyKCBmdW5jdGlvbiggcyApIHtcblx0aWYgKCBzLmNyb3NzRG9tYWluICkge1xuXHRcdHMuY29udGVudHMuc2NyaXB0ID0gZmFsc2U7XG5cdH1cbn0gKTtcblxuLy8gSW5zdGFsbCBzY3JpcHQgZGF0YVR5cGVcbmpRdWVyeS5hamF4U2V0dXAoIHtcblx0YWNjZXB0czoge1xuXHRcdHNjcmlwdDogXCJ0ZXh0L2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2phdmFzY3JpcHQsIFwiICtcblx0XHRcdFwiYXBwbGljYXRpb24vZWNtYXNjcmlwdCwgYXBwbGljYXRpb24veC1lY21hc2NyaXB0XCJcblx0fSxcblx0Y29udGVudHM6IHtcblx0XHRzY3JpcHQ6IC9cXGIoPzpqYXZhfGVjbWEpc2NyaXB0XFxiL1xuXHR9LFxuXHRjb252ZXJ0ZXJzOiB7XG5cdFx0XCJ0ZXh0IHNjcmlwdFwiOiBmdW5jdGlvbiggdGV4dCApIHtcblx0XHRcdGpRdWVyeS5nbG9iYWxFdmFsKCB0ZXh0ICk7XG5cdFx0XHRyZXR1cm4gdGV4dDtcblx0XHR9XG5cdH1cbn0gKTtcblxuLy8gSGFuZGxlIGNhY2hlJ3Mgc3BlY2lhbCBjYXNlIGFuZCBjcm9zc0RvbWFpblxualF1ZXJ5LmFqYXhQcmVmaWx0ZXIoIFwic2NyaXB0XCIsIGZ1bmN0aW9uKCBzICkge1xuXHRpZiAoIHMuY2FjaGUgPT09IHVuZGVmaW5lZCApIHtcblx0XHRzLmNhY2hlID0gZmFsc2U7XG5cdH1cblx0aWYgKCBzLmNyb3NzRG9tYWluICkge1xuXHRcdHMudHlwZSA9IFwiR0VUXCI7XG5cdH1cbn0gKTtcblxuLy8gQmluZCBzY3JpcHQgdGFnIGhhY2sgdHJhbnNwb3J0XG5qUXVlcnkuYWpheFRyYW5zcG9ydCggXCJzY3JpcHRcIiwgZnVuY3Rpb24oIHMgKSB7XG5cblx0Ly8gVGhpcyB0cmFuc3BvcnQgb25seSBkZWFscyB3aXRoIGNyb3NzIGRvbWFpbiByZXF1ZXN0c1xuXHRpZiAoIHMuY3Jvc3NEb21haW4gKSB7XG5cdFx0dmFyIHNjcmlwdCwgY2FsbGJhY2s7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHNlbmQ6IGZ1bmN0aW9uKCBfLCBjb21wbGV0ZSApIHtcblx0XHRcdFx0c2NyaXB0ID0galF1ZXJ5KCBcIjxzY3JpcHQ+XCIgKS5wcm9wKCB7XG5cdFx0XHRcdFx0Y2hhcnNldDogcy5zY3JpcHRDaGFyc2V0LFxuXHRcdFx0XHRcdHNyYzogcy51cmxcblx0XHRcdFx0fSApLm9uKFxuXHRcdFx0XHRcdFwibG9hZCBlcnJvclwiLFxuXHRcdFx0XHRcdGNhbGxiYWNrID0gZnVuY3Rpb24oIGV2dCApIHtcblx0XHRcdFx0XHRcdHNjcmlwdC5yZW1vdmUoKTtcblx0XHRcdFx0XHRcdGNhbGxiYWNrID0gbnVsbDtcblx0XHRcdFx0XHRcdGlmICggZXZ0ICkge1xuXHRcdFx0XHRcdFx0XHRjb21wbGV0ZSggZXZ0LnR5cGUgPT09IFwiZXJyb3JcIiA/IDQwNCA6IDIwMCwgZXZ0LnR5cGUgKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdCk7XG5cblx0XHRcdFx0Ly8gVXNlIG5hdGl2ZSBET00gbWFuaXB1bGF0aW9uIHRvIGF2b2lkIG91ciBkb21NYW5pcCBBSkFYIHRyaWNrZXJ5XG5cdFx0XHRcdGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoIHNjcmlwdFsgMCBdICk7XG5cdFx0XHR9LFxuXHRcdFx0YWJvcnQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZiAoIGNhbGxiYWNrICkge1xuXHRcdFx0XHRcdGNhbGxiYWNrKCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9O1xuXHR9XG59ICk7XG5cblxuXG5cbnZhciBvbGRDYWxsYmFja3MgPSBbXSxcblx0cmpzb25wID0gLyg9KVxcPyg/PSZ8JCl8XFw/XFw/LztcblxuLy8gRGVmYXVsdCBqc29ucCBzZXR0aW5nc1xualF1ZXJ5LmFqYXhTZXR1cCgge1xuXHRqc29ucDogXCJjYWxsYmFja1wiLFxuXHRqc29ucENhbGxiYWNrOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgY2FsbGJhY2sgPSBvbGRDYWxsYmFja3MucG9wKCkgfHwgKCBqUXVlcnkuZXhwYW5kbyArIFwiX1wiICsgKCBub25jZSsrICkgKTtcblx0XHR0aGlzWyBjYWxsYmFjayBdID0gdHJ1ZTtcblx0XHRyZXR1cm4gY2FsbGJhY2s7XG5cdH1cbn0gKTtcblxuLy8gRGV0ZWN0LCBub3JtYWxpemUgb3B0aW9ucyBhbmQgaW5zdGFsbCBjYWxsYmFja3MgZm9yIGpzb25wIHJlcXVlc3RzXG5qUXVlcnkuYWpheFByZWZpbHRlciggXCJqc29uIGpzb25wXCIsIGZ1bmN0aW9uKCBzLCBvcmlnaW5hbFNldHRpbmdzLCBqcVhIUiApIHtcblxuXHR2YXIgY2FsbGJhY2tOYW1lLCBvdmVyd3JpdHRlbiwgcmVzcG9uc2VDb250YWluZXIsXG5cdFx0anNvblByb3AgPSBzLmpzb25wICE9PSBmYWxzZSAmJiAoIHJqc29ucC50ZXN0KCBzLnVybCApID9cblx0XHRcdFwidXJsXCIgOlxuXHRcdFx0dHlwZW9mIHMuZGF0YSA9PT0gXCJzdHJpbmdcIiAmJlxuXHRcdFx0XHQoIHMuY29udGVudFR5cGUgfHwgXCJcIiApXG5cdFx0XHRcdFx0LmluZGV4T2YoIFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCIgKSA9PT0gMCAmJlxuXHRcdFx0XHRyanNvbnAudGVzdCggcy5kYXRhICkgJiYgXCJkYXRhXCJcblx0XHQpO1xuXG5cdC8vIEhhbmRsZSBpZmYgdGhlIGV4cGVjdGVkIGRhdGEgdHlwZSBpcyBcImpzb25wXCIgb3Igd2UgaGF2ZSBhIHBhcmFtZXRlciB0byBzZXRcblx0aWYgKCBqc29uUHJvcCB8fCBzLmRhdGFUeXBlc1sgMCBdID09PSBcImpzb25wXCIgKSB7XG5cblx0XHQvLyBHZXQgY2FsbGJhY2sgbmFtZSwgcmVtZW1iZXJpbmcgcHJlZXhpc3RpbmcgdmFsdWUgYXNzb2NpYXRlZCB3aXRoIGl0XG5cdFx0Y2FsbGJhY2tOYW1lID0gcy5qc29ucENhbGxiYWNrID0galF1ZXJ5LmlzRnVuY3Rpb24oIHMuanNvbnBDYWxsYmFjayApID9cblx0XHRcdHMuanNvbnBDYWxsYmFjaygpIDpcblx0XHRcdHMuanNvbnBDYWxsYmFjaztcblxuXHRcdC8vIEluc2VydCBjYWxsYmFjayBpbnRvIHVybCBvciBmb3JtIGRhdGFcblx0XHRpZiAoIGpzb25Qcm9wICkge1xuXHRcdFx0c1sganNvblByb3AgXSA9IHNbIGpzb25Qcm9wIF0ucmVwbGFjZSggcmpzb25wLCBcIiQxXCIgKyBjYWxsYmFja05hbWUgKTtcblx0XHR9IGVsc2UgaWYgKCBzLmpzb25wICE9PSBmYWxzZSApIHtcblx0XHRcdHMudXJsICs9ICggcnF1ZXJ5LnRlc3QoIHMudXJsICkgPyBcIiZcIiA6IFwiP1wiICkgKyBzLmpzb25wICsgXCI9XCIgKyBjYWxsYmFja05hbWU7XG5cdFx0fVxuXG5cdFx0Ly8gVXNlIGRhdGEgY29udmVydGVyIHRvIHJldHJpZXZlIGpzb24gYWZ0ZXIgc2NyaXB0IGV4ZWN1dGlvblxuXHRcdHMuY29udmVydGVyc1sgXCJzY3JpcHQganNvblwiIF0gPSBmdW5jdGlvbigpIHtcblx0XHRcdGlmICggIXJlc3BvbnNlQ29udGFpbmVyICkge1xuXHRcdFx0XHRqUXVlcnkuZXJyb3IoIGNhbGxiYWNrTmFtZSArIFwiIHdhcyBub3QgY2FsbGVkXCIgKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiByZXNwb25zZUNvbnRhaW5lclsgMCBdO1xuXHRcdH07XG5cblx0XHQvLyBGb3JjZSBqc29uIGRhdGFUeXBlXG5cdFx0cy5kYXRhVHlwZXNbIDAgXSA9IFwianNvblwiO1xuXG5cdFx0Ly8gSW5zdGFsbCBjYWxsYmFja1xuXHRcdG92ZXJ3cml0dGVuID0gd2luZG93WyBjYWxsYmFja05hbWUgXTtcblx0XHR3aW5kb3dbIGNhbGxiYWNrTmFtZSBdID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXNwb25zZUNvbnRhaW5lciA9IGFyZ3VtZW50cztcblx0XHR9O1xuXG5cdFx0Ly8gQ2xlYW4tdXAgZnVuY3Rpb24gKGZpcmVzIGFmdGVyIGNvbnZlcnRlcnMpXG5cdFx0anFYSFIuYWx3YXlzKCBmdW5jdGlvbigpIHtcblxuXHRcdFx0Ly8gSWYgcHJldmlvdXMgdmFsdWUgZGlkbid0IGV4aXN0IC0gcmVtb3ZlIGl0XG5cdFx0XHRpZiAoIG92ZXJ3cml0dGVuID09PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdGpRdWVyeSggd2luZG93ICkucmVtb3ZlUHJvcCggY2FsbGJhY2tOYW1lICk7XG5cblx0XHRcdC8vIE90aGVyd2lzZSByZXN0b3JlIHByZWV4aXN0aW5nIHZhbHVlXG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR3aW5kb3dbIGNhbGxiYWNrTmFtZSBdID0gb3ZlcndyaXR0ZW47XG5cdFx0XHR9XG5cblx0XHRcdC8vIFNhdmUgYmFjayBhcyBmcmVlXG5cdFx0XHRpZiAoIHNbIGNhbGxiYWNrTmFtZSBdICkge1xuXG5cdFx0XHRcdC8vIE1ha2Ugc3VyZSB0aGF0IHJlLXVzaW5nIHRoZSBvcHRpb25zIGRvZXNuJ3Qgc2NyZXcgdGhpbmdzIGFyb3VuZFxuXHRcdFx0XHRzLmpzb25wQ2FsbGJhY2sgPSBvcmlnaW5hbFNldHRpbmdzLmpzb25wQ2FsbGJhY2s7XG5cblx0XHRcdFx0Ly8gU2F2ZSB0aGUgY2FsbGJhY2sgbmFtZSBmb3IgZnV0dXJlIHVzZVxuXHRcdFx0XHRvbGRDYWxsYmFja3MucHVzaCggY2FsbGJhY2tOYW1lICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIENhbGwgaWYgaXQgd2FzIGEgZnVuY3Rpb24gYW5kIHdlIGhhdmUgYSByZXNwb25zZVxuXHRcdFx0aWYgKCByZXNwb25zZUNvbnRhaW5lciAmJiBqUXVlcnkuaXNGdW5jdGlvbiggb3ZlcndyaXR0ZW4gKSApIHtcblx0XHRcdFx0b3ZlcndyaXR0ZW4oIHJlc3BvbnNlQ29udGFpbmVyWyAwIF0gKTtcblx0XHRcdH1cblxuXHRcdFx0cmVzcG9uc2VDb250YWluZXIgPSBvdmVyd3JpdHRlbiA9IHVuZGVmaW5lZDtcblx0XHR9ICk7XG5cblx0XHQvLyBEZWxlZ2F0ZSB0byBzY3JpcHRcblx0XHRyZXR1cm4gXCJzY3JpcHRcIjtcblx0fVxufSApO1xuXG5cblxuXG4vLyBTdXBwb3J0OiBTYWZhcmkgOCBvbmx5XG4vLyBJbiBTYWZhcmkgOCBkb2N1bWVudHMgY3JlYXRlZCB2aWEgZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50XG4vLyBjb2xsYXBzZSBzaWJsaW5nIGZvcm1zOiB0aGUgc2Vjb25kIG9uZSBiZWNvbWVzIGEgY2hpbGQgb2YgdGhlIGZpcnN0IG9uZS5cbi8vIEJlY2F1c2Ugb2YgdGhhdCwgdGhpcyBzZWN1cml0eSBtZWFzdXJlIGhhcyB0byBiZSBkaXNhYmxlZCBpbiBTYWZhcmkgOC5cbi8vIGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD0xMzczMzdcbnN1cHBvcnQuY3JlYXRlSFRNTERvY3VtZW50ID0gKCBmdW5jdGlvbigpIHtcblx0dmFyIGJvZHkgPSBkb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoIFwiXCIgKS5ib2R5O1xuXHRib2R5LmlubmVySFRNTCA9IFwiPGZvcm0+PC9mb3JtPjxmb3JtPjwvZm9ybT5cIjtcblx0cmV0dXJuIGJvZHkuY2hpbGROb2Rlcy5sZW5ndGggPT09IDI7XG59ICkoKTtcblxuXG4vLyBBcmd1bWVudCBcImRhdGFcIiBzaG91bGQgYmUgc3RyaW5nIG9mIGh0bWxcbi8vIGNvbnRleHQgKG9wdGlvbmFsKTogSWYgc3BlY2lmaWVkLCB0aGUgZnJhZ21lbnQgd2lsbCBiZSBjcmVhdGVkIGluIHRoaXMgY29udGV4dCxcbi8vIGRlZmF1bHRzIHRvIGRvY3VtZW50XG4vLyBrZWVwU2NyaXB0cyAob3B0aW9uYWwpOiBJZiB0cnVlLCB3aWxsIGluY2x1ZGUgc2NyaXB0cyBwYXNzZWQgaW4gdGhlIGh0bWwgc3RyaW5nXG5qUXVlcnkucGFyc2VIVE1MID0gZnVuY3Rpb24oIGRhdGEsIGNvbnRleHQsIGtlZXBTY3JpcHRzICkge1xuXHRpZiAoIHR5cGVvZiBkYXRhICE9PSBcInN0cmluZ1wiICkge1xuXHRcdHJldHVybiBbXTtcblx0fVxuXHRpZiAoIHR5cGVvZiBjb250ZXh0ID09PSBcImJvb2xlYW5cIiApIHtcblx0XHRrZWVwU2NyaXB0cyA9IGNvbnRleHQ7XG5cdFx0Y29udGV4dCA9IGZhbHNlO1xuXHR9XG5cblx0dmFyIGJhc2UsIHBhcnNlZCwgc2NyaXB0cztcblxuXHRpZiAoICFjb250ZXh0ICkge1xuXG5cdFx0Ly8gU3RvcCBzY3JpcHRzIG9yIGlubGluZSBldmVudCBoYW5kbGVycyBmcm9tIGJlaW5nIGV4ZWN1dGVkIGltbWVkaWF0ZWx5XG5cdFx0Ly8gYnkgdXNpbmcgZG9jdW1lbnQuaW1wbGVtZW50YXRpb25cblx0XHRpZiAoIHN1cHBvcnQuY3JlYXRlSFRNTERvY3VtZW50ICkge1xuXHRcdFx0Y29udGV4dCA9IGRvY3VtZW50LmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudCggXCJcIiApO1xuXG5cdFx0XHQvLyBTZXQgdGhlIGJhc2UgaHJlZiBmb3IgdGhlIGNyZWF0ZWQgZG9jdW1lbnRcblx0XHRcdC8vIHNvIGFueSBwYXJzZWQgZWxlbWVudHMgd2l0aCBVUkxzXG5cdFx0XHQvLyBhcmUgYmFzZWQgb24gdGhlIGRvY3VtZW50J3MgVVJMIChnaC0yOTY1KVxuXHRcdFx0YmFzZSA9IGNvbnRleHQuY3JlYXRlRWxlbWVudCggXCJiYXNlXCIgKTtcblx0XHRcdGJhc2UuaHJlZiA9IGRvY3VtZW50LmxvY2F0aW9uLmhyZWY7XG5cdFx0XHRjb250ZXh0LmhlYWQuYXBwZW5kQ2hpbGQoIGJhc2UgKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Y29udGV4dCA9IGRvY3VtZW50O1xuXHRcdH1cblx0fVxuXG5cdHBhcnNlZCA9IHJzaW5nbGVUYWcuZXhlYyggZGF0YSApO1xuXHRzY3JpcHRzID0gIWtlZXBTY3JpcHRzICYmIFtdO1xuXG5cdC8vIFNpbmdsZSB0YWdcblx0aWYgKCBwYXJzZWQgKSB7XG5cdFx0cmV0dXJuIFsgY29udGV4dC5jcmVhdGVFbGVtZW50KCBwYXJzZWRbIDEgXSApIF07XG5cdH1cblxuXHRwYXJzZWQgPSBidWlsZEZyYWdtZW50KCBbIGRhdGEgXSwgY29udGV4dCwgc2NyaXB0cyApO1xuXG5cdGlmICggc2NyaXB0cyAmJiBzY3JpcHRzLmxlbmd0aCApIHtcblx0XHRqUXVlcnkoIHNjcmlwdHMgKS5yZW1vdmUoKTtcblx0fVxuXG5cdHJldHVybiBqUXVlcnkubWVyZ2UoIFtdLCBwYXJzZWQuY2hpbGROb2RlcyApO1xufTtcblxuXG4vKipcbiAqIExvYWQgYSB1cmwgaW50byBhIHBhZ2VcbiAqL1xualF1ZXJ5LmZuLmxvYWQgPSBmdW5jdGlvbiggdXJsLCBwYXJhbXMsIGNhbGxiYWNrICkge1xuXHR2YXIgc2VsZWN0b3IsIHR5cGUsIHJlc3BvbnNlLFxuXHRcdHNlbGYgPSB0aGlzLFxuXHRcdG9mZiA9IHVybC5pbmRleE9mKCBcIiBcIiApO1xuXG5cdGlmICggb2ZmID4gLTEgKSB7XG5cdFx0c2VsZWN0b3IgPSBzdHJpcEFuZENvbGxhcHNlKCB1cmwuc2xpY2UoIG9mZiApICk7XG5cdFx0dXJsID0gdXJsLnNsaWNlKCAwLCBvZmYgKTtcblx0fVxuXG5cdC8vIElmIGl0J3MgYSBmdW5jdGlvblxuXHRpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCBwYXJhbXMgKSApIHtcblxuXHRcdC8vIFdlIGFzc3VtZSB0aGF0IGl0J3MgdGhlIGNhbGxiYWNrXG5cdFx0Y2FsbGJhY2sgPSBwYXJhbXM7XG5cdFx0cGFyYW1zID0gdW5kZWZpbmVkO1xuXG5cdC8vIE90aGVyd2lzZSwgYnVpbGQgYSBwYXJhbSBzdHJpbmdcblx0fSBlbHNlIGlmICggcGFyYW1zICYmIHR5cGVvZiBwYXJhbXMgPT09IFwib2JqZWN0XCIgKSB7XG5cdFx0dHlwZSA9IFwiUE9TVFwiO1xuXHR9XG5cblx0Ly8gSWYgd2UgaGF2ZSBlbGVtZW50cyB0byBtb2RpZnksIG1ha2UgdGhlIHJlcXVlc3Rcblx0aWYgKCBzZWxmLmxlbmd0aCA+IDAgKSB7XG5cdFx0alF1ZXJ5LmFqYXgoIHtcblx0XHRcdHVybDogdXJsLFxuXG5cdFx0XHQvLyBJZiBcInR5cGVcIiB2YXJpYWJsZSBpcyB1bmRlZmluZWQsIHRoZW4gXCJHRVRcIiBtZXRob2Qgd2lsbCBiZSB1c2VkLlxuXHRcdFx0Ly8gTWFrZSB2YWx1ZSBvZiB0aGlzIGZpZWxkIGV4cGxpY2l0IHNpbmNlXG5cdFx0XHQvLyB1c2VyIGNhbiBvdmVycmlkZSBpdCB0aHJvdWdoIGFqYXhTZXR1cCBtZXRob2Rcblx0XHRcdHR5cGU6IHR5cGUgfHwgXCJHRVRcIixcblx0XHRcdGRhdGFUeXBlOiBcImh0bWxcIixcblx0XHRcdGRhdGE6IHBhcmFtc1xuXHRcdH0gKS5kb25lKCBmdW5jdGlvbiggcmVzcG9uc2VUZXh0ICkge1xuXG5cdFx0XHQvLyBTYXZlIHJlc3BvbnNlIGZvciB1c2UgaW4gY29tcGxldGUgY2FsbGJhY2tcblx0XHRcdHJlc3BvbnNlID0gYXJndW1lbnRzO1xuXG5cdFx0XHRzZWxmLmh0bWwoIHNlbGVjdG9yID9cblxuXHRcdFx0XHQvLyBJZiBhIHNlbGVjdG9yIHdhcyBzcGVjaWZpZWQsIGxvY2F0ZSB0aGUgcmlnaHQgZWxlbWVudHMgaW4gYSBkdW1teSBkaXZcblx0XHRcdFx0Ly8gRXhjbHVkZSBzY3JpcHRzIHRvIGF2b2lkIElFICdQZXJtaXNzaW9uIERlbmllZCcgZXJyb3JzXG5cdFx0XHRcdGpRdWVyeSggXCI8ZGl2PlwiICkuYXBwZW5kKCBqUXVlcnkucGFyc2VIVE1MKCByZXNwb25zZVRleHQgKSApLmZpbmQoIHNlbGVjdG9yICkgOlxuXG5cdFx0XHRcdC8vIE90aGVyd2lzZSB1c2UgdGhlIGZ1bGwgcmVzdWx0XG5cdFx0XHRcdHJlc3BvbnNlVGV4dCApO1xuXG5cdFx0Ly8gSWYgdGhlIHJlcXVlc3Qgc3VjY2VlZHMsIHRoaXMgZnVuY3Rpb24gZ2V0cyBcImRhdGFcIiwgXCJzdGF0dXNcIiwgXCJqcVhIUlwiXG5cdFx0Ly8gYnV0IHRoZXkgYXJlIGlnbm9yZWQgYmVjYXVzZSByZXNwb25zZSB3YXMgc2V0IGFib3ZlLlxuXHRcdC8vIElmIGl0IGZhaWxzLCB0aGlzIGZ1bmN0aW9uIGdldHMgXCJqcVhIUlwiLCBcInN0YXR1c1wiLCBcImVycm9yXCJcblx0XHR9ICkuYWx3YXlzKCBjYWxsYmFjayAmJiBmdW5jdGlvbigganFYSFIsIHN0YXR1cyApIHtcblx0XHRcdHNlbGYuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGNhbGxiYWNrLmFwcGx5KCB0aGlzLCByZXNwb25zZSB8fCBbIGpxWEhSLnJlc3BvbnNlVGV4dCwgc3RhdHVzLCBqcVhIUiBdICk7XG5cdFx0XHR9ICk7XG5cdFx0fSApO1xuXHR9XG5cblx0cmV0dXJuIHRoaXM7XG59O1xuXG5cblxuXG4vLyBBdHRhY2ggYSBidW5jaCBvZiBmdW5jdGlvbnMgZm9yIGhhbmRsaW5nIGNvbW1vbiBBSkFYIGV2ZW50c1xualF1ZXJ5LmVhY2goIFtcblx0XCJhamF4U3RhcnRcIixcblx0XCJhamF4U3RvcFwiLFxuXHRcImFqYXhDb21wbGV0ZVwiLFxuXHRcImFqYXhFcnJvclwiLFxuXHRcImFqYXhTdWNjZXNzXCIsXG5cdFwiYWpheFNlbmRcIlxuXSwgZnVuY3Rpb24oIGksIHR5cGUgKSB7XG5cdGpRdWVyeS5mblsgdHlwZSBdID0gZnVuY3Rpb24oIGZuICkge1xuXHRcdHJldHVybiB0aGlzLm9uKCB0eXBlLCBmbiApO1xuXHR9O1xufSApO1xuXG5cblxuXG5qUXVlcnkuZXhwci5wc2V1ZG9zLmFuaW1hdGVkID0gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdHJldHVybiBqUXVlcnkuZ3JlcCggalF1ZXJ5LnRpbWVycywgZnVuY3Rpb24oIGZuICkge1xuXHRcdHJldHVybiBlbGVtID09PSBmbi5lbGVtO1xuXHR9ICkubGVuZ3RoO1xufTtcblxuXG5cblxualF1ZXJ5Lm9mZnNldCA9IHtcblx0c2V0T2Zmc2V0OiBmdW5jdGlvbiggZWxlbSwgb3B0aW9ucywgaSApIHtcblx0XHR2YXIgY3VyUG9zaXRpb24sIGN1ckxlZnQsIGN1ckNTU1RvcCwgY3VyVG9wLCBjdXJPZmZzZXQsIGN1ckNTU0xlZnQsIGNhbGN1bGF0ZVBvc2l0aW9uLFxuXHRcdFx0cG9zaXRpb24gPSBqUXVlcnkuY3NzKCBlbGVtLCBcInBvc2l0aW9uXCIgKSxcblx0XHRcdGN1ckVsZW0gPSBqUXVlcnkoIGVsZW0gKSxcblx0XHRcdHByb3BzID0ge307XG5cblx0XHQvLyBTZXQgcG9zaXRpb24gZmlyc3QsIGluLWNhc2UgdG9wL2xlZnQgYXJlIHNldCBldmVuIG9uIHN0YXRpYyBlbGVtXG5cdFx0aWYgKCBwb3NpdGlvbiA9PT0gXCJzdGF0aWNcIiApIHtcblx0XHRcdGVsZW0uc3R5bGUucG9zaXRpb24gPSBcInJlbGF0aXZlXCI7XG5cdFx0fVxuXG5cdFx0Y3VyT2Zmc2V0ID0gY3VyRWxlbS5vZmZzZXQoKTtcblx0XHRjdXJDU1NUb3AgPSBqUXVlcnkuY3NzKCBlbGVtLCBcInRvcFwiICk7XG5cdFx0Y3VyQ1NTTGVmdCA9IGpRdWVyeS5jc3MoIGVsZW0sIFwibGVmdFwiICk7XG5cdFx0Y2FsY3VsYXRlUG9zaXRpb24gPSAoIHBvc2l0aW9uID09PSBcImFic29sdXRlXCIgfHwgcG9zaXRpb24gPT09IFwiZml4ZWRcIiApICYmXG5cdFx0XHQoIGN1ckNTU1RvcCArIGN1ckNTU0xlZnQgKS5pbmRleE9mKCBcImF1dG9cIiApID4gLTE7XG5cblx0XHQvLyBOZWVkIHRvIGJlIGFibGUgdG8gY2FsY3VsYXRlIHBvc2l0aW9uIGlmIGVpdGhlclxuXHRcdC8vIHRvcCBvciBsZWZ0IGlzIGF1dG8gYW5kIHBvc2l0aW9uIGlzIGVpdGhlciBhYnNvbHV0ZSBvciBmaXhlZFxuXHRcdGlmICggY2FsY3VsYXRlUG9zaXRpb24gKSB7XG5cdFx0XHRjdXJQb3NpdGlvbiA9IGN1ckVsZW0ucG9zaXRpb24oKTtcblx0XHRcdGN1clRvcCA9IGN1clBvc2l0aW9uLnRvcDtcblx0XHRcdGN1ckxlZnQgPSBjdXJQb3NpdGlvbi5sZWZ0O1xuXG5cdFx0fSBlbHNlIHtcblx0XHRcdGN1clRvcCA9IHBhcnNlRmxvYXQoIGN1ckNTU1RvcCApIHx8IDA7XG5cdFx0XHRjdXJMZWZ0ID0gcGFyc2VGbG9hdCggY3VyQ1NTTGVmdCApIHx8IDA7XG5cdFx0fVxuXG5cdFx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggb3B0aW9ucyApICkge1xuXG5cdFx0XHQvLyBVc2UgalF1ZXJ5LmV4dGVuZCBoZXJlIHRvIGFsbG93IG1vZGlmaWNhdGlvbiBvZiBjb29yZGluYXRlcyBhcmd1bWVudCAoZ2gtMTg0OClcblx0XHRcdG9wdGlvbnMgPSBvcHRpb25zLmNhbGwoIGVsZW0sIGksIGpRdWVyeS5leHRlbmQoIHt9LCBjdXJPZmZzZXQgKSApO1xuXHRcdH1cblxuXHRcdGlmICggb3B0aW9ucy50b3AgIT0gbnVsbCApIHtcblx0XHRcdHByb3BzLnRvcCA9ICggb3B0aW9ucy50b3AgLSBjdXJPZmZzZXQudG9wICkgKyBjdXJUb3A7XG5cdFx0fVxuXHRcdGlmICggb3B0aW9ucy5sZWZ0ICE9IG51bGwgKSB7XG5cdFx0XHRwcm9wcy5sZWZ0ID0gKCBvcHRpb25zLmxlZnQgLSBjdXJPZmZzZXQubGVmdCApICsgY3VyTGVmdDtcblx0XHR9XG5cblx0XHRpZiAoIFwidXNpbmdcIiBpbiBvcHRpb25zICkge1xuXHRcdFx0b3B0aW9ucy51c2luZy5jYWxsKCBlbGVtLCBwcm9wcyApO1xuXG5cdFx0fSBlbHNlIHtcblx0XHRcdGN1ckVsZW0uY3NzKCBwcm9wcyApO1xuXHRcdH1cblx0fVxufTtcblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRvZmZzZXQ6IGZ1bmN0aW9uKCBvcHRpb25zICkge1xuXG5cdFx0Ly8gUHJlc2VydmUgY2hhaW5pbmcgZm9yIHNldHRlclxuXHRcdGlmICggYXJndW1lbnRzLmxlbmd0aCApIHtcblx0XHRcdHJldHVybiBvcHRpb25zID09PSB1bmRlZmluZWQgP1xuXHRcdFx0XHR0aGlzIDpcblx0XHRcdFx0dGhpcy5lYWNoKCBmdW5jdGlvbiggaSApIHtcblx0XHRcdFx0XHRqUXVlcnkub2Zmc2V0LnNldE9mZnNldCggdGhpcywgb3B0aW9ucywgaSApO1xuXHRcdFx0XHR9ICk7XG5cdFx0fVxuXG5cdFx0dmFyIGRvYywgZG9jRWxlbSwgcmVjdCwgd2luLFxuXHRcdFx0ZWxlbSA9IHRoaXNbIDAgXTtcblxuXHRcdGlmICggIWVsZW0gKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gUmV0dXJuIHplcm9zIGZvciBkaXNjb25uZWN0ZWQgYW5kIGhpZGRlbiAoZGlzcGxheTogbm9uZSkgZWxlbWVudHMgKGdoLTIzMTApXG5cdFx0Ly8gU3VwcG9ydDogSUUgPD0xMSBvbmx5XG5cdFx0Ly8gUnVubmluZyBnZXRCb3VuZGluZ0NsaWVudFJlY3Qgb24gYVxuXHRcdC8vIGRpc2Nvbm5lY3RlZCBub2RlIGluIElFIHRocm93cyBhbiBlcnJvclxuXHRcdGlmICggIWVsZW0uZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGggKSB7XG5cdFx0XHRyZXR1cm4geyB0b3A6IDAsIGxlZnQ6IDAgfTtcblx0XHR9XG5cblx0XHRyZWN0ID0gZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuXHRcdGRvYyA9IGVsZW0ub3duZXJEb2N1bWVudDtcblx0XHRkb2NFbGVtID0gZG9jLmRvY3VtZW50RWxlbWVudDtcblx0XHR3aW4gPSBkb2MuZGVmYXVsdFZpZXc7XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0dG9wOiByZWN0LnRvcCArIHdpbi5wYWdlWU9mZnNldCAtIGRvY0VsZW0uY2xpZW50VG9wLFxuXHRcdFx0bGVmdDogcmVjdC5sZWZ0ICsgd2luLnBhZ2VYT2Zmc2V0IC0gZG9jRWxlbS5jbGllbnRMZWZ0XG5cdFx0fTtcblx0fSxcblxuXHRwb3NpdGlvbjogZnVuY3Rpb24oKSB7XG5cdFx0aWYgKCAhdGhpc1sgMCBdICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdHZhciBvZmZzZXRQYXJlbnQsIG9mZnNldCxcblx0XHRcdGVsZW0gPSB0aGlzWyAwIF0sXG5cdFx0XHRwYXJlbnRPZmZzZXQgPSB7IHRvcDogMCwgbGVmdDogMCB9O1xuXG5cdFx0Ly8gRml4ZWQgZWxlbWVudHMgYXJlIG9mZnNldCBmcm9tIHdpbmRvdyAocGFyZW50T2Zmc2V0ID0ge3RvcDowLCBsZWZ0OiAwfSxcblx0XHQvLyBiZWNhdXNlIGl0IGlzIGl0cyBvbmx5IG9mZnNldCBwYXJlbnRcblx0XHRpZiAoIGpRdWVyeS5jc3MoIGVsZW0sIFwicG9zaXRpb25cIiApID09PSBcImZpeGVkXCIgKSB7XG5cblx0XHRcdC8vIEFzc3VtZSBnZXRCb3VuZGluZ0NsaWVudFJlY3QgaXMgdGhlcmUgd2hlbiBjb21wdXRlZCBwb3NpdGlvbiBpcyBmaXhlZFxuXHRcdFx0b2Zmc2V0ID0gZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuXHRcdH0gZWxzZSB7XG5cblx0XHRcdC8vIEdldCAqcmVhbCogb2Zmc2V0UGFyZW50XG5cdFx0XHRvZmZzZXRQYXJlbnQgPSB0aGlzLm9mZnNldFBhcmVudCgpO1xuXG5cdFx0XHQvLyBHZXQgY29ycmVjdCBvZmZzZXRzXG5cdFx0XHRvZmZzZXQgPSB0aGlzLm9mZnNldCgpO1xuXHRcdFx0aWYgKCAhbm9kZU5hbWUoIG9mZnNldFBhcmVudFsgMCBdLCBcImh0bWxcIiApICkge1xuXHRcdFx0XHRwYXJlbnRPZmZzZXQgPSBvZmZzZXRQYXJlbnQub2Zmc2V0KCk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEFkZCBvZmZzZXRQYXJlbnQgYm9yZGVyc1xuXHRcdFx0cGFyZW50T2Zmc2V0ID0ge1xuXHRcdFx0XHR0b3A6IHBhcmVudE9mZnNldC50b3AgKyBqUXVlcnkuY3NzKCBvZmZzZXRQYXJlbnRbIDAgXSwgXCJib3JkZXJUb3BXaWR0aFwiLCB0cnVlICksXG5cdFx0XHRcdGxlZnQ6IHBhcmVudE9mZnNldC5sZWZ0ICsgalF1ZXJ5LmNzcyggb2Zmc2V0UGFyZW50WyAwIF0sIFwiYm9yZGVyTGVmdFdpZHRoXCIsIHRydWUgKVxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHQvLyBTdWJ0cmFjdCBwYXJlbnQgb2Zmc2V0cyBhbmQgZWxlbWVudCBtYXJnaW5zXG5cdFx0cmV0dXJuIHtcblx0XHRcdHRvcDogb2Zmc2V0LnRvcCAtIHBhcmVudE9mZnNldC50b3AgLSBqUXVlcnkuY3NzKCBlbGVtLCBcIm1hcmdpblRvcFwiLCB0cnVlICksXG5cdFx0XHRsZWZ0OiBvZmZzZXQubGVmdCAtIHBhcmVudE9mZnNldC5sZWZ0IC0galF1ZXJ5LmNzcyggZWxlbSwgXCJtYXJnaW5MZWZ0XCIsIHRydWUgKVxuXHRcdH07XG5cdH0sXG5cblx0Ly8gVGhpcyBtZXRob2Qgd2lsbCByZXR1cm4gZG9jdW1lbnRFbGVtZW50IGluIHRoZSBmb2xsb3dpbmcgY2FzZXM6XG5cdC8vIDEpIEZvciB0aGUgZWxlbWVudCBpbnNpZGUgdGhlIGlmcmFtZSB3aXRob3V0IG9mZnNldFBhcmVudCwgdGhpcyBtZXRob2Qgd2lsbCByZXR1cm5cblx0Ly8gICAgZG9jdW1lbnRFbGVtZW50IG9mIHRoZSBwYXJlbnQgd2luZG93XG5cdC8vIDIpIEZvciB0aGUgaGlkZGVuIG9yIGRldGFjaGVkIGVsZW1lbnRcblx0Ly8gMykgRm9yIGJvZHkgb3IgaHRtbCBlbGVtZW50LCBpLmUuIGluIGNhc2Ugb2YgdGhlIGh0bWwgbm9kZSAtIGl0IHdpbGwgcmV0dXJuIGl0c2VsZlxuXHQvL1xuXHQvLyBidXQgdGhvc2UgZXhjZXB0aW9ucyB3ZXJlIG5ldmVyIHByZXNlbnRlZCBhcyBhIHJlYWwgbGlmZSB1c2UtY2FzZXNcblx0Ly8gYW5kIG1pZ2h0IGJlIGNvbnNpZGVyZWQgYXMgbW9yZSBwcmVmZXJhYmxlIHJlc3VsdHMuXG5cdC8vXG5cdC8vIFRoaXMgbG9naWMsIGhvd2V2ZXIsIGlzIG5vdCBndWFyYW50ZWVkIGFuZCBjYW4gY2hhbmdlIGF0IGFueSBwb2ludCBpbiB0aGUgZnV0dXJlXG5cdG9mZnNldFBhcmVudDogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMubWFwKCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBvZmZzZXRQYXJlbnQgPSB0aGlzLm9mZnNldFBhcmVudDtcblxuXHRcdFx0d2hpbGUgKCBvZmZzZXRQYXJlbnQgJiYgalF1ZXJ5LmNzcyggb2Zmc2V0UGFyZW50LCBcInBvc2l0aW9uXCIgKSA9PT0gXCJzdGF0aWNcIiApIHtcblx0XHRcdFx0b2Zmc2V0UGFyZW50ID0gb2Zmc2V0UGFyZW50Lm9mZnNldFBhcmVudDtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIG9mZnNldFBhcmVudCB8fCBkb2N1bWVudEVsZW1lbnQ7XG5cdFx0fSApO1xuXHR9XG59ICk7XG5cbi8vIENyZWF0ZSBzY3JvbGxMZWZ0IGFuZCBzY3JvbGxUb3AgbWV0aG9kc1xualF1ZXJ5LmVhY2goIHsgc2Nyb2xsTGVmdDogXCJwYWdlWE9mZnNldFwiLCBzY3JvbGxUb3A6IFwicGFnZVlPZmZzZXRcIiB9LCBmdW5jdGlvbiggbWV0aG9kLCBwcm9wICkge1xuXHR2YXIgdG9wID0gXCJwYWdlWU9mZnNldFwiID09PSBwcm9wO1xuXG5cdGpRdWVyeS5mblsgbWV0aG9kIF0gPSBmdW5jdGlvbiggdmFsICkge1xuXHRcdHJldHVybiBhY2Nlc3MoIHRoaXMsIGZ1bmN0aW9uKCBlbGVtLCBtZXRob2QsIHZhbCApIHtcblxuXHRcdFx0Ly8gQ29hbGVzY2UgZG9jdW1lbnRzIGFuZCB3aW5kb3dzXG5cdFx0XHR2YXIgd2luO1xuXHRcdFx0aWYgKCBqUXVlcnkuaXNXaW5kb3coIGVsZW0gKSApIHtcblx0XHRcdFx0d2luID0gZWxlbTtcblx0XHRcdH0gZWxzZSBpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDkgKSB7XG5cdFx0XHRcdHdpbiA9IGVsZW0uZGVmYXVsdFZpZXc7XG5cdFx0XHR9XG5cblx0XHRcdGlmICggdmFsID09PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdHJldHVybiB3aW4gPyB3aW5bIHByb3AgXSA6IGVsZW1bIG1ldGhvZCBdO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIHdpbiApIHtcblx0XHRcdFx0d2luLnNjcm9sbFRvKFxuXHRcdFx0XHRcdCF0b3AgPyB2YWwgOiB3aW4ucGFnZVhPZmZzZXQsXG5cdFx0XHRcdFx0dG9wID8gdmFsIDogd2luLnBhZ2VZT2Zmc2V0XG5cdFx0XHRcdCk7XG5cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGVsZW1bIG1ldGhvZCBdID0gdmFsO1xuXHRcdFx0fVxuXHRcdH0sIG1ldGhvZCwgdmFsLCBhcmd1bWVudHMubGVuZ3RoICk7XG5cdH07XG59ICk7XG5cbi8vIFN1cHBvcnQ6IFNhZmFyaSA8PTcgLSA5LjEsIENocm9tZSA8PTM3IC0gNDlcbi8vIEFkZCB0aGUgdG9wL2xlZnQgY3NzSG9va3MgdXNpbmcgalF1ZXJ5LmZuLnBvc2l0aW9uXG4vLyBXZWJraXQgYnVnOiBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MjkwODRcbi8vIEJsaW5rIGJ1ZzogaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9NTg5MzQ3XG4vLyBnZXRDb21wdXRlZFN0eWxlIHJldHVybnMgcGVyY2VudCB3aGVuIHNwZWNpZmllZCBmb3IgdG9wL2xlZnQvYm90dG9tL3JpZ2h0O1xuLy8gcmF0aGVyIHRoYW4gbWFrZSB0aGUgY3NzIG1vZHVsZSBkZXBlbmQgb24gdGhlIG9mZnNldCBtb2R1bGUsIGp1c3QgY2hlY2sgZm9yIGl0IGhlcmVcbmpRdWVyeS5lYWNoKCBbIFwidG9wXCIsIFwibGVmdFwiIF0sIGZ1bmN0aW9uKCBpLCBwcm9wICkge1xuXHRqUXVlcnkuY3NzSG9va3NbIHByb3AgXSA9IGFkZEdldEhvb2tJZiggc3VwcG9ydC5waXhlbFBvc2l0aW9uLFxuXHRcdGZ1bmN0aW9uKCBlbGVtLCBjb21wdXRlZCApIHtcblx0XHRcdGlmICggY29tcHV0ZWQgKSB7XG5cdFx0XHRcdGNvbXB1dGVkID0gY3VyQ1NTKCBlbGVtLCBwcm9wICk7XG5cblx0XHRcdFx0Ly8gSWYgY3VyQ1NTIHJldHVybnMgcGVyY2VudGFnZSwgZmFsbGJhY2sgdG8gb2Zmc2V0XG5cdFx0XHRcdHJldHVybiBybnVtbm9ucHgudGVzdCggY29tcHV0ZWQgKSA/XG5cdFx0XHRcdFx0alF1ZXJ5KCBlbGVtICkucG9zaXRpb24oKVsgcHJvcCBdICsgXCJweFwiIDpcblx0XHRcdFx0XHRjb21wdXRlZDtcblx0XHRcdH1cblx0XHR9XG5cdCk7XG59ICk7XG5cblxuLy8gQ3JlYXRlIGlubmVySGVpZ2h0LCBpbm5lcldpZHRoLCBoZWlnaHQsIHdpZHRoLCBvdXRlckhlaWdodCBhbmQgb3V0ZXJXaWR0aCBtZXRob2RzXG5qUXVlcnkuZWFjaCggeyBIZWlnaHQ6IFwiaGVpZ2h0XCIsIFdpZHRoOiBcIndpZHRoXCIgfSwgZnVuY3Rpb24oIG5hbWUsIHR5cGUgKSB7XG5cdGpRdWVyeS5lYWNoKCB7IHBhZGRpbmc6IFwiaW5uZXJcIiArIG5hbWUsIGNvbnRlbnQ6IHR5cGUsIFwiXCI6IFwib3V0ZXJcIiArIG5hbWUgfSxcblx0XHRmdW5jdGlvbiggZGVmYXVsdEV4dHJhLCBmdW5jTmFtZSApIHtcblxuXHRcdC8vIE1hcmdpbiBpcyBvbmx5IGZvciBvdXRlckhlaWdodCwgb3V0ZXJXaWR0aFxuXHRcdGpRdWVyeS5mblsgZnVuY05hbWUgXSA9IGZ1bmN0aW9uKCBtYXJnaW4sIHZhbHVlICkge1xuXHRcdFx0dmFyIGNoYWluYWJsZSA9IGFyZ3VtZW50cy5sZW5ndGggJiYgKCBkZWZhdWx0RXh0cmEgfHwgdHlwZW9mIG1hcmdpbiAhPT0gXCJib29sZWFuXCIgKSxcblx0XHRcdFx0ZXh0cmEgPSBkZWZhdWx0RXh0cmEgfHwgKCBtYXJnaW4gPT09IHRydWUgfHwgdmFsdWUgPT09IHRydWUgPyBcIm1hcmdpblwiIDogXCJib3JkZXJcIiApO1xuXG5cdFx0XHRyZXR1cm4gYWNjZXNzKCB0aGlzLCBmdW5jdGlvbiggZWxlbSwgdHlwZSwgdmFsdWUgKSB7XG5cdFx0XHRcdHZhciBkb2M7XG5cblx0XHRcdFx0aWYgKCBqUXVlcnkuaXNXaW5kb3coIGVsZW0gKSApIHtcblxuXHRcdFx0XHRcdC8vICQoIHdpbmRvdyApLm91dGVyV2lkdGgvSGVpZ2h0IHJldHVybiB3L2ggaW5jbHVkaW5nIHNjcm9sbGJhcnMgKGdoLTE3MjkpXG5cdFx0XHRcdFx0cmV0dXJuIGZ1bmNOYW1lLmluZGV4T2YoIFwib3V0ZXJcIiApID09PSAwID9cblx0XHRcdFx0XHRcdGVsZW1bIFwiaW5uZXJcIiArIG5hbWUgXSA6XG5cdFx0XHRcdFx0XHRlbGVtLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudFsgXCJjbGllbnRcIiArIG5hbWUgXTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIEdldCBkb2N1bWVudCB3aWR0aCBvciBoZWlnaHRcblx0XHRcdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSA5ICkge1xuXHRcdFx0XHRcdGRvYyA9IGVsZW0uZG9jdW1lbnRFbGVtZW50O1xuXG5cdFx0XHRcdFx0Ly8gRWl0aGVyIHNjcm9sbFtXaWR0aC9IZWlnaHRdIG9yIG9mZnNldFtXaWR0aC9IZWlnaHRdIG9yIGNsaWVudFtXaWR0aC9IZWlnaHRdLFxuXHRcdFx0XHRcdC8vIHdoaWNoZXZlciBpcyBncmVhdGVzdFxuXHRcdFx0XHRcdHJldHVybiBNYXRoLm1heChcblx0XHRcdFx0XHRcdGVsZW0uYm9keVsgXCJzY3JvbGxcIiArIG5hbWUgXSwgZG9jWyBcInNjcm9sbFwiICsgbmFtZSBdLFxuXHRcdFx0XHRcdFx0ZWxlbS5ib2R5WyBcIm9mZnNldFwiICsgbmFtZSBdLCBkb2NbIFwib2Zmc2V0XCIgKyBuYW1lIF0sXG5cdFx0XHRcdFx0XHRkb2NbIFwiY2xpZW50XCIgKyBuYW1lIF1cblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIHZhbHVlID09PSB1bmRlZmluZWQgP1xuXG5cdFx0XHRcdFx0Ly8gR2V0IHdpZHRoIG9yIGhlaWdodCBvbiB0aGUgZWxlbWVudCwgcmVxdWVzdGluZyBidXQgbm90IGZvcmNpbmcgcGFyc2VGbG9hdFxuXHRcdFx0XHRcdGpRdWVyeS5jc3MoIGVsZW0sIHR5cGUsIGV4dHJhICkgOlxuXG5cdFx0XHRcdFx0Ly8gU2V0IHdpZHRoIG9yIGhlaWdodCBvbiB0aGUgZWxlbWVudFxuXHRcdFx0XHRcdGpRdWVyeS5zdHlsZSggZWxlbSwgdHlwZSwgdmFsdWUsIGV4dHJhICk7XG5cdFx0XHR9LCB0eXBlLCBjaGFpbmFibGUgPyBtYXJnaW4gOiB1bmRlZmluZWQsIGNoYWluYWJsZSApO1xuXHRcdH07XG5cdH0gKTtcbn0gKTtcblxuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cblx0YmluZDogZnVuY3Rpb24oIHR5cGVzLCBkYXRhLCBmbiApIHtcblx0XHRyZXR1cm4gdGhpcy5vbiggdHlwZXMsIG51bGwsIGRhdGEsIGZuICk7XG5cdH0sXG5cdHVuYmluZDogZnVuY3Rpb24oIHR5cGVzLCBmbiApIHtcblx0XHRyZXR1cm4gdGhpcy5vZmYoIHR5cGVzLCBudWxsLCBmbiApO1xuXHR9LFxuXG5cdGRlbGVnYXRlOiBmdW5jdGlvbiggc2VsZWN0b3IsIHR5cGVzLCBkYXRhLCBmbiApIHtcblx0XHRyZXR1cm4gdGhpcy5vbiggdHlwZXMsIHNlbGVjdG9yLCBkYXRhLCBmbiApO1xuXHR9LFxuXHR1bmRlbGVnYXRlOiBmdW5jdGlvbiggc2VsZWN0b3IsIHR5cGVzLCBmbiApIHtcblxuXHRcdC8vICggbmFtZXNwYWNlICkgb3IgKCBzZWxlY3RvciwgdHlwZXMgWywgZm5dIClcblx0XHRyZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA9PT0gMSA/XG5cdFx0XHR0aGlzLm9mZiggc2VsZWN0b3IsIFwiKipcIiApIDpcblx0XHRcdHRoaXMub2ZmKCB0eXBlcywgc2VsZWN0b3IgfHwgXCIqKlwiLCBmbiApO1xuXHR9XG59ICk7XG5cbmpRdWVyeS5ob2xkUmVhZHkgPSBmdW5jdGlvbiggaG9sZCApIHtcblx0aWYgKCBob2xkICkge1xuXHRcdGpRdWVyeS5yZWFkeVdhaXQrKztcblx0fSBlbHNlIHtcblx0XHRqUXVlcnkucmVhZHkoIHRydWUgKTtcblx0fVxufTtcbmpRdWVyeS5pc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcbmpRdWVyeS5wYXJzZUpTT04gPSBKU09OLnBhcnNlO1xualF1ZXJ5Lm5vZGVOYW1lID0gbm9kZU5hbWU7XG5cblxuXG5cbi8vIFJlZ2lzdGVyIGFzIGEgbmFtZWQgQU1EIG1vZHVsZSwgc2luY2UgalF1ZXJ5IGNhbiBiZSBjb25jYXRlbmF0ZWQgd2l0aCBvdGhlclxuLy8gZmlsZXMgdGhhdCBtYXkgdXNlIGRlZmluZSwgYnV0IG5vdCB2aWEgYSBwcm9wZXIgY29uY2F0ZW5hdGlvbiBzY3JpcHQgdGhhdFxuLy8gdW5kZXJzdGFuZHMgYW5vbnltb3VzIEFNRCBtb2R1bGVzLiBBIG5hbWVkIEFNRCBpcyBzYWZlc3QgYW5kIG1vc3Qgcm9idXN0XG4vLyB3YXkgdG8gcmVnaXN0ZXIuIExvd2VyY2FzZSBqcXVlcnkgaXMgdXNlZCBiZWNhdXNlIEFNRCBtb2R1bGUgbmFtZXMgYXJlXG4vLyBkZXJpdmVkIGZyb20gZmlsZSBuYW1lcywgYW5kIGpRdWVyeSBpcyBub3JtYWxseSBkZWxpdmVyZWQgaW4gYSBsb3dlcmNhc2Vcbi8vIGZpbGUgbmFtZS4gRG8gdGhpcyBhZnRlciBjcmVhdGluZyB0aGUgZ2xvYmFsIHNvIHRoYXQgaWYgYW4gQU1EIG1vZHVsZSB3YW50c1xuLy8gdG8gY2FsbCBub0NvbmZsaWN0IHRvIGhpZGUgdGhpcyB2ZXJzaW9uIG9mIGpRdWVyeSwgaXQgd2lsbCB3b3JrLlxuXG4vLyBOb3RlIHRoYXQgZm9yIG1heGltdW0gcG9ydGFiaWxpdHksIGxpYnJhcmllcyB0aGF0IGFyZSBub3QgalF1ZXJ5IHNob3VsZFxuLy8gZGVjbGFyZSB0aGVtc2VsdmVzIGFzIGFub255bW91cyBtb2R1bGVzLCBhbmQgYXZvaWQgc2V0dGluZyBhIGdsb2JhbCBpZiBhblxuLy8gQU1EIGxvYWRlciBpcyBwcmVzZW50LiBqUXVlcnkgaXMgYSBzcGVjaWFsIGNhc2UuIEZvciBtb3JlIGluZm9ybWF0aW9uLCBzZWVcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9qcmJ1cmtlL3JlcXVpcmVqcy93aWtpL1VwZGF0aW5nLWV4aXN0aW5nLWxpYnJhcmllcyN3aWtpLWFub25cblxuaWYgKCB0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCApIHtcblx0ZGVmaW5lKCBcImpxdWVyeVwiLCBbXSwgZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIGpRdWVyeTtcblx0fSApO1xufVxuXG5cblxuXG52YXJcblxuXHQvLyBNYXAgb3ZlciBqUXVlcnkgaW4gY2FzZSBvZiBvdmVyd3JpdGVcblx0X2pRdWVyeSA9IHdpbmRvdy5qUXVlcnksXG5cblx0Ly8gTWFwIG92ZXIgdGhlICQgaW4gY2FzZSBvZiBvdmVyd3JpdGVcblx0XyQgPSB3aW5kb3cuJDtcblxualF1ZXJ5Lm5vQ29uZmxpY3QgPSBmdW5jdGlvbiggZGVlcCApIHtcblx0aWYgKCB3aW5kb3cuJCA9PT0galF1ZXJ5ICkge1xuXHRcdHdpbmRvdy4kID0gXyQ7XG5cdH1cblxuXHRpZiAoIGRlZXAgJiYgd2luZG93LmpRdWVyeSA9PT0galF1ZXJ5ICkge1xuXHRcdHdpbmRvdy5qUXVlcnkgPSBfalF1ZXJ5O1xuXHR9XG5cblx0cmV0dXJuIGpRdWVyeTtcbn07XG5cbi8vIEV4cG9zZSBqUXVlcnkgYW5kICQgaWRlbnRpZmllcnMsIGV2ZW4gaW4gQU1EXG4vLyAoIzcxMDIjY29tbWVudDoxMCwgaHR0cHM6Ly9naXRodWIuY29tL2pxdWVyeS9qcXVlcnkvcHVsbC81NTcpXG4vLyBhbmQgQ29tbW9uSlMgZm9yIGJyb3dzZXIgZW11bGF0b3JzICgjMTM1NjYpXG5pZiAoICFub0dsb2JhbCApIHtcblx0d2luZG93LmpRdWVyeSA9IHdpbmRvdy4kID0galF1ZXJ5O1xufVxuXG5cblxuXG5yZXR1cm4galF1ZXJ5O1xufSApO1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogTG8tRGFzaCAyLjQuMiAoQ3VzdG9tIEJ1aWxkKSA8aHR0cHM6Ly9sb2Rhc2guY29tLz5cbiAqIEJ1aWxkOiBgbG9kYXNoIC1vIC4vZGlzdC9sb2Rhc2guY29tcGF0LmpzYFxuICogQ29weXJpZ2h0IDIwMTItMjAxMyBUaGUgRG9qbyBGb3VuZGF0aW9uIDxodHRwOi8vZG9qb2ZvdW5kYXRpb24ub3JnLz5cbiAqIEJhc2VkIG9uIFVuZGVyc2NvcmUuanMgMS41LjIgPGh0dHA6Ly91bmRlcnNjb3JlanMub3JnL0xJQ0VOU0U+XG4gKiBDb3B5cmlnaHQgMjAwOS0yMDEzIEplcmVteSBBc2hrZW5hcywgRG9jdW1lbnRDbG91ZCBhbmQgSW52ZXN0aWdhdGl2ZSBSZXBvcnRlcnMgJiBFZGl0b3JzXG4gKiBBdmFpbGFibGUgdW5kZXIgTUlUIGxpY2Vuc2UgPGh0dHBzOi8vbG9kYXNoLmNvbS9saWNlbnNlPlxuICovXG47KGZ1bmN0aW9uKCkge1xuXG4gIC8qKiBVc2VkIGFzIGEgc2FmZSByZWZlcmVuY2UgZm9yIGB1bmRlZmluZWRgIGluIHByZSBFUzUgZW52aXJvbm1lbnRzICovXG4gIHZhciB1bmRlZmluZWQ7XG5cbiAgLyoqIFVzZWQgdG8gcG9vbCBhcnJheXMgYW5kIG9iamVjdHMgdXNlZCBpbnRlcm5hbGx5ICovXG4gIHZhciBhcnJheVBvb2wgPSBbXSxcbiAgICAgIG9iamVjdFBvb2wgPSBbXTtcblxuICAvKiogVXNlZCB0byBnZW5lcmF0ZSB1bmlxdWUgSURzICovXG4gIHZhciBpZENvdW50ZXIgPSAwO1xuXG4gIC8qKiBVc2VkIGludGVybmFsbHkgdG8gaW5kaWNhdGUgdmFyaW91cyB0aGluZ3MgKi9cbiAgdmFyIGluZGljYXRvck9iamVjdCA9IHt9O1xuXG4gIC8qKiBVc2VkIHRvIHByZWZpeCBrZXlzIHRvIGF2b2lkIGlzc3VlcyB3aXRoIGBfX3Byb3RvX19gIGFuZCBwcm9wZXJ0aWVzIG9uIGBPYmplY3QucHJvdG90eXBlYCAqL1xuICB2YXIga2V5UHJlZml4ID0gK25ldyBEYXRlICsgJyc7XG5cbiAgLyoqIFVzZWQgYXMgdGhlIHNpemUgd2hlbiBvcHRpbWl6YXRpb25zIGFyZSBlbmFibGVkIGZvciBsYXJnZSBhcnJheXMgKi9cbiAgdmFyIGxhcmdlQXJyYXlTaXplID0gNzU7XG5cbiAgLyoqIFVzZWQgYXMgdGhlIG1heCBzaXplIG9mIHRoZSBgYXJyYXlQb29sYCBhbmQgYG9iamVjdFBvb2xgICovXG4gIHZhciBtYXhQb29sU2l6ZSA9IDQwO1xuXG4gIC8qKiBVc2VkIHRvIGRldGVjdCBhbmQgdGVzdCB3aGl0ZXNwYWNlICovXG4gIHZhciB3aGl0ZXNwYWNlID0gKFxuICAgIC8vIHdoaXRlc3BhY2VcbiAgICAnIFxcdFxceDBCXFxmXFx4QTBcXHVmZWZmJyArXG5cbiAgICAvLyBsaW5lIHRlcm1pbmF0b3JzXG4gICAgJ1xcblxcclxcdTIwMjhcXHUyMDI5JyArXG5cbiAgICAvLyB1bmljb2RlIGNhdGVnb3J5IFwiWnNcIiBzcGFjZSBzZXBhcmF0b3JzXG4gICAgJ1xcdTE2ODBcXHUxODBlXFx1MjAwMFxcdTIwMDFcXHUyMDAyXFx1MjAwM1xcdTIwMDRcXHUyMDA1XFx1MjAwNlxcdTIwMDdcXHUyMDA4XFx1MjAwOVxcdTIwMGFcXHUyMDJmXFx1MjA1ZlxcdTMwMDAnXG4gICk7XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggZW1wdHkgc3RyaW5nIGxpdGVyYWxzIGluIGNvbXBpbGVkIHRlbXBsYXRlIHNvdXJjZSAqL1xuICB2YXIgcmVFbXB0eVN0cmluZ0xlYWRpbmcgPSAvXFxiX19wIFxcKz0gJyc7L2csXG4gICAgICByZUVtcHR5U3RyaW5nTWlkZGxlID0gL1xcYihfX3AgXFwrPSkgJycgXFwrL2csXG4gICAgICByZUVtcHR5U3RyaW5nVHJhaWxpbmcgPSAvKF9fZVxcKC4qP1xcKXxcXGJfX3RcXCkpIFxcK1xcbicnOy9nO1xuXG4gIC8qKlxuICAgKiBVc2VkIHRvIG1hdGNoIEVTNiB0ZW1wbGF0ZSBkZWxpbWl0ZXJzXG4gICAqIGh0dHA6Ly9wZW9wbGUubW96aWxsYS5vcmcvfmpvcmVuZG9yZmYvZXM2LWRyYWZ0Lmh0bWwjc2VjLWxpdGVyYWxzLXN0cmluZy1saXRlcmFsc1xuICAgKi9cbiAgdmFyIHJlRXNUZW1wbGF0ZSA9IC9cXCRcXHsoW15cXFxcfV0qKD86XFxcXC5bXlxcXFx9XSopKilcXH0vZztcblxuICAvKiogVXNlZCB0byBtYXRjaCByZWdleHAgZmxhZ3MgZnJvbSB0aGVpciBjb2VyY2VkIHN0cmluZyB2YWx1ZXMgKi9cbiAgdmFyIHJlRmxhZ3MgPSAvXFx3KiQvO1xuXG4gIC8qKiBVc2VkIHRvIGRldGVjdGVkIG5hbWVkIGZ1bmN0aW9ucyAqL1xuICB2YXIgcmVGdW5jTmFtZSA9IC9eXFxzKmZ1bmN0aW9uWyBcXG5cXHJcXHRdK1xcdy87XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggXCJpbnRlcnBvbGF0ZVwiIHRlbXBsYXRlIGRlbGltaXRlcnMgKi9cbiAgdmFyIHJlSW50ZXJwb2xhdGUgPSAvPCU9KFtcXHNcXFNdKz8pJT4vZztcblxuICAvKiogVXNlZCB0byBtYXRjaCBsZWFkaW5nIHdoaXRlc3BhY2UgYW5kIHplcm9zIHRvIGJlIHJlbW92ZWQgKi9cbiAgdmFyIHJlTGVhZGluZ1NwYWNlc0FuZFplcm9zID0gUmVnRXhwKCdeWycgKyB3aGl0ZXNwYWNlICsgJ10qMCsoPz0uJCknKTtcblxuICAvKiogVXNlZCB0byBlbnN1cmUgY2FwdHVyaW5nIG9yZGVyIG9mIHRlbXBsYXRlIGRlbGltaXRlcnMgKi9cbiAgdmFyIHJlTm9NYXRjaCA9IC8oJF4pLztcblxuICAvKiogVXNlZCB0byBkZXRlY3QgZnVuY3Rpb25zIGNvbnRhaW5pbmcgYSBgdGhpc2AgcmVmZXJlbmNlICovXG4gIHZhciByZVRoaXMgPSAvXFxidGhpc1xcYi87XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggdW5lc2NhcGVkIGNoYXJhY3RlcnMgaW4gY29tcGlsZWQgc3RyaW5nIGxpdGVyYWxzICovXG4gIHZhciByZVVuZXNjYXBlZFN0cmluZyA9IC9bJ1xcblxcclxcdFxcdTIwMjhcXHUyMDI5XFxcXF0vZztcblxuICAvKiogVXNlZCB0byBhc3NpZ24gZGVmYXVsdCBgY29udGV4dGAgb2JqZWN0IHByb3BlcnRpZXMgKi9cbiAgdmFyIGNvbnRleHRQcm9wcyA9IFtcbiAgICAnQXJyYXknLCAnQm9vbGVhbicsICdEYXRlJywgJ0Vycm9yJywgJ0Z1bmN0aW9uJywgJ01hdGgnLCAnTnVtYmVyJywgJ09iamVjdCcsXG4gICAgJ1JlZ0V4cCcsICdTdHJpbmcnLCAnXycsICdhdHRhY2hFdmVudCcsICdjbGVhclRpbWVvdXQnLCAnaXNGaW5pdGUnLCAnaXNOYU4nLFxuICAgICdwYXJzZUludCcsICdzZXRUaW1lb3V0J1xuICBdO1xuXG4gIC8qKiBVc2VkIHRvIGZpeCB0aGUgSlNjcmlwdCBbW0RvbnRFbnVtXV0gYnVnICovXG4gIHZhciBzaGFkb3dlZFByb3BzID0gW1xuICAgICdjb25zdHJ1Y3RvcicsICdoYXNPd25Qcm9wZXJ0eScsICdpc1Byb3RvdHlwZU9mJywgJ3Byb3BlcnR5SXNFbnVtZXJhYmxlJyxcbiAgICAndG9Mb2NhbGVTdHJpbmcnLCAndG9TdHJpbmcnLCAndmFsdWVPZidcbiAgXTtcblxuICAvKiogVXNlZCB0byBtYWtlIHRlbXBsYXRlIHNvdXJjZVVSTHMgZWFzaWVyIHRvIGlkZW50aWZ5ICovXG4gIHZhciB0ZW1wbGF0ZUNvdW50ZXIgPSAwO1xuXG4gIC8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgc2hvcnRjdXRzICovXG4gIHZhciBhcmdzQ2xhc3MgPSAnW29iamVjdCBBcmd1bWVudHNdJyxcbiAgICAgIGFycmF5Q2xhc3MgPSAnW29iamVjdCBBcnJheV0nLFxuICAgICAgYm9vbENsYXNzID0gJ1tvYmplY3QgQm9vbGVhbl0nLFxuICAgICAgZGF0ZUNsYXNzID0gJ1tvYmplY3QgRGF0ZV0nLFxuICAgICAgZXJyb3JDbGFzcyA9ICdbb2JqZWN0IEVycm9yXScsXG4gICAgICBmdW5jQ2xhc3MgPSAnW29iamVjdCBGdW5jdGlvbl0nLFxuICAgICAgbnVtYmVyQ2xhc3MgPSAnW29iamVjdCBOdW1iZXJdJyxcbiAgICAgIG9iamVjdENsYXNzID0gJ1tvYmplY3QgT2JqZWN0XScsXG4gICAgICByZWdleHBDbGFzcyA9ICdbb2JqZWN0IFJlZ0V4cF0nLFxuICAgICAgc3RyaW5nQ2xhc3MgPSAnW29iamVjdCBTdHJpbmddJztcblxuICAvKiogVXNlZCB0byBpZGVudGlmeSBvYmplY3QgY2xhc3NpZmljYXRpb25zIHRoYXQgYF8uY2xvbmVgIHN1cHBvcnRzICovXG4gIHZhciBjbG9uZWFibGVDbGFzc2VzID0ge307XG4gIGNsb25lYWJsZUNsYXNzZXNbZnVuY0NsYXNzXSA9IGZhbHNlO1xuICBjbG9uZWFibGVDbGFzc2VzW2FyZ3NDbGFzc10gPSBjbG9uZWFibGVDbGFzc2VzW2FycmF5Q2xhc3NdID1cbiAgY2xvbmVhYmxlQ2xhc3Nlc1tib29sQ2xhc3NdID0gY2xvbmVhYmxlQ2xhc3Nlc1tkYXRlQ2xhc3NdID1cbiAgY2xvbmVhYmxlQ2xhc3Nlc1tudW1iZXJDbGFzc10gPSBjbG9uZWFibGVDbGFzc2VzW29iamVjdENsYXNzXSA9XG4gIGNsb25lYWJsZUNsYXNzZXNbcmVnZXhwQ2xhc3NdID0gY2xvbmVhYmxlQ2xhc3Nlc1tzdHJpbmdDbGFzc10gPSB0cnVlO1xuXG4gIC8qKiBVc2VkIGFzIGFuIGludGVybmFsIGBfLmRlYm91bmNlYCBvcHRpb25zIG9iamVjdCAqL1xuICB2YXIgZGVib3VuY2VPcHRpb25zID0ge1xuICAgICdsZWFkaW5nJzogZmFsc2UsXG4gICAgJ21heFdhaXQnOiAwLFxuICAgICd0cmFpbGluZyc6IGZhbHNlXG4gIH07XG5cbiAgLyoqIFVzZWQgYXMgdGhlIHByb3BlcnR5IGRlc2NyaXB0b3IgZm9yIGBfX2JpbmREYXRhX19gICovXG4gIHZhciBkZXNjcmlwdG9yID0ge1xuICAgICdjb25maWd1cmFibGUnOiBmYWxzZSxcbiAgICAnZW51bWVyYWJsZSc6IGZhbHNlLFxuICAgICd2YWx1ZSc6IG51bGwsXG4gICAgJ3dyaXRhYmxlJzogZmFsc2VcbiAgfTtcblxuICAvKiogVXNlZCBhcyB0aGUgZGF0YSBvYmplY3QgZm9yIGBpdGVyYXRvclRlbXBsYXRlYCAqL1xuICB2YXIgaXRlcmF0b3JEYXRhID0ge1xuICAgICdhcmdzJzogJycsXG4gICAgJ2FycmF5JzogbnVsbCxcbiAgICAnYm90dG9tJzogJycsXG4gICAgJ2ZpcnN0QXJnJzogJycsXG4gICAgJ2luaXQnOiAnJyxcbiAgICAna2V5cyc6IG51bGwsXG4gICAgJ2xvb3AnOiAnJyxcbiAgICAnc2hhZG93ZWRQcm9wcyc6IG51bGwsXG4gICAgJ3N1cHBvcnQnOiBudWxsLFxuICAgICd0b3AnOiAnJyxcbiAgICAndXNlSGFzJzogZmFsc2VcbiAgfTtcblxuICAvKiogVXNlZCB0byBkZXRlcm1pbmUgaWYgdmFsdWVzIGFyZSBvZiB0aGUgbGFuZ3VhZ2UgdHlwZSBPYmplY3QgKi9cbiAgdmFyIG9iamVjdFR5cGVzID0ge1xuICAgICdib29sZWFuJzogZmFsc2UsXG4gICAgJ2Z1bmN0aW9uJzogdHJ1ZSxcbiAgICAnb2JqZWN0JzogdHJ1ZSxcbiAgICAnbnVtYmVyJzogZmFsc2UsXG4gICAgJ3N0cmluZyc6IGZhbHNlLFxuICAgICd1bmRlZmluZWQnOiBmYWxzZVxuICB9O1xuXG4gIC8qKiBVc2VkIHRvIGVzY2FwZSBjaGFyYWN0ZXJzIGZvciBpbmNsdXNpb24gaW4gY29tcGlsZWQgc3RyaW5nIGxpdGVyYWxzICovXG4gIHZhciBzdHJpbmdFc2NhcGVzID0ge1xuICAgICdcXFxcJzogJ1xcXFwnLFxuICAgIFwiJ1wiOiBcIidcIixcbiAgICAnXFxuJzogJ24nLFxuICAgICdcXHInOiAncicsXG4gICAgJ1xcdCc6ICd0JyxcbiAgICAnXFx1MjAyOCc6ICd1MjAyOCcsXG4gICAgJ1xcdTIwMjknOiAndTIwMjknXG4gIH07XG5cbiAgLyoqIFVzZWQgYXMgYSByZWZlcmVuY2UgdG8gdGhlIGdsb2JhbCBvYmplY3QgKi9cbiAgdmFyIHJvb3QgPSAob2JqZWN0VHlwZXNbdHlwZW9mIHdpbmRvd10gJiYgd2luZG93KSB8fCB0aGlzO1xuXG4gIC8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgZXhwb3J0c2AgKi9cbiAgdmFyIGZyZWVFeHBvcnRzID0gb2JqZWN0VHlwZXNbdHlwZW9mIGV4cG9ydHNdICYmIGV4cG9ydHMgJiYgIWV4cG9ydHMubm9kZVR5cGUgJiYgZXhwb3J0cztcblxuICAvKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYG1vZHVsZWAgKi9cbiAgdmFyIGZyZWVNb2R1bGUgPSBvYmplY3RUeXBlc1t0eXBlb2YgbW9kdWxlXSAmJiBtb2R1bGUgJiYgIW1vZHVsZS5ub2RlVHlwZSAmJiBtb2R1bGU7XG5cbiAgLyoqIERldGVjdCB0aGUgcG9wdWxhciBDb21tb25KUyBleHRlbnNpb24gYG1vZHVsZS5leHBvcnRzYCAqL1xuICB2YXIgbW9kdWxlRXhwb3J0cyA9IGZyZWVNb2R1bGUgJiYgZnJlZU1vZHVsZS5leHBvcnRzID09PSBmcmVlRXhwb3J0cyAmJiBmcmVlRXhwb3J0cztcblxuICAvKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYGdsb2JhbGAgZnJvbSBOb2RlLmpzIG9yIEJyb3dzZXJpZmllZCBjb2RlIGFuZCB1c2UgaXQgYXMgYHJvb3RgICovXG4gIHZhciBmcmVlR2xvYmFsID0gb2JqZWN0VHlwZXNbdHlwZW9mIGdsb2JhbF0gJiYgZ2xvYmFsO1xuICBpZiAoZnJlZUdsb2JhbCAmJiAoZnJlZUdsb2JhbC5nbG9iYWwgPT09IGZyZWVHbG9iYWwgfHwgZnJlZUdsb2JhbC53aW5kb3cgPT09IGZyZWVHbG9iYWwpKSB7XG4gICAgcm9vdCA9IGZyZWVHbG9iYWw7XG4gIH1cblxuICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaW5kZXhPZmAgd2l0aG91dCBzdXBwb3J0IGZvciBiaW5hcnkgc2VhcmNoZXNcbiAgICogb3IgYGZyb21JbmRleGAgY29uc3RyYWludHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBzZWFyY2guXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbZnJvbUluZGV4PTBdIFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUgb3IgYC0xYC5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VJbmRleE9mKGFycmF5LCB2YWx1ZSwgZnJvbUluZGV4KSB7XG4gICAgdmFyIGluZGV4ID0gKGZyb21JbmRleCB8fCAwKSAtIDEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5ID8gYXJyYXkubGVuZ3RoIDogMDtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICBpZiAoYXJyYXlbaW5kZXhdID09PSB2YWx1ZSkge1xuICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiAtMTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBbiBpbXBsZW1lbnRhdGlvbiBvZiBgXy5jb250YWluc2AgZm9yIGNhY2hlIG9iamVjdHMgdGhhdCBtaW1pY3MgdGhlIHJldHVyblxuICAgKiBzaWduYXR1cmUgb2YgYF8uaW5kZXhPZmAgYnkgcmV0dXJuaW5nIGAwYCBpZiB0aGUgdmFsdWUgaXMgZm91bmQsIGVsc2UgYC0xYC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IGNhY2hlIFRoZSBjYWNoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyBgMGAgaWYgYHZhbHVlYCBpcyBmb3VuZCwgZWxzZSBgLTFgLlxuICAgKi9cbiAgZnVuY3Rpb24gY2FjaGVJbmRleE9mKGNhY2hlLCB2YWx1ZSkge1xuICAgIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICAgIGNhY2hlID0gY2FjaGUuY2FjaGU7XG5cbiAgICBpZiAodHlwZSA9PSAnYm9vbGVhbicgfHwgdmFsdWUgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIGNhY2hlW3ZhbHVlXSA/IDAgOiAtMTtcbiAgICB9XG4gICAgaWYgKHR5cGUgIT0gJ251bWJlcicgJiYgdHlwZSAhPSAnc3RyaW5nJykge1xuICAgICAgdHlwZSA9ICdvYmplY3QnO1xuICAgIH1cbiAgICB2YXIga2V5ID0gdHlwZSA9PSAnbnVtYmVyJyA/IHZhbHVlIDoga2V5UHJlZml4ICsgdmFsdWU7XG4gICAgY2FjaGUgPSAoY2FjaGUgPSBjYWNoZVt0eXBlXSkgJiYgY2FjaGVba2V5XTtcblxuICAgIHJldHVybiB0eXBlID09ICdvYmplY3QnXG4gICAgICA/IChjYWNoZSAmJiBiYXNlSW5kZXhPZihjYWNoZSwgdmFsdWUpID4gLTEgPyAwIDogLTEpXG4gICAgICA6IChjYWNoZSA/IDAgOiAtMSk7XG4gIH1cblxuICAvKipcbiAgICogQWRkcyBhIGdpdmVuIHZhbHVlIHRvIHRoZSBjb3JyZXNwb25kaW5nIGNhY2hlIG9iamVjdC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gYWRkIHRvIHRoZSBjYWNoZS5cbiAgICovXG4gIGZ1bmN0aW9uIGNhY2hlUHVzaCh2YWx1ZSkge1xuICAgIHZhciBjYWNoZSA9IHRoaXMuY2FjaGUsXG4gICAgICAgIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG5cbiAgICBpZiAodHlwZSA9PSAnYm9vbGVhbicgfHwgdmFsdWUgPT0gbnVsbCkge1xuICAgICAgY2FjaGVbdmFsdWVdID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHR5cGUgIT0gJ251bWJlcicgJiYgdHlwZSAhPSAnc3RyaW5nJykge1xuICAgICAgICB0eXBlID0gJ29iamVjdCc7XG4gICAgICB9XG4gICAgICB2YXIga2V5ID0gdHlwZSA9PSAnbnVtYmVyJyA/IHZhbHVlIDoga2V5UHJlZml4ICsgdmFsdWUsXG4gICAgICAgICAgdHlwZUNhY2hlID0gY2FjaGVbdHlwZV0gfHwgKGNhY2hlW3R5cGVdID0ge30pO1xuXG4gICAgICBpZiAodHlwZSA9PSAnb2JqZWN0Jykge1xuICAgICAgICAodHlwZUNhY2hlW2tleV0gfHwgKHR5cGVDYWNoZVtrZXldID0gW10pKS5wdXNoKHZhbHVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHR5cGVDYWNoZVtrZXldID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVXNlZCBieSBgXy5tYXhgIGFuZCBgXy5taW5gIGFzIHRoZSBkZWZhdWx0IGNhbGxiYWNrIHdoZW4gYSBnaXZlblxuICAgKiBjb2xsZWN0aW9uIGlzIGEgc3RyaW5nIHZhbHVlLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWUgVGhlIGNoYXJhY3RlciB0byBpbnNwZWN0LlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBjb2RlIHVuaXQgb2YgZ2l2ZW4gY2hhcmFjdGVyLlxuICAgKi9cbiAgZnVuY3Rpb24gY2hhckF0Q2FsbGJhY2sodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUuY2hhckNvZGVBdCgwKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVc2VkIGJ5IGBzb3J0QnlgIHRvIGNvbXBhcmUgdHJhbnNmb3JtZWQgYGNvbGxlY3Rpb25gIGVsZW1lbnRzLCBzdGFibGUgc29ydGluZ1xuICAgKiB0aGVtIGluIGFzY2VuZGluZyBvcmRlci5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IGEgVGhlIG9iamVjdCB0byBjb21wYXJlIHRvIGBiYC5cbiAgICogQHBhcmFtIHtPYmplY3R9IGIgVGhlIG9iamVjdCB0byBjb21wYXJlIHRvIGBhYC5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgc29ydCBvcmRlciBpbmRpY2F0b3Igb2YgYDFgIG9yIGAtMWAuXG4gICAqL1xuICBmdW5jdGlvbiBjb21wYXJlQXNjZW5kaW5nKGEsIGIpIHtcbiAgICB2YXIgYWMgPSBhLmNyaXRlcmlhLFxuICAgICAgICBiYyA9IGIuY3JpdGVyaWEsXG4gICAgICAgIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGFjLmxlbmd0aDtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICB2YXIgdmFsdWUgPSBhY1tpbmRleF0sXG4gICAgICAgICAgb3RoZXIgPSBiY1tpbmRleF07XG5cbiAgICAgIGlmICh2YWx1ZSAhPT0gb3RoZXIpIHtcbiAgICAgICAgaWYgKHZhbHVlID4gb3RoZXIgfHwgdHlwZW9mIHZhbHVlID09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZhbHVlIDwgb3RoZXIgfHwgdHlwZW9mIG90aGVyID09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIC8vIEZpeGVzIGFuIGBBcnJheSNzb3J0YCBidWcgaW4gdGhlIEpTIGVuZ2luZSBlbWJlZGRlZCBpbiBBZG9iZSBhcHBsaWNhdGlvbnNcbiAgICAvLyB0aGF0IGNhdXNlcyBpdCwgdW5kZXIgY2VydGFpbiBjaXJjdW1zdGFuY2VzLCB0byByZXR1cm4gdGhlIHNhbWUgdmFsdWUgZm9yXG4gICAgLy8gYGFgIGFuZCBgYmAuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vamFzaGtlbmFzL3VuZGVyc2NvcmUvcHVsbC8xMjQ3XG4gICAgLy9cbiAgICAvLyBUaGlzIGFsc28gZW5zdXJlcyBhIHN0YWJsZSBzb3J0IGluIFY4IGFuZCBvdGhlciBlbmdpbmVzLlxuICAgIC8vIFNlZSBodHRwOi8vY29kZS5nb29nbGUuY29tL3AvdjgvaXNzdWVzL2RldGFpbD9pZD05MFxuICAgIHJldHVybiBhLmluZGV4IC0gYi5pbmRleDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgY2FjaGUgb2JqZWN0IHRvIG9wdGltaXplIGxpbmVhciBzZWFyY2hlcyBvZiBsYXJnZSBhcnJheXMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheT1bXV0gVGhlIGFycmF5IHRvIHNlYXJjaC5cbiAgICogQHJldHVybnMge251bGx8T2JqZWN0fSBSZXR1cm5zIHRoZSBjYWNoZSBvYmplY3Qgb3IgYG51bGxgIGlmIGNhY2hpbmcgc2hvdWxkIG5vdCBiZSB1c2VkLlxuICAgKi9cbiAgZnVuY3Rpb24gY3JlYXRlQ2FjaGUoYXJyYXkpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICBmaXJzdCA9IGFycmF5WzBdLFxuICAgICAgICBtaWQgPSBhcnJheVsobGVuZ3RoIC8gMikgfCAwXSxcbiAgICAgICAgbGFzdCA9IGFycmF5W2xlbmd0aCAtIDFdO1xuXG4gICAgaWYgKGZpcnN0ICYmIHR5cGVvZiBmaXJzdCA9PSAnb2JqZWN0JyAmJlxuICAgICAgICBtaWQgJiYgdHlwZW9mIG1pZCA9PSAnb2JqZWN0JyAmJiBsYXN0ICYmIHR5cGVvZiBsYXN0ID09ICdvYmplY3QnKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHZhciBjYWNoZSA9IGdldE9iamVjdCgpO1xuICAgIGNhY2hlWydmYWxzZSddID0gY2FjaGVbJ251bGwnXSA9IGNhY2hlWyd0cnVlJ10gPSBjYWNoZVsndW5kZWZpbmVkJ10gPSBmYWxzZTtcblxuICAgIHZhciByZXN1bHQgPSBnZXRPYmplY3QoKTtcbiAgICByZXN1bHQuYXJyYXkgPSBhcnJheTtcbiAgICByZXN1bHQuY2FjaGUgPSBjYWNoZTtcbiAgICByZXN1bHQucHVzaCA9IGNhY2hlUHVzaDtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICByZXN1bHQucHVzaChhcnJheVtpbmRleF0pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIFVzZWQgYnkgYHRlbXBsYXRlYCB0byBlc2NhcGUgY2hhcmFjdGVycyBmb3IgaW5jbHVzaW9uIGluIGNvbXBpbGVkXG4gICAqIHN0cmluZyBsaXRlcmFscy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IG1hdGNoIFRoZSBtYXRjaGVkIGNoYXJhY3RlciB0byBlc2NhcGUuXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGVzY2FwZWQgY2hhcmFjdGVyLlxuICAgKi9cbiAgZnVuY3Rpb24gZXNjYXBlU3RyaW5nQ2hhcihtYXRjaCkge1xuICAgIHJldHVybiAnXFxcXCcgKyBzdHJpbmdFc2NhcGVzW21hdGNoXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIGFuIGFycmF5IGZyb20gdGhlIGFycmF5IHBvb2wgb3IgY3JlYXRlcyBhIG5ldyBvbmUgaWYgdGhlIHBvb2wgaXMgZW1wdHkuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEByZXR1cm5zIHtBcnJheX0gVGhlIGFycmF5IGZyb20gdGhlIHBvb2wuXG4gICAqL1xuICBmdW5jdGlvbiBnZXRBcnJheSgpIHtcbiAgICByZXR1cm4gYXJyYXlQb29sLnBvcCgpIHx8IFtdO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgYW4gb2JqZWN0IGZyb20gdGhlIG9iamVjdCBwb29sIG9yIGNyZWF0ZXMgYSBuZXcgb25lIGlmIHRoZSBwb29sIGlzIGVtcHR5LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBUaGUgb2JqZWN0IGZyb20gdGhlIHBvb2wuXG4gICAqL1xuICBmdW5jdGlvbiBnZXRPYmplY3QoKSB7XG4gICAgcmV0dXJuIG9iamVjdFBvb2wucG9wKCkgfHwge1xuICAgICAgJ2FycmF5JzogbnVsbCxcbiAgICAgICdjYWNoZSc6IG51bGwsXG4gICAgICAnY3JpdGVyaWEnOiBudWxsLFxuICAgICAgJ2ZhbHNlJzogZmFsc2UsXG4gICAgICAnaW5kZXgnOiAwLFxuICAgICAgJ251bGwnOiBmYWxzZSxcbiAgICAgICdudW1iZXInOiBudWxsLFxuICAgICAgJ29iamVjdCc6IG51bGwsXG4gICAgICAncHVzaCc6IG51bGwsXG4gICAgICAnc3RyaW5nJzogbnVsbCxcbiAgICAgICd0cnVlJzogZmFsc2UsXG4gICAgICAndW5kZWZpbmVkJzogZmFsc2UsXG4gICAgICAndmFsdWUnOiBudWxsXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIERPTSBub2RlIGluIElFIDwgOS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgYHZhbHVlYCBpcyBhIERPTSBub2RlLCBlbHNlIGBmYWxzZWAuXG4gICAqL1xuICBmdW5jdGlvbiBpc05vZGUodmFsdWUpIHtcbiAgICAvLyBJRSA8IDkgcHJlc2VudHMgRE9NIG5vZGVzIGFzIGBPYmplY3RgIG9iamVjdHMgZXhjZXB0IHRoZXkgaGF2ZSBgdG9TdHJpbmdgXG4gICAgLy8gbWV0aG9kcyB0aGF0IGFyZSBgdHlwZW9mYCBcInN0cmluZ1wiIGFuZCBzdGlsbCBjYW4gY29lcmNlIG5vZGVzIHRvIHN0cmluZ3NcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlLnRvU3RyaW5nICE9ICdmdW5jdGlvbicgJiYgdHlwZW9mICh2YWx1ZSArICcnKSA9PSAnc3RyaW5nJztcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWxlYXNlcyB0aGUgZ2l2ZW4gYXJyYXkgYmFjayB0byB0aGUgYXJyYXkgcG9vbC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gcmVsZWFzZS5cbiAgICovXG4gIGZ1bmN0aW9uIHJlbGVhc2VBcnJheShhcnJheSkge1xuICAgIGFycmF5Lmxlbmd0aCA9IDA7XG4gICAgaWYgKGFycmF5UG9vbC5sZW5ndGggPCBtYXhQb29sU2l6ZSkge1xuICAgICAgYXJyYXlQb29sLnB1c2goYXJyYXkpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZWxlYXNlcyB0aGUgZ2l2ZW4gb2JqZWN0IGJhY2sgdG8gdGhlIG9iamVjdCBwb29sLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIG9iamVjdCB0byByZWxlYXNlLlxuICAgKi9cbiAgZnVuY3Rpb24gcmVsZWFzZU9iamVjdChvYmplY3QpIHtcbiAgICB2YXIgY2FjaGUgPSBvYmplY3QuY2FjaGU7XG4gICAgaWYgKGNhY2hlKSB7XG4gICAgICByZWxlYXNlT2JqZWN0KGNhY2hlKTtcbiAgICB9XG4gICAgb2JqZWN0LmFycmF5ID0gb2JqZWN0LmNhY2hlID0gb2JqZWN0LmNyaXRlcmlhID0gb2JqZWN0Lm9iamVjdCA9IG9iamVjdC5udW1iZXIgPSBvYmplY3Quc3RyaW5nID0gb2JqZWN0LnZhbHVlID0gbnVsbDtcbiAgICBpZiAob2JqZWN0UG9vbC5sZW5ndGggPCBtYXhQb29sU2l6ZSkge1xuICAgICAgb2JqZWN0UG9vbC5wdXNoKG9iamVjdCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNsaWNlcyB0aGUgYGNvbGxlY3Rpb25gIGZyb20gdGhlIGBzdGFydGAgaW5kZXggdXAgdG8sIGJ1dCBub3QgaW5jbHVkaW5nLFxuICAgKiB0aGUgYGVuZGAgaW5kZXguXG4gICAqXG4gICAqIE5vdGU6IFRoaXMgZnVuY3Rpb24gaXMgdXNlZCBpbnN0ZWFkIG9mIGBBcnJheSNzbGljZWAgdG8gc3VwcG9ydCBub2RlIGxpc3RzXG4gICAqIGluIElFIDwgOSBhbmQgdG8gZW5zdXJlIGRlbnNlIGFycmF5cyBhcmUgcmV0dXJuZWQuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fHN0cmluZ30gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBzbGljZS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0IFRoZSBzdGFydCBpbmRleC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGVuZCBUaGUgZW5kIGluZGV4LlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheS5cbiAgICovXG4gIGZ1bmN0aW9uIHNsaWNlKGFycmF5LCBzdGFydCwgZW5kKSB7XG4gICAgc3RhcnQgfHwgKHN0YXJ0ID0gMCk7XG4gICAgaWYgKHR5cGVvZiBlbmQgPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGVuZCA9IGFycmF5ID8gYXJyYXkubGVuZ3RoIDogMDtcbiAgICB9XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGVuZCAtIHN0YXJ0IHx8IDAsXG4gICAgICAgIHJlc3VsdCA9IEFycmF5KGxlbmd0aCA8IDAgPyAwIDogbGVuZ3RoKTtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICByZXN1bHRbaW5kZXhdID0gYXJyYXlbc3RhcnQgKyBpbmRleF07XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IGBsb2Rhc2hgIGZ1bmN0aW9uIHVzaW5nIHRoZSBnaXZlbiBjb250ZXh0IG9iamVjdC5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgX1xuICAgKiBAY2F0ZWdvcnkgVXRpbGl0aWVzXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbY29udGV4dD1yb290XSBUaGUgY29udGV4dCBvYmplY3QuXG4gICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgYGxvZGFzaGAgZnVuY3Rpb24uXG4gICAqL1xuICBmdW5jdGlvbiBydW5JbkNvbnRleHQoY29udGV4dCkge1xuICAgIC8vIEF2b2lkIGlzc3VlcyB3aXRoIHNvbWUgRVMzIGVudmlyb25tZW50cyB0aGF0IGF0dGVtcHQgdG8gdXNlIHZhbHVlcywgbmFtZWRcbiAgICAvLyBhZnRlciBidWlsdC1pbiBjb25zdHJ1Y3RvcnMgbGlrZSBgT2JqZWN0YCwgZm9yIHRoZSBjcmVhdGlvbiBvZiBsaXRlcmFscy5cbiAgICAvLyBFUzUgY2xlYXJzIHRoaXMgdXAgYnkgc3RhdGluZyB0aGF0IGxpdGVyYWxzIG11c3QgdXNlIGJ1aWx0LWluIGNvbnN0cnVjdG9ycy5cbiAgICAvLyBTZWUgaHR0cDovL2VzNS5naXRodWIuaW8vI3gxMS4xLjUuXG4gICAgY29udGV4dCA9IGNvbnRleHQgPyBfLmRlZmF1bHRzKHJvb3QuT2JqZWN0KCksIGNvbnRleHQsIF8ucGljayhyb290LCBjb250ZXh0UHJvcHMpKSA6IHJvb3Q7XG5cbiAgICAvKiogTmF0aXZlIGNvbnN0cnVjdG9yIHJlZmVyZW5jZXMgKi9cbiAgICB2YXIgQXJyYXkgPSBjb250ZXh0LkFycmF5LFxuICAgICAgICBCb29sZWFuID0gY29udGV4dC5Cb29sZWFuLFxuICAgICAgICBEYXRlID0gY29udGV4dC5EYXRlLFxuICAgICAgICBFcnJvciA9IGNvbnRleHQuRXJyb3IsXG4gICAgICAgIEZ1bmN0aW9uID0gY29udGV4dC5GdW5jdGlvbixcbiAgICAgICAgTWF0aCA9IGNvbnRleHQuTWF0aCxcbiAgICAgICAgTnVtYmVyID0gY29udGV4dC5OdW1iZXIsXG4gICAgICAgIE9iamVjdCA9IGNvbnRleHQuT2JqZWN0LFxuICAgICAgICBSZWdFeHAgPSBjb250ZXh0LlJlZ0V4cCxcbiAgICAgICAgU3RyaW5nID0gY29udGV4dC5TdHJpbmcsXG4gICAgICAgIFR5cGVFcnJvciA9IGNvbnRleHQuVHlwZUVycm9yO1xuXG4gICAgLyoqXG4gICAgICogVXNlZCBmb3IgYEFycmF5YCBtZXRob2QgcmVmZXJlbmNlcy5cbiAgICAgKlxuICAgICAqIE5vcm1hbGx5IGBBcnJheS5wcm90b3R5cGVgIHdvdWxkIHN1ZmZpY2UsIGhvd2V2ZXIsIHVzaW5nIGFuIGFycmF5IGxpdGVyYWxcbiAgICAgKiBhdm9pZHMgaXNzdWVzIGluIE5hcndoYWwuXG4gICAgICovXG4gICAgdmFyIGFycmF5UmVmID0gW107XG5cbiAgICAvKiogVXNlZCBmb3IgbmF0aXZlIG1ldGhvZCByZWZlcmVuY2VzICovXG4gICAgdmFyIGVycm9yUHJvdG8gPSBFcnJvci5wcm90b3R5cGUsXG4gICAgICAgIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZSxcbiAgICAgICAgc3RyaW5nUHJvdG8gPSBTdHJpbmcucHJvdG90eXBlO1xuXG4gICAgLyoqIFVzZWQgdG8gcmVzdG9yZSB0aGUgb3JpZ2luYWwgYF9gIHJlZmVyZW5jZSBpbiBgbm9Db25mbGljdGAgKi9cbiAgICB2YXIgb2xkRGFzaCA9IGNvbnRleHQuXztcblxuICAgIC8qKiBVc2VkIHRvIHJlc29sdmUgdGhlIGludGVybmFsIFtbQ2xhc3NdXSBvZiB2YWx1ZXMgKi9cbiAgICB2YXIgdG9TdHJpbmcgPSBvYmplY3RQcm90by50b1N0cmluZztcblxuICAgIC8qKiBVc2VkIHRvIGRldGVjdCBpZiBhIG1ldGhvZCBpcyBuYXRpdmUgKi9cbiAgICB2YXIgcmVOYXRpdmUgPSBSZWdFeHAoJ14nICtcbiAgICAgIFN0cmluZyh0b1N0cmluZylcbiAgICAgICAgLnJlcGxhY2UoL1suKis/XiR7fSgpfFtcXF1cXFxcXS9nLCAnXFxcXCQmJylcbiAgICAgICAgLnJlcGxhY2UoL3RvU3RyaW5nfCBmb3IgW15cXF1dKy9nLCAnLio/JykgKyAnJCdcbiAgICApO1xuXG4gICAgLyoqIE5hdGl2ZSBtZXRob2Qgc2hvcnRjdXRzICovXG4gICAgdmFyIGNlaWwgPSBNYXRoLmNlaWwsXG4gICAgICAgIGNsZWFyVGltZW91dCA9IGNvbnRleHQuY2xlYXJUaW1lb3V0LFxuICAgICAgICBmbG9vciA9IE1hdGguZmxvb3IsXG4gICAgICAgIGZuVG9TdHJpbmcgPSBGdW5jdGlvbi5wcm90b3R5cGUudG9TdHJpbmcsXG4gICAgICAgIGdldFByb3RvdHlwZU9mID0gaXNOYXRpdmUoZ2V0UHJvdG90eXBlT2YgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YpICYmIGdldFByb3RvdHlwZU9mLFxuICAgICAgICBoYXNPd25Qcm9wZXJ0eSA9IG9iamVjdFByb3RvLmhhc093blByb3BlcnR5LFxuICAgICAgICBwdXNoID0gYXJyYXlSZWYucHVzaCxcbiAgICAgICAgcHJvcGVydHlJc0VudW1lcmFibGUgPSBvYmplY3RQcm90by5wcm9wZXJ0eUlzRW51bWVyYWJsZSxcbiAgICAgICAgc2V0VGltZW91dCA9IGNvbnRleHQuc2V0VGltZW91dCxcbiAgICAgICAgc3BsaWNlID0gYXJyYXlSZWYuc3BsaWNlLFxuICAgICAgICB1bnNoaWZ0ID0gYXJyYXlSZWYudW5zaGlmdDtcblxuICAgIC8qKiBVc2VkIHRvIHNldCBtZXRhIGRhdGEgb24gZnVuY3Rpb25zICovXG4gICAgdmFyIGRlZmluZVByb3BlcnR5ID0gKGZ1bmN0aW9uKCkge1xuICAgICAgLy8gSUUgOCBvbmx5IGFjY2VwdHMgRE9NIGVsZW1lbnRzXG4gICAgICB0cnkge1xuICAgICAgICB2YXIgbyA9IHt9LFxuICAgICAgICAgICAgZnVuYyA9IGlzTmF0aXZlKGZ1bmMgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkpICYmIGZ1bmMsXG4gICAgICAgICAgICByZXN1bHQgPSBmdW5jKG8sIG8sIG8pICYmIGZ1bmM7XG4gICAgICB9IGNhdGNoKGUpIHsgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9KCkpO1xuXG4gICAgLyogTmF0aXZlIG1ldGhvZCBzaG9ydGN1dHMgZm9yIG1ldGhvZHMgd2l0aCB0aGUgc2FtZSBuYW1lIGFzIG90aGVyIGBsb2Rhc2hgIG1ldGhvZHMgKi9cbiAgICB2YXIgbmF0aXZlQ3JlYXRlID0gaXNOYXRpdmUobmF0aXZlQ3JlYXRlID0gT2JqZWN0LmNyZWF0ZSkgJiYgbmF0aXZlQ3JlYXRlLFxuICAgICAgICBuYXRpdmVJc0FycmF5ID0gaXNOYXRpdmUobmF0aXZlSXNBcnJheSA9IEFycmF5LmlzQXJyYXkpICYmIG5hdGl2ZUlzQXJyYXksXG4gICAgICAgIG5hdGl2ZUlzRmluaXRlID0gY29udGV4dC5pc0Zpbml0ZSxcbiAgICAgICAgbmF0aXZlSXNOYU4gPSBjb250ZXh0LmlzTmFOLFxuICAgICAgICBuYXRpdmVLZXlzID0gaXNOYXRpdmUobmF0aXZlS2V5cyA9IE9iamVjdC5rZXlzKSAmJiBuYXRpdmVLZXlzLFxuICAgICAgICBuYXRpdmVNYXggPSBNYXRoLm1heCxcbiAgICAgICAgbmF0aXZlTWluID0gTWF0aC5taW4sXG4gICAgICAgIG5hdGl2ZVBhcnNlSW50ID0gY29udGV4dC5wYXJzZUludCxcbiAgICAgICAgbmF0aXZlUmFuZG9tID0gTWF0aC5yYW5kb207XG5cbiAgICAvKiogVXNlZCB0byBsb29rdXAgYSBidWlsdC1pbiBjb25zdHJ1Y3RvciBieSBbW0NsYXNzXV0gKi9cbiAgICB2YXIgY3RvckJ5Q2xhc3MgPSB7fTtcbiAgICBjdG9yQnlDbGFzc1thcnJheUNsYXNzXSA9IEFycmF5O1xuICAgIGN0b3JCeUNsYXNzW2Jvb2xDbGFzc10gPSBCb29sZWFuO1xuICAgIGN0b3JCeUNsYXNzW2RhdGVDbGFzc10gPSBEYXRlO1xuICAgIGN0b3JCeUNsYXNzW2Z1bmNDbGFzc10gPSBGdW5jdGlvbjtcbiAgICBjdG9yQnlDbGFzc1tvYmplY3RDbGFzc10gPSBPYmplY3Q7XG4gICAgY3RvckJ5Q2xhc3NbbnVtYmVyQ2xhc3NdID0gTnVtYmVyO1xuICAgIGN0b3JCeUNsYXNzW3JlZ2V4cENsYXNzXSA9IFJlZ0V4cDtcbiAgICBjdG9yQnlDbGFzc1tzdHJpbmdDbGFzc10gPSBTdHJpbmc7XG5cbiAgICAvKiogVXNlZCB0byBhdm9pZCBpdGVyYXRpbmcgbm9uLWVudW1lcmFibGUgcHJvcGVydGllcyBpbiBJRSA8IDkgKi9cbiAgICB2YXIgbm9uRW51bVByb3BzID0ge307XG4gICAgbm9uRW51bVByb3BzW2FycmF5Q2xhc3NdID0gbm9uRW51bVByb3BzW2RhdGVDbGFzc10gPSBub25FbnVtUHJvcHNbbnVtYmVyQ2xhc3NdID0geyAnY29uc3RydWN0b3InOiB0cnVlLCAndG9Mb2NhbGVTdHJpbmcnOiB0cnVlLCAndG9TdHJpbmcnOiB0cnVlLCAndmFsdWVPZic6IHRydWUgfTtcbiAgICBub25FbnVtUHJvcHNbYm9vbENsYXNzXSA9IG5vbkVudW1Qcm9wc1tzdHJpbmdDbGFzc10gPSB7ICdjb25zdHJ1Y3Rvcic6IHRydWUsICd0b1N0cmluZyc6IHRydWUsICd2YWx1ZU9mJzogdHJ1ZSB9O1xuICAgIG5vbkVudW1Qcm9wc1tlcnJvckNsYXNzXSA9IG5vbkVudW1Qcm9wc1tmdW5jQ2xhc3NdID0gbm9uRW51bVByb3BzW3JlZ2V4cENsYXNzXSA9IHsgJ2NvbnN0cnVjdG9yJzogdHJ1ZSwgJ3RvU3RyaW5nJzogdHJ1ZSB9O1xuICAgIG5vbkVudW1Qcm9wc1tvYmplY3RDbGFzc10gPSB7ICdjb25zdHJ1Y3Rvcic6IHRydWUgfTtcblxuICAgIChmdW5jdGlvbigpIHtcbiAgICAgIHZhciBsZW5ndGggPSBzaGFkb3dlZFByb3BzLmxlbmd0aDtcbiAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICB2YXIga2V5ID0gc2hhZG93ZWRQcm9wc1tsZW5ndGhdO1xuICAgICAgICBmb3IgKHZhciBjbGFzc05hbWUgaW4gbm9uRW51bVByb3BzKSB7XG4gICAgICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwobm9uRW51bVByb3BzLCBjbGFzc05hbWUpICYmICFoYXNPd25Qcm9wZXJ0eS5jYWxsKG5vbkVudW1Qcm9wc1tjbGFzc05hbWVdLCBrZXkpKSB7XG4gICAgICAgICAgICBub25FbnVtUHJvcHNbY2xhc3NOYW1lXVtrZXldID0gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSgpKTtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGBsb2Rhc2hgIG9iamVjdCB3aGljaCB3cmFwcyB0aGUgZ2l2ZW4gdmFsdWUgdG8gZW5hYmxlIGludHVpdGl2ZVxuICAgICAqIG1ldGhvZCBjaGFpbmluZy5cbiAgICAgKlxuICAgICAqIEluIGFkZGl0aW9uIHRvIExvLURhc2ggbWV0aG9kcywgd3JhcHBlcnMgYWxzbyBoYXZlIHRoZSBmb2xsb3dpbmcgYEFycmF5YCBtZXRob2RzOlxuICAgICAqIGBjb25jYXRgLCBgam9pbmAsIGBwb3BgLCBgcHVzaGAsIGByZXZlcnNlYCwgYHNoaWZ0YCwgYHNsaWNlYCwgYHNvcnRgLCBgc3BsaWNlYCxcbiAgICAgKiBhbmQgYHVuc2hpZnRgXG4gICAgICpcbiAgICAgKiBDaGFpbmluZyBpcyBzdXBwb3J0ZWQgaW4gY3VzdG9tIGJ1aWxkcyBhcyBsb25nIGFzIHRoZSBgdmFsdWVgIG1ldGhvZCBpc1xuICAgICAqIGltcGxpY2l0bHkgb3IgZXhwbGljaXRseSBpbmNsdWRlZCBpbiB0aGUgYnVpbGQuXG4gICAgICpcbiAgICAgKiBUaGUgY2hhaW5hYmxlIHdyYXBwZXIgZnVuY3Rpb25zIGFyZTpcbiAgICAgKiBgYWZ0ZXJgLCBgYXNzaWduYCwgYGJpbmRgLCBgYmluZEFsbGAsIGBiaW5kS2V5YCwgYGNoYWluYCwgYGNvbXBhY3RgLFxuICAgICAqIGBjb21wb3NlYCwgYGNvbmNhdGAsIGBjb3VudEJ5YCwgYGNyZWF0ZWAsIGBjcmVhdGVDYWxsYmFja2AsIGBjdXJyeWAsXG4gICAgICogYGRlYm91bmNlYCwgYGRlZmF1bHRzYCwgYGRlZmVyYCwgYGRlbGF5YCwgYGRpZmZlcmVuY2VgLCBgZmlsdGVyYCwgYGZsYXR0ZW5gLFxuICAgICAqIGBmb3JFYWNoYCwgYGZvckVhY2hSaWdodGAsIGBmb3JJbmAsIGBmb3JJblJpZ2h0YCwgYGZvck93bmAsIGBmb3JPd25SaWdodGAsXG4gICAgICogYGZ1bmN0aW9uc2AsIGBncm91cEJ5YCwgYGluZGV4QnlgLCBgaW5pdGlhbGAsIGBpbnRlcnNlY3Rpb25gLCBgaW52ZXJ0YCxcbiAgICAgKiBgaW52b2tlYCwgYGtleXNgLCBgbWFwYCwgYG1heGAsIGBtZW1vaXplYCwgYG1lcmdlYCwgYG1pbmAsIGBvYmplY3RgLCBgb21pdGAsXG4gICAgICogYG9uY2VgLCBgcGFpcnNgLCBgcGFydGlhbGAsIGBwYXJ0aWFsUmlnaHRgLCBgcGlja2AsIGBwbHVja2AsIGBwdWxsYCwgYHB1c2hgLFxuICAgICAqIGByYW5nZWAsIGByZWplY3RgLCBgcmVtb3ZlYCwgYHJlc3RgLCBgcmV2ZXJzZWAsIGBzaHVmZmxlYCwgYHNsaWNlYCwgYHNvcnRgLFxuICAgICAqIGBzb3J0QnlgLCBgc3BsaWNlYCwgYHRhcGAsIGB0aHJvdHRsZWAsIGB0aW1lc2AsIGB0b0FycmF5YCwgYHRyYW5zZm9ybWAsXG4gICAgICogYHVuaW9uYCwgYHVuaXFgLCBgdW5zaGlmdGAsIGB1bnppcGAsIGB2YWx1ZXNgLCBgd2hlcmVgLCBgd2l0aG91dGAsIGB3cmFwYCxcbiAgICAgKiBhbmQgYHppcGBcbiAgICAgKlxuICAgICAqIFRoZSBub24tY2hhaW5hYmxlIHdyYXBwZXIgZnVuY3Rpb25zIGFyZTpcbiAgICAgKiBgY2xvbmVgLCBgY2xvbmVEZWVwYCwgYGNvbnRhaW5zYCwgYGVzY2FwZWAsIGBldmVyeWAsIGBmaW5kYCwgYGZpbmRJbmRleGAsXG4gICAgICogYGZpbmRLZXlgLCBgZmluZExhc3RgLCBgZmluZExhc3RJbmRleGAsIGBmaW5kTGFzdEtleWAsIGBoYXNgLCBgaWRlbnRpdHlgLFxuICAgICAqIGBpbmRleE9mYCwgYGlzQXJndW1lbnRzYCwgYGlzQXJyYXlgLCBgaXNCb29sZWFuYCwgYGlzRGF0ZWAsIGBpc0VsZW1lbnRgLFxuICAgICAqIGBpc0VtcHR5YCwgYGlzRXF1YWxgLCBgaXNGaW5pdGVgLCBgaXNGdW5jdGlvbmAsIGBpc05hTmAsIGBpc051bGxgLCBgaXNOdW1iZXJgLFxuICAgICAqIGBpc09iamVjdGAsIGBpc1BsYWluT2JqZWN0YCwgYGlzUmVnRXhwYCwgYGlzU3RyaW5nYCwgYGlzVW5kZWZpbmVkYCwgYGpvaW5gLFxuICAgICAqIGBsYXN0SW5kZXhPZmAsIGBtaXhpbmAsIGBub0NvbmZsaWN0YCwgYHBhcnNlSW50YCwgYHBvcGAsIGByYW5kb21gLCBgcmVkdWNlYCxcbiAgICAgKiBgcmVkdWNlUmlnaHRgLCBgcmVzdWx0YCwgYHNoaWZ0YCwgYHNpemVgLCBgc29tZWAsIGBzb3J0ZWRJbmRleGAsIGBydW5JbkNvbnRleHRgLFxuICAgICAqIGB0ZW1wbGF0ZWAsIGB1bmVzY2FwZWAsIGB1bmlxdWVJZGAsIGFuZCBgdmFsdWVgXG4gICAgICpcbiAgICAgKiBUaGUgd3JhcHBlciBmdW5jdGlvbnMgYGZpcnN0YCBhbmQgYGxhc3RgIHJldHVybiB3cmFwcGVkIHZhbHVlcyB3aGVuIGBuYCBpc1xuICAgICAqIHByb3ZpZGVkLCBvdGhlcndpc2UgdGhleSByZXR1cm4gdW53cmFwcGVkIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEV4cGxpY2l0IGNoYWluaW5nIGNhbiBiZSBlbmFibGVkIGJ5IHVzaW5nIHRoZSBgXy5jaGFpbmAgbWV0aG9kLlxuICAgICAqXG4gICAgICogQG5hbWUgX1xuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBjYXRlZ29yeSBDaGFpbmluZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHdyYXAgaW4gYSBgbG9kYXNoYCBpbnN0YW5jZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGEgYGxvZGFzaGAgaW5zdGFuY2UuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB3cmFwcGVkID0gXyhbMSwgMiwgM10pO1xuICAgICAqXG4gICAgICogLy8gcmV0dXJucyBhbiB1bndyYXBwZWQgdmFsdWVcbiAgICAgKiB3cmFwcGVkLnJlZHVjZShmdW5jdGlvbihzdW0sIG51bSkge1xuICAgICAqICAgcmV0dXJuIHN1bSArIG51bTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiA2XG4gICAgICpcbiAgICAgKiAvLyByZXR1cm5zIGEgd3JhcHBlZCB2YWx1ZVxuICAgICAqIHZhciBzcXVhcmVzID0gd3JhcHBlZC5tYXAoZnVuY3Rpb24obnVtKSB7XG4gICAgICogICByZXR1cm4gbnVtICogbnVtO1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogXy5pc0FycmF5KHNxdWFyZXMpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXkoc3F1YXJlcy52YWx1ZSgpKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gbG9kYXNoKHZhbHVlKSB7XG4gICAgICAvLyBkb24ndCB3cmFwIGlmIGFscmVhZHkgd3JhcHBlZCwgZXZlbiBpZiB3cmFwcGVkIGJ5IGEgZGlmZmVyZW50IGBsb2Rhc2hgIGNvbnN0cnVjdG9yXG4gICAgICByZXR1cm4gKHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0JyAmJiAhaXNBcnJheSh2YWx1ZSkgJiYgaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwgJ19fd3JhcHBlZF9fJykpXG4gICAgICAgPyB2YWx1ZVxuICAgICAgIDogbmV3IGxvZGFzaFdyYXBwZXIodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgZmFzdCBwYXRoIGZvciBjcmVhdGluZyBgbG9kYXNoYCB3cmFwcGVyIG9iamVjdHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHdyYXAgaW4gYSBgbG9kYXNoYCBpbnN0YW5jZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGNoYWluQWxsIEEgZmxhZyB0byBlbmFibGUgY2hhaW5pbmcgZm9yIGFsbCBtZXRob2RzXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBhIGBsb2Rhc2hgIGluc3RhbmNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxvZGFzaFdyYXBwZXIodmFsdWUsIGNoYWluQWxsKSB7XG4gICAgICB0aGlzLl9fY2hhaW5fXyA9ICEhY2hhaW5BbGw7XG4gICAgICB0aGlzLl9fd3JhcHBlZF9fID0gdmFsdWU7XG4gICAgfVxuICAgIC8vIGVuc3VyZSBgbmV3IGxvZGFzaFdyYXBwZXJgIGlzIGFuIGluc3RhbmNlIG9mIGBsb2Rhc2hgXG4gICAgbG9kYXNoV3JhcHBlci5wcm90b3R5cGUgPSBsb2Rhc2gucHJvdG90eXBlO1xuXG4gICAgLyoqXG4gICAgICogQW4gb2JqZWN0IHVzZWQgdG8gZmxhZyBlbnZpcm9ubWVudHMgZmVhdHVyZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAdHlwZSBPYmplY3RcbiAgICAgKi9cbiAgICB2YXIgc3VwcG9ydCA9IGxvZGFzaC5zdXBwb3J0ID0ge307XG5cbiAgICAoZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgY3RvciA9IGZ1bmN0aW9uKCkgeyB0aGlzLnggPSAxOyB9LFxuICAgICAgICAgIG9iamVjdCA9IHsgJzAnOiAxLCAnbGVuZ3RoJzogMSB9LFxuICAgICAgICAgIHByb3BzID0gW107XG5cbiAgICAgIGN0b3IucHJvdG90eXBlID0geyAndmFsdWVPZic6IDEsICd5JzogMSB9O1xuICAgICAgZm9yICh2YXIga2V5IGluIG5ldyBjdG9yKSB7IHByb3BzLnB1c2goa2V5KTsgfVxuICAgICAgZm9yIChrZXkgaW4gYXJndW1lbnRzKSB7IH1cblxuICAgICAgLyoqXG4gICAgICAgKiBEZXRlY3QgaWYgYW4gYGFyZ3VtZW50c2Agb2JqZWN0J3MgW1tDbGFzc11dIGlzIHJlc29sdmFibGUgKGFsbCBidXQgRmlyZWZveCA8IDQsIElFIDwgOSkuXG4gICAgICAgKlxuICAgICAgICogQG1lbWJlck9mIF8uc3VwcG9ydFxuICAgICAgICogQHR5cGUgYm9vbGVhblxuICAgICAgICovXG4gICAgICBzdXBwb3J0LmFyZ3NDbGFzcyA9IHRvU3RyaW5nLmNhbGwoYXJndW1lbnRzKSA9PSBhcmdzQ2xhc3M7XG5cbiAgICAgIC8qKlxuICAgICAgICogRGV0ZWN0IGlmIGBhcmd1bWVudHNgIG9iamVjdHMgYXJlIGBPYmplY3RgIG9iamVjdHMgKGFsbCBidXQgTmFyd2hhbCBhbmQgT3BlcmEgPCAxMC41KS5cbiAgICAgICAqXG4gICAgICAgKiBAbWVtYmVyT2YgXy5zdXBwb3J0XG4gICAgICAgKiBAdHlwZSBib29sZWFuXG4gICAgICAgKi9cbiAgICAgIHN1cHBvcnQuYXJnc09iamVjdCA9IGFyZ3VtZW50cy5jb25zdHJ1Y3RvciA9PSBPYmplY3QgJiYgIShhcmd1bWVudHMgaW5zdGFuY2VvZiBBcnJheSk7XG5cbiAgICAgIC8qKlxuICAgICAgICogRGV0ZWN0IGlmIGBuYW1lYCBvciBgbWVzc2FnZWAgcHJvcGVydGllcyBvZiBgRXJyb3IucHJvdG90eXBlYCBhcmVcbiAgICAgICAqIGVudW1lcmFibGUgYnkgZGVmYXVsdC4gKElFIDwgOSwgU2FmYXJpIDwgNS4xKVxuICAgICAgICpcbiAgICAgICAqIEBtZW1iZXJPZiBfLnN1cHBvcnRcbiAgICAgICAqIEB0eXBlIGJvb2xlYW5cbiAgICAgICAqL1xuICAgICAgc3VwcG9ydC5lbnVtRXJyb3JQcm9wcyA9IHByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwoZXJyb3JQcm90bywgJ21lc3NhZ2UnKSB8fCBwcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKGVycm9yUHJvdG8sICduYW1lJyk7XG5cbiAgICAgIC8qKlxuICAgICAgICogRGV0ZWN0IGlmIGBwcm90b3R5cGVgIHByb3BlcnRpZXMgYXJlIGVudW1lcmFibGUgYnkgZGVmYXVsdC5cbiAgICAgICAqXG4gICAgICAgKiBGaXJlZm94IDwgMy42LCBPcGVyYSA+IDkuNTAgLSBPcGVyYSA8IDExLjYwLCBhbmQgU2FmYXJpIDwgNS4xXG4gICAgICAgKiAoaWYgdGhlIHByb3RvdHlwZSBvciBhIHByb3BlcnR5IG9uIHRoZSBwcm90b3R5cGUgaGFzIGJlZW4gc2V0KVxuICAgICAgICogaW5jb3JyZWN0bHkgc2V0cyBhIGZ1bmN0aW9uJ3MgYHByb3RvdHlwZWAgcHJvcGVydHkgW1tFbnVtZXJhYmxlXV1cbiAgICAgICAqIHZhbHVlIHRvIGB0cnVlYC5cbiAgICAgICAqXG4gICAgICAgKiBAbWVtYmVyT2YgXy5zdXBwb3J0XG4gICAgICAgKiBAdHlwZSBib29sZWFuXG4gICAgICAgKi9cbiAgICAgIHN1cHBvcnQuZW51bVByb3RvdHlwZXMgPSBwcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKGN0b3IsICdwcm90b3R5cGUnKTtcblxuICAgICAgLyoqXG4gICAgICAgKiBEZXRlY3QgaWYgZnVuY3Rpb25zIGNhbiBiZSBkZWNvbXBpbGVkIGJ5IGBGdW5jdGlvbiN0b1N0cmluZ2BcbiAgICAgICAqIChhbGwgYnV0IFBTMyBhbmQgb2xkZXIgT3BlcmEgbW9iaWxlIGJyb3dzZXJzICYgYXZvaWRlZCBpbiBXaW5kb3dzIDggYXBwcykuXG4gICAgICAgKlxuICAgICAgICogQG1lbWJlck9mIF8uc3VwcG9ydFxuICAgICAgICogQHR5cGUgYm9vbGVhblxuICAgICAgICovXG4gICAgICBzdXBwb3J0LmZ1bmNEZWNvbXAgPSAhaXNOYXRpdmUoY29udGV4dC5XaW5SVEVycm9yKSAmJiByZVRoaXMudGVzdChydW5JbkNvbnRleHQpO1xuXG4gICAgICAvKipcbiAgICAgICAqIERldGVjdCBpZiBgRnVuY3Rpb24jbmFtZWAgaXMgc3VwcG9ydGVkIChhbGwgYnV0IElFKS5cbiAgICAgICAqXG4gICAgICAgKiBAbWVtYmVyT2YgXy5zdXBwb3J0XG4gICAgICAgKiBAdHlwZSBib29sZWFuXG4gICAgICAgKi9cbiAgICAgIHN1cHBvcnQuZnVuY05hbWVzID0gdHlwZW9mIEZ1bmN0aW9uLm5hbWUgPT0gJ3N0cmluZyc7XG5cbiAgICAgIC8qKlxuICAgICAgICogRGV0ZWN0IGlmIGBhcmd1bWVudHNgIG9iamVjdCBpbmRleGVzIGFyZSBub24tZW51bWVyYWJsZVxuICAgICAgICogKEZpcmVmb3ggPCA0LCBJRSA8IDksIFBoYW50b21KUywgU2FmYXJpIDwgNS4xKS5cbiAgICAgICAqXG4gICAgICAgKiBAbWVtYmVyT2YgXy5zdXBwb3J0XG4gICAgICAgKiBAdHlwZSBib29sZWFuXG4gICAgICAgKi9cbiAgICAgIHN1cHBvcnQubm9uRW51bUFyZ3MgPSBrZXkgIT0gMDtcblxuICAgICAgLyoqXG4gICAgICAgKiBEZXRlY3QgaWYgcHJvcGVydGllcyBzaGFkb3dpbmcgdGhvc2Ugb24gYE9iamVjdC5wcm90b3R5cGVgIGFyZSBub24tZW51bWVyYWJsZS5cbiAgICAgICAqXG4gICAgICAgKiBJbiBJRSA8IDkgYW4gb2JqZWN0cyBvd24gcHJvcGVydGllcywgc2hhZG93aW5nIG5vbi1lbnVtZXJhYmxlIG9uZXMsIGFyZVxuICAgICAgICogbWFkZSBub24tZW51bWVyYWJsZSBhcyB3ZWxsIChhLmsuYSB0aGUgSlNjcmlwdCBbW0RvbnRFbnVtXV0gYnVnKS5cbiAgICAgICAqXG4gICAgICAgKiBAbWVtYmVyT2YgXy5zdXBwb3J0XG4gICAgICAgKiBAdHlwZSBib29sZWFuXG4gICAgICAgKi9cbiAgICAgIHN1cHBvcnQubm9uRW51bVNoYWRvd3MgPSAhL3ZhbHVlT2YvLnRlc3QocHJvcHMpO1xuXG4gICAgICAvKipcbiAgICAgICAqIERldGVjdCBpZiBvd24gcHJvcGVydGllcyBhcmUgaXRlcmF0ZWQgYWZ0ZXIgaW5oZXJpdGVkIHByb3BlcnRpZXMgKGFsbCBidXQgSUUgPCA5KS5cbiAgICAgICAqXG4gICAgICAgKiBAbWVtYmVyT2YgXy5zdXBwb3J0XG4gICAgICAgKiBAdHlwZSBib29sZWFuXG4gICAgICAgKi9cbiAgICAgIHN1cHBvcnQub3duTGFzdCA9IHByb3BzWzBdICE9ICd4JztcblxuICAgICAgLyoqXG4gICAgICAgKiBEZXRlY3QgaWYgYEFycmF5I3NoaWZ0YCBhbmQgYEFycmF5I3NwbGljZWAgYXVnbWVudCBhcnJheS1saWtlIG9iamVjdHMgY29ycmVjdGx5LlxuICAgICAgICpcbiAgICAgICAqIEZpcmVmb3ggPCAxMCwgSUUgY29tcGF0aWJpbGl0eSBtb2RlLCBhbmQgSUUgPCA5IGhhdmUgYnVnZ3kgQXJyYXkgYHNoaWZ0KClgXG4gICAgICAgKiBhbmQgYHNwbGljZSgpYCBmdW5jdGlvbnMgdGhhdCBmYWlsIHRvIHJlbW92ZSB0aGUgbGFzdCBlbGVtZW50LCBgdmFsdWVbMF1gLFxuICAgICAgICogb2YgYXJyYXktbGlrZSBvYmplY3RzIGV2ZW4gdGhvdWdoIHRoZSBgbGVuZ3RoYCBwcm9wZXJ0eSBpcyBzZXQgdG8gYDBgLlxuICAgICAgICogVGhlIGBzaGlmdCgpYCBtZXRob2QgaXMgYnVnZ3kgaW4gSUUgOCBjb21wYXRpYmlsaXR5IG1vZGUsIHdoaWxlIGBzcGxpY2UoKWBcbiAgICAgICAqIGlzIGJ1Z2d5IHJlZ2FyZGxlc3Mgb2YgbW9kZSBpbiBJRSA8IDkgYW5kIGJ1Z2d5IGluIGNvbXBhdGliaWxpdHkgbW9kZSBpbiBJRSA5LlxuICAgICAgICpcbiAgICAgICAqIEBtZW1iZXJPZiBfLnN1cHBvcnRcbiAgICAgICAqIEB0eXBlIGJvb2xlYW5cbiAgICAgICAqL1xuICAgICAgc3VwcG9ydC5zcGxpY2VPYmplY3RzID0gKGFycmF5UmVmLnNwbGljZS5jYWxsKG9iamVjdCwgMCwgMSksICFvYmplY3RbMF0pO1xuXG4gICAgICAvKipcbiAgICAgICAqIERldGVjdCBsYWNrIG9mIHN1cHBvcnQgZm9yIGFjY2Vzc2luZyBzdHJpbmcgY2hhcmFjdGVycyBieSBpbmRleC5cbiAgICAgICAqXG4gICAgICAgKiBJRSA8IDggY2FuJ3QgYWNjZXNzIGNoYXJhY3RlcnMgYnkgaW5kZXggYW5kIElFIDggY2FuIG9ubHkgYWNjZXNzXG4gICAgICAgKiBjaGFyYWN0ZXJzIGJ5IGluZGV4IG9uIHN0cmluZyBsaXRlcmFscy5cbiAgICAgICAqXG4gICAgICAgKiBAbWVtYmVyT2YgXy5zdXBwb3J0XG4gICAgICAgKiBAdHlwZSBib29sZWFuXG4gICAgICAgKi9cbiAgICAgIHN1cHBvcnQudW5pbmRleGVkQ2hhcnMgPSAoJ3gnWzBdICsgT2JqZWN0KCd4JylbMF0pICE9ICd4eCc7XG5cbiAgICAgIC8qKlxuICAgICAgICogRGV0ZWN0IGlmIGEgRE9NIG5vZGUncyBbW0NsYXNzXV0gaXMgcmVzb2x2YWJsZSAoYWxsIGJ1dCBJRSA8IDkpXG4gICAgICAgKiBhbmQgdGhhdCB0aGUgSlMgZW5naW5lIGVycm9ycyB3aGVuIGF0dGVtcHRpbmcgdG8gY29lcmNlIGFuIG9iamVjdCB0b1xuICAgICAgICogYSBzdHJpbmcgd2l0aG91dCBhIGB0b1N0cmluZ2AgZnVuY3Rpb24uXG4gICAgICAgKlxuICAgICAgICogQG1lbWJlck9mIF8uc3VwcG9ydFxuICAgICAgICogQHR5cGUgYm9vbGVhblxuICAgICAgICovXG4gICAgICB0cnkge1xuICAgICAgICBzdXBwb3J0Lm5vZGVDbGFzcyA9ICEodG9TdHJpbmcuY2FsbChkb2N1bWVudCkgPT0gb2JqZWN0Q2xhc3MgJiYgISh7ICd0b1N0cmluZyc6IDAgfSArICcnKSk7XG4gICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgc3VwcG9ydC5ub2RlQ2xhc3MgPSB0cnVlO1xuICAgICAgfVxuICAgIH0oMSkpO1xuXG4gICAgLyoqXG4gICAgICogQnkgZGVmYXVsdCwgdGhlIHRlbXBsYXRlIGRlbGltaXRlcnMgdXNlZCBieSBMby1EYXNoIGFyZSBzaW1pbGFyIHRvIHRob3NlIGluXG4gICAgICogZW1iZWRkZWQgUnVieSAoRVJCKS4gQ2hhbmdlIHRoZSBmb2xsb3dpbmcgdGVtcGxhdGUgc2V0dGluZ3MgdG8gdXNlIGFsdGVybmF0aXZlXG4gICAgICogZGVsaW1pdGVycy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEB0eXBlIE9iamVjdFxuICAgICAqL1xuICAgIGxvZGFzaC50ZW1wbGF0ZVNldHRpbmdzID0ge1xuXG4gICAgICAvKipcbiAgICAgICAqIFVzZWQgdG8gZGV0ZWN0IGBkYXRhYCBwcm9wZXJ0eSB2YWx1ZXMgdG8gYmUgSFRNTC1lc2NhcGVkLlxuICAgICAgICpcbiAgICAgICAqIEBtZW1iZXJPZiBfLnRlbXBsYXRlU2V0dGluZ3NcbiAgICAgICAqIEB0eXBlIFJlZ0V4cFxuICAgICAgICovXG4gICAgICAnZXNjYXBlJzogLzwlLShbXFxzXFxTXSs/KSU+L2csXG5cbiAgICAgIC8qKlxuICAgICAgICogVXNlZCB0byBkZXRlY3QgY29kZSB0byBiZSBldmFsdWF0ZWQuXG4gICAgICAgKlxuICAgICAgICogQG1lbWJlck9mIF8udGVtcGxhdGVTZXR0aW5nc1xuICAgICAgICogQHR5cGUgUmVnRXhwXG4gICAgICAgKi9cbiAgICAgICdldmFsdWF0ZSc6IC88JShbXFxzXFxTXSs/KSU+L2csXG5cbiAgICAgIC8qKlxuICAgICAgICogVXNlZCB0byBkZXRlY3QgYGRhdGFgIHByb3BlcnR5IHZhbHVlcyB0byBpbmplY3QuXG4gICAgICAgKlxuICAgICAgICogQG1lbWJlck9mIF8udGVtcGxhdGVTZXR0aW5nc1xuICAgICAgICogQHR5cGUgUmVnRXhwXG4gICAgICAgKi9cbiAgICAgICdpbnRlcnBvbGF0ZSc6IHJlSW50ZXJwb2xhdGUsXG5cbiAgICAgIC8qKlxuICAgICAgICogVXNlZCB0byByZWZlcmVuY2UgdGhlIGRhdGEgb2JqZWN0IGluIHRoZSB0ZW1wbGF0ZSB0ZXh0LlxuICAgICAgICpcbiAgICAgICAqIEBtZW1iZXJPZiBfLnRlbXBsYXRlU2V0dGluZ3NcbiAgICAgICAqIEB0eXBlIHN0cmluZ1xuICAgICAgICovXG4gICAgICAndmFyaWFibGUnOiAnJyxcblxuICAgICAgLyoqXG4gICAgICAgKiBVc2VkIHRvIGltcG9ydCB2YXJpYWJsZXMgaW50byB0aGUgY29tcGlsZWQgdGVtcGxhdGUuXG4gICAgICAgKlxuICAgICAgICogQG1lbWJlck9mIF8udGVtcGxhdGVTZXR0aW5nc1xuICAgICAgICogQHR5cGUgT2JqZWN0XG4gICAgICAgKi9cbiAgICAgICdpbXBvcnRzJzoge1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIHJlZmVyZW5jZSB0byB0aGUgYGxvZGFzaGAgZnVuY3Rpb24uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXJPZiBfLnRlbXBsYXRlU2V0dGluZ3MuaW1wb3J0c1xuICAgICAgICAgKiBAdHlwZSBGdW5jdGlvblxuICAgICAgICAgKi9cbiAgICAgICAgJ18nOiBsb2Rhc2hcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBUaGUgdGVtcGxhdGUgdXNlZCB0byBjcmVhdGUgaXRlcmF0b3IgZnVuY3Rpb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YSBUaGUgZGF0YSBvYmplY3QgdXNlZCB0byBwb3B1bGF0ZSB0aGUgdGV4dC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBpbnRlcnBvbGF0ZWQgdGV4dC5cbiAgICAgKi9cbiAgICB2YXIgaXRlcmF0b3JUZW1wbGF0ZSA9IGZ1bmN0aW9uKG9iaikge1xuXG4gICAgICB2YXIgX19wID0gJ3ZhciBpbmRleCwgaXRlcmFibGUgPSAnICtcbiAgICAgIChvYmouZmlyc3RBcmcpICtcbiAgICAgICcsIHJlc3VsdCA9ICcgK1xuICAgICAgKG9iai5pbml0KSArXG4gICAgICAnO1xcbmlmICghaXRlcmFibGUpIHJldHVybiByZXN1bHQ7XFxuJyArXG4gICAgICAob2JqLnRvcCkgK1xuICAgICAgJzsnO1xuICAgICAgIGlmIChvYmouYXJyYXkpIHtcbiAgICAgIF9fcCArPSAnXFxudmFyIGxlbmd0aCA9IGl0ZXJhYmxlLmxlbmd0aDsgaW5kZXggPSAtMTtcXG5pZiAoJyArXG4gICAgICAob2JqLmFycmF5KSArXG4gICAgICAnKSB7ICAnO1xuICAgICAgIGlmIChzdXBwb3J0LnVuaW5kZXhlZENoYXJzKSB7XG4gICAgICBfX3AgKz0gJ1xcbiAgaWYgKGlzU3RyaW5nKGl0ZXJhYmxlKSkge1xcbiAgICBpdGVyYWJsZSA9IGl0ZXJhYmxlLnNwbGl0KFxcJ1xcJylcXG4gIH0gICc7XG4gICAgICAgfVxuICAgICAgX19wICs9ICdcXG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XFxuICAgICcgK1xuICAgICAgKG9iai5sb29wKSArXG4gICAgICAnO1xcbiAgfVxcbn1cXG5lbHNlIHsgICc7XG4gICAgICAgfSBlbHNlIGlmIChzdXBwb3J0Lm5vbkVudW1BcmdzKSB7XG4gICAgICBfX3AgKz0gJ1xcbiAgdmFyIGxlbmd0aCA9IGl0ZXJhYmxlLmxlbmd0aDsgaW5kZXggPSAtMTtcXG4gIGlmIChsZW5ndGggJiYgaXNBcmd1bWVudHMoaXRlcmFibGUpKSB7XFxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XFxuICAgICAgaW5kZXggKz0gXFwnXFwnO1xcbiAgICAgICcgK1xuICAgICAgKG9iai5sb29wKSArXG4gICAgICAnO1xcbiAgICB9XFxuICB9IGVsc2UgeyAgJztcbiAgICAgICB9XG5cbiAgICAgICBpZiAoc3VwcG9ydC5lbnVtUHJvdG90eXBlcykge1xuICAgICAgX19wICs9ICdcXG4gIHZhciBza2lwUHJvdG8gPSB0eXBlb2YgaXRlcmFibGUgPT0gXFwnZnVuY3Rpb25cXCc7XFxuICAnO1xuICAgICAgIH1cblxuICAgICAgIGlmIChzdXBwb3J0LmVudW1FcnJvclByb3BzKSB7XG4gICAgICBfX3AgKz0gJ1xcbiAgdmFyIHNraXBFcnJvclByb3BzID0gaXRlcmFibGUgPT09IGVycm9yUHJvdG8gfHwgaXRlcmFibGUgaW5zdGFuY2VvZiBFcnJvcjtcXG4gICc7XG4gICAgICAgfVxuXG4gICAgICAgICAgdmFyIGNvbmRpdGlvbnMgPSBbXTsgICAgaWYgKHN1cHBvcnQuZW51bVByb3RvdHlwZXMpIHsgY29uZGl0aW9ucy5wdXNoKCchKHNraXBQcm90byAmJiBpbmRleCA9PSBcInByb3RvdHlwZVwiKScpOyB9ICAgIGlmIChzdXBwb3J0LmVudW1FcnJvclByb3BzKSAgeyBjb25kaXRpb25zLnB1c2goJyEoc2tpcEVycm9yUHJvcHMgJiYgKGluZGV4ID09IFwibWVzc2FnZVwiIHx8IGluZGV4ID09IFwibmFtZVwiKSknKTsgfVxuXG4gICAgICAgaWYgKG9iai51c2VIYXMgJiYgb2JqLmtleXMpIHtcbiAgICAgIF9fcCArPSAnXFxuICB2YXIgb3duSW5kZXggPSAtMSxcXG4gICAgICBvd25Qcm9wcyA9IG9iamVjdFR5cGVzW3R5cGVvZiBpdGVyYWJsZV0gJiYga2V5cyhpdGVyYWJsZSksXFxuICAgICAgbGVuZ3RoID0gb3duUHJvcHMgPyBvd25Qcm9wcy5sZW5ndGggOiAwO1xcblxcbiAgd2hpbGUgKCsrb3duSW5kZXggPCBsZW5ndGgpIHtcXG4gICAgaW5kZXggPSBvd25Qcm9wc1tvd25JbmRleF07XFxuJztcbiAgICAgICAgICBpZiAoY29uZGl0aW9ucy5sZW5ndGgpIHtcbiAgICAgIF9fcCArPSAnICAgIGlmICgnICtcbiAgICAgIChjb25kaXRpb25zLmpvaW4oJyAmJiAnKSkgK1xuICAgICAgJykge1xcbiAgJztcbiAgICAgICB9XG4gICAgICBfX3AgKz1cbiAgICAgIChvYmoubG9vcCkgK1xuICAgICAgJzsgICAgJztcbiAgICAgICBpZiAoY29uZGl0aW9ucy5sZW5ndGgpIHtcbiAgICAgIF9fcCArPSAnXFxuICAgIH0nO1xuICAgICAgIH1cbiAgICAgIF9fcCArPSAnXFxuICB9ICAnO1xuICAgICAgIH0gZWxzZSB7XG4gICAgICBfX3AgKz0gJ1xcbiAgZm9yIChpbmRleCBpbiBpdGVyYWJsZSkge1xcbic7XG4gICAgICAgICAgaWYgKG9iai51c2VIYXMpIHsgY29uZGl0aW9ucy5wdXNoKFwiaGFzT3duUHJvcGVydHkuY2FsbChpdGVyYWJsZSwgaW5kZXgpXCIpOyB9ICAgIGlmIChjb25kaXRpb25zLmxlbmd0aCkge1xuICAgICAgX19wICs9ICcgICAgaWYgKCcgK1xuICAgICAgKGNvbmRpdGlvbnMuam9pbignICYmICcpKSArXG4gICAgICAnKSB7XFxuICAnO1xuICAgICAgIH1cbiAgICAgIF9fcCArPVxuICAgICAgKG9iai5sb29wKSArXG4gICAgICAnOyAgICAnO1xuICAgICAgIGlmIChjb25kaXRpb25zLmxlbmd0aCkge1xuICAgICAgX19wICs9ICdcXG4gICAgfSc7XG4gICAgICAgfVxuICAgICAgX19wICs9ICdcXG4gIH0gICAgJztcbiAgICAgICBpZiAoc3VwcG9ydC5ub25FbnVtU2hhZG93cykge1xuICAgICAgX19wICs9ICdcXG5cXG4gIGlmIChpdGVyYWJsZSAhPT0gb2JqZWN0UHJvdG8pIHtcXG4gICAgdmFyIGN0b3IgPSBpdGVyYWJsZS5jb25zdHJ1Y3RvcixcXG4gICAgICAgIGlzUHJvdG8gPSBpdGVyYWJsZSA9PT0gKGN0b3IgJiYgY3Rvci5wcm90b3R5cGUpLFxcbiAgICAgICAgY2xhc3NOYW1lID0gaXRlcmFibGUgPT09IHN0cmluZ1Byb3RvID8gc3RyaW5nQ2xhc3MgOiBpdGVyYWJsZSA9PT0gZXJyb3JQcm90byA/IGVycm9yQ2xhc3MgOiB0b1N0cmluZy5jYWxsKGl0ZXJhYmxlKSxcXG4gICAgICAgIG5vbkVudW0gPSBub25FbnVtUHJvcHNbY2xhc3NOYW1lXTtcXG4gICAgICAnO1xuICAgICAgIGZvciAoayA9IDA7IGsgPCA3OyBrKyspIHtcbiAgICAgIF9fcCArPSAnXFxuICAgIGluZGV4ID0gXFwnJyArXG4gICAgICAob2JqLnNoYWRvd2VkUHJvcHNba10pICtcbiAgICAgICdcXCc7XFxuICAgIGlmICgoIShpc1Byb3RvICYmIG5vbkVudW1baW5kZXhdKSAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGl0ZXJhYmxlLCBpbmRleCkpJztcbiAgICAgICAgICAgICAgaWYgKCFvYmoudXNlSGFzKSB7XG4gICAgICBfX3AgKz0gJyB8fCAoIW5vbkVudW1baW5kZXhdICYmIGl0ZXJhYmxlW2luZGV4XSAhPT0gb2JqZWN0UHJvdG9baW5kZXhdKSc7XG4gICAgICAgfVxuICAgICAgX19wICs9ICcpIHtcXG4gICAgICAnICtcbiAgICAgIChvYmoubG9vcCkgK1xuICAgICAgJztcXG4gICAgfSAgICAgICc7XG4gICAgICAgfVxuICAgICAgX19wICs9ICdcXG4gIH0gICAgJztcbiAgICAgICB9XG5cbiAgICAgICB9XG5cbiAgICAgICBpZiAob2JqLmFycmF5IHx8IHN1cHBvcnQubm9uRW51bUFyZ3MpIHtcbiAgICAgIF9fcCArPSAnXFxufSc7XG4gICAgICAgfVxuICAgICAgX19wICs9XG4gICAgICAob2JqLmJvdHRvbSkgK1xuICAgICAgJztcXG5yZXR1cm4gcmVzdWx0JztcblxuICAgICAgcmV0dXJuIF9fcFxuICAgIH07XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmJpbmRgIHRoYXQgY3JlYXRlcyB0aGUgYm91bmQgZnVuY3Rpb24gYW5kXG4gICAgICogc2V0cyBpdHMgbWV0YSBkYXRhLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBiaW5kRGF0YSBUaGUgYmluZCBkYXRhIGFycmF5LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGJvdW5kIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VCaW5kKGJpbmREYXRhKSB7XG4gICAgICB2YXIgZnVuYyA9IGJpbmREYXRhWzBdLFxuICAgICAgICAgIHBhcnRpYWxBcmdzID0gYmluZERhdGFbMl0sXG4gICAgICAgICAgdGhpc0FyZyA9IGJpbmREYXRhWzRdO1xuXG4gICAgICBmdW5jdGlvbiBib3VuZCgpIHtcbiAgICAgICAgLy8gYEZ1bmN0aW9uI2JpbmRgIHNwZWNcbiAgICAgICAgLy8gaHR0cDovL2VzNS5naXRodWIuaW8vI3gxNS4zLjQuNVxuICAgICAgICBpZiAocGFydGlhbEFyZ3MpIHtcbiAgICAgICAgICAvLyBhdm9pZCBgYXJndW1lbnRzYCBvYmplY3QgZGVvcHRpbWl6YXRpb25zIGJ5IHVzaW5nIGBzbGljZWAgaW5zdGVhZFxuICAgICAgICAgIC8vIG9mIGBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbGAgYW5kIG5vdCBhc3NpZ25pbmcgYGFyZ3VtZW50c2AgdG8gYVxuICAgICAgICAgIC8vIHZhcmlhYmxlIGFzIGEgdGVybmFyeSBleHByZXNzaW9uXG4gICAgICAgICAgdmFyIGFyZ3MgPSBzbGljZShwYXJ0aWFsQXJncyk7XG4gICAgICAgICAgcHVzaC5hcHBseShhcmdzLCBhcmd1bWVudHMpO1xuICAgICAgICB9XG4gICAgICAgIC8vIG1pbWljIHRoZSBjb25zdHJ1Y3RvcidzIGByZXR1cm5gIGJlaGF2aW9yXG4gICAgICAgIC8vIGh0dHA6Ly9lczUuZ2l0aHViLmlvLyN4MTMuMi4yXG4gICAgICAgIGlmICh0aGlzIGluc3RhbmNlb2YgYm91bmQpIHtcbiAgICAgICAgICAvLyBlbnN1cmUgYG5ldyBib3VuZGAgaXMgYW4gaW5zdGFuY2Ugb2YgYGZ1bmNgXG4gICAgICAgICAgdmFyIHRoaXNCaW5kaW5nID0gYmFzZUNyZWF0ZShmdW5jLnByb3RvdHlwZSksXG4gICAgICAgICAgICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkodGhpc0JpbmRpbmcsIGFyZ3MgfHwgYXJndW1lbnRzKTtcbiAgICAgICAgICByZXR1cm4gaXNPYmplY3QocmVzdWx0KSA/IHJlc3VsdCA6IHRoaXNCaW5kaW5nO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmdW5jLmFwcGx5KHRoaXNBcmcsIGFyZ3MgfHwgYXJndW1lbnRzKTtcbiAgICAgIH1cbiAgICAgIHNldEJpbmREYXRhKGJvdW5kLCBiaW5kRGF0YSk7XG4gICAgICByZXR1cm4gYm91bmQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uY2xvbmVgIHdpdGhvdXQgYXJndW1lbnQganVnZ2xpbmcgb3Igc3VwcG9ydFxuICAgICAqIGZvciBgdGhpc0FyZ2AgYmluZGluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2xvbmUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaXNEZWVwPWZhbHNlXSBTcGVjaWZ5IGEgZGVlcCBjbG9uZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2tdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY2xvbmluZyB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3N0YWNrQT1bXV0gVHJhY2tzIHRyYXZlcnNlZCBzb3VyY2Ugb2JqZWN0cy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbc3RhY2tCPVtdXSBBc3NvY2lhdGVzIGNsb25lcyB3aXRoIHNvdXJjZSBjb3VudGVycGFydHMuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGNsb25lZCB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlQ2xvbmUodmFsdWUsIGlzRGVlcCwgY2FsbGJhY2ssIHN0YWNrQSwgc3RhY2tCKSB7XG4gICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IGNhbGxiYWNrKHZhbHVlKTtcbiAgICAgICAgaWYgKHR5cGVvZiByZXN1bHQgIT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBpbnNwZWN0IFtbQ2xhc3NdXVxuICAgICAgdmFyIGlzT2JqID0gaXNPYmplY3QodmFsdWUpO1xuICAgICAgaWYgKGlzT2JqKSB7XG4gICAgICAgIHZhciBjbGFzc05hbWUgPSB0b1N0cmluZy5jYWxsKHZhbHVlKTtcbiAgICAgICAgaWYgKCFjbG9uZWFibGVDbGFzc2VzW2NsYXNzTmFtZV0gfHwgKCFzdXBwb3J0Lm5vZGVDbGFzcyAmJiBpc05vZGUodmFsdWUpKSkge1xuICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY3RvciA9IGN0b3JCeUNsYXNzW2NsYXNzTmFtZV07XG4gICAgICAgIHN3aXRjaCAoY2xhc3NOYW1lKSB7XG4gICAgICAgICAgY2FzZSBib29sQ2xhc3M6XG4gICAgICAgICAgY2FzZSBkYXRlQ2xhc3M6XG4gICAgICAgICAgICByZXR1cm4gbmV3IGN0b3IoK3ZhbHVlKTtcblxuICAgICAgICAgIGNhc2UgbnVtYmVyQ2xhc3M6XG4gICAgICAgICAgY2FzZSBzdHJpbmdDbGFzczpcbiAgICAgICAgICAgIHJldHVybiBuZXcgY3Rvcih2YWx1ZSk7XG5cbiAgICAgICAgICBjYXNlIHJlZ2V4cENsYXNzOlxuICAgICAgICAgICAgcmVzdWx0ID0gY3Rvcih2YWx1ZS5zb3VyY2UsIHJlRmxhZ3MuZXhlYyh2YWx1ZSkpO1xuICAgICAgICAgICAgcmVzdWx0Lmxhc3RJbmRleCA9IHZhbHVlLmxhc3RJbmRleDtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHZhciBpc0FyciA9IGlzQXJyYXkodmFsdWUpO1xuICAgICAgaWYgKGlzRGVlcCkge1xuICAgICAgICAvLyBjaGVjayBmb3IgY2lyY3VsYXIgcmVmZXJlbmNlcyBhbmQgcmV0dXJuIGNvcnJlc3BvbmRpbmcgY2xvbmVcbiAgICAgICAgdmFyIGluaXRlZFN0YWNrID0gIXN0YWNrQTtcbiAgICAgICAgc3RhY2tBIHx8IChzdGFja0EgPSBnZXRBcnJheSgpKTtcbiAgICAgICAgc3RhY2tCIHx8IChzdGFja0IgPSBnZXRBcnJheSgpKTtcblxuICAgICAgICB2YXIgbGVuZ3RoID0gc3RhY2tBLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgICAgaWYgKHN0YWNrQVtsZW5ndGhdID09IHZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RhY2tCW2xlbmd0aF07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJlc3VsdCA9IGlzQXJyID8gY3Rvcih2YWx1ZS5sZW5ndGgpIDoge307XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgcmVzdWx0ID0gaXNBcnIgPyBzbGljZSh2YWx1ZSkgOiBhc3NpZ24oe30sIHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIC8vIGFkZCBhcnJheSBwcm9wZXJ0aWVzIGFzc2lnbmVkIGJ5IGBSZWdFeHAjZXhlY2BcbiAgICAgIGlmIChpc0Fycikge1xuICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwgJ2luZGV4JykpIHtcbiAgICAgICAgICByZXN1bHQuaW5kZXggPSB2YWx1ZS5pbmRleDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwgJ2lucHV0JykpIHtcbiAgICAgICAgICByZXN1bHQuaW5wdXQgPSB2YWx1ZS5pbnB1dDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gZXhpdCBmb3Igc2hhbGxvdyBjbG9uZVxuICAgICAgaWYgKCFpc0RlZXApIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIC8vIGFkZCB0aGUgc291cmNlIHZhbHVlIHRvIHRoZSBzdGFjayBvZiB0cmF2ZXJzZWQgb2JqZWN0c1xuICAgICAgLy8gYW5kIGFzc29jaWF0ZSBpdCB3aXRoIGl0cyBjbG9uZVxuICAgICAgc3RhY2tBLnB1c2godmFsdWUpO1xuICAgICAgc3RhY2tCLnB1c2gocmVzdWx0KTtcblxuICAgICAgLy8gcmVjdXJzaXZlbHkgcG9wdWxhdGUgY2xvbmUgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKVxuICAgICAgKGlzQXJyID8gYmFzZUVhY2ggOiBmb3JPd24pKHZhbHVlLCBmdW5jdGlvbihvYmpWYWx1ZSwga2V5KSB7XG4gICAgICAgIHJlc3VsdFtrZXldID0gYmFzZUNsb25lKG9ialZhbHVlLCBpc0RlZXAsIGNhbGxiYWNrLCBzdGFja0EsIHN0YWNrQik7XG4gICAgICB9KTtcblxuICAgICAgaWYgKGluaXRlZFN0YWNrKSB7XG4gICAgICAgIHJlbGVhc2VBcnJheShzdGFja0EpO1xuICAgICAgICByZWxlYXNlQXJyYXkoc3RhY2tCKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uY3JlYXRlYCB3aXRob3V0IHN1cHBvcnQgZm9yIGFzc2lnbmluZ1xuICAgICAqIHByb3BlcnRpZXMgdG8gdGhlIGNyZWF0ZWQgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcHJvdG90eXBlIFRoZSBvYmplY3QgdG8gaW5oZXJpdCBmcm9tLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUNyZWF0ZShwcm90b3R5cGUsIHByb3BlcnRpZXMpIHtcbiAgICAgIHJldHVybiBpc09iamVjdChwcm90b3R5cGUpID8gbmF0aXZlQ3JlYXRlKHByb3RvdHlwZSkgOiB7fTtcbiAgICB9XG4gICAgLy8gZmFsbGJhY2sgZm9yIGJyb3dzZXJzIHdpdGhvdXQgYE9iamVjdC5jcmVhdGVgXG4gICAgaWYgKCFuYXRpdmVDcmVhdGUpIHtcbiAgICAgIGJhc2VDcmVhdGUgPSAoZnVuY3Rpb24oKSB7XG4gICAgICAgIGZ1bmN0aW9uIE9iamVjdCgpIHt9XG4gICAgICAgIHJldHVybiBmdW5jdGlvbihwcm90b3R5cGUpIHtcbiAgICAgICAgICBpZiAoaXNPYmplY3QocHJvdG90eXBlKSkge1xuICAgICAgICAgICAgT2JqZWN0LnByb3RvdHlwZSA9IHByb3RvdHlwZTtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBuZXcgT2JqZWN0O1xuICAgICAgICAgICAgT2JqZWN0LnByb3RvdHlwZSA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiByZXN1bHQgfHwgY29udGV4dC5PYmplY3QoKTtcbiAgICAgICAgfTtcbiAgICAgIH0oKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uY3JlYXRlQ2FsbGJhY2tgIHdpdGhvdXQgc3VwcG9ydCBmb3IgY3JlYXRpbmdcbiAgICAgKiBcIl8ucGx1Y2tcIiBvciBcIl8ud2hlcmVcIiBzdHlsZSBjYWxsYmFja3MuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gW2Z1bmM9aWRlbnRpdHldIFRoZSB2YWx1ZSB0byBjb252ZXJ0IHRvIGEgY2FsbGJhY2suXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIHRoZSBjcmVhdGVkIGNhbGxiYWNrLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYXJnQ291bnRdIFRoZSBudW1iZXIgb2YgYXJndW1lbnRzIHRoZSBjYWxsYmFjayBhY2NlcHRzLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBhIGNhbGxiYWNrIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VDcmVhdGVDYWxsYmFjayhmdW5jLCB0aGlzQXJnLCBhcmdDb3VudCkge1xuICAgICAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIGlkZW50aXR5O1xuICAgICAgfVxuICAgICAgLy8gZXhpdCBlYXJseSBmb3Igbm8gYHRoaXNBcmdgIG9yIGFscmVhZHkgYm91bmQgYnkgYEZ1bmN0aW9uI2JpbmRgXG4gICAgICBpZiAodHlwZW9mIHRoaXNBcmcgPT0gJ3VuZGVmaW5lZCcgfHwgISgncHJvdG90eXBlJyBpbiBmdW5jKSkge1xuICAgICAgICByZXR1cm4gZnVuYztcbiAgICAgIH1cbiAgICAgIHZhciBiaW5kRGF0YSA9IGZ1bmMuX19iaW5kRGF0YV9fO1xuICAgICAgaWYgKHR5cGVvZiBiaW5kRGF0YSA9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBpZiAoc3VwcG9ydC5mdW5jTmFtZXMpIHtcbiAgICAgICAgICBiaW5kRGF0YSA9ICFmdW5jLm5hbWU7XG4gICAgICAgIH1cbiAgICAgICAgYmluZERhdGEgPSBiaW5kRGF0YSB8fCAhc3VwcG9ydC5mdW5jRGVjb21wO1xuICAgICAgICBpZiAoIWJpbmREYXRhKSB7XG4gICAgICAgICAgdmFyIHNvdXJjZSA9IGZuVG9TdHJpbmcuY2FsbChmdW5jKTtcbiAgICAgICAgICBpZiAoIXN1cHBvcnQuZnVuY05hbWVzKSB7XG4gICAgICAgICAgICBiaW5kRGF0YSA9ICFyZUZ1bmNOYW1lLnRlc3Qoc291cmNlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCFiaW5kRGF0YSkge1xuICAgICAgICAgICAgLy8gY2hlY2tzIGlmIGBmdW5jYCByZWZlcmVuY2VzIHRoZSBgdGhpc2Aga2V5d29yZCBhbmQgc3RvcmVzIHRoZSByZXN1bHRcbiAgICAgICAgICAgIGJpbmREYXRhID0gcmVUaGlzLnRlc3Qoc291cmNlKTtcbiAgICAgICAgICAgIHNldEJpbmREYXRhKGZ1bmMsIGJpbmREYXRhKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIGV4aXQgZWFybHkgaWYgdGhlcmUgYXJlIG5vIGB0aGlzYCByZWZlcmVuY2VzIG9yIGBmdW5jYCBpcyBib3VuZFxuICAgICAgaWYgKGJpbmREYXRhID09PSBmYWxzZSB8fCAoYmluZERhdGEgIT09IHRydWUgJiYgYmluZERhdGFbMV0gJiAxKSkge1xuICAgICAgICByZXR1cm4gZnVuYztcbiAgICAgIH1cbiAgICAgIHN3aXRjaCAoYXJnQ291bnQpIHtcbiAgICAgICAgY2FzZSAxOiByZXR1cm4gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICByZXR1cm4gZnVuYy5jYWxsKHRoaXNBcmcsIHZhbHVlKTtcbiAgICAgICAgfTtcbiAgICAgICAgY2FzZSAyOiByZXR1cm4gZnVuY3Rpb24oYSwgYikge1xuICAgICAgICAgIHJldHVybiBmdW5jLmNhbGwodGhpc0FyZywgYSwgYik7XG4gICAgICAgIH07XG4gICAgICAgIGNhc2UgMzogcmV0dXJuIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikge1xuICAgICAgICAgIHJldHVybiBmdW5jLmNhbGwodGhpc0FyZywgdmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKTtcbiAgICAgICAgfTtcbiAgICAgICAgY2FzZSA0OiByZXR1cm4gZnVuY3Rpb24oYWNjdW11bGF0b3IsIHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikge1xuICAgICAgICAgIHJldHVybiBmdW5jLmNhbGwodGhpc0FyZywgYWNjdW11bGF0b3IsIHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbik7XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICByZXR1cm4gYmluZChmdW5jLCB0aGlzQXJnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgY3JlYXRlV3JhcHBlcmAgdGhhdCBjcmVhdGVzIHRoZSB3cmFwcGVyIGFuZFxuICAgICAqIHNldHMgaXRzIG1ldGEgZGF0YS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYmluZERhdGEgVGhlIGJpbmQgZGF0YSBhcnJheS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlQ3JlYXRlV3JhcHBlcihiaW5kRGF0YSkge1xuICAgICAgdmFyIGZ1bmMgPSBiaW5kRGF0YVswXSxcbiAgICAgICAgICBiaXRtYXNrID0gYmluZERhdGFbMV0sXG4gICAgICAgICAgcGFydGlhbEFyZ3MgPSBiaW5kRGF0YVsyXSxcbiAgICAgICAgICBwYXJ0aWFsUmlnaHRBcmdzID0gYmluZERhdGFbM10sXG4gICAgICAgICAgdGhpc0FyZyA9IGJpbmREYXRhWzRdLFxuICAgICAgICAgIGFyaXR5ID0gYmluZERhdGFbNV07XG5cbiAgICAgIHZhciBpc0JpbmQgPSBiaXRtYXNrICYgMSxcbiAgICAgICAgICBpc0JpbmRLZXkgPSBiaXRtYXNrICYgMixcbiAgICAgICAgICBpc0N1cnJ5ID0gYml0bWFzayAmIDQsXG4gICAgICAgICAgaXNDdXJyeUJvdW5kID0gYml0bWFzayAmIDgsXG4gICAgICAgICAga2V5ID0gZnVuYztcblxuICAgICAgZnVuY3Rpb24gYm91bmQoKSB7XG4gICAgICAgIHZhciB0aGlzQmluZGluZyA9IGlzQmluZCA/IHRoaXNBcmcgOiB0aGlzO1xuICAgICAgICBpZiAocGFydGlhbEFyZ3MpIHtcbiAgICAgICAgICB2YXIgYXJncyA9IHNsaWNlKHBhcnRpYWxBcmdzKTtcbiAgICAgICAgICBwdXNoLmFwcGx5KGFyZ3MsIGFyZ3VtZW50cyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcnRpYWxSaWdodEFyZ3MgfHwgaXNDdXJyeSkge1xuICAgICAgICAgIGFyZ3MgfHwgKGFyZ3MgPSBzbGljZShhcmd1bWVudHMpKTtcbiAgICAgICAgICBpZiAocGFydGlhbFJpZ2h0QXJncykge1xuICAgICAgICAgICAgcHVzaC5hcHBseShhcmdzLCBwYXJ0aWFsUmlnaHRBcmdzKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGlzQ3VycnkgJiYgYXJncy5sZW5ndGggPCBhcml0eSkge1xuICAgICAgICAgICAgYml0bWFzayB8PSAxNiAmIH4zMjtcbiAgICAgICAgICAgIHJldHVybiBiYXNlQ3JlYXRlV3JhcHBlcihbZnVuYywgKGlzQ3VycnlCb3VuZCA/IGJpdG1hc2sgOiBiaXRtYXNrICYgfjMpLCBhcmdzLCBudWxsLCB0aGlzQXJnLCBhcml0eV0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBhcmdzIHx8IChhcmdzID0gYXJndW1lbnRzKTtcbiAgICAgICAgaWYgKGlzQmluZEtleSkge1xuICAgICAgICAgIGZ1bmMgPSB0aGlzQmluZGluZ1trZXldO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzIGluc3RhbmNlb2YgYm91bmQpIHtcbiAgICAgICAgICB0aGlzQmluZGluZyA9IGJhc2VDcmVhdGUoZnVuYy5wcm90b3R5cGUpO1xuICAgICAgICAgIHZhciByZXN1bHQgPSBmdW5jLmFwcGx5KHRoaXNCaW5kaW5nLCBhcmdzKTtcbiAgICAgICAgICByZXR1cm4gaXNPYmplY3QocmVzdWx0KSA/IHJlc3VsdCA6IHRoaXNCaW5kaW5nO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmdW5jLmFwcGx5KHRoaXNCaW5kaW5nLCBhcmdzKTtcbiAgICAgIH1cbiAgICAgIHNldEJpbmREYXRhKGJvdW5kLCBiaW5kRGF0YSk7XG4gICAgICByZXR1cm4gYm91bmQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZGlmZmVyZW5jZWAgdGhhdCBhY2NlcHRzIGEgc2luZ2xlIGFycmF5XG4gICAgICogb2YgdmFsdWVzIHRvIGV4Y2x1ZGUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBwcm9jZXNzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFt2YWx1ZXNdIFRoZSBhcnJheSBvZiB2YWx1ZXMgdG8gZXhjbHVkZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYSBuZXcgYXJyYXkgb2YgZmlsdGVyZWQgdmFsdWVzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VEaWZmZXJlbmNlKGFycmF5LCB2YWx1ZXMpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGluZGV4T2YgPSBnZXRJbmRleE9mKCksXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXkgPyBhcnJheS5sZW5ndGggOiAwLFxuICAgICAgICAgIGlzTGFyZ2UgPSBsZW5ndGggPj0gbGFyZ2VBcnJheVNpemUgJiYgaW5kZXhPZiA9PT0gYmFzZUluZGV4T2YsXG4gICAgICAgICAgcmVzdWx0ID0gW107XG5cbiAgICAgIGlmIChpc0xhcmdlKSB7XG4gICAgICAgIHZhciBjYWNoZSA9IGNyZWF0ZUNhY2hlKHZhbHVlcyk7XG4gICAgICAgIGlmIChjYWNoZSkge1xuICAgICAgICAgIGluZGV4T2YgPSBjYWNoZUluZGV4T2Y7XG4gICAgICAgICAgdmFsdWVzID0gY2FjaGU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXNMYXJnZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF07XG4gICAgICAgIGlmIChpbmRleE9mKHZhbHVlcywgdmFsdWUpIDwgMCkge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGlzTGFyZ2UpIHtcbiAgICAgICAgcmVsZWFzZU9iamVjdCh2YWx1ZXMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5mbGF0dGVuYCB3aXRob3V0IHN1cHBvcnQgZm9yIGNhbGxiYWNrXG4gICAgICogc2hvcnRoYW5kcyBvciBgdGhpc0FyZ2AgYmluZGluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGZsYXR0ZW4uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaXNTaGFsbG93PWZhbHNlXSBBIGZsYWcgdG8gcmVzdHJpY3QgZmxhdHRlbmluZyB0byBhIHNpbmdsZSBsZXZlbC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc1N0cmljdD1mYWxzZV0gQSBmbGFnIHRvIHJlc3RyaWN0IGZsYXR0ZW5pbmcgdG8gYXJyYXlzIGFuZCBgYXJndW1lbnRzYCBvYmplY3RzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZnJvbUluZGV4PTBdIFRoZSBpbmRleCB0byBzdGFydCBmcm9tLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBhIG5ldyBmbGF0dGVuZWQgYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUZsYXR0ZW4oYXJyYXksIGlzU2hhbGxvdywgaXNTdHJpY3QsIGZyb21JbmRleCkge1xuICAgICAgdmFyIGluZGV4ID0gKGZyb21JbmRleCB8fCAwKSAtIDEsXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXkgPyBhcnJheS5sZW5ndGggOiAwLFxuICAgICAgICAgIHJlc3VsdCA9IFtdO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF07XG5cbiAgICAgICAgaWYgKHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0JyAmJiB0eXBlb2YgdmFsdWUubGVuZ3RoID09ICdudW1iZXInXG4gICAgICAgICAgICAmJiAoaXNBcnJheSh2YWx1ZSkgfHwgaXNBcmd1bWVudHModmFsdWUpKSkge1xuICAgICAgICAgIC8vIHJlY3Vyc2l2ZWx5IGZsYXR0ZW4gYXJyYXlzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cylcbiAgICAgICAgICBpZiAoIWlzU2hhbGxvdykge1xuICAgICAgICAgICAgdmFsdWUgPSBiYXNlRmxhdHRlbih2YWx1ZSwgaXNTaGFsbG93LCBpc1N0cmljdCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciB2YWxJbmRleCA9IC0xLFxuICAgICAgICAgICAgICB2YWxMZW5ndGggPSB2YWx1ZS5sZW5ndGgsXG4gICAgICAgICAgICAgIHJlc0luZGV4ID0gcmVzdWx0Lmxlbmd0aDtcblxuICAgICAgICAgIHJlc3VsdC5sZW5ndGggKz0gdmFsTGVuZ3RoO1xuICAgICAgICAgIHdoaWxlICgrK3ZhbEluZGV4IDwgdmFsTGVuZ3RoKSB7XG4gICAgICAgICAgICByZXN1bHRbcmVzSW5kZXgrK10gPSB2YWx1ZVt2YWxJbmRleF07XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKCFpc1N0cmljdCkge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc0VxdWFsYCwgd2l0aG91dCBzdXBwb3J0IGZvciBgdGhpc0FyZ2AgYmluZGluZyxcbiAgICAgKiB0aGF0IGFsbG93cyBwYXJ0aWFsIFwiXy53aGVyZVwiIHN0eWxlIGNvbXBhcmlzb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IGEgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBiIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFja10gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpbmcgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpc1doZXJlPWZhbHNlXSBBIGZsYWcgdG8gaW5kaWNhdGUgcGVyZm9ybWluZyBwYXJ0aWFsIGNvbXBhcmlzb25zLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtzdGFja0E9W11dIFRyYWNrcyB0cmF2ZXJzZWQgYGFgIG9iamVjdHMuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3N0YWNrQj1bXV0gVHJhY2tzIHRyYXZlcnNlZCBgYmAgb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHZhbHVlcyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJc0VxdWFsKGEsIGIsIGNhbGxiYWNrLCBpc1doZXJlLCBzdGFja0EsIHN0YWNrQikge1xuICAgICAgLy8gdXNlZCB0byBpbmRpY2F0ZSB0aGF0IHdoZW4gY29tcGFyaW5nIG9iamVjdHMsIGBhYCBoYXMgYXQgbGVhc3QgdGhlIHByb3BlcnRpZXMgb2YgYGJgXG4gICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IGNhbGxiYWNrKGEsIGIpO1xuICAgICAgICBpZiAodHlwZW9mIHJlc3VsdCAhPSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIHJldHVybiAhIXJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gZXhpdCBlYXJseSBmb3IgaWRlbnRpY2FsIHZhbHVlc1xuICAgICAgaWYgKGEgPT09IGIpIHtcbiAgICAgICAgLy8gdHJlYXQgYCswYCB2cy4gYC0wYCBhcyBub3QgZXF1YWxcbiAgICAgICAgcmV0dXJuIGEgIT09IDAgfHwgKDEgLyBhID09IDEgLyBiKTtcbiAgICAgIH1cbiAgICAgIHZhciB0eXBlID0gdHlwZW9mIGEsXG4gICAgICAgICAgb3RoZXJUeXBlID0gdHlwZW9mIGI7XG5cbiAgICAgIC8vIGV4aXQgZWFybHkgZm9yIHVubGlrZSBwcmltaXRpdmUgdmFsdWVzXG4gICAgICBpZiAoYSA9PT0gYSAmJlxuICAgICAgICAgICEoYSAmJiBvYmplY3RUeXBlc1t0eXBlXSkgJiZcbiAgICAgICAgICAhKGIgJiYgb2JqZWN0VHlwZXNbb3RoZXJUeXBlXSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgLy8gZXhpdCBlYXJseSBmb3IgYG51bGxgIGFuZCBgdW5kZWZpbmVkYCBhdm9pZGluZyBFUzMncyBGdW5jdGlvbiNjYWxsIGJlaGF2aW9yXG4gICAgICAvLyBodHRwOi8vZXM1LmdpdGh1Yi5pby8jeDE1LjMuNC40XG4gICAgICBpZiAoYSA9PSBudWxsIHx8IGIgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gYSA9PT0gYjtcbiAgICAgIH1cbiAgICAgIC8vIGNvbXBhcmUgW1tDbGFzc11dIG5hbWVzXG4gICAgICB2YXIgY2xhc3NOYW1lID0gdG9TdHJpbmcuY2FsbChhKSxcbiAgICAgICAgICBvdGhlckNsYXNzID0gdG9TdHJpbmcuY2FsbChiKTtcblxuICAgICAgaWYgKGNsYXNzTmFtZSA9PSBhcmdzQ2xhc3MpIHtcbiAgICAgICAgY2xhc3NOYW1lID0gb2JqZWN0Q2xhc3M7XG4gICAgICB9XG4gICAgICBpZiAob3RoZXJDbGFzcyA9PSBhcmdzQ2xhc3MpIHtcbiAgICAgICAgb3RoZXJDbGFzcyA9IG9iamVjdENsYXNzO1xuICAgICAgfVxuICAgICAgaWYgKGNsYXNzTmFtZSAhPSBvdGhlckNsYXNzKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHN3aXRjaCAoY2xhc3NOYW1lKSB7XG4gICAgICAgIGNhc2UgYm9vbENsYXNzOlxuICAgICAgICBjYXNlIGRhdGVDbGFzczpcbiAgICAgICAgICAvLyBjb2VyY2UgZGF0ZXMgYW5kIGJvb2xlYW5zIHRvIG51bWJlcnMsIGRhdGVzIHRvIG1pbGxpc2Vjb25kcyBhbmQgYm9vbGVhbnNcbiAgICAgICAgICAvLyB0byBgMWAgb3IgYDBgIHRyZWF0aW5nIGludmFsaWQgZGF0ZXMgY29lcmNlZCB0byBgTmFOYCBhcyBub3QgZXF1YWxcbiAgICAgICAgICByZXR1cm4gK2EgPT0gK2I7XG5cbiAgICAgICAgY2FzZSBudW1iZXJDbGFzczpcbiAgICAgICAgICAvLyB0cmVhdCBgTmFOYCB2cy4gYE5hTmAgYXMgZXF1YWxcbiAgICAgICAgICByZXR1cm4gKGEgIT0gK2EpXG4gICAgICAgICAgICA/IGIgIT0gK2JcbiAgICAgICAgICAgIC8vIGJ1dCB0cmVhdCBgKzBgIHZzLiBgLTBgIGFzIG5vdCBlcXVhbFxuICAgICAgICAgICAgOiAoYSA9PSAwID8gKDEgLyBhID09IDEgLyBiKSA6IGEgPT0gK2IpO1xuXG4gICAgICAgIGNhc2UgcmVnZXhwQ2xhc3M6XG4gICAgICAgIGNhc2Ugc3RyaW5nQ2xhc3M6XG4gICAgICAgICAgLy8gY29lcmNlIHJlZ2V4ZXMgdG8gc3RyaW5ncyAoaHR0cDovL2VzNS5naXRodWIuaW8vI3gxNS4xMC42LjQpXG4gICAgICAgICAgLy8gdHJlYXQgc3RyaW5nIHByaW1pdGl2ZXMgYW5kIHRoZWlyIGNvcnJlc3BvbmRpbmcgb2JqZWN0IGluc3RhbmNlcyBhcyBlcXVhbFxuICAgICAgICAgIHJldHVybiBhID09IFN0cmluZyhiKTtcbiAgICAgIH1cbiAgICAgIHZhciBpc0FyciA9IGNsYXNzTmFtZSA9PSBhcnJheUNsYXNzO1xuICAgICAgaWYgKCFpc0Fycikge1xuICAgICAgICAvLyB1bndyYXAgYW55IGBsb2Rhc2hgIHdyYXBwZWQgdmFsdWVzXG4gICAgICAgIHZhciBhV3JhcHBlZCA9IGhhc093blByb3BlcnR5LmNhbGwoYSwgJ19fd3JhcHBlZF9fJyksXG4gICAgICAgICAgICBiV3JhcHBlZCA9IGhhc093blByb3BlcnR5LmNhbGwoYiwgJ19fd3JhcHBlZF9fJyk7XG5cbiAgICAgICAgaWYgKGFXcmFwcGVkIHx8IGJXcmFwcGVkKSB7XG4gICAgICAgICAgcmV0dXJuIGJhc2VJc0VxdWFsKGFXcmFwcGVkID8gYS5fX3dyYXBwZWRfXyA6IGEsIGJXcmFwcGVkID8gYi5fX3dyYXBwZWRfXyA6IGIsIGNhbGxiYWNrLCBpc1doZXJlLCBzdGFja0EsIHN0YWNrQik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZXhpdCBmb3IgZnVuY3Rpb25zIGFuZCBET00gbm9kZXNcbiAgICAgICAgaWYgKGNsYXNzTmFtZSAhPSBvYmplY3RDbGFzcyB8fCAoIXN1cHBvcnQubm9kZUNsYXNzICYmIChpc05vZGUoYSkgfHwgaXNOb2RlKGIpKSkpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gaW4gb2xkZXIgdmVyc2lvbnMgb2YgT3BlcmEsIGBhcmd1bWVudHNgIG9iamVjdHMgaGF2ZSBgQXJyYXlgIGNvbnN0cnVjdG9yc1xuICAgICAgICB2YXIgY3RvckEgPSAhc3VwcG9ydC5hcmdzT2JqZWN0ICYmIGlzQXJndW1lbnRzKGEpID8gT2JqZWN0IDogYS5jb25zdHJ1Y3RvcixcbiAgICAgICAgICAgIGN0b3JCID0gIXN1cHBvcnQuYXJnc09iamVjdCAmJiBpc0FyZ3VtZW50cyhiKSA/IE9iamVjdCA6IGIuY29uc3RydWN0b3I7XG5cbiAgICAgICAgLy8gbm9uIGBPYmplY3RgIG9iamVjdCBpbnN0YW5jZXMgd2l0aCBkaWZmZXJlbnQgY29uc3RydWN0b3JzIGFyZSBub3QgZXF1YWxcbiAgICAgICAgaWYgKGN0b3JBICE9IGN0b3JCICYmXG4gICAgICAgICAgICAgICEoaXNGdW5jdGlvbihjdG9yQSkgJiYgY3RvckEgaW5zdGFuY2VvZiBjdG9yQSAmJiBpc0Z1bmN0aW9uKGN0b3JCKSAmJiBjdG9yQiBpbnN0YW5jZW9mIGN0b3JCKSAmJlxuICAgICAgICAgICAgICAoJ2NvbnN0cnVjdG9yJyBpbiBhICYmICdjb25zdHJ1Y3RvcicgaW4gYilcbiAgICAgICAgICAgICkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gYXNzdW1lIGN5Y2xpYyBzdHJ1Y3R1cmVzIGFyZSBlcXVhbFxuICAgICAgLy8gdGhlIGFsZ29yaXRobSBmb3IgZGV0ZWN0aW5nIGN5Y2xpYyBzdHJ1Y3R1cmVzIGlzIGFkYXB0ZWQgZnJvbSBFUyA1LjFcbiAgICAgIC8vIHNlY3Rpb24gMTUuMTIuMywgYWJzdHJhY3Qgb3BlcmF0aW9uIGBKT2AgKGh0dHA6Ly9lczUuZ2l0aHViLmlvLyN4MTUuMTIuMylcbiAgICAgIHZhciBpbml0ZWRTdGFjayA9ICFzdGFja0E7XG4gICAgICBzdGFja0EgfHwgKHN0YWNrQSA9IGdldEFycmF5KCkpO1xuICAgICAgc3RhY2tCIHx8IChzdGFja0IgPSBnZXRBcnJheSgpKTtcblxuICAgICAgdmFyIGxlbmd0aCA9IHN0YWNrQS5sZW5ndGg7XG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgaWYgKHN0YWNrQVtsZW5ndGhdID09IGEpIHtcbiAgICAgICAgICByZXR1cm4gc3RhY2tCW2xlbmd0aF0gPT0gYjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdmFyIHNpemUgPSAwO1xuICAgICAgcmVzdWx0ID0gdHJ1ZTtcblxuICAgICAgLy8gYWRkIGBhYCBhbmQgYGJgIHRvIHRoZSBzdGFjayBvZiB0cmF2ZXJzZWQgb2JqZWN0c1xuICAgICAgc3RhY2tBLnB1c2goYSk7XG4gICAgICBzdGFja0IucHVzaChiKTtcblxuICAgICAgLy8gcmVjdXJzaXZlbHkgY29tcGFyZSBvYmplY3RzIGFuZCBhcnJheXMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKVxuICAgICAgaWYgKGlzQXJyKSB7XG4gICAgICAgIC8vIGNvbXBhcmUgbGVuZ3RocyB0byBkZXRlcm1pbmUgaWYgYSBkZWVwIGNvbXBhcmlzb24gaXMgbmVjZXNzYXJ5XG4gICAgICAgIGxlbmd0aCA9IGEubGVuZ3RoO1xuICAgICAgICBzaXplID0gYi5sZW5ndGg7XG4gICAgICAgIHJlc3VsdCA9IHNpemUgPT0gbGVuZ3RoO1xuXG4gICAgICAgIGlmIChyZXN1bHQgfHwgaXNXaGVyZSkge1xuICAgICAgICAgIC8vIGRlZXAgY29tcGFyZSB0aGUgY29udGVudHMsIGlnbm9yaW5nIG5vbi1udW1lcmljIHByb3BlcnRpZXNcbiAgICAgICAgICB3aGlsZSAoc2l6ZS0tKSB7XG4gICAgICAgICAgICB2YXIgaW5kZXggPSBsZW5ndGgsXG4gICAgICAgICAgICAgICAgdmFsdWUgPSBiW3NpemVdO1xuXG4gICAgICAgICAgICBpZiAoaXNXaGVyZSkge1xuICAgICAgICAgICAgICB3aGlsZSAoaW5kZXgtLSkge1xuICAgICAgICAgICAgICAgIGlmICgocmVzdWx0ID0gYmFzZUlzRXF1YWwoYVtpbmRleF0sIHZhbHVlLCBjYWxsYmFjaywgaXNXaGVyZSwgc3RhY2tBLCBzdGFja0IpKSkge1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCEocmVzdWx0ID0gYmFzZUlzRXF1YWwoYVtzaXplXSwgdmFsdWUsIGNhbGxiYWNrLCBpc1doZXJlLCBzdGFja0EsIHN0YWNrQikpKSB7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIC8vIGRlZXAgY29tcGFyZSBvYmplY3RzIHVzaW5nIGBmb3JJbmAsIGluc3RlYWQgb2YgYGZvck93bmAsIHRvIGF2b2lkIGBPYmplY3Qua2V5c2BcbiAgICAgICAgLy8gd2hpY2gsIGluIHRoaXMgY2FzZSwgaXMgbW9yZSBjb3N0bHlcbiAgICAgICAgZm9ySW4oYiwgZnVuY3Rpb24odmFsdWUsIGtleSwgYikge1xuICAgICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIGtleSkpIHtcbiAgICAgICAgICAgIC8vIGNvdW50IHRoZSBudW1iZXIgb2YgcHJvcGVydGllcy5cbiAgICAgICAgICAgIHNpemUrKztcbiAgICAgICAgICAgIC8vIGRlZXAgY29tcGFyZSBlYWNoIHByb3BlcnR5IHZhbHVlLlxuICAgICAgICAgICAgcmV0dXJuIChyZXN1bHQgPSBoYXNPd25Qcm9wZXJ0eS5jYWxsKGEsIGtleSkgJiYgYmFzZUlzRXF1YWwoYVtrZXldLCB2YWx1ZSwgY2FsbGJhY2ssIGlzV2hlcmUsIHN0YWNrQSwgc3RhY2tCKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAocmVzdWx0ICYmICFpc1doZXJlKSB7XG4gICAgICAgICAgLy8gZW5zdXJlIGJvdGggb2JqZWN0cyBoYXZlIHRoZSBzYW1lIG51bWJlciBvZiBwcm9wZXJ0aWVzXG4gICAgICAgICAgZm9ySW4oYSwgZnVuY3Rpb24odmFsdWUsIGtleSwgYSkge1xuICAgICAgICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwoYSwga2V5KSkge1xuICAgICAgICAgICAgICAvLyBgc2l6ZWAgd2lsbCBiZSBgLTFgIGlmIGBhYCBoYXMgbW9yZSBwcm9wZXJ0aWVzIHRoYW4gYGJgXG4gICAgICAgICAgICAgIHJldHVybiAocmVzdWx0ID0gLS1zaXplID4gLTEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBzdGFja0EucG9wKCk7XG4gICAgICBzdGFja0IucG9wKCk7XG5cbiAgICAgIGlmIChpbml0ZWRTdGFjaykge1xuICAgICAgICByZWxlYXNlQXJyYXkoc3RhY2tBKTtcbiAgICAgICAgcmVsZWFzZUFycmF5KHN0YWNrQik7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLm1lcmdlYCB3aXRob3V0IGFyZ3VtZW50IGp1Z2dsaW5nIG9yIHN1cHBvcnRcbiAgICAgKiBmb3IgYHRoaXNBcmdgIGJpbmRpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFja10gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBtZXJnaW5nIHByb3BlcnRpZXMuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3N0YWNrQT1bXV0gVHJhY2tzIHRyYXZlcnNlZCBzb3VyY2Ugb2JqZWN0cy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbc3RhY2tCPVtdXSBBc3NvY2lhdGVzIHZhbHVlcyB3aXRoIHNvdXJjZSBjb3VudGVycGFydHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZU1lcmdlKG9iamVjdCwgc291cmNlLCBjYWxsYmFjaywgc3RhY2tBLCBzdGFja0IpIHtcbiAgICAgIChpc0FycmF5KHNvdXJjZSkgPyBmb3JFYWNoIDogZm9yT3duKShzb3VyY2UsIGZ1bmN0aW9uKHNvdXJjZSwga2V5KSB7XG4gICAgICAgIHZhciBmb3VuZCxcbiAgICAgICAgICAgIGlzQXJyLFxuICAgICAgICAgICAgcmVzdWx0ID0gc291cmNlLFxuICAgICAgICAgICAgdmFsdWUgPSBvYmplY3Rba2V5XTtcblxuICAgICAgICBpZiAoc291cmNlICYmICgoaXNBcnIgPSBpc0FycmF5KHNvdXJjZSkpIHx8IGlzUGxhaW5PYmplY3Qoc291cmNlKSkpIHtcbiAgICAgICAgICAvLyBhdm9pZCBtZXJnaW5nIHByZXZpb3VzbHkgbWVyZ2VkIGN5Y2xpYyBzb3VyY2VzXG4gICAgICAgICAgdmFyIHN0YWNrTGVuZ3RoID0gc3RhY2tBLmxlbmd0aDtcbiAgICAgICAgICB3aGlsZSAoc3RhY2tMZW5ndGgtLSkge1xuICAgICAgICAgICAgaWYgKChmb3VuZCA9IHN0YWNrQVtzdGFja0xlbmd0aF0gPT0gc291cmNlKSkge1xuICAgICAgICAgICAgICB2YWx1ZSA9IHN0YWNrQltzdGFja0xlbmd0aF07XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoIWZvdW5kKSB7XG4gICAgICAgICAgICB2YXIgaXNTaGFsbG93O1xuICAgICAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgIHJlc3VsdCA9IGNhbGxiYWNrKHZhbHVlLCBzb3VyY2UpO1xuICAgICAgICAgICAgICBpZiAoKGlzU2hhbGxvdyA9IHR5cGVvZiByZXN1bHQgIT0gJ3VuZGVmaW5lZCcpKSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSByZXN1bHQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghaXNTaGFsbG93KSB7XG4gICAgICAgICAgICAgIHZhbHVlID0gaXNBcnJcbiAgICAgICAgICAgICAgICA/IChpc0FycmF5KHZhbHVlKSA/IHZhbHVlIDogW10pXG4gICAgICAgICAgICAgICAgOiAoaXNQbGFpbk9iamVjdCh2YWx1ZSkgPyB2YWx1ZSA6IHt9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGFkZCBgc291cmNlYCBhbmQgYXNzb2NpYXRlZCBgdmFsdWVgIHRvIHRoZSBzdGFjayBvZiB0cmF2ZXJzZWQgb2JqZWN0c1xuICAgICAgICAgICAgc3RhY2tBLnB1c2goc291cmNlKTtcbiAgICAgICAgICAgIHN0YWNrQi5wdXNoKHZhbHVlKTtcblxuICAgICAgICAgICAgLy8gcmVjdXJzaXZlbHkgbWVyZ2Ugb2JqZWN0cyBhbmQgYXJyYXlzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cylcbiAgICAgICAgICAgIGlmICghaXNTaGFsbG93KSB7XG4gICAgICAgICAgICAgIGJhc2VNZXJnZSh2YWx1ZSwgc291cmNlLCBjYWxsYmFjaywgc3RhY2tBLCBzdGFja0IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IGNhbGxiYWNrKHZhbHVlLCBzb3VyY2UpO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiByZXN1bHQgPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgcmVzdWx0ID0gc291cmNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodHlwZW9mIHJlc3VsdCAhPSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgdmFsdWUgPSByZXN1bHQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIG9iamVjdFtrZXldID0gdmFsdWU7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5yYW5kb21gIHdpdGhvdXQgYXJndW1lbnQganVnZ2xpbmcgb3Igc3VwcG9ydFxuICAgICAqIGZvciByZXR1cm5pbmcgZmxvYXRpbmctcG9pbnQgbnVtYmVycy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1pbiBUaGUgbWluaW11bSBwb3NzaWJsZSB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWF4IFRoZSBtYXhpbXVtIHBvc3NpYmxlIHZhbHVlLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgYSByYW5kb20gbnVtYmVyLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VSYW5kb20obWluLCBtYXgpIHtcbiAgICAgIHJldHVybiBtaW4gKyBmbG9vcihuYXRpdmVSYW5kb20oKSAqIChtYXggLSBtaW4gKyAxKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udW5pcWAgd2l0aG91dCBzdXBwb3J0IGZvciBjYWxsYmFjayBzaG9ydGhhbmRzXG4gICAgICogb3IgYHRoaXNBcmdgIGJpbmRpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBwcm9jZXNzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzU29ydGVkPWZhbHNlXSBBIGZsYWcgdG8gaW5kaWNhdGUgdGhhdCBgYXJyYXlgIGlzIHNvcnRlZC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2tdIFRoZSBmdW5jdGlvbiBjYWxsZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYSBkdXBsaWNhdGUtdmFsdWUtZnJlZSBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlVW5pcShhcnJheSwgaXNTb3J0ZWQsIGNhbGxiYWNrKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBpbmRleE9mID0gZ2V0SW5kZXhPZigpLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5ID8gYXJyYXkubGVuZ3RoIDogMCxcbiAgICAgICAgICByZXN1bHQgPSBbXTtcblxuICAgICAgdmFyIGlzTGFyZ2UgPSAhaXNTb3J0ZWQgJiYgbGVuZ3RoID49IGxhcmdlQXJyYXlTaXplICYmIGluZGV4T2YgPT09IGJhc2VJbmRleE9mLFxuICAgICAgICAgIHNlZW4gPSAoY2FsbGJhY2sgfHwgaXNMYXJnZSkgPyBnZXRBcnJheSgpIDogcmVzdWx0O1xuXG4gICAgICBpZiAoaXNMYXJnZSkge1xuICAgICAgICB2YXIgY2FjaGUgPSBjcmVhdGVDYWNoZShzZWVuKTtcbiAgICAgICAgaW5kZXhPZiA9IGNhY2hlSW5kZXhPZjtcbiAgICAgICAgc2VlbiA9IGNhY2hlO1xuICAgICAgfVxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdLFxuICAgICAgICAgICAgY29tcHV0ZWQgPSBjYWxsYmFjayA/IGNhbGxiYWNrKHZhbHVlLCBpbmRleCwgYXJyYXkpIDogdmFsdWU7XG5cbiAgICAgICAgaWYgKGlzU29ydGVkXG4gICAgICAgICAgICAgID8gIWluZGV4IHx8IHNlZW5bc2Vlbi5sZW5ndGggLSAxXSAhPT0gY29tcHV0ZWRcbiAgICAgICAgICAgICAgOiBpbmRleE9mKHNlZW4sIGNvbXB1dGVkKSA8IDBcbiAgICAgICAgICAgICkge1xuICAgICAgICAgIGlmIChjYWxsYmFjayB8fCBpc0xhcmdlKSB7XG4gICAgICAgICAgICBzZWVuLnB1c2goY29tcHV0ZWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChpc0xhcmdlKSB7XG4gICAgICAgIHJlbGVhc2VBcnJheShzZWVuLmFycmF5KTtcbiAgICAgICAgcmVsZWFzZU9iamVjdChzZWVuKTtcbiAgICAgIH0gZWxzZSBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgcmVsZWFzZUFycmF5KHNlZW4pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBhZ2dyZWdhdGVzIGEgY29sbGVjdGlvbiwgY3JlYXRpbmcgYW4gb2JqZWN0IGNvbXBvc2VkXG4gICAgICogb2Yga2V5cyBnZW5lcmF0ZWQgZnJvbSB0aGUgcmVzdWx0cyBvZiBydW5uaW5nIGVhY2ggZWxlbWVudCBvZiB0aGUgY29sbGVjdGlvblxuICAgICAqIHRocm91Z2ggYSBjYWxsYmFjay4gVGhlIGdpdmVuIGBzZXR0ZXJgIGZ1bmN0aW9uIHNldHMgdGhlIGtleXMgYW5kIHZhbHVlc1xuICAgICAqIG9mIHRoZSBjb21wb3NlZCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHNldHRlciBUaGUgc2V0dGVyIGZ1bmN0aW9uLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGFnZ3JlZ2F0b3IgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlQWdncmVnYXRvcihzZXR0ZXIpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihjb2xsZWN0aW9uLCBjYWxsYmFjaywgdGhpc0FyZykge1xuICAgICAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgICAgIGNhbGxiYWNrID0gbG9kYXNoLmNyZWF0ZUNhbGxiYWNrKGNhbGxiYWNrLCB0aGlzQXJnLCAzKTtcblxuICAgICAgICBpZiAoaXNBcnJheShjb2xsZWN0aW9uKSkge1xuICAgICAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgICAgICBsZW5ndGggPSBjb2xsZWN0aW9uLmxlbmd0aDtcblxuICAgICAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBjb2xsZWN0aW9uW2luZGV4XTtcbiAgICAgICAgICAgIHNldHRlcihyZXN1bHQsIHZhbHVlLCBjYWxsYmFjayh2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pLCBjb2xsZWN0aW9uKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYmFzZUVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGtleSwgY29sbGVjdGlvbikge1xuICAgICAgICAgICAgc2V0dGVyKHJlc3VsdCwgdmFsdWUsIGNhbGxiYWNrKHZhbHVlLCBrZXksIGNvbGxlY3Rpb24pLCBjb2xsZWN0aW9uKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCwgd2hlbiBjYWxsZWQsIGVpdGhlciBjdXJyaWVzIG9yIGludm9rZXMgYGZ1bmNgXG4gICAgICogd2l0aCBhbiBvcHRpb25hbCBgdGhpc2AgYmluZGluZyBhbmQgcGFydGlhbGx5IGFwcGxpZWQgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufHN0cmluZ30gZnVuYyBUaGUgZnVuY3Rpb24gb3IgbWV0aG9kIG5hbWUgdG8gcmVmZXJlbmNlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIG9mIG1ldGhvZCBmbGFncyB0byBjb21wb3NlLlxuICAgICAqICBUaGUgYml0bWFzayBtYXkgYmUgY29tcG9zZWQgb2YgdGhlIGZvbGxvd2luZyBmbGFnczpcbiAgICAgKiAgMSAtIGBfLmJpbmRgXG4gICAgICogIDIgLSBgXy5iaW5kS2V5YFxuICAgICAqICA0IC0gYF8uY3VycnlgXG4gICAgICogIDggLSBgXy5jdXJyeWAgKGJvdW5kKVxuICAgICAqICAxNiAtIGBfLnBhcnRpYWxgXG4gICAgICogIDMyIC0gYF8ucGFydGlhbFJpZ2h0YFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtwYXJ0aWFsQXJnc10gQW4gYXJyYXkgb2YgYXJndW1lbnRzIHRvIHByZXBlbmQgdG8gdGhvc2VcbiAgICAgKiAgcHJvdmlkZWQgdG8gdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbcGFydGlhbFJpZ2h0QXJnc10gQW4gYXJyYXkgb2YgYXJndW1lbnRzIHRvIGFwcGVuZCB0byB0aG9zZVxuICAgICAqICBwcm92aWRlZCB0byB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgZnVuY2AuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthcml0eV0gVGhlIGFyaXR5IG9mIGBmdW5jYC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVXcmFwcGVyKGZ1bmMsIGJpdG1hc2ssIHBhcnRpYWxBcmdzLCBwYXJ0aWFsUmlnaHRBcmdzLCB0aGlzQXJnLCBhcml0eSkge1xuICAgICAgdmFyIGlzQmluZCA9IGJpdG1hc2sgJiAxLFxuICAgICAgICAgIGlzQmluZEtleSA9IGJpdG1hc2sgJiAyLFxuICAgICAgICAgIGlzQ3VycnkgPSBiaXRtYXNrICYgNCxcbiAgICAgICAgICBpc0N1cnJ5Qm91bmQgPSBiaXRtYXNrICYgOCxcbiAgICAgICAgICBpc1BhcnRpYWwgPSBiaXRtYXNrICYgMTYsXG4gICAgICAgICAgaXNQYXJ0aWFsUmlnaHQgPSBiaXRtYXNrICYgMzI7XG5cbiAgICAgIGlmICghaXNCaW5kS2V5ICYmICFpc0Z1bmN0aW9uKGZ1bmMpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3I7XG4gICAgICB9XG4gICAgICBpZiAoaXNQYXJ0aWFsICYmICFwYXJ0aWFsQXJncy5sZW5ndGgpIHtcbiAgICAgICAgYml0bWFzayAmPSB+MTY7XG4gICAgICAgIGlzUGFydGlhbCA9IHBhcnRpYWxBcmdzID0gZmFsc2U7XG4gICAgICB9XG4gICAgICBpZiAoaXNQYXJ0aWFsUmlnaHQgJiYgIXBhcnRpYWxSaWdodEFyZ3MubGVuZ3RoKSB7XG4gICAgICAgIGJpdG1hc2sgJj0gfjMyO1xuICAgICAgICBpc1BhcnRpYWxSaWdodCA9IHBhcnRpYWxSaWdodEFyZ3MgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciBiaW5kRGF0YSA9IGZ1bmMgJiYgZnVuYy5fX2JpbmREYXRhX187XG4gICAgICBpZiAoYmluZERhdGEgJiYgYmluZERhdGEgIT09IHRydWUpIHtcbiAgICAgICAgLy8gY2xvbmUgYGJpbmREYXRhYFxuICAgICAgICBiaW5kRGF0YSA9IHNsaWNlKGJpbmREYXRhKTtcbiAgICAgICAgaWYgKGJpbmREYXRhWzJdKSB7XG4gICAgICAgICAgYmluZERhdGFbMl0gPSBzbGljZShiaW5kRGF0YVsyXSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGJpbmREYXRhWzNdKSB7XG4gICAgICAgICAgYmluZERhdGFbM10gPSBzbGljZShiaW5kRGF0YVszXSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gc2V0IGB0aGlzQmluZGluZ2AgaXMgbm90IHByZXZpb3VzbHkgYm91bmRcbiAgICAgICAgaWYgKGlzQmluZCAmJiAhKGJpbmREYXRhWzFdICYgMSkpIHtcbiAgICAgICAgICBiaW5kRGF0YVs0XSA9IHRoaXNBcmc7XG4gICAgICAgIH1cbiAgICAgICAgLy8gc2V0IGlmIHByZXZpb3VzbHkgYm91bmQgYnV0IG5vdCBjdXJyZW50bHkgKHN1YnNlcXVlbnQgY3VycmllZCBmdW5jdGlvbnMpXG4gICAgICAgIGlmICghaXNCaW5kICYmIGJpbmREYXRhWzFdICYgMSkge1xuICAgICAgICAgIGJpdG1hc2sgfD0gODtcbiAgICAgICAgfVxuICAgICAgICAvLyBzZXQgY3VycmllZCBhcml0eSBpZiBub3QgeWV0IHNldFxuICAgICAgICBpZiAoaXNDdXJyeSAmJiAhKGJpbmREYXRhWzFdICYgNCkpIHtcbiAgICAgICAgICBiaW5kRGF0YVs1XSA9IGFyaXR5O1xuICAgICAgICB9XG4gICAgICAgIC8vIGFwcGVuZCBwYXJ0aWFsIGxlZnQgYXJndW1lbnRzXG4gICAgICAgIGlmIChpc1BhcnRpYWwpIHtcbiAgICAgICAgICBwdXNoLmFwcGx5KGJpbmREYXRhWzJdIHx8IChiaW5kRGF0YVsyXSA9IFtdKSwgcGFydGlhbEFyZ3MpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGFwcGVuZCBwYXJ0aWFsIHJpZ2h0IGFyZ3VtZW50c1xuICAgICAgICBpZiAoaXNQYXJ0aWFsUmlnaHQpIHtcbiAgICAgICAgICB1bnNoaWZ0LmFwcGx5KGJpbmREYXRhWzNdIHx8IChiaW5kRGF0YVszXSA9IFtdKSwgcGFydGlhbFJpZ2h0QXJncyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gbWVyZ2UgZmxhZ3NcbiAgICAgICAgYmluZERhdGFbMV0gfD0gYml0bWFzaztcbiAgICAgICAgcmV0dXJuIGNyZWF0ZVdyYXBwZXIuYXBwbHkobnVsbCwgYmluZERhdGEpO1xuICAgICAgfVxuICAgICAgLy8gZmFzdCBwYXRoIGZvciBgXy5iaW5kYFxuICAgICAgdmFyIGNyZWF0ZXIgPSAoYml0bWFzayA9PSAxIHx8IGJpdG1hc2sgPT09IDE3KSA/IGJhc2VCaW5kIDogYmFzZUNyZWF0ZVdyYXBwZXI7XG4gICAgICByZXR1cm4gY3JlYXRlcihbZnVuYywgYml0bWFzaywgcGFydGlhbEFyZ3MsIHBhcnRpYWxSaWdodEFyZ3MsIHRoaXNBcmcsIGFyaXR5XSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBjb21waWxlZCBpdGVyYXRpb24gZnVuY3Rpb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0gey4uLk9iamVjdH0gW29wdGlvbnNdIFRoZSBjb21waWxlIG9wdGlvbnMgb2JqZWN0KHMpLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5hcnJheV0gQ29kZSB0byBkZXRlcm1pbmUgaWYgdGhlIGl0ZXJhYmxlIGlzIGFuIGFycmF5IG9yIGFycmF5LWxpa2UuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy51c2VIYXNdIFNwZWNpZnkgdXNpbmcgYGhhc093blByb3BlcnR5YCBjaGVja3MgaW4gdGhlIG9iamVjdCBsb29wLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtvcHRpb25zLmtleXNdIEEgcmVmZXJlbmNlIHRvIGBfLmtleXNgIGZvciB1c2UgaW4gb3duIHByb3BlcnR5IGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMuYXJnc10gQSBjb21tYSBzZXBhcmF0ZWQgc3RyaW5nIG9mIGl0ZXJhdGlvbiBmdW5jdGlvbiBhcmd1bWVudHMuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnRvcF0gQ29kZSB0byBleGVjdXRlIGJlZm9yZSB0aGUgaXRlcmF0aW9uIGJyYW5jaGVzLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5sb29wXSBDb2RlIHRvIGV4ZWN1dGUgaW4gdGhlIG9iamVjdCBsb29wLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5ib3R0b21dIENvZGUgdG8gZXhlY3V0ZSBhZnRlciB0aGUgaXRlcmF0aW9uIGJyYW5jaGVzLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgY29tcGlsZWQgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlSXRlcmF0b3IoKSB7XG4gICAgICAvLyBkYXRhIHByb3BlcnRpZXNcbiAgICAgIGl0ZXJhdG9yRGF0YS5zaGFkb3dlZFByb3BzID0gc2hhZG93ZWRQcm9wcztcblxuICAgICAgLy8gaXRlcmF0b3Igb3B0aW9uc1xuICAgICAgaXRlcmF0b3JEYXRhLmFycmF5ID0gaXRlcmF0b3JEYXRhLmJvdHRvbSA9IGl0ZXJhdG9yRGF0YS5sb29wID0gaXRlcmF0b3JEYXRhLnRvcCA9ICcnO1xuICAgICAgaXRlcmF0b3JEYXRhLmluaXQgPSAnaXRlcmFibGUnO1xuICAgICAgaXRlcmF0b3JEYXRhLnVzZUhhcyA9IHRydWU7XG5cbiAgICAgIC8vIG1lcmdlIG9wdGlvbnMgaW50byBhIHRlbXBsYXRlIGRhdGEgb2JqZWN0XG4gICAgICBmb3IgKHZhciBvYmplY3QsIGluZGV4ID0gMDsgb2JqZWN0ID0gYXJndW1lbnRzW2luZGV4XTsgaW5kZXgrKykge1xuICAgICAgICBmb3IgKHZhciBrZXkgaW4gb2JqZWN0KSB7XG4gICAgICAgICAgaXRlcmF0b3JEYXRhW2tleV0gPSBvYmplY3Rba2V5XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdmFyIGFyZ3MgPSBpdGVyYXRvckRhdGEuYXJncztcbiAgICAgIGl0ZXJhdG9yRGF0YS5maXJzdEFyZyA9IC9eW14sXSsvLmV4ZWMoYXJncylbMF07XG5cbiAgICAgIC8vIGNyZWF0ZSB0aGUgZnVuY3Rpb24gZmFjdG9yeVxuICAgICAgdmFyIGZhY3RvcnkgPSBGdW5jdGlvbihcbiAgICAgICAgICAnYmFzZUNyZWF0ZUNhbGxiYWNrLCBlcnJvckNsYXNzLCBlcnJvclByb3RvLCBoYXNPd25Qcm9wZXJ0eSwgJyArXG4gICAgICAgICAgJ2luZGljYXRvck9iamVjdCwgaXNBcmd1bWVudHMsIGlzQXJyYXksIGlzU3RyaW5nLCBrZXlzLCBvYmplY3RQcm90bywgJyArXG4gICAgICAgICAgJ29iamVjdFR5cGVzLCBub25FbnVtUHJvcHMsIHN0cmluZ0NsYXNzLCBzdHJpbmdQcm90bywgdG9TdHJpbmcnLFxuICAgICAgICAncmV0dXJuIGZ1bmN0aW9uKCcgKyBhcmdzICsgJykge1xcbicgKyBpdGVyYXRvclRlbXBsYXRlKGl0ZXJhdG9yRGF0YSkgKyAnXFxufSdcbiAgICAgICk7XG5cbiAgICAgIC8vIHJldHVybiB0aGUgY29tcGlsZWQgZnVuY3Rpb25cbiAgICAgIHJldHVybiBmYWN0b3J5KFxuICAgICAgICBiYXNlQ3JlYXRlQ2FsbGJhY2ssIGVycm9yQ2xhc3MsIGVycm9yUHJvdG8sIGhhc093blByb3BlcnR5LFxuICAgICAgICBpbmRpY2F0b3JPYmplY3QsIGlzQXJndW1lbnRzLCBpc0FycmF5LCBpc1N0cmluZywgaXRlcmF0b3JEYXRhLmtleXMsIG9iamVjdFByb3RvLFxuICAgICAgICBvYmplY3RUeXBlcywgbm9uRW51bVByb3BzLCBzdHJpbmdDbGFzcywgc3RyaW5nUHJvdG8sIHRvU3RyaW5nXG4gICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVzZWQgYnkgYGVzY2FwZWAgdG8gY29udmVydCBjaGFyYWN0ZXJzIHRvIEhUTUwgZW50aXRpZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtYXRjaCBUaGUgbWF0Y2hlZCBjaGFyYWN0ZXIgdG8gZXNjYXBlLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGVzY2FwZWQgY2hhcmFjdGVyLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGVzY2FwZUh0bWxDaGFyKG1hdGNoKSB7XG4gICAgICByZXR1cm4gaHRtbEVzY2FwZXNbbWF0Y2hdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGFwcHJvcHJpYXRlIFwiaW5kZXhPZlwiIGZ1bmN0aW9uLiBJZiB0aGUgYF8uaW5kZXhPZmAgbWV0aG9kIGlzXG4gICAgICogY3VzdG9taXplZCwgdGhpcyBtZXRob2QgcmV0dXJucyB0aGUgY3VzdG9tIG1ldGhvZCwgb3RoZXJ3aXNlIGl0IHJldHVybnNcbiAgICAgKiB0aGUgYGJhc2VJbmRleE9mYCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBcImluZGV4T2ZcIiBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRJbmRleE9mKCkge1xuICAgICAgdmFyIHJlc3VsdCA9IChyZXN1bHQgPSBsb2Rhc2guaW5kZXhPZikgPT09IGluZGV4T2YgPyBiYXNlSW5kZXhPZiA6IHJlc3VsdDtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBuYXRpdmUgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgYHZhbHVlYCBpcyBhIG5hdGl2ZSBmdW5jdGlvbiwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTmF0aXZlKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdmdW5jdGlvbicgJiYgcmVOYXRpdmUudGVzdCh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyBgdGhpc2AgYmluZGluZyBkYXRhIG9uIGEgZ2l2ZW4gZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHNldCBkYXRhIG9uLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlIFRoZSBkYXRhIGFycmF5IHRvIHNldC5cbiAgICAgKi9cbiAgICB2YXIgc2V0QmluZERhdGEgPSAhZGVmaW5lUHJvcGVydHkgPyBub29wIDogZnVuY3Rpb24oZnVuYywgdmFsdWUpIHtcbiAgICAgIGRlc2NyaXB0b3IudmFsdWUgPSB2YWx1ZTtcbiAgICAgIGRlZmluZVByb3BlcnR5KGZ1bmMsICdfX2JpbmREYXRhX18nLCBkZXNjcmlwdG9yKTtcbiAgICAgIGRlc2NyaXB0b3IudmFsdWUgPSBudWxsO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBIGZhbGxiYWNrIGltcGxlbWVudGF0aW9uIG9mIGBpc1BsYWluT2JqZWN0YCB3aGljaCBjaGVja3MgaWYgYSBnaXZlbiB2YWx1ZVxuICAgICAqIGlzIGFuIG9iamVjdCBjcmVhdGVkIGJ5IHRoZSBgT2JqZWN0YCBjb25zdHJ1Y3RvciwgYXNzdW1pbmcgb2JqZWN0cyBjcmVhdGVkXG4gICAgICogYnkgdGhlIGBPYmplY3RgIGNvbnN0cnVjdG9yIGhhdmUgbm8gaW5oZXJpdGVkIGVudW1lcmFibGUgcHJvcGVydGllcyBhbmQgdGhhdFxuICAgICAqIHRoZXJlIGFyZSBubyBgT2JqZWN0LnByb3RvdHlwZWAgZXh0ZW5zaW9ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBwbGFpbiBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzaGltSXNQbGFpbk9iamVjdCh2YWx1ZSkge1xuICAgICAgdmFyIGN0b3IsXG4gICAgICAgICAgcmVzdWx0O1xuXG4gICAgICAvLyBhdm9pZCBub24gT2JqZWN0IG9iamVjdHMsIGBhcmd1bWVudHNgIG9iamVjdHMsIGFuZCBET00gZWxlbWVudHNcbiAgICAgIGlmICghKHZhbHVlICYmIHRvU3RyaW5nLmNhbGwodmFsdWUpID09IG9iamVjdENsYXNzKSB8fFxuICAgICAgICAgIChjdG9yID0gdmFsdWUuY29uc3RydWN0b3IsIGlzRnVuY3Rpb24oY3RvcikgJiYgIShjdG9yIGluc3RhbmNlb2YgY3RvcikpIHx8XG4gICAgICAgICAgKCFzdXBwb3J0LmFyZ3NDbGFzcyAmJiBpc0FyZ3VtZW50cyh2YWx1ZSkpIHx8XG4gICAgICAgICAgKCFzdXBwb3J0Lm5vZGVDbGFzcyAmJiBpc05vZGUodmFsdWUpKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICAvLyBJRSA8IDkgaXRlcmF0ZXMgaW5oZXJpdGVkIHByb3BlcnRpZXMgYmVmb3JlIG93biBwcm9wZXJ0aWVzLiBJZiB0aGUgZmlyc3RcbiAgICAgIC8vIGl0ZXJhdGVkIHByb3BlcnR5IGlzIGFuIG9iamVjdCdzIG93biBwcm9wZXJ0eSB0aGVuIHRoZXJlIGFyZSBubyBpbmhlcml0ZWRcbiAgICAgIC8vIGVudW1lcmFibGUgcHJvcGVydGllcy5cbiAgICAgIGlmIChzdXBwb3J0Lm93bkxhc3QpIHtcbiAgICAgICAgZm9ySW4odmFsdWUsIGZ1bmN0aW9uKHZhbHVlLCBrZXksIG9iamVjdCkge1xuICAgICAgICAgIHJlc3VsdCA9IGhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpO1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiByZXN1bHQgIT09IGZhbHNlO1xuICAgICAgfVxuICAgICAgLy8gSW4gbW9zdCBlbnZpcm9ubWVudHMgYW4gb2JqZWN0J3Mgb3duIHByb3BlcnRpZXMgYXJlIGl0ZXJhdGVkIGJlZm9yZVxuICAgICAgLy8gaXRzIGluaGVyaXRlZCBwcm9wZXJ0aWVzLiBJZiB0aGUgbGFzdCBpdGVyYXRlZCBwcm9wZXJ0eSBpcyBhbiBvYmplY3Qnc1xuICAgICAgLy8gb3duIHByb3BlcnR5IHRoZW4gdGhlcmUgYXJlIG5vIGluaGVyaXRlZCBlbnVtZXJhYmxlIHByb3BlcnRpZXMuXG4gICAgICBmb3JJbih2YWx1ZSwgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAgICByZXN1bHQgPSBrZXk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB0eXBlb2YgcmVzdWx0ID09ICd1bmRlZmluZWQnIHx8IGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsIHJlc3VsdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXNlZCBieSBgdW5lc2NhcGVgIHRvIGNvbnZlcnQgSFRNTCBlbnRpdGllcyB0byBjaGFyYWN0ZXJzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbWF0Y2ggVGhlIG1hdGNoZWQgY2hhcmFjdGVyIHRvIHVuZXNjYXBlLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHVuZXNjYXBlZCBjaGFyYWN0ZXIuXG4gICAgICovXG4gICAgZnVuY3Rpb24gdW5lc2NhcGVIdG1sQ2hhcihtYXRjaCkge1xuICAgICAgcmV0dXJuIGh0bWxVbmVzY2FwZXNbbWF0Y2hdO1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYW4gYGFyZ3VtZW50c2Agb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdHNcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGB2YWx1ZWAgaXMgYW4gYGFyZ3VtZW50c2Agb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIChmdW5jdGlvbigpIHsgcmV0dXJuIF8uaXNBcmd1bWVudHMoYXJndW1lbnRzKTsgfSkoMSwgMiwgMyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0FyZ3VtZW50cyhbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNBcmd1bWVudHModmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCcgJiYgdHlwZW9mIHZhbHVlLmxlbmd0aCA9PSAnbnVtYmVyJyAmJlxuICAgICAgICB0b1N0cmluZy5jYWxsKHZhbHVlKSA9PSBhcmdzQ2xhc3MgfHwgZmFsc2U7XG4gICAgfVxuICAgIC8vIGZhbGxiYWNrIGZvciBicm93c2VycyB0aGF0IGNhbid0IGRldGVjdCBgYXJndW1lbnRzYCBvYmplY3RzIGJ5IFtbQ2xhc3NdXVxuICAgIGlmICghc3VwcG9ydC5hcmdzQ2xhc3MpIHtcbiAgICAgIGlzQXJndW1lbnRzID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0JyAmJiB0eXBlb2YgdmFsdWUubGVuZ3RoID09ICdudW1iZXInICYmXG4gICAgICAgICAgaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwgJ2NhbGxlZScpICYmICFwcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHZhbHVlLCAnY2FsbGVlJykgfHwgZmFsc2U7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGFuIGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHR5cGUgRnVuY3Rpb25cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0c1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgYHZhbHVlYCBpcyBhbiBhcnJheSwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAoZnVuY3Rpb24oKSB7IHJldHVybiBfLmlzQXJyYXkoYXJndW1lbnRzKTsgfSkoKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5KFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIHZhciBpc0FycmF5ID0gbmF0aXZlSXNBcnJheSB8fCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0JyAmJiB0eXBlb2YgdmFsdWUubGVuZ3RoID09ICdudW1iZXInICYmXG4gICAgICAgIHRvU3RyaW5nLmNhbGwodmFsdWUpID09IGFycmF5Q2xhc3MgfHwgZmFsc2U7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEEgZmFsbGJhY2sgaW1wbGVtZW50YXRpb24gb2YgYE9iamVjdC5rZXlzYCB3aGljaCBwcm9kdWNlcyBhbiBhcnJheSBvZiB0aGVcbiAgICAgKiBnaXZlbiBvYmplY3QncyBvd24gZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYW4gYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gICAgICovXG4gICAgdmFyIHNoaW1LZXlzID0gY3JlYXRlSXRlcmF0b3Ioe1xuICAgICAgJ2FyZ3MnOiAnb2JqZWN0JyxcbiAgICAgICdpbml0JzogJ1tdJyxcbiAgICAgICd0b3AnOiAnaWYgKCEob2JqZWN0VHlwZXNbdHlwZW9mIG9iamVjdF0pKSByZXR1cm4gcmVzdWx0JyxcbiAgICAgICdsb29wJzogJ3Jlc3VsdC5wdXNoKGluZGV4KSdcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgY29tcG9zZWQgb2YgdGhlIG93biBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIG9mIGFuIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RzXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGFuIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmtleXMoeyAnb25lJzogMSwgJ3R3byc6IDIsICd0aHJlZSc6IDMgfSk7XG4gICAgICogLy8gPT4gWydvbmUnLCAndHdvJywgJ3RocmVlJ10gKHByb3BlcnR5IG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkIGFjcm9zcyBlbnZpcm9ubWVudHMpXG4gICAgICovXG4gICAgdmFyIGtleXMgPSAhbmF0aXZlS2V5cyA/IHNoaW1LZXlzIDogZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICBpZiAoIWlzT2JqZWN0KG9iamVjdCkpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgaWYgKChzdXBwb3J0LmVudW1Qcm90b3R5cGVzICYmIHR5cGVvZiBvYmplY3QgPT0gJ2Z1bmN0aW9uJykgfHxcbiAgICAgICAgICAoc3VwcG9ydC5ub25FbnVtQXJncyAmJiBvYmplY3QubGVuZ3RoICYmIGlzQXJndW1lbnRzKG9iamVjdCkpKSB7XG4gICAgICAgIHJldHVybiBzaGltS2V5cyhvYmplY3QpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5hdGl2ZUtleXMob2JqZWN0KTtcbiAgICB9O1xuXG4gICAgLyoqIFJldXNhYmxlIGl0ZXJhdG9yIG9wdGlvbnMgc2hhcmVkIGJ5IGBlYWNoYCwgYGZvckluYCwgYW5kIGBmb3JPd25gICovXG4gICAgdmFyIGVhY2hJdGVyYXRvck9wdGlvbnMgPSB7XG4gICAgICAnYXJncyc6ICdjb2xsZWN0aW9uLCBjYWxsYmFjaywgdGhpc0FyZycsXG4gICAgICAndG9wJzogXCJjYWxsYmFjayA9IGNhbGxiYWNrICYmIHR5cGVvZiB0aGlzQXJnID09ICd1bmRlZmluZWQnID8gY2FsbGJhY2sgOiBiYXNlQ3JlYXRlQ2FsbGJhY2soY2FsbGJhY2ssIHRoaXNBcmcsIDMpXCIsXG4gICAgICAnYXJyYXknOiBcInR5cGVvZiBsZW5ndGggPT0gJ251bWJlcidcIixcbiAgICAgICdrZXlzJzoga2V5cyxcbiAgICAgICdsb29wJzogJ2lmIChjYWxsYmFjayhpdGVyYWJsZVtpbmRleF0sIGluZGV4LCBjb2xsZWN0aW9uKSA9PT0gZmFsc2UpIHJldHVybiByZXN1bHQnXG4gICAgfTtcblxuICAgIC8qKiBSZXVzYWJsZSBpdGVyYXRvciBvcHRpb25zIGZvciBgYXNzaWduYCBhbmQgYGRlZmF1bHRzYCAqL1xuICAgIHZhciBkZWZhdWx0c0l0ZXJhdG9yT3B0aW9ucyA9IHtcbiAgICAgICdhcmdzJzogJ29iamVjdCwgc291cmNlLCBndWFyZCcsXG4gICAgICAndG9wJzpcbiAgICAgICAgJ3ZhciBhcmdzID0gYXJndW1lbnRzLFxcbicgK1xuICAgICAgICAnICAgIGFyZ3NJbmRleCA9IDAsXFxuJyArXG4gICAgICAgIFwiICAgIGFyZ3NMZW5ndGggPSB0eXBlb2YgZ3VhcmQgPT0gJ251bWJlcicgPyAyIDogYXJncy5sZW5ndGg7XFxuXCIgK1xuICAgICAgICAnd2hpbGUgKCsrYXJnc0luZGV4IDwgYXJnc0xlbmd0aCkge1xcbicgK1xuICAgICAgICAnICBpdGVyYWJsZSA9IGFyZ3NbYXJnc0luZGV4XTtcXG4nICtcbiAgICAgICAgJyAgaWYgKGl0ZXJhYmxlICYmIG9iamVjdFR5cGVzW3R5cGVvZiBpdGVyYWJsZV0pIHsnLFxuICAgICAgJ2tleXMnOiBrZXlzLFxuICAgICAgJ2xvb3AnOiBcImlmICh0eXBlb2YgcmVzdWx0W2luZGV4XSA9PSAndW5kZWZpbmVkJykgcmVzdWx0W2luZGV4XSA9IGl0ZXJhYmxlW2luZGV4XVwiLFxuICAgICAgJ2JvdHRvbSc6ICcgIH1cXG59J1xuICAgIH07XG5cbiAgICAvKiogUmV1c2FibGUgaXRlcmF0b3Igb3B0aW9ucyBmb3IgYGZvckluYCBhbmQgYGZvck93bmAgKi9cbiAgICB2YXIgZm9yT3duSXRlcmF0b3JPcHRpb25zID0ge1xuICAgICAgJ3RvcCc6ICdpZiAoIW9iamVjdFR5cGVzW3R5cGVvZiBpdGVyYWJsZV0pIHJldHVybiByZXN1bHQ7XFxuJyArIGVhY2hJdGVyYXRvck9wdGlvbnMudG9wLFxuICAgICAgJ2FycmF5JzogZmFsc2VcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXNlZCB0byBjb252ZXJ0IGNoYXJhY3RlcnMgdG8gSFRNTCBlbnRpdGllczpcbiAgICAgKlxuICAgICAqIFRob3VnaCB0aGUgYD5gIGNoYXJhY3RlciBpcyBlc2NhcGVkIGZvciBzeW1tZXRyeSwgY2hhcmFjdGVycyBsaWtlIGA+YCBhbmQgYC9gXG4gICAgICogZG9uJ3QgcmVxdWlyZSBlc2NhcGluZyBpbiBIVE1MIGFuZCBoYXZlIG5vIHNwZWNpYWwgbWVhbmluZyB1bmxlc3MgdGhleSdyZSBwYXJ0XG4gICAgICogb2YgYSB0YWcgb3IgYW4gdW5xdW90ZWQgYXR0cmlidXRlIHZhbHVlLlxuICAgICAqIGh0dHA6Ly9tYXRoaWFzYnluZW5zLmJlL25vdGVzL2FtYmlndW91cy1hbXBlcnNhbmRzICh1bmRlciBcInNlbWktcmVsYXRlZCBmdW4gZmFjdFwiKVxuICAgICAqL1xuICAgIHZhciBodG1sRXNjYXBlcyA9IHtcbiAgICAgICcmJzogJyZhbXA7JyxcbiAgICAgICc8JzogJyZsdDsnLFxuICAgICAgJz4nOiAnJmd0OycsXG4gICAgICAnXCInOiAnJnF1b3Q7JyxcbiAgICAgIFwiJ1wiOiAnJiMzOTsnXG4gICAgfTtcblxuICAgIC8qKiBVc2VkIHRvIGNvbnZlcnQgSFRNTCBlbnRpdGllcyB0byBjaGFyYWN0ZXJzICovXG4gICAgdmFyIGh0bWxVbmVzY2FwZXMgPSBpbnZlcnQoaHRtbEVzY2FwZXMpO1xuXG4gICAgLyoqIFVzZWQgdG8gbWF0Y2ggSFRNTCBlbnRpdGllcyBhbmQgSFRNTCBjaGFyYWN0ZXJzICovXG4gICAgdmFyIHJlRXNjYXBlZEh0bWwgPSBSZWdFeHAoJygnICsga2V5cyhodG1sVW5lc2NhcGVzKS5qb2luKCd8JykgKyAnKScsICdnJyksXG4gICAgICAgIHJlVW5lc2NhcGVkSHRtbCA9IFJlZ0V4cCgnWycgKyBrZXlzKGh0bWxFc2NhcGVzKS5qb2luKCcnKSArICddJywgJ2cnKTtcblxuICAgIC8qKlxuICAgICAqIEEgZnVuY3Rpb24gY29tcGlsZWQgdG8gaXRlcmF0ZSBgYXJndW1lbnRzYCBvYmplY3RzLCBhcnJheXMsIG9iamVjdHMsIGFuZFxuICAgICAqIHN0cmluZ3MgY29uc2lzdGVubHkgYWNyb3NzIGVudmlyb25tZW50cywgZXhlY3V0aW5nIHRoZSBjYWxsYmFjayBmb3IgZWFjaFxuICAgICAqIGVsZW1lbnQgaW4gdGhlIGNvbGxlY3Rpb24uIFRoZSBjYWxsYmFjayBpcyBib3VuZCB0byBgdGhpc0FyZ2AgYW5kIGludm9rZWRcbiAgICAgKiB3aXRoIHRocmVlIGFyZ3VtZW50czsgKHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLiBDYWxsYmFja3MgbWF5IGV4aXRcbiAgICAgKiBpdGVyYXRpb24gZWFybHkgYnkgZXhwbGljaXRseSByZXR1cm5pbmcgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdHxzdHJpbmd9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFjaz1pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGNhbGxlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgY2FsbGJhY2tgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheXxPYmplY3R8c3RyaW5nfSBSZXR1cm5zIGBjb2xsZWN0aW9uYC5cbiAgICAgKi9cbiAgICB2YXIgYmFzZUVhY2ggPSBjcmVhdGVJdGVyYXRvcihlYWNoSXRlcmF0b3JPcHRpb25zKTtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQXNzaWducyBvd24gZW51bWVyYWJsZSBwcm9wZXJ0aWVzIG9mIHNvdXJjZSBvYmplY3QocykgdG8gdGhlIGRlc3RpbmF0aW9uXG4gICAgICogb2JqZWN0LiBTdWJzZXF1ZW50IHNvdXJjZXMgd2lsbCBvdmVyd3JpdGUgcHJvcGVydHkgYXNzaWdubWVudHMgb2YgcHJldmlvdXNcbiAgICAgKiBzb3VyY2VzLiBJZiBhIGNhbGxiYWNrIGlzIHByb3ZpZGVkIGl0IHdpbGwgYmUgZXhlY3V0ZWQgdG8gcHJvZHVjZSB0aGVcbiAgICAgKiBhc3NpZ25lZCB2YWx1ZXMuIFRoZSBjYWxsYmFjayBpcyBib3VuZCB0byBgdGhpc0FyZ2AgYW5kIGludm9rZWQgd2l0aCB0d29cbiAgICAgKiBhcmd1bWVudHM7IChvYmplY3RWYWx1ZSwgc291cmNlVmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHR5cGUgRnVuY3Rpb25cbiAgICAgKiBAYWxpYXMgZXh0ZW5kXG4gICAgICogQGNhdGVnb3J5IE9iamVjdHNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHsuLi5PYmplY3R9IFtzb3VyY2VdIFRoZSBzb3VyY2Ugb2JqZWN0cy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2tdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgYXNzaWduaW5nIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGNhbGxiYWNrYC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uYXNzaWduKHsgJ25hbWUnOiAnZnJlZCcgfSwgeyAnZW1wbG95ZXInOiAnc2xhdGUnIH0pO1xuICAgICAqIC8vID0+IHsgJ25hbWUnOiAnZnJlZCcsICdlbXBsb3llcic6ICdzbGF0ZScgfVxuICAgICAqXG4gICAgICogdmFyIGRlZmF1bHRzID0gXy5wYXJ0aWFsUmlnaHQoXy5hc3NpZ24sIGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgKiAgIHJldHVybiB0eXBlb2YgYSA9PSAndW5kZWZpbmVkJyA/IGIgOiBhO1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ25hbWUnOiAnYmFybmV5JyB9O1xuICAgICAqIGRlZmF1bHRzKG9iamVjdCwgeyAnbmFtZSc6ICdmcmVkJywgJ2VtcGxveWVyJzogJ3NsYXRlJyB9KTtcbiAgICAgKiAvLyA9PiB7ICduYW1lJzogJ2Jhcm5leScsICdlbXBsb3llcic6ICdzbGF0ZScgfVxuICAgICAqL1xuICAgIHZhciBhc3NpZ24gPSBjcmVhdGVJdGVyYXRvcihkZWZhdWx0c0l0ZXJhdG9yT3B0aW9ucywge1xuICAgICAgJ3RvcCc6XG4gICAgICAgIGRlZmF1bHRzSXRlcmF0b3JPcHRpb25zLnRvcC5yZXBsYWNlKCc7JyxcbiAgICAgICAgICAnO1xcbicgK1xuICAgICAgICAgIFwiaWYgKGFyZ3NMZW5ndGggPiAzICYmIHR5cGVvZiBhcmdzW2FyZ3NMZW5ndGggLSAyXSA9PSAnZnVuY3Rpb24nKSB7XFxuXCIgK1xuICAgICAgICAgICcgIHZhciBjYWxsYmFjayA9IGJhc2VDcmVhdGVDYWxsYmFjayhhcmdzWy0tYXJnc0xlbmd0aCAtIDFdLCBhcmdzW2FyZ3NMZW5ndGgtLV0sIDIpO1xcbicgK1xuICAgICAgICAgIFwifSBlbHNlIGlmIChhcmdzTGVuZ3RoID4gMiAmJiB0eXBlb2YgYXJnc1thcmdzTGVuZ3RoIC0gMV0gPT0gJ2Z1bmN0aW9uJykge1xcblwiICtcbiAgICAgICAgICAnICBjYWxsYmFjayA9IGFyZ3NbLS1hcmdzTGVuZ3RoXTtcXG4nICtcbiAgICAgICAgICAnfSdcbiAgICAgICAgKSxcbiAgICAgICdsb29wJzogJ3Jlc3VsdFtpbmRleF0gPSBjYWxsYmFjayA/IGNhbGxiYWNrKHJlc3VsdFtpbmRleF0sIGl0ZXJhYmxlW2luZGV4XSkgOiBpdGVyYWJsZVtpbmRleF0nXG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgYHZhbHVlYC4gSWYgYGlzRGVlcGAgaXMgYHRydWVgIG5lc3RlZCBvYmplY3RzIHdpbGwgYWxzb1xuICAgICAqIGJlIGNsb25lZCwgb3RoZXJ3aXNlIHRoZXkgd2lsbCBiZSBhc3NpZ25lZCBieSByZWZlcmVuY2UuIElmIGEgY2FsbGJhY2tcbiAgICAgKiBpcyBwcm92aWRlZCBpdCB3aWxsIGJlIGV4ZWN1dGVkIHRvIHByb2R1Y2UgdGhlIGNsb25lZCB2YWx1ZXMuIElmIHRoZVxuICAgICAqIGNhbGxiYWNrIHJldHVybnMgYHVuZGVmaW5lZGAgY2xvbmluZyB3aWxsIGJlIGhhbmRsZWQgYnkgdGhlIG1ldGhvZCBpbnN0ZWFkLlxuICAgICAqIFRoZSBjYWxsYmFjayBpcyBib3VuZCB0byBgdGhpc0FyZ2AgYW5kIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ7ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0c1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNsb25lLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzRGVlcD1mYWxzZV0gU3BlY2lmeSBhIGRlZXAgY2xvbmUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NhbGxiYWNrXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNsb25pbmcgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgY2FsbGJhY2tgLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBjbG9uZWQgdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBjaGFyYWN0ZXJzID0gW1xuICAgICAqICAgeyAnbmFtZSc6ICdiYXJuZXknLCAnYWdlJzogMzYgfSxcbiAgICAgKiAgIHsgJ25hbWUnOiAnZnJlZCcsICAgJ2FnZSc6IDQwIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogdmFyIHNoYWxsb3cgPSBfLmNsb25lKGNoYXJhY3RlcnMpO1xuICAgICAqIHNoYWxsb3dbMF0gPT09IGNoYXJhY3RlcnNbMF07XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogdmFyIGRlZXAgPSBfLmNsb25lKGNoYXJhY3RlcnMsIHRydWUpO1xuICAgICAqIGRlZXBbMF0gPT09IGNoYXJhY3RlcnNbMF07XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8ubWl4aW4oe1xuICAgICAqICAgJ2Nsb25lJzogXy5wYXJ0aWFsUmlnaHQoXy5jbG9uZSwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgKiAgICAgcmV0dXJuIF8uaXNFbGVtZW50KHZhbHVlKSA/IHZhbHVlLmNsb25lTm9kZShmYWxzZSkgOiB1bmRlZmluZWQ7XG4gICAgICogICB9KVxuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogdmFyIGNsb25lID0gXy5jbG9uZShkb2N1bWVudC5ib2R5KTtcbiAgICAgKiBjbG9uZS5jaGlsZE5vZGVzLmxlbmd0aDtcbiAgICAgKiAvLyA9PiAwXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmUodmFsdWUsIGlzRGVlcCwgY2FsbGJhY2ssIHRoaXNBcmcpIHtcbiAgICAgIC8vIGFsbG93cyB3b3JraW5nIHdpdGggXCJDb2xsZWN0aW9uc1wiIG1ldGhvZHMgd2l0aG91dCB1c2luZyB0aGVpciBgaW5kZXhgXG4gICAgICAvLyBhbmQgYGNvbGxlY3Rpb25gIGFyZ3VtZW50cyBmb3IgYGlzRGVlcGAgYW5kIGBjYWxsYmFja2BcbiAgICAgIGlmICh0eXBlb2YgaXNEZWVwICE9ICdib29sZWFuJyAmJiBpc0RlZXAgIT0gbnVsbCkge1xuICAgICAgICB0aGlzQXJnID0gY2FsbGJhY2s7XG4gICAgICAgIGNhbGxiYWNrID0gaXNEZWVwO1xuICAgICAgICBpc0RlZXAgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlQ2xvbmUodmFsdWUsIGlzRGVlcCwgdHlwZW9mIGNhbGxiYWNrID09ICdmdW5jdGlvbicgJiYgYmFzZUNyZWF0ZUNhbGxiYWNrKGNhbGxiYWNrLCB0aGlzQXJnLCAxKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGRlZXAgY2xvbmUgb2YgYHZhbHVlYC4gSWYgYSBjYWxsYmFjayBpcyBwcm92aWRlZCBpdCB3aWxsIGJlXG4gICAgICogZXhlY3V0ZWQgdG8gcHJvZHVjZSB0aGUgY2xvbmVkIHZhbHVlcy4gSWYgdGhlIGNhbGxiYWNrIHJldHVybnMgYHVuZGVmaW5lZGBcbiAgICAgKiBjbG9uaW5nIHdpbGwgYmUgaGFuZGxlZCBieSB0aGUgbWV0aG9kIGluc3RlYWQuIFRoZSBjYWxsYmFjayBpcyBib3VuZCB0b1xuICAgICAqIGB0aGlzQXJnYCBhbmQgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDsgKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIE5vdGU6IFRoaXMgbWV0aG9kIGlzIGxvb3NlbHkgYmFzZWQgb24gdGhlIHN0cnVjdHVyZWQgY2xvbmUgYWxnb3JpdGhtLiBGdW5jdGlvbnNcbiAgICAgKiBhbmQgRE9NIG5vZGVzIGFyZSAqKm5vdCoqIGNsb25lZC4gVGhlIGVudW1lcmFibGUgcHJvcGVydGllcyBvZiBgYXJndW1lbnRzYCBvYmplY3RzIGFuZFxuICAgICAqIG9iamVjdHMgY3JlYXRlZCBieSBjb25zdHJ1Y3RvcnMgb3RoZXIgdGhhbiBgT2JqZWN0YCBhcmUgY2xvbmVkIHRvIHBsYWluIGBPYmplY3RgIG9iamVjdHMuXG4gICAgICogU2VlIGh0dHA6Ly93d3cudzMub3JnL1RSL2h0bWw1L2luZnJhc3RydWN0dXJlLmh0bWwjaW50ZXJuYWwtc3RydWN0dXJlZC1jbG9uaW5nLWFsZ29yaXRobS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RzXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gZGVlcCBjbG9uZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2tdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY2xvbmluZyB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBjYWxsYmFja2AuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGRlZXAgY2xvbmVkIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgY2hhcmFjdGVycyA9IFtcbiAgICAgKiAgIHsgJ25hbWUnOiAnYmFybmV5JywgJ2FnZSc6IDM2IH0sXG4gICAgICogICB7ICduYW1lJzogJ2ZyZWQnLCAgICdhZ2UnOiA0MCB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIHZhciBkZWVwID0gXy5jbG9uZURlZXAoY2hhcmFjdGVycyk7XG4gICAgICogZGVlcFswXSA9PT0gY2hhcmFjdGVyc1swXTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogdmFyIHZpZXcgPSB7XG4gICAgICogICAnbGFiZWwnOiAnZG9jcycsXG4gICAgICogICAnbm9kZSc6IGVsZW1lbnRcbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogdmFyIGNsb25lID0gXy5jbG9uZURlZXAodmlldywgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgKiAgIHJldHVybiBfLmlzRWxlbWVudCh2YWx1ZSkgPyB2YWx1ZS5jbG9uZU5vZGUodHJ1ZSkgOiB1bmRlZmluZWQ7XG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBjbG9uZS5ub2RlID09IHZpZXcubm9kZTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lRGVlcCh2YWx1ZSwgY2FsbGJhY2ssIHRoaXNBcmcpIHtcbiAgICAgIHJldHVybiBiYXNlQ2xvbmUodmFsdWUsIHRydWUsIHR5cGVvZiBjYWxsYmFjayA9PSAnZnVuY3Rpb24nICYmIGJhc2VDcmVhdGVDYWxsYmFjayhjYWxsYmFjaywgdGhpc0FyZywgMSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gb2JqZWN0IHRoYXQgaW5oZXJpdHMgZnJvbSB0aGUgZ2l2ZW4gYHByb3RvdHlwZWAgb2JqZWN0LiBJZiBhXG4gICAgICogYHByb3BlcnRpZXNgIG9iamVjdCBpcyBwcm92aWRlZCBpdHMgb3duIGVudW1lcmFibGUgcHJvcGVydGllcyBhcmUgYXNzaWduZWRcbiAgICAgKiB0byB0aGUgY3JlYXRlZCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0c1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwcm90b3R5cGUgVGhlIG9iamVjdCB0byBpbmhlcml0IGZyb20uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtwcm9wZXJ0aWVzXSBUaGUgcHJvcGVydGllcyB0byBhc3NpZ24gdG8gdGhlIG9iamVjdC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBTaGFwZSgpIHtcbiAgICAgKiAgIHRoaXMueCA9IDA7XG4gICAgICogICB0aGlzLnkgPSAwO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIENpcmNsZSgpIHtcbiAgICAgKiAgIFNoYXBlLmNhbGwodGhpcyk7XG4gICAgICogfVxuICAgICAqXG4gICAgICogQ2lyY2xlLnByb3RvdHlwZSA9IF8uY3JlYXRlKFNoYXBlLnByb3RvdHlwZSwgeyAnY29uc3RydWN0b3InOiBDaXJjbGUgfSk7XG4gICAgICpcbiAgICAgKiB2YXIgY2lyY2xlID0gbmV3IENpcmNsZTtcbiAgICAgKiBjaXJjbGUgaW5zdGFuY2VvZiBDaXJjbGU7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogY2lyY2xlIGluc3RhbmNlb2YgU2hhcGU7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZShwcm90b3R5cGUsIHByb3BlcnRpZXMpIHtcbiAgICAgIHZhciByZXN1bHQgPSBiYXNlQ3JlYXRlKHByb3RvdHlwZSk7XG4gICAgICByZXR1cm4gcHJvcGVydGllcyA/IGFzc2lnbihyZXN1bHQsIHByb3BlcnRpZXMpIDogcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFzc2lnbnMgb3duIGVudW1lcmFibGUgcHJvcGVydGllcyBvZiBzb3VyY2Ugb2JqZWN0KHMpIHRvIHRoZSBkZXN0aW5hdGlvblxuICAgICAqIG9iamVjdCBmb3IgYWxsIGRlc3RpbmF0aW9uIHByb3BlcnRpZXMgdGhhdCByZXNvbHZlIHRvIGB1bmRlZmluZWRgLiBPbmNlIGFcbiAgICAgKiBwcm9wZXJ0eSBpcyBzZXQsIGFkZGl0aW9uYWwgZGVmYXVsdHMgb2YgdGhlIHNhbWUgcHJvcGVydHkgd2lsbCBiZSBpZ25vcmVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHR5cGUgRnVuY3Rpb25cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0c1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLk9iamVjdH0gW3NvdXJjZV0gVGhlIHNvdXJjZSBvYmplY3RzLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBBbGxvd3Mgd29ya2luZyB3aXRoIGBfLnJlZHVjZWAgd2l0aG91dCB1c2luZyBpdHNcbiAgICAgKiAgYGtleWAgYW5kIGBvYmplY3RgIGFyZ3VtZW50cyBhcyBzb3VyY2VzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ25hbWUnOiAnYmFybmV5JyB9O1xuICAgICAqIF8uZGVmYXVsdHMob2JqZWN0LCB7ICduYW1lJzogJ2ZyZWQnLCAnZW1wbG95ZXInOiAnc2xhdGUnIH0pO1xuICAgICAqIC8vID0+IHsgJ25hbWUnOiAnYmFybmV5JywgJ2VtcGxveWVyJzogJ3NsYXRlJyB9XG4gICAgICovXG4gICAgdmFyIGRlZmF1bHRzID0gY3JlYXRlSXRlcmF0b3IoZGVmYXVsdHNJdGVyYXRvck9wdGlvbnMpO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5maW5kSW5kZXhgIGV4Y2VwdCB0aGF0IGl0IHJldHVybnMgdGhlIGtleSBvZiB0aGVcbiAgICAgKiBmaXJzdCBlbGVtZW50IHRoYXQgcGFzc2VzIHRoZSBjYWxsYmFjayBjaGVjaywgaW5zdGVhZCBvZiB0aGUgZWxlbWVudCBpdHNlbGYuXG4gICAgICpcbiAgICAgKiBJZiBhIHByb3BlcnR5IG5hbWUgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLnBsdWNrXCIgc3R5bGVcbiAgICAgKiBjYWxsYmFjayB3aWxsIHJldHVybiB0aGUgcHJvcGVydHkgdmFsdWUgb2YgdGhlIGdpdmVuIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBJZiBhbiBvYmplY3QgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLndoZXJlXCIgc3R5bGUgY2FsbGJhY2tcbiAgICAgKiB3aWxsIHJldHVybiBgdHJ1ZWAgZm9yIGVsZW1lbnRzIHRoYXQgaGF2ZSB0aGUgcHJvcGVydGllcyBvZiB0aGUgZ2l2ZW4gb2JqZWN0LFxuICAgICAqIGVsc2UgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RzXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHNlYXJjaC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufE9iamVjdHxzdHJpbmd9IFtjYWxsYmFjaz1pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGNhbGxlZCBwZXJcbiAgICAgKiAgaXRlcmF0aW9uLiBJZiBhIHByb3BlcnR5IG5hbWUgb3Igb2JqZWN0IGlzIHByb3ZpZGVkIGl0IHdpbGwgYmUgdXNlZCB0b1xuICAgICAqICBjcmVhdGUgYSBcIl8ucGx1Y2tcIiBvciBcIl8ud2hlcmVcIiBzdHlsZSBjYWxsYmFjaywgcmVzcGVjdGl2ZWx5LlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgY2FsbGJhY2tgLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd8dW5kZWZpbmVkfSBSZXR1cm5zIHRoZSBrZXkgb2YgdGhlIGZvdW5kIGVsZW1lbnQsIGVsc2UgYHVuZGVmaW5lZGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBjaGFyYWN0ZXJzID0ge1xuICAgICAqICAgJ2Jhcm5leSc6IHsgICdhZ2UnOiAzNiwgJ2Jsb2NrZWQnOiBmYWxzZSB9LFxuICAgICAqICAgJ2ZyZWQnOiB7ICAgICdhZ2UnOiA0MCwgJ2Jsb2NrZWQnOiB0cnVlIH0sXG4gICAgICogICAncGViYmxlcyc6IHsgJ2FnZSc6IDEsICAnYmxvY2tlZCc6IGZhbHNlIH1cbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogXy5maW5kS2V5KGNoYXJhY3RlcnMsIGZ1bmN0aW9uKGNocikge1xuICAgICAqICAgcmV0dXJuIGNoci5hZ2UgPCA0MDtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiAnYmFybmV5JyAocHJvcGVydHkgb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQgYWNyb3NzIGVudmlyb25tZW50cylcbiAgICAgKlxuICAgICAqIC8vIHVzaW5nIFwiXy53aGVyZVwiIGNhbGxiYWNrIHNob3J0aGFuZFxuICAgICAqIF8uZmluZEtleShjaGFyYWN0ZXJzLCB7ICdhZ2UnOiAxIH0pO1xuICAgICAqIC8vID0+ICdwZWJibGVzJ1xuICAgICAqXG4gICAgICogLy8gdXNpbmcgXCJfLnBsdWNrXCIgY2FsbGJhY2sgc2hvcnRoYW5kXG4gICAgICogXy5maW5kS2V5KGNoYXJhY3RlcnMsICdibG9ja2VkJyk7XG4gICAgICogLy8gPT4gJ2ZyZWQnXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmluZEtleShvYmplY3QsIGNhbGxiYWNrLCB0aGlzQXJnKSB7XG4gICAgICB2YXIgcmVzdWx0O1xuICAgICAgY2FsbGJhY2sgPSBsb2Rhc2guY3JlYXRlQ2FsbGJhY2soY2FsbGJhY2ssIHRoaXNBcmcsIDMpO1xuICAgICAgZm9yT3duKG9iamVjdCwgZnVuY3Rpb24odmFsdWUsIGtleSwgb2JqZWN0KSB7XG4gICAgICAgIGlmIChjYWxsYmFjayh2YWx1ZSwga2V5LCBvYmplY3QpKSB7XG4gICAgICAgICAgcmVzdWx0ID0ga2V5O1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZmluZEtleWAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBlbGVtZW50c1xuICAgICAqIG9mIGEgYGNvbGxlY3Rpb25gIGluIHRoZSBvcHBvc2l0ZSBvcmRlci5cbiAgICAgKlxuICAgICAqIElmIGEgcHJvcGVydHkgbmFtZSBpcyBwcm92aWRlZCBmb3IgYGNhbGxiYWNrYCB0aGUgY3JlYXRlZCBcIl8ucGx1Y2tcIiBzdHlsZVxuICAgICAqIGNhbGxiYWNrIHdpbGwgcmV0dXJuIHRoZSBwcm9wZXJ0eSB2YWx1ZSBvZiB0aGUgZ2l2ZW4gZWxlbWVudC5cbiAgICAgKlxuICAgICAqIElmIGFuIG9iamVjdCBpcyBwcm92aWRlZCBmb3IgYGNhbGxiYWNrYCB0aGUgY3JlYXRlZCBcIl8ud2hlcmVcIiBzdHlsZSBjYWxsYmFja1xuICAgICAqIHdpbGwgcmV0dXJuIGB0cnVlYCBmb3IgZWxlbWVudHMgdGhhdCBoYXZlIHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBnaXZlbiBvYmplY3QsXG4gICAgICogZWxzZSBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdHNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gc2VhcmNoLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258T2JqZWN0fHN0cmluZ30gW2NhbGxiYWNrPWlkZW50aXR5XSBUaGUgZnVuY3Rpb24gY2FsbGVkIHBlclxuICAgICAqICBpdGVyYXRpb24uIElmIGEgcHJvcGVydHkgbmFtZSBvciBvYmplY3QgaXMgcHJvdmlkZWQgaXQgd2lsbCBiZSB1c2VkIHRvXG4gICAgICogIGNyZWF0ZSBhIFwiXy5wbHVja1wiIG9yIFwiXy53aGVyZVwiIHN0eWxlIGNhbGxiYWNrLCByZXNwZWN0aXZlbHkuXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBjYWxsYmFja2AuXG4gICAgICogQHJldHVybnMge3N0cmluZ3x1bmRlZmluZWR9IFJldHVybnMgdGhlIGtleSBvZiB0aGUgZm91bmQgZWxlbWVudCwgZWxzZSBgdW5kZWZpbmVkYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGNoYXJhY3RlcnMgPSB7XG4gICAgICogICAnYmFybmV5JzogeyAgJ2FnZSc6IDM2LCAnYmxvY2tlZCc6IHRydWUgfSxcbiAgICAgKiAgICdmcmVkJzogeyAgICAnYWdlJzogNDAsICdibG9ja2VkJzogZmFsc2UgfSxcbiAgICAgKiAgICdwZWJibGVzJzogeyAnYWdlJzogMSwgICdibG9ja2VkJzogdHJ1ZSB9XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIF8uZmluZExhc3RLZXkoY2hhcmFjdGVycywgZnVuY3Rpb24oY2hyKSB7XG4gICAgICogICByZXR1cm4gY2hyLmFnZSA8IDQwO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IHJldHVybnMgYHBlYmJsZXNgLCBhc3N1bWluZyBgXy5maW5kS2V5YCByZXR1cm5zIGBiYXJuZXlgXG4gICAgICpcbiAgICAgKiAvLyB1c2luZyBcIl8ud2hlcmVcIiBjYWxsYmFjayBzaG9ydGhhbmRcbiAgICAgKiBfLmZpbmRMYXN0S2V5KGNoYXJhY3RlcnMsIHsgJ2FnZSc6IDQwIH0pO1xuICAgICAqIC8vID0+ICdmcmVkJ1xuICAgICAqXG4gICAgICogLy8gdXNpbmcgXCJfLnBsdWNrXCIgY2FsbGJhY2sgc2hvcnRoYW5kXG4gICAgICogXy5maW5kTGFzdEtleShjaGFyYWN0ZXJzLCAnYmxvY2tlZCcpO1xuICAgICAqIC8vID0+ICdwZWJibGVzJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZpbmRMYXN0S2V5KG9iamVjdCwgY2FsbGJhY2ssIHRoaXNBcmcpIHtcbiAgICAgIHZhciByZXN1bHQ7XG4gICAgICBjYWxsYmFjayA9IGxvZGFzaC5jcmVhdGVDYWxsYmFjayhjYWxsYmFjaywgdGhpc0FyZywgMyk7XG4gICAgICBmb3JPd25SaWdodChvYmplY3QsIGZ1bmN0aW9uKHZhbHVlLCBrZXksIG9iamVjdCkge1xuICAgICAgICBpZiAoY2FsbGJhY2sodmFsdWUsIGtleSwgb2JqZWN0KSkge1xuICAgICAgICAgIHJlc3VsdCA9IGtleTtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJdGVyYXRlcyBvdmVyIG93biBhbmQgaW5oZXJpdGVkIGVudW1lcmFibGUgcHJvcGVydGllcyBvZiBhbiBvYmplY3QsXG4gICAgICogZXhlY3V0aW5nIHRoZSBjYWxsYmFjayBmb3IgZWFjaCBwcm9wZXJ0eS4gVGhlIGNhbGxiYWNrIGlzIGJvdW5kIHRvIGB0aGlzQXJnYFxuICAgICAqIGFuZCBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzOyAodmFsdWUsIGtleSwgb2JqZWN0KS4gQ2FsbGJhY2tzIG1heSBleGl0XG4gICAgICogaXRlcmF0aW9uIGVhcmx5IGJ5IGV4cGxpY2l0bHkgcmV0dXJuaW5nIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAdHlwZSBGdW5jdGlvblxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RzXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2s9aWRlbnRpdHldIFRoZSBmdW5jdGlvbiBjYWxsZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGNhbGxiYWNrYC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBTaGFwZSgpIHtcbiAgICAgKiAgIHRoaXMueCA9IDA7XG4gICAgICogICB0aGlzLnkgPSAwO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIFNoYXBlLnByb3RvdHlwZS5tb3ZlID0gZnVuY3Rpb24oeCwgeSkge1xuICAgICAqICAgdGhpcy54ICs9IHg7XG4gICAgICogICB0aGlzLnkgKz0geTtcbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogXy5mb3JJbihuZXcgU2hhcGUsIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKGtleSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gbG9ncyAneCcsICd5JywgYW5kICdtb3ZlJyAocHJvcGVydHkgb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQgYWNyb3NzIGVudmlyb25tZW50cylcbiAgICAgKi9cbiAgICB2YXIgZm9ySW4gPSBjcmVhdGVJdGVyYXRvcihlYWNoSXRlcmF0b3JPcHRpb25zLCBmb3JPd25JdGVyYXRvck9wdGlvbnMsIHtcbiAgICAgICd1c2VIYXMnOiBmYWxzZVxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5mb3JJbmAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBlbGVtZW50c1xuICAgICAqIG9mIGEgYGNvbGxlY3Rpb25gIGluIHRoZSBvcHBvc2l0ZSBvcmRlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RzXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2s9aWRlbnRpdHldIFRoZSBmdW5jdGlvbiBjYWxsZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGNhbGxiYWNrYC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBTaGFwZSgpIHtcbiAgICAgKiAgIHRoaXMueCA9IDA7XG4gICAgICogICB0aGlzLnkgPSAwO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIFNoYXBlLnByb3RvdHlwZS5tb3ZlID0gZnVuY3Rpb24oeCwgeSkge1xuICAgICAqICAgdGhpcy54ICs9IHg7XG4gICAgICogICB0aGlzLnkgKz0geTtcbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogXy5mb3JJblJpZ2h0KG5ldyBTaGFwZSwgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAqICAgY29uc29sZS5sb2coa2V5KTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiBsb2dzICdtb3ZlJywgJ3knLCBhbmQgJ3gnIGFzc3VtaW5nIGBfLmZvckluIGAgbG9ncyAneCcsICd5JywgYW5kICdtb3ZlJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZvckluUmlnaHQob2JqZWN0LCBjYWxsYmFjaywgdGhpc0FyZykge1xuICAgICAgdmFyIHBhaXJzID0gW107XG5cbiAgICAgIGZvckluKG9iamVjdCwgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAgICBwYWlycy5wdXNoKGtleSwgdmFsdWUpO1xuICAgICAgfSk7XG5cbiAgICAgIHZhciBsZW5ndGggPSBwYWlycy5sZW5ndGg7XG4gICAgICBjYWxsYmFjayA9IGJhc2VDcmVhdGVDYWxsYmFjayhjYWxsYmFjaywgdGhpc0FyZywgMyk7XG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgaWYgKGNhbGxiYWNrKHBhaXJzW2xlbmd0aC0tXSwgcGFpcnNbbGVuZ3RoXSwgb2JqZWN0KSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJdGVyYXRlcyBvdmVyIG93biBlbnVtZXJhYmxlIHByb3BlcnRpZXMgb2YgYW4gb2JqZWN0LCBleGVjdXRpbmcgdGhlIGNhbGxiYWNrXG4gICAgICogZm9yIGVhY2ggcHJvcGVydHkuIFRoZSBjYWxsYmFjayBpcyBib3VuZCB0byBgdGhpc0FyZ2AgYW5kIGludm9rZWQgd2l0aCB0aHJlZVxuICAgICAqIGFyZ3VtZW50czsgKHZhbHVlLCBrZXksIG9iamVjdCkuIENhbGxiYWNrcyBtYXkgZXhpdCBpdGVyYXRpb24gZWFybHkgYnlcbiAgICAgKiBleHBsaWNpdGx5IHJldHVybmluZyBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHR5cGUgRnVuY3Rpb25cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0c1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NhbGxiYWNrPWlkZW50aXR5XSBUaGUgZnVuY3Rpb24gY2FsbGVkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBjYWxsYmFja2AuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5mb3JPd24oeyAnMCc6ICd6ZXJvJywgJzEnOiAnb25lJywgJ2xlbmd0aCc6IDIgfSwgZnVuY3Rpb24obnVtLCBrZXkpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKGtleSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gbG9ncyAnMCcsICcxJywgYW5kICdsZW5ndGgnIChwcm9wZXJ0eSBvcmRlciBpcyBub3QgZ3VhcmFudGVlZCBhY3Jvc3MgZW52aXJvbm1lbnRzKVxuICAgICAqL1xuICAgIHZhciBmb3JPd24gPSBjcmVhdGVJdGVyYXRvcihlYWNoSXRlcmF0b3JPcHRpb25zLCBmb3JPd25JdGVyYXRvck9wdGlvbnMpO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5mb3JPd25gIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgZWxlbWVudHNcbiAgICAgKiBvZiBhIGBjb2xsZWN0aW9uYCBpbiB0aGUgb3Bwb3NpdGUgb3JkZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0c1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NhbGxiYWNrPWlkZW50aXR5XSBUaGUgZnVuY3Rpb24gY2FsbGVkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBjYWxsYmFja2AuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5mb3JPd25SaWdodCh7ICcwJzogJ3plcm8nLCAnMSc6ICdvbmUnLCAnbGVuZ3RoJzogMiB9LCBmdW5jdGlvbihudW0sIGtleSkge1xuICAgICAqICAgY29uc29sZS5sb2coa2V5KTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiBsb2dzICdsZW5ndGgnLCAnMScsIGFuZCAnMCcgYXNzdW1pbmcgYF8uZm9yT3duYCBsb2dzICcwJywgJzEnLCBhbmQgJ2xlbmd0aCdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmb3JPd25SaWdodChvYmplY3QsIGNhbGxiYWNrLCB0aGlzQXJnKSB7XG4gICAgICB2YXIgcHJvcHMgPSBrZXlzKG9iamVjdCksXG4gICAgICAgICAgbGVuZ3RoID0gcHJvcHMubGVuZ3RoO1xuXG4gICAgICBjYWxsYmFjayA9IGJhc2VDcmVhdGVDYWxsYmFjayhjYWxsYmFjaywgdGhpc0FyZywgMyk7XG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgdmFyIGtleSA9IHByb3BzW2xlbmd0aF07XG4gICAgICAgIGlmIChjYWxsYmFjayhvYmplY3Rba2V5XSwga2V5LCBvYmplY3QpID09PSBmYWxzZSkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzb3J0ZWQgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMgb2YgYWxsIGVudW1lcmFibGUgcHJvcGVydGllcyxcbiAgICAgKiBvd24gYW5kIGluaGVyaXRlZCwgb2YgYG9iamVjdGAgdGhhdCBoYXZlIGZ1bmN0aW9uIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBhbGlhcyBtZXRob2RzXG4gICAgICogQGNhdGVnb3J5IE9iamVjdHNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYW4gYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMgdGhhdCBoYXZlIGZ1bmN0aW9uIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5mdW5jdGlvbnMoXyk7XG4gICAgICogLy8gPT4gWydhbGwnLCAnYW55JywgJ2JpbmQnLCAnYmluZEFsbCcsICdjbG9uZScsICdjb21wYWN0JywgJ2NvbXBvc2UnLCAuLi5dXG4gICAgICovXG4gICAgZnVuY3Rpb24gZnVuY3Rpb25zKG9iamVjdCkge1xuICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgICAgZm9ySW4ob2JqZWN0LCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKHZhbHVlKSkge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKGtleSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdC5zb3J0KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIHRoZSBzcGVjaWZpZWQgcHJvcGVydHkgbmFtZSBleGlzdHMgYXMgYSBkaXJlY3QgcHJvcGVydHkgb2YgYG9iamVjdGAsXG4gICAgICogaW5zdGVhZCBvZiBhbiBpbmhlcml0ZWQgcHJvcGVydHkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0c1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIG5hbWUgb2YgdGhlIHByb3BlcnR5IHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBrZXkgaXMgYSBkaXJlY3QgcHJvcGVydHksIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5oYXMoeyAnYSc6IDEsICdiJzogMiwgJ2MnOiAzIH0sICdiJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhhcyhvYmplY3QsIGtleSkge1xuICAgICAgcmV0dXJuIG9iamVjdCA/IGhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpIDogZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBvYmplY3QgY29tcG9zZWQgb2YgdGhlIGludmVydGVkIGtleXMgYW5kIHZhbHVlcyBvZiB0aGUgZ2l2ZW4gb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdHNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW52ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNyZWF0ZWQgaW52ZXJ0ZWQgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmludmVydCh7ICdmaXJzdCc6ICdmcmVkJywgJ3NlY29uZCc6ICdiYXJuZXknIH0pO1xuICAgICAqIC8vID0+IHsgJ2ZyZWQnOiAnZmlyc3QnLCAnYmFybmV5JzogJ3NlY29uZCcgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGludmVydChvYmplY3QpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIHByb3BzID0ga2V5cyhvYmplY3QpLFxuICAgICAgICAgIGxlbmd0aCA9IHByb3BzLmxlbmd0aCxcbiAgICAgICAgICByZXN1bHQgPSB7fTtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIGtleSA9IHByb3BzW2luZGV4XTtcbiAgICAgICAgcmVzdWx0W29iamVjdFtrZXldXSA9IGtleTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBib29sZWFuIHZhbHVlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdHNcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGB2YWx1ZWAgaXMgYSBib29sZWFuIHZhbHVlLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNCb29sZWFuKG51bGwpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNCb29sZWFuKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPT09IHRydWUgfHwgdmFsdWUgPT09IGZhbHNlIHx8XG4gICAgICAgIHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0JyAmJiB0b1N0cmluZy5jYWxsKHZhbHVlKSA9PSBib29sQ2xhc3MgfHwgZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBkYXRlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdHNcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGB2YWx1ZWAgaXMgYSBkYXRlLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNEYXRlKG5ldyBEYXRlKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNEYXRlKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgJiYgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnICYmIHRvU3RyaW5nLmNhbGwodmFsdWUpID09IGRhdGVDbGFzcyB8fCBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIERPTSBlbGVtZW50LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdHNcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGB2YWx1ZWAgaXMgYSBET00gZWxlbWVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzRWxlbWVudChkb2N1bWVudC5ib2R5KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNFbGVtZW50KHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgJiYgdmFsdWUubm9kZVR5cGUgPT09IDEgfHwgZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgZW1wdHkuIEFycmF5cywgc3RyaW5ncywgb3IgYGFyZ3VtZW50c2Agb2JqZWN0cyB3aXRoIGFcbiAgICAgKiBsZW5ndGggb2YgYDBgIGFuZCBvYmplY3RzIHdpdGggbm8gb3duIGVudW1lcmFibGUgcHJvcGVydGllcyBhcmUgY29uc2lkZXJlZFxuICAgICAqIFwiZW1wdHlcIi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RzXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R8c3RyaW5nfSB2YWx1ZSBUaGUgdmFsdWUgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGB2YWx1ZWAgaXMgZW1wdHksIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0VtcHR5KFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNFbXB0eSh7fSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0VtcHR5KCcnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNFbXB0eSh2YWx1ZSkge1xuICAgICAgdmFyIHJlc3VsdCA9IHRydWU7XG4gICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgICB2YXIgY2xhc3NOYW1lID0gdG9TdHJpbmcuY2FsbCh2YWx1ZSksXG4gICAgICAgICAgbGVuZ3RoID0gdmFsdWUubGVuZ3RoO1xuXG4gICAgICBpZiAoKGNsYXNzTmFtZSA9PSBhcnJheUNsYXNzIHx8IGNsYXNzTmFtZSA9PSBzdHJpbmdDbGFzcyB8fFxuICAgICAgICAgIChzdXBwb3J0LmFyZ3NDbGFzcyA/IGNsYXNzTmFtZSA9PSBhcmdzQ2xhc3MgOiBpc0FyZ3VtZW50cyh2YWx1ZSkpKSB8fFxuICAgICAgICAgIChjbGFzc05hbWUgPT0gb2JqZWN0Q2xhc3MgJiYgdHlwZW9mIGxlbmd0aCA9PSAnbnVtYmVyJyAmJiBpc0Z1bmN0aW9uKHZhbHVlLnNwbGljZSkpKSB7XG4gICAgICAgIHJldHVybiAhbGVuZ3RoO1xuICAgICAgfVxuICAgICAgZm9yT3duKHZhbHVlLCBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIChyZXN1bHQgPSBmYWxzZSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUGVyZm9ybXMgYSBkZWVwIGNvbXBhcmlzb24gYmV0d2VlbiB0d28gdmFsdWVzIHRvIGRldGVybWluZSBpZiB0aGV5IGFyZVxuICAgICAqIGVxdWl2YWxlbnQgdG8gZWFjaCBvdGhlci4gSWYgYSBjYWxsYmFjayBpcyBwcm92aWRlZCBpdCB3aWxsIGJlIGV4ZWN1dGVkXG4gICAgICogdG8gY29tcGFyZSB2YWx1ZXMuIElmIHRoZSBjYWxsYmFjayByZXR1cm5zIGB1bmRlZmluZWRgIGNvbXBhcmlzb25zIHdpbGxcbiAgICAgKiBiZSBoYW5kbGVkIGJ5IHRoZSBtZXRob2QgaW5zdGVhZC4gVGhlIGNhbGxiYWNrIGlzIGJvdW5kIHRvIGB0aGlzQXJnYCBhbmRcbiAgICAgKiBpbnZva2VkIHdpdGggdHdvIGFyZ3VtZW50czsgKGEsIGIpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdHNcbiAgICAgKiBAcGFyYW0geyp9IGEgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBiIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFja10gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpbmcgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgY2FsbGJhY2tgLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdmFsdWVzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICduYW1lJzogJ2ZyZWQnIH07XG4gICAgICogdmFyIGNvcHkgPSB7ICduYW1lJzogJ2ZyZWQnIH07XG4gICAgICpcbiAgICAgKiBvYmplY3QgPT0gY29weTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc0VxdWFsKG9iamVjdCwgY29weSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogdmFyIHdvcmRzID0gWydoZWxsbycsICdnb29kYnllJ107XG4gICAgICogdmFyIG90aGVyV29yZHMgPSBbJ2hpJywgJ2dvb2RieWUnXTtcbiAgICAgKlxuICAgICAqIF8uaXNFcXVhbCh3b3Jkcywgb3RoZXJXb3JkcywgZnVuY3Rpb24oYSwgYikge1xuICAgICAqICAgdmFyIHJlR3JlZXQgPSAvXig/OmhlbGxvfGhpKSQvaSxcbiAgICAgKiAgICAgICBhR3JlZXQgPSBfLmlzU3RyaW5nKGEpICYmIHJlR3JlZXQudGVzdChhKSxcbiAgICAgKiAgICAgICBiR3JlZXQgPSBfLmlzU3RyaW5nKGIpICYmIHJlR3JlZXQudGVzdChiKTtcbiAgICAgKlxuICAgICAqICAgcmV0dXJuIChhR3JlZXQgfHwgYkdyZWV0KSA/IChhR3JlZXQgPT0gYkdyZWV0KSA6IHVuZGVmaW5lZDtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNFcXVhbChhLCBiLCBjYWxsYmFjaywgdGhpc0FyZykge1xuICAgICAgcmV0dXJuIGJhc2VJc0VxdWFsKGEsIGIsIHR5cGVvZiBjYWxsYmFjayA9PSAnZnVuY3Rpb24nICYmIGJhc2VDcmVhdGVDYWxsYmFjayhjYWxsYmFjaywgdGhpc0FyZywgMikpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzLCBvciBjYW4gYmUgY29lcmNlZCB0bywgYSBmaW5pdGUgbnVtYmVyLlxuICAgICAqXG4gICAgICogTm90ZTogVGhpcyBpcyBub3QgdGhlIHNhbWUgYXMgbmF0aXZlIGBpc0Zpbml0ZWAgd2hpY2ggd2lsbCByZXR1cm4gdHJ1ZSBmb3JcbiAgICAgKiBib29sZWFucyBhbmQgZW1wdHkgc3RyaW5ncy4gU2VlIGh0dHA6Ly9lczUuZ2l0aHViLmlvLyN4MTUuMS4yLjUuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0c1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgYHZhbHVlYCBpcyBmaW5pdGUsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0Zpbml0ZSgtMTAxKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzRmluaXRlKCcxMCcpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNGaW5pdGUodHJ1ZSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNGaW5pdGUoJycpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzRmluaXRlKEluZmluaXR5KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzRmluaXRlKHZhbHVlKSB7XG4gICAgICByZXR1cm4gbmF0aXZlSXNGaW5pdGUodmFsdWUpICYmICFuYXRpdmVJc05hTihwYXJzZUZsb2F0KHZhbHVlKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RzXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBgdmFsdWVgIGlzIGEgZnVuY3Rpb24sIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0Z1bmN0aW9uKF8pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0Z1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdmdW5jdGlvbic7XG4gICAgfVxuICAgIC8vIGZhbGxiYWNrIGZvciBvbGRlciB2ZXJzaW9ucyBvZiBDaHJvbWUgYW5kIFNhZmFyaVxuICAgIGlmIChpc0Z1bmN0aW9uKC94LykpIHtcbiAgICAgIGlzRnVuY3Rpb24gPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdmdW5jdGlvbicgJiYgdG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT0gZnVuY0NsYXNzO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyB0aGUgbGFuZ3VhZ2UgdHlwZSBvZiBPYmplY3QuXG4gICAgICogKGUuZy4gYXJyYXlzLCBmdW5jdGlvbnMsIG9iamVjdHMsIHJlZ2V4ZXMsIGBuZXcgTnVtYmVyKDApYCwgYW5kIGBuZXcgU3RyaW5nKCcnKWApXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0c1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgYHZhbHVlYCBpcyBhbiBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc09iamVjdCh7fSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc09iamVjdChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNPYmplY3QoMSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc09iamVjdCh2YWx1ZSkge1xuICAgICAgLy8gY2hlY2sgaWYgdGhlIHZhbHVlIGlzIHRoZSBFQ01BU2NyaXB0IGxhbmd1YWdlIHR5cGUgb2YgT2JqZWN0XG4gICAgICAvLyBodHRwOi8vZXM1LmdpdGh1Yi5pby8jeDhcbiAgICAgIC8vIGFuZCBhdm9pZCBhIFY4IGJ1Z1xuICAgICAgLy8gaHR0cDovL2NvZGUuZ29vZ2xlLmNvbS9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9MjI5MVxuICAgICAgcmV0dXJuICEhKHZhbHVlICYmIG9iamVjdFR5cGVzW3R5cGVvZiB2YWx1ZV0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGBOYU5gLlxuICAgICAqXG4gICAgICogTm90ZTogVGhpcyBpcyBub3QgdGhlIHNhbWUgYXMgbmF0aXZlIGBpc05hTmAgd2hpY2ggd2lsbCByZXR1cm4gYHRydWVgIGZvclxuICAgICAqIGB1bmRlZmluZWRgIGFuZCBvdGhlciBub24tbnVtZXJpYyB2YWx1ZXMuIFNlZSBodHRwOi8vZXM1LmdpdGh1Yi5pby8jeDE1LjEuMi40LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdHNcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGB2YWx1ZWAgaXMgYE5hTmAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc05hTihOYU4pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNOYU4obmV3IE51bWJlcihOYU4pKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBpc05hTih1bmRlZmluZWQpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNOYU4odW5kZWZpbmVkKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTmFOKHZhbHVlKSB7XG4gICAgICAvLyBgTmFOYCBhcyBhIHByaW1pdGl2ZSBpcyB0aGUgb25seSB2YWx1ZSB0aGF0IGlzIG5vdCBlcXVhbCB0byBpdHNlbGZcbiAgICAgIC8vIChwZXJmb3JtIHRoZSBbW0NsYXNzXV0gY2hlY2sgZmlyc3QgdG8gYXZvaWQgZXJyb3JzIHdpdGggc29tZSBob3N0IG9iamVjdHMgaW4gSUUpXG4gICAgICByZXR1cm4gaXNOdW1iZXIodmFsdWUpICYmIHZhbHVlICE9ICt2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBgbnVsbGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0c1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgYHZhbHVlYCBpcyBgbnVsbGAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc051bGwobnVsbCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc051bGwodW5kZWZpbmVkKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTnVsbCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlID09PSBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgbnVtYmVyLlxuICAgICAqXG4gICAgICogTm90ZTogYE5hTmAgaXMgY29uc2lkZXJlZCBhIG51bWJlci4gU2VlIGh0dHA6Ly9lczUuZ2l0aHViLmlvLyN4OC41LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdHNcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGB2YWx1ZWAgaXMgYSBudW1iZXIsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc051bWJlcig4LjQgKiA1KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNOdW1iZXIodmFsdWUpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicgfHxcbiAgICAgICAgdmFsdWUgJiYgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnICYmIHRvU3RyaW5nLmNhbGwodmFsdWUpID09IG51bWJlckNsYXNzIHx8IGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGFuIG9iamVjdCBjcmVhdGVkIGJ5IHRoZSBgT2JqZWN0YCBjb25zdHJ1Y3Rvci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RzXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBwbGFpbiBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gU2hhcGUoKSB7XG4gICAgICogICB0aGlzLnggPSAwO1xuICAgICAqICAgdGhpcy55ID0gMDtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBfLmlzUGxhaW5PYmplY3QobmV3IFNoYXBlKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc1BsYWluT2JqZWN0KFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNQbGFpbk9iamVjdCh7ICd4JzogMCwgJ3knOiAwIH0pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICB2YXIgaXNQbGFpbk9iamVjdCA9ICFnZXRQcm90b3R5cGVPZiA/IHNoaW1Jc1BsYWluT2JqZWN0IDogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIGlmICghKHZhbHVlICYmIHRvU3RyaW5nLmNhbGwodmFsdWUpID09IG9iamVjdENsYXNzKSB8fCAoIXN1cHBvcnQuYXJnc0NsYXNzICYmIGlzQXJndW1lbnRzKHZhbHVlKSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgdmFyIHZhbHVlT2YgPSB2YWx1ZS52YWx1ZU9mLFxuICAgICAgICAgIG9ialByb3RvID0gaXNOYXRpdmUodmFsdWVPZikgJiYgKG9ialByb3RvID0gZ2V0UHJvdG90eXBlT2YodmFsdWVPZikpICYmIGdldFByb3RvdHlwZU9mKG9ialByb3RvKTtcblxuICAgICAgcmV0dXJuIG9ialByb3RvXG4gICAgICAgID8gKHZhbHVlID09IG9ialByb3RvIHx8IGdldFByb3RvdHlwZU9mKHZhbHVlKSA9PSBvYmpQcm90bylcbiAgICAgICAgOiBzaGltSXNQbGFpbk9iamVjdCh2YWx1ZSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgcmVndWxhciBleHByZXNzaW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdHNcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGB2YWx1ZWAgaXMgYSByZWd1bGFyIGV4cHJlc3Npb24sIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc1JlZ0V4cCgvZnJlZC8pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1JlZ0V4cCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlICYmIG9iamVjdFR5cGVzW3R5cGVvZiB2YWx1ZV0gJiYgdG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT0gcmVnZXhwQ2xhc3MgfHwgZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBzdHJpbmcuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0c1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgYHZhbHVlYCBpcyBhIHN0cmluZywgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzU3RyaW5nKCdmcmVkJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzU3RyaW5nKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdzdHJpbmcnIHx8XG4gICAgICAgIHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0JyAmJiB0b1N0cmluZy5jYWxsKHZhbHVlKSA9PSBzdHJpbmdDbGFzcyB8fCBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBgdW5kZWZpbmVkYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RzXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBgdmFsdWVgIGlzIGB1bmRlZmluZWRgLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNVbmRlZmluZWQodm9pZCAwKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNVbmRlZmluZWQodmFsdWUpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ3VuZGVmaW5lZCc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBvYmplY3Qgd2l0aCB0aGUgc2FtZSBrZXlzIGFzIGBvYmplY3RgIGFuZCB2YWx1ZXMgZ2VuZXJhdGVkIGJ5XG4gICAgICogcnVubmluZyBlYWNoIG93biBlbnVtZXJhYmxlIHByb3BlcnR5IG9mIGBvYmplY3RgIHRocm91Z2ggdGhlIGNhbGxiYWNrLlxuICAgICAqIFRoZSBjYWxsYmFjayBpcyBib3VuZCB0byBgdGhpc0FyZ2AgYW5kIGludm9rZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM7XG4gICAgICogKHZhbHVlLCBrZXksIG9iamVjdCkuXG4gICAgICpcbiAgICAgKiBJZiBhIHByb3BlcnR5IG5hbWUgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLnBsdWNrXCIgc3R5bGVcbiAgICAgKiBjYWxsYmFjayB3aWxsIHJldHVybiB0aGUgcHJvcGVydHkgdmFsdWUgb2YgdGhlIGdpdmVuIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBJZiBhbiBvYmplY3QgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLndoZXJlXCIgc3R5bGUgY2FsbGJhY2tcbiAgICAgKiB3aWxsIHJldHVybiBgdHJ1ZWAgZm9yIGVsZW1lbnRzIHRoYXQgaGF2ZSB0aGUgcHJvcGVydGllcyBvZiB0aGUgZ2l2ZW4gb2JqZWN0LFxuICAgICAqIGVsc2UgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RzXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufE9iamVjdHxzdHJpbmd9IFtjYWxsYmFjaz1pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGNhbGxlZFxuICAgICAqICBwZXIgaXRlcmF0aW9uLiBJZiBhIHByb3BlcnR5IG5hbWUgb3Igb2JqZWN0IGlzIHByb3ZpZGVkIGl0IHdpbGwgYmUgdXNlZFxuICAgICAqICB0byBjcmVhdGUgYSBcIl8ucGx1Y2tcIiBvciBcIl8ud2hlcmVcIiBzdHlsZSBjYWxsYmFjaywgcmVzcGVjdGl2ZWx5LlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgY2FsbGJhY2tgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBhIG5ldyBvYmplY3Qgd2l0aCB2YWx1ZXMgb2YgdGhlIHJlc3VsdHMgb2YgZWFjaCBgY2FsbGJhY2tgIGV4ZWN1dGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5tYXBWYWx1ZXMoeyAnYSc6IDEsICdiJzogMiwgJ2MnOiAzfSAsIGZ1bmN0aW9uKG51bSkgeyByZXR1cm4gbnVtICogMzsgfSk7XG4gICAgICogLy8gPT4geyAnYSc6IDMsICdiJzogNiwgJ2MnOiA5IH1cbiAgICAgKlxuICAgICAqIHZhciBjaGFyYWN0ZXJzID0ge1xuICAgICAqICAgJ2ZyZWQnOiB7ICduYW1lJzogJ2ZyZWQnLCAnYWdlJzogNDAgfSxcbiAgICAgKiAgICdwZWJibGVzJzogeyAnbmFtZSc6ICdwZWJibGVzJywgJ2FnZSc6IDEgfVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiAvLyB1c2luZyBcIl8ucGx1Y2tcIiBjYWxsYmFjayBzaG9ydGhhbmRcbiAgICAgKiBfLm1hcFZhbHVlcyhjaGFyYWN0ZXJzLCAnYWdlJyk7XG4gICAgICogLy8gPT4geyAnZnJlZCc6IDQwLCAncGViYmxlcyc6IDEgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hcFZhbHVlcyhvYmplY3QsIGNhbGxiYWNrLCB0aGlzQXJnKSB7XG4gICAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgICBjYWxsYmFjayA9IGxvZGFzaC5jcmVhdGVDYWxsYmFjayhjYWxsYmFjaywgdGhpc0FyZywgMyk7XG5cbiAgICAgIGZvck93bihvYmplY3QsIGZ1bmN0aW9uKHZhbHVlLCBrZXksIG9iamVjdCkge1xuICAgICAgICByZXN1bHRba2V5XSA9IGNhbGxiYWNrKHZhbHVlLCBrZXksIG9iamVjdCk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVjdXJzaXZlbHkgbWVyZ2VzIG93biBlbnVtZXJhYmxlIHByb3BlcnRpZXMgb2YgdGhlIHNvdXJjZSBvYmplY3QocyksIHRoYXRcbiAgICAgKiBkb24ndCByZXNvbHZlIHRvIGB1bmRlZmluZWRgIGludG8gdGhlIGRlc3RpbmF0aW9uIG9iamVjdC4gU3Vic2VxdWVudCBzb3VyY2VzXG4gICAgICogd2lsbCBvdmVyd3JpdGUgcHJvcGVydHkgYXNzaWdubWVudHMgb2YgcHJldmlvdXMgc291cmNlcy4gSWYgYSBjYWxsYmFjayBpc1xuICAgICAqIHByb3ZpZGVkIGl0IHdpbGwgYmUgZXhlY3V0ZWQgdG8gcHJvZHVjZSB0aGUgbWVyZ2VkIHZhbHVlcyBvZiB0aGUgZGVzdGluYXRpb25cbiAgICAgKiBhbmQgc291cmNlIHByb3BlcnRpZXMuIElmIHRoZSBjYWxsYmFjayByZXR1cm5zIGB1bmRlZmluZWRgIG1lcmdpbmcgd2lsbFxuICAgICAqIGJlIGhhbmRsZWQgYnkgdGhlIG1ldGhvZCBpbnN0ZWFkLiBUaGUgY2FsbGJhY2sgaXMgYm91bmQgdG8gYHRoaXNBcmdgIGFuZFxuICAgICAqIGludm9rZWQgd2l0aCB0d28gYXJndW1lbnRzOyAob2JqZWN0VmFsdWUsIHNvdXJjZVZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RzXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uT2JqZWN0fSBbc291cmNlXSBUaGUgc291cmNlIG9iamVjdHMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NhbGxiYWNrXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIG1lcmdpbmcgcHJvcGVydGllcy5cbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGNhbGxiYWNrYC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBuYW1lcyA9IHtcbiAgICAgKiAgICdjaGFyYWN0ZXJzJzogW1xuICAgICAqICAgICB7ICduYW1lJzogJ2Jhcm5leScgfSxcbiAgICAgKiAgICAgeyAnbmFtZSc6ICdmcmVkJyB9XG4gICAgICogICBdXG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIHZhciBhZ2VzID0ge1xuICAgICAqICAgJ2NoYXJhY3RlcnMnOiBbXG4gICAgICogICAgIHsgJ2FnZSc6IDM2IH0sXG4gICAgICogICAgIHsgJ2FnZSc6IDQwIH1cbiAgICAgKiAgIF1cbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogXy5tZXJnZShuYW1lcywgYWdlcyk7XG4gICAgICogLy8gPT4geyAnY2hhcmFjdGVycyc6IFt7ICduYW1lJzogJ2Jhcm5leScsICdhZ2UnOiAzNiB9LCB7ICduYW1lJzogJ2ZyZWQnLCAnYWdlJzogNDAgfV0gfVxuICAgICAqXG4gICAgICogdmFyIGZvb2QgPSB7XG4gICAgICogICAnZnJ1aXRzJzogWydhcHBsZSddLFxuICAgICAqICAgJ3ZlZ2V0YWJsZXMnOiBbJ2JlZXQnXVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiB2YXIgb3RoZXJGb29kID0ge1xuICAgICAqICAgJ2ZydWl0cyc6IFsnYmFuYW5hJ10sXG4gICAgICogICAndmVnZXRhYmxlcyc6IFsnY2Fycm90J11cbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogXy5tZXJnZShmb29kLCBvdGhlckZvb2QsIGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgKiAgIHJldHVybiBfLmlzQXJyYXkoYSkgPyBhLmNvbmNhdChiKSA6IHVuZGVmaW5lZDtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiB7ICdmcnVpdHMnOiBbJ2FwcGxlJywgJ2JhbmFuYSddLCAndmVnZXRhYmxlcyc6IFsnYmVldCcsICdjYXJyb3RdIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtZXJnZShvYmplY3QpIHtcbiAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzLFxuICAgICAgICAgIGxlbmd0aCA9IDI7XG5cbiAgICAgIGlmICghaXNPYmplY3Qob2JqZWN0KSkge1xuICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgfVxuICAgICAgLy8gYWxsb3dzIHdvcmtpbmcgd2l0aCBgXy5yZWR1Y2VgIGFuZCBgXy5yZWR1Y2VSaWdodGAgd2l0aG91dCB1c2luZ1xuICAgICAgLy8gdGhlaXIgYGluZGV4YCBhbmQgYGNvbGxlY3Rpb25gIGFyZ3VtZW50c1xuICAgICAgaWYgKHR5cGVvZiBhcmdzWzJdICE9ICdudW1iZXInKSB7XG4gICAgICAgIGxlbmd0aCA9IGFyZ3MubGVuZ3RoO1xuICAgICAgfVxuICAgICAgaWYgKGxlbmd0aCA+IDMgJiYgdHlwZW9mIGFyZ3NbbGVuZ3RoIC0gMl0gPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB2YXIgY2FsbGJhY2sgPSBiYXNlQ3JlYXRlQ2FsbGJhY2soYXJnc1stLWxlbmd0aCAtIDFdLCBhcmdzW2xlbmd0aC0tXSwgMik7XG4gICAgICB9IGVsc2UgaWYgKGxlbmd0aCA+IDIgJiYgdHlwZW9mIGFyZ3NbbGVuZ3RoIC0gMV0gPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBjYWxsYmFjayA9IGFyZ3NbLS1sZW5ndGhdO1xuICAgICAgfVxuICAgICAgdmFyIHNvdXJjZXMgPSBzbGljZShhcmd1bWVudHMsIDEsIGxlbmd0aCksXG4gICAgICAgICAgaW5kZXggPSAtMSxcbiAgICAgICAgICBzdGFja0EgPSBnZXRBcnJheSgpLFxuICAgICAgICAgIHN0YWNrQiA9IGdldEFycmF5KCk7XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIGJhc2VNZXJnZShvYmplY3QsIHNvdXJjZXNbaW5kZXhdLCBjYWxsYmFjaywgc3RhY2tBLCBzdGFja0IpO1xuICAgICAgfVxuICAgICAgcmVsZWFzZUFycmF5KHN0YWNrQSk7XG4gICAgICByZWxlYXNlQXJyYXkoc3RhY2tCKTtcbiAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNoYWxsb3cgY2xvbmUgb2YgYG9iamVjdGAgZXhjbHVkaW5nIHRoZSBzcGVjaWZpZWQgcHJvcGVydGllcy5cbiAgICAgKiBQcm9wZXJ0eSBuYW1lcyBtYXkgYmUgc3BlY2lmaWVkIGFzIGluZGl2aWR1YWwgYXJndW1lbnRzIG9yIGFzIGFycmF5cyBvZlxuICAgICAqIHByb3BlcnR5IG5hbWVzLiBJZiBhIGNhbGxiYWNrIGlzIHByb3ZpZGVkIGl0IHdpbGwgYmUgZXhlY3V0ZWQgZm9yIGVhY2hcbiAgICAgKiBwcm9wZXJ0eSBvZiBgb2JqZWN0YCBvbWl0dGluZyB0aGUgcHJvcGVydGllcyB0aGUgY2FsbGJhY2sgcmV0dXJucyB0cnVleVxuICAgICAqIGZvci4gVGhlIGNhbGxiYWNrIGlzIGJvdW5kIHRvIGB0aGlzQXJnYCBhbmQgaW52b2tlZCB3aXRoIHRocmVlIGFyZ3VtZW50cztcbiAgICAgKiAodmFsdWUsIGtleSwgb2JqZWN0KS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RzXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufC4uLnN0cmluZ3xzdHJpbmdbXX0gW2NhbGxiYWNrXSBUaGUgcHJvcGVydGllcyB0byBvbWl0IG9yIHRoZVxuICAgICAqICBmdW5jdGlvbiBjYWxsZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGNhbGxiYWNrYC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGFuIG9iamVjdCB3aXRob3V0IHRoZSBvbWl0dGVkIHByb3BlcnRpZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ub21pdCh7ICduYW1lJzogJ2ZyZWQnLCAnYWdlJzogNDAgfSwgJ2FnZScpO1xuICAgICAqIC8vID0+IHsgJ25hbWUnOiAnZnJlZCcgfVxuICAgICAqXG4gICAgICogXy5vbWl0KHsgJ25hbWUnOiAnZnJlZCcsICdhZ2UnOiA0MCB9LCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAqICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJztcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiB7ICduYW1lJzogJ2ZyZWQnIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBvbWl0KG9iamVjdCwgY2FsbGJhY2ssIHRoaXNBcmcpIHtcbiAgICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB2YXIgcHJvcHMgPSBbXTtcbiAgICAgICAgZm9ySW4ob2JqZWN0LCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICAgICAgcHJvcHMucHVzaChrZXkpO1xuICAgICAgICB9KTtcbiAgICAgICAgcHJvcHMgPSBiYXNlRGlmZmVyZW5jZShwcm9wcywgYmFzZUZsYXR0ZW4oYXJndW1lbnRzLCB0cnVlLCBmYWxzZSwgMSkpO1xuXG4gICAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgICAgbGVuZ3RoID0gcHJvcHMubGVuZ3RoO1xuXG4gICAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgdmFyIGtleSA9IHByb3BzW2luZGV4XTtcbiAgICAgICAgICByZXN1bHRba2V5XSA9IG9iamVjdFtrZXldO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjYWxsYmFjayA9IGxvZGFzaC5jcmVhdGVDYWxsYmFjayhjYWxsYmFjaywgdGhpc0FyZywgMyk7XG4gICAgICAgIGZvckluKG9iamVjdCwgZnVuY3Rpb24odmFsdWUsIGtleSwgb2JqZWN0KSB7XG4gICAgICAgICAgaWYgKCFjYWxsYmFjayh2YWx1ZSwga2V5LCBvYmplY3QpKSB7XG4gICAgICAgICAgICByZXN1bHRba2V5XSA9IHZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSB0d28gZGltZW5zaW9uYWwgYXJyYXkgb2YgYW4gb2JqZWN0J3Mga2V5LXZhbHVlIHBhaXJzLFxuICAgICAqIGkuZS4gYFtba2V5MSwgdmFsdWUxXSwgW2tleTIsIHZhbHVlMl1dYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RzXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIG5ldyBhcnJheSBvZiBrZXktdmFsdWUgcGFpcnMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucGFpcnMoeyAnYmFybmV5JzogMzYsICdmcmVkJzogNDAgfSk7XG4gICAgICogLy8gPT4gW1snYmFybmV5JywgMzZdLCBbJ2ZyZWQnLCA0MF1dIChwcm9wZXJ0eSBvcmRlciBpcyBub3QgZ3VhcmFudGVlZCBhY3Jvc3MgZW52aXJvbm1lbnRzKVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHBhaXJzKG9iamVjdCkge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgcHJvcHMgPSBrZXlzKG9iamVjdCksXG4gICAgICAgICAgbGVuZ3RoID0gcHJvcHMubGVuZ3RoLFxuICAgICAgICAgIHJlc3VsdCA9IEFycmF5KGxlbmd0aCk7XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBrZXkgPSBwcm9wc1tpbmRleF07XG4gICAgICAgIHJlc3VsdFtpbmRleF0gPSBba2V5LCBvYmplY3Rba2V5XV07XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzaGFsbG93IGNsb25lIG9mIGBvYmplY3RgIGNvbXBvc2VkIG9mIHRoZSBzcGVjaWZpZWQgcHJvcGVydGllcy5cbiAgICAgKiBQcm9wZXJ0eSBuYW1lcyBtYXkgYmUgc3BlY2lmaWVkIGFzIGluZGl2aWR1YWwgYXJndW1lbnRzIG9yIGFzIGFycmF5cyBvZlxuICAgICAqIHByb3BlcnR5IG5hbWVzLiBJZiBhIGNhbGxiYWNrIGlzIHByb3ZpZGVkIGl0IHdpbGwgYmUgZXhlY3V0ZWQgZm9yIGVhY2hcbiAgICAgKiBwcm9wZXJ0eSBvZiBgb2JqZWN0YCBwaWNraW5nIHRoZSBwcm9wZXJ0aWVzIHRoZSBjYWxsYmFjayByZXR1cm5zIHRydWV5XG4gICAgICogZm9yLiBUaGUgY2FsbGJhY2sgaXMgYm91bmQgdG8gYHRoaXNBcmdgIGFuZCBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzO1xuICAgICAqICh2YWx1ZSwga2V5LCBvYmplY3QpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdHNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBzb3VyY2Ugb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258Li4uc3RyaW5nfHN0cmluZ1tdfSBbY2FsbGJhY2tdIFRoZSBmdW5jdGlvbiBjYWxsZWQgcGVyXG4gICAgICogIGl0ZXJhdGlvbiBvciBwcm9wZXJ0eSBuYW1lcyB0byBwaWNrLCBzcGVjaWZpZWQgYXMgaW5kaXZpZHVhbCBwcm9wZXJ0eVxuICAgICAqICBuYW1lcyBvciBhcnJheXMgb2YgcHJvcGVydHkgbmFtZXMuXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBjYWxsYmFja2AuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBhbiBvYmplY3QgY29tcG9zZWQgb2YgdGhlIHBpY2tlZCBwcm9wZXJ0aWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnBpY2soeyAnbmFtZSc6ICdmcmVkJywgJ191c2VyaWQnOiAnZnJlZDEnIH0sICduYW1lJyk7XG4gICAgICogLy8gPT4geyAnbmFtZSc6ICdmcmVkJyB9XG4gICAgICpcbiAgICAgKiBfLnBpY2soeyAnbmFtZSc6ICdmcmVkJywgJ191c2VyaWQnOiAnZnJlZDEnIH0sIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgKiAgIHJldHVybiBrZXkuY2hhckF0KDApICE9ICdfJztcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiB7ICduYW1lJzogJ2ZyZWQnIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwaWNrKG9iamVjdCwgY2FsbGJhY2ssIHRoaXNBcmcpIHtcbiAgICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICAgIHByb3BzID0gYmFzZUZsYXR0ZW4oYXJndW1lbnRzLCB0cnVlLCBmYWxzZSwgMSksXG4gICAgICAgICAgICBsZW5ndGggPSBpc09iamVjdChvYmplY3QpID8gcHJvcHMubGVuZ3RoIDogMDtcblxuICAgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgIHZhciBrZXkgPSBwcm9wc1tpbmRleF07XG4gICAgICAgICAgaWYgKGtleSBpbiBvYmplY3QpIHtcbiAgICAgICAgICAgIHJlc3VsdFtrZXldID0gb2JqZWN0W2tleV07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjYWxsYmFjayA9IGxvZGFzaC5jcmVhdGVDYWxsYmFjayhjYWxsYmFjaywgdGhpc0FyZywgMyk7XG4gICAgICAgIGZvckluKG9iamVjdCwgZnVuY3Rpb24odmFsdWUsIGtleSwgb2JqZWN0KSB7XG4gICAgICAgICAgaWYgKGNhbGxiYWNrKHZhbHVlLCBrZXksIG9iamVjdCkpIHtcbiAgICAgICAgICAgIHJlc3VsdFtrZXldID0gdmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQW4gYWx0ZXJuYXRpdmUgdG8gYF8ucmVkdWNlYCB0aGlzIG1ldGhvZCB0cmFuc2Zvcm1zIGBvYmplY3RgIHRvIGEgbmV3XG4gICAgICogYGFjY3VtdWxhdG9yYCBvYmplY3Qgd2hpY2ggaXMgdGhlIHJlc3VsdCBvZiBydW5uaW5nIGVhY2ggb2YgaXRzIG93blxuICAgICAqIGVudW1lcmFibGUgcHJvcGVydGllcyB0aHJvdWdoIGEgY2FsbGJhY2ssIHdpdGggZWFjaCBjYWxsYmFjayBleGVjdXRpb25cbiAgICAgKiBwb3RlbnRpYWxseSBtdXRhdGluZyB0aGUgYGFjY3VtdWxhdG9yYCBvYmplY3QuIFRoZSBjYWxsYmFjayBpcyBib3VuZCB0b1xuICAgICAqIGB0aGlzQXJnYCBhbmQgaW52b2tlZCB3aXRoIGZvdXIgYXJndW1lbnRzOyAoYWNjdW11bGF0b3IsIHZhbHVlLCBrZXksIG9iamVjdCkuXG4gICAgICogQ2FsbGJhY2tzIG1heSBleGl0IGl0ZXJhdGlvbiBlYXJseSBieSBleHBsaWNpdGx5IHJldHVybmluZyBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdHNcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFjaz1pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGNhbGxlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7Kn0gW2FjY3VtdWxhdG9yXSBUaGUgY3VzdG9tIGFjY3VtdWxhdG9yIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgY2FsbGJhY2tgLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBhY2N1bXVsYXRlZCB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHNxdWFyZXMgPSBfLnRyYW5zZm9ybShbMSwgMiwgMywgNCwgNSwgNiwgNywgOCwgOSwgMTBdLCBmdW5jdGlvbihyZXN1bHQsIG51bSkge1xuICAgICAqICAgbnVtICo9IG51bTtcbiAgICAgKiAgIGlmIChudW0gJSAyKSB7XG4gICAgICogICAgIHJldHVybiByZXN1bHQucHVzaChudW0pIDwgMztcbiAgICAgKiAgIH1cbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiBbMSwgOSwgMjVdXG4gICAgICpcbiAgICAgKiB2YXIgbWFwcGVkID0gXy50cmFuc2Zvcm0oeyAnYSc6IDEsICdiJzogMiwgJ2MnOiAzIH0sIGZ1bmN0aW9uKHJlc3VsdCwgbnVtLCBrZXkpIHtcbiAgICAgKiAgIHJlc3VsdFtrZXldID0gbnVtICogMztcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMywgJ2InOiA2LCAnYyc6IDkgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRyYW5zZm9ybShvYmplY3QsIGNhbGxiYWNrLCBhY2N1bXVsYXRvciwgdGhpc0FyZykge1xuICAgICAgdmFyIGlzQXJyID0gaXNBcnJheShvYmplY3QpO1xuICAgICAgaWYgKGFjY3VtdWxhdG9yID09IG51bGwpIHtcbiAgICAgICAgaWYgKGlzQXJyKSB7XG4gICAgICAgICAgYWNjdW11bGF0b3IgPSBbXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgY3RvciA9IG9iamVjdCAmJiBvYmplY3QuY29uc3RydWN0b3IsXG4gICAgICAgICAgICAgIHByb3RvID0gY3RvciAmJiBjdG9yLnByb3RvdHlwZTtcblxuICAgICAgICAgIGFjY3VtdWxhdG9yID0gYmFzZUNyZWF0ZShwcm90byk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICBjYWxsYmFjayA9IGxvZGFzaC5jcmVhdGVDYWxsYmFjayhjYWxsYmFjaywgdGhpc0FyZywgNCk7XG4gICAgICAgIChpc0FyciA/IGJhc2VFYWNoIDogZm9yT3duKShvYmplY3QsIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgb2JqZWN0KSB7XG4gICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGFjY3VtdWxhdG9yLCB2YWx1ZSwgaW5kZXgsIG9iamVjdCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFjY3VtdWxhdG9yO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgY29tcG9zZWQgb2YgdGhlIG93biBlbnVtZXJhYmxlIHByb3BlcnR5IHZhbHVlcyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RzXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGFuIGFycmF5IG9mIHByb3BlcnR5IHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy52YWx1ZXMoeyAnb25lJzogMSwgJ3R3byc6IDIsICd0aHJlZSc6IDMgfSk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdIChwcm9wZXJ0eSBvcmRlciBpcyBub3QgZ3VhcmFudGVlZCBhY3Jvc3MgZW52aXJvbm1lbnRzKVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHZhbHVlcyhvYmplY3QpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIHByb3BzID0ga2V5cyhvYmplY3QpLFxuICAgICAgICAgIGxlbmd0aCA9IHByb3BzLmxlbmd0aCxcbiAgICAgICAgICByZXN1bHQgPSBBcnJheShsZW5ndGgpO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICByZXN1bHRbaW5kZXhdID0gb2JqZWN0W3Byb3BzW2luZGV4XV07XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBlbGVtZW50cyBmcm9tIHRoZSBzcGVjaWZpZWQgaW5kZXhlcywgb3Iga2V5cywgb2YgdGhlXG4gICAgICogYGNvbGxlY3Rpb25gLiBJbmRleGVzIG1heSBiZSBzcGVjaWZpZWQgYXMgaW5kaXZpZHVhbCBhcmd1bWVudHMgb3IgYXMgYXJyYXlzXG4gICAgICogb2YgaW5kZXhlcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uc1xuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fHN0cmluZ30gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHsuLi4obnVtYmVyfG51bWJlcltdfHN0cmluZ3xzdHJpbmdbXSl9IFtpbmRleF0gVGhlIGluZGV4ZXMgb2YgYGNvbGxlY3Rpb25gXG4gICAgICogICB0byByZXRyaWV2ZSwgc3BlY2lmaWVkIGFzIGluZGl2aWR1YWwgaW5kZXhlcyBvciBhcnJheXMgb2YgaW5kZXhlcy5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYSBuZXcgYXJyYXkgb2YgZWxlbWVudHMgY29ycmVzcG9uZGluZyB0byB0aGVcbiAgICAgKiAgcHJvdmlkZWQgaW5kZXhlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5hdChbJ2EnLCAnYicsICdjJywgJ2QnLCAnZSddLCBbMCwgMiwgNF0pO1xuICAgICAqIC8vID0+IFsnYScsICdjJywgJ2UnXVxuICAgICAqXG4gICAgICogXy5hdChbJ2ZyZWQnLCAnYmFybmV5JywgJ3BlYmJsZXMnXSwgMCwgMik7XG4gICAgICogLy8gPT4gWydmcmVkJywgJ3BlYmJsZXMnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGF0KGNvbGxlY3Rpb24pIHtcbiAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzLFxuICAgICAgICAgIGluZGV4ID0gLTEsXG4gICAgICAgICAgcHJvcHMgPSBiYXNlRmxhdHRlbihhcmdzLCB0cnVlLCBmYWxzZSwgMSksXG4gICAgICAgICAgbGVuZ3RoID0gKGFyZ3NbMl0gJiYgYXJnc1syXVthcmdzWzFdXSA9PT0gY29sbGVjdGlvbikgPyAxIDogcHJvcHMubGVuZ3RoLFxuICAgICAgICAgIHJlc3VsdCA9IEFycmF5KGxlbmd0aCk7XG5cbiAgICAgIGlmIChzdXBwb3J0LnVuaW5kZXhlZENoYXJzICYmIGlzU3RyaW5nKGNvbGxlY3Rpb24pKSB7XG4gICAgICAgIGNvbGxlY3Rpb24gPSBjb2xsZWN0aW9uLnNwbGl0KCcnKTtcbiAgICAgIH1cbiAgICAgIHdoaWxlKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgcmVzdWx0W2luZGV4XSA9IGNvbGxlY3Rpb25bcHJvcHNbaW5kZXhdXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGEgZ2l2ZW4gdmFsdWUgaXMgcHJlc2VudCBpbiBhIGNvbGxlY3Rpb24gdXNpbmcgc3RyaWN0IGVxdWFsaXR5XG4gICAgICogZm9yIGNvbXBhcmlzb25zLCBpLmUuIGA9PT1gLiBJZiBgZnJvbUluZGV4YCBpcyBuZWdhdGl2ZSwgaXQgaXMgdXNlZCBhcyB0aGVcbiAgICAgKiBvZmZzZXQgZnJvbSB0aGUgZW5kIG9mIHRoZSBjb2xsZWN0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGFsaWFzIGluY2x1ZGVcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvbnNcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdHxzdHJpbmd9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7Kn0gdGFyZ2V0IFRoZSB2YWx1ZSB0byBjaGVjayBmb3IuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtmcm9tSW5kZXg9MF0gVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgYHRhcmdldGAgZWxlbWVudCBpcyBmb3VuZCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmNvbnRhaW5zKFsxLCAyLCAzXSwgMSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5jb250YWlucyhbMSwgMiwgM10sIDEsIDIpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmNvbnRhaW5zKHsgJ25hbWUnOiAnZnJlZCcsICdhZ2UnOiA0MCB9LCAnZnJlZCcpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uY29udGFpbnMoJ3BlYmJsZXMnLCAnZWInKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29udGFpbnMoY29sbGVjdGlvbiwgdGFyZ2V0LCBmcm9tSW5kZXgpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGluZGV4T2YgPSBnZXRJbmRleE9mKCksXG4gICAgICAgICAgbGVuZ3RoID0gY29sbGVjdGlvbiA/IGNvbGxlY3Rpb24ubGVuZ3RoIDogMCxcbiAgICAgICAgICByZXN1bHQgPSBmYWxzZTtcblxuICAgICAgZnJvbUluZGV4ID0gKGZyb21JbmRleCA8IDAgPyBuYXRpdmVNYXgoMCwgbGVuZ3RoICsgZnJvbUluZGV4KSA6IGZyb21JbmRleCkgfHwgMDtcbiAgICAgIGlmIChpc0FycmF5KGNvbGxlY3Rpb24pKSB7XG4gICAgICAgIHJlc3VsdCA9IGluZGV4T2YoY29sbGVjdGlvbiwgdGFyZ2V0LCBmcm9tSW5kZXgpID4gLTE7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBsZW5ndGggPT0gJ251bWJlcicpIHtcbiAgICAgICAgcmVzdWx0ID0gKGlzU3RyaW5nKGNvbGxlY3Rpb24pID8gY29sbGVjdGlvbi5pbmRleE9mKHRhcmdldCwgZnJvbUluZGV4KSA6IGluZGV4T2YoY29sbGVjdGlvbiwgdGFyZ2V0LCBmcm9tSW5kZXgpKSA+IC0xO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYmFzZUVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICBpZiAoKytpbmRleCA+PSBmcm9tSW5kZXgpIHtcbiAgICAgICAgICAgIHJldHVybiAhKHJlc3VsdCA9IHZhbHVlID09PSB0YXJnZXQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gb2JqZWN0IGNvbXBvc2VkIG9mIGtleXMgZ2VuZXJhdGVkIGZyb20gdGhlIHJlc3VsdHMgb2YgcnVubmluZ1xuICAgICAqIGVhY2ggZWxlbWVudCBvZiBgY29sbGVjdGlvbmAgdGhyb3VnaCB0aGUgY2FsbGJhY2suIFRoZSBjb3JyZXNwb25kaW5nIHZhbHVlXG4gICAgICogb2YgZWFjaCBrZXkgaXMgdGhlIG51bWJlciBvZiB0aW1lcyB0aGUga2V5IHdhcyByZXR1cm5lZCBieSB0aGUgY2FsbGJhY2suXG4gICAgICogVGhlIGNhbGxiYWNrIGlzIGJvdW5kIHRvIGB0aGlzQXJnYCBhbmQgaW52b2tlZCB3aXRoIHRocmVlIGFyZ3VtZW50cztcbiAgICAgKiAodmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG4gICAgICpcbiAgICAgKiBJZiBhIHByb3BlcnR5IG5hbWUgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLnBsdWNrXCIgc3R5bGVcbiAgICAgKiBjYWxsYmFjayB3aWxsIHJldHVybiB0aGUgcHJvcGVydHkgdmFsdWUgb2YgdGhlIGdpdmVuIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBJZiBhbiBvYmplY3QgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLndoZXJlXCIgc3R5bGUgY2FsbGJhY2tcbiAgICAgKiB3aWxsIHJldHVybiBgdHJ1ZWAgZm9yIGVsZW1lbnRzIHRoYXQgaGF2ZSB0aGUgcHJvcGVydGllcyBvZiB0aGUgZ2l2ZW4gb2JqZWN0LFxuICAgICAqIGVsc2UgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uc1xuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fHN0cmluZ30gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbnxPYmplY3R8c3RyaW5nfSBbY2FsbGJhY2s9aWRlbnRpdHldIFRoZSBmdW5jdGlvbiBjYWxsZWRcbiAgICAgKiAgcGVyIGl0ZXJhdGlvbi4gSWYgYSBwcm9wZXJ0eSBuYW1lIG9yIG9iamVjdCBpcyBwcm92aWRlZCBpdCB3aWxsIGJlIHVzZWRcbiAgICAgKiAgdG8gY3JlYXRlIGEgXCJfLnBsdWNrXCIgb3IgXCJfLndoZXJlXCIgc3R5bGUgY2FsbGJhY2ssIHJlc3BlY3RpdmVseS5cbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGNhbGxiYWNrYC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjb21wb3NlZCBhZ2dyZWdhdGUgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmNvdW50QnkoWzQuMywgNi4xLCA2LjRdLCBmdW5jdGlvbihudW0pIHsgcmV0dXJuIE1hdGguZmxvb3IobnVtKTsgfSk7XG4gICAgICogLy8gPT4geyAnNCc6IDEsICc2JzogMiB9XG4gICAgICpcbiAgICAgKiBfLmNvdW50QnkoWzQuMywgNi4xLCA2LjRdLCBmdW5jdGlvbihudW0pIHsgcmV0dXJuIHRoaXMuZmxvb3IobnVtKTsgfSwgTWF0aCk7XG4gICAgICogLy8gPT4geyAnNCc6IDEsICc2JzogMiB9XG4gICAgICpcbiAgICAgKiBfLmNvdW50QnkoWydvbmUnLCAndHdvJywgJ3RocmVlJ10sICdsZW5ndGgnKTtcbiAgICAgKiAvLyA9PiB7ICczJzogMiwgJzUnOiAxIH1cbiAgICAgKi9cbiAgICB2YXIgY291bnRCeSA9IGNyZWF0ZUFnZ3JlZ2F0b3IoZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgICAoaGFzT3duUHJvcGVydHkuY2FsbChyZXN1bHQsIGtleSkgPyByZXN1bHRba2V5XSsrIDogcmVzdWx0W2tleV0gPSAxKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiB0aGUgZ2l2ZW4gY2FsbGJhY2sgcmV0dXJucyB0cnVleSB2YWx1ZSBmb3IgKiphbGwqKiBlbGVtZW50cyBvZlxuICAgICAqIGEgY29sbGVjdGlvbi4gVGhlIGNhbGxiYWNrIGlzIGJvdW5kIHRvIGB0aGlzQXJnYCBhbmQgaW52b2tlZCB3aXRoIHRocmVlXG4gICAgICogYXJndW1lbnRzOyAodmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG4gICAgICpcbiAgICAgKiBJZiBhIHByb3BlcnR5IG5hbWUgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLnBsdWNrXCIgc3R5bGVcbiAgICAgKiBjYWxsYmFjayB3aWxsIHJldHVybiB0aGUgcHJvcGVydHkgdmFsdWUgb2YgdGhlIGdpdmVuIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBJZiBhbiBvYmplY3QgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLndoZXJlXCIgc3R5bGUgY2FsbGJhY2tcbiAgICAgKiB3aWxsIHJldHVybiBgdHJ1ZWAgZm9yIGVsZW1lbnRzIHRoYXQgaGF2ZSB0aGUgcHJvcGVydGllcyBvZiB0aGUgZ2l2ZW4gb2JqZWN0LFxuICAgICAqIGVsc2UgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBhbGlhcyBhbGxcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvbnNcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdHxzdHJpbmd9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258T2JqZWN0fHN0cmluZ30gW2NhbGxiYWNrPWlkZW50aXR5XSBUaGUgZnVuY3Rpb24gY2FsbGVkXG4gICAgICogIHBlciBpdGVyYXRpb24uIElmIGEgcHJvcGVydHkgbmFtZSBvciBvYmplY3QgaXMgcHJvdmlkZWQgaXQgd2lsbCBiZSB1c2VkXG4gICAgICogIHRvIGNyZWF0ZSBhIFwiXy5wbHVja1wiIG9yIFwiXy53aGVyZVwiIHN0eWxlIGNhbGxiYWNrLCByZXNwZWN0aXZlbHkuXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBjYWxsYmFja2AuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFsbCBlbGVtZW50cyBwYXNzZWQgdGhlIGNhbGxiYWNrIGNoZWNrLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZXZlcnkoW3RydWUsIDEsIG51bGwsICd5ZXMnXSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIHZhciBjaGFyYWN0ZXJzID0gW1xuICAgICAqICAgeyAnbmFtZSc6ICdiYXJuZXknLCAnYWdlJzogMzYgfSxcbiAgICAgKiAgIHsgJ25hbWUnOiAnZnJlZCcsICAgJ2FnZSc6IDQwIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogLy8gdXNpbmcgXCJfLnBsdWNrXCIgY2FsbGJhY2sgc2hvcnRoYW5kXG4gICAgICogXy5ldmVyeShjaGFyYWN0ZXJzLCAnYWdlJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogLy8gdXNpbmcgXCJfLndoZXJlXCIgY2FsbGJhY2sgc2hvcnRoYW5kXG4gICAgICogXy5ldmVyeShjaGFyYWN0ZXJzLCB7ICdhZ2UnOiAzNiB9KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGV2ZXJ5KGNvbGxlY3Rpb24sIGNhbGxiYWNrLCB0aGlzQXJnKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gdHJ1ZTtcbiAgICAgIGNhbGxiYWNrID0gbG9kYXNoLmNyZWF0ZUNhbGxiYWNrKGNhbGxiYWNrLCB0aGlzQXJnLCAzKTtcblxuICAgICAgaWYgKGlzQXJyYXkoY29sbGVjdGlvbikpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgICBsZW5ndGggPSBjb2xsZWN0aW9uLmxlbmd0aDtcblxuICAgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgIGlmICghKHJlc3VsdCA9ICEhY2FsbGJhY2soY29sbGVjdGlvbltpbmRleF0sIGluZGV4LCBjb2xsZWN0aW9uKSkpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYmFzZUVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgICAgcmV0dXJuIChyZXN1bHQgPSAhIWNhbGxiYWNrKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSXRlcmF0ZXMgb3ZlciBlbGVtZW50cyBvZiBhIGNvbGxlY3Rpb24sIHJldHVybmluZyBhbiBhcnJheSBvZiBhbGwgZWxlbWVudHNcbiAgICAgKiB0aGUgY2FsbGJhY2sgcmV0dXJucyB0cnVleSBmb3IuIFRoZSBjYWxsYmFjayBpcyBib3VuZCB0byBgdGhpc0FyZ2AgYW5kXG4gICAgICogaW52b2tlZCB3aXRoIHRocmVlIGFyZ3VtZW50czsgKHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICAgICAqXG4gICAgICogSWYgYSBwcm9wZXJ0eSBuYW1lIGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy5wbHVja1wiIHN0eWxlXG4gICAgICogY2FsbGJhY2sgd2lsbCByZXR1cm4gdGhlIHByb3BlcnR5IHZhbHVlIG9mIHRoZSBnaXZlbiBlbGVtZW50LlxuICAgICAqXG4gICAgICogSWYgYW4gb2JqZWN0IGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy53aGVyZVwiIHN0eWxlIGNhbGxiYWNrXG4gICAgICogd2lsbCByZXR1cm4gYHRydWVgIGZvciBlbGVtZW50cyB0aGF0IGhhdmUgdGhlIHByb3BlcnRpZXMgb2YgdGhlIGdpdmVuIG9iamVjdCxcbiAgICAgKiBlbHNlIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAYWxpYXMgc2VsZWN0XG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25zXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R8c3RyaW5nfSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufE9iamVjdHxzdHJpbmd9IFtjYWxsYmFjaz1pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGNhbGxlZFxuICAgICAqICBwZXIgaXRlcmF0aW9uLiBJZiBhIHByb3BlcnR5IG5hbWUgb3Igb2JqZWN0IGlzIHByb3ZpZGVkIGl0IHdpbGwgYmUgdXNlZFxuICAgICAqICB0byBjcmVhdGUgYSBcIl8ucGx1Y2tcIiBvciBcIl8ud2hlcmVcIiBzdHlsZSBjYWxsYmFjaywgcmVzcGVjdGl2ZWx5LlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgY2FsbGJhY2tgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBhIG5ldyBhcnJheSBvZiBlbGVtZW50cyB0aGF0IHBhc3NlZCB0aGUgY2FsbGJhY2sgY2hlY2suXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBldmVucyA9IF8uZmlsdGVyKFsxLCAyLCAzLCA0LCA1LCA2XSwgZnVuY3Rpb24obnVtKSB7IHJldHVybiBudW0gJSAyID09IDA7IH0pO1xuICAgICAqIC8vID0+IFsyLCA0LCA2XVxuICAgICAqXG4gICAgICogdmFyIGNoYXJhY3RlcnMgPSBbXG4gICAgICogICB7ICduYW1lJzogJ2Jhcm5leScsICdhZ2UnOiAzNiwgJ2Jsb2NrZWQnOiBmYWxzZSB9LFxuICAgICAqICAgeyAnbmFtZSc6ICdmcmVkJywgICAnYWdlJzogNDAsICdibG9ja2VkJzogdHJ1ZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIC8vIHVzaW5nIFwiXy5wbHVja1wiIGNhbGxiYWNrIHNob3J0aGFuZFxuICAgICAqIF8uZmlsdGVyKGNoYXJhY3RlcnMsICdibG9ja2VkJyk7XG4gICAgICogLy8gPT4gW3sgJ25hbWUnOiAnZnJlZCcsICdhZ2UnOiA0MCwgJ2Jsb2NrZWQnOiB0cnVlIH1dXG4gICAgICpcbiAgICAgKiAvLyB1c2luZyBcIl8ud2hlcmVcIiBjYWxsYmFjayBzaG9ydGhhbmRcbiAgICAgKiBfLmZpbHRlcihjaGFyYWN0ZXJzLCB7ICdhZ2UnOiAzNiB9KTtcbiAgICAgKiAvLyA9PiBbeyAnbmFtZSc6ICdiYXJuZXknLCAnYWdlJzogMzYsICdibG9ja2VkJzogZmFsc2UgfV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmaWx0ZXIoY29sbGVjdGlvbiwgY2FsbGJhY2ssIHRoaXNBcmcpIHtcbiAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgIGNhbGxiYWNrID0gbG9kYXNoLmNyZWF0ZUNhbGxiYWNrKGNhbGxiYWNrLCB0aGlzQXJnLCAzKTtcblxuICAgICAgaWYgKGlzQXJyYXkoY29sbGVjdGlvbikpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgICBsZW5ndGggPSBjb2xsZWN0aW9uLmxlbmd0aDtcblxuICAgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgIHZhciB2YWx1ZSA9IGNvbGxlY3Rpb25baW5kZXhdO1xuICAgICAgICAgIGlmIChjYWxsYmFjayh2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBiYXNlRWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pIHtcbiAgICAgICAgICBpZiAoY2FsbGJhY2sodmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSkge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEl0ZXJhdGVzIG92ZXIgZWxlbWVudHMgb2YgYSBjb2xsZWN0aW9uLCByZXR1cm5pbmcgdGhlIGZpcnN0IGVsZW1lbnQgdGhhdFxuICAgICAqIHRoZSBjYWxsYmFjayByZXR1cm5zIHRydWV5IGZvci4gVGhlIGNhbGxiYWNrIGlzIGJvdW5kIHRvIGB0aGlzQXJnYCBhbmRcbiAgICAgKiBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzOyAodmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG4gICAgICpcbiAgICAgKiBJZiBhIHByb3BlcnR5IG5hbWUgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLnBsdWNrXCIgc3R5bGVcbiAgICAgKiBjYWxsYmFjayB3aWxsIHJldHVybiB0aGUgcHJvcGVydHkgdmFsdWUgb2YgdGhlIGdpdmVuIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBJZiBhbiBvYmplY3QgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLndoZXJlXCIgc3R5bGUgY2FsbGJhY2tcbiAgICAgKiB3aWxsIHJldHVybiBgdHJ1ZWAgZm9yIGVsZW1lbnRzIHRoYXQgaGF2ZSB0aGUgcHJvcGVydGllcyBvZiB0aGUgZ2l2ZW4gb2JqZWN0LFxuICAgICAqIGVsc2UgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBhbGlhcyBkZXRlY3QsIGZpbmRXaGVyZVxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uc1xuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fHN0cmluZ30gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbnxPYmplY3R8c3RyaW5nfSBbY2FsbGJhY2s9aWRlbnRpdHldIFRoZSBmdW5jdGlvbiBjYWxsZWRcbiAgICAgKiAgcGVyIGl0ZXJhdGlvbi4gSWYgYSBwcm9wZXJ0eSBuYW1lIG9yIG9iamVjdCBpcyBwcm92aWRlZCBpdCB3aWxsIGJlIHVzZWRcbiAgICAgKiAgdG8gY3JlYXRlIGEgXCJfLnBsdWNrXCIgb3IgXCJfLndoZXJlXCIgc3R5bGUgY2FsbGJhY2ssIHJlc3BlY3RpdmVseS5cbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGNhbGxiYWNrYC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZm91bmQgZWxlbWVudCwgZWxzZSBgdW5kZWZpbmVkYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGNoYXJhY3RlcnMgPSBbXG4gICAgICogICB7ICduYW1lJzogJ2Jhcm5leScsICAnYWdlJzogMzYsICdibG9ja2VkJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ25hbWUnOiAnZnJlZCcsICAgICdhZ2UnOiA0MCwgJ2Jsb2NrZWQnOiB0cnVlIH0sXG4gICAgICogICB7ICduYW1lJzogJ3BlYmJsZXMnLCAnYWdlJzogMSwgICdibG9ja2VkJzogZmFsc2UgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmZpbmQoY2hhcmFjdGVycywgZnVuY3Rpb24oY2hyKSB7XG4gICAgICogICByZXR1cm4gY2hyLmFnZSA8IDQwO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IHsgJ25hbWUnOiAnYmFybmV5JywgJ2FnZSc6IDM2LCAnYmxvY2tlZCc6IGZhbHNlIH1cbiAgICAgKlxuICAgICAqIC8vIHVzaW5nIFwiXy53aGVyZVwiIGNhbGxiYWNrIHNob3J0aGFuZFxuICAgICAqIF8uZmluZChjaGFyYWN0ZXJzLCB7ICdhZ2UnOiAxIH0pO1xuICAgICAqIC8vID0+ICB7ICduYW1lJzogJ3BlYmJsZXMnLCAnYWdlJzogMSwgJ2Jsb2NrZWQnOiBmYWxzZSB9XG4gICAgICpcbiAgICAgKiAvLyB1c2luZyBcIl8ucGx1Y2tcIiBjYWxsYmFjayBzaG9ydGhhbmRcbiAgICAgKiBfLmZpbmQoY2hhcmFjdGVycywgJ2Jsb2NrZWQnKTtcbiAgICAgKiAvLyA9PiB7ICduYW1lJzogJ2ZyZWQnLCAnYWdlJzogNDAsICdibG9ja2VkJzogdHJ1ZSB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gZmluZChjb2xsZWN0aW9uLCBjYWxsYmFjaywgdGhpc0FyZykge1xuICAgICAgY2FsbGJhY2sgPSBsb2Rhc2guY3JlYXRlQ2FsbGJhY2soY2FsbGJhY2ssIHRoaXNBcmcsIDMpO1xuXG4gICAgICBpZiAoaXNBcnJheShjb2xsZWN0aW9uKSkge1xuICAgICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICAgIGxlbmd0aCA9IGNvbGxlY3Rpb24ubGVuZ3RoO1xuXG4gICAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgdmFyIHZhbHVlID0gY29sbGVjdGlvbltpbmRleF07XG4gICAgICAgICAgaWYgKGNhbGxiYWNrKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciByZXN1bHQ7XG4gICAgICAgIGJhc2VFYWNoKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikge1xuICAgICAgICAgIGlmIChjYWxsYmFjayh2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pKSB7XG4gICAgICAgICAgICByZXN1bHQgPSB2YWx1ZTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZmluZGAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBlbGVtZW50c1xuICAgICAqIG9mIGEgYGNvbGxlY3Rpb25gIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uc1xuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fHN0cmluZ30gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbnxPYmplY3R8c3RyaW5nfSBbY2FsbGJhY2s9aWRlbnRpdHldIFRoZSBmdW5jdGlvbiBjYWxsZWRcbiAgICAgKiAgcGVyIGl0ZXJhdGlvbi4gSWYgYSBwcm9wZXJ0eSBuYW1lIG9yIG9iamVjdCBpcyBwcm92aWRlZCBpdCB3aWxsIGJlIHVzZWRcbiAgICAgKiAgdG8gY3JlYXRlIGEgXCJfLnBsdWNrXCIgb3IgXCJfLndoZXJlXCIgc3R5bGUgY2FsbGJhY2ssIHJlc3BlY3RpdmVseS5cbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGNhbGxiYWNrYC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZm91bmQgZWxlbWVudCwgZWxzZSBgdW5kZWZpbmVkYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5maW5kTGFzdChbMSwgMiwgMywgNF0sIGZ1bmN0aW9uKG51bSkge1xuICAgICAqICAgcmV0dXJuIG51bSAlIDIgPT0gMTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmluZExhc3QoY29sbGVjdGlvbiwgY2FsbGJhY2ssIHRoaXNBcmcpIHtcbiAgICAgIHZhciByZXN1bHQ7XG4gICAgICBjYWxsYmFjayA9IGxvZGFzaC5jcmVhdGVDYWxsYmFjayhjYWxsYmFjaywgdGhpc0FyZywgMyk7XG4gICAgICBmb3JFYWNoUmlnaHQoY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgIGlmIChjYWxsYmFjayh2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pKSB7XG4gICAgICAgICAgcmVzdWx0ID0gdmFsdWU7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSXRlcmF0ZXMgb3ZlciBlbGVtZW50cyBvZiBhIGNvbGxlY3Rpb24sIGV4ZWN1dGluZyB0aGUgY2FsbGJhY2sgZm9yIGVhY2hcbiAgICAgKiBlbGVtZW50LiBUaGUgY2FsbGJhY2sgaXMgYm91bmQgdG8gYHRoaXNBcmdgIGFuZCBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzO1xuICAgICAqICh2YWx1ZSwgaW5kZXh8a2V5LCBjb2xsZWN0aW9uKS4gQ2FsbGJhY2tzIG1heSBleGl0IGl0ZXJhdGlvbiBlYXJseSBieVxuICAgICAqIGV4cGxpY2l0bHkgcmV0dXJuaW5nIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBOb3RlOiBBcyB3aXRoIG90aGVyIFwiQ29sbGVjdGlvbnNcIiBtZXRob2RzLCBvYmplY3RzIHdpdGggYSBgbGVuZ3RoYCBwcm9wZXJ0eVxuICAgICAqIGFyZSBpdGVyYXRlZCBsaWtlIGFycmF5cy4gVG8gYXZvaWQgdGhpcyBiZWhhdmlvciBgXy5mb3JJbmAgb3IgYF8uZm9yT3duYFxuICAgICAqIG1heSBiZSB1c2VkIGZvciBvYmplY3QgaXRlcmF0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGFsaWFzIGVhY2hcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvbnNcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdHxzdHJpbmd9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFjaz1pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGNhbGxlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgY2FsbGJhY2tgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheXxPYmplY3R8c3RyaW5nfSBSZXR1cm5zIGBjb2xsZWN0aW9uYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXyhbMSwgMiwgM10pLmZvckVhY2goZnVuY3Rpb24obnVtKSB7IGNvbnNvbGUubG9nKG51bSk7IH0pLmpvaW4oJywnKTtcbiAgICAgKiAvLyA9PiBsb2dzIGVhY2ggbnVtYmVyIGFuZCByZXR1cm5zICcxLDIsMydcbiAgICAgKlxuICAgICAqIF8uZm9yRWFjaCh7ICdvbmUnOiAxLCAndHdvJzogMiwgJ3RocmVlJzogMyB9LCBmdW5jdGlvbihudW0pIHsgY29uc29sZS5sb2cobnVtKTsgfSk7XG4gICAgICogLy8gPT4gbG9ncyBlYWNoIG51bWJlciBhbmQgcmV0dXJucyB0aGUgb2JqZWN0IChwcm9wZXJ0eSBvcmRlciBpcyBub3QgZ3VhcmFudGVlZCBhY3Jvc3MgZW52aXJvbm1lbnRzKVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZvckVhY2goY29sbGVjdGlvbiwgY2FsbGJhY2ssIHRoaXNBcmcpIHtcbiAgICAgIGlmIChjYWxsYmFjayAmJiB0eXBlb2YgdGhpc0FyZyA9PSAndW5kZWZpbmVkJyAmJiBpc0FycmF5KGNvbGxlY3Rpb24pKSB7XG4gICAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgICAgbGVuZ3RoID0gY29sbGVjdGlvbi5sZW5ndGg7XG5cbiAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICBpZiAoY2FsbGJhY2soY29sbGVjdGlvbltpbmRleF0sIGluZGV4LCBjb2xsZWN0aW9uKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYmFzZUVhY2goY29sbGVjdGlvbiwgY2FsbGJhY2ssIHRoaXNBcmcpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNvbGxlY3Rpb247XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5mb3JFYWNoYCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIGVsZW1lbnRzXG4gICAgICogb2YgYSBgY29sbGVjdGlvbmAgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGFsaWFzIGVhY2hSaWdodFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uc1xuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fHN0cmluZ30gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NhbGxiYWNrPWlkZW50aXR5XSBUaGUgZnVuY3Rpb24gY2FsbGVkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBjYWxsYmFja2AuXG4gICAgICogQHJldHVybnMge0FycmF5fE9iamVjdHxzdHJpbmd9IFJldHVybnMgYGNvbGxlY3Rpb25gLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfKFsxLCAyLCAzXSkuZm9yRWFjaFJpZ2h0KGZ1bmN0aW9uKG51bSkgeyBjb25zb2xlLmxvZyhudW0pOyB9KS5qb2luKCcsJyk7XG4gICAgICogLy8gPT4gbG9ncyBlYWNoIG51bWJlciBmcm9tIHJpZ2h0IHRvIGxlZnQgYW5kIHJldHVybnMgJzMsMiwxJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZvckVhY2hSaWdodChjb2xsZWN0aW9uLCBjYWxsYmFjaywgdGhpc0FyZykge1xuICAgICAgdmFyIGl0ZXJhYmxlID0gY29sbGVjdGlvbixcbiAgICAgICAgICBsZW5ndGggPSBjb2xsZWN0aW9uID8gY29sbGVjdGlvbi5sZW5ndGggOiAwO1xuXG4gICAgICBjYWxsYmFjayA9IGNhbGxiYWNrICYmIHR5cGVvZiB0aGlzQXJnID09ICd1bmRlZmluZWQnID8gY2FsbGJhY2sgOiBiYXNlQ3JlYXRlQ2FsbGJhY2soY2FsbGJhY2ssIHRoaXNBcmcsIDMpO1xuICAgICAgaWYgKGlzQXJyYXkoY29sbGVjdGlvbikpIHtcbiAgICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgICAgaWYgKGNhbGxiYWNrKGNvbGxlY3Rpb25bbGVuZ3RoXSwgbGVuZ3RoLCBjb2xsZWN0aW9uKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHR5cGVvZiBsZW5ndGggIT0gJ251bWJlcicpIHtcbiAgICAgICAgICB2YXIgcHJvcHMgPSBrZXlzKGNvbGxlY3Rpb24pO1xuICAgICAgICAgIGxlbmd0aCA9IHByb3BzLmxlbmd0aDtcbiAgICAgICAgfSBlbHNlIGlmIChzdXBwb3J0LnVuaW5kZXhlZENoYXJzICYmIGlzU3RyaW5nKGNvbGxlY3Rpb24pKSB7XG4gICAgICAgICAgaXRlcmFibGUgPSBjb2xsZWN0aW9uLnNwbGl0KCcnKTtcbiAgICAgICAgfVxuICAgICAgICBiYXNlRWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwga2V5LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgICAga2V5ID0gcHJvcHMgPyBwcm9wc1stLWxlbmd0aF0gOiAtLWxlbmd0aDtcbiAgICAgICAgICByZXR1cm4gY2FsbGJhY2soaXRlcmFibGVba2V5XSwga2V5LCBjb2xsZWN0aW9uKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gY29sbGVjdGlvbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIG9iamVjdCBjb21wb3NlZCBvZiBrZXlzIGdlbmVyYXRlZCBmcm9tIHRoZSByZXN1bHRzIG9mIHJ1bm5pbmdcbiAgICAgKiBlYWNoIGVsZW1lbnQgb2YgYSBjb2xsZWN0aW9uIHRocm91Z2ggdGhlIGNhbGxiYWNrLiBUaGUgY29ycmVzcG9uZGluZyB2YWx1ZVxuICAgICAqIG9mIGVhY2gga2V5IGlzIGFuIGFycmF5IG9mIHRoZSBlbGVtZW50cyByZXNwb25zaWJsZSBmb3IgZ2VuZXJhdGluZyB0aGUga2V5LlxuICAgICAqIFRoZSBjYWxsYmFjayBpcyBib3VuZCB0byBgdGhpc0FyZ2AgYW5kIGludm9rZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM7XG4gICAgICogKHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICAgICAqXG4gICAgICogSWYgYSBwcm9wZXJ0eSBuYW1lIGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy5wbHVja1wiIHN0eWxlXG4gICAgICogY2FsbGJhY2sgd2lsbCByZXR1cm4gdGhlIHByb3BlcnR5IHZhbHVlIG9mIHRoZSBnaXZlbiBlbGVtZW50LlxuICAgICAqXG4gICAgICogSWYgYW4gb2JqZWN0IGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy53aGVyZVwiIHN0eWxlIGNhbGxiYWNrXG4gICAgICogd2lsbCByZXR1cm4gYHRydWVgIGZvciBlbGVtZW50cyB0aGF0IGhhdmUgdGhlIHByb3BlcnRpZXMgb2YgdGhlIGdpdmVuIG9iamVjdCxcbiAgICAgKiBlbHNlIGBmYWxzZWBcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uc1xuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fHN0cmluZ30gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbnxPYmplY3R8c3RyaW5nfSBbY2FsbGJhY2s9aWRlbnRpdHldIFRoZSBmdW5jdGlvbiBjYWxsZWRcbiAgICAgKiAgcGVyIGl0ZXJhdGlvbi4gSWYgYSBwcm9wZXJ0eSBuYW1lIG9yIG9iamVjdCBpcyBwcm92aWRlZCBpdCB3aWxsIGJlIHVzZWRcbiAgICAgKiAgdG8gY3JlYXRlIGEgXCJfLnBsdWNrXCIgb3IgXCJfLndoZXJlXCIgc3R5bGUgY2FsbGJhY2ssIHJlc3BlY3RpdmVseS5cbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGNhbGxiYWNrYC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjb21wb3NlZCBhZ2dyZWdhdGUgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmdyb3VwQnkoWzQuMiwgNi4xLCA2LjRdLCBmdW5jdGlvbihudW0pIHsgcmV0dXJuIE1hdGguZmxvb3IobnVtKTsgfSk7XG4gICAgICogLy8gPT4geyAnNCc6IFs0LjJdLCAnNic6IFs2LjEsIDYuNF0gfVxuICAgICAqXG4gICAgICogXy5ncm91cEJ5KFs0LjIsIDYuMSwgNi40XSwgZnVuY3Rpb24obnVtKSB7IHJldHVybiB0aGlzLmZsb29yKG51bSk7IH0sIE1hdGgpO1xuICAgICAqIC8vID0+IHsgJzQnOiBbNC4yXSwgJzYnOiBbNi4xLCA2LjRdIH1cbiAgICAgKlxuICAgICAqIC8vIHVzaW5nIFwiXy5wbHVja1wiIGNhbGxiYWNrIHNob3J0aGFuZFxuICAgICAqIF8uZ3JvdXBCeShbJ29uZScsICd0d28nLCAndGhyZWUnXSwgJ2xlbmd0aCcpO1xuICAgICAqIC8vID0+IHsgJzMnOiBbJ29uZScsICd0d28nXSwgJzUnOiBbJ3RocmVlJ10gfVxuICAgICAqL1xuICAgIHZhciBncm91cEJ5ID0gY3JlYXRlQWdncmVnYXRvcihmdW5jdGlvbihyZXN1bHQsIHZhbHVlLCBrZXkpIHtcbiAgICAgIChoYXNPd25Qcm9wZXJ0eS5jYWxsKHJlc3VsdCwga2V5KSA/IHJlc3VsdFtrZXldIDogcmVzdWx0W2tleV0gPSBbXSkucHVzaCh2YWx1ZSk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIG9iamVjdCBjb21wb3NlZCBvZiBrZXlzIGdlbmVyYXRlZCBmcm9tIHRoZSByZXN1bHRzIG9mIHJ1bm5pbmdcbiAgICAgKiBlYWNoIGVsZW1lbnQgb2YgdGhlIGNvbGxlY3Rpb24gdGhyb3VnaCB0aGUgZ2l2ZW4gY2FsbGJhY2suIFRoZSBjb3JyZXNwb25kaW5nXG4gICAgICogdmFsdWUgb2YgZWFjaCBrZXkgaXMgdGhlIGxhc3QgZWxlbWVudCByZXNwb25zaWJsZSBmb3IgZ2VuZXJhdGluZyB0aGUga2V5LlxuICAgICAqIFRoZSBjYWxsYmFjayBpcyBib3VuZCB0byBgdGhpc0FyZ2AgYW5kIGludm9rZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM7XG4gICAgICogKHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICAgICAqXG4gICAgICogSWYgYSBwcm9wZXJ0eSBuYW1lIGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy5wbHVja1wiIHN0eWxlXG4gICAgICogY2FsbGJhY2sgd2lsbCByZXR1cm4gdGhlIHByb3BlcnR5IHZhbHVlIG9mIHRoZSBnaXZlbiBlbGVtZW50LlxuICAgICAqXG4gICAgICogSWYgYW4gb2JqZWN0IGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy53aGVyZVwiIHN0eWxlIGNhbGxiYWNrXG4gICAgICogd2lsbCByZXR1cm4gYHRydWVgIGZvciBlbGVtZW50cyB0aGF0IGhhdmUgdGhlIHByb3BlcnRpZXMgb2YgdGhlIGdpdmVuIG9iamVjdCxcbiAgICAgKiBlbHNlIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvbnNcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdHxzdHJpbmd9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258T2JqZWN0fHN0cmluZ30gW2NhbGxiYWNrPWlkZW50aXR5XSBUaGUgZnVuY3Rpb24gY2FsbGVkXG4gICAgICogIHBlciBpdGVyYXRpb24uIElmIGEgcHJvcGVydHkgbmFtZSBvciBvYmplY3QgaXMgcHJvdmlkZWQgaXQgd2lsbCBiZSB1c2VkXG4gICAgICogIHRvIGNyZWF0ZSBhIFwiXy5wbHVja1wiIG9yIFwiXy53aGVyZVwiIHN0eWxlIGNhbGxiYWNrLCByZXNwZWN0aXZlbHkuXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBjYWxsYmFja2AuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY29tcG9zZWQgYWdncmVnYXRlIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGtleXMgPSBbXG4gICAgICogICB7ICdkaXInOiAnbGVmdCcsICdjb2RlJzogOTcgfSxcbiAgICAgKiAgIHsgJ2Rpcic6ICdyaWdodCcsICdjb2RlJzogMTAwIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5pbmRleEJ5KGtleXMsICdkaXInKTtcbiAgICAgKiAvLyA9PiB7ICdsZWZ0JzogeyAnZGlyJzogJ2xlZnQnLCAnY29kZSc6IDk3IH0sICdyaWdodCc6IHsgJ2Rpcic6ICdyaWdodCcsICdjb2RlJzogMTAwIH0gfVxuICAgICAqXG4gICAgICogXy5pbmRleEJ5KGtleXMsIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShrZXkuY29kZSk7IH0pO1xuICAgICAqIC8vID0+IHsgJ2EnOiB7ICdkaXInOiAnbGVmdCcsICdjb2RlJzogOTcgfSwgJ2QnOiB7ICdkaXInOiAncmlnaHQnLCAnY29kZSc6IDEwMCB9IH1cbiAgICAgKlxuICAgICAqIF8uaW5kZXhCeShjaGFyYWN0ZXJzLCBmdW5jdGlvbihrZXkpIHsgdGhpcy5mcm9tQ2hhckNvZGUoa2V5LmNvZGUpOyB9LCBTdHJpbmcpO1xuICAgICAqIC8vID0+IHsgJ2EnOiB7ICdkaXInOiAnbGVmdCcsICdjb2RlJzogOTcgfSwgJ2QnOiB7ICdkaXInOiAncmlnaHQnLCAnY29kZSc6IDEwMCB9IH1cbiAgICAgKi9cbiAgICB2YXIgaW5kZXhCeSA9IGNyZWF0ZUFnZ3JlZ2F0b3IoZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgICByZXN1bHRba2V5XSA9IHZhbHVlO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogSW52b2tlcyB0aGUgbWV0aG9kIG5hbWVkIGJ5IGBtZXRob2ROYW1lYCBvbiBlYWNoIGVsZW1lbnQgaW4gdGhlIGBjb2xsZWN0aW9uYFxuICAgICAqIHJldHVybmluZyBhbiBhcnJheSBvZiB0aGUgcmVzdWx0cyBvZiBlYWNoIGludm9rZWQgbWV0aG9kLiBBZGRpdGlvbmFsIGFyZ3VtZW50c1xuICAgICAqIHdpbGwgYmUgcHJvdmlkZWQgdG8gZWFjaCBpbnZva2VkIG1ldGhvZC4gSWYgYG1ldGhvZE5hbWVgIGlzIGEgZnVuY3Rpb24gaXRcbiAgICAgKiB3aWxsIGJlIGludm9rZWQgZm9yLCBhbmQgYHRoaXNgIGJvdW5kIHRvLCBlYWNoIGVsZW1lbnQgaW4gdGhlIGBjb2xsZWN0aW9uYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uc1xuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fHN0cmluZ30gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbnxzdHJpbmd9IG1ldGhvZE5hbWUgVGhlIG5hbWUgb2YgdGhlIG1ldGhvZCB0byBpbnZva2Ugb3JcbiAgICAgKiAgdGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0gey4uLip9IFthcmddIEFyZ3VtZW50cyB0byBpbnZva2UgdGhlIG1ldGhvZCB3aXRoLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBhIG5ldyBhcnJheSBvZiB0aGUgcmVzdWx0cyBvZiBlYWNoIGludm9rZWQgbWV0aG9kLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmludm9rZShbWzUsIDEsIDddLCBbMywgMiwgMV1dLCAnc29ydCcpO1xuICAgICAqIC8vID0+IFtbMSwgNSwgN10sIFsxLCAyLCAzXV1cbiAgICAgKlxuICAgICAqIF8uaW52b2tlKFsxMjMsIDQ1Nl0sIFN0cmluZy5wcm90b3R5cGUuc3BsaXQsICcnKTtcbiAgICAgKiAvLyA9PiBbWycxJywgJzInLCAnMyddLCBbJzQnLCAnNScsICc2J11dXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW52b2tlKGNvbGxlY3Rpb24sIG1ldGhvZE5hbWUpIHtcbiAgICAgIHZhciBhcmdzID0gc2xpY2UoYXJndW1lbnRzLCAyKSxcbiAgICAgICAgICBpbmRleCA9IC0xLFxuICAgICAgICAgIGlzRnVuYyA9IHR5cGVvZiBtZXRob2ROYW1lID09ICdmdW5jdGlvbicsXG4gICAgICAgICAgbGVuZ3RoID0gY29sbGVjdGlvbiA/IGNvbGxlY3Rpb24ubGVuZ3RoIDogMCxcbiAgICAgICAgICByZXN1bHQgPSBBcnJheSh0eXBlb2YgbGVuZ3RoID09ICdudW1iZXInID8gbGVuZ3RoIDogMCk7XG5cbiAgICAgIGZvckVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgcmVzdWx0WysraW5kZXhdID0gKGlzRnVuYyA/IG1ldGhvZE5hbWUgOiB2YWx1ZVttZXRob2ROYW1lXSkuYXBwbHkodmFsdWUsIGFyZ3MpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdmFsdWVzIGJ5IHJ1bm5pbmcgZWFjaCBlbGVtZW50IGluIHRoZSBjb2xsZWN0aW9uXG4gICAgICogdGhyb3VnaCB0aGUgY2FsbGJhY2suIFRoZSBjYWxsYmFjayBpcyBib3VuZCB0byBgdGhpc0FyZ2AgYW5kIGludm9rZWQgd2l0aFxuICAgICAqIHRocmVlIGFyZ3VtZW50czsgKHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICAgICAqXG4gICAgICogSWYgYSBwcm9wZXJ0eSBuYW1lIGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy5wbHVja1wiIHN0eWxlXG4gICAgICogY2FsbGJhY2sgd2lsbCByZXR1cm4gdGhlIHByb3BlcnR5IHZhbHVlIG9mIHRoZSBnaXZlbiBlbGVtZW50LlxuICAgICAqXG4gICAgICogSWYgYW4gb2JqZWN0IGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy53aGVyZVwiIHN0eWxlIGNhbGxiYWNrXG4gICAgICogd2lsbCByZXR1cm4gYHRydWVgIGZvciBlbGVtZW50cyB0aGF0IGhhdmUgdGhlIHByb3BlcnRpZXMgb2YgdGhlIGdpdmVuIG9iamVjdCxcbiAgICAgKiBlbHNlIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAYWxpYXMgY29sbGVjdFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uc1xuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fHN0cmluZ30gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbnxPYmplY3R8c3RyaW5nfSBbY2FsbGJhY2s9aWRlbnRpdHldIFRoZSBmdW5jdGlvbiBjYWxsZWRcbiAgICAgKiAgcGVyIGl0ZXJhdGlvbi4gSWYgYSBwcm9wZXJ0eSBuYW1lIG9yIG9iamVjdCBpcyBwcm92aWRlZCBpdCB3aWxsIGJlIHVzZWRcbiAgICAgKiAgdG8gY3JlYXRlIGEgXCJfLnBsdWNrXCIgb3IgXCJfLndoZXJlXCIgc3R5bGUgY2FsbGJhY2ssIHJlc3BlY3RpdmVseS5cbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGNhbGxiYWNrYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYSBuZXcgYXJyYXkgb2YgdGhlIHJlc3VsdHMgb2YgZWFjaCBgY2FsbGJhY2tgIGV4ZWN1dGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5tYXAoWzEsIDIsIDNdLCBmdW5jdGlvbihudW0pIHsgcmV0dXJuIG51bSAqIDM7IH0pO1xuICAgICAqIC8vID0+IFszLCA2LCA5XVxuICAgICAqXG4gICAgICogXy5tYXAoeyAnb25lJzogMSwgJ3R3byc6IDIsICd0aHJlZSc6IDMgfSwgZnVuY3Rpb24obnVtKSB7IHJldHVybiBudW0gKiAzOyB9KTtcbiAgICAgKiAvLyA9PiBbMywgNiwgOV0gKHByb3BlcnR5IG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkIGFjcm9zcyBlbnZpcm9ubWVudHMpXG4gICAgICpcbiAgICAgKiB2YXIgY2hhcmFjdGVycyA9IFtcbiAgICAgKiAgIHsgJ25hbWUnOiAnYmFybmV5JywgJ2FnZSc6IDM2IH0sXG4gICAgICogICB7ICduYW1lJzogJ2ZyZWQnLCAgICdhZ2UnOiA0MCB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIC8vIHVzaW5nIFwiXy5wbHVja1wiIGNhbGxiYWNrIHNob3J0aGFuZFxuICAgICAqIF8ubWFwKGNoYXJhY3RlcnMsICduYW1lJyk7XG4gICAgICogLy8gPT4gWydiYXJuZXknLCAnZnJlZCddXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWFwKGNvbGxlY3Rpb24sIGNhbGxiYWNrLCB0aGlzQXJnKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBjb2xsZWN0aW9uID8gY29sbGVjdGlvbi5sZW5ndGggOiAwLFxuICAgICAgICAgIHJlc3VsdCA9IEFycmF5KHR5cGVvZiBsZW5ndGggPT0gJ251bWJlcicgPyBsZW5ndGggOiAwKTtcblxuICAgICAgY2FsbGJhY2sgPSBsb2Rhc2guY3JlYXRlQ2FsbGJhY2soY2FsbGJhY2ssIHRoaXNBcmcsIDMpO1xuICAgICAgaWYgKGlzQXJyYXkoY29sbGVjdGlvbikpIHtcbiAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICByZXN1bHRbaW5kZXhdID0gY2FsbGJhY2soY29sbGVjdGlvbltpbmRleF0sIGluZGV4LCBjb2xsZWN0aW9uKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYmFzZUVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGtleSwgY29sbGVjdGlvbikge1xuICAgICAgICAgIHJlc3VsdFsrK2luZGV4XSA9IGNhbGxiYWNrKHZhbHVlLCBrZXksIGNvbGxlY3Rpb24pO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIHRoZSBtYXhpbXVtIHZhbHVlIG9mIGEgY29sbGVjdGlvbi4gSWYgdGhlIGNvbGxlY3Rpb24gaXMgZW1wdHkgb3JcbiAgICAgKiBmYWxzZXkgYC1JbmZpbml0eWAgaXMgcmV0dXJuZWQuIElmIGEgY2FsbGJhY2sgaXMgcHJvdmlkZWQgaXQgd2lsbCBiZSBleGVjdXRlZFxuICAgICAqIGZvciBlYWNoIHZhbHVlIGluIHRoZSBjb2xsZWN0aW9uIHRvIGdlbmVyYXRlIHRoZSBjcml0ZXJpb24gYnkgd2hpY2ggdGhlIHZhbHVlXG4gICAgICogaXMgcmFua2VkLiBUaGUgY2FsbGJhY2sgaXMgYm91bmQgdG8gYHRoaXNBcmdgIGFuZCBpbnZva2VkIHdpdGggdGhyZWVcbiAgICAgKiBhcmd1bWVudHM7ICh2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pLlxuICAgICAqXG4gICAgICogSWYgYSBwcm9wZXJ0eSBuYW1lIGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy5wbHVja1wiIHN0eWxlXG4gICAgICogY2FsbGJhY2sgd2lsbCByZXR1cm4gdGhlIHByb3BlcnR5IHZhbHVlIG9mIHRoZSBnaXZlbiBlbGVtZW50LlxuICAgICAqXG4gICAgICogSWYgYW4gb2JqZWN0IGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy53aGVyZVwiIHN0eWxlIGNhbGxiYWNrXG4gICAgICogd2lsbCByZXR1cm4gYHRydWVgIGZvciBlbGVtZW50cyB0aGF0IGhhdmUgdGhlIHByb3BlcnRpZXMgb2YgdGhlIGdpdmVuIG9iamVjdCxcbiAgICAgKiBlbHNlIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvbnNcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdHxzdHJpbmd9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258T2JqZWN0fHN0cmluZ30gW2NhbGxiYWNrPWlkZW50aXR5XSBUaGUgZnVuY3Rpb24gY2FsbGVkXG4gICAgICogIHBlciBpdGVyYXRpb24uIElmIGEgcHJvcGVydHkgbmFtZSBvciBvYmplY3QgaXMgcHJvdmlkZWQgaXQgd2lsbCBiZSB1c2VkXG4gICAgICogIHRvIGNyZWF0ZSBhIFwiXy5wbHVja1wiIG9yIFwiXy53aGVyZVwiIHN0eWxlIGNhbGxiYWNrLCByZXNwZWN0aXZlbHkuXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBjYWxsYmFja2AuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1heGltdW0gdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubWF4KFs0LCAyLCA4LCA2XSk7XG4gICAgICogLy8gPT4gOFxuICAgICAqXG4gICAgICogdmFyIGNoYXJhY3RlcnMgPSBbXG4gICAgICogICB7ICduYW1lJzogJ2Jhcm5leScsICdhZ2UnOiAzNiB9LFxuICAgICAqICAgeyAnbmFtZSc6ICdmcmVkJywgICAnYWdlJzogNDAgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLm1heChjaGFyYWN0ZXJzLCBmdW5jdGlvbihjaHIpIHsgcmV0dXJuIGNoci5hZ2U7IH0pO1xuICAgICAqIC8vID0+IHsgJ25hbWUnOiAnZnJlZCcsICdhZ2UnOiA0MCB9O1xuICAgICAqXG4gICAgICogLy8gdXNpbmcgXCJfLnBsdWNrXCIgY2FsbGJhY2sgc2hvcnRoYW5kXG4gICAgICogXy5tYXgoY2hhcmFjdGVycywgJ2FnZScpO1xuICAgICAqIC8vID0+IHsgJ25hbWUnOiAnZnJlZCcsICdhZ2UnOiA0MCB9O1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1heChjb2xsZWN0aW9uLCBjYWxsYmFjaywgdGhpc0FyZykge1xuICAgICAgdmFyIGNvbXB1dGVkID0gLUluZmluaXR5LFxuICAgICAgICAgIHJlc3VsdCA9IGNvbXB1dGVkO1xuXG4gICAgICAvLyBhbGxvd3Mgd29ya2luZyB3aXRoIGZ1bmN0aW9ucyBsaWtlIGBfLm1hcGAgd2l0aG91dCB1c2luZ1xuICAgICAgLy8gdGhlaXIgYGluZGV4YCBhcmd1bWVudCBhcyBhIGNhbGxiYWNrXG4gICAgICBpZiAodHlwZW9mIGNhbGxiYWNrICE9ICdmdW5jdGlvbicgJiYgdGhpc0FyZyAmJiB0aGlzQXJnW2NhbGxiYWNrXSA9PT0gY29sbGVjdGlvbikge1xuICAgICAgICBjYWxsYmFjayA9IG51bGw7XG4gICAgICB9XG4gICAgICBpZiAoY2FsbGJhY2sgPT0gbnVsbCAmJiBpc0FycmF5KGNvbGxlY3Rpb24pKSB7XG4gICAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgICAgbGVuZ3RoID0gY29sbGVjdGlvbi5sZW5ndGg7XG5cbiAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICB2YXIgdmFsdWUgPSBjb2xsZWN0aW9uW2luZGV4XTtcbiAgICAgICAgICBpZiAodmFsdWUgPiByZXN1bHQpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2FsbGJhY2sgPSAoY2FsbGJhY2sgPT0gbnVsbCAmJiBpc1N0cmluZyhjb2xsZWN0aW9uKSlcbiAgICAgICAgICA/IGNoYXJBdENhbGxiYWNrXG4gICAgICAgICAgOiBsb2Rhc2guY3JlYXRlQ2FsbGJhY2soY2FsbGJhY2ssIHRoaXNBcmcsIDMpO1xuXG4gICAgICAgIGJhc2VFYWNoKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikge1xuICAgICAgICAgIHZhciBjdXJyZW50ID0gY2FsbGJhY2sodmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKTtcbiAgICAgICAgICBpZiAoY3VycmVudCA+IGNvbXB1dGVkKSB7XG4gICAgICAgICAgICBjb21wdXRlZCA9IGN1cnJlbnQ7XG4gICAgICAgICAgICByZXN1bHQgPSB2YWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgdGhlIG1pbmltdW0gdmFsdWUgb2YgYSBjb2xsZWN0aW9uLiBJZiB0aGUgY29sbGVjdGlvbiBpcyBlbXB0eSBvclxuICAgICAqIGZhbHNleSBgSW5maW5pdHlgIGlzIHJldHVybmVkLiBJZiBhIGNhbGxiYWNrIGlzIHByb3ZpZGVkIGl0IHdpbGwgYmUgZXhlY3V0ZWRcbiAgICAgKiBmb3IgZWFjaCB2YWx1ZSBpbiB0aGUgY29sbGVjdGlvbiB0byBnZW5lcmF0ZSB0aGUgY3JpdGVyaW9uIGJ5IHdoaWNoIHRoZSB2YWx1ZVxuICAgICAqIGlzIHJhbmtlZC4gVGhlIGNhbGxiYWNrIGlzIGJvdW5kIHRvIGB0aGlzQXJnYCBhbmQgaW52b2tlZCB3aXRoIHRocmVlXG4gICAgICogYXJndW1lbnRzOyAodmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKS5cbiAgICAgKlxuICAgICAqIElmIGEgcHJvcGVydHkgbmFtZSBpcyBwcm92aWRlZCBmb3IgYGNhbGxiYWNrYCB0aGUgY3JlYXRlZCBcIl8ucGx1Y2tcIiBzdHlsZVxuICAgICAqIGNhbGxiYWNrIHdpbGwgcmV0dXJuIHRoZSBwcm9wZXJ0eSB2YWx1ZSBvZiB0aGUgZ2l2ZW4gZWxlbWVudC5cbiAgICAgKlxuICAgICAqIElmIGFuIG9iamVjdCBpcyBwcm92aWRlZCBmb3IgYGNhbGxiYWNrYCB0aGUgY3JlYXRlZCBcIl8ud2hlcmVcIiBzdHlsZSBjYWxsYmFja1xuICAgICAqIHdpbGwgcmV0dXJuIGB0cnVlYCBmb3IgZWxlbWVudHMgdGhhdCBoYXZlIHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBnaXZlbiBvYmplY3QsXG4gICAgICogZWxzZSBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25zXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R8c3RyaW5nfSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufE9iamVjdHxzdHJpbmd9IFtjYWxsYmFjaz1pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGNhbGxlZFxuICAgICAqICBwZXIgaXRlcmF0aW9uLiBJZiBhIHByb3BlcnR5IG5hbWUgb3Igb2JqZWN0IGlzIHByb3ZpZGVkIGl0IHdpbGwgYmUgdXNlZFxuICAgICAqICB0byBjcmVhdGUgYSBcIl8ucGx1Y2tcIiBvciBcIl8ud2hlcmVcIiBzdHlsZSBjYWxsYmFjaywgcmVzcGVjdGl2ZWx5LlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgY2FsbGJhY2tgLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBtaW5pbXVtIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLm1pbihbNCwgMiwgOCwgNl0pO1xuICAgICAqIC8vID0+IDJcbiAgICAgKlxuICAgICAqIHZhciBjaGFyYWN0ZXJzID0gW1xuICAgICAqICAgeyAnbmFtZSc6ICdiYXJuZXknLCAnYWdlJzogMzYgfSxcbiAgICAgKiAgIHsgJ25hbWUnOiAnZnJlZCcsICAgJ2FnZSc6IDQwIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5taW4oY2hhcmFjdGVycywgZnVuY3Rpb24oY2hyKSB7IHJldHVybiBjaHIuYWdlOyB9KTtcbiAgICAgKiAvLyA9PiB7ICduYW1lJzogJ2Jhcm5leScsICdhZ2UnOiAzNiB9O1xuICAgICAqXG4gICAgICogLy8gdXNpbmcgXCJfLnBsdWNrXCIgY2FsbGJhY2sgc2hvcnRoYW5kXG4gICAgICogXy5taW4oY2hhcmFjdGVycywgJ2FnZScpO1xuICAgICAqIC8vID0+IHsgJ25hbWUnOiAnYmFybmV5JywgJ2FnZSc6IDM2IH07XG4gICAgICovXG4gICAgZnVuY3Rpb24gbWluKGNvbGxlY3Rpb24sIGNhbGxiYWNrLCB0aGlzQXJnKSB7XG4gICAgICB2YXIgY29tcHV0ZWQgPSBJbmZpbml0eSxcbiAgICAgICAgICByZXN1bHQgPSBjb21wdXRlZDtcblxuICAgICAgLy8gYWxsb3dzIHdvcmtpbmcgd2l0aCBmdW5jdGlvbnMgbGlrZSBgXy5tYXBgIHdpdGhvdXQgdXNpbmdcbiAgICAgIC8vIHRoZWlyIGBpbmRleGAgYXJndW1lbnQgYXMgYSBjYWxsYmFja1xuICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayAhPSAnZnVuY3Rpb24nICYmIHRoaXNBcmcgJiYgdGhpc0FyZ1tjYWxsYmFja10gPT09IGNvbGxlY3Rpb24pIHtcbiAgICAgICAgY2FsbGJhY2sgPSBudWxsO1xuICAgICAgfVxuICAgICAgaWYgKGNhbGxiYWNrID09IG51bGwgJiYgaXNBcnJheShjb2xsZWN0aW9uKSkge1xuICAgICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICAgIGxlbmd0aCA9IGNvbGxlY3Rpb24ubGVuZ3RoO1xuXG4gICAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgdmFyIHZhbHVlID0gY29sbGVjdGlvbltpbmRleF07XG4gICAgICAgICAgaWYgKHZhbHVlIDwgcmVzdWx0KSB7XG4gICAgICAgICAgICByZXN1bHQgPSB2YWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNhbGxiYWNrID0gKGNhbGxiYWNrID09IG51bGwgJiYgaXNTdHJpbmcoY29sbGVjdGlvbikpXG4gICAgICAgICAgPyBjaGFyQXRDYWxsYmFja1xuICAgICAgICAgIDogbG9kYXNoLmNyZWF0ZUNhbGxiYWNrKGNhbGxiYWNrLCB0aGlzQXJnLCAzKTtcblxuICAgICAgICBiYXNlRWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pIHtcbiAgICAgICAgICB2YXIgY3VycmVudCA9IGNhbGxiYWNrKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbik7XG4gICAgICAgICAgaWYgKGN1cnJlbnQgPCBjb21wdXRlZCkge1xuICAgICAgICAgICAgY29tcHV0ZWQgPSBjdXJyZW50O1xuICAgICAgICAgICAgcmVzdWx0ID0gdmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIHRoZSB2YWx1ZSBvZiBhIHNwZWNpZmllZCBwcm9wZXJ0eSBmcm9tIGFsbCBlbGVtZW50cyBpbiB0aGUgY29sbGVjdGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEB0eXBlIEZ1bmN0aW9uXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25zXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R8c3RyaW5nfSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHkgVGhlIG5hbWUgb2YgdGhlIHByb3BlcnR5IHRvIHBsdWNrLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBhIG5ldyBhcnJheSBvZiBwcm9wZXJ0eSB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBjaGFyYWN0ZXJzID0gW1xuICAgICAqICAgeyAnbmFtZSc6ICdiYXJuZXknLCAnYWdlJzogMzYgfSxcbiAgICAgKiAgIHsgJ25hbWUnOiAnZnJlZCcsICAgJ2FnZSc6IDQwIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5wbHVjayhjaGFyYWN0ZXJzLCAnbmFtZScpO1xuICAgICAqIC8vID0+IFsnYmFybmV5JywgJ2ZyZWQnXVxuICAgICAqL1xuICAgIHZhciBwbHVjayA9IG1hcDtcblxuICAgIC8qKlxuICAgICAqIFJlZHVjZXMgYSBjb2xsZWN0aW9uIHRvIGEgdmFsdWUgd2hpY2ggaXMgdGhlIGFjY3VtdWxhdGVkIHJlc3VsdCBvZiBydW5uaW5nXG4gICAgICogZWFjaCBlbGVtZW50IGluIHRoZSBjb2xsZWN0aW9uIHRocm91Z2ggdGhlIGNhbGxiYWNrLCB3aGVyZSBlYWNoIHN1Y2Nlc3NpdmVcbiAgICAgKiBjYWxsYmFjayBleGVjdXRpb24gY29uc3VtZXMgdGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgcHJldmlvdXMgZXhlY3V0aW9uLiBJZlxuICAgICAqIGBhY2N1bXVsYXRvcmAgaXMgbm90IHByb3ZpZGVkIHRoZSBmaXJzdCBlbGVtZW50IG9mIHRoZSBjb2xsZWN0aW9uIHdpbGwgYmVcbiAgICAgKiB1c2VkIGFzIHRoZSBpbml0aWFsIGBhY2N1bXVsYXRvcmAgdmFsdWUuIFRoZSBjYWxsYmFjayBpcyBib3VuZCB0byBgdGhpc0FyZ2BcbiAgICAgKiBhbmQgaW52b2tlZCB3aXRoIGZvdXIgYXJndW1lbnRzOyAoYWNjdW11bGF0b3IsIHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGFsaWFzIGZvbGRsLCBpbmplY3RcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvbnNcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdHxzdHJpbmd9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFjaz1pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGNhbGxlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7Kn0gW2FjY3VtdWxhdG9yXSBJbml0aWFsIHZhbHVlIG9mIHRoZSBhY2N1bXVsYXRvci5cbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGNhbGxiYWNrYC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgYWNjdW11bGF0ZWQgdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBzdW0gPSBfLnJlZHVjZShbMSwgMiwgM10sIGZ1bmN0aW9uKHN1bSwgbnVtKSB7XG4gICAgICogICByZXR1cm4gc3VtICsgbnVtO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IDZcbiAgICAgKlxuICAgICAqIHZhciBtYXBwZWQgPSBfLnJlZHVjZSh7ICdhJzogMSwgJ2InOiAyLCAnYyc6IDMgfSwgZnVuY3Rpb24ocmVzdWx0LCBudW0sIGtleSkge1xuICAgICAqICAgcmVzdWx0W2tleV0gPSBudW0gKiAzO1xuICAgICAqICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgKiB9LCB7fSk7XG4gICAgICogLy8gPT4geyAnYSc6IDMsICdiJzogNiwgJ2MnOiA5IH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZWR1Y2UoY29sbGVjdGlvbiwgY2FsbGJhY2ssIGFjY3VtdWxhdG9yLCB0aGlzQXJnKSB7XG4gICAgICB2YXIgbm9hY2N1bSA9IGFyZ3VtZW50cy5sZW5ndGggPCAzO1xuICAgICAgY2FsbGJhY2sgPSBsb2Rhc2guY3JlYXRlQ2FsbGJhY2soY2FsbGJhY2ssIHRoaXNBcmcsIDQpO1xuXG4gICAgICBpZiAoaXNBcnJheShjb2xsZWN0aW9uKSkge1xuICAgICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICAgIGxlbmd0aCA9IGNvbGxlY3Rpb24ubGVuZ3RoO1xuXG4gICAgICAgIGlmIChub2FjY3VtKSB7XG4gICAgICAgICAgYWNjdW11bGF0b3IgPSBjb2xsZWN0aW9uWysraW5kZXhdO1xuICAgICAgICB9XG4gICAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgYWNjdW11bGF0b3IgPSBjYWxsYmFjayhhY2N1bXVsYXRvciwgY29sbGVjdGlvbltpbmRleF0sIGluZGV4LCBjb2xsZWN0aW9uKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYmFzZUVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgICAgYWNjdW11bGF0b3IgPSBub2FjY3VtXG4gICAgICAgICAgICA/IChub2FjY3VtID0gZmFsc2UsIHZhbHVlKVxuICAgICAgICAgICAgOiBjYWxsYmFjayhhY2N1bXVsYXRvciwgdmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhY2N1bXVsYXRvcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnJlZHVjZWAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBlbGVtZW50c1xuICAgICAqIG9mIGEgYGNvbGxlY3Rpb25gIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBhbGlhcyBmb2xkclxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uc1xuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fHN0cmluZ30gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NhbGxiYWNrPWlkZW50aXR5XSBUaGUgZnVuY3Rpb24gY2FsbGVkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHsqfSBbYWNjdW11bGF0b3JdIEluaXRpYWwgdmFsdWUgb2YgdGhlIGFjY3VtdWxhdG9yLlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgY2FsbGJhY2tgLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBhY2N1bXVsYXRlZCB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGxpc3QgPSBbWzAsIDFdLCBbMiwgM10sIFs0LCA1XV07XG4gICAgICogdmFyIGZsYXQgPSBfLnJlZHVjZVJpZ2h0KGxpc3QsIGZ1bmN0aW9uKGEsIGIpIHsgcmV0dXJuIGEuY29uY2F0KGIpOyB9LCBbXSk7XG4gICAgICogLy8gPT4gWzQsIDUsIDIsIDMsIDAsIDFdXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVkdWNlUmlnaHQoY29sbGVjdGlvbiwgY2FsbGJhY2ssIGFjY3VtdWxhdG9yLCB0aGlzQXJnKSB7XG4gICAgICB2YXIgbm9hY2N1bSA9IGFyZ3VtZW50cy5sZW5ndGggPCAzO1xuICAgICAgY2FsbGJhY2sgPSBsb2Rhc2guY3JlYXRlQ2FsbGJhY2soY2FsbGJhY2ssIHRoaXNBcmcsIDQpO1xuICAgICAgZm9yRWFjaFJpZ2h0KGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikge1xuICAgICAgICBhY2N1bXVsYXRvciA9IG5vYWNjdW1cbiAgICAgICAgICA/IChub2FjY3VtID0gZmFsc2UsIHZhbHVlKVxuICAgICAgICAgIDogY2FsbGJhY2soYWNjdW11bGF0b3IsIHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbik7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBhY2N1bXVsYXRvcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3Bwb3NpdGUgb2YgYF8uZmlsdGVyYCB0aGlzIG1ldGhvZCByZXR1cm5zIHRoZSBlbGVtZW50cyBvZiBhXG4gICAgICogY29sbGVjdGlvbiB0aGF0IHRoZSBjYWxsYmFjayBkb2VzICoqbm90KiogcmV0dXJuIHRydWV5IGZvci5cbiAgICAgKlxuICAgICAqIElmIGEgcHJvcGVydHkgbmFtZSBpcyBwcm92aWRlZCBmb3IgYGNhbGxiYWNrYCB0aGUgY3JlYXRlZCBcIl8ucGx1Y2tcIiBzdHlsZVxuICAgICAqIGNhbGxiYWNrIHdpbGwgcmV0dXJuIHRoZSBwcm9wZXJ0eSB2YWx1ZSBvZiB0aGUgZ2l2ZW4gZWxlbWVudC5cbiAgICAgKlxuICAgICAqIElmIGFuIG9iamVjdCBpcyBwcm92aWRlZCBmb3IgYGNhbGxiYWNrYCB0aGUgY3JlYXRlZCBcIl8ud2hlcmVcIiBzdHlsZSBjYWxsYmFja1xuICAgICAqIHdpbGwgcmV0dXJuIGB0cnVlYCBmb3IgZWxlbWVudHMgdGhhdCBoYXZlIHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBnaXZlbiBvYmplY3QsXG4gICAgICogZWxzZSBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25zXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R8c3RyaW5nfSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufE9iamVjdHxzdHJpbmd9IFtjYWxsYmFjaz1pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGNhbGxlZFxuICAgICAqICBwZXIgaXRlcmF0aW9uLiBJZiBhIHByb3BlcnR5IG5hbWUgb3Igb2JqZWN0IGlzIHByb3ZpZGVkIGl0IHdpbGwgYmUgdXNlZFxuICAgICAqICB0byBjcmVhdGUgYSBcIl8ucGx1Y2tcIiBvciBcIl8ud2hlcmVcIiBzdHlsZSBjYWxsYmFjaywgcmVzcGVjdGl2ZWx5LlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgY2FsbGJhY2tgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBhIG5ldyBhcnJheSBvZiBlbGVtZW50cyB0aGF0IGZhaWxlZCB0aGUgY2FsbGJhY2sgY2hlY2suXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvZGRzID0gXy5yZWplY3QoWzEsIDIsIDMsIDQsIDUsIDZdLCBmdW5jdGlvbihudW0pIHsgcmV0dXJuIG51bSAlIDIgPT0gMDsgfSk7XG4gICAgICogLy8gPT4gWzEsIDMsIDVdXG4gICAgICpcbiAgICAgKiB2YXIgY2hhcmFjdGVycyA9IFtcbiAgICAgKiAgIHsgJ25hbWUnOiAnYmFybmV5JywgJ2FnZSc6IDM2LCAnYmxvY2tlZCc6IGZhbHNlIH0sXG4gICAgICogICB7ICduYW1lJzogJ2ZyZWQnLCAgICdhZ2UnOiA0MCwgJ2Jsb2NrZWQnOiB0cnVlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogLy8gdXNpbmcgXCJfLnBsdWNrXCIgY2FsbGJhY2sgc2hvcnRoYW5kXG4gICAgICogXy5yZWplY3QoY2hhcmFjdGVycywgJ2Jsb2NrZWQnKTtcbiAgICAgKiAvLyA9PiBbeyAnbmFtZSc6ICdiYXJuZXknLCAnYWdlJzogMzYsICdibG9ja2VkJzogZmFsc2UgfV1cbiAgICAgKlxuICAgICAqIC8vIHVzaW5nIFwiXy53aGVyZVwiIGNhbGxiYWNrIHNob3J0aGFuZFxuICAgICAqIF8ucmVqZWN0KGNoYXJhY3RlcnMsIHsgJ2FnZSc6IDM2IH0pO1xuICAgICAqIC8vID0+IFt7ICduYW1lJzogJ2ZyZWQnLCAnYWdlJzogNDAsICdibG9ja2VkJzogdHJ1ZSB9XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlamVjdChjb2xsZWN0aW9uLCBjYWxsYmFjaywgdGhpc0FyZykge1xuICAgICAgY2FsbGJhY2sgPSBsb2Rhc2guY3JlYXRlQ2FsbGJhY2soY2FsbGJhY2ssIHRoaXNBcmcsIDMpO1xuICAgICAgcmV0dXJuIGZpbHRlcihjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuICFjYWxsYmFjayh2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIGEgcmFuZG9tIGVsZW1lbnQgb3IgYG5gIHJhbmRvbSBlbGVtZW50cyBmcm9tIGEgY29sbGVjdGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uc1xuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fHN0cmluZ30gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBzYW1wbGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtuXSBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIHNhbXBsZS5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gQWxsb3dzIHdvcmtpbmcgd2l0aCBmdW5jdGlvbnMgbGlrZSBgXy5tYXBgXG4gICAgICogIHdpdGhvdXQgdXNpbmcgdGhlaXIgYGluZGV4YCBhcmd1bWVudHMgYXMgYG5gLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgcmFuZG9tIHNhbXBsZShzKSBvZiBgY29sbGVjdGlvbmAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc2FtcGxlKFsxLCAyLCAzLCA0XSk7XG4gICAgICogLy8gPT4gMlxuICAgICAqXG4gICAgICogXy5zYW1wbGUoWzEsIDIsIDMsIDRdLCAyKTtcbiAgICAgKiAvLyA9PiBbMywgMV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzYW1wbGUoY29sbGVjdGlvbiwgbiwgZ3VhcmQpIHtcbiAgICAgIGlmIChjb2xsZWN0aW9uICYmIHR5cGVvZiBjb2xsZWN0aW9uLmxlbmd0aCAhPSAnbnVtYmVyJykge1xuICAgICAgICBjb2xsZWN0aW9uID0gdmFsdWVzKGNvbGxlY3Rpb24pO1xuICAgICAgfSBlbHNlIGlmIChzdXBwb3J0LnVuaW5kZXhlZENoYXJzICYmIGlzU3RyaW5nKGNvbGxlY3Rpb24pKSB7XG4gICAgICAgIGNvbGxlY3Rpb24gPSBjb2xsZWN0aW9uLnNwbGl0KCcnKTtcbiAgICAgIH1cbiAgICAgIGlmIChuID09IG51bGwgfHwgZ3VhcmQpIHtcbiAgICAgICAgcmV0dXJuIGNvbGxlY3Rpb24gPyBjb2xsZWN0aW9uW2Jhc2VSYW5kb20oMCwgY29sbGVjdGlvbi5sZW5ndGggLSAxKV0gOiB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICB2YXIgcmVzdWx0ID0gc2h1ZmZsZShjb2xsZWN0aW9uKTtcbiAgICAgIHJlc3VsdC5sZW5ndGggPSBuYXRpdmVNaW4obmF0aXZlTWF4KDAsIG4pLCByZXN1bHQubGVuZ3RoKTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBzaHVmZmxlZCB2YWx1ZXMsIHVzaW5nIGEgdmVyc2lvbiBvZiB0aGUgRmlzaGVyLVlhdGVzXG4gICAgICogc2h1ZmZsZS4gU2VlIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvRmlzaGVyLVlhdGVzX3NodWZmbGUuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvbnNcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdHxzdHJpbmd9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gc2h1ZmZsZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYSBuZXcgc2h1ZmZsZWQgY29sbGVjdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zaHVmZmxlKFsxLCAyLCAzLCA0LCA1LCA2XSk7XG4gICAgICogLy8gPT4gWzQsIDEsIDYsIDMsIDUsIDJdXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2h1ZmZsZShjb2xsZWN0aW9uKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBjb2xsZWN0aW9uID8gY29sbGVjdGlvbi5sZW5ndGggOiAwLFxuICAgICAgICAgIHJlc3VsdCA9IEFycmF5KHR5cGVvZiBsZW5ndGggPT0gJ251bWJlcicgPyBsZW5ndGggOiAwKTtcblxuICAgICAgZm9yRWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICB2YXIgcmFuZCA9IGJhc2VSYW5kb20oMCwgKytpbmRleCk7XG4gICAgICAgIHJlc3VsdFtpbmRleF0gPSByZXN1bHRbcmFuZF07XG4gICAgICAgIHJlc3VsdFtyYW5kXSA9IHZhbHVlO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHNpemUgb2YgdGhlIGBjb2xsZWN0aW9uYCBieSByZXR1cm5pbmcgYGNvbGxlY3Rpb24ubGVuZ3RoYCBmb3IgYXJyYXlzXG4gICAgICogYW5kIGFycmF5LWxpa2Ugb2JqZWN0cyBvciB0aGUgbnVtYmVyIG9mIG93biBlbnVtZXJhYmxlIHByb3BlcnRpZXMgZm9yIG9iamVjdHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvbnNcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdHxzdHJpbmd9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIGBjb2xsZWN0aW9uLmxlbmd0aGAgb3IgbnVtYmVyIG9mIG93biBlbnVtZXJhYmxlIHByb3BlcnRpZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc2l6ZShbMSwgMl0pO1xuICAgICAqIC8vID0+IDJcbiAgICAgKlxuICAgICAqIF8uc2l6ZSh7ICdvbmUnOiAxLCAndHdvJzogMiwgJ3RocmVlJzogMyB9KTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICpcbiAgICAgKiBfLnNpemUoJ3BlYmJsZXMnKTtcbiAgICAgKiAvLyA9PiA3XG4gICAgICovXG4gICAgZnVuY3Rpb24gc2l6ZShjb2xsZWN0aW9uKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gY29sbGVjdGlvbiA/IGNvbGxlY3Rpb24ubGVuZ3RoIDogMDtcbiAgICAgIHJldHVybiB0eXBlb2YgbGVuZ3RoID09ICdudW1iZXInID8gbGVuZ3RoIDoga2V5cyhjb2xsZWN0aW9uKS5sZW5ndGg7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIHRoZSBjYWxsYmFjayByZXR1cm5zIGEgdHJ1ZXkgdmFsdWUgZm9yICoqYW55KiogZWxlbWVudCBvZiBhXG4gICAgICogY29sbGVjdGlvbi4gVGhlIGZ1bmN0aW9uIHJldHVybnMgYXMgc29vbiBhcyBpdCBmaW5kcyBhIHBhc3NpbmcgdmFsdWUgYW5kXG4gICAgICogZG9lcyBub3QgaXRlcmF0ZSBvdmVyIHRoZSBlbnRpcmUgY29sbGVjdGlvbi4gVGhlIGNhbGxiYWNrIGlzIGJvdW5kIHRvXG4gICAgICogYHRoaXNBcmdgIGFuZCBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzOyAodmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG4gICAgICpcbiAgICAgKiBJZiBhIHByb3BlcnR5IG5hbWUgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLnBsdWNrXCIgc3R5bGVcbiAgICAgKiBjYWxsYmFjayB3aWxsIHJldHVybiB0aGUgcHJvcGVydHkgdmFsdWUgb2YgdGhlIGdpdmVuIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBJZiBhbiBvYmplY3QgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLndoZXJlXCIgc3R5bGUgY2FsbGJhY2tcbiAgICAgKiB3aWxsIHJldHVybiBgdHJ1ZWAgZm9yIGVsZW1lbnRzIHRoYXQgaGF2ZSB0aGUgcHJvcGVydGllcyBvZiB0aGUgZ2l2ZW4gb2JqZWN0LFxuICAgICAqIGVsc2UgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBhbGlhcyBhbnlcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvbnNcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdHxzdHJpbmd9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258T2JqZWN0fHN0cmluZ30gW2NhbGxiYWNrPWlkZW50aXR5XSBUaGUgZnVuY3Rpb24gY2FsbGVkXG4gICAgICogIHBlciBpdGVyYXRpb24uIElmIGEgcHJvcGVydHkgbmFtZSBvciBvYmplY3QgaXMgcHJvdmlkZWQgaXQgd2lsbCBiZSB1c2VkXG4gICAgICogIHRvIGNyZWF0ZSBhIFwiXy5wbHVja1wiIG9yIFwiXy53aGVyZVwiIHN0eWxlIGNhbGxiYWNrLCByZXNwZWN0aXZlbHkuXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBjYWxsYmFja2AuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFueSBlbGVtZW50IHBhc3NlZCB0aGUgY2FsbGJhY2sgY2hlY2ssXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zb21lKFtudWxsLCAwLCAneWVzJywgZmFsc2VdLCBCb29sZWFuKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiB2YXIgY2hhcmFjdGVycyA9IFtcbiAgICAgKiAgIHsgJ25hbWUnOiAnYmFybmV5JywgJ2FnZSc6IDM2LCAnYmxvY2tlZCc6IGZhbHNlIH0sXG4gICAgICogICB7ICduYW1lJzogJ2ZyZWQnLCAgICdhZ2UnOiA0MCwgJ2Jsb2NrZWQnOiB0cnVlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogLy8gdXNpbmcgXCJfLnBsdWNrXCIgY2FsbGJhY2sgc2hvcnRoYW5kXG4gICAgICogXy5zb21lKGNoYXJhY3RlcnMsICdibG9ja2VkJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogLy8gdXNpbmcgXCJfLndoZXJlXCIgY2FsbGJhY2sgc2hvcnRoYW5kXG4gICAgICogXy5zb21lKGNoYXJhY3RlcnMsIHsgJ2FnZSc6IDEgfSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzb21lKGNvbGxlY3Rpb24sIGNhbGxiYWNrLCB0aGlzQXJnKSB7XG4gICAgICB2YXIgcmVzdWx0O1xuICAgICAgY2FsbGJhY2sgPSBsb2Rhc2guY3JlYXRlQ2FsbGJhY2soY2FsbGJhY2ssIHRoaXNBcmcsIDMpO1xuXG4gICAgICBpZiAoaXNBcnJheShjb2xsZWN0aW9uKSkge1xuICAgICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICAgIGxlbmd0aCA9IGNvbGxlY3Rpb24ubGVuZ3RoO1xuXG4gICAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgaWYgKChyZXN1bHQgPSBjYWxsYmFjayhjb2xsZWN0aW9uW2luZGV4XSwgaW5kZXgsIGNvbGxlY3Rpb24pKSkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBiYXNlRWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pIHtcbiAgICAgICAgICByZXR1cm4gIShyZXN1bHQgPSBjYWxsYmFjayh2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gISFyZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBlbGVtZW50cywgc29ydGVkIGluIGFzY2VuZGluZyBvcmRlciBieSB0aGUgcmVzdWx0cyBvZlxuICAgICAqIHJ1bm5pbmcgZWFjaCBlbGVtZW50IGluIGEgY29sbGVjdGlvbiB0aHJvdWdoIHRoZSBjYWxsYmFjay4gVGhpcyBtZXRob2RcbiAgICAgKiBwZXJmb3JtcyBhIHN0YWJsZSBzb3J0LCB0aGF0IGlzLCBpdCB3aWxsIHByZXNlcnZlIHRoZSBvcmlnaW5hbCBzb3J0IG9yZGVyXG4gICAgICogb2YgZXF1YWwgZWxlbWVudHMuIFRoZSBjYWxsYmFjayBpcyBib3VuZCB0byBgdGhpc0FyZ2AgYW5kIGludm9rZWQgd2l0aFxuICAgICAqIHRocmVlIGFyZ3VtZW50czsgKHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICAgICAqXG4gICAgICogSWYgYSBwcm9wZXJ0eSBuYW1lIGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy5wbHVja1wiIHN0eWxlXG4gICAgICogY2FsbGJhY2sgd2lsbCByZXR1cm4gdGhlIHByb3BlcnR5IHZhbHVlIG9mIHRoZSBnaXZlbiBlbGVtZW50LlxuICAgICAqXG4gICAgICogSWYgYW4gYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNvbGxlY3Rpb25cbiAgICAgKiB3aWxsIGJlIHNvcnRlZCBieSBlYWNoIHByb3BlcnR5IHZhbHVlLlxuICAgICAqXG4gICAgICogSWYgYW4gb2JqZWN0IGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy53aGVyZVwiIHN0eWxlIGNhbGxiYWNrXG4gICAgICogd2lsbCByZXR1cm4gYHRydWVgIGZvciBlbGVtZW50cyB0aGF0IGhhdmUgdGhlIHByb3BlcnRpZXMgb2YgdGhlIGdpdmVuIG9iamVjdCxcbiAgICAgKiBlbHNlIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvbnNcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdHxzdHJpbmd9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7QXJyYXl8RnVuY3Rpb258T2JqZWN0fHN0cmluZ30gW2NhbGxiYWNrPWlkZW50aXR5XSBUaGUgZnVuY3Rpb24gY2FsbGVkXG4gICAgICogIHBlciBpdGVyYXRpb24uIElmIGEgcHJvcGVydHkgbmFtZSBvciBvYmplY3QgaXMgcHJvdmlkZWQgaXQgd2lsbCBiZSB1c2VkXG4gICAgICogIHRvIGNyZWF0ZSBhIFwiXy5wbHVja1wiIG9yIFwiXy53aGVyZVwiIHN0eWxlIGNhbGxiYWNrLCByZXNwZWN0aXZlbHkuXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBjYWxsYmFja2AuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGEgbmV3IGFycmF5IG9mIHNvcnRlZCBlbGVtZW50cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zb3J0QnkoWzEsIDIsIDNdLCBmdW5jdGlvbihudW0pIHsgcmV0dXJuIE1hdGguc2luKG51bSk7IH0pO1xuICAgICAqIC8vID0+IFszLCAxLCAyXVxuICAgICAqXG4gICAgICogXy5zb3J0QnkoWzEsIDIsIDNdLCBmdW5jdGlvbihudW0pIHsgcmV0dXJuIHRoaXMuc2luKG51bSk7IH0sIE1hdGgpO1xuICAgICAqIC8vID0+IFszLCAxLCAyXVxuICAgICAqXG4gICAgICogdmFyIGNoYXJhY3RlcnMgPSBbXG4gICAgICogICB7ICduYW1lJzogJ2Jhcm5leScsICAnYWdlJzogMzYgfSxcbiAgICAgKiAgIHsgJ25hbWUnOiAnZnJlZCcsICAgICdhZ2UnOiA0MCB9LFxuICAgICAqICAgeyAnbmFtZSc6ICdiYXJuZXknLCAgJ2FnZSc6IDI2IH0sXG4gICAgICogICB7ICduYW1lJzogJ2ZyZWQnLCAgICAnYWdlJzogMzAgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiAvLyB1c2luZyBcIl8ucGx1Y2tcIiBjYWxsYmFjayBzaG9ydGhhbmRcbiAgICAgKiBfLm1hcChfLnNvcnRCeShjaGFyYWN0ZXJzLCAnYWdlJyksIF8udmFsdWVzKTtcbiAgICAgKiAvLyA9PiBbWydiYXJuZXknLCAyNl0sIFsnZnJlZCcsIDMwXSwgWydiYXJuZXknLCAzNl0sIFsnZnJlZCcsIDQwXV1cbiAgICAgKlxuICAgICAqIC8vIHNvcnRpbmcgYnkgbXVsdGlwbGUgcHJvcGVydGllc1xuICAgICAqIF8ubWFwKF8uc29ydEJ5KGNoYXJhY3RlcnMsIFsnbmFtZScsICdhZ2UnXSksIF8udmFsdWVzKTtcbiAgICAgKiAvLyA9ID4gW1snYmFybmV5JywgMjZdLCBbJ2Jhcm5leScsIDM2XSwgWydmcmVkJywgMzBdLCBbJ2ZyZWQnLCA0MF1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gc29ydEJ5KGNvbGxlY3Rpb24sIGNhbGxiYWNrLCB0aGlzQXJnKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBpc0FyciA9IGlzQXJyYXkoY2FsbGJhY2spLFxuICAgICAgICAgIGxlbmd0aCA9IGNvbGxlY3Rpb24gPyBjb2xsZWN0aW9uLmxlbmd0aCA6IDAsXG4gICAgICAgICAgcmVzdWx0ID0gQXJyYXkodHlwZW9mIGxlbmd0aCA9PSAnbnVtYmVyJyA/IGxlbmd0aCA6IDApO1xuXG4gICAgICBpZiAoIWlzQXJyKSB7XG4gICAgICAgIGNhbGxiYWNrID0gbG9kYXNoLmNyZWF0ZUNhbGxiYWNrKGNhbGxiYWNrLCB0aGlzQXJnLCAzKTtcbiAgICAgIH1cbiAgICAgIGZvckVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGtleSwgY29sbGVjdGlvbikge1xuICAgICAgICB2YXIgb2JqZWN0ID0gcmVzdWx0WysraW5kZXhdID0gZ2V0T2JqZWN0KCk7XG4gICAgICAgIGlmIChpc0Fycikge1xuICAgICAgICAgIG9iamVjdC5jcml0ZXJpYSA9IG1hcChjYWxsYmFjaywgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAob2JqZWN0LmNyaXRlcmlhID0gZ2V0QXJyYXkoKSlbMF0gPSBjYWxsYmFjayh2YWx1ZSwga2V5LCBjb2xsZWN0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBvYmplY3QuaW5kZXggPSBpbmRleDtcbiAgICAgICAgb2JqZWN0LnZhbHVlID0gdmFsdWU7XG4gICAgICB9KTtcblxuICAgICAgbGVuZ3RoID0gcmVzdWx0Lmxlbmd0aDtcbiAgICAgIHJlc3VsdC5zb3J0KGNvbXBhcmVBc2NlbmRpbmcpO1xuICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgIHZhciBvYmplY3QgPSByZXN1bHRbbGVuZ3RoXTtcbiAgICAgICAgcmVzdWx0W2xlbmd0aF0gPSBvYmplY3QudmFsdWU7XG4gICAgICAgIGlmICghaXNBcnIpIHtcbiAgICAgICAgICByZWxlYXNlQXJyYXkob2JqZWN0LmNyaXRlcmlhKTtcbiAgICAgICAgfVxuICAgICAgICByZWxlYXNlT2JqZWN0KG9iamVjdCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIHRoZSBgY29sbGVjdGlvbmAgdG8gYW4gYXJyYXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvbnNcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdHxzdHJpbmd9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBjb252ZXJ0ZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIChmdW5jdGlvbigpIHsgcmV0dXJuIF8udG9BcnJheShhcmd1bWVudHMpLnNsaWNlKDEpOyB9KSgxLCAyLCAzLCA0KTtcbiAgICAgKiAvLyA9PiBbMiwgMywgNF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b0FycmF5KGNvbGxlY3Rpb24pIHtcbiAgICAgIGlmIChjb2xsZWN0aW9uICYmIHR5cGVvZiBjb2xsZWN0aW9uLmxlbmd0aCA9PSAnbnVtYmVyJykge1xuICAgICAgICByZXR1cm4gKHN1cHBvcnQudW5pbmRleGVkQ2hhcnMgJiYgaXNTdHJpbmcoY29sbGVjdGlvbikpXG4gICAgICAgICAgPyBjb2xsZWN0aW9uLnNwbGl0KCcnKVxuICAgICAgICAgIDogc2xpY2UoY29sbGVjdGlvbik7XG4gICAgICB9XG4gICAgICByZXR1cm4gdmFsdWVzKGNvbGxlY3Rpb24pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBlcmZvcm1zIGEgZGVlcCBjb21wYXJpc29uIG9mIGVhY2ggZWxlbWVudCBpbiBhIGBjb2xsZWN0aW9uYCB0byB0aGUgZ2l2ZW5cbiAgICAgKiBgcHJvcGVydGllc2Agb2JqZWN0LCByZXR1cm5pbmcgYW4gYXJyYXkgb2YgYWxsIGVsZW1lbnRzIHRoYXQgaGF2ZSBlcXVpdmFsZW50XG4gICAgICogcHJvcGVydHkgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHR5cGUgRnVuY3Rpb25cbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvbnNcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdHxzdHJpbmd9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wcyBUaGUgb2JqZWN0IG9mIHByb3BlcnR5IHZhbHVlcyB0byBmaWx0ZXIgYnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGEgbmV3IGFycmF5IG9mIGVsZW1lbnRzIHRoYXQgaGF2ZSB0aGUgZ2l2ZW4gcHJvcGVydGllcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGNoYXJhY3RlcnMgPSBbXG4gICAgICogICB7ICduYW1lJzogJ2Jhcm5leScsICdhZ2UnOiAzNiwgJ3BldHMnOiBbJ2hvcHB5J10gfSxcbiAgICAgKiAgIHsgJ25hbWUnOiAnZnJlZCcsICAgJ2FnZSc6IDQwLCAncGV0cyc6IFsnYmFieSBwdXNzJywgJ2Rpbm8nXSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8ud2hlcmUoY2hhcmFjdGVycywgeyAnYWdlJzogMzYgfSk7XG4gICAgICogLy8gPT4gW3sgJ25hbWUnOiAnYmFybmV5JywgJ2FnZSc6IDM2LCAncGV0cyc6IFsnaG9wcHknXSB9XVxuICAgICAqXG4gICAgICogXy53aGVyZShjaGFyYWN0ZXJzLCB7ICdwZXRzJzogWydkaW5vJ10gfSk7XG4gICAgICogLy8gPT4gW3sgJ25hbWUnOiAnZnJlZCcsICdhZ2UnOiA0MCwgJ3BldHMnOiBbJ2JhYnkgcHVzcycsICdkaW5vJ10gfV1cbiAgICAgKi9cbiAgICB2YXIgd2hlcmUgPSBmaWx0ZXI7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgd2l0aCBhbGwgZmFsc2V5IHZhbHVlcyByZW1vdmVkLiBUaGUgdmFsdWVzIGBmYWxzZWAsIGBudWxsYCxcbiAgICAgKiBgMGAsIGBcIlwiYCwgYHVuZGVmaW5lZGAsIGFuZCBgTmFOYCBhcmUgYWxsIGZhbHNleS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBBcnJheXNcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gY29tcGFjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYSBuZXcgYXJyYXkgb2YgZmlsdGVyZWQgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmNvbXBhY3QoWzAsIDEsIGZhbHNlLCAyLCAnJywgM10pO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbXBhY3QoYXJyYXkpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5ID8gYXJyYXkubGVuZ3RoIDogMCxcbiAgICAgICAgICByZXN1bHQgPSBbXTtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdO1xuICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBleGNsdWRpbmcgYWxsIHZhbHVlcyBvZiB0aGUgcHJvdmlkZWQgYXJyYXlzIHVzaW5nIHN0cmljdFxuICAgICAqIGVxdWFsaXR5IGZvciBjb21wYXJpc29ucywgaS5lLiBgPT09YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBBcnJheXNcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcHJvY2Vzcy5cbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbdmFsdWVzXSBUaGUgYXJyYXlzIG9mIHZhbHVlcyB0byBleGNsdWRlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBhIG5ldyBhcnJheSBvZiBmaWx0ZXJlZCB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZGlmZmVyZW5jZShbMSwgMiwgMywgNCwgNV0sIFs1LCAyLCAxMF0pO1xuICAgICAqIC8vID0+IFsxLCAzLCA0XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRpZmZlcmVuY2UoYXJyYXkpIHtcbiAgICAgIHJldHVybiBiYXNlRGlmZmVyZW5jZShhcnJheSwgYmFzZUZsYXR0ZW4oYXJndW1lbnRzLCB0cnVlLCB0cnVlLCAxKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5maW5kYCBleGNlcHQgdGhhdCBpdCByZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgZmlyc3RcbiAgICAgKiBlbGVtZW50IHRoYXQgcGFzc2VzIHRoZSBjYWxsYmFjayBjaGVjaywgaW5zdGVhZCBvZiB0aGUgZWxlbWVudCBpdHNlbGYuXG4gICAgICpcbiAgICAgKiBJZiBhIHByb3BlcnR5IG5hbWUgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLnBsdWNrXCIgc3R5bGVcbiAgICAgKiBjYWxsYmFjayB3aWxsIHJldHVybiB0aGUgcHJvcGVydHkgdmFsdWUgb2YgdGhlIGdpdmVuIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBJZiBhbiBvYmplY3QgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLndoZXJlXCIgc3R5bGUgY2FsbGJhY2tcbiAgICAgKiB3aWxsIHJldHVybiBgdHJ1ZWAgZm9yIGVsZW1lbnRzIHRoYXQgaGF2ZSB0aGUgcHJvcGVydGllcyBvZiB0aGUgZ2l2ZW4gb2JqZWN0LFxuICAgICAqIGVsc2UgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBBcnJheXNcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gc2VhcmNoLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258T2JqZWN0fHN0cmluZ30gW2NhbGxiYWNrPWlkZW50aXR5XSBUaGUgZnVuY3Rpb24gY2FsbGVkXG4gICAgICogIHBlciBpdGVyYXRpb24uIElmIGEgcHJvcGVydHkgbmFtZSBvciBvYmplY3QgaXMgcHJvdmlkZWQgaXQgd2lsbCBiZSB1c2VkXG4gICAgICogIHRvIGNyZWF0ZSBhIFwiXy5wbHVja1wiIG9yIFwiXy53aGVyZVwiIHN0eWxlIGNhbGxiYWNrLCByZXNwZWN0aXZlbHkuXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBjYWxsYmFja2AuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIGZvdW5kIGVsZW1lbnQsIGVsc2UgYC0xYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGNoYXJhY3RlcnMgPSBbXG4gICAgICogICB7ICduYW1lJzogJ2Jhcm5leScsICAnYWdlJzogMzYsICdibG9ja2VkJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ25hbWUnOiAnZnJlZCcsICAgICdhZ2UnOiA0MCwgJ2Jsb2NrZWQnOiB0cnVlIH0sXG4gICAgICogICB7ICduYW1lJzogJ3BlYmJsZXMnLCAnYWdlJzogMSwgICdibG9ja2VkJzogZmFsc2UgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmZpbmRJbmRleChjaGFyYWN0ZXJzLCBmdW5jdGlvbihjaHIpIHtcbiAgICAgKiAgIHJldHVybiBjaHIuYWdlIDwgMjA7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gMlxuICAgICAqXG4gICAgICogLy8gdXNpbmcgXCJfLndoZXJlXCIgY2FsbGJhY2sgc2hvcnRoYW5kXG4gICAgICogXy5maW5kSW5kZXgoY2hhcmFjdGVycywgeyAnYWdlJzogMzYgfSk7XG4gICAgICogLy8gPT4gMFxuICAgICAqXG4gICAgICogLy8gdXNpbmcgXCJfLnBsdWNrXCIgY2FsbGJhY2sgc2hvcnRoYW5kXG4gICAgICogXy5maW5kSW5kZXgoY2hhcmFjdGVycywgJ2Jsb2NrZWQnKTtcbiAgICAgKiAvLyA9PiAxXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmluZEluZGV4KGFycmF5LCBjYWxsYmFjaywgdGhpc0FyZykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXkgPyBhcnJheS5sZW5ndGggOiAwO1xuXG4gICAgICBjYWxsYmFjayA9IGxvZGFzaC5jcmVhdGVDYWxsYmFjayhjYWxsYmFjaywgdGhpc0FyZywgMyk7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICBpZiAoY2FsbGJhY2soYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpKSB7XG4gICAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5maW5kSW5kZXhgIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgZWxlbWVudHNcbiAgICAgKiBvZiBhIGBjb2xsZWN0aW9uYCBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICpcbiAgICAgKiBJZiBhIHByb3BlcnR5IG5hbWUgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLnBsdWNrXCIgc3R5bGVcbiAgICAgKiBjYWxsYmFjayB3aWxsIHJldHVybiB0aGUgcHJvcGVydHkgdmFsdWUgb2YgdGhlIGdpdmVuIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBJZiBhbiBvYmplY3QgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLndoZXJlXCIgc3R5bGUgY2FsbGJhY2tcbiAgICAgKiB3aWxsIHJldHVybiBgdHJ1ZWAgZm9yIGVsZW1lbnRzIHRoYXQgaGF2ZSB0aGUgcHJvcGVydGllcyBvZiB0aGUgZ2l2ZW4gb2JqZWN0LFxuICAgICAqIGVsc2UgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBBcnJheXNcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gc2VhcmNoLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258T2JqZWN0fHN0cmluZ30gW2NhbGxiYWNrPWlkZW50aXR5XSBUaGUgZnVuY3Rpb24gY2FsbGVkXG4gICAgICogIHBlciBpdGVyYXRpb24uIElmIGEgcHJvcGVydHkgbmFtZSBvciBvYmplY3QgaXMgcHJvdmlkZWQgaXQgd2lsbCBiZSB1c2VkXG4gICAgICogIHRvIGNyZWF0ZSBhIFwiXy5wbHVja1wiIG9yIFwiXy53aGVyZVwiIHN0eWxlIGNhbGxiYWNrLCByZXNwZWN0aXZlbHkuXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBjYWxsYmFja2AuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIGZvdW5kIGVsZW1lbnQsIGVsc2UgYC0xYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGNoYXJhY3RlcnMgPSBbXG4gICAgICogICB7ICduYW1lJzogJ2Jhcm5leScsICAnYWdlJzogMzYsICdibG9ja2VkJzogdHJ1ZSB9LFxuICAgICAqICAgeyAnbmFtZSc6ICdmcmVkJywgICAgJ2FnZSc6IDQwLCAnYmxvY2tlZCc6IGZhbHNlIH0sXG4gICAgICogICB7ICduYW1lJzogJ3BlYmJsZXMnLCAnYWdlJzogMSwgICdibG9ja2VkJzogdHJ1ZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8uZmluZExhc3RJbmRleChjaGFyYWN0ZXJzLCBmdW5jdGlvbihjaHIpIHtcbiAgICAgKiAgIHJldHVybiBjaHIuYWdlID4gMzA7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gMVxuICAgICAqXG4gICAgICogLy8gdXNpbmcgXCJfLndoZXJlXCIgY2FsbGJhY2sgc2hvcnRoYW5kXG4gICAgICogXy5maW5kTGFzdEluZGV4KGNoYXJhY3RlcnMsIHsgJ2FnZSc6IDM2IH0pO1xuICAgICAqIC8vID0+IDBcbiAgICAgKlxuICAgICAqIC8vIHVzaW5nIFwiXy5wbHVja1wiIGNhbGxiYWNrIHNob3J0aGFuZFxuICAgICAqIF8uZmluZExhc3RJbmRleChjaGFyYWN0ZXJzLCAnYmxvY2tlZCcpO1xuICAgICAqIC8vID0+IDJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmaW5kTGFzdEluZGV4KGFycmF5LCBjYWxsYmFjaywgdGhpc0FyZykge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID8gYXJyYXkubGVuZ3RoIDogMDtcbiAgICAgIGNhbGxiYWNrID0gbG9kYXNoLmNyZWF0ZUNhbGxiYWNrKGNhbGxiYWNrLCB0aGlzQXJnLCAzKTtcbiAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICBpZiAoY2FsbGJhY2soYXJyYXlbbGVuZ3RoXSwgbGVuZ3RoLCBhcnJheSkpIHtcbiAgICAgICAgICByZXR1cm4gbGVuZ3RoO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgZmlyc3QgZWxlbWVudCBvciBmaXJzdCBgbmAgZWxlbWVudHMgb2YgYW4gYXJyYXkuIElmIGEgY2FsbGJhY2tcbiAgICAgKiBpcyBwcm92aWRlZCBlbGVtZW50cyBhdCB0aGUgYmVnaW5uaW5nIG9mIHRoZSBhcnJheSBhcmUgcmV0dXJuZWQgYXMgbG9uZ1xuICAgICAqIGFzIHRoZSBjYWxsYmFjayByZXR1cm5zIHRydWV5LiBUaGUgY2FsbGJhY2sgaXMgYm91bmQgdG8gYHRoaXNBcmdgIGFuZFxuICAgICAqIGludm9rZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM7ICh2YWx1ZSwgaW5kZXgsIGFycmF5KS5cbiAgICAgKlxuICAgICAqIElmIGEgcHJvcGVydHkgbmFtZSBpcyBwcm92aWRlZCBmb3IgYGNhbGxiYWNrYCB0aGUgY3JlYXRlZCBcIl8ucGx1Y2tcIiBzdHlsZVxuICAgICAqIGNhbGxiYWNrIHdpbGwgcmV0dXJuIHRoZSBwcm9wZXJ0eSB2YWx1ZSBvZiB0aGUgZ2l2ZW4gZWxlbWVudC5cbiAgICAgKlxuICAgICAqIElmIGFuIG9iamVjdCBpcyBwcm92aWRlZCBmb3IgYGNhbGxiYWNrYCB0aGUgY3JlYXRlZCBcIl8ud2hlcmVcIiBzdHlsZSBjYWxsYmFja1xuICAgICAqIHdpbGwgcmV0dXJuIGB0cnVlYCBmb3IgZWxlbWVudHMgdGhhdCBoYXZlIHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBnaXZlbiBvYmplY3QsXG4gICAgICogZWxzZSBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGFsaWFzIGhlYWQsIHRha2VcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlzXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258T2JqZWN0fG51bWJlcnxzdHJpbmd9IFtjYWxsYmFja10gVGhlIGZ1bmN0aW9uIGNhbGxlZFxuICAgICAqICBwZXIgZWxlbWVudCBvciB0aGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIHJldHVybi4gSWYgYSBwcm9wZXJ0eSBuYW1lIG9yXG4gICAgICogIG9iamVjdCBpcyBwcm92aWRlZCBpdCB3aWxsIGJlIHVzZWQgdG8gY3JlYXRlIGEgXCJfLnBsdWNrXCIgb3IgXCJfLndoZXJlXCJcbiAgICAgKiAgc3R5bGUgY2FsbGJhY2ssIHJlc3BlY3RpdmVseS5cbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGNhbGxiYWNrYC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZmlyc3QgZWxlbWVudChzKSBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmZpcnN0KFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gMVxuICAgICAqXG4gICAgICogXy5maXJzdChbMSwgMiwgM10sIDIpO1xuICAgICAqIC8vID0+IFsxLCAyXVxuICAgICAqXG4gICAgICogXy5maXJzdChbMSwgMiwgM10sIGZ1bmN0aW9uKG51bSkge1xuICAgICAqICAgcmV0dXJuIG51bSA8IDM7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gWzEsIDJdXG4gICAgICpcbiAgICAgKiB2YXIgY2hhcmFjdGVycyA9IFtcbiAgICAgKiAgIHsgJ25hbWUnOiAnYmFybmV5JywgICdibG9ja2VkJzogdHJ1ZSwgICdlbXBsb3llcic6ICdzbGF0ZScgfSxcbiAgICAgKiAgIHsgJ25hbWUnOiAnZnJlZCcsICAgICdibG9ja2VkJzogZmFsc2UsICdlbXBsb3llcic6ICdzbGF0ZScgfSxcbiAgICAgKiAgIHsgJ25hbWUnOiAncGViYmxlcycsICdibG9ja2VkJzogdHJ1ZSwgICdlbXBsb3llcic6ICduYScgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiAvLyB1c2luZyBcIl8ucGx1Y2tcIiBjYWxsYmFjayBzaG9ydGhhbmRcbiAgICAgKiBfLmZpcnN0KGNoYXJhY3RlcnMsICdibG9ja2VkJyk7XG4gICAgICogLy8gPT4gW3sgJ25hbWUnOiAnYmFybmV5JywgJ2Jsb2NrZWQnOiB0cnVlLCAnZW1wbG95ZXInOiAnc2xhdGUnIH1dXG4gICAgICpcbiAgICAgKiAvLyB1c2luZyBcIl8ud2hlcmVcIiBjYWxsYmFjayBzaG9ydGhhbmRcbiAgICAgKiBfLnBsdWNrKF8uZmlyc3QoY2hhcmFjdGVycywgeyAnZW1wbG95ZXInOiAnc2xhdGUnIH0pLCAnbmFtZScpO1xuICAgICAqIC8vID0+IFsnYmFybmV5JywgJ2ZyZWQnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZpcnN0KGFycmF5LCBjYWxsYmFjaywgdGhpc0FyZykge1xuICAgICAgdmFyIG4gPSAwLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5ID8gYXJyYXkubGVuZ3RoIDogMDtcblxuICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayAhPSAnbnVtYmVyJyAmJiBjYWxsYmFjayAhPSBudWxsKSB7XG4gICAgICAgIHZhciBpbmRleCA9IC0xO1xuICAgICAgICBjYWxsYmFjayA9IGxvZGFzaC5jcmVhdGVDYWxsYmFjayhjYWxsYmFjaywgdGhpc0FyZywgMyk7XG4gICAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoICYmIGNhbGxiYWNrKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KSkge1xuICAgICAgICAgIG4rKztcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbiA9IGNhbGxiYWNrO1xuICAgICAgICBpZiAobiA9PSBudWxsIHx8IHRoaXNBcmcpIHtcbiAgICAgICAgICByZXR1cm4gYXJyYXkgPyBhcnJheVswXSA6IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHNsaWNlKGFycmF5LCAwLCBuYXRpdmVNaW4obmF0aXZlTWF4KDAsIG4pLCBsZW5ndGgpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGbGF0dGVucyBhIG5lc3RlZCBhcnJheSAodGhlIG5lc3RpbmcgY2FuIGJlIHRvIGFueSBkZXB0aCkuIElmIGBpc1NoYWxsb3dgXG4gICAgICogaXMgdHJ1ZXksIHRoZSBhcnJheSB3aWxsIG9ubHkgYmUgZmxhdHRlbmVkIGEgc2luZ2xlIGxldmVsLiBJZiBhIGNhbGxiYWNrXG4gICAgICogaXMgcHJvdmlkZWQgZWFjaCBlbGVtZW50IG9mIHRoZSBhcnJheSBpcyBwYXNzZWQgdGhyb3VnaCB0aGUgY2FsbGJhY2sgYmVmb3JlXG4gICAgICogZmxhdHRlbmluZy4gVGhlIGNhbGxiYWNrIGlzIGJvdW5kIHRvIGB0aGlzQXJnYCBhbmQgaW52b2tlZCB3aXRoIHRocmVlXG4gICAgICogYXJndW1lbnRzOyAodmFsdWUsIGluZGV4LCBhcnJheSkuXG4gICAgICpcbiAgICAgKiBJZiBhIHByb3BlcnR5IG5hbWUgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLnBsdWNrXCIgc3R5bGVcbiAgICAgKiBjYWxsYmFjayB3aWxsIHJldHVybiB0aGUgcHJvcGVydHkgdmFsdWUgb2YgdGhlIGdpdmVuIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBJZiBhbiBvYmplY3QgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLndoZXJlXCIgc3R5bGUgY2FsbGJhY2tcbiAgICAgKiB3aWxsIHJldHVybiBgdHJ1ZWAgZm9yIGVsZW1lbnRzIHRoYXQgaGF2ZSB0aGUgcHJvcGVydGllcyBvZiB0aGUgZ2l2ZW4gb2JqZWN0LFxuICAgICAqIGVsc2UgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBBcnJheXNcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gZmxhdHRlbi5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc1NoYWxsb3c9ZmFsc2VdIEEgZmxhZyB0byByZXN0cmljdCBmbGF0dGVuaW5nIHRvIGEgc2luZ2xlIGxldmVsLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258T2JqZWN0fHN0cmluZ30gW2NhbGxiYWNrPWlkZW50aXR5XSBUaGUgZnVuY3Rpb24gY2FsbGVkXG4gICAgICogIHBlciBpdGVyYXRpb24uIElmIGEgcHJvcGVydHkgbmFtZSBvciBvYmplY3QgaXMgcHJvdmlkZWQgaXQgd2lsbCBiZSB1c2VkXG4gICAgICogIHRvIGNyZWF0ZSBhIFwiXy5wbHVja1wiIG9yIFwiXy53aGVyZVwiIHN0eWxlIGNhbGxiYWNrLCByZXNwZWN0aXZlbHkuXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBjYWxsYmFja2AuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGEgbmV3IGZsYXR0ZW5lZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5mbGF0dGVuKFsxLCBbMl0sIFszLCBbWzRdXV1dKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgMywgNF07XG4gICAgICpcbiAgICAgKiBfLmZsYXR0ZW4oWzEsIFsyXSwgWzMsIFtbNF1dXV0sIHRydWUpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzLCBbWzRdXV07XG4gICAgICpcbiAgICAgKiB2YXIgY2hhcmFjdGVycyA9IFtcbiAgICAgKiAgIHsgJ25hbWUnOiAnYmFybmV5JywgJ2FnZSc6IDMwLCAncGV0cyc6IFsnaG9wcHknXSB9LFxuICAgICAqICAgeyAnbmFtZSc6ICdmcmVkJywgICAnYWdlJzogNDAsICdwZXRzJzogWydiYWJ5IHB1c3MnLCAnZGlubyddIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogLy8gdXNpbmcgXCJfLnBsdWNrXCIgY2FsbGJhY2sgc2hvcnRoYW5kXG4gICAgICogXy5mbGF0dGVuKGNoYXJhY3RlcnMsICdwZXRzJyk7XG4gICAgICogLy8gPT4gWydob3BweScsICdiYWJ5IHB1c3MnLCAnZGlubyddXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmxhdHRlbihhcnJheSwgaXNTaGFsbG93LCBjYWxsYmFjaywgdGhpc0FyZykge1xuICAgICAgLy8ganVnZ2xlIGFyZ3VtZW50c1xuICAgICAgaWYgKHR5cGVvZiBpc1NoYWxsb3cgIT0gJ2Jvb2xlYW4nICYmIGlzU2hhbGxvdyAhPSBudWxsKSB7XG4gICAgICAgIHRoaXNBcmcgPSBjYWxsYmFjaztcbiAgICAgICAgY2FsbGJhY2sgPSAodHlwZW9mIGlzU2hhbGxvdyAhPSAnZnVuY3Rpb24nICYmIHRoaXNBcmcgJiYgdGhpc0FyZ1tpc1NoYWxsb3ddID09PSBhcnJheSkgPyBudWxsIDogaXNTaGFsbG93O1xuICAgICAgICBpc1NoYWxsb3cgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlmIChjYWxsYmFjayAhPSBudWxsKSB7XG4gICAgICAgIGFycmF5ID0gbWFwKGFycmF5LCBjYWxsYmFjaywgdGhpc0FyZyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZUZsYXR0ZW4oYXJyYXksIGlzU2hhbGxvdyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgaW5kZXggYXQgd2hpY2ggdGhlIGZpcnN0IG9jY3VycmVuY2Ugb2YgYHZhbHVlYCBpcyBmb3VuZCB1c2luZ1xuICAgICAqIHN0cmljdCBlcXVhbGl0eSBmb3IgY29tcGFyaXNvbnMsIGkuZS4gYD09PWAuIElmIHRoZSBhcnJheSBpcyBhbHJlYWR5IHNvcnRlZFxuICAgICAqIHByb3ZpZGluZyBgdHJ1ZWAgZm9yIGBmcm9tSW5kZXhgIHdpbGwgcnVuIGEgZmFzdGVyIGJpbmFyeSBzZWFyY2guXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlzXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHNlYXJjaC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbnxudW1iZXJ9IFtmcm9tSW5kZXg9MF0gVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tIG9yIGB0cnVlYFxuICAgICAqICB0byBwZXJmb3JtIGEgYmluYXJ5IHNlYXJjaCBvbiBhIHNvcnRlZCBhcnJheS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSBvciBgLTFgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmluZGV4T2YoWzEsIDIsIDMsIDEsIDIsIDNdLCAyKTtcbiAgICAgKiAvLyA9PiAxXG4gICAgICpcbiAgICAgKiBfLmluZGV4T2YoWzEsIDIsIDMsIDEsIDIsIDNdLCAyLCAzKTtcbiAgICAgKiAvLyA9PiA0XG4gICAgICpcbiAgICAgKiBfLmluZGV4T2YoWzEsIDEsIDIsIDIsIDMsIDNdLCAyLCB0cnVlKTtcbiAgICAgKiAvLyA9PiAyXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5kZXhPZihhcnJheSwgdmFsdWUsIGZyb21JbmRleCkge1xuICAgICAgaWYgKHR5cGVvZiBmcm9tSW5kZXggPT0gJ251bWJlcicpIHtcbiAgICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID8gYXJyYXkubGVuZ3RoIDogMDtcbiAgICAgICAgZnJvbUluZGV4ID0gKGZyb21JbmRleCA8IDAgPyBuYXRpdmVNYXgoMCwgbGVuZ3RoICsgZnJvbUluZGV4KSA6IGZyb21JbmRleCB8fCAwKTtcbiAgICAgIH0gZWxzZSBpZiAoZnJvbUluZGV4KSB7XG4gICAgICAgIHZhciBpbmRleCA9IHNvcnRlZEluZGV4KGFycmF5LCB2YWx1ZSk7XG4gICAgICAgIHJldHVybiBhcnJheVtpbmRleF0gPT09IHZhbHVlID8gaW5kZXggOiAtMTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlSW5kZXhPZihhcnJheSwgdmFsdWUsIGZyb21JbmRleCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyBhbGwgYnV0IHRoZSBsYXN0IGVsZW1lbnQgb3IgbGFzdCBgbmAgZWxlbWVudHMgb2YgYW4gYXJyYXkuIElmIGFcbiAgICAgKiBjYWxsYmFjayBpcyBwcm92aWRlZCBlbGVtZW50cyBhdCB0aGUgZW5kIG9mIHRoZSBhcnJheSBhcmUgZXhjbHVkZWQgZnJvbVxuICAgICAqIHRoZSByZXN1bHQgYXMgbG9uZyBhcyB0aGUgY2FsbGJhY2sgcmV0dXJucyB0cnVleS4gVGhlIGNhbGxiYWNrIGlzIGJvdW5kXG4gICAgICogdG8gYHRoaXNBcmdgIGFuZCBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzOyAodmFsdWUsIGluZGV4LCBhcnJheSkuXG4gICAgICpcbiAgICAgKiBJZiBhIHByb3BlcnR5IG5hbWUgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLnBsdWNrXCIgc3R5bGVcbiAgICAgKiBjYWxsYmFjayB3aWxsIHJldHVybiB0aGUgcHJvcGVydHkgdmFsdWUgb2YgdGhlIGdpdmVuIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBJZiBhbiBvYmplY3QgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLndoZXJlXCIgc3R5bGUgY2FsbGJhY2tcbiAgICAgKiB3aWxsIHJldHVybiBgdHJ1ZWAgZm9yIGVsZW1lbnRzIHRoYXQgaGF2ZSB0aGUgcHJvcGVydGllcyBvZiB0aGUgZ2l2ZW4gb2JqZWN0LFxuICAgICAqIGVsc2UgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBBcnJheXNcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbnxPYmplY3R8bnVtYmVyfHN0cmluZ30gW2NhbGxiYWNrPTFdIFRoZSBmdW5jdGlvbiBjYWxsZWRcbiAgICAgKiAgcGVyIGVsZW1lbnQgb3IgdGhlIG51bWJlciBvZiBlbGVtZW50cyB0byBleGNsdWRlLiBJZiBhIHByb3BlcnR5IG5hbWUgb3JcbiAgICAgKiAgb2JqZWN0IGlzIHByb3ZpZGVkIGl0IHdpbGwgYmUgdXNlZCB0byBjcmVhdGUgYSBcIl8ucGx1Y2tcIiBvciBcIl8ud2hlcmVcIlxuICAgICAqICBzdHlsZSBjYWxsYmFjaywgcmVzcGVjdGl2ZWx5LlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgY2FsbGJhY2tgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBhIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaW5pdGlhbChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IFsxLCAyXVxuICAgICAqXG4gICAgICogXy5pbml0aWFsKFsxLCAyLCAzXSwgMik7XG4gICAgICogLy8gPT4gWzFdXG4gICAgICpcbiAgICAgKiBfLmluaXRpYWwoWzEsIDIsIDNdLCBmdW5jdGlvbihudW0pIHtcbiAgICAgKiAgIHJldHVybiBudW0gPiAxO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IFsxXVxuICAgICAqXG4gICAgICogdmFyIGNoYXJhY3RlcnMgPSBbXG4gICAgICogICB7ICduYW1lJzogJ2Jhcm5leScsICAnYmxvY2tlZCc6IGZhbHNlLCAnZW1wbG95ZXInOiAnc2xhdGUnIH0sXG4gICAgICogICB7ICduYW1lJzogJ2ZyZWQnLCAgICAnYmxvY2tlZCc6IHRydWUsICAnZW1wbG95ZXInOiAnc2xhdGUnIH0sXG4gICAgICogICB7ICduYW1lJzogJ3BlYmJsZXMnLCAnYmxvY2tlZCc6IHRydWUsICAnZW1wbG95ZXInOiAnbmEnIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogLy8gdXNpbmcgXCJfLnBsdWNrXCIgY2FsbGJhY2sgc2hvcnRoYW5kXG4gICAgICogXy5pbml0aWFsKGNoYXJhY3RlcnMsICdibG9ja2VkJyk7XG4gICAgICogLy8gPT4gW3sgJ25hbWUnOiAnYmFybmV5JywgICdibG9ja2VkJzogZmFsc2UsICdlbXBsb3llcic6ICdzbGF0ZScgfV1cbiAgICAgKlxuICAgICAqIC8vIHVzaW5nIFwiXy53aGVyZVwiIGNhbGxiYWNrIHNob3J0aGFuZFxuICAgICAqIF8ucGx1Y2soXy5pbml0aWFsKGNoYXJhY3RlcnMsIHsgJ2VtcGxveWVyJzogJ25hJyB9KSwgJ25hbWUnKTtcbiAgICAgKiAvLyA9PiBbJ2Jhcm5leScsICdmcmVkJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpbml0aWFsKGFycmF5LCBjYWxsYmFjaywgdGhpc0FyZykge1xuICAgICAgdmFyIG4gPSAwLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5ID8gYXJyYXkubGVuZ3RoIDogMDtcblxuICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayAhPSAnbnVtYmVyJyAmJiBjYWxsYmFjayAhPSBudWxsKSB7XG4gICAgICAgIHZhciBpbmRleCA9IGxlbmd0aDtcbiAgICAgICAgY2FsbGJhY2sgPSBsb2Rhc2guY3JlYXRlQ2FsbGJhY2soY2FsbGJhY2ssIHRoaXNBcmcsIDMpO1xuICAgICAgICB3aGlsZSAoaW5kZXgtLSAmJiBjYWxsYmFjayhhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSkpIHtcbiAgICAgICAgICBuKys7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG4gPSAoY2FsbGJhY2sgPT0gbnVsbCB8fCB0aGlzQXJnKSA/IDEgOiBjYWxsYmFjayB8fCBuO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHNsaWNlKGFycmF5LCAwLCBuYXRpdmVNaW4obmF0aXZlTWF4KDAsIGxlbmd0aCAtIG4pLCBsZW5ndGgpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHVuaXF1ZSB2YWx1ZXMgcHJlc2VudCBpbiBhbGwgcHJvdmlkZWQgYXJyYXlzIHVzaW5nXG4gICAgICogc3RyaWN0IGVxdWFsaXR5IGZvciBjb21wYXJpc29ucywgaS5lLiBgPT09YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBBcnJheXNcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXldIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYW4gYXJyYXkgb2Ygc2hhcmVkIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pbnRlcnNlY3Rpb24oWzEsIDIsIDNdLCBbNSwgMiwgMSwgNF0sIFsyLCAxXSk7XG4gICAgICogLy8gPT4gWzEsIDJdXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW50ZXJzZWN0aW9uKCkge1xuICAgICAgdmFyIGFyZ3MgPSBbXSxcbiAgICAgICAgICBhcmdzSW5kZXggPSAtMSxcbiAgICAgICAgICBhcmdzTGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aCxcbiAgICAgICAgICBjYWNoZXMgPSBnZXRBcnJheSgpLFxuICAgICAgICAgIGluZGV4T2YgPSBnZXRJbmRleE9mKCksXG4gICAgICAgICAgdHJ1c3RJbmRleE9mID0gaW5kZXhPZiA9PT0gYmFzZUluZGV4T2YsXG4gICAgICAgICAgc2VlbiA9IGdldEFycmF5KCk7XG5cbiAgICAgIHdoaWxlICgrK2FyZ3NJbmRleCA8IGFyZ3NMZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gYXJndW1lbnRzW2FyZ3NJbmRleF07XG4gICAgICAgIGlmIChpc0FycmF5KHZhbHVlKSB8fCBpc0FyZ3VtZW50cyh2YWx1ZSkpIHtcbiAgICAgICAgICBhcmdzLnB1c2godmFsdWUpO1xuICAgICAgICAgIGNhY2hlcy5wdXNoKHRydXN0SW5kZXhPZiAmJiB2YWx1ZS5sZW5ndGggPj0gbGFyZ2VBcnJheVNpemUgJiZcbiAgICAgICAgICAgIGNyZWF0ZUNhY2hlKGFyZ3NJbmRleCA/IGFyZ3NbYXJnc0luZGV4XSA6IHNlZW4pKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdmFyIGFycmF5ID0gYXJnc1swXSxcbiAgICAgICAgICBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5ID8gYXJyYXkubGVuZ3RoIDogMCxcbiAgICAgICAgICByZXN1bHQgPSBbXTtcblxuICAgICAgb3V0ZXI6XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgY2FjaGUgPSBjYWNoZXNbMF07XG4gICAgICAgIHZhbHVlID0gYXJyYXlbaW5kZXhdO1xuXG4gICAgICAgIGlmICgoY2FjaGUgPyBjYWNoZUluZGV4T2YoY2FjaGUsIHZhbHVlKSA6IGluZGV4T2Yoc2VlbiwgdmFsdWUpKSA8IDApIHtcbiAgICAgICAgICBhcmdzSW5kZXggPSBhcmdzTGVuZ3RoO1xuICAgICAgICAgIChjYWNoZSB8fCBzZWVuKS5wdXNoKHZhbHVlKTtcbiAgICAgICAgICB3aGlsZSAoLS1hcmdzSW5kZXgpIHtcbiAgICAgICAgICAgIGNhY2hlID0gY2FjaGVzW2FyZ3NJbmRleF07XG4gICAgICAgICAgICBpZiAoKGNhY2hlID8gY2FjaGVJbmRleE9mKGNhY2hlLCB2YWx1ZSkgOiBpbmRleE9mKGFyZ3NbYXJnc0luZGV4XSwgdmFsdWUpKSA8IDApIHtcbiAgICAgICAgICAgICAgY29udGludWUgb3V0ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgd2hpbGUgKGFyZ3NMZW5ndGgtLSkge1xuICAgICAgICBjYWNoZSA9IGNhY2hlc1thcmdzTGVuZ3RoXTtcbiAgICAgICAgaWYgKGNhY2hlKSB7XG4gICAgICAgICAgcmVsZWFzZU9iamVjdChjYWNoZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJlbGVhc2VBcnJheShjYWNoZXMpO1xuICAgICAgcmVsZWFzZUFycmF5KHNlZW4pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBsYXN0IGVsZW1lbnQgb3IgbGFzdCBgbmAgZWxlbWVudHMgb2YgYW4gYXJyYXkuIElmIGEgY2FsbGJhY2sgaXNcbiAgICAgKiBwcm92aWRlZCBlbGVtZW50cyBhdCB0aGUgZW5kIG9mIHRoZSBhcnJheSBhcmUgcmV0dXJuZWQgYXMgbG9uZyBhcyB0aGVcbiAgICAgKiBjYWxsYmFjayByZXR1cm5zIHRydWV5LiBUaGUgY2FsbGJhY2sgaXMgYm91bmQgdG8gYHRoaXNBcmdgIGFuZCBpbnZva2VkXG4gICAgICogd2l0aCB0aHJlZSBhcmd1bWVudHM7ICh2YWx1ZSwgaW5kZXgsIGFycmF5KS5cbiAgICAgKlxuICAgICAqIElmIGEgcHJvcGVydHkgbmFtZSBpcyBwcm92aWRlZCBmb3IgYGNhbGxiYWNrYCB0aGUgY3JlYXRlZCBcIl8ucGx1Y2tcIiBzdHlsZVxuICAgICAqIGNhbGxiYWNrIHdpbGwgcmV0dXJuIHRoZSBwcm9wZXJ0eSB2YWx1ZSBvZiB0aGUgZ2l2ZW4gZWxlbWVudC5cbiAgICAgKlxuICAgICAqIElmIGFuIG9iamVjdCBpcyBwcm92aWRlZCBmb3IgYGNhbGxiYWNrYCB0aGUgY3JlYXRlZCBcIl8ud2hlcmVcIiBzdHlsZSBjYWxsYmFja1xuICAgICAqIHdpbGwgcmV0dXJuIGB0cnVlYCBmb3IgZWxlbWVudHMgdGhhdCBoYXZlIHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBnaXZlbiBvYmplY3QsXG4gICAgICogZWxzZSBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IEFycmF5c1xuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufE9iamVjdHxudW1iZXJ8c3RyaW5nfSBbY2FsbGJhY2tdIFRoZSBmdW5jdGlvbiBjYWxsZWRcbiAgICAgKiAgcGVyIGVsZW1lbnQgb3IgdGhlIG51bWJlciBvZiBlbGVtZW50cyB0byByZXR1cm4uIElmIGEgcHJvcGVydHkgbmFtZSBvclxuICAgICAqICBvYmplY3QgaXMgcHJvdmlkZWQgaXQgd2lsbCBiZSB1c2VkIHRvIGNyZWF0ZSBhIFwiXy5wbHVja1wiIG9yIFwiXy53aGVyZVwiXG4gICAgICogIHN0eWxlIGNhbGxiYWNrLCByZXNwZWN0aXZlbHkuXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBjYWxsYmFja2AuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGxhc3QgZWxlbWVudChzKSBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmxhc3QoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICpcbiAgICAgKiBfLmxhc3QoWzEsIDIsIDNdLCAyKTtcbiAgICAgKiAvLyA9PiBbMiwgM11cbiAgICAgKlxuICAgICAqIF8ubGFzdChbMSwgMiwgM10sIGZ1bmN0aW9uKG51bSkge1xuICAgICAqICAgcmV0dXJuIG51bSA+IDE7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gWzIsIDNdXG4gICAgICpcbiAgICAgKiB2YXIgY2hhcmFjdGVycyA9IFtcbiAgICAgKiAgIHsgJ25hbWUnOiAnYmFybmV5JywgICdibG9ja2VkJzogZmFsc2UsICdlbXBsb3llcic6ICdzbGF0ZScgfSxcbiAgICAgKiAgIHsgJ25hbWUnOiAnZnJlZCcsICAgICdibG9ja2VkJzogdHJ1ZSwgICdlbXBsb3llcic6ICdzbGF0ZScgfSxcbiAgICAgKiAgIHsgJ25hbWUnOiAncGViYmxlcycsICdibG9ja2VkJzogdHJ1ZSwgICdlbXBsb3llcic6ICduYScgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiAvLyB1c2luZyBcIl8ucGx1Y2tcIiBjYWxsYmFjayBzaG9ydGhhbmRcbiAgICAgKiBfLnBsdWNrKF8ubGFzdChjaGFyYWN0ZXJzLCAnYmxvY2tlZCcpLCAnbmFtZScpO1xuICAgICAqIC8vID0+IFsnZnJlZCcsICdwZWJibGVzJ11cbiAgICAgKlxuICAgICAqIC8vIHVzaW5nIFwiXy53aGVyZVwiIGNhbGxiYWNrIHNob3J0aGFuZFxuICAgICAqIF8ubGFzdChjaGFyYWN0ZXJzLCB7ICdlbXBsb3llcic6ICduYScgfSk7XG4gICAgICogLy8gPT4gW3sgJ25hbWUnOiAncGViYmxlcycsICdibG9ja2VkJzogdHJ1ZSwgJ2VtcGxveWVyJzogJ25hJyB9XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxhc3QoYXJyYXksIGNhbGxiYWNrLCB0aGlzQXJnKSB7XG4gICAgICB2YXIgbiA9IDAsXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXkgPyBhcnJheS5sZW5ndGggOiAwO1xuXG4gICAgICBpZiAodHlwZW9mIGNhbGxiYWNrICE9ICdudW1iZXInICYmIGNhbGxiYWNrICE9IG51bGwpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gbGVuZ3RoO1xuICAgICAgICBjYWxsYmFjayA9IGxvZGFzaC5jcmVhdGVDYWxsYmFjayhjYWxsYmFjaywgdGhpc0FyZywgMyk7XG4gICAgICAgIHdoaWxlIChpbmRleC0tICYmIGNhbGxiYWNrKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KSkge1xuICAgICAgICAgIG4rKztcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbiA9IGNhbGxiYWNrO1xuICAgICAgICBpZiAobiA9PSBudWxsIHx8IHRoaXNBcmcpIHtcbiAgICAgICAgICByZXR1cm4gYXJyYXkgPyBhcnJheVtsZW5ndGggLSAxXSA6IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHNsaWNlKGFycmF5LCBuYXRpdmVNYXgoMCwgbGVuZ3RoIC0gbikpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGluZGV4IGF0IHdoaWNoIHRoZSBsYXN0IG9jY3VycmVuY2Ugb2YgYHZhbHVlYCBpcyBmb3VuZCB1c2luZyBzdHJpY3RcbiAgICAgKiBlcXVhbGl0eSBmb3IgY29tcGFyaXNvbnMsIGkuZS4gYD09PWAuIElmIGBmcm9tSW5kZXhgIGlzIG5lZ2F0aXZlLCBpdCBpcyB1c2VkXG4gICAgICogYXMgdGhlIG9mZnNldCBmcm9tIHRoZSBlbmQgb2YgdGhlIGNvbGxlY3Rpb24uXG4gICAgICpcbiAgICAgKiBJZiBhIHByb3BlcnR5IG5hbWUgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLnBsdWNrXCIgc3R5bGVcbiAgICAgKiBjYWxsYmFjayB3aWxsIHJldHVybiB0aGUgcHJvcGVydHkgdmFsdWUgb2YgdGhlIGdpdmVuIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBJZiBhbiBvYmplY3QgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLndoZXJlXCIgc3R5bGUgY2FsbGJhY2tcbiAgICAgKiB3aWxsIHJldHVybiBgdHJ1ZWAgZm9yIGVsZW1lbnRzIHRoYXQgaGF2ZSB0aGUgcHJvcGVydGllcyBvZiB0aGUgZ2l2ZW4gb2JqZWN0LFxuICAgICAqIGVsc2UgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBBcnJheXNcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gc2VhcmNoLlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtmcm9tSW5kZXg9YXJyYXkubGVuZ3RoLTFdIFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSBvciBgLTFgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmxhc3RJbmRleE9mKFsxLCAyLCAzLCAxLCAyLCAzXSwgMik7XG4gICAgICogLy8gPT4gNFxuICAgICAqXG4gICAgICogXy5sYXN0SW5kZXhPZihbMSwgMiwgMywgMSwgMiwgM10sIDIsIDMpO1xuICAgICAqIC8vID0+IDFcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsYXN0SW5kZXhPZihhcnJheSwgdmFsdWUsIGZyb21JbmRleCkge1xuICAgICAgdmFyIGluZGV4ID0gYXJyYXkgPyBhcnJheS5sZW5ndGggOiAwO1xuICAgICAgaWYgKHR5cGVvZiBmcm9tSW5kZXggPT0gJ251bWJlcicpIHtcbiAgICAgICAgaW5kZXggPSAoZnJvbUluZGV4IDwgMCA/IG5hdGl2ZU1heCgwLCBpbmRleCArIGZyb21JbmRleCkgOiBuYXRpdmVNaW4oZnJvbUluZGV4LCBpbmRleCAtIDEpKSArIDE7XG4gICAgICB9XG4gICAgICB3aGlsZSAoaW5kZXgtLSkge1xuICAgICAgICBpZiAoYXJyYXlbaW5kZXhdID09PSB2YWx1ZSkge1xuICAgICAgICAgIHJldHVybiBpbmRleDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIC0xO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIHByb3ZpZGVkIHZhbHVlcyBmcm9tIHRoZSBnaXZlbiBhcnJheSB1c2luZyBzdHJpY3QgZXF1YWxpdHkgZm9yXG4gICAgICogY29tcGFyaXNvbnMsIGkuZS4gYD09PWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlzXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0gey4uLip9IFt2YWx1ZV0gVGhlIHZhbHVlcyB0byByZW1vdmUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsxLCAyLCAzLCAxLCAyLCAzXTtcbiAgICAgKiBfLnB1bGwoYXJyYXksIDIsIDMpO1xuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbMSwgMV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwdWxsKGFycmF5KSB7XG4gICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cyxcbiAgICAgICAgICBhcmdzSW5kZXggPSAwLFxuICAgICAgICAgIGFyZ3NMZW5ndGggPSBhcmdzLmxlbmd0aCxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheSA/IGFycmF5Lmxlbmd0aCA6IDA7XG5cbiAgICAgIHdoaWxlICgrK2FyZ3NJbmRleCA8IGFyZ3NMZW5ndGgpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgICB2YWx1ZSA9IGFyZ3NbYXJnc0luZGV4XTtcbiAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICBpZiAoYXJyYXlbaW5kZXhdID09PSB2YWx1ZSkge1xuICAgICAgICAgICAgc3BsaWNlLmNhbGwoYXJyYXksIGluZGV4LS0sIDEpO1xuICAgICAgICAgICAgbGVuZ3RoLS07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gYXJyYXk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBudW1iZXJzIChwb3NpdGl2ZSBhbmQvb3IgbmVnYXRpdmUpIHByb2dyZXNzaW5nIGZyb21cbiAgICAgKiBgc3RhcnRgIHVwIHRvIGJ1dCBub3QgaW5jbHVkaW5nIGBlbmRgLiBJZiBgc3RhcnRgIGlzIGxlc3MgdGhhbiBgc3RvcGAgYVxuICAgICAqIHplcm8tbGVuZ3RoIHJhbmdlIGlzIGNyZWF0ZWQgdW5sZXNzIGEgbmVnYXRpdmUgYHN0ZXBgIGlzIHNwZWNpZmllZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBBcnJheXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PTBdIFRoZSBzdGFydCBvZiB0aGUgcmFuZ2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZCBUaGUgZW5kIG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0ZXA9MV0gVGhlIHZhbHVlIHRvIGluY3JlbWVudCBvciBkZWNyZW1lbnQgYnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGEgbmV3IHJhbmdlIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnJhbmdlKDQpO1xuICAgICAqIC8vID0+IFswLCAxLCAyLCAzXVxuICAgICAqXG4gICAgICogXy5yYW5nZSgxLCA1KTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgMywgNF1cbiAgICAgKlxuICAgICAqIF8ucmFuZ2UoMCwgMjAsIDUpO1xuICAgICAqIC8vID0+IFswLCA1LCAxMCwgMTVdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlKDAsIC00LCAtMSk7XG4gICAgICogLy8gPT4gWzAsIC0xLCAtMiwgLTNdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlKDEsIDQsIDApO1xuICAgICAqIC8vID0+IFsxLCAxLCAxXVxuICAgICAqXG4gICAgICogXy5yYW5nZSgwKTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJhbmdlKHN0YXJ0LCBlbmQsIHN0ZXApIHtcbiAgICAgIHN0YXJ0ID0gK3N0YXJ0IHx8IDA7XG4gICAgICBzdGVwID0gdHlwZW9mIHN0ZXAgPT0gJ251bWJlcicgPyBzdGVwIDogKCtzdGVwIHx8IDEpO1xuXG4gICAgICBpZiAoZW5kID09IG51bGwpIHtcbiAgICAgICAgZW5kID0gc3RhcnQ7XG4gICAgICAgIHN0YXJ0ID0gMDtcbiAgICAgIH1cbiAgICAgIC8vIHVzZSBgQXJyYXkobGVuZ3RoKWAgc28gZW5naW5lcyBsaWtlIENoYWtyYSBhbmQgVjggYXZvaWQgc2xvd2VyIG1vZGVzXG4gICAgICAvLyBodHRwOi8veW91dHUuYmUvWEFxSXBHVThaWmsjdD0xN20yNXNcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IG5hdGl2ZU1heCgwLCBjZWlsKChlbmQgLSBzdGFydCkgLyAoc3RlcCB8fCAxKSkpLFxuICAgICAgICAgIHJlc3VsdCA9IEFycmF5KGxlbmd0aCk7XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHJlc3VsdFtpbmRleF0gPSBzdGFydDtcbiAgICAgICAgc3RhcnQgKz0gc3RlcDtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwgZWxlbWVudHMgZnJvbSBhbiBhcnJheSB0aGF0IHRoZSBjYWxsYmFjayByZXR1cm5zIHRydWV5IGZvclxuICAgICAqIGFuZCByZXR1cm5zIGFuIGFycmF5IG9mIHJlbW92ZWQgZWxlbWVudHMuIFRoZSBjYWxsYmFjayBpcyBib3VuZCB0byBgdGhpc0FyZ2BcbiAgICAgKiBhbmQgaW52b2tlZCB3aXRoIHRocmVlIGFyZ3VtZW50czsgKHZhbHVlLCBpbmRleCwgYXJyYXkpLlxuICAgICAqXG4gICAgICogSWYgYSBwcm9wZXJ0eSBuYW1lIGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy5wbHVja1wiIHN0eWxlXG4gICAgICogY2FsbGJhY2sgd2lsbCByZXR1cm4gdGhlIHByb3BlcnR5IHZhbHVlIG9mIHRoZSBnaXZlbiBlbGVtZW50LlxuICAgICAqXG4gICAgICogSWYgYW4gb2JqZWN0IGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy53aGVyZVwiIHN0eWxlIGNhbGxiYWNrXG4gICAgICogd2lsbCByZXR1cm4gYHRydWVgIGZvciBlbGVtZW50cyB0aGF0IGhhdmUgdGhlIHByb3BlcnRpZXMgb2YgdGhlIGdpdmVuIG9iamVjdCxcbiAgICAgKiBlbHNlIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlzXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufE9iamVjdHxzdHJpbmd9IFtjYWxsYmFjaz1pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGNhbGxlZFxuICAgICAqICBwZXIgaXRlcmF0aW9uLiBJZiBhIHByb3BlcnR5IG5hbWUgb3Igb2JqZWN0IGlzIHByb3ZpZGVkIGl0IHdpbGwgYmUgdXNlZFxuICAgICAqICB0byBjcmVhdGUgYSBcIl8ucGx1Y2tcIiBvciBcIl8ud2hlcmVcIiBzdHlsZSBjYWxsYmFjaywgcmVzcGVjdGl2ZWx5LlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgY2FsbGJhY2tgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBhIG5ldyBhcnJheSBvZiByZW1vdmVkIGVsZW1lbnRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbMSwgMiwgMywgNCwgNSwgNl07XG4gICAgICogdmFyIGV2ZW5zID0gXy5yZW1vdmUoYXJyYXksIGZ1bmN0aW9uKG51bSkgeyByZXR1cm4gbnVtICUgMiA9PSAwOyB9KTtcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbMSwgMywgNV1cbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGV2ZW5zKTtcbiAgICAgKiAvLyA9PiBbMiwgNCwgNl1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZW1vdmUoYXJyYXksIGNhbGxiYWNrLCB0aGlzQXJnKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheSA/IGFycmF5Lmxlbmd0aCA6IDAsXG4gICAgICAgICAgcmVzdWx0ID0gW107XG5cbiAgICAgIGNhbGxiYWNrID0gbG9kYXNoLmNyZWF0ZUNhbGxiYWNrKGNhbGxiYWNrLCB0aGlzQXJnLCAzKTtcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XTtcbiAgICAgICAgaWYgKGNhbGxiYWNrKHZhbHVlLCBpbmRleCwgYXJyYXkpKSB7XG4gICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgICAgIHNwbGljZS5jYWxsKGFycmF5LCBpbmRleC0tLCAxKTtcbiAgICAgICAgICBsZW5ndGgtLTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3Bwb3NpdGUgb2YgYF8uaW5pdGlhbGAgdGhpcyBtZXRob2QgZ2V0cyBhbGwgYnV0IHRoZSBmaXJzdCBlbGVtZW50IG9yXG4gICAgICogZmlyc3QgYG5gIGVsZW1lbnRzIG9mIGFuIGFycmF5LiBJZiBhIGNhbGxiYWNrIGZ1bmN0aW9uIGlzIHByb3ZpZGVkIGVsZW1lbnRzXG4gICAgICogYXQgdGhlIGJlZ2lubmluZyBvZiB0aGUgYXJyYXkgYXJlIGV4Y2x1ZGVkIGZyb20gdGhlIHJlc3VsdCBhcyBsb25nIGFzIHRoZVxuICAgICAqIGNhbGxiYWNrIHJldHVybnMgdHJ1ZXkuIFRoZSBjYWxsYmFjayBpcyBib3VuZCB0byBgdGhpc0FyZ2AgYW5kIGludm9rZWRcbiAgICAgKiB3aXRoIHRocmVlIGFyZ3VtZW50czsgKHZhbHVlLCBpbmRleCwgYXJyYXkpLlxuICAgICAqXG4gICAgICogSWYgYSBwcm9wZXJ0eSBuYW1lIGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy5wbHVja1wiIHN0eWxlXG4gICAgICogY2FsbGJhY2sgd2lsbCByZXR1cm4gdGhlIHByb3BlcnR5IHZhbHVlIG9mIHRoZSBnaXZlbiBlbGVtZW50LlxuICAgICAqXG4gICAgICogSWYgYW4gb2JqZWN0IGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy53aGVyZVwiIHN0eWxlIGNhbGxiYWNrXG4gICAgICogd2lsbCByZXR1cm4gYHRydWVgIGZvciBlbGVtZW50cyB0aGF0IGhhdmUgdGhlIHByb3BlcnRpZXMgb2YgdGhlIGdpdmVuIG9iamVjdCxcbiAgICAgKiBlbHNlIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAYWxpYXMgZHJvcCwgdGFpbFxuICAgICAqIEBjYXRlZ29yeSBBcnJheXNcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbnxPYmplY3R8bnVtYmVyfHN0cmluZ30gW2NhbGxiYWNrPTFdIFRoZSBmdW5jdGlvbiBjYWxsZWRcbiAgICAgKiAgcGVyIGVsZW1lbnQgb3IgdGhlIG51bWJlciBvZiBlbGVtZW50cyB0byBleGNsdWRlLiBJZiBhIHByb3BlcnR5IG5hbWUgb3JcbiAgICAgKiAgb2JqZWN0IGlzIHByb3ZpZGVkIGl0IHdpbGwgYmUgdXNlZCB0byBjcmVhdGUgYSBcIl8ucGx1Y2tcIiBvciBcIl8ud2hlcmVcIlxuICAgICAqICBzdHlsZSBjYWxsYmFjaywgcmVzcGVjdGl2ZWx5LlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgY2FsbGJhY2tgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBhIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucmVzdChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IFsyLCAzXVxuICAgICAqXG4gICAgICogXy5yZXN0KFsxLCAyLCAzXSwgMik7XG4gICAgICogLy8gPT4gWzNdXG4gICAgICpcbiAgICAgKiBfLnJlc3QoWzEsIDIsIDNdLCBmdW5jdGlvbihudW0pIHtcbiAgICAgKiAgIHJldHVybiBudW0gPCAzO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IFszXVxuICAgICAqXG4gICAgICogdmFyIGNoYXJhY3RlcnMgPSBbXG4gICAgICogICB7ICduYW1lJzogJ2Jhcm5leScsICAnYmxvY2tlZCc6IHRydWUsICAnZW1wbG95ZXInOiAnc2xhdGUnIH0sXG4gICAgICogICB7ICduYW1lJzogJ2ZyZWQnLCAgICAnYmxvY2tlZCc6IGZhbHNlLCAgJ2VtcGxveWVyJzogJ3NsYXRlJyB9LFxuICAgICAqICAgeyAnbmFtZSc6ICdwZWJibGVzJywgJ2Jsb2NrZWQnOiB0cnVlLCAnZW1wbG95ZXInOiAnbmEnIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogLy8gdXNpbmcgXCJfLnBsdWNrXCIgY2FsbGJhY2sgc2hvcnRoYW5kXG4gICAgICogXy5wbHVjayhfLnJlc3QoY2hhcmFjdGVycywgJ2Jsb2NrZWQnKSwgJ25hbWUnKTtcbiAgICAgKiAvLyA9PiBbJ2ZyZWQnLCAncGViYmxlcyddXG4gICAgICpcbiAgICAgKiAvLyB1c2luZyBcIl8ud2hlcmVcIiBjYWxsYmFjayBzaG9ydGhhbmRcbiAgICAgKiBfLnJlc3QoY2hhcmFjdGVycywgeyAnZW1wbG95ZXInOiAnc2xhdGUnIH0pO1xuICAgICAqIC8vID0+IFt7ICduYW1lJzogJ3BlYmJsZXMnLCAnYmxvY2tlZCc6IHRydWUsICdlbXBsb3llcic6ICduYScgfV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZXN0KGFycmF5LCBjYWxsYmFjaywgdGhpc0FyZykge1xuICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayAhPSAnbnVtYmVyJyAmJiBjYWxsYmFjayAhPSBudWxsKSB7XG4gICAgICAgIHZhciBuID0gMCxcbiAgICAgICAgICAgIGluZGV4ID0gLTEsXG4gICAgICAgICAgICBsZW5ndGggPSBhcnJheSA/IGFycmF5Lmxlbmd0aCA6IDA7XG5cbiAgICAgICAgY2FsbGJhY2sgPSBsb2Rhc2guY3JlYXRlQ2FsbGJhY2soY2FsbGJhY2ssIHRoaXNBcmcsIDMpO1xuICAgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCAmJiBjYWxsYmFjayhhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSkpIHtcbiAgICAgICAgICBuKys7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG4gPSAoY2FsbGJhY2sgPT0gbnVsbCB8fCB0aGlzQXJnKSA/IDEgOiBuYXRpdmVNYXgoMCwgY2FsbGJhY2spO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHNsaWNlKGFycmF5LCBuKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVc2VzIGEgYmluYXJ5IHNlYXJjaCB0byBkZXRlcm1pbmUgdGhlIHNtYWxsZXN0IGluZGV4IGF0IHdoaWNoIGEgdmFsdWVcbiAgICAgKiBzaG91bGQgYmUgaW5zZXJ0ZWQgaW50byBhIGdpdmVuIHNvcnRlZCBhcnJheSBpbiBvcmRlciB0byBtYWludGFpbiB0aGUgc29ydFxuICAgICAqIG9yZGVyIG9mIHRoZSBhcnJheS4gSWYgYSBjYWxsYmFjayBpcyBwcm92aWRlZCBpdCB3aWxsIGJlIGV4ZWN1dGVkIGZvclxuICAgICAqIGB2YWx1ZWAgYW5kIGVhY2ggZWxlbWVudCBvZiBgYXJyYXlgIHRvIGNvbXB1dGUgdGhlaXIgc29ydCByYW5raW5nLiBUaGVcbiAgICAgKiBjYWxsYmFjayBpcyBib3VuZCB0byBgdGhpc0FyZ2AgYW5kIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ7ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBJZiBhIHByb3BlcnR5IG5hbWUgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLnBsdWNrXCIgc3R5bGVcbiAgICAgKiBjYWxsYmFjayB3aWxsIHJldHVybiB0aGUgcHJvcGVydHkgdmFsdWUgb2YgdGhlIGdpdmVuIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBJZiBhbiBvYmplY3QgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLndoZXJlXCIgc3R5bGUgY2FsbGJhY2tcbiAgICAgKiB3aWxsIHJldHVybiBgdHJ1ZWAgZm9yIGVsZW1lbnRzIHRoYXQgaGF2ZSB0aGUgcHJvcGVydGllcyBvZiB0aGUgZ2l2ZW4gb2JqZWN0LFxuICAgICAqIGVsc2UgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBBcnJheXNcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBldmFsdWF0ZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufE9iamVjdHxzdHJpbmd9IFtjYWxsYmFjaz1pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGNhbGxlZFxuICAgICAqICBwZXIgaXRlcmF0aW9uLiBJZiBhIHByb3BlcnR5IG5hbWUgb3Igb2JqZWN0IGlzIHByb3ZpZGVkIGl0IHdpbGwgYmUgdXNlZFxuICAgICAqICB0byBjcmVhdGUgYSBcIl8ucGx1Y2tcIiBvciBcIl8ud2hlcmVcIiBzdHlsZSBjYWxsYmFjaywgcmVzcGVjdGl2ZWx5LlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgY2FsbGJhY2tgLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IGF0IHdoaWNoIGB2YWx1ZWAgc2hvdWxkIGJlIGluc2VydGVkXG4gICAgICogIGludG8gYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zb3J0ZWRJbmRleChbMjAsIDMwLCA1MF0sIDQwKTtcbiAgICAgKiAvLyA9PiAyXG4gICAgICpcbiAgICAgKiAvLyB1c2luZyBcIl8ucGx1Y2tcIiBjYWxsYmFjayBzaG9ydGhhbmRcbiAgICAgKiBfLnNvcnRlZEluZGV4KFt7ICd4JzogMjAgfSwgeyAneCc6IDMwIH0sIHsgJ3gnOiA1MCB9XSwgeyAneCc6IDQwIH0sICd4Jyk7XG4gICAgICogLy8gPT4gMlxuICAgICAqXG4gICAgICogdmFyIGRpY3QgPSB7XG4gICAgICogICAnd29yZFRvTnVtYmVyJzogeyAndHdlbnR5JzogMjAsICd0aGlydHknOiAzMCwgJ2ZvdXJ0eSc6IDQwLCAnZmlmdHknOiA1MCB9XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIF8uc29ydGVkSW5kZXgoWyd0d2VudHknLCAndGhpcnR5JywgJ2ZpZnR5J10sICdmb3VydHknLCBmdW5jdGlvbih3b3JkKSB7XG4gICAgICogICByZXR1cm4gZGljdC53b3JkVG9OdW1iZXJbd29yZF07XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gMlxuICAgICAqXG4gICAgICogXy5zb3J0ZWRJbmRleChbJ3R3ZW50eScsICd0aGlydHknLCAnZmlmdHknXSwgJ2ZvdXJ0eScsIGZ1bmN0aW9uKHdvcmQpIHtcbiAgICAgKiAgIHJldHVybiB0aGlzLndvcmRUb051bWJlclt3b3JkXTtcbiAgICAgKiB9LCBkaWN0KTtcbiAgICAgKiAvLyA9PiAyXG4gICAgICovXG4gICAgZnVuY3Rpb24gc29ydGVkSW5kZXgoYXJyYXksIHZhbHVlLCBjYWxsYmFjaywgdGhpc0FyZykge1xuICAgICAgdmFyIGxvdyA9IDAsXG4gICAgICAgICAgaGlnaCA9IGFycmF5ID8gYXJyYXkubGVuZ3RoIDogbG93O1xuXG4gICAgICAvLyBleHBsaWNpdGx5IHJlZmVyZW5jZSBgaWRlbnRpdHlgIGZvciBiZXR0ZXIgaW5saW5pbmcgaW4gRmlyZWZveFxuICAgICAgY2FsbGJhY2sgPSBjYWxsYmFjayA/IGxvZGFzaC5jcmVhdGVDYWxsYmFjayhjYWxsYmFjaywgdGhpc0FyZywgMSkgOiBpZGVudGl0eTtcbiAgICAgIHZhbHVlID0gY2FsbGJhY2sodmFsdWUpO1xuXG4gICAgICB3aGlsZSAobG93IDwgaGlnaCkge1xuICAgICAgICB2YXIgbWlkID0gKGxvdyArIGhpZ2gpID4+PiAxO1xuICAgICAgICAoY2FsbGJhY2soYXJyYXlbbWlkXSkgPCB2YWx1ZSlcbiAgICAgICAgICA/IGxvdyA9IG1pZCArIDFcbiAgICAgICAgICA6IGhpZ2ggPSBtaWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gbG93O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdW5pcXVlIHZhbHVlcywgaW4gb3JkZXIsIG9mIHRoZSBwcm92aWRlZCBhcnJheXMgdXNpbmdcbiAgICAgKiBzdHJpY3QgZXF1YWxpdHkgZm9yIGNvbXBhcmlzb25zLCBpLmUuIGA9PT1gLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IEFycmF5c1xuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheV0gVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBhbiBhcnJheSBvZiBjb21iaW5lZCB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udW5pb24oWzEsIDIsIDNdLCBbNSwgMiwgMSwgNF0sIFsyLCAxXSk7XG4gICAgICogLy8gPT4gWzEsIDIsIDMsIDUsIDRdXG4gICAgICovXG4gICAgZnVuY3Rpb24gdW5pb24oKSB7XG4gICAgICByZXR1cm4gYmFzZVVuaXEoYmFzZUZsYXR0ZW4oYXJndW1lbnRzLCB0cnVlLCB0cnVlKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGR1cGxpY2F0ZS12YWx1ZS1mcmVlIHZlcnNpb24gb2YgYW4gYXJyYXkgdXNpbmcgc3RyaWN0IGVxdWFsaXR5XG4gICAgICogZm9yIGNvbXBhcmlzb25zLCBpLmUuIGA9PT1gLiBJZiB0aGUgYXJyYXkgaXMgc29ydGVkLCBwcm92aWRpbmdcbiAgICAgKiBgdHJ1ZWAgZm9yIGBpc1NvcnRlZGAgd2lsbCB1c2UgYSBmYXN0ZXIgYWxnb3JpdGhtLiBJZiBhIGNhbGxiYWNrIGlzIHByb3ZpZGVkXG4gICAgICogZWFjaCBlbGVtZW50IG9mIGBhcnJheWAgaXMgcGFzc2VkIHRocm91Z2ggdGhlIGNhbGxiYWNrIGJlZm9yZSB1bmlxdWVuZXNzXG4gICAgICogaXMgY29tcHV0ZWQuIFRoZSBjYWxsYmFjayBpcyBib3VuZCB0byBgdGhpc0FyZ2AgYW5kIGludm9rZWQgd2l0aCB0aHJlZVxuICAgICAqIGFyZ3VtZW50czsgKHZhbHVlLCBpbmRleCwgYXJyYXkpLlxuICAgICAqXG4gICAgICogSWYgYSBwcm9wZXJ0eSBuYW1lIGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy5wbHVja1wiIHN0eWxlXG4gICAgICogY2FsbGJhY2sgd2lsbCByZXR1cm4gdGhlIHByb3BlcnR5IHZhbHVlIG9mIHRoZSBnaXZlbiBlbGVtZW50LlxuICAgICAqXG4gICAgICogSWYgYW4gb2JqZWN0IGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy53aGVyZVwiIHN0eWxlIGNhbGxiYWNrXG4gICAgICogd2lsbCByZXR1cm4gYHRydWVgIGZvciBlbGVtZW50cyB0aGF0IGhhdmUgdGhlIHByb3BlcnRpZXMgb2YgdGhlIGdpdmVuIG9iamVjdCxcbiAgICAgKiBlbHNlIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAYWxpYXMgdW5pcXVlXG4gICAgICogQGNhdGVnb3J5IEFycmF5c1xuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBwcm9jZXNzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzU29ydGVkPWZhbHNlXSBBIGZsYWcgdG8gaW5kaWNhdGUgdGhhdCBgYXJyYXlgIGlzIHNvcnRlZC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufE9iamVjdHxzdHJpbmd9IFtjYWxsYmFjaz1pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGNhbGxlZFxuICAgICAqICBwZXIgaXRlcmF0aW9uLiBJZiBhIHByb3BlcnR5IG5hbWUgb3Igb2JqZWN0IGlzIHByb3ZpZGVkIGl0IHdpbGwgYmUgdXNlZFxuICAgICAqICB0byBjcmVhdGUgYSBcIl8ucGx1Y2tcIiBvciBcIl8ud2hlcmVcIiBzdHlsZSBjYWxsYmFjaywgcmVzcGVjdGl2ZWx5LlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgY2FsbGJhY2tgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBhIGR1cGxpY2F0ZS12YWx1ZS1mcmVlIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnVuaXEoWzEsIDIsIDEsIDMsIDFdKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKlxuICAgICAqIF8udW5pcShbMSwgMSwgMiwgMiwgM10sIHRydWUpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqXG4gICAgICogXy51bmlxKFsnQScsICdiJywgJ0MnLCAnYScsICdCJywgJ2MnXSwgZnVuY3Rpb24obGV0dGVyKSB7IHJldHVybiBsZXR0ZXIudG9Mb3dlckNhc2UoKTsgfSk7XG4gICAgICogLy8gPT4gWydBJywgJ2InLCAnQyddXG4gICAgICpcbiAgICAgKiBfLnVuaXEoWzEsIDIuNSwgMywgMS41LCAyLCAzLjVdLCBmdW5jdGlvbihudW0pIHsgcmV0dXJuIHRoaXMuZmxvb3IobnVtKTsgfSwgTWF0aCk7XG4gICAgICogLy8gPT4gWzEsIDIuNSwgM11cbiAgICAgKlxuICAgICAqIC8vIHVzaW5nIFwiXy5wbHVja1wiIGNhbGxiYWNrIHNob3J0aGFuZFxuICAgICAqIF8udW5pcShbeyAneCc6IDEgfSwgeyAneCc6IDIgfSwgeyAneCc6IDEgfV0sICd4Jyk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAxIH0sIHsgJ3gnOiAyIH1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gdW5pcShhcnJheSwgaXNTb3J0ZWQsIGNhbGxiYWNrLCB0aGlzQXJnKSB7XG4gICAgICAvLyBqdWdnbGUgYXJndW1lbnRzXG4gICAgICBpZiAodHlwZW9mIGlzU29ydGVkICE9ICdib29sZWFuJyAmJiBpc1NvcnRlZCAhPSBudWxsKSB7XG4gICAgICAgIHRoaXNBcmcgPSBjYWxsYmFjaztcbiAgICAgICAgY2FsbGJhY2sgPSAodHlwZW9mIGlzU29ydGVkICE9ICdmdW5jdGlvbicgJiYgdGhpc0FyZyAmJiB0aGlzQXJnW2lzU29ydGVkXSA9PT0gYXJyYXkpID8gbnVsbCA6IGlzU29ydGVkO1xuICAgICAgICBpc1NvcnRlZCA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKGNhbGxiYWNrICE9IG51bGwpIHtcbiAgICAgICAgY2FsbGJhY2sgPSBsb2Rhc2guY3JlYXRlQ2FsbGJhY2soY2FsbGJhY2ssIHRoaXNBcmcsIDMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VVbmlxKGFycmF5LCBpc1NvcnRlZCwgY2FsbGJhY2spO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgZXhjbHVkaW5nIGFsbCBwcm92aWRlZCB2YWx1ZXMgdXNpbmcgc3RyaWN0IGVxdWFsaXR5IGZvclxuICAgICAqIGNvbXBhcmlzb25zLCBpLmUuIGA9PT1gLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IEFycmF5c1xuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBmaWx0ZXIuXG4gICAgICogQHBhcmFtIHsuLi4qfSBbdmFsdWVdIFRoZSB2YWx1ZXMgdG8gZXhjbHVkZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYSBuZXcgYXJyYXkgb2YgZmlsdGVyZWQgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLndpdGhvdXQoWzEsIDIsIDEsIDAsIDMsIDEsIDRdLCAwLCAxKTtcbiAgICAgKiAvLyA9PiBbMiwgMywgNF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3aXRob3V0KGFycmF5KSB7XG4gICAgICByZXR1cm4gYmFzZURpZmZlcmVuY2UoYXJyYXksIHNsaWNlKGFyZ3VtZW50cywgMSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgdGhhdCBpcyB0aGUgc3ltbWV0cmljIGRpZmZlcmVuY2Ugb2YgdGhlIHByb3ZpZGVkIGFycmF5cy5cbiAgICAgKiBTZWUgaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9TeW1tZXRyaWNfZGlmZmVyZW5jZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBBcnJheXNcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXldIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYW4gYXJyYXkgb2YgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnhvcihbMSwgMiwgM10sIFs1LCAyLCAxLCA0XSk7XG4gICAgICogLy8gPT4gWzMsIDUsIDRdXG4gICAgICpcbiAgICAgKiBfLnhvcihbMSwgMiwgNV0sIFsyLCAzLCA1XSwgWzMsIDQsIDVdKTtcbiAgICAgKiAvLyA9PiBbMSwgNCwgNV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB4b3IoKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgYXJyYXkgPSBhcmd1bWVudHNbaW5kZXhdO1xuICAgICAgICBpZiAoaXNBcnJheShhcnJheSkgfHwgaXNBcmd1bWVudHMoYXJyYXkpKSB7XG4gICAgICAgICAgdmFyIHJlc3VsdCA9IHJlc3VsdFxuICAgICAgICAgICAgPyBiYXNlVW5pcShiYXNlRGlmZmVyZW5jZShyZXN1bHQsIGFycmF5KS5jb25jYXQoYmFzZURpZmZlcmVuY2UoYXJyYXksIHJlc3VsdCkpKVxuICAgICAgICAgICAgOiBhcnJheTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdCB8fCBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIGdyb3VwZWQgZWxlbWVudHMsIHRoZSBmaXJzdCBvZiB3aGljaCBjb250YWlucyB0aGUgZmlyc3RcbiAgICAgKiBlbGVtZW50cyBvZiB0aGUgZ2l2ZW4gYXJyYXlzLCB0aGUgc2Vjb25kIG9mIHdoaWNoIGNvbnRhaW5zIHRoZSBzZWNvbmRcbiAgICAgKiBlbGVtZW50cyBvZiB0aGUgZ2l2ZW4gYXJyYXlzLCBhbmQgc28gb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAYWxpYXMgdW56aXBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlzXG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5XSBBcnJheXMgdG8gcHJvY2Vzcy5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYSBuZXcgYXJyYXkgb2YgZ3JvdXBlZCBlbGVtZW50cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy56aXAoWydmcmVkJywgJ2Jhcm5leSddLCBbMzAsIDQwXSwgW3RydWUsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gW1snZnJlZCcsIDMwLCB0cnVlXSwgWydiYXJuZXknLCA0MCwgZmFsc2VdXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHppcCgpIHtcbiAgICAgIHZhciBhcnJheSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzIDogYXJndW1lbnRzWzBdLFxuICAgICAgICAgIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXkgPyBtYXgocGx1Y2soYXJyYXksICdsZW5ndGgnKSkgOiAwLFxuICAgICAgICAgIHJlc3VsdCA9IEFycmF5KGxlbmd0aCA8IDAgPyAwIDogbGVuZ3RoKTtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgcmVzdWx0W2luZGV4XSA9IHBsdWNrKGFycmF5LCBpbmRleCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gb2JqZWN0IGNvbXBvc2VkIGZyb20gYXJyYXlzIG9mIGBrZXlzYCBhbmQgYHZhbHVlc2AuIFByb3ZpZGVcbiAgICAgKiBlaXRoZXIgYSBzaW5nbGUgdHdvIGRpbWVuc2lvbmFsIGFycmF5LCBpLmUuIGBbW2tleTEsIHZhbHVlMV0sIFtrZXkyLCB2YWx1ZTJdXWBcbiAgICAgKiBvciB0d28gYXJyYXlzLCBvbmUgb2YgYGtleXNgIGFuZCBvbmUgb2YgY29ycmVzcG9uZGluZyBgdmFsdWVzYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBhbGlhcyBvYmplY3RcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlzXG4gICAgICogQHBhcmFtIHtBcnJheX0ga2V5cyBUaGUgYXJyYXkgb2Yga2V5cy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbdmFsdWVzPVtdXSBUaGUgYXJyYXkgb2YgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYW4gb2JqZWN0IGNvbXBvc2VkIG9mIHRoZSBnaXZlbiBrZXlzIGFuZFxuICAgICAqICBjb3JyZXNwb25kaW5nIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy56aXBPYmplY3QoWydmcmVkJywgJ2Jhcm5leSddLCBbMzAsIDQwXSk7XG4gICAgICogLy8gPT4geyAnZnJlZCc6IDMwLCAnYmFybmV5JzogNDAgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHppcE9iamVjdChrZXlzLCB2YWx1ZXMpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGtleXMgPyBrZXlzLmxlbmd0aCA6IDAsXG4gICAgICAgICAgcmVzdWx0ID0ge307XG5cbiAgICAgIGlmICghdmFsdWVzICYmIGxlbmd0aCAmJiAhaXNBcnJheShrZXlzWzBdKSkge1xuICAgICAgICB2YWx1ZXMgPSBbXTtcbiAgICAgIH1cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBrZXkgPSBrZXlzW2luZGV4XTtcbiAgICAgICAgaWYgKHZhbHVlcykge1xuICAgICAgICAgIHJlc3VsdFtrZXldID0gdmFsdWVzW2luZGV4XTtcbiAgICAgICAgfSBlbHNlIGlmIChrZXkpIHtcbiAgICAgICAgICByZXN1bHRba2V5WzBdXSA9IGtleVsxXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGV4ZWN1dGVzIGBmdW5jYCwgd2l0aCAgdGhlIGB0aGlzYCBiaW5kaW5nIGFuZFxuICAgICAqIGFyZ3VtZW50cyBvZiB0aGUgY3JlYXRlZCBmdW5jdGlvbiwgb25seSBhZnRlciBiZWluZyBjYWxsZWQgYG5gIHRpbWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBudW1iZXIgb2YgdGltZXMgdGhlIGZ1bmN0aW9uIG11c3QgYmUgY2FsbGVkIGJlZm9yZVxuICAgICAqICBgZnVuY2AgaXMgZXhlY3V0ZWQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcmVzdHJpY3QuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcmVzdHJpY3RlZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHNhdmVzID0gWydwcm9maWxlJywgJ3NldHRpbmdzJ107XG4gICAgICpcbiAgICAgKiB2YXIgZG9uZSA9IF8uYWZ0ZXIoc2F2ZXMubGVuZ3RoLCBmdW5jdGlvbigpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKCdEb25lIHNhdmluZyEnKTtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIF8uZm9yRWFjaChzYXZlcywgZnVuY3Rpb24odHlwZSkge1xuICAgICAqICAgYXN5bmNTYXZlKHsgJ3R5cGUnOiB0eXBlLCAnY29tcGxldGUnOiBkb25lIH0pO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IGxvZ3MgJ0RvbmUgc2F2aW5nIScsIGFmdGVyIGFsbCBzYXZlcyBoYXZlIGNvbXBsZXRlZFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFmdGVyKG4sIGZ1bmMpIHtcbiAgICAgIGlmICghaXNGdW5jdGlvbihmdW5jKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoLS1uIDwgMSkge1xuICAgICAgICAgIHJldHVybiBmdW5jLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQsIHdoZW4gY2FsbGVkLCBpbnZva2VzIGBmdW5jYCB3aXRoIHRoZSBgdGhpc2BcbiAgICAgKiBiaW5kaW5nIG9mIGB0aGlzQXJnYCBhbmQgcHJlcGVuZHMgYW55IGFkZGl0aW9uYWwgYGJpbmRgIGFyZ3VtZW50cyB0byB0aG9zZVxuICAgICAqIHByb3ZpZGVkIHRvIHRoZSBib3VuZCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvbnNcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBiaW5kLlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgZnVuY2AuXG4gICAgICogQHBhcmFtIHsuLi4qfSBbYXJnXSBBcmd1bWVudHMgdG8gYmUgcGFydGlhbGx5IGFwcGxpZWQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYm91bmQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBmdW5jID0gZnVuY3Rpb24oZ3JlZXRpbmcpIHtcbiAgICAgKiAgIHJldHVybiBncmVldGluZyArICcgJyArIHRoaXMubmFtZTtcbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogZnVuYyA9IF8uYmluZChmdW5jLCB7ICduYW1lJzogJ2ZyZWQnIH0sICdoaScpO1xuICAgICAqIGZ1bmMoKTtcbiAgICAgKiAvLyA9PiAnaGkgZnJlZCdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiaW5kKGZ1bmMsIHRoaXNBcmcpIHtcbiAgICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID4gMlxuICAgICAgICA/IGNyZWF0ZVdyYXBwZXIoZnVuYywgMTcsIHNsaWNlKGFyZ3VtZW50cywgMiksIG51bGwsIHRoaXNBcmcpXG4gICAgICAgIDogY3JlYXRlV3JhcHBlcihmdW5jLCAxLCBudWxsLCBudWxsLCB0aGlzQXJnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBCaW5kcyBtZXRob2RzIG9mIGFuIG9iamVjdCB0byB0aGUgb2JqZWN0IGl0c2VsZiwgb3ZlcndyaXRpbmcgdGhlIGV4aXN0aW5nXG4gICAgICogbWV0aG9kLiBNZXRob2QgbmFtZXMgbWF5IGJlIHNwZWNpZmllZCBhcyBpbmRpdmlkdWFsIGFyZ3VtZW50cyBvciBhcyBhcnJheXNcbiAgICAgKiBvZiBtZXRob2QgbmFtZXMuIElmIG5vIG1ldGhvZCBuYW1lcyBhcmUgcHJvdmlkZWQgYWxsIHRoZSBmdW5jdGlvbiBwcm9wZXJ0aWVzXG4gICAgICogb2YgYG9iamVjdGAgd2lsbCBiZSBib3VuZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvbnNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gYmluZCBhbmQgYXNzaWduIHRoZSBib3VuZCBtZXRob2RzIHRvLlxuICAgICAqIEBwYXJhbSB7Li4uc3RyaW5nfSBbbWV0aG9kTmFtZV0gVGhlIG9iamVjdCBtZXRob2QgbmFtZXMgdG9cbiAgICAgKiAgYmluZCwgc3BlY2lmaWVkIGFzIGluZGl2aWR1YWwgbWV0aG9kIG5hbWVzIG9yIGFycmF5cyBvZiBtZXRob2QgbmFtZXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHZpZXcgPSB7XG4gICAgICogICAnbGFiZWwnOiAnZG9jcycsXG4gICAgICogICAnb25DbGljayc6IGZ1bmN0aW9uKCkgeyBjb25zb2xlLmxvZygnY2xpY2tlZCAnICsgdGhpcy5sYWJlbCk7IH1cbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogXy5iaW5kQWxsKHZpZXcpO1xuICAgICAqIGpRdWVyeSgnI2RvY3MnKS5vbignY2xpY2snLCB2aWV3Lm9uQ2xpY2spO1xuICAgICAqIC8vID0+IGxvZ3MgJ2NsaWNrZWQgZG9jcycsIHdoZW4gdGhlIGJ1dHRvbiBpcyBjbGlja2VkXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmluZEFsbChvYmplY3QpIHtcbiAgICAgIHZhciBmdW5jcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYmFzZUZsYXR0ZW4oYXJndW1lbnRzLCB0cnVlLCBmYWxzZSwgMSkgOiBmdW5jdGlvbnMob2JqZWN0KSxcbiAgICAgICAgICBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGZ1bmNzLmxlbmd0aDtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIGtleSA9IGZ1bmNzW2luZGV4XTtcbiAgICAgICAgb2JqZWN0W2tleV0gPSBjcmVhdGVXcmFwcGVyKG9iamVjdFtrZXldLCAxLCBudWxsLCBudWxsLCBvYmplY3QpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCwgd2hlbiBjYWxsZWQsIGludm9rZXMgdGhlIG1ldGhvZCBhdCBgb2JqZWN0W2tleV1gXG4gICAgICogYW5kIHByZXBlbmRzIGFueSBhZGRpdGlvbmFsIGBiaW5kS2V5YCBhcmd1bWVudHMgdG8gdGhvc2UgcHJvdmlkZWQgdG8gdGhlIGJvdW5kXG4gICAgICogZnVuY3Rpb24uIFRoaXMgbWV0aG9kIGRpZmZlcnMgZnJvbSBgXy5iaW5kYCBieSBhbGxvd2luZyBib3VuZCBmdW5jdGlvbnMgdG9cbiAgICAgKiByZWZlcmVuY2UgbWV0aG9kcyB0aGF0IHdpbGwgYmUgcmVkZWZpbmVkIG9yIGRvbid0IHlldCBleGlzdC5cbiAgICAgKiBTZWUgaHR0cDovL21pY2hhdXguY2EvYXJ0aWNsZXMvbGF6eS1mdW5jdGlvbi1kZWZpbml0aW9uLXBhdHRlcm4uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25zXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRoZSBtZXRob2QgYmVsb25ncyB0by5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIG1ldGhvZC5cbiAgICAgKiBAcGFyYW0gey4uLip9IFthcmddIEFyZ3VtZW50cyB0byBiZSBwYXJ0aWFsbHkgYXBwbGllZC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBib3VuZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHtcbiAgICAgKiAgICduYW1lJzogJ2ZyZWQnLFxuICAgICAqICAgJ2dyZWV0JzogZnVuY3Rpb24oZ3JlZXRpbmcpIHtcbiAgICAgKiAgICAgcmV0dXJuIGdyZWV0aW5nICsgJyAnICsgdGhpcy5uYW1lO1xuICAgICAqICAgfVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiB2YXIgZnVuYyA9IF8uYmluZEtleShvYmplY3QsICdncmVldCcsICdoaScpO1xuICAgICAqIGZ1bmMoKTtcbiAgICAgKiAvLyA9PiAnaGkgZnJlZCdcbiAgICAgKlxuICAgICAqIG9iamVjdC5ncmVldCA9IGZ1bmN0aW9uKGdyZWV0aW5nKSB7XG4gICAgICogICByZXR1cm4gZ3JlZXRpbmcgKyAneWEgJyArIHRoaXMubmFtZSArICchJztcbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogZnVuYygpO1xuICAgICAqIC8vID0+ICdoaXlhIGZyZWQhJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJpbmRLZXkob2JqZWN0LCBrZXkpIHtcbiAgICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID4gMlxuICAgICAgICA/IGNyZWF0ZVdyYXBwZXIoa2V5LCAxOSwgc2xpY2UoYXJndW1lbnRzLCAyKSwgbnVsbCwgb2JqZWN0KVxuICAgICAgICA6IGNyZWF0ZVdyYXBwZXIoa2V5LCAzLCBudWxsLCBudWxsLCBvYmplY3QpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGlzIHRoZSBjb21wb3NpdGlvbiBvZiB0aGUgcHJvdmlkZWQgZnVuY3Rpb25zLFxuICAgICAqIHdoZXJlIGVhY2ggZnVuY3Rpb24gY29uc3VtZXMgdGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgZnVuY3Rpb24gdGhhdCBmb2xsb3dzLlxuICAgICAqIEZvciBleGFtcGxlLCBjb21wb3NpbmcgdGhlIGZ1bmN0aW9ucyBgZigpYCwgYGcoKWAsIGFuZCBgaCgpYCBwcm9kdWNlcyBgZihnKGgoKSkpYC5cbiAgICAgKiBFYWNoIGZ1bmN0aW9uIGlzIGV4ZWN1dGVkIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIHRoZSBjb21wb3NlZCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvbnNcbiAgICAgKiBAcGFyYW0gey4uLkZ1bmN0aW9ufSBbZnVuY10gRnVuY3Rpb25zIHRvIGNvbXBvc2UuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY29tcG9zZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciByZWFsTmFtZU1hcCA9IHtcbiAgICAgKiAgICdwZWJibGVzJzogJ3BlbmVsb3BlJ1xuICAgICAqIH07XG4gICAgICpcbiAgICAgKiB2YXIgZm9ybWF0ID0gZnVuY3Rpb24obmFtZSkge1xuICAgICAqICAgbmFtZSA9IHJlYWxOYW1lTWFwW25hbWUudG9Mb3dlckNhc2UoKV0gfHwgbmFtZTtcbiAgICAgKiAgIHJldHVybiBuYW1lLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgbmFtZS5zbGljZSgxKS50b0xvd2VyQ2FzZSgpO1xuICAgICAqIH07XG4gICAgICpcbiAgICAgKiB2YXIgZ3JlZXQgPSBmdW5jdGlvbihmb3JtYXR0ZWQpIHtcbiAgICAgKiAgIHJldHVybiAnSGl5YSAnICsgZm9ybWF0dGVkICsgJyEnO1xuICAgICAqIH07XG4gICAgICpcbiAgICAgKiB2YXIgd2VsY29tZSA9IF8uY29tcG9zZShncmVldCwgZm9ybWF0KTtcbiAgICAgKiB3ZWxjb21lKCdwZWJibGVzJyk7XG4gICAgICogLy8gPT4gJ0hpeWEgUGVuZWxvcGUhJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbXBvc2UoKSB7XG4gICAgICB2YXIgZnVuY3MgPSBhcmd1bWVudHMsXG4gICAgICAgICAgbGVuZ3RoID0gZnVuY3MubGVuZ3RoO1xuXG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgaWYgKCFpc0Z1bmN0aW9uKGZ1bmNzW2xlbmd0aF0pKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cyxcbiAgICAgICAgICAgIGxlbmd0aCA9IGZ1bmNzLmxlbmd0aDtcblxuICAgICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgICBhcmdzID0gW2Z1bmNzW2xlbmd0aF0uYXBwbHkodGhpcywgYXJncyldO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcmdzWzBdO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gd2hpY2ggYWNjZXB0cyBvbmUgb3IgbW9yZSBhcmd1bWVudHMgb2YgYGZ1bmNgIHRoYXQgd2hlblxuICAgICAqIGludm9rZWQgZWl0aGVyIGV4ZWN1dGVzIGBmdW5jYCByZXR1cm5pbmcgaXRzIHJlc3VsdCwgaWYgYWxsIGBmdW5jYCBhcmd1bWVudHNcbiAgICAgKiBoYXZlIGJlZW4gcHJvdmlkZWQsIG9yIHJldHVybnMgYSBmdW5jdGlvbiB0aGF0IGFjY2VwdHMgb25lIG9yIG1vcmUgb2YgdGhlXG4gICAgICogcmVtYWluaW5nIGBmdW5jYCBhcmd1bWVudHMsIGFuZCBzbyBvbi4gVGhlIGFyaXR5IG9mIGBmdW5jYCBjYW4gYmUgc3BlY2lmaWVkXG4gICAgICogaWYgYGZ1bmMubGVuZ3RoYCBpcyBub3Qgc3VmZmljaWVudC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvbnNcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjdXJyeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FyaXR5PWZ1bmMubGVuZ3RoXSBUaGUgYXJpdHkgb2YgYGZ1bmNgLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGN1cnJpZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBjdXJyaWVkID0gXy5jdXJyeShmdW5jdGlvbihhLCBiLCBjKSB7XG4gICAgICogICBjb25zb2xlLmxvZyhhICsgYiArIGMpO1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogY3VycmllZCgxKSgyKSgzKTtcbiAgICAgKiAvLyA9PiA2XG4gICAgICpcbiAgICAgKiBjdXJyaWVkKDEsIDIpKDMpO1xuICAgICAqIC8vID0+IDZcbiAgICAgKlxuICAgICAqIGN1cnJpZWQoMSwgMiwgMyk7XG4gICAgICogLy8gPT4gNlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGN1cnJ5KGZ1bmMsIGFyaXR5KSB7XG4gICAgICBhcml0eSA9IHR5cGVvZiBhcml0eSA9PSAnbnVtYmVyJyA/IGFyaXR5IDogKCthcml0eSB8fCBmdW5jLmxlbmd0aCk7XG4gICAgICByZXR1cm4gY3JlYXRlV3JhcHBlcihmdW5jLCA0LCBudWxsLCBudWxsLCBudWxsLCBhcml0eSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgd2lsbCBkZWxheSB0aGUgZXhlY3V0aW9uIG9mIGBmdW5jYCB1bnRpbCBhZnRlclxuICAgICAqIGB3YWl0YCBtaWxsaXNlY29uZHMgaGF2ZSBlbGFwc2VkIHNpbmNlIHRoZSBsYXN0IHRpbWUgaXQgd2FzIGludm9rZWQuXG4gICAgICogUHJvdmlkZSBhbiBvcHRpb25zIG9iamVjdCB0byBpbmRpY2F0ZSB0aGF0IGBmdW5jYCBzaG91bGQgYmUgaW52b2tlZCBvblxuICAgICAqIHRoZSBsZWFkaW5nIGFuZC9vciB0cmFpbGluZyBlZGdlIG9mIHRoZSBgd2FpdGAgdGltZW91dC4gU3Vic2VxdWVudCBjYWxsc1xuICAgICAqIHRvIHRoZSBkZWJvdW5jZWQgZnVuY3Rpb24gd2lsbCByZXR1cm4gdGhlIHJlc3VsdCBvZiB0aGUgbGFzdCBgZnVuY2AgY2FsbC5cbiAgICAgKlxuICAgICAqIE5vdGU6IElmIGBsZWFkaW5nYCBhbmQgYHRyYWlsaW5nYCBvcHRpb25zIGFyZSBgdHJ1ZWAgYGZ1bmNgIHdpbGwgYmUgY2FsbGVkXG4gICAgICogb24gdGhlIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQgb25seSBpZiB0aGUgdGhlIGRlYm91bmNlZCBmdW5jdGlvbiBpc1xuICAgICAqIGludm9rZWQgbW9yZSB0aGFuIG9uY2UgZHVyaW5nIHRoZSBgd2FpdGAgdGltZW91dC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvbnNcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBkZWJvdW5jZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2FpdCBUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byBkZWxheS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIFRoZSBvcHRpb25zIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmxlYWRpbmc9ZmFsc2VdIFNwZWNpZnkgZXhlY3V0aW9uIG9uIHRoZSBsZWFkaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLm1heFdhaXRdIFRoZSBtYXhpbXVtIHRpbWUgYGZ1bmNgIGlzIGFsbG93ZWQgdG8gYmUgZGVsYXllZCBiZWZvcmUgaXQncyBjYWxsZWQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50cmFpbGluZz10cnVlXSBTcGVjaWZ5IGV4ZWN1dGlvbiBvbiB0aGUgdHJhaWxpbmcgZWRnZSBvZiB0aGUgdGltZW91dC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBkZWJvdW5jZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIC8vIGF2b2lkIGNvc3RseSBjYWxjdWxhdGlvbnMgd2hpbGUgdGhlIHdpbmRvdyBzaXplIGlzIGluIGZsdXhcbiAgICAgKiB2YXIgbGF6eUxheW91dCA9IF8uZGVib3VuY2UoY2FsY3VsYXRlTGF5b3V0LCAxNTApO1xuICAgICAqIGpRdWVyeSh3aW5kb3cpLm9uKCdyZXNpemUnLCBsYXp5TGF5b3V0KTtcbiAgICAgKlxuICAgICAqIC8vIGV4ZWN1dGUgYHNlbmRNYWlsYCB3aGVuIHRoZSBjbGljayBldmVudCBpcyBmaXJlZCwgZGVib3VuY2luZyBzdWJzZXF1ZW50IGNhbGxzXG4gICAgICogalF1ZXJ5KCcjcG9zdGJveCcpLm9uKCdjbGljaycsIF8uZGVib3VuY2Uoc2VuZE1haWwsIDMwMCwge1xuICAgICAqICAgJ2xlYWRpbmcnOiB0cnVlLFxuICAgICAqICAgJ3RyYWlsaW5nJzogZmFsc2VcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIC8vIGVuc3VyZSBgYmF0Y2hMb2dgIGlzIGV4ZWN1dGVkIG9uY2UgYWZ0ZXIgMSBzZWNvbmQgb2YgZGVib3VuY2VkIGNhbGxzXG4gICAgICogdmFyIHNvdXJjZSA9IG5ldyBFdmVudFNvdXJjZSgnL3N0cmVhbScpO1xuICAgICAqIHNvdXJjZS5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgXy5kZWJvdW5jZShiYXRjaExvZywgMjUwLCB7XG4gICAgICogICAnbWF4V2FpdCc6IDEwMDBcbiAgICAgKiB9LCBmYWxzZSk7XG4gICAgICovXG4gICAgZnVuY3Rpb24gZGVib3VuY2UoZnVuYywgd2FpdCwgb3B0aW9ucykge1xuICAgICAgdmFyIGFyZ3MsXG4gICAgICAgICAgbWF4VGltZW91dElkLFxuICAgICAgICAgIHJlc3VsdCxcbiAgICAgICAgICBzdGFtcCxcbiAgICAgICAgICB0aGlzQXJnLFxuICAgICAgICAgIHRpbWVvdXRJZCxcbiAgICAgICAgICB0cmFpbGluZ0NhbGwsXG4gICAgICAgICAgbGFzdENhbGxlZCA9IDAsXG4gICAgICAgICAgbWF4V2FpdCA9IGZhbHNlLFxuICAgICAgICAgIHRyYWlsaW5nID0gdHJ1ZTtcblxuICAgICAgaWYgKCFpc0Z1bmN0aW9uKGZ1bmMpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3I7XG4gICAgICB9XG4gICAgICB3YWl0ID0gbmF0aXZlTWF4KDAsIHdhaXQpIHx8IDA7XG4gICAgICBpZiAob3B0aW9ucyA9PT0gdHJ1ZSkge1xuICAgICAgICB2YXIgbGVhZGluZyA9IHRydWU7XG4gICAgICAgIHRyYWlsaW5nID0gZmFsc2U7XG4gICAgICB9IGVsc2UgaWYgKGlzT2JqZWN0KG9wdGlvbnMpKSB7XG4gICAgICAgIGxlYWRpbmcgPSBvcHRpb25zLmxlYWRpbmc7XG4gICAgICAgIG1heFdhaXQgPSAnbWF4V2FpdCcgaW4gb3B0aW9ucyAmJiAobmF0aXZlTWF4KHdhaXQsIG9wdGlvbnMubWF4V2FpdCkgfHwgMCk7XG4gICAgICAgIHRyYWlsaW5nID0gJ3RyYWlsaW5nJyBpbiBvcHRpb25zID8gb3B0aW9ucy50cmFpbGluZyA6IHRyYWlsaW5nO1xuICAgICAgfVxuICAgICAgdmFyIGRlbGF5ZWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHJlbWFpbmluZyA9IHdhaXQgLSAobm93KCkgLSBzdGFtcCk7XG4gICAgICAgIGlmIChyZW1haW5pbmcgPD0gMCkge1xuICAgICAgICAgIGlmIChtYXhUaW1lb3V0SWQpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dChtYXhUaW1lb3V0SWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgaXNDYWxsZWQgPSB0cmFpbGluZ0NhbGw7XG4gICAgICAgICAgbWF4VGltZW91dElkID0gdGltZW91dElkID0gdHJhaWxpbmdDYWxsID0gdW5kZWZpbmVkO1xuICAgICAgICAgIGlmIChpc0NhbGxlZCkge1xuICAgICAgICAgICAgbGFzdENhbGxlZCA9IG5vdygpO1xuICAgICAgICAgICAgcmVzdWx0ID0gZnVuYy5hcHBseSh0aGlzQXJnLCBhcmdzKTtcbiAgICAgICAgICAgIGlmICghdGltZW91dElkICYmICFtYXhUaW1lb3V0SWQpIHtcbiAgICAgICAgICAgICAgYXJncyA9IHRoaXNBcmcgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aW1lb3V0SWQgPSBzZXRUaW1lb3V0KGRlbGF5ZWQsIHJlbWFpbmluZyk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHZhciBtYXhEZWxheWVkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh0aW1lb3V0SWQpIHtcbiAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dElkKTtcbiAgICAgICAgfVxuICAgICAgICBtYXhUaW1lb3V0SWQgPSB0aW1lb3V0SWQgPSB0cmFpbGluZ0NhbGwgPSB1bmRlZmluZWQ7XG4gICAgICAgIGlmICh0cmFpbGluZyB8fCAobWF4V2FpdCAhPT0gd2FpdCkpIHtcbiAgICAgICAgICBsYXN0Q2FsbGVkID0gbm93KCk7XG4gICAgICAgICAgcmVzdWx0ID0gZnVuYy5hcHBseSh0aGlzQXJnLCBhcmdzKTtcbiAgICAgICAgICBpZiAoIXRpbWVvdXRJZCAmJiAhbWF4VGltZW91dElkKSB7XG4gICAgICAgICAgICBhcmdzID0gdGhpc0FyZyA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICAgIHN0YW1wID0gbm93KCk7XG4gICAgICAgIHRoaXNBcmcgPSB0aGlzO1xuICAgICAgICB0cmFpbGluZ0NhbGwgPSB0cmFpbGluZyAmJiAodGltZW91dElkIHx8ICFsZWFkaW5nKTtcblxuICAgICAgICBpZiAobWF4V2FpdCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICB2YXIgbGVhZGluZ0NhbGwgPSBsZWFkaW5nICYmICF0aW1lb3V0SWQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKCFtYXhUaW1lb3V0SWQgJiYgIWxlYWRpbmcpIHtcbiAgICAgICAgICAgIGxhc3RDYWxsZWQgPSBzdGFtcDtcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIHJlbWFpbmluZyA9IG1heFdhaXQgLSAoc3RhbXAgLSBsYXN0Q2FsbGVkKSxcbiAgICAgICAgICAgICAgaXNDYWxsZWQgPSByZW1haW5pbmcgPD0gMDtcblxuICAgICAgICAgIGlmIChpc0NhbGxlZCkge1xuICAgICAgICAgICAgaWYgKG1heFRpbWVvdXRJZCkge1xuICAgICAgICAgICAgICBtYXhUaW1lb3V0SWQgPSBjbGVhclRpbWVvdXQobWF4VGltZW91dElkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxhc3RDYWxsZWQgPSBzdGFtcDtcbiAgICAgICAgICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkodGhpc0FyZywgYXJncyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2UgaWYgKCFtYXhUaW1lb3V0SWQpIHtcbiAgICAgICAgICAgIG1heFRpbWVvdXRJZCA9IHNldFRpbWVvdXQobWF4RGVsYXllZCwgcmVtYWluaW5nKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQ2FsbGVkICYmIHRpbWVvdXRJZCkge1xuICAgICAgICAgIHRpbWVvdXRJZCA9IGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCF0aW1lb3V0SWQgJiYgd2FpdCAhPT0gbWF4V2FpdCkge1xuICAgICAgICAgIHRpbWVvdXRJZCA9IHNldFRpbWVvdXQoZGVsYXllZCwgd2FpdCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxlYWRpbmdDYWxsKSB7XG4gICAgICAgICAgaXNDYWxsZWQgPSB0cnVlO1xuICAgICAgICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkodGhpc0FyZywgYXJncyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQ2FsbGVkICYmICF0aW1lb3V0SWQgJiYgIW1heFRpbWVvdXRJZCkge1xuICAgICAgICAgIGFyZ3MgPSB0aGlzQXJnID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZWZlcnMgZXhlY3V0aW5nIHRoZSBgZnVuY2AgZnVuY3Rpb24gdW50aWwgdGhlIGN1cnJlbnQgY2FsbCBzdGFjayBoYXMgY2xlYXJlZC5cbiAgICAgKiBBZGRpdGlvbmFsIGFyZ3VtZW50cyB3aWxsIGJlIHByb3ZpZGVkIHRvIGBmdW5jYCB3aGVuIGl0IGlzIGludm9rZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25zXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gZGVmZXIuXG4gICAgICogQHBhcmFtIHsuLi4qfSBbYXJnXSBBcmd1bWVudHMgdG8gaW52b2tlIHRoZSBmdW5jdGlvbiB3aXRoLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHRpbWVyIGlkLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRlZmVyKGZ1bmN0aW9uKHRleHQpIHsgY29uc29sZS5sb2codGV4dCk7IH0sICdkZWZlcnJlZCcpO1xuICAgICAqIC8vIGxvZ3MgJ2RlZmVycmVkJyBhZnRlciBvbmUgb3IgbW9yZSBtaWxsaXNlY29uZHNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkZWZlcihmdW5jKSB7XG4gICAgICBpZiAoIWlzRnVuY3Rpb24oZnVuYykpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcjtcbiAgICAgIH1cbiAgICAgIHZhciBhcmdzID0gc2xpY2UoYXJndW1lbnRzLCAxKTtcbiAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgeyBmdW5jLmFwcGx5KHVuZGVmaW5lZCwgYXJncyk7IH0sIDEpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEV4ZWN1dGVzIHRoZSBgZnVuY2AgZnVuY3Rpb24gYWZ0ZXIgYHdhaXRgIG1pbGxpc2Vjb25kcy4gQWRkaXRpb25hbCBhcmd1bWVudHNcbiAgICAgKiB3aWxsIGJlIHByb3ZpZGVkIHRvIGBmdW5jYCB3aGVuIGl0IGlzIGludm9rZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25zXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gZGVsYXkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdhaXQgVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gZGVsYXkgZXhlY3V0aW9uLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW2FyZ10gQXJndW1lbnRzIHRvIGludm9rZSB0aGUgZnVuY3Rpb24gd2l0aC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSB0aW1lciBpZC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kZWxheShmdW5jdGlvbih0ZXh0KSB7IGNvbnNvbGUubG9nKHRleHQpOyB9LCAxMDAwLCAnbGF0ZXInKTtcbiAgICAgKiAvLyA9PiBsb2dzICdsYXRlcicgYWZ0ZXIgb25lIHNlY29uZFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRlbGF5KGZ1bmMsIHdhaXQpIHtcbiAgICAgIGlmICghaXNGdW5jdGlvbihmdW5jKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yO1xuICAgICAgfVxuICAgICAgdmFyIGFyZ3MgPSBzbGljZShhcmd1bWVudHMsIDIpO1xuICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7IGZ1bmMuYXBwbHkodW5kZWZpbmVkLCBhcmdzKTsgfSwgd2FpdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgbWVtb2l6ZXMgdGhlIHJlc3VsdCBvZiBgZnVuY2AuIElmIGByZXNvbHZlcmAgaXNcbiAgICAgKiBwcm92aWRlZCBpdCB3aWxsIGJlIHVzZWQgdG8gZGV0ZXJtaW5lIHRoZSBjYWNoZSBrZXkgZm9yIHN0b3JpbmcgdGhlIHJlc3VsdFxuICAgICAqIGJhc2VkIG9uIHRoZSBhcmd1bWVudHMgcHJvdmlkZWQgdG8gdGhlIG1lbW9pemVkIGZ1bmN0aW9uLiBCeSBkZWZhdWx0LCB0aGVcbiAgICAgKiBmaXJzdCBhcmd1bWVudCBwcm92aWRlZCB0byB0aGUgbWVtb2l6ZWQgZnVuY3Rpb24gaXMgdXNlZCBhcyB0aGUgY2FjaGUga2V5LlxuICAgICAqIFRoZSBgZnVuY2AgaXMgZXhlY3V0ZWQgd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgdGhlIG1lbW9pemVkIGZ1bmN0aW9uLlxuICAgICAqIFRoZSByZXN1bHQgY2FjaGUgaXMgZXhwb3NlZCBhcyB0aGUgYGNhY2hlYCBwcm9wZXJ0eSBvbiB0aGUgbWVtb2l6ZWQgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25zXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gaGF2ZSBpdHMgb3V0cHV0IG1lbW9pemVkLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtyZXNvbHZlcl0gQSBmdW5jdGlvbiB1c2VkIHRvIHJlc29sdmUgdGhlIGNhY2hlIGtleS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBtZW1vaXppbmcgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBmaWJvbmFjY2kgPSBfLm1lbW9pemUoZnVuY3Rpb24obikge1xuICAgICAqICAgcmV0dXJuIG4gPCAyID8gbiA6IGZpYm9uYWNjaShuIC0gMSkgKyBmaWJvbmFjY2kobiAtIDIpO1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogZmlib25hY2NpKDkpXG4gICAgICogLy8gPT4gMzRcbiAgICAgKlxuICAgICAqIHZhciBkYXRhID0ge1xuICAgICAqICAgJ2ZyZWQnOiB7ICduYW1lJzogJ2ZyZWQnLCAnYWdlJzogNDAgfSxcbiAgICAgKiAgICdwZWJibGVzJzogeyAnbmFtZSc6ICdwZWJibGVzJywgJ2FnZSc6IDEgfVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiAvLyBtb2RpZnlpbmcgdGhlIHJlc3VsdCBjYWNoZVxuICAgICAqIHZhciBnZXQgPSBfLm1lbW9pemUoZnVuY3Rpb24obmFtZSkgeyByZXR1cm4gZGF0YVtuYW1lXTsgfSwgXy5pZGVudGl0eSk7XG4gICAgICogZ2V0KCdwZWJibGVzJyk7XG4gICAgICogLy8gPT4geyAnbmFtZSc6ICdwZWJibGVzJywgJ2FnZSc6IDEgfVxuICAgICAqXG4gICAgICogZ2V0LmNhY2hlLnBlYmJsZXMubmFtZSA9ICdwZW5lbG9wZSc7XG4gICAgICogZ2V0KCdwZWJibGVzJyk7XG4gICAgICogLy8gPT4geyAnbmFtZSc6ICdwZW5lbG9wZScsICdhZ2UnOiAxIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtZW1vaXplKGZ1bmMsIHJlc29sdmVyKSB7XG4gICAgICBpZiAoIWlzRnVuY3Rpb24oZnVuYykpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcjtcbiAgICAgIH1cbiAgICAgIHZhciBtZW1vaXplZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgY2FjaGUgPSBtZW1vaXplZC5jYWNoZSxcbiAgICAgICAgICAgIGtleSA9IHJlc29sdmVyID8gcmVzb2x2ZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSA6IGtleVByZWZpeCArIGFyZ3VtZW50c1swXTtcblxuICAgICAgICByZXR1cm4gaGFzT3duUHJvcGVydHkuY2FsbChjYWNoZSwga2V5KVxuICAgICAgICAgID8gY2FjaGVba2V5XVxuICAgICAgICAgIDogKGNhY2hlW2tleV0gPSBmdW5jLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICAgICAgfVxuICAgICAgbWVtb2l6ZWQuY2FjaGUgPSB7fTtcbiAgICAgIHJldHVybiBtZW1vaXplZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpcyByZXN0cmljdGVkIHRvIGV4ZWN1dGUgYGZ1bmNgIG9uY2UuIFJlcGVhdCBjYWxscyB0b1xuICAgICAqIHRoZSBmdW5jdGlvbiB3aWxsIHJldHVybiB0aGUgdmFsdWUgb2YgdGhlIGZpcnN0IGNhbGwuIFRoZSBgZnVuY2AgaXMgZXhlY3V0ZWRcbiAgICAgKiB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBvZiB0aGUgY3JlYXRlZCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvbnNcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byByZXN0cmljdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyByZXN0cmljdGVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgaW5pdGlhbGl6ZSA9IF8ub25jZShjcmVhdGVBcHBsaWNhdGlvbik7XG4gICAgICogaW5pdGlhbGl6ZSgpO1xuICAgICAqIGluaXRpYWxpemUoKTtcbiAgICAgKiAvLyBgaW5pdGlhbGl6ZWAgZXhlY3V0ZXMgYGNyZWF0ZUFwcGxpY2F0aW9uYCBvbmNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gb25jZShmdW5jKSB7XG4gICAgICB2YXIgcmFuLFxuICAgICAgICAgIHJlc3VsdDtcblxuICAgICAgaWYgKCFpc0Z1bmN0aW9uKGZ1bmMpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3I7XG4gICAgICB9XG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChyYW4pIHtcbiAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIHJhbiA9IHRydWU7XG4gICAgICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblxuICAgICAgICAvLyBjbGVhciB0aGUgYGZ1bmNgIHZhcmlhYmxlIHNvIHRoZSBmdW5jdGlvbiBtYXkgYmUgZ2FyYmFnZSBjb2xsZWN0ZWRcbiAgICAgICAgZnVuYyA9IG51bGw7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0LCB3aGVuIGNhbGxlZCwgaW52b2tlcyBgZnVuY2Agd2l0aCBhbnkgYWRkaXRpb25hbFxuICAgICAqIGBwYXJ0aWFsYCBhcmd1bWVudHMgcHJlcGVuZGVkIHRvIHRob3NlIHByb3ZpZGVkIHRvIHRoZSBuZXcgZnVuY3Rpb24uIFRoaXNcbiAgICAgKiBtZXRob2QgaXMgc2ltaWxhciB0byBgXy5iaW5kYCBleGNlcHQgaXQgZG9lcyAqKm5vdCoqIGFsdGVyIHRoZSBgdGhpc2AgYmluZGluZy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvbnNcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBwYXJ0aWFsbHkgYXBwbHkgYXJndW1lbnRzIHRvLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW2FyZ10gQXJndW1lbnRzIHRvIGJlIHBhcnRpYWxseSBhcHBsaWVkLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHBhcnRpYWxseSBhcHBsaWVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgZ3JlZXQgPSBmdW5jdGlvbihncmVldGluZywgbmFtZSkgeyByZXR1cm4gZ3JlZXRpbmcgKyAnICcgKyBuYW1lOyB9O1xuICAgICAqIHZhciBoaSA9IF8ucGFydGlhbChncmVldCwgJ2hpJyk7XG4gICAgICogaGkoJ2ZyZWQnKTtcbiAgICAgKiAvLyA9PiAnaGkgZnJlZCdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwYXJ0aWFsKGZ1bmMpIHtcbiAgICAgIHJldHVybiBjcmVhdGVXcmFwcGVyKGZ1bmMsIDE2LCBzbGljZShhcmd1bWVudHMsIDEpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnBhcnRpYWxgIGV4Y2VwdCB0aGF0IGBwYXJ0aWFsYCBhcmd1bWVudHMgYXJlXG4gICAgICogYXBwZW5kZWQgdG8gdGhvc2UgcHJvdmlkZWQgdG8gdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvbnNcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBwYXJ0aWFsbHkgYXBwbHkgYXJndW1lbnRzIHRvLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW2FyZ10gQXJndW1lbnRzIHRvIGJlIHBhcnRpYWxseSBhcHBsaWVkLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHBhcnRpYWxseSBhcHBsaWVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgZGVmYXVsdHNEZWVwID0gXy5wYXJ0aWFsUmlnaHQoXy5tZXJnZSwgXy5kZWZhdWx0cyk7XG4gICAgICpcbiAgICAgKiB2YXIgb3B0aW9ucyA9IHtcbiAgICAgKiAgICd2YXJpYWJsZSc6ICdkYXRhJyxcbiAgICAgKiAgICdpbXBvcnRzJzogeyAnanEnOiAkIH1cbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogZGVmYXVsdHNEZWVwKG9wdGlvbnMsIF8udGVtcGxhdGVTZXR0aW5ncyk7XG4gICAgICpcbiAgICAgKiBvcHRpb25zLnZhcmlhYmxlXG4gICAgICogLy8gPT4gJ2RhdGEnXG4gICAgICpcbiAgICAgKiBvcHRpb25zLmltcG9ydHNcbiAgICAgKiAvLyA9PiB7ICdfJzogXywgJ2pxJzogJCB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gcGFydGlhbFJpZ2h0KGZ1bmMpIHtcbiAgICAgIHJldHVybiBjcmVhdGVXcmFwcGVyKGZ1bmMsIDMyLCBudWxsLCBzbGljZShhcmd1bWVudHMsIDEpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCwgd2hlbiBleGVjdXRlZCwgd2lsbCBvbmx5IGNhbGwgdGhlIGBmdW5jYCBmdW5jdGlvblxuICAgICAqIGF0IG1vc3Qgb25jZSBwZXIgZXZlcnkgYHdhaXRgIG1pbGxpc2Vjb25kcy4gUHJvdmlkZSBhbiBvcHRpb25zIG9iamVjdCB0b1xuICAgICAqIGluZGljYXRlIHRoYXQgYGZ1bmNgIHNob3VsZCBiZSBpbnZva2VkIG9uIHRoZSBsZWFkaW5nIGFuZC9vciB0cmFpbGluZyBlZGdlXG4gICAgICogb2YgdGhlIGB3YWl0YCB0aW1lb3V0LiBTdWJzZXF1ZW50IGNhbGxzIHRvIHRoZSB0aHJvdHRsZWQgZnVuY3Rpb24gd2lsbFxuICAgICAqIHJldHVybiB0aGUgcmVzdWx0IG9mIHRoZSBsYXN0IGBmdW5jYCBjYWxsLlxuICAgICAqXG4gICAgICogTm90ZTogSWYgYGxlYWRpbmdgIGFuZCBgdHJhaWxpbmdgIG9wdGlvbnMgYXJlIGB0cnVlYCBgZnVuY2Agd2lsbCBiZSBjYWxsZWRcbiAgICAgKiBvbiB0aGUgdHJhaWxpbmcgZWRnZSBvZiB0aGUgdGltZW91dCBvbmx5IGlmIHRoZSB0aGUgdGhyb3R0bGVkIGZ1bmN0aW9uIGlzXG4gICAgICogaW52b2tlZCBtb3JlIHRoYW4gb25jZSBkdXJpbmcgdGhlIGB3YWl0YCB0aW1lb3V0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uc1xuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHRocm90dGxlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3YWl0IFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIHRocm90dGxlIGV4ZWN1dGlvbnMgdG8uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBUaGUgb3B0aW9ucyBvYmplY3QuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5sZWFkaW5nPXRydWVdIFNwZWNpZnkgZXhlY3V0aW9uIG9uIHRoZSBsZWFkaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50cmFpbGluZz10cnVlXSBTcGVjaWZ5IGV4ZWN1dGlvbiBvbiB0aGUgdHJhaWxpbmcgZWRnZSBvZiB0aGUgdGltZW91dC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyB0aHJvdHRsZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIC8vIGF2b2lkIGV4Y2Vzc2l2ZWx5IHVwZGF0aW5nIHRoZSBwb3NpdGlvbiB3aGlsZSBzY3JvbGxpbmdcbiAgICAgKiB2YXIgdGhyb3R0bGVkID0gXy50aHJvdHRsZSh1cGRhdGVQb3NpdGlvbiwgMTAwKTtcbiAgICAgKiBqUXVlcnkod2luZG93KS5vbignc2Nyb2xsJywgdGhyb3R0bGVkKTtcbiAgICAgKlxuICAgICAqIC8vIGV4ZWN1dGUgYHJlbmV3VG9rZW5gIHdoZW4gdGhlIGNsaWNrIGV2ZW50IGlzIGZpcmVkLCBidXQgbm90IG1vcmUgdGhhbiBvbmNlIGV2ZXJ5IDUgbWludXRlc1xuICAgICAqIGpRdWVyeSgnLmludGVyYWN0aXZlJykub24oJ2NsaWNrJywgXy50aHJvdHRsZShyZW5ld1Rva2VuLCAzMDAwMDAsIHtcbiAgICAgKiAgICd0cmFpbGluZyc6IGZhbHNlXG4gICAgICogfSkpO1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRocm90dGxlKGZ1bmMsIHdhaXQsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBsZWFkaW5nID0gdHJ1ZSxcbiAgICAgICAgICB0cmFpbGluZyA9IHRydWU7XG5cbiAgICAgIGlmICghaXNGdW5jdGlvbihmdW5jKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yO1xuICAgICAgfVxuICAgICAgaWYgKG9wdGlvbnMgPT09IGZhbHNlKSB7XG4gICAgICAgIGxlYWRpbmcgPSBmYWxzZTtcbiAgICAgIH0gZWxzZSBpZiAoaXNPYmplY3Qob3B0aW9ucykpIHtcbiAgICAgICAgbGVhZGluZyA9ICdsZWFkaW5nJyBpbiBvcHRpb25zID8gb3B0aW9ucy5sZWFkaW5nIDogbGVhZGluZztcbiAgICAgICAgdHJhaWxpbmcgPSAndHJhaWxpbmcnIGluIG9wdGlvbnMgPyBvcHRpb25zLnRyYWlsaW5nIDogdHJhaWxpbmc7XG4gICAgICB9XG4gICAgICBkZWJvdW5jZU9wdGlvbnMubGVhZGluZyA9IGxlYWRpbmc7XG4gICAgICBkZWJvdW5jZU9wdGlvbnMubWF4V2FpdCA9IHdhaXQ7XG4gICAgICBkZWJvdW5jZU9wdGlvbnMudHJhaWxpbmcgPSB0cmFpbGluZztcblxuICAgICAgcmV0dXJuIGRlYm91bmNlKGZ1bmMsIHdhaXQsIGRlYm91bmNlT3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgcHJvdmlkZXMgYHZhbHVlYCB0byB0aGUgd3JhcHBlciBmdW5jdGlvbiBhcyBpdHNcbiAgICAgKiBmaXJzdCBhcmd1bWVudC4gQWRkaXRpb25hbCBhcmd1bWVudHMgcHJvdmlkZWQgdG8gdGhlIGZ1bmN0aW9uIGFyZSBhcHBlbmRlZFxuICAgICAqIHRvIHRob3NlIHByb3ZpZGVkIHRvIHRoZSB3cmFwcGVyIGZ1bmN0aW9uLiBUaGUgd3JhcHBlciBpcyBleGVjdXRlZCB3aXRoXG4gICAgICogdGhlIGB0aGlzYCBiaW5kaW5nIG9mIHRoZSBjcmVhdGVkIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uc1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHdyYXAuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gd3JhcHBlciBUaGUgd3JhcHBlciBmdW5jdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHAgPSBfLndyYXAoXy5lc2NhcGUsIGZ1bmN0aW9uKGZ1bmMsIHRleHQpIHtcbiAgICAgKiAgIHJldHVybiAnPHA+JyArIGZ1bmModGV4dCkgKyAnPC9wPic7XG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBwKCdGcmVkLCBXaWxtYSwgJiBQZWJibGVzJyk7XG4gICAgICogLy8gPT4gJzxwPkZyZWQsIFdpbG1hLCAmYW1wOyBQZWJibGVzPC9wPidcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3cmFwKHZhbHVlLCB3cmFwcGVyKSB7XG4gICAgICByZXR1cm4gY3JlYXRlV3JhcHBlcih3cmFwcGVyLCAxNiwgW3ZhbHVlXSk7XG4gICAgfVxuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGB2YWx1ZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbGl0aWVzXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcmV0dXJuIGZyb20gdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ25hbWUnOiAnZnJlZCcgfTtcbiAgICAgKiB2YXIgZ2V0dGVyID0gXy5jb25zdGFudChvYmplY3QpO1xuICAgICAqIGdldHRlcigpID09PSBvYmplY3Q7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbnN0YW50KHZhbHVlKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUHJvZHVjZXMgYSBjYWxsYmFjayBib3VuZCB0byBhbiBvcHRpb25hbCBgdGhpc0FyZ2AuIElmIGBmdW5jYCBpcyBhIHByb3BlcnR5XG4gICAgICogbmFtZSB0aGUgY3JlYXRlZCBjYWxsYmFjayB3aWxsIHJldHVybiB0aGUgcHJvcGVydHkgdmFsdWUgZm9yIGEgZ2l2ZW4gZWxlbWVudC5cbiAgICAgKiBJZiBgZnVuY2AgaXMgYW4gb2JqZWN0IHRoZSBjcmVhdGVkIGNhbGxiYWNrIHdpbGwgcmV0dXJuIGB0cnVlYCBmb3IgZWxlbWVudHNcbiAgICAgKiB0aGF0IGNvbnRhaW4gdGhlIGVxdWl2YWxlbnQgb2JqZWN0IHByb3BlcnRpZXMsIG90aGVyd2lzZSBpdCB3aWxsIHJldHVybiBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxpdGllc1xuICAgICAqIEBwYXJhbSB7Kn0gW2Z1bmM9aWRlbnRpdHldIFRoZSB2YWx1ZSB0byBjb252ZXJ0IHRvIGEgY2FsbGJhY2suXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIHRoZSBjcmVhdGVkIGNhbGxiYWNrLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYXJnQ291bnRdIFRoZSBudW1iZXIgb2YgYXJndW1lbnRzIHRoZSBjYWxsYmFjayBhY2NlcHRzLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBhIGNhbGxiYWNrIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgY2hhcmFjdGVycyA9IFtcbiAgICAgKiAgIHsgJ25hbWUnOiAnYmFybmV5JywgJ2FnZSc6IDM2IH0sXG4gICAgICogICB7ICduYW1lJzogJ2ZyZWQnLCAgICdhZ2UnOiA0MCB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIC8vIHdyYXAgdG8gY3JlYXRlIGN1c3RvbSBjYWxsYmFjayBzaG9ydGhhbmRzXG4gICAgICogXy5jcmVhdGVDYWxsYmFjayA9IF8ud3JhcChfLmNyZWF0ZUNhbGxiYWNrLCBmdW5jdGlvbihmdW5jLCBjYWxsYmFjaywgdGhpc0FyZykge1xuICAgICAqICAgdmFyIG1hdGNoID0gL14oLis/KV9fKFtnbF10KSguKykkLy5leGVjKGNhbGxiYWNrKTtcbiAgICAgKiAgIHJldHVybiAhbWF0Y2ggPyBmdW5jKGNhbGxiYWNrLCB0aGlzQXJnKSA6IGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAqICAgICByZXR1cm4gbWF0Y2hbMl0gPT0gJ2d0JyA/IG9iamVjdFttYXRjaFsxXV0gPiBtYXRjaFszXSA6IG9iamVjdFttYXRjaFsxXV0gPCBtYXRjaFszXTtcbiAgICAgKiAgIH07XG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBfLmZpbHRlcihjaGFyYWN0ZXJzLCAnYWdlX19ndDM4Jyk7XG4gICAgICogLy8gPT4gW3sgJ25hbWUnOiAnZnJlZCcsICdhZ2UnOiA0MCB9XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUNhbGxiYWNrKGZ1bmMsIHRoaXNBcmcsIGFyZ0NvdW50KSB7XG4gICAgICB2YXIgdHlwZSA9IHR5cGVvZiBmdW5jO1xuICAgICAgaWYgKGZ1bmMgPT0gbnVsbCB8fCB0eXBlID09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIGJhc2VDcmVhdGVDYWxsYmFjayhmdW5jLCB0aGlzQXJnLCBhcmdDb3VudCk7XG4gICAgICB9XG4gICAgICAvLyBoYW5kbGUgXCJfLnBsdWNrXCIgc3R5bGUgY2FsbGJhY2sgc2hvcnRoYW5kc1xuICAgICAgaWYgKHR5cGUgIT0gJ29iamVjdCcpIHtcbiAgICAgICAgcmV0dXJuIHByb3BlcnR5KGZ1bmMpO1xuICAgICAgfVxuICAgICAgdmFyIHByb3BzID0ga2V5cyhmdW5jKSxcbiAgICAgICAgICBrZXkgPSBwcm9wc1swXSxcbiAgICAgICAgICBhID0gZnVuY1trZXldO1xuXG4gICAgICAvLyBoYW5kbGUgXCJfLndoZXJlXCIgc3R5bGUgY2FsbGJhY2sgc2hvcnRoYW5kc1xuICAgICAgaWYgKHByb3BzLmxlbmd0aCA9PSAxICYmIGEgPT09IGEgJiYgIWlzT2JqZWN0KGEpKSB7XG4gICAgICAgIC8vIGZhc3QgcGF0aCB0aGUgY29tbW9uIGNhc2Ugb2YgcHJvdmlkaW5nIGFuIG9iamVjdCB3aXRoIGEgc2luZ2xlXG4gICAgICAgIC8vIHByb3BlcnR5IGNvbnRhaW5pbmcgYSBwcmltaXRpdmUgdmFsdWVcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgICAgIHZhciBiID0gb2JqZWN0W2tleV07XG4gICAgICAgICAgcmV0dXJuIGEgPT09IGIgJiYgKGEgIT09IDAgfHwgKDEgLyBhID09IDEgLyBiKSk7XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICAgIHZhciBsZW5ndGggPSBwcm9wcy5sZW5ndGgsXG4gICAgICAgICAgICByZXN1bHQgPSBmYWxzZTtcblxuICAgICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgICBpZiAoIShyZXN1bHQgPSBiYXNlSXNFcXVhbChvYmplY3RbcHJvcHNbbGVuZ3RoXV0sIGZ1bmNbcHJvcHNbbGVuZ3RoXV0sIG51bGwsIHRydWUpKSkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIHRoZSBjaGFyYWN0ZXJzIGAmYCwgYDxgLCBgPmAsIGBcImAsIGFuZCBgJ2AgaW4gYHN0cmluZ2AgdG8gdGhlaXJcbiAgICAgKiBjb3JyZXNwb25kaW5nIEhUTUwgZW50aXRpZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbGl0aWVzXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGVzY2FwZS5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBlc2NhcGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5lc2NhcGUoJ0ZyZWQsIFdpbG1hLCAmIFBlYmJsZXMnKTtcbiAgICAgKiAvLyA9PiAnRnJlZCwgV2lsbWEsICZhbXA7IFBlYmJsZXMnXG4gICAgICovXG4gICAgZnVuY3Rpb24gZXNjYXBlKHN0cmluZykge1xuICAgICAgcmV0dXJuIHN0cmluZyA9PSBudWxsID8gJycgOiBTdHJpbmcoc3RyaW5nKS5yZXBsYWNlKHJlVW5lc2NhcGVkSHRtbCwgZXNjYXBlSHRtbENoYXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIHJldHVybnMgdGhlIGZpcnN0IGFyZ3VtZW50IHByb3ZpZGVkIHRvIGl0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxpdGllc1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgQW55IHZhbHVlLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIGB2YWx1ZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICduYW1lJzogJ2ZyZWQnIH07XG4gICAgICogXy5pZGVudGl0eShvYmplY3QpID09PSBvYmplY3Q7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlkZW50aXR5KHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkcyBmdW5jdGlvbiBwcm9wZXJ0aWVzIG9mIGEgc291cmNlIG9iamVjdCB0byB0aGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIElmIGBvYmplY3RgIGlzIGEgZnVuY3Rpb24gbWV0aG9kcyB3aWxsIGJlIGFkZGVkIHRvIGl0cyBwcm90b3R5cGUgYXMgd2VsbC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBVdGlsaXRpZXNcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufE9iamVjdH0gW29iamVjdD1sb2Rhc2hdIG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBmdW5jdGlvbnMgdG8gYWRkLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gVGhlIG9wdGlvbnMgb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2hhaW49dHJ1ZV0gU3BlY2lmeSB3aGV0aGVyIHRoZSBmdW5jdGlvbnMgYWRkZWQgYXJlIGNoYWluYWJsZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gY2FwaXRhbGl6ZShzdHJpbmcpIHtcbiAgICAgKiAgIHJldHVybiBzdHJpbmcuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBzdHJpbmcuc2xpY2UoMSkudG9Mb3dlckNhc2UoKTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBfLm1peGluKHsgJ2NhcGl0YWxpemUnOiBjYXBpdGFsaXplIH0pO1xuICAgICAqIF8uY2FwaXRhbGl6ZSgnZnJlZCcpO1xuICAgICAqIC8vID0+ICdGcmVkJ1xuICAgICAqXG4gICAgICogXygnZnJlZCcpLmNhcGl0YWxpemUoKS52YWx1ZSgpO1xuICAgICAqIC8vID0+ICdGcmVkJ1xuICAgICAqXG4gICAgICogXy5taXhpbih7ICdjYXBpdGFsaXplJzogY2FwaXRhbGl6ZSB9LCB7ICdjaGFpbic6IGZhbHNlIH0pO1xuICAgICAqIF8oJ2ZyZWQnKS5jYXBpdGFsaXplKCk7XG4gICAgICogLy8gPT4gJ0ZyZWQnXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWl4aW4ob2JqZWN0LCBzb3VyY2UsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBjaGFpbiA9IHRydWUsXG4gICAgICAgICAgbWV0aG9kTmFtZXMgPSBzb3VyY2UgJiYgZnVuY3Rpb25zKHNvdXJjZSk7XG5cbiAgICAgIGlmICghc291cmNlIHx8ICghb3B0aW9ucyAmJiAhbWV0aG9kTmFtZXMubGVuZ3RoKSkge1xuICAgICAgICBpZiAob3B0aW9ucyA9PSBudWxsKSB7XG4gICAgICAgICAgb3B0aW9ucyA9IHNvdXJjZTtcbiAgICAgICAgfVxuICAgICAgICBjdG9yID0gbG9kYXNoV3JhcHBlcjtcbiAgICAgICAgc291cmNlID0gb2JqZWN0O1xuICAgICAgICBvYmplY3QgPSBsb2Rhc2g7XG4gICAgICAgIG1ldGhvZE5hbWVzID0gZnVuY3Rpb25zKHNvdXJjZSk7XG4gICAgICB9XG4gICAgICBpZiAob3B0aW9ucyA9PT0gZmFsc2UpIHtcbiAgICAgICAgY2hhaW4gPSBmYWxzZTtcbiAgICAgIH0gZWxzZSBpZiAoaXNPYmplY3Qob3B0aW9ucykgJiYgJ2NoYWluJyBpbiBvcHRpb25zKSB7XG4gICAgICAgIGNoYWluID0gb3B0aW9ucy5jaGFpbjtcbiAgICAgIH1cbiAgICAgIHZhciBjdG9yID0gb2JqZWN0LFxuICAgICAgICAgIGlzRnVuYyA9IGlzRnVuY3Rpb24oY3Rvcik7XG5cbiAgICAgIGZvckVhY2gobWV0aG9kTmFtZXMsIGZ1bmN0aW9uKG1ldGhvZE5hbWUpIHtcbiAgICAgICAgdmFyIGZ1bmMgPSBvYmplY3RbbWV0aG9kTmFtZV0gPSBzb3VyY2VbbWV0aG9kTmFtZV07XG4gICAgICAgIGlmIChpc0Z1bmMpIHtcbiAgICAgICAgICBjdG9yLnByb3RvdHlwZVttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGNoYWluQWxsID0gdGhpcy5fX2NoYWluX18sXG4gICAgICAgICAgICAgICAgdmFsdWUgPSB0aGlzLl9fd3JhcHBlZF9fLFxuICAgICAgICAgICAgICAgIGFyZ3MgPSBbdmFsdWVdO1xuXG4gICAgICAgICAgICBwdXNoLmFwcGx5KGFyZ3MsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gZnVuYy5hcHBseShvYmplY3QsIGFyZ3MpO1xuICAgICAgICAgICAgaWYgKGNoYWluIHx8IGNoYWluQWxsKSB7XG4gICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gcmVzdWx0ICYmIGlzT2JqZWN0KHJlc3VsdCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXN1bHQgPSBuZXcgY3RvcihyZXN1bHQpO1xuICAgICAgICAgICAgICByZXN1bHQuX19jaGFpbl9fID0gY2hhaW5BbGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldmVydHMgdGhlICdfJyB2YXJpYWJsZSB0byBpdHMgcHJldmlvdXMgdmFsdWUgYW5kIHJldHVybnMgYSByZWZlcmVuY2UgdG9cbiAgICAgKiB0aGUgYGxvZGFzaGAgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbGl0aWVzXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBgbG9kYXNoYCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGxvZGFzaCA9IF8ubm9Db25mbGljdCgpO1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIG5vQ29uZmxpY3QoKSB7XG4gICAgICBjb250ZXh0Ll8gPSBvbGREYXNoO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBuby1vcGVyYXRpb24gZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbGl0aWVzXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICduYW1lJzogJ2ZyZWQnIH07XG4gICAgICogXy5ub29wKG9iamVjdCkgPT09IHVuZGVmaW5lZDtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gbm9vcCgpIHtcbiAgICAgIC8vIG5vIG9wZXJhdGlvbiBwZXJmb3JtZWRcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRoYXQgaGF2ZSBlbGFwc2VkIHNpbmNlIHRoZSBVbml4IGVwb2NoXG4gICAgICogKDEgSmFudWFyeSAxOTcwIDAwOjAwOjAwIFVUQykuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbGl0aWVzXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBzdGFtcCA9IF8ubm93KCk7XG4gICAgICogXy5kZWZlcihmdW5jdGlvbigpIHsgY29uc29sZS5sb2coXy5ub3coKSAtIHN0YW1wKTsgfSk7XG4gICAgICogLy8gPT4gbG9ncyB0aGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBpdCB0b29rIGZvciB0aGUgZGVmZXJyZWQgZnVuY3Rpb24gdG8gYmUgY2FsbGVkXG4gICAgICovXG4gICAgdmFyIG5vdyA9IGlzTmF0aXZlKG5vdyA9IERhdGUubm93KSAmJiBub3cgfHwgZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIHRoZSBnaXZlbiB2YWx1ZSBpbnRvIGFuIGludGVnZXIgb2YgdGhlIHNwZWNpZmllZCByYWRpeC5cbiAgICAgKiBJZiBgcmFkaXhgIGlzIGB1bmRlZmluZWRgIG9yIGAwYCBhIGByYWRpeGAgb2YgYDEwYCBpcyB1c2VkIHVubGVzcyB0aGVcbiAgICAgKiBgdmFsdWVgIGlzIGEgaGV4YWRlY2ltYWwsIGluIHdoaWNoIGNhc2UgYSBgcmFkaXhgIG9mIGAxNmAgaXMgdXNlZC5cbiAgICAgKlxuICAgICAqIE5vdGU6IFRoaXMgbWV0aG9kIGF2b2lkcyBkaWZmZXJlbmNlcyBpbiBuYXRpdmUgRVMzIGFuZCBFUzUgYHBhcnNlSW50YFxuICAgICAqIGltcGxlbWVudGF0aW9ucy4gU2VlIGh0dHA6Ly9lczUuZ2l0aHViLmlvLyNFLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxpdGllc1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcGFyc2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtyYWRpeF0gVGhlIHJhZGl4IHVzZWQgdG8gaW50ZXJwcmV0IHRoZSB2YWx1ZSB0byBwYXJzZS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBuZXcgaW50ZWdlciB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5wYXJzZUludCgnMDgnKTtcbiAgICAgKiAvLyA9PiA4XG4gICAgICovXG4gICAgdmFyIHBhcnNlSW50ID0gbmF0aXZlUGFyc2VJbnQod2hpdGVzcGFjZSArICcwOCcpID09IDggPyBuYXRpdmVQYXJzZUludCA6IGZ1bmN0aW9uKHZhbHVlLCByYWRpeCkge1xuICAgICAgLy8gRmlyZWZveCA8IDIxIGFuZCBPcGVyYSA8IDE1IGZvbGxvdyB0aGUgRVMzIHNwZWNpZmllZCBpbXBsZW1lbnRhdGlvbiBvZiBgcGFyc2VJbnRgXG4gICAgICByZXR1cm4gbmF0aXZlUGFyc2VJbnQoaXNTdHJpbmcodmFsdWUpID8gdmFsdWUucmVwbGFjZShyZUxlYWRpbmdTcGFjZXNBbmRaZXJvcywgJycpIDogdmFsdWUsIHJhZGl4IHx8IDApO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgXCJfLnBsdWNrXCIgc3R5bGUgZnVuY3Rpb24sIHdoaWNoIHJldHVybnMgdGhlIGBrZXlgIHZhbHVlIG9mIGFcbiAgICAgKiBnaXZlbiBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbGl0aWVzXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUgbmFtZSBvZiB0aGUgcHJvcGVydHkgdG8gcmV0cmlldmUuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBjaGFyYWN0ZXJzID0gW1xuICAgICAqICAgeyAnbmFtZSc6ICdmcmVkJywgICAnYWdlJzogNDAgfSxcbiAgICAgKiAgIHsgJ25hbWUnOiAnYmFybmV5JywgJ2FnZSc6IDM2IH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogdmFyIGdldE5hbWUgPSBfLnByb3BlcnR5KCduYW1lJyk7XG4gICAgICpcbiAgICAgKiBfLm1hcChjaGFyYWN0ZXJzLCBnZXROYW1lKTtcbiAgICAgKiAvLyA9PiBbJ2Jhcm5leScsICdmcmVkJ11cbiAgICAgKlxuICAgICAqIF8uc29ydEJ5KGNoYXJhY3RlcnMsIGdldE5hbWUpO1xuICAgICAqIC8vID0+IFt7ICduYW1lJzogJ2Jhcm5leScsICdhZ2UnOiAzNiB9LCB7ICduYW1lJzogJ2ZyZWQnLCAgICdhZ2UnOiA0MCB9XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHByb3BlcnR5KGtleSkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgICByZXR1cm4gb2JqZWN0W2tleV07XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFByb2R1Y2VzIGEgcmFuZG9tIG51bWJlciBiZXR3ZWVuIGBtaW5gIGFuZCBgbWF4YCAoaW5jbHVzaXZlKS4gSWYgb25seSBvbmVcbiAgICAgKiBhcmd1bWVudCBpcyBwcm92aWRlZCBhIG51bWJlciBiZXR3ZWVuIGAwYCBhbmQgdGhlIGdpdmVuIG51bWJlciB3aWxsIGJlXG4gICAgICogcmV0dXJuZWQuIElmIGBmbG9hdGluZ2AgaXMgdHJ1ZXkgb3IgZWl0aGVyIGBtaW5gIG9yIGBtYXhgIGFyZSBmbG9hdHMgYVxuICAgICAqIGZsb2F0aW5nLXBvaW50IG51bWJlciB3aWxsIGJlIHJldHVybmVkIGluc3RlYWQgb2YgYW4gaW50ZWdlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBVdGlsaXRpZXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW21pbj0wXSBUaGUgbWluaW11bSBwb3NzaWJsZSB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW21heD0xXSBUaGUgbWF4aW11bSBwb3NzaWJsZSB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmbG9hdGluZz1mYWxzZV0gU3BlY2lmeSByZXR1cm5pbmcgYSBmbG9hdGluZy1wb2ludCBudW1iZXIuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyBhIHJhbmRvbSBudW1iZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucmFuZG9tKDAsIDUpO1xuICAgICAqIC8vID0+IGFuIGludGVnZXIgYmV0d2VlbiAwIGFuZCA1XG4gICAgICpcbiAgICAgKiBfLnJhbmRvbSg1KTtcbiAgICAgKiAvLyA9PiBhbHNvIGFuIGludGVnZXIgYmV0d2VlbiAwIGFuZCA1XG4gICAgICpcbiAgICAgKiBfLnJhbmRvbSg1LCB0cnVlKTtcbiAgICAgKiAvLyA9PiBhIGZsb2F0aW5nLXBvaW50IG51bWJlciBiZXR3ZWVuIDAgYW5kIDVcbiAgICAgKlxuICAgICAqIF8ucmFuZG9tKDEuMiwgNS4yKTtcbiAgICAgKiAvLyA9PiBhIGZsb2F0aW5nLXBvaW50IG51bWJlciBiZXR3ZWVuIDEuMiBhbmQgNS4yXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmFuZG9tKG1pbiwgbWF4LCBmbG9hdGluZykge1xuICAgICAgdmFyIG5vTWluID0gbWluID09IG51bGwsXG4gICAgICAgICAgbm9NYXggPSBtYXggPT0gbnVsbDtcblxuICAgICAgaWYgKGZsb2F0aW5nID09IG51bGwpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBtaW4gPT0gJ2Jvb2xlYW4nICYmIG5vTWF4KSB7XG4gICAgICAgICAgZmxvYXRpbmcgPSBtaW47XG4gICAgICAgICAgbWluID0gMTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghbm9NYXggJiYgdHlwZW9mIG1heCA9PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICBmbG9hdGluZyA9IG1heDtcbiAgICAgICAgICBub01heCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChub01pbiAmJiBub01heCkge1xuICAgICAgICBtYXggPSAxO1xuICAgICAgfVxuICAgICAgbWluID0gK21pbiB8fCAwO1xuICAgICAgaWYgKG5vTWF4KSB7XG4gICAgICAgIG1heCA9IG1pbjtcbiAgICAgICAgbWluID0gMDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1heCA9ICttYXggfHwgMDtcbiAgICAgIH1cbiAgICAgIGlmIChmbG9hdGluZyB8fCBtaW4gJSAxIHx8IG1heCAlIDEpIHtcbiAgICAgICAgdmFyIHJhbmQgPSBuYXRpdmVSYW5kb20oKTtcbiAgICAgICAgcmV0dXJuIG5hdGl2ZU1pbihtaW4gKyAocmFuZCAqIChtYXggLSBtaW4gKyBwYXJzZUZsb2F0KCcxZS0nICsgKChyYW5kICsnJykubGVuZ3RoIC0gMSkpKSksIG1heCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZVJhbmRvbShtaW4sIG1heCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVzb2x2ZXMgdGhlIHZhbHVlIG9mIHByb3BlcnR5IGBrZXlgIG9uIGBvYmplY3RgLiBJZiBga2V5YCBpcyBhIGZ1bmN0aW9uXG4gICAgICogaXQgd2lsbCBiZSBpbnZva2VkIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBvYmplY3RgIGFuZCBpdHMgcmVzdWx0IHJldHVybmVkLFxuICAgICAqIGVsc2UgdGhlIHByb3BlcnR5IHZhbHVlIGlzIHJldHVybmVkLiBJZiBgb2JqZWN0YCBpcyBmYWxzZXkgdGhlbiBgdW5kZWZpbmVkYFxuICAgICAqIGlzIHJldHVybmVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxpdGllc1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIG5hbWUgb2YgdGhlIHByb3BlcnR5IHRvIHJlc29sdmUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc29sdmVkIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0ge1xuICAgICAqICAgJ2NoZWVzZSc6ICdjcnVtcGV0cycsXG4gICAgICogICAnc3R1ZmYnOiBmdW5jdGlvbigpIHtcbiAgICAgKiAgICAgcmV0dXJuICdub25zZW5zZSc7XG4gICAgICogICB9XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIF8ucmVzdWx0KG9iamVjdCwgJ2NoZWVzZScpO1xuICAgICAqIC8vID0+ICdjcnVtcGV0cydcbiAgICAgKlxuICAgICAqIF8ucmVzdWx0KG9iamVjdCwgJ3N0dWZmJyk7XG4gICAgICogLy8gPT4gJ25vbnNlbnNlJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlc3VsdChvYmplY3QsIGtleSkge1xuICAgICAgaWYgKG9iamVjdCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBvYmplY3Rba2V5XTtcbiAgICAgICAgcmV0dXJuIGlzRnVuY3Rpb24odmFsdWUpID8gb2JqZWN0W2tleV0oKSA6IHZhbHVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgbWljcm8tdGVtcGxhdGluZyBtZXRob2QgdGhhdCBoYW5kbGVzIGFyYml0cmFyeSBkZWxpbWl0ZXJzLCBwcmVzZXJ2ZXNcbiAgICAgKiB3aGl0ZXNwYWNlLCBhbmQgY29ycmVjdGx5IGVzY2FwZXMgcXVvdGVzIHdpdGhpbiBpbnRlcnBvbGF0ZWQgY29kZS5cbiAgICAgKlxuICAgICAqIE5vdGU6IEluIHRoZSBkZXZlbG9wbWVudCBidWlsZCwgYF8udGVtcGxhdGVgIHV0aWxpemVzIHNvdXJjZVVSTHMgZm9yIGVhc2llclxuICAgICAqIGRlYnVnZ2luZy4gU2VlIGh0dHA6Ly93d3cuaHRtbDVyb2Nrcy5jb20vZW4vdHV0b3JpYWxzL2RldmVsb3BlcnRvb2xzL3NvdXJjZW1hcHMvI3RvYy1zb3VyY2V1cmxcbiAgICAgKlxuICAgICAqIEZvciBtb3JlIGluZm9ybWF0aW9uIG9uIHByZWNvbXBpbGluZyB0ZW1wbGF0ZXMgc2VlOlxuICAgICAqIGh0dHBzOi8vbG9kYXNoLmNvbS9jdXN0b20tYnVpbGRzXG4gICAgICpcbiAgICAgKiBGb3IgbW9yZSBpbmZvcm1hdGlvbiBvbiBDaHJvbWUgZXh0ZW5zaW9uIHNhbmRib3hlcyBzZWU6XG4gICAgICogaHR0cDovL2RldmVsb3Blci5jaHJvbWUuY29tL3N0YWJsZS9leHRlbnNpb25zL3NhbmRib3hpbmdFdmFsLmh0bWxcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBVdGlsaXRpZXNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dCBUaGUgdGVtcGxhdGUgdGV4dC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YSBUaGUgZGF0YSBvYmplY3QgdXNlZCB0byBwb3B1bGF0ZSB0aGUgdGV4dC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIFRoZSBvcHRpb25zIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge1JlZ0V4cH0gW29wdGlvbnMuZXNjYXBlXSBUaGUgXCJlc2NhcGVcIiBkZWxpbWl0ZXIuXG4gICAgICogQHBhcmFtIHtSZWdFeHB9IFtvcHRpb25zLmV2YWx1YXRlXSBUaGUgXCJldmFsdWF0ZVwiIGRlbGltaXRlci5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnMuaW1wb3J0c10gQW4gb2JqZWN0IHRvIGltcG9ydCBpbnRvIHRoZSB0ZW1wbGF0ZSBhcyBsb2NhbCB2YXJpYWJsZXMuXG4gICAgICogQHBhcmFtIHtSZWdFeHB9IFtvcHRpb25zLmludGVycG9sYXRlXSBUaGUgXCJpbnRlcnBvbGF0ZVwiIGRlbGltaXRlci5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3NvdXJjZVVSTF0gVGhlIHNvdXJjZVVSTCBvZiB0aGUgdGVtcGxhdGUncyBjb21waWxlZCBzb3VyY2UuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFt2YXJpYWJsZV0gVGhlIGRhdGEgb2JqZWN0IHZhcmlhYmxlIG5hbWUuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufHN0cmluZ30gUmV0dXJucyBhIGNvbXBpbGVkIGZ1bmN0aW9uIHdoZW4gbm8gYGRhdGFgIG9iamVjdFxuICAgICAqICBpcyBnaXZlbiwgZWxzZSBpdCByZXR1cm5zIHRoZSBpbnRlcnBvbGF0ZWQgdGV4dC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogLy8gdXNpbmcgdGhlIFwiaW50ZXJwb2xhdGVcIiBkZWxpbWl0ZXIgdG8gY3JlYXRlIGEgY29tcGlsZWQgdGVtcGxhdGVcbiAgICAgKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKCdoZWxsbyA8JT0gbmFtZSAlPicpO1xuICAgICAqIGNvbXBpbGVkKHsgJ25hbWUnOiAnZnJlZCcgfSk7XG4gICAgICogLy8gPT4gJ2hlbGxvIGZyZWQnXG4gICAgICpcbiAgICAgKiAvLyB1c2luZyB0aGUgXCJlc2NhcGVcIiBkZWxpbWl0ZXIgdG8gZXNjYXBlIEhUTUwgaW4gZGF0YSBwcm9wZXJ0eSB2YWx1ZXNcbiAgICAgKiBfLnRlbXBsYXRlKCc8Yj48JS0gdmFsdWUgJT48L2I+JywgeyAndmFsdWUnOiAnPHNjcmlwdD4nIH0pO1xuICAgICAqIC8vID0+ICc8Yj4mbHQ7c2NyaXB0Jmd0OzwvYj4nXG4gICAgICpcbiAgICAgKiAvLyB1c2luZyB0aGUgXCJldmFsdWF0ZVwiIGRlbGltaXRlciB0byBnZW5lcmF0ZSBIVE1MXG4gICAgICogdmFyIGxpc3QgPSAnPCUgXy5mb3JFYWNoKHBlb3BsZSwgZnVuY3Rpb24obmFtZSkgeyAlPjxsaT48JS0gbmFtZSAlPjwvbGk+PCUgfSk7ICU+JztcbiAgICAgKiBfLnRlbXBsYXRlKGxpc3QsIHsgJ3Blb3BsZSc6IFsnZnJlZCcsICdiYXJuZXknXSB9KTtcbiAgICAgKiAvLyA9PiAnPGxpPmZyZWQ8L2xpPjxsaT5iYXJuZXk8L2xpPidcbiAgICAgKlxuICAgICAqIC8vIHVzaW5nIHRoZSBFUzYgZGVsaW1pdGVyIGFzIGFuIGFsdGVybmF0aXZlIHRvIHRoZSBkZWZhdWx0IFwiaW50ZXJwb2xhdGVcIiBkZWxpbWl0ZXJcbiAgICAgKiBfLnRlbXBsYXRlKCdoZWxsbyAkeyBuYW1lIH0nLCB7ICduYW1lJzogJ3BlYmJsZXMnIH0pO1xuICAgICAqIC8vID0+ICdoZWxsbyBwZWJibGVzJ1xuICAgICAqXG4gICAgICogLy8gdXNpbmcgdGhlIGludGVybmFsIGBwcmludGAgZnVuY3Rpb24gaW4gXCJldmFsdWF0ZVwiIGRlbGltaXRlcnNcbiAgICAgKiBfLnRlbXBsYXRlKCc8JSBwcmludChcImhlbGxvIFwiICsgbmFtZSk7ICU+IScsIHsgJ25hbWUnOiAnYmFybmV5JyB9KTtcbiAgICAgKiAvLyA9PiAnaGVsbG8gYmFybmV5ISdcbiAgICAgKlxuICAgICAqIC8vIHVzaW5nIGEgY3VzdG9tIHRlbXBsYXRlIGRlbGltaXRlcnNcbiAgICAgKiBfLnRlbXBsYXRlU2V0dGluZ3MgPSB7XG4gICAgICogICAnaW50ZXJwb2xhdGUnOiAve3soW1xcc1xcU10rPyl9fS9nXG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIF8udGVtcGxhdGUoJ2hlbGxvIHt7IG5hbWUgfX0hJywgeyAnbmFtZSc6ICdtdXN0YWNoZScgfSk7XG4gICAgICogLy8gPT4gJ2hlbGxvIG11c3RhY2hlISdcbiAgICAgKlxuICAgICAqIC8vIHVzaW5nIHRoZSBgaW1wb3J0c2Agb3B0aW9uIHRvIGltcG9ydCBqUXVlcnlcbiAgICAgKiB2YXIgbGlzdCA9ICc8JSBqcS5lYWNoKHBlb3BsZSwgZnVuY3Rpb24obmFtZSkgeyAlPjxsaT48JS0gbmFtZSAlPjwvbGk+PCUgfSk7ICU+JztcbiAgICAgKiBfLnRlbXBsYXRlKGxpc3QsIHsgJ3Blb3BsZSc6IFsnZnJlZCcsICdiYXJuZXknXSB9LCB7ICdpbXBvcnRzJzogeyAnanEnOiBqUXVlcnkgfSB9KTtcbiAgICAgKiAvLyA9PiAnPGxpPmZyZWQ8L2xpPjxsaT5iYXJuZXk8L2xpPidcbiAgICAgKlxuICAgICAqIC8vIHVzaW5nIHRoZSBgc291cmNlVVJMYCBvcHRpb24gdG8gc3BlY2lmeSBhIGN1c3RvbSBzb3VyY2VVUkwgZm9yIHRoZSB0ZW1wbGF0ZVxuICAgICAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJ2hlbGxvIDwlPSBuYW1lICU+JywgbnVsbCwgeyAnc291cmNlVVJMJzogJy9iYXNpYy9ncmVldGluZy5qc3QnIH0pO1xuICAgICAqIGNvbXBpbGVkKGRhdGEpO1xuICAgICAqIC8vID0+IGZpbmQgdGhlIHNvdXJjZSBvZiBcImdyZWV0aW5nLmpzdFwiIHVuZGVyIHRoZSBTb3VyY2VzIHRhYiBvciBSZXNvdXJjZXMgcGFuZWwgb2YgdGhlIHdlYiBpbnNwZWN0b3JcbiAgICAgKlxuICAgICAqIC8vIHVzaW5nIHRoZSBgdmFyaWFibGVgIG9wdGlvbiB0byBlbnN1cmUgYSB3aXRoLXN0YXRlbWVudCBpc24ndCB1c2VkIGluIHRoZSBjb21waWxlZCB0ZW1wbGF0ZVxuICAgICAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJ2hpIDwlPSBkYXRhLm5hbWUgJT4hJywgbnVsbCwgeyAndmFyaWFibGUnOiAnZGF0YScgfSk7XG4gICAgICogY29tcGlsZWQuc291cmNlO1xuICAgICAqIC8vID0+IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgKiAgIHZhciBfX3QsIF9fcCA9ICcnLCBfX2UgPSBfLmVzY2FwZTtcbiAgICAgKiAgIF9fcCArPSAnaGkgJyArICgoX190ID0gKCBkYXRhLm5hbWUgKSkgPT0gbnVsbCA/ICcnIDogX190KSArICchJztcbiAgICAgKiAgIHJldHVybiBfX3A7XG4gICAgICogfVxuICAgICAqXG4gICAgICogLy8gdXNpbmcgdGhlIGBzb3VyY2VgIHByb3BlcnR5IHRvIGlubGluZSBjb21waWxlZCB0ZW1wbGF0ZXMgZm9yIG1lYW5pbmdmdWxcbiAgICAgKiAvLyBsaW5lIG51bWJlcnMgaW4gZXJyb3IgbWVzc2FnZXMgYW5kIGEgc3RhY2sgdHJhY2VcbiAgICAgKiBmcy53cml0ZUZpbGVTeW5jKHBhdGguam9pbihjd2QsICdqc3QuanMnKSwgJ1xcXG4gICAgICogICB2YXIgSlNUID0ge1xcXG4gICAgICogICAgIFwibWFpblwiOiAnICsgXy50ZW1wbGF0ZShtYWluVGV4dCkuc291cmNlICsgJ1xcXG4gICAgICogICB9O1xcXG4gICAgICogJyk7XG4gICAgICovXG4gICAgZnVuY3Rpb24gdGVtcGxhdGUodGV4dCwgZGF0YSwgb3B0aW9ucykge1xuICAgICAgLy8gYmFzZWQgb24gSm9obiBSZXNpZydzIGB0bXBsYCBpbXBsZW1lbnRhdGlvblxuICAgICAgLy8gaHR0cDovL2Vqb2huLm9yZy9ibG9nL2phdmFzY3JpcHQtbWljcm8tdGVtcGxhdGluZy9cbiAgICAgIC8vIGFuZCBMYXVyYSBEb2t0b3JvdmEncyBkb1QuanNcbiAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9vbGFkby9kb1RcbiAgICAgIHZhciBzZXR0aW5ncyA9IGxvZGFzaC50ZW1wbGF0ZVNldHRpbmdzO1xuICAgICAgdGV4dCA9IFN0cmluZyh0ZXh0IHx8ICcnKTtcblxuICAgICAgLy8gYXZvaWQgbWlzc2luZyBkZXBlbmRlbmNpZXMgd2hlbiBgaXRlcmF0b3JUZW1wbGF0ZWAgaXMgbm90IGRlZmluZWRcbiAgICAgIG9wdGlvbnMgPSBkZWZhdWx0cyh7fSwgb3B0aW9ucywgc2V0dGluZ3MpO1xuXG4gICAgICB2YXIgaW1wb3J0cyA9IGRlZmF1bHRzKHt9LCBvcHRpb25zLmltcG9ydHMsIHNldHRpbmdzLmltcG9ydHMpLFxuICAgICAgICAgIGltcG9ydHNLZXlzID0ga2V5cyhpbXBvcnRzKSxcbiAgICAgICAgICBpbXBvcnRzVmFsdWVzID0gdmFsdWVzKGltcG9ydHMpO1xuXG4gICAgICB2YXIgaXNFdmFsdWF0aW5nLFxuICAgICAgICAgIGluZGV4ID0gMCxcbiAgICAgICAgICBpbnRlcnBvbGF0ZSA9IG9wdGlvbnMuaW50ZXJwb2xhdGUgfHwgcmVOb01hdGNoLFxuICAgICAgICAgIHNvdXJjZSA9IFwiX19wICs9ICdcIjtcblxuICAgICAgLy8gY29tcGlsZSB0aGUgcmVnZXhwIHRvIG1hdGNoIGVhY2ggZGVsaW1pdGVyXG4gICAgICB2YXIgcmVEZWxpbWl0ZXJzID0gUmVnRXhwKFxuICAgICAgICAob3B0aW9ucy5lc2NhcGUgfHwgcmVOb01hdGNoKS5zb3VyY2UgKyAnfCcgK1xuICAgICAgICBpbnRlcnBvbGF0ZS5zb3VyY2UgKyAnfCcgK1xuICAgICAgICAoaW50ZXJwb2xhdGUgPT09IHJlSW50ZXJwb2xhdGUgPyByZUVzVGVtcGxhdGUgOiByZU5vTWF0Y2gpLnNvdXJjZSArICd8JyArXG4gICAgICAgIChvcHRpb25zLmV2YWx1YXRlIHx8IHJlTm9NYXRjaCkuc291cmNlICsgJ3wkJ1xuICAgICAgLCAnZycpO1xuXG4gICAgICB0ZXh0LnJlcGxhY2UocmVEZWxpbWl0ZXJzLCBmdW5jdGlvbihtYXRjaCwgZXNjYXBlVmFsdWUsIGludGVycG9sYXRlVmFsdWUsIGVzVGVtcGxhdGVWYWx1ZSwgZXZhbHVhdGVWYWx1ZSwgb2Zmc2V0KSB7XG4gICAgICAgIGludGVycG9sYXRlVmFsdWUgfHwgKGludGVycG9sYXRlVmFsdWUgPSBlc1RlbXBsYXRlVmFsdWUpO1xuXG4gICAgICAgIC8vIGVzY2FwZSBjaGFyYWN0ZXJzIHRoYXQgY2Fubm90IGJlIGluY2x1ZGVkIGluIHN0cmluZyBsaXRlcmFsc1xuICAgICAgICBzb3VyY2UgKz0gdGV4dC5zbGljZShpbmRleCwgb2Zmc2V0KS5yZXBsYWNlKHJlVW5lc2NhcGVkU3RyaW5nLCBlc2NhcGVTdHJpbmdDaGFyKTtcblxuICAgICAgICAvLyByZXBsYWNlIGRlbGltaXRlcnMgd2l0aCBzbmlwcGV0c1xuICAgICAgICBpZiAoZXNjYXBlVmFsdWUpIHtcbiAgICAgICAgICBzb3VyY2UgKz0gXCInICtcXG5fX2UoXCIgKyBlc2NhcGVWYWx1ZSArIFwiKSArXFxuJ1wiO1xuICAgICAgICB9XG4gICAgICAgIGlmIChldmFsdWF0ZVZhbHVlKSB7XG4gICAgICAgICAgaXNFdmFsdWF0aW5nID0gdHJ1ZTtcbiAgICAgICAgICBzb3VyY2UgKz0gXCInO1xcblwiICsgZXZhbHVhdGVWYWx1ZSArIFwiO1xcbl9fcCArPSAnXCI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGludGVycG9sYXRlVmFsdWUpIHtcbiAgICAgICAgICBzb3VyY2UgKz0gXCInICtcXG4oKF9fdCA9IChcIiArIGludGVycG9sYXRlVmFsdWUgKyBcIikpID09IG51bGwgPyAnJyA6IF9fdCkgK1xcbidcIjtcbiAgICAgICAgfVxuICAgICAgICBpbmRleCA9IG9mZnNldCArIG1hdGNoLmxlbmd0aDtcblxuICAgICAgICAvLyB0aGUgSlMgZW5naW5lIGVtYmVkZGVkIGluIEFkb2JlIHByb2R1Y3RzIHJlcXVpcmVzIHJldHVybmluZyB0aGUgYG1hdGNoYFxuICAgICAgICAvLyBzdHJpbmcgaW4gb3JkZXIgdG8gcHJvZHVjZSB0aGUgY29ycmVjdCBgb2Zmc2V0YCB2YWx1ZVxuICAgICAgICByZXR1cm4gbWF0Y2g7XG4gICAgICB9KTtcblxuICAgICAgc291cmNlICs9IFwiJztcXG5cIjtcblxuICAgICAgLy8gaWYgYHZhcmlhYmxlYCBpcyBub3Qgc3BlY2lmaWVkLCB3cmFwIGEgd2l0aC1zdGF0ZW1lbnQgYXJvdW5kIHRoZSBnZW5lcmF0ZWRcbiAgICAgIC8vIGNvZGUgdG8gYWRkIHRoZSBkYXRhIG9iamVjdCB0byB0aGUgdG9wIG9mIHRoZSBzY29wZSBjaGFpblxuICAgICAgdmFyIHZhcmlhYmxlID0gb3B0aW9ucy52YXJpYWJsZSxcbiAgICAgICAgICBoYXNWYXJpYWJsZSA9IHZhcmlhYmxlO1xuXG4gICAgICBpZiAoIWhhc1ZhcmlhYmxlKSB7XG4gICAgICAgIHZhcmlhYmxlID0gJ29iaic7XG4gICAgICAgIHNvdXJjZSA9ICd3aXRoICgnICsgdmFyaWFibGUgKyAnKSB7XFxuJyArIHNvdXJjZSArICdcXG59XFxuJztcbiAgICAgIH1cbiAgICAgIC8vIGNsZWFudXAgY29kZSBieSBzdHJpcHBpbmcgZW1wdHkgc3RyaW5nc1xuICAgICAgc291cmNlID0gKGlzRXZhbHVhdGluZyA/IHNvdXJjZS5yZXBsYWNlKHJlRW1wdHlTdHJpbmdMZWFkaW5nLCAnJykgOiBzb3VyY2UpXG4gICAgICAgIC5yZXBsYWNlKHJlRW1wdHlTdHJpbmdNaWRkbGUsICckMScpXG4gICAgICAgIC5yZXBsYWNlKHJlRW1wdHlTdHJpbmdUcmFpbGluZywgJyQxOycpO1xuXG4gICAgICAvLyBmcmFtZSBjb2RlIGFzIHRoZSBmdW5jdGlvbiBib2R5XG4gICAgICBzb3VyY2UgPSAnZnVuY3Rpb24oJyArIHZhcmlhYmxlICsgJykge1xcbicgK1xuICAgICAgICAoaGFzVmFyaWFibGUgPyAnJyA6IHZhcmlhYmxlICsgJyB8fCAoJyArIHZhcmlhYmxlICsgJyA9IHt9KTtcXG4nKSArXG4gICAgICAgIFwidmFyIF9fdCwgX19wID0gJycsIF9fZSA9IF8uZXNjYXBlXCIgK1xuICAgICAgICAoaXNFdmFsdWF0aW5nXG4gICAgICAgICAgPyAnLCBfX2ogPSBBcnJheS5wcm90b3R5cGUuam9pbjtcXG4nICtcbiAgICAgICAgICAgIFwiZnVuY3Rpb24gcHJpbnQoKSB7IF9fcCArPSBfX2ouY2FsbChhcmd1bWVudHMsICcnKSB9XFxuXCJcbiAgICAgICAgICA6ICc7XFxuJ1xuICAgICAgICApICtcbiAgICAgICAgc291cmNlICtcbiAgICAgICAgJ3JldHVybiBfX3BcXG59JztcblxuICAgICAgLy8gVXNlIGEgc291cmNlVVJMIGZvciBlYXNpZXIgZGVidWdnaW5nLlxuICAgICAgLy8gaHR0cDovL3d3dy5odG1sNXJvY2tzLmNvbS9lbi90dXRvcmlhbHMvZGV2ZWxvcGVydG9vbHMvc291cmNlbWFwcy8jdG9jLXNvdXJjZXVybFxuICAgICAgdmFyIHNvdXJjZVVSTCA9ICdcXG4vKlxcbi8vIyBzb3VyY2VVUkw9JyArIChvcHRpb25zLnNvdXJjZVVSTCB8fCAnL2xvZGFzaC90ZW1wbGF0ZS9zb3VyY2VbJyArICh0ZW1wbGF0ZUNvdW50ZXIrKykgKyAnXScpICsgJ1xcbiovJztcblxuICAgICAgdHJ5IHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IEZ1bmN0aW9uKGltcG9ydHNLZXlzLCAncmV0dXJuICcgKyBzb3VyY2UgKyBzb3VyY2VVUkwpLmFwcGx5KHVuZGVmaW5lZCwgaW1wb3J0c1ZhbHVlcyk7XG4gICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgZS5zb3VyY2UgPSBzb3VyY2U7XG4gICAgICAgIHRocm93IGU7XG4gICAgICB9XG4gICAgICBpZiAoZGF0YSkge1xuICAgICAgICByZXR1cm4gcmVzdWx0KGRhdGEpO1xuICAgICAgfVxuICAgICAgLy8gcHJvdmlkZSB0aGUgY29tcGlsZWQgZnVuY3Rpb24ncyBzb3VyY2UgYnkgaXRzIGB0b1N0cmluZ2AgbWV0aG9kLCBpblxuICAgICAgLy8gc3VwcG9ydGVkIGVudmlyb25tZW50cywgb3IgdGhlIGBzb3VyY2VgIHByb3BlcnR5IGFzIGEgY29udmVuaWVuY2UgZm9yXG4gICAgICAvLyBpbmxpbmluZyBjb21waWxlZCB0ZW1wbGF0ZXMgZHVyaW5nIHRoZSBidWlsZCBwcm9jZXNzXG4gICAgICByZXN1bHQuc291cmNlID0gc291cmNlO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFeGVjdXRlcyB0aGUgY2FsbGJhY2sgYG5gIHRpbWVzLCByZXR1cm5pbmcgYW4gYXJyYXkgb2YgdGhlIHJlc3VsdHNcbiAgICAgKiBvZiBlYWNoIGNhbGxiYWNrIGV4ZWN1dGlvbi4gVGhlIGNhbGxiYWNrIGlzIGJvdW5kIHRvIGB0aGlzQXJnYCBhbmQgaW52b2tlZFxuICAgICAqIHdpdGggb25lIGFyZ3VtZW50OyAoaW5kZXgpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxpdGllc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBudW1iZXIgb2YgdGltZXMgdG8gZXhlY3V0ZSB0aGUgY2FsbGJhY2suXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgVGhlIGZ1bmN0aW9uIGNhbGxlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgY2FsbGJhY2tgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBhbiBhcnJheSBvZiB0aGUgcmVzdWx0cyBvZiBlYWNoIGBjYWxsYmFja2AgZXhlY3V0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgZGljZVJvbGxzID0gXy50aW1lcygzLCBfLnBhcnRpYWwoXy5yYW5kb20sIDEsIDYpKTtcbiAgICAgKiAvLyA9PiBbMywgNiwgNF1cbiAgICAgKlxuICAgICAqIF8udGltZXMoMywgZnVuY3Rpb24obikgeyBtYWdlLmNhc3RTcGVsbChuKTsgfSk7XG4gICAgICogLy8gPT4gY2FsbHMgYG1hZ2UuY2FzdFNwZWxsKG4pYCB0aHJlZSB0aW1lcywgcGFzc2luZyBgbmAgb2YgYDBgLCBgMWAsIGFuZCBgMmAgcmVzcGVjdGl2ZWx5XG4gICAgICpcbiAgICAgKiBfLnRpbWVzKDMsIGZ1bmN0aW9uKG4pIHsgdGhpcy5jYXN0KG4pOyB9LCBtYWdlKTtcbiAgICAgKiAvLyA9PiBhbHNvIGNhbGxzIGBtYWdlLmNhc3RTcGVsbChuKWAgdGhyZWUgdGltZXNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0aW1lcyhuLCBjYWxsYmFjaywgdGhpc0FyZykge1xuICAgICAgbiA9IChuID0gK24pID4gLTEgPyBuIDogMDtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIHJlc3VsdCA9IEFycmF5KG4pO1xuXG4gICAgICBjYWxsYmFjayA9IGJhc2VDcmVhdGVDYWxsYmFjayhjYWxsYmFjaywgdGhpc0FyZywgMSk7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IG4pIHtcbiAgICAgICAgcmVzdWx0W2luZGV4XSA9IGNhbGxiYWNrKGluZGV4KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGludmVyc2Ugb2YgYF8uZXNjYXBlYCB0aGlzIG1ldGhvZCBjb252ZXJ0cyB0aGUgSFRNTCBlbnRpdGllc1xuICAgICAqIGAmYW1wO2AsIGAmbHQ7YCwgYCZndDtgLCBgJnF1b3Q7YCwgYW5kIGAmIzM5O2AgaW4gYHN0cmluZ2AgdG8gdGhlaXJcbiAgICAgKiBjb3JyZXNwb25kaW5nIGNoYXJhY3RlcnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbGl0aWVzXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIHVuZXNjYXBlLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHVuZXNjYXBlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udW5lc2NhcGUoJ0ZyZWQsIEJhcm5leSAmYW1wOyBQZWJibGVzJyk7XG4gICAgICogLy8gPT4gJ0ZyZWQsIEJhcm5leSAmIFBlYmJsZXMnXG4gICAgICovXG4gICAgZnVuY3Rpb24gdW5lc2NhcGUoc3RyaW5nKSB7XG4gICAgICByZXR1cm4gc3RyaW5nID09IG51bGwgPyAnJyA6IFN0cmluZyhzdHJpbmcpLnJlcGxhY2UocmVFc2NhcGVkSHRtbCwgdW5lc2NhcGVIdG1sQ2hhcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIGEgdW5pcXVlIElELiBJZiBgcHJlZml4YCBpcyBwcm92aWRlZCB0aGUgSUQgd2lsbCBiZSBhcHBlbmRlZCB0byBpdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBVdGlsaXRpZXNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3ByZWZpeF0gVGhlIHZhbHVlIHRvIHByZWZpeCB0aGUgSUQgd2l0aC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB1bmlxdWUgSUQuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udW5pcXVlSWQoJ2NvbnRhY3RfJyk7XG4gICAgICogLy8gPT4gJ2NvbnRhY3RfMTA0J1xuICAgICAqXG4gICAgICogXy51bmlxdWVJZCgpO1xuICAgICAqIC8vID0+ICcxMDUnXG4gICAgICovXG4gICAgZnVuY3Rpb24gdW5pcXVlSWQocHJlZml4KSB7XG4gICAgICB2YXIgaWQgPSArK2lkQ291bnRlcjtcbiAgICAgIHJldHVybiBTdHJpbmcocHJlZml4ID09IG51bGwgPyAnJyA6IHByZWZpeCkgKyBpZDtcbiAgICB9XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBgbG9kYXNoYCBvYmplY3QgdGhhdCB3cmFwcyB0aGUgZ2l2ZW4gdmFsdWUgd2l0aCBleHBsaWNpdFxuICAgICAqIG1ldGhvZCBjaGFpbmluZyBlbmFibGVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IENoYWluaW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gd3JhcC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSB3cmFwcGVyIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGNoYXJhY3RlcnMgPSBbXG4gICAgICogICB7ICduYW1lJzogJ2Jhcm5leScsICAnYWdlJzogMzYgfSxcbiAgICAgKiAgIHsgJ25hbWUnOiAnZnJlZCcsICAgICdhZ2UnOiA0MCB9LFxuICAgICAqICAgeyAnbmFtZSc6ICdwZWJibGVzJywgJ2FnZSc6IDEgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiB2YXIgeW91bmdlc3QgPSBfLmNoYWluKGNoYXJhY3RlcnMpXG4gICAgICogICAgIC5zb3J0QnkoJ2FnZScpXG4gICAgICogICAgIC5tYXAoZnVuY3Rpb24oY2hyKSB7IHJldHVybiBjaHIubmFtZSArICcgaXMgJyArIGNoci5hZ2U7IH0pXG4gICAgICogICAgIC5maXJzdCgpXG4gICAgICogICAgIC52YWx1ZSgpO1xuICAgICAqIC8vID0+ICdwZWJibGVzIGlzIDEnXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2hhaW4odmFsdWUpIHtcbiAgICAgIHZhbHVlID0gbmV3IGxvZGFzaFdyYXBwZXIodmFsdWUpO1xuICAgICAgdmFsdWUuX19jaGFpbl9fID0gdHJ1ZTtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbnZva2VzIGBpbnRlcmNlcHRvcmAgd2l0aCB0aGUgYHZhbHVlYCBhcyB0aGUgZmlyc3QgYXJndW1lbnQgYW5kIHRoZW5cbiAgICAgKiByZXR1cm5zIGB2YWx1ZWAuIFRoZSBwdXJwb3NlIG9mIHRoaXMgbWV0aG9kIGlzIHRvIFwidGFwIGludG9cIiBhIG1ldGhvZFxuICAgICAqIGNoYWluIGluIG9yZGVyIHRvIHBlcmZvcm0gb3BlcmF0aW9ucyBvbiBpbnRlcm1lZGlhdGUgcmVzdWx0cyB3aXRoaW5cbiAgICAgKiB0aGUgY2hhaW4uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgQ2hhaW5pbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwcm92aWRlIHRvIGBpbnRlcmNlcHRvcmAuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaW50ZXJjZXB0b3IgVGhlIGZ1bmN0aW9uIHRvIGludm9rZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyBgdmFsdWVgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfKFsxLCAyLCAzLCA0XSlcbiAgICAgKiAgLnRhcChmdW5jdGlvbihhcnJheSkgeyBhcnJheS5wb3AoKTsgfSlcbiAgICAgKiAgLnJldmVyc2UoKVxuICAgICAqICAudmFsdWUoKTtcbiAgICAgKiAvLyA9PiBbMywgMiwgMV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0YXAodmFsdWUsIGludGVyY2VwdG9yKSB7XG4gICAgICBpbnRlcmNlcHRvcih2YWx1ZSk7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRW5hYmxlcyBleHBsaWNpdCBtZXRob2QgY2hhaW5pbmcgb24gdGhlIHdyYXBwZXIgb2JqZWN0LlxuICAgICAqXG4gICAgICogQG5hbWUgY2hhaW5cbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBDaGFpbmluZ1xuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSB3cmFwcGVyIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGNoYXJhY3RlcnMgPSBbXG4gICAgICogICB7ICduYW1lJzogJ2Jhcm5leScsICdhZ2UnOiAzNiB9LFxuICAgICAqICAgeyAnbmFtZSc6ICdmcmVkJywgICAnYWdlJzogNDAgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiAvLyB3aXRob3V0IGV4cGxpY2l0IGNoYWluaW5nXG4gICAgICogXyhjaGFyYWN0ZXJzKS5maXJzdCgpO1xuICAgICAqIC8vID0+IHsgJ25hbWUnOiAnYmFybmV5JywgJ2FnZSc6IDM2IH1cbiAgICAgKlxuICAgICAqIC8vIHdpdGggZXhwbGljaXQgY2hhaW5pbmdcbiAgICAgKiBfKGNoYXJhY3RlcnMpLmNoYWluKClcbiAgICAgKiAgIC5maXJzdCgpXG4gICAgICogICAucGljaygnYWdlJylcbiAgICAgKiAgIC52YWx1ZSgpO1xuICAgICAqIC8vID0+IHsgJ2FnZSc6IDM2IH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3cmFwcGVyQ2hhaW4oKSB7XG4gICAgICB0aGlzLl9fY2hhaW5fXyA9IHRydWU7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQcm9kdWNlcyB0aGUgYHRvU3RyaW5nYCByZXN1bHQgb2YgdGhlIHdyYXBwZWQgdmFsdWUuXG4gICAgICpcbiAgICAgKiBAbmFtZSB0b1N0cmluZ1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IENoYWluaW5nXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc3RyaW5nIHJlc3VsdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXyhbMSwgMiwgM10pLnRvU3RyaW5nKCk7XG4gICAgICogLy8gPT4gJzEsMiwzJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdyYXBwZXJUb1N0cmluZygpIHtcbiAgICAgIHJldHVybiBTdHJpbmcodGhpcy5fX3dyYXBwZWRfXyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXh0cmFjdHMgdGhlIHdyYXBwZWQgdmFsdWUuXG4gICAgICpcbiAgICAgKiBAbmFtZSB2YWx1ZU9mXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAYWxpYXMgdmFsdWVcbiAgICAgKiBAY2F0ZWdvcnkgQ2hhaW5pbmdcbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgd3JhcHBlZCB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXyhbMSwgMiwgM10pLnZhbHVlT2YoKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3cmFwcGVyVmFsdWVPZigpIHtcbiAgICAgIHJldHVybiB0aGlzLl9fd3JhcHBlZF9fO1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLy8gYWRkIGZ1bmN0aW9ucyB0aGF0IHJldHVybiB3cmFwcGVkIHZhbHVlcyB3aGVuIGNoYWluaW5nXG4gICAgbG9kYXNoLmFmdGVyID0gYWZ0ZXI7XG4gICAgbG9kYXNoLmFzc2lnbiA9IGFzc2lnbjtcbiAgICBsb2Rhc2guYXQgPSBhdDtcbiAgICBsb2Rhc2guYmluZCA9IGJpbmQ7XG4gICAgbG9kYXNoLmJpbmRBbGwgPSBiaW5kQWxsO1xuICAgIGxvZGFzaC5iaW5kS2V5ID0gYmluZEtleTtcbiAgICBsb2Rhc2guY2hhaW4gPSBjaGFpbjtcbiAgICBsb2Rhc2guY29tcGFjdCA9IGNvbXBhY3Q7XG4gICAgbG9kYXNoLmNvbXBvc2UgPSBjb21wb3NlO1xuICAgIGxvZGFzaC5jb25zdGFudCA9IGNvbnN0YW50O1xuICAgIGxvZGFzaC5jb3VudEJ5ID0gY291bnRCeTtcbiAgICBsb2Rhc2guY3JlYXRlID0gY3JlYXRlO1xuICAgIGxvZGFzaC5jcmVhdGVDYWxsYmFjayA9IGNyZWF0ZUNhbGxiYWNrO1xuICAgIGxvZGFzaC5jdXJyeSA9IGN1cnJ5O1xuICAgIGxvZGFzaC5kZWJvdW5jZSA9IGRlYm91bmNlO1xuICAgIGxvZGFzaC5kZWZhdWx0cyA9IGRlZmF1bHRzO1xuICAgIGxvZGFzaC5kZWZlciA9IGRlZmVyO1xuICAgIGxvZGFzaC5kZWxheSA9IGRlbGF5O1xuICAgIGxvZGFzaC5kaWZmZXJlbmNlID0gZGlmZmVyZW5jZTtcbiAgICBsb2Rhc2guZmlsdGVyID0gZmlsdGVyO1xuICAgIGxvZGFzaC5mbGF0dGVuID0gZmxhdHRlbjtcbiAgICBsb2Rhc2guZm9yRWFjaCA9IGZvckVhY2g7XG4gICAgbG9kYXNoLmZvckVhY2hSaWdodCA9IGZvckVhY2hSaWdodDtcbiAgICBsb2Rhc2guZm9ySW4gPSBmb3JJbjtcbiAgICBsb2Rhc2guZm9ySW5SaWdodCA9IGZvckluUmlnaHQ7XG4gICAgbG9kYXNoLmZvck93biA9IGZvck93bjtcbiAgICBsb2Rhc2guZm9yT3duUmlnaHQgPSBmb3JPd25SaWdodDtcbiAgICBsb2Rhc2guZnVuY3Rpb25zID0gZnVuY3Rpb25zO1xuICAgIGxvZGFzaC5ncm91cEJ5ID0gZ3JvdXBCeTtcbiAgICBsb2Rhc2guaW5kZXhCeSA9IGluZGV4Qnk7XG4gICAgbG9kYXNoLmluaXRpYWwgPSBpbml0aWFsO1xuICAgIGxvZGFzaC5pbnRlcnNlY3Rpb24gPSBpbnRlcnNlY3Rpb247XG4gICAgbG9kYXNoLmludmVydCA9IGludmVydDtcbiAgICBsb2Rhc2guaW52b2tlID0gaW52b2tlO1xuICAgIGxvZGFzaC5rZXlzID0ga2V5cztcbiAgICBsb2Rhc2gubWFwID0gbWFwO1xuICAgIGxvZGFzaC5tYXBWYWx1ZXMgPSBtYXBWYWx1ZXM7XG4gICAgbG9kYXNoLm1heCA9IG1heDtcbiAgICBsb2Rhc2gubWVtb2l6ZSA9IG1lbW9pemU7XG4gICAgbG9kYXNoLm1lcmdlID0gbWVyZ2U7XG4gICAgbG9kYXNoLm1pbiA9IG1pbjtcbiAgICBsb2Rhc2gub21pdCA9IG9taXQ7XG4gICAgbG9kYXNoLm9uY2UgPSBvbmNlO1xuICAgIGxvZGFzaC5wYWlycyA9IHBhaXJzO1xuICAgIGxvZGFzaC5wYXJ0aWFsID0gcGFydGlhbDtcbiAgICBsb2Rhc2gucGFydGlhbFJpZ2h0ID0gcGFydGlhbFJpZ2h0O1xuICAgIGxvZGFzaC5waWNrID0gcGljaztcbiAgICBsb2Rhc2gucGx1Y2sgPSBwbHVjaztcbiAgICBsb2Rhc2gucHJvcGVydHkgPSBwcm9wZXJ0eTtcbiAgICBsb2Rhc2gucHVsbCA9IHB1bGw7XG4gICAgbG9kYXNoLnJhbmdlID0gcmFuZ2U7XG4gICAgbG9kYXNoLnJlamVjdCA9IHJlamVjdDtcbiAgICBsb2Rhc2gucmVtb3ZlID0gcmVtb3ZlO1xuICAgIGxvZGFzaC5yZXN0ID0gcmVzdDtcbiAgICBsb2Rhc2guc2h1ZmZsZSA9IHNodWZmbGU7XG4gICAgbG9kYXNoLnNvcnRCeSA9IHNvcnRCeTtcbiAgICBsb2Rhc2gudGFwID0gdGFwO1xuICAgIGxvZGFzaC50aHJvdHRsZSA9IHRocm90dGxlO1xuICAgIGxvZGFzaC50aW1lcyA9IHRpbWVzO1xuICAgIGxvZGFzaC50b0FycmF5ID0gdG9BcnJheTtcbiAgICBsb2Rhc2gudHJhbnNmb3JtID0gdHJhbnNmb3JtO1xuICAgIGxvZGFzaC51bmlvbiA9IHVuaW9uO1xuICAgIGxvZGFzaC51bmlxID0gdW5pcTtcbiAgICBsb2Rhc2gudmFsdWVzID0gdmFsdWVzO1xuICAgIGxvZGFzaC53aGVyZSA9IHdoZXJlO1xuICAgIGxvZGFzaC53aXRob3V0ID0gd2l0aG91dDtcbiAgICBsb2Rhc2gud3JhcCA9IHdyYXA7XG4gICAgbG9kYXNoLnhvciA9IHhvcjtcbiAgICBsb2Rhc2guemlwID0gemlwO1xuICAgIGxvZGFzaC56aXBPYmplY3QgPSB6aXBPYmplY3Q7XG5cbiAgICAvLyBhZGQgYWxpYXNlc1xuICAgIGxvZGFzaC5jb2xsZWN0ID0gbWFwO1xuICAgIGxvZGFzaC5kcm9wID0gcmVzdDtcbiAgICBsb2Rhc2guZWFjaCA9IGZvckVhY2g7XG4gICAgbG9kYXNoLmVhY2hSaWdodCA9IGZvckVhY2hSaWdodDtcbiAgICBsb2Rhc2guZXh0ZW5kID0gYXNzaWduO1xuICAgIGxvZGFzaC5tZXRob2RzID0gZnVuY3Rpb25zO1xuICAgIGxvZGFzaC5vYmplY3QgPSB6aXBPYmplY3Q7XG4gICAgbG9kYXNoLnNlbGVjdCA9IGZpbHRlcjtcbiAgICBsb2Rhc2gudGFpbCA9IHJlc3Q7XG4gICAgbG9kYXNoLnVuaXF1ZSA9IHVuaXE7XG4gICAgbG9kYXNoLnVuemlwID0gemlwO1xuXG4gICAgLy8gYWRkIGZ1bmN0aW9ucyB0byBgbG9kYXNoLnByb3RvdHlwZWBcbiAgICBtaXhpbihsb2Rhc2gpO1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvLyBhZGQgZnVuY3Rpb25zIHRoYXQgcmV0dXJuIHVud3JhcHBlZCB2YWx1ZXMgd2hlbiBjaGFpbmluZ1xuICAgIGxvZGFzaC5jbG9uZSA9IGNsb25lO1xuICAgIGxvZGFzaC5jbG9uZURlZXAgPSBjbG9uZURlZXA7XG4gICAgbG9kYXNoLmNvbnRhaW5zID0gY29udGFpbnM7XG4gICAgbG9kYXNoLmVzY2FwZSA9IGVzY2FwZTtcbiAgICBsb2Rhc2guZXZlcnkgPSBldmVyeTtcbiAgICBsb2Rhc2guZmluZCA9IGZpbmQ7XG4gICAgbG9kYXNoLmZpbmRJbmRleCA9IGZpbmRJbmRleDtcbiAgICBsb2Rhc2guZmluZEtleSA9IGZpbmRLZXk7XG4gICAgbG9kYXNoLmZpbmRMYXN0ID0gZmluZExhc3Q7XG4gICAgbG9kYXNoLmZpbmRMYXN0SW5kZXggPSBmaW5kTGFzdEluZGV4O1xuICAgIGxvZGFzaC5maW5kTGFzdEtleSA9IGZpbmRMYXN0S2V5O1xuICAgIGxvZGFzaC5oYXMgPSBoYXM7XG4gICAgbG9kYXNoLmlkZW50aXR5ID0gaWRlbnRpdHk7XG4gICAgbG9kYXNoLmluZGV4T2YgPSBpbmRleE9mO1xuICAgIGxvZGFzaC5pc0FyZ3VtZW50cyA9IGlzQXJndW1lbnRzO1xuICAgIGxvZGFzaC5pc0FycmF5ID0gaXNBcnJheTtcbiAgICBsb2Rhc2guaXNCb29sZWFuID0gaXNCb29sZWFuO1xuICAgIGxvZGFzaC5pc0RhdGUgPSBpc0RhdGU7XG4gICAgbG9kYXNoLmlzRWxlbWVudCA9IGlzRWxlbWVudDtcbiAgICBsb2Rhc2guaXNFbXB0eSA9IGlzRW1wdHk7XG4gICAgbG9kYXNoLmlzRXF1YWwgPSBpc0VxdWFsO1xuICAgIGxvZGFzaC5pc0Zpbml0ZSA9IGlzRmluaXRlO1xuICAgIGxvZGFzaC5pc0Z1bmN0aW9uID0gaXNGdW5jdGlvbjtcbiAgICBsb2Rhc2guaXNOYU4gPSBpc05hTjtcbiAgICBsb2Rhc2guaXNOdWxsID0gaXNOdWxsO1xuICAgIGxvZGFzaC5pc051bWJlciA9IGlzTnVtYmVyO1xuICAgIGxvZGFzaC5pc09iamVjdCA9IGlzT2JqZWN0O1xuICAgIGxvZGFzaC5pc1BsYWluT2JqZWN0ID0gaXNQbGFpbk9iamVjdDtcbiAgICBsb2Rhc2guaXNSZWdFeHAgPSBpc1JlZ0V4cDtcbiAgICBsb2Rhc2guaXNTdHJpbmcgPSBpc1N0cmluZztcbiAgICBsb2Rhc2guaXNVbmRlZmluZWQgPSBpc1VuZGVmaW5lZDtcbiAgICBsb2Rhc2gubGFzdEluZGV4T2YgPSBsYXN0SW5kZXhPZjtcbiAgICBsb2Rhc2gubWl4aW4gPSBtaXhpbjtcbiAgICBsb2Rhc2gubm9Db25mbGljdCA9IG5vQ29uZmxpY3Q7XG4gICAgbG9kYXNoLm5vb3AgPSBub29wO1xuICAgIGxvZGFzaC5ub3cgPSBub3c7XG4gICAgbG9kYXNoLnBhcnNlSW50ID0gcGFyc2VJbnQ7XG4gICAgbG9kYXNoLnJhbmRvbSA9IHJhbmRvbTtcbiAgICBsb2Rhc2gucmVkdWNlID0gcmVkdWNlO1xuICAgIGxvZGFzaC5yZWR1Y2VSaWdodCA9IHJlZHVjZVJpZ2h0O1xuICAgIGxvZGFzaC5yZXN1bHQgPSByZXN1bHQ7XG4gICAgbG9kYXNoLnJ1bkluQ29udGV4dCA9IHJ1bkluQ29udGV4dDtcbiAgICBsb2Rhc2guc2l6ZSA9IHNpemU7XG4gICAgbG9kYXNoLnNvbWUgPSBzb21lO1xuICAgIGxvZGFzaC5zb3J0ZWRJbmRleCA9IHNvcnRlZEluZGV4O1xuICAgIGxvZGFzaC50ZW1wbGF0ZSA9IHRlbXBsYXRlO1xuICAgIGxvZGFzaC51bmVzY2FwZSA9IHVuZXNjYXBlO1xuICAgIGxvZGFzaC51bmlxdWVJZCA9IHVuaXF1ZUlkO1xuXG4gICAgLy8gYWRkIGFsaWFzZXNcbiAgICBsb2Rhc2guYWxsID0gZXZlcnk7XG4gICAgbG9kYXNoLmFueSA9IHNvbWU7XG4gICAgbG9kYXNoLmRldGVjdCA9IGZpbmQ7XG4gICAgbG9kYXNoLmZpbmRXaGVyZSA9IGZpbmQ7XG4gICAgbG9kYXNoLmZvbGRsID0gcmVkdWNlO1xuICAgIGxvZGFzaC5mb2xkciA9IHJlZHVjZVJpZ2h0O1xuICAgIGxvZGFzaC5pbmNsdWRlID0gY29udGFpbnM7XG4gICAgbG9kYXNoLmluamVjdCA9IHJlZHVjZTtcblxuICAgIG1peGluKGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNvdXJjZSA9IHt9XG4gICAgICBmb3JPd24obG9kYXNoLCBmdW5jdGlvbihmdW5jLCBtZXRob2ROYW1lKSB7XG4gICAgICAgIGlmICghbG9kYXNoLnByb3RvdHlwZVttZXRob2ROYW1lXSkge1xuICAgICAgICAgIHNvdXJjZVttZXRob2ROYW1lXSA9IGZ1bmM7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHNvdXJjZTtcbiAgICB9KCksIGZhbHNlKTtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLy8gYWRkIGZ1bmN0aW9ucyBjYXBhYmxlIG9mIHJldHVybmluZyB3cmFwcGVkIGFuZCB1bndyYXBwZWQgdmFsdWVzIHdoZW4gY2hhaW5pbmdcbiAgICBsb2Rhc2guZmlyc3QgPSBmaXJzdDtcbiAgICBsb2Rhc2gubGFzdCA9IGxhc3Q7XG4gICAgbG9kYXNoLnNhbXBsZSA9IHNhbXBsZTtcblxuICAgIC8vIGFkZCBhbGlhc2VzXG4gICAgbG9kYXNoLnRha2UgPSBmaXJzdDtcbiAgICBsb2Rhc2guaGVhZCA9IGZpcnN0O1xuXG4gICAgZm9yT3duKGxvZGFzaCwgZnVuY3Rpb24oZnVuYywgbWV0aG9kTmFtZSkge1xuICAgICAgdmFyIGNhbGxiYWNrYWJsZSA9IG1ldGhvZE5hbWUgIT09ICdzYW1wbGUnO1xuICAgICAgaWYgKCFsb2Rhc2gucHJvdG90eXBlW21ldGhvZE5hbWVdKSB7XG4gICAgICAgIGxvZGFzaC5wcm90b3R5cGVbbWV0aG9kTmFtZV09IGZ1bmN0aW9uKG4sIGd1YXJkKSB7XG4gICAgICAgICAgdmFyIGNoYWluQWxsID0gdGhpcy5fX2NoYWluX18sXG4gICAgICAgICAgICAgIHJlc3VsdCA9IGZ1bmModGhpcy5fX3dyYXBwZWRfXywgbiwgZ3VhcmQpO1xuXG4gICAgICAgICAgcmV0dXJuICFjaGFpbkFsbCAmJiAobiA9PSBudWxsIHx8IChndWFyZCAmJiAhKGNhbGxiYWNrYWJsZSAmJiB0eXBlb2YgbiA9PSAnZnVuY3Rpb24nKSkpXG4gICAgICAgICAgICA/IHJlc3VsdFxuICAgICAgICAgICAgOiBuZXcgbG9kYXNoV3JhcHBlcihyZXN1bHQsIGNoYWluQWxsKTtcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogVGhlIHNlbWFudGljIHZlcnNpb24gbnVtYmVyLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHR5cGUgc3RyaW5nXG4gICAgICovXG4gICAgbG9kYXNoLlZFUlNJT04gPSAnMi40LjInO1xuXG4gICAgLy8gYWRkIFwiQ2hhaW5pbmdcIiBmdW5jdGlvbnMgdG8gdGhlIHdyYXBwZXJcbiAgICBsb2Rhc2gucHJvdG90eXBlLmNoYWluID0gd3JhcHBlckNoYWluO1xuICAgIGxvZGFzaC5wcm90b3R5cGUudG9TdHJpbmcgPSB3cmFwcGVyVG9TdHJpbmc7XG4gICAgbG9kYXNoLnByb3RvdHlwZS52YWx1ZSA9IHdyYXBwZXJWYWx1ZU9mO1xuICAgIGxvZGFzaC5wcm90b3R5cGUudmFsdWVPZiA9IHdyYXBwZXJWYWx1ZU9mO1xuXG4gICAgLy8gYWRkIGBBcnJheWAgZnVuY3Rpb25zIHRoYXQgcmV0dXJuIHVud3JhcHBlZCB2YWx1ZXNcbiAgICBiYXNlRWFjaChbJ2pvaW4nLCAncG9wJywgJ3NoaWZ0J10sIGZ1bmN0aW9uKG1ldGhvZE5hbWUpIHtcbiAgICAgIHZhciBmdW5jID0gYXJyYXlSZWZbbWV0aG9kTmFtZV07XG4gICAgICBsb2Rhc2gucHJvdG90eXBlW21ldGhvZE5hbWVdID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBjaGFpbkFsbCA9IHRoaXMuX19jaGFpbl9fLFxuICAgICAgICAgICAgcmVzdWx0ID0gZnVuYy5hcHBseSh0aGlzLl9fd3JhcHBlZF9fLCBhcmd1bWVudHMpO1xuXG4gICAgICAgIHJldHVybiBjaGFpbkFsbFxuICAgICAgICAgID8gbmV3IGxvZGFzaFdyYXBwZXIocmVzdWx0LCBjaGFpbkFsbClcbiAgICAgICAgICA6IHJlc3VsdDtcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICAvLyBhZGQgYEFycmF5YCBmdW5jdGlvbnMgdGhhdCByZXR1cm4gdGhlIGV4aXN0aW5nIHdyYXBwZWQgdmFsdWVcbiAgICBiYXNlRWFjaChbJ3B1c2gnLCAncmV2ZXJzZScsICdzb3J0JywgJ3Vuc2hpZnQnXSwgZnVuY3Rpb24obWV0aG9kTmFtZSkge1xuICAgICAgdmFyIGZ1bmMgPSBhcnJheVJlZlttZXRob2ROYW1lXTtcbiAgICAgIGxvZGFzaC5wcm90b3R5cGVbbWV0aG9kTmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgZnVuYy5hcHBseSh0aGlzLl9fd3JhcHBlZF9fLCBhcmd1bWVudHMpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICAvLyBhZGQgYEFycmF5YCBmdW5jdGlvbnMgdGhhdCByZXR1cm4gbmV3IHdyYXBwZWQgdmFsdWVzXG4gICAgYmFzZUVhY2goWydjb25jYXQnLCAnc2xpY2UnLCAnc3BsaWNlJ10sIGZ1bmN0aW9uKG1ldGhvZE5hbWUpIHtcbiAgICAgIHZhciBmdW5jID0gYXJyYXlSZWZbbWV0aG9kTmFtZV07XG4gICAgICBsb2Rhc2gucHJvdG90eXBlW21ldGhvZE5hbWVdID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBuZXcgbG9kYXNoV3JhcHBlcihmdW5jLmFwcGx5KHRoaXMuX193cmFwcGVkX18sIGFyZ3VtZW50cyksIHRoaXMuX19jaGFpbl9fKTtcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICAvLyBhdm9pZCBhcnJheS1saWtlIG9iamVjdCBidWdzIHdpdGggYEFycmF5I3NoaWZ0YCBhbmQgYEFycmF5I3NwbGljZWBcbiAgICAvLyBpbiBJRSA8IDksIEZpcmVmb3ggPCAxMCwgTmFyd2hhbCwgYW5kIFJpbmdvSlNcbiAgICBpZiAoIXN1cHBvcnQuc3BsaWNlT2JqZWN0cykge1xuICAgICAgYmFzZUVhY2goWydwb3AnLCAnc2hpZnQnLCAnc3BsaWNlJ10sIGZ1bmN0aW9uKG1ldGhvZE5hbWUpIHtcbiAgICAgICAgdmFyIGZ1bmMgPSBhcnJheVJlZlttZXRob2ROYW1lXSxcbiAgICAgICAgICAgIGlzU3BsaWNlID0gbWV0aG9kTmFtZSA9PSAnc3BsaWNlJztcblxuICAgICAgICBsb2Rhc2gucHJvdG90eXBlW21ldGhvZE5hbWVdID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIGNoYWluQWxsID0gdGhpcy5fX2NoYWluX18sXG4gICAgICAgICAgICAgIHZhbHVlID0gdGhpcy5fX3dyYXBwZWRfXyxcbiAgICAgICAgICAgICAgcmVzdWx0ID0gZnVuYy5hcHBseSh2YWx1ZSwgYXJndW1lbnRzKTtcblxuICAgICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGRlbGV0ZSB2YWx1ZVswXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIChjaGFpbkFsbCB8fCBpc1NwbGljZSlcbiAgICAgICAgICAgID8gbmV3IGxvZGFzaFdyYXBwZXIocmVzdWx0LCBjaGFpbkFsbClcbiAgICAgICAgICAgIDogcmVzdWx0O1xuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGxvZGFzaDtcbiAgfVxuXG4gIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gIC8vIGV4cG9zZSBMby1EYXNoXG4gIHZhciBfID0gcnVuSW5Db250ZXh0KCk7XG5cbiAgLy8gc29tZSBBTUQgYnVpbGQgb3B0aW1pemVycyBsaWtlIHIuanMgY2hlY2sgZm9yIGNvbmRpdGlvbiBwYXR0ZXJucyBsaWtlIHRoZSBmb2xsb3dpbmc6XG4gIGlmICh0eXBlb2YgZGVmaW5lID09ICdmdW5jdGlvbicgJiYgdHlwZW9mIGRlZmluZS5hbWQgPT0gJ29iamVjdCcgJiYgZGVmaW5lLmFtZCkge1xuICAgIC8vIEV4cG9zZSBMby1EYXNoIHRvIHRoZSBnbG9iYWwgb2JqZWN0IGV2ZW4gd2hlbiBhbiBBTUQgbG9hZGVyIGlzIHByZXNlbnQgaW5cbiAgICAvLyBjYXNlIExvLURhc2ggaXMgbG9hZGVkIHdpdGggYSBSZXF1aXJlSlMgc2hpbSBjb25maWcuXG4gICAgLy8gU2VlIGh0dHA6Ly9yZXF1aXJlanMub3JnL2RvY3MvYXBpLmh0bWwjY29uZmlnLXNoaW1cbiAgICByb290Ll8gPSBfO1xuXG4gICAgLy8gZGVmaW5lIGFzIGFuIGFub255bW91cyBtb2R1bGUgc28sIHRocm91Z2ggcGF0aCBtYXBwaW5nLCBpdCBjYW4gYmVcbiAgICAvLyByZWZlcmVuY2VkIGFzIHRoZSBcInVuZGVyc2NvcmVcIiBtb2R1bGVcbiAgICBkZWZpbmUoZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gXztcbiAgICB9KTtcbiAgfVxuICAvLyBjaGVjayBmb3IgYGV4cG9ydHNgIGFmdGVyIGBkZWZpbmVgIGluIGNhc2UgYSBidWlsZCBvcHRpbWl6ZXIgYWRkcyBhbiBgZXhwb3J0c2Agb2JqZWN0XG4gIGVsc2UgaWYgKGZyZWVFeHBvcnRzICYmIGZyZWVNb2R1bGUpIHtcbiAgICAvLyBpbiBOb2RlLmpzIG9yIFJpbmdvSlNcbiAgICBpZiAobW9kdWxlRXhwb3J0cykge1xuICAgICAgKGZyZWVNb2R1bGUuZXhwb3J0cyA9IF8pLl8gPSBfO1xuICAgIH1cbiAgICAvLyBpbiBOYXJ3aGFsIG9yIFJoaW5vIC1yZXF1aXJlXG4gICAgZWxzZSB7XG4gICAgICBmcmVlRXhwb3J0cy5fID0gXztcbiAgICB9XG4gIH1cbiAgZWxzZSB7XG4gICAgLy8gaW4gYSBicm93c2VyIG9yIFJoaW5vXG4gICAgcm9vdC5fID0gXztcbiAgfVxufS5jYWxsKHRoaXMpKTtcbiIsIi8qIVxuICogalF1ZXJ5IFVJIENvcmUgMS4xMS40XG4gKiBodHRwOi8vanF1ZXJ5dWkuY29tXG4gKlxuICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnNcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2VcbiAqXG4gKiBodHRwOi8vYXBpLmpxdWVyeXVpLmNvbS9jYXRlZ29yeS91aS1jb3JlL1xuICovXG4oZnVuY3Rpb24oIGZhY3RvcnkgKSB7XG5cdGlmICggdHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQgKSB7XG5cblx0XHQvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuXG5cdFx0ZGVmaW5lKCBbIFwianF1ZXJ5XCIgXSwgZmFjdG9yeSApO1xuXHR9IGVsc2Uge1xuXG5cdFx0Ly8gQnJvd3NlciBnbG9iYWxzXG5cdFx0ZmFjdG9yeSggalF1ZXJ5ICk7XG5cdH1cbn0oZnVuY3Rpb24oICQgKSB7XG5cbi8vICQudWkgbWlnaHQgZXhpc3QgZnJvbSBjb21wb25lbnRzIHdpdGggbm8gZGVwZW5kZW5jaWVzLCBlLmcuLCAkLnVpLnBvc2l0aW9uXG4kLnVpID0gJC51aSB8fCB7fTtcblxuJC5leHRlbmQoICQudWksIHtcblx0dmVyc2lvbjogXCIxLjExLjRcIixcblxuXHRrZXlDb2RlOiB7XG5cdFx0QkFDS1NQQUNFOiA4LFxuXHRcdENPTU1BOiAxODgsXG5cdFx0REVMRVRFOiA0Nixcblx0XHRET1dOOiA0MCxcblx0XHRFTkQ6IDM1LFxuXHRcdEVOVEVSOiAxMyxcblx0XHRFU0NBUEU6IDI3LFxuXHRcdEhPTUU6IDM2LFxuXHRcdExFRlQ6IDM3LFxuXHRcdFBBR0VfRE9XTjogMzQsXG5cdFx0UEFHRV9VUDogMzMsXG5cdFx0UEVSSU9EOiAxOTAsXG5cdFx0UklHSFQ6IDM5LFxuXHRcdFNQQUNFOiAzMixcblx0XHRUQUI6IDksXG5cdFx0VVA6IDM4XG5cdH1cbn0pO1xuXG4vLyBwbHVnaW5zXG4kLmZuLmV4dGVuZCh7XG5cdHNjcm9sbFBhcmVudDogZnVuY3Rpb24oIGluY2x1ZGVIaWRkZW4gKSB7XG5cdFx0dmFyIHBvc2l0aW9uID0gdGhpcy5jc3MoIFwicG9zaXRpb25cIiApLFxuXHRcdFx0ZXhjbHVkZVN0YXRpY1BhcmVudCA9IHBvc2l0aW9uID09PSBcImFic29sdXRlXCIsXG5cdFx0XHRvdmVyZmxvd1JlZ2V4ID0gaW5jbHVkZUhpZGRlbiA/IC8oYXV0b3xzY3JvbGx8aGlkZGVuKS8gOiAvKGF1dG98c2Nyb2xsKS8sXG5cdFx0XHRzY3JvbGxQYXJlbnQgPSB0aGlzLnBhcmVudHMoKS5maWx0ZXIoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgcGFyZW50ID0gJCggdGhpcyApO1xuXHRcdFx0XHRpZiAoIGV4Y2x1ZGVTdGF0aWNQYXJlbnQgJiYgcGFyZW50LmNzcyggXCJwb3NpdGlvblwiICkgPT09IFwic3RhdGljXCIgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBvdmVyZmxvd1JlZ2V4LnRlc3QoIHBhcmVudC5jc3MoIFwib3ZlcmZsb3dcIiApICsgcGFyZW50LmNzcyggXCJvdmVyZmxvdy15XCIgKSArIHBhcmVudC5jc3MoIFwib3ZlcmZsb3cteFwiICkgKTtcblx0XHRcdH0pLmVxKCAwICk7XG5cblx0XHRyZXR1cm4gcG9zaXRpb24gPT09IFwiZml4ZWRcIiB8fCAhc2Nyb2xsUGFyZW50Lmxlbmd0aCA/ICQoIHRoaXNbIDAgXS5vd25lckRvY3VtZW50IHx8IGRvY3VtZW50ICkgOiBzY3JvbGxQYXJlbnQ7XG5cdH0sXG5cblx0dW5pcXVlSWQ6IChmdW5jdGlvbigpIHtcblx0XHR2YXIgdXVpZCA9IDA7XG5cblx0XHRyZXR1cm4gZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZiAoICF0aGlzLmlkICkge1xuXHRcdFx0XHRcdHRoaXMuaWQgPSBcInVpLWlkLVwiICsgKCArK3V1aWQgKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fTtcblx0fSkoKSxcblxuXHRyZW1vdmVVbmlxdWVJZDogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpIHtcblx0XHRcdGlmICggL151aS1pZC1cXGQrJC8udGVzdCggdGhpcy5pZCApICkge1xuXHRcdFx0XHQkKCB0aGlzICkucmVtb3ZlQXR0ciggXCJpZFwiICk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cbn0pO1xuXG4vLyBzZWxlY3RvcnNcbmZ1bmN0aW9uIGZvY3VzYWJsZSggZWxlbWVudCwgaXNUYWJJbmRleE5vdE5hTiApIHtcblx0dmFyIG1hcCwgbWFwTmFtZSwgaW1nLFxuXHRcdG5vZGVOYW1lID0gZWxlbWVudC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO1xuXHRpZiAoIFwiYXJlYVwiID09PSBub2RlTmFtZSApIHtcblx0XHRtYXAgPSBlbGVtZW50LnBhcmVudE5vZGU7XG5cdFx0bWFwTmFtZSA9IG1hcC5uYW1lO1xuXHRcdGlmICggIWVsZW1lbnQuaHJlZiB8fCAhbWFwTmFtZSB8fCBtYXAubm9kZU5hbWUudG9Mb3dlckNhc2UoKSAhPT0gXCJtYXBcIiApIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cdFx0aW1nID0gJCggXCJpbWdbdXNlbWFwPScjXCIgKyBtYXBOYW1lICsgXCInXVwiIClbIDAgXTtcblx0XHRyZXR1cm4gISFpbWcgJiYgdmlzaWJsZSggaW1nICk7XG5cdH1cblx0cmV0dXJuICggL14oaW5wdXR8c2VsZWN0fHRleHRhcmVhfGJ1dHRvbnxvYmplY3QpJC8udGVzdCggbm9kZU5hbWUgKSA/XG5cdFx0IWVsZW1lbnQuZGlzYWJsZWQgOlxuXHRcdFwiYVwiID09PSBub2RlTmFtZSA/XG5cdFx0XHRlbGVtZW50LmhyZWYgfHwgaXNUYWJJbmRleE5vdE5hTiA6XG5cdFx0XHRpc1RhYkluZGV4Tm90TmFOKSAmJlxuXHRcdC8vIHRoZSBlbGVtZW50IGFuZCBhbGwgb2YgaXRzIGFuY2VzdG9ycyBtdXN0IGJlIHZpc2libGVcblx0XHR2aXNpYmxlKCBlbGVtZW50ICk7XG59XG5cbmZ1bmN0aW9uIHZpc2libGUoIGVsZW1lbnQgKSB7XG5cdHJldHVybiAkLmV4cHIuZmlsdGVycy52aXNpYmxlKCBlbGVtZW50ICkgJiZcblx0XHQhJCggZWxlbWVudCApLnBhcmVudHMoKS5hZGRCYWNrKCkuZmlsdGVyKGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuICQuY3NzKCB0aGlzLCBcInZpc2liaWxpdHlcIiApID09PSBcImhpZGRlblwiO1xuXHRcdH0pLmxlbmd0aDtcbn1cblxuJC5leHRlbmQoICQuZXhwclsgXCI6XCIgXSwge1xuXHRkYXRhOiAkLmV4cHIuY3JlYXRlUHNldWRvID9cblx0XHQkLmV4cHIuY3JlYXRlUHNldWRvKGZ1bmN0aW9uKCBkYXRhTmFtZSApIHtcblx0XHRcdHJldHVybiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0cmV0dXJuICEhJC5kYXRhKCBlbGVtLCBkYXRhTmFtZSApO1xuXHRcdFx0fTtcblx0XHR9KSA6XG5cdFx0Ly8gc3VwcG9ydDogalF1ZXJ5IDwxLjhcblx0XHRmdW5jdGlvbiggZWxlbSwgaSwgbWF0Y2ggKSB7XG5cdFx0XHRyZXR1cm4gISEkLmRhdGEoIGVsZW0sIG1hdGNoWyAzIF0gKTtcblx0XHR9LFxuXG5cdGZvY3VzYWJsZTogZnVuY3Rpb24oIGVsZW1lbnQgKSB7XG5cdFx0cmV0dXJuIGZvY3VzYWJsZSggZWxlbWVudCwgIWlzTmFOKCAkLmF0dHIoIGVsZW1lbnQsIFwidGFiaW5kZXhcIiApICkgKTtcblx0fSxcblxuXHR0YWJiYWJsZTogZnVuY3Rpb24oIGVsZW1lbnQgKSB7XG5cdFx0dmFyIHRhYkluZGV4ID0gJC5hdHRyKCBlbGVtZW50LCBcInRhYmluZGV4XCIgKSxcblx0XHRcdGlzVGFiSW5kZXhOYU4gPSBpc05hTiggdGFiSW5kZXggKTtcblx0XHRyZXR1cm4gKCBpc1RhYkluZGV4TmFOIHx8IHRhYkluZGV4ID49IDAgKSAmJiBmb2N1c2FibGUoIGVsZW1lbnQsICFpc1RhYkluZGV4TmFOICk7XG5cdH1cbn0pO1xuXG4vLyBzdXBwb3J0OiBqUXVlcnkgPDEuOFxuaWYgKCAhJCggXCI8YT5cIiApLm91dGVyV2lkdGgoIDEgKS5qcXVlcnkgKSB7XG5cdCQuZWFjaCggWyBcIldpZHRoXCIsIFwiSGVpZ2h0XCIgXSwgZnVuY3Rpb24oIGksIG5hbWUgKSB7XG5cdFx0dmFyIHNpZGUgPSBuYW1lID09PSBcIldpZHRoXCIgPyBbIFwiTGVmdFwiLCBcIlJpZ2h0XCIgXSA6IFsgXCJUb3BcIiwgXCJCb3R0b21cIiBdLFxuXHRcdFx0dHlwZSA9IG5hbWUudG9Mb3dlckNhc2UoKSxcblx0XHRcdG9yaWcgPSB7XG5cdFx0XHRcdGlubmVyV2lkdGg6ICQuZm4uaW5uZXJXaWR0aCxcblx0XHRcdFx0aW5uZXJIZWlnaHQ6ICQuZm4uaW5uZXJIZWlnaHQsXG5cdFx0XHRcdG91dGVyV2lkdGg6ICQuZm4ub3V0ZXJXaWR0aCxcblx0XHRcdFx0b3V0ZXJIZWlnaHQ6ICQuZm4ub3V0ZXJIZWlnaHRcblx0XHRcdH07XG5cblx0XHRmdW5jdGlvbiByZWR1Y2UoIGVsZW0sIHNpemUsIGJvcmRlciwgbWFyZ2luICkge1xuXHRcdFx0JC5lYWNoKCBzaWRlLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0c2l6ZSAtPSBwYXJzZUZsb2F0KCAkLmNzcyggZWxlbSwgXCJwYWRkaW5nXCIgKyB0aGlzICkgKSB8fCAwO1xuXHRcdFx0XHRpZiAoIGJvcmRlciApIHtcblx0XHRcdFx0XHRzaXplIC09IHBhcnNlRmxvYXQoICQuY3NzKCBlbGVtLCBcImJvcmRlclwiICsgdGhpcyArIFwiV2lkdGhcIiApICkgfHwgMDtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoIG1hcmdpbiApIHtcblx0XHRcdFx0XHRzaXplIC09IHBhcnNlRmxvYXQoICQuY3NzKCBlbGVtLCBcIm1hcmdpblwiICsgdGhpcyApICkgfHwgMDtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0XHRyZXR1cm4gc2l6ZTtcblx0XHR9XG5cblx0XHQkLmZuWyBcImlubmVyXCIgKyBuYW1lIF0gPSBmdW5jdGlvbiggc2l6ZSApIHtcblx0XHRcdGlmICggc2l6ZSA9PT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRyZXR1cm4gb3JpZ1sgXCJpbm5lclwiICsgbmFtZSBdLmNhbGwoIHRoaXMgKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpIHtcblx0XHRcdFx0JCggdGhpcyApLmNzcyggdHlwZSwgcmVkdWNlKCB0aGlzLCBzaXplICkgKyBcInB4XCIgKTtcblx0XHRcdH0pO1xuXHRcdH07XG5cblx0XHQkLmZuWyBcIm91dGVyXCIgKyBuYW1lXSA9IGZ1bmN0aW9uKCBzaXplLCBtYXJnaW4gKSB7XG5cdFx0XHRpZiAoIHR5cGVvZiBzaXplICE9PSBcIm51bWJlclwiICkge1xuXHRcdFx0XHRyZXR1cm4gb3JpZ1sgXCJvdXRlclwiICsgbmFtZSBdLmNhbGwoIHRoaXMsIHNpemUgKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpIHtcblx0XHRcdFx0JCggdGhpcykuY3NzKCB0eXBlLCByZWR1Y2UoIHRoaXMsIHNpemUsIHRydWUsIG1hcmdpbiApICsgXCJweFwiICk7XG5cdFx0XHR9KTtcblx0XHR9O1xuXHR9KTtcbn1cblxuLy8gc3VwcG9ydDogalF1ZXJ5IDwxLjhcbmlmICggISQuZm4uYWRkQmFjayApIHtcblx0JC5mbi5hZGRCYWNrID0gZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdHJldHVybiB0aGlzLmFkZCggc2VsZWN0b3IgPT0gbnVsbCA/XG5cdFx0XHR0aGlzLnByZXZPYmplY3QgOiB0aGlzLnByZXZPYmplY3QuZmlsdGVyKCBzZWxlY3RvciApXG5cdFx0KTtcblx0fTtcbn1cblxuLy8gc3VwcG9ydDogalF1ZXJ5IDEuNi4xLCAxLjYuMiAoaHR0cDovL2J1Z3MuanF1ZXJ5LmNvbS90aWNrZXQvOTQxMylcbmlmICggJCggXCI8YT5cIiApLmRhdGEoIFwiYS1iXCIsIFwiYVwiICkucmVtb3ZlRGF0YSggXCJhLWJcIiApLmRhdGEoIFwiYS1iXCIgKSApIHtcblx0JC5mbi5yZW1vdmVEYXRhID0gKGZ1bmN0aW9uKCByZW1vdmVEYXRhICkge1xuXHRcdHJldHVybiBmdW5jdGlvbigga2V5ICkge1xuXHRcdFx0aWYgKCBhcmd1bWVudHMubGVuZ3RoICkge1xuXHRcdFx0XHRyZXR1cm4gcmVtb3ZlRGF0YS5jYWxsKCB0aGlzLCAkLmNhbWVsQ2FzZSgga2V5ICkgKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJldHVybiByZW1vdmVEYXRhLmNhbGwoIHRoaXMgKTtcblx0XHRcdH1cblx0XHR9O1xuXHR9KSggJC5mbi5yZW1vdmVEYXRhICk7XG59XG5cbi8vIGRlcHJlY2F0ZWRcbiQudWkuaWUgPSAhIS9tc2llIFtcXHcuXSsvLmV4ZWMoIG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKSApO1xuXG4kLmZuLmV4dGVuZCh7XG5cdGZvY3VzOiAoZnVuY3Rpb24oIG9yaWcgKSB7XG5cdFx0cmV0dXJuIGZ1bmN0aW9uKCBkZWxheSwgZm4gKSB7XG5cdFx0XHRyZXR1cm4gdHlwZW9mIGRlbGF5ID09PSBcIm51bWJlclwiID9cblx0XHRcdFx0dGhpcy5lYWNoKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdHZhciBlbGVtID0gdGhpcztcblx0XHRcdFx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0JCggZWxlbSApLmZvY3VzKCk7XG5cdFx0XHRcdFx0XHRpZiAoIGZuICkge1xuXHRcdFx0XHRcdFx0XHRmbi5jYWxsKCBlbGVtICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSwgZGVsYXkgKTtcblx0XHRcdFx0fSkgOlxuXHRcdFx0XHRvcmlnLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblx0XHR9O1xuXHR9KSggJC5mbi5mb2N1cyApLFxuXG5cdGRpc2FibGVTZWxlY3Rpb246IChmdW5jdGlvbigpIHtcblx0XHR2YXIgZXZlbnRUeXBlID0gXCJvbnNlbGVjdHN0YXJ0XCIgaW4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJkaXZcIiApID9cblx0XHRcdFwic2VsZWN0c3RhcnRcIiA6XG5cdFx0XHRcIm1vdXNlZG93blwiO1xuXG5cdFx0cmV0dXJuIGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIHRoaXMuYmluZCggZXZlbnRUeXBlICsgXCIudWktZGlzYWJsZVNlbGVjdGlvblwiLCBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHR9KTtcblx0XHR9O1xuXHR9KSgpLFxuXG5cdGVuYWJsZVNlbGVjdGlvbjogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMudW5iaW5kKCBcIi51aS1kaXNhYmxlU2VsZWN0aW9uXCIgKTtcblx0fSxcblxuXHR6SW5kZXg6IGZ1bmN0aW9uKCB6SW5kZXggKSB7XG5cdFx0aWYgKCB6SW5kZXggIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdHJldHVybiB0aGlzLmNzcyggXCJ6SW5kZXhcIiwgekluZGV4ICk7XG5cdFx0fVxuXG5cdFx0aWYgKCB0aGlzLmxlbmd0aCApIHtcblx0XHRcdHZhciBlbGVtID0gJCggdGhpc1sgMCBdICksIHBvc2l0aW9uLCB2YWx1ZTtcblx0XHRcdHdoaWxlICggZWxlbS5sZW5ndGggJiYgZWxlbVsgMCBdICE9PSBkb2N1bWVudCApIHtcblx0XHRcdFx0Ly8gSWdub3JlIHotaW5kZXggaWYgcG9zaXRpb24gaXMgc2V0IHRvIGEgdmFsdWUgd2hlcmUgei1pbmRleCBpcyBpZ25vcmVkIGJ5IHRoZSBicm93c2VyXG5cdFx0XHRcdC8vIFRoaXMgbWFrZXMgYmVoYXZpb3Igb2YgdGhpcyBmdW5jdGlvbiBjb25zaXN0ZW50IGFjcm9zcyBicm93c2Vyc1xuXHRcdFx0XHQvLyBXZWJLaXQgYWx3YXlzIHJldHVybnMgYXV0byBpZiB0aGUgZWxlbWVudCBpcyBwb3NpdGlvbmVkXG5cdFx0XHRcdHBvc2l0aW9uID0gZWxlbS5jc3MoIFwicG9zaXRpb25cIiApO1xuXHRcdFx0XHRpZiAoIHBvc2l0aW9uID09PSBcImFic29sdXRlXCIgfHwgcG9zaXRpb24gPT09IFwicmVsYXRpdmVcIiB8fCBwb3NpdGlvbiA9PT0gXCJmaXhlZFwiICkge1xuXHRcdFx0XHRcdC8vIElFIHJldHVybnMgMCB3aGVuIHpJbmRleCBpcyBub3Qgc3BlY2lmaWVkXG5cdFx0XHRcdFx0Ly8gb3RoZXIgYnJvd3NlcnMgcmV0dXJuIGEgc3RyaW5nXG5cdFx0XHRcdFx0Ly8gd2UgaWdub3JlIHRoZSBjYXNlIG9mIG5lc3RlZCBlbGVtZW50cyB3aXRoIGFuIGV4cGxpY2l0IHZhbHVlIG9mIDBcblx0XHRcdFx0XHQvLyA8ZGl2IHN0eWxlPVwiei1pbmRleDogLTEwO1wiPjxkaXYgc3R5bGU9XCJ6LWluZGV4OiAwO1wiPjwvZGl2PjwvZGl2PlxuXHRcdFx0XHRcdHZhbHVlID0gcGFyc2VJbnQoIGVsZW0uY3NzKCBcInpJbmRleFwiICksIDEwICk7XG5cdFx0XHRcdFx0aWYgKCAhaXNOYU4oIHZhbHVlICkgJiYgdmFsdWUgIT09IDAgKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gdmFsdWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdGVsZW0gPSBlbGVtLnBhcmVudCgpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiAwO1xuXHR9XG59KTtcblxuLy8gJC51aS5wbHVnaW4gaXMgZGVwcmVjYXRlZC4gVXNlICQud2lkZ2V0KCkgZXh0ZW5zaW9ucyBpbnN0ZWFkLlxuJC51aS5wbHVnaW4gPSB7XG5cdGFkZDogZnVuY3Rpb24oIG1vZHVsZSwgb3B0aW9uLCBzZXQgKSB7XG5cdFx0dmFyIGksXG5cdFx0XHRwcm90byA9ICQudWlbIG1vZHVsZSBdLnByb3RvdHlwZTtcblx0XHRmb3IgKCBpIGluIHNldCApIHtcblx0XHRcdHByb3RvLnBsdWdpbnNbIGkgXSA9IHByb3RvLnBsdWdpbnNbIGkgXSB8fCBbXTtcblx0XHRcdHByb3RvLnBsdWdpbnNbIGkgXS5wdXNoKCBbIG9wdGlvbiwgc2V0WyBpIF0gXSApO1xuXHRcdH1cblx0fSxcblx0Y2FsbDogZnVuY3Rpb24oIGluc3RhbmNlLCBuYW1lLCBhcmdzLCBhbGxvd0Rpc2Nvbm5lY3RlZCApIHtcblx0XHR2YXIgaSxcblx0XHRcdHNldCA9IGluc3RhbmNlLnBsdWdpbnNbIG5hbWUgXTtcblxuXHRcdGlmICggIXNldCApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpZiAoICFhbGxvd0Rpc2Nvbm5lY3RlZCAmJiAoICFpbnN0YW5jZS5lbGVtZW50WyAwIF0ucGFyZW50Tm9kZSB8fCBpbnN0YW5jZS5lbGVtZW50WyAwIF0ucGFyZW50Tm9kZS5ub2RlVHlwZSA9PT0gMTEgKSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRmb3IgKCBpID0gMDsgaSA8IHNldC5sZW5ndGg7IGkrKyApIHtcblx0XHRcdGlmICggaW5zdGFuY2Uub3B0aW9uc1sgc2V0WyBpIF1bIDAgXSBdICkge1xuXHRcdFx0XHRzZXRbIGkgXVsgMSBdLmFwcGx5KCBpbnN0YW5jZS5lbGVtZW50LCBhcmdzICk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG59O1xuXG59KSk7XG4iLCIvKiFcbiAqIGpRdWVyeSBVSSBXaWRnZXQgMS4xMS40XG4gKiBodHRwOi8vanF1ZXJ5dWkuY29tXG4gKlxuICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnNcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2VcbiAqXG4gKiBodHRwOi8vYXBpLmpxdWVyeXVpLmNvbS9qUXVlcnkud2lkZ2V0L1xuICovXG4oZnVuY3Rpb24oIGZhY3RvcnkgKSB7XG5cdGlmICggdHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQgKSB7XG5cblx0XHQvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuXG5cdFx0ZGVmaW5lKCBbIFwianF1ZXJ5XCIgXSwgZmFjdG9yeSApO1xuXHR9IGVsc2Uge1xuXG5cdFx0Ly8gQnJvd3NlciBnbG9iYWxzXG5cdFx0ZmFjdG9yeSggalF1ZXJ5ICk7XG5cdH1cbn0oZnVuY3Rpb24oICQgKSB7XG5cbnZhciB3aWRnZXRfdXVpZCA9IDAsXG5cdHdpZGdldF9zbGljZSA9IEFycmF5LnByb3RvdHlwZS5zbGljZTtcblxuJC5jbGVhbkRhdGEgPSAoZnVuY3Rpb24oIG9yaWcgKSB7XG5cdHJldHVybiBmdW5jdGlvbiggZWxlbXMgKSB7XG5cdFx0dmFyIGV2ZW50cywgZWxlbSwgaTtcblx0XHRmb3IgKCBpID0gMDsgKGVsZW0gPSBlbGVtc1tpXSkgIT0gbnVsbDsgaSsrICkge1xuXHRcdFx0dHJ5IHtcblxuXHRcdFx0XHQvLyBPbmx5IHRyaWdnZXIgcmVtb3ZlIHdoZW4gbmVjZXNzYXJ5IHRvIHNhdmUgdGltZVxuXHRcdFx0XHRldmVudHMgPSAkLl9kYXRhKCBlbGVtLCBcImV2ZW50c1wiICk7XG5cdFx0XHRcdGlmICggZXZlbnRzICYmIGV2ZW50cy5yZW1vdmUgKSB7XG5cdFx0XHRcdFx0JCggZWxlbSApLnRyaWdnZXJIYW5kbGVyKCBcInJlbW92ZVwiICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0Ly8gaHR0cDovL2J1Z3MuanF1ZXJ5LmNvbS90aWNrZXQvODIzNVxuXHRcdFx0fSBjYXRjaCAoIGUgKSB7fVxuXHRcdH1cblx0XHRvcmlnKCBlbGVtcyApO1xuXHR9O1xufSkoICQuY2xlYW5EYXRhICk7XG5cbiQud2lkZ2V0ID0gZnVuY3Rpb24oIG5hbWUsIGJhc2UsIHByb3RvdHlwZSApIHtcblx0dmFyIGZ1bGxOYW1lLCBleGlzdGluZ0NvbnN0cnVjdG9yLCBjb25zdHJ1Y3RvciwgYmFzZVByb3RvdHlwZSxcblx0XHQvLyBwcm94aWVkUHJvdG90eXBlIGFsbG93cyB0aGUgcHJvdmlkZWQgcHJvdG90eXBlIHRvIHJlbWFpbiB1bm1vZGlmaWVkXG5cdFx0Ly8gc28gdGhhdCBpdCBjYW4gYmUgdXNlZCBhcyBhIG1peGluIGZvciBtdWx0aXBsZSB3aWRnZXRzICgjODg3Nilcblx0XHRwcm94aWVkUHJvdG90eXBlID0ge30sXG5cdFx0bmFtZXNwYWNlID0gbmFtZS5zcGxpdCggXCIuXCIgKVsgMCBdO1xuXG5cdG5hbWUgPSBuYW1lLnNwbGl0KCBcIi5cIiApWyAxIF07XG5cdGZ1bGxOYW1lID0gbmFtZXNwYWNlICsgXCItXCIgKyBuYW1lO1xuXG5cdGlmICggIXByb3RvdHlwZSApIHtcblx0XHRwcm90b3R5cGUgPSBiYXNlO1xuXHRcdGJhc2UgPSAkLldpZGdldDtcblx0fVxuXG5cdC8vIGNyZWF0ZSBzZWxlY3RvciBmb3IgcGx1Z2luXG5cdCQuZXhwclsgXCI6XCIgXVsgZnVsbE5hbWUudG9Mb3dlckNhc2UoKSBdID0gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0cmV0dXJuICEhJC5kYXRhKCBlbGVtLCBmdWxsTmFtZSApO1xuXHR9O1xuXG5cdCRbIG5hbWVzcGFjZSBdID0gJFsgbmFtZXNwYWNlIF0gfHwge307XG5cdGV4aXN0aW5nQ29uc3RydWN0b3IgPSAkWyBuYW1lc3BhY2UgXVsgbmFtZSBdO1xuXHRjb25zdHJ1Y3RvciA9ICRbIG5hbWVzcGFjZSBdWyBuYW1lIF0gPSBmdW5jdGlvbiggb3B0aW9ucywgZWxlbWVudCApIHtcblx0XHQvLyBhbGxvdyBpbnN0YW50aWF0aW9uIHdpdGhvdXQgXCJuZXdcIiBrZXl3b3JkXG5cdFx0aWYgKCAhdGhpcy5fY3JlYXRlV2lkZ2V0ICkge1xuXHRcdFx0cmV0dXJuIG5ldyBjb25zdHJ1Y3Rvciggb3B0aW9ucywgZWxlbWVudCApO1xuXHRcdH1cblxuXHRcdC8vIGFsbG93IGluc3RhbnRpYXRpb24gd2l0aG91dCBpbml0aWFsaXppbmcgZm9yIHNpbXBsZSBpbmhlcml0YW5jZVxuXHRcdC8vIG11c3QgdXNlIFwibmV3XCIga2V5d29yZCAodGhlIGNvZGUgYWJvdmUgYWx3YXlzIHBhc3NlcyBhcmdzKVxuXHRcdGlmICggYXJndW1lbnRzLmxlbmd0aCApIHtcblx0XHRcdHRoaXMuX2NyZWF0ZVdpZGdldCggb3B0aW9ucywgZWxlbWVudCApO1xuXHRcdH1cblx0fTtcblx0Ly8gZXh0ZW5kIHdpdGggdGhlIGV4aXN0aW5nIGNvbnN0cnVjdG9yIHRvIGNhcnJ5IG92ZXIgYW55IHN0YXRpYyBwcm9wZXJ0aWVzXG5cdCQuZXh0ZW5kKCBjb25zdHJ1Y3RvciwgZXhpc3RpbmdDb25zdHJ1Y3Rvciwge1xuXHRcdHZlcnNpb246IHByb3RvdHlwZS52ZXJzaW9uLFxuXHRcdC8vIGNvcHkgdGhlIG9iamVjdCB1c2VkIHRvIGNyZWF0ZSB0aGUgcHJvdG90eXBlIGluIGNhc2Ugd2UgbmVlZCB0b1xuXHRcdC8vIHJlZGVmaW5lIHRoZSB3aWRnZXQgbGF0ZXJcblx0XHRfcHJvdG86ICQuZXh0ZW5kKCB7fSwgcHJvdG90eXBlICksXG5cdFx0Ly8gdHJhY2sgd2lkZ2V0cyB0aGF0IGluaGVyaXQgZnJvbSB0aGlzIHdpZGdldCBpbiBjYXNlIHRoaXMgd2lkZ2V0IGlzXG5cdFx0Ly8gcmVkZWZpbmVkIGFmdGVyIGEgd2lkZ2V0IGluaGVyaXRzIGZyb20gaXRcblx0XHRfY2hpbGRDb25zdHJ1Y3RvcnM6IFtdXG5cdH0pO1xuXG5cdGJhc2VQcm90b3R5cGUgPSBuZXcgYmFzZSgpO1xuXHQvLyB3ZSBuZWVkIHRvIG1ha2UgdGhlIG9wdGlvbnMgaGFzaCBhIHByb3BlcnR5IGRpcmVjdGx5IG9uIHRoZSBuZXcgaW5zdGFuY2Vcblx0Ly8gb3RoZXJ3aXNlIHdlJ2xsIG1vZGlmeSB0aGUgb3B0aW9ucyBoYXNoIG9uIHRoZSBwcm90b3R5cGUgdGhhdCB3ZSdyZVxuXHQvLyBpbmhlcml0aW5nIGZyb21cblx0YmFzZVByb3RvdHlwZS5vcHRpb25zID0gJC53aWRnZXQuZXh0ZW5kKCB7fSwgYmFzZVByb3RvdHlwZS5vcHRpb25zICk7XG5cdCQuZWFjaCggcHJvdG90eXBlLCBmdW5jdGlvbiggcHJvcCwgdmFsdWUgKSB7XG5cdFx0aWYgKCAhJC5pc0Z1bmN0aW9uKCB2YWx1ZSApICkge1xuXHRcdFx0cHJveGllZFByb3RvdHlwZVsgcHJvcCBdID0gdmFsdWU7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdHByb3hpZWRQcm90b3R5cGVbIHByb3AgXSA9IChmdW5jdGlvbigpIHtcblx0XHRcdHZhciBfc3VwZXIgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRyZXR1cm4gYmFzZS5wcm90b3R5cGVbIHByb3AgXS5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdF9zdXBlckFwcGx5ID0gZnVuY3Rpb24oIGFyZ3MgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGJhc2UucHJvdG90eXBlWyBwcm9wIF0uYXBwbHkoIHRoaXMsIGFyZ3MgKTtcblx0XHRcdFx0fTtcblx0XHRcdHJldHVybiBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIF9fc3VwZXIgPSB0aGlzLl9zdXBlcixcblx0XHRcdFx0XHRfX3N1cGVyQXBwbHkgPSB0aGlzLl9zdXBlckFwcGx5LFxuXHRcdFx0XHRcdHJldHVyblZhbHVlO1xuXG5cdFx0XHRcdHRoaXMuX3N1cGVyID0gX3N1cGVyO1xuXHRcdFx0XHR0aGlzLl9zdXBlckFwcGx5ID0gX3N1cGVyQXBwbHk7XG5cblx0XHRcdFx0cmV0dXJuVmFsdWUgPSB2YWx1ZS5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cblx0XHRcdFx0dGhpcy5fc3VwZXIgPSBfX3N1cGVyO1xuXHRcdFx0XHR0aGlzLl9zdXBlckFwcGx5ID0gX19zdXBlckFwcGx5O1xuXG5cdFx0XHRcdHJldHVybiByZXR1cm5WYWx1ZTtcblx0XHRcdH07XG5cdFx0fSkoKTtcblx0fSk7XG5cdGNvbnN0cnVjdG9yLnByb3RvdHlwZSA9ICQud2lkZ2V0LmV4dGVuZCggYmFzZVByb3RvdHlwZSwge1xuXHRcdC8vIFRPRE86IHJlbW92ZSBzdXBwb3J0IGZvciB3aWRnZXRFdmVudFByZWZpeFxuXHRcdC8vIGFsd2F5cyB1c2UgdGhlIG5hbWUgKyBhIGNvbG9uIGFzIHRoZSBwcmVmaXgsIGUuZy4sIGRyYWdnYWJsZTpzdGFydFxuXHRcdC8vIGRvbid0IHByZWZpeCBmb3Igd2lkZ2V0cyB0aGF0IGFyZW4ndCBET00tYmFzZWRcblx0XHR3aWRnZXRFdmVudFByZWZpeDogZXhpc3RpbmdDb25zdHJ1Y3RvciA/IChiYXNlUHJvdG90eXBlLndpZGdldEV2ZW50UHJlZml4IHx8IG5hbWUpIDogbmFtZVxuXHR9LCBwcm94aWVkUHJvdG90eXBlLCB7XG5cdFx0Y29uc3RydWN0b3I6IGNvbnN0cnVjdG9yLFxuXHRcdG5hbWVzcGFjZTogbmFtZXNwYWNlLFxuXHRcdHdpZGdldE5hbWU6IG5hbWUsXG5cdFx0d2lkZ2V0RnVsbE5hbWU6IGZ1bGxOYW1lXG5cdH0pO1xuXG5cdC8vIElmIHRoaXMgd2lkZ2V0IGlzIGJlaW5nIHJlZGVmaW5lZCB0aGVuIHdlIG5lZWQgdG8gZmluZCBhbGwgd2lkZ2V0cyB0aGF0XG5cdC8vIGFyZSBpbmhlcml0aW5nIGZyb20gaXQgYW5kIHJlZGVmaW5lIGFsbCBvZiB0aGVtIHNvIHRoYXQgdGhleSBpbmhlcml0IGZyb21cblx0Ly8gdGhlIG5ldyB2ZXJzaW9uIG9mIHRoaXMgd2lkZ2V0LiBXZSdyZSBlc3NlbnRpYWxseSB0cnlpbmcgdG8gcmVwbGFjZSBvbmVcblx0Ly8gbGV2ZWwgaW4gdGhlIHByb3RvdHlwZSBjaGFpbi5cblx0aWYgKCBleGlzdGluZ0NvbnN0cnVjdG9yICkge1xuXHRcdCQuZWFjaCggZXhpc3RpbmdDb25zdHJ1Y3Rvci5fY2hpbGRDb25zdHJ1Y3RvcnMsIGZ1bmN0aW9uKCBpLCBjaGlsZCApIHtcblx0XHRcdHZhciBjaGlsZFByb3RvdHlwZSA9IGNoaWxkLnByb3RvdHlwZTtcblxuXHRcdFx0Ly8gcmVkZWZpbmUgdGhlIGNoaWxkIHdpZGdldCB1c2luZyB0aGUgc2FtZSBwcm90b3R5cGUgdGhhdCB3YXNcblx0XHRcdC8vIG9yaWdpbmFsbHkgdXNlZCwgYnV0IGluaGVyaXQgZnJvbSB0aGUgbmV3IHZlcnNpb24gb2YgdGhlIGJhc2Vcblx0XHRcdCQud2lkZ2V0KCBjaGlsZFByb3RvdHlwZS5uYW1lc3BhY2UgKyBcIi5cIiArIGNoaWxkUHJvdG90eXBlLndpZGdldE5hbWUsIGNvbnN0cnVjdG9yLCBjaGlsZC5fcHJvdG8gKTtcblx0XHR9KTtcblx0XHQvLyByZW1vdmUgdGhlIGxpc3Qgb2YgZXhpc3RpbmcgY2hpbGQgY29uc3RydWN0b3JzIGZyb20gdGhlIG9sZCBjb25zdHJ1Y3RvclxuXHRcdC8vIHNvIHRoZSBvbGQgY2hpbGQgY29uc3RydWN0b3JzIGNhbiBiZSBnYXJiYWdlIGNvbGxlY3RlZFxuXHRcdGRlbGV0ZSBleGlzdGluZ0NvbnN0cnVjdG9yLl9jaGlsZENvbnN0cnVjdG9ycztcblx0fSBlbHNlIHtcblx0XHRiYXNlLl9jaGlsZENvbnN0cnVjdG9ycy5wdXNoKCBjb25zdHJ1Y3RvciApO1xuXHR9XG5cblx0JC53aWRnZXQuYnJpZGdlKCBuYW1lLCBjb25zdHJ1Y3RvciApO1xuXG5cdHJldHVybiBjb25zdHJ1Y3Rvcjtcbn07XG5cbiQud2lkZ2V0LmV4dGVuZCA9IGZ1bmN0aW9uKCB0YXJnZXQgKSB7XG5cdHZhciBpbnB1dCA9IHdpZGdldF9zbGljZS5jYWxsKCBhcmd1bWVudHMsIDEgKSxcblx0XHRpbnB1dEluZGV4ID0gMCxcblx0XHRpbnB1dExlbmd0aCA9IGlucHV0Lmxlbmd0aCxcblx0XHRrZXksXG5cdFx0dmFsdWU7XG5cdGZvciAoIDsgaW5wdXRJbmRleCA8IGlucHV0TGVuZ3RoOyBpbnB1dEluZGV4KysgKSB7XG5cdFx0Zm9yICgga2V5IGluIGlucHV0WyBpbnB1dEluZGV4IF0gKSB7XG5cdFx0XHR2YWx1ZSA9IGlucHV0WyBpbnB1dEluZGV4IF1bIGtleSBdO1xuXHRcdFx0aWYgKCBpbnB1dFsgaW5wdXRJbmRleCBdLmhhc093blByb3BlcnR5KCBrZXkgKSAmJiB2YWx1ZSAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHQvLyBDbG9uZSBvYmplY3RzXG5cdFx0XHRcdGlmICggJC5pc1BsYWluT2JqZWN0KCB2YWx1ZSApICkge1xuXHRcdFx0XHRcdHRhcmdldFsga2V5IF0gPSAkLmlzUGxhaW5PYmplY3QoIHRhcmdldFsga2V5IF0gKSA/XG5cdFx0XHRcdFx0XHQkLndpZGdldC5leHRlbmQoIHt9LCB0YXJnZXRbIGtleSBdLCB2YWx1ZSApIDpcblx0XHRcdFx0XHRcdC8vIERvbid0IGV4dGVuZCBzdHJpbmdzLCBhcnJheXMsIGV0Yy4gd2l0aCBvYmplY3RzXG5cdFx0XHRcdFx0XHQkLndpZGdldC5leHRlbmQoIHt9LCB2YWx1ZSApO1xuXHRcdFx0XHQvLyBDb3B5IGV2ZXJ5dGhpbmcgZWxzZSBieSByZWZlcmVuY2Vcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHR0YXJnZXRbIGtleSBdID0gdmFsdWU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblx0cmV0dXJuIHRhcmdldDtcbn07XG5cbiQud2lkZ2V0LmJyaWRnZSA9IGZ1bmN0aW9uKCBuYW1lLCBvYmplY3QgKSB7XG5cdHZhciBmdWxsTmFtZSA9IG9iamVjdC5wcm90b3R5cGUud2lkZ2V0RnVsbE5hbWUgfHwgbmFtZTtcblx0JC5mblsgbmFtZSBdID0gZnVuY3Rpb24oIG9wdGlvbnMgKSB7XG5cdFx0dmFyIGlzTWV0aG9kQ2FsbCA9IHR5cGVvZiBvcHRpb25zID09PSBcInN0cmluZ1wiLFxuXHRcdFx0YXJncyA9IHdpZGdldF9zbGljZS5jYWxsKCBhcmd1bWVudHMsIDEgKSxcblx0XHRcdHJldHVyblZhbHVlID0gdGhpcztcblxuXHRcdGlmICggaXNNZXRob2RDYWxsICkge1xuXHRcdFx0dGhpcy5lYWNoKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgbWV0aG9kVmFsdWUsXG5cdFx0XHRcdFx0aW5zdGFuY2UgPSAkLmRhdGEoIHRoaXMsIGZ1bGxOYW1lICk7XG5cdFx0XHRcdGlmICggb3B0aW9ucyA9PT0gXCJpbnN0YW5jZVwiICkge1xuXHRcdFx0XHRcdHJldHVyblZhbHVlID0gaW5zdGFuY2U7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmICggIWluc3RhbmNlICkge1xuXHRcdFx0XHRcdHJldHVybiAkLmVycm9yKCBcImNhbm5vdCBjYWxsIG1ldGhvZHMgb24gXCIgKyBuYW1lICsgXCIgcHJpb3IgdG8gaW5pdGlhbGl6YXRpb247IFwiICtcblx0XHRcdFx0XHRcdFwiYXR0ZW1wdGVkIHRvIGNhbGwgbWV0aG9kICdcIiArIG9wdGlvbnMgKyBcIidcIiApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmICggISQuaXNGdW5jdGlvbiggaW5zdGFuY2Vbb3B0aW9uc10gKSB8fCBvcHRpb25zLmNoYXJBdCggMCApID09PSBcIl9cIiApIHtcblx0XHRcdFx0XHRyZXR1cm4gJC5lcnJvciggXCJubyBzdWNoIG1ldGhvZCAnXCIgKyBvcHRpb25zICsgXCInIGZvciBcIiArIG5hbWUgKyBcIiB3aWRnZXQgaW5zdGFuY2VcIiApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdG1ldGhvZFZhbHVlID0gaW5zdGFuY2VbIG9wdGlvbnMgXS5hcHBseSggaW5zdGFuY2UsIGFyZ3MgKTtcblx0XHRcdFx0aWYgKCBtZXRob2RWYWx1ZSAhPT0gaW5zdGFuY2UgJiYgbWV0aG9kVmFsdWUgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0XHRyZXR1cm5WYWx1ZSA9IG1ldGhvZFZhbHVlICYmIG1ldGhvZFZhbHVlLmpxdWVyeSA/XG5cdFx0XHRcdFx0XHRyZXR1cm5WYWx1ZS5wdXNoU3RhY2soIG1ldGhvZFZhbHVlLmdldCgpICkgOlxuXHRcdFx0XHRcdFx0bWV0aG9kVmFsdWU7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9IGVsc2Uge1xuXG5cdFx0XHQvLyBBbGxvdyBtdWx0aXBsZSBoYXNoZXMgdG8gYmUgcGFzc2VkIG9uIGluaXRcblx0XHRcdGlmICggYXJncy5sZW5ndGggKSB7XG5cdFx0XHRcdG9wdGlvbnMgPSAkLndpZGdldC5leHRlbmQuYXBwbHkoIG51bGwsIFsgb3B0aW9ucyBdLmNvbmNhdChhcmdzKSApO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLmVhY2goZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBpbnN0YW5jZSA9ICQuZGF0YSggdGhpcywgZnVsbE5hbWUgKTtcblx0XHRcdFx0aWYgKCBpbnN0YW5jZSApIHtcblx0XHRcdFx0XHRpbnN0YW5jZS5vcHRpb24oIG9wdGlvbnMgfHwge30gKTtcblx0XHRcdFx0XHRpZiAoIGluc3RhbmNlLl9pbml0ICkge1xuXHRcdFx0XHRcdFx0aW5zdGFuY2UuX2luaXQoKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0JC5kYXRhKCB0aGlzLCBmdWxsTmFtZSwgbmV3IG9iamVjdCggb3B0aW9ucywgdGhpcyApICk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdHJldHVybiByZXR1cm5WYWx1ZTtcblx0fTtcbn07XG5cbiQuV2lkZ2V0ID0gZnVuY3Rpb24oIC8qIG9wdGlvbnMsIGVsZW1lbnQgKi8gKSB7fTtcbiQuV2lkZ2V0Ll9jaGlsZENvbnN0cnVjdG9ycyA9IFtdO1xuXG4kLldpZGdldC5wcm90b3R5cGUgPSB7XG5cdHdpZGdldE5hbWU6IFwid2lkZ2V0XCIsXG5cdHdpZGdldEV2ZW50UHJlZml4OiBcIlwiLFxuXHRkZWZhdWx0RWxlbWVudDogXCI8ZGl2PlwiLFxuXHRvcHRpb25zOiB7XG5cdFx0ZGlzYWJsZWQ6IGZhbHNlLFxuXG5cdFx0Ly8gY2FsbGJhY2tzXG5cdFx0Y3JlYXRlOiBudWxsXG5cdH0sXG5cdF9jcmVhdGVXaWRnZXQ6IGZ1bmN0aW9uKCBvcHRpb25zLCBlbGVtZW50ICkge1xuXHRcdGVsZW1lbnQgPSAkKCBlbGVtZW50IHx8IHRoaXMuZGVmYXVsdEVsZW1lbnQgfHwgdGhpcyApWyAwIF07XG5cdFx0dGhpcy5lbGVtZW50ID0gJCggZWxlbWVudCApO1xuXHRcdHRoaXMudXVpZCA9IHdpZGdldF91dWlkKys7XG5cdFx0dGhpcy5ldmVudE5hbWVzcGFjZSA9IFwiLlwiICsgdGhpcy53aWRnZXROYW1lICsgdGhpcy51dWlkO1xuXG5cdFx0dGhpcy5iaW5kaW5ncyA9ICQoKTtcblx0XHR0aGlzLmhvdmVyYWJsZSA9ICQoKTtcblx0XHR0aGlzLmZvY3VzYWJsZSA9ICQoKTtcblxuXHRcdGlmICggZWxlbWVudCAhPT0gdGhpcyApIHtcblx0XHRcdCQuZGF0YSggZWxlbWVudCwgdGhpcy53aWRnZXRGdWxsTmFtZSwgdGhpcyApO1xuXHRcdFx0dGhpcy5fb24oIHRydWUsIHRoaXMuZWxlbWVudCwge1xuXHRcdFx0XHRyZW1vdmU6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdFx0XHRpZiAoIGV2ZW50LnRhcmdldCA9PT0gZWxlbWVudCApIHtcblx0XHRcdFx0XHRcdHRoaXMuZGVzdHJveSgpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0XHR0aGlzLmRvY3VtZW50ID0gJCggZWxlbWVudC5zdHlsZSA/XG5cdFx0XHRcdC8vIGVsZW1lbnQgd2l0aGluIHRoZSBkb2N1bWVudFxuXHRcdFx0XHRlbGVtZW50Lm93bmVyRG9jdW1lbnQgOlxuXHRcdFx0XHQvLyBlbGVtZW50IGlzIHdpbmRvdyBvciBkb2N1bWVudFxuXHRcdFx0XHRlbGVtZW50LmRvY3VtZW50IHx8IGVsZW1lbnQgKTtcblx0XHRcdHRoaXMud2luZG93ID0gJCggdGhpcy5kb2N1bWVudFswXS5kZWZhdWx0VmlldyB8fCB0aGlzLmRvY3VtZW50WzBdLnBhcmVudFdpbmRvdyApO1xuXHRcdH1cblxuXHRcdHRoaXMub3B0aW9ucyA9ICQud2lkZ2V0LmV4dGVuZCgge30sXG5cdFx0XHR0aGlzLm9wdGlvbnMsXG5cdFx0XHR0aGlzLl9nZXRDcmVhdGVPcHRpb25zKCksXG5cdFx0XHRvcHRpb25zICk7XG5cblx0XHR0aGlzLl9jcmVhdGUoKTtcblx0XHR0aGlzLl90cmlnZ2VyKCBcImNyZWF0ZVwiLCBudWxsLCB0aGlzLl9nZXRDcmVhdGVFdmVudERhdGEoKSApO1xuXHRcdHRoaXMuX2luaXQoKTtcblx0fSxcblx0X2dldENyZWF0ZU9wdGlvbnM6ICQubm9vcCxcblx0X2dldENyZWF0ZUV2ZW50RGF0YTogJC5ub29wLFxuXHRfY3JlYXRlOiAkLm5vb3AsXG5cdF9pbml0OiAkLm5vb3AsXG5cblx0ZGVzdHJveTogZnVuY3Rpb24oKSB7XG5cdFx0dGhpcy5fZGVzdHJveSgpO1xuXHRcdC8vIHdlIGNhbiBwcm9iYWJseSByZW1vdmUgdGhlIHVuYmluZCBjYWxscyBpbiAyLjBcblx0XHQvLyBhbGwgZXZlbnQgYmluZGluZ3Mgc2hvdWxkIGdvIHRocm91Z2ggdGhpcy5fb24oKVxuXHRcdHRoaXMuZWxlbWVudFxuXHRcdFx0LnVuYmluZCggdGhpcy5ldmVudE5hbWVzcGFjZSApXG5cdFx0XHQucmVtb3ZlRGF0YSggdGhpcy53aWRnZXRGdWxsTmFtZSApXG5cdFx0XHQvLyBzdXBwb3J0OiBqcXVlcnkgPDEuNi4zXG5cdFx0XHQvLyBodHRwOi8vYnVncy5qcXVlcnkuY29tL3RpY2tldC85NDEzXG5cdFx0XHQucmVtb3ZlRGF0YSggJC5jYW1lbENhc2UoIHRoaXMud2lkZ2V0RnVsbE5hbWUgKSApO1xuXHRcdHRoaXMud2lkZ2V0KClcblx0XHRcdC51bmJpbmQoIHRoaXMuZXZlbnROYW1lc3BhY2UgKVxuXHRcdFx0LnJlbW92ZUF0dHIoIFwiYXJpYS1kaXNhYmxlZFwiIClcblx0XHRcdC5yZW1vdmVDbGFzcyhcblx0XHRcdFx0dGhpcy53aWRnZXRGdWxsTmFtZSArIFwiLWRpc2FibGVkIFwiICtcblx0XHRcdFx0XCJ1aS1zdGF0ZS1kaXNhYmxlZFwiICk7XG5cblx0XHQvLyBjbGVhbiB1cCBldmVudHMgYW5kIHN0YXRlc1xuXHRcdHRoaXMuYmluZGluZ3MudW5iaW5kKCB0aGlzLmV2ZW50TmFtZXNwYWNlICk7XG5cdFx0dGhpcy5ob3ZlcmFibGUucmVtb3ZlQ2xhc3MoIFwidWktc3RhdGUtaG92ZXJcIiApO1xuXHRcdHRoaXMuZm9jdXNhYmxlLnJlbW92ZUNsYXNzKCBcInVpLXN0YXRlLWZvY3VzXCIgKTtcblx0fSxcblx0X2Rlc3Ryb3k6ICQubm9vcCxcblxuXHR3aWRnZXQ6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLmVsZW1lbnQ7XG5cdH0sXG5cblx0b3B0aW9uOiBmdW5jdGlvbigga2V5LCB2YWx1ZSApIHtcblx0XHR2YXIgb3B0aW9ucyA9IGtleSxcblx0XHRcdHBhcnRzLFxuXHRcdFx0Y3VyT3B0aW9uLFxuXHRcdFx0aTtcblxuXHRcdGlmICggYXJndW1lbnRzLmxlbmd0aCA9PT0gMCApIHtcblx0XHRcdC8vIGRvbid0IHJldHVybiBhIHJlZmVyZW5jZSB0byB0aGUgaW50ZXJuYWwgaGFzaFxuXHRcdFx0cmV0dXJuICQud2lkZ2V0LmV4dGVuZCgge30sIHRoaXMub3B0aW9ucyApO1xuXHRcdH1cblxuXHRcdGlmICggdHlwZW9mIGtleSA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdC8vIGhhbmRsZSBuZXN0ZWQga2V5cywgZS5nLiwgXCJmb28uYmFyXCIgPT4geyBmb286IHsgYmFyOiBfX18gfSB9XG5cdFx0XHRvcHRpb25zID0ge307XG5cdFx0XHRwYXJ0cyA9IGtleS5zcGxpdCggXCIuXCIgKTtcblx0XHRcdGtleSA9IHBhcnRzLnNoaWZ0KCk7XG5cdFx0XHRpZiAoIHBhcnRzLmxlbmd0aCApIHtcblx0XHRcdFx0Y3VyT3B0aW9uID0gb3B0aW9uc1sga2V5IF0gPSAkLndpZGdldC5leHRlbmQoIHt9LCB0aGlzLm9wdGlvbnNbIGtleSBdICk7XG5cdFx0XHRcdGZvciAoIGkgPSAwOyBpIDwgcGFydHMubGVuZ3RoIC0gMTsgaSsrICkge1xuXHRcdFx0XHRcdGN1ck9wdGlvblsgcGFydHNbIGkgXSBdID0gY3VyT3B0aW9uWyBwYXJ0c1sgaSBdIF0gfHwge307XG5cdFx0XHRcdFx0Y3VyT3B0aW9uID0gY3VyT3B0aW9uWyBwYXJ0c1sgaSBdIF07XG5cdFx0XHRcdH1cblx0XHRcdFx0a2V5ID0gcGFydHMucG9wKCk7XG5cdFx0XHRcdGlmICggYXJndW1lbnRzLmxlbmd0aCA9PT0gMSApIHtcblx0XHRcdFx0XHRyZXR1cm4gY3VyT3B0aW9uWyBrZXkgXSA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IGN1ck9wdGlvblsga2V5IF07XG5cdFx0XHRcdH1cblx0XHRcdFx0Y3VyT3B0aW9uWyBrZXkgXSA9IHZhbHVlO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aWYgKCBhcmd1bWVudHMubGVuZ3RoID09PSAxICkge1xuXHRcdFx0XHRcdHJldHVybiB0aGlzLm9wdGlvbnNbIGtleSBdID09PSB1bmRlZmluZWQgPyBudWxsIDogdGhpcy5vcHRpb25zWyBrZXkgXTtcblx0XHRcdFx0fVxuXHRcdFx0XHRvcHRpb25zWyBrZXkgXSA9IHZhbHVlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHRoaXMuX3NldE9wdGlvbnMoIG9wdGlvbnMgKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXHR9LFxuXHRfc2V0T3B0aW9uczogZnVuY3Rpb24oIG9wdGlvbnMgKSB7XG5cdFx0dmFyIGtleTtcblxuXHRcdGZvciAoIGtleSBpbiBvcHRpb25zICkge1xuXHRcdFx0dGhpcy5fc2V0T3B0aW9uKCBrZXksIG9wdGlvbnNbIGtleSBdICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXM7XG5cdH0sXG5cdF9zZXRPcHRpb246IGZ1bmN0aW9uKCBrZXksIHZhbHVlICkge1xuXHRcdHRoaXMub3B0aW9uc1sga2V5IF0gPSB2YWx1ZTtcblxuXHRcdGlmICgga2V5ID09PSBcImRpc2FibGVkXCIgKSB7XG5cdFx0XHR0aGlzLndpZGdldCgpXG5cdFx0XHRcdC50b2dnbGVDbGFzcyggdGhpcy53aWRnZXRGdWxsTmFtZSArIFwiLWRpc2FibGVkXCIsICEhdmFsdWUgKTtcblxuXHRcdFx0Ly8gSWYgdGhlIHdpZGdldCBpcyBiZWNvbWluZyBkaXNhYmxlZCwgdGhlbiBub3RoaW5nIGlzIGludGVyYWN0aXZlXG5cdFx0XHRpZiAoIHZhbHVlICkge1xuXHRcdFx0XHR0aGlzLmhvdmVyYWJsZS5yZW1vdmVDbGFzcyggXCJ1aS1zdGF0ZS1ob3ZlclwiICk7XG5cdFx0XHRcdHRoaXMuZm9jdXNhYmxlLnJlbW92ZUNsYXNzKCBcInVpLXN0YXRlLWZvY3VzXCIgKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHRlbmFibGU6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLl9zZXRPcHRpb25zKHsgZGlzYWJsZWQ6IGZhbHNlIH0pO1xuXHR9LFxuXHRkaXNhYmxlOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy5fc2V0T3B0aW9ucyh7IGRpc2FibGVkOiB0cnVlIH0pO1xuXHR9LFxuXG5cdF9vbjogZnVuY3Rpb24oIHN1cHByZXNzRGlzYWJsZWRDaGVjaywgZWxlbWVudCwgaGFuZGxlcnMgKSB7XG5cdFx0dmFyIGRlbGVnYXRlRWxlbWVudCxcblx0XHRcdGluc3RhbmNlID0gdGhpcztcblxuXHRcdC8vIG5vIHN1cHByZXNzRGlzYWJsZWRDaGVjayBmbGFnLCBzaHVmZmxlIGFyZ3VtZW50c1xuXHRcdGlmICggdHlwZW9mIHN1cHByZXNzRGlzYWJsZWRDaGVjayAhPT0gXCJib29sZWFuXCIgKSB7XG5cdFx0XHRoYW5kbGVycyA9IGVsZW1lbnQ7XG5cdFx0XHRlbGVtZW50ID0gc3VwcHJlc3NEaXNhYmxlZENoZWNrO1xuXHRcdFx0c3VwcHJlc3NEaXNhYmxlZENoZWNrID0gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly8gbm8gZWxlbWVudCBhcmd1bWVudCwgc2h1ZmZsZSBhbmQgdXNlIHRoaXMuZWxlbWVudFxuXHRcdGlmICggIWhhbmRsZXJzICkge1xuXHRcdFx0aGFuZGxlcnMgPSBlbGVtZW50O1xuXHRcdFx0ZWxlbWVudCA9IHRoaXMuZWxlbWVudDtcblx0XHRcdGRlbGVnYXRlRWxlbWVudCA9IHRoaXMud2lkZ2V0KCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGVsZW1lbnQgPSBkZWxlZ2F0ZUVsZW1lbnQgPSAkKCBlbGVtZW50ICk7XG5cdFx0XHR0aGlzLmJpbmRpbmdzID0gdGhpcy5iaW5kaW5ncy5hZGQoIGVsZW1lbnQgKTtcblx0XHR9XG5cblx0XHQkLmVhY2goIGhhbmRsZXJzLCBmdW5jdGlvbiggZXZlbnQsIGhhbmRsZXIgKSB7XG5cdFx0XHRmdW5jdGlvbiBoYW5kbGVyUHJveHkoKSB7XG5cdFx0XHRcdC8vIGFsbG93IHdpZGdldHMgdG8gY3VzdG9taXplIHRoZSBkaXNhYmxlZCBoYW5kbGluZ1xuXHRcdFx0XHQvLyAtIGRpc2FibGVkIGFzIGFuIGFycmF5IGluc3RlYWQgb2YgYm9vbGVhblxuXHRcdFx0XHQvLyAtIGRpc2FibGVkIGNsYXNzIGFzIG1ldGhvZCBmb3IgZGlzYWJsaW5nIGluZGl2aWR1YWwgcGFydHNcblx0XHRcdFx0aWYgKCAhc3VwcHJlc3NEaXNhYmxlZENoZWNrICYmXG5cdFx0XHRcdFx0XHQoIGluc3RhbmNlLm9wdGlvbnMuZGlzYWJsZWQgPT09IHRydWUgfHxcblx0XHRcdFx0XHRcdFx0JCggdGhpcyApLmhhc0NsYXNzKCBcInVpLXN0YXRlLWRpc2FibGVkXCIgKSApICkge1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gKCB0eXBlb2YgaGFuZGxlciA9PT0gXCJzdHJpbmdcIiA/IGluc3RhbmNlWyBoYW5kbGVyIF0gOiBoYW5kbGVyIClcblx0XHRcdFx0XHQuYXBwbHkoIGluc3RhbmNlLCBhcmd1bWVudHMgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gY29weSB0aGUgZ3VpZCBzbyBkaXJlY3QgdW5iaW5kaW5nIHdvcmtzXG5cdFx0XHRpZiAoIHR5cGVvZiBoYW5kbGVyICE9PSBcInN0cmluZ1wiICkge1xuXHRcdFx0XHRoYW5kbGVyUHJveHkuZ3VpZCA9IGhhbmRsZXIuZ3VpZCA9XG5cdFx0XHRcdFx0aGFuZGxlci5ndWlkIHx8IGhhbmRsZXJQcm94eS5ndWlkIHx8ICQuZ3VpZCsrO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgbWF0Y2ggPSBldmVudC5tYXRjaCggL14oW1xcdzotXSopXFxzKiguKikkLyApLFxuXHRcdFx0XHRldmVudE5hbWUgPSBtYXRjaFsxXSArIGluc3RhbmNlLmV2ZW50TmFtZXNwYWNlLFxuXHRcdFx0XHRzZWxlY3RvciA9IG1hdGNoWzJdO1xuXHRcdFx0aWYgKCBzZWxlY3RvciApIHtcblx0XHRcdFx0ZGVsZWdhdGVFbGVtZW50LmRlbGVnYXRlKCBzZWxlY3RvciwgZXZlbnROYW1lLCBoYW5kbGVyUHJveHkgKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGVsZW1lbnQuYmluZCggZXZlbnROYW1lLCBoYW5kbGVyUHJveHkgKTtcblx0XHRcdH1cblx0XHR9KTtcblx0fSxcblxuXHRfb2ZmOiBmdW5jdGlvbiggZWxlbWVudCwgZXZlbnROYW1lICkge1xuXHRcdGV2ZW50TmFtZSA9IChldmVudE5hbWUgfHwgXCJcIikuc3BsaXQoIFwiIFwiICkuam9pbiggdGhpcy5ldmVudE5hbWVzcGFjZSArIFwiIFwiICkgK1xuXHRcdFx0dGhpcy5ldmVudE5hbWVzcGFjZTtcblx0XHRlbGVtZW50LnVuYmluZCggZXZlbnROYW1lICkudW5kZWxlZ2F0ZSggZXZlbnROYW1lICk7XG5cblx0XHQvLyBDbGVhciB0aGUgc3RhY2sgdG8gYXZvaWQgbWVtb3J5IGxlYWtzICgjMTAwNTYpXG5cdFx0dGhpcy5iaW5kaW5ncyA9ICQoIHRoaXMuYmluZGluZ3Mubm90KCBlbGVtZW50ICkuZ2V0KCkgKTtcblx0XHR0aGlzLmZvY3VzYWJsZSA9ICQoIHRoaXMuZm9jdXNhYmxlLm5vdCggZWxlbWVudCApLmdldCgpICk7XG5cdFx0dGhpcy5ob3ZlcmFibGUgPSAkKCB0aGlzLmhvdmVyYWJsZS5ub3QoIGVsZW1lbnQgKS5nZXQoKSApO1xuXHR9LFxuXG5cdF9kZWxheTogZnVuY3Rpb24oIGhhbmRsZXIsIGRlbGF5ICkge1xuXHRcdGZ1bmN0aW9uIGhhbmRsZXJQcm94eSgpIHtcblx0XHRcdHJldHVybiAoIHR5cGVvZiBoYW5kbGVyID09PSBcInN0cmluZ1wiID8gaW5zdGFuY2VbIGhhbmRsZXIgXSA6IGhhbmRsZXIgKVxuXHRcdFx0XHQuYXBwbHkoIGluc3RhbmNlLCBhcmd1bWVudHMgKTtcblx0XHR9XG5cdFx0dmFyIGluc3RhbmNlID0gdGhpcztcblx0XHRyZXR1cm4gc2V0VGltZW91dCggaGFuZGxlclByb3h5LCBkZWxheSB8fCAwICk7XG5cdH0sXG5cblx0X2hvdmVyYWJsZTogZnVuY3Rpb24oIGVsZW1lbnQgKSB7XG5cdFx0dGhpcy5ob3ZlcmFibGUgPSB0aGlzLmhvdmVyYWJsZS5hZGQoIGVsZW1lbnQgKTtcblx0XHR0aGlzLl9vbiggZWxlbWVudCwge1xuXHRcdFx0bW91c2VlbnRlcjogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0XHQkKCBldmVudC5jdXJyZW50VGFyZ2V0ICkuYWRkQ2xhc3MoIFwidWktc3RhdGUtaG92ZXJcIiApO1xuXHRcdFx0fSxcblx0XHRcdG1vdXNlbGVhdmU6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdFx0JCggZXZlbnQuY3VycmVudFRhcmdldCApLnJlbW92ZUNsYXNzKCBcInVpLXN0YXRlLWhvdmVyXCIgKTtcblx0XHRcdH1cblx0XHR9KTtcblx0fSxcblxuXHRfZm9jdXNhYmxlOiBmdW5jdGlvbiggZWxlbWVudCApIHtcblx0XHR0aGlzLmZvY3VzYWJsZSA9IHRoaXMuZm9jdXNhYmxlLmFkZCggZWxlbWVudCApO1xuXHRcdHRoaXMuX29uKCBlbGVtZW50LCB7XG5cdFx0XHRmb2N1c2luOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHRcdCQoIGV2ZW50LmN1cnJlbnRUYXJnZXQgKS5hZGRDbGFzcyggXCJ1aS1zdGF0ZS1mb2N1c1wiICk7XG5cdFx0XHR9LFxuXHRcdFx0Zm9jdXNvdXQ6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdFx0JCggZXZlbnQuY3VycmVudFRhcmdldCApLnJlbW92ZUNsYXNzKCBcInVpLXN0YXRlLWZvY3VzXCIgKTtcblx0XHRcdH1cblx0XHR9KTtcblx0fSxcblxuXHRfdHJpZ2dlcjogZnVuY3Rpb24oIHR5cGUsIGV2ZW50LCBkYXRhICkge1xuXHRcdHZhciBwcm9wLCBvcmlnLFxuXHRcdFx0Y2FsbGJhY2sgPSB0aGlzLm9wdGlvbnNbIHR5cGUgXTtcblxuXHRcdGRhdGEgPSBkYXRhIHx8IHt9O1xuXHRcdGV2ZW50ID0gJC5FdmVudCggZXZlbnQgKTtcblx0XHRldmVudC50eXBlID0gKCB0eXBlID09PSB0aGlzLndpZGdldEV2ZW50UHJlZml4ID9cblx0XHRcdHR5cGUgOlxuXHRcdFx0dGhpcy53aWRnZXRFdmVudFByZWZpeCArIHR5cGUgKS50b0xvd2VyQ2FzZSgpO1xuXHRcdC8vIHRoZSBvcmlnaW5hbCBldmVudCBtYXkgY29tZSBmcm9tIGFueSBlbGVtZW50XG5cdFx0Ly8gc28gd2UgbmVlZCB0byByZXNldCB0aGUgdGFyZ2V0IG9uIHRoZSBuZXcgZXZlbnRcblx0XHRldmVudC50YXJnZXQgPSB0aGlzLmVsZW1lbnRbIDAgXTtcblxuXHRcdC8vIGNvcHkgb3JpZ2luYWwgZXZlbnQgcHJvcGVydGllcyBvdmVyIHRvIHRoZSBuZXcgZXZlbnRcblx0XHRvcmlnID0gZXZlbnQub3JpZ2luYWxFdmVudDtcblx0XHRpZiAoIG9yaWcgKSB7XG5cdFx0XHRmb3IgKCBwcm9wIGluIG9yaWcgKSB7XG5cdFx0XHRcdGlmICggISggcHJvcCBpbiBldmVudCApICkge1xuXHRcdFx0XHRcdGV2ZW50WyBwcm9wIF0gPSBvcmlnWyBwcm9wIF07XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHR0aGlzLmVsZW1lbnQudHJpZ2dlciggZXZlbnQsIGRhdGEgKTtcblx0XHRyZXR1cm4gISggJC5pc0Z1bmN0aW9uKCBjYWxsYmFjayApICYmXG5cdFx0XHRjYWxsYmFjay5hcHBseSggdGhpcy5lbGVtZW50WzBdLCBbIGV2ZW50IF0uY29uY2F0KCBkYXRhICkgKSA9PT0gZmFsc2UgfHxcblx0XHRcdGV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpICk7XG5cdH1cbn07XG5cbiQuZWFjaCggeyBzaG93OiBcImZhZGVJblwiLCBoaWRlOiBcImZhZGVPdXRcIiB9LCBmdW5jdGlvbiggbWV0aG9kLCBkZWZhdWx0RWZmZWN0ICkge1xuXHQkLldpZGdldC5wcm90b3R5cGVbIFwiX1wiICsgbWV0aG9kIF0gPSBmdW5jdGlvbiggZWxlbWVudCwgb3B0aW9ucywgY2FsbGJhY2sgKSB7XG5cdFx0aWYgKCB0eXBlb2Ygb3B0aW9ucyA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdG9wdGlvbnMgPSB7IGVmZmVjdDogb3B0aW9ucyB9O1xuXHRcdH1cblx0XHR2YXIgaGFzT3B0aW9ucyxcblx0XHRcdGVmZmVjdE5hbWUgPSAhb3B0aW9ucyA/XG5cdFx0XHRcdG1ldGhvZCA6XG5cdFx0XHRcdG9wdGlvbnMgPT09IHRydWUgfHwgdHlwZW9mIG9wdGlvbnMgPT09IFwibnVtYmVyXCIgP1xuXHRcdFx0XHRcdGRlZmF1bHRFZmZlY3QgOlxuXHRcdFx0XHRcdG9wdGlvbnMuZWZmZWN0IHx8IGRlZmF1bHRFZmZlY3Q7XG5cdFx0b3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cdFx0aWYgKCB0eXBlb2Ygb3B0aW9ucyA9PT0gXCJudW1iZXJcIiApIHtcblx0XHRcdG9wdGlvbnMgPSB7IGR1cmF0aW9uOiBvcHRpb25zIH07XG5cdFx0fVxuXHRcdGhhc09wdGlvbnMgPSAhJC5pc0VtcHR5T2JqZWN0KCBvcHRpb25zICk7XG5cdFx0b3B0aW9ucy5jb21wbGV0ZSA9IGNhbGxiYWNrO1xuXHRcdGlmICggb3B0aW9ucy5kZWxheSApIHtcblx0XHRcdGVsZW1lbnQuZGVsYXkoIG9wdGlvbnMuZGVsYXkgKTtcblx0XHR9XG5cdFx0aWYgKCBoYXNPcHRpb25zICYmICQuZWZmZWN0cyAmJiAkLmVmZmVjdHMuZWZmZWN0WyBlZmZlY3ROYW1lIF0gKSB7XG5cdFx0XHRlbGVtZW50WyBtZXRob2QgXSggb3B0aW9ucyApO1xuXHRcdH0gZWxzZSBpZiAoIGVmZmVjdE5hbWUgIT09IG1ldGhvZCAmJiBlbGVtZW50WyBlZmZlY3ROYW1lIF0gKSB7XG5cdFx0XHRlbGVtZW50WyBlZmZlY3ROYW1lIF0oIG9wdGlvbnMuZHVyYXRpb24sIG9wdGlvbnMuZWFzaW5nLCBjYWxsYmFjayApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRlbGVtZW50LnF1ZXVlKGZ1bmN0aW9uKCBuZXh0ICkge1xuXHRcdFx0XHQkKCB0aGlzIClbIG1ldGhvZCBdKCk7XG5cdFx0XHRcdGlmICggY2FsbGJhY2sgKSB7XG5cdFx0XHRcdFx0Y2FsbGJhY2suY2FsbCggZWxlbWVudFsgMCBdICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0bmV4dCgpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHR9O1xufSk7XG5cbnJldHVybiAkLndpZGdldDtcblxufSkpO1xuIiwiLyohXG4gKiBqUXVlcnkgVUkgTW91c2UgMS4xMS40XG4gKiBodHRwOi8vanF1ZXJ5dWkuY29tXG4gKlxuICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnNcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2VcbiAqXG4gKiBodHRwOi8vYXBpLmpxdWVyeXVpLmNvbS9tb3VzZS9cbiAqL1xuKGZ1bmN0aW9uKCBmYWN0b3J5ICkge1xuXHRpZiAoIHR5cGVvZiBkZWZpbmUgPT09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kICkge1xuXG5cdFx0Ly8gQU1ELiBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlLlxuXHRcdGRlZmluZShbXG5cdFx0XHRcImpxdWVyeVwiLFxuXHRcdFx0XCIuL3dpZGdldFwiXG5cdFx0XSwgZmFjdG9yeSApO1xuXHR9IGVsc2Uge1xuXG5cdFx0Ly8gQnJvd3NlciBnbG9iYWxzXG5cdFx0ZmFjdG9yeSggalF1ZXJ5ICk7XG5cdH1cbn0oZnVuY3Rpb24oICQgKSB7XG5cbnZhciBtb3VzZUhhbmRsZWQgPSBmYWxzZTtcbiQoIGRvY3VtZW50ICkubW91c2V1cCggZnVuY3Rpb24oKSB7XG5cdG1vdXNlSGFuZGxlZCA9IGZhbHNlO1xufSk7XG5cbnJldHVybiAkLndpZGdldChcInVpLm1vdXNlXCIsIHtcblx0dmVyc2lvbjogXCIxLjExLjRcIixcblx0b3B0aW9uczoge1xuXHRcdGNhbmNlbDogXCJpbnB1dCx0ZXh0YXJlYSxidXR0b24sc2VsZWN0LG9wdGlvblwiLFxuXHRcdGRpc3RhbmNlOiAxLFxuXHRcdGRlbGF5OiAwXG5cdH0sXG5cdF9tb3VzZUluaXQ6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciB0aGF0ID0gdGhpcztcblxuXHRcdHRoaXMuZWxlbWVudFxuXHRcdFx0LmJpbmQoXCJtb3VzZWRvd24uXCIgKyB0aGlzLndpZGdldE5hbWUsIGZ1bmN0aW9uKGV2ZW50KSB7XG5cdFx0XHRcdHJldHVybiB0aGF0Ll9tb3VzZURvd24oZXZlbnQpO1xuXHRcdFx0fSlcblx0XHRcdC5iaW5kKFwiY2xpY2suXCIgKyB0aGlzLndpZGdldE5hbWUsIGZ1bmN0aW9uKGV2ZW50KSB7XG5cdFx0XHRcdGlmICh0cnVlID09PSAkLmRhdGEoZXZlbnQudGFyZ2V0LCB0aGF0LndpZGdldE5hbWUgKyBcIi5wcmV2ZW50Q2xpY2tFdmVudFwiKSkge1xuXHRcdFx0XHRcdCQucmVtb3ZlRGF0YShldmVudC50YXJnZXQsIHRoYXQud2lkZ2V0TmFtZSArIFwiLnByZXZlbnRDbGlja0V2ZW50XCIpO1xuXHRcdFx0XHRcdGV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cblx0XHR0aGlzLnN0YXJ0ZWQgPSBmYWxzZTtcblx0fSxcblxuXHQvLyBUT0RPOiBtYWtlIHN1cmUgZGVzdHJveWluZyBvbmUgaW5zdGFuY2Ugb2YgbW91c2UgZG9lc24ndCBtZXNzIHdpdGhcblx0Ly8gb3RoZXIgaW5zdGFuY2VzIG9mIG1vdXNlXG5cdF9tb3VzZURlc3Ryb3k6IGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMuZWxlbWVudC51bmJpbmQoXCIuXCIgKyB0aGlzLndpZGdldE5hbWUpO1xuXHRcdGlmICggdGhpcy5fbW91c2VNb3ZlRGVsZWdhdGUgKSB7XG5cdFx0XHR0aGlzLmRvY3VtZW50XG5cdFx0XHRcdC51bmJpbmQoXCJtb3VzZW1vdmUuXCIgKyB0aGlzLndpZGdldE5hbWUsIHRoaXMuX21vdXNlTW92ZURlbGVnYXRlKVxuXHRcdFx0XHQudW5iaW5kKFwibW91c2V1cC5cIiArIHRoaXMud2lkZ2V0TmFtZSwgdGhpcy5fbW91c2VVcERlbGVnYXRlKTtcblx0XHR9XG5cdH0sXG5cblx0X21vdXNlRG93bjogZnVuY3Rpb24oZXZlbnQpIHtcblx0XHQvLyBkb24ndCBsZXQgbW9yZSB0aGFuIG9uZSB3aWRnZXQgaGFuZGxlIG1vdXNlU3RhcnRcblx0XHRpZiAoIG1vdXNlSGFuZGxlZCApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHR0aGlzLl9tb3VzZU1vdmVkID0gZmFsc2U7XG5cblx0XHQvLyB3ZSBtYXkgaGF2ZSBtaXNzZWQgbW91c2V1cCAob3V0IG9mIHdpbmRvdylcblx0XHQodGhpcy5fbW91c2VTdGFydGVkICYmIHRoaXMuX21vdXNlVXAoZXZlbnQpKTtcblxuXHRcdHRoaXMuX21vdXNlRG93bkV2ZW50ID0gZXZlbnQ7XG5cblx0XHR2YXIgdGhhdCA9IHRoaXMsXG5cdFx0XHRidG5Jc0xlZnQgPSAoZXZlbnQud2hpY2ggPT09IDEpLFxuXHRcdFx0Ly8gZXZlbnQudGFyZ2V0Lm5vZGVOYW1lIHdvcmtzIGFyb3VuZCBhIGJ1ZyBpbiBJRSA4IHdpdGhcblx0XHRcdC8vIGRpc2FibGVkIGlucHV0cyAoIzc2MjApXG5cdFx0XHRlbElzQ2FuY2VsID0gKHR5cGVvZiB0aGlzLm9wdGlvbnMuY2FuY2VsID09PSBcInN0cmluZ1wiICYmIGV2ZW50LnRhcmdldC5ub2RlTmFtZSA/ICQoZXZlbnQudGFyZ2V0KS5jbG9zZXN0KHRoaXMub3B0aW9ucy5jYW5jZWwpLmxlbmd0aCA6IGZhbHNlKTtcblx0XHRpZiAoIWJ0bklzTGVmdCB8fCBlbElzQ2FuY2VsIHx8ICF0aGlzLl9tb3VzZUNhcHR1cmUoZXZlbnQpKSB7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cblx0XHR0aGlzLm1vdXNlRGVsYXlNZXQgPSAhdGhpcy5vcHRpb25zLmRlbGF5O1xuXHRcdGlmICghdGhpcy5tb3VzZURlbGF5TWV0KSB7XG5cdFx0XHR0aGlzLl9tb3VzZURlbGF5VGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR0aGF0Lm1vdXNlRGVsYXlNZXQgPSB0cnVlO1xuXHRcdFx0fSwgdGhpcy5vcHRpb25zLmRlbGF5KTtcblx0XHR9XG5cblx0XHRpZiAodGhpcy5fbW91c2VEaXN0YW5jZU1ldChldmVudCkgJiYgdGhpcy5fbW91c2VEZWxheU1ldChldmVudCkpIHtcblx0XHRcdHRoaXMuX21vdXNlU3RhcnRlZCA9ICh0aGlzLl9tb3VzZVN0YXJ0KGV2ZW50KSAhPT0gZmFsc2UpO1xuXHRcdFx0aWYgKCF0aGlzLl9tb3VzZVN0YXJ0ZWQpIHtcblx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gQ2xpY2sgZXZlbnQgbWF5IG5ldmVyIGhhdmUgZmlyZWQgKEdlY2tvICYgT3BlcmEpXG5cdFx0aWYgKHRydWUgPT09ICQuZGF0YShldmVudC50YXJnZXQsIHRoaXMud2lkZ2V0TmFtZSArIFwiLnByZXZlbnRDbGlja0V2ZW50XCIpKSB7XG5cdFx0XHQkLnJlbW92ZURhdGEoZXZlbnQudGFyZ2V0LCB0aGlzLndpZGdldE5hbWUgKyBcIi5wcmV2ZW50Q2xpY2tFdmVudFwiKTtcblx0XHR9XG5cblx0XHQvLyB0aGVzZSBkZWxlZ2F0ZXMgYXJlIHJlcXVpcmVkIHRvIGtlZXAgY29udGV4dFxuXHRcdHRoaXMuX21vdXNlTW92ZURlbGVnYXRlID0gZnVuY3Rpb24oZXZlbnQpIHtcblx0XHRcdHJldHVybiB0aGF0Ll9tb3VzZU1vdmUoZXZlbnQpO1xuXHRcdH07XG5cdFx0dGhpcy5fbW91c2VVcERlbGVnYXRlID0gZnVuY3Rpb24oZXZlbnQpIHtcblx0XHRcdHJldHVybiB0aGF0Ll9tb3VzZVVwKGV2ZW50KTtcblx0XHR9O1xuXG5cdFx0dGhpcy5kb2N1bWVudFxuXHRcdFx0LmJpbmQoIFwibW91c2Vtb3ZlLlwiICsgdGhpcy53aWRnZXROYW1lLCB0aGlzLl9tb3VzZU1vdmVEZWxlZ2F0ZSApXG5cdFx0XHQuYmluZCggXCJtb3VzZXVwLlwiICsgdGhpcy53aWRnZXROYW1lLCB0aGlzLl9tb3VzZVVwRGVsZWdhdGUgKTtcblxuXHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHRtb3VzZUhhbmRsZWQgPSB0cnVlO1xuXHRcdHJldHVybiB0cnVlO1xuXHR9LFxuXG5cdF9tb3VzZU1vdmU6IGZ1bmN0aW9uKGV2ZW50KSB7XG5cdFx0Ly8gT25seSBjaGVjayBmb3IgbW91c2V1cHMgb3V0c2lkZSB0aGUgZG9jdW1lbnQgaWYgeW91J3ZlIG1vdmVkIGluc2lkZSB0aGUgZG9jdW1lbnRcblx0XHQvLyBhdCBsZWFzdCBvbmNlLiBUaGlzIHByZXZlbnRzIHRoZSBmaXJpbmcgb2YgbW91c2V1cCBpbiB0aGUgY2FzZSBvZiBJRTw5LCB3aGljaCB3aWxsXG5cdFx0Ly8gZmlyZSBhIG1vdXNlbW92ZSBldmVudCBpZiBjb250ZW50IGlzIHBsYWNlZCB1bmRlciB0aGUgY3Vyc29yLiBTZWUgIzc3Nzhcblx0XHQvLyBTdXBwb3J0OiBJRSA8OVxuXHRcdGlmICggdGhpcy5fbW91c2VNb3ZlZCApIHtcblx0XHRcdC8vIElFIG1vdXNldXAgY2hlY2sgLSBtb3VzZXVwIGhhcHBlbmVkIHdoZW4gbW91c2Ugd2FzIG91dCBvZiB3aW5kb3dcblx0XHRcdGlmICgkLnVpLmllICYmICggIWRvY3VtZW50LmRvY3VtZW50TW9kZSB8fCBkb2N1bWVudC5kb2N1bWVudE1vZGUgPCA5ICkgJiYgIWV2ZW50LmJ1dHRvbikge1xuXHRcdFx0XHRyZXR1cm4gdGhpcy5fbW91c2VVcChldmVudCk7XG5cblx0XHRcdC8vIElmcmFtZSBtb3VzZXVwIGNoZWNrIC0gbW91c2V1cCBvY2N1cnJlZCBpbiBhbm90aGVyIGRvY3VtZW50XG5cdFx0XHR9IGVsc2UgaWYgKCAhZXZlbnQud2hpY2ggKSB7XG5cdFx0XHRcdHJldHVybiB0aGlzLl9tb3VzZVVwKCBldmVudCApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmICggZXZlbnQud2hpY2ggfHwgZXZlbnQuYnV0dG9uICkge1xuXHRcdFx0dGhpcy5fbW91c2VNb3ZlZCA9IHRydWU7XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMuX21vdXNlU3RhcnRlZCkge1xuXHRcdFx0dGhpcy5fbW91c2VEcmFnKGV2ZW50KTtcblx0XHRcdHJldHVybiBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdH1cblxuXHRcdGlmICh0aGlzLl9tb3VzZURpc3RhbmNlTWV0KGV2ZW50KSAmJiB0aGlzLl9tb3VzZURlbGF5TWV0KGV2ZW50KSkge1xuXHRcdFx0dGhpcy5fbW91c2VTdGFydGVkID1cblx0XHRcdFx0KHRoaXMuX21vdXNlU3RhcnQodGhpcy5fbW91c2VEb3duRXZlbnQsIGV2ZW50KSAhPT0gZmFsc2UpO1xuXHRcdFx0KHRoaXMuX21vdXNlU3RhcnRlZCA/IHRoaXMuX21vdXNlRHJhZyhldmVudCkgOiB0aGlzLl9tb3VzZVVwKGV2ZW50KSk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuICF0aGlzLl9tb3VzZVN0YXJ0ZWQ7XG5cdH0sXG5cblx0X21vdXNlVXA6IGZ1bmN0aW9uKGV2ZW50KSB7XG5cdFx0dGhpcy5kb2N1bWVudFxuXHRcdFx0LnVuYmluZCggXCJtb3VzZW1vdmUuXCIgKyB0aGlzLndpZGdldE5hbWUsIHRoaXMuX21vdXNlTW92ZURlbGVnYXRlIClcblx0XHRcdC51bmJpbmQoIFwibW91c2V1cC5cIiArIHRoaXMud2lkZ2V0TmFtZSwgdGhpcy5fbW91c2VVcERlbGVnYXRlICk7XG5cblx0XHRpZiAodGhpcy5fbW91c2VTdGFydGVkKSB7XG5cdFx0XHR0aGlzLl9tb3VzZVN0YXJ0ZWQgPSBmYWxzZTtcblxuXHRcdFx0aWYgKGV2ZW50LnRhcmdldCA9PT0gdGhpcy5fbW91c2VEb3duRXZlbnQudGFyZ2V0KSB7XG5cdFx0XHRcdCQuZGF0YShldmVudC50YXJnZXQsIHRoaXMud2lkZ2V0TmFtZSArIFwiLnByZXZlbnRDbGlja0V2ZW50XCIsIHRydWUpO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLl9tb3VzZVN0b3AoZXZlbnQpO1xuXHRcdH1cblxuXHRcdG1vdXNlSGFuZGxlZCA9IGZhbHNlO1xuXHRcdHJldHVybiBmYWxzZTtcblx0fSxcblxuXHRfbW91c2VEaXN0YW5jZU1ldDogZnVuY3Rpb24oZXZlbnQpIHtcblx0XHRyZXR1cm4gKE1hdGgubWF4KFxuXHRcdFx0XHRNYXRoLmFicyh0aGlzLl9tb3VzZURvd25FdmVudC5wYWdlWCAtIGV2ZW50LnBhZ2VYKSxcblx0XHRcdFx0TWF0aC5hYnModGhpcy5fbW91c2VEb3duRXZlbnQucGFnZVkgLSBldmVudC5wYWdlWSlcblx0XHRcdCkgPj0gdGhpcy5vcHRpb25zLmRpc3RhbmNlXG5cdFx0KTtcblx0fSxcblxuXHRfbW91c2VEZWxheU1ldDogZnVuY3Rpb24oLyogZXZlbnQgKi8pIHtcblx0XHRyZXR1cm4gdGhpcy5tb3VzZURlbGF5TWV0O1xuXHR9LFxuXG5cdC8vIFRoZXNlIGFyZSBwbGFjZWhvbGRlciBtZXRob2RzLCB0byBiZSBvdmVycmlkZW4gYnkgZXh0ZW5kaW5nIHBsdWdpblxuXHRfbW91c2VTdGFydDogZnVuY3Rpb24oLyogZXZlbnQgKi8pIHt9LFxuXHRfbW91c2VEcmFnOiBmdW5jdGlvbigvKiBldmVudCAqLykge30sXG5cdF9tb3VzZVN0b3A6IGZ1bmN0aW9uKC8qIGV2ZW50ICovKSB7fSxcblx0X21vdXNlQ2FwdHVyZTogZnVuY3Rpb24oLyogZXZlbnQgKi8pIHsgcmV0dXJuIHRydWU7IH1cbn0pO1xuXG59KSk7XG4iLCIvKiFcbiAqIGpRdWVyeSBVSSBTb3J0YWJsZSAxLjExLjRcbiAqIGh0dHA6Ly9qcXVlcnl1aS5jb21cbiAqXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZVxuICpcbiAqIGh0dHA6Ly9hcGkuanF1ZXJ5dWkuY29tL3NvcnRhYmxlL1xuICovXG4oZnVuY3Rpb24oIGZhY3RvcnkgKSB7XG5cdGlmICggdHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQgKSB7XG5cblx0XHQvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuXG5cdFx0ZGVmaW5lKFtcblx0XHRcdFwianF1ZXJ5XCIsXG5cdFx0XHRcIi4vY29yZVwiLFxuXHRcdFx0XCIuL21vdXNlXCIsXG5cdFx0XHRcIi4vd2lkZ2V0XCJcblx0XHRdLCBmYWN0b3J5ICk7XG5cdH0gZWxzZSB7XG5cblx0XHQvLyBCcm93c2VyIGdsb2JhbHNcblx0XHRmYWN0b3J5KCBqUXVlcnkgKTtcblx0fVxufShmdW5jdGlvbiggJCApIHtcblxucmV0dXJuICQud2lkZ2V0KFwidWkuc29ydGFibGVcIiwgJC51aS5tb3VzZSwge1xuXHR2ZXJzaW9uOiBcIjEuMTEuNFwiLFxuXHR3aWRnZXRFdmVudFByZWZpeDogXCJzb3J0XCIsXG5cdHJlYWR5OiBmYWxzZSxcblx0b3B0aW9uczoge1xuXHRcdGFwcGVuZFRvOiBcInBhcmVudFwiLFxuXHRcdGF4aXM6IGZhbHNlLFxuXHRcdGNvbm5lY3RXaXRoOiBmYWxzZSxcblx0XHRjb250YWlubWVudDogZmFsc2UsXG5cdFx0Y3Vyc29yOiBcImF1dG9cIixcblx0XHRjdXJzb3JBdDogZmFsc2UsXG5cdFx0ZHJvcE9uRW1wdHk6IHRydWUsXG5cdFx0Zm9yY2VQbGFjZWhvbGRlclNpemU6IGZhbHNlLFxuXHRcdGZvcmNlSGVscGVyU2l6ZTogZmFsc2UsXG5cdFx0Z3JpZDogZmFsc2UsXG5cdFx0aGFuZGxlOiBmYWxzZSxcblx0XHRoZWxwZXI6IFwib3JpZ2luYWxcIixcblx0XHRpdGVtczogXCI+ICpcIixcblx0XHRvcGFjaXR5OiBmYWxzZSxcblx0XHRwbGFjZWhvbGRlcjogZmFsc2UsXG5cdFx0cmV2ZXJ0OiBmYWxzZSxcblx0XHRzY3JvbGw6IHRydWUsXG5cdFx0c2Nyb2xsU2Vuc2l0aXZpdHk6IDIwLFxuXHRcdHNjcm9sbFNwZWVkOiAyMCxcblx0XHRzY29wZTogXCJkZWZhdWx0XCIsXG5cdFx0dG9sZXJhbmNlOiBcImludGVyc2VjdFwiLFxuXHRcdHpJbmRleDogMTAwMCxcblxuXHRcdC8vIGNhbGxiYWNrc1xuXHRcdGFjdGl2YXRlOiBudWxsLFxuXHRcdGJlZm9yZVN0b3A6IG51bGwsXG5cdFx0Y2hhbmdlOiBudWxsLFxuXHRcdGRlYWN0aXZhdGU6IG51bGwsXG5cdFx0b3V0OiBudWxsLFxuXHRcdG92ZXI6IG51bGwsXG5cdFx0cmVjZWl2ZTogbnVsbCxcblx0XHRyZW1vdmU6IG51bGwsXG5cdFx0c29ydDogbnVsbCxcblx0XHRzdGFydDogbnVsbCxcblx0XHRzdG9wOiBudWxsLFxuXHRcdHVwZGF0ZTogbnVsbFxuXHR9LFxuXG5cdF9pc092ZXJBeGlzOiBmdW5jdGlvbiggeCwgcmVmZXJlbmNlLCBzaXplICkge1xuXHRcdHJldHVybiAoIHggPj0gcmVmZXJlbmNlICkgJiYgKCB4IDwgKCByZWZlcmVuY2UgKyBzaXplICkgKTtcblx0fSxcblxuXHRfaXNGbG9hdGluZzogZnVuY3Rpb24oIGl0ZW0gKSB7XG5cdFx0cmV0dXJuICgvbGVmdHxyaWdodC8pLnRlc3QoaXRlbS5jc3MoXCJmbG9hdFwiKSkgfHwgKC9pbmxpbmV8dGFibGUtY2VsbC8pLnRlc3QoaXRlbS5jc3MoXCJkaXNwbGF5XCIpKTtcblx0fSxcblxuXHRfY3JlYXRlOiBmdW5jdGlvbigpIHtcblx0XHR0aGlzLmNvbnRhaW5lckNhY2hlID0ge307XG5cdFx0dGhpcy5lbGVtZW50LmFkZENsYXNzKFwidWktc29ydGFibGVcIik7XG5cblx0XHQvL0dldCB0aGUgaXRlbXNcblx0XHR0aGlzLnJlZnJlc2goKTtcblxuXHRcdC8vTGV0J3MgZGV0ZXJtaW5lIHRoZSBwYXJlbnQncyBvZmZzZXRcblx0XHR0aGlzLm9mZnNldCA9IHRoaXMuZWxlbWVudC5vZmZzZXQoKTtcblxuXHRcdC8vSW5pdGlhbGl6ZSBtb3VzZSBldmVudHMgZm9yIGludGVyYWN0aW9uXG5cdFx0dGhpcy5fbW91c2VJbml0KCk7XG5cblx0XHR0aGlzLl9zZXRIYW5kbGVDbGFzc05hbWUoKTtcblxuXHRcdC8vV2UncmUgcmVhZHkgdG8gZ29cblx0XHR0aGlzLnJlYWR5ID0gdHJ1ZTtcblxuXHR9LFxuXG5cdF9zZXRPcHRpb246IGZ1bmN0aW9uKCBrZXksIHZhbHVlICkge1xuXHRcdHRoaXMuX3N1cGVyKCBrZXksIHZhbHVlICk7XG5cblx0XHRpZiAoIGtleSA9PT0gXCJoYW5kbGVcIiApIHtcblx0XHRcdHRoaXMuX3NldEhhbmRsZUNsYXNzTmFtZSgpO1xuXHRcdH1cblx0fSxcblxuXHRfc2V0SGFuZGxlQ2xhc3NOYW1lOiBmdW5jdGlvbigpIHtcblx0XHR0aGlzLmVsZW1lbnQuZmluZCggXCIudWktc29ydGFibGUtaGFuZGxlXCIgKS5yZW1vdmVDbGFzcyggXCJ1aS1zb3J0YWJsZS1oYW5kbGVcIiApO1xuXHRcdCQuZWFjaCggdGhpcy5pdGVtcywgZnVuY3Rpb24oKSB7XG5cdFx0XHQoIHRoaXMuaW5zdGFuY2Uub3B0aW9ucy5oYW5kbGUgP1xuXHRcdFx0XHR0aGlzLml0ZW0uZmluZCggdGhpcy5pbnN0YW5jZS5vcHRpb25zLmhhbmRsZSApIDogdGhpcy5pdGVtIClcblx0XHRcdFx0LmFkZENsYXNzKCBcInVpLXNvcnRhYmxlLWhhbmRsZVwiICk7XG5cdFx0fSk7XG5cdH0sXG5cblx0X2Rlc3Ryb3k6IGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMuZWxlbWVudFxuXHRcdFx0LnJlbW92ZUNsYXNzKCBcInVpLXNvcnRhYmxlIHVpLXNvcnRhYmxlLWRpc2FibGVkXCIgKVxuXHRcdFx0LmZpbmQoIFwiLnVpLXNvcnRhYmxlLWhhbmRsZVwiIClcblx0XHRcdFx0LnJlbW92ZUNsYXNzKCBcInVpLXNvcnRhYmxlLWhhbmRsZVwiICk7XG5cdFx0dGhpcy5fbW91c2VEZXN0cm95KCk7XG5cblx0XHRmb3IgKCB2YXIgaSA9IHRoaXMuaXRlbXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0gKSB7XG5cdFx0XHR0aGlzLml0ZW1zW2ldLml0ZW0ucmVtb3ZlRGF0YSh0aGlzLndpZGdldE5hbWUgKyBcIi1pdGVtXCIpO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzO1xuXHR9LFxuXG5cdF9tb3VzZUNhcHR1cmU6IGZ1bmN0aW9uKGV2ZW50LCBvdmVycmlkZUhhbmRsZSkge1xuXHRcdHZhciBjdXJyZW50SXRlbSA9IG51bGwsXG5cdFx0XHR2YWxpZEhhbmRsZSA9IGZhbHNlLFxuXHRcdFx0dGhhdCA9IHRoaXM7XG5cblx0XHRpZiAodGhpcy5yZXZlcnRpbmcpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHRpZih0aGlzLm9wdGlvbnMuZGlzYWJsZWQgfHwgdGhpcy5vcHRpb25zLnR5cGUgPT09IFwic3RhdGljXCIpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHQvL1dlIGhhdmUgdG8gcmVmcmVzaCB0aGUgaXRlbXMgZGF0YSBvbmNlIGZpcnN0XG5cdFx0dGhpcy5fcmVmcmVzaEl0ZW1zKGV2ZW50KTtcblxuXHRcdC8vRmluZCBvdXQgaWYgdGhlIGNsaWNrZWQgbm9kZSAob3Igb25lIG9mIGl0cyBwYXJlbnRzKSBpcyBhIGFjdHVhbCBpdGVtIGluIHRoaXMuaXRlbXNcblx0XHQkKGV2ZW50LnRhcmdldCkucGFyZW50cygpLmVhY2goZnVuY3Rpb24oKSB7XG5cdFx0XHRpZigkLmRhdGEodGhpcywgdGhhdC53aWRnZXROYW1lICsgXCItaXRlbVwiKSA9PT0gdGhhdCkge1xuXHRcdFx0XHRjdXJyZW50SXRlbSA9ICQodGhpcyk7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XHR9KTtcblx0XHRpZigkLmRhdGEoZXZlbnQudGFyZ2V0LCB0aGF0LndpZGdldE5hbWUgKyBcIi1pdGVtXCIpID09PSB0aGF0KSB7XG5cdFx0XHRjdXJyZW50SXRlbSA9ICQoZXZlbnQudGFyZ2V0KTtcblx0XHR9XG5cblx0XHRpZighY3VycmVudEl0ZW0pIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cdFx0aWYodGhpcy5vcHRpb25zLmhhbmRsZSAmJiAhb3ZlcnJpZGVIYW5kbGUpIHtcblx0XHRcdCQodGhpcy5vcHRpb25zLmhhbmRsZSwgY3VycmVudEl0ZW0pLmZpbmQoXCIqXCIpLmFkZEJhY2soKS5lYWNoKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZih0aGlzID09PSBldmVudC50YXJnZXQpIHtcblx0XHRcdFx0XHR2YWxpZEhhbmRsZSA9IHRydWU7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdFx0aWYoIXZhbGlkSGFuZGxlKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHR0aGlzLmN1cnJlbnRJdGVtID0gY3VycmVudEl0ZW07XG5cdFx0dGhpcy5fcmVtb3ZlQ3VycmVudHNGcm9tSXRlbXMoKTtcblx0XHRyZXR1cm4gdHJ1ZTtcblxuXHR9LFxuXG5cdF9tb3VzZVN0YXJ0OiBmdW5jdGlvbihldmVudCwgb3ZlcnJpZGVIYW5kbGUsIG5vQWN0aXZhdGlvbikge1xuXG5cdFx0dmFyIGksIGJvZHksXG5cdFx0XHRvID0gdGhpcy5vcHRpb25zO1xuXG5cdFx0dGhpcy5jdXJyZW50Q29udGFpbmVyID0gdGhpcztcblxuXHRcdC8vV2Ugb25seSBuZWVkIHRvIGNhbGwgcmVmcmVzaFBvc2l0aW9ucywgYmVjYXVzZSB0aGUgcmVmcmVzaEl0ZW1zIGNhbGwgaGFzIGJlZW4gbW92ZWQgdG8gbW91c2VDYXB0dXJlXG5cdFx0dGhpcy5yZWZyZXNoUG9zaXRpb25zKCk7XG5cblx0XHQvL0NyZWF0ZSBhbmQgYXBwZW5kIHRoZSB2aXNpYmxlIGhlbHBlclxuXHRcdHRoaXMuaGVscGVyID0gdGhpcy5fY3JlYXRlSGVscGVyKGV2ZW50KTtcblxuXHRcdC8vQ2FjaGUgdGhlIGhlbHBlciBzaXplXG5cdFx0dGhpcy5fY2FjaGVIZWxwZXJQcm9wb3J0aW9ucygpO1xuXG5cdFx0Lypcblx0XHQgKiAtIFBvc2l0aW9uIGdlbmVyYXRpb24gLVxuXHRcdCAqIFRoaXMgYmxvY2sgZ2VuZXJhdGVzIGV2ZXJ5dGhpbmcgcG9zaXRpb24gcmVsYXRlZCAtIGl0J3MgdGhlIGNvcmUgb2YgZHJhZ2dhYmxlcy5cblx0XHQgKi9cblxuXHRcdC8vQ2FjaGUgdGhlIG1hcmdpbnMgb2YgdGhlIG9yaWdpbmFsIGVsZW1lbnRcblx0XHR0aGlzLl9jYWNoZU1hcmdpbnMoKTtcblxuXHRcdC8vR2V0IHRoZSBuZXh0IHNjcm9sbGluZyBwYXJlbnRcblx0XHR0aGlzLnNjcm9sbFBhcmVudCA9IHRoaXMuaGVscGVyLnNjcm9sbFBhcmVudCgpO1xuXG5cdFx0Ly9UaGUgZWxlbWVudCdzIGFic29sdXRlIHBvc2l0aW9uIG9uIHRoZSBwYWdlIG1pbnVzIG1hcmdpbnNcblx0XHR0aGlzLm9mZnNldCA9IHRoaXMuY3VycmVudEl0ZW0ub2Zmc2V0KCk7XG5cdFx0dGhpcy5vZmZzZXQgPSB7XG5cdFx0XHR0b3A6IHRoaXMub2Zmc2V0LnRvcCAtIHRoaXMubWFyZ2lucy50b3AsXG5cdFx0XHRsZWZ0OiB0aGlzLm9mZnNldC5sZWZ0IC0gdGhpcy5tYXJnaW5zLmxlZnRcblx0XHR9O1xuXG5cdFx0JC5leHRlbmQodGhpcy5vZmZzZXQsIHtcblx0XHRcdGNsaWNrOiB7IC8vV2hlcmUgdGhlIGNsaWNrIGhhcHBlbmVkLCByZWxhdGl2ZSB0byB0aGUgZWxlbWVudFxuXHRcdFx0XHRsZWZ0OiBldmVudC5wYWdlWCAtIHRoaXMub2Zmc2V0LmxlZnQsXG5cdFx0XHRcdHRvcDogZXZlbnQucGFnZVkgLSB0aGlzLm9mZnNldC50b3Bcblx0XHRcdH0sXG5cdFx0XHRwYXJlbnQ6IHRoaXMuX2dldFBhcmVudE9mZnNldCgpLFxuXHRcdFx0cmVsYXRpdmU6IHRoaXMuX2dldFJlbGF0aXZlT2Zmc2V0KCkgLy9UaGlzIGlzIGEgcmVsYXRpdmUgdG8gYWJzb2x1dGUgcG9zaXRpb24gbWludXMgdGhlIGFjdHVhbCBwb3NpdGlvbiBjYWxjdWxhdGlvbiAtIG9ubHkgdXNlZCBmb3IgcmVsYXRpdmUgcG9zaXRpb25lZCBoZWxwZXJcblx0XHR9KTtcblxuXHRcdC8vIE9ubHkgYWZ0ZXIgd2UgZ290IHRoZSBvZmZzZXQsIHdlIGNhbiBjaGFuZ2UgdGhlIGhlbHBlcidzIHBvc2l0aW9uIHRvIGFic29sdXRlXG5cdFx0Ly8gVE9ETzogU3RpbGwgbmVlZCB0byBmaWd1cmUgb3V0IGEgd2F5IHRvIG1ha2UgcmVsYXRpdmUgc29ydGluZyBwb3NzaWJsZVxuXHRcdHRoaXMuaGVscGVyLmNzcyhcInBvc2l0aW9uXCIsIFwiYWJzb2x1dGVcIik7XG5cdFx0dGhpcy5jc3NQb3NpdGlvbiA9IHRoaXMuaGVscGVyLmNzcyhcInBvc2l0aW9uXCIpO1xuXG5cdFx0Ly9HZW5lcmF0ZSB0aGUgb3JpZ2luYWwgcG9zaXRpb25cblx0XHR0aGlzLm9yaWdpbmFsUG9zaXRpb24gPSB0aGlzLl9nZW5lcmF0ZVBvc2l0aW9uKGV2ZW50KTtcblx0XHR0aGlzLm9yaWdpbmFsUGFnZVggPSBldmVudC5wYWdlWDtcblx0XHR0aGlzLm9yaWdpbmFsUGFnZVkgPSBldmVudC5wYWdlWTtcblxuXHRcdC8vQWRqdXN0IHRoZSBtb3VzZSBvZmZzZXQgcmVsYXRpdmUgdG8gdGhlIGhlbHBlciBpZiBcImN1cnNvckF0XCIgaXMgc3VwcGxpZWRcblx0XHQoby5jdXJzb3JBdCAmJiB0aGlzLl9hZGp1c3RPZmZzZXRGcm9tSGVscGVyKG8uY3Vyc29yQXQpKTtcblxuXHRcdC8vQ2FjaGUgdGhlIGZvcm1lciBET00gcG9zaXRpb25cblx0XHR0aGlzLmRvbVBvc2l0aW9uID0geyBwcmV2OiB0aGlzLmN1cnJlbnRJdGVtLnByZXYoKVswXSwgcGFyZW50OiB0aGlzLmN1cnJlbnRJdGVtLnBhcmVudCgpWzBdIH07XG5cblx0XHQvL0lmIHRoZSBoZWxwZXIgaXMgbm90IHRoZSBvcmlnaW5hbCwgaGlkZSB0aGUgb3JpZ2luYWwgc28gaXQncyBub3QgcGxheWluZyBhbnkgcm9sZSBkdXJpbmcgdGhlIGRyYWcsIHdvbid0IGNhdXNlIGFueXRoaW5nIGJhZCB0aGlzIHdheVxuXHRcdGlmKHRoaXMuaGVscGVyWzBdICE9PSB0aGlzLmN1cnJlbnRJdGVtWzBdKSB7XG5cdFx0XHR0aGlzLmN1cnJlbnRJdGVtLmhpZGUoKTtcblx0XHR9XG5cblx0XHQvL0NyZWF0ZSB0aGUgcGxhY2Vob2xkZXJcblx0XHR0aGlzLl9jcmVhdGVQbGFjZWhvbGRlcigpO1xuXG5cdFx0Ly9TZXQgYSBjb250YWlubWVudCBpZiBnaXZlbiBpbiB0aGUgb3B0aW9uc1xuXHRcdGlmKG8uY29udGFpbm1lbnQpIHtcblx0XHRcdHRoaXMuX3NldENvbnRhaW5tZW50KCk7XG5cdFx0fVxuXG5cdFx0aWYoIG8uY3Vyc29yICYmIG8uY3Vyc29yICE9PSBcImF1dG9cIiApIHsgLy8gY3Vyc29yIG9wdGlvblxuXHRcdFx0Ym9keSA9IHRoaXMuZG9jdW1lbnQuZmluZCggXCJib2R5XCIgKTtcblxuXHRcdFx0Ly8gc3VwcG9ydDogSUVcblx0XHRcdHRoaXMuc3RvcmVkQ3Vyc29yID0gYm9keS5jc3MoIFwiY3Vyc29yXCIgKTtcblx0XHRcdGJvZHkuY3NzKCBcImN1cnNvclwiLCBvLmN1cnNvciApO1xuXG5cdFx0XHR0aGlzLnN0b3JlZFN0eWxlc2hlZXQgPSAkKCBcIjxzdHlsZT4qeyBjdXJzb3I6IFwiK28uY3Vyc29yK1wiICFpbXBvcnRhbnQ7IH08L3N0eWxlPlwiICkuYXBwZW5kVG8oIGJvZHkgKTtcblx0XHR9XG5cblx0XHRpZihvLm9wYWNpdHkpIHsgLy8gb3BhY2l0eSBvcHRpb25cblx0XHRcdGlmICh0aGlzLmhlbHBlci5jc3MoXCJvcGFjaXR5XCIpKSB7XG5cdFx0XHRcdHRoaXMuX3N0b3JlZE9wYWNpdHkgPSB0aGlzLmhlbHBlci5jc3MoXCJvcGFjaXR5XCIpO1xuXHRcdFx0fVxuXHRcdFx0dGhpcy5oZWxwZXIuY3NzKFwib3BhY2l0eVwiLCBvLm9wYWNpdHkpO1xuXHRcdH1cblxuXHRcdGlmKG8uekluZGV4KSB7IC8vIHpJbmRleCBvcHRpb25cblx0XHRcdGlmICh0aGlzLmhlbHBlci5jc3MoXCJ6SW5kZXhcIikpIHtcblx0XHRcdFx0dGhpcy5fc3RvcmVkWkluZGV4ID0gdGhpcy5oZWxwZXIuY3NzKFwiekluZGV4XCIpO1xuXHRcdFx0fVxuXHRcdFx0dGhpcy5oZWxwZXIuY3NzKFwiekluZGV4XCIsIG8uekluZGV4KTtcblx0XHR9XG5cblx0XHQvL1ByZXBhcmUgc2Nyb2xsaW5nXG5cdFx0aWYodGhpcy5zY3JvbGxQYXJlbnRbMF0gIT09IHRoaXMuZG9jdW1lbnRbMF0gJiYgdGhpcy5zY3JvbGxQYXJlbnRbMF0udGFnTmFtZSAhPT0gXCJIVE1MXCIpIHtcblx0XHRcdHRoaXMub3ZlcmZsb3dPZmZzZXQgPSB0aGlzLnNjcm9sbFBhcmVudC5vZmZzZXQoKTtcblx0XHR9XG5cblx0XHQvL0NhbGwgY2FsbGJhY2tzXG5cdFx0dGhpcy5fdHJpZ2dlcihcInN0YXJ0XCIsIGV2ZW50LCB0aGlzLl91aUhhc2goKSk7XG5cblx0XHQvL1JlY2FjaGUgdGhlIGhlbHBlciBzaXplXG5cdFx0aWYoIXRoaXMuX3ByZXNlcnZlSGVscGVyUHJvcG9ydGlvbnMpIHtcblx0XHRcdHRoaXMuX2NhY2hlSGVscGVyUHJvcG9ydGlvbnMoKTtcblx0XHR9XG5cblxuXHRcdC8vUG9zdCBcImFjdGl2YXRlXCIgZXZlbnRzIHRvIHBvc3NpYmxlIGNvbnRhaW5lcnNcblx0XHRpZiggIW5vQWN0aXZhdGlvbiApIHtcblx0XHRcdGZvciAoIGkgPSB0aGlzLmNvbnRhaW5lcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0gKSB7XG5cdFx0XHRcdHRoaXMuY29udGFpbmVyc1sgaSBdLl90cmlnZ2VyKCBcImFjdGl2YXRlXCIsIGV2ZW50LCB0aGlzLl91aUhhc2goIHRoaXMgKSApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vUHJlcGFyZSBwb3NzaWJsZSBkcm9wcGFibGVzXG5cdFx0aWYoJC51aS5kZG1hbmFnZXIpIHtcblx0XHRcdCQudWkuZGRtYW5hZ2VyLmN1cnJlbnQgPSB0aGlzO1xuXHRcdH1cblxuXHRcdGlmICgkLnVpLmRkbWFuYWdlciAmJiAhby5kcm9wQmVoYXZpb3VyKSB7XG5cdFx0XHQkLnVpLmRkbWFuYWdlci5wcmVwYXJlT2Zmc2V0cyh0aGlzLCBldmVudCk7XG5cdFx0fVxuXG5cdFx0dGhpcy5kcmFnZ2luZyA9IHRydWU7XG5cblx0XHR0aGlzLmhlbHBlci5hZGRDbGFzcyhcInVpLXNvcnRhYmxlLWhlbHBlclwiKTtcblx0XHR0aGlzLl9tb3VzZURyYWcoZXZlbnQpOyAvL0V4ZWN1dGUgdGhlIGRyYWcgb25jZSAtIHRoaXMgY2F1c2VzIHRoZSBoZWxwZXIgbm90IHRvIGJlIHZpc2libGUgYmVmb3JlIGdldHRpbmcgaXRzIGNvcnJlY3QgcG9zaXRpb25cblx0XHRyZXR1cm4gdHJ1ZTtcblxuXHR9LFxuXG5cdF9tb3VzZURyYWc6IGZ1bmN0aW9uKGV2ZW50KSB7XG5cdFx0dmFyIGksIGl0ZW0sIGl0ZW1FbGVtZW50LCBpbnRlcnNlY3Rpb24sXG5cdFx0XHRvID0gdGhpcy5vcHRpb25zLFxuXHRcdFx0c2Nyb2xsZWQgPSBmYWxzZTtcblxuXHRcdC8vQ29tcHV0ZSB0aGUgaGVscGVycyBwb3NpdGlvblxuXHRcdHRoaXMucG9zaXRpb24gPSB0aGlzLl9nZW5lcmF0ZVBvc2l0aW9uKGV2ZW50KTtcblx0XHR0aGlzLnBvc2l0aW9uQWJzID0gdGhpcy5fY29udmVydFBvc2l0aW9uVG8oXCJhYnNvbHV0ZVwiKTtcblxuXHRcdGlmICghdGhpcy5sYXN0UG9zaXRpb25BYnMpIHtcblx0XHRcdHRoaXMubGFzdFBvc2l0aW9uQWJzID0gdGhpcy5wb3NpdGlvbkFicztcblx0XHR9XG5cblx0XHQvL0RvIHNjcm9sbGluZ1xuXHRcdGlmKHRoaXMub3B0aW9ucy5zY3JvbGwpIHtcblx0XHRcdGlmKHRoaXMuc2Nyb2xsUGFyZW50WzBdICE9PSB0aGlzLmRvY3VtZW50WzBdICYmIHRoaXMuc2Nyb2xsUGFyZW50WzBdLnRhZ05hbWUgIT09IFwiSFRNTFwiKSB7XG5cblx0XHRcdFx0aWYoKHRoaXMub3ZlcmZsb3dPZmZzZXQudG9wICsgdGhpcy5zY3JvbGxQYXJlbnRbMF0ub2Zmc2V0SGVpZ2h0KSAtIGV2ZW50LnBhZ2VZIDwgby5zY3JvbGxTZW5zaXRpdml0eSkge1xuXHRcdFx0XHRcdHRoaXMuc2Nyb2xsUGFyZW50WzBdLnNjcm9sbFRvcCA9IHNjcm9sbGVkID0gdGhpcy5zY3JvbGxQYXJlbnRbMF0uc2Nyb2xsVG9wICsgby5zY3JvbGxTcGVlZDtcblx0XHRcdFx0fSBlbHNlIGlmKGV2ZW50LnBhZ2VZIC0gdGhpcy5vdmVyZmxvd09mZnNldC50b3AgPCBvLnNjcm9sbFNlbnNpdGl2aXR5KSB7XG5cdFx0XHRcdFx0dGhpcy5zY3JvbGxQYXJlbnRbMF0uc2Nyb2xsVG9wID0gc2Nyb2xsZWQgPSB0aGlzLnNjcm9sbFBhcmVudFswXS5zY3JvbGxUb3AgLSBvLnNjcm9sbFNwZWVkO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYoKHRoaXMub3ZlcmZsb3dPZmZzZXQubGVmdCArIHRoaXMuc2Nyb2xsUGFyZW50WzBdLm9mZnNldFdpZHRoKSAtIGV2ZW50LnBhZ2VYIDwgby5zY3JvbGxTZW5zaXRpdml0eSkge1xuXHRcdFx0XHRcdHRoaXMuc2Nyb2xsUGFyZW50WzBdLnNjcm9sbExlZnQgPSBzY3JvbGxlZCA9IHRoaXMuc2Nyb2xsUGFyZW50WzBdLnNjcm9sbExlZnQgKyBvLnNjcm9sbFNwZWVkO1xuXHRcdFx0XHR9IGVsc2UgaWYoZXZlbnQucGFnZVggLSB0aGlzLm92ZXJmbG93T2Zmc2V0LmxlZnQgPCBvLnNjcm9sbFNlbnNpdGl2aXR5KSB7XG5cdFx0XHRcdFx0dGhpcy5zY3JvbGxQYXJlbnRbMF0uc2Nyb2xsTGVmdCA9IHNjcm9sbGVkID0gdGhpcy5zY3JvbGxQYXJlbnRbMF0uc2Nyb2xsTGVmdCAtIG8uc2Nyb2xsU3BlZWQ7XG5cdFx0XHRcdH1cblxuXHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRpZihldmVudC5wYWdlWSAtIHRoaXMuZG9jdW1lbnQuc2Nyb2xsVG9wKCkgPCBvLnNjcm9sbFNlbnNpdGl2aXR5KSB7XG5cdFx0XHRcdFx0c2Nyb2xsZWQgPSB0aGlzLmRvY3VtZW50LnNjcm9sbFRvcCh0aGlzLmRvY3VtZW50LnNjcm9sbFRvcCgpIC0gby5zY3JvbGxTcGVlZCk7XG5cdFx0XHRcdH0gZWxzZSBpZih0aGlzLndpbmRvdy5oZWlnaHQoKSAtIChldmVudC5wYWdlWSAtIHRoaXMuZG9jdW1lbnQuc2Nyb2xsVG9wKCkpIDwgby5zY3JvbGxTZW5zaXRpdml0eSkge1xuXHRcdFx0XHRcdHNjcm9sbGVkID0gdGhpcy5kb2N1bWVudC5zY3JvbGxUb3AodGhpcy5kb2N1bWVudC5zY3JvbGxUb3AoKSArIG8uc2Nyb2xsU3BlZWQpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYoZXZlbnQucGFnZVggLSB0aGlzLmRvY3VtZW50LnNjcm9sbExlZnQoKSA8IG8uc2Nyb2xsU2Vuc2l0aXZpdHkpIHtcblx0XHRcdFx0XHRzY3JvbGxlZCA9IHRoaXMuZG9jdW1lbnQuc2Nyb2xsTGVmdCh0aGlzLmRvY3VtZW50LnNjcm9sbExlZnQoKSAtIG8uc2Nyb2xsU3BlZWQpO1xuXHRcdFx0XHR9IGVsc2UgaWYodGhpcy53aW5kb3cud2lkdGgoKSAtIChldmVudC5wYWdlWCAtIHRoaXMuZG9jdW1lbnQuc2Nyb2xsTGVmdCgpKSA8IG8uc2Nyb2xsU2Vuc2l0aXZpdHkpIHtcblx0XHRcdFx0XHRzY3JvbGxlZCA9IHRoaXMuZG9jdW1lbnQuc2Nyb2xsTGVmdCh0aGlzLmRvY3VtZW50LnNjcm9sbExlZnQoKSArIG8uc2Nyb2xsU3BlZWQpO1xuXHRcdFx0XHR9XG5cblx0XHRcdH1cblxuXHRcdFx0aWYoc2Nyb2xsZWQgIT09IGZhbHNlICYmICQudWkuZGRtYW5hZ2VyICYmICFvLmRyb3BCZWhhdmlvdXIpIHtcblx0XHRcdFx0JC51aS5kZG1hbmFnZXIucHJlcGFyZU9mZnNldHModGhpcywgZXZlbnQpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vUmVnZW5lcmF0ZSB0aGUgYWJzb2x1dGUgcG9zaXRpb24gdXNlZCBmb3IgcG9zaXRpb24gY2hlY2tzXG5cdFx0dGhpcy5wb3NpdGlvbkFicyA9IHRoaXMuX2NvbnZlcnRQb3NpdGlvblRvKFwiYWJzb2x1dGVcIik7XG5cblx0XHQvL1NldCB0aGUgaGVscGVyIHBvc2l0aW9uXG5cdFx0aWYoIXRoaXMub3B0aW9ucy5heGlzIHx8IHRoaXMub3B0aW9ucy5heGlzICE9PSBcInlcIikge1xuXHRcdFx0dGhpcy5oZWxwZXJbMF0uc3R5bGUubGVmdCA9IHRoaXMucG9zaXRpb24ubGVmdCtcInB4XCI7XG5cdFx0fVxuXHRcdGlmKCF0aGlzLm9wdGlvbnMuYXhpcyB8fCB0aGlzLm9wdGlvbnMuYXhpcyAhPT0gXCJ4XCIpIHtcblx0XHRcdHRoaXMuaGVscGVyWzBdLnN0eWxlLnRvcCA9IHRoaXMucG9zaXRpb24udG9wK1wicHhcIjtcblx0XHR9XG5cblx0XHQvL1JlYXJyYW5nZVxuXHRcdGZvciAoaSA9IHRoaXMuaXRlbXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcblxuXHRcdFx0Ly9DYWNoZSB2YXJpYWJsZXMgYW5kIGludGVyc2VjdGlvbiwgY29udGludWUgaWYgbm8gaW50ZXJzZWN0aW9uXG5cdFx0XHRpdGVtID0gdGhpcy5pdGVtc1tpXTtcblx0XHRcdGl0ZW1FbGVtZW50ID0gaXRlbS5pdGVtWzBdO1xuXHRcdFx0aW50ZXJzZWN0aW9uID0gdGhpcy5faW50ZXJzZWN0c1dpdGhQb2ludGVyKGl0ZW0pO1xuXHRcdFx0aWYgKCFpbnRlcnNlY3Rpb24pIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdC8vIE9ubHkgcHV0IHRoZSBwbGFjZWhvbGRlciBpbnNpZGUgdGhlIGN1cnJlbnQgQ29udGFpbmVyLCBza2lwIGFsbFxuXHRcdFx0Ly8gaXRlbXMgZnJvbSBvdGhlciBjb250YWluZXJzLiBUaGlzIHdvcmtzIGJlY2F1c2Ugd2hlbiBtb3Zpbmdcblx0XHRcdC8vIGFuIGl0ZW0gZnJvbSBvbmUgY29udGFpbmVyIHRvIGFub3RoZXIgdGhlXG5cdFx0XHQvLyBjdXJyZW50Q29udGFpbmVyIGlzIHN3aXRjaGVkIGJlZm9yZSB0aGUgcGxhY2Vob2xkZXIgaXMgbW92ZWQuXG5cdFx0XHQvL1xuXHRcdFx0Ly8gV2l0aG91dCB0aGlzLCBtb3ZpbmcgaXRlbXMgaW4gXCJzdWItc29ydGFibGVzXCIgY2FuIGNhdXNlXG5cdFx0XHQvLyB0aGUgcGxhY2Vob2xkZXIgdG8gaml0dGVyIGJldHdlZW4gdGhlIG91dGVyIGFuZCBpbm5lciBjb250YWluZXIuXG5cdFx0XHRpZiAoaXRlbS5pbnN0YW5jZSAhPT0gdGhpcy5jdXJyZW50Q29udGFpbmVyKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBjYW5ub3QgaW50ZXJzZWN0IHdpdGggaXRzZWxmXG5cdFx0XHQvLyBubyB1c2VsZXNzIGFjdGlvbnMgdGhhdCBoYXZlIGJlZW4gZG9uZSBiZWZvcmVcblx0XHRcdC8vIG5vIGFjdGlvbiBpZiB0aGUgaXRlbSBtb3ZlZCBpcyB0aGUgcGFyZW50IG9mIHRoZSBpdGVtIGNoZWNrZWRcblx0XHRcdGlmIChpdGVtRWxlbWVudCAhPT0gdGhpcy5jdXJyZW50SXRlbVswXSAmJlxuXHRcdFx0XHR0aGlzLnBsYWNlaG9sZGVyW2ludGVyc2VjdGlvbiA9PT0gMSA/IFwibmV4dFwiIDogXCJwcmV2XCJdKClbMF0gIT09IGl0ZW1FbGVtZW50ICYmXG5cdFx0XHRcdCEkLmNvbnRhaW5zKHRoaXMucGxhY2Vob2xkZXJbMF0sIGl0ZW1FbGVtZW50KSAmJlxuXHRcdFx0XHQodGhpcy5vcHRpb25zLnR5cGUgPT09IFwic2VtaS1keW5hbWljXCIgPyAhJC5jb250YWlucyh0aGlzLmVsZW1lbnRbMF0sIGl0ZW1FbGVtZW50KSA6IHRydWUpXG5cdFx0XHQpIHtcblxuXHRcdFx0XHR0aGlzLmRpcmVjdGlvbiA9IGludGVyc2VjdGlvbiA9PT0gMSA/IFwiZG93blwiIDogXCJ1cFwiO1xuXG5cdFx0XHRcdGlmICh0aGlzLm9wdGlvbnMudG9sZXJhbmNlID09PSBcInBvaW50ZXJcIiB8fCB0aGlzLl9pbnRlcnNlY3RzV2l0aFNpZGVzKGl0ZW0pKSB7XG5cdFx0XHRcdFx0dGhpcy5fcmVhcnJhbmdlKGV2ZW50LCBpdGVtKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHRoaXMuX3RyaWdnZXIoXCJjaGFuZ2VcIiwgZXZlbnQsIHRoaXMuX3VpSGFzaCgpKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly9Qb3N0IGV2ZW50cyB0byBjb250YWluZXJzXG5cdFx0dGhpcy5fY29udGFjdENvbnRhaW5lcnMoZXZlbnQpO1xuXG5cdFx0Ly9JbnRlcmNvbm5lY3Qgd2l0aCBkcm9wcGFibGVzXG5cdFx0aWYoJC51aS5kZG1hbmFnZXIpIHtcblx0XHRcdCQudWkuZGRtYW5hZ2VyLmRyYWcodGhpcywgZXZlbnQpO1xuXHRcdH1cblxuXHRcdC8vQ2FsbCBjYWxsYmFja3Ncblx0XHR0aGlzLl90cmlnZ2VyKFwic29ydFwiLCBldmVudCwgdGhpcy5fdWlIYXNoKCkpO1xuXG5cdFx0dGhpcy5sYXN0UG9zaXRpb25BYnMgPSB0aGlzLnBvc2l0aW9uQWJzO1xuXHRcdHJldHVybiBmYWxzZTtcblxuXHR9LFxuXG5cdF9tb3VzZVN0b3A6IGZ1bmN0aW9uKGV2ZW50LCBub1Byb3BhZ2F0aW9uKSB7XG5cblx0XHRpZighZXZlbnQpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvL0lmIHdlIGFyZSB1c2luZyBkcm9wcGFibGVzLCBpbmZvcm0gdGhlIG1hbmFnZXIgYWJvdXQgdGhlIGRyb3Bcblx0XHRpZiAoJC51aS5kZG1hbmFnZXIgJiYgIXRoaXMub3B0aW9ucy5kcm9wQmVoYXZpb3VyKSB7XG5cdFx0XHQkLnVpLmRkbWFuYWdlci5kcm9wKHRoaXMsIGV2ZW50KTtcblx0XHR9XG5cblx0XHRpZih0aGlzLm9wdGlvbnMucmV2ZXJ0KSB7XG5cdFx0XHR2YXIgdGhhdCA9IHRoaXMsXG5cdFx0XHRcdGN1ciA9IHRoaXMucGxhY2Vob2xkZXIub2Zmc2V0KCksXG5cdFx0XHRcdGF4aXMgPSB0aGlzLm9wdGlvbnMuYXhpcyxcblx0XHRcdFx0YW5pbWF0aW9uID0ge307XG5cblx0XHRcdGlmICggIWF4aXMgfHwgYXhpcyA9PT0gXCJ4XCIgKSB7XG5cdFx0XHRcdGFuaW1hdGlvbi5sZWZ0ID0gY3VyLmxlZnQgLSB0aGlzLm9mZnNldC5wYXJlbnQubGVmdCAtIHRoaXMubWFyZ2lucy5sZWZ0ICsgKHRoaXMub2Zmc2V0UGFyZW50WzBdID09PSB0aGlzLmRvY3VtZW50WzBdLmJvZHkgPyAwIDogdGhpcy5vZmZzZXRQYXJlbnRbMF0uc2Nyb2xsTGVmdCk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoICFheGlzIHx8IGF4aXMgPT09IFwieVwiICkge1xuXHRcdFx0XHRhbmltYXRpb24udG9wID0gY3VyLnRvcCAtIHRoaXMub2Zmc2V0LnBhcmVudC50b3AgLSB0aGlzLm1hcmdpbnMudG9wICsgKHRoaXMub2Zmc2V0UGFyZW50WzBdID09PSB0aGlzLmRvY3VtZW50WzBdLmJvZHkgPyAwIDogdGhpcy5vZmZzZXRQYXJlbnRbMF0uc2Nyb2xsVG9wKTtcblx0XHRcdH1cblx0XHRcdHRoaXMucmV2ZXJ0aW5nID0gdHJ1ZTtcblx0XHRcdCQodGhpcy5oZWxwZXIpLmFuaW1hdGUoIGFuaW1hdGlvbiwgcGFyc2VJbnQodGhpcy5vcHRpb25zLnJldmVydCwgMTApIHx8IDUwMCwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHRoYXQuX2NsZWFyKGV2ZW50KTtcblx0XHRcdH0pO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLl9jbGVhcihldmVudCwgbm9Qcm9wYWdhdGlvbik7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGZhbHNlO1xuXG5cdH0sXG5cblx0Y2FuY2VsOiBmdW5jdGlvbigpIHtcblxuXHRcdGlmKHRoaXMuZHJhZ2dpbmcpIHtcblxuXHRcdFx0dGhpcy5fbW91c2VVcCh7IHRhcmdldDogbnVsbCB9KTtcblxuXHRcdFx0aWYodGhpcy5vcHRpb25zLmhlbHBlciA9PT0gXCJvcmlnaW5hbFwiKSB7XG5cdFx0XHRcdHRoaXMuY3VycmVudEl0ZW0uY3NzKHRoaXMuX3N0b3JlZENTUykucmVtb3ZlQ2xhc3MoXCJ1aS1zb3J0YWJsZS1oZWxwZXJcIik7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aGlzLmN1cnJlbnRJdGVtLnNob3coKTtcblx0XHRcdH1cblxuXHRcdFx0Ly9Qb3N0IGRlYWN0aXZhdGluZyBldmVudHMgdG8gY29udGFpbmVyc1xuXHRcdFx0Zm9yICh2YXIgaSA9IHRoaXMuY29udGFpbmVycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSl7XG5cdFx0XHRcdHRoaXMuY29udGFpbmVyc1tpXS5fdHJpZ2dlcihcImRlYWN0aXZhdGVcIiwgbnVsbCwgdGhpcy5fdWlIYXNoKHRoaXMpKTtcblx0XHRcdFx0aWYodGhpcy5jb250YWluZXJzW2ldLmNvbnRhaW5lckNhY2hlLm92ZXIpIHtcblx0XHRcdFx0XHR0aGlzLmNvbnRhaW5lcnNbaV0uX3RyaWdnZXIoXCJvdXRcIiwgbnVsbCwgdGhpcy5fdWlIYXNoKHRoaXMpKTtcblx0XHRcdFx0XHR0aGlzLmNvbnRhaW5lcnNbaV0uY29udGFpbmVyQ2FjaGUub3ZlciA9IDA7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdH1cblxuXHRcdGlmICh0aGlzLnBsYWNlaG9sZGVyKSB7XG5cdFx0XHQvLyQodGhpcy5wbGFjZWhvbGRlclswXSkucmVtb3ZlKCk7IHdvdWxkIGhhdmUgYmVlbiB0aGUgalF1ZXJ5IHdheSAtIHVuZm9ydHVuYXRlbHksIGl0IHVuYmluZHMgQUxMIGV2ZW50cyBmcm9tIHRoZSBvcmlnaW5hbCBub2RlIVxuXHRcdFx0aWYodGhpcy5wbGFjZWhvbGRlclswXS5wYXJlbnROb2RlKSB7XG5cdFx0XHRcdHRoaXMucGxhY2Vob2xkZXJbMF0ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLnBsYWNlaG9sZGVyWzBdKTtcblx0XHRcdH1cblx0XHRcdGlmKHRoaXMub3B0aW9ucy5oZWxwZXIgIT09IFwib3JpZ2luYWxcIiAmJiB0aGlzLmhlbHBlciAmJiB0aGlzLmhlbHBlclswXS5wYXJlbnROb2RlKSB7XG5cdFx0XHRcdHRoaXMuaGVscGVyLnJlbW92ZSgpO1xuXHRcdFx0fVxuXG5cdFx0XHQkLmV4dGVuZCh0aGlzLCB7XG5cdFx0XHRcdGhlbHBlcjogbnVsbCxcblx0XHRcdFx0ZHJhZ2dpbmc6IGZhbHNlLFxuXHRcdFx0XHRyZXZlcnRpbmc6IGZhbHNlLFxuXHRcdFx0XHRfbm9GaW5hbFNvcnQ6IG51bGxcblx0XHRcdH0pO1xuXG5cdFx0XHRpZih0aGlzLmRvbVBvc2l0aW9uLnByZXYpIHtcblx0XHRcdFx0JCh0aGlzLmRvbVBvc2l0aW9uLnByZXYpLmFmdGVyKHRoaXMuY3VycmVudEl0ZW0pO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0JCh0aGlzLmRvbVBvc2l0aW9uLnBhcmVudCkucHJlcGVuZCh0aGlzLmN1cnJlbnRJdGVtKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9LFxuXG5cdHNlcmlhbGl6ZTogZnVuY3Rpb24obykge1xuXG5cdFx0dmFyIGl0ZW1zID0gdGhpcy5fZ2V0SXRlbXNBc2pRdWVyeShvICYmIG8uY29ubmVjdGVkKSxcblx0XHRcdHN0ciA9IFtdO1xuXHRcdG8gPSBvIHx8IHt9O1xuXG5cdFx0JChpdGVtcykuZWFjaChmdW5jdGlvbigpIHtcblx0XHRcdHZhciByZXMgPSAoJChvLml0ZW0gfHwgdGhpcykuYXR0cihvLmF0dHJpYnV0ZSB8fCBcImlkXCIpIHx8IFwiXCIpLm1hdGNoKG8uZXhwcmVzc2lvbiB8fCAoLyguKylbXFwtPV9dKC4rKS8pKTtcblx0XHRcdGlmIChyZXMpIHtcblx0XHRcdFx0c3RyLnB1c2goKG8ua2V5IHx8IHJlc1sxXStcIltdXCIpK1wiPVwiKyhvLmtleSAmJiBvLmV4cHJlc3Npb24gPyByZXNbMV0gOiByZXNbMl0pKTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdGlmKCFzdHIubGVuZ3RoICYmIG8ua2V5KSB7XG5cdFx0XHRzdHIucHVzaChvLmtleSArIFwiPVwiKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gc3RyLmpvaW4oXCImXCIpO1xuXG5cdH0sXG5cblx0dG9BcnJheTogZnVuY3Rpb24obykge1xuXG5cdFx0dmFyIGl0ZW1zID0gdGhpcy5fZ2V0SXRlbXNBc2pRdWVyeShvICYmIG8uY29ubmVjdGVkKSxcblx0XHRcdHJldCA9IFtdO1xuXG5cdFx0byA9IG8gfHwge307XG5cblx0XHRpdGVtcy5lYWNoKGZ1bmN0aW9uKCkgeyByZXQucHVzaCgkKG8uaXRlbSB8fCB0aGlzKS5hdHRyKG8uYXR0cmlidXRlIHx8IFwiaWRcIikgfHwgXCJcIik7IH0pO1xuXHRcdHJldHVybiByZXQ7XG5cblx0fSxcblxuXHQvKiBCZSBjYXJlZnVsIHdpdGggdGhlIGZvbGxvd2luZyBjb3JlIGZ1bmN0aW9ucyAqL1xuXHRfaW50ZXJzZWN0c1dpdGg6IGZ1bmN0aW9uKGl0ZW0pIHtcblxuXHRcdHZhciB4MSA9IHRoaXMucG9zaXRpb25BYnMubGVmdCxcblx0XHRcdHgyID0geDEgKyB0aGlzLmhlbHBlclByb3BvcnRpb25zLndpZHRoLFxuXHRcdFx0eTEgPSB0aGlzLnBvc2l0aW9uQWJzLnRvcCxcblx0XHRcdHkyID0geTEgKyB0aGlzLmhlbHBlclByb3BvcnRpb25zLmhlaWdodCxcblx0XHRcdGwgPSBpdGVtLmxlZnQsXG5cdFx0XHRyID0gbCArIGl0ZW0ud2lkdGgsXG5cdFx0XHR0ID0gaXRlbS50b3AsXG5cdFx0XHRiID0gdCArIGl0ZW0uaGVpZ2h0LFxuXHRcdFx0ZHlDbGljayA9IHRoaXMub2Zmc2V0LmNsaWNrLnRvcCxcblx0XHRcdGR4Q2xpY2sgPSB0aGlzLm9mZnNldC5jbGljay5sZWZ0LFxuXHRcdFx0aXNPdmVyRWxlbWVudEhlaWdodCA9ICggdGhpcy5vcHRpb25zLmF4aXMgPT09IFwieFwiICkgfHwgKCAoIHkxICsgZHlDbGljayApID4gdCAmJiAoIHkxICsgZHlDbGljayApIDwgYiApLFxuXHRcdFx0aXNPdmVyRWxlbWVudFdpZHRoID0gKCB0aGlzLm9wdGlvbnMuYXhpcyA9PT0gXCJ5XCIgKSB8fCAoICggeDEgKyBkeENsaWNrICkgPiBsICYmICggeDEgKyBkeENsaWNrICkgPCByICksXG5cdFx0XHRpc092ZXJFbGVtZW50ID0gaXNPdmVyRWxlbWVudEhlaWdodCAmJiBpc092ZXJFbGVtZW50V2lkdGg7XG5cblx0XHRpZiAoIHRoaXMub3B0aW9ucy50b2xlcmFuY2UgPT09IFwicG9pbnRlclwiIHx8XG5cdFx0XHR0aGlzLm9wdGlvbnMuZm9yY2VQb2ludGVyRm9yQ29udGFpbmVycyB8fFxuXHRcdFx0KHRoaXMub3B0aW9ucy50b2xlcmFuY2UgIT09IFwicG9pbnRlclwiICYmIHRoaXMuaGVscGVyUHJvcG9ydGlvbnNbdGhpcy5mbG9hdGluZyA/IFwid2lkdGhcIiA6IFwiaGVpZ2h0XCJdID4gaXRlbVt0aGlzLmZsb2F0aW5nID8gXCJ3aWR0aFwiIDogXCJoZWlnaHRcIl0pXG5cdFx0KSB7XG5cdFx0XHRyZXR1cm4gaXNPdmVyRWxlbWVudDtcblx0XHR9IGVsc2Uge1xuXG5cdFx0XHRyZXR1cm4gKGwgPCB4MSArICh0aGlzLmhlbHBlclByb3BvcnRpb25zLndpZHRoIC8gMikgJiYgLy8gUmlnaHQgSGFsZlxuXHRcdFx0XHR4MiAtICh0aGlzLmhlbHBlclByb3BvcnRpb25zLndpZHRoIC8gMikgPCByICYmIC8vIExlZnQgSGFsZlxuXHRcdFx0XHR0IDwgeTEgKyAodGhpcy5oZWxwZXJQcm9wb3J0aW9ucy5oZWlnaHQgLyAyKSAmJiAvLyBCb3R0b20gSGFsZlxuXHRcdFx0XHR5MiAtICh0aGlzLmhlbHBlclByb3BvcnRpb25zLmhlaWdodCAvIDIpIDwgYiApOyAvLyBUb3AgSGFsZlxuXG5cdFx0fVxuXHR9LFxuXG5cdF9pbnRlcnNlY3RzV2l0aFBvaW50ZXI6IGZ1bmN0aW9uKGl0ZW0pIHtcblxuXHRcdHZhciBpc092ZXJFbGVtZW50SGVpZ2h0ID0gKHRoaXMub3B0aW9ucy5heGlzID09PSBcInhcIikgfHwgdGhpcy5faXNPdmVyQXhpcyh0aGlzLnBvc2l0aW9uQWJzLnRvcCArIHRoaXMub2Zmc2V0LmNsaWNrLnRvcCwgaXRlbS50b3AsIGl0ZW0uaGVpZ2h0KSxcblx0XHRcdGlzT3ZlckVsZW1lbnRXaWR0aCA9ICh0aGlzLm9wdGlvbnMuYXhpcyA9PT0gXCJ5XCIpIHx8IHRoaXMuX2lzT3ZlckF4aXModGhpcy5wb3NpdGlvbkFicy5sZWZ0ICsgdGhpcy5vZmZzZXQuY2xpY2subGVmdCwgaXRlbS5sZWZ0LCBpdGVtLndpZHRoKSxcblx0XHRcdGlzT3ZlckVsZW1lbnQgPSBpc092ZXJFbGVtZW50SGVpZ2h0ICYmIGlzT3ZlckVsZW1lbnRXaWR0aCxcblx0XHRcdHZlcnRpY2FsRGlyZWN0aW9uID0gdGhpcy5fZ2V0RHJhZ1ZlcnRpY2FsRGlyZWN0aW9uKCksXG5cdFx0XHRob3Jpem9udGFsRGlyZWN0aW9uID0gdGhpcy5fZ2V0RHJhZ0hvcml6b250YWxEaXJlY3Rpb24oKTtcblxuXHRcdGlmICghaXNPdmVyRWxlbWVudCkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLmZsb2F0aW5nID9cblx0XHRcdCggKChob3Jpem9udGFsRGlyZWN0aW9uICYmIGhvcml6b250YWxEaXJlY3Rpb24gPT09IFwicmlnaHRcIikgfHwgdmVydGljYWxEaXJlY3Rpb24gPT09IFwiZG93blwiKSA/IDIgOiAxIClcblx0XHRcdDogKCB2ZXJ0aWNhbERpcmVjdGlvbiAmJiAodmVydGljYWxEaXJlY3Rpb24gPT09IFwiZG93blwiID8gMiA6IDEpICk7XG5cblx0fSxcblxuXHRfaW50ZXJzZWN0c1dpdGhTaWRlczogZnVuY3Rpb24oaXRlbSkge1xuXG5cdFx0dmFyIGlzT3ZlckJvdHRvbUhhbGYgPSB0aGlzLl9pc092ZXJBeGlzKHRoaXMucG9zaXRpb25BYnMudG9wICsgdGhpcy5vZmZzZXQuY2xpY2sudG9wLCBpdGVtLnRvcCArIChpdGVtLmhlaWdodC8yKSwgaXRlbS5oZWlnaHQpLFxuXHRcdFx0aXNPdmVyUmlnaHRIYWxmID0gdGhpcy5faXNPdmVyQXhpcyh0aGlzLnBvc2l0aW9uQWJzLmxlZnQgKyB0aGlzLm9mZnNldC5jbGljay5sZWZ0LCBpdGVtLmxlZnQgKyAoaXRlbS53aWR0aC8yKSwgaXRlbS53aWR0aCksXG5cdFx0XHR2ZXJ0aWNhbERpcmVjdGlvbiA9IHRoaXMuX2dldERyYWdWZXJ0aWNhbERpcmVjdGlvbigpLFxuXHRcdFx0aG9yaXpvbnRhbERpcmVjdGlvbiA9IHRoaXMuX2dldERyYWdIb3Jpem9udGFsRGlyZWN0aW9uKCk7XG5cblx0XHRpZiAodGhpcy5mbG9hdGluZyAmJiBob3Jpem9udGFsRGlyZWN0aW9uKSB7XG5cdFx0XHRyZXR1cm4gKChob3Jpem9udGFsRGlyZWN0aW9uID09PSBcInJpZ2h0XCIgJiYgaXNPdmVyUmlnaHRIYWxmKSB8fCAoaG9yaXpvbnRhbERpcmVjdGlvbiA9PT0gXCJsZWZ0XCIgJiYgIWlzT3ZlclJpZ2h0SGFsZikpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gdmVydGljYWxEaXJlY3Rpb24gJiYgKCh2ZXJ0aWNhbERpcmVjdGlvbiA9PT0gXCJkb3duXCIgJiYgaXNPdmVyQm90dG9tSGFsZikgfHwgKHZlcnRpY2FsRGlyZWN0aW9uID09PSBcInVwXCIgJiYgIWlzT3ZlckJvdHRvbUhhbGYpKTtcblx0XHR9XG5cblx0fSxcblxuXHRfZ2V0RHJhZ1ZlcnRpY2FsRGlyZWN0aW9uOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgZGVsdGEgPSB0aGlzLnBvc2l0aW9uQWJzLnRvcCAtIHRoaXMubGFzdFBvc2l0aW9uQWJzLnRvcDtcblx0XHRyZXR1cm4gZGVsdGEgIT09IDAgJiYgKGRlbHRhID4gMCA/IFwiZG93blwiIDogXCJ1cFwiKTtcblx0fSxcblxuXHRfZ2V0RHJhZ0hvcml6b250YWxEaXJlY3Rpb246IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBkZWx0YSA9IHRoaXMucG9zaXRpb25BYnMubGVmdCAtIHRoaXMubGFzdFBvc2l0aW9uQWJzLmxlZnQ7XG5cdFx0cmV0dXJuIGRlbHRhICE9PSAwICYmIChkZWx0YSA+IDAgPyBcInJpZ2h0XCIgOiBcImxlZnRcIik7XG5cdH0sXG5cblx0cmVmcmVzaDogZnVuY3Rpb24oZXZlbnQpIHtcblx0XHR0aGlzLl9yZWZyZXNoSXRlbXMoZXZlbnQpO1xuXHRcdHRoaXMuX3NldEhhbmRsZUNsYXNzTmFtZSgpO1xuXHRcdHRoaXMucmVmcmVzaFBvc2l0aW9ucygpO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9LFxuXG5cdF9jb25uZWN0V2l0aDogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG5cdFx0cmV0dXJuIG9wdGlvbnMuY29ubmVjdFdpdGguY29uc3RydWN0b3IgPT09IFN0cmluZyA/IFtvcHRpb25zLmNvbm5lY3RXaXRoXSA6IG9wdGlvbnMuY29ubmVjdFdpdGg7XG5cdH0sXG5cblx0X2dldEl0ZW1zQXNqUXVlcnk6IGZ1bmN0aW9uKGNvbm5lY3RlZCkge1xuXG5cdFx0dmFyIGksIGosIGN1ciwgaW5zdCxcblx0XHRcdGl0ZW1zID0gW10sXG5cdFx0XHRxdWVyaWVzID0gW10sXG5cdFx0XHRjb25uZWN0V2l0aCA9IHRoaXMuX2Nvbm5lY3RXaXRoKCk7XG5cblx0XHRpZihjb25uZWN0V2l0aCAmJiBjb25uZWN0ZWQpIHtcblx0XHRcdGZvciAoaSA9IGNvbm5lY3RXaXRoLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKXtcblx0XHRcdFx0Y3VyID0gJChjb25uZWN0V2l0aFtpXSwgdGhpcy5kb2N1bWVudFswXSk7XG5cdFx0XHRcdGZvciAoIGogPSBjdXIubGVuZ3RoIC0gMTsgaiA+PSAwOyBqLS0pe1xuXHRcdFx0XHRcdGluc3QgPSAkLmRhdGEoY3VyW2pdLCB0aGlzLndpZGdldEZ1bGxOYW1lKTtcblx0XHRcdFx0XHRpZihpbnN0ICYmIGluc3QgIT09IHRoaXMgJiYgIWluc3Qub3B0aW9ucy5kaXNhYmxlZCkge1xuXHRcdFx0XHRcdFx0cXVlcmllcy5wdXNoKFskLmlzRnVuY3Rpb24oaW5zdC5vcHRpb25zLml0ZW1zKSA/IGluc3Qub3B0aW9ucy5pdGVtcy5jYWxsKGluc3QuZWxlbWVudCkgOiAkKGluc3Qub3B0aW9ucy5pdGVtcywgaW5zdC5lbGVtZW50KS5ub3QoXCIudWktc29ydGFibGUtaGVscGVyXCIpLm5vdChcIi51aS1zb3J0YWJsZS1wbGFjZWhvbGRlclwiKSwgaW5zdF0pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHF1ZXJpZXMucHVzaChbJC5pc0Z1bmN0aW9uKHRoaXMub3B0aW9ucy5pdGVtcykgPyB0aGlzLm9wdGlvbnMuaXRlbXMuY2FsbCh0aGlzLmVsZW1lbnQsIG51bGwsIHsgb3B0aW9uczogdGhpcy5vcHRpb25zLCBpdGVtOiB0aGlzLmN1cnJlbnRJdGVtIH0pIDogJCh0aGlzLm9wdGlvbnMuaXRlbXMsIHRoaXMuZWxlbWVudCkubm90KFwiLnVpLXNvcnRhYmxlLWhlbHBlclwiKS5ub3QoXCIudWktc29ydGFibGUtcGxhY2Vob2xkZXJcIiksIHRoaXNdKTtcblxuXHRcdGZ1bmN0aW9uIGFkZEl0ZW1zKCkge1xuXHRcdFx0aXRlbXMucHVzaCggdGhpcyApO1xuXHRcdH1cblx0XHRmb3IgKGkgPSBxdWVyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKXtcblx0XHRcdHF1ZXJpZXNbaV1bMF0uZWFjaCggYWRkSXRlbXMgKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gJChpdGVtcyk7XG5cblx0fSxcblxuXHRfcmVtb3ZlQ3VycmVudHNGcm9tSXRlbXM6IGZ1bmN0aW9uKCkge1xuXG5cdFx0dmFyIGxpc3QgPSB0aGlzLmN1cnJlbnRJdGVtLmZpbmQoXCI6ZGF0YShcIiArIHRoaXMud2lkZ2V0TmFtZSArIFwiLWl0ZW0pXCIpO1xuXG5cdFx0dGhpcy5pdGVtcyA9ICQuZ3JlcCh0aGlzLml0ZW1zLCBmdW5jdGlvbiAoaXRlbSkge1xuXHRcdFx0Zm9yICh2YXIgaj0wOyBqIDwgbGlzdC5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRpZihsaXN0W2pdID09PSBpdGVtLml0ZW1bMF0pIHtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH0pO1xuXG5cdH0sXG5cblx0X3JlZnJlc2hJdGVtczogZnVuY3Rpb24oZXZlbnQpIHtcblxuXHRcdHRoaXMuaXRlbXMgPSBbXTtcblx0XHR0aGlzLmNvbnRhaW5lcnMgPSBbdGhpc107XG5cblx0XHR2YXIgaSwgaiwgY3VyLCBpbnN0LCB0YXJnZXREYXRhLCBfcXVlcmllcywgaXRlbSwgcXVlcmllc0xlbmd0aCxcblx0XHRcdGl0ZW1zID0gdGhpcy5pdGVtcyxcblx0XHRcdHF1ZXJpZXMgPSBbWyQuaXNGdW5jdGlvbih0aGlzLm9wdGlvbnMuaXRlbXMpID8gdGhpcy5vcHRpb25zLml0ZW1zLmNhbGwodGhpcy5lbGVtZW50WzBdLCBldmVudCwgeyBpdGVtOiB0aGlzLmN1cnJlbnRJdGVtIH0pIDogJCh0aGlzLm9wdGlvbnMuaXRlbXMsIHRoaXMuZWxlbWVudCksIHRoaXNdXSxcblx0XHRcdGNvbm5lY3RXaXRoID0gdGhpcy5fY29ubmVjdFdpdGgoKTtcblxuXHRcdGlmKGNvbm5lY3RXaXRoICYmIHRoaXMucmVhZHkpIHsgLy9TaG91bGRuJ3QgYmUgcnVuIHRoZSBmaXJzdCB0aW1lIHRocm91Z2ggZHVlIHRvIG1hc3NpdmUgc2xvdy1kb3duXG5cdFx0XHRmb3IgKGkgPSBjb25uZWN0V2l0aC5sZW5ndGggLSAxOyBpID49IDA7IGktLSl7XG5cdFx0XHRcdGN1ciA9ICQoY29ubmVjdFdpdGhbaV0sIHRoaXMuZG9jdW1lbnRbMF0pO1xuXHRcdFx0XHRmb3IgKGogPSBjdXIubGVuZ3RoIC0gMTsgaiA+PSAwOyBqLS0pe1xuXHRcdFx0XHRcdGluc3QgPSAkLmRhdGEoY3VyW2pdLCB0aGlzLndpZGdldEZ1bGxOYW1lKTtcblx0XHRcdFx0XHRpZihpbnN0ICYmIGluc3QgIT09IHRoaXMgJiYgIWluc3Qub3B0aW9ucy5kaXNhYmxlZCkge1xuXHRcdFx0XHRcdFx0cXVlcmllcy5wdXNoKFskLmlzRnVuY3Rpb24oaW5zdC5vcHRpb25zLml0ZW1zKSA/IGluc3Qub3B0aW9ucy5pdGVtcy5jYWxsKGluc3QuZWxlbWVudFswXSwgZXZlbnQsIHsgaXRlbTogdGhpcy5jdXJyZW50SXRlbSB9KSA6ICQoaW5zdC5vcHRpb25zLml0ZW1zLCBpbnN0LmVsZW1lbnQpLCBpbnN0XSk7XG5cdFx0XHRcdFx0XHR0aGlzLmNvbnRhaW5lcnMucHVzaChpbnN0KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRmb3IgKGkgPSBxdWVyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG5cdFx0XHR0YXJnZXREYXRhID0gcXVlcmllc1tpXVsxXTtcblx0XHRcdF9xdWVyaWVzID0gcXVlcmllc1tpXVswXTtcblxuXHRcdFx0Zm9yIChqPTAsIHF1ZXJpZXNMZW5ndGggPSBfcXVlcmllcy5sZW5ndGg7IGogPCBxdWVyaWVzTGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0aXRlbSA9ICQoX3F1ZXJpZXNbal0pO1xuXG5cdFx0XHRcdGl0ZW0uZGF0YSh0aGlzLndpZGdldE5hbWUgKyBcIi1pdGVtXCIsIHRhcmdldERhdGEpOyAvLyBEYXRhIGZvciB0YXJnZXQgY2hlY2tpbmcgKG1vdXNlIG1hbmFnZXIpXG5cblx0XHRcdFx0aXRlbXMucHVzaCh7XG5cdFx0XHRcdFx0aXRlbTogaXRlbSxcblx0XHRcdFx0XHRpbnN0YW5jZTogdGFyZ2V0RGF0YSxcblx0XHRcdFx0XHR3aWR0aDogMCwgaGVpZ2h0OiAwLFxuXHRcdFx0XHRcdGxlZnQ6IDAsIHRvcDogMFxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9XG5cblx0fSxcblxuXHRyZWZyZXNoUG9zaXRpb25zOiBmdW5jdGlvbihmYXN0KSB7XG5cblx0XHQvLyBEZXRlcm1pbmUgd2hldGhlciBpdGVtcyBhcmUgYmVpbmcgZGlzcGxheWVkIGhvcml6b250YWxseVxuXHRcdHRoaXMuZmxvYXRpbmcgPSB0aGlzLml0ZW1zLmxlbmd0aCA/XG5cdFx0XHR0aGlzLm9wdGlvbnMuYXhpcyA9PT0gXCJ4XCIgfHwgdGhpcy5faXNGbG9hdGluZyggdGhpcy5pdGVtc1sgMCBdLml0ZW0gKSA6XG5cdFx0XHRmYWxzZTtcblxuXHRcdC8vVGhpcyBoYXMgdG8gYmUgcmVkb25lIGJlY2F1c2UgZHVlIHRvIHRoZSBpdGVtIGJlaW5nIG1vdmVkIG91dC9pbnRvIHRoZSBvZmZzZXRQYXJlbnQsIHRoZSBvZmZzZXRQYXJlbnQncyBwb3NpdGlvbiB3aWxsIGNoYW5nZVxuXHRcdGlmKHRoaXMub2Zmc2V0UGFyZW50ICYmIHRoaXMuaGVscGVyKSB7XG5cdFx0XHR0aGlzLm9mZnNldC5wYXJlbnQgPSB0aGlzLl9nZXRQYXJlbnRPZmZzZXQoKTtcblx0XHR9XG5cblx0XHR2YXIgaSwgaXRlbSwgdCwgcDtcblxuXHRcdGZvciAoaSA9IHRoaXMuaXRlbXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pe1xuXHRcdFx0aXRlbSA9IHRoaXMuaXRlbXNbaV07XG5cblx0XHRcdC8vV2UgaWdub3JlIGNhbGN1bGF0aW5nIHBvc2l0aW9ucyBvZiBhbGwgY29ubmVjdGVkIGNvbnRhaW5lcnMgd2hlbiB3ZSdyZSBub3Qgb3ZlciB0aGVtXG5cdFx0XHRpZihpdGVtLmluc3RhbmNlICE9PSB0aGlzLmN1cnJlbnRDb250YWluZXIgJiYgdGhpcy5jdXJyZW50Q29udGFpbmVyICYmIGl0ZW0uaXRlbVswXSAhPT0gdGhpcy5jdXJyZW50SXRlbVswXSkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0dCA9IHRoaXMub3B0aW9ucy50b2xlcmFuY2VFbGVtZW50ID8gJCh0aGlzLm9wdGlvbnMudG9sZXJhbmNlRWxlbWVudCwgaXRlbS5pdGVtKSA6IGl0ZW0uaXRlbTtcblxuXHRcdFx0aWYgKCFmYXN0KSB7XG5cdFx0XHRcdGl0ZW0ud2lkdGggPSB0Lm91dGVyV2lkdGgoKTtcblx0XHRcdFx0aXRlbS5oZWlnaHQgPSB0Lm91dGVySGVpZ2h0KCk7XG5cdFx0XHR9XG5cblx0XHRcdHAgPSB0Lm9mZnNldCgpO1xuXHRcdFx0aXRlbS5sZWZ0ID0gcC5sZWZ0O1xuXHRcdFx0aXRlbS50b3AgPSBwLnRvcDtcblx0XHR9XG5cblx0XHRpZih0aGlzLm9wdGlvbnMuY3VzdG9tICYmIHRoaXMub3B0aW9ucy5jdXN0b20ucmVmcmVzaENvbnRhaW5lcnMpIHtcblx0XHRcdHRoaXMub3B0aW9ucy5jdXN0b20ucmVmcmVzaENvbnRhaW5lcnMuY2FsbCh0aGlzKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Zm9yIChpID0gdGhpcy5jb250YWluZXJzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKXtcblx0XHRcdFx0cCA9IHRoaXMuY29udGFpbmVyc1tpXS5lbGVtZW50Lm9mZnNldCgpO1xuXHRcdFx0XHR0aGlzLmNvbnRhaW5lcnNbaV0uY29udGFpbmVyQ2FjaGUubGVmdCA9IHAubGVmdDtcblx0XHRcdFx0dGhpcy5jb250YWluZXJzW2ldLmNvbnRhaW5lckNhY2hlLnRvcCA9IHAudG9wO1xuXHRcdFx0XHR0aGlzLmNvbnRhaW5lcnNbaV0uY29udGFpbmVyQ2FjaGUud2lkdGggPSB0aGlzLmNvbnRhaW5lcnNbaV0uZWxlbWVudC5vdXRlcldpZHRoKCk7XG5cdFx0XHRcdHRoaXMuY29udGFpbmVyc1tpXS5jb250YWluZXJDYWNoZS5oZWlnaHQgPSB0aGlzLmNvbnRhaW5lcnNbaV0uZWxlbWVudC5vdXRlckhlaWdodCgpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzO1xuXHR9LFxuXG5cdF9jcmVhdGVQbGFjZWhvbGRlcjogZnVuY3Rpb24odGhhdCkge1xuXHRcdHRoYXQgPSB0aGF0IHx8IHRoaXM7XG5cdFx0dmFyIGNsYXNzTmFtZSxcblx0XHRcdG8gPSB0aGF0Lm9wdGlvbnM7XG5cblx0XHRpZighby5wbGFjZWhvbGRlciB8fCBvLnBsYWNlaG9sZGVyLmNvbnN0cnVjdG9yID09PSBTdHJpbmcpIHtcblx0XHRcdGNsYXNzTmFtZSA9IG8ucGxhY2Vob2xkZXI7XG5cdFx0XHRvLnBsYWNlaG9sZGVyID0ge1xuXHRcdFx0XHRlbGVtZW50OiBmdW5jdGlvbigpIHtcblxuXHRcdFx0XHRcdHZhciBub2RlTmFtZSA9IHRoYXQuY3VycmVudEl0ZW1bMF0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxcblx0XHRcdFx0XHRcdGVsZW1lbnQgPSAkKCBcIjxcIiArIG5vZGVOYW1lICsgXCI+XCIsIHRoYXQuZG9jdW1lbnRbMF0gKVxuXHRcdFx0XHRcdFx0XHQuYWRkQ2xhc3MoY2xhc3NOYW1lIHx8IHRoYXQuY3VycmVudEl0ZW1bMF0uY2xhc3NOYW1lK1wiIHVpLXNvcnRhYmxlLXBsYWNlaG9sZGVyXCIpXG5cdFx0XHRcdFx0XHRcdC5yZW1vdmVDbGFzcyhcInVpLXNvcnRhYmxlLWhlbHBlclwiKTtcblxuXHRcdFx0XHRcdGlmICggbm9kZU5hbWUgPT09IFwidGJvZHlcIiApIHtcblx0XHRcdFx0XHRcdHRoYXQuX2NyZWF0ZVRyUGxhY2Vob2xkZXIoXG5cdFx0XHRcdFx0XHRcdHRoYXQuY3VycmVudEl0ZW0uZmluZCggXCJ0clwiICkuZXEoIDAgKSxcblx0XHRcdFx0XHRcdFx0JCggXCI8dHI+XCIsIHRoYXQuZG9jdW1lbnRbIDAgXSApLmFwcGVuZFRvKCBlbGVtZW50IClcblx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0fSBlbHNlIGlmICggbm9kZU5hbWUgPT09IFwidHJcIiApIHtcblx0XHRcdFx0XHRcdHRoYXQuX2NyZWF0ZVRyUGxhY2Vob2xkZXIoIHRoYXQuY3VycmVudEl0ZW0sIGVsZW1lbnQgKTtcblx0XHRcdFx0XHR9IGVsc2UgaWYgKCBub2RlTmFtZSA9PT0gXCJpbWdcIiApIHtcblx0XHRcdFx0XHRcdGVsZW1lbnQuYXR0ciggXCJzcmNcIiwgdGhhdC5jdXJyZW50SXRlbS5hdHRyKCBcInNyY1wiICkgKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpZiAoICFjbGFzc05hbWUgKSB7XG5cdFx0XHRcdFx0XHRlbGVtZW50LmNzcyggXCJ2aXNpYmlsaXR5XCIsIFwiaGlkZGVuXCIgKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4gZWxlbWVudDtcblx0XHRcdFx0fSxcblx0XHRcdFx0dXBkYXRlOiBmdW5jdGlvbihjb250YWluZXIsIHApIHtcblxuXHRcdFx0XHRcdC8vIDEuIElmIGEgY2xhc3NOYW1lIGlzIHNldCBhcyAncGxhY2Vob2xkZXIgb3B0aW9uLCB3ZSBkb24ndCBmb3JjZSBzaXplcyAtIHRoZSBjbGFzcyBpcyByZXNwb25zaWJsZSBmb3IgdGhhdFxuXHRcdFx0XHRcdC8vIDIuIFRoZSBvcHRpb24gJ2ZvcmNlUGxhY2Vob2xkZXJTaXplIGNhbiBiZSBlbmFibGVkIHRvIGZvcmNlIGl0IGV2ZW4gaWYgYSBjbGFzcyBuYW1lIGlzIHNwZWNpZmllZFxuXHRcdFx0XHRcdGlmKGNsYXNzTmFtZSAmJiAhby5mb3JjZVBsYWNlaG9sZGVyU2l6ZSkge1xuXHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8vSWYgdGhlIGVsZW1lbnQgZG9lc24ndCBoYXZlIGEgYWN0dWFsIGhlaWdodCBieSBpdHNlbGYgKHdpdGhvdXQgc3R5bGVzIGNvbWluZyBmcm9tIGEgc3R5bGVzaGVldCksIGl0IHJlY2VpdmVzIHRoZSBpbmxpbmUgaGVpZ2h0IGZyb20gdGhlIGRyYWdnZWQgaXRlbVxuXHRcdFx0XHRcdGlmKCFwLmhlaWdodCgpKSB7IHAuaGVpZ2h0KHRoYXQuY3VycmVudEl0ZW0uaW5uZXJIZWlnaHQoKSAtIHBhcnNlSW50KHRoYXQuY3VycmVudEl0ZW0uY3NzKFwicGFkZGluZ1RvcFwiKXx8MCwgMTApIC0gcGFyc2VJbnQodGhhdC5jdXJyZW50SXRlbS5jc3MoXCJwYWRkaW5nQm90dG9tXCIpfHwwLCAxMCkpOyB9XG5cdFx0XHRcdFx0aWYoIXAud2lkdGgoKSkgeyBwLndpZHRoKHRoYXQuY3VycmVudEl0ZW0uaW5uZXJXaWR0aCgpIC0gcGFyc2VJbnQodGhhdC5jdXJyZW50SXRlbS5jc3MoXCJwYWRkaW5nTGVmdFwiKXx8MCwgMTApIC0gcGFyc2VJbnQodGhhdC5jdXJyZW50SXRlbS5jc3MoXCJwYWRkaW5nUmlnaHRcIil8fDAsIDEwKSk7IH1cblx0XHRcdFx0fVxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHQvL0NyZWF0ZSB0aGUgcGxhY2Vob2xkZXJcblx0XHR0aGF0LnBsYWNlaG9sZGVyID0gJChvLnBsYWNlaG9sZGVyLmVsZW1lbnQuY2FsbCh0aGF0LmVsZW1lbnQsIHRoYXQuY3VycmVudEl0ZW0pKTtcblxuXHRcdC8vQXBwZW5kIGl0IGFmdGVyIHRoZSBhY3R1YWwgY3VycmVudCBpdGVtXG5cdFx0dGhhdC5jdXJyZW50SXRlbS5hZnRlcih0aGF0LnBsYWNlaG9sZGVyKTtcblxuXHRcdC8vVXBkYXRlIHRoZSBzaXplIG9mIHRoZSBwbGFjZWhvbGRlciAoVE9ETzogTG9naWMgdG8gZnV6enksIHNlZSBsaW5lIDMxNi8zMTcpXG5cdFx0by5wbGFjZWhvbGRlci51cGRhdGUodGhhdCwgdGhhdC5wbGFjZWhvbGRlcik7XG5cblx0fSxcblxuXHRfY3JlYXRlVHJQbGFjZWhvbGRlcjogZnVuY3Rpb24oIHNvdXJjZVRyLCB0YXJnZXRUciApIHtcblx0XHR2YXIgdGhhdCA9IHRoaXM7XG5cblx0XHRzb3VyY2VUci5jaGlsZHJlbigpLmVhY2goZnVuY3Rpb24oKSB7XG5cdFx0XHQkKCBcIjx0ZD4mIzE2MDs8L3RkPlwiLCB0aGF0LmRvY3VtZW50WyAwIF0gKVxuXHRcdFx0XHQuYXR0ciggXCJjb2xzcGFuXCIsICQoIHRoaXMgKS5hdHRyKCBcImNvbHNwYW5cIiApIHx8IDEgKVxuXHRcdFx0XHQuYXBwZW5kVG8oIHRhcmdldFRyICk7XG5cdFx0fSk7XG5cdH0sXG5cblx0X2NvbnRhY3RDb250YWluZXJzOiBmdW5jdGlvbihldmVudCkge1xuXHRcdHZhciBpLCBqLCBkaXN0LCBpdGVtV2l0aExlYXN0RGlzdGFuY2UsIHBvc1Byb3BlcnR5LCBzaXplUHJvcGVydHksIGN1ciwgbmVhckJvdHRvbSwgZmxvYXRpbmcsIGF4aXMsXG5cdFx0XHRpbm5lcm1vc3RDb250YWluZXIgPSBudWxsLFxuXHRcdFx0aW5uZXJtb3N0SW5kZXggPSBudWxsO1xuXG5cdFx0Ly8gZ2V0IGlubmVybW9zdCBjb250YWluZXIgdGhhdCBpbnRlcnNlY3RzIHdpdGggaXRlbVxuXHRcdGZvciAoaSA9IHRoaXMuY29udGFpbmVycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuXG5cdFx0XHQvLyBuZXZlciBjb25zaWRlciBhIGNvbnRhaW5lciB0aGF0J3MgbG9jYXRlZCB3aXRoaW4gdGhlIGl0ZW0gaXRzZWxmXG5cdFx0XHRpZigkLmNvbnRhaW5zKHRoaXMuY3VycmVudEl0ZW1bMF0sIHRoaXMuY29udGFpbmVyc1tpXS5lbGVtZW50WzBdKSkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0aWYodGhpcy5faW50ZXJzZWN0c1dpdGgodGhpcy5jb250YWluZXJzW2ldLmNvbnRhaW5lckNhY2hlKSkge1xuXG5cdFx0XHRcdC8vIGlmIHdlJ3ZlIGFscmVhZHkgZm91bmQgYSBjb250YWluZXIgYW5kIGl0J3MgbW9yZSBcImlubmVyXCIgdGhhbiB0aGlzLCB0aGVuIGNvbnRpbnVlXG5cdFx0XHRcdGlmKGlubmVybW9zdENvbnRhaW5lciAmJiAkLmNvbnRhaW5zKHRoaXMuY29udGFpbmVyc1tpXS5lbGVtZW50WzBdLCBpbm5lcm1vc3RDb250YWluZXIuZWxlbWVudFswXSkpIHtcblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlubmVybW9zdENvbnRhaW5lciA9IHRoaXMuY29udGFpbmVyc1tpXTtcblx0XHRcdFx0aW5uZXJtb3N0SW5kZXggPSBpO1xuXG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQvLyBjb250YWluZXIgZG9lc24ndCBpbnRlcnNlY3QuIHRyaWdnZXIgXCJvdXRcIiBldmVudCBpZiBuZWNlc3Nhcnlcblx0XHRcdFx0aWYodGhpcy5jb250YWluZXJzW2ldLmNvbnRhaW5lckNhY2hlLm92ZXIpIHtcblx0XHRcdFx0XHR0aGlzLmNvbnRhaW5lcnNbaV0uX3RyaWdnZXIoXCJvdXRcIiwgZXZlbnQsIHRoaXMuX3VpSGFzaCh0aGlzKSk7XG5cdFx0XHRcdFx0dGhpcy5jb250YWluZXJzW2ldLmNvbnRhaW5lckNhY2hlLm92ZXIgPSAwO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHR9XG5cblx0XHQvLyBpZiBubyBpbnRlcnNlY3RpbmcgY29udGFpbmVycyBmb3VuZCwgcmV0dXJuXG5cdFx0aWYoIWlubmVybW9zdENvbnRhaW5lcikge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIG1vdmUgdGhlIGl0ZW0gaW50byB0aGUgY29udGFpbmVyIGlmIGl0J3Mgbm90IHRoZXJlIGFscmVhZHlcblx0XHRpZih0aGlzLmNvbnRhaW5lcnMubGVuZ3RoID09PSAxKSB7XG5cdFx0XHRpZiAoIXRoaXMuY29udGFpbmVyc1tpbm5lcm1vc3RJbmRleF0uY29udGFpbmVyQ2FjaGUub3Zlcikge1xuXHRcdFx0XHR0aGlzLmNvbnRhaW5lcnNbaW5uZXJtb3N0SW5kZXhdLl90cmlnZ2VyKFwib3ZlclwiLCBldmVudCwgdGhpcy5fdWlIYXNoKHRoaXMpKTtcblx0XHRcdFx0dGhpcy5jb250YWluZXJzW2lubmVybW9zdEluZGV4XS5jb250YWluZXJDYWNoZS5vdmVyID0gMTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXG5cdFx0XHQvL1doZW4gZW50ZXJpbmcgYSBuZXcgY29udGFpbmVyLCB3ZSB3aWxsIGZpbmQgdGhlIGl0ZW0gd2l0aCB0aGUgbGVhc3QgZGlzdGFuY2UgYW5kIGFwcGVuZCBvdXIgaXRlbSBuZWFyIGl0XG5cdFx0XHRkaXN0ID0gMTAwMDA7XG5cdFx0XHRpdGVtV2l0aExlYXN0RGlzdGFuY2UgPSBudWxsO1xuXHRcdFx0ZmxvYXRpbmcgPSBpbm5lcm1vc3RDb250YWluZXIuZmxvYXRpbmcgfHwgdGhpcy5faXNGbG9hdGluZyh0aGlzLmN1cnJlbnRJdGVtKTtcblx0XHRcdHBvc1Byb3BlcnR5ID0gZmxvYXRpbmcgPyBcImxlZnRcIiA6IFwidG9wXCI7XG5cdFx0XHRzaXplUHJvcGVydHkgPSBmbG9hdGluZyA/IFwid2lkdGhcIiA6IFwiaGVpZ2h0XCI7XG5cdFx0XHRheGlzID0gZmxvYXRpbmcgPyBcImNsaWVudFhcIiA6IFwiY2xpZW50WVwiO1xuXG5cdFx0XHRmb3IgKGogPSB0aGlzLml0ZW1zLmxlbmd0aCAtIDE7IGogPj0gMDsgai0tKSB7XG5cdFx0XHRcdGlmKCEkLmNvbnRhaW5zKHRoaXMuY29udGFpbmVyc1tpbm5lcm1vc3RJbmRleF0uZWxlbWVudFswXSwgdGhpcy5pdGVtc1tqXS5pdGVtWzBdKSkge1xuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmKHRoaXMuaXRlbXNbal0uaXRlbVswXSA9PT0gdGhpcy5jdXJyZW50SXRlbVswXSkge1xuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y3VyID0gdGhpcy5pdGVtc1tqXS5pdGVtLm9mZnNldCgpW3Bvc1Byb3BlcnR5XTtcblx0XHRcdFx0bmVhckJvdHRvbSA9IGZhbHNlO1xuXHRcdFx0XHRpZiAoIGV2ZW50WyBheGlzIF0gLSBjdXIgPiB0aGlzLml0ZW1zWyBqIF1bIHNpemVQcm9wZXJ0eSBdIC8gMiApIHtcblx0XHRcdFx0XHRuZWFyQm90dG9tID0gdHJ1ZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmICggTWF0aC5hYnMoIGV2ZW50WyBheGlzIF0gLSBjdXIgKSA8IGRpc3QgKSB7XG5cdFx0XHRcdFx0ZGlzdCA9IE1hdGguYWJzKCBldmVudFsgYXhpcyBdIC0gY3VyICk7XG5cdFx0XHRcdFx0aXRlbVdpdGhMZWFzdERpc3RhbmNlID0gdGhpcy5pdGVtc1sgaiBdO1xuXHRcdFx0XHRcdHRoaXMuZGlyZWN0aW9uID0gbmVhckJvdHRvbSA/IFwidXBcIjogXCJkb3duXCI7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly9DaGVjayBpZiBkcm9wT25FbXB0eSBpcyBlbmFibGVkXG5cdFx0XHRpZighaXRlbVdpdGhMZWFzdERpc3RhbmNlICYmICF0aGlzLm9wdGlvbnMuZHJvcE9uRW1wdHkpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRpZih0aGlzLmN1cnJlbnRDb250YWluZXIgPT09IHRoaXMuY29udGFpbmVyc1tpbm5lcm1vc3RJbmRleF0pIHtcblx0XHRcdFx0aWYgKCAhdGhpcy5jdXJyZW50Q29udGFpbmVyLmNvbnRhaW5lckNhY2hlLm92ZXIgKSB7XG5cdFx0XHRcdFx0dGhpcy5jb250YWluZXJzWyBpbm5lcm1vc3RJbmRleCBdLl90cmlnZ2VyKCBcIm92ZXJcIiwgZXZlbnQsIHRoaXMuX3VpSGFzaCgpICk7XG5cdFx0XHRcdFx0dGhpcy5jdXJyZW50Q29udGFpbmVyLmNvbnRhaW5lckNhY2hlLm92ZXIgPSAxO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0aXRlbVdpdGhMZWFzdERpc3RhbmNlID8gdGhpcy5fcmVhcnJhbmdlKGV2ZW50LCBpdGVtV2l0aExlYXN0RGlzdGFuY2UsIG51bGwsIHRydWUpIDogdGhpcy5fcmVhcnJhbmdlKGV2ZW50LCBudWxsLCB0aGlzLmNvbnRhaW5lcnNbaW5uZXJtb3N0SW5kZXhdLmVsZW1lbnQsIHRydWUpO1xuXHRcdFx0dGhpcy5fdHJpZ2dlcihcImNoYW5nZVwiLCBldmVudCwgdGhpcy5fdWlIYXNoKCkpO1xuXHRcdFx0dGhpcy5jb250YWluZXJzW2lubmVybW9zdEluZGV4XS5fdHJpZ2dlcihcImNoYW5nZVwiLCBldmVudCwgdGhpcy5fdWlIYXNoKHRoaXMpKTtcblx0XHRcdHRoaXMuY3VycmVudENvbnRhaW5lciA9IHRoaXMuY29udGFpbmVyc1tpbm5lcm1vc3RJbmRleF07XG5cblx0XHRcdC8vVXBkYXRlIHRoZSBwbGFjZWhvbGRlclxuXHRcdFx0dGhpcy5vcHRpb25zLnBsYWNlaG9sZGVyLnVwZGF0ZSh0aGlzLmN1cnJlbnRDb250YWluZXIsIHRoaXMucGxhY2Vob2xkZXIpO1xuXG5cdFx0XHR0aGlzLmNvbnRhaW5lcnNbaW5uZXJtb3N0SW5kZXhdLl90cmlnZ2VyKFwib3ZlclwiLCBldmVudCwgdGhpcy5fdWlIYXNoKHRoaXMpKTtcblx0XHRcdHRoaXMuY29udGFpbmVyc1tpbm5lcm1vc3RJbmRleF0uY29udGFpbmVyQ2FjaGUub3ZlciA9IDE7XG5cdFx0fVxuXG5cblx0fSxcblxuXHRfY3JlYXRlSGVscGVyOiBmdW5jdGlvbihldmVudCkge1xuXG5cdFx0dmFyIG8gPSB0aGlzLm9wdGlvbnMsXG5cdFx0XHRoZWxwZXIgPSAkLmlzRnVuY3Rpb24oby5oZWxwZXIpID8gJChvLmhlbHBlci5hcHBseSh0aGlzLmVsZW1lbnRbMF0sIFtldmVudCwgdGhpcy5jdXJyZW50SXRlbV0pKSA6IChvLmhlbHBlciA9PT0gXCJjbG9uZVwiID8gdGhpcy5jdXJyZW50SXRlbS5jbG9uZSgpIDogdGhpcy5jdXJyZW50SXRlbSk7XG5cblx0XHQvL0FkZCB0aGUgaGVscGVyIHRvIHRoZSBET00gaWYgdGhhdCBkaWRuJ3QgaGFwcGVuIGFscmVhZHlcblx0XHRpZighaGVscGVyLnBhcmVudHMoXCJib2R5XCIpLmxlbmd0aCkge1xuXHRcdFx0JChvLmFwcGVuZFRvICE9PSBcInBhcmVudFwiID8gby5hcHBlbmRUbyA6IHRoaXMuY3VycmVudEl0ZW1bMF0ucGFyZW50Tm9kZSlbMF0uYXBwZW5kQ2hpbGQoaGVscGVyWzBdKTtcblx0XHR9XG5cblx0XHRpZihoZWxwZXJbMF0gPT09IHRoaXMuY3VycmVudEl0ZW1bMF0pIHtcblx0XHRcdHRoaXMuX3N0b3JlZENTUyA9IHsgd2lkdGg6IHRoaXMuY3VycmVudEl0ZW1bMF0uc3R5bGUud2lkdGgsIGhlaWdodDogdGhpcy5jdXJyZW50SXRlbVswXS5zdHlsZS5oZWlnaHQsIHBvc2l0aW9uOiB0aGlzLmN1cnJlbnRJdGVtLmNzcyhcInBvc2l0aW9uXCIpLCB0b3A6IHRoaXMuY3VycmVudEl0ZW0uY3NzKFwidG9wXCIpLCBsZWZ0OiB0aGlzLmN1cnJlbnRJdGVtLmNzcyhcImxlZnRcIikgfTtcblx0XHR9XG5cblx0XHRpZighaGVscGVyWzBdLnN0eWxlLndpZHRoIHx8IG8uZm9yY2VIZWxwZXJTaXplKSB7XG5cdFx0XHRoZWxwZXIud2lkdGgodGhpcy5jdXJyZW50SXRlbS53aWR0aCgpKTtcblx0XHR9XG5cdFx0aWYoIWhlbHBlclswXS5zdHlsZS5oZWlnaHQgfHwgby5mb3JjZUhlbHBlclNpemUpIHtcblx0XHRcdGhlbHBlci5oZWlnaHQodGhpcy5jdXJyZW50SXRlbS5oZWlnaHQoKSk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGhlbHBlcjtcblxuXHR9LFxuXG5cdF9hZGp1c3RPZmZzZXRGcm9tSGVscGVyOiBmdW5jdGlvbihvYmopIHtcblx0XHRpZiAodHlwZW9mIG9iaiA9PT0gXCJzdHJpbmdcIikge1xuXHRcdFx0b2JqID0gb2JqLnNwbGl0KFwiIFwiKTtcblx0XHR9XG5cdFx0aWYgKCQuaXNBcnJheShvYmopKSB7XG5cdFx0XHRvYmogPSB7bGVmdDogK29ialswXSwgdG9wOiArb2JqWzFdIHx8IDB9O1xuXHRcdH1cblx0XHRpZiAoXCJsZWZ0XCIgaW4gb2JqKSB7XG5cdFx0XHR0aGlzLm9mZnNldC5jbGljay5sZWZ0ID0gb2JqLmxlZnQgKyB0aGlzLm1hcmdpbnMubGVmdDtcblx0XHR9XG5cdFx0aWYgKFwicmlnaHRcIiBpbiBvYmopIHtcblx0XHRcdHRoaXMub2Zmc2V0LmNsaWNrLmxlZnQgPSB0aGlzLmhlbHBlclByb3BvcnRpb25zLndpZHRoIC0gb2JqLnJpZ2h0ICsgdGhpcy5tYXJnaW5zLmxlZnQ7XG5cdFx0fVxuXHRcdGlmIChcInRvcFwiIGluIG9iaikge1xuXHRcdFx0dGhpcy5vZmZzZXQuY2xpY2sudG9wID0gb2JqLnRvcCArIHRoaXMubWFyZ2lucy50b3A7XG5cdFx0fVxuXHRcdGlmIChcImJvdHRvbVwiIGluIG9iaikge1xuXHRcdFx0dGhpcy5vZmZzZXQuY2xpY2sudG9wID0gdGhpcy5oZWxwZXJQcm9wb3J0aW9ucy5oZWlnaHQgLSBvYmouYm90dG9tICsgdGhpcy5tYXJnaW5zLnRvcDtcblx0XHR9XG5cdH0sXG5cblx0X2dldFBhcmVudE9mZnNldDogZnVuY3Rpb24oKSB7XG5cblxuXHRcdC8vR2V0IHRoZSBvZmZzZXRQYXJlbnQgYW5kIGNhY2hlIGl0cyBwb3NpdGlvblxuXHRcdHRoaXMub2Zmc2V0UGFyZW50ID0gdGhpcy5oZWxwZXIub2Zmc2V0UGFyZW50KCk7XG5cdFx0dmFyIHBvID0gdGhpcy5vZmZzZXRQYXJlbnQub2Zmc2V0KCk7XG5cblx0XHQvLyBUaGlzIGlzIGEgc3BlY2lhbCBjYXNlIHdoZXJlIHdlIG5lZWQgdG8gbW9kaWZ5IGEgb2Zmc2V0IGNhbGN1bGF0ZWQgb24gc3RhcnQsIHNpbmNlIHRoZSBmb2xsb3dpbmcgaGFwcGVuZWQ6XG5cdFx0Ly8gMS4gVGhlIHBvc2l0aW9uIG9mIHRoZSBoZWxwZXIgaXMgYWJzb2x1dGUsIHNvIGl0J3MgcG9zaXRpb24gaXMgY2FsY3VsYXRlZCBiYXNlZCBvbiB0aGUgbmV4dCBwb3NpdGlvbmVkIHBhcmVudFxuXHRcdC8vIDIuIFRoZSBhY3R1YWwgb2Zmc2V0IHBhcmVudCBpcyBhIGNoaWxkIG9mIHRoZSBzY3JvbGwgcGFyZW50LCBhbmQgdGhlIHNjcm9sbCBwYXJlbnQgaXNuJ3QgdGhlIGRvY3VtZW50LCB3aGljaCBtZWFucyB0aGF0XG5cdFx0Ly8gICAgdGhlIHNjcm9sbCBpcyBpbmNsdWRlZCBpbiB0aGUgaW5pdGlhbCBjYWxjdWxhdGlvbiBvZiB0aGUgb2Zmc2V0IG9mIHRoZSBwYXJlbnQsIGFuZCBuZXZlciByZWNhbGN1bGF0ZWQgdXBvbiBkcmFnXG5cdFx0aWYodGhpcy5jc3NQb3NpdGlvbiA9PT0gXCJhYnNvbHV0ZVwiICYmIHRoaXMuc2Nyb2xsUGFyZW50WzBdICE9PSB0aGlzLmRvY3VtZW50WzBdICYmICQuY29udGFpbnModGhpcy5zY3JvbGxQYXJlbnRbMF0sIHRoaXMub2Zmc2V0UGFyZW50WzBdKSkge1xuXHRcdFx0cG8ubGVmdCArPSB0aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxMZWZ0KCk7XG5cdFx0XHRwby50b3AgKz0gdGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsVG9wKCk7XG5cdFx0fVxuXG5cdFx0Ly8gVGhpcyBuZWVkcyB0byBiZSBhY3R1YWxseSBkb25lIGZvciBhbGwgYnJvd3NlcnMsIHNpbmNlIHBhZ2VYL3BhZ2VZIGluY2x1ZGVzIHRoaXMgaW5mb3JtYXRpb25cblx0XHQvLyB3aXRoIGFuIHVnbHkgSUUgZml4XG5cdFx0aWYoIHRoaXMub2Zmc2V0UGFyZW50WzBdID09PSB0aGlzLmRvY3VtZW50WzBdLmJvZHkgfHwgKHRoaXMub2Zmc2V0UGFyZW50WzBdLnRhZ05hbWUgJiYgdGhpcy5vZmZzZXRQYXJlbnRbMF0udGFnTmFtZS50b0xvd2VyQ2FzZSgpID09PSBcImh0bWxcIiAmJiAkLnVpLmllKSkge1xuXHRcdFx0cG8gPSB7IHRvcDogMCwgbGVmdDogMCB9O1xuXHRcdH1cblxuXHRcdHJldHVybiB7XG5cdFx0XHR0b3A6IHBvLnRvcCArIChwYXJzZUludCh0aGlzLm9mZnNldFBhcmVudC5jc3MoXCJib3JkZXJUb3BXaWR0aFwiKSwxMCkgfHwgMCksXG5cdFx0XHRsZWZ0OiBwby5sZWZ0ICsgKHBhcnNlSW50KHRoaXMub2Zmc2V0UGFyZW50LmNzcyhcImJvcmRlckxlZnRXaWR0aFwiKSwxMCkgfHwgMClcblx0XHR9O1xuXG5cdH0sXG5cblx0X2dldFJlbGF0aXZlT2Zmc2V0OiBmdW5jdGlvbigpIHtcblxuXHRcdGlmKHRoaXMuY3NzUG9zaXRpb24gPT09IFwicmVsYXRpdmVcIikge1xuXHRcdFx0dmFyIHAgPSB0aGlzLmN1cnJlbnRJdGVtLnBvc2l0aW9uKCk7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHR0b3A6IHAudG9wIC0gKHBhcnNlSW50KHRoaXMuaGVscGVyLmNzcyhcInRvcFwiKSwxMCkgfHwgMCkgKyB0aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxUb3AoKSxcblx0XHRcdFx0bGVmdDogcC5sZWZ0IC0gKHBhcnNlSW50KHRoaXMuaGVscGVyLmNzcyhcImxlZnRcIiksMTApIHx8IDApICsgdGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsTGVmdCgpXG5cdFx0XHR9O1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4geyB0b3A6IDAsIGxlZnQ6IDAgfTtcblx0XHR9XG5cblx0fSxcblxuXHRfY2FjaGVNYXJnaW5zOiBmdW5jdGlvbigpIHtcblx0XHR0aGlzLm1hcmdpbnMgPSB7XG5cdFx0XHRsZWZ0OiAocGFyc2VJbnQodGhpcy5jdXJyZW50SXRlbS5jc3MoXCJtYXJnaW5MZWZ0XCIpLDEwKSB8fCAwKSxcblx0XHRcdHRvcDogKHBhcnNlSW50KHRoaXMuY3VycmVudEl0ZW0uY3NzKFwibWFyZ2luVG9wXCIpLDEwKSB8fCAwKVxuXHRcdH07XG5cdH0sXG5cblx0X2NhY2hlSGVscGVyUHJvcG9ydGlvbnM6IGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMuaGVscGVyUHJvcG9ydGlvbnMgPSB7XG5cdFx0XHR3aWR0aDogdGhpcy5oZWxwZXIub3V0ZXJXaWR0aCgpLFxuXHRcdFx0aGVpZ2h0OiB0aGlzLmhlbHBlci5vdXRlckhlaWdodCgpXG5cdFx0fTtcblx0fSxcblxuXHRfc2V0Q29udGFpbm1lbnQ6IGZ1bmN0aW9uKCkge1xuXG5cdFx0dmFyIGNlLCBjbywgb3Zlcixcblx0XHRcdG8gPSB0aGlzLm9wdGlvbnM7XG5cdFx0aWYoby5jb250YWlubWVudCA9PT0gXCJwYXJlbnRcIikge1xuXHRcdFx0by5jb250YWlubWVudCA9IHRoaXMuaGVscGVyWzBdLnBhcmVudE5vZGU7XG5cdFx0fVxuXHRcdGlmKG8uY29udGFpbm1lbnQgPT09IFwiZG9jdW1lbnRcIiB8fCBvLmNvbnRhaW5tZW50ID09PSBcIndpbmRvd1wiKSB7XG5cdFx0XHR0aGlzLmNvbnRhaW5tZW50ID0gW1xuXHRcdFx0XHQwIC0gdGhpcy5vZmZzZXQucmVsYXRpdmUubGVmdCAtIHRoaXMub2Zmc2V0LnBhcmVudC5sZWZ0LFxuXHRcdFx0XHQwIC0gdGhpcy5vZmZzZXQucmVsYXRpdmUudG9wIC0gdGhpcy5vZmZzZXQucGFyZW50LnRvcCxcblx0XHRcdFx0by5jb250YWlubWVudCA9PT0gXCJkb2N1bWVudFwiID8gdGhpcy5kb2N1bWVudC53aWR0aCgpIDogdGhpcy53aW5kb3cud2lkdGgoKSAtIHRoaXMuaGVscGVyUHJvcG9ydGlvbnMud2lkdGggLSB0aGlzLm1hcmdpbnMubGVmdCxcblx0XHRcdFx0KG8uY29udGFpbm1lbnQgPT09IFwiZG9jdW1lbnRcIiA/IHRoaXMuZG9jdW1lbnQud2lkdGgoKSA6IHRoaXMud2luZG93LmhlaWdodCgpIHx8IHRoaXMuZG9jdW1lbnRbMF0uYm9keS5wYXJlbnROb2RlLnNjcm9sbEhlaWdodCkgLSB0aGlzLmhlbHBlclByb3BvcnRpb25zLmhlaWdodCAtIHRoaXMubWFyZ2lucy50b3Bcblx0XHRcdF07XG5cdFx0fVxuXG5cdFx0aWYoISgvXihkb2N1bWVudHx3aW5kb3d8cGFyZW50KSQvKS50ZXN0KG8uY29udGFpbm1lbnQpKSB7XG5cdFx0XHRjZSA9ICQoby5jb250YWlubWVudClbMF07XG5cdFx0XHRjbyA9ICQoby5jb250YWlubWVudCkub2Zmc2V0KCk7XG5cdFx0XHRvdmVyID0gKCQoY2UpLmNzcyhcIm92ZXJmbG93XCIpICE9PSBcImhpZGRlblwiKTtcblxuXHRcdFx0dGhpcy5jb250YWlubWVudCA9IFtcblx0XHRcdFx0Y28ubGVmdCArIChwYXJzZUludCgkKGNlKS5jc3MoXCJib3JkZXJMZWZ0V2lkdGhcIiksMTApIHx8IDApICsgKHBhcnNlSW50KCQoY2UpLmNzcyhcInBhZGRpbmdMZWZ0XCIpLDEwKSB8fCAwKSAtIHRoaXMubWFyZ2lucy5sZWZ0LFxuXHRcdFx0XHRjby50b3AgKyAocGFyc2VJbnQoJChjZSkuY3NzKFwiYm9yZGVyVG9wV2lkdGhcIiksMTApIHx8IDApICsgKHBhcnNlSW50KCQoY2UpLmNzcyhcInBhZGRpbmdUb3BcIiksMTApIHx8IDApIC0gdGhpcy5tYXJnaW5zLnRvcCxcblx0XHRcdFx0Y28ubGVmdCsob3ZlciA/IE1hdGgubWF4KGNlLnNjcm9sbFdpZHRoLGNlLm9mZnNldFdpZHRoKSA6IGNlLm9mZnNldFdpZHRoKSAtIChwYXJzZUludCgkKGNlKS5jc3MoXCJib3JkZXJMZWZ0V2lkdGhcIiksMTApIHx8IDApIC0gKHBhcnNlSW50KCQoY2UpLmNzcyhcInBhZGRpbmdSaWdodFwiKSwxMCkgfHwgMCkgLSB0aGlzLmhlbHBlclByb3BvcnRpb25zLndpZHRoIC0gdGhpcy5tYXJnaW5zLmxlZnQsXG5cdFx0XHRcdGNvLnRvcCsob3ZlciA/IE1hdGgubWF4KGNlLnNjcm9sbEhlaWdodCxjZS5vZmZzZXRIZWlnaHQpIDogY2Uub2Zmc2V0SGVpZ2h0KSAtIChwYXJzZUludCgkKGNlKS5jc3MoXCJib3JkZXJUb3BXaWR0aFwiKSwxMCkgfHwgMCkgLSAocGFyc2VJbnQoJChjZSkuY3NzKFwicGFkZGluZ0JvdHRvbVwiKSwxMCkgfHwgMCkgLSB0aGlzLmhlbHBlclByb3BvcnRpb25zLmhlaWdodCAtIHRoaXMubWFyZ2lucy50b3Bcblx0XHRcdF07XG5cdFx0fVxuXG5cdH0sXG5cblx0X2NvbnZlcnRQb3NpdGlvblRvOiBmdW5jdGlvbihkLCBwb3MpIHtcblxuXHRcdGlmKCFwb3MpIHtcblx0XHRcdHBvcyA9IHRoaXMucG9zaXRpb247XG5cdFx0fVxuXHRcdHZhciBtb2QgPSBkID09PSBcImFic29sdXRlXCIgPyAxIDogLTEsXG5cdFx0XHRzY3JvbGwgPSB0aGlzLmNzc1Bvc2l0aW9uID09PSBcImFic29sdXRlXCIgJiYgISh0aGlzLnNjcm9sbFBhcmVudFswXSAhPT0gdGhpcy5kb2N1bWVudFswXSAmJiAkLmNvbnRhaW5zKHRoaXMuc2Nyb2xsUGFyZW50WzBdLCB0aGlzLm9mZnNldFBhcmVudFswXSkpID8gdGhpcy5vZmZzZXRQYXJlbnQgOiB0aGlzLnNjcm9sbFBhcmVudCxcblx0XHRcdHNjcm9sbElzUm9vdE5vZGUgPSAoLyhodG1sfGJvZHkpL2kpLnRlc3Qoc2Nyb2xsWzBdLnRhZ05hbWUpO1xuXG5cdFx0cmV0dXJuIHtcblx0XHRcdHRvcDogKFxuXHRcdFx0XHRwb3MudG9wXHQrXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBUaGUgYWJzb2x1dGUgbW91c2UgcG9zaXRpb25cblx0XHRcdFx0dGhpcy5vZmZzZXQucmVsYXRpdmUudG9wICogbW9kICtcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIE9ubHkgZm9yIHJlbGF0aXZlIHBvc2l0aW9uZWQgbm9kZXM6IFJlbGF0aXZlIG9mZnNldCBmcm9tIGVsZW1lbnQgdG8gb2Zmc2V0IHBhcmVudFxuXHRcdFx0XHR0aGlzLm9mZnNldC5wYXJlbnQudG9wICogbW9kIC1cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gVGhlIG9mZnNldFBhcmVudCdzIG9mZnNldCB3aXRob3V0IGJvcmRlcnMgKG9mZnNldCArIGJvcmRlcilcblx0XHRcdFx0KCAoIHRoaXMuY3NzUG9zaXRpb24gPT09IFwiZml4ZWRcIiA/IC10aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxUb3AoKSA6ICggc2Nyb2xsSXNSb290Tm9kZSA/IDAgOiBzY3JvbGwuc2Nyb2xsVG9wKCkgKSApICogbW9kKVxuXHRcdFx0KSxcblx0XHRcdGxlZnQ6IChcblx0XHRcdFx0cG9zLmxlZnQgK1x0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gVGhlIGFic29sdXRlIG1vdXNlIHBvc2l0aW9uXG5cdFx0XHRcdHRoaXMub2Zmc2V0LnJlbGF0aXZlLmxlZnQgKiBtb2QgK1x0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gT25seSBmb3IgcmVsYXRpdmUgcG9zaXRpb25lZCBub2RlczogUmVsYXRpdmUgb2Zmc2V0IGZyb20gZWxlbWVudCB0byBvZmZzZXQgcGFyZW50XG5cdFx0XHRcdHRoaXMub2Zmc2V0LnBhcmVudC5sZWZ0ICogbW9kXHQtXHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBUaGUgb2Zmc2V0UGFyZW50J3Mgb2Zmc2V0IHdpdGhvdXQgYm9yZGVycyAob2Zmc2V0ICsgYm9yZGVyKVxuXHRcdFx0XHQoICggdGhpcy5jc3NQb3NpdGlvbiA9PT0gXCJmaXhlZFwiID8gLXRoaXMuc2Nyb2xsUGFyZW50LnNjcm9sbExlZnQoKSA6IHNjcm9sbElzUm9vdE5vZGUgPyAwIDogc2Nyb2xsLnNjcm9sbExlZnQoKSApICogbW9kKVxuXHRcdFx0KVxuXHRcdH07XG5cblx0fSxcblxuXHRfZ2VuZXJhdGVQb3NpdGlvbjogZnVuY3Rpb24oZXZlbnQpIHtcblxuXHRcdHZhciB0b3AsIGxlZnQsXG5cdFx0XHRvID0gdGhpcy5vcHRpb25zLFxuXHRcdFx0cGFnZVggPSBldmVudC5wYWdlWCxcblx0XHRcdHBhZ2VZID0gZXZlbnQucGFnZVksXG5cdFx0XHRzY3JvbGwgPSB0aGlzLmNzc1Bvc2l0aW9uID09PSBcImFic29sdXRlXCIgJiYgISh0aGlzLnNjcm9sbFBhcmVudFswXSAhPT0gdGhpcy5kb2N1bWVudFswXSAmJiAkLmNvbnRhaW5zKHRoaXMuc2Nyb2xsUGFyZW50WzBdLCB0aGlzLm9mZnNldFBhcmVudFswXSkpID8gdGhpcy5vZmZzZXRQYXJlbnQgOiB0aGlzLnNjcm9sbFBhcmVudCwgc2Nyb2xsSXNSb290Tm9kZSA9ICgvKGh0bWx8Ym9keSkvaSkudGVzdChzY3JvbGxbMF0udGFnTmFtZSk7XG5cblx0XHQvLyBUaGlzIGlzIGFub3RoZXIgdmVyeSB3ZWlyZCBzcGVjaWFsIGNhc2UgdGhhdCBvbmx5IGhhcHBlbnMgZm9yIHJlbGF0aXZlIGVsZW1lbnRzOlxuXHRcdC8vIDEuIElmIHRoZSBjc3MgcG9zaXRpb24gaXMgcmVsYXRpdmVcblx0XHQvLyAyLiBhbmQgdGhlIHNjcm9sbCBwYXJlbnQgaXMgdGhlIGRvY3VtZW50IG9yIHNpbWlsYXIgdG8gdGhlIG9mZnNldCBwYXJlbnRcblx0XHQvLyB3ZSBoYXZlIHRvIHJlZnJlc2ggdGhlIHJlbGF0aXZlIG9mZnNldCBkdXJpbmcgdGhlIHNjcm9sbCBzbyB0aGVyZSBhcmUgbm8ganVtcHNcblx0XHRpZih0aGlzLmNzc1Bvc2l0aW9uID09PSBcInJlbGF0aXZlXCIgJiYgISh0aGlzLnNjcm9sbFBhcmVudFswXSAhPT0gdGhpcy5kb2N1bWVudFswXSAmJiB0aGlzLnNjcm9sbFBhcmVudFswXSAhPT0gdGhpcy5vZmZzZXRQYXJlbnRbMF0pKSB7XG5cdFx0XHR0aGlzLm9mZnNldC5yZWxhdGl2ZSA9IHRoaXMuX2dldFJlbGF0aXZlT2Zmc2V0KCk7XG5cdFx0fVxuXG5cdFx0Lypcblx0XHQgKiAtIFBvc2l0aW9uIGNvbnN0cmFpbmluZyAtXG5cdFx0ICogQ29uc3RyYWluIHRoZSBwb3NpdGlvbiB0byBhIG1peCBvZiBncmlkLCBjb250YWlubWVudC5cblx0XHQgKi9cblxuXHRcdGlmKHRoaXMub3JpZ2luYWxQb3NpdGlvbikgeyAvL0lmIHdlIGFyZSBub3QgZHJhZ2dpbmcgeWV0LCB3ZSB3b24ndCBjaGVjayBmb3Igb3B0aW9uc1xuXG5cdFx0XHRpZih0aGlzLmNvbnRhaW5tZW50KSB7XG5cdFx0XHRcdGlmKGV2ZW50LnBhZ2VYIC0gdGhpcy5vZmZzZXQuY2xpY2subGVmdCA8IHRoaXMuY29udGFpbm1lbnRbMF0pIHtcblx0XHRcdFx0XHRwYWdlWCA9IHRoaXMuY29udGFpbm1lbnRbMF0gKyB0aGlzLm9mZnNldC5jbGljay5sZWZ0O1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmKGV2ZW50LnBhZ2VZIC0gdGhpcy5vZmZzZXQuY2xpY2sudG9wIDwgdGhpcy5jb250YWlubWVudFsxXSkge1xuXHRcdFx0XHRcdHBhZ2VZID0gdGhpcy5jb250YWlubWVudFsxXSArIHRoaXMub2Zmc2V0LmNsaWNrLnRvcDtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZihldmVudC5wYWdlWCAtIHRoaXMub2Zmc2V0LmNsaWNrLmxlZnQgPiB0aGlzLmNvbnRhaW5tZW50WzJdKSB7XG5cdFx0XHRcdFx0cGFnZVggPSB0aGlzLmNvbnRhaW5tZW50WzJdICsgdGhpcy5vZmZzZXQuY2xpY2subGVmdDtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZihldmVudC5wYWdlWSAtIHRoaXMub2Zmc2V0LmNsaWNrLnRvcCA+IHRoaXMuY29udGFpbm1lbnRbM10pIHtcblx0XHRcdFx0XHRwYWdlWSA9IHRoaXMuY29udGFpbm1lbnRbM10gKyB0aGlzLm9mZnNldC5jbGljay50b3A7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0aWYoby5ncmlkKSB7XG5cdFx0XHRcdHRvcCA9IHRoaXMub3JpZ2luYWxQYWdlWSArIE1hdGgucm91bmQoKHBhZ2VZIC0gdGhpcy5vcmlnaW5hbFBhZ2VZKSAvIG8uZ3JpZFsxXSkgKiBvLmdyaWRbMV07XG5cdFx0XHRcdHBhZ2VZID0gdGhpcy5jb250YWlubWVudCA/ICggKHRvcCAtIHRoaXMub2Zmc2V0LmNsaWNrLnRvcCA+PSB0aGlzLmNvbnRhaW5tZW50WzFdICYmIHRvcCAtIHRoaXMub2Zmc2V0LmNsaWNrLnRvcCA8PSB0aGlzLmNvbnRhaW5tZW50WzNdKSA/IHRvcCA6ICgodG9wIC0gdGhpcy5vZmZzZXQuY2xpY2sudG9wID49IHRoaXMuY29udGFpbm1lbnRbMV0pID8gdG9wIC0gby5ncmlkWzFdIDogdG9wICsgby5ncmlkWzFdKSkgOiB0b3A7XG5cblx0XHRcdFx0bGVmdCA9IHRoaXMub3JpZ2luYWxQYWdlWCArIE1hdGgucm91bmQoKHBhZ2VYIC0gdGhpcy5vcmlnaW5hbFBhZ2VYKSAvIG8uZ3JpZFswXSkgKiBvLmdyaWRbMF07XG5cdFx0XHRcdHBhZ2VYID0gdGhpcy5jb250YWlubWVudCA/ICggKGxlZnQgLSB0aGlzLm9mZnNldC5jbGljay5sZWZ0ID49IHRoaXMuY29udGFpbm1lbnRbMF0gJiYgbGVmdCAtIHRoaXMub2Zmc2V0LmNsaWNrLmxlZnQgPD0gdGhpcy5jb250YWlubWVudFsyXSkgPyBsZWZ0IDogKChsZWZ0IC0gdGhpcy5vZmZzZXQuY2xpY2subGVmdCA+PSB0aGlzLmNvbnRhaW5tZW50WzBdKSA/IGxlZnQgLSBvLmdyaWRbMF0gOiBsZWZ0ICsgby5ncmlkWzBdKSkgOiBsZWZ0O1xuXHRcdFx0fVxuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHtcblx0XHRcdHRvcDogKFxuXHRcdFx0XHRwYWdlWSAtXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBUaGUgYWJzb2x1dGUgbW91c2UgcG9zaXRpb25cblx0XHRcdFx0dGhpcy5vZmZzZXQuY2xpY2sudG9wIC1cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIENsaWNrIG9mZnNldCAocmVsYXRpdmUgdG8gdGhlIGVsZW1lbnQpXG5cdFx0XHRcdHRoaXMub2Zmc2V0LnJlbGF0aXZlLnRvcFx0LVx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBPbmx5IGZvciByZWxhdGl2ZSBwb3NpdGlvbmVkIG5vZGVzOiBSZWxhdGl2ZSBvZmZzZXQgZnJvbSBlbGVtZW50IHRvIG9mZnNldCBwYXJlbnRcblx0XHRcdFx0dGhpcy5vZmZzZXQucGFyZW50LnRvcCArXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gVGhlIG9mZnNldFBhcmVudCdzIG9mZnNldCB3aXRob3V0IGJvcmRlcnMgKG9mZnNldCArIGJvcmRlcilcblx0XHRcdFx0KCAoIHRoaXMuY3NzUG9zaXRpb24gPT09IFwiZml4ZWRcIiA/IC10aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxUb3AoKSA6ICggc2Nyb2xsSXNSb290Tm9kZSA/IDAgOiBzY3JvbGwuc2Nyb2xsVG9wKCkgKSApKVxuXHRcdFx0KSxcblx0XHRcdGxlZnQ6IChcblx0XHRcdFx0cGFnZVggLVx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gVGhlIGFic29sdXRlIG1vdXNlIHBvc2l0aW9uXG5cdFx0XHRcdHRoaXMub2Zmc2V0LmNsaWNrLmxlZnQgLVx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIENsaWNrIG9mZnNldCAocmVsYXRpdmUgdG8gdGhlIGVsZW1lbnQpXG5cdFx0XHRcdHRoaXMub2Zmc2V0LnJlbGF0aXZlLmxlZnRcdC1cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gT25seSBmb3IgcmVsYXRpdmUgcG9zaXRpb25lZCBub2RlczogUmVsYXRpdmUgb2Zmc2V0IGZyb20gZWxlbWVudCB0byBvZmZzZXQgcGFyZW50XG5cdFx0XHRcdHRoaXMub2Zmc2V0LnBhcmVudC5sZWZ0ICtcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBUaGUgb2Zmc2V0UGFyZW50J3Mgb2Zmc2V0IHdpdGhvdXQgYm9yZGVycyAob2Zmc2V0ICsgYm9yZGVyKVxuXHRcdFx0XHQoICggdGhpcy5jc3NQb3NpdGlvbiA9PT0gXCJmaXhlZFwiID8gLXRoaXMuc2Nyb2xsUGFyZW50LnNjcm9sbExlZnQoKSA6IHNjcm9sbElzUm9vdE5vZGUgPyAwIDogc2Nyb2xsLnNjcm9sbExlZnQoKSApKVxuXHRcdFx0KVxuXHRcdH07XG5cblx0fSxcblxuXHRfcmVhcnJhbmdlOiBmdW5jdGlvbihldmVudCwgaSwgYSwgaGFyZFJlZnJlc2gpIHtcblxuXHRcdGEgPyBhWzBdLmFwcGVuZENoaWxkKHRoaXMucGxhY2Vob2xkZXJbMF0pIDogaS5pdGVtWzBdLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHRoaXMucGxhY2Vob2xkZXJbMF0sICh0aGlzLmRpcmVjdGlvbiA9PT0gXCJkb3duXCIgPyBpLml0ZW1bMF0gOiBpLml0ZW1bMF0ubmV4dFNpYmxpbmcpKTtcblxuXHRcdC8vVmFyaW91cyB0aGluZ3MgZG9uZSBoZXJlIHRvIGltcHJvdmUgdGhlIHBlcmZvcm1hbmNlOlxuXHRcdC8vIDEuIHdlIGNyZWF0ZSBhIHNldFRpbWVvdXQsIHRoYXQgY2FsbHMgcmVmcmVzaFBvc2l0aW9uc1xuXHRcdC8vIDIuIG9uIHRoZSBpbnN0YW5jZSwgd2UgaGF2ZSBhIGNvdW50ZXIgdmFyaWFibGUsIHRoYXQgZ2V0J3MgaGlnaGVyIGFmdGVyIGV2ZXJ5IGFwcGVuZFxuXHRcdC8vIDMuIG9uIHRoZSBsb2NhbCBzY29wZSwgd2UgY29weSB0aGUgY291bnRlciB2YXJpYWJsZSwgYW5kIGNoZWNrIGluIHRoZSB0aW1lb3V0LCBpZiBpdCdzIHN0aWxsIHRoZSBzYW1lXG5cdFx0Ly8gNC4gdGhpcyBsZXRzIG9ubHkgdGhlIGxhc3QgYWRkaXRpb24gdG8gdGhlIHRpbWVvdXQgc3RhY2sgdGhyb3VnaFxuXHRcdHRoaXMuY291bnRlciA9IHRoaXMuY291bnRlciA/ICsrdGhpcy5jb3VudGVyIDogMTtcblx0XHR2YXIgY291bnRlciA9IHRoaXMuY291bnRlcjtcblxuXHRcdHRoaXMuX2RlbGF5KGZ1bmN0aW9uKCkge1xuXHRcdFx0aWYoY291bnRlciA9PT0gdGhpcy5jb3VudGVyKSB7XG5cdFx0XHRcdHRoaXMucmVmcmVzaFBvc2l0aW9ucyghaGFyZFJlZnJlc2gpOyAvL1ByZWNvbXB1dGUgYWZ0ZXIgZWFjaCBET00gaW5zZXJ0aW9uLCBOT1Qgb24gbW91c2Vtb3ZlXG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0fSxcblxuXHRfY2xlYXI6IGZ1bmN0aW9uKGV2ZW50LCBub1Byb3BhZ2F0aW9uKSB7XG5cblx0XHR0aGlzLnJldmVydGluZyA9IGZhbHNlO1xuXHRcdC8vIFdlIGRlbGF5IGFsbCBldmVudHMgdGhhdCBoYXZlIHRvIGJlIHRyaWdnZXJlZCB0byBhZnRlciB0aGUgcG9pbnQgd2hlcmUgdGhlIHBsYWNlaG9sZGVyIGhhcyBiZWVuIHJlbW92ZWQgYW5kXG5cdFx0Ly8gZXZlcnl0aGluZyBlbHNlIG5vcm1hbGl6ZWQgYWdhaW5cblx0XHR2YXIgaSxcblx0XHRcdGRlbGF5ZWRUcmlnZ2VycyA9IFtdO1xuXG5cdFx0Ly8gV2UgZmlyc3QgaGF2ZSB0byB1cGRhdGUgdGhlIGRvbSBwb3NpdGlvbiBvZiB0aGUgYWN0dWFsIGN1cnJlbnRJdGVtXG5cdFx0Ly8gTm90ZTogZG9uJ3QgZG8gaXQgaWYgdGhlIGN1cnJlbnQgaXRlbSBpcyBhbHJlYWR5IHJlbW92ZWQgKGJ5IGEgdXNlciksIG9yIGl0IGdldHMgcmVhcHBlbmRlZCAoc2VlICM0MDg4KVxuXHRcdGlmKCF0aGlzLl9ub0ZpbmFsU29ydCAmJiB0aGlzLmN1cnJlbnRJdGVtLnBhcmVudCgpLmxlbmd0aCkge1xuXHRcdFx0dGhpcy5wbGFjZWhvbGRlci5iZWZvcmUodGhpcy5jdXJyZW50SXRlbSk7XG5cdFx0fVxuXHRcdHRoaXMuX25vRmluYWxTb3J0ID0gbnVsbDtcblxuXHRcdGlmKHRoaXMuaGVscGVyWzBdID09PSB0aGlzLmN1cnJlbnRJdGVtWzBdKSB7XG5cdFx0XHRmb3IoaSBpbiB0aGlzLl9zdG9yZWRDU1MpIHtcblx0XHRcdFx0aWYodGhpcy5fc3RvcmVkQ1NTW2ldID09PSBcImF1dG9cIiB8fCB0aGlzLl9zdG9yZWRDU1NbaV0gPT09IFwic3RhdGljXCIpIHtcblx0XHRcdFx0XHR0aGlzLl9zdG9yZWRDU1NbaV0gPSBcIlwiO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHR0aGlzLmN1cnJlbnRJdGVtLmNzcyh0aGlzLl9zdG9yZWRDU1MpLnJlbW92ZUNsYXNzKFwidWktc29ydGFibGUtaGVscGVyXCIpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLmN1cnJlbnRJdGVtLnNob3coKTtcblx0XHR9XG5cblx0XHRpZih0aGlzLmZyb21PdXRzaWRlICYmICFub1Byb3BhZ2F0aW9uKSB7XG5cdFx0XHRkZWxheWVkVHJpZ2dlcnMucHVzaChmdW5jdGlvbihldmVudCkgeyB0aGlzLl90cmlnZ2VyKFwicmVjZWl2ZVwiLCBldmVudCwgdGhpcy5fdWlIYXNoKHRoaXMuZnJvbU91dHNpZGUpKTsgfSk7XG5cdFx0fVxuXHRcdGlmKCh0aGlzLmZyb21PdXRzaWRlIHx8IHRoaXMuZG9tUG9zaXRpb24ucHJldiAhPT0gdGhpcy5jdXJyZW50SXRlbS5wcmV2KCkubm90KFwiLnVpLXNvcnRhYmxlLWhlbHBlclwiKVswXSB8fCB0aGlzLmRvbVBvc2l0aW9uLnBhcmVudCAhPT0gdGhpcy5jdXJyZW50SXRlbS5wYXJlbnQoKVswXSkgJiYgIW5vUHJvcGFnYXRpb24pIHtcblx0XHRcdGRlbGF5ZWRUcmlnZ2Vycy5wdXNoKGZ1bmN0aW9uKGV2ZW50KSB7IHRoaXMuX3RyaWdnZXIoXCJ1cGRhdGVcIiwgZXZlbnQsIHRoaXMuX3VpSGFzaCgpKTsgfSk7IC8vVHJpZ2dlciB1cGRhdGUgY2FsbGJhY2sgaWYgdGhlIERPTSBwb3NpdGlvbiBoYXMgY2hhbmdlZFxuXHRcdH1cblxuXHRcdC8vIENoZWNrIGlmIHRoZSBpdGVtcyBDb250YWluZXIgaGFzIENoYW5nZWQgYW5kIHRyaWdnZXIgYXBwcm9wcmlhdGVcblx0XHQvLyBldmVudHMuXG5cdFx0aWYgKHRoaXMgIT09IHRoaXMuY3VycmVudENvbnRhaW5lcikge1xuXHRcdFx0aWYoIW5vUHJvcGFnYXRpb24pIHtcblx0XHRcdFx0ZGVsYXllZFRyaWdnZXJzLnB1c2goZnVuY3Rpb24oZXZlbnQpIHsgdGhpcy5fdHJpZ2dlcihcInJlbW92ZVwiLCBldmVudCwgdGhpcy5fdWlIYXNoKCkpOyB9KTtcblx0XHRcdFx0ZGVsYXllZFRyaWdnZXJzLnB1c2goKGZ1bmN0aW9uKGMpIHsgcmV0dXJuIGZ1bmN0aW9uKGV2ZW50KSB7IGMuX3RyaWdnZXIoXCJyZWNlaXZlXCIsIGV2ZW50LCB0aGlzLl91aUhhc2godGhpcykpOyB9OyAgfSkuY2FsbCh0aGlzLCB0aGlzLmN1cnJlbnRDb250YWluZXIpKTtcblx0XHRcdFx0ZGVsYXllZFRyaWdnZXJzLnB1c2goKGZ1bmN0aW9uKGMpIHsgcmV0dXJuIGZ1bmN0aW9uKGV2ZW50KSB7IGMuX3RyaWdnZXIoXCJ1cGRhdGVcIiwgZXZlbnQsIHRoaXMuX3VpSGFzaCh0aGlzKSk7ICB9OyB9KS5jYWxsKHRoaXMsIHRoaXMuY3VycmVudENvbnRhaW5lcikpO1xuXHRcdFx0fVxuXHRcdH1cblxuXG5cdFx0Ly9Qb3N0IGV2ZW50cyB0byBjb250YWluZXJzXG5cdFx0ZnVuY3Rpb24gZGVsYXlFdmVudCggdHlwZSwgaW5zdGFuY2UsIGNvbnRhaW5lciApIHtcblx0XHRcdHJldHVybiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHRcdGNvbnRhaW5lci5fdHJpZ2dlciggdHlwZSwgZXZlbnQsIGluc3RhbmNlLl91aUhhc2goIGluc3RhbmNlICkgKTtcblx0XHRcdH07XG5cdFx0fVxuXHRcdGZvciAoaSA9IHRoaXMuY29udGFpbmVycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSl7XG5cdFx0XHRpZiAoIW5vUHJvcGFnYXRpb24pIHtcblx0XHRcdFx0ZGVsYXllZFRyaWdnZXJzLnB1c2goIGRlbGF5RXZlbnQoIFwiZGVhY3RpdmF0ZVwiLCB0aGlzLCB0aGlzLmNvbnRhaW5lcnNbIGkgXSApICk7XG5cdFx0XHR9XG5cdFx0XHRpZih0aGlzLmNvbnRhaW5lcnNbaV0uY29udGFpbmVyQ2FjaGUub3Zlcikge1xuXHRcdFx0XHRkZWxheWVkVHJpZ2dlcnMucHVzaCggZGVsYXlFdmVudCggXCJvdXRcIiwgdGhpcywgdGhpcy5jb250YWluZXJzWyBpIF0gKSApO1xuXHRcdFx0XHR0aGlzLmNvbnRhaW5lcnNbaV0uY29udGFpbmVyQ2FjaGUub3ZlciA9IDA7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly9EbyB3aGF0IHdhcyBvcmlnaW5hbGx5IGluIHBsdWdpbnNcblx0XHRpZiAoIHRoaXMuc3RvcmVkQ3Vyc29yICkge1xuXHRcdFx0dGhpcy5kb2N1bWVudC5maW5kKCBcImJvZHlcIiApLmNzcyggXCJjdXJzb3JcIiwgdGhpcy5zdG9yZWRDdXJzb3IgKTtcblx0XHRcdHRoaXMuc3RvcmVkU3R5bGVzaGVldC5yZW1vdmUoKTtcblx0XHR9XG5cdFx0aWYodGhpcy5fc3RvcmVkT3BhY2l0eSkge1xuXHRcdFx0dGhpcy5oZWxwZXIuY3NzKFwib3BhY2l0eVwiLCB0aGlzLl9zdG9yZWRPcGFjaXR5KTtcblx0XHR9XG5cdFx0aWYodGhpcy5fc3RvcmVkWkluZGV4KSB7XG5cdFx0XHR0aGlzLmhlbHBlci5jc3MoXCJ6SW5kZXhcIiwgdGhpcy5fc3RvcmVkWkluZGV4ID09PSBcImF1dG9cIiA/IFwiXCIgOiB0aGlzLl9zdG9yZWRaSW5kZXgpO1xuXHRcdH1cblxuXHRcdHRoaXMuZHJhZ2dpbmcgPSBmYWxzZTtcblxuXHRcdGlmKCFub1Byb3BhZ2F0aW9uKSB7XG5cdFx0XHR0aGlzLl90cmlnZ2VyKFwiYmVmb3JlU3RvcFwiLCBldmVudCwgdGhpcy5fdWlIYXNoKCkpO1xuXHRcdH1cblxuXHRcdC8vJCh0aGlzLnBsYWNlaG9sZGVyWzBdKS5yZW1vdmUoKTsgd291bGQgaGF2ZSBiZWVuIHRoZSBqUXVlcnkgd2F5IC0gdW5mb3J0dW5hdGVseSwgaXQgdW5iaW5kcyBBTEwgZXZlbnRzIGZyb20gdGhlIG9yaWdpbmFsIG5vZGUhXG5cdFx0dGhpcy5wbGFjZWhvbGRlclswXS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMucGxhY2Vob2xkZXJbMF0pO1xuXG5cdFx0aWYgKCAhdGhpcy5jYW5jZWxIZWxwZXJSZW1vdmFsICkge1xuXHRcdFx0aWYgKCB0aGlzLmhlbHBlclsgMCBdICE9PSB0aGlzLmN1cnJlbnRJdGVtWyAwIF0gKSB7XG5cdFx0XHRcdHRoaXMuaGVscGVyLnJlbW92ZSgpO1xuXHRcdFx0fVxuXHRcdFx0dGhpcy5oZWxwZXIgPSBudWxsO1xuXHRcdH1cblxuXHRcdGlmKCFub1Byb3BhZ2F0aW9uKSB7XG5cdFx0XHRmb3IgKGk9MDsgaSA8IGRlbGF5ZWRUcmlnZ2Vycy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRkZWxheWVkVHJpZ2dlcnNbaV0uY2FsbCh0aGlzLCBldmVudCk7XG5cdFx0XHR9IC8vVHJpZ2dlciBhbGwgZGVsYXllZCBldmVudHNcblx0XHRcdHRoaXMuX3RyaWdnZXIoXCJzdG9wXCIsIGV2ZW50LCB0aGlzLl91aUhhc2goKSk7XG5cdFx0fVxuXG5cdFx0dGhpcy5mcm9tT3V0c2lkZSA9IGZhbHNlO1xuXHRcdHJldHVybiAhdGhpcy5jYW5jZWxIZWxwZXJSZW1vdmFsO1xuXG5cdH0sXG5cblx0X3RyaWdnZXI6IGZ1bmN0aW9uKCkge1xuXHRcdGlmICgkLldpZGdldC5wcm90b3R5cGUuX3RyaWdnZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSA9PT0gZmFsc2UpIHtcblx0XHRcdHRoaXMuY2FuY2VsKCk7XG5cdFx0fVxuXHR9LFxuXG5cdF91aUhhc2g6IGZ1bmN0aW9uKF9pbnN0KSB7XG5cdFx0dmFyIGluc3QgPSBfaW5zdCB8fCB0aGlzO1xuXHRcdHJldHVybiB7XG5cdFx0XHRoZWxwZXI6IGluc3QuaGVscGVyLFxuXHRcdFx0cGxhY2Vob2xkZXI6IGluc3QucGxhY2Vob2xkZXIgfHwgJChbXSksXG5cdFx0XHRwb3NpdGlvbjogaW5zdC5wb3NpdGlvbixcblx0XHRcdG9yaWdpbmFsUG9zaXRpb246IGluc3Qub3JpZ2luYWxQb3NpdGlvbixcblx0XHRcdG9mZnNldDogaW5zdC5wb3NpdGlvbkFicyxcblx0XHRcdGl0ZW06IGluc3QuY3VycmVudEl0ZW0sXG5cdFx0XHRzZW5kZXI6IF9pbnN0ID8gX2luc3QuZWxlbWVudCA6IG51bGxcblx0XHR9O1xuXHR9XG5cbn0pO1xuXG59KSk7XG4iLCIvKiFcbiAqIEphdmFTY3JpcHQgQ29va2llIHYyLjAuMlxuICogaHR0cHM6Ly9naXRodWIuY29tL2pzLWNvb2tpZS9qcy1jb29raWVcbiAqXG4gKiBDb3B5cmlnaHQgMjAwNiwgMjAxNSBLbGF1cyBIYXJ0bFxuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlXG4gKi9cbihmdW5jdGlvbiAoZmFjdG9yeSkge1xuXHRpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG5cdFx0ZGVmaW5lKGZhY3RvcnkpO1xuXHR9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jykge1xuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHR9IGVsc2Uge1xuXHRcdHZhciBfT2xkQ29va2llcyA9IHdpbmRvdy5Db29raWVzO1xuXHRcdHZhciBhcGkgPSB3aW5kb3cuQ29va2llcyA9IGZhY3Rvcnkod2luZG93LmpRdWVyeSk7XG5cdFx0YXBpLm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHR3aW5kb3cuQ29va2llcyA9IF9PbGRDb29raWVzO1xuXHRcdFx0cmV0dXJuIGFwaTtcblx0XHR9O1xuXHR9XG59KGZ1bmN0aW9uICgpIHtcblx0ZnVuY3Rpb24gZXh0ZW5kICgpIHtcblx0XHR2YXIgaSA9IDA7XG5cdFx0dmFyIHJlc3VsdCA9IHt9O1xuXHRcdGZvciAoOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgYXR0cmlidXRlcyA9IGFyZ3VtZW50c1sgaSBdO1xuXHRcdFx0Zm9yICh2YXIga2V5IGluIGF0dHJpYnV0ZXMpIHtcblx0XHRcdFx0cmVzdWx0W2tleV0gPSBhdHRyaWJ1dGVzW2tleV07XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiByZXN1bHQ7XG5cdH1cblxuXHRmdW5jdGlvbiBpbml0IChjb252ZXJ0ZXIpIHtcblx0XHRmdW5jdGlvbiBhcGkgKGtleSwgdmFsdWUsIGF0dHJpYnV0ZXMpIHtcblx0XHRcdHZhciByZXN1bHQ7XG5cblx0XHRcdC8vIFdyaXRlXG5cblx0XHRcdGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuXHRcdFx0XHRhdHRyaWJ1dGVzID0gZXh0ZW5kKHtcblx0XHRcdFx0XHRwYXRoOiAnLydcblx0XHRcdFx0fSwgYXBpLmRlZmF1bHRzLCBhdHRyaWJ1dGVzKTtcblxuXHRcdFx0XHRpZiAodHlwZW9mIGF0dHJpYnV0ZXMuZXhwaXJlcyA9PT0gJ251bWJlcicpIHtcblx0XHRcdFx0XHR2YXIgZXhwaXJlcyA9IG5ldyBEYXRlKCk7XG5cdFx0XHRcdFx0ZXhwaXJlcy5zZXRNaWxsaXNlY29uZHMoZXhwaXJlcy5nZXRNaWxsaXNlY29uZHMoKSArIGF0dHJpYnV0ZXMuZXhwaXJlcyAqIDg2NGUrNSk7XG5cdFx0XHRcdFx0YXR0cmlidXRlcy5leHBpcmVzID0gZXhwaXJlcztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0cmVzdWx0ID0gSlNPTi5zdHJpbmdpZnkodmFsdWUpO1xuXHRcdFx0XHRcdGlmICgvXltcXHtcXFtdLy50ZXN0KHJlc3VsdCkpIHtcblx0XHRcdFx0XHRcdHZhbHVlID0gcmVzdWx0O1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBjYXRjaCAoZSkge31cblxuXHRcdFx0XHR2YWx1ZSA9IGVuY29kZVVSSUNvbXBvbmVudChTdHJpbmcodmFsdWUpKTtcblx0XHRcdFx0dmFsdWUgPSB2YWx1ZS5yZXBsYWNlKC8lKDIzfDI0fDI2fDJCfDNBfDNDfDNFfDNEfDJGfDNGfDQwfDVCfDVEfDVFfDYwfDdCfDdEfDdDKS9nLCBkZWNvZGVVUklDb21wb25lbnQpO1xuXG5cdFx0XHRcdGtleSA9IGVuY29kZVVSSUNvbXBvbmVudChTdHJpbmcoa2V5KSk7XG5cdFx0XHRcdGtleSA9IGtleS5yZXBsYWNlKC8lKDIzfDI0fDI2fDJCfDVFfDYwfDdDKS9nLCBkZWNvZGVVUklDb21wb25lbnQpO1xuXHRcdFx0XHRrZXkgPSBrZXkucmVwbGFjZSgvW1xcKFxcKV0vZywgZXNjYXBlKTtcblxuXHRcdFx0XHRyZXR1cm4gKGRvY3VtZW50LmNvb2tpZSA9IFtcblx0XHRcdFx0XHRrZXksICc9JywgdmFsdWUsXG5cdFx0XHRcdFx0YXR0cmlidXRlcy5leHBpcmVzICYmICc7IGV4cGlyZXM9JyArIGF0dHJpYnV0ZXMuZXhwaXJlcy50b1VUQ1N0cmluZygpLCAvLyB1c2UgZXhwaXJlcyBhdHRyaWJ1dGUsIG1heC1hZ2UgaXMgbm90IHN1cHBvcnRlZCBieSBJRVxuXHRcdFx0XHRcdGF0dHJpYnV0ZXMucGF0aCAgICAmJiAnOyBwYXRoPScgKyBhdHRyaWJ1dGVzLnBhdGgsXG5cdFx0XHRcdFx0YXR0cmlidXRlcy5kb21haW4gICYmICc7IGRvbWFpbj0nICsgYXR0cmlidXRlcy5kb21haW4sXG5cdFx0XHRcdFx0YXR0cmlidXRlcy5zZWN1cmUgPyAnOyBzZWN1cmUnIDogJydcblx0XHRcdFx0XS5qb2luKCcnKSk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFJlYWRcblxuXHRcdFx0aWYgKCFrZXkpIHtcblx0XHRcdFx0cmVzdWx0ID0ge307XG5cdFx0XHR9XG5cblx0XHRcdC8vIFRvIHByZXZlbnQgdGhlIGZvciBsb29wIGluIHRoZSBmaXJzdCBwbGFjZSBhc3NpZ24gYW4gZW1wdHkgYXJyYXlcblx0XHRcdC8vIGluIGNhc2UgdGhlcmUgYXJlIG5vIGNvb2tpZXMgYXQgYWxsLiBBbHNvIHByZXZlbnRzIG9kZCByZXN1bHQgd2hlblxuXHRcdFx0Ly8gY2FsbGluZyBcImdldCgpXCJcblx0XHRcdHZhciBjb29raWVzID0gZG9jdW1lbnQuY29va2llID8gZG9jdW1lbnQuY29va2llLnNwbGl0KCc7ICcpIDogW107XG5cdFx0XHR2YXIgcmRlY29kZSA9IC8oJVswLTlBLVpdezJ9KSsvZztcblx0XHRcdHZhciBpID0gMDtcblxuXHRcdFx0Zm9yICg7IGkgPCBjb29raWVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdHZhciBwYXJ0cyA9IGNvb2tpZXNbaV0uc3BsaXQoJz0nKTtcblx0XHRcdFx0dmFyIG5hbWUgPSBwYXJ0c1swXS5yZXBsYWNlKHJkZWNvZGUsIGRlY29kZVVSSUNvbXBvbmVudCk7XG5cdFx0XHRcdHZhciBjb29raWUgPSBwYXJ0cy5zbGljZSgxKS5qb2luKCc9Jyk7XG5cblx0XHRcdFx0aWYgKGNvb2tpZS5jaGFyQXQoMCkgPT09ICdcIicpIHtcblx0XHRcdFx0XHRjb29raWUgPSBjb29raWUuc2xpY2UoMSwgLTEpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y29va2llID0gY29udmVydGVyICYmIGNvbnZlcnRlcihjb29raWUsIG5hbWUpIHx8IGNvb2tpZS5yZXBsYWNlKHJkZWNvZGUsIGRlY29kZVVSSUNvbXBvbmVudCk7XG5cblx0XHRcdFx0aWYgKHRoaXMuanNvbikge1xuXHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRjb29raWUgPSBKU09OLnBhcnNlKGNvb2tpZSk7XG5cdFx0XHRcdFx0fSBjYXRjaCAoZSkge31cblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChrZXkgPT09IG5hbWUpIHtcblx0XHRcdFx0XHRyZXN1bHQgPSBjb29raWU7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoIWtleSkge1xuXHRcdFx0XHRcdHJlc3VsdFtuYW1lXSA9IGNvb2tpZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gcmVzdWx0O1xuXHRcdH1cblxuXHRcdGFwaS5nZXQgPSBhcGkuc2V0ID0gYXBpO1xuXHRcdGFwaS5nZXRKU09OID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0cmV0dXJuIGFwaS5hcHBseSh7XG5cdFx0XHRcdGpzb246IHRydWVcblx0XHRcdH0sIFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKSk7XG5cdFx0fTtcblx0XHRhcGkuZGVmYXVsdHMgPSB7fTtcblxuXHRcdGFwaS5yZW1vdmUgPSBmdW5jdGlvbiAoa2V5LCBhdHRyaWJ1dGVzKSB7XG5cdFx0XHRhcGkoa2V5LCAnJywgZXh0ZW5kKGF0dHJpYnV0ZXMsIHtcblx0XHRcdFx0ZXhwaXJlczogLTFcblx0XHRcdH0pKTtcblx0XHR9O1xuXG5cdFx0YXBpLndpdGhDb252ZXJ0ZXIgPSBpbml0O1xuXG5cdFx0cmV0dXJuIGFwaTtcblx0fVxuXG5cdHJldHVybiBpbml0KCk7XG59KSk7XG4iLCIvKiFcbiAqIGpRdWVyeSBkb1RpbWVvdXQ6IExpa2Ugc2V0VGltZW91dCwgYnV0IGJldHRlciEgLSB2MS4wIC0gMy8zLzIwMTBcbiAqIGh0dHA6Ly9iZW5hbG1hbi5jb20vcHJvamVjdHMvanF1ZXJ5LWRvdGltZW91dC1wbHVnaW4vXG4gKiBcbiAqIENvcHlyaWdodCAoYykgMjAxMCBcIkNvd2JveVwiIEJlbiBBbG1hblxuICogRHVhbCBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGFuZCBHUEwgbGljZW5zZXMuXG4gKiBodHRwOi8vYmVuYWxtYW4uY29tL2Fib3V0L2xpY2Vuc2UvXG4gKi9cblxuLy8gU2NyaXB0OiBqUXVlcnkgZG9UaW1lb3V0OiBMaWtlIHNldFRpbWVvdXQsIGJ1dCBiZXR0ZXIhXG4vL1xuLy8gKlZlcnNpb246IDEuMCwgTGFzdCB1cGRhdGVkOiAzLzMvMjAxMCpcbi8vIFxuLy8gUHJvamVjdCBIb21lIC0gaHR0cDovL2JlbmFsbWFuLmNvbS9wcm9qZWN0cy9qcXVlcnktZG90aW1lb3V0LXBsdWdpbi9cbi8vIEdpdEh1YiAgICAgICAtIGh0dHA6Ly9naXRodWIuY29tL2Nvd2JveS9qcXVlcnktZG90aW1lb3V0L1xuLy8gU291cmNlICAgICAgIC0gaHR0cDovL2dpdGh1Yi5jb20vY293Ym95L2pxdWVyeS1kb3RpbWVvdXQvcmF3L21hc3Rlci9qcXVlcnkuYmEtZG90aW1lb3V0LmpzXG4vLyAoTWluaWZpZWQpICAgLSBodHRwOi8vZ2l0aHViLmNvbS9jb3dib3kvanF1ZXJ5LWRvdGltZW91dC9yYXcvbWFzdGVyL2pxdWVyeS5iYS1kb3RpbWVvdXQubWluLmpzICgxLjBrYilcbi8vIFxuLy8gQWJvdXQ6IExpY2Vuc2Vcbi8vIFxuLy8gQ29weXJpZ2h0IChjKSAyMDEwIFwiQ293Ym95XCIgQmVuIEFsbWFuLFxuLy8gRHVhbCBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGFuZCBHUEwgbGljZW5zZXMuXG4vLyBodHRwOi8vYmVuYWxtYW4uY29tL2Fib3V0L2xpY2Vuc2UvXG4vLyBcbi8vIEFib3V0OiBFeGFtcGxlc1xuLy8gXG4vLyBUaGVzZSB3b3JraW5nIGV4YW1wbGVzLCBjb21wbGV0ZSB3aXRoIGZ1bGx5IGNvbW1lbnRlZCBjb2RlLCBpbGx1c3RyYXRlIGEgZmV3XG4vLyB3YXlzIGluIHdoaWNoIHRoaXMgcGx1Z2luIGNhbiBiZSB1c2VkLlxuLy8gXG4vLyBEZWJvdW5jaW5nICAgICAgLSBodHRwOi8vYmVuYWxtYW4uY29tL2NvZGUvcHJvamVjdHMvanF1ZXJ5LWRvdGltZW91dC9leGFtcGxlcy9kZWJvdW5jaW5nL1xuLy8gRGVsYXlzLCBQb2xsaW5nIC0gaHR0cDovL2JlbmFsbWFuLmNvbS9jb2RlL3Byb2plY3RzL2pxdWVyeS1kb3RpbWVvdXQvZXhhbXBsZXMvZGVsYXktcG9sbC9cbi8vIEhvdmVyIEludGVudCAgICAtIGh0dHA6Ly9iZW5hbG1hbi5jb20vY29kZS9wcm9qZWN0cy9qcXVlcnktZG90aW1lb3V0L2V4YW1wbGVzL2hvdmVyaW50ZW50L1xuLy8gXG4vLyBBYm91dDogU3VwcG9ydCBhbmQgVGVzdGluZ1xuLy8gXG4vLyBJbmZvcm1hdGlvbiBhYm91dCB3aGF0IHZlcnNpb24gb3IgdmVyc2lvbnMgb2YgalF1ZXJ5IHRoaXMgcGx1Z2luIGhhcyBiZWVuXG4vLyB0ZXN0ZWQgd2l0aCwgd2hhdCBicm93c2VycyBpdCBoYXMgYmVlbiB0ZXN0ZWQgaW4sIGFuZCB3aGVyZSB0aGUgdW5pdCB0ZXN0c1xuLy8gcmVzaWRlIChzbyB5b3UgY2FuIHRlc3QgaXQgeW91cnNlbGYpLlxuLy8gXG4vLyBqUXVlcnkgVmVyc2lvbnMgLSAxLjMuMiwgMS40LjJcbi8vIEJyb3dzZXJzIFRlc3RlZCAtIEludGVybmV0IEV4cGxvcmVyIDYtOCwgRmlyZWZveCAyLTMuNiwgU2FmYXJpIDMtNCwgQ2hyb21lIDQtNSwgT3BlcmEgOS42LTEwLjEuXG4vLyBVbml0IFRlc3RzICAgICAgLSBodHRwOi8vYmVuYWxtYW4uY29tL2NvZGUvcHJvamVjdHMvanF1ZXJ5LWRvdGltZW91dC91bml0L1xuLy8gXG4vLyBBYm91dDogUmVsZWFzZSBIaXN0b3J5XG4vLyBcbi8vIDEuMCAtICgzLzMvMjAxMCkgQ2FsbGJhY2sgY2FuIG5vdyBiZSBhIHN0cmluZywgaW4gd2hpY2ggY2FzZSBpdCB3aWxsIGNhbGxcbi8vICAgICAgIHRoZSBhcHByb3ByaWF0ZSAkLm1ldGhvZCBvciAkLmZuLm1ldGhvZCwgZGVwZW5kaW5nIG9uIHdoZXJlIC5kb1RpbWVvdXRcbi8vICAgICAgIHdhcyBjYWxsZWQuIENhbGxiYWNrIG11c3Qgbm93IHJldHVybiBgdHJ1ZWAgKG5vdCBqdXN0IGEgdHJ1dGh5IHZhbHVlKVxuLy8gICAgICAgdG8gcG9sbC5cbi8vIDAuNCAtICg3LzE1LzIwMDkpIE1hZGUgdGhlIFwiaWRcIiBhcmd1bWVudCBvcHRpb25hbCwgc29tZSBvdGhlciBtaW5vciB0d2Vha3Ncbi8vIDAuMyAtICg2LzI1LzIwMDkpIEluaXRpYWwgcmVsZWFzZVxuXG4oZnVuY3Rpb24oJCl7XG4gICckOm5vbXVuZ2UnOyAvLyBVc2VkIGJ5IFlVSSBjb21wcmVzc29yLlxuICBcbiAgdmFyIGNhY2hlID0ge30sXG4gICAgXG4gICAgLy8gUmV1c2VkIGludGVybmFsIHN0cmluZy5cbiAgICBkb1RpbWVvdXQgPSAnZG9UaW1lb3V0JyxcbiAgICBcbiAgICAvLyBBIGNvbnZlbmllbnQgc2hvcnRjdXQuXG4gICAgYXBzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlO1xuICBcbiAgLy8gTWV0aG9kOiBqUXVlcnkuZG9UaW1lb3V0XG4gIC8vIFxuICAvLyBJbml0aWFsaXplLCBjYW5jZWwsIG9yIGZvcmNlIGV4ZWN1dGlvbiBvZiBhIGNhbGxiYWNrIGFmdGVyIGEgZGVsYXkuXG4gIC8vIFxuICAvLyBJZiBkZWxheSBhbmQgY2FsbGJhY2sgYXJlIHNwZWNpZmllZCwgYSBkb1RpbWVvdXQgaXMgaW5pdGlhbGl6ZWQuIFRoZVxuICAvLyBjYWxsYmFjayB3aWxsIGV4ZWN1dGUsIGFzeW5jaHJvbm91c2x5LCBhZnRlciB0aGUgZGVsYXkuIElmIGFuIGlkIGlzXG4gIC8vIHNwZWNpZmllZCwgdGhpcyBkb1RpbWVvdXQgd2lsbCBvdmVycmlkZSBhbmQgY2FuY2VsIGFueSBleGlzdGluZyBkb1RpbWVvdXRcbiAgLy8gd2l0aCB0aGUgc2FtZSBpZC4gQW55IGFkZGl0aW9uYWwgYXJndW1lbnRzIHdpbGwgYmUgcGFzc2VkIGludG8gY2FsbGJhY2tcbiAgLy8gd2hlbiBpdCBpcyBleGVjdXRlZC5cbiAgLy8gXG4gIC8vIElmIHRoZSBjYWxsYmFjayByZXR1cm5zIHRydWUsIHRoZSBkb1RpbWVvdXQgbG9vcCB3aWxsIGV4ZWN1dGUgYWdhaW4sIGFmdGVyXG4gIC8vIHRoZSBkZWxheSwgY3JlYXRpbmcgYSBwb2xsaW5nIGxvb3AgdW50aWwgdGhlIGNhbGxiYWNrIHJldHVybnMgYSBub24tdHJ1ZVxuICAvLyB2YWx1ZS5cbiAgLy8gXG4gIC8vIE5vdGUgdGhhdCBpZiBhbiBpZCBpcyBub3QgcGFzc2VkIGFzIHRoZSBmaXJzdCBhcmd1bWVudCwgdGhpcyBkb1RpbWVvdXQgd2lsbFxuICAvLyBOT1QgYmUgYWJsZSB0byBiZSBtYW51YWxseSBjYW5jZWxlZCBvciBmb3JjZWQuIChmb3IgZGVib3VuY2luZywgYmUgc3VyZSB0b1xuICAvLyBzcGVjaWZ5IGFuIGlkKS5cbiAgLy8gXG4gIC8vIElmIGlkIGlzIHNwZWNpZmllZCwgYnV0IGRlbGF5IGFuZCBjYWxsYmFjayBhcmUgbm90LCB0aGUgZG9UaW1lb3V0IHdpbGwgYmVcbiAgLy8gY2FuY2VsZWQgd2l0aG91dCBleGVjdXRpbmcgdGhlIGNhbGxiYWNrLiBJZiBmb3JjZV9tb2RlIGlzIHNwZWNpZmllZCwgdGhlXG4gIC8vIGNhbGxiYWNrIHdpbGwgYmUgZXhlY3V0ZWQsIHN5bmNocm9ub3VzbHksIGJ1dCB3aWxsIG9ubHkgYmUgYWxsb3dlZCB0b1xuICAvLyBjb250aW51ZSBhIHBvbGxpbmcgbG9vcCBpZiBmb3JjZV9tb2RlIGlzIHRydWUgKHByb3ZpZGVkIHRoZSBjYWxsYmFja1xuICAvLyByZXR1cm5zIHRydWUsIG9mIGNvdXJzZSkuIElmIGZvcmNlX21vZGUgaXMgZmFsc2UsIG5vIHBvbGxpbmcgbG9vcCB3aWxsXG4gIC8vIGNvbnRpbnVlLCBldmVuIGlmIHRoZSBjYWxsYmFjayByZXR1cm5zIHRydWUuXG4gIC8vIFxuICAvLyBVc2FnZTpcbiAgLy8gXG4gIC8vID4galF1ZXJ5LmRvVGltZW91dCggWyBpZCwgXSBkZWxheSwgY2FsbGJhY2sgWywgYXJnIC4uLiBdICk7XG4gIC8vID4galF1ZXJ5LmRvVGltZW91dCggaWQgWywgZm9yY2VfbW9kZSBdICk7XG4gIC8vIFxuICAvLyBBcmd1bWVudHM6XG4gIC8vIFxuICAvLyAgaWQgLSAoU3RyaW5nKSBBbiBvcHRpb25hbCB1bmlxdWUgaWRlbnRpZmllciBmb3IgdGhpcyBkb1RpbWVvdXQuIElmIGlkIGlzXG4gIC8vICAgIG5vdCBzcGVjaWZpZWQsIHRoZSBkb1RpbWVvdXQgd2lsbCBOT1QgYmUgYWJsZSB0byBiZSBtYW51YWxseSBjYW5jZWxlZCBvclxuICAvLyAgICBmb3JjZWQuXG4gIC8vICBkZWxheSAtIChOdW1iZXIpIEEgemVyby1vci1ncmVhdGVyIGRlbGF5IGluIG1pbGxpc2Vjb25kcyBhZnRlciB3aGljaFxuICAvLyAgICBjYWxsYmFjayB3aWxsIGJlIGV4ZWN1dGVkLiBcbiAgLy8gIGNhbGxiYWNrIC0gKEZ1bmN0aW9uKSBBIGZ1bmN0aW9uIHRvIGJlIGV4ZWN1dGVkIGFmdGVyIGRlbGF5IG1pbGxpc2Vjb25kcy5cbiAgLy8gIGNhbGxiYWNrIC0gKFN0cmluZykgQSBqUXVlcnkgbWV0aG9kIHRvIGJlIGV4ZWN1dGVkIGFmdGVyIGRlbGF5XG4gIC8vICAgIG1pbGxpc2Vjb25kcy4gVGhpcyBtZXRob2Qgd2lsbCBvbmx5IHBvbGwgaWYgaXQgZXhwbGljaXRseSByZXR1cm5zXG4gIC8vICAgIHRydWUuXG4gIC8vICBmb3JjZV9tb2RlIC0gKEJvb2xlYW4pIElmIHRydWUsIGV4ZWN1dGUgdGhhdCBpZCdzIGRvVGltZW91dCBjYWxsYmFja1xuICAvLyAgICBpbW1lZGlhdGVseSBhbmQgc3luY2hyb25vdXNseSwgY29udGludWluZyBhbnkgY2FsbGJhY2sgcmV0dXJuLXRydWVcbiAgLy8gICAgcG9sbGluZyBsb29wLiBJZiBmYWxzZSwgZXhlY3V0ZSB0aGUgY2FsbGJhY2sgaW1tZWRpYXRlbHkgYW5kXG4gIC8vICAgIHN5bmNocm9ub3VzbHkgYnV0IGRvIE5PVCBjb250aW51ZSBhIGNhbGxiYWNrIHJldHVybi10cnVlIHBvbGxpbmcgbG9vcC5cbiAgLy8gICAgSWYgb21pdHRlZCwgY2FuY2VsIHRoYXQgaWQncyBkb1RpbWVvdXQuXG4gIC8vIFxuICAvLyBSZXR1cm5zOlxuICAvLyBcbiAgLy8gIElmIGZvcmNlX21vZGUgaXMgdHJ1ZSwgZmFsc2Ugb3IgdW5kZWZpbmVkIGFuZCB0aGVyZSBpcyBhXG4gIC8vICB5ZXQtdG8tYmUtZXhlY3V0ZWQgY2FsbGJhY2sgdG8gY2FuY2VsLCB0cnVlIGlzIHJldHVybmVkLCBidXQgaWYgbm9cbiAgLy8gIGNhbGxiYWNrIHJlbWFpbnMgdG8gYmUgZXhlY3V0ZWQsIHVuZGVmaW5lZCBpcyByZXR1cm5lZC5cbiAgXG4gICRbZG9UaW1lb3V0XSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBwX2RvVGltZW91dC5hcHBseSggd2luZG93LCBbIDAgXS5jb25jYXQoIGFwcy5jYWxsKCBhcmd1bWVudHMgKSApICk7XG4gIH07XG4gIFxuICAvLyBNZXRob2Q6IGpRdWVyeS5mbi5kb1RpbWVvdXRcbiAgLy8gXG4gIC8vIEluaXRpYWxpemUsIGNhbmNlbCwgb3IgZm9yY2UgZXhlY3V0aW9uIG9mIGEgY2FsbGJhY2sgYWZ0ZXIgYSBkZWxheS5cbiAgLy8gT3BlcmF0ZXMgbGlrZSA8alF1ZXJ5LmRvVGltZW91dD4sIGJ1dCB0aGUgcGFzc2VkIGNhbGxiYWNrIGV4ZWN1dGVzIGluIHRoZVxuICAvLyBjb250ZXh0IG9mIHRoZSBqUXVlcnkgY29sbGVjdGlvbiBvZiBlbGVtZW50cywgYW5kIHRoZSBpZCBpcyBzdG9yZWQgYXMgZGF0YVxuICAvLyBvbiB0aGUgZmlyc3QgZWxlbWVudCBpbiB0aGF0IGNvbGxlY3Rpb24uXG4gIC8vIFxuICAvLyBJZiBkZWxheSBhbmQgY2FsbGJhY2sgYXJlIHNwZWNpZmllZCwgYSBkb1RpbWVvdXQgaXMgaW5pdGlhbGl6ZWQuIFRoZVxuICAvLyBjYWxsYmFjayB3aWxsIGV4ZWN1dGUsIGFzeW5jaHJvbm91c2x5LCBhZnRlciB0aGUgZGVsYXkuIElmIGFuIGlkIGlzXG4gIC8vIHNwZWNpZmllZCwgdGhpcyBkb1RpbWVvdXQgd2lsbCBvdmVycmlkZSBhbmQgY2FuY2VsIGFueSBleGlzdGluZyBkb1RpbWVvdXRcbiAgLy8gd2l0aCB0aGUgc2FtZSBpZC4gQW55IGFkZGl0aW9uYWwgYXJndW1lbnRzIHdpbGwgYmUgcGFzc2VkIGludG8gY2FsbGJhY2tcbiAgLy8gd2hlbiBpdCBpcyBleGVjdXRlZC5cbiAgLy8gXG4gIC8vIElmIHRoZSBjYWxsYmFjayByZXR1cm5zIHRydWUsIHRoZSBkb1RpbWVvdXQgbG9vcCB3aWxsIGV4ZWN1dGUgYWdhaW4sIGFmdGVyXG4gIC8vIHRoZSBkZWxheSwgY3JlYXRpbmcgYSBwb2xsaW5nIGxvb3AgdW50aWwgdGhlIGNhbGxiYWNrIHJldHVybnMgYSBub24tdHJ1ZVxuICAvLyB2YWx1ZS5cbiAgLy8gXG4gIC8vIE5vdGUgdGhhdCBpZiBhbiBpZCBpcyBub3QgcGFzc2VkIGFzIHRoZSBmaXJzdCBhcmd1bWVudCwgdGhpcyBkb1RpbWVvdXQgd2lsbFxuICAvLyBOT1QgYmUgYWJsZSB0byBiZSBtYW51YWxseSBjYW5jZWxlZCBvciBmb3JjZWQgKGZvciBkZWJvdW5jaW5nLCBiZSBzdXJlIHRvXG4gIC8vIHNwZWNpZnkgYW4gaWQpLlxuICAvLyBcbiAgLy8gSWYgaWQgaXMgc3BlY2lmaWVkLCBidXQgZGVsYXkgYW5kIGNhbGxiYWNrIGFyZSBub3QsIHRoZSBkb1RpbWVvdXQgd2lsbCBiZVxuICAvLyBjYW5jZWxlZCB3aXRob3V0IGV4ZWN1dGluZyB0aGUgY2FsbGJhY2suIElmIGZvcmNlX21vZGUgaXMgc3BlY2lmaWVkLCB0aGVcbiAgLy8gY2FsbGJhY2sgd2lsbCBiZSBleGVjdXRlZCwgc3luY2hyb25vdXNseSwgYnV0IHdpbGwgb25seSBiZSBhbGxvd2VkIHRvXG4gIC8vIGNvbnRpbnVlIGEgcG9sbGluZyBsb29wIGlmIGZvcmNlX21vZGUgaXMgdHJ1ZSAocHJvdmlkZWQgdGhlIGNhbGxiYWNrXG4gIC8vIHJldHVybnMgdHJ1ZSwgb2YgY291cnNlKS4gSWYgZm9yY2VfbW9kZSBpcyBmYWxzZSwgbm8gcG9sbGluZyBsb29wIHdpbGxcbiAgLy8gY29udGludWUsIGV2ZW4gaWYgdGhlIGNhbGxiYWNrIHJldHVybnMgdHJ1ZS5cbiAgLy8gXG4gIC8vIFVzYWdlOlxuICAvLyBcbiAgLy8gPiBqUXVlcnkoJ3NlbGVjdG9yJykuZG9UaW1lb3V0KCBbIGlkLCBdIGRlbGF5LCBjYWxsYmFjayBbLCBhcmcgLi4uIF0gKTtcbiAgLy8gPiBqUXVlcnkoJ3NlbGVjdG9yJykuZG9UaW1lb3V0KCBpZCBbLCBmb3JjZV9tb2RlIF0gKTtcbiAgLy8gXG4gIC8vIEFyZ3VtZW50czpcbiAgLy8gXG4gIC8vICBpZCAtIChTdHJpbmcpIEFuIG9wdGlvbmFsIHVuaXF1ZSBpZGVudGlmaWVyIGZvciB0aGlzIGRvVGltZW91dCwgc3RvcmVkIGFzXG4gIC8vICAgIGpRdWVyeSBkYXRhIG9uIHRoZSBlbGVtZW50LiBJZiBpZCBpcyBub3Qgc3BlY2lmaWVkLCB0aGUgZG9UaW1lb3V0IHdpbGxcbiAgLy8gICAgTk9UIGJlIGFibGUgdG8gYmUgbWFudWFsbHkgY2FuY2VsZWQgb3IgZm9yY2VkLlxuICAvLyAgZGVsYXkgLSAoTnVtYmVyKSBBIHplcm8tb3ItZ3JlYXRlciBkZWxheSBpbiBtaWxsaXNlY29uZHMgYWZ0ZXIgd2hpY2hcbiAgLy8gICAgY2FsbGJhY2sgd2lsbCBiZSBleGVjdXRlZC4gXG4gIC8vICBjYWxsYmFjayAtIChGdW5jdGlvbikgQSBmdW5jdGlvbiB0byBiZSBleGVjdXRlZCBhZnRlciBkZWxheSBtaWxsaXNlY29uZHMuXG4gIC8vICBjYWxsYmFjayAtIChTdHJpbmcpIEEgalF1ZXJ5LmZuIG1ldGhvZCB0byBiZSBleGVjdXRlZCBhZnRlciBkZWxheVxuICAvLyAgICBtaWxsaXNlY29uZHMuIFRoaXMgbWV0aG9kIHdpbGwgb25seSBwb2xsIGlmIGl0IGV4cGxpY2l0bHkgcmV0dXJuc1xuICAvLyAgICB0cnVlIChtb3N0IGpRdWVyeS5mbiBtZXRob2RzIHJldHVybiBhIGpRdWVyeSBvYmplY3QsIGFuZCBub3QgYHRydWVgLFxuICAvLyAgICB3aGljaCBhbGxvd3MgdGhlbSB0byBiZSBjaGFpbmVkIGFuZCBwcmV2ZW50cyBwb2xsaW5nKS5cbiAgLy8gIGZvcmNlX21vZGUgLSAoQm9vbGVhbikgSWYgdHJ1ZSwgZXhlY3V0ZSB0aGF0IGlkJ3MgZG9UaW1lb3V0IGNhbGxiYWNrXG4gIC8vICAgIGltbWVkaWF0ZWx5IGFuZCBzeW5jaHJvbm91c2x5LCBjb250aW51aW5nIGFueSBjYWxsYmFjayByZXR1cm4tdHJ1ZVxuICAvLyAgICBwb2xsaW5nIGxvb3AuIElmIGZhbHNlLCBleGVjdXRlIHRoZSBjYWxsYmFjayBpbW1lZGlhdGVseSBhbmRcbiAgLy8gICAgc3luY2hyb25vdXNseSBidXQgZG8gTk9UIGNvbnRpbnVlIGEgY2FsbGJhY2sgcmV0dXJuLXRydWUgcG9sbGluZyBsb29wLlxuICAvLyAgICBJZiBvbWl0dGVkLCBjYW5jZWwgdGhhdCBpZCdzIGRvVGltZW91dC5cbiAgLy8gXG4gIC8vIFJldHVybnM6XG4gIC8vIFxuICAvLyAgV2hlbiBjcmVhdGluZyBhIDxqUXVlcnkuZm4uZG9UaW1lb3V0PiwgdGhlIGluaXRpYWwgalF1ZXJ5IGNvbGxlY3Rpb24gb2ZcbiAgLy8gIGVsZW1lbnRzIGlzIHJldHVybmVkLiBPdGhlcndpc2UsIGlmIGZvcmNlX21vZGUgaXMgdHJ1ZSwgZmFsc2Ugb3IgdW5kZWZpbmVkXG4gIC8vICBhbmQgdGhlcmUgaXMgYSB5ZXQtdG8tYmUtZXhlY3V0ZWQgY2FsbGJhY2sgdG8gY2FuY2VsLCB0cnVlIGlzIHJldHVybmVkLFxuICAvLyAgYnV0IGlmIG5vIGNhbGxiYWNrIHJlbWFpbnMgdG8gYmUgZXhlY3V0ZWQsIHVuZGVmaW5lZCBpcyByZXR1cm5lZC5cbiAgXG4gICQuZm5bZG9UaW1lb3V0XSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBhcmdzID0gYXBzLmNhbGwoIGFyZ3VtZW50cyApLFxuICAgICAgcmVzdWx0ID0gcF9kb1RpbWVvdXQuYXBwbHkoIHRoaXMsIFsgZG9UaW1lb3V0ICsgYXJnc1swXSBdLmNvbmNhdCggYXJncyApICk7XG4gICAgXG4gICAgcmV0dXJuIHR5cGVvZiBhcmdzWzBdID09PSAnbnVtYmVyJyB8fCB0eXBlb2YgYXJnc1sxXSA9PT0gJ251bWJlcidcbiAgICAgID8gdGhpc1xuICAgICAgOiByZXN1bHQ7XG4gIH07XG4gIFxuICBmdW5jdGlvbiBwX2RvVGltZW91dCgganF1ZXJ5X2RhdGFfa2V5ICkge1xuICAgIHZhciB0aGF0ID0gdGhpcyxcbiAgICAgIGVsZW0sXG4gICAgICBkYXRhID0ge30sXG4gICAgICBcbiAgICAgIC8vIEFsbG93cyB0aGUgcGx1Z2luIHRvIGNhbGwgYSBzdHJpbmcgY2FsbGJhY2sgbWV0aG9kLlxuICAgICAgbWV0aG9kX2Jhc2UgPSBqcXVlcnlfZGF0YV9rZXkgPyAkLmZuIDogJCxcbiAgICAgIFxuICAgICAgLy8gQW55IGFkZGl0aW9uYWwgYXJndW1lbnRzIHdpbGwgYmUgcGFzc2VkIHRvIHRoZSBjYWxsYmFjay5cbiAgICAgIGFyZ3MgPSBhcmd1bWVudHMsXG4gICAgICBzbGljZV9hcmdzID0gNCxcbiAgICAgIFxuICAgICAgaWQgICAgICAgID0gYXJnc1sxXSxcbiAgICAgIGRlbGF5ICAgICA9IGFyZ3NbMl0sXG4gICAgICBjYWxsYmFjayAgPSBhcmdzWzNdO1xuICAgIFxuICAgIGlmICggdHlwZW9mIGlkICE9PSAnc3RyaW5nJyApIHtcbiAgICAgIHNsaWNlX2FyZ3MtLTtcbiAgICAgIFxuICAgICAgaWQgICAgICAgID0ganF1ZXJ5X2RhdGFfa2V5ID0gMDtcbiAgICAgIGRlbGF5ICAgICA9IGFyZ3NbMV07XG4gICAgICBjYWxsYmFjayAgPSBhcmdzWzJdO1xuICAgIH1cbiAgICBcbiAgICAvLyBJZiBpZCBpcyBwYXNzZWQsIHN0b3JlIGEgZGF0YSByZWZlcmVuY2UgZWl0aGVyIGFzIC5kYXRhIG9uIHRoZSBmaXJzdFxuICAgIC8vIGVsZW1lbnQgaW4gYSBqUXVlcnkgY29sbGVjdGlvbiwgb3IgaW4gdGhlIGludGVybmFsIGNhY2hlLlxuICAgIGlmICgganF1ZXJ5X2RhdGFfa2V5ICkgeyAvLyBOb3RlOiBrZXkgaXMgJ2RvVGltZW91dCcgKyBpZFxuICAgICAgXG4gICAgICAvLyBHZXQgaWQtb2JqZWN0IGZyb20gdGhlIGZpcnN0IGVsZW1lbnQncyBkYXRhLCBvdGhlcndpc2UgaW5pdGlhbGl6ZSBpdCB0byB7fS5cbiAgICAgIGVsZW0gPSB0aGF0LmVxKDApO1xuICAgICAgZWxlbS5kYXRhKCBqcXVlcnlfZGF0YV9rZXksIGRhdGEgPSBlbGVtLmRhdGEoIGpxdWVyeV9kYXRhX2tleSApIHx8IHt9ICk7XG4gICAgICBcbiAgICB9IGVsc2UgaWYgKCBpZCApIHtcbiAgICAgIC8vIEdldCBpZC1vYmplY3QgZnJvbSB0aGUgY2FjaGUsIG90aGVyd2lzZSBpbml0aWFsaXplIGl0IHRvIHt9LlxuICAgICAgZGF0YSA9IGNhY2hlWyBpZCBdIHx8ICggY2FjaGVbIGlkIF0gPSB7fSApO1xuICAgIH1cbiAgICBcbiAgICAvLyBDbGVhciBhbnkgZXhpc3RpbmcgdGltZW91dCBmb3IgdGhpcyBpZC5cbiAgICBkYXRhLmlkICYmIGNsZWFyVGltZW91dCggZGF0YS5pZCApO1xuICAgIGRlbGV0ZSBkYXRhLmlkO1xuICAgIFxuICAgIC8vIENsZWFuIHVwIHdoZW4gbmVjZXNzYXJ5LlxuICAgIGZ1bmN0aW9uIGNsZWFudXAoKSB7XG4gICAgICBpZiAoIGpxdWVyeV9kYXRhX2tleSApIHtcbiAgICAgICAgZWxlbS5yZW1vdmVEYXRhKCBqcXVlcnlfZGF0YV9rZXkgKTtcbiAgICAgIH0gZWxzZSBpZiAoIGlkICkge1xuICAgICAgICBkZWxldGUgY2FjaGVbIGlkIF07XG4gICAgICB9XG4gICAgfTtcbiAgICBcbiAgICAvLyBZZXMsIHRoZXJlIGFjdHVhbGx5IGlzIGEgc2V0VGltZW91dCBjYWxsIGluIGhlcmUhXG4gICAgZnVuY3Rpb24gYWN0dWFsbHlfc2V0VGltZW91dCgpIHtcbiAgICAgIGRhdGEuaWQgPSBzZXRUaW1lb3V0KCBmdW5jdGlvbigpeyBkYXRhLmZuKCk7IH0sIGRlbGF5ICk7XG4gICAgfTtcbiAgICBcbiAgICBpZiAoIGNhbGxiYWNrICkge1xuICAgICAgLy8gQSBjYWxsYmFjayAoYW5kIGRlbGF5KSB3ZXJlIHNwZWNpZmllZC4gU3RvcmUgdGhlIGNhbGxiYWNrIHJlZmVyZW5jZSBmb3JcbiAgICAgIC8vIHBvc3NpYmxlIGxhdGVyIHVzZSwgYW5kIHRoZW4gc2V0VGltZW91dC5cbiAgICAgIGRhdGEuZm4gPSBmdW5jdGlvbiggbm9fcG9sbGluZ19sb29wICkge1xuICAgICAgICBcbiAgICAgICAgLy8gSWYgdGhlIGNhbGxiYWNrIHZhbHVlIGlzIGEgc3RyaW5nLCBpdCBpcyBhc3N1bWVkIHRvIGJlIHRoZSBuYW1lIG9mIGFcbiAgICAgICAgLy8gbWV0aG9kIG9uICQgb3IgJC5mbiBkZXBlbmRpbmcgb24gd2hlcmUgZG9UaW1lb3V0IHdhcyBleGVjdXRlZC5cbiAgICAgICAgaWYgKCB0eXBlb2YgY2FsbGJhY2sgPT09ICdzdHJpbmcnICkge1xuICAgICAgICAgIGNhbGxiYWNrID0gbWV0aG9kX2Jhc2VbIGNhbGxiYWNrIF07XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGNhbGxiYWNrLmFwcGx5KCB0aGF0LCBhcHMuY2FsbCggYXJncywgc2xpY2VfYXJncyApICkgPT09IHRydWUgJiYgIW5vX3BvbGxpbmdfbG9vcFxuICAgICAgICAgIFxuICAgICAgICAgIC8vIFNpbmNlIHRoZSBjYWxsYmFjayByZXR1cm5lZCB0cnVlLCBhbmQgd2UncmUgbm90IHNwZWNpZmljYWxseVxuICAgICAgICAgIC8vIGNhbmNlbGluZyBhIHBvbGxpbmcgbG9vcCwgZG8gaXQgYWdhaW4hXG4gICAgICAgICAgPyBhY3R1YWxseV9zZXRUaW1lb3V0KClcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBPdGhlcndpc2UsIGNsZWFuIHVwIGFuZCBxdWl0LlxuICAgICAgICAgIDogY2xlYW51cCgpO1xuICAgICAgfTtcbiAgICAgIFxuICAgICAgLy8gU2V0IHRoYXQgdGltZW91dCFcbiAgICAgIGFjdHVhbGx5X3NldFRpbWVvdXQoKTtcbiAgICAgIFxuICAgIH0gZWxzZSBpZiAoIGRhdGEuZm4gKSB7XG4gICAgICAvLyBObyBjYWxsYmFjayBwYXNzZWQuIElmIGZvcmNlX21vZGUgKGRlbGF5KSBpcyB0cnVlLCBleGVjdXRlIHRoZSBkYXRhLmZuXG4gICAgICAvLyBjYWxsYmFjayBpbW1lZGlhdGVseSwgY29udGludWluZyBhbnkgY2FsbGJhY2sgcmV0dXJuLXRydWUgcG9sbGluZyBsb29wLlxuICAgICAgLy8gSWYgZm9yY2VfbW9kZSBpcyBmYWxzZSwgZXhlY3V0ZSB0aGUgZGF0YS5mbiBjYWxsYmFjayBpbW1lZGlhdGVseSBidXQgZG9cbiAgICAgIC8vIE5PVCBjb250aW51ZSBhIGNhbGxiYWNrIHJldHVybi10cnVlIHBvbGxpbmcgbG9vcC4gSWYgZm9yY2VfbW9kZSBpc1xuICAgICAgLy8gdW5kZWZpbmVkLCBzaW1wbHkgY2xlYW4gdXAuIFNpbmNlIGRhdGEuZm4gd2FzIHN0aWxsIGRlZmluZWQsIHdoYXRldmVyXG4gICAgICAvLyB3YXMgc3VwcG9zZWQgdG8gaGFwcGVuIGhhZG4ndCB5ZXQsIHNvIHJldHVybiB0cnVlLlxuICAgICAgZGVsYXkgPT09IHVuZGVmaW5lZCA/IGNsZWFudXAoKSA6IGRhdGEuZm4oIGRlbGF5ID09PSBmYWxzZSApO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgICBcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gU2luY2Ugbm8gY2FsbGJhY2sgd2FzIHBhc3NlZCwgYW5kIGRhdGEuZm4gaXNuJ3QgZGVmaW5lZCwgaXQgbG9va3MgbGlrZVxuICAgICAgLy8gd2hhdGV2ZXIgd2FzIHN1cHBvc2VkIHRvIGhhcHBlbiBhbHJlYWR5IGRpZC4gQ2xlYW4gdXAgYW5kIHF1aXQhXG4gICAgICBjbGVhbnVwKCk7XG4gICAgfVxuICAgIFxuICB9O1xuICBcbn0pKGpRdWVyeSk7XG4iLCIvKiFcbiAqIGpxdWVyeSBvZW1iZWQgcGx1Z2luXG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDA5IFJpY2hhcmQgQ2hhbW9ycm9cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZVxuICpcbiAqIEF1dGhvcjogUmljaGFyZCBDaGFtb3Jyb1xuICovXG5cbihmdW5jdGlvbiAoJCkge1xuICAgICQuZm4ub2VtYmVkID0gZnVuY3Rpb24gKHVybCwgb3B0aW9ucywgZW1iZWRBY3Rpb24pIHtcblxuICAgICAgICBzZXR0aW5ncyA9ICQuZXh0ZW5kKHRydWUsICQuZm4ub2VtYmVkLmRlZmF1bHRzLCBvcHRpb25zKTtcblxuICAgICAgICBpbml0aWFsaXplUHJvdmlkZXJzKCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHZhciBjb250YWluZXIgPSAkKHRoaXMpLFxuICAgICAgICAgICAgICAgIHJlc291cmNlVVJMID0gKHVybCAhPSBudWxsKSA/IHVybCA6IGNvbnRhaW5lci5hdHRyKFwiaHJlZlwiKSxcbiAgICAgICAgICAgICAgICBwcm92aWRlcjtcblxuICAgICAgICAgICAgaWYgKGVtYmVkQWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgc2V0dGluZ3Mub25FbWJlZCA9IGVtYmVkQWN0aW9uO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzZXR0aW5ncy5vbkVtYmVkID0gZnVuY3Rpb24gKG9lbWJlZERhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgJC5mbi5vZW1iZWQuaW5zZXJ0Q29kZSh0aGlzLCBzZXR0aW5ncy5lbWJlZE1ldGhvZCwgb2VtYmVkRGF0YSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHJlc291cmNlVVJMICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBwcm92aWRlciA9ICQuZm4ub2VtYmVkLmdldE9FbWJlZFByb3ZpZGVyKHJlc291cmNlVVJMKTtcblxuICAgICAgICAgICAgICAgIGlmIChwcm92aWRlciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHByb3ZpZGVyLnBhcmFtcyA9IGdldE5vcm1hbGl6ZWRQYXJhbXMoc2V0dGluZ3NbcHJvdmlkZXIubmFtZV0pIHx8IHt9O1xuICAgICAgICAgICAgICAgICAgICBwcm92aWRlci5tYXhXaWR0aCA9IHNldHRpbmdzLm1heFdpZHRoO1xuICAgICAgICAgICAgICAgICAgICBwcm92aWRlci5tYXhIZWlnaHQgPSBzZXR0aW5ncy5tYXhIZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgIGVtYmVkQ29kZShjb250YWluZXIsIHJlc291cmNlVVJMLCBwcm92aWRlcik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3Mub25Qcm92aWRlck5vdEZvdW5kLmNhbGwoY29udGFpbmVyLCByZXNvdXJjZVVSTCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gY29udGFpbmVyO1xuICAgICAgICB9KTtcblxuXG4gICAgfTtcblxuICAgIHZhciBzZXR0aW5ncywgYWN0aXZlUHJvdmlkZXJzID0gW107XG5cbiAgICAvLyBQbHVnaW4gZGVmYXVsdHNcbiAgICAkLmZuLm9lbWJlZC5kZWZhdWx0cyA9IHtcbiAgICAgICAgbWF4V2lkdGg6IG51bGwsXG4gICAgICAgIG1heEhlaWdodDogbnVsbCxcbiAgICAgICAgZW1iZWRNZXRob2Q6IFwicmVwbGFjZVwiLCAgICAgLy8gXCJhdXRvXCIsIFwiYXBwZW5kXCIsIFwiZmlsbFwiXG4gICAgICAgIGRlZmF1bHRPRW1iZWRQcm92aWRlcjogXCJvb2hlbWJlZFwiLCAgLy8gXCJvb2hlbWJlZFwiLCBcImVtYmVkLmx5XCIsIFwibm9uZVwiXG4gICAgICAgIGFsbG93ZWRQcm92aWRlcnM6IG51bGwsXG4gICAgICAgIGRpc2FsbG93ZWRQcm92aWRlcnM6IG51bGwsXG4gICAgICAgIGN1c3RvbVByb3ZpZGVyczogbnVsbCwgLy8gWyBuZXcgJC5mbi5vZW1iZWQuT0VtYmVkUHJvdmlkZXIoXCJjdXN0b21wcm92aWRlclwiLCBudWxsLCBbXCJjdXN0b21wcm92aWRlclxcXFwuY29tL3dhdGNoLit2PVtcXFxcdy1dKyY/XCJdKSBdXG4gICAgICAgIGRlZmF1bHRQcm92aWRlcjogbnVsbCxcbiAgICAgICAgZ3JlZWR5OiB0cnVlLFxuICAgICAgICBvblByb3ZpZGVyTm90Rm91bmQ6IGZ1bmN0aW9uICgpIHsgfSxcbiAgICAgICAgYmVmb3JlRW1iZWQ6IGZ1bmN0aW9uICgpIHsgfSxcbiAgICAgICAgYWZ0ZXJFbWJlZDogZnVuY3Rpb24gKCkgeyB9LFxuICAgICAgICBvbkVtYmVkOiBmdW5jdGlvbiAoKSB7IH0sXG4gICAgICAgIG9uRXJyb3I6IGZ1bmN0aW9uKCkge30sXG4gICAgICAgIGFqYXhPcHRpb25zOiB7fVxuICAgIH07XG5cbiAgICAvKiBQcml2YXRlIGZ1bmN0aW9ucyAqL1xuICAgIGZ1bmN0aW9uIGdldFJlcXVlc3RVcmwocHJvdmlkZXIsIGV4dGVybmFsVXJsKSB7XG5cbiAgICAgICAgdmFyIHVybCA9IHByb3ZpZGVyLmFwaWVuZHBvaW50LCBxcyA9IFwiXCIsIGNhbGxiYWNrcGFyYW1ldGVyID0gcHJvdmlkZXIuY2FsbGJhY2twYXJhbWV0ZXIgfHwgXCJjYWxsYmFja1wiLCBpO1xuXG4gICAgICAgIGlmICh1cmwuaW5kZXhPZihcIj9cIikgPD0gMClcbiAgICAgICAgICAgIHVybCA9IHVybCArIFwiP1wiO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICB1cmwgPSB1cmwgKyBcIiZcIjtcblxuICAgICAgICBpZiAocHJvdmlkZXIubWF4V2lkdGggIT0gbnVsbCAmJiBwcm92aWRlci5wYXJhbXNbXCJtYXh3aWR0aFwiXSA9PSBudWxsKVxuICAgICAgICAgICAgcHJvdmlkZXIucGFyYW1zW1wibWF4d2lkdGhcIl0gPSBwcm92aWRlci5tYXhXaWR0aDtcblxuICAgICAgICBpZiAocHJvdmlkZXIubWF4SGVpZ2h0ICE9IG51bGwgJiYgcHJvdmlkZXIucGFyYW1zW1wibWF4aGVpZ2h0XCJdID09IG51bGwpXG4gICAgICAgICAgICBwcm92aWRlci5wYXJhbXNbXCJtYXhoZWlnaHRcIl0gPSBwcm92aWRlci5tYXhIZWlnaHQ7XG5cbiAgICAgICAgZm9yIChpIGluIHByb3ZpZGVyLnBhcmFtcykge1xuICAgICAgICAgICAgLy8gV2UgZG9uJ3Qgd2FudCB0aGVtIHRvIGphY2sgZXZlcnl0aGluZyB1cCBieSBjaGFuZ2luZyB0aGUgY2FsbGJhY2sgcGFyYW1ldGVyXG4gICAgICAgICAgICBpZiAoaSA9PSBwcm92aWRlci5jYWxsYmFja3BhcmFtZXRlcilcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcblxuICAgICAgICAgICAgLy8gYWxsb3dzIHRoZSBvcHRpb25zIHRvIGJlIHNldCB0byBudWxsLCBkb24ndCBzZW5kIG51bGwgdmFsdWVzIHRvIHRoZSBzZXJ2ZXIgYXMgcGFyYW1ldGVyc1xuICAgICAgICAgICAgaWYgKHByb3ZpZGVyLnBhcmFtc1tpXSAhPSBudWxsKVxuICAgICAgICAgICAgICAgIHFzICs9IFwiJlwiICsgZXNjYXBlKGkpICsgXCI9XCIgKyBwcm92aWRlci5wYXJhbXNbaV07XG4gICAgICAgIH1cblxuICAgICAgICB1cmwgKz0gXCJmb3JtYXQ9anNvbiZ1cmw9XCIgKyBlc2NhcGUoZXh0ZXJuYWxVcmwpICtcbiAgICAgICAgICAgICAgICAgICAgcXMgK1xuICAgICAgICAgICAgICAgICAgICBcIiZcIiArIGNhbGxiYWNrcGFyYW1ldGVyICsgXCI9P1wiO1xuXG4gICAgICAgIHJldHVybiB1cmw7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZW1iZWRDb2RlKGNvbnRhaW5lciwgZXh0ZXJuYWxVcmwsIGVtYmVkUHJvdmlkZXIpIHtcblxuICAgICAgICB2YXIgcmVxdWVzdFVybCA9IGdldFJlcXVlc3RVcmwoZW1iZWRQcm92aWRlciwgZXh0ZXJuYWxVcmwpLFxuICAgICAgICAgICAgYWpheG9wdHMgPSAkLmV4dGVuZCh7XG4gICAgICAgICAgICAgICAgdXJsOiByZXF1ZXN0VXJsLFxuICAgICAgICAgICAgICAgIHR5cGU6ICdnZXQnLFxuICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICAgICAgICAgICAgLy8gZXJyb3I6IGpzb25wIHJlcXVlc3QgZG9lc250JyBzdXBwb3J0IGVycm9yIGhhbmRsaW5nXG4gICAgICAgICAgICAgICAgc3VjY2VzczogIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBvZW1iZWREYXRhID0gJC5leHRlbmQoe30sIGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKG9lbWJlZERhdGEudHlwZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcInBob3RvXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2VtYmVkRGF0YS5jb2RlID0gJC5mbi5vZW1iZWQuZ2V0UGhvdG9Db2RlKGV4dGVybmFsVXJsLCBvZW1iZWREYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ2aWRlb1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9lbWJlZERhdGEuY29kZSA9ICQuZm4ub2VtYmVkLmdldFZpZGVvQ29kZShleHRlcm5hbFVybCwgb2VtYmVkRGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwicmljaFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9lbWJlZERhdGEuY29kZSA9ICQuZm4ub2VtYmVkLmdldFJpY2hDb2RlKGV4dGVybmFsVXJsLCBvZW1iZWREYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2VtYmVkRGF0YS5jb2RlID0gJC5mbi5vZW1iZWQuZ2V0R2VuZXJpY0NvZGUoZXh0ZXJuYWxVcmwsIG9lbWJlZERhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHNldHRpbmdzLmJlZm9yZUVtYmVkLmNhbGwoY29udGFpbmVyLCBvZW1iZWREYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3Mub25FbWJlZC5jYWxsKGNvbnRhaW5lciwgb2VtYmVkRGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIHNldHRpbmdzLmFmdGVyRW1iZWQuY2FsbChjb250YWluZXIsIG9lbWJlZERhdGEpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZXJyb3I6IHNldHRpbmdzLm9uRXJyb3IuY2FsbChjb250YWluZXIsIGV4dGVybmFsVXJsLCBlbWJlZFByb3ZpZGVyKVxuICAgICAgICAgICAgfSwgc2V0dGluZ3MuYWpheE9wdGlvbnMgfHwgeyB9ICk7XG5cbiAgICAgICAgJC5hamF4KCBhamF4b3B0cyApO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGluaXRpYWxpemVQcm92aWRlcnMoKSB7XG5cbiAgICAgICAgYWN0aXZlUHJvdmlkZXJzID0gW107XG5cbiAgICAgICAgdmFyIGRlZmF1bHRQcm92aWRlciwgcmVzdHJpY3RlZFByb3ZpZGVycyA9IFtdLCBpLCBwcm92aWRlcjtcblxuICAgICAgICBpZiAoIWlzTnVsbE9yRW1wdHkoc2V0dGluZ3MuYWxsb3dlZFByb3ZpZGVycykpIHtcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCAkLmZuLm9lbWJlZC5wcm92aWRlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoJC5pbkFycmF5KCQuZm4ub2VtYmVkLnByb3ZpZGVyc1tpXS5uYW1lLCBzZXR0aW5ncy5hbGxvd2VkUHJvdmlkZXJzKSA+PSAwKVxuICAgICAgICAgICAgICAgICAgICBhY3RpdmVQcm92aWRlcnMucHVzaCgkLmZuLm9lbWJlZC5wcm92aWRlcnNbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gSWYgdGhlcmUgYXJlIGFsbG93ZWQgcHJvdmlkZXJzLCBqcXVlcnktb2VtYmVkIGNhbm5vdCBiZSBncmVlZHlcbiAgICAgICAgICAgIHNldHRpbmdzLmdyZWVkeSA9IGZhbHNlO1xuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhY3RpdmVQcm92aWRlcnMgPSAkLmZuLm9lbWJlZC5wcm92aWRlcnM7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWlzTnVsbE9yRW1wdHkoc2V0dGluZ3MuZGlzYWxsb3dlZFByb3ZpZGVycykpIHtcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBhY3RpdmVQcm92aWRlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoJC5pbkFycmF5KGFjdGl2ZVByb3ZpZGVyc1tpXS5uYW1lLCBzZXR0aW5ncy5kaXNhbGxvd2VkUHJvdmlkZXJzKSA8IDApXG4gICAgICAgICAgICAgICAgICAgIHJlc3RyaWN0ZWRQcm92aWRlcnMucHVzaChhY3RpdmVQcm92aWRlcnNbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYWN0aXZlUHJvdmlkZXJzID0gcmVzdHJpY3RlZFByb3ZpZGVycztcbiAgICAgICAgICAgIC8vIElmIHRoZXJlIGFyZSBhbGxvd2VkIHByb3ZpZGVycywganF1ZXJ5LW9lbWJlZCBjYW5ub3QgYmUgZ3JlZWR5XG4gICAgICAgICAgICBzZXR0aW5ncy5ncmVlZHkgPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghaXNOdWxsT3JFbXB0eShzZXR0aW5ncy5jdXN0b21Qcm92aWRlcnMpKSB7XG4gICAgICAgICAgICAkLmVhY2goc2V0dGluZ3MuY3VzdG9tUHJvdmlkZXJzLCBmdW5jdGlvbiAobiwgY3VzdG9tUHJvdmlkZXIpIHtcbiAgICAgICAgICAgICAgICBpZiAoY3VzdG9tUHJvdmlkZXIgaW5zdGFuY2VvZiAkLmZuLm9lbWJlZC5PRW1iZWRQcm92aWRlcikge1xuICAgICAgICAgICAgICAgICAgICBhY3RpdmVQcm92aWRlcnMucHVzaChwcm92aWRlcik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXIgPSBuZXcgJC5mbi5vZW1iZWQuT0VtYmVkUHJvdmlkZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByb3ZpZGVyLmZyb21KU09OKGN1c3RvbVByb3ZpZGVyKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZVByb3ZpZGVycy5wdXNoKHByb3ZpZGVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIGluIGdyZWVkeSBtb2RlLCB3ZSBhZGQgdGhlIGRlZmF1bHQgcHJvdmlkZXJcbiAgICAgICAgZGVmYXVsdFByb3ZpZGVyID0gZ2V0RGVmYXVsdE9FbWJlZFByb3ZpZGVyKHNldHRpbmdzLmRlZmF1bHRPRW1iZWRQcm92aWRlcik7XG4gICAgICAgIGlmIChzZXR0aW5ncy5ncmVlZHkgPT09IHRydWUpIHtcbiAgICAgICAgICAgIGFjdGl2ZVByb3ZpZGVycy5wdXNoKGRlZmF1bHRQcm92aWRlcik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgYW55IHByb3ZpZGVyIGhhcyBubyBhcGllbmRwb2ludCwgd2UgdXNlIHRoZSBkZWZhdWx0IHByb3ZpZGVyIGVuZHBvaW50XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBhY3RpdmVQcm92aWRlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChhY3RpdmVQcm92aWRlcnNbaV0uYXBpZW5kcG9pbnQgPT09IG51bGwpXG4gICAgICAgICAgICAgICAgYWN0aXZlUHJvdmlkZXJzW2ldLmFwaWVuZHBvaW50ID0gZGVmYXVsdFByb3ZpZGVyLmFwaWVuZHBvaW50O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0RGVmYXVsdE9FbWJlZFByb3ZpZGVyKGRlZmF1bHRPRW1iZWRQcm92aWRlcikge1xuICAgICAgICB2YXIgdXJsID0gXCJodHRwOi8vb29oZW1iZWQuY29tL29vaGVtYmVkL1wiO1xuICAgICAgICBpZiAoZGVmYXVsdE9FbWJlZFByb3ZpZGVyID09IFwiZW1iZWQubHlcIilcbiAgICAgICAgICAgIHVybCA9IFwiaHR0cDovL2FwaS5lbWJlZC5seS92MS9hcGkvb2VtYmVkP1wiO1xuICAgICAgICByZXR1cm4gbmV3ICQuZm4ub2VtYmVkLk9FbWJlZFByb3ZpZGVyKGRlZmF1bHRPRW1iZWRQcm92aWRlciwgbnVsbCwgbnVsbCwgdXJsLCBcImNhbGxiYWNrXCIpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldE5vcm1hbGl6ZWRQYXJhbXMocGFyYW1zKSB7XG4gICAgICAgIGlmIChwYXJhbXMgPT09IG51bGwpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgdmFyIGtleSwgbm9ybWFsaXplZFBhcmFtcyA9IHt9O1xuICAgICAgICBmb3IgKGtleSBpbiBwYXJhbXMpIHtcbiAgICAgICAgICAgIGlmIChrZXkgIT09IG51bGwpXG4gICAgICAgICAgICAgICAgbm9ybWFsaXplZFBhcmFtc1trZXkudG9Mb3dlckNhc2UoKV0gPSBwYXJhbXNba2V5XTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbm9ybWFsaXplZFBhcmFtcztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc051bGxPckVtcHR5KG9iamVjdCkge1xuICAgICAgICBpZiAodHlwZW9mIG9iamVjdCA9PSBcInVuZGVmaW5lZFwiKVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIGlmIChvYmplY3QgPT09IG51bGwpXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgaWYgKCQuaXNBcnJheShvYmplY3QpICYmIG9iamVjdC5sZW5ndGggPT09IDApXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qIFB1YmxpYyBmdW5jdGlvbnMgKi9cbiAgICAkLmZuLm9lbWJlZC5pbnNlcnRDb2RlID0gZnVuY3Rpb24gKGNvbnRhaW5lciwgZW1iZWRNZXRob2QsIG9lbWJlZERhdGEpIHtcbiAgICAgICAgaWYgKG9lbWJlZERhdGEgPT09IG51bGwpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgc3dpdGNoIChlbWJlZE1ldGhvZCkge1xuICAgICAgICAgICAgY2FzZSBcImF1dG9cIjpcbiAgICAgICAgICAgICAgICBpZiAoY29udGFpbmVyLmF0dHIoXCJocmVmXCIpICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICQuZm4ub2VtYmVkLmluc2VydENvZGUoY29udGFpbmVyLCBcImFwcGVuZFwiLCBvZW1iZWREYXRhKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICQuZm4ub2VtYmVkLmluc2VydENvZGUoY29udGFpbmVyLCBcInJlcGxhY2VcIiwgb2VtYmVkRGF0YSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcInJlcGxhY2VcIjpcbiAgICAgICAgICAgICAgICBjb250YWluZXIucmVwbGFjZVdpdGgob2VtYmVkRGF0YS5jb2RlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJmaWxsXCI6XG4gICAgICAgICAgICAgICAgY29udGFpbmVyLmh0bWwob2VtYmVkRGF0YS5jb2RlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJhcHBlbmRcIjpcbiAgICAgICAgICAgICAgICB2YXIgb2VtYmVkQ29udGFpbmVyID0gY29udGFpbmVyLm5leHQoKTtcbiAgICAgICAgICAgICAgICBpZiAob2VtYmVkQ29udGFpbmVyID09PSBudWxsIHx8ICFvZW1iZWRDb250YWluZXIuaGFzQ2xhc3MoXCJvZW1iZWQtY29udGFpbmVyXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIG9lbWJlZENvbnRhaW5lciA9IGNvbnRhaW5lclxuICAgICAgICAgICAgICAgICAgICAgICAgLmFmdGVyKCc8ZGl2IGNsYXNzPVwib2VtYmVkLWNvbnRhaW5lclwiPjwvZGl2PicpXG4gICAgICAgICAgICAgICAgICAgICAgICAubmV4dChcIi5vZW1iZWQtY29udGFpbmVyXCIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAob2VtYmVkRGF0YSAhPT0gbnVsbCAmJiBvZW1iZWREYXRhLnByb3ZpZGVyX25hbWUgIT09IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICBvZW1iZWRDb250YWluZXIudG9nZ2xlQ2xhc3MoXCJvZW1iZWQtY29udGFpbmVyLVwiICsgb2VtYmVkRGF0YS5wcm92aWRlcl9uYW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgb2VtYmVkQ29udGFpbmVyLmh0bWwob2VtYmVkRGF0YS5jb2RlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAkLmZuLm9lbWJlZC5nZXRQaG90b0NvZGUgPSBmdW5jdGlvbiAodXJsLCBvZW1iZWREYXRhKSB7XG4gICAgICAgIHZhciBjb2RlLCBhbHQgPSBvZW1iZWREYXRhLnRpdGxlID8gb2VtYmVkRGF0YS50aXRsZSA6ICcnO1xuICAgICAgICBhbHQgKz0gb2VtYmVkRGF0YS5hdXRob3JfbmFtZSA/ICcgLSAnICsgb2VtYmVkRGF0YS5hdXRob3JfbmFtZSA6ICcnO1xuICAgICAgICBhbHQgKz0gb2VtYmVkRGF0YS5wcm92aWRlcl9uYW1lID8gJyAtICcgKyBvZW1iZWREYXRhLnByb3ZpZGVyX25hbWUgOiAnJztcbiAgICAgICAgY29kZSA9ICc8ZGl2PjxhIGhyZWY9XCInICsgdXJsICsgJ1wiIHRhcmdldD1cXCdfYmxhbmtcXCc+PGltZyBzcmM9XCInICsgb2VtYmVkRGF0YS51cmwgKyAnXCIgYWx0PVwiJyArIGFsdCArICdcIi8+PC9hPjwvZGl2Pic7XG4gICAgICAgIGlmIChvZW1iZWREYXRhLmh0bWwpXG4gICAgICAgICAgICBjb2RlICs9IFwiPGRpdj5cIiArIG9lbWJlZERhdGEuaHRtbCArIFwiPC9kaXY+XCI7XG4gICAgICAgIHJldHVybiBjb2RlO1xuICAgIH07XG5cbiAgICAkLmZuLm9lbWJlZC5nZXRWaWRlb0NvZGUgPSBmdW5jdGlvbiAodXJsLCBvZW1iZWREYXRhKSB7XG4gICAgICAgIHZhciBjb2RlID0gb2VtYmVkRGF0YS5odG1sO1xuXG4gICAgICAgIHJldHVybiBjb2RlO1xuICAgIH07XG5cbiAgICAkLmZuLm9lbWJlZC5nZXRSaWNoQ29kZSA9IGZ1bmN0aW9uICh1cmwsIG9lbWJlZERhdGEpIHtcbiAgICAgICAgdmFyIGNvZGUgPSBvZW1iZWREYXRhLmh0bWw7XG4gICAgICAgIHJldHVybiBjb2RlO1xuICAgIH07XG5cbiAgICAkLmZuLm9lbWJlZC5nZXRHZW5lcmljQ29kZSA9IGZ1bmN0aW9uICh1cmwsIG9lbWJlZERhdGEpIHtcbiAgICAgICAgdmFyIHRpdGxlID0gKG9lbWJlZERhdGEudGl0bGUgIT09IG51bGwpID8gb2VtYmVkRGF0YS50aXRsZSA6IHVybCxcbiAgICAgICAgICAgIGNvZGUgPSAnPGEgaHJlZj1cIicgKyB1cmwgKyAnXCI+JyArIHRpdGxlICsgJzwvYT4nO1xuICAgICAgICBpZiAob2VtYmVkRGF0YS5odG1sKVxuICAgICAgICAgICAgY29kZSArPSBcIjxkaXY+XCIgKyBvZW1iZWREYXRhLmh0bWwgKyBcIjwvZGl2PlwiO1xuICAgICAgICByZXR1cm4gY29kZTtcbiAgICB9O1xuXG4gICAgJC5mbi5vZW1iZWQuaXNQcm92aWRlckF2YWlsYWJsZSA9IGZ1bmN0aW9uICh1cmwpIHtcbiAgICAgICAgdmFyIHByb3ZpZGVyID0gZ2V0T0VtYmVkUHJvdmlkZXIodXJsKTtcbiAgICAgICAgcmV0dXJuIChwcm92aWRlciAhPT0gbnVsbCk7XG4gICAgfTtcblxuICAgICQuZm4ub2VtYmVkLmdldE9FbWJlZFByb3ZpZGVyID0gZnVuY3Rpb24gKHVybCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFjdGl2ZVByb3ZpZGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGFjdGl2ZVByb3ZpZGVyc1tpXS5tYXRjaGVzKHVybCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFjdGl2ZVByb3ZpZGVyc1tpXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuXG4gICAgJC5mbi5vZW1iZWQuT0VtYmVkUHJvdmlkZXIgPSBmdW5jdGlvbiAobmFtZSwgdHlwZSwgdXJsc2NoZW1lc2FycmF5LCBhcGllbmRwb2ludCwgY2FsbGJhY2twYXJhbWV0ZXIpIHtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy50eXBlID0gdHlwZTsgLy8gXCJwaG90b1wiLCBcInZpZGVvXCIsIFwibGlua1wiLCBcInJpY2hcIiwgbnVsbFxuICAgICAgICB0aGlzLnVybHNjaGVtZXMgPSBnZXRVcmxTY2hlbWVzKHVybHNjaGVtZXNhcnJheSk7XG4gICAgICAgIHRoaXMuYXBpZW5kcG9pbnQgPSBhcGllbmRwb2ludDtcbiAgICAgICAgdGhpcy5jYWxsYmFja3BhcmFtZXRlciA9IGNhbGxiYWNrcGFyYW1ldGVyO1xuICAgICAgICB0aGlzLm1heFdpZHRoID0gNTAwO1xuICAgICAgICB0aGlzLm1heEhlaWdodCA9IDQwMDtcbiAgICAgICAgdmFyIGksIHByb3BlcnR5LCByZWdFeHA7XG5cbiAgICAgICAgdGhpcy5tYXRjaGVzID0gZnVuY3Rpb24gKGV4dGVybmFsVXJsKSB7XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgdGhpcy51cmxzY2hlbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcmVnRXhwID0gbmV3IFJlZ0V4cCh0aGlzLnVybHNjaGVtZXNbaV0sIFwiaVwiKTtcbiAgICAgICAgICAgICAgICBpZiAoZXh0ZXJuYWxVcmwubWF0Y2gocmVnRXhwKSAhPT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5mcm9tSlNPTiA9IGZ1bmN0aW9uIChqc29uKSB7XG4gICAgICAgICAgICBmb3IgKHByb3BlcnR5IGluIGpzb24pIHtcbiAgICAgICAgICAgICAgICBpZiAocHJvcGVydHkgIT0gXCJ1cmxzY2hlbWVzXCIpXG4gICAgICAgICAgICAgICAgICAgIHRoaXNbcHJvcGVydHldID0ganNvbltwcm9wZXJ0eV07XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICB0aGlzW3Byb3BlcnR5XSA9IGdldFVybFNjaGVtZXMoanNvbltwcm9wZXJ0eV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH07XG5cbiAgICAgICAgZnVuY3Rpb24gZ2V0VXJsU2NoZW1lcyh1cmxzKSB7XG4gICAgICAgICAgICBpZiAoaXNOdWxsT3JFbXB0eSh1cmxzKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gW1wiLlwiXTtcbiAgICAgICAgICAgIGlmICgkLmlzQXJyYXkodXJscykpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHVybHM7XG4gICAgICAgICAgICByZXR1cm4gdXJscy5zcGxpdChcIjtcIik7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyogTmF0aXZlICYgY29tbW9uIHByb3ZpZGVycyAqL1xuICAgICQuZm4ub2VtYmVkLnByb3ZpZGVycyA9IFtcbiAgICAgICAgbmV3ICQuZm4ub2VtYmVkLk9FbWJlZFByb3ZpZGVyKFwieW91dHViZVwiLCBcInZpZGVvXCIsIFtcInlvdXR1YmVcXFxcLmNvbS93YXRjaC4rdj1bXFxcXHctXSsmP1wiXSksIC8vIFwiaHR0cDovL3d3dy55b3V0dWJlLmNvbS9vZW1iZWRcIiAgICAobm8ganNvbnApXG4gICAgICAgIG5ldyAkLmZuLm9lbWJlZC5PRW1iZWRQcm92aWRlcihcImZsaWNrclwiLCBcInBob3RvXCIsIFtcImZsaWNrclxcXFwuY29tL3Bob3Rvcy9bLS5cXFxcd0BdKy9cXFxcZCsvP1wiXSwgXCJodHRwOi8vZmxpY2tyLmNvbS9zZXJ2aWNlcy9vZW1iZWRcIiwgXCJqc29uY2FsbGJhY2tcIiksXG4gICAgICAgIG5ldyAkLmZuLm9lbWJlZC5PRW1iZWRQcm92aWRlcihcInZpZGRsZXJcIiwgXCJ2aWRlb1wiLCBbXCJ2aWRkbGVyLmNvbVwiXSksIC8vIFwiaHR0cDovL2xhYi52aWRkbGVyLmNvbS9zZXJ2aWNlcy9vZW1iZWQvXCIgKG5vIGpzb25wKVxuICAgICAgICBuZXcgJC5mbi5vZW1iZWQuT0VtYmVkUHJvdmlkZXIoXCJibGlwXCIsIFwidmlkZW9cIiwgW1wiYmxpcFxcXFwudHYvLitcIl0sIFwiaHR0cDovL2JsaXAudHYvb2VtYmVkL1wiKSxcbiAgICAgICAgbmV3ICQuZm4ub2VtYmVkLk9FbWJlZFByb3ZpZGVyKFwiaHVsdVwiLCBcInZpZGVvXCIsIFtcImh1bHVcXFxcLmNvbS93YXRjaC8uKlwiXSwgXCJodHRwOi8vd3d3Lmh1bHUuY29tL2FwaS9vZW1iZWQuanNvblwiKSxcbiAgICAgICAgbmV3ICQuZm4ub2VtYmVkLk9FbWJlZFByb3ZpZGVyKFwidmltZW9cIiwgXCJ2aWRlb1wiLCBbXCJodHRwOlxcL1xcL3d3d1xcLnZpbWVvXFwuY29tXFwvZ3JvdXBzXFwvLipcXC92aWRlb3NcXC8uKlwiLCBcImh0dHA6XFwvXFwvd3d3XFwudmltZW9cXC5jb21cXC8uKlwiLCBcImh0dHA6XFwvXFwvdmltZW9cXC5jb21cXC9ncm91cHNcXC8uKlxcL3ZpZGVvc1xcLy4qXCIsIFwiaHR0cDpcXC9cXC92aW1lb1xcLmNvbVxcLy4qXCJdLCBcImh0dHA6Ly92aW1lby5jb20vYXBpL29lbWJlZC5qc29uXCIpLFxuICAgICAgICBuZXcgJC5mbi5vZW1iZWQuT0VtYmVkUHJvdmlkZXIoXCJkYWlseW1vdGlvblwiLCBcInZpZGVvXCIsIFtcImRhaWx5bW90aW9uXFxcXC5jb20vLitcIl0pLCAvLyBcImh0dHA6Ly93d3cuZGFpbHltb3Rpb24uY29tL2FwaS9vZW1iZWQvXCIgKGNhbGxiYWNrIHBhcmFtZXRlciBkb2VzIG5vdCByZXR1cm4ganNvbnApXG4gICAgICAgIG5ldyAkLmZuLm9lbWJlZC5PRW1iZWRQcm92aWRlcihcInNjcmliZFwiLCBcInJpY2hcIiwgW1wic2NyaWJkXFxcXC5jb20vLitcIl0pLCAvLyBcIiwgXCJodHRwOi8vd3d3LnNjcmliZC5jb20vc2VydmljZXMvb2VtYmVkXCJcIiAobm8ganNvbnApXG4gICAgICAgIG5ldyAkLmZuLm9lbWJlZC5PRW1iZWRQcm92aWRlcihcInNsaWRlc2hhcmVcIiwgXCJyaWNoXCIsIFtcInNsaWRlc2hhcmVcXC5uZXRcIl0sIFwiaHR0cDovL3d3dy5zbGlkZXNoYXJlLm5ldC9hcGkvb2VtYmVkLzFcIiksXG4gICAgICAgIG5ldyAkLmZuLm9lbWJlZC5PRW1iZWRQcm92aWRlcihcInBob3RvYnVja2V0XCIsIFwicGhvdG9cIiwgW1wicGhvdG9idWNrZXRcXFxcLmNvbS8oYWxidW1zfGdyb3VwcykvLipcIl0sIFwiaHR0cDovL3Bob3RvYnVja2V0LmNvbS9vZW1iZWQvXCIpLFxuICAgICAgICBuZXcgJC5mbi5vZW1iZWQuT0VtYmVkUHJvdmlkZXIoXCJ2emFhclwiLCBcInZpZGVvXCIsIFtcInZ6YWFyLmNvbVwiXSwgXCJodHRwOi8vdnphYXIuY29tL2FwaS9vZW1iZWQuanNvblwiKVxuXG4gICAgICAgIC8vIG5ldyAkLmZuLm9lbWJlZC5PRW1iZWRQcm92aWRlcihcInZpZHMubXlzcGFjZS5jb21cIiwgXCJ2aWRlb1wiLCBbXCJ2aWRzXFwubXlzcGFjZVxcLmNvbVwiXSksIC8vIFwiaHR0cDovL3ZpZHMubXlzcGFjZS5jb20vaW5kZXguY2ZtP2Z1c2VhY3Rpb249b2VtYmVkXCIgKG5vdCB3b3JraW5nKVxuICAgICAgICAvLyBuZXcgJC5mbi5vZW1iZWQuT0VtYmVkUHJvdmlkZXIoXCJzY3JlZW5yXCIsIFwicmljaFwiLCBbXCJzY3JlZW5yXFwuY29tXCJdLCBcImh0dHA6Ly9zY3JlZW5yLmNvbS9hcGkvb2VtYmVkLmpzb25cIikgKGVycm9yKVxuICAgICAgICAvLyBuZXcgJC5mbi5vZW1iZWQuT0VtYmVkUHJvdmlkZXIoXCJxaWtcIiwgXCJ2aWRlb1wiLCBbXCJxaWtcXFxcLmNvbS9cXFxcdytcIl0sIFwiaHR0cDovL3Fpay5jb20vYXBpL29lbWJlZC5qc29uXCIpLFxuICAgICAgICAvLyBuZXcgJC5mbi5vZW1iZWQuT0VtYmVkUHJvdmlkZXIoXCJyZXZpc2lvbjNcIiwgXCJ2aWRlb1wiLCBbXCJyZXZpc2lvbjNcXC5jb21cIl0sIFwiaHR0cDovL3JldmlzaW9uMy5jb20vYXBpL29lbWJlZC9cIilcbiAgICBdO1xufSkoalF1ZXJ5KTtcbiIsIi8qIVxuICogaW1hZ2VzTG9hZGVkIFBBQ0tBR0VEIHYzLjEuOFxuICogSmF2YVNjcmlwdCBpcyBhbGwgbGlrZSBcIllvdSBpbWFnZXMgYXJlIGRvbmUgeWV0IG9yIHdoYXQ/XCJcbiAqIE1JVCBMaWNlbnNlXG4gKi9cblxuXG4vKiFcbiAqIEV2ZW50RW1pdHRlciB2NC4yLjYgLSBnaXQuaW8vZWVcbiAqIE9saXZlciBDYWxkd2VsbFxuICogTUlUIGxpY2Vuc2VcbiAqIEBwcmVzZXJ2ZVxuICovXG5cbihmdW5jdGlvbiAoKSB7XG5cdFxuXG5cdC8qKlxuXHQgKiBDbGFzcyBmb3IgbWFuYWdpbmcgZXZlbnRzLlxuXHQgKiBDYW4gYmUgZXh0ZW5kZWQgdG8gcHJvdmlkZSBldmVudCBmdW5jdGlvbmFsaXR5IGluIG90aGVyIGNsYXNzZXMuXG5cdCAqXG5cdCAqIEBjbGFzcyBFdmVudEVtaXR0ZXIgTWFuYWdlcyBldmVudCByZWdpc3RlcmluZyBhbmQgZW1pdHRpbmcuXG5cdCAqL1xuXHRmdW5jdGlvbiBFdmVudEVtaXR0ZXIoKSB7fVxuXG5cdC8vIFNob3J0Y3V0cyB0byBpbXByb3ZlIHNwZWVkIGFuZCBzaXplXG5cdHZhciBwcm90byA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGU7XG5cdHZhciBleHBvcnRzID0gdGhpcztcblx0dmFyIG9yaWdpbmFsR2xvYmFsVmFsdWUgPSBleHBvcnRzLkV2ZW50RW1pdHRlcjtcblxuXHQvKipcblx0ICogRmluZHMgdGhlIGluZGV4IG9mIHRoZSBsaXN0ZW5lciBmb3IgdGhlIGV2ZW50IGluIGl0J3Mgc3RvcmFnZSBhcnJheS5cblx0ICpcblx0ICogQHBhcmFtIHtGdW5jdGlvbltdfSBsaXN0ZW5lcnMgQXJyYXkgb2YgbGlzdGVuZXJzIHRvIHNlYXJjaCB0aHJvdWdoLlxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSBsaXN0ZW5lciBNZXRob2QgdG8gbG9vayBmb3IuXG5cdCAqIEByZXR1cm4ge051bWJlcn0gSW5kZXggb2YgdGhlIHNwZWNpZmllZCBsaXN0ZW5lciwgLTEgaWYgbm90IGZvdW5kXG5cdCAqIEBhcGkgcHJpdmF0ZVxuXHQgKi9cblx0ZnVuY3Rpb24gaW5kZXhPZkxpc3RlbmVyKGxpc3RlbmVycywgbGlzdGVuZXIpIHtcblx0XHR2YXIgaSA9IGxpc3RlbmVycy5sZW5ndGg7XG5cdFx0d2hpbGUgKGktLSkge1xuXHRcdFx0aWYgKGxpc3RlbmVyc1tpXS5saXN0ZW5lciA9PT0gbGlzdGVuZXIpIHtcblx0XHRcdFx0cmV0dXJuIGk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIC0xO1xuXHR9XG5cblx0LyoqXG5cdCAqIEFsaWFzIGEgbWV0aG9kIHdoaWxlIGtlZXBpbmcgdGhlIGNvbnRleHQgY29ycmVjdCwgdG8gYWxsb3cgZm9yIG92ZXJ3cml0aW5nIG9mIHRhcmdldCBtZXRob2QuXG5cdCAqXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIFRoZSBuYW1lIG9mIHRoZSB0YXJnZXQgbWV0aG9kLlxuXHQgKiBAcmV0dXJuIHtGdW5jdGlvbn0gVGhlIGFsaWFzZWQgbWV0aG9kXG5cdCAqIEBhcGkgcHJpdmF0ZVxuXHQgKi9cblx0ZnVuY3Rpb24gYWxpYXMobmFtZSkge1xuXHRcdHJldHVybiBmdW5jdGlvbiBhbGlhc0Nsb3N1cmUoKSB7XG5cdFx0XHRyZXR1cm4gdGhpc1tuYW1lXS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHRcdH07XG5cdH1cblxuXHQvKipcblx0ICogUmV0dXJucyB0aGUgbGlzdGVuZXIgYXJyYXkgZm9yIHRoZSBzcGVjaWZpZWQgZXZlbnQuXG5cdCAqIFdpbGwgaW5pdGlhbGlzZSB0aGUgZXZlbnQgb2JqZWN0IGFuZCBsaXN0ZW5lciBhcnJheXMgaWYgcmVxdWlyZWQuXG5cdCAqIFdpbGwgcmV0dXJuIGFuIG9iamVjdCBpZiB5b3UgdXNlIGEgcmVnZXggc2VhcmNoLiBUaGUgb2JqZWN0IGNvbnRhaW5zIGtleXMgZm9yIGVhY2ggbWF0Y2hlZCBldmVudC4gU28gL2JhW3J6XS8gbWlnaHQgcmV0dXJuIGFuIG9iamVjdCBjb250YWluaW5nIGJhciBhbmQgYmF6LiBCdXQgb25seSBpZiB5b3UgaGF2ZSBlaXRoZXIgZGVmaW5lZCB0aGVtIHdpdGggZGVmaW5lRXZlbnQgb3IgYWRkZWQgc29tZSBsaXN0ZW5lcnMgdG8gdGhlbS5cblx0ICogRWFjaCBwcm9wZXJ0eSBpbiB0aGUgb2JqZWN0IHJlc3BvbnNlIGlzIGFuIGFycmF5IG9mIGxpc3RlbmVyIGZ1bmN0aW9ucy5cblx0ICpcblx0ICogQHBhcmFtIHtTdHJpbmd8UmVnRXhwfSBldnQgTmFtZSBvZiB0aGUgZXZlbnQgdG8gcmV0dXJuIHRoZSBsaXN0ZW5lcnMgZnJvbS5cblx0ICogQHJldHVybiB7RnVuY3Rpb25bXXxPYmplY3R9IEFsbCBsaXN0ZW5lciBmdW5jdGlvbnMgZm9yIHRoZSBldmVudC5cblx0ICovXG5cdHByb3RvLmdldExpc3RlbmVycyA9IGZ1bmN0aW9uIGdldExpc3RlbmVycyhldnQpIHtcblx0XHR2YXIgZXZlbnRzID0gdGhpcy5fZ2V0RXZlbnRzKCk7XG5cdFx0dmFyIHJlc3BvbnNlO1xuXHRcdHZhciBrZXk7XG5cblx0XHQvLyBSZXR1cm4gYSBjb25jYXRlbmF0ZWQgYXJyYXkgb2YgYWxsIG1hdGNoaW5nIGV2ZW50cyBpZlxuXHRcdC8vIHRoZSBzZWxlY3RvciBpcyBhIHJlZ3VsYXIgZXhwcmVzc2lvbi5cblx0XHRpZiAodHlwZW9mIGV2dCA9PT0gJ29iamVjdCcpIHtcblx0XHRcdHJlc3BvbnNlID0ge307XG5cdFx0XHRmb3IgKGtleSBpbiBldmVudHMpIHtcblx0XHRcdFx0aWYgKGV2ZW50cy5oYXNPd25Qcm9wZXJ0eShrZXkpICYmIGV2dC50ZXN0KGtleSkpIHtcblx0XHRcdFx0XHRyZXNwb25zZVtrZXldID0gZXZlbnRzW2tleV07XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFx0ZWxzZSB7XG5cdFx0XHRyZXNwb25zZSA9IGV2ZW50c1tldnRdIHx8IChldmVudHNbZXZ0XSA9IFtdKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gcmVzcG9uc2U7XG5cdH07XG5cblx0LyoqXG5cdCAqIFRha2VzIGEgbGlzdCBvZiBsaXN0ZW5lciBvYmplY3RzIGFuZCBmbGF0dGVucyBpdCBpbnRvIGEgbGlzdCBvZiBsaXN0ZW5lciBmdW5jdGlvbnMuXG5cdCAqXG5cdCAqIEBwYXJhbSB7T2JqZWN0W119IGxpc3RlbmVycyBSYXcgbGlzdGVuZXIgb2JqZWN0cy5cblx0ICogQHJldHVybiB7RnVuY3Rpb25bXX0gSnVzdCB0aGUgbGlzdGVuZXIgZnVuY3Rpb25zLlxuXHQgKi9cblx0cHJvdG8uZmxhdHRlbkxpc3RlbmVycyA9IGZ1bmN0aW9uIGZsYXR0ZW5MaXN0ZW5lcnMobGlzdGVuZXJzKSB7XG5cdFx0dmFyIGZsYXRMaXN0ZW5lcnMgPSBbXTtcblx0XHR2YXIgaTtcblxuXHRcdGZvciAoaSA9IDA7IGkgPCBsaXN0ZW5lcnMubGVuZ3RoOyBpICs9IDEpIHtcblx0XHRcdGZsYXRMaXN0ZW5lcnMucHVzaChsaXN0ZW5lcnNbaV0ubGlzdGVuZXIpO1xuXHRcdH1cblxuXHRcdHJldHVybiBmbGF0TGlzdGVuZXJzO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBGZXRjaGVzIHRoZSByZXF1ZXN0ZWQgbGlzdGVuZXJzIHZpYSBnZXRMaXN0ZW5lcnMgYnV0IHdpbGwgYWx3YXlzIHJldHVybiB0aGUgcmVzdWx0cyBpbnNpZGUgYW4gb2JqZWN0LiBUaGlzIGlzIG1haW5seSBmb3IgaW50ZXJuYWwgdXNlIGJ1dCBvdGhlcnMgbWF5IGZpbmQgaXQgdXNlZnVsLlxuXHQgKlxuXHQgKiBAcGFyYW0ge1N0cmluZ3xSZWdFeHB9IGV2dCBOYW1lIG9mIHRoZSBldmVudCB0byByZXR1cm4gdGhlIGxpc3RlbmVycyBmcm9tLlxuXHQgKiBAcmV0dXJuIHtPYmplY3R9IEFsbCBsaXN0ZW5lciBmdW5jdGlvbnMgZm9yIGFuIGV2ZW50IGluIGFuIG9iamVjdC5cblx0ICovXG5cdHByb3RvLmdldExpc3RlbmVyc0FzT2JqZWN0ID0gZnVuY3Rpb24gZ2V0TGlzdGVuZXJzQXNPYmplY3QoZXZ0KSB7XG5cdFx0dmFyIGxpc3RlbmVycyA9IHRoaXMuZ2V0TGlzdGVuZXJzKGV2dCk7XG5cdFx0dmFyIHJlc3BvbnNlO1xuXG5cdFx0aWYgKGxpc3RlbmVycyBpbnN0YW5jZW9mIEFycmF5KSB7XG5cdFx0XHRyZXNwb25zZSA9IHt9O1xuXHRcdFx0cmVzcG9uc2VbZXZ0XSA9IGxpc3RlbmVycztcblx0XHR9XG5cblx0XHRyZXR1cm4gcmVzcG9uc2UgfHwgbGlzdGVuZXJzO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBBZGRzIGEgbGlzdGVuZXIgZnVuY3Rpb24gdG8gdGhlIHNwZWNpZmllZCBldmVudC5cblx0ICogVGhlIGxpc3RlbmVyIHdpbGwgbm90IGJlIGFkZGVkIGlmIGl0IGlzIGEgZHVwbGljYXRlLlxuXHQgKiBJZiB0aGUgbGlzdGVuZXIgcmV0dXJucyB0cnVlIHRoZW4gaXQgd2lsbCBiZSByZW1vdmVkIGFmdGVyIGl0IGlzIGNhbGxlZC5cblx0ICogSWYgeW91IHBhc3MgYSByZWd1bGFyIGV4cHJlc3Npb24gYXMgdGhlIGV2ZW50IG5hbWUgdGhlbiB0aGUgbGlzdGVuZXIgd2lsbCBiZSBhZGRlZCB0byBhbGwgZXZlbnRzIHRoYXQgbWF0Y2ggaXQuXG5cdCAqXG5cdCAqIEBwYXJhbSB7U3RyaW5nfFJlZ0V4cH0gZXZ0IE5hbWUgb2YgdGhlIGV2ZW50IHRvIGF0dGFjaCB0aGUgbGlzdGVuZXIgdG8uXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IGxpc3RlbmVyIE1ldGhvZCB0byBiZSBjYWxsZWQgd2hlbiB0aGUgZXZlbnQgaXMgZW1pdHRlZC4gSWYgdGhlIGZ1bmN0aW9uIHJldHVybnMgdHJ1ZSB0aGVuIGl0IHdpbGwgYmUgcmVtb3ZlZCBhZnRlciBjYWxsaW5nLlxuXHQgKiBAcmV0dXJuIHtPYmplY3R9IEN1cnJlbnQgaW5zdGFuY2Ugb2YgRXZlbnRFbWl0dGVyIGZvciBjaGFpbmluZy5cblx0ICovXG5cdHByb3RvLmFkZExpc3RlbmVyID0gZnVuY3Rpb24gYWRkTGlzdGVuZXIoZXZ0LCBsaXN0ZW5lcikge1xuXHRcdHZhciBsaXN0ZW5lcnMgPSB0aGlzLmdldExpc3RlbmVyc0FzT2JqZWN0KGV2dCk7XG5cdFx0dmFyIGxpc3RlbmVySXNXcmFwcGVkID0gdHlwZW9mIGxpc3RlbmVyID09PSAnb2JqZWN0Jztcblx0XHR2YXIga2V5O1xuXG5cdFx0Zm9yIChrZXkgaW4gbGlzdGVuZXJzKSB7XG5cdFx0XHRpZiAobGlzdGVuZXJzLmhhc093blByb3BlcnR5KGtleSkgJiYgaW5kZXhPZkxpc3RlbmVyKGxpc3RlbmVyc1trZXldLCBsaXN0ZW5lcikgPT09IC0xKSB7XG5cdFx0XHRcdGxpc3RlbmVyc1trZXldLnB1c2gobGlzdGVuZXJJc1dyYXBwZWQgPyBsaXN0ZW5lciA6IHtcblx0XHRcdFx0XHRsaXN0ZW5lcjogbGlzdGVuZXIsXG5cdFx0XHRcdFx0b25jZTogZmFsc2Vcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXM7XG5cdH07XG5cblx0LyoqXG5cdCAqIEFsaWFzIG9mIGFkZExpc3RlbmVyXG5cdCAqL1xuXHRwcm90by5vbiA9IGFsaWFzKCdhZGRMaXN0ZW5lcicpO1xuXG5cdC8qKlxuXHQgKiBTZW1pLWFsaWFzIG9mIGFkZExpc3RlbmVyLiBJdCB3aWxsIGFkZCBhIGxpc3RlbmVyIHRoYXQgd2lsbCBiZVxuXHQgKiBhdXRvbWF0aWNhbGx5IHJlbW92ZWQgYWZ0ZXIgaXQncyBmaXJzdCBleGVjdXRpb24uXG5cdCAqXG5cdCAqIEBwYXJhbSB7U3RyaW5nfFJlZ0V4cH0gZXZ0IE5hbWUgb2YgdGhlIGV2ZW50IHRvIGF0dGFjaCB0aGUgbGlzdGVuZXIgdG8uXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IGxpc3RlbmVyIE1ldGhvZCB0byBiZSBjYWxsZWQgd2hlbiB0aGUgZXZlbnQgaXMgZW1pdHRlZC4gSWYgdGhlIGZ1bmN0aW9uIHJldHVybnMgdHJ1ZSB0aGVuIGl0IHdpbGwgYmUgcmVtb3ZlZCBhZnRlciBjYWxsaW5nLlxuXHQgKiBAcmV0dXJuIHtPYmplY3R9IEN1cnJlbnQgaW5zdGFuY2Ugb2YgRXZlbnRFbWl0dGVyIGZvciBjaGFpbmluZy5cblx0ICovXG5cdHByb3RvLmFkZE9uY2VMaXN0ZW5lciA9IGZ1bmN0aW9uIGFkZE9uY2VMaXN0ZW5lcihldnQsIGxpc3RlbmVyKSB7XG5cdFx0cmV0dXJuIHRoaXMuYWRkTGlzdGVuZXIoZXZ0LCB7XG5cdFx0XHRsaXN0ZW5lcjogbGlzdGVuZXIsXG5cdFx0XHRvbmNlOiB0cnVlXG5cdFx0fSk7XG5cdH07XG5cblx0LyoqXG5cdCAqIEFsaWFzIG9mIGFkZE9uY2VMaXN0ZW5lci5cblx0ICovXG5cdHByb3RvLm9uY2UgPSBhbGlhcygnYWRkT25jZUxpc3RlbmVyJyk7XG5cblx0LyoqXG5cdCAqIERlZmluZXMgYW4gZXZlbnQgbmFtZS4gVGhpcyBpcyByZXF1aXJlZCBpZiB5b3Ugd2FudCB0byB1c2UgYSByZWdleCB0byBhZGQgYSBsaXN0ZW5lciB0byBtdWx0aXBsZSBldmVudHMgYXQgb25jZS4gSWYgeW91IGRvbid0IGRvIHRoaXMgdGhlbiBob3cgZG8geW91IGV4cGVjdCBpdCB0byBrbm93IHdoYXQgZXZlbnQgdG8gYWRkIHRvPyBTaG91bGQgaXQganVzdCBhZGQgdG8gZXZlcnkgcG9zc2libGUgbWF0Y2ggZm9yIGEgcmVnZXg/IE5vLiBUaGF0IGlzIHNjYXJ5IGFuZCBiYWQuXG5cdCAqIFlvdSBuZWVkIHRvIHRlbGwgaXQgd2hhdCBldmVudCBuYW1lcyBzaG91bGQgYmUgbWF0Y2hlZCBieSBhIHJlZ2V4LlxuXHQgKlxuXHQgKiBAcGFyYW0ge1N0cmluZ30gZXZ0IE5hbWUgb2YgdGhlIGV2ZW50IHRvIGNyZWF0ZS5cblx0ICogQHJldHVybiB7T2JqZWN0fSBDdXJyZW50IGluc3RhbmNlIG9mIEV2ZW50RW1pdHRlciBmb3IgY2hhaW5pbmcuXG5cdCAqL1xuXHRwcm90by5kZWZpbmVFdmVudCA9IGZ1bmN0aW9uIGRlZmluZUV2ZW50KGV2dCkge1xuXHRcdHRoaXMuZ2V0TGlzdGVuZXJzKGV2dCk7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH07XG5cblx0LyoqXG5cdCAqIFVzZXMgZGVmaW5lRXZlbnQgdG8gZGVmaW5lIG11bHRpcGxlIGV2ZW50cy5cblx0ICpcblx0ICogQHBhcmFtIHtTdHJpbmdbXX0gZXZ0cyBBbiBhcnJheSBvZiBldmVudCBuYW1lcyB0byBkZWZpbmUuXG5cdCAqIEByZXR1cm4ge09iamVjdH0gQ3VycmVudCBpbnN0YW5jZSBvZiBFdmVudEVtaXR0ZXIgZm9yIGNoYWluaW5nLlxuXHQgKi9cblx0cHJvdG8uZGVmaW5lRXZlbnRzID0gZnVuY3Rpb24gZGVmaW5lRXZlbnRzKGV2dHMpIHtcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGV2dHMubGVuZ3RoOyBpICs9IDEpIHtcblx0XHRcdHRoaXMuZGVmaW5lRXZlbnQoZXZ0c1tpXSk7XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBSZW1vdmVzIGEgbGlzdGVuZXIgZnVuY3Rpb24gZnJvbSB0aGUgc3BlY2lmaWVkIGV2ZW50LlxuXHQgKiBXaGVuIHBhc3NlZCBhIHJlZ3VsYXIgZXhwcmVzc2lvbiBhcyB0aGUgZXZlbnQgbmFtZSwgaXQgd2lsbCByZW1vdmUgdGhlIGxpc3RlbmVyIGZyb20gYWxsIGV2ZW50cyB0aGF0IG1hdGNoIGl0LlxuXHQgKlxuXHQgKiBAcGFyYW0ge1N0cmluZ3xSZWdFeHB9IGV2dCBOYW1lIG9mIHRoZSBldmVudCB0byByZW1vdmUgdGhlIGxpc3RlbmVyIGZyb20uXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IGxpc3RlbmVyIE1ldGhvZCB0byByZW1vdmUgZnJvbSB0aGUgZXZlbnQuXG5cdCAqIEByZXR1cm4ge09iamVjdH0gQ3VycmVudCBpbnN0YW5jZSBvZiBFdmVudEVtaXR0ZXIgZm9yIGNoYWluaW5nLlxuXHQgKi9cblx0cHJvdG8ucmVtb3ZlTGlzdGVuZXIgPSBmdW5jdGlvbiByZW1vdmVMaXN0ZW5lcihldnQsIGxpc3RlbmVyKSB7XG5cdFx0dmFyIGxpc3RlbmVycyA9IHRoaXMuZ2V0TGlzdGVuZXJzQXNPYmplY3QoZXZ0KTtcblx0XHR2YXIgaW5kZXg7XG5cdFx0dmFyIGtleTtcblxuXHRcdGZvciAoa2V5IGluIGxpc3RlbmVycykge1xuXHRcdFx0aWYgKGxpc3RlbmVycy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG5cdFx0XHRcdGluZGV4ID0gaW5kZXhPZkxpc3RlbmVyKGxpc3RlbmVyc1trZXldLCBsaXN0ZW5lcik7XG5cblx0XHRcdFx0aWYgKGluZGV4ICE9PSAtMSkge1xuXHRcdFx0XHRcdGxpc3RlbmVyc1trZXldLnNwbGljZShpbmRleCwgMSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcztcblx0fTtcblxuXHQvKipcblx0ICogQWxpYXMgb2YgcmVtb3ZlTGlzdGVuZXJcblx0ICovXG5cdHByb3RvLm9mZiA9IGFsaWFzKCdyZW1vdmVMaXN0ZW5lcicpO1xuXG5cdC8qKlxuXHQgKiBBZGRzIGxpc3RlbmVycyBpbiBidWxrIHVzaW5nIHRoZSBtYW5pcHVsYXRlTGlzdGVuZXJzIG1ldGhvZC5cblx0ICogSWYgeW91IHBhc3MgYW4gb2JqZWN0IGFzIHRoZSBzZWNvbmQgYXJndW1lbnQgeW91IGNhbiBhZGQgdG8gbXVsdGlwbGUgZXZlbnRzIGF0IG9uY2UuIFRoZSBvYmplY3Qgc2hvdWxkIGNvbnRhaW4ga2V5IHZhbHVlIHBhaXJzIG9mIGV2ZW50cyBhbmQgbGlzdGVuZXJzIG9yIGxpc3RlbmVyIGFycmF5cy4gWW91IGNhbiBhbHNvIHBhc3MgaXQgYW4gZXZlbnQgbmFtZSBhbmQgYW4gYXJyYXkgb2YgbGlzdGVuZXJzIHRvIGJlIGFkZGVkLlxuXHQgKiBZb3UgY2FuIGFsc28gcGFzcyBpdCBhIHJlZ3VsYXIgZXhwcmVzc2lvbiB0byBhZGQgdGhlIGFycmF5IG9mIGxpc3RlbmVycyB0byBhbGwgZXZlbnRzIHRoYXQgbWF0Y2ggaXQuXG5cdCAqIFllYWgsIHRoaXMgZnVuY3Rpb24gZG9lcyBxdWl0ZSBhIGJpdC4gVGhhdCdzIHByb2JhYmx5IGEgYmFkIHRoaW5nLlxuXHQgKlxuXHQgKiBAcGFyYW0ge1N0cmluZ3xPYmplY3R8UmVnRXhwfSBldnQgQW4gZXZlbnQgbmFtZSBpZiB5b3Ugd2lsbCBwYXNzIGFuIGFycmF5IG9mIGxpc3RlbmVycyBuZXh0LiBBbiBvYmplY3QgaWYgeW91IHdpc2ggdG8gYWRkIHRvIG11bHRpcGxlIGV2ZW50cyBhdCBvbmNlLlxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9uW119IFtsaXN0ZW5lcnNdIEFuIG9wdGlvbmFsIGFycmF5IG9mIGxpc3RlbmVyIGZ1bmN0aW9ucyB0byBhZGQuXG5cdCAqIEByZXR1cm4ge09iamVjdH0gQ3VycmVudCBpbnN0YW5jZSBvZiBFdmVudEVtaXR0ZXIgZm9yIGNoYWluaW5nLlxuXHQgKi9cblx0cHJvdG8uYWRkTGlzdGVuZXJzID0gZnVuY3Rpb24gYWRkTGlzdGVuZXJzKGV2dCwgbGlzdGVuZXJzKSB7XG5cdFx0Ly8gUGFzcyB0aHJvdWdoIHRvIG1hbmlwdWxhdGVMaXN0ZW5lcnNcblx0XHRyZXR1cm4gdGhpcy5tYW5pcHVsYXRlTGlzdGVuZXJzKGZhbHNlLCBldnQsIGxpc3RlbmVycyk7XG5cdH07XG5cblx0LyoqXG5cdCAqIFJlbW92ZXMgbGlzdGVuZXJzIGluIGJ1bGsgdXNpbmcgdGhlIG1hbmlwdWxhdGVMaXN0ZW5lcnMgbWV0aG9kLlxuXHQgKiBJZiB5b3UgcGFzcyBhbiBvYmplY3QgYXMgdGhlIHNlY29uZCBhcmd1bWVudCB5b3UgY2FuIHJlbW92ZSBmcm9tIG11bHRpcGxlIGV2ZW50cyBhdCBvbmNlLiBUaGUgb2JqZWN0IHNob3VsZCBjb250YWluIGtleSB2YWx1ZSBwYWlycyBvZiBldmVudHMgYW5kIGxpc3RlbmVycyBvciBsaXN0ZW5lciBhcnJheXMuXG5cdCAqIFlvdSBjYW4gYWxzbyBwYXNzIGl0IGFuIGV2ZW50IG5hbWUgYW5kIGFuIGFycmF5IG9mIGxpc3RlbmVycyB0byBiZSByZW1vdmVkLlxuXHQgKiBZb3UgY2FuIGFsc28gcGFzcyBpdCBhIHJlZ3VsYXIgZXhwcmVzc2lvbiB0byByZW1vdmUgdGhlIGxpc3RlbmVycyBmcm9tIGFsbCBldmVudHMgdGhhdCBtYXRjaCBpdC5cblx0ICpcblx0ICogQHBhcmFtIHtTdHJpbmd8T2JqZWN0fFJlZ0V4cH0gZXZ0IEFuIGV2ZW50IG5hbWUgaWYgeW91IHdpbGwgcGFzcyBhbiBhcnJheSBvZiBsaXN0ZW5lcnMgbmV4dC4gQW4gb2JqZWN0IGlmIHlvdSB3aXNoIHRvIHJlbW92ZSBmcm9tIG11bHRpcGxlIGV2ZW50cyBhdCBvbmNlLlxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9uW119IFtsaXN0ZW5lcnNdIEFuIG9wdGlvbmFsIGFycmF5IG9mIGxpc3RlbmVyIGZ1bmN0aW9ucyB0byByZW1vdmUuXG5cdCAqIEByZXR1cm4ge09iamVjdH0gQ3VycmVudCBpbnN0YW5jZSBvZiBFdmVudEVtaXR0ZXIgZm9yIGNoYWluaW5nLlxuXHQgKi9cblx0cHJvdG8ucmVtb3ZlTGlzdGVuZXJzID0gZnVuY3Rpb24gcmVtb3ZlTGlzdGVuZXJzKGV2dCwgbGlzdGVuZXJzKSB7XG5cdFx0Ly8gUGFzcyB0aHJvdWdoIHRvIG1hbmlwdWxhdGVMaXN0ZW5lcnNcblx0XHRyZXR1cm4gdGhpcy5tYW5pcHVsYXRlTGlzdGVuZXJzKHRydWUsIGV2dCwgbGlzdGVuZXJzKTtcblx0fTtcblxuXHQvKipcblx0ICogRWRpdHMgbGlzdGVuZXJzIGluIGJ1bGsuIFRoZSBhZGRMaXN0ZW5lcnMgYW5kIHJlbW92ZUxpc3RlbmVycyBtZXRob2RzIGJvdGggdXNlIHRoaXMgdG8gZG8gdGhlaXIgam9iLiBZb3Ugc2hvdWxkIHJlYWxseSB1c2UgdGhvc2UgaW5zdGVhZCwgdGhpcyBpcyBhIGxpdHRsZSBsb3dlciBsZXZlbC5cblx0ICogVGhlIGZpcnN0IGFyZ3VtZW50IHdpbGwgZGV0ZXJtaW5lIGlmIHRoZSBsaXN0ZW5lcnMgYXJlIHJlbW92ZWQgKHRydWUpIG9yIGFkZGVkIChmYWxzZSkuXG5cdCAqIElmIHlvdSBwYXNzIGFuIG9iamVjdCBhcyB0aGUgc2Vjb25kIGFyZ3VtZW50IHlvdSBjYW4gYWRkL3JlbW92ZSBmcm9tIG11bHRpcGxlIGV2ZW50cyBhdCBvbmNlLiBUaGUgb2JqZWN0IHNob3VsZCBjb250YWluIGtleSB2YWx1ZSBwYWlycyBvZiBldmVudHMgYW5kIGxpc3RlbmVycyBvciBsaXN0ZW5lciBhcnJheXMuXG5cdCAqIFlvdSBjYW4gYWxzbyBwYXNzIGl0IGFuIGV2ZW50IG5hbWUgYW5kIGFuIGFycmF5IG9mIGxpc3RlbmVycyB0byBiZSBhZGRlZC9yZW1vdmVkLlxuXHQgKiBZb3UgY2FuIGFsc28gcGFzcyBpdCBhIHJlZ3VsYXIgZXhwcmVzc2lvbiB0byBtYW5pcHVsYXRlIHRoZSBsaXN0ZW5lcnMgb2YgYWxsIGV2ZW50cyB0aGF0IG1hdGNoIGl0LlxuXHQgKlxuXHQgKiBAcGFyYW0ge0Jvb2xlYW59IHJlbW92ZSBUcnVlIGlmIHlvdSB3YW50IHRvIHJlbW92ZSBsaXN0ZW5lcnMsIGZhbHNlIGlmIHlvdSB3YW50IHRvIGFkZC5cblx0ICogQHBhcmFtIHtTdHJpbmd8T2JqZWN0fFJlZ0V4cH0gZXZ0IEFuIGV2ZW50IG5hbWUgaWYgeW91IHdpbGwgcGFzcyBhbiBhcnJheSBvZiBsaXN0ZW5lcnMgbmV4dC4gQW4gb2JqZWN0IGlmIHlvdSB3aXNoIHRvIGFkZC9yZW1vdmUgZnJvbSBtdWx0aXBsZSBldmVudHMgYXQgb25jZS5cblx0ICogQHBhcmFtIHtGdW5jdGlvbltdfSBbbGlzdGVuZXJzXSBBbiBvcHRpb25hbCBhcnJheSBvZiBsaXN0ZW5lciBmdW5jdGlvbnMgdG8gYWRkL3JlbW92ZS5cblx0ICogQHJldHVybiB7T2JqZWN0fSBDdXJyZW50IGluc3RhbmNlIG9mIEV2ZW50RW1pdHRlciBmb3IgY2hhaW5pbmcuXG5cdCAqL1xuXHRwcm90by5tYW5pcHVsYXRlTGlzdGVuZXJzID0gZnVuY3Rpb24gbWFuaXB1bGF0ZUxpc3RlbmVycyhyZW1vdmUsIGV2dCwgbGlzdGVuZXJzKSB7XG5cdFx0dmFyIGk7XG5cdFx0dmFyIHZhbHVlO1xuXHRcdHZhciBzaW5nbGUgPSByZW1vdmUgPyB0aGlzLnJlbW92ZUxpc3RlbmVyIDogdGhpcy5hZGRMaXN0ZW5lcjtcblx0XHR2YXIgbXVsdGlwbGUgPSByZW1vdmUgPyB0aGlzLnJlbW92ZUxpc3RlbmVycyA6IHRoaXMuYWRkTGlzdGVuZXJzO1xuXG5cdFx0Ly8gSWYgZXZ0IGlzIGFuIG9iamVjdCB0aGVuIHBhc3MgZWFjaCBvZiBpdCdzIHByb3BlcnRpZXMgdG8gdGhpcyBtZXRob2Rcblx0XHRpZiAodHlwZW9mIGV2dCA9PT0gJ29iamVjdCcgJiYgIShldnQgaW5zdGFuY2VvZiBSZWdFeHApKSB7XG5cdFx0XHRmb3IgKGkgaW4gZXZ0KSB7XG5cdFx0XHRcdGlmIChldnQuaGFzT3duUHJvcGVydHkoaSkgJiYgKHZhbHVlID0gZXZ0W2ldKSkge1xuXHRcdFx0XHRcdC8vIFBhc3MgdGhlIHNpbmdsZSBsaXN0ZW5lciBzdHJhaWdodCB0aHJvdWdoIHRvIHRoZSBzaW5ndWxhciBtZXRob2Rcblx0XHRcdFx0XHRpZiAodHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdFx0XHRzaW5nbGUuY2FsbCh0aGlzLCBpLCB2YWx1ZSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGVsc2Uge1xuXHRcdFx0XHRcdFx0Ly8gT3RoZXJ3aXNlIHBhc3MgYmFjayB0byB0aGUgbXVsdGlwbGUgZnVuY3Rpb25cblx0XHRcdFx0XHRcdG11bHRpcGxlLmNhbGwodGhpcywgaSwgdmFsdWUpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0XHRlbHNlIHtcblx0XHRcdC8vIFNvIGV2dCBtdXN0IGJlIGEgc3RyaW5nXG5cdFx0XHQvLyBBbmQgbGlzdGVuZXJzIG11c3QgYmUgYW4gYXJyYXkgb2YgbGlzdGVuZXJzXG5cdFx0XHQvLyBMb29wIG92ZXIgaXQgYW5kIHBhc3MgZWFjaCBvbmUgdG8gdGhlIG11bHRpcGxlIG1ldGhvZFxuXHRcdFx0aSA9IGxpc3RlbmVycy5sZW5ndGg7XG5cdFx0XHR3aGlsZSAoaS0tKSB7XG5cdFx0XHRcdHNpbmdsZS5jYWxsKHRoaXMsIGV2dCwgbGlzdGVuZXJzW2ldKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcztcblx0fTtcblxuXHQvKipcblx0ICogUmVtb3ZlcyBhbGwgbGlzdGVuZXJzIGZyb20gYSBzcGVjaWZpZWQgZXZlbnQuXG5cdCAqIElmIHlvdSBkbyBub3Qgc3BlY2lmeSBhbiBldmVudCB0aGVuIGFsbCBsaXN0ZW5lcnMgd2lsbCBiZSByZW1vdmVkLlxuXHQgKiBUaGF0IG1lYW5zIGV2ZXJ5IGV2ZW50IHdpbGwgYmUgZW1wdGllZC5cblx0ICogWW91IGNhbiBhbHNvIHBhc3MgYSByZWdleCB0byByZW1vdmUgYWxsIGV2ZW50cyB0aGF0IG1hdGNoIGl0LlxuXHQgKlxuXHQgKiBAcGFyYW0ge1N0cmluZ3xSZWdFeHB9IFtldnRdIE9wdGlvbmFsIG5hbWUgb2YgdGhlIGV2ZW50IHRvIHJlbW92ZSBhbGwgbGlzdGVuZXJzIGZvci4gV2lsbCByZW1vdmUgZnJvbSBldmVyeSBldmVudCBpZiBub3QgcGFzc2VkLlxuXHQgKiBAcmV0dXJuIHtPYmplY3R9IEN1cnJlbnQgaW5zdGFuY2Ugb2YgRXZlbnRFbWl0dGVyIGZvciBjaGFpbmluZy5cblx0ICovXG5cdHByb3RvLnJlbW92ZUV2ZW50ID0gZnVuY3Rpb24gcmVtb3ZlRXZlbnQoZXZ0KSB7XG5cdFx0dmFyIHR5cGUgPSB0eXBlb2YgZXZ0O1xuXHRcdHZhciBldmVudHMgPSB0aGlzLl9nZXRFdmVudHMoKTtcblx0XHR2YXIga2V5O1xuXG5cdFx0Ly8gUmVtb3ZlIGRpZmZlcmVudCB0aGluZ3MgZGVwZW5kaW5nIG9uIHRoZSBzdGF0ZSBvZiBldnRcblx0XHRpZiAodHlwZSA9PT0gJ3N0cmluZycpIHtcblx0XHRcdC8vIFJlbW92ZSBhbGwgbGlzdGVuZXJzIGZvciB0aGUgc3BlY2lmaWVkIGV2ZW50XG5cdFx0XHRkZWxldGUgZXZlbnRzW2V2dF07XG5cdFx0fVxuXHRcdGVsc2UgaWYgKHR5cGUgPT09ICdvYmplY3QnKSB7XG5cdFx0XHQvLyBSZW1vdmUgYWxsIGV2ZW50cyBtYXRjaGluZyB0aGUgcmVnZXguXG5cdFx0XHRmb3IgKGtleSBpbiBldmVudHMpIHtcblx0XHRcdFx0aWYgKGV2ZW50cy5oYXNPd25Qcm9wZXJ0eShrZXkpICYmIGV2dC50ZXN0KGtleSkpIHtcblx0XHRcdFx0XHRkZWxldGUgZXZlbnRzW2tleV07XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFx0ZWxzZSB7XG5cdFx0XHQvLyBSZW1vdmUgYWxsIGxpc3RlbmVycyBpbiBhbGwgZXZlbnRzXG5cdFx0XHRkZWxldGUgdGhpcy5fZXZlbnRzO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBBbGlhcyBvZiByZW1vdmVFdmVudC5cblx0ICpcblx0ICogQWRkZWQgdG8gbWlycm9yIHRoZSBub2RlIEFQSS5cblx0ICovXG5cdHByb3RvLnJlbW92ZUFsbExpc3RlbmVycyA9IGFsaWFzKCdyZW1vdmVFdmVudCcpO1xuXG5cdC8qKlxuXHQgKiBFbWl0cyBhbiBldmVudCBvZiB5b3VyIGNob2ljZS5cblx0ICogV2hlbiBlbWl0dGVkLCBldmVyeSBsaXN0ZW5lciBhdHRhY2hlZCB0byB0aGF0IGV2ZW50IHdpbGwgYmUgZXhlY3V0ZWQuXG5cdCAqIElmIHlvdSBwYXNzIHRoZSBvcHRpb25hbCBhcmd1bWVudCBhcnJheSB0aGVuIHRob3NlIGFyZ3VtZW50cyB3aWxsIGJlIHBhc3NlZCB0byBldmVyeSBsaXN0ZW5lciB1cG9uIGV4ZWN1dGlvbi5cblx0ICogQmVjYXVzZSBpdCB1c2VzIGBhcHBseWAsIHlvdXIgYXJyYXkgb2YgYXJndW1lbnRzIHdpbGwgYmUgcGFzc2VkIGFzIGlmIHlvdSB3cm90ZSB0aGVtIG91dCBzZXBhcmF0ZWx5LlxuXHQgKiBTbyB0aGV5IHdpbGwgbm90IGFycml2ZSB3aXRoaW4gdGhlIGFycmF5IG9uIHRoZSBvdGhlciBzaWRlLCB0aGV5IHdpbGwgYmUgc2VwYXJhdGUuXG5cdCAqIFlvdSBjYW4gYWxzbyBwYXNzIGEgcmVndWxhciBleHByZXNzaW9uIHRvIGVtaXQgdG8gYWxsIGV2ZW50cyB0aGF0IG1hdGNoIGl0LlxuXHQgKlxuXHQgKiBAcGFyYW0ge1N0cmluZ3xSZWdFeHB9IGV2dCBOYW1lIG9mIHRoZSBldmVudCB0byBlbWl0IGFuZCBleGVjdXRlIGxpc3RlbmVycyBmb3IuXG5cdCAqIEBwYXJhbSB7QXJyYXl9IFthcmdzXSBPcHRpb25hbCBhcnJheSBvZiBhcmd1bWVudHMgdG8gYmUgcGFzc2VkIHRvIGVhY2ggbGlzdGVuZXIuXG5cdCAqIEByZXR1cm4ge09iamVjdH0gQ3VycmVudCBpbnN0YW5jZSBvZiBFdmVudEVtaXR0ZXIgZm9yIGNoYWluaW5nLlxuXHQgKi9cblx0cHJvdG8uZW1pdEV2ZW50ID0gZnVuY3Rpb24gZW1pdEV2ZW50KGV2dCwgYXJncykge1xuXHRcdHZhciBsaXN0ZW5lcnMgPSB0aGlzLmdldExpc3RlbmVyc0FzT2JqZWN0KGV2dCk7XG5cdFx0dmFyIGxpc3RlbmVyO1xuXHRcdHZhciBpO1xuXHRcdHZhciBrZXk7XG5cdFx0dmFyIHJlc3BvbnNlO1xuXG5cdFx0Zm9yIChrZXkgaW4gbGlzdGVuZXJzKSB7XG5cdFx0XHRpZiAobGlzdGVuZXJzLmhhc093blByb3BlcnR5KGtleSkpIHtcblx0XHRcdFx0aSA9IGxpc3RlbmVyc1trZXldLmxlbmd0aDtcblxuXHRcdFx0XHR3aGlsZSAoaS0tKSB7XG5cdFx0XHRcdFx0Ly8gSWYgdGhlIGxpc3RlbmVyIHJldHVybnMgdHJ1ZSB0aGVuIGl0IHNoYWxsIGJlIHJlbW92ZWQgZnJvbSB0aGUgZXZlbnRcblx0XHRcdFx0XHQvLyBUaGUgZnVuY3Rpb24gaXMgZXhlY3V0ZWQgZWl0aGVyIHdpdGggYSBiYXNpYyBjYWxsIG9yIGFuIGFwcGx5IGlmIHRoZXJlIGlzIGFuIGFyZ3MgYXJyYXlcblx0XHRcdFx0XHRsaXN0ZW5lciA9IGxpc3RlbmVyc1trZXldW2ldO1xuXG5cdFx0XHRcdFx0aWYgKGxpc3RlbmVyLm9uY2UgPT09IHRydWUpIHtcblx0XHRcdFx0XHRcdHRoaXMucmVtb3ZlTGlzdGVuZXIoZXZ0LCBsaXN0ZW5lci5saXN0ZW5lcik7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmVzcG9uc2UgPSBsaXN0ZW5lci5saXN0ZW5lci5hcHBseSh0aGlzLCBhcmdzIHx8IFtdKTtcblxuXHRcdFx0XHRcdGlmIChyZXNwb25zZSA9PT0gdGhpcy5fZ2V0T25jZVJldHVyblZhbHVlKCkpIHtcblx0XHRcdFx0XHRcdHRoaXMucmVtb3ZlTGlzdGVuZXIoZXZ0LCBsaXN0ZW5lci5saXN0ZW5lcik7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXM7XG5cdH07XG5cblx0LyoqXG5cdCAqIEFsaWFzIG9mIGVtaXRFdmVudFxuXHQgKi9cblx0cHJvdG8udHJpZ2dlciA9IGFsaWFzKCdlbWl0RXZlbnQnKTtcblxuXHQvKipcblx0ICogU3VidGx5IGRpZmZlcmVudCBmcm9tIGVtaXRFdmVudCBpbiB0aGF0IGl0IHdpbGwgcGFzcyBpdHMgYXJndW1lbnRzIG9uIHRvIHRoZSBsaXN0ZW5lcnMsIGFzIG9wcG9zZWQgdG8gdGFraW5nIGEgc2luZ2xlIGFycmF5IG9mIGFyZ3VtZW50cyB0byBwYXNzIG9uLlxuXHQgKiBBcyB3aXRoIGVtaXRFdmVudCwgeW91IGNhbiBwYXNzIGEgcmVnZXggaW4gcGxhY2Ugb2YgdGhlIGV2ZW50IG5hbWUgdG8gZW1pdCB0byBhbGwgZXZlbnRzIHRoYXQgbWF0Y2ggaXQuXG5cdCAqXG5cdCAqIEBwYXJhbSB7U3RyaW5nfFJlZ0V4cH0gZXZ0IE5hbWUgb2YgdGhlIGV2ZW50IHRvIGVtaXQgYW5kIGV4ZWN1dGUgbGlzdGVuZXJzIGZvci5cblx0ICogQHBhcmFtIHsuLi4qfSBPcHRpb25hbCBhZGRpdGlvbmFsIGFyZ3VtZW50cyB0byBiZSBwYXNzZWQgdG8gZWFjaCBsaXN0ZW5lci5cblx0ICogQHJldHVybiB7T2JqZWN0fSBDdXJyZW50IGluc3RhbmNlIG9mIEV2ZW50RW1pdHRlciBmb3IgY2hhaW5pbmcuXG5cdCAqL1xuXHRwcm90by5lbWl0ID0gZnVuY3Rpb24gZW1pdChldnQpIHtcblx0XHR2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG5cdFx0cmV0dXJuIHRoaXMuZW1pdEV2ZW50KGV2dCwgYXJncyk7XG5cdH07XG5cblx0LyoqXG5cdCAqIFNldHMgdGhlIGN1cnJlbnQgdmFsdWUgdG8gY2hlY2sgYWdhaW5zdCB3aGVuIGV4ZWN1dGluZyBsaXN0ZW5lcnMuIElmIGFcblx0ICogbGlzdGVuZXJzIHJldHVybiB2YWx1ZSBtYXRjaGVzIHRoZSBvbmUgc2V0IGhlcmUgdGhlbiBpdCB3aWxsIGJlIHJlbW92ZWRcblx0ICogYWZ0ZXIgZXhlY3V0aW9uLiBUaGlzIHZhbHVlIGRlZmF1bHRzIHRvIHRydWUuXG5cdCAqXG5cdCAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIG5ldyB2YWx1ZSB0byBjaGVjayBmb3Igd2hlbiBleGVjdXRpbmcgbGlzdGVuZXJzLlxuXHQgKiBAcmV0dXJuIHtPYmplY3R9IEN1cnJlbnQgaW5zdGFuY2Ugb2YgRXZlbnRFbWl0dGVyIGZvciBjaGFpbmluZy5cblx0ICovXG5cdHByb3RvLnNldE9uY2VSZXR1cm5WYWx1ZSA9IGZ1bmN0aW9uIHNldE9uY2VSZXR1cm5WYWx1ZSh2YWx1ZSkge1xuXHRcdHRoaXMuX29uY2VSZXR1cm5WYWx1ZSA9IHZhbHVlO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBGZXRjaGVzIHRoZSBjdXJyZW50IHZhbHVlIHRvIGNoZWNrIGFnYWluc3Qgd2hlbiBleGVjdXRpbmcgbGlzdGVuZXJzLiBJZlxuXHQgKiB0aGUgbGlzdGVuZXJzIHJldHVybiB2YWx1ZSBtYXRjaGVzIHRoaXMgb25lIHRoZW4gaXQgc2hvdWxkIGJlIHJlbW92ZWRcblx0ICogYXV0b21hdGljYWxseS4gSXQgd2lsbCByZXR1cm4gdHJ1ZSBieSBkZWZhdWx0LlxuXHQgKlxuXHQgKiBAcmV0dXJuIHsqfEJvb2xlYW59IFRoZSBjdXJyZW50IHZhbHVlIHRvIGNoZWNrIGZvciBvciB0aGUgZGVmYXVsdCwgdHJ1ZS5cblx0ICogQGFwaSBwcml2YXRlXG5cdCAqL1xuXHRwcm90by5fZ2V0T25jZVJldHVyblZhbHVlID0gZnVuY3Rpb24gX2dldE9uY2VSZXR1cm5WYWx1ZSgpIHtcblx0XHRpZiAodGhpcy5oYXNPd25Qcm9wZXJ0eSgnX29uY2VSZXR1cm5WYWx1ZScpKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5fb25jZVJldHVyblZhbHVlO1xuXHRcdH1cblx0XHRlbHNlIHtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblx0fTtcblxuXHQvKipcblx0ICogRmV0Y2hlcyB0aGUgZXZlbnRzIG9iamVjdCBhbmQgY3JlYXRlcyBvbmUgaWYgcmVxdWlyZWQuXG5cdCAqXG5cdCAqIEByZXR1cm4ge09iamVjdH0gVGhlIGV2ZW50cyBzdG9yYWdlIG9iamVjdC5cblx0ICogQGFwaSBwcml2YXRlXG5cdCAqL1xuXHRwcm90by5fZ2V0RXZlbnRzID0gZnVuY3Rpb24gX2dldEV2ZW50cygpIHtcblx0XHRyZXR1cm4gdGhpcy5fZXZlbnRzIHx8ICh0aGlzLl9ldmVudHMgPSB7fSk7XG5cdH07XG5cblx0LyoqXG5cdCAqIFJldmVydHMgdGhlIGdsb2JhbCB7QGxpbmsgRXZlbnRFbWl0dGVyfSB0byBpdHMgcHJldmlvdXMgdmFsdWUgYW5kIHJldHVybnMgYSByZWZlcmVuY2UgdG8gdGhpcyB2ZXJzaW9uLlxuXHQgKlxuXHQgKiBAcmV0dXJuIHtGdW5jdGlvbn0gTm9uIGNvbmZsaWN0aW5nIEV2ZW50RW1pdHRlciBjbGFzcy5cblx0ICovXG5cdEV2ZW50RW1pdHRlci5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gbm9Db25mbGljdCgpIHtcblx0XHRleHBvcnRzLkV2ZW50RW1pdHRlciA9IG9yaWdpbmFsR2xvYmFsVmFsdWU7XG5cdFx0cmV0dXJuIEV2ZW50RW1pdHRlcjtcblx0fTtcblxuXHQvLyBFeHBvc2UgdGhlIGNsYXNzIGVpdGhlciB2aWEgQU1ELCBDb21tb25KUyBvciB0aGUgZ2xvYmFsIG9iamVjdFxuXHRpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG5cdFx0ZGVmaW5lKCdldmVudEVtaXR0ZXIvRXZlbnRFbWl0dGVyJyxbXSxmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZXR1cm4gRXZlbnRFbWl0dGVyO1xuXHRcdH0pO1xuXHR9XG5cdGVsc2UgaWYgKHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnICYmIG1vZHVsZS5leHBvcnRzKXtcblx0XHRtb2R1bGUuZXhwb3J0cyA9IEV2ZW50RW1pdHRlcjtcblx0fVxuXHRlbHNlIHtcblx0XHR0aGlzLkV2ZW50RW1pdHRlciA9IEV2ZW50RW1pdHRlcjtcblx0fVxufS5jYWxsKHRoaXMpKTtcblxuLyohXG4gKiBldmVudGllIHYxLjAuNFxuICogZXZlbnQgYmluZGluZyBoZWxwZXJcbiAqICAgZXZlbnRpZS5iaW5kKCBlbGVtLCAnY2xpY2snLCBteUZuIClcbiAqICAgZXZlbnRpZS51bmJpbmQoIGVsZW0sICdjbGljaycsIG15Rm4gKVxuICovXG5cbi8qanNoaW50IGJyb3dzZXI6IHRydWUsIHVuZGVmOiB0cnVlLCB1bnVzZWQ6IHRydWUgKi9cbi8qZ2xvYmFsIGRlZmluZTogZmFsc2UgKi9cblxuKCBmdW5jdGlvbiggd2luZG93ICkge1xuXG5cblxudmFyIGRvY0VsZW0gPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG5cbnZhciBiaW5kID0gZnVuY3Rpb24oKSB7fTtcblxuZnVuY3Rpb24gZ2V0SUVFdmVudCggb2JqICkge1xuICB2YXIgZXZlbnQgPSB3aW5kb3cuZXZlbnQ7XG4gIC8vIGFkZCBldmVudC50YXJnZXRcbiAgZXZlbnQudGFyZ2V0ID0gZXZlbnQudGFyZ2V0IHx8IGV2ZW50LnNyY0VsZW1lbnQgfHwgb2JqO1xuICByZXR1cm4gZXZlbnQ7XG59XG5cbmlmICggZG9jRWxlbS5hZGRFdmVudExpc3RlbmVyICkge1xuICBiaW5kID0gZnVuY3Rpb24oIG9iaiwgdHlwZSwgZm4gKSB7XG4gICAgb2JqLmFkZEV2ZW50TGlzdGVuZXIoIHR5cGUsIGZuLCBmYWxzZSApO1xuICB9O1xufSBlbHNlIGlmICggZG9jRWxlbS5hdHRhY2hFdmVudCApIHtcbiAgYmluZCA9IGZ1bmN0aW9uKCBvYmosIHR5cGUsIGZuICkge1xuICAgIG9ialsgdHlwZSArIGZuIF0gPSBmbi5oYW5kbGVFdmVudCA/XG4gICAgICBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGV2ZW50ID0gZ2V0SUVFdmVudCggb2JqICk7XG4gICAgICAgIGZuLmhhbmRsZUV2ZW50LmNhbGwoIGZuLCBldmVudCApO1xuICAgICAgfSA6XG4gICAgICBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGV2ZW50ID0gZ2V0SUVFdmVudCggb2JqICk7XG4gICAgICAgIGZuLmNhbGwoIG9iaiwgZXZlbnQgKTtcbiAgICAgIH07XG4gICAgb2JqLmF0dGFjaEV2ZW50KCBcIm9uXCIgKyB0eXBlLCBvYmpbIHR5cGUgKyBmbiBdICk7XG4gIH07XG59XG5cbnZhciB1bmJpbmQgPSBmdW5jdGlvbigpIHt9O1xuXG5pZiAoIGRvY0VsZW0ucmVtb3ZlRXZlbnRMaXN0ZW5lciApIHtcbiAgdW5iaW5kID0gZnVuY3Rpb24oIG9iaiwgdHlwZSwgZm4gKSB7XG4gICAgb2JqLnJlbW92ZUV2ZW50TGlzdGVuZXIoIHR5cGUsIGZuLCBmYWxzZSApO1xuICB9O1xufSBlbHNlIGlmICggZG9jRWxlbS5kZXRhY2hFdmVudCApIHtcbiAgdW5iaW5kID0gZnVuY3Rpb24oIG9iaiwgdHlwZSwgZm4gKSB7XG4gICAgb2JqLmRldGFjaEV2ZW50KCBcIm9uXCIgKyB0eXBlLCBvYmpbIHR5cGUgKyBmbiBdICk7XG4gICAgdHJ5IHtcbiAgICAgIGRlbGV0ZSBvYmpbIHR5cGUgKyBmbiBdO1xuICAgIH0gY2F0Y2ggKCBlcnIgKSB7XG4gICAgICAvLyBjYW4ndCBkZWxldGUgd2luZG93IG9iamVjdCBwcm9wZXJ0aWVzXG4gICAgICBvYmpbIHR5cGUgKyBmbiBdID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgfTtcbn1cblxudmFyIGV2ZW50aWUgPSB7XG4gIGJpbmQ6IGJpbmQsXG4gIHVuYmluZDogdW5iaW5kXG59O1xuXG4vLyB0cmFuc3BvcnRcbmlmICggdHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kICkge1xuICAvLyBBTURcbiAgZGVmaW5lKCAnZXZlbnRpZS9ldmVudGllJyxldmVudGllICk7XG59IGVsc2Uge1xuICAvLyBicm93c2VyIGdsb2JhbFxuICB3aW5kb3cuZXZlbnRpZSA9IGV2ZW50aWU7XG59XG5cbn0pKCB0aGlzICk7XG5cbi8qIVxuICogaW1hZ2VzTG9hZGVkIHYzLjEuOFxuICogSmF2YVNjcmlwdCBpcyBhbGwgbGlrZSBcIllvdSBpbWFnZXMgYXJlIGRvbmUgeWV0IG9yIHdoYXQ/XCJcbiAqIE1JVCBMaWNlbnNlXG4gKi9cblxuKCBmdW5jdGlvbiggd2luZG93LCBmYWN0b3J5ICkgeyBcbiAgLy8gdW5pdmVyc2FsIG1vZHVsZSBkZWZpbml0aW9uXG5cbiAgLypnbG9iYWwgZGVmaW5lOiBmYWxzZSwgbW9kdWxlOiBmYWxzZSwgcmVxdWlyZTogZmFsc2UgKi9cblxuICBpZiAoIHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCApIHtcbiAgICAvLyBBTURcbiAgICBkZWZpbmUoIFtcbiAgICAgICdldmVudEVtaXR0ZXIvRXZlbnRFbWl0dGVyJyxcbiAgICAgICdldmVudGllL2V2ZW50aWUnXG4gICAgXSwgZnVuY3Rpb24oIEV2ZW50RW1pdHRlciwgZXZlbnRpZSApIHtcbiAgICAgIHJldHVybiBmYWN0b3J5KCB3aW5kb3csIEV2ZW50RW1pdHRlciwgZXZlbnRpZSApO1xuICAgIH0pO1xuICB9IGVsc2UgaWYgKCB0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgKSB7XG4gICAgLy8gQ29tbW9uSlNcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoXG4gICAgICB3aW5kb3csXG4gICAgICByZXF1aXJlKCd3b2xmeTg3LWV2ZW50ZW1pdHRlcicpLFxuICAgICAgcmVxdWlyZSgnZXZlbnRpZScpXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBicm93c2VyIGdsb2JhbFxuICAgIHdpbmRvdy5pbWFnZXNMb2FkZWQgPSBmYWN0b3J5KFxuICAgICAgd2luZG93LFxuICAgICAgd2luZG93LkV2ZW50RW1pdHRlcixcbiAgICAgIHdpbmRvdy5ldmVudGllXG4gICAgKTtcbiAgfVxuXG59KSggd2luZG93LFxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAgZmFjdG9yeSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuXG5mdW5jdGlvbiBmYWN0b3J5KCB3aW5kb3csIEV2ZW50RW1pdHRlciwgZXZlbnRpZSApIHtcblxuXG5cbnZhciAkID0gd2luZG93LmpRdWVyeTtcbnZhciBjb25zb2xlID0gd2luZG93LmNvbnNvbGU7XG52YXIgaGFzQ29uc29sZSA9IHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJztcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gaGVscGVycyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuXG4vLyBleHRlbmQgb2JqZWN0c1xuZnVuY3Rpb24gZXh0ZW5kKCBhLCBiICkge1xuICBmb3IgKCB2YXIgcHJvcCBpbiBiICkge1xuICAgIGFbIHByb3AgXSA9IGJbIHByb3AgXTtcbiAgfVxuICByZXR1cm4gYTtcbn1cblxudmFyIG9ialRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcbmZ1bmN0aW9uIGlzQXJyYXkoIG9iaiApIHtcbiAgcmV0dXJuIG9ialRvU3RyaW5nLmNhbGwoIG9iaiApID09PSAnW29iamVjdCBBcnJheV0nO1xufVxuXG4vLyB0dXJuIGVsZW1lbnQgb3Igbm9kZUxpc3QgaW50byBhbiBhcnJheVxuZnVuY3Rpb24gbWFrZUFycmF5KCBvYmogKSB7XG4gIHZhciBhcnkgPSBbXTtcbiAgaWYgKCBpc0FycmF5KCBvYmogKSApIHtcbiAgICAvLyB1c2Ugb2JqZWN0IGlmIGFscmVhZHkgYW4gYXJyYXlcbiAgICBhcnkgPSBvYmo7XG4gIH0gZWxzZSBpZiAoIHR5cGVvZiBvYmoubGVuZ3RoID09PSAnbnVtYmVyJyApIHtcbiAgICAvLyBjb252ZXJ0IG5vZGVMaXN0IHRvIGFycmF5XG4gICAgZm9yICggdmFyIGk9MCwgbGVuID0gb2JqLmxlbmd0aDsgaSA8IGxlbjsgaSsrICkge1xuICAgICAgYXJ5LnB1c2goIG9ialtpXSApO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBhcnJheSBvZiBzaW5nbGUgaW5kZXhcbiAgICBhcnkucHVzaCggb2JqICk7XG4gIH1cbiAgcmV0dXJuIGFyeTtcbn1cblxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBpbWFnZXNMb2FkZWQgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cblxuICAvKipcbiAgICogQHBhcmFtIHtBcnJheSwgRWxlbWVudCwgTm9kZUxpc3QsIFN0cmluZ30gZWxlbVxuICAgKiBAcGFyYW0ge09iamVjdCBvciBGdW5jdGlvbn0gb3B0aW9ucyAtIGlmIGZ1bmN0aW9uLCB1c2UgYXMgY2FsbGJhY2tcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gb25BbHdheXMgLSBjYWxsYmFjayBmdW5jdGlvblxuICAgKi9cbiAgZnVuY3Rpb24gSW1hZ2VzTG9hZGVkKCBlbGVtLCBvcHRpb25zLCBvbkFsd2F5cyApIHtcbiAgICAvLyBjb2VyY2UgSW1hZ2VzTG9hZGVkKCkgd2l0aG91dCBuZXcsIHRvIGJlIG5ldyBJbWFnZXNMb2FkZWQoKVxuICAgIGlmICggISggdGhpcyBpbnN0YW5jZW9mIEltYWdlc0xvYWRlZCApICkge1xuICAgICAgcmV0dXJuIG5ldyBJbWFnZXNMb2FkZWQoIGVsZW0sIG9wdGlvbnMgKTtcbiAgICB9XG4gICAgLy8gdXNlIGVsZW0gYXMgc2VsZWN0b3Igc3RyaW5nXG4gICAgaWYgKCB0eXBlb2YgZWxlbSA9PT0gJ3N0cmluZycgKSB7XG4gICAgICBlbGVtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCggZWxlbSApO1xuICAgIH1cblxuICAgIHRoaXMuZWxlbWVudHMgPSBtYWtlQXJyYXkoIGVsZW0gKTtcbiAgICB0aGlzLm9wdGlvbnMgPSBleHRlbmQoIHt9LCB0aGlzLm9wdGlvbnMgKTtcblxuICAgIGlmICggdHlwZW9mIG9wdGlvbnMgPT09ICdmdW5jdGlvbicgKSB7XG4gICAgICBvbkFsd2F5cyA9IG9wdGlvbnM7XG4gICAgfSBlbHNlIHtcbiAgICAgIGV4dGVuZCggdGhpcy5vcHRpb25zLCBvcHRpb25zICk7XG4gICAgfVxuXG4gICAgaWYgKCBvbkFsd2F5cyApIHtcbiAgICAgIHRoaXMub24oICdhbHdheXMnLCBvbkFsd2F5cyApO1xuICAgIH1cblxuICAgIHRoaXMuZ2V0SW1hZ2VzKCk7XG5cbiAgICBpZiAoICQgKSB7XG4gICAgICAvLyBhZGQgalF1ZXJ5IERlZmVycmVkIG9iamVjdFxuICAgICAgdGhpcy5qcURlZmVycmVkID0gbmV3ICQuRGVmZXJyZWQoKTtcbiAgICB9XG5cbiAgICAvLyBIQUNLIGNoZWNrIGFzeW5jIHRvIGFsbG93IHRpbWUgdG8gYmluZCBsaXN0ZW5lcnNcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuICAgICAgX3RoaXMuY2hlY2soKTtcbiAgICB9KTtcbiAgfVxuXG4gIEltYWdlc0xvYWRlZC5wcm90b3R5cGUgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cbiAgSW1hZ2VzTG9hZGVkLnByb3RvdHlwZS5vcHRpb25zID0ge307XG5cbiAgSW1hZ2VzTG9hZGVkLnByb3RvdHlwZS5nZXRJbWFnZXMgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmltYWdlcyA9IFtdO1xuXG4gICAgLy8gZmlsdGVyICYgZmluZCBpdGVtcyBpZiB3ZSBoYXZlIGFuIGl0ZW0gc2VsZWN0b3JcbiAgICBmb3IgKCB2YXIgaT0wLCBsZW4gPSB0aGlzLmVsZW1lbnRzLmxlbmd0aDsgaSA8IGxlbjsgaSsrICkge1xuICAgICAgdmFyIGVsZW0gPSB0aGlzLmVsZW1lbnRzW2ldO1xuICAgICAgLy8gZmlsdGVyIHNpYmxpbmdzXG4gICAgICBpZiAoIGVsZW0ubm9kZU5hbWUgPT09ICdJTUcnICkge1xuICAgICAgICB0aGlzLmFkZEltYWdlKCBlbGVtICk7XG4gICAgICB9XG4gICAgICAvLyBmaW5kIGNoaWxkcmVuXG4gICAgICAvLyBubyBub24tZWxlbWVudCBub2RlcywgIzE0M1xuICAgICAgdmFyIG5vZGVUeXBlID0gZWxlbS5ub2RlVHlwZTtcbiAgICAgIGlmICggIW5vZGVUeXBlIHx8ICEoIG5vZGVUeXBlID09PSAxIHx8IG5vZGVUeXBlID09PSA5IHx8IG5vZGVUeXBlID09PSAxMSApICkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIHZhciBjaGlsZEVsZW1zID0gZWxlbS5xdWVyeVNlbGVjdG9yQWxsKCdpbWcnKTtcbiAgICAgIC8vIGNvbmNhdCBjaGlsZEVsZW1zIHRvIGZpbHRlckZvdW5kIGFycmF5XG4gICAgICBmb3IgKCB2YXIgaj0wLCBqTGVuID0gY2hpbGRFbGVtcy5sZW5ndGg7IGogPCBqTGVuOyBqKysgKSB7XG4gICAgICAgIHZhciBpbWcgPSBjaGlsZEVsZW1zW2pdO1xuICAgICAgICB0aGlzLmFkZEltYWdlKCBpbWcgKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7SW1hZ2V9IGltZ1xuICAgKi9cbiAgSW1hZ2VzTG9hZGVkLnByb3RvdHlwZS5hZGRJbWFnZSA9IGZ1bmN0aW9uKCBpbWcgKSB7XG4gICAgdmFyIGxvYWRpbmdJbWFnZSA9IG5ldyBMb2FkaW5nSW1hZ2UoIGltZyApO1xuICAgIHRoaXMuaW1hZ2VzLnB1c2goIGxvYWRpbmdJbWFnZSApO1xuICB9O1xuXG4gIEltYWdlc0xvYWRlZC5wcm90b3R5cGUuY2hlY2sgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIHZhciBjaGVja2VkQ291bnQgPSAwO1xuICAgIHZhciBsZW5ndGggPSB0aGlzLmltYWdlcy5sZW5ndGg7XG4gICAgdGhpcy5oYXNBbnlCcm9rZW4gPSBmYWxzZTtcbiAgICAvLyBjb21wbGV0ZSBpZiBubyBpbWFnZXNcbiAgICBpZiAoICFsZW5ndGggKSB7XG4gICAgICB0aGlzLmNvbXBsZXRlKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25Db25maXJtKCBpbWFnZSwgbWVzc2FnZSApIHtcbiAgICAgIGlmICggX3RoaXMub3B0aW9ucy5kZWJ1ZyAmJiBoYXNDb25zb2xlICkge1xuICAgICAgICBjb25zb2xlLmxvZyggJ2NvbmZpcm0nLCBpbWFnZSwgbWVzc2FnZSApO1xuICAgICAgfVxuXG4gICAgICBfdGhpcy5wcm9ncmVzcyggaW1hZ2UgKTtcbiAgICAgIGNoZWNrZWRDb3VudCsrO1xuICAgICAgaWYgKCBjaGVja2VkQ291bnQgPT09IGxlbmd0aCApIHtcbiAgICAgICAgX3RoaXMuY29tcGxldGUoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlOyAvLyBiaW5kIG9uY2VcbiAgICB9XG5cbiAgICBmb3IgKCB2YXIgaT0wOyBpIDwgbGVuZ3RoOyBpKysgKSB7XG4gICAgICB2YXIgbG9hZGluZ0ltYWdlID0gdGhpcy5pbWFnZXNbaV07XG4gICAgICBsb2FkaW5nSW1hZ2Uub24oICdjb25maXJtJywgb25Db25maXJtICk7XG4gICAgICBsb2FkaW5nSW1hZ2UuY2hlY2soKTtcbiAgICB9XG4gIH07XG5cbiAgSW1hZ2VzTG9hZGVkLnByb3RvdHlwZS5wcm9ncmVzcyA9IGZ1bmN0aW9uKCBpbWFnZSApIHtcbiAgICB0aGlzLmhhc0FueUJyb2tlbiA9IHRoaXMuaGFzQW55QnJva2VuIHx8ICFpbWFnZS5pc0xvYWRlZDtcbiAgICAvLyBIQUNLIC0gQ2hyb21lIHRyaWdnZXJzIGV2ZW50IGJlZm9yZSBvYmplY3QgcHJvcGVydGllcyBoYXZlIGNoYW5nZWQuICM4M1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG4gICAgICBfdGhpcy5lbWl0KCAncHJvZ3Jlc3MnLCBfdGhpcywgaW1hZ2UgKTtcbiAgICAgIGlmICggX3RoaXMuanFEZWZlcnJlZCAmJiBfdGhpcy5qcURlZmVycmVkLm5vdGlmeSApIHtcbiAgICAgICAgX3RoaXMuanFEZWZlcnJlZC5ub3RpZnkoIF90aGlzLCBpbWFnZSApO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIEltYWdlc0xvYWRlZC5wcm90b3R5cGUuY29tcGxldGUgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgZXZlbnROYW1lID0gdGhpcy5oYXNBbnlCcm9rZW4gPyAnZmFpbCcgOiAnZG9uZSc7XG4gICAgdGhpcy5pc0NvbXBsZXRlID0gdHJ1ZTtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIC8vIEhBQ0sgLSBhbm90aGVyIHNldFRpbWVvdXQgc28gdGhhdCBjb25maXJtIGhhcHBlbnMgYWZ0ZXIgcHJvZ3Jlc3NcbiAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcbiAgICAgIF90aGlzLmVtaXQoIGV2ZW50TmFtZSwgX3RoaXMgKTtcbiAgICAgIF90aGlzLmVtaXQoICdhbHdheXMnLCBfdGhpcyApO1xuICAgICAgaWYgKCBfdGhpcy5qcURlZmVycmVkICkge1xuICAgICAgICB2YXIganFNZXRob2QgPSBfdGhpcy5oYXNBbnlCcm9rZW4gPyAncmVqZWN0JyA6ICdyZXNvbHZlJztcbiAgICAgICAgX3RoaXMuanFEZWZlcnJlZFsganFNZXRob2QgXSggX3RoaXMgKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBqcXVlcnkgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cblxuICBpZiAoICQgKSB7XG4gICAgJC5mbi5pbWFnZXNMb2FkZWQgPSBmdW5jdGlvbiggb3B0aW9ucywgY2FsbGJhY2sgKSB7XG4gICAgICB2YXIgaW5zdGFuY2UgPSBuZXcgSW1hZ2VzTG9hZGVkKCB0aGlzLCBvcHRpb25zLCBjYWxsYmFjayApO1xuICAgICAgcmV0dXJuIGluc3RhbmNlLmpxRGVmZXJyZWQucHJvbWlzZSggJCh0aGlzKSApO1xuICAgIH07XG4gIH1cblxuXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuXG4gIGZ1bmN0aW9uIExvYWRpbmdJbWFnZSggaW1nICkge1xuICAgIHRoaXMuaW1nID0gaW1nO1xuICB9XG5cbiAgTG9hZGluZ0ltYWdlLnByb3RvdHlwZSA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblxuICBMb2FkaW5nSW1hZ2UucHJvdG90eXBlLmNoZWNrID0gZnVuY3Rpb24oKSB7XG4gICAgLy8gZmlyc3QgY2hlY2sgY2FjaGVkIGFueSBwcmV2aW91cyBpbWFnZXMgdGhhdCBoYXZlIHNhbWUgc3JjXG4gICAgdmFyIHJlc291cmNlID0gY2FjaGVbIHRoaXMuaW1nLnNyYyBdIHx8IG5ldyBSZXNvdXJjZSggdGhpcy5pbWcuc3JjICk7XG4gICAgaWYgKCByZXNvdXJjZS5pc0NvbmZpcm1lZCApIHtcbiAgICAgIHRoaXMuY29uZmlybSggcmVzb3VyY2UuaXNMb2FkZWQsICdjYWNoZWQgd2FzIGNvbmZpcm1lZCcgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBJZiBjb21wbGV0ZSBpcyB0cnVlIGFuZCBicm93c2VyIHN1cHBvcnRzIG5hdHVyYWwgc2l6ZXMsXG4gICAgLy8gdHJ5IHRvIGNoZWNrIGZvciBpbWFnZSBzdGF0dXMgbWFudWFsbHkuXG4gICAgaWYgKCB0aGlzLmltZy5jb21wbGV0ZSAmJiB0aGlzLmltZy5uYXR1cmFsV2lkdGggIT09IHVuZGVmaW5lZCApIHtcbiAgICAgIC8vIHJlcG9ydCBiYXNlZCBvbiBuYXR1cmFsV2lkdGhcbiAgICAgIHRoaXMuY29uZmlybSggdGhpcy5pbWcubmF0dXJhbFdpZHRoICE9PSAwLCAnbmF0dXJhbFdpZHRoJyApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIElmIG5vbmUgb2YgdGhlIGNoZWNrcyBhYm92ZSBtYXRjaGVkLCBzaW11bGF0ZSBsb2FkaW5nIG9uIGRldGFjaGVkIGVsZW1lbnQuXG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICByZXNvdXJjZS5vbiggJ2NvbmZpcm0nLCBmdW5jdGlvbiggcmVzcmMsIG1lc3NhZ2UgKSB7XG4gICAgICBfdGhpcy5jb25maXJtKCByZXNyYy5pc0xvYWRlZCwgbWVzc2FnZSApO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSk7XG5cbiAgICByZXNvdXJjZS5jaGVjaygpO1xuICB9O1xuXG4gIExvYWRpbmdJbWFnZS5wcm90b3R5cGUuY29uZmlybSA9IGZ1bmN0aW9uKCBpc0xvYWRlZCwgbWVzc2FnZSApIHtcbiAgICB0aGlzLmlzTG9hZGVkID0gaXNMb2FkZWQ7XG4gICAgdGhpcy5lbWl0KCAnY29uZmlybScsIHRoaXMsIG1lc3NhZ2UgKTtcbiAgfTtcblxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBSZXNvdXJjZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuXG4gIC8vIFJlc291cmNlIGNoZWNrcyBlYWNoIHNyYywgb25seSBvbmNlXG4gIC8vIHNlcGFyYXRlIGNsYXNzIGZyb20gTG9hZGluZ0ltYWdlIHRvIHByZXZlbnQgbWVtb3J5IGxlYWtzLiBTZWUgIzExNVxuXG4gIHZhciBjYWNoZSA9IHt9O1xuXG4gIGZ1bmN0aW9uIFJlc291cmNlKCBzcmMgKSB7XG4gICAgdGhpcy5zcmMgPSBzcmM7XG4gICAgLy8gYWRkIHRvIGNhY2hlXG4gICAgY2FjaGVbIHNyYyBdID0gdGhpcztcbiAgfVxuXG4gIFJlc291cmNlLnByb3RvdHlwZSA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblxuICBSZXNvdXJjZS5wcm90b3R5cGUuY2hlY2sgPSBmdW5jdGlvbigpIHtcbiAgICAvLyBvbmx5IHRyaWdnZXIgY2hlY2tpbmcgb25jZVxuICAgIGlmICggdGhpcy5pc0NoZWNrZWQgKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIHNpbXVsYXRlIGxvYWRpbmcgb24gZGV0YWNoZWQgZWxlbWVudFxuICAgIHZhciBwcm94eUltYWdlID0gbmV3IEltYWdlKCk7XG4gICAgZXZlbnRpZS5iaW5kKCBwcm94eUltYWdlLCAnbG9hZCcsIHRoaXMgKTtcbiAgICBldmVudGllLmJpbmQoIHByb3h5SW1hZ2UsICdlcnJvcicsIHRoaXMgKTtcbiAgICBwcm94eUltYWdlLnNyYyA9IHRoaXMuc3JjO1xuICAgIC8vIHNldCBmbGFnXG4gICAgdGhpcy5pc0NoZWNrZWQgPSB0cnVlO1xuICB9O1xuXG4gIC8vIC0tLS0tIGV2ZW50cyAtLS0tLSAvL1xuXG4gIC8vIHRyaWdnZXIgc3BlY2lmaWVkIGhhbmRsZXIgZm9yIGV2ZW50IHR5cGVcbiAgUmVzb3VyY2UucHJvdG90eXBlLmhhbmRsZUV2ZW50ID0gZnVuY3Rpb24oIGV2ZW50ICkge1xuICAgIHZhciBtZXRob2QgPSAnb24nICsgZXZlbnQudHlwZTtcbiAgICBpZiAoIHRoaXNbIG1ldGhvZCBdICkge1xuICAgICAgdGhpc1sgbWV0aG9kIF0oIGV2ZW50ICk7XG4gICAgfVxuICB9O1xuXG4gIFJlc291cmNlLnByb3RvdHlwZS5vbmxvYWQgPSBmdW5jdGlvbiggZXZlbnQgKSB7XG4gICAgdGhpcy5jb25maXJtKCB0cnVlLCAnb25sb2FkJyApO1xuICAgIHRoaXMudW5iaW5kUHJveHlFdmVudHMoIGV2ZW50ICk7XG4gIH07XG5cbiAgUmVzb3VyY2UucHJvdG90eXBlLm9uZXJyb3IgPSBmdW5jdGlvbiggZXZlbnQgKSB7XG4gICAgdGhpcy5jb25maXJtKCBmYWxzZSwgJ29uZXJyb3InICk7XG4gICAgdGhpcy51bmJpbmRQcm94eUV2ZW50cyggZXZlbnQgKTtcbiAgfTtcblxuICAvLyAtLS0tLSBjb25maXJtIC0tLS0tIC8vXG5cbiAgUmVzb3VyY2UucHJvdG90eXBlLmNvbmZpcm0gPSBmdW5jdGlvbiggaXNMb2FkZWQsIG1lc3NhZ2UgKSB7XG4gICAgdGhpcy5pc0NvbmZpcm1lZCA9IHRydWU7XG4gICAgdGhpcy5pc0xvYWRlZCA9IGlzTG9hZGVkO1xuICAgIHRoaXMuZW1pdCggJ2NvbmZpcm0nLCB0aGlzLCBtZXNzYWdlICk7XG4gIH07XG5cbiAgUmVzb3VyY2UucHJvdG90eXBlLnVuYmluZFByb3h5RXZlbnRzID0gZnVuY3Rpb24oIGV2ZW50ICkge1xuICAgIGV2ZW50aWUudW5iaW5kKCBldmVudC50YXJnZXQsICdsb2FkJywgdGhpcyApO1xuICAgIGV2ZW50aWUudW5iaW5kKCBldmVudC50YXJnZXQsICdlcnJvcicsIHRoaXMgKTtcbiAgfTtcblxuICAvLyAtLS0tLSAgLS0tLS0gLy9cblxuICByZXR1cm4gSW1hZ2VzTG9hZGVkO1xuXG59KTtcbiIsIi8qISBFbWJlZGx5IGpRdWVyeSAtIHYzLjEuMSAtIDIwMTMtMDYtMDVcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9lbWJlZGx5L2VtYmVkbHktanF1ZXJ5XG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMgU2VhbiBDcmVlbGV5XG4gKiBMaWNlbnNlZCBCU0RcbiAqLyBcbihmdW5jdGlvbigkKSB7XG5cbiAgLypcbiAgICogIFV0aWwgRnVuY3Rpb25zXG4gICAqL1xuXG4gIC8vIERlZmF1bHRzIGZvciBFbWJlZGx5LlxuICB2YXIgZGVmYXVsdHMgPSB7XG4gICAga2V5OiAgICAgICAgICAgICAgbnVsbCxcbiAgICBlbmRwb2ludDogICAgICAgICAnb2VtYmVkJywgICAgICAgICAvLyBkZWZhdWx0IGVuZHBvaW50IGlzIG9lbWJlZCAocHJldmlldyBhbmQgb2JqZWN0aWZ5IGF2YWlsYWJsZSB0b28pXG4gICAgc2VjdXJlOiAgICAgICAgICAgbnVsbCwgICAgICAgICAgICAvLyB1c2UgaHR0cHMgZW5kcG9pbnQgdnMgaHR0cFxuICAgIHF1ZXJ5OiAgICAgICAgICAgIHt9LFxuICAgIG1ldGhvZDogICAgICAgICAgICdyZXBsYWNlJywgICAgICAgIC8vIGVtYmVkIGhhbmRsaW5nIG9wdGlvbiBmb3Igc3RhbmRhcmQgY2FsbGJhY2tcbiAgICBhZGRJbWFnZVN0eWxlczogICB0cnVlLCAgICAgICAgICAgICAvLyBhZGQgc3R5bGU9XCJcIiBhdHRyaWJ1dGUgdG8gaW1hZ2VzIGZvciBxdWVyeS5tYXh3aWR0aCBhbmQgcXVlcnkubWF4aGlkdGhcbiAgICB3cmFwRWxlbWVudDogICAgICAnZGl2JywgICAgICAgICAgICAvLyBzdGFuZGFyZCB3cmFwcGVyIGFyb3VuZCBhbGwgcmV0dXJuZWQgZW1iZWRzXG4gICAgY2xhc3NOYW1lOiAgICAgICAgJ2VtYmVkJywgICAgICAgICAgLy8gY2xhc3Mgb24gdGhlIHdyYXBwZXIgZWxlbWVudFxuICAgIGJhdGNoOiAgICAgICAgICAgIDIwLCAgICAgICAgICAgICAgICAvLyBEZWZhdWx0IEJhdGNoIFNpemUuXG4gICAgdXJsUmU6ICAgICAgICAgICAgbnVsbFxuICB9O1xuXG4gIHZhciB1cmxSZSA9IC8oaHR0cHxodHRwcyk6XFwvXFwvKFxcdys6ezAsMX1cXHcqQCk/KFxcUyspKDpbMC05XSspPyhcXC98XFwvKFtcXHcjITouPys9JiVAIVxcLVxcL10pKT8vO1xuXG4gIHZhciBub25lID0gZnVuY3Rpb24ob2JqKXtcbiAgICByZXR1cm4gb2JqID09PSBudWxsIHx8IG9iaiA9PT0gdW5kZWZpbmVkO1xuICB9O1xuICAvLyBTcGxpdCBhIGxpc3QgaW50byBhIGJ1bmNoIG9mIGJhdGNocy5cbiAgdmFyIGJhdGNoID0gZnVuY3Rpb24obGlzdCwgc3BsaXQpe1xuICAgIHZhciBiYXRjaGVzID0gW10sIGN1cnJlbnQgPSBbXTtcbiAgICAkLmVhY2gobGlzdCwgZnVuY3Rpb24oaSwgb2JqKXtcbiAgICAgIGN1cnJlbnQucHVzaChvYmopO1xuICAgICAgaWYgKGN1cnJlbnQubGVuZ3RoID09PSBzcGxpdCl7XG4gICAgICAgIGJhdGNoZXMucHVzaChjdXJyZW50KTtcbiAgICAgICAgY3VycmVudCA9IFtdO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGlmIChjdXJyZW50Lmxlbmd0aCAhPT0gMCl7XG4gICAgICBiYXRjaGVzLnB1c2goY3VycmVudCk7XG4gICAgfVxuICAgIHJldHVybiBiYXRjaGVzO1xuICB9O1xuICAvLyBNYWtlIGFuIGFyZ3VtZW50IGEgbGlzdFxuICB2YXIgbGlzdGlmeSA9IGZ1bmN0aW9uKG9iail7XG4gICAgaWYgKG5vbmUob2JqKSl7XG4gICAgICByZXR1cm4gW107XG4gICAgfSBlbHNlIGlmICghJC5pc0FycmF5KG9iaikpe1xuICAgICAgcmV0dXJuIFtvYmpdO1xuICAgIH1cbiAgICByZXR1cm4gb2JqO1xuICB9O1xuXG4gIC8vIEZyb206IGh0dHA6Ly9iaXQubHkvVDlTalZ2XG4gIHZhciB6aXAgPSBmdW5jdGlvbihhcnJheXMpIHtcbiAgICByZXR1cm4gJC5tYXAoYXJyYXlzWzBdLCBmdW5jdGlvbihfLGkpe1xuICAgICAgcmV0dXJuIFskLm1hcChhcnJheXMsIGZ1bmN0aW9uKGFycmF5KXtyZXR1cm4gYXJyYXlbaV07fSldO1xuICAgIH0pO1xuICB9O1xuXG4gIC8qIEtlZXBlclxuICAgKlxuICAgKiBhbGl0dGxlIHdyYXBwZXIgYXJvdW5kIERlZmVycmVkIHRoYXQgbGV0cyB1cyBrZWVwIHRyYWNrIG9mXG4gICAqIGFsbCB0aGUgY2FsbGJhY2tzIHRoYXQgd2UgaGF2ZS5cbiAgICovXG4gIHZhciBLZWVwZXIgPSBmdW5jdGlvbiAobGVuLCBlYWNoLCBhZnRlcikge1xuICAgIHRoaXMuaW5pdChsZW4sIGVhY2gsIGFmdGVyKTtcbiAgfTtcbiAgS2VlcGVyLnByb3RvdHlwZSA9IHtcblxuICAgIGluaXQ6IGZ1bmN0aW9uKHVybHMpe1xuICAgICAgdGhpcy51cmxzID0gdXJscztcbiAgICAgIHRoaXMuY291bnQgPSAwO1xuICAgICAgdGhpcy5yZXN1bHRzID0ge307XG4gICAgICB0aGlzLl9kZWZlcnJlZCA9ICQuRGVmZXJyZWQoKTtcbiAgICB9LFxuICAgIC8vIE9ubHkgMiBtZXRob2RzIHdlIHJlYWxseSBjYXJlIGFib3V0LlxuICAgIG5vdGlmeSA6IGZ1bmN0aW9uKHJlc3VsdCkge1xuICAgICAgLy8gU3RvcmUgdGhlIHJlc3VsdC5cbiAgICAgIHRoaXMucmVzdWx0c1tyZXN1bHQub3JpZ2luYWxfdXJsXSA9IHJlc3VsdDtcbiAgICAgIC8vIEluY3JlYXNlIHRoZSBjb3VudC5cbiAgICAgIHRoaXMuY291bnQrKztcbiAgICAgIC8vIE5vdGlmeSB0aGUgc3VjY2VzcyBmdW5jdGlvbnNcbiAgICAgIHRoaXMuX2RlZmVycmVkLm5vdGlmeS5hcHBseSh0aGlzLl9kZWZlcnJlZCwgW3Jlc3VsdF0pO1xuICAgICAgLy8gSWYgYWxsIHRoZSBjYWxsYmFja3MgaGF2ZSBjb21wbGV0ZWQsIGRvIHlvdXIgdGhpbmcuXG4gICAgICBpZiAodGhpcy5jb3VudCA9PT0gdGhpcy51cmxzLmxlbmd0aCl7XG4gICAgICAgIC8vIFRoaXMgc29ydHMgdGhlIHJlc3VsdHMgaW4gdGhlIG1hbm5lciBpbiB3aGljaCB0aGV5IHdlcmUgYWRkZWQuXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgdmFyIHJlc3VsdHMgPSAkLm1hcCh0aGlzLnVybHMsIGZ1bmN0aW9uKHVybCl7IHJldHVybiBzZWxmLnJlc3VsdHNbdXJsXTt9KTtcbiAgICAgICAgdGhpcy5fZGVmZXJyZWQucmVzb2x2ZShyZXN1bHRzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG4gICAgc3RhdGU6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2RlZmVycmVkLnN0YXRlLmFwcGx5KHRoaXMuX2RlZmVycmVkLCBhcmd1bWVudHMpO1xuICAgIH1cbiAgfTtcbiAgd2luZG93LktlZXBlciA9IEtlZXBlcjtcblxuICAvLyBkaXJlY3QgQVBJIGZvciBkZWFsaW5nIHdpdGggdGhlXG4gIHZhciBBUEkgPSBmdW5jdGlvbiAoKSB7fTtcbiAgQVBJLnByb3RvdHlwZSA9IHtcbiAgICAvKlxuICAgICAgRm9yIGRlYWxpbmcgZGlyZWN0bHkgd2l0aCBFbWJlZGx5J3MgQVBJLlxuXG4gICAgICBvcHRpb25zOiB7XG4gICAgICAgIGtleTogJ1lvdXIgQVBJIGtleSdcbiAgICAgICAgc2VjdXJlOiBmYWxzZSxcbiAgICAgICAgcXVlcnk6IHtcbiAgICAgICAgICBtYXh3aWR0aDogNTAwLFxuICAgICAgICAgIGNvbG9yczogdHJ1ZSxcbiAgICAgICAgfVxuICAgICAgfVxuICAgICovXG4gICAgZGVmYXVsdHM6IHt9LFxuXG4gICAgbG9nOiBmdW5jdGlvbihsZXZlbCwgbWVzc2FnZSl7XG4gICAgICBpZiAoIW5vbmUod2luZG93LmNvbnNvbGUpICYmICFub25lKHdpbmRvdy5jb25zb2xlW2xldmVsXSkpe1xuICAgICAgICB3aW5kb3cuY29uc29sZVtsZXZlbF0uYXBwbHkod2luZG93LmNvbnNvbGUsIFttZXNzYWdlXSk7XG4gICAgICB9XG4gICAgfSxcbiAgICAvLyBCYXNlZCBvbiB0aGUgbWV0aG9kIGFuZCBvcHRpb25zLCBidWlsZCB0aGUgdXJsLFxuICAgIGJ1aWxkOiBmdW5jdGlvbihtZXRob2QsIHVybHMsIG9wdGlvbnMpe1xuICAgICAgLy8gVGVjaG5pY2FsbHksIG5vdCBncmVhdC5cbiAgICAgIG9wdGlvbnMgPSBub25lKG9wdGlvbnMpID8ge306IG9wdGlvbnM7XG4gICAgICAvLyBCYXNlIG1ldGhvZC5cblxuICAgICAgdmFyIHNlY3VyZSA9IG9wdGlvbnMuc2VjdXJlO1xuICAgICAgaWYgKG5vbmUoc2VjdXJlKSl7XG4gICAgICAgIC8vIElmIHRoZSBzZWN1cmUgcGFyYW0gd2FzIG5vdCBzZWUsIHVzZSB0aGUgcHJvdG9jb2wgaW5zdGVhZC5cbiAgICAgICAgc2VjdXJlID0gd2luZG93LmxvY2F0aW9uLnByb3RvY29sID09PSAnaHR0cHM6Jz8gdHJ1ZTpmYWxzZTtcbiAgICAgIH1cblxuICAgICAgdmFyIGJhc2UgPSAoc2VjdXJlID8gJ2h0dHBzJzogJ2h0dHAnKSArXG4gICAgICAgICc6Ly9hcGkuZW1iZWQubHkvJyArIChtZXRob2QgPT09ICdvYmplY3RpZnknID8gJzIvJyA6ICcxLycpICsgbWV0aG9kO1xuXG4gICAgICAvLyBCYXNlIFF1ZXJ5O1xuICAgICAgdmFyIHF1ZXJ5ID0gbm9uZShvcHRpb25zLnF1ZXJ5KSA/IHt9IDogb3B0aW9ucy5xdWVyeTtcbiAgICAgIHF1ZXJ5LmtleSA9IG9wdGlvbnMua2V5O1xuICAgICAgYmFzZSArPSAnPycrJC5wYXJhbShxdWVyeSk7XG5cbiAgICAgIC8vIEFkZCB0aGUgdXJscyB0aGUgd2F5IHdlIGxpa2UuXG4gICAgICBiYXNlICs9ICcmdXJscz0nKyAkLm1hcCh1cmxzLCBlbmNvZGVVUklDb21wb25lbnQpLmpvaW4oJywnKTtcblxuICAgICAgcmV0dXJuIGJhc2U7XG4gICAgfSxcbiAgICAvLyBCYXRjaCBhIGJ1bmNoIG9mIFVSTFMgdXAgZm9yIHByb2Nlc3NpbmcuIFdpbGwgc3BsaXQgbG9uZ2VyIGxpc3RzIG91dFxuICAgIC8vIGludG8gbWFueSBiYXRjaGVzIGFuZCByZXR1cm4gdGhlIGNhbGxiYWNrIG9uIGVhY2ggYW5kIGFmdGVyIG9uIGRvbmUuXG4gICAgYWpheDogZnVuY3Rpb24obWV0aG9kLCB1cmxzLCBvcHRpb25zKXtcblxuICAgICAgLy8gVXNlIHRoZSBkZWZhdWx0cy5cbiAgICAgIG9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgZGVmYXVsdHMsICQuZW1iZWRseS5kZWZhdWx0cywgdHlwZW9mIG9wdGlvbnMgPT09ICdvYmplY3QnICYmIG9wdGlvbnMpO1xuXG4gICAgICBpZiAobm9uZShvcHRpb25zLmtleSkpe1xuICAgICAgICB0aGlzLmxvZygnZXJyb3InLCAnRW1iZWRseSBqUXVlcnkgcmVxdWlyZXMgYW4gQVBJIEtleS4gUGxlYXNlIHNpZ24gdXAgZm9yIG9uZSBhdCBodHRwOi8vZW1iZWQubHknKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIC8vIEV2ZXJ5dGhpbmcgaXMgZGVhbHQgd2l0aCBpbiBsaXN0cy5cbiAgICAgIHVybHMgPSBsaXN0aWZ5KHVybHMpO1xuXG4gICAgICAvLyBhZGQgYSBrZWVwZXIgdGhhdCBob2xkcyBldmVyeXRoaW5nIHRpbGwgd2UgYXJlIGdvb2QgdG8gZ28uXG4gICAgICB2YXIga2VlcGVyID0gbmV3IEtlZXBlcih1cmxzKTtcblxuICAgICAgdmFyIHZhbGlkX3VybHMgPSBbXSwgcmVqZWN0cyA9IFtdLCB2YWxpZDtcbiAgICAgIC8vIERlYnVuayB0aGUgaW52YWxpZCB1cmxzIHJpZ2h0IG5vdy5cbiAgICAgICQuZWFjaCh1cmxzLCBmdW5jdGlvbihpLCB1cmwpe1xuICAgICAgICB2YWxpZCA9IGZhbHNlO1xuICAgICAgICAvLyBNYWtlIHN1cmUgaXQncyBhIFVSTFxuICAgICAgICBpZiAodXJsUmUudGVzdCh1cmwpKXtcbiAgICAgICAgICB2YWxpZCA9IHRydWU7XG4gICAgICAgICAgLy8gSWYgdGhlIHVybFJlIGhhcyBiZWVuIGRlZmluZWQgbWFrZSBzdXJlIGl0IHdvcmtzLlxuICAgICAgICAgIGlmIChvcHRpb25zLnVybFJlICE9PSBudWxsICYmIG9wdGlvbnMudXJsUmUudGVzdCAmJiAhb3B0aW9ucy51cmxSZS50ZXN0KHVybCkpe1xuICAgICAgICAgICAgdmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gZGVhbCB3aXRoIHRoZSB2YWxpZCB1cmxzXG4gICAgICAgIGlmKHZhbGlkID09PSB0cnVlKXtcbiAgICAgICAgICB2YWxpZF91cmxzLnB1c2godXJsKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBOb3RpZnkgdGhlIGtlZXBlciB0aGF0IHdlIGhhdmUgYSBiYWQgdXJsLlxuICAgICAgICAgIHJlamVjdHMucHVzaCh7XG4gICAgICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgICAgIG9yaWdpbmFsX3VybDogdXJsLFxuICAgICAgICAgICAgZXJyb3I6IHRydWUsXG4gICAgICAgICAgICBpbnZhbGlkOiB0cnVlLFxuICAgICAgICAgICAgdHlwZTogJ2Vycm9yJyxcbiAgICAgICAgICAgIGVycm9yX21lc3NhZ2U6ICdJbnZhbGlkIFVSTCBcIicrIHVybCsnXCInXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICAvLyBQdXQgZXZlcnl0aGluZyBpbnRvIGJhdGNoZXMsIGV2ZW4gaWYgdGhlc2UgaXMgb25seSBvbmUuXG4gICAgICB2YXIgYmF0Y2hlcyA9IGJhdGNoKHZhbGlkX3VybHMsIG9wdGlvbnMuYmF0Y2gpLCBzZWxmID0gdGhpcztcblxuICAgICAgLy8gQWN0dWFsbHkgbWFrZSB0aG9zZSBjYWxscy5cbiAgICAgICQuZWFjaChiYXRjaGVzLCBmdW5jdGlvbihpLCBiYXRjaCl7XG4gICAgICAgICQuYWpheCh7XG4gICAgICAgICAgdXJsOiBzZWxmLmJ1aWxkKG1ldGhvZCwgYmF0Y2gsIG9wdGlvbnMpLFxuICAgICAgICAgIGRhdGFUeXBlOiAnanNvbnAnLFxuICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpe1xuICAgICAgICAgICAgLy8gV2UgemlwIHRvZ2V0aGVyIHRoZSB1cmxzIGFuZCB0aGUgZGF0YSBzbyB3ZSBoYXZlIHRoZSBvcmlnaW5hbF91cmxcbiAgICAgICAgICAgICQuZWFjaCh6aXAoW2JhdGNoLCBkYXRhXSksIGZ1bmN0aW9uKGksIG9iail7XG4gICAgICAgICAgICAgIHZhciByZXN1bHQgPSBvYmpbMV07XG4gICAgICAgICAgICAgIHJlc3VsdC5vcmlnaW5hbF91cmwgPSBvYmpbMF07XG4gICAgICAgICAgICAgIHJlc3VsdC5pbnZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgICAgIGtlZXBlci5ub3RpZnkocmVzdWx0KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgaWYgKHJlamVjdHMubGVuZ3RoKXtcbiAgICAgICAgLy8gc2V0IGEgc2hvcnQgdGltZW91dCBzbyB3ZSBjYW4gc2V0IHVwIHByb2dyZXNzIGFuZCBkb25lLCBvdGhlcndpc2VcbiAgICAgICAgLy8gdGhlIHByb2dyZXNzIG5vdGlmaWVyIHdpbGwgbm90IGdldCBhbGwgdGhlIGV2ZW50cy5cbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgICAgICQuZWFjaChyZWplY3RzLCBmdW5jdGlvbihpLCByZWplY3Qpe1xuICAgICAgICAgICAga2VlcGVyLm5vdGlmeShyZWplY3QpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9LCAxKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGtlZXBlci5fZGVmZXJyZWQ7XG4gICAgfSxcblxuICAgIC8vIFdyYXBwZXJzIGFyb3VuZCBhamF4LlxuICAgIG9lbWJlZDogZnVuY3Rpb24odXJscywgb3B0aW9ucyl7XG4gICAgICByZXR1cm4gdGhpcy5hamF4KCdvZW1iZWQnLCB1cmxzLCBvcHRpb25zKTtcbiAgICB9LFxuICAgIHByZXZpZXc6IGZ1bmN0aW9uKHVybHMsIG9wdGlvbnMpe1xuICAgICAgcmV0dXJuIHRoaXMuYWpheCgncHJldmlldycsIHVybHMsIG9wdGlvbnMpO1xuICAgIH0sXG4gICAgb2JqZWN0aWZ5OiBmdW5jdGlvbih1cmxzLCBvcHRpb25zKXtcbiAgICAgIHJldHVybiB0aGlzLmFqYXgoJ29iamVjdGlmeScsIHVybHMsIG9wdGlvbnMpO1xuICAgIH0sXG4gICAgZXh0cmFjdDogZnVuY3Rpb24odXJscywgb3B0aW9ucyl7XG4gICAgICByZXR1cm4gdGhpcy5hamF4KCdleHRyYWN0JywgdXJscywgb3B0aW9ucyk7XG4gICAgfVxuICB9O1xuXG4gIC8vIGRpcmVjdCBBUEkgZGVhbGluZyBkaXJlY3RseSB3aXRoIEVtYmVkbHkncyBEaXNwbGF5IEFQSS5cbiAgdmFyIEltYWdlQVBJID0gZnVuY3Rpb24gKCkge307XG4gIEltYWdlQVBJLnByb3RvdHlwZSA9IHtcblxuICAgIC8vIEJhc2VkIG9uIHRoZSBtZXRob2QgYW5kIG9wdGlvbnMsIGJ1aWxkIHRoZSBpbWFnZSB1cmwsXG4gICAgYnVpbGQ6IGZ1bmN0aW9uKG1ldGhvZCwgdXJsLCBvcHRpb25zKXtcbiAgICAgIG9wdGlvbnMgID0gJC5leHRlbmQoe30sICQuZW1iZWRseS5kZWZhdWx0cywgdHlwZW9mIG9wdGlvbnMgPT09ICdvYmplY3QnICYmIG9wdGlvbnMpO1xuXG4gICAgICB2YXIgc2VjdXJlID0gb3B0aW9ucy5zZWN1cmU7XG4gICAgICBpZiAobm9uZShzZWN1cmUpKXtcbiAgICAgICAgLy8gSWYgdGhlIHNlY3VyZSBwYXJhbSB3YXMgbm90IHNlZW4sIHVzZSB0aGUgcHJvdG9jb2wgaW5zdGVhZC5cbiAgICAgICAgc2VjdXJlID0gd2luZG93LmxvY2F0aW9uLnByb3RvY29sID09PSAnaHR0cHM6Jz8gdHJ1ZTpmYWxzZTtcbiAgICAgIH1cblxuICAgICAgdmFyIGJhc2UgPSAoc2VjdXJlID8gJ2h0dHBzJzogJ2h0dHAnKSArXG4gICAgICAgICc6Ly9pLmVtYmVkLmx5LycgKyAobWV0aG9kID09PSAnZGlzcGxheScgPyAnMS8nIDogJzEvZGlzcGxheS8nKSArIG1ldGhvZDtcblxuICAgICAgLy8gQmFzZSBRdWVyeVxuICAgICAgdmFyIHF1ZXJ5ID0gbm9uZShvcHRpb25zLnF1ZXJ5KSA/IHt9IDogb3B0aW9ucy5xdWVyeTtcbiAgICAgIHF1ZXJ5LmtleSA9IG9wdGlvbnMua2V5O1xuICAgICAgYmFzZSArPSAnPycrJC5wYXJhbShxdWVyeSk7XG5cbiAgICAgIC8vIEFkZCB0aGUgaW1hZ2UgdXJsXG4gICAgICBiYXNlICs9ICcmdXJsPScrIGVuY29kZVVSSUNvbXBvbmVudCh1cmwpO1xuXG4gICAgICByZXR1cm4gYmFzZTtcbiAgICB9LFxuICAgIC8vIFdyYXBwZXJzIGFyb3VuZCBidWlsZCBpbWFnZSB1cmwgZnVuY3Rpb24uXG4gICAgZGlzcGxheTogZnVuY3Rpb24odXJsLCBvcHRpb25zKXtcbiAgICAgIHJldHVybiB0aGlzLmJ1aWxkKCdkaXNwbGF5JywgdXJsLCBvcHRpb25zKTtcbiAgICB9LFxuICAgIHJlc2l6ZTogZnVuY3Rpb24odXJsLCBvcHRpb25zKXtcbiAgICAgIHJldHVybiB0aGlzLmJ1aWxkKCdyZXNpemUnLCB1cmwsIG9wdGlvbnMpO1xuICAgIH0sXG4gICAgZmlsbDogZnVuY3Rpb24odXJsLCBvcHRpb25zKXtcbiAgICAgIHJldHVybiB0aGlzLmJ1aWxkKCdmaWxsJywgdXJsLCBvcHRpb25zKTtcbiAgICB9LFxuICAgIGNyb3A6IGZ1bmN0aW9uKHVybCwgb3B0aW9ucyl7XG4gICAgICByZXR1cm4gdGhpcy5idWlsZCgnY3JvcCcsIHVybCwgb3B0aW9ucyk7XG4gICAgfVxuICB9O1xuXG4gIHZhciBFbWJlZGx5ID0gZnVuY3Rpb24gKGVsZW1lbnQsIHVybCwgb3B0aW9ucykge1xuICAgIHRoaXMuaW5pdChlbGVtZW50LCB1cmwsIG9wdGlvbnMpO1xuICB9O1xuXG4gIEVtYmVkbHkucHJvdG90eXBlID0ge1xuICAgIGluaXQ6IGZ1bmN0aW9uKGVsZW0sIG9yaWdpbmFsX3VybCwgb3B0aW9ucyl7XG4gICAgICB0aGlzLmVsZW0gPSBlbGVtO1xuICAgICAgdGhpcy4kZWxlbSA9ICQoZWxlbSk7XG4gICAgICB0aGlzLm9yaWdpbmFsX3VybCA9IG9yaWdpbmFsX3VybDtcbiAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICB0aGlzLmxvYWRlZCA9ICQuRGVmZXJyZWQoKTtcblxuICAgICAgLy8gU2V0cyB1cCBzb21lIHRyaWdnZXJzLlxuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdGhpcy5sb2FkZWQuZG9uZShmdW5jdGlvbigpe1xuICAgICAgICBzZWxmLiRlbGVtLnRyaWdnZXIoJ2xvYWRlZCcsIFtzZWxmXSk7XG4gICAgICB9KTtcblxuICAgICAgLy8gU28geW91IGNhbiBsaXN0ZW4gd2hlbiB0aGUgdGFnIGhhcyBiZWVuIGluaXRpYWxpemVkO1xuICAgICAgdGhpcy4kZWxlbS50cmlnZ2VyKCdpbml0aWFsaXplZCcsIFt0aGlzXSk7XG4gICAgfSxcbiAgICBwcm9ncmVzczogZnVuY3Rpb24ob2JqKXtcbiAgICAgICQuZXh0ZW5kKHRoaXMsIG9iaik7XG5cbiAgICAgIC8vIGlmIHRoZXJlIGlzIGEgY3VzdG9tIGRpc3BsYXkgbWV0aG9kLCB1c2UgaXQuXG4gICAgICBpZiAodGhpcy5vcHRpb25zLmRpc3BsYXkpe1xuICAgICAgICB0aGlzLm9wdGlvbnMuZGlzcGxheS5hcHBseSh0aGlzLmVsZW0sIFt0aGlzLCB0aGlzLmVsZW1dKTtcbiAgICAgIH1cbiAgICAgIC8vIFdlIG9ubHkgaGF2ZSBhIHNpbXBsZSBjYXNlIGZvciBvRW1iZWQuIEV2ZXJ5dGhpbmcgZWxzZSBzaG91bGQgYmUgYSBjdXN0b21cbiAgICAgIC8vIHN1Y2Nlc3MgbWV0aG9kLlxuICAgICAgZWxzZSBpZih0aGlzLm9wdGlvbnMuZW5kcG9pbnQgPT09ICdvZW1iZWQnKXtcbiAgICAgICAgdGhpcy5kaXNwbGF5KCk7XG4gICAgICB9XG5cbiAgICAgIC8vIE5vdGlmaWVzIGFsbCBsaXN0ZW5lcnMgdGhhdCB0aGUgZGF0YSBoYXMgYmVlbiBsb2FkZWQuXG4gICAgICB0aGlzLmxvYWRlZC5yZXNvbHZlKHRoaXMpO1xuICAgIH0sXG4gICAgaW1hZ2VTdHlsZTogZnVuY3Rpb24oKXtcbiAgICAgIHZhciBzdHlsZSA9IFtdLCB1bml0cztcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuYWRkSW1hZ2VTdHlsZXMpIHtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5xdWVyeS5tYXh3aWR0aCkge1xuICAgICAgICAgIHVuaXRzID0gaXNOYU4ocGFyc2VJbnQodGhpcy5vcHRpb25zLnF1ZXJ5Lm1heHdpZHRoLCAxMCkpID8gJycgOiAncHgnO1xuICAgICAgICAgICAgc3R5bGUucHVzaChcIm1heC13aWR0aDogXCIgKyAodGhpcy5vcHRpb25zLnF1ZXJ5Lm1heHdpZHRoKSt1bml0cyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5xdWVyeS5tYXhoZWlnaHQpIHtcbiAgICAgICAgICB1bml0cyA9IGlzTmFOKHBhcnNlSW50KHRoaXMub3B0aW9ucy5xdWVyeS5tYXhoZWlnaHQsMTApKSA/ICcnIDogJ3B4JztcbiAgICAgICAgICAgIHN0eWxlLnB1c2goXCJtYXgtaGVpZ2h0OiBcIiArICh0aGlzLm9wdGlvbnMucXVlcnkubWF4aGVpZ2h0KSt1bml0cyk7XG4gICAgICAgICAgfVxuICAgICAgIH1cbiAgICAgICByZXR1cm4gc3R5bGUuam9pbignOycpO1xuICAgIH0sXG5cbiAgICBkaXNwbGF5OiBmdW5jdGlvbigpe1xuICAgICAgLy8gSWdub3JlIGVycm9yc1xuICAgICAgaWYgKHRoaXMudHlwZSA9PT0gJ2Vycm9yJyl7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgLy8gSW1hZ2UgU3R5bGUuXG4gICAgICB0aGlzLnN0eWxlID0gdGhpcy5pbWFnZVN0eWxlKCk7XG5cbiAgICAgIHZhciBodG1sO1xuICAgICAgaWYgKHRoaXMudHlwZSA9PT0gJ3Bob3RvJyl7XG4gICAgICAgIGh0bWwgPSBcIjxhIGhyZWY9J1wiICsgdGhpcy5vcmlnaW5hbF91cmwgKyBcIicgdGFyZ2V0PSdfYmxhbmsnPlwiO1xuICAgICAgICBodG1sICs9IFwiPGltZyBzdHlsZT0nXCIgKyB0aGlzLnN0eWxlICsgXCInIHNyYz0nXCIgKyB0aGlzLnVybCArIFwiJyBhbHQ9J1wiICsgdGhpcy50aXRsZSArIFwiJyAvPjwvYT5cIjtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy50eXBlID09PSAndmlkZW8nIHx8IHRoaXMudHlwZSA9PT0gJ3JpY2gnKXtcbiAgICAgICAgaHRtbCA9IHRoaXMuaHRtbDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMudGl0bGUgPSB0aGlzLnRpdGxlIHx8IHRoaXMudXJsO1xuICAgICAgICBodG1sID0gdGhpcy50aHVtYm5haWxfdXJsID8gXCI8aW1nIHNyYz0nXCIgKyB0aGlzLnRodW1ibmFpbF91cmwgKyBcIicgY2xhc3M9J3RodW1iJyBzdHlsZT0nXCIgKyB0aGlzLnN0eWxlICsgXCInLz5cIiA6IFwiXCI7XG4gICAgICAgIGh0bWwgKz0gXCI8YSBocmVmPSdcIiArIHRoaXMub3JpZ2luYWxfdXJsICsgXCInPlwiICsgdGhpcy50aXRsZSArIFwiPC9hPlwiO1xuICAgICAgICBodG1sICs9IHRoaXMucHJvdmlkZXJfbmFtZSA/IFwiPGEgaHJlZj0nXCIgKyB0aGlzLnByb3ZpZGVyX3VybCArIFwiJyBjbGFzcz0ncHJvdmlkZXInPlwiICsgdGhpcy5wcm92aWRlcl9uYW1lICsgXCI8L2E+XCIgOiBcIlwiO1xuICAgICAgICBodG1sICs9IHRoaXMuZGVzY3JpcHRpb24gPyAnPGRpdiBjbGFzcz1cImRlc2NyaXB0aW9uXCI+JyArIHRoaXMuZGVzY3JpcHRpb24gKyAnPC9kaXY+JyA6ICcnO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5vcHRpb25zLndyYXBFbGVtZW50KSB7XG4gICAgICAgIGh0bWwgPSAnPCcgKyB0aGlzLm9wdGlvbnMud3JhcEVsZW1lbnQrICcgY2xhc3M9XCInICsgdGhpcy5vcHRpb25zLmNsYXNzTmFtZSArICdcIj4nICsgaHRtbCArICc8LycgKyB0aGlzLm9wdGlvbnMud3JhcEVsZW1lbnQgKyAnPic7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuY29kZSA9IGh0bWw7XG4gICAgICAvLyBZYXkuXG4gICAgICBpZiAodGhpcy5vcHRpb25zLm1ldGhvZCA9PT0gJ3JlcGxhY2UnKXtcbiAgICAgICAgdGhpcy4kZWxlbS5yZXBsYWNlV2l0aCh0aGlzLmNvZGUpO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLm9wdGlvbnMubWV0aG9kID09PSAnYWZ0ZXInKXtcbiAgICAgICAgdGhpcy4kZWxlbS5hZnRlcih0aGlzLmNvZGUpO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLm9wdGlvbnMubWV0aG9kID09PSAnYWZ0ZXJQYXJlbnQnKXtcbiAgICAgICAgdGhpcy4kZWxlbS5wYXJlbnQoKS5hZnRlcih0aGlzLmNvZGUpO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLm9wdGlvbnMubWV0aG9kID09PSAncmVwbGFjZVBhcmVudCcpe1xuICAgICAgICB0aGlzLiRlbGVtLnBhcmVudCgpLnJlcGxhY2VXaXRoKHRoaXMuY29kZSk7XG4gICAgICB9XG4gICAgICAvLyBmb3IgRE9NIGVsZW1lbnRzIHdlIGFkZCB0aGUgb2VtYmVkIG9iamVjdCBhcyBhIGRhdGEgZmllbGQgdG8gdGhhdCBlbGVtZW50IGFuZCB0cmlnZ2VyIGEgY3VzdG9tIGV2ZW50IGNhbGxlZCBvZW1iZWRcbiAgICAgIC8vIHdpdGggdGhlIGN1c3RvbSBldmVudCwgZGV2ZWxvcGVycyBjYW4gZG8gYW55IG51bWJlciBvZiBjdXN0b20gaW50ZXJhY3Rpb25zIHdpdGggdGhlIGRhdGEgdGhhdCBpcyByZXR1cm5lZC5cbiAgICAgIHRoaXMuJGVsZW0udHJpZ2dlcignZGlzcGxheWVkJywgW3RoaXNdKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gU2V0cyB1cCBhIGdlbmVyaWMgQVBJIGZvciB1c2UuXG4gICQuZW1iZWRseSA9IG5ldyBBUEkoKTtcblxuICAvLyBBZGQgZGlzcGxheSB0byBpdC5cbiAgJC5lbWJlZGx5LmRpc3BsYXkgPSBuZXcgSW1hZ2VBUEkoKTtcblxuICAkLmZuLmVtYmVkbHkgPSBmdW5jdGlvbiAoIG9wdGlvbnMgKSB7XG4gICAgaWYgKG9wdGlvbnMgPT09IHVuZGVmaW5lZCB8fCB0eXBlb2Ygb3B0aW9ucyA9PT0gJ29iamVjdCcpIHtcblxuICAgICAgLy8gVXNlIHRoZSBkZWZhdWx0c1xuICAgICAgb3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBkZWZhdWx0cywgJC5lbWJlZGx5LmRlZmF1bHRzLCB0eXBlb2Ygb3B0aW9ucyA9PT0gJ29iamVjdCcgJiYgb3B0aW9ucyk7XG5cbiAgICAgIC8vIEtpbGwgdGhlc2UgZWFybHkuXG4gICAgICBpZiAobm9uZShvcHRpb25zLmtleSkpe1xuICAgICAgICAkLmVtYmVkbHkubG9nKCdlcnJvcicsICdFbWJlZGx5IGpRdWVyeSByZXF1aXJlcyBhbiBBUEkgS2V5LiBQbGVhc2Ugc2lnbiB1cCBmb3Igb25lIGF0IGh0dHA6Ly9lbWJlZC5seScpO1xuICAgICAgICByZXR1cm4gdGhpcy5lYWNoKCQubm9vcCk7XG4gICAgICB9XG4gICAgICAvLyBLZWVwIHRyYWNrIG9mIHRoZSBub2RlcyB3ZSBhcmUgd29ya2luZyBvbiBzbyB3ZSBjYW4gYWRkIHRoZW0gdG8gdGhlXG4gICAgICAvLyBwcm9ncmVzcyBldmVudHMuXG4gICAgICB2YXIgbm9kZXMgPSB7fTtcblxuICAgICAgLy8gQ3JlYXRlIHRoZSBub2RlLlxuICAgICAgdmFyIGNyZWF0ZSA9IGZ1bmN0aW9uIChlbGVtKXtcbiAgICAgICAgaWYgKCEkLmRhdGEoJChlbGVtKSwgJ2VtYmVkbHknKSkge1xuICAgICAgICAgIHZhciB1cmwgPSAkKGVsZW0pLmF0dHIoJ2hyZWYnKTtcblxuICAgICAgICAgIHZhciBub2RlID0gbmV3IEVtYmVkbHkoZWxlbSwgdXJsLCBvcHRpb25zKTtcbiAgICAgICAgICAkLmRhdGEoZWxlbSwgJ2VtYmVkbHknLCBub2RlKTtcblxuICAgICAgICAgIGlmIChub2Rlcy5oYXNPd25Qcm9wZXJ0eSh1cmwpKXtcbiAgICAgICAgICAgIG5vZGVzW3VybF0ucHVzaChub2RlKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbm9kZXNbdXJsXSA9IFtub2RlXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIC8vIEZpbmQgZXZlcnl0aGluZyB3aXRoIGEgVVJMIG9uIGl0LlxuICAgICAgdmFyIGVsZW1zID0gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCAhbm9uZSgkKHRoaXMpLmF0dHIoJ2hyZWYnKSkgKXtcbiAgICAgICAgICBjcmVhdGUodGhpcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgJCh0aGlzKS5maW5kKCdhJykuZWFjaChmdW5jdGlvbigpe1xuICAgICAgICAgICAgaWYgKCAhIG5vbmUoJCh0aGlzKS5hdHRyKCdocmVmJykpICl7XG4gICAgICAgICAgICAgIGNyZWF0ZSh0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIC8vIHNldCB1cCB0aGUgYXBpIGNhbGwuXG4gICAgICB2YXIgZGVmZXJyZWQgPSAkLmVtYmVkbHkuYWpheChvcHRpb25zLmVuZHBvaW50LFxuICAgICAgICAkLm1hcChub2RlcywgZnVuY3Rpb24odmFsdWUsIGtleSkge3JldHVybiBrZXk7fSksXG4gICAgICAgIG9wdGlvbnMpXG4gICAgICAgIC5wcm9ncmVzcyhmdW5jdGlvbihvYmope1xuICAgICAgICAgICQuZWFjaChub2Rlc1tvYmoub3JpZ2luYWxfdXJsXSwgZnVuY3Rpb24oaSwgbm9kZSl7XG4gICAgICAgICAgICBub2RlLnByb2dyZXNzKG9iaik7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICBpZiAob3B0aW9ucy5wcm9ncmVzcyl7XG4gICAgICAgIGRlZmVycmVkLnByb2dyZXNzKG9wdGlvbnMucHJvZ3Jlc3MpO1xuICAgICAgfVxuICAgICAgaWYgKG9wdGlvbnMuZG9uZSl7XG4gICAgICAgIGRlZmVycmVkLmRvbmUob3B0aW9ucy5kb25lKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBlbGVtcztcbiAgICB9XG4gIH07XG5cbiAgLy8gQ3VzdG9tIHNlbGVjdG9yLlxuICAkLmV4cHJbJzonXS5lbWJlZGx5ID0gZnVuY3Rpb24oZWxlbSkge1xuICAgIHJldHVybiAhIG5vbmUoJChlbGVtKS5kYXRhKCdlbWJlZGx5JykpO1xuICB9O1xuXG4gIC8vIFVzZSB3aXRoIHNlbGVjdG9yIHRvIGZpbmQgaW1nIHRhZ3Mgd2l0aCBkYXRhLXNyYyBhdHRyaWJ1dGVcbiAgLy8gZS5nLiA8aW1nIGRhdGEtc3JjPVwiaHR0cDovL2VtYmVkLmx5L3N0YXRpYy9pbWFnZXMvbG9nby5wbmdcIj48L2ltZz5cbiAgJC5mbi5kaXNwbGF5ID0gZnVuY3Rpb24gKGVuZHBvaW50LCBvcHRpb25zKSB7XG5cbiAgICAvLyBkZWZhdWx0IHRvIGRpc3BsYXlcbiAgICBpZiAobm9uZShlbmRwb2ludCkpIHtcbiAgICAgIGVuZHBvaW50ID0gJ2Rpc3BsYXknO1xuICAgIH1cblxuICAgIGlmIChvcHRpb25zID09PSB1bmRlZmluZWQgfHwgdHlwZW9mIG9wdGlvbnMgPT09ICdvYmplY3QnKSB7XG5cbiAgICAgIC8vIFVzZSB0aGUgZGVmYXVsdHNcbiAgICAgIG9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgZGVmYXVsdHMsICQuZW1iZWRseS5kZWZhdWx0cywgdHlwZW9mIG9wdGlvbnMgPT09ICdvYmplY3QnICYmIG9wdGlvbnMpO1xuXG4gICAgICAvLyBLZXkgQ2hlY2suXG4gICAgICBpZiAobm9uZShvcHRpb25zLmtleSkpe1xuICAgICAgICAkLmVtYmVkbHkubG9nKCdlcnJvcicsICdFbWJlZGx5IGpRdWVyeSByZXF1aXJlcyBhbiBBUEkgS2V5LiBQbGVhc2Ugc2lnbiB1cCBmb3Igb25lIGF0IGh0dHA6Ly9lbWJlZC5seS9kaXNwbGF5Jyk7XG4gICAgICAgIHJldHVybiB0aGlzLmVhY2goJC5ub29wKTtcbiAgICAgIH1cblxuICAgICAgLy8gQ3JlYXRlIHRoZSBub2RlIGZvciBhbGwgZWxlbWVudHNcbiAgICAgIHZhciBjcmVhdGUgPSBmdW5jdGlvbiAoZWxlbSl7XG4gICAgICAgIHZhciAkZWxlbSA9ICQoZWxlbSk7XG4gICAgICAgIGlmICghJGVsZW0uZGF0YSgnZGlzcGxheScpKSB7XG4gICAgICAgICAgdmFyIHVybCA9ICRlbGVtLmRhdGEoJ3NyYycpIHx8ICRlbGVtLmF0dHIoJ2hyZWYnKTtcblxuICAgICAgICAgIHZhciBkYXRhID0ge1xuICAgICAgICAgICAgb3JpZ2luYWxfdXJsIDogdXJsLFxuICAgICAgICAgICAgdXJsIDogJC5lbWJlZGx5LmRpc3BsYXkuYnVpbGQoZW5kcG9pbnQsIHVybCwgb3B0aW9ucylcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgJGVsZW0uZGF0YSgnZGlzcGxheScsIGRhdGEpO1xuICAgICAgICAgICRlbGVtLnRyaWdnZXIoJ2luaXRpYWxpemVkJywgW2VsZW1dKTtcblxuICAgICAgICAgIHZhciBodG1sID0gXCI8aW1nIHNyYz0nXCIgKyBkYXRhLnVybCArIFwiJyAvPlwiO1xuICAgICAgICAgIGlmICgkZWxlbS5pcygnYScpKXtcbiAgICAgICAgICAgICRlbGVtLmFwcGVuZChodG1sKTtcbiAgICAgICAgICB9ZWxzZSB7XG4gICAgICAgICAgICAkZWxlbS5yZXBsYWNlV2l0aChodG1sKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICB2YXIgZG9DcmVhdGUgPSBmdW5jdGlvbihlbGVtKXtcbiAgICAgICAgaWYgKG5vbmUoJChlbGVtKS5kYXRhKCdzcmMnKSkgJiYgbm9uZSgkKGVsZW0pLmF0dHIoJ2hyZWYnKSkpe1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH07XG5cbiAgICAgIC8vIEZpbmQgZXZlcnkgaW1hZ2Ugb3IgYSB0YWcgd2l0aCBhIGRhdGEtc3JjIGF0dHJpYnV0ZVxuICAgICAgdmFyIGVsZW1zID0gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCBkb0NyZWF0ZSh0aGlzKSApe1xuICAgICAgICAgIGNyZWF0ZSh0aGlzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAkKHRoaXMpLmZpbmQoJ2ltZyxhJykuZWFjaChmdW5jdGlvbigpe1xuICAgICAgICAgICAgaWYgKCBkb0NyZWF0ZSh0aGlzKSApe1xuICAgICAgICAgICAgICBjcmVhdGUodGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gZWxlbXM7XG4gICAgfVxuICB9O1xuXG4gIC8vIEN1c3RvbSBzZWxlY3Rvci5cbiAgJC5leHByWyc6J10uZGlzcGxheSA9IGZ1bmN0aW9uKGVsZW0pIHtcbiAgICByZXR1cm4gISBub25lKCQoZWxlbSkuZGF0YSgnZGlzcGxheScpKTtcbiAgfTtcblxufShqUXVlcnksIHdpbmRvdykpO1xuIiwiLyoqXG4gKiBUaW1lYWdvIGlzIGEgalF1ZXJ5IHBsdWdpbiB0aGF0IG1ha2VzIGl0IGVhc3kgdG8gc3VwcG9ydCBhdXRvbWF0aWNhbGx5XG4gKiB1cGRhdGluZyBmdXp6eSB0aW1lc3RhbXBzIChlLmcuIFwiNCBtaW51dGVzIGFnb1wiIG9yIFwiYWJvdXQgMSBkYXkgYWdvXCIpLlxuICpcbiAqIEBuYW1lIHRpbWVhZ29cbiAqIEB2ZXJzaW9uIDEuNC4wXG4gKiBAcmVxdWlyZXMgalF1ZXJ5IHYxLjIuMytcbiAqIEBhdXRob3IgUnlhbiBNY0dlYXJ5XG4gKiBAbGljZW5zZSBNSVQgTGljZW5zZSAtIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG4gKlxuICogRm9yIHVzYWdlIGFuZCBleGFtcGxlcywgdmlzaXQ6XG4gKiBodHRwOi8vdGltZWFnby55YXJwLmNvbS9cbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMDgtMjAxMywgUnlhbiBNY0dlYXJ5IChyeWFuIC1bYXRdLSBtY2dlYXJ5IFsqZG90Kl0gb3JnKVxuICovXG5cbihmdW5jdGlvbiAoZmFjdG9yeSkge1xuICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgLy8gQU1ELiBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlLlxuICAgIGRlZmluZShbJ2pxdWVyeSddLCBmYWN0b3J5KTtcbiAgfSBlbHNlIHtcbiAgICAvLyBCcm93c2VyIGdsb2JhbHNcbiAgICBmYWN0b3J5KGpRdWVyeSk7XG4gIH1cbn0oZnVuY3Rpb24gKCQpIHtcbiAgJC50aW1lYWdvID0gZnVuY3Rpb24odGltZXN0YW1wKSB7XG4gICAgaWYgKHRpbWVzdGFtcCBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICAgIHJldHVybiBpbldvcmRzKHRpbWVzdGFtcCk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgdGltZXN0YW1wID09PSBcInN0cmluZ1wiKSB7XG4gICAgICByZXR1cm4gaW5Xb3JkcygkLnRpbWVhZ28ucGFyc2UodGltZXN0YW1wKSk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgdGltZXN0YW1wID09PSBcIm51bWJlclwiKSB7XG4gICAgICByZXR1cm4gaW5Xb3JkcyhuZXcgRGF0ZSh0aW1lc3RhbXApKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGluV29yZHMoJC50aW1lYWdvLmRhdGV0aW1lKHRpbWVzdGFtcCkpO1xuICAgIH1cbiAgfTtcbiAgdmFyICR0ID0gJC50aW1lYWdvO1xuXG4gICQuZXh0ZW5kKCQudGltZWFnbywge1xuICAgIHNldHRpbmdzOiB7XG4gICAgICByZWZyZXNoTWlsbGlzOiA2MDAwMCxcbiAgICAgIGFsbG93UGFzdDogdHJ1ZSxcbiAgICAgIGFsbG93RnV0dXJlOiBmYWxzZSxcbiAgICAgIGxvY2FsZVRpdGxlOiBmYWxzZSxcbiAgICAgIGN1dG9mZjogMCxcbiAgICAgIHN0cmluZ3M6IHtcbiAgICAgICAgcHJlZml4QWdvOiBudWxsLFxuICAgICAgICBwcmVmaXhGcm9tTm93OiBudWxsLFxuICAgICAgICBzdWZmaXhBZ286IFwiYWdvXCIsXG4gICAgICAgIHN1ZmZpeEZyb21Ob3c6IFwiZnJvbSBub3dcIixcbiAgICAgICAgaW5QYXN0OiAnYW55IG1vbWVudCBub3cnLFxuICAgICAgICBzZWNvbmRzOiBcImxlc3MgdGhhbiBhIG1pbnV0ZVwiLFxuICAgICAgICBtaW51dGU6IFwiYWJvdXQgYSBtaW51dGVcIixcbiAgICAgICAgbWludXRlczogXCIlZCBtaW51dGVzXCIsXG4gICAgICAgIGhvdXI6IFwiYWJvdXQgYW4gaG91clwiLFxuICAgICAgICBob3VyczogXCJhYm91dCAlZCBob3Vyc1wiLFxuICAgICAgICBkYXk6IFwiYSBkYXlcIixcbiAgICAgICAgZGF5czogXCIlZCBkYXlzXCIsXG4gICAgICAgIG1vbnRoOiBcImFib3V0IGEgbW9udGhcIixcbiAgICAgICAgbW9udGhzOiBcIiVkIG1vbnRoc1wiLFxuICAgICAgICB5ZWFyOiBcImFib3V0IGEgeWVhclwiLFxuICAgICAgICB5ZWFyczogXCIlZCB5ZWFyc1wiLFxuICAgICAgICB3b3JkU2VwYXJhdG9yOiBcIiBcIixcbiAgICAgICAgbnVtYmVyczogW11cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgaW5Xb3JkczogZnVuY3Rpb24oZGlzdGFuY2VNaWxsaXMpIHtcbiAgICAgIGlmKCF0aGlzLnNldHRpbmdzLmFsbG93UGFzdCAmJiAhIHRoaXMuc2V0dGluZ3MuYWxsb3dGdXR1cmUpIHtcbiAgICAgICAgICB0aHJvdyAndGltZWFnbyBhbGxvd1Bhc3QgYW5kIGFsbG93RnV0dXJlIHNldHRpbmdzIGNhbiBub3QgYm90aCBiZSBzZXQgdG8gZmFsc2UuJztcbiAgICAgIH1cblxuICAgICAgdmFyICRsID0gdGhpcy5zZXR0aW5ncy5zdHJpbmdzO1xuICAgICAgdmFyIHByZWZpeCA9ICRsLnByZWZpeEFnbztcbiAgICAgIHZhciBzdWZmaXggPSAkbC5zdWZmaXhBZ287XG4gICAgICBpZiAodGhpcy5zZXR0aW5ncy5hbGxvd0Z1dHVyZSkge1xuICAgICAgICBpZiAoZGlzdGFuY2VNaWxsaXMgPCAwKSB7XG4gICAgICAgICAgcHJlZml4ID0gJGwucHJlZml4RnJvbU5vdztcbiAgICAgICAgICBzdWZmaXggPSAkbC5zdWZmaXhGcm9tTm93O1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmKCF0aGlzLnNldHRpbmdzLmFsbG93UGFzdCAmJiBkaXN0YW5jZU1pbGxpcyA+PSAwKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldHRpbmdzLnN0cmluZ3MuaW5QYXN0O1xuICAgICAgfVxuXG4gICAgICB2YXIgc2Vjb25kcyA9IE1hdGguYWJzKGRpc3RhbmNlTWlsbGlzKSAvIDEwMDA7XG4gICAgICB2YXIgbWludXRlcyA9IHNlY29uZHMgLyA2MDtcbiAgICAgIHZhciBob3VycyA9IG1pbnV0ZXMgLyA2MDtcbiAgICAgIHZhciBkYXlzID0gaG91cnMgLyAyNDtcbiAgICAgIHZhciB5ZWFycyA9IGRheXMgLyAzNjU7XG5cbiAgICAgIGZ1bmN0aW9uIHN1YnN0aXR1dGUoc3RyaW5nT3JGdW5jdGlvbiwgbnVtYmVyKSB7XG4gICAgICAgIHZhciBzdHJpbmcgPSAkLmlzRnVuY3Rpb24oc3RyaW5nT3JGdW5jdGlvbikgPyBzdHJpbmdPckZ1bmN0aW9uKG51bWJlciwgZGlzdGFuY2VNaWxsaXMpIDogc3RyaW5nT3JGdW5jdGlvbjtcbiAgICAgICAgdmFyIHZhbHVlID0gKCRsLm51bWJlcnMgJiYgJGwubnVtYmVyc1tudW1iZXJdKSB8fCBudW1iZXI7XG4gICAgICAgIHJldHVybiBzdHJpbmcucmVwbGFjZSgvJWQvaSwgdmFsdWUpO1xuICAgICAgfVxuXG4gICAgICB2YXIgd29yZHMgPSBzZWNvbmRzIDwgNDUgJiYgc3Vic3RpdHV0ZSgkbC5zZWNvbmRzLCBNYXRoLnJvdW5kKHNlY29uZHMpKSB8fFxuICAgICAgICBzZWNvbmRzIDwgOTAgJiYgc3Vic3RpdHV0ZSgkbC5taW51dGUsIDEpIHx8XG4gICAgICAgIG1pbnV0ZXMgPCA0NSAmJiBzdWJzdGl0dXRlKCRsLm1pbnV0ZXMsIE1hdGgucm91bmQobWludXRlcykpIHx8XG4gICAgICAgIG1pbnV0ZXMgPCA5MCAmJiBzdWJzdGl0dXRlKCRsLmhvdXIsIDEpIHx8XG4gICAgICAgIGhvdXJzIDwgMjQgJiYgc3Vic3RpdHV0ZSgkbC5ob3VycywgTWF0aC5yb3VuZChob3VycykpIHx8XG4gICAgICAgIGhvdXJzIDwgNDIgJiYgc3Vic3RpdHV0ZSgkbC5kYXksIDEpIHx8XG4gICAgICAgIGRheXMgPCAzMCAmJiBzdWJzdGl0dXRlKCRsLmRheXMsIE1hdGgucm91bmQoZGF5cykpIHx8XG4gICAgICAgIGRheXMgPCA0NSAmJiBzdWJzdGl0dXRlKCRsLm1vbnRoLCAxKSB8fFxuICAgICAgICBkYXlzIDwgMzY1ICYmIHN1YnN0aXR1dGUoJGwubW9udGhzLCBNYXRoLnJvdW5kKGRheXMgLyAzMCkpIHx8XG4gICAgICAgIHllYXJzIDwgMS41ICYmIHN1YnN0aXR1dGUoJGwueWVhciwgMSkgfHxcbiAgICAgICAgc3Vic3RpdHV0ZSgkbC55ZWFycywgTWF0aC5yb3VuZCh5ZWFycykpO1xuXG4gICAgICB2YXIgc2VwYXJhdG9yID0gJGwud29yZFNlcGFyYXRvciB8fCBcIlwiO1xuICAgICAgaWYgKCRsLndvcmRTZXBhcmF0b3IgPT09IHVuZGVmaW5lZCkgeyBzZXBhcmF0b3IgPSBcIiBcIjsgfVxuICAgICAgcmV0dXJuICQudHJpbShbcHJlZml4LCB3b3Jkcywgc3VmZml4XS5qb2luKHNlcGFyYXRvcikpO1xuICAgIH0sXG5cbiAgICBwYXJzZTogZnVuY3Rpb24oaXNvODYwMSkge1xuICAgICAgdmFyIHMgPSAkLnRyaW0oaXNvODYwMSk7XG4gICAgICBzID0gcy5yZXBsYWNlKC9cXC5cXGQrLyxcIlwiKTsgLy8gcmVtb3ZlIG1pbGxpc2Vjb25kc1xuICAgICAgcyA9IHMucmVwbGFjZSgvLS8sXCIvXCIpLnJlcGxhY2UoLy0vLFwiL1wiKTtcbiAgICAgIHMgPSBzLnJlcGxhY2UoL1QvLFwiIFwiKS5yZXBsYWNlKC9aLyxcIiBVVENcIik7XG4gICAgICBzID0gcy5yZXBsYWNlKC8oW1xcK1xcLV1cXGRcXGQpXFw6PyhcXGRcXGQpLyxcIiAkMSQyXCIpOyAvLyAtMDQ6MDAgLT4gLTA0MDBcbiAgICAgIHMgPSBzLnJlcGxhY2UoLyhbXFwrXFwtXVxcZFxcZCkkLyxcIiAkMTAwXCIpOyAvLyArMDkgLT4gKzA5MDBcbiAgICAgIHJldHVybiBuZXcgRGF0ZShzKTtcbiAgICB9LFxuICAgIGRhdGV0aW1lOiBmdW5jdGlvbihlbGVtKSB7XG4gICAgICB2YXIgaXNvODYwMSA9ICR0LmlzVGltZShlbGVtKSA/ICQoZWxlbSkuYXR0cihcImRhdGV0aW1lXCIpIDogJChlbGVtKS5hdHRyKFwidGl0bGVcIik7XG4gICAgICByZXR1cm4gJHQucGFyc2UoaXNvODYwMSk7XG4gICAgfSxcbiAgICBpc1RpbWU6IGZ1bmN0aW9uKGVsZW0pIHtcbiAgICAgIC8vIGpRdWVyeSdzIGBpcygpYCBkb2Vzbid0IHBsYXkgd2VsbCB3aXRoIEhUTUw1IGluIElFXG4gICAgICByZXR1cm4gJChlbGVtKS5nZXQoMCkudGFnTmFtZS50b0xvd2VyQ2FzZSgpID09PSBcInRpbWVcIjsgLy8gJChlbGVtKS5pcyhcInRpbWVcIik7XG4gICAgfVxuICB9KTtcblxuICAvLyBmdW5jdGlvbnMgdGhhdCBjYW4gYmUgY2FsbGVkIHZpYSAkKGVsKS50aW1lYWdvKCdhY3Rpb24nKVxuICAvLyBpbml0IGlzIGRlZmF1bHQgd2hlbiBubyBhY3Rpb24gaXMgZ2l2ZW5cbiAgLy8gZnVuY3Rpb25zIGFyZSBjYWxsZWQgd2l0aCBjb250ZXh0IG9mIGEgc2luZ2xlIGVsZW1lbnRcbiAgdmFyIGZ1bmN0aW9ucyA9IHtcbiAgICBpbml0OiBmdW5jdGlvbigpe1xuICAgICAgdmFyIHJlZnJlc2hfZWwgPSAkLnByb3h5KHJlZnJlc2gsIHRoaXMpO1xuICAgICAgcmVmcmVzaF9lbCgpO1xuICAgICAgdmFyICRzID0gJHQuc2V0dGluZ3M7XG4gICAgICBpZiAoJHMucmVmcmVzaE1pbGxpcyA+IDApIHtcbiAgICAgICAgdGhpcy5fdGltZWFnb0ludGVydmFsID0gc2V0SW50ZXJ2YWwocmVmcmVzaF9lbCwgJHMucmVmcmVzaE1pbGxpcyk7XG4gICAgICB9XG4gICAgfSxcbiAgICB1cGRhdGU6IGZ1bmN0aW9uKHRpbWUpe1xuICAgICAgdmFyIHBhcnNlZFRpbWUgPSAkdC5wYXJzZSh0aW1lKTtcbiAgICAgICQodGhpcykuZGF0YSgndGltZWFnbycsIHsgZGF0ZXRpbWU6IHBhcnNlZFRpbWUgfSk7XG4gICAgICBpZigkdC5zZXR0aW5ncy5sb2NhbGVUaXRsZSkgJCh0aGlzKS5hdHRyKFwidGl0bGVcIiwgcGFyc2VkVGltZS50b0xvY2FsZVN0cmluZygpKTtcbiAgICAgIHJlZnJlc2guYXBwbHkodGhpcyk7XG4gICAgfSxcbiAgICB1cGRhdGVGcm9tRE9NOiBmdW5jdGlvbigpe1xuICAgICAgJCh0aGlzKS5kYXRhKCd0aW1lYWdvJywgeyBkYXRldGltZTogJHQucGFyc2UoICR0LmlzVGltZSh0aGlzKSA/ICQodGhpcykuYXR0cihcImRhdGV0aW1lXCIpIDogJCh0aGlzKS5hdHRyKFwidGl0bGVcIikgKSB9KTtcbiAgICAgIHJlZnJlc2guYXBwbHkodGhpcyk7XG4gICAgfSxcbiAgICBkaXNwb3NlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAodGhpcy5fdGltZWFnb0ludGVydmFsKSB7XG4gICAgICAgIHdpbmRvdy5jbGVhckludGVydmFsKHRoaXMuX3RpbWVhZ29JbnRlcnZhbCk7XG4gICAgICAgIHRoaXMuX3RpbWVhZ29JbnRlcnZhbCA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gICQuZm4udGltZWFnbyA9IGZ1bmN0aW9uKGFjdGlvbiwgb3B0aW9ucykge1xuICAgIHZhciBmbiA9IGFjdGlvbiA/IGZ1bmN0aW9uc1thY3Rpb25dIDogZnVuY3Rpb25zLmluaXQ7XG4gICAgaWYoIWZuKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlVua25vd24gZnVuY3Rpb24gbmFtZSAnXCIrIGFjdGlvbiArXCInIGZvciB0aW1lYWdvXCIpO1xuICAgIH1cbiAgICAvLyBlYWNoIG92ZXIgb2JqZWN0cyBoZXJlIGFuZCBjYWxsIHRoZSByZXF1ZXN0ZWQgZnVuY3Rpb25cbiAgICB0aGlzLmVhY2goZnVuY3Rpb24oKXtcbiAgICAgIGZuLmNhbGwodGhpcywgb3B0aW9ucyk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgZnVuY3Rpb24gcmVmcmVzaCgpIHtcbiAgICB2YXIgZGF0YSA9IHByZXBhcmVEYXRhKHRoaXMpO1xuICAgIHZhciAkcyA9ICR0LnNldHRpbmdzO1xuXG4gICAgaWYgKCFpc05hTihkYXRhLmRhdGV0aW1lKSkge1xuICAgICAgaWYgKCAkcy5jdXRvZmYgPT0gMCB8fCBkaXN0YW5jZShkYXRhLmRhdGV0aW1lKSA8ICRzLmN1dG9mZikge1xuICAgICAgICAkKHRoaXMpLnRleHQoaW5Xb3JkcyhkYXRhLmRhdGV0aW1lKSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgZnVuY3Rpb24gcHJlcGFyZURhdGEoZWxlbWVudCkge1xuICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpO1xuICAgIGlmICghZWxlbWVudC5kYXRhKFwidGltZWFnb1wiKSkge1xuICAgICAgZWxlbWVudC5kYXRhKFwidGltZWFnb1wiLCB7IGRhdGV0aW1lOiAkdC5kYXRldGltZShlbGVtZW50KSB9KTtcbiAgICAgIHZhciB0ZXh0ID0gJC50cmltKGVsZW1lbnQudGV4dCgpKTtcbiAgICAgIGlmICgkdC5zZXR0aW5ncy5sb2NhbGVUaXRsZSkge1xuICAgICAgICBlbGVtZW50LmF0dHIoXCJ0aXRsZVwiLCBlbGVtZW50LmRhdGEoJ3RpbWVhZ28nKS5kYXRldGltZS50b0xvY2FsZVN0cmluZygpKTtcbiAgICAgIH0gZWxzZSBpZiAodGV4dC5sZW5ndGggPiAwICYmICEoJHQuaXNUaW1lKGVsZW1lbnQpICYmIGVsZW1lbnQuYXR0cihcInRpdGxlXCIpKSkge1xuICAgICAgICBlbGVtZW50LmF0dHIoXCJ0aXRsZVwiLCB0ZXh0KTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGVsZW1lbnQuZGF0YShcInRpbWVhZ29cIik7XG4gIH1cblxuICBmdW5jdGlvbiBpbldvcmRzKGRhdGUpIHtcbiAgICByZXR1cm4gJHQuaW5Xb3JkcyhkaXN0YW5jZShkYXRlKSk7XG4gIH1cblxuICBmdW5jdGlvbiBkaXN0YW5jZShkYXRlKSB7XG4gICAgcmV0dXJuIChuZXcgRGF0ZSgpLmdldFRpbWUoKSAtIGRhdGUuZ2V0VGltZSgpKTtcbiAgfVxuXG4gIC8vIGZpeCBmb3IgSUU2IHN1Y2thZ2VcbiAgZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFiYnJcIik7XG4gIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0aW1lXCIpO1xufSkpO1xuIiwiLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBCb290c3RyYXA6IGFsZXJ0LmpzIHYzLjMuNFxuICogaHR0cDovL2dldGJvb3RzdHJhcC5jb20vamF2YXNjcmlwdC8jYWxlcnRzXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCAyMDExLTIwMTUgVHdpdHRlciwgSW5jLlxuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYXN0ZXIvTElDRU5TRSlcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cbitmdW5jdGlvbiAoJCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgLy8gQUxFUlQgQ0xBU1MgREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09XG5cbiAgdmFyIGRpc21pc3MgPSAnW2RhdGEtZGlzbWlzcz1cImFsZXJ0XCJdJ1xuICB2YXIgQWxlcnQgICA9IGZ1bmN0aW9uIChlbCkge1xuICAgICQoZWwpLm9uKCdjbGljaycsIGRpc21pc3MsIHRoaXMuY2xvc2UpXG4gIH1cblxuICBBbGVydC5WRVJTSU9OID0gJzMuMy40J1xuXG4gIEFsZXJ0LlRSQU5TSVRJT05fRFVSQVRJT04gPSAxNTBcblxuICBBbGVydC5wcm90b3R5cGUuY2xvc2UgPSBmdW5jdGlvbiAoZSkge1xuICAgIHZhciAkdGhpcyAgICA9ICQodGhpcylcbiAgICB2YXIgc2VsZWN0b3IgPSAkdGhpcy5hdHRyKCdkYXRhLXRhcmdldCcpXG5cbiAgICBpZiAoIXNlbGVjdG9yKSB7XG4gICAgICBzZWxlY3RvciA9ICR0aGlzLmF0dHIoJ2hyZWYnKVxuICAgICAgc2VsZWN0b3IgPSBzZWxlY3RvciAmJiBzZWxlY3Rvci5yZXBsYWNlKC8uKig/PSNbXlxcc10qJCkvLCAnJykgLy8gc3RyaXAgZm9yIGllN1xuICAgIH1cblxuICAgIHZhciAkcGFyZW50ID0gJChzZWxlY3RvcilcblxuICAgIGlmIChlKSBlLnByZXZlbnREZWZhdWx0KClcblxuICAgIGlmICghJHBhcmVudC5sZW5ndGgpIHtcbiAgICAgICRwYXJlbnQgPSAkdGhpcy5jbG9zZXN0KCcuYWxlcnQnKVxuICAgIH1cblxuICAgICRwYXJlbnQudHJpZ2dlcihlID0gJC5FdmVudCgnY2xvc2UuYnMuYWxlcnQnKSlcblxuICAgIGlmIChlLmlzRGVmYXVsdFByZXZlbnRlZCgpKSByZXR1cm5cblxuICAgICRwYXJlbnQucmVtb3ZlQ2xhc3MoJ2luJylcblxuICAgIGZ1bmN0aW9uIHJlbW92ZUVsZW1lbnQoKSB7XG4gICAgICAvLyBkZXRhY2ggZnJvbSBwYXJlbnQsIGZpcmUgZXZlbnQgdGhlbiBjbGVhbiB1cCBkYXRhXG4gICAgICAkcGFyZW50LmRldGFjaCgpLnRyaWdnZXIoJ2Nsb3NlZC5icy5hbGVydCcpLnJlbW92ZSgpXG4gICAgfVxuXG4gICAgJC5zdXBwb3J0LnRyYW5zaXRpb24gJiYgJHBhcmVudC5oYXNDbGFzcygnZmFkZScpID9cbiAgICAgICRwYXJlbnRcbiAgICAgICAgLm9uZSgnYnNUcmFuc2l0aW9uRW5kJywgcmVtb3ZlRWxlbWVudClcbiAgICAgICAgLmVtdWxhdGVUcmFuc2l0aW9uRW5kKEFsZXJ0LlRSQU5TSVRJT05fRFVSQVRJT04pIDpcbiAgICAgIHJlbW92ZUVsZW1lbnQoKVxuICB9XG5cblxuICAvLyBBTEVSVCBQTFVHSU4gREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGZ1bmN0aW9uIFBsdWdpbihvcHRpb24pIHtcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkdGhpcyA9ICQodGhpcylcbiAgICAgIHZhciBkYXRhICA9ICR0aGlzLmRhdGEoJ2JzLmFsZXJ0JylcblxuICAgICAgaWYgKCFkYXRhKSAkdGhpcy5kYXRhKCdicy5hbGVydCcsIChkYXRhID0gbmV3IEFsZXJ0KHRoaXMpKSlcbiAgICAgIGlmICh0eXBlb2Ygb3B0aW9uID09ICdzdHJpbmcnKSBkYXRhW29wdGlvbl0uY2FsbCgkdGhpcylcbiAgICB9KVxuICB9XG5cbiAgdmFyIG9sZCA9ICQuZm4uYWxlcnRcblxuICAkLmZuLmFsZXJ0ICAgICAgICAgICAgID0gUGx1Z2luXG4gICQuZm4uYWxlcnQuQ29uc3RydWN0b3IgPSBBbGVydFxuXG5cbiAgLy8gQUxFUlQgTk8gQ09ORkxJQ1RcbiAgLy8gPT09PT09PT09PT09PT09PT1cblxuICAkLmZuLmFsZXJ0Lm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgJC5mbi5hbGVydCA9IG9sZFxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuXG4gIC8vIEFMRVJUIERBVEEtQVBJXG4gIC8vID09PT09PT09PT09PT09XG5cbiAgJChkb2N1bWVudCkub24oJ2NsaWNrLmJzLmFsZXJ0LmRhdGEtYXBpJywgZGlzbWlzcywgQWxlcnQucHJvdG90eXBlLmNsb3NlKVxuXG59KGpRdWVyeSk7XG4iLCIvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEJvb3RzdHJhcDogY2Fyb3VzZWwuanMgdjMuMy40XG4gKiBodHRwOi8vZ2V0Ym9vdHN0cmFwLmNvbS9qYXZhc2NyaXB0LyNjYXJvdXNlbFxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgMjAxMS0yMDE1IFR3aXR0ZXIsIEluYy5cbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXG4rZnVuY3Rpb24gKCQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8vIENBUk9VU0VMIENMQVNTIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIHZhciBDYXJvdXNlbCA9IGZ1bmN0aW9uIChlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgdGhpcy4kZWxlbWVudCAgICA9ICQoZWxlbWVudClcbiAgICB0aGlzLiRpbmRpY2F0b3JzID0gdGhpcy4kZWxlbWVudC5maW5kKCcuY2Fyb3VzZWwtaW5kaWNhdG9ycycpXG4gICAgdGhpcy5vcHRpb25zICAgICA9IG9wdGlvbnNcbiAgICB0aGlzLnBhdXNlZCAgICAgID0gbnVsbFxuICAgIHRoaXMuc2xpZGluZyAgICAgPSBudWxsXG4gICAgdGhpcy5pbnRlcnZhbCAgICA9IG51bGxcbiAgICB0aGlzLiRhY3RpdmUgICAgID0gbnVsbFxuICAgIHRoaXMuJGl0ZW1zICAgICAgPSBudWxsXG5cbiAgICB0aGlzLm9wdGlvbnMua2V5Ym9hcmQgJiYgdGhpcy4kZWxlbWVudC5vbigna2V5ZG93bi5icy5jYXJvdXNlbCcsICQucHJveHkodGhpcy5rZXlkb3duLCB0aGlzKSlcblxuICAgIHRoaXMub3B0aW9ucy5wYXVzZSA9PSAnaG92ZXInICYmICEoJ29udG91Y2hzdGFydCcgaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KSAmJiB0aGlzLiRlbGVtZW50XG4gICAgICAub24oJ21vdXNlZW50ZXIuYnMuY2Fyb3VzZWwnLCAkLnByb3h5KHRoaXMucGF1c2UsIHRoaXMpKVxuICAgICAgLm9uKCdtb3VzZWxlYXZlLmJzLmNhcm91c2VsJywgJC5wcm94eSh0aGlzLmN5Y2xlLCB0aGlzKSlcbiAgfVxuXG4gIENhcm91c2VsLlZFUlNJT04gID0gJzMuMy40J1xuXG4gIENhcm91c2VsLlRSQU5TSVRJT05fRFVSQVRJT04gPSA2MDBcblxuICBDYXJvdXNlbC5ERUZBVUxUUyA9IHtcbiAgICBpbnRlcnZhbDogNTAwMCxcbiAgICBwYXVzZTogJ2hvdmVyJyxcbiAgICB3cmFwOiB0cnVlLFxuICAgIGtleWJvYXJkOiB0cnVlXG4gIH1cblxuICBDYXJvdXNlbC5wcm90b3R5cGUua2V5ZG93biA9IGZ1bmN0aW9uIChlKSB7XG4gICAgaWYgKC9pbnB1dHx0ZXh0YXJlYS9pLnRlc3QoZS50YXJnZXQudGFnTmFtZSkpIHJldHVyblxuICAgIHN3aXRjaCAoZS53aGljaCkge1xuICAgICAgY2FzZSAzNzogdGhpcy5wcmV2KCk7IGJyZWFrXG4gICAgICBjYXNlIDM5OiB0aGlzLm5leHQoKTsgYnJlYWtcbiAgICAgIGRlZmF1bHQ6IHJldHVyblxuICAgIH1cblxuICAgIGUucHJldmVudERlZmF1bHQoKVxuICB9XG5cbiAgQ2Fyb3VzZWwucHJvdG90eXBlLmN5Y2xlID0gZnVuY3Rpb24gKGUpIHtcbiAgICBlIHx8ICh0aGlzLnBhdXNlZCA9IGZhbHNlKVxuXG4gICAgdGhpcy5pbnRlcnZhbCAmJiBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWwpXG5cbiAgICB0aGlzLm9wdGlvbnMuaW50ZXJ2YWxcbiAgICAgICYmICF0aGlzLnBhdXNlZFxuICAgICAgJiYgKHRoaXMuaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgkLnByb3h5KHRoaXMubmV4dCwgdGhpcyksIHRoaXMub3B0aW9ucy5pbnRlcnZhbCkpXG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgQ2Fyb3VzZWwucHJvdG90eXBlLmdldEl0ZW1JbmRleCA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgdGhpcy4kaXRlbXMgPSBpdGVtLnBhcmVudCgpLmNoaWxkcmVuKCcuaXRlbScpXG4gICAgcmV0dXJuIHRoaXMuJGl0ZW1zLmluZGV4KGl0ZW0gfHwgdGhpcy4kYWN0aXZlKVxuICB9XG5cbiAgQ2Fyb3VzZWwucHJvdG90eXBlLmdldEl0ZW1Gb3JEaXJlY3Rpb24gPSBmdW5jdGlvbiAoZGlyZWN0aW9uLCBhY3RpdmUpIHtcbiAgICB2YXIgYWN0aXZlSW5kZXggPSB0aGlzLmdldEl0ZW1JbmRleChhY3RpdmUpXG4gICAgdmFyIHdpbGxXcmFwID0gKGRpcmVjdGlvbiA9PSAncHJldicgJiYgYWN0aXZlSW5kZXggPT09IDApXG4gICAgICAgICAgICAgICAgfHwgKGRpcmVjdGlvbiA9PSAnbmV4dCcgJiYgYWN0aXZlSW5kZXggPT0gKHRoaXMuJGl0ZW1zLmxlbmd0aCAtIDEpKVxuICAgIGlmICh3aWxsV3JhcCAmJiAhdGhpcy5vcHRpb25zLndyYXApIHJldHVybiBhY3RpdmVcbiAgICB2YXIgZGVsdGEgPSBkaXJlY3Rpb24gPT0gJ3ByZXYnID8gLTEgOiAxXG4gICAgdmFyIGl0ZW1JbmRleCA9IChhY3RpdmVJbmRleCArIGRlbHRhKSAlIHRoaXMuJGl0ZW1zLmxlbmd0aFxuICAgIHJldHVybiB0aGlzLiRpdGVtcy5lcShpdGVtSW5kZXgpXG4gIH1cblxuICBDYXJvdXNlbC5wcm90b3R5cGUudG8gPSBmdW5jdGlvbiAocG9zKSB7XG4gICAgdmFyIHRoYXQgICAgICAgID0gdGhpc1xuICAgIHZhciBhY3RpdmVJbmRleCA9IHRoaXMuZ2V0SXRlbUluZGV4KHRoaXMuJGFjdGl2ZSA9IHRoaXMuJGVsZW1lbnQuZmluZCgnLml0ZW0uYWN0aXZlJykpXG5cbiAgICBpZiAocG9zID4gKHRoaXMuJGl0ZW1zLmxlbmd0aCAtIDEpIHx8IHBvcyA8IDApIHJldHVyblxuXG4gICAgaWYgKHRoaXMuc2xpZGluZykgICAgICAgcmV0dXJuIHRoaXMuJGVsZW1lbnQub25lKCdzbGlkLmJzLmNhcm91c2VsJywgZnVuY3Rpb24gKCkgeyB0aGF0LnRvKHBvcykgfSkgLy8geWVzLCBcInNsaWRcIlxuICAgIGlmIChhY3RpdmVJbmRleCA9PSBwb3MpIHJldHVybiB0aGlzLnBhdXNlKCkuY3ljbGUoKVxuXG4gICAgcmV0dXJuIHRoaXMuc2xpZGUocG9zID4gYWN0aXZlSW5kZXggPyAnbmV4dCcgOiAncHJldicsIHRoaXMuJGl0ZW1zLmVxKHBvcykpXG4gIH1cblxuICBDYXJvdXNlbC5wcm90b3R5cGUucGF1c2UgPSBmdW5jdGlvbiAoZSkge1xuICAgIGUgfHwgKHRoaXMucGF1c2VkID0gdHJ1ZSlcblxuICAgIGlmICh0aGlzLiRlbGVtZW50LmZpbmQoJy5uZXh0LCAucHJldicpLmxlbmd0aCAmJiAkLnN1cHBvcnQudHJhbnNpdGlvbikge1xuICAgICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKCQuc3VwcG9ydC50cmFuc2l0aW9uLmVuZClcbiAgICAgIHRoaXMuY3ljbGUodHJ1ZSlcbiAgICB9XG5cbiAgICB0aGlzLmludGVydmFsID0gY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsKVxuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIENhcm91c2VsLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLnNsaWRpbmcpIHJldHVyblxuICAgIHJldHVybiB0aGlzLnNsaWRlKCduZXh0JylcbiAgfVxuXG4gIENhcm91c2VsLnByb3RvdHlwZS5wcmV2ID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLnNsaWRpbmcpIHJldHVyblxuICAgIHJldHVybiB0aGlzLnNsaWRlKCdwcmV2JylcbiAgfVxuXG4gIENhcm91c2VsLnByb3RvdHlwZS5zbGlkZSA9IGZ1bmN0aW9uICh0eXBlLCBuZXh0KSB7XG4gICAgdmFyICRhY3RpdmUgICA9IHRoaXMuJGVsZW1lbnQuZmluZCgnLml0ZW0uYWN0aXZlJylcbiAgICB2YXIgJG5leHQgICAgID0gbmV4dCB8fCB0aGlzLmdldEl0ZW1Gb3JEaXJlY3Rpb24odHlwZSwgJGFjdGl2ZSlcbiAgICB2YXIgaXNDeWNsaW5nID0gdGhpcy5pbnRlcnZhbFxuICAgIHZhciBkaXJlY3Rpb24gPSB0eXBlID09ICduZXh0JyA/ICdsZWZ0JyA6ICdyaWdodCdcbiAgICB2YXIgdGhhdCAgICAgID0gdGhpc1xuXG4gICAgaWYgKCRuZXh0Lmhhc0NsYXNzKCdhY3RpdmUnKSkgcmV0dXJuICh0aGlzLnNsaWRpbmcgPSBmYWxzZSlcblxuICAgIHZhciByZWxhdGVkVGFyZ2V0ID0gJG5leHRbMF1cbiAgICB2YXIgc2xpZGVFdmVudCA9ICQuRXZlbnQoJ3NsaWRlLmJzLmNhcm91c2VsJywge1xuICAgICAgcmVsYXRlZFRhcmdldDogcmVsYXRlZFRhcmdldCxcbiAgICAgIGRpcmVjdGlvbjogZGlyZWN0aW9uXG4gICAgfSlcbiAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoc2xpZGVFdmVudClcbiAgICBpZiAoc2xpZGVFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkgcmV0dXJuXG5cbiAgICB0aGlzLnNsaWRpbmcgPSB0cnVlXG5cbiAgICBpc0N5Y2xpbmcgJiYgdGhpcy5wYXVzZSgpXG5cbiAgICBpZiAodGhpcy4kaW5kaWNhdG9ycy5sZW5ndGgpIHtcbiAgICAgIHRoaXMuJGluZGljYXRvcnMuZmluZCgnLmFjdGl2ZScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKVxuICAgICAgdmFyICRuZXh0SW5kaWNhdG9yID0gJCh0aGlzLiRpbmRpY2F0b3JzLmNoaWxkcmVuKClbdGhpcy5nZXRJdGVtSW5kZXgoJG5leHQpXSlcbiAgICAgICRuZXh0SW5kaWNhdG9yICYmICRuZXh0SW5kaWNhdG9yLmFkZENsYXNzKCdhY3RpdmUnKVxuICAgIH1cblxuICAgIHZhciBzbGlkRXZlbnQgPSAkLkV2ZW50KCdzbGlkLmJzLmNhcm91c2VsJywgeyByZWxhdGVkVGFyZ2V0OiByZWxhdGVkVGFyZ2V0LCBkaXJlY3Rpb246IGRpcmVjdGlvbiB9KSAvLyB5ZXMsIFwic2xpZFwiXG4gICAgaWYgKCQuc3VwcG9ydC50cmFuc2l0aW9uICYmIHRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoJ3NsaWRlJykpIHtcbiAgICAgICRuZXh0LmFkZENsYXNzKHR5cGUpXG4gICAgICAkbmV4dFswXS5vZmZzZXRXaWR0aCAvLyBmb3JjZSByZWZsb3dcbiAgICAgICRhY3RpdmUuYWRkQ2xhc3MoZGlyZWN0aW9uKVxuICAgICAgJG5leHQuYWRkQ2xhc3MoZGlyZWN0aW9uKVxuICAgICAgJGFjdGl2ZVxuICAgICAgICAub25lKCdic1RyYW5zaXRpb25FbmQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgJG5leHQucmVtb3ZlQ2xhc3MoW3R5cGUsIGRpcmVjdGlvbl0uam9pbignICcpKS5hZGRDbGFzcygnYWN0aXZlJylcbiAgICAgICAgICAkYWN0aXZlLnJlbW92ZUNsYXNzKFsnYWN0aXZlJywgZGlyZWN0aW9uXS5qb2luKCcgJykpXG4gICAgICAgICAgdGhhdC5zbGlkaW5nID0gZmFsc2VcbiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoYXQuJGVsZW1lbnQudHJpZ2dlcihzbGlkRXZlbnQpXG4gICAgICAgICAgfSwgMClcbiAgICAgICAgfSlcbiAgICAgICAgLmVtdWxhdGVUcmFuc2l0aW9uRW5kKENhcm91c2VsLlRSQU5TSVRJT05fRFVSQVRJT04pXG4gICAgfSBlbHNlIHtcbiAgICAgICRhY3RpdmUucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpXG4gICAgICAkbmV4dC5hZGRDbGFzcygnYWN0aXZlJylcbiAgICAgIHRoaXMuc2xpZGluZyA9IGZhbHNlXG4gICAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoc2xpZEV2ZW50KVxuICAgIH1cblxuICAgIGlzQ3ljbGluZyAmJiB0aGlzLmN5Y2xlKClcblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuXG4gIC8vIENBUk9VU0VMIFBMVUdJTiBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgZnVuY3Rpb24gUGx1Z2luKG9wdGlvbikge1xuICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgdmFyICR0aGlzICAgPSAkKHRoaXMpXG4gICAgICB2YXIgZGF0YSAgICA9ICR0aGlzLmRhdGEoJ2JzLmNhcm91c2VsJylcbiAgICAgIHZhciBvcHRpb25zID0gJC5leHRlbmQoe30sIENhcm91c2VsLkRFRkFVTFRTLCAkdGhpcy5kYXRhKCksIHR5cGVvZiBvcHRpb24gPT0gJ29iamVjdCcgJiYgb3B0aW9uKVxuICAgICAgdmFyIGFjdGlvbiAgPSB0eXBlb2Ygb3B0aW9uID09ICdzdHJpbmcnID8gb3B0aW9uIDogb3B0aW9ucy5zbGlkZVxuXG4gICAgICBpZiAoIWRhdGEpICR0aGlzLmRhdGEoJ2JzLmNhcm91c2VsJywgKGRhdGEgPSBuZXcgQ2Fyb3VzZWwodGhpcywgb3B0aW9ucykpKVxuICAgICAgaWYgKHR5cGVvZiBvcHRpb24gPT0gJ251bWJlcicpIGRhdGEudG8ob3B0aW9uKVxuICAgICAgZWxzZSBpZiAoYWN0aW9uKSBkYXRhW2FjdGlvbl0oKVxuICAgICAgZWxzZSBpZiAob3B0aW9ucy5pbnRlcnZhbCkgZGF0YS5wYXVzZSgpLmN5Y2xlKClcbiAgICB9KVxuICB9XG5cbiAgdmFyIG9sZCA9ICQuZm4uY2Fyb3VzZWxcblxuICAkLmZuLmNhcm91c2VsICAgICAgICAgICAgID0gUGx1Z2luXG4gICQuZm4uY2Fyb3VzZWwuQ29uc3RydWN0b3IgPSBDYXJvdXNlbFxuXG5cbiAgLy8gQ0FST1VTRUwgTk8gQ09ORkxJQ1RcbiAgLy8gPT09PT09PT09PT09PT09PT09PT1cblxuICAkLmZuLmNhcm91c2VsLm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgJC5mbi5jYXJvdXNlbCA9IG9sZFxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuXG4gIC8vIENBUk9VU0VMIERBVEEtQVBJXG4gIC8vID09PT09PT09PT09PT09PT09XG5cbiAgdmFyIGNsaWNrSGFuZGxlciA9IGZ1bmN0aW9uIChlKSB7XG4gICAgdmFyIGhyZWZcbiAgICB2YXIgJHRoaXMgICA9ICQodGhpcylcbiAgICB2YXIgJHRhcmdldCA9ICQoJHRoaXMuYXR0cignZGF0YS10YXJnZXQnKSB8fCAoaHJlZiA9ICR0aGlzLmF0dHIoJ2hyZWYnKSkgJiYgaHJlZi5yZXBsYWNlKC8uKig/PSNbXlxcc10rJCkvLCAnJykpIC8vIHN0cmlwIGZvciBpZTdcbiAgICBpZiAoISR0YXJnZXQuaGFzQ2xhc3MoJ2Nhcm91c2VsJykpIHJldHVyblxuICAgIHZhciBvcHRpb25zID0gJC5leHRlbmQoe30sICR0YXJnZXQuZGF0YSgpLCAkdGhpcy5kYXRhKCkpXG4gICAgdmFyIHNsaWRlSW5kZXggPSAkdGhpcy5hdHRyKCdkYXRhLXNsaWRlLXRvJylcbiAgICBpZiAoc2xpZGVJbmRleCkgb3B0aW9ucy5pbnRlcnZhbCA9IGZhbHNlXG5cbiAgICBQbHVnaW4uY2FsbCgkdGFyZ2V0LCBvcHRpb25zKVxuXG4gICAgaWYgKHNsaWRlSW5kZXgpIHtcbiAgICAgICR0YXJnZXQuZGF0YSgnYnMuY2Fyb3VzZWwnKS50byhzbGlkZUluZGV4KVxuICAgIH1cblxuICAgIGUucHJldmVudERlZmF1bHQoKVxuICB9XG5cbiAgJChkb2N1bWVudClcbiAgICAub24oJ2NsaWNrLmJzLmNhcm91c2VsLmRhdGEtYXBpJywgJ1tkYXRhLXNsaWRlXScsIGNsaWNrSGFuZGxlcilcbiAgICAub24oJ2NsaWNrLmJzLmNhcm91c2VsLmRhdGEtYXBpJywgJ1tkYXRhLXNsaWRlLXRvXScsIGNsaWNrSGFuZGxlcilcblxuICAkKHdpbmRvdykub24oJ2xvYWQnLCBmdW5jdGlvbiAoKSB7XG4gICAgJCgnW2RhdGEtcmlkZT1cImNhcm91c2VsXCJdJykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJGNhcm91c2VsID0gJCh0aGlzKVxuICAgICAgUGx1Z2luLmNhbGwoJGNhcm91c2VsLCAkY2Fyb3VzZWwuZGF0YSgpKVxuICAgIH0pXG4gIH0pXG5cbn0oalF1ZXJ5KTtcbiIsIi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQm9vdHN0cmFwOiBjb2xsYXBzZS5qcyB2My4zLjRcbiAqIGh0dHA6Ly9nZXRib290c3RyYXAuY29tL2phdmFzY3JpcHQvI2NvbGxhcHNlXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCAyMDExLTIwMTUgVHdpdHRlciwgSW5jLlxuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYXN0ZXIvTElDRU5TRSlcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cbitmdW5jdGlvbiAoJCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgLy8gQ09MTEFQU0UgUFVCTElDIENMQVNTIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICB2YXIgQ29sbGFwc2UgPSBmdW5jdGlvbiAoZWxlbWVudCwgb3B0aW9ucykge1xuICAgIHRoaXMuJGVsZW1lbnQgICAgICA9ICQoZWxlbWVudClcbiAgICB0aGlzLm9wdGlvbnMgICAgICAgPSAkLmV4dGVuZCh7fSwgQ29sbGFwc2UuREVGQVVMVFMsIG9wdGlvbnMpXG4gICAgdGhpcy4kdHJpZ2dlciAgICAgID0gJCgnW2RhdGEtdG9nZ2xlPVwiY29sbGFwc2VcIl1baHJlZj1cIiMnICsgZWxlbWVudC5pZCArICdcIl0sJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAnW2RhdGEtdG9nZ2xlPVwiY29sbGFwc2VcIl1bZGF0YS10YXJnZXQ9XCIjJyArIGVsZW1lbnQuaWQgKyAnXCJdJylcbiAgICB0aGlzLnRyYW5zaXRpb25pbmcgPSBudWxsXG5cbiAgICBpZiAodGhpcy5vcHRpb25zLnBhcmVudCkge1xuICAgICAgdGhpcy4kcGFyZW50ID0gdGhpcy5nZXRQYXJlbnQoKVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmFkZEFyaWFBbmRDb2xsYXBzZWRDbGFzcyh0aGlzLiRlbGVtZW50LCB0aGlzLiR0cmlnZ2VyKVxuICAgIH1cblxuICAgIGlmICh0aGlzLm9wdGlvbnMudG9nZ2xlKSB0aGlzLnRvZ2dsZSgpXG4gIH1cblxuICBDb2xsYXBzZS5WRVJTSU9OICA9ICczLjMuNCdcblxuICBDb2xsYXBzZS5UUkFOU0lUSU9OX0RVUkFUSU9OID0gMzUwXG5cbiAgQ29sbGFwc2UuREVGQVVMVFMgPSB7XG4gICAgdG9nZ2xlOiB0cnVlXG4gIH1cblxuICBDb2xsYXBzZS5wcm90b3R5cGUuZGltZW5zaW9uID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBoYXNXaWR0aCA9IHRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoJ3dpZHRoJylcbiAgICByZXR1cm4gaGFzV2lkdGggPyAnd2lkdGgnIDogJ2hlaWdodCdcbiAgfVxuXG4gIENvbGxhcHNlLnByb3RvdHlwZS5zaG93ID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLnRyYW5zaXRpb25pbmcgfHwgdGhpcy4kZWxlbWVudC5oYXNDbGFzcygnaW4nKSkgcmV0dXJuXG5cbiAgICB2YXIgYWN0aXZlc0RhdGFcbiAgICB2YXIgYWN0aXZlcyA9IHRoaXMuJHBhcmVudCAmJiB0aGlzLiRwYXJlbnQuY2hpbGRyZW4oJy5wYW5lbCcpLmNoaWxkcmVuKCcuaW4sIC5jb2xsYXBzaW5nJylcblxuICAgIGlmIChhY3RpdmVzICYmIGFjdGl2ZXMubGVuZ3RoKSB7XG4gICAgICBhY3RpdmVzRGF0YSA9IGFjdGl2ZXMuZGF0YSgnYnMuY29sbGFwc2UnKVxuICAgICAgaWYgKGFjdGl2ZXNEYXRhICYmIGFjdGl2ZXNEYXRhLnRyYW5zaXRpb25pbmcpIHJldHVyblxuICAgIH1cblxuICAgIHZhciBzdGFydEV2ZW50ID0gJC5FdmVudCgnc2hvdy5icy5jb2xsYXBzZScpXG4gICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKHN0YXJ0RXZlbnQpXG4gICAgaWYgKHN0YXJ0RXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVyblxuXG4gICAgaWYgKGFjdGl2ZXMgJiYgYWN0aXZlcy5sZW5ndGgpIHtcbiAgICAgIFBsdWdpbi5jYWxsKGFjdGl2ZXMsICdoaWRlJylcbiAgICAgIGFjdGl2ZXNEYXRhIHx8IGFjdGl2ZXMuZGF0YSgnYnMuY29sbGFwc2UnLCBudWxsKVxuICAgIH1cblxuICAgIHZhciBkaW1lbnNpb24gPSB0aGlzLmRpbWVuc2lvbigpXG5cbiAgICB0aGlzLiRlbGVtZW50XG4gICAgICAucmVtb3ZlQ2xhc3MoJ2NvbGxhcHNlJylcbiAgICAgIC5hZGRDbGFzcygnY29sbGFwc2luZycpW2RpbWVuc2lvbl0oMClcbiAgICAgIC5hdHRyKCdhcmlhLWV4cGFuZGVkJywgdHJ1ZSlcblxuICAgIHRoaXMuJHRyaWdnZXJcbiAgICAgIC5yZW1vdmVDbGFzcygnY29sbGFwc2VkJylcbiAgICAgIC5hdHRyKCdhcmlhLWV4cGFuZGVkJywgdHJ1ZSlcblxuICAgIHRoaXMudHJhbnNpdGlvbmluZyA9IDFcblxuICAgIHZhciBjb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMuJGVsZW1lbnRcbiAgICAgICAgLnJlbW92ZUNsYXNzKCdjb2xsYXBzaW5nJylcbiAgICAgICAgLmFkZENsYXNzKCdjb2xsYXBzZSBpbicpW2RpbWVuc2lvbl0oJycpXG4gICAgICB0aGlzLnRyYW5zaXRpb25pbmcgPSAwXG4gICAgICB0aGlzLiRlbGVtZW50XG4gICAgICAgIC50cmlnZ2VyKCdzaG93bi5icy5jb2xsYXBzZScpXG4gICAgfVxuXG4gICAgaWYgKCEkLnN1cHBvcnQudHJhbnNpdGlvbikgcmV0dXJuIGNvbXBsZXRlLmNhbGwodGhpcylcblxuICAgIHZhciBzY3JvbGxTaXplID0gJC5jYW1lbENhc2UoWydzY3JvbGwnLCBkaW1lbnNpb25dLmpvaW4oJy0nKSlcblxuICAgIHRoaXMuJGVsZW1lbnRcbiAgICAgIC5vbmUoJ2JzVHJhbnNpdGlvbkVuZCcsICQucHJveHkoY29tcGxldGUsIHRoaXMpKVxuICAgICAgLmVtdWxhdGVUcmFuc2l0aW9uRW5kKENvbGxhcHNlLlRSQU5TSVRJT05fRFVSQVRJT04pW2RpbWVuc2lvbl0odGhpcy4kZWxlbWVudFswXVtzY3JvbGxTaXplXSlcbiAgfVxuXG4gIENvbGxhcHNlLnByb3RvdHlwZS5oaWRlID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLnRyYW5zaXRpb25pbmcgfHwgIXRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoJ2luJykpIHJldHVyblxuXG4gICAgdmFyIHN0YXJ0RXZlbnQgPSAkLkV2ZW50KCdoaWRlLmJzLmNvbGxhcHNlJylcbiAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoc3RhcnRFdmVudClcbiAgICBpZiAoc3RhcnRFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkgcmV0dXJuXG5cbiAgICB2YXIgZGltZW5zaW9uID0gdGhpcy5kaW1lbnNpb24oKVxuXG4gICAgdGhpcy4kZWxlbWVudFtkaW1lbnNpb25dKHRoaXMuJGVsZW1lbnRbZGltZW5zaW9uXSgpKVswXS5vZmZzZXRIZWlnaHRcblxuICAgIHRoaXMuJGVsZW1lbnRcbiAgICAgIC5hZGRDbGFzcygnY29sbGFwc2luZycpXG4gICAgICAucmVtb3ZlQ2xhc3MoJ2NvbGxhcHNlIGluJylcbiAgICAgIC5hdHRyKCdhcmlhLWV4cGFuZGVkJywgZmFsc2UpXG5cbiAgICB0aGlzLiR0cmlnZ2VyXG4gICAgICAuYWRkQ2xhc3MoJ2NvbGxhcHNlZCcpXG4gICAgICAuYXR0cignYXJpYS1leHBhbmRlZCcsIGZhbHNlKVxuXG4gICAgdGhpcy50cmFuc2l0aW9uaW5nID0gMVxuXG4gICAgdmFyIGNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy50cmFuc2l0aW9uaW5nID0gMFxuICAgICAgdGhpcy4kZWxlbWVudFxuICAgICAgICAucmVtb3ZlQ2xhc3MoJ2NvbGxhcHNpbmcnKVxuICAgICAgICAuYWRkQ2xhc3MoJ2NvbGxhcHNlJylcbiAgICAgICAgLnRyaWdnZXIoJ2hpZGRlbi5icy5jb2xsYXBzZScpXG4gICAgfVxuXG4gICAgaWYgKCEkLnN1cHBvcnQudHJhbnNpdGlvbikgcmV0dXJuIGNvbXBsZXRlLmNhbGwodGhpcylcblxuICAgIHRoaXMuJGVsZW1lbnRcbiAgICAgIFtkaW1lbnNpb25dKDApXG4gICAgICAub25lKCdic1RyYW5zaXRpb25FbmQnLCAkLnByb3h5KGNvbXBsZXRlLCB0aGlzKSlcbiAgICAgIC5lbXVsYXRlVHJhbnNpdGlvbkVuZChDb2xsYXBzZS5UUkFOU0lUSU9OX0RVUkFUSU9OKVxuICB9XG5cbiAgQ29sbGFwc2UucHJvdG90eXBlLnRvZ2dsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzW3RoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoJ2luJykgPyAnaGlkZScgOiAnc2hvdyddKClcbiAgfVxuXG4gIENvbGxhcHNlLnByb3RvdHlwZS5nZXRQYXJlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuICQodGhpcy5vcHRpb25zLnBhcmVudClcbiAgICAgIC5maW5kKCdbZGF0YS10b2dnbGU9XCJjb2xsYXBzZVwiXVtkYXRhLXBhcmVudD1cIicgKyB0aGlzLm9wdGlvbnMucGFyZW50ICsgJ1wiXScpXG4gICAgICAuZWFjaCgkLnByb3h5KGZ1bmN0aW9uIChpLCBlbGVtZW50KSB7XG4gICAgICAgIHZhciAkZWxlbWVudCA9ICQoZWxlbWVudClcbiAgICAgICAgdGhpcy5hZGRBcmlhQW5kQ29sbGFwc2VkQ2xhc3MoZ2V0VGFyZ2V0RnJvbVRyaWdnZXIoJGVsZW1lbnQpLCAkZWxlbWVudClcbiAgICAgIH0sIHRoaXMpKVxuICAgICAgLmVuZCgpXG4gIH1cblxuICBDb2xsYXBzZS5wcm90b3R5cGUuYWRkQXJpYUFuZENvbGxhcHNlZENsYXNzID0gZnVuY3Rpb24gKCRlbGVtZW50LCAkdHJpZ2dlcikge1xuICAgIHZhciBpc09wZW4gPSAkZWxlbWVudC5oYXNDbGFzcygnaW4nKVxuXG4gICAgJGVsZW1lbnQuYXR0cignYXJpYS1leHBhbmRlZCcsIGlzT3BlbilcbiAgICAkdHJpZ2dlclxuICAgICAgLnRvZ2dsZUNsYXNzKCdjb2xsYXBzZWQnLCAhaXNPcGVuKVxuICAgICAgLmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCBpc09wZW4pXG4gIH1cblxuICBmdW5jdGlvbiBnZXRUYXJnZXRGcm9tVHJpZ2dlcigkdHJpZ2dlcikge1xuICAgIHZhciBocmVmXG4gICAgdmFyIHRhcmdldCA9ICR0cmlnZ2VyLmF0dHIoJ2RhdGEtdGFyZ2V0JylcbiAgICAgIHx8IChocmVmID0gJHRyaWdnZXIuYXR0cignaHJlZicpKSAmJiBocmVmLnJlcGxhY2UoLy4qKD89I1teXFxzXSskKS8sICcnKSAvLyBzdHJpcCBmb3IgaWU3XG5cbiAgICByZXR1cm4gJCh0YXJnZXQpXG4gIH1cblxuXG4gIC8vIENPTExBUFNFIFBMVUdJTiBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgZnVuY3Rpb24gUGx1Z2luKG9wdGlvbikge1xuICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgdmFyICR0aGlzICAgPSAkKHRoaXMpXG4gICAgICB2YXIgZGF0YSAgICA9ICR0aGlzLmRhdGEoJ2JzLmNvbGxhcHNlJylcbiAgICAgIHZhciBvcHRpb25zID0gJC5leHRlbmQoe30sIENvbGxhcHNlLkRFRkFVTFRTLCAkdGhpcy5kYXRhKCksIHR5cGVvZiBvcHRpb24gPT0gJ29iamVjdCcgJiYgb3B0aW9uKVxuXG4gICAgICBpZiAoIWRhdGEgJiYgb3B0aW9ucy50b2dnbGUgJiYgL3Nob3d8aGlkZS8udGVzdChvcHRpb24pKSBvcHRpb25zLnRvZ2dsZSA9IGZhbHNlXG4gICAgICBpZiAoIWRhdGEpICR0aGlzLmRhdGEoJ2JzLmNvbGxhcHNlJywgKGRhdGEgPSBuZXcgQ29sbGFwc2UodGhpcywgb3B0aW9ucykpKVxuICAgICAgaWYgKHR5cGVvZiBvcHRpb24gPT0gJ3N0cmluZycpIGRhdGFbb3B0aW9uXSgpXG4gICAgfSlcbiAgfVxuXG4gIHZhciBvbGQgPSAkLmZuLmNvbGxhcHNlXG5cbiAgJC5mbi5jb2xsYXBzZSAgICAgICAgICAgICA9IFBsdWdpblxuICAkLmZuLmNvbGxhcHNlLkNvbnN0cnVjdG9yID0gQ29sbGFwc2VcblxuXG4gIC8vIENPTExBUFNFIE5PIENPTkZMSUNUXG4gIC8vID09PT09PT09PT09PT09PT09PT09XG5cbiAgJC5mbi5jb2xsYXBzZS5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICQuZm4uY29sbGFwc2UgPSBvbGRcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cblxuICAvLyBDT0xMQVBTRSBEQVRBLUFQSVxuICAvLyA9PT09PT09PT09PT09PT09PVxuXG4gICQoZG9jdW1lbnQpLm9uKCdjbGljay5icy5jb2xsYXBzZS5kYXRhLWFwaScsICdbZGF0YS10b2dnbGU9XCJjb2xsYXBzZVwiXScsIGZ1bmN0aW9uIChlKSB7XG4gICAgdmFyICR0aGlzICAgPSAkKHRoaXMpXG5cbiAgICBpZiAoISR0aGlzLmF0dHIoJ2RhdGEtdGFyZ2V0JykpIGUucHJldmVudERlZmF1bHQoKVxuXG4gICAgdmFyICR0YXJnZXQgPSBnZXRUYXJnZXRGcm9tVHJpZ2dlcigkdGhpcylcbiAgICB2YXIgZGF0YSAgICA9ICR0YXJnZXQuZGF0YSgnYnMuY29sbGFwc2UnKVxuICAgIHZhciBvcHRpb24gID0gZGF0YSA/ICd0b2dnbGUnIDogJHRoaXMuZGF0YSgpXG5cbiAgICBQbHVnaW4uY2FsbCgkdGFyZ2V0LCBvcHRpb24pXG4gIH0pXG5cbn0oalF1ZXJ5KTtcbiIsIi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQm9vdHN0cmFwOiBkcm9wZG93bi5qcyB2My4zLjRcbiAqIGh0dHA6Ly9nZXRib290c3RyYXAuY29tL2phdmFzY3JpcHQvI2Ryb3Bkb3duc1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgMjAxMS0yMDE1IFR3aXR0ZXIsIEluYy5cbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXG4rZnVuY3Rpb24gKCQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8vIERST1BET1dOIENMQVNTIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIHZhciBiYWNrZHJvcCA9ICcuZHJvcGRvd24tYmFja2Ryb3AnXG4gIHZhciB0b2dnbGUgICA9ICdbZGF0YS10b2dnbGU9XCJkcm9wZG93blwiXSdcbiAgdmFyIERyb3Bkb3duID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAkKGVsZW1lbnQpLm9uKCdjbGljay5icy5kcm9wZG93bicsIHRoaXMudG9nZ2xlKVxuICB9XG5cbiAgRHJvcGRvd24uVkVSU0lPTiA9ICczLjMuNCdcblxuICBEcm9wZG93bi5wcm90b3R5cGUudG9nZ2xlID0gZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgJHRoaXMgPSAkKHRoaXMpXG5cbiAgICBpZiAoJHRoaXMuaXMoJy5kaXNhYmxlZCwgOmRpc2FibGVkJykpIHJldHVyblxuXG4gICAgdmFyICRwYXJlbnQgID0gZ2V0UGFyZW50KCR0aGlzKVxuICAgIHZhciBpc0FjdGl2ZSA9ICRwYXJlbnQuaGFzQ2xhc3MoJ29wZW4nKVxuXG4gICAgY2xlYXJNZW51cygpXG5cbiAgICBpZiAoIWlzQWN0aXZlKSB7XG4gICAgICBpZiAoJ29udG91Y2hzdGFydCcgaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50ICYmICEkcGFyZW50LmNsb3Nlc3QoJy5uYXZiYXItbmF2JykubGVuZ3RoKSB7XG4gICAgICAgIC8vIGlmIG1vYmlsZSB3ZSB1c2UgYSBiYWNrZHJvcCBiZWNhdXNlIGNsaWNrIGV2ZW50cyBkb24ndCBkZWxlZ2F0ZVxuICAgICAgICAkKCc8ZGl2IGNsYXNzPVwiZHJvcGRvd24tYmFja2Ryb3BcIi8+JykuaW5zZXJ0QWZ0ZXIoJCh0aGlzKSkub24oJ2NsaWNrJywgY2xlYXJNZW51cylcbiAgICAgIH1cblxuICAgICAgdmFyIHJlbGF0ZWRUYXJnZXQgPSB7IHJlbGF0ZWRUYXJnZXQ6IHRoaXMgfVxuICAgICAgJHBhcmVudC50cmlnZ2VyKGUgPSAkLkV2ZW50KCdzaG93LmJzLmRyb3Bkb3duJywgcmVsYXRlZFRhcmdldCkpXG5cbiAgICAgIGlmIChlLmlzRGVmYXVsdFByZXZlbnRlZCgpKSByZXR1cm5cblxuICAgICAgJHRoaXNcbiAgICAgICAgLnRyaWdnZXIoJ2ZvY3VzJylcbiAgICAgICAgLmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCAndHJ1ZScpXG5cbiAgICAgICRwYXJlbnRcbiAgICAgICAgLnRvZ2dsZUNsYXNzKCdvcGVuJylcbiAgICAgICAgLnRyaWdnZXIoJ3Nob3duLmJzLmRyb3Bkb3duJywgcmVsYXRlZFRhcmdldClcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIERyb3Bkb3duLnByb3RvdHlwZS5rZXlkb3duID0gZnVuY3Rpb24gKGUpIHtcbiAgICBpZiAoIS8oMzh8NDB8Mjd8MzIpLy50ZXN0KGUud2hpY2gpIHx8IC9pbnB1dHx0ZXh0YXJlYS9pLnRlc3QoZS50YXJnZXQudGFnTmFtZSkpIHJldHVyblxuXG4gICAgdmFyICR0aGlzID0gJCh0aGlzKVxuXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKVxuXG4gICAgaWYgKCR0aGlzLmlzKCcuZGlzYWJsZWQsIDpkaXNhYmxlZCcpKSByZXR1cm5cblxuICAgIHZhciAkcGFyZW50ICA9IGdldFBhcmVudCgkdGhpcylcbiAgICB2YXIgaXNBY3RpdmUgPSAkcGFyZW50Lmhhc0NsYXNzKCdvcGVuJylcblxuICAgIGlmICgoIWlzQWN0aXZlICYmIGUud2hpY2ggIT0gMjcpIHx8IChpc0FjdGl2ZSAmJiBlLndoaWNoID09IDI3KSkge1xuICAgICAgaWYgKGUud2hpY2ggPT0gMjcpICRwYXJlbnQuZmluZCh0b2dnbGUpLnRyaWdnZXIoJ2ZvY3VzJylcbiAgICAgIHJldHVybiAkdGhpcy50cmlnZ2VyKCdjbGljaycpXG4gICAgfVxuXG4gICAgdmFyIGRlc2MgPSAnIGxpOm5vdCguZGlzYWJsZWQpOnZpc2libGUgYSdcbiAgICB2YXIgJGl0ZW1zID0gJHBhcmVudC5maW5kKCdbcm9sZT1cIm1lbnVcIl0nICsgZGVzYyArICcsIFtyb2xlPVwibGlzdGJveFwiXScgKyBkZXNjKVxuXG4gICAgaWYgKCEkaXRlbXMubGVuZ3RoKSByZXR1cm5cblxuICAgIHZhciBpbmRleCA9ICRpdGVtcy5pbmRleChlLnRhcmdldClcblxuICAgIGlmIChlLndoaWNoID09IDM4ICYmIGluZGV4ID4gMCkgICAgICAgICAgICAgICAgIGluZGV4LS0gICAgICAgICAgICAgICAgICAgICAgICAvLyB1cFxuICAgIGlmIChlLndoaWNoID09IDQwICYmIGluZGV4IDwgJGl0ZW1zLmxlbmd0aCAtIDEpIGluZGV4KysgICAgICAgICAgICAgICAgICAgICAgICAvLyBkb3duXG4gICAgaWYgKCF+aW5kZXgpICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleCA9IDBcblxuICAgICRpdGVtcy5lcShpbmRleCkudHJpZ2dlcignZm9jdXMnKVxuICB9XG5cbiAgZnVuY3Rpb24gY2xlYXJNZW51cyhlKSB7XG4gICAgaWYgKGUgJiYgZS53aGljaCA9PT0gMykgcmV0dXJuXG4gICAgJChiYWNrZHJvcCkucmVtb3ZlKClcbiAgICAkKHRvZ2dsZSkuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHRoaXMgICAgICAgICA9ICQodGhpcylcbiAgICAgIHZhciAkcGFyZW50ICAgICAgID0gZ2V0UGFyZW50KCR0aGlzKVxuICAgICAgdmFyIHJlbGF0ZWRUYXJnZXQgPSB7IHJlbGF0ZWRUYXJnZXQ6IHRoaXMgfVxuXG4gICAgICBpZiAoISRwYXJlbnQuaGFzQ2xhc3MoJ29wZW4nKSkgcmV0dXJuXG5cbiAgICAgICRwYXJlbnQudHJpZ2dlcihlID0gJC5FdmVudCgnaGlkZS5icy5kcm9wZG93bicsIHJlbGF0ZWRUYXJnZXQpKVxuXG4gICAgICBpZiAoZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkgcmV0dXJuXG5cbiAgICAgICR0aGlzLmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCAnZmFsc2UnKVxuICAgICAgJHBhcmVudC5yZW1vdmVDbGFzcygnb3BlbicpLnRyaWdnZXIoJ2hpZGRlbi5icy5kcm9wZG93bicsIHJlbGF0ZWRUYXJnZXQpXG4gICAgfSlcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFBhcmVudCgkdGhpcykge1xuICAgIHZhciBzZWxlY3RvciA9ICR0aGlzLmF0dHIoJ2RhdGEtdGFyZ2V0JylcblxuICAgIGlmICghc2VsZWN0b3IpIHtcbiAgICAgIHNlbGVjdG9yID0gJHRoaXMuYXR0cignaHJlZicpXG4gICAgICBzZWxlY3RvciA9IHNlbGVjdG9yICYmIC8jW0EtWmEtel0vLnRlc3Qoc2VsZWN0b3IpICYmIHNlbGVjdG9yLnJlcGxhY2UoLy4qKD89I1teXFxzXSokKS8sICcnKSAvLyBzdHJpcCBmb3IgaWU3XG4gICAgfVxuXG4gICAgdmFyICRwYXJlbnQgPSBzZWxlY3RvciAmJiAkKHNlbGVjdG9yKVxuXG4gICAgcmV0dXJuICRwYXJlbnQgJiYgJHBhcmVudC5sZW5ndGggPyAkcGFyZW50IDogJHRoaXMucGFyZW50KClcbiAgfVxuXG5cbiAgLy8gRFJPUERPV04gUExVR0lOIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICBmdW5jdGlvbiBQbHVnaW4ob3B0aW9uKSB7XG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpXG4gICAgICB2YXIgZGF0YSAgPSAkdGhpcy5kYXRhKCdicy5kcm9wZG93bicpXG5cbiAgICAgIGlmICghZGF0YSkgJHRoaXMuZGF0YSgnYnMuZHJvcGRvd24nLCAoZGF0YSA9IG5ldyBEcm9wZG93bih0aGlzKSkpXG4gICAgICBpZiAodHlwZW9mIG9wdGlvbiA9PSAnc3RyaW5nJykgZGF0YVtvcHRpb25dLmNhbGwoJHRoaXMpXG4gICAgfSlcbiAgfVxuXG4gIHZhciBvbGQgPSAkLmZuLmRyb3Bkb3duXG5cbiAgJC5mbi5kcm9wZG93biAgICAgICAgICAgICA9IFBsdWdpblxuICAkLmZuLmRyb3Bkb3duLkNvbnN0cnVjdG9yID0gRHJvcGRvd25cblxuXG4gIC8vIERST1BET1dOIE5PIENPTkZMSUNUXG4gIC8vID09PT09PT09PT09PT09PT09PT09XG5cbiAgJC5mbi5kcm9wZG93bi5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICQuZm4uZHJvcGRvd24gPSBvbGRcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cblxuICAvLyBBUFBMWSBUTyBTVEFOREFSRCBEUk9QRE9XTiBFTEVNRU5UU1xuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICQoZG9jdW1lbnQpXG4gICAgLm9uKCdjbGljay5icy5kcm9wZG93bi5kYXRhLWFwaScsIGNsZWFyTWVudXMpXG4gICAgLm9uKCdjbGljay5icy5kcm9wZG93bi5kYXRhLWFwaScsICcuZHJvcGRvd24gZm9ybScsIGZ1bmN0aW9uIChlKSB7IGUuc3RvcFByb3BhZ2F0aW9uKCkgfSlcbiAgICAub24oJ2NsaWNrLmJzLmRyb3Bkb3duLmRhdGEtYXBpJywgdG9nZ2xlLCBEcm9wZG93bi5wcm90b3R5cGUudG9nZ2xlKVxuICAgIC5vbigna2V5ZG93bi5icy5kcm9wZG93bi5kYXRhLWFwaScsIHRvZ2dsZSwgRHJvcGRvd24ucHJvdG90eXBlLmtleWRvd24pXG4gICAgLm9uKCdrZXlkb3duLmJzLmRyb3Bkb3duLmRhdGEtYXBpJywgJ1tyb2xlPVwibWVudVwiXScsIERyb3Bkb3duLnByb3RvdHlwZS5rZXlkb3duKVxuICAgIC5vbigna2V5ZG93bi5icy5kcm9wZG93bi5kYXRhLWFwaScsICdbcm9sZT1cImxpc3Rib3hcIl0nLCBEcm9wZG93bi5wcm90b3R5cGUua2V5ZG93bilcblxufShqUXVlcnkpO1xuIiwiLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBCb290c3RyYXA6IG1vZGFsLmpzIHYzLjMuNFxuICogaHR0cDovL2dldGJvb3RzdHJhcC5jb20vamF2YXNjcmlwdC8jbW9kYWxzXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCAyMDExLTIwMTUgVHdpdHRlciwgSW5jLlxuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYXN0ZXIvTElDRU5TRSlcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cbitmdW5jdGlvbiAoJCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgLy8gTU9EQUwgQ0xBU1MgREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09XG5cbiAgdmFyIE1vZGFsID0gZnVuY3Rpb24gKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICB0aGlzLm9wdGlvbnMgICAgICAgICAgICAgPSBvcHRpb25zXG4gICAgdGhpcy4kYm9keSAgICAgICAgICAgICAgID0gJChkb2N1bWVudC5ib2R5KVxuICAgIHRoaXMuJGVsZW1lbnQgICAgICAgICAgICA9ICQoZWxlbWVudClcbiAgICB0aGlzLiRkaWFsb2cgICAgICAgICAgICAgPSB0aGlzLiRlbGVtZW50LmZpbmQoJy5tb2RhbC1kaWFsb2cnKVxuICAgIHRoaXMuJGJhY2tkcm9wICAgICAgICAgICA9IG51bGxcbiAgICB0aGlzLmlzU2hvd24gICAgICAgICAgICAgPSBudWxsXG4gICAgdGhpcy5vcmlnaW5hbEJvZHlQYWQgICAgID0gbnVsbFxuICAgIHRoaXMuc2Nyb2xsYmFyV2lkdGggICAgICA9IDBcbiAgICB0aGlzLmlnbm9yZUJhY2tkcm9wQ2xpY2sgPSBmYWxzZVxuXG4gICAgaWYgKHRoaXMub3B0aW9ucy5yZW1vdGUpIHtcbiAgICAgIHRoaXMuJGVsZW1lbnRcbiAgICAgICAgLmZpbmQoJy5tb2RhbC1jb250ZW50JylcbiAgICAgICAgLmxvYWQodGhpcy5vcHRpb25zLnJlbW90ZSwgJC5wcm94eShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKCdsb2FkZWQuYnMubW9kYWwnKVxuICAgICAgICB9LCB0aGlzKSlcbiAgICB9XG4gIH1cblxuICBNb2RhbC5WRVJTSU9OICA9ICczLjMuNCdcblxuICBNb2RhbC5UUkFOU0lUSU9OX0RVUkFUSU9OID0gMzAwXG4gIE1vZGFsLkJBQ0tEUk9QX1RSQU5TSVRJT05fRFVSQVRJT04gPSAxNTBcblxuICBNb2RhbC5ERUZBVUxUUyA9IHtcbiAgICBiYWNrZHJvcDogdHJ1ZSxcbiAgICBrZXlib2FyZDogdHJ1ZSxcbiAgICBzaG93OiB0cnVlXG4gIH1cblxuICBNb2RhbC5wcm90b3R5cGUudG9nZ2xlID0gZnVuY3Rpb24gKF9yZWxhdGVkVGFyZ2V0KSB7XG4gICAgcmV0dXJuIHRoaXMuaXNTaG93biA/IHRoaXMuaGlkZSgpIDogdGhpcy5zaG93KF9yZWxhdGVkVGFyZ2V0KVxuICB9XG5cbiAgTW9kYWwucHJvdG90eXBlLnNob3cgPSBmdW5jdGlvbiAoX3JlbGF0ZWRUYXJnZXQpIHtcbiAgICB2YXIgdGhhdCA9IHRoaXNcbiAgICB2YXIgZSAgICA9ICQuRXZlbnQoJ3Nob3cuYnMubW9kYWwnLCB7IHJlbGF0ZWRUYXJnZXQ6IF9yZWxhdGVkVGFyZ2V0IH0pXG5cbiAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoZSlcblxuICAgIGlmICh0aGlzLmlzU2hvd24gfHwgZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkgcmV0dXJuXG5cbiAgICB0aGlzLmlzU2hvd24gPSB0cnVlXG5cbiAgICB0aGlzLmNoZWNrU2Nyb2xsYmFyKClcbiAgICB0aGlzLnNldFNjcm9sbGJhcigpXG4gICAgdGhpcy4kYm9keS5hZGRDbGFzcygnbW9kYWwtb3BlbicpXG5cbiAgICB0aGlzLmVzY2FwZSgpXG4gICAgdGhpcy5yZXNpemUoKVxuXG4gICAgdGhpcy4kZWxlbWVudC5vbignY2xpY2suZGlzbWlzcy5icy5tb2RhbCcsICdbZGF0YS1kaXNtaXNzPVwibW9kYWxcIl0nLCAkLnByb3h5KHRoaXMuaGlkZSwgdGhpcykpXG5cbiAgICB0aGlzLiRkaWFsb2cub24oJ21vdXNlZG93bi5kaXNtaXNzLmJzLm1vZGFsJywgZnVuY3Rpb24gKCkge1xuICAgICAgdGhhdC4kZWxlbWVudC5vbmUoJ21vdXNldXAuZGlzbWlzcy5icy5tb2RhbCcsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGlmICgkKGUudGFyZ2V0KS5pcyh0aGF0LiRlbGVtZW50KSkgdGhhdC5pZ25vcmVCYWNrZHJvcENsaWNrID0gdHJ1ZVxuICAgICAgfSlcbiAgICB9KVxuXG4gICAgdGhpcy5iYWNrZHJvcChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgdHJhbnNpdGlvbiA9ICQuc3VwcG9ydC50cmFuc2l0aW9uICYmIHRoYXQuJGVsZW1lbnQuaGFzQ2xhc3MoJ2ZhZGUnKVxuXG4gICAgICBpZiAoIXRoYXQuJGVsZW1lbnQucGFyZW50KCkubGVuZ3RoKSB7XG4gICAgICAgIHRoYXQuJGVsZW1lbnQuYXBwZW5kVG8odGhhdC4kYm9keSkgLy8gZG9uJ3QgbW92ZSBtb2RhbHMgZG9tIHBvc2l0aW9uXG4gICAgICB9XG5cbiAgICAgIHRoYXQuJGVsZW1lbnRcbiAgICAgICAgLnNob3coKVxuICAgICAgICAuc2Nyb2xsVG9wKDApXG5cbiAgICAgIHRoYXQuYWRqdXN0RGlhbG9nKClcblxuICAgICAgaWYgKHRyYW5zaXRpb24pIHtcbiAgICAgICAgdGhhdC4kZWxlbWVudFswXS5vZmZzZXRXaWR0aCAvLyBmb3JjZSByZWZsb3dcbiAgICAgIH1cblxuICAgICAgdGhhdC4kZWxlbWVudFxuICAgICAgICAuYWRkQ2xhc3MoJ2luJylcbiAgICAgICAgLmF0dHIoJ2FyaWEtaGlkZGVuJywgZmFsc2UpXG5cbiAgICAgIHRoYXQuZW5mb3JjZUZvY3VzKClcblxuICAgICAgdmFyIGUgPSAkLkV2ZW50KCdzaG93bi5icy5tb2RhbCcsIHsgcmVsYXRlZFRhcmdldDogX3JlbGF0ZWRUYXJnZXQgfSlcblxuICAgICAgdHJhbnNpdGlvbiA/XG4gICAgICAgIHRoYXQuJGRpYWxvZyAvLyB3YWl0IGZvciBtb2RhbCB0byBzbGlkZSBpblxuICAgICAgICAgIC5vbmUoJ2JzVHJhbnNpdGlvbkVuZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoYXQuJGVsZW1lbnQudHJpZ2dlcignZm9jdXMnKS50cmlnZ2VyKGUpXG4gICAgICAgICAgfSlcbiAgICAgICAgICAuZW11bGF0ZVRyYW5zaXRpb25FbmQoTW9kYWwuVFJBTlNJVElPTl9EVVJBVElPTikgOlxuICAgICAgICB0aGF0LiRlbGVtZW50LnRyaWdnZXIoJ2ZvY3VzJykudHJpZ2dlcihlKVxuICAgIH0pXG4gIH1cblxuICBNb2RhbC5wcm90b3R5cGUuaGlkZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgaWYgKGUpIGUucHJldmVudERlZmF1bHQoKVxuXG4gICAgZSA9ICQuRXZlbnQoJ2hpZGUuYnMubW9kYWwnKVxuXG4gICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKGUpXG5cbiAgICBpZiAoIXRoaXMuaXNTaG93biB8fCBlLmlzRGVmYXVsdFByZXZlbnRlZCgpKSByZXR1cm5cblxuICAgIHRoaXMuaXNTaG93biA9IGZhbHNlXG5cbiAgICB0aGlzLmVzY2FwZSgpXG4gICAgdGhpcy5yZXNpemUoKVxuXG4gICAgJChkb2N1bWVudCkub2ZmKCdmb2N1c2luLmJzLm1vZGFsJylcblxuICAgIHRoaXMuJGVsZW1lbnRcbiAgICAgIC5yZW1vdmVDbGFzcygnaW4nKVxuICAgICAgLmF0dHIoJ2FyaWEtaGlkZGVuJywgdHJ1ZSlcbiAgICAgIC5vZmYoJ2NsaWNrLmRpc21pc3MuYnMubW9kYWwnKVxuICAgICAgLm9mZignbW91c2V1cC5kaXNtaXNzLmJzLm1vZGFsJylcblxuICAgIHRoaXMuJGRpYWxvZy5vZmYoJ21vdXNlZG93bi5kaXNtaXNzLmJzLm1vZGFsJylcblxuICAgICQuc3VwcG9ydC50cmFuc2l0aW9uICYmIHRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoJ2ZhZGUnKSA/XG4gICAgICB0aGlzLiRlbGVtZW50XG4gICAgICAgIC5vbmUoJ2JzVHJhbnNpdGlvbkVuZCcsICQucHJveHkodGhpcy5oaWRlTW9kYWwsIHRoaXMpKVxuICAgICAgICAuZW11bGF0ZVRyYW5zaXRpb25FbmQoTW9kYWwuVFJBTlNJVElPTl9EVVJBVElPTikgOlxuICAgICAgdGhpcy5oaWRlTW9kYWwoKVxuICB9XG5cbiAgTW9kYWwucHJvdG90eXBlLmVuZm9yY2VGb2N1cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAkKGRvY3VtZW50KVxuICAgICAgLm9mZignZm9jdXNpbi5icy5tb2RhbCcpIC8vIGd1YXJkIGFnYWluc3QgaW5maW5pdGUgZm9jdXMgbG9vcFxuICAgICAgLm9uKCdmb2N1c2luLmJzLm1vZGFsJywgJC5wcm94eShmdW5jdGlvbiAoZSkge1xuICAgICAgICBpZiAodGhpcy4kZWxlbWVudFswXSAhPT0gZS50YXJnZXQgJiYgIXRoaXMuJGVsZW1lbnQuaGFzKGUudGFyZ2V0KS5sZW5ndGgpIHtcbiAgICAgICAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoJ2ZvY3VzJylcbiAgICAgICAgfVxuICAgICAgfSwgdGhpcykpXG4gIH1cblxuICBNb2RhbC5wcm90b3R5cGUuZXNjYXBlID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLmlzU2hvd24gJiYgdGhpcy5vcHRpb25zLmtleWJvYXJkKSB7XG4gICAgICB0aGlzLiRlbGVtZW50Lm9uKCdrZXlkb3duLmRpc21pc3MuYnMubW9kYWwnLCAkLnByb3h5KGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGUud2hpY2ggPT0gMjcgJiYgdGhpcy5oaWRlKClcbiAgICAgIH0sIHRoaXMpKVxuICAgIH0gZWxzZSBpZiAoIXRoaXMuaXNTaG93bikge1xuICAgICAgdGhpcy4kZWxlbWVudC5vZmYoJ2tleWRvd24uZGlzbWlzcy5icy5tb2RhbCcpXG4gICAgfVxuICB9XG5cbiAgTW9kYWwucHJvdG90eXBlLnJlc2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5pc1Nob3duKSB7XG4gICAgICAkKHdpbmRvdykub24oJ3Jlc2l6ZS5icy5tb2RhbCcsICQucHJveHkodGhpcy5oYW5kbGVVcGRhdGUsIHRoaXMpKVxuICAgIH0gZWxzZSB7XG4gICAgICAkKHdpbmRvdykub2ZmKCdyZXNpemUuYnMubW9kYWwnKVxuICAgIH1cbiAgfVxuXG4gIE1vZGFsLnByb3RvdHlwZS5oaWRlTW9kYWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHRoYXQgPSB0aGlzXG4gICAgdGhpcy4kZWxlbWVudC5oaWRlKClcbiAgICB0aGlzLmJhY2tkcm9wKGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoYXQuJGJvZHkucmVtb3ZlQ2xhc3MoJ21vZGFsLW9wZW4nKVxuICAgICAgdGhhdC5yZXNldEFkanVzdG1lbnRzKClcbiAgICAgIHRoYXQucmVzZXRTY3JvbGxiYXIoKVxuICAgICAgdGhhdC4kZWxlbWVudC50cmlnZ2VyKCdoaWRkZW4uYnMubW9kYWwnKVxuICAgIH0pXG4gIH1cblxuICBNb2RhbC5wcm90b3R5cGUucmVtb3ZlQmFja2Ryb3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy4kYmFja2Ryb3AgJiYgdGhpcy4kYmFja2Ryb3AucmVtb3ZlKClcbiAgICB0aGlzLiRiYWNrZHJvcCA9IG51bGxcbiAgfVxuXG4gIE1vZGFsLnByb3RvdHlwZS5iYWNrZHJvcCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIHZhciB0aGF0ID0gdGhpc1xuICAgIHZhciBhbmltYXRlID0gdGhpcy4kZWxlbWVudC5oYXNDbGFzcygnZmFkZScpID8gJ2ZhZGUnIDogJydcblxuICAgIGlmICh0aGlzLmlzU2hvd24gJiYgdGhpcy5vcHRpb25zLmJhY2tkcm9wKSB7XG4gICAgICB2YXIgZG9BbmltYXRlID0gJC5zdXBwb3J0LnRyYW5zaXRpb24gJiYgYW5pbWF0ZVxuXG4gICAgICB0aGlzLiRiYWNrZHJvcCA9ICQoJzxkaXYgY2xhc3M9XCJtb2RhbC1iYWNrZHJvcCAnICsgYW5pbWF0ZSArICdcIiAvPicpXG4gICAgICAgIC5hcHBlbmRUbyh0aGlzLiRib2R5KVxuXG4gICAgICB0aGlzLiRlbGVtZW50Lm9uKCdjbGljay5kaXNtaXNzLmJzLm1vZGFsJywgJC5wcm94eShmdW5jdGlvbiAoZSkge1xuICAgICAgICBpZiAodGhpcy5pZ25vcmVCYWNrZHJvcENsaWNrKSB7XG4gICAgICAgICAgdGhpcy5pZ25vcmVCYWNrZHJvcENsaWNrID0gZmFsc2VcbiAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuICAgICAgICBpZiAoZS50YXJnZXQgIT09IGUuY3VycmVudFRhcmdldCkgcmV0dXJuXG4gICAgICAgIHRoaXMub3B0aW9ucy5iYWNrZHJvcCA9PSAnc3RhdGljJ1xuICAgICAgICAgID8gdGhpcy4kZWxlbWVudFswXS5mb2N1cygpXG4gICAgICAgICAgOiB0aGlzLmhpZGUoKVxuICAgICAgfSwgdGhpcykpXG5cbiAgICAgIGlmIChkb0FuaW1hdGUpIHRoaXMuJGJhY2tkcm9wWzBdLm9mZnNldFdpZHRoIC8vIGZvcmNlIHJlZmxvd1xuXG4gICAgICB0aGlzLiRiYWNrZHJvcC5hZGRDbGFzcygnaW4nKVxuXG4gICAgICBpZiAoIWNhbGxiYWNrKSByZXR1cm5cblxuICAgICAgZG9BbmltYXRlID9cbiAgICAgICAgdGhpcy4kYmFja2Ryb3BcbiAgICAgICAgICAub25lKCdic1RyYW5zaXRpb25FbmQnLCBjYWxsYmFjaylcbiAgICAgICAgICAuZW11bGF0ZVRyYW5zaXRpb25FbmQoTW9kYWwuQkFDS0RST1BfVFJBTlNJVElPTl9EVVJBVElPTikgOlxuICAgICAgICBjYWxsYmFjaygpXG5cbiAgICB9IGVsc2UgaWYgKCF0aGlzLmlzU2hvd24gJiYgdGhpcy4kYmFja2Ryb3ApIHtcbiAgICAgIHRoaXMuJGJhY2tkcm9wLnJlbW92ZUNsYXNzKCdpbicpXG5cbiAgICAgIHZhciBjYWxsYmFja1JlbW92ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhhdC5yZW1vdmVCYWNrZHJvcCgpXG4gICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKClcbiAgICAgIH1cbiAgICAgICQuc3VwcG9ydC50cmFuc2l0aW9uICYmIHRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoJ2ZhZGUnKSA/XG4gICAgICAgIHRoaXMuJGJhY2tkcm9wXG4gICAgICAgICAgLm9uZSgnYnNUcmFuc2l0aW9uRW5kJywgY2FsbGJhY2tSZW1vdmUpXG4gICAgICAgICAgLmVtdWxhdGVUcmFuc2l0aW9uRW5kKE1vZGFsLkJBQ0tEUk9QX1RSQU5TSVRJT05fRFVSQVRJT04pIDpcbiAgICAgICAgY2FsbGJhY2tSZW1vdmUoKVxuXG4gICAgfSBlbHNlIGlmIChjYWxsYmFjaykge1xuICAgICAgY2FsbGJhY2soKVxuICAgIH1cbiAgfVxuXG4gIC8vIHRoZXNlIGZvbGxvd2luZyBtZXRob2RzIGFyZSB1c2VkIHRvIGhhbmRsZSBvdmVyZmxvd2luZyBtb2RhbHNcblxuICBNb2RhbC5wcm90b3R5cGUuaGFuZGxlVXBkYXRlID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuYWRqdXN0RGlhbG9nKClcbiAgfVxuXG4gIE1vZGFsLnByb3RvdHlwZS5hZGp1c3REaWFsb2cgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIG1vZGFsSXNPdmVyZmxvd2luZyA9IHRoaXMuJGVsZW1lbnRbMF0uc2Nyb2xsSGVpZ2h0ID4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodFxuXG4gICAgdGhpcy4kZWxlbWVudC5jc3Moe1xuICAgICAgcGFkZGluZ0xlZnQ6ICAhdGhpcy5ib2R5SXNPdmVyZmxvd2luZyAmJiBtb2RhbElzT3ZlcmZsb3dpbmcgPyB0aGlzLnNjcm9sbGJhcldpZHRoIDogJycsXG4gICAgICBwYWRkaW5nUmlnaHQ6IHRoaXMuYm9keUlzT3ZlcmZsb3dpbmcgJiYgIW1vZGFsSXNPdmVyZmxvd2luZyA/IHRoaXMuc2Nyb2xsYmFyV2lkdGggOiAnJ1xuICAgIH0pXG4gIH1cblxuICBNb2RhbC5wcm90b3R5cGUucmVzZXRBZGp1c3RtZW50cyA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLiRlbGVtZW50LmNzcyh7XG4gICAgICBwYWRkaW5nTGVmdDogJycsXG4gICAgICBwYWRkaW5nUmlnaHQ6ICcnXG4gICAgfSlcbiAgfVxuXG4gIE1vZGFsLnByb3RvdHlwZS5jaGVja1Njcm9sbGJhciA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZnVsbFdpbmRvd1dpZHRoID0gd2luZG93LmlubmVyV2lkdGhcbiAgICBpZiAoIWZ1bGxXaW5kb3dXaWR0aCkgeyAvLyB3b3JrYXJvdW5kIGZvciBtaXNzaW5nIHdpbmRvdy5pbm5lcldpZHRoIGluIElFOFxuICAgICAgdmFyIGRvY3VtZW50RWxlbWVudFJlY3QgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcbiAgICAgIGZ1bGxXaW5kb3dXaWR0aCA9IGRvY3VtZW50RWxlbWVudFJlY3QucmlnaHQgLSBNYXRoLmFicyhkb2N1bWVudEVsZW1lbnRSZWN0LmxlZnQpXG4gICAgfVxuICAgIHRoaXMuYm9keUlzT3ZlcmZsb3dpbmcgPSBkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoIDwgZnVsbFdpbmRvd1dpZHRoXG4gICAgdGhpcy5zY3JvbGxiYXJXaWR0aCA9IHRoaXMubWVhc3VyZVNjcm9sbGJhcigpXG4gIH1cblxuICBNb2RhbC5wcm90b3R5cGUuc2V0U2Nyb2xsYmFyID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBib2R5UGFkID0gcGFyc2VJbnQoKHRoaXMuJGJvZHkuY3NzKCdwYWRkaW5nLXJpZ2h0JykgfHwgMCksIDEwKVxuICAgIHRoaXMub3JpZ2luYWxCb2R5UGFkID0gZG9jdW1lbnQuYm9keS5zdHlsZS5wYWRkaW5nUmlnaHQgfHwgJydcbiAgICBpZiAodGhpcy5ib2R5SXNPdmVyZmxvd2luZykgdGhpcy4kYm9keS5jc3MoJ3BhZGRpbmctcmlnaHQnLCBib2R5UGFkICsgdGhpcy5zY3JvbGxiYXJXaWR0aClcbiAgfVxuXG4gIE1vZGFsLnByb3RvdHlwZS5yZXNldFNjcm9sbGJhciA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLiRib2R5LmNzcygncGFkZGluZy1yaWdodCcsIHRoaXMub3JpZ2luYWxCb2R5UGFkKVxuICB9XG5cbiAgTW9kYWwucHJvdG90eXBlLm1lYXN1cmVTY3JvbGxiYXIgPSBmdW5jdGlvbiAoKSB7IC8vIHRoeCB3YWxzaFxuICAgIHZhciBzY3JvbGxEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgIHNjcm9sbERpdi5jbGFzc05hbWUgPSAnbW9kYWwtc2Nyb2xsYmFyLW1lYXN1cmUnXG4gICAgdGhpcy4kYm9keS5hcHBlbmQoc2Nyb2xsRGl2KVxuICAgIHZhciBzY3JvbGxiYXJXaWR0aCA9IHNjcm9sbERpdi5vZmZzZXRXaWR0aCAtIHNjcm9sbERpdi5jbGllbnRXaWR0aFxuICAgIHRoaXMuJGJvZHlbMF0ucmVtb3ZlQ2hpbGQoc2Nyb2xsRGl2KVxuICAgIHJldHVybiBzY3JvbGxiYXJXaWR0aFxuICB9XG5cblxuICAvLyBNT0RBTCBQTFVHSU4gREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGZ1bmN0aW9uIFBsdWdpbihvcHRpb24sIF9yZWxhdGVkVGFyZ2V0KSB7XG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHRoaXMgICA9ICQodGhpcylcbiAgICAgIHZhciBkYXRhICAgID0gJHRoaXMuZGF0YSgnYnMubW9kYWwnKVxuICAgICAgdmFyIG9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgTW9kYWwuREVGQVVMVFMsICR0aGlzLmRhdGEoKSwgdHlwZW9mIG9wdGlvbiA9PSAnb2JqZWN0JyAmJiBvcHRpb24pXG5cbiAgICAgIGlmICghZGF0YSkgJHRoaXMuZGF0YSgnYnMubW9kYWwnLCAoZGF0YSA9IG5ldyBNb2RhbCh0aGlzLCBvcHRpb25zKSkpXG4gICAgICBpZiAodHlwZW9mIG9wdGlvbiA9PSAnc3RyaW5nJykgZGF0YVtvcHRpb25dKF9yZWxhdGVkVGFyZ2V0KVxuICAgICAgZWxzZSBpZiAob3B0aW9ucy5zaG93KSBkYXRhLnNob3coX3JlbGF0ZWRUYXJnZXQpXG4gICAgfSlcbiAgfVxuXG4gIHZhciBvbGQgPSAkLmZuLm1vZGFsXG5cbiAgJC5mbi5tb2RhbCAgICAgICAgICAgICA9IFBsdWdpblxuICAkLmZuLm1vZGFsLkNvbnN0cnVjdG9yID0gTW9kYWxcblxuXG4gIC8vIE1PREFMIE5PIENPTkZMSUNUXG4gIC8vID09PT09PT09PT09PT09PT09XG5cbiAgJC5mbi5tb2RhbC5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICQuZm4ubW9kYWwgPSBvbGRcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cblxuICAvLyBNT0RBTCBEQVRBLUFQSVxuICAvLyA9PT09PT09PT09PT09PVxuXG4gICQoZG9jdW1lbnQpLm9uKCdjbGljay5icy5tb2RhbC5kYXRhLWFwaScsICdbZGF0YS10b2dnbGU9XCJtb2RhbFwiXScsIGZ1bmN0aW9uIChlKSB7XG4gICAgdmFyICR0aGlzICAgPSAkKHRoaXMpXG4gICAgdmFyIGhyZWYgICAgPSAkdGhpcy5hdHRyKCdocmVmJylcbiAgICB2YXIgJHRhcmdldCA9ICQoJHRoaXMuYXR0cignZGF0YS10YXJnZXQnKSB8fCAoaHJlZiAmJiBocmVmLnJlcGxhY2UoLy4qKD89I1teXFxzXSskKS8sICcnKSkpIC8vIHN0cmlwIGZvciBpZTdcbiAgICB2YXIgb3B0aW9uICA9ICR0YXJnZXQuZGF0YSgnYnMubW9kYWwnKSA/ICd0b2dnbGUnIDogJC5leHRlbmQoeyByZW1vdGU6ICEvIy8udGVzdChocmVmKSAmJiBocmVmIH0sICR0YXJnZXQuZGF0YSgpLCAkdGhpcy5kYXRhKCkpXG5cbiAgICBpZiAoJHRoaXMuaXMoJ2EnKSkgZS5wcmV2ZW50RGVmYXVsdCgpXG5cbiAgICAkdGFyZ2V0Lm9uZSgnc2hvdy5icy5tb2RhbCcsIGZ1bmN0aW9uIChzaG93RXZlbnQpIHtcbiAgICAgIGlmIChzaG93RXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVybiAvLyBvbmx5IHJlZ2lzdGVyIGZvY3VzIHJlc3RvcmVyIGlmIG1vZGFsIHdpbGwgYWN0dWFsbHkgZ2V0IHNob3duXG4gICAgICAkdGFyZ2V0Lm9uZSgnaGlkZGVuLmJzLm1vZGFsJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAkdGhpcy5pcygnOnZpc2libGUnKSAmJiAkdGhpcy50cmlnZ2VyKCdmb2N1cycpXG4gICAgICB9KVxuICAgIH0pXG4gICAgUGx1Z2luLmNhbGwoJHRhcmdldCwgb3B0aW9uLCB0aGlzKVxuICB9KVxuXG59KGpRdWVyeSk7XG4iLCIvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEJvb3RzdHJhcDogdGFiLmpzIHYzLjMuNFxuICogaHR0cDovL2dldGJvb3RzdHJhcC5jb20vamF2YXNjcmlwdC8jdGFic1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgMjAxMS0yMDE1IFR3aXR0ZXIsIEluYy5cbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXG4rZnVuY3Rpb24gKCQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8vIFRBQiBDTEFTUyBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09XG5cbiAgdmFyIFRhYiA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgdGhpcy5lbGVtZW50ID0gJChlbGVtZW50KVxuICB9XG5cbiAgVGFiLlZFUlNJT04gPSAnMy4zLjQnXG5cbiAgVGFiLlRSQU5TSVRJT05fRFVSQVRJT04gPSAxNTBcblxuICBUYWIucHJvdG90eXBlLnNob3cgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyICR0aGlzICAgID0gdGhpcy5lbGVtZW50XG4gICAgdmFyICR1bCAgICAgID0gJHRoaXMuY2xvc2VzdCgndWw6bm90KC5kcm9wZG93bi1tZW51KScpXG4gICAgdmFyIHNlbGVjdG9yID0gJHRoaXMuZGF0YSgndGFyZ2V0JylcblxuICAgIGlmICghc2VsZWN0b3IpIHtcbiAgICAgIHNlbGVjdG9yID0gJHRoaXMuYXR0cignaHJlZicpXG4gICAgICBzZWxlY3RvciA9IHNlbGVjdG9yICYmIHNlbGVjdG9yLnJlcGxhY2UoLy4qKD89I1teXFxzXSokKS8sICcnKSAvLyBzdHJpcCBmb3IgaWU3XG4gICAgfVxuXG4gICAgaWYgKCR0aGlzLnBhcmVudCgnbGknKS5oYXNDbGFzcygnYWN0aXZlJykpIHJldHVyblxuXG4gICAgdmFyICRwcmV2aW91cyA9ICR1bC5maW5kKCcuYWN0aXZlOmxhc3QgYScpXG4gICAgdmFyIGhpZGVFdmVudCA9ICQuRXZlbnQoJ2hpZGUuYnMudGFiJywge1xuICAgICAgcmVsYXRlZFRhcmdldDogJHRoaXNbMF1cbiAgICB9KVxuICAgIHZhciBzaG93RXZlbnQgPSAkLkV2ZW50KCdzaG93LmJzLnRhYicsIHtcbiAgICAgIHJlbGF0ZWRUYXJnZXQ6ICRwcmV2aW91c1swXVxuICAgIH0pXG5cbiAgICAkcHJldmlvdXMudHJpZ2dlcihoaWRlRXZlbnQpXG4gICAgJHRoaXMudHJpZ2dlcihzaG93RXZlbnQpXG5cbiAgICBpZiAoc2hvd0V2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpIHx8IGhpZGVFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkgcmV0dXJuXG5cbiAgICB2YXIgJHRhcmdldCA9ICQoc2VsZWN0b3IpXG5cbiAgICB0aGlzLmFjdGl2YXRlKCR0aGlzLmNsb3Nlc3QoJ2xpJyksICR1bClcbiAgICB0aGlzLmFjdGl2YXRlKCR0YXJnZXQsICR0YXJnZXQucGFyZW50KCksIGZ1bmN0aW9uICgpIHtcbiAgICAgICRwcmV2aW91cy50cmlnZ2VyKHtcbiAgICAgICAgdHlwZTogJ2hpZGRlbi5icy50YWInLFxuICAgICAgICByZWxhdGVkVGFyZ2V0OiAkdGhpc1swXVxuICAgICAgfSlcbiAgICAgICR0aGlzLnRyaWdnZXIoe1xuICAgICAgICB0eXBlOiAnc2hvd24uYnMudGFiJyxcbiAgICAgICAgcmVsYXRlZFRhcmdldDogJHByZXZpb3VzWzBdXG4gICAgICB9KVxuICAgIH0pXG4gIH1cblxuICBUYWIucHJvdG90eXBlLmFjdGl2YXRlID0gZnVuY3Rpb24gKGVsZW1lbnQsIGNvbnRhaW5lciwgY2FsbGJhY2spIHtcbiAgICB2YXIgJGFjdGl2ZSAgICA9IGNvbnRhaW5lci5maW5kKCc+IC5hY3RpdmUnKVxuICAgIHZhciB0cmFuc2l0aW9uID0gY2FsbGJhY2tcbiAgICAgICYmICQuc3VwcG9ydC50cmFuc2l0aW9uXG4gICAgICAmJiAoKCRhY3RpdmUubGVuZ3RoICYmICRhY3RpdmUuaGFzQ2xhc3MoJ2ZhZGUnKSkgfHwgISFjb250YWluZXIuZmluZCgnPiAuZmFkZScpLmxlbmd0aClcblxuICAgIGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICAkYWN0aXZlXG4gICAgICAgIC5yZW1vdmVDbGFzcygnYWN0aXZlJylcbiAgICAgICAgLmZpbmQoJz4gLmRyb3Bkb3duLW1lbnUgPiAuYWN0aXZlJylcbiAgICAgICAgICAucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpXG4gICAgICAgIC5lbmQoKVxuICAgICAgICAuZmluZCgnW2RhdGEtdG9nZ2xlPVwidGFiXCJdJylcbiAgICAgICAgICAuYXR0cignYXJpYS1leHBhbmRlZCcsIGZhbHNlKVxuXG4gICAgICBlbGVtZW50XG4gICAgICAgIC5hZGRDbGFzcygnYWN0aXZlJylcbiAgICAgICAgLmZpbmQoJ1tkYXRhLXRvZ2dsZT1cInRhYlwiXScpXG4gICAgICAgICAgLmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCB0cnVlKVxuXG4gICAgICBpZiAodHJhbnNpdGlvbikge1xuICAgICAgICBlbGVtZW50WzBdLm9mZnNldFdpZHRoIC8vIHJlZmxvdyBmb3IgdHJhbnNpdGlvblxuICAgICAgICBlbGVtZW50LmFkZENsYXNzKCdpbicpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlbGVtZW50LnJlbW92ZUNsYXNzKCdmYWRlJylcbiAgICAgIH1cblxuICAgICAgaWYgKGVsZW1lbnQucGFyZW50KCcuZHJvcGRvd24tbWVudScpLmxlbmd0aCkge1xuICAgICAgICBlbGVtZW50XG4gICAgICAgICAgLmNsb3Nlc3QoJ2xpLmRyb3Bkb3duJylcbiAgICAgICAgICAgIC5hZGRDbGFzcygnYWN0aXZlJylcbiAgICAgICAgICAuZW5kKClcbiAgICAgICAgICAuZmluZCgnW2RhdGEtdG9nZ2xlPVwidGFiXCJdJylcbiAgICAgICAgICAgIC5hdHRyKCdhcmlhLWV4cGFuZGVkJywgdHJ1ZSlcbiAgICAgIH1cblxuICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soKVxuICAgIH1cblxuICAgICRhY3RpdmUubGVuZ3RoICYmIHRyYW5zaXRpb24gP1xuICAgICAgJGFjdGl2ZVxuICAgICAgICAub25lKCdic1RyYW5zaXRpb25FbmQnLCBuZXh0KVxuICAgICAgICAuZW11bGF0ZVRyYW5zaXRpb25FbmQoVGFiLlRSQU5TSVRJT05fRFVSQVRJT04pIDpcbiAgICAgIG5leHQoKVxuXG4gICAgJGFjdGl2ZS5yZW1vdmVDbGFzcygnaW4nKVxuICB9XG5cblxuICAvLyBUQUIgUExVR0lOIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09XG5cbiAgZnVuY3Rpb24gUGx1Z2luKG9wdGlvbikge1xuICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgdmFyICR0aGlzID0gJCh0aGlzKVxuICAgICAgdmFyIGRhdGEgID0gJHRoaXMuZGF0YSgnYnMudGFiJylcblxuICAgICAgaWYgKCFkYXRhKSAkdGhpcy5kYXRhKCdicy50YWInLCAoZGF0YSA9IG5ldyBUYWIodGhpcykpKVxuICAgICAgaWYgKHR5cGVvZiBvcHRpb24gPT0gJ3N0cmluZycpIGRhdGFbb3B0aW9uXSgpXG4gICAgfSlcbiAgfVxuXG4gIHZhciBvbGQgPSAkLmZuLnRhYlxuXG4gICQuZm4udGFiICAgICAgICAgICAgID0gUGx1Z2luXG4gICQuZm4udGFiLkNvbnN0cnVjdG9yID0gVGFiXG5cblxuICAvLyBUQUIgTk8gQ09ORkxJQ1RcbiAgLy8gPT09PT09PT09PT09PT09XG5cbiAgJC5mbi50YWIubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAkLmZuLnRhYiA9IG9sZFxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuXG4gIC8vIFRBQiBEQVRBLUFQSVxuICAvLyA9PT09PT09PT09PT1cblxuICB2YXIgY2xpY2tIYW5kbGVyID0gZnVuY3Rpb24gKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICBQbHVnaW4uY2FsbCgkKHRoaXMpLCAnc2hvdycpXG4gIH1cblxuICAkKGRvY3VtZW50KVxuICAgIC5vbignY2xpY2suYnMudGFiLmRhdGEtYXBpJywgJ1tkYXRhLXRvZ2dsZT1cInRhYlwiXScsIGNsaWNrSGFuZGxlcilcbiAgICAub24oJ2NsaWNrLmJzLnRhYi5kYXRhLWFwaScsICdbZGF0YS10b2dnbGU9XCJwaWxsXCJdJywgY2xpY2tIYW5kbGVyKVxuXG59KGpRdWVyeSk7XG4iLCIvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEJvb3RzdHJhcDogdG9vbHRpcC5qcyB2My4zLjRcbiAqIGh0dHA6Ly9nZXRib290c3RyYXAuY29tL2phdmFzY3JpcHQvI3Rvb2x0aXBcbiAqIEluc3BpcmVkIGJ5IHRoZSBvcmlnaW5hbCBqUXVlcnkudGlwc3kgYnkgSmFzb24gRnJhbWVcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IDIwMTEtMjAxNSBUd2l0dGVyLCBJbmMuXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21hc3Rlci9MSUNFTlNFKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblxuK2Z1bmN0aW9uICgkKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvLyBUT09MVElQIFBVQkxJQyBDTEFTUyBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICB2YXIgVG9vbHRpcCA9IGZ1bmN0aW9uIChlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgdGhpcy50eXBlICAgICAgID0gbnVsbFxuICAgIHRoaXMub3B0aW9ucyAgICA9IG51bGxcbiAgICB0aGlzLmVuYWJsZWQgICAgPSBudWxsXG4gICAgdGhpcy50aW1lb3V0ICAgID0gbnVsbFxuICAgIHRoaXMuaG92ZXJTdGF0ZSA9IG51bGxcbiAgICB0aGlzLiRlbGVtZW50ICAgPSBudWxsXG5cbiAgICB0aGlzLmluaXQoJ3Rvb2x0aXAnLCBlbGVtZW50LCBvcHRpb25zKVxuICB9XG5cbiAgVG9vbHRpcC5WRVJTSU9OICA9ICczLjMuNCdcblxuICBUb29sdGlwLlRSQU5TSVRJT05fRFVSQVRJT04gPSAxNTBcblxuICBUb29sdGlwLkRFRkFVTFRTID0ge1xuICAgIGFuaW1hdGlvbjogdHJ1ZSxcbiAgICBwbGFjZW1lbnQ6ICd0b3AnLFxuICAgIHNlbGVjdG9yOiBmYWxzZSxcbiAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJ0b29sdGlwXCIgcm9sZT1cInRvb2x0aXBcIj48ZGl2IGNsYXNzPVwidG9vbHRpcC1hcnJvd1wiPjwvZGl2PjxkaXYgY2xhc3M9XCJ0b29sdGlwLWlubmVyXCI+PC9kaXY+PC9kaXY+JyxcbiAgICB0cmlnZ2VyOiAnaG92ZXIgZm9jdXMnLFxuICAgIHRpdGxlOiAnJyxcbiAgICBkZWxheTogMCxcbiAgICBodG1sOiBmYWxzZSxcbiAgICBjb250YWluZXI6IGZhbHNlLFxuICAgIHZpZXdwb3J0OiB7XG4gICAgICBzZWxlY3RvcjogJ2JvZHknLFxuICAgICAgcGFkZGluZzogMFxuICAgIH1cbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbiAodHlwZSwgZWxlbWVudCwgb3B0aW9ucykge1xuICAgIHRoaXMuZW5hYmxlZCAgID0gdHJ1ZVxuICAgIHRoaXMudHlwZSAgICAgID0gdHlwZVxuICAgIHRoaXMuJGVsZW1lbnQgID0gJChlbGVtZW50KVxuICAgIHRoaXMub3B0aW9ucyAgID0gdGhpcy5nZXRPcHRpb25zKG9wdGlvbnMpXG4gICAgdGhpcy4kdmlld3BvcnQgPSB0aGlzLm9wdGlvbnMudmlld3BvcnQgJiYgJCh0aGlzLm9wdGlvbnMudmlld3BvcnQuc2VsZWN0b3IgfHwgdGhpcy5vcHRpb25zLnZpZXdwb3J0KVxuXG4gICAgaWYgKHRoaXMuJGVsZW1lbnRbMF0gaW5zdGFuY2VvZiBkb2N1bWVudC5jb25zdHJ1Y3RvciAmJiAhdGhpcy5vcHRpb25zLnNlbGVjdG9yKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2BzZWxlY3RvcmAgb3B0aW9uIG11c3QgYmUgc3BlY2lmaWVkIHdoZW4gaW5pdGlhbGl6aW5nICcgKyB0aGlzLnR5cGUgKyAnIG9uIHRoZSB3aW5kb3cuZG9jdW1lbnQgb2JqZWN0IScpXG4gICAgfVxuXG4gICAgdmFyIHRyaWdnZXJzID0gdGhpcy5vcHRpb25zLnRyaWdnZXIuc3BsaXQoJyAnKVxuXG4gICAgZm9yICh2YXIgaSA9IHRyaWdnZXJzLmxlbmd0aDsgaS0tOykge1xuICAgICAgdmFyIHRyaWdnZXIgPSB0cmlnZ2Vyc1tpXVxuXG4gICAgICBpZiAodHJpZ2dlciA9PSAnY2xpY2snKSB7XG4gICAgICAgIHRoaXMuJGVsZW1lbnQub24oJ2NsaWNrLicgKyB0aGlzLnR5cGUsIHRoaXMub3B0aW9ucy5zZWxlY3RvciwgJC5wcm94eSh0aGlzLnRvZ2dsZSwgdGhpcykpXG4gICAgICB9IGVsc2UgaWYgKHRyaWdnZXIgIT0gJ21hbnVhbCcpIHtcbiAgICAgICAgdmFyIGV2ZW50SW4gID0gdHJpZ2dlciA9PSAnaG92ZXInID8gJ21vdXNlZW50ZXInIDogJ2ZvY3VzaW4nXG4gICAgICAgIHZhciBldmVudE91dCA9IHRyaWdnZXIgPT0gJ2hvdmVyJyA/ICdtb3VzZWxlYXZlJyA6ICdmb2N1c291dCdcblxuICAgICAgICB0aGlzLiRlbGVtZW50Lm9uKGV2ZW50SW4gICsgJy4nICsgdGhpcy50eXBlLCB0aGlzLm9wdGlvbnMuc2VsZWN0b3IsICQucHJveHkodGhpcy5lbnRlciwgdGhpcykpXG4gICAgICAgIHRoaXMuJGVsZW1lbnQub24oZXZlbnRPdXQgKyAnLicgKyB0aGlzLnR5cGUsIHRoaXMub3B0aW9ucy5zZWxlY3RvciwgJC5wcm94eSh0aGlzLmxlYXZlLCB0aGlzKSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLm9wdGlvbnMuc2VsZWN0b3IgP1xuICAgICAgKHRoaXMuX29wdGlvbnMgPSAkLmV4dGVuZCh7fSwgdGhpcy5vcHRpb25zLCB7IHRyaWdnZXI6ICdtYW51YWwnLCBzZWxlY3RvcjogJycgfSkpIDpcbiAgICAgIHRoaXMuZml4VGl0bGUoKVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuZ2V0RGVmYXVsdHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIFRvb2x0aXAuREVGQVVMVFNcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmdldE9wdGlvbnMgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgdGhpcy5nZXREZWZhdWx0cygpLCB0aGlzLiRlbGVtZW50LmRhdGEoKSwgb3B0aW9ucylcblxuICAgIGlmIChvcHRpb25zLmRlbGF5ICYmIHR5cGVvZiBvcHRpb25zLmRlbGF5ID09ICdudW1iZXInKSB7XG4gICAgICBvcHRpb25zLmRlbGF5ID0ge1xuICAgICAgICBzaG93OiBvcHRpb25zLmRlbGF5LFxuICAgICAgICBoaWRlOiBvcHRpb25zLmRlbGF5XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG9wdGlvbnNcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmdldERlbGVnYXRlT3B0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgb3B0aW9ucyAgPSB7fVxuICAgIHZhciBkZWZhdWx0cyA9IHRoaXMuZ2V0RGVmYXVsdHMoKVxuXG4gICAgdGhpcy5fb3B0aW9ucyAmJiAkLmVhY2godGhpcy5fb3B0aW9ucywgZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICAgIGlmIChkZWZhdWx0c1trZXldICE9IHZhbHVlKSBvcHRpb25zW2tleV0gPSB2YWx1ZVxuICAgIH0pXG5cbiAgICByZXR1cm4gb3B0aW9uc1xuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuZW50ZXIgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgdmFyIHNlbGYgPSBvYmogaW5zdGFuY2VvZiB0aGlzLmNvbnN0cnVjdG9yID9cbiAgICAgIG9iaiA6ICQob2JqLmN1cnJlbnRUYXJnZXQpLmRhdGEoJ2JzLicgKyB0aGlzLnR5cGUpXG5cbiAgICBpZiAoc2VsZiAmJiBzZWxmLiR0aXAgJiYgc2VsZi4kdGlwLmlzKCc6dmlzaWJsZScpKSB7XG4gICAgICBzZWxmLmhvdmVyU3RhdGUgPSAnaW4nXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBpZiAoIXNlbGYpIHtcbiAgICAgIHNlbGYgPSBuZXcgdGhpcy5jb25zdHJ1Y3RvcihvYmouY3VycmVudFRhcmdldCwgdGhpcy5nZXREZWxlZ2F0ZU9wdGlvbnMoKSlcbiAgICAgICQob2JqLmN1cnJlbnRUYXJnZXQpLmRhdGEoJ2JzLicgKyB0aGlzLnR5cGUsIHNlbGYpXG4gICAgfVxuXG4gICAgY2xlYXJUaW1lb3V0KHNlbGYudGltZW91dClcblxuICAgIHNlbGYuaG92ZXJTdGF0ZSA9ICdpbidcblxuICAgIGlmICghc2VsZi5vcHRpb25zLmRlbGF5IHx8ICFzZWxmLm9wdGlvbnMuZGVsYXkuc2hvdykgcmV0dXJuIHNlbGYuc2hvdygpXG5cbiAgICBzZWxmLnRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChzZWxmLmhvdmVyU3RhdGUgPT0gJ2luJykgc2VsZi5zaG93KClcbiAgICB9LCBzZWxmLm9wdGlvbnMuZGVsYXkuc2hvdylcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmxlYXZlID0gZnVuY3Rpb24gKG9iaikge1xuICAgIHZhciBzZWxmID0gb2JqIGluc3RhbmNlb2YgdGhpcy5jb25zdHJ1Y3RvciA/XG4gICAgICBvYmogOiAkKG9iai5jdXJyZW50VGFyZ2V0KS5kYXRhKCdicy4nICsgdGhpcy50eXBlKVxuXG4gICAgaWYgKCFzZWxmKSB7XG4gICAgICBzZWxmID0gbmV3IHRoaXMuY29uc3RydWN0b3Iob2JqLmN1cnJlbnRUYXJnZXQsIHRoaXMuZ2V0RGVsZWdhdGVPcHRpb25zKCkpXG4gICAgICAkKG9iai5jdXJyZW50VGFyZ2V0KS5kYXRhKCdicy4nICsgdGhpcy50eXBlLCBzZWxmKVxuICAgIH1cblxuICAgIGNsZWFyVGltZW91dChzZWxmLnRpbWVvdXQpXG5cbiAgICBzZWxmLmhvdmVyU3RhdGUgPSAnb3V0J1xuXG4gICAgaWYgKCFzZWxmLm9wdGlvbnMuZGVsYXkgfHwgIXNlbGYub3B0aW9ucy5kZWxheS5oaWRlKSByZXR1cm4gc2VsZi5oaWRlKClcblxuICAgIHNlbGYudGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHNlbGYuaG92ZXJTdGF0ZSA9PSAnb3V0Jykgc2VsZi5oaWRlKClcbiAgICB9LCBzZWxmLm9wdGlvbnMuZGVsYXkuaGlkZSlcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLnNob3cgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGUgPSAkLkV2ZW50KCdzaG93LmJzLicgKyB0aGlzLnR5cGUpXG5cbiAgICBpZiAodGhpcy5oYXNDb250ZW50KCkgJiYgdGhpcy5lbmFibGVkKSB7XG4gICAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoZSlcblxuICAgICAgdmFyIGluRG9tID0gJC5jb250YWlucyh0aGlzLiRlbGVtZW50WzBdLm93bmVyRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LCB0aGlzLiRlbGVtZW50WzBdKVxuICAgICAgaWYgKGUuaXNEZWZhdWx0UHJldmVudGVkKCkgfHwgIWluRG9tKSByZXR1cm5cbiAgICAgIHZhciB0aGF0ID0gdGhpc1xuXG4gICAgICB2YXIgJHRpcCA9IHRoaXMudGlwKClcblxuICAgICAgdmFyIHRpcElkID0gdGhpcy5nZXRVSUQodGhpcy50eXBlKVxuXG4gICAgICB0aGlzLnNldENvbnRlbnQoKVxuICAgICAgJHRpcC5hdHRyKCdpZCcsIHRpcElkKVxuICAgICAgdGhpcy4kZWxlbWVudC5hdHRyKCdhcmlhLWRlc2NyaWJlZGJ5JywgdGlwSWQpXG5cbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuYW5pbWF0aW9uKSAkdGlwLmFkZENsYXNzKCdmYWRlJylcblxuICAgICAgdmFyIHBsYWNlbWVudCA9IHR5cGVvZiB0aGlzLm9wdGlvbnMucGxhY2VtZW50ID09ICdmdW5jdGlvbicgP1xuICAgICAgICB0aGlzLm9wdGlvbnMucGxhY2VtZW50LmNhbGwodGhpcywgJHRpcFswXSwgdGhpcy4kZWxlbWVudFswXSkgOlxuICAgICAgICB0aGlzLm9wdGlvbnMucGxhY2VtZW50XG5cbiAgICAgIHZhciBhdXRvVG9rZW4gPSAvXFxzP2F1dG8/XFxzPy9pXG4gICAgICB2YXIgYXV0b1BsYWNlID0gYXV0b1Rva2VuLnRlc3QocGxhY2VtZW50KVxuICAgICAgaWYgKGF1dG9QbGFjZSkgcGxhY2VtZW50ID0gcGxhY2VtZW50LnJlcGxhY2UoYXV0b1Rva2VuLCAnJykgfHwgJ3RvcCdcblxuICAgICAgJHRpcFxuICAgICAgICAuZGV0YWNoKClcbiAgICAgICAgLmNzcyh7IHRvcDogMCwgbGVmdDogMCwgZGlzcGxheTogJ2Jsb2NrJyB9KVxuICAgICAgICAuYWRkQ2xhc3MocGxhY2VtZW50KVxuICAgICAgICAuZGF0YSgnYnMuJyArIHRoaXMudHlwZSwgdGhpcylcblxuICAgICAgdGhpcy5vcHRpb25zLmNvbnRhaW5lciA/ICR0aXAuYXBwZW5kVG8odGhpcy5vcHRpb25zLmNvbnRhaW5lcikgOiAkdGlwLmluc2VydEFmdGVyKHRoaXMuJGVsZW1lbnQpXG5cbiAgICAgIHZhciBwb3MgICAgICAgICAgPSB0aGlzLmdldFBvc2l0aW9uKClcbiAgICAgIHZhciBhY3R1YWxXaWR0aCAgPSAkdGlwWzBdLm9mZnNldFdpZHRoXG4gICAgICB2YXIgYWN0dWFsSGVpZ2h0ID0gJHRpcFswXS5vZmZzZXRIZWlnaHRcblxuICAgICAgaWYgKGF1dG9QbGFjZSkge1xuICAgICAgICB2YXIgb3JnUGxhY2VtZW50ID0gcGxhY2VtZW50XG4gICAgICAgIHZhciAkY29udGFpbmVyICAgPSB0aGlzLm9wdGlvbnMuY29udGFpbmVyID8gJCh0aGlzLm9wdGlvbnMuY29udGFpbmVyKSA6IHRoaXMuJGVsZW1lbnQucGFyZW50KClcbiAgICAgICAgdmFyIGNvbnRhaW5lckRpbSA9IHRoaXMuZ2V0UG9zaXRpb24oJGNvbnRhaW5lcilcblxuICAgICAgICBwbGFjZW1lbnQgPSBwbGFjZW1lbnQgPT0gJ2JvdHRvbScgJiYgcG9zLmJvdHRvbSArIGFjdHVhbEhlaWdodCA+IGNvbnRhaW5lckRpbS5ib3R0b20gPyAndG9wJyAgICA6XG4gICAgICAgICAgICAgICAgICAgIHBsYWNlbWVudCA9PSAndG9wJyAgICAmJiBwb3MudG9wICAgIC0gYWN0dWFsSGVpZ2h0IDwgY29udGFpbmVyRGltLnRvcCAgICA/ICdib3R0b20nIDpcbiAgICAgICAgICAgICAgICAgICAgcGxhY2VtZW50ID09ICdyaWdodCcgICYmIHBvcy5yaWdodCAgKyBhY3R1YWxXaWR0aCAgPiBjb250YWluZXJEaW0ud2lkdGggID8gJ2xlZnQnICAgOlxuICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnQgPT0gJ2xlZnQnICAgJiYgcG9zLmxlZnQgICAtIGFjdHVhbFdpZHRoICA8IGNvbnRhaW5lckRpbS5sZWZ0ICAgPyAncmlnaHQnICA6XG4gICAgICAgICAgICAgICAgICAgIHBsYWNlbWVudFxuXG4gICAgICAgICR0aXBcbiAgICAgICAgICAucmVtb3ZlQ2xhc3Mob3JnUGxhY2VtZW50KVxuICAgICAgICAgIC5hZGRDbGFzcyhwbGFjZW1lbnQpXG4gICAgICB9XG5cbiAgICAgIHZhciBjYWxjdWxhdGVkT2Zmc2V0ID0gdGhpcy5nZXRDYWxjdWxhdGVkT2Zmc2V0KHBsYWNlbWVudCwgcG9zLCBhY3R1YWxXaWR0aCwgYWN0dWFsSGVpZ2h0KVxuXG4gICAgICB0aGlzLmFwcGx5UGxhY2VtZW50KGNhbGN1bGF0ZWRPZmZzZXQsIHBsYWNlbWVudClcblxuICAgICAgdmFyIGNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcHJldkhvdmVyU3RhdGUgPSB0aGF0LmhvdmVyU3RhdGVcbiAgICAgICAgdGhhdC4kZWxlbWVudC50cmlnZ2VyKCdzaG93bi5icy4nICsgdGhhdC50eXBlKVxuICAgICAgICB0aGF0LmhvdmVyU3RhdGUgPSBudWxsXG5cbiAgICAgICAgaWYgKHByZXZIb3ZlclN0YXRlID09ICdvdXQnKSB0aGF0LmxlYXZlKHRoYXQpXG4gICAgICB9XG5cbiAgICAgICQuc3VwcG9ydC50cmFuc2l0aW9uICYmIHRoaXMuJHRpcC5oYXNDbGFzcygnZmFkZScpID9cbiAgICAgICAgJHRpcFxuICAgICAgICAgIC5vbmUoJ2JzVHJhbnNpdGlvbkVuZCcsIGNvbXBsZXRlKVxuICAgICAgICAgIC5lbXVsYXRlVHJhbnNpdGlvbkVuZChUb29sdGlwLlRSQU5TSVRJT05fRFVSQVRJT04pIDpcbiAgICAgICAgY29tcGxldGUoKVxuICAgIH1cbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmFwcGx5UGxhY2VtZW50ID0gZnVuY3Rpb24gKG9mZnNldCwgcGxhY2VtZW50KSB7XG4gICAgdmFyICR0aXAgICA9IHRoaXMudGlwKClcbiAgICB2YXIgd2lkdGggID0gJHRpcFswXS5vZmZzZXRXaWR0aFxuICAgIHZhciBoZWlnaHQgPSAkdGlwWzBdLm9mZnNldEhlaWdodFxuXG4gICAgLy8gbWFudWFsbHkgcmVhZCBtYXJnaW5zIGJlY2F1c2UgZ2V0Qm91bmRpbmdDbGllbnRSZWN0IGluY2x1ZGVzIGRpZmZlcmVuY2VcbiAgICB2YXIgbWFyZ2luVG9wID0gcGFyc2VJbnQoJHRpcC5jc3MoJ21hcmdpbi10b3AnKSwgMTApXG4gICAgdmFyIG1hcmdpbkxlZnQgPSBwYXJzZUludCgkdGlwLmNzcygnbWFyZ2luLWxlZnQnKSwgMTApXG5cbiAgICAvLyB3ZSBtdXN0IGNoZWNrIGZvciBOYU4gZm9yIGllIDgvOVxuICAgIGlmIChpc05hTihtYXJnaW5Ub3ApKSAgbWFyZ2luVG9wICA9IDBcbiAgICBpZiAoaXNOYU4obWFyZ2luTGVmdCkpIG1hcmdpbkxlZnQgPSAwXG5cbiAgICBvZmZzZXQudG9wICA9IG9mZnNldC50b3AgICsgbWFyZ2luVG9wXG4gICAgb2Zmc2V0LmxlZnQgPSBvZmZzZXQubGVmdCArIG1hcmdpbkxlZnRcblxuICAgIC8vICQuZm4ub2Zmc2V0IGRvZXNuJ3Qgcm91bmQgcGl4ZWwgdmFsdWVzXG4gICAgLy8gc28gd2UgdXNlIHNldE9mZnNldCBkaXJlY3RseSB3aXRoIG91ciBvd24gZnVuY3Rpb24gQi0wXG4gICAgJC5vZmZzZXQuc2V0T2Zmc2V0KCR0aXBbMF0sICQuZXh0ZW5kKHtcbiAgICAgIHVzaW5nOiBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICAgICAgJHRpcC5jc3Moe1xuICAgICAgICAgIHRvcDogTWF0aC5yb3VuZChwcm9wcy50b3ApLFxuICAgICAgICAgIGxlZnQ6IE1hdGgucm91bmQocHJvcHMubGVmdClcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9LCBvZmZzZXQpLCAwKVxuXG4gICAgJHRpcC5hZGRDbGFzcygnaW4nKVxuXG4gICAgLy8gY2hlY2sgdG8gc2VlIGlmIHBsYWNpbmcgdGlwIGluIG5ldyBvZmZzZXQgY2F1c2VkIHRoZSB0aXAgdG8gcmVzaXplIGl0c2VsZlxuICAgIHZhciBhY3R1YWxXaWR0aCAgPSAkdGlwWzBdLm9mZnNldFdpZHRoXG4gICAgdmFyIGFjdHVhbEhlaWdodCA9ICR0aXBbMF0ub2Zmc2V0SGVpZ2h0XG5cbiAgICBpZiAocGxhY2VtZW50ID09ICd0b3AnICYmIGFjdHVhbEhlaWdodCAhPSBoZWlnaHQpIHtcbiAgICAgIG9mZnNldC50b3AgPSBvZmZzZXQudG9wICsgaGVpZ2h0IC0gYWN0dWFsSGVpZ2h0XG4gICAgfVxuXG4gICAgdmFyIGRlbHRhID0gdGhpcy5nZXRWaWV3cG9ydEFkanVzdGVkRGVsdGEocGxhY2VtZW50LCBvZmZzZXQsIGFjdHVhbFdpZHRoLCBhY3R1YWxIZWlnaHQpXG5cbiAgICBpZiAoZGVsdGEubGVmdCkgb2Zmc2V0LmxlZnQgKz0gZGVsdGEubGVmdFxuICAgIGVsc2Ugb2Zmc2V0LnRvcCArPSBkZWx0YS50b3BcblxuICAgIHZhciBpc1ZlcnRpY2FsICAgICAgICAgID0gL3RvcHxib3R0b20vLnRlc3QocGxhY2VtZW50KVxuICAgIHZhciBhcnJvd0RlbHRhICAgICAgICAgID0gaXNWZXJ0aWNhbCA/IGRlbHRhLmxlZnQgKiAyIC0gd2lkdGggKyBhY3R1YWxXaWR0aCA6IGRlbHRhLnRvcCAqIDIgLSBoZWlnaHQgKyBhY3R1YWxIZWlnaHRcbiAgICB2YXIgYXJyb3dPZmZzZXRQb3NpdGlvbiA9IGlzVmVydGljYWwgPyAnb2Zmc2V0V2lkdGgnIDogJ29mZnNldEhlaWdodCdcblxuICAgICR0aXAub2Zmc2V0KG9mZnNldClcbiAgICB0aGlzLnJlcGxhY2VBcnJvdyhhcnJvd0RlbHRhLCAkdGlwWzBdW2Fycm93T2Zmc2V0UG9zaXRpb25dLCBpc1ZlcnRpY2FsKVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUucmVwbGFjZUFycm93ID0gZnVuY3Rpb24gKGRlbHRhLCBkaW1lbnNpb24sIGlzVmVydGljYWwpIHtcbiAgICB0aGlzLmFycm93KClcbiAgICAgIC5jc3MoaXNWZXJ0aWNhbCA/ICdsZWZ0JyA6ICd0b3AnLCA1MCAqICgxIC0gZGVsdGEgLyBkaW1lbnNpb24pICsgJyUnKVxuICAgICAgLmNzcyhpc1ZlcnRpY2FsID8gJ3RvcCcgOiAnbGVmdCcsICcnKVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuc2V0Q29udGVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgJHRpcCAgPSB0aGlzLnRpcCgpXG4gICAgdmFyIHRpdGxlID0gdGhpcy5nZXRUaXRsZSgpXG5cbiAgICAkdGlwLmZpbmQoJy50b29sdGlwLWlubmVyJylbdGhpcy5vcHRpb25zLmh0bWwgPyAnaHRtbCcgOiAndGV4dCddKHRpdGxlKVxuICAgICR0aXAucmVtb3ZlQ2xhc3MoJ2ZhZGUgaW4gdG9wIGJvdHRvbSBsZWZ0IHJpZ2h0JylcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmhpZGUgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICB2YXIgdGhhdCA9IHRoaXNcbiAgICB2YXIgJHRpcCA9ICQodGhpcy4kdGlwKVxuICAgIHZhciBlICAgID0gJC5FdmVudCgnaGlkZS5icy4nICsgdGhpcy50eXBlKVxuXG4gICAgZnVuY3Rpb24gY29tcGxldGUoKSB7XG4gICAgICBpZiAodGhhdC5ob3ZlclN0YXRlICE9ICdpbicpICR0aXAuZGV0YWNoKClcbiAgICAgIHRoYXQuJGVsZW1lbnRcbiAgICAgICAgLnJlbW92ZUF0dHIoJ2FyaWEtZGVzY3JpYmVkYnknKVxuICAgICAgICAudHJpZ2dlcignaGlkZGVuLmJzLicgKyB0aGF0LnR5cGUpXG4gICAgICBjYWxsYmFjayAmJiBjYWxsYmFjaygpXG4gICAgfVxuXG4gICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKGUpXG5cbiAgICBpZiAoZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkgcmV0dXJuXG5cbiAgICAkdGlwLnJlbW92ZUNsYXNzKCdpbicpXG5cbiAgICAkLnN1cHBvcnQudHJhbnNpdGlvbiAmJiAkdGlwLmhhc0NsYXNzKCdmYWRlJykgP1xuICAgICAgJHRpcFxuICAgICAgICAub25lKCdic1RyYW5zaXRpb25FbmQnLCBjb21wbGV0ZSlcbiAgICAgICAgLmVtdWxhdGVUcmFuc2l0aW9uRW5kKFRvb2x0aXAuVFJBTlNJVElPTl9EVVJBVElPTikgOlxuICAgICAgY29tcGxldGUoKVxuXG4gICAgdGhpcy5ob3ZlclN0YXRlID0gbnVsbFxuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmZpeFRpdGxlID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciAkZSA9IHRoaXMuJGVsZW1lbnRcbiAgICBpZiAoJGUuYXR0cigndGl0bGUnKSB8fCB0eXBlb2YgKCRlLmF0dHIoJ2RhdGEtb3JpZ2luYWwtdGl0bGUnKSkgIT0gJ3N0cmluZycpIHtcbiAgICAgICRlLmF0dHIoJ2RhdGEtb3JpZ2luYWwtdGl0bGUnLCAkZS5hdHRyKCd0aXRsZScpIHx8ICcnKS5hdHRyKCd0aXRsZScsICcnKVxuICAgIH1cbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmhhc0NvbnRlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0VGl0bGUoKVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuZ2V0UG9zaXRpb24gPSBmdW5jdGlvbiAoJGVsZW1lbnQpIHtcbiAgICAkZWxlbWVudCAgID0gJGVsZW1lbnQgfHwgdGhpcy4kZWxlbWVudFxuXG4gICAgdmFyIGVsICAgICA9ICRlbGVtZW50WzBdXG4gICAgdmFyIGlzQm9keSA9IGVsLnRhZ05hbWUgPT0gJ0JPRFknXG5cbiAgICB2YXIgZWxSZWN0ICAgID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcbiAgICBpZiAoZWxSZWN0LndpZHRoID09IG51bGwpIHtcbiAgICAgIC8vIHdpZHRoIGFuZCBoZWlnaHQgYXJlIG1pc3NpbmcgaW4gSUU4LCBzbyBjb21wdXRlIHRoZW0gbWFudWFsbHk7IHNlZSBodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvaXNzdWVzLzE0MDkzXG4gICAgICBlbFJlY3QgPSAkLmV4dGVuZCh7fSwgZWxSZWN0LCB7IHdpZHRoOiBlbFJlY3QucmlnaHQgLSBlbFJlY3QubGVmdCwgaGVpZ2h0OiBlbFJlY3QuYm90dG9tIC0gZWxSZWN0LnRvcCB9KVxuICAgIH1cbiAgICB2YXIgZWxPZmZzZXQgID0gaXNCb2R5ID8geyB0b3A6IDAsIGxlZnQ6IDAgfSA6ICRlbGVtZW50Lm9mZnNldCgpXG4gICAgdmFyIHNjcm9sbCAgICA9IHsgc2Nyb2xsOiBpc0JvZHkgPyBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wIHx8IGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wIDogJGVsZW1lbnQuc2Nyb2xsVG9wKCkgfVxuICAgIHZhciBvdXRlckRpbXMgPSBpc0JvZHkgPyB7IHdpZHRoOiAkKHdpbmRvdykud2lkdGgoKSwgaGVpZ2h0OiAkKHdpbmRvdykuaGVpZ2h0KCkgfSA6IG51bGxcblxuICAgIHJldHVybiAkLmV4dGVuZCh7fSwgZWxSZWN0LCBzY3JvbGwsIG91dGVyRGltcywgZWxPZmZzZXQpXG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5nZXRDYWxjdWxhdGVkT2Zmc2V0ID0gZnVuY3Rpb24gKHBsYWNlbWVudCwgcG9zLCBhY3R1YWxXaWR0aCwgYWN0dWFsSGVpZ2h0KSB7XG4gICAgcmV0dXJuIHBsYWNlbWVudCA9PSAnYm90dG9tJyA/IHsgdG9wOiBwb3MudG9wICsgcG9zLmhlaWdodCwgICBsZWZ0OiBwb3MubGVmdCArIHBvcy53aWR0aCAvIDIgLSBhY3R1YWxXaWR0aCAvIDIgfSA6XG4gICAgICAgICAgIHBsYWNlbWVudCA9PSAndG9wJyAgICA/IHsgdG9wOiBwb3MudG9wIC0gYWN0dWFsSGVpZ2h0LCBsZWZ0OiBwb3MubGVmdCArIHBvcy53aWR0aCAvIDIgLSBhY3R1YWxXaWR0aCAvIDIgfSA6XG4gICAgICAgICAgIHBsYWNlbWVudCA9PSAnbGVmdCcgICA/IHsgdG9wOiBwb3MudG9wICsgcG9zLmhlaWdodCAvIDIgLSBhY3R1YWxIZWlnaHQgLyAyLCBsZWZ0OiBwb3MubGVmdCAtIGFjdHVhbFdpZHRoIH0gOlxuICAgICAgICAvKiBwbGFjZW1lbnQgPT0gJ3JpZ2h0JyAqLyB7IHRvcDogcG9zLnRvcCArIHBvcy5oZWlnaHQgLyAyIC0gYWN0dWFsSGVpZ2h0IC8gMiwgbGVmdDogcG9zLmxlZnQgKyBwb3Mud2lkdGggfVxuXG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5nZXRWaWV3cG9ydEFkanVzdGVkRGVsdGEgPSBmdW5jdGlvbiAocGxhY2VtZW50LCBwb3MsIGFjdHVhbFdpZHRoLCBhY3R1YWxIZWlnaHQpIHtcbiAgICB2YXIgZGVsdGEgPSB7IHRvcDogMCwgbGVmdDogMCB9XG4gICAgaWYgKCF0aGlzLiR2aWV3cG9ydCkgcmV0dXJuIGRlbHRhXG5cbiAgICB2YXIgdmlld3BvcnRQYWRkaW5nID0gdGhpcy5vcHRpb25zLnZpZXdwb3J0ICYmIHRoaXMub3B0aW9ucy52aWV3cG9ydC5wYWRkaW5nIHx8IDBcbiAgICB2YXIgdmlld3BvcnREaW1lbnNpb25zID0gdGhpcy5nZXRQb3NpdGlvbih0aGlzLiR2aWV3cG9ydClcblxuICAgIGlmICgvcmlnaHR8bGVmdC8udGVzdChwbGFjZW1lbnQpKSB7XG4gICAgICB2YXIgdG9wRWRnZU9mZnNldCAgICA9IHBvcy50b3AgLSB2aWV3cG9ydFBhZGRpbmcgLSB2aWV3cG9ydERpbWVuc2lvbnMuc2Nyb2xsXG4gICAgICB2YXIgYm90dG9tRWRnZU9mZnNldCA9IHBvcy50b3AgKyB2aWV3cG9ydFBhZGRpbmcgLSB2aWV3cG9ydERpbWVuc2lvbnMuc2Nyb2xsICsgYWN0dWFsSGVpZ2h0XG4gICAgICBpZiAodG9wRWRnZU9mZnNldCA8IHZpZXdwb3J0RGltZW5zaW9ucy50b3ApIHsgLy8gdG9wIG92ZXJmbG93XG4gICAgICAgIGRlbHRhLnRvcCA9IHZpZXdwb3J0RGltZW5zaW9ucy50b3AgLSB0b3BFZGdlT2Zmc2V0XG4gICAgICB9IGVsc2UgaWYgKGJvdHRvbUVkZ2VPZmZzZXQgPiB2aWV3cG9ydERpbWVuc2lvbnMudG9wICsgdmlld3BvcnREaW1lbnNpb25zLmhlaWdodCkgeyAvLyBib3R0b20gb3ZlcmZsb3dcbiAgICAgICAgZGVsdGEudG9wID0gdmlld3BvcnREaW1lbnNpb25zLnRvcCArIHZpZXdwb3J0RGltZW5zaW9ucy5oZWlnaHQgLSBib3R0b21FZGdlT2Zmc2V0XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBsZWZ0RWRnZU9mZnNldCAgPSBwb3MubGVmdCAtIHZpZXdwb3J0UGFkZGluZ1xuICAgICAgdmFyIHJpZ2h0RWRnZU9mZnNldCA9IHBvcy5sZWZ0ICsgdmlld3BvcnRQYWRkaW5nICsgYWN0dWFsV2lkdGhcbiAgICAgIGlmIChsZWZ0RWRnZU9mZnNldCA8IHZpZXdwb3J0RGltZW5zaW9ucy5sZWZ0KSB7IC8vIGxlZnQgb3ZlcmZsb3dcbiAgICAgICAgZGVsdGEubGVmdCA9IHZpZXdwb3J0RGltZW5zaW9ucy5sZWZ0IC0gbGVmdEVkZ2VPZmZzZXRcbiAgICAgIH0gZWxzZSBpZiAocmlnaHRFZGdlT2Zmc2V0ID4gdmlld3BvcnREaW1lbnNpb25zLndpZHRoKSB7IC8vIHJpZ2h0IG92ZXJmbG93XG4gICAgICAgIGRlbHRhLmxlZnQgPSB2aWV3cG9ydERpbWVuc2lvbnMubGVmdCArIHZpZXdwb3J0RGltZW5zaW9ucy53aWR0aCAtIHJpZ2h0RWRnZU9mZnNldFxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBkZWx0YVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuZ2V0VGl0bGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHRpdGxlXG4gICAgdmFyICRlID0gdGhpcy4kZWxlbWVudFxuICAgIHZhciBvICA9IHRoaXMub3B0aW9uc1xuXG4gICAgdGl0bGUgPSAkZS5hdHRyKCdkYXRhLW9yaWdpbmFsLXRpdGxlJylcbiAgICAgIHx8ICh0eXBlb2Ygby50aXRsZSA9PSAnZnVuY3Rpb24nID8gby50aXRsZS5jYWxsKCRlWzBdKSA6ICBvLnRpdGxlKVxuXG4gICAgcmV0dXJuIHRpdGxlXG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5nZXRVSUQgPSBmdW5jdGlvbiAocHJlZml4KSB7XG4gICAgZG8gcHJlZml4ICs9IH5+KE1hdGgucmFuZG9tKCkgKiAxMDAwMDAwKVxuICAgIHdoaWxlIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChwcmVmaXgpKVxuICAgIHJldHVybiBwcmVmaXhcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLnRpcCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKHRoaXMuJHRpcCA9IHRoaXMuJHRpcCB8fCAkKHRoaXMub3B0aW9ucy50ZW1wbGF0ZSkpXG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5hcnJvdyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKHRoaXMuJGFycm93ID0gdGhpcy4kYXJyb3cgfHwgdGhpcy50aXAoKS5maW5kKCcudG9vbHRpcC1hcnJvdycpKVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuZW5hYmxlID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZW5hYmxlZCA9IHRydWVcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmRpc2FibGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5lbmFibGVkID0gZmFsc2VcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLnRvZ2dsZUVuYWJsZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5lbmFibGVkID0gIXRoaXMuZW5hYmxlZFxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUudG9nZ2xlID0gZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXNcbiAgICBpZiAoZSkge1xuICAgICAgc2VsZiA9ICQoZS5jdXJyZW50VGFyZ2V0KS5kYXRhKCdicy4nICsgdGhpcy50eXBlKVxuICAgICAgaWYgKCFzZWxmKSB7XG4gICAgICAgIHNlbGYgPSBuZXcgdGhpcy5jb25zdHJ1Y3RvcihlLmN1cnJlbnRUYXJnZXQsIHRoaXMuZ2V0RGVsZWdhdGVPcHRpb25zKCkpXG4gICAgICAgICQoZS5jdXJyZW50VGFyZ2V0KS5kYXRhKCdicy4nICsgdGhpcy50eXBlLCBzZWxmKVxuICAgICAgfVxuICAgIH1cblxuICAgIHNlbGYudGlwKCkuaGFzQ2xhc3MoJ2luJykgPyBzZWxmLmxlYXZlKHNlbGYpIDogc2VsZi5lbnRlcihzZWxmKVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgdGhhdCA9IHRoaXNcbiAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0KVxuICAgIHRoaXMuaGlkZShmdW5jdGlvbiAoKSB7XG4gICAgICB0aGF0LiRlbGVtZW50Lm9mZignLicgKyB0aGF0LnR5cGUpLnJlbW92ZURhdGEoJ2JzLicgKyB0aGF0LnR5cGUpXG4gICAgfSlcbiAgfVxuXG5cbiAgLy8gVE9PTFRJUCBQTFVHSU4gREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgZnVuY3Rpb24gUGx1Z2luKG9wdGlvbikge1xuICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgdmFyICR0aGlzICAgPSAkKHRoaXMpXG4gICAgICB2YXIgZGF0YSAgICA9ICR0aGlzLmRhdGEoJ2JzLnRvb2x0aXAnKVxuICAgICAgdmFyIG9wdGlvbnMgPSB0eXBlb2Ygb3B0aW9uID09ICdvYmplY3QnICYmIG9wdGlvblxuXG4gICAgICBpZiAoIWRhdGEgJiYgL2Rlc3Ryb3l8aGlkZS8udGVzdChvcHRpb24pKSByZXR1cm5cbiAgICAgIGlmICghZGF0YSkgJHRoaXMuZGF0YSgnYnMudG9vbHRpcCcsIChkYXRhID0gbmV3IFRvb2x0aXAodGhpcywgb3B0aW9ucykpKVxuICAgICAgaWYgKHR5cGVvZiBvcHRpb24gPT0gJ3N0cmluZycpIGRhdGFbb3B0aW9uXSgpXG4gICAgfSlcbiAgfVxuXG4gIHZhciBvbGQgPSAkLmZuLnRvb2x0aXBcblxuICAkLmZuLnRvb2x0aXAgICAgICAgICAgICAgPSBQbHVnaW5cbiAgJC5mbi50b29sdGlwLkNvbnN0cnVjdG9yID0gVG9vbHRpcFxuXG5cbiAgLy8gVE9PTFRJUCBOTyBDT05GTElDVFxuICAvLyA9PT09PT09PT09PT09PT09PT09XG5cbiAgJC5mbi50b29sdGlwLm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgJC5mbi50b29sdGlwID0gb2xkXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG59KGpRdWVyeSk7XG4iLCIvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEJvb3RzdHJhcDogdHJhbnNpdGlvbi5qcyB2My4zLjRcbiAqIGh0dHA6Ly9nZXRib290c3RyYXAuY29tL2phdmFzY3JpcHQvI3RyYW5zaXRpb25zXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCAyMDExLTIwMTUgVHdpdHRlciwgSW5jLlxuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYXN0ZXIvTElDRU5TRSlcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cbitmdW5jdGlvbiAoJCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgLy8gQ1NTIFRSQU5TSVRJT04gU1VQUE9SVCAoU2hvdXRvdXQ6IGh0dHA6Ly93d3cubW9kZXJuaXpyLmNvbS8pXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGZ1bmN0aW9uIHRyYW5zaXRpb25FbmQoKSB7XG4gICAgdmFyIGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYm9vdHN0cmFwJylcblxuICAgIHZhciB0cmFuc0VuZEV2ZW50TmFtZXMgPSB7XG4gICAgICBXZWJraXRUcmFuc2l0aW9uIDogJ3dlYmtpdFRyYW5zaXRpb25FbmQnLFxuICAgICAgTW96VHJhbnNpdGlvbiAgICA6ICd0cmFuc2l0aW9uZW5kJyxcbiAgICAgIE9UcmFuc2l0aW9uICAgICAgOiAnb1RyYW5zaXRpb25FbmQgb3RyYW5zaXRpb25lbmQnLFxuICAgICAgdHJhbnNpdGlvbiAgICAgICA6ICd0cmFuc2l0aW9uZW5kJ1xuICAgIH1cblxuICAgIGZvciAodmFyIG5hbWUgaW4gdHJhbnNFbmRFdmVudE5hbWVzKSB7XG4gICAgICBpZiAoZWwuc3R5bGVbbmFtZV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4geyBlbmQ6IHRyYW5zRW5kRXZlbnROYW1lc1tuYW1lXSB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlIC8vIGV4cGxpY2l0IGZvciBpZTggKCAgLl8uKVxuICB9XG5cbiAgLy8gaHR0cDovL2Jsb2cuYWxleG1hY2Nhdy5jb20vY3NzLXRyYW5zaXRpb25zXG4gICQuZm4uZW11bGF0ZVRyYW5zaXRpb25FbmQgPSBmdW5jdGlvbiAoZHVyYXRpb24pIHtcbiAgICB2YXIgY2FsbGVkID0gZmFsc2VcbiAgICB2YXIgJGVsID0gdGhpc1xuICAgICQodGhpcykub25lKCdic1RyYW5zaXRpb25FbmQnLCBmdW5jdGlvbiAoKSB7IGNhbGxlZCA9IHRydWUgfSlcbiAgICB2YXIgY2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7IGlmICghY2FsbGVkKSAkKCRlbCkudHJpZ2dlcigkLnN1cHBvcnQudHJhbnNpdGlvbi5lbmQpIH1cbiAgICBzZXRUaW1lb3V0KGNhbGxiYWNrLCBkdXJhdGlvbilcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgJChmdW5jdGlvbiAoKSB7XG4gICAgJC5zdXBwb3J0LnRyYW5zaXRpb24gPSB0cmFuc2l0aW9uRW5kKClcblxuICAgIGlmICghJC5zdXBwb3J0LnRyYW5zaXRpb24pIHJldHVyblxuXG4gICAgJC5ldmVudC5zcGVjaWFsLmJzVHJhbnNpdGlvbkVuZCA9IHtcbiAgICAgIGJpbmRUeXBlOiAkLnN1cHBvcnQudHJhbnNpdGlvbi5lbmQsXG4gICAgICBkZWxlZ2F0ZVR5cGU6ICQuc3VwcG9ydC50cmFuc2l0aW9uLmVuZCxcbiAgICAgIGhhbmRsZTogZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgaWYgKCQoZS50YXJnZXQpLmlzKHRoaXMpKSByZXR1cm4gZS5oYW5kbGVPYmouaGFuZGxlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpXG4gICAgICB9XG4gICAgfVxuICB9KVxuXG59KGpRdWVyeSk7XG4iLCIvKiFcbiAqIHR5cGVhaGVhZC5qcyAwLjExLjFcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS90d2l0dGVyL3R5cGVhaGVhZC5qc1xuICogQ29weXJpZ2h0IDIwMTMtMjAxNSBUd2l0dGVyLCBJbmMuIGFuZCBvdGhlciBjb250cmlidXRvcnM7IExpY2Vuc2VkIE1JVFxuICovXG5cbihmdW5jdGlvbihyb290LCBmYWN0b3J5KSB7XG4gICAgaWYgKHR5cGVvZiBkZWZpbmUgPT09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kKSB7XG4gICAgICAgIGRlZmluZShcInR5cGVhaGVhZC5qc1wiLCBbIFwianF1ZXJ5XCIgXSwgZnVuY3Rpb24oYTApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWN0b3J5KGEwKTtcbiAgICAgICAgfSk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZShcImpxdWVyeVwiKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZmFjdG9yeShqUXVlcnkpO1xuICAgIH1cbn0pKHRoaXMsIGZ1bmN0aW9uKCQpIHtcbiAgICB2YXIgXyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBcInVzZSBzdHJpY3RcIjtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGlzTXNpZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIC8obXNpZXx0cmlkZW50KS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkgPyBuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC8obXNpZSB8cnY6KShcXGQrKC5cXGQrKT8pL2kpWzJdIDogZmFsc2U7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaXNCbGFua1N0cmluZzogZnVuY3Rpb24oc3RyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICFzdHIgfHwgL15cXHMqJC8udGVzdChzdHIpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVzY2FwZVJlZ0V4Q2hhcnM6IGZ1bmN0aW9uKHN0cikge1xuICAgICAgICAgICAgICAgIHJldHVybiBzdHIucmVwbGFjZSgvW1xcLVxcW1xcXVxcL1xce1xcfVxcKFxcKVxcKlxcK1xcP1xcLlxcXFxcXF5cXCRcXHxdL2csIFwiXFxcXCQmXCIpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGlzU3RyaW5nOiBmdW5jdGlvbihvYmopIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHlwZW9mIG9iaiA9PT0gXCJzdHJpbmdcIjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpc051bWJlcjogZnVuY3Rpb24ob2JqKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiBvYmogPT09IFwibnVtYmVyXCI7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaXNBcnJheTogJC5pc0FycmF5LFxuICAgICAgICAgICAgaXNGdW5jdGlvbjogJC5pc0Z1bmN0aW9uLFxuICAgICAgICAgICAgaXNPYmplY3Q6ICQuaXNQbGFpbk9iamVjdCxcbiAgICAgICAgICAgIGlzVW5kZWZpbmVkOiBmdW5jdGlvbihvYmopIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHlwZW9mIG9iaiA9PT0gXCJ1bmRlZmluZWRcIjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpc0VsZW1lbnQ6IGZ1bmN0aW9uKG9iaikge1xuICAgICAgICAgICAgICAgIHJldHVybiAhIShvYmogJiYgb2JqLm5vZGVUeXBlID09PSAxKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpc0pRdWVyeTogZnVuY3Rpb24ob2JqKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9iaiBpbnN0YW5jZW9mICQ7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdG9TdHI6IGZ1bmN0aW9uIHRvU3RyKHMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gXy5pc1VuZGVmaW5lZChzKSB8fCBzID09PSBudWxsID8gXCJcIiA6IHMgKyBcIlwiO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGJpbmQ6ICQucHJveHksXG4gICAgICAgICAgICBlYWNoOiBmdW5jdGlvbihjb2xsZWN0aW9uLCBjYikge1xuICAgICAgICAgICAgICAgICQuZWFjaChjb2xsZWN0aW9uLCByZXZlcnNlQXJncyk7XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gcmV2ZXJzZUFyZ3MoaW5kZXgsIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjYih2YWx1ZSwgaW5kZXgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBtYXA6ICQubWFwLFxuICAgICAgICAgICAgZmlsdGVyOiAkLmdyZXAsXG4gICAgICAgICAgICBldmVyeTogZnVuY3Rpb24ob2JqLCB0ZXN0KSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgaWYgKCFvYmopIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgJC5lYWNoKG9iaiwgZnVuY3Rpb24oa2V5LCB2YWwpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEocmVzdWx0ID0gdGVzdC5jYWxsKG51bGwsIHZhbCwga2V5LCBvYmopKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuICEhcmVzdWx0O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNvbWU6IGZ1bmN0aW9uKG9iaiwgdGVzdCkge1xuICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBpZiAoIW9iaikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAkLmVhY2gob2JqLCBmdW5jdGlvbihrZXksIHZhbCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0ID0gdGVzdC5jYWxsKG51bGwsIHZhbCwga2V5LCBvYmopKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gISFyZXN1bHQ7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbWl4aW46ICQuZXh0ZW5kLFxuICAgICAgICAgICAgaWRlbnRpdHk6IGZ1bmN0aW9uKHgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4geDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjbG9uZTogZnVuY3Rpb24ob2JqKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICQuZXh0ZW5kKHRydWUsIHt9LCBvYmopO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldElkR2VuZXJhdG9yOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB2YXIgY291bnRlciA9IDA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY291bnRlcisrO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdGVtcGxhdGlmeTogZnVuY3Rpb24gdGVtcGxhdGlmeShvYmopIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJC5pc0Z1bmN0aW9uKG9iaikgPyBvYmogOiB0ZW1wbGF0ZTtcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiB0ZW1wbGF0ZSgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFN0cmluZyhvYmopO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkZWZlcjogZnVuY3Rpb24oZm4pIHtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZuLCAwKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkZWJvdW5jZTogZnVuY3Rpb24oZnVuYywgd2FpdCwgaW1tZWRpYXRlKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRpbWVvdXQsIHJlc3VsdDtcbiAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjb250ZXh0ID0gdGhpcywgYXJncyA9IGFyZ3VtZW50cywgbGF0ZXIsIGNhbGxOb3c7XG4gICAgICAgICAgICAgICAgICAgIGxhdGVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aW1lb3V0ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaW1tZWRpYXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gZnVuYy5hcHBseShjb250ZXh0LCBhcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgY2FsbE5vdyA9IGltbWVkaWF0ZSAmJiAhdGltZW91dDtcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgICAgICAgICAgICAgICAgICB0aW1lb3V0ID0gc2V0VGltZW91dChsYXRlciwgd2FpdCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjYWxsTm93KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBmdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0aHJvdHRsZTogZnVuY3Rpb24oZnVuYywgd2FpdCkge1xuICAgICAgICAgICAgICAgIHZhciBjb250ZXh0LCBhcmdzLCB0aW1lb3V0LCByZXN1bHQsIHByZXZpb3VzLCBsYXRlcjtcbiAgICAgICAgICAgICAgICBwcmV2aW91cyA9IDA7XG4gICAgICAgICAgICAgICAgbGF0ZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJldmlvdXMgPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICB0aW1lb3V0ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gZnVuYy5hcHBseShjb250ZXh0LCBhcmdzKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5vdyA9IG5ldyBEYXRlKCksIHJlbWFpbmluZyA9IHdhaXQgLSAobm93IC0gcHJldmlvdXMpO1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0ID0gdGhpcztcbiAgICAgICAgICAgICAgICAgICAgYXJncyA9IGFyZ3VtZW50cztcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlbWFpbmluZyA8PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aW1lb3V0ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZXZpb3VzID0gbm93O1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gZnVuYy5hcHBseShjb250ZXh0LCBhcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICghdGltZW91dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQobGF0ZXIsIHJlbWFpbmluZyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN0cmluZ2lmeTogZnVuY3Rpb24odmFsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF8uaXNTdHJpbmcodmFsKSA/IHZhbCA6IEpTT04uc3RyaW5naWZ5KHZhbCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbm9vcDogZnVuY3Rpb24oKSB7fVxuICAgICAgICB9O1xuICAgIH0oKTtcbiAgICB2YXIgV1dXID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIFwidXNlIHN0cmljdFwiO1xuICAgICAgICB2YXIgZGVmYXVsdENsYXNzTmFtZXMgPSB7XG4gICAgICAgICAgICB3cmFwcGVyOiBcInR3aXR0ZXItdHlwZWFoZWFkXCIsXG4gICAgICAgICAgICBpbnB1dDogXCJ0dC1pbnB1dFwiLFxuICAgICAgICAgICAgaGludDogXCJ0dC1oaW50XCIsXG4gICAgICAgICAgICBtZW51OiBcInR0LW1lbnVcIixcbiAgICAgICAgICAgIGRhdGFzZXQ6IFwidHQtZGF0YXNldFwiLFxuICAgICAgICAgICAgc3VnZ2VzdGlvbjogXCJ0dC1zdWdnZXN0aW9uXCIsXG4gICAgICAgICAgICBzZWxlY3RhYmxlOiBcInR0LXNlbGVjdGFibGVcIixcbiAgICAgICAgICAgIGVtcHR5OiBcInR0LWVtcHR5XCIsXG4gICAgICAgICAgICBvcGVuOiBcInR0LW9wZW5cIixcbiAgICAgICAgICAgIGN1cnNvcjogXCJ0dC1jdXJzb3JcIixcbiAgICAgICAgICAgIGhpZ2hsaWdodDogXCJ0dC1oaWdobGlnaHRcIlxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gYnVpbGQ7XG4gICAgICAgIGZ1bmN0aW9uIGJ1aWxkKG8pIHtcbiAgICAgICAgICAgIHZhciB3d3csIGNsYXNzZXM7XG4gICAgICAgICAgICBjbGFzc2VzID0gXy5taXhpbih7fSwgZGVmYXVsdENsYXNzTmFtZXMsIG8pO1xuICAgICAgICAgICAgd3d3ID0ge1xuICAgICAgICAgICAgICAgIGNzczogYnVpbGRDc3MoKSxcbiAgICAgICAgICAgICAgICBjbGFzc2VzOiBjbGFzc2VzLFxuICAgICAgICAgICAgICAgIGh0bWw6IGJ1aWxkSHRtbChjbGFzc2VzKSxcbiAgICAgICAgICAgICAgICBzZWxlY3RvcnM6IGJ1aWxkU2VsZWN0b3JzKGNsYXNzZXMpXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBjc3M6IHd3dy5jc3MsXG4gICAgICAgICAgICAgICAgaHRtbDogd3d3Lmh0bWwsXG4gICAgICAgICAgICAgICAgY2xhc3Nlczogd3d3LmNsYXNzZXMsXG4gICAgICAgICAgICAgICAgc2VsZWN0b3JzOiB3d3cuc2VsZWN0b3JzLFxuICAgICAgICAgICAgICAgIG1peGluOiBmdW5jdGlvbihvKSB7XG4gICAgICAgICAgICAgICAgICAgIF8ubWl4aW4obywgd3d3KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGJ1aWxkSHRtbChjKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHdyYXBwZXI6ICc8c3BhbiBjbGFzcz1cIicgKyBjLndyYXBwZXIgKyAnXCI+PC9zcGFuPicsXG4gICAgICAgICAgICAgICAgbWVudTogJzxkaXYgY2xhc3M9XCInICsgYy5tZW51ICsgJ1wiPjwvZGl2PidcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gYnVpbGRTZWxlY3RvcnMoY2xhc3Nlcykge1xuICAgICAgICAgICAgdmFyIHNlbGVjdG9ycyA9IHt9O1xuICAgICAgICAgICAgXy5lYWNoKGNsYXNzZXMsIGZ1bmN0aW9uKHYsIGspIHtcbiAgICAgICAgICAgICAgICBzZWxlY3RvcnNba10gPSBcIi5cIiArIHY7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBzZWxlY3RvcnM7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gYnVpbGRDc3MoKSB7XG4gICAgICAgICAgICB2YXIgY3NzID0ge1xuICAgICAgICAgICAgICAgIHdyYXBwZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IFwicmVsYXRpdmVcIixcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogXCJpbmxpbmUtYmxvY2tcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgaGludDoge1xuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxuICAgICAgICAgICAgICAgICAgICB0b3A6IFwiMFwiLFxuICAgICAgICAgICAgICAgICAgICBsZWZ0OiBcIjBcIixcbiAgICAgICAgICAgICAgICAgICAgYm9yZGVyQ29sb3I6IFwidHJhbnNwYXJlbnRcIixcbiAgICAgICAgICAgICAgICAgICAgYm94U2hhZG93OiBcIm5vbmVcIixcbiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogXCIxXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGlucHV0OiB7XG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBcInJlbGF0aXZlXCIsXG4gICAgICAgICAgICAgICAgICAgIHZlcnRpY2FsQWxpZ246IFwidG9wXCIsXG4gICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCJ0cmFuc3BhcmVudFwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBpbnB1dFdpdGhOb0hpbnQ6IHtcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IFwicmVsYXRpdmVcIixcbiAgICAgICAgICAgICAgICAgICAgdmVydGljYWxBbGlnbjogXCJ0b3BcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgbWVudToge1xuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxuICAgICAgICAgICAgICAgICAgICB0b3A6IFwiMTAwJVwiLFxuICAgICAgICAgICAgICAgICAgICBsZWZ0OiBcIjBcIixcbiAgICAgICAgICAgICAgICAgICAgekluZGV4OiBcIjEwMFwiLFxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBcIm5vbmVcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgbHRyOiB7XG4gICAgICAgICAgICAgICAgICAgIGxlZnQ6IFwiMFwiLFxuICAgICAgICAgICAgICAgICAgICByaWdodDogXCJhdXRvXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHJ0bDoge1xuICAgICAgICAgICAgICAgICAgICBsZWZ0OiBcImF1dG9cIixcbiAgICAgICAgICAgICAgICAgICAgcmlnaHQ6IFwiIDBcIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoXy5pc01zaWUoKSkge1xuICAgICAgICAgICAgICAgIF8ubWl4aW4oY3NzLmlucHV0LCB7XG4gICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRJbWFnZTogXCJ1cmwoZGF0YTppbWFnZS9naWY7YmFzZTY0LFIwbEdPRGxoQVFBQkFJQUFBQUFBQVAvLy95SDVCQUVBQUFBQUxBQUFBQUFCQUFFQUFBSUJSQUE3KVwiXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY3NzO1xuICAgICAgICB9XG4gICAgfSgpO1xuICAgIHZhciBFdmVudEJ1cyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBcInVzZSBzdHJpY3RcIjtcbiAgICAgICAgdmFyIG5hbWVzcGFjZSwgZGVwcmVjYXRpb25NYXA7XG4gICAgICAgIG5hbWVzcGFjZSA9IFwidHlwZWFoZWFkOlwiO1xuICAgICAgICBkZXByZWNhdGlvbk1hcCA9IHtcbiAgICAgICAgICAgIHJlbmRlcjogXCJyZW5kZXJlZFwiLFxuICAgICAgICAgICAgY3Vyc29yY2hhbmdlOiBcImN1cnNvcmNoYW5nZWRcIixcbiAgICAgICAgICAgIHNlbGVjdDogXCJzZWxlY3RlZFwiLFxuICAgICAgICAgICAgYXV0b2NvbXBsZXRlOiBcImF1dG9jb21wbGV0ZWRcIlxuICAgICAgICB9O1xuICAgICAgICBmdW5jdGlvbiBFdmVudEJ1cyhvKSB7XG4gICAgICAgICAgICBpZiAoIW8gfHwgIW8uZWwpIHtcbiAgICAgICAgICAgICAgICAkLmVycm9yKFwiRXZlbnRCdXMgaW5pdGlhbGl6ZWQgd2l0aG91dCBlbFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuJGVsID0gJChvLmVsKTtcbiAgICAgICAgfVxuICAgICAgICBfLm1peGluKEV2ZW50QnVzLnByb3RvdHlwZSwge1xuICAgICAgICAgICAgX3RyaWdnZXI6IGZ1bmN0aW9uKHR5cGUsIGFyZ3MpIHtcbiAgICAgICAgICAgICAgICB2YXIgJGU7XG4gICAgICAgICAgICAgICAgJGUgPSAkLkV2ZW50KG5hbWVzcGFjZSArIHR5cGUpO1xuICAgICAgICAgICAgICAgIChhcmdzID0gYXJncyB8fCBbXSkudW5zaGlmdCgkZSk7XG4gICAgICAgICAgICAgICAgdGhpcy4kZWwudHJpZ2dlci5hcHBseSh0aGlzLiRlbCwgYXJncyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuICRlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGJlZm9yZTogZnVuY3Rpb24odHlwZSkge1xuICAgICAgICAgICAgICAgIHZhciBhcmdzLCAkZTtcbiAgICAgICAgICAgICAgICBhcmdzID0gW10uc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuICAgICAgICAgICAgICAgICRlID0gdGhpcy5fdHJpZ2dlcihcImJlZm9yZVwiICsgdHlwZSwgYXJncyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuICRlLmlzRGVmYXVsdFByZXZlbnRlZCgpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRyaWdnZXI6IGZ1bmN0aW9uKHR5cGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgZGVwcmVjYXRlZFR5cGU7XG4gICAgICAgICAgICAgICAgdGhpcy5fdHJpZ2dlcih0eXBlLCBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSkpO1xuICAgICAgICAgICAgICAgIGlmIChkZXByZWNhdGVkVHlwZSA9IGRlcHJlY2F0aW9uTWFwW3R5cGVdKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3RyaWdnZXIoZGVwcmVjYXRlZFR5cGUsIFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIEV2ZW50QnVzO1xuICAgIH0oKTtcbiAgICB2YXIgRXZlbnRFbWl0dGVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIFwidXNlIHN0cmljdFwiO1xuICAgICAgICB2YXIgc3BsaXR0ZXIgPSAvXFxzKy8sIG5leHRUaWNrID0gZ2V0TmV4dFRpY2soKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG9uU3luYzogb25TeW5jLFxuICAgICAgICAgICAgb25Bc3luYzogb25Bc3luYyxcbiAgICAgICAgICAgIG9mZjogb2ZmLFxuICAgICAgICAgICAgdHJpZ2dlcjogdHJpZ2dlclxuICAgICAgICB9O1xuICAgICAgICBmdW5jdGlvbiBvbihtZXRob2QsIHR5cGVzLCBjYiwgY29udGV4dCkge1xuICAgICAgICAgICAgdmFyIHR5cGU7XG4gICAgICAgICAgICBpZiAoIWNiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0eXBlcyA9IHR5cGVzLnNwbGl0KHNwbGl0dGVyKTtcbiAgICAgICAgICAgIGNiID0gY29udGV4dCA/IGJpbmRDb250ZXh0KGNiLCBjb250ZXh0KSA6IGNiO1xuICAgICAgICAgICAgdGhpcy5fY2FsbGJhY2tzID0gdGhpcy5fY2FsbGJhY2tzIHx8IHt9O1xuICAgICAgICAgICAgd2hpbGUgKHR5cGUgPSB0eXBlcy5zaGlmdCgpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY2FsbGJhY2tzW3R5cGVdID0gdGhpcy5fY2FsbGJhY2tzW3R5cGVdIHx8IHtcbiAgICAgICAgICAgICAgICAgICAgc3luYzogW10sXG4gICAgICAgICAgICAgICAgICAgIGFzeW5jOiBbXVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdGhpcy5fY2FsbGJhY2tzW3R5cGVdW21ldGhvZF0ucHVzaChjYik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBvbkFzeW5jKHR5cGVzLCBjYiwgY29udGV4dCkge1xuICAgICAgICAgICAgcmV0dXJuIG9uLmNhbGwodGhpcywgXCJhc3luY1wiLCB0eXBlcywgY2IsIGNvbnRleHQpO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIG9uU3luYyh0eXBlcywgY2IsIGNvbnRleHQpIHtcbiAgICAgICAgICAgIHJldHVybiBvbi5jYWxsKHRoaXMsIFwic3luY1wiLCB0eXBlcywgY2IsIGNvbnRleHQpO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIG9mZih0eXBlcykge1xuICAgICAgICAgICAgdmFyIHR5cGU7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2NhbGxiYWNrcykge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHlwZXMgPSB0eXBlcy5zcGxpdChzcGxpdHRlcik7XG4gICAgICAgICAgICB3aGlsZSAodHlwZSA9IHR5cGVzLnNoaWZ0KCkpIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5fY2FsbGJhY2tzW3R5cGVdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gdHJpZ2dlcih0eXBlcykge1xuICAgICAgICAgICAgdmFyIHR5cGUsIGNhbGxiYWNrcywgYXJncywgc3luY0ZsdXNoLCBhc3luY0ZsdXNoO1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9jYWxsYmFja3MpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHR5cGVzID0gdHlwZXMuc3BsaXQoc3BsaXR0ZXIpO1xuICAgICAgICAgICAgYXJncyA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgICAgICAgICAgIHdoaWxlICgodHlwZSA9IHR5cGVzLnNoaWZ0KCkpICYmIChjYWxsYmFja3MgPSB0aGlzLl9jYWxsYmFja3NbdHlwZV0pKSB7XG4gICAgICAgICAgICAgICAgc3luY0ZsdXNoID0gZ2V0Rmx1c2goY2FsbGJhY2tzLnN5bmMsIHRoaXMsIFsgdHlwZSBdLmNvbmNhdChhcmdzKSk7XG4gICAgICAgICAgICAgICAgYXN5bmNGbHVzaCA9IGdldEZsdXNoKGNhbGxiYWNrcy5hc3luYywgdGhpcywgWyB0eXBlIF0uY29uY2F0KGFyZ3MpKTtcbiAgICAgICAgICAgICAgICBzeW5jRmx1c2goKSAmJiBuZXh0VGljayhhc3luY0ZsdXNoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGdldEZsdXNoKGNhbGxiYWNrcywgY29udGV4dCwgYXJncykge1xuICAgICAgICAgICAgcmV0dXJuIGZsdXNoO1xuICAgICAgICAgICAgZnVuY3Rpb24gZmx1c2goKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNhbmNlbGxlZDtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gY2FsbGJhY2tzLmxlbmd0aDsgIWNhbmNlbGxlZCAmJiBpIDwgbGVuOyBpICs9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FuY2VsbGVkID0gY2FsbGJhY2tzW2ldLmFwcGx5KGNvbnRleHQsIGFyZ3MpID09PSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuICFjYW5jZWxsZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gZ2V0TmV4dFRpY2soKSB7XG4gICAgICAgICAgICB2YXIgbmV4dFRpY2tGbjtcbiAgICAgICAgICAgIGlmICh3aW5kb3cuc2V0SW1tZWRpYXRlKSB7XG4gICAgICAgICAgICAgICAgbmV4dFRpY2tGbiA9IGZ1bmN0aW9uIG5leHRUaWNrU2V0SW1tZWRpYXRlKGZuKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldEltbWVkaWF0ZShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZuKCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG5leHRUaWNrRm4gPSBmdW5jdGlvbiBuZXh0VGlja1NldFRpbWVvdXQoZm4pIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZuKCk7XG4gICAgICAgICAgICAgICAgICAgIH0sIDApO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmV4dFRpY2tGbjtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBiaW5kQ29udGV4dChmbiwgY29udGV4dCkge1xuICAgICAgICAgICAgcmV0dXJuIGZuLmJpbmQgPyBmbi5iaW5kKGNvbnRleHQpIDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgZm4uYXBwbHkoY29udGV4dCwgW10uc2xpY2UuY2FsbChhcmd1bWVudHMsIDApKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9KCk7XG4gICAgdmFyIGhpZ2hsaWdodCA9IGZ1bmN0aW9uKGRvYykge1xuICAgICAgICBcInVzZSBzdHJpY3RcIjtcbiAgICAgICAgdmFyIGRlZmF1bHRzID0ge1xuICAgICAgICAgICAgbm9kZTogbnVsbCxcbiAgICAgICAgICAgIHBhdHRlcm46IG51bGwsXG4gICAgICAgICAgICB0YWdOYW1lOiBcInN0cm9uZ1wiLFxuICAgICAgICAgICAgY2xhc3NOYW1lOiBudWxsLFxuICAgICAgICAgICAgd29yZHNPbmx5OiBmYWxzZSxcbiAgICAgICAgICAgIGNhc2VTZW5zaXRpdmU6IGZhbHNlXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBoaWdodGxpZ2h0KG8pIHtcbiAgICAgICAgICAgIHZhciByZWdleDtcbiAgICAgICAgICAgIG8gPSBfLm1peGluKHt9LCBkZWZhdWx0cywgbyk7XG4gICAgICAgICAgICBpZiAoIW8ubm9kZSB8fCAhby5wYXR0ZXJuKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgby5wYXR0ZXJuID0gXy5pc0FycmF5KG8ucGF0dGVybikgPyBvLnBhdHRlcm4gOiBbIG8ucGF0dGVybiBdO1xuICAgICAgICAgICAgcmVnZXggPSBnZXRSZWdleChvLnBhdHRlcm4sIG8uY2FzZVNlbnNpdGl2ZSwgby53b3Jkc09ubHkpO1xuICAgICAgICAgICAgdHJhdmVyc2Uoby5ub2RlLCBoaWdodGxpZ2h0VGV4dE5vZGUpO1xuICAgICAgICAgICAgZnVuY3Rpb24gaGlnaHRsaWdodFRleHROb2RlKHRleHROb2RlKSB7XG4gICAgICAgICAgICAgICAgdmFyIG1hdGNoLCBwYXR0ZXJuTm9kZSwgd3JhcHBlck5vZGU7XG4gICAgICAgICAgICAgICAgaWYgKG1hdGNoID0gcmVnZXguZXhlYyh0ZXh0Tm9kZS5kYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICB3cmFwcGVyTm9kZSA9IGRvYy5jcmVhdGVFbGVtZW50KG8udGFnTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIG8uY2xhc3NOYW1lICYmICh3cmFwcGVyTm9kZS5jbGFzc05hbWUgPSBvLmNsYXNzTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIHBhdHRlcm5Ob2RlID0gdGV4dE5vZGUuc3BsaXRUZXh0KG1hdGNoLmluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgcGF0dGVybk5vZGUuc3BsaXRUZXh0KG1hdGNoWzBdLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgIHdyYXBwZXJOb2RlLmFwcGVuZENoaWxkKHBhdHRlcm5Ob2RlLmNsb25lTm9kZSh0cnVlKSk7XG4gICAgICAgICAgICAgICAgICAgIHRleHROb2RlLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKHdyYXBwZXJOb2RlLCBwYXR0ZXJuTm9kZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiAhIW1hdGNoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24gdHJhdmVyc2UoZWwsIGhpZ2h0bGlnaHRUZXh0Tm9kZSkge1xuICAgICAgICAgICAgICAgIHZhciBjaGlsZE5vZGUsIFRFWFRfTk9ERV9UWVBFID0gMztcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGVsLmNoaWxkTm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgY2hpbGROb2RlID0gZWwuY2hpbGROb2Rlc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoaWxkTm9kZS5ub2RlVHlwZSA9PT0gVEVYVF9OT0RFX1RZUEUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGkgKz0gaGlnaHRsaWdodFRleHROb2RlKGNoaWxkTm9kZSkgPyAxIDogMDtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYXZlcnNlKGNoaWxkTm9kZSwgaGlnaHRsaWdodFRleHROb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgZnVuY3Rpb24gZ2V0UmVnZXgocGF0dGVybnMsIGNhc2VTZW5zaXRpdmUsIHdvcmRzT25seSkge1xuICAgICAgICAgICAgdmFyIGVzY2FwZWRQYXR0ZXJucyA9IFtdLCByZWdleFN0cjtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBwYXR0ZXJucy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICAgIGVzY2FwZWRQYXR0ZXJucy5wdXNoKF8uZXNjYXBlUmVnRXhDaGFycyhwYXR0ZXJuc1tpXSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVnZXhTdHIgPSB3b3Jkc09ubHkgPyBcIlxcXFxiKFwiICsgZXNjYXBlZFBhdHRlcm5zLmpvaW4oXCJ8XCIpICsgXCIpXFxcXGJcIiA6IFwiKFwiICsgZXNjYXBlZFBhdHRlcm5zLmpvaW4oXCJ8XCIpICsgXCIpXCI7XG4gICAgICAgICAgICByZXR1cm4gY2FzZVNlbnNpdGl2ZSA/IG5ldyBSZWdFeHAocmVnZXhTdHIpIDogbmV3IFJlZ0V4cChyZWdleFN0ciwgXCJpXCIpO1xuICAgICAgICB9XG4gICAgfSh3aW5kb3cuZG9jdW1lbnQpO1xuICAgIHZhciBJbnB1dCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBcInVzZSBzdHJpY3RcIjtcbiAgICAgICAgdmFyIHNwZWNpYWxLZXlDb2RlTWFwO1xuICAgICAgICBzcGVjaWFsS2V5Q29kZU1hcCA9IHtcbiAgICAgICAgICAgIDk6IFwidGFiXCIsXG4gICAgICAgICAgICAyNzogXCJlc2NcIixcbiAgICAgICAgICAgIDM3OiBcImxlZnRcIixcbiAgICAgICAgICAgIDM5OiBcInJpZ2h0XCIsXG4gICAgICAgICAgICAxMzogXCJlbnRlclwiLFxuICAgICAgICAgICAgMzg6IFwidXBcIixcbiAgICAgICAgICAgIDQwOiBcImRvd25cIlxuICAgICAgICB9O1xuICAgICAgICBmdW5jdGlvbiBJbnB1dChvLCB3d3cpIHtcbiAgICAgICAgICAgIG8gPSBvIHx8IHt9O1xuICAgICAgICAgICAgaWYgKCFvLmlucHV0KSB7XG4gICAgICAgICAgICAgICAgJC5lcnJvcihcImlucHV0IGlzIG1pc3NpbmdcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB3d3cubWl4aW4odGhpcyk7XG4gICAgICAgICAgICB0aGlzLiRoaW50ID0gJChvLmhpbnQpO1xuICAgICAgICAgICAgdGhpcy4kaW5wdXQgPSAkKG8uaW5wdXQpO1xuICAgICAgICAgICAgdGhpcy5xdWVyeSA9IHRoaXMuJGlucHV0LnZhbCgpO1xuICAgICAgICAgICAgdGhpcy5xdWVyeVdoZW5Gb2N1c2VkID0gdGhpcy5oYXNGb2N1cygpID8gdGhpcy5xdWVyeSA6IG51bGw7XG4gICAgICAgICAgICB0aGlzLiRvdmVyZmxvd0hlbHBlciA9IGJ1aWxkT3ZlcmZsb3dIZWxwZXIodGhpcy4kaW5wdXQpO1xuICAgICAgICAgICAgdGhpcy5fY2hlY2tMYW5ndWFnZURpcmVjdGlvbigpO1xuICAgICAgICAgICAgaWYgKHRoaXMuJGhpbnQubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRIaW50ID0gdGhpcy5nZXRIaW50ID0gdGhpcy5jbGVhckhpbnQgPSB0aGlzLmNsZWFySGludElmSW52YWxpZCA9IF8ubm9vcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBJbnB1dC5ub3JtYWxpemVRdWVyeSA9IGZ1bmN0aW9uKHN0cikge1xuICAgICAgICAgICAgcmV0dXJuIF8udG9TdHIoc3RyKS5yZXBsYWNlKC9eXFxzKi9nLCBcIlwiKS5yZXBsYWNlKC9cXHN7Mix9L2csIFwiIFwiKTtcbiAgICAgICAgfTtcbiAgICAgICAgXy5taXhpbihJbnB1dC5wcm90b3R5cGUsIEV2ZW50RW1pdHRlciwge1xuICAgICAgICAgICAgX29uQmx1cjogZnVuY3Rpb24gb25CbHVyKCkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVzZXRJbnB1dFZhbHVlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy50cmlnZ2VyKFwiYmx1cnJlZFwiKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfb25Gb2N1czogZnVuY3Rpb24gb25Gb2N1cygpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnF1ZXJ5V2hlbkZvY3VzZWQgPSB0aGlzLnF1ZXJ5O1xuICAgICAgICAgICAgICAgIHRoaXMudHJpZ2dlcihcImZvY3VzZWRcIik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX29uS2V5ZG93bjogZnVuY3Rpb24gb25LZXlkb3duKCRlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGtleU5hbWUgPSBzcGVjaWFsS2V5Q29kZU1hcFskZS53aGljaCB8fCAkZS5rZXlDb2RlXTtcbiAgICAgICAgICAgICAgICB0aGlzLl9tYW5hZ2VQcmV2ZW50RGVmYXVsdChrZXlOYW1lLCAkZSk7XG4gICAgICAgICAgICAgICAgaWYgKGtleU5hbWUgJiYgdGhpcy5fc2hvdWxkVHJpZ2dlcihrZXlOYW1lLCAkZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50cmlnZ2VyKGtleU5hbWUgKyBcIktleWVkXCIsICRlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX29uSW5wdXQ6IGZ1bmN0aW9uIG9uSW5wdXQoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2V0UXVlcnkodGhpcy5nZXRJbnB1dFZhbHVlKCkpO1xuICAgICAgICAgICAgICAgIHRoaXMuY2xlYXJIaW50SWZJbnZhbGlkKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fY2hlY2tMYW5ndWFnZURpcmVjdGlvbigpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9tYW5hZ2VQcmV2ZW50RGVmYXVsdDogZnVuY3Rpb24gbWFuYWdlUHJldmVudERlZmF1bHQoa2V5TmFtZSwgJGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgcHJldmVudERlZmF1bHQ7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChrZXlOYW1lKSB7XG4gICAgICAgICAgICAgICAgICBjYXNlIFwidXBcIjpcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJkb3duXCI6XG4gICAgICAgICAgICAgICAgICAgIHByZXZlbnREZWZhdWx0ID0gIXdpdGhNb2RpZmllcigkZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBwcmV2ZW50RGVmYXVsdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBwcmV2ZW50RGVmYXVsdCAmJiAkZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9zaG91bGRUcmlnZ2VyOiBmdW5jdGlvbiBzaG91bGRUcmlnZ2VyKGtleU5hbWUsICRlKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRyaWdnZXI7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChrZXlOYW1lKSB7XG4gICAgICAgICAgICAgICAgICBjYXNlIFwidGFiXCI6XG4gICAgICAgICAgICAgICAgICAgIHRyaWdnZXIgPSAhd2l0aE1vZGlmaWVyKCRlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHRyaWdnZXIgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdHJpZ2dlcjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfY2hlY2tMYW5ndWFnZURpcmVjdGlvbjogZnVuY3Rpb24gY2hlY2tMYW5ndWFnZURpcmVjdGlvbigpIHtcbiAgICAgICAgICAgICAgICB2YXIgZGlyID0gKHRoaXMuJGlucHV0LmNzcyhcImRpcmVjdGlvblwiKSB8fCBcImx0clwiKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmRpciAhPT0gZGlyKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlyID0gZGlyO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLiRoaW50LmF0dHIoXCJkaXJcIiwgZGlyKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50cmlnZ2VyKFwibGFuZ0RpckNoYW5nZWRcIiwgZGlyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX3NldFF1ZXJ5OiBmdW5jdGlvbiBzZXRRdWVyeSh2YWwsIHNpbGVudCkge1xuICAgICAgICAgICAgICAgIHZhciBhcmVFcXVpdmFsZW50LCBoYXNEaWZmZXJlbnRXaGl0ZXNwYWNlO1xuICAgICAgICAgICAgICAgIGFyZUVxdWl2YWxlbnQgPSBhcmVRdWVyaWVzRXF1aXZhbGVudCh2YWwsIHRoaXMucXVlcnkpO1xuICAgICAgICAgICAgICAgIGhhc0RpZmZlcmVudFdoaXRlc3BhY2UgPSBhcmVFcXVpdmFsZW50ID8gdGhpcy5xdWVyeS5sZW5ndGggIT09IHZhbC5sZW5ndGggOiBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLnF1ZXJ5ID0gdmFsO1xuICAgICAgICAgICAgICAgIGlmICghc2lsZW50ICYmICFhcmVFcXVpdmFsZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHJpZ2dlcihcInF1ZXJ5Q2hhbmdlZFwiLCB0aGlzLnF1ZXJ5KTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCFzaWxlbnQgJiYgaGFzRGlmZmVyZW50V2hpdGVzcGFjZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRyaWdnZXIoXCJ3aGl0ZXNwYWNlQ2hhbmdlZFwiLCB0aGlzLnF1ZXJ5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYmluZDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRoYXQgPSB0aGlzLCBvbkJsdXIsIG9uRm9jdXMsIG9uS2V5ZG93biwgb25JbnB1dDtcbiAgICAgICAgICAgICAgICBvbkJsdXIgPSBfLmJpbmQodGhpcy5fb25CbHVyLCB0aGlzKTtcbiAgICAgICAgICAgICAgICBvbkZvY3VzID0gXy5iaW5kKHRoaXMuX29uRm9jdXMsIHRoaXMpO1xuICAgICAgICAgICAgICAgIG9uS2V5ZG93biA9IF8uYmluZCh0aGlzLl9vbktleWRvd24sIHRoaXMpO1xuICAgICAgICAgICAgICAgIG9uSW5wdXQgPSBfLmJpbmQodGhpcy5fb25JbnB1dCwgdGhpcyk7XG4gICAgICAgICAgICAgICAgdGhpcy4kaW5wdXQub24oXCJibHVyLnR0XCIsIG9uQmx1cikub24oXCJmb2N1cy50dFwiLCBvbkZvY3VzKS5vbihcImtleWRvd24udHRcIiwgb25LZXlkb3duKTtcbiAgICAgICAgICAgICAgICBpZiAoIV8uaXNNc2llKCkgfHwgXy5pc01zaWUoKSA+IDkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kaW5wdXQub24oXCJpbnB1dC50dFwiLCBvbklucHV0KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLiRpbnB1dC5vbihcImtleWRvd24udHQga2V5cHJlc3MudHQgY3V0LnR0IHBhc3RlLnR0XCIsIGZ1bmN0aW9uKCRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3BlY2lhbEtleUNvZGVNYXBbJGUud2hpY2ggfHwgJGUua2V5Q29kZV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBfLmRlZmVyKF8uYmluZCh0aGF0Ll9vbklucHV0LCB0aGF0LCAkZSkpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZm9jdXM6IGZ1bmN0aW9uIGZvY3VzKCkge1xuICAgICAgICAgICAgICAgIHRoaXMuJGlucHV0LmZvY3VzKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYmx1cjogZnVuY3Rpb24gYmx1cigpIHtcbiAgICAgICAgICAgICAgICB0aGlzLiRpbnB1dC5ibHVyKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0TGFuZ0RpcjogZnVuY3Rpb24gZ2V0TGFuZ0RpcigpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5kaXI7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0UXVlcnk6IGZ1bmN0aW9uIGdldFF1ZXJ5KCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnF1ZXJ5IHx8IFwiXCI7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0UXVlcnk6IGZ1bmN0aW9uIHNldFF1ZXJ5KHZhbCwgc2lsZW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRJbnB1dFZhbHVlKHZhbCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2V0UXVlcnkodmFsLCBzaWxlbnQpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGhhc1F1ZXJ5Q2hhbmdlZFNpbmNlTGFzdEZvY3VzOiBmdW5jdGlvbiBoYXNRdWVyeUNoYW5nZWRTaW5jZUxhc3RGb2N1cygpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5xdWVyeSAhPT0gdGhpcy5xdWVyeVdoZW5Gb2N1c2VkO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldElucHV0VmFsdWU6IGZ1bmN0aW9uIGdldElucHV0VmFsdWUoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuJGlucHV0LnZhbCgpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldElucHV0VmFsdWU6IGZ1bmN0aW9uIHNldElucHV0VmFsdWUodmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLiRpbnB1dC52YWwodmFsdWUpO1xuICAgICAgICAgICAgICAgIHRoaXMuY2xlYXJIaW50SWZJbnZhbGlkKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fY2hlY2tMYW5ndWFnZURpcmVjdGlvbigpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlc2V0SW5wdXRWYWx1ZTogZnVuY3Rpb24gcmVzZXRJbnB1dFZhbHVlKCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0SW5wdXRWYWx1ZSh0aGlzLnF1ZXJ5KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXRIaW50OiBmdW5jdGlvbiBnZXRIaW50KCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLiRoaW50LnZhbCgpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldEhpbnQ6IGZ1bmN0aW9uIHNldEhpbnQodmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLiRoaW50LnZhbCh2YWx1ZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2xlYXJIaW50OiBmdW5jdGlvbiBjbGVhckhpbnQoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRIaW50KFwiXCIpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNsZWFySGludElmSW52YWxpZDogZnVuY3Rpb24gY2xlYXJIaW50SWZJbnZhbGlkKCkge1xuICAgICAgICAgICAgICAgIHZhciB2YWwsIGhpbnQsIHZhbElzUHJlZml4T2ZIaW50LCBpc1ZhbGlkO1xuICAgICAgICAgICAgICAgIHZhbCA9IHRoaXMuZ2V0SW5wdXRWYWx1ZSgpO1xuICAgICAgICAgICAgICAgIGhpbnQgPSB0aGlzLmdldEhpbnQoKTtcbiAgICAgICAgICAgICAgICB2YWxJc1ByZWZpeE9mSGludCA9IHZhbCAhPT0gaGludCAmJiBoaW50LmluZGV4T2YodmFsKSA9PT0gMDtcbiAgICAgICAgICAgICAgICBpc1ZhbGlkID0gdmFsICE9PSBcIlwiICYmIHZhbElzUHJlZml4T2ZIaW50ICYmICF0aGlzLmhhc092ZXJmbG93KCk7XG4gICAgICAgICAgICAgICAgIWlzVmFsaWQgJiYgdGhpcy5jbGVhckhpbnQoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBoYXNGb2N1czogZnVuY3Rpb24gaGFzRm9jdXMoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuJGlucHV0LmlzKFwiOmZvY3VzXCIpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGhhc092ZXJmbG93OiBmdW5jdGlvbiBoYXNPdmVyZmxvdygpIHtcbiAgICAgICAgICAgICAgICB2YXIgY29uc3RyYWludCA9IHRoaXMuJGlucHV0LndpZHRoKCkgLSAyO1xuICAgICAgICAgICAgICAgIHRoaXMuJG92ZXJmbG93SGVscGVyLnRleHQodGhpcy5nZXRJbnB1dFZhbHVlKCkpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLiRvdmVyZmxvd0hlbHBlci53aWR0aCgpID49IGNvbnN0cmFpbnQ7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaXNDdXJzb3JBdEVuZDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlTGVuZ3RoLCBzZWxlY3Rpb25TdGFydCwgcmFuZ2U7XG4gICAgICAgICAgICAgICAgdmFsdWVMZW5ndGggPSB0aGlzLiRpbnB1dC52YWwoKS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgc2VsZWN0aW9uU3RhcnQgPSB0aGlzLiRpbnB1dFswXS5zZWxlY3Rpb25TdGFydDtcbiAgICAgICAgICAgICAgICBpZiAoXy5pc051bWJlcihzZWxlY3Rpb25TdGFydCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlbGVjdGlvblN0YXJ0ID09PSB2YWx1ZUxlbmd0aDtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGRvY3VtZW50LnNlbGVjdGlvbikge1xuICAgICAgICAgICAgICAgICAgICByYW5nZSA9IGRvY3VtZW50LnNlbGVjdGlvbi5jcmVhdGVSYW5nZSgpO1xuICAgICAgICAgICAgICAgICAgICByYW5nZS5tb3ZlU3RhcnQoXCJjaGFyYWN0ZXJcIiwgLXZhbHVlTGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlTGVuZ3RoID09PSByYW5nZS50ZXh0Lmxlbmd0aDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGVzdHJveTogZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLiRoaW50Lm9mZihcIi50dFwiKTtcbiAgICAgICAgICAgICAgICB0aGlzLiRpbnB1dC5vZmYoXCIudHRcIik7XG4gICAgICAgICAgICAgICAgdGhpcy4kb3ZlcmZsb3dIZWxwZXIucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy4kaGludCA9IHRoaXMuJGlucHV0ID0gdGhpcy4kb3ZlcmZsb3dIZWxwZXIgPSAkKFwiPGRpdj5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gSW5wdXQ7XG4gICAgICAgIGZ1bmN0aW9uIGJ1aWxkT3ZlcmZsb3dIZWxwZXIoJGlucHV0KSB7XG4gICAgICAgICAgICByZXR1cm4gJCgnPHByZSBhcmlhLWhpZGRlbj1cInRydWVcIj48L3ByZT4nKS5jc3Moe1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXG4gICAgICAgICAgICAgICAgdmlzaWJpbGl0eTogXCJoaWRkZW5cIixcbiAgICAgICAgICAgICAgICB3aGl0ZVNwYWNlOiBcInByZVwiLFxuICAgICAgICAgICAgICAgIGZvbnRGYW1pbHk6ICRpbnB1dC5jc3MoXCJmb250LWZhbWlseVwiKSxcbiAgICAgICAgICAgICAgICBmb250U2l6ZTogJGlucHV0LmNzcyhcImZvbnQtc2l6ZVwiKSxcbiAgICAgICAgICAgICAgICBmb250U3R5bGU6ICRpbnB1dC5jc3MoXCJmb250LXN0eWxlXCIpLFxuICAgICAgICAgICAgICAgIGZvbnRWYXJpYW50OiAkaW5wdXQuY3NzKFwiZm9udC12YXJpYW50XCIpLFxuICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6ICRpbnB1dC5jc3MoXCJmb250LXdlaWdodFwiKSxcbiAgICAgICAgICAgICAgICB3b3JkU3BhY2luZzogJGlucHV0LmNzcyhcIndvcmQtc3BhY2luZ1wiKSxcbiAgICAgICAgICAgICAgICBsZXR0ZXJTcGFjaW5nOiAkaW5wdXQuY3NzKFwibGV0dGVyLXNwYWNpbmdcIiksXG4gICAgICAgICAgICAgICAgdGV4dEluZGVudDogJGlucHV0LmNzcyhcInRleHQtaW5kZW50XCIpLFxuICAgICAgICAgICAgICAgIHRleHRSZW5kZXJpbmc6ICRpbnB1dC5jc3MoXCJ0ZXh0LXJlbmRlcmluZ1wiKSxcbiAgICAgICAgICAgICAgICB0ZXh0VHJhbnNmb3JtOiAkaW5wdXQuY3NzKFwidGV4dC10cmFuc2Zvcm1cIilcbiAgICAgICAgICAgIH0pLmluc2VydEFmdGVyKCRpbnB1dCk7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gYXJlUXVlcmllc0VxdWl2YWxlbnQoYSwgYikge1xuICAgICAgICAgICAgcmV0dXJuIElucHV0Lm5vcm1hbGl6ZVF1ZXJ5KGEpID09PSBJbnB1dC5ub3JtYWxpemVRdWVyeShiKTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiB3aXRoTW9kaWZpZXIoJGUpIHtcbiAgICAgICAgICAgIHJldHVybiAkZS5hbHRLZXkgfHwgJGUuY3RybEtleSB8fCAkZS5tZXRhS2V5IHx8ICRlLnNoaWZ0S2V5O1xuICAgICAgICB9XG4gICAgfSgpO1xuICAgIHZhciBEYXRhc2V0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIFwidXNlIHN0cmljdFwiO1xuICAgICAgICB2YXIga2V5cywgbmFtZUdlbmVyYXRvcjtcbiAgICAgICAga2V5cyA9IHtcbiAgICAgICAgICAgIHZhbDogXCJ0dC1zZWxlY3RhYmxlLWRpc3BsYXlcIixcbiAgICAgICAgICAgIG9iajogXCJ0dC1zZWxlY3RhYmxlLW9iamVjdFwiXG4gICAgICAgIH07XG4gICAgICAgIG5hbWVHZW5lcmF0b3IgPSBfLmdldElkR2VuZXJhdG9yKCk7XG4gICAgICAgIGZ1bmN0aW9uIERhdGFzZXQobywgd3d3KSB7XG4gICAgICAgICAgICBvID0gbyB8fCB7fTtcbiAgICAgICAgICAgIG8udGVtcGxhdGVzID0gby50ZW1wbGF0ZXMgfHwge307XG4gICAgICAgICAgICBvLnRlbXBsYXRlcy5ub3RGb3VuZCA9IG8udGVtcGxhdGVzLm5vdEZvdW5kIHx8IG8udGVtcGxhdGVzLmVtcHR5O1xuICAgICAgICAgICAgaWYgKCFvLnNvdXJjZSkge1xuICAgICAgICAgICAgICAgICQuZXJyb3IoXCJtaXNzaW5nIHNvdXJjZVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghby5ub2RlKSB7XG4gICAgICAgICAgICAgICAgJC5lcnJvcihcIm1pc3Npbmcgbm9kZVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvLm5hbWUgJiYgIWlzVmFsaWROYW1lKG8ubmFtZSkpIHtcbiAgICAgICAgICAgICAgICAkLmVycm9yKFwiaW52YWxpZCBkYXRhc2V0IG5hbWU6IFwiICsgby5uYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHd3dy5taXhpbih0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuaGlnaGxpZ2h0ID0gISFvLmhpZ2hsaWdodDtcbiAgICAgICAgICAgIHRoaXMubmFtZSA9IG8ubmFtZSB8fCBuYW1lR2VuZXJhdG9yKCk7XG4gICAgICAgICAgICB0aGlzLmxpbWl0ID0gby5saW1pdCB8fCA1O1xuICAgICAgICAgICAgdGhpcy5kaXNwbGF5Rm4gPSBnZXREaXNwbGF5Rm4oby5kaXNwbGF5IHx8IG8uZGlzcGxheUtleSk7XG4gICAgICAgICAgICB0aGlzLnRlbXBsYXRlcyA9IGdldFRlbXBsYXRlcyhvLnRlbXBsYXRlcywgdGhpcy5kaXNwbGF5Rm4pO1xuICAgICAgICAgICAgdGhpcy5zb3VyY2UgPSBvLnNvdXJjZS5fX3R0QWRhcHRlciA/IG8uc291cmNlLl9fdHRBZGFwdGVyKCkgOiBvLnNvdXJjZTtcbiAgICAgICAgICAgIHRoaXMuYXN5bmMgPSBfLmlzVW5kZWZpbmVkKG8uYXN5bmMpID8gdGhpcy5zb3VyY2UubGVuZ3RoID4gMiA6ICEhby5hc3luYztcbiAgICAgICAgICAgIHRoaXMuX3Jlc2V0TGFzdFN1Z2dlc3Rpb24oKTtcbiAgICAgICAgICAgIHRoaXMuJGVsID0gJChvLm5vZGUpLmFkZENsYXNzKHRoaXMuY2xhc3Nlcy5kYXRhc2V0KS5hZGRDbGFzcyh0aGlzLmNsYXNzZXMuZGF0YXNldCArIFwiLVwiICsgdGhpcy5uYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBEYXRhc2V0LmV4dHJhY3REYXRhID0gZnVuY3Rpb24gZXh0cmFjdERhdGEoZWwpIHtcbiAgICAgICAgICAgIHZhciAkZWwgPSAkKGVsKTtcbiAgICAgICAgICAgIGlmICgkZWwuZGF0YShrZXlzLm9iaikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB2YWw6ICRlbC5kYXRhKGtleXMudmFsKSB8fCBcIlwiLFxuICAgICAgICAgICAgICAgICAgICBvYmo6ICRlbC5kYXRhKGtleXMub2JqKSB8fCBudWxsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9O1xuICAgICAgICBfLm1peGluKERhdGFzZXQucHJvdG90eXBlLCBFdmVudEVtaXR0ZXIsIHtcbiAgICAgICAgICAgIF9vdmVyd3JpdGU6IGZ1bmN0aW9uIG92ZXJ3cml0ZShxdWVyeSwgc3VnZ2VzdGlvbnMpIHtcbiAgICAgICAgICAgICAgICBzdWdnZXN0aW9ucyA9IHN1Z2dlc3Rpb25zIHx8IFtdO1xuICAgICAgICAgICAgICAgIGlmIChzdWdnZXN0aW9ucy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmVuZGVyU3VnZ2VzdGlvbnMocXVlcnksIHN1Z2dlc3Rpb25zKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuYXN5bmMgJiYgdGhpcy50ZW1wbGF0ZXMucGVuZGluZykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9yZW5kZXJQZW5kaW5nKHF1ZXJ5KTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCF0aGlzLmFzeW5jICYmIHRoaXMudGVtcGxhdGVzLm5vdEZvdW5kKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3JlbmRlck5vdEZvdW5kKHF1ZXJ5KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbXB0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnRyaWdnZXIoXCJyZW5kZXJlZFwiLCB0aGlzLm5hbWUsIHN1Z2dlc3Rpb25zLCBmYWxzZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2FwcGVuZDogZnVuY3Rpb24gYXBwZW5kKHF1ZXJ5LCBzdWdnZXN0aW9ucykge1xuICAgICAgICAgICAgICAgIHN1Z2dlc3Rpb25zID0gc3VnZ2VzdGlvbnMgfHwgW107XG4gICAgICAgICAgICAgICAgaWYgKHN1Z2dlc3Rpb25zLmxlbmd0aCAmJiB0aGlzLiRsYXN0U3VnZ2VzdGlvbi5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYXBwZW5kU3VnZ2VzdGlvbnMocXVlcnksIHN1Z2dlc3Rpb25zKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHN1Z2dlc3Rpb25zLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9yZW5kZXJTdWdnZXN0aW9ucyhxdWVyeSwgc3VnZ2VzdGlvbnMpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIXRoaXMuJGxhc3RTdWdnZXN0aW9uLmxlbmd0aCAmJiB0aGlzLnRlbXBsYXRlcy5ub3RGb3VuZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9yZW5kZXJOb3RGb3VuZChxdWVyeSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMudHJpZ2dlcihcInJlbmRlcmVkXCIsIHRoaXMubmFtZSwgc3VnZ2VzdGlvbnMsIHRydWUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9yZW5kZXJTdWdnZXN0aW9uczogZnVuY3Rpb24gcmVuZGVyU3VnZ2VzdGlvbnMocXVlcnksIHN1Z2dlc3Rpb25zKSB7XG4gICAgICAgICAgICAgICAgdmFyICRmcmFnbWVudDtcbiAgICAgICAgICAgICAgICAkZnJhZ21lbnQgPSB0aGlzLl9nZXRTdWdnZXN0aW9uc0ZyYWdtZW50KHF1ZXJ5LCBzdWdnZXN0aW9ucyk7XG4gICAgICAgICAgICAgICAgdGhpcy4kbGFzdFN1Z2dlc3Rpb24gPSAkZnJhZ21lbnQuY2hpbGRyZW4oKS5sYXN0KCk7XG4gICAgICAgICAgICAgICAgdGhpcy4kZWwuaHRtbCgkZnJhZ21lbnQpLnByZXBlbmQodGhpcy5fZ2V0SGVhZGVyKHF1ZXJ5LCBzdWdnZXN0aW9ucykpLmFwcGVuZCh0aGlzLl9nZXRGb290ZXIocXVlcnksIHN1Z2dlc3Rpb25zKSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2FwcGVuZFN1Z2dlc3Rpb25zOiBmdW5jdGlvbiBhcHBlbmRTdWdnZXN0aW9ucyhxdWVyeSwgc3VnZ2VzdGlvbnMpIHtcbiAgICAgICAgICAgICAgICB2YXIgJGZyYWdtZW50LCAkbGFzdFN1Z2dlc3Rpb247XG4gICAgICAgICAgICAgICAgJGZyYWdtZW50ID0gdGhpcy5fZ2V0U3VnZ2VzdGlvbnNGcmFnbWVudChxdWVyeSwgc3VnZ2VzdGlvbnMpO1xuICAgICAgICAgICAgICAgICRsYXN0U3VnZ2VzdGlvbiA9ICRmcmFnbWVudC5jaGlsZHJlbigpLmxhc3QoKTtcbiAgICAgICAgICAgICAgICB0aGlzLiRsYXN0U3VnZ2VzdGlvbi5hZnRlcigkZnJhZ21lbnQpO1xuICAgICAgICAgICAgICAgIHRoaXMuJGxhc3RTdWdnZXN0aW9uID0gJGxhc3RTdWdnZXN0aW9uO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9yZW5kZXJQZW5kaW5nOiBmdW5jdGlvbiByZW5kZXJQZW5kaW5nKHF1ZXJ5KSB7XG4gICAgICAgICAgICAgICAgdmFyIHRlbXBsYXRlID0gdGhpcy50ZW1wbGF0ZXMucGVuZGluZztcbiAgICAgICAgICAgICAgICB0aGlzLl9yZXNldExhc3RTdWdnZXN0aW9uKCk7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGUgJiYgdGhpcy4kZWwuaHRtbCh0ZW1wbGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgIHF1ZXJ5OiBxdWVyeSxcbiAgICAgICAgICAgICAgICAgICAgZGF0YXNldDogdGhpcy5uYW1lXG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9yZW5kZXJOb3RGb3VuZDogZnVuY3Rpb24gcmVuZGVyTm90Rm91bmQocXVlcnkpIHtcbiAgICAgICAgICAgICAgICB2YXIgdGVtcGxhdGUgPSB0aGlzLnRlbXBsYXRlcy5ub3RGb3VuZDtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZXNldExhc3RTdWdnZXN0aW9uKCk7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGUgJiYgdGhpcy4kZWwuaHRtbCh0ZW1wbGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgIHF1ZXJ5OiBxdWVyeSxcbiAgICAgICAgICAgICAgICAgICAgZGF0YXNldDogdGhpcy5uYW1lXG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9lbXB0eTogZnVuY3Rpb24gZW1wdHkoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy4kZWwuZW1wdHkoKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZXNldExhc3RTdWdnZXN0aW9uKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2dldFN1Z2dlc3Rpb25zRnJhZ21lbnQ6IGZ1bmN0aW9uIGdldFN1Z2dlc3Rpb25zRnJhZ21lbnQocXVlcnksIHN1Z2dlc3Rpb25zKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRoYXQgPSB0aGlzLCBmcmFnbWVudDtcbiAgICAgICAgICAgICAgICBmcmFnbWVudCA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcbiAgICAgICAgICAgICAgICBfLmVhY2goc3VnZ2VzdGlvbnMsIGZ1bmN0aW9uIGdldFN1Z2dlc3Rpb25Ob2RlKHN1Z2dlc3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyICRlbCwgY29udGV4dDtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dCA9IHRoYXQuX2luamVjdFF1ZXJ5KHF1ZXJ5LCBzdWdnZXN0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgJGVsID0gJCh0aGF0LnRlbXBsYXRlcy5zdWdnZXN0aW9uKGNvbnRleHQpKS5kYXRhKGtleXMub2JqLCBzdWdnZXN0aW9uKS5kYXRhKGtleXMudmFsLCB0aGF0LmRpc3BsYXlGbihzdWdnZXN0aW9uKSkuYWRkQ2xhc3ModGhhdC5jbGFzc2VzLnN1Z2dlc3Rpb24gKyBcIiBcIiArIHRoYXQuY2xhc3Nlcy5zZWxlY3RhYmxlKTtcbiAgICAgICAgICAgICAgICAgICAgZnJhZ21lbnQuYXBwZW5kQ2hpbGQoJGVsWzBdKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLmhpZ2hsaWdodCAmJiBoaWdobGlnaHQoe1xuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IHRoaXMuY2xhc3Nlcy5oaWdobGlnaHQsXG4gICAgICAgICAgICAgICAgICAgIG5vZGU6IGZyYWdtZW50LFxuICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuOiBxdWVyeVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiAkKGZyYWdtZW50KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfZ2V0Rm9vdGVyOiBmdW5jdGlvbiBnZXRGb290ZXIocXVlcnksIHN1Z2dlc3Rpb25zKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudGVtcGxhdGVzLmZvb3RlciA/IHRoaXMudGVtcGxhdGVzLmZvb3Rlcih7XG4gICAgICAgICAgICAgICAgICAgIHF1ZXJ5OiBxdWVyeSxcbiAgICAgICAgICAgICAgICAgICAgc3VnZ2VzdGlvbnM6IHN1Z2dlc3Rpb25zLFxuICAgICAgICAgICAgICAgICAgICBkYXRhc2V0OiB0aGlzLm5hbWVcbiAgICAgICAgICAgICAgICB9KSA6IG51bGw7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2dldEhlYWRlcjogZnVuY3Rpb24gZ2V0SGVhZGVyKHF1ZXJ5LCBzdWdnZXN0aW9ucykge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnRlbXBsYXRlcy5oZWFkZXIgPyB0aGlzLnRlbXBsYXRlcy5oZWFkZXIoe1xuICAgICAgICAgICAgICAgICAgICBxdWVyeTogcXVlcnksXG4gICAgICAgICAgICAgICAgICAgIHN1Z2dlc3Rpb25zOiBzdWdnZXN0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgZGF0YXNldDogdGhpcy5uYW1lXG4gICAgICAgICAgICAgICAgfSkgOiBudWxsO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9yZXNldExhc3RTdWdnZXN0aW9uOiBmdW5jdGlvbiByZXNldExhc3RTdWdnZXN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHRoaXMuJGxhc3RTdWdnZXN0aW9uID0gJCgpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9pbmplY3RRdWVyeTogZnVuY3Rpb24gaW5qZWN0UXVlcnkocXVlcnksIG9iaikge1xuICAgICAgICAgICAgICAgIHJldHVybiBfLmlzT2JqZWN0KG9iaikgPyBfLm1peGluKHtcbiAgICAgICAgICAgICAgICAgICAgX3F1ZXJ5OiBxdWVyeVxuICAgICAgICAgICAgICAgIH0sIG9iaikgOiBvYmo7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUocXVlcnkpIHtcbiAgICAgICAgICAgICAgICB2YXIgdGhhdCA9IHRoaXMsIGNhbmNlbGVkID0gZmFsc2UsIHN5bmNDYWxsZWQgPSBmYWxzZSwgcmVuZGVyZWQgPSAwO1xuICAgICAgICAgICAgICAgIHRoaXMuY2FuY2VsKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jYW5jZWwgPSBmdW5jdGlvbiBjYW5jZWwoKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbmNlbGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5jYW5jZWwgPSAkLm5vb3A7XG4gICAgICAgICAgICAgICAgICAgIHRoYXQuYXN5bmMgJiYgdGhhdC50cmlnZ2VyKFwiYXN5bmNDYW5jZWxlZFwiLCBxdWVyeSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB0aGlzLnNvdXJjZShxdWVyeSwgc3luYywgYXN5bmMpO1xuICAgICAgICAgICAgICAgICFzeW5jQ2FsbGVkICYmIHN5bmMoW10pO1xuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHN5bmMoc3VnZ2VzdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN5bmNDYWxsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzeW5jQ2FsbGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgc3VnZ2VzdGlvbnMgPSAoc3VnZ2VzdGlvbnMgfHwgW10pLnNsaWNlKDAsIHRoYXQubGltaXQpO1xuICAgICAgICAgICAgICAgICAgICByZW5kZXJlZCA9IHN1Z2dlc3Rpb25zLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5fb3ZlcndyaXRlKHF1ZXJ5LCBzdWdnZXN0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZW5kZXJlZCA8IHRoYXQubGltaXQgJiYgdGhhdC5hc3luYykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC50cmlnZ2VyKFwiYXN5bmNSZXF1ZXN0ZWRcIiwgcXVlcnkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGFzeW5jKHN1Z2dlc3Rpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1Z2dlc3Rpb25zID0gc3VnZ2VzdGlvbnMgfHwgW107XG4gICAgICAgICAgICAgICAgICAgIGlmICghY2FuY2VsZWQgJiYgcmVuZGVyZWQgPCB0aGF0LmxpbWl0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGF0LmNhbmNlbCA9ICQubm9vcDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbmRlcmVkICs9IHN1Z2dlc3Rpb25zLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQuX2FwcGVuZChxdWVyeSwgc3VnZ2VzdGlvbnMuc2xpY2UoMCwgdGhhdC5saW1pdCAtIHJlbmRlcmVkKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGF0LmFzeW5jICYmIHRoYXQudHJpZ2dlcihcImFzeW5jUmVjZWl2ZWRcIiwgcXVlcnkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNhbmNlbDogJC5ub29wLFxuICAgICAgICAgICAgY2xlYXI6IGZ1bmN0aW9uIGNsZWFyKCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2VtcHR5KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jYW5jZWwoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnRyaWdnZXIoXCJjbGVhcmVkXCIpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGlzRW1wdHk6IGZ1bmN0aW9uIGlzRW1wdHkoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuJGVsLmlzKFwiOmVtcHR5XCIpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRlc3Ryb3k6IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICAgICAgICAgICAgdGhpcy4kZWwgPSAkKFwiPGRpdj5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gRGF0YXNldDtcbiAgICAgICAgZnVuY3Rpb24gZ2V0RGlzcGxheUZuKGRpc3BsYXkpIHtcbiAgICAgICAgICAgIGRpc3BsYXkgPSBkaXNwbGF5IHx8IF8uc3RyaW5naWZ5O1xuICAgICAgICAgICAgcmV0dXJuIF8uaXNGdW5jdGlvbihkaXNwbGF5KSA/IGRpc3BsYXkgOiBkaXNwbGF5Rm47XG4gICAgICAgICAgICBmdW5jdGlvbiBkaXNwbGF5Rm4ob2JqKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9ialtkaXNwbGF5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBnZXRUZW1wbGF0ZXModGVtcGxhdGVzLCBkaXNwbGF5Rm4pIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbm90Rm91bmQ6IHRlbXBsYXRlcy5ub3RGb3VuZCAmJiBfLnRlbXBsYXRpZnkodGVtcGxhdGVzLm5vdEZvdW5kKSxcbiAgICAgICAgICAgICAgICBwZW5kaW5nOiB0ZW1wbGF0ZXMucGVuZGluZyAmJiBfLnRlbXBsYXRpZnkodGVtcGxhdGVzLnBlbmRpbmcpLFxuICAgICAgICAgICAgICAgIGhlYWRlcjogdGVtcGxhdGVzLmhlYWRlciAmJiBfLnRlbXBsYXRpZnkodGVtcGxhdGVzLmhlYWRlciksXG4gICAgICAgICAgICAgICAgZm9vdGVyOiB0ZW1wbGF0ZXMuZm9vdGVyICYmIF8udGVtcGxhdGlmeSh0ZW1wbGF0ZXMuZm9vdGVyKSxcbiAgICAgICAgICAgICAgICBzdWdnZXN0aW9uOiB0ZW1wbGF0ZXMuc3VnZ2VzdGlvbiB8fCBzdWdnZXN0aW9uVGVtcGxhdGVcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBmdW5jdGlvbiBzdWdnZXN0aW9uVGVtcGxhdGUoY29udGV4dCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAkKFwiPGRpdj5cIikudGV4dChkaXNwbGF5Rm4oY29udGV4dCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGlzVmFsaWROYW1lKHN0cikge1xuICAgICAgICAgICAgcmV0dXJuIC9eW19hLXpBLVowLTktXSskLy50ZXN0KHN0cik7XG4gICAgICAgIH1cbiAgICB9KCk7XG4gICAgdmFyIE1lbnUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgICAgIGZ1bmN0aW9uIE1lbnUobywgd3d3KSB7XG4gICAgICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgICAgICAgICBvID0gbyB8fCB7fTtcbiAgICAgICAgICAgIGlmICghby5ub2RlKSB7XG4gICAgICAgICAgICAgICAgJC5lcnJvcihcIm5vZGUgaXMgcmVxdWlyZWRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB3d3cubWl4aW4odGhpcyk7XG4gICAgICAgICAgICB0aGlzLiRub2RlID0gJChvLm5vZGUpO1xuICAgICAgICAgICAgdGhpcy5xdWVyeSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmRhdGFzZXRzID0gXy5tYXAoby5kYXRhc2V0cywgaW5pdGlhbGl6ZURhdGFzZXQpO1xuICAgICAgICAgICAgZnVuY3Rpb24gaW5pdGlhbGl6ZURhdGFzZXQob0RhdGFzZXQpIHtcbiAgICAgICAgICAgICAgICB2YXIgbm9kZSA9IHRoYXQuJG5vZGUuZmluZChvRGF0YXNldC5ub2RlKS5maXJzdCgpO1xuICAgICAgICAgICAgICAgIG9EYXRhc2V0Lm5vZGUgPSBub2RlLmxlbmd0aCA/IG5vZGUgOiAkKFwiPGRpdj5cIikuYXBwZW5kVG8odGhhdC4kbm9kZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBEYXRhc2V0KG9EYXRhc2V0LCB3d3cpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIF8ubWl4aW4oTWVudS5wcm90b3R5cGUsIEV2ZW50RW1pdHRlciwge1xuICAgICAgICAgICAgX29uU2VsZWN0YWJsZUNsaWNrOiBmdW5jdGlvbiBvblNlbGVjdGFibGVDbGljaygkZSkge1xuICAgICAgICAgICAgICAgIHRoaXMudHJpZ2dlcihcInNlbGVjdGFibGVDbGlja2VkXCIsICQoJGUuY3VycmVudFRhcmdldCkpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9vblJlbmRlcmVkOiBmdW5jdGlvbiBvblJlbmRlcmVkKHR5cGUsIGRhdGFzZXQsIHN1Z2dlc3Rpb25zLCBhc3luYykge1xuICAgICAgICAgICAgICAgIHRoaXMuJG5vZGUudG9nZ2xlQ2xhc3ModGhpcy5jbGFzc2VzLmVtcHR5LCB0aGlzLl9hbGxEYXRhc2V0c0VtcHR5KCkpO1xuICAgICAgICAgICAgICAgIHRoaXMudHJpZ2dlcihcImRhdGFzZXRSZW5kZXJlZFwiLCBkYXRhc2V0LCBzdWdnZXN0aW9ucywgYXN5bmMpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9vbkNsZWFyZWQ6IGZ1bmN0aW9uIG9uQ2xlYXJlZCgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLiRub2RlLnRvZ2dsZUNsYXNzKHRoaXMuY2xhc3Nlcy5lbXB0eSwgdGhpcy5fYWxsRGF0YXNldHNFbXB0eSgpKTtcbiAgICAgICAgICAgICAgICB0aGlzLnRyaWdnZXIoXCJkYXRhc2V0Q2xlYXJlZFwiKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfcHJvcGFnYXRlOiBmdW5jdGlvbiBwcm9wYWdhdGUoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50cmlnZ2VyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2FsbERhdGFzZXRzRW1wdHk6IGZ1bmN0aW9uIGFsbERhdGFzZXRzRW1wdHkoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF8uZXZlcnkodGhpcy5kYXRhc2V0cywgaXNEYXRhc2V0RW1wdHkpO1xuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGlzRGF0YXNldEVtcHR5KGRhdGFzZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGFzZXQuaXNFbXB0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfZ2V0U2VsZWN0YWJsZXM6IGZ1bmN0aW9uIGdldFNlbGVjdGFibGVzKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLiRub2RlLmZpbmQodGhpcy5zZWxlY3RvcnMuc2VsZWN0YWJsZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX3JlbW92ZUN1cnNvcjogZnVuY3Rpb24gX3JlbW92ZUN1cnNvcigpIHtcbiAgICAgICAgICAgICAgICB2YXIgJHNlbGVjdGFibGUgPSB0aGlzLmdldEFjdGl2ZVNlbGVjdGFibGUoKTtcbiAgICAgICAgICAgICAgICAkc2VsZWN0YWJsZSAmJiAkc2VsZWN0YWJsZS5yZW1vdmVDbGFzcyh0aGlzLmNsYXNzZXMuY3Vyc29yKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfZW5zdXJlVmlzaWJsZTogZnVuY3Rpb24gZW5zdXJlVmlzaWJsZSgkZWwpIHtcbiAgICAgICAgICAgICAgICB2YXIgZWxUb3AsIGVsQm90dG9tLCBub2RlU2Nyb2xsVG9wLCBub2RlSGVpZ2h0O1xuICAgICAgICAgICAgICAgIGVsVG9wID0gJGVsLnBvc2l0aW9uKCkudG9wO1xuICAgICAgICAgICAgICAgIGVsQm90dG9tID0gZWxUb3AgKyAkZWwub3V0ZXJIZWlnaHQodHJ1ZSk7XG4gICAgICAgICAgICAgICAgbm9kZVNjcm9sbFRvcCA9IHRoaXMuJG5vZGUuc2Nyb2xsVG9wKCk7XG4gICAgICAgICAgICAgICAgbm9kZUhlaWdodCA9IHRoaXMuJG5vZGUuaGVpZ2h0KCkgKyBwYXJzZUludCh0aGlzLiRub2RlLmNzcyhcInBhZGRpbmdUb3BcIiksIDEwKSArIHBhcnNlSW50KHRoaXMuJG5vZGUuY3NzKFwicGFkZGluZ0JvdHRvbVwiKSwgMTApO1xuICAgICAgICAgICAgICAgIGlmIChlbFRvcCA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kbm9kZS5zY3JvbGxUb3Aobm9kZVNjcm9sbFRvcCArIGVsVG9wKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG5vZGVIZWlnaHQgPCBlbEJvdHRvbSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLiRub2RlLnNjcm9sbFRvcChub2RlU2Nyb2xsVG9wICsgKGVsQm90dG9tIC0gbm9kZUhlaWdodCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBiaW5kOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB2YXIgdGhhdCA9IHRoaXMsIG9uU2VsZWN0YWJsZUNsaWNrO1xuICAgICAgICAgICAgICAgIG9uU2VsZWN0YWJsZUNsaWNrID0gXy5iaW5kKHRoaXMuX29uU2VsZWN0YWJsZUNsaWNrLCB0aGlzKTtcbiAgICAgICAgICAgICAgICB0aGlzLiRub2RlLm9uKFwiY2xpY2sudHRcIiwgdGhpcy5zZWxlY3RvcnMuc2VsZWN0YWJsZSwgb25TZWxlY3RhYmxlQ2xpY2spO1xuICAgICAgICAgICAgICAgIF8uZWFjaCh0aGlzLmRhdGFzZXRzLCBmdW5jdGlvbihkYXRhc2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGFzZXQub25TeW5jKFwiYXN5bmNSZXF1ZXN0ZWRcIiwgdGhhdC5fcHJvcGFnYXRlLCB0aGF0KS5vblN5bmMoXCJhc3luY0NhbmNlbGVkXCIsIHRoYXQuX3Byb3BhZ2F0ZSwgdGhhdCkub25TeW5jKFwiYXN5bmNSZWNlaXZlZFwiLCB0aGF0Ll9wcm9wYWdhdGUsIHRoYXQpLm9uU3luYyhcInJlbmRlcmVkXCIsIHRoYXQuX29uUmVuZGVyZWQsIHRoYXQpLm9uU3luYyhcImNsZWFyZWRcIiwgdGhhdC5fb25DbGVhcmVkLCB0aGF0KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpc09wZW46IGZ1bmN0aW9uIGlzT3BlbigpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy4kbm9kZS5oYXNDbGFzcyh0aGlzLmNsYXNzZXMub3Blbik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb3BlbjogZnVuY3Rpb24gb3BlbigpIHtcbiAgICAgICAgICAgICAgICB0aGlzLiRub2RlLmFkZENsYXNzKHRoaXMuY2xhc3Nlcy5vcGVuKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjbG9zZTogZnVuY3Rpb24gY2xvc2UoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy4kbm9kZS5yZW1vdmVDbGFzcyh0aGlzLmNsYXNzZXMub3Blbik7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVtb3ZlQ3Vyc29yKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0TGFuZ3VhZ2VEaXJlY3Rpb246IGZ1bmN0aW9uIHNldExhbmd1YWdlRGlyZWN0aW9uKGRpcikge1xuICAgICAgICAgICAgICAgIHRoaXMuJG5vZGUuYXR0cihcImRpclwiLCBkaXIpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNlbGVjdGFibGVSZWxhdGl2ZVRvQ3Vyc29yOiBmdW5jdGlvbiBzZWxlY3RhYmxlUmVsYXRpdmVUb0N1cnNvcihkZWx0YSkge1xuICAgICAgICAgICAgICAgIHZhciAkc2VsZWN0YWJsZXMsICRvbGRDdXJzb3IsIG9sZEluZGV4LCBuZXdJbmRleDtcbiAgICAgICAgICAgICAgICAkb2xkQ3Vyc29yID0gdGhpcy5nZXRBY3RpdmVTZWxlY3RhYmxlKCk7XG4gICAgICAgICAgICAgICAgJHNlbGVjdGFibGVzID0gdGhpcy5fZ2V0U2VsZWN0YWJsZXMoKTtcbiAgICAgICAgICAgICAgICBvbGRJbmRleCA9ICRvbGRDdXJzb3IgPyAkc2VsZWN0YWJsZXMuaW5kZXgoJG9sZEN1cnNvcikgOiAtMTtcbiAgICAgICAgICAgICAgICBuZXdJbmRleCA9IG9sZEluZGV4ICsgZGVsdGE7XG4gICAgICAgICAgICAgICAgbmV3SW5kZXggPSAobmV3SW5kZXggKyAxKSAlICgkc2VsZWN0YWJsZXMubGVuZ3RoICsgMSkgLSAxO1xuICAgICAgICAgICAgICAgIG5ld0luZGV4ID0gbmV3SW5kZXggPCAtMSA/ICRzZWxlY3RhYmxlcy5sZW5ndGggLSAxIDogbmV3SW5kZXg7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ld0luZGV4ID09PSAtMSA/IG51bGwgOiAkc2VsZWN0YWJsZXMuZXEobmV3SW5kZXgpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldEN1cnNvcjogZnVuY3Rpb24gc2V0Q3Vyc29yKCRzZWxlY3RhYmxlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVtb3ZlQ3Vyc29yKCk7XG4gICAgICAgICAgICAgICAgaWYgKCRzZWxlY3RhYmxlID0gJHNlbGVjdGFibGUgJiYgJHNlbGVjdGFibGUuZmlyc3QoKSkge1xuICAgICAgICAgICAgICAgICAgICAkc2VsZWN0YWJsZS5hZGRDbGFzcyh0aGlzLmNsYXNzZXMuY3Vyc29yKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZW5zdXJlVmlzaWJsZSgkc2VsZWN0YWJsZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldFNlbGVjdGFibGVEYXRhOiBmdW5jdGlvbiBnZXRTZWxlY3RhYmxlRGF0YSgkZWwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJGVsICYmICRlbC5sZW5ndGggPyBEYXRhc2V0LmV4dHJhY3REYXRhKCRlbCkgOiBudWxsO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldEFjdGl2ZVNlbGVjdGFibGU6IGZ1bmN0aW9uIGdldEFjdGl2ZVNlbGVjdGFibGUoKSB7XG4gICAgICAgICAgICAgICAgdmFyICRzZWxlY3RhYmxlID0gdGhpcy5fZ2V0U2VsZWN0YWJsZXMoKS5maWx0ZXIodGhpcy5zZWxlY3RvcnMuY3Vyc29yKS5maXJzdCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiAkc2VsZWN0YWJsZS5sZW5ndGggPyAkc2VsZWN0YWJsZSA6IG51bGw7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0VG9wU2VsZWN0YWJsZTogZnVuY3Rpb24gZ2V0VG9wU2VsZWN0YWJsZSgpIHtcbiAgICAgICAgICAgICAgICB2YXIgJHNlbGVjdGFibGUgPSB0aGlzLl9nZXRTZWxlY3RhYmxlcygpLmZpcnN0KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuICRzZWxlY3RhYmxlLmxlbmd0aCA/ICRzZWxlY3RhYmxlIDogbnVsbDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZShxdWVyeSkge1xuICAgICAgICAgICAgICAgIHZhciBpc1ZhbGlkVXBkYXRlID0gcXVlcnkgIT09IHRoaXMucXVlcnk7XG4gICAgICAgICAgICAgICAgaWYgKGlzVmFsaWRVcGRhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5xdWVyeSA9IHF1ZXJ5O1xuICAgICAgICAgICAgICAgICAgICBfLmVhY2godGhpcy5kYXRhc2V0cywgdXBkYXRlRGF0YXNldCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBpc1ZhbGlkVXBkYXRlO1xuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHVwZGF0ZURhdGFzZXQoZGF0YXNldCkge1xuICAgICAgICAgICAgICAgICAgICBkYXRhc2V0LnVwZGF0ZShxdWVyeSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVtcHR5OiBmdW5jdGlvbiBlbXB0eSgpIHtcbiAgICAgICAgICAgICAgICBfLmVhY2godGhpcy5kYXRhc2V0cywgY2xlYXJEYXRhc2V0KTtcbiAgICAgICAgICAgICAgICB0aGlzLnF1ZXJ5ID0gbnVsbDtcbiAgICAgICAgICAgICAgICB0aGlzLiRub2RlLmFkZENsYXNzKHRoaXMuY2xhc3Nlcy5lbXB0eSk7XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gY2xlYXJEYXRhc2V0KGRhdGFzZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YXNldC5jbGVhcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICAgICAgICAgIHRoaXMuJG5vZGUub2ZmKFwiLnR0XCIpO1xuICAgICAgICAgICAgICAgIHRoaXMuJG5vZGUgPSAkKFwiPGRpdj5cIik7XG4gICAgICAgICAgICAgICAgXy5lYWNoKHRoaXMuZGF0YXNldHMsIGRlc3Ryb3lEYXRhc2V0KTtcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBkZXN0cm95RGF0YXNldChkYXRhc2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGFzZXQuZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBNZW51O1xuICAgIH0oKTtcbiAgICB2YXIgRGVmYXVsdE1lbnUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgICAgIHZhciBzID0gTWVudS5wcm90b3R5cGU7XG4gICAgICAgIGZ1bmN0aW9uIERlZmF1bHRNZW51KCkge1xuICAgICAgICAgICAgTWVudS5hcHBseSh0aGlzLCBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMCkpO1xuICAgICAgICB9XG4gICAgICAgIF8ubWl4aW4oRGVmYXVsdE1lbnUucHJvdG90eXBlLCBNZW51LnByb3RvdHlwZSwge1xuICAgICAgICAgICAgb3BlbjogZnVuY3Rpb24gb3BlbigpIHtcbiAgICAgICAgICAgICAgICAhdGhpcy5fYWxsRGF0YXNldHNFbXB0eSgpICYmIHRoaXMuX3Nob3coKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcy5vcGVuLmFwcGx5KHRoaXMsIFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAwKSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2xvc2U6IGZ1bmN0aW9uIGNsb3NlKCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2hpZGUoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcy5jbG9zZS5hcHBseSh0aGlzLCBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMCkpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9vblJlbmRlcmVkOiBmdW5jdGlvbiBvblJlbmRlcmVkKCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9hbGxEYXRhc2V0c0VtcHR5KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faGlkZSgpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaXNPcGVuKCkgJiYgdGhpcy5fc2hvdygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gcy5fb25SZW5kZXJlZC5hcHBseSh0aGlzLCBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMCkpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9vbkNsZWFyZWQ6IGZ1bmN0aW9uIG9uQ2xlYXJlZCgpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fYWxsRGF0YXNldHNFbXB0eSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2hpZGUoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmlzT3BlbigpICYmIHRoaXMuX3Nob3coKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHMuX29uQ2xlYXJlZC5hcHBseSh0aGlzLCBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMCkpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldExhbmd1YWdlRGlyZWN0aW9uOiBmdW5jdGlvbiBzZXRMYW5ndWFnZURpcmVjdGlvbihkaXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLiRub2RlLmNzcyhkaXIgPT09IFwibHRyXCIgPyB0aGlzLmNzcy5sdHIgOiB0aGlzLmNzcy5ydGwpO1xuICAgICAgICAgICAgICAgIHJldHVybiBzLnNldExhbmd1YWdlRGlyZWN0aW9uLmFwcGx5KHRoaXMsIFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAwKSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2hpZGU6IGZ1bmN0aW9uIGhpZGUoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy4kbm9kZS5oaWRlKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX3Nob3c6IGZ1bmN0aW9uIHNob3coKSB7XG4gICAgICAgICAgICAgICAgdGhpcy4kbm9kZS5jc3MoXCJkaXNwbGF5XCIsIFwiYmxvY2tcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gRGVmYXVsdE1lbnU7XG4gICAgfSgpO1xuICAgIHZhciBUeXBlYWhlYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgICAgIGZ1bmN0aW9uIFR5cGVhaGVhZChvLCB3d3cpIHtcbiAgICAgICAgICAgIHZhciBvbkZvY3VzZWQsIG9uQmx1cnJlZCwgb25FbnRlcktleWVkLCBvblRhYktleWVkLCBvbkVzY0tleWVkLCBvblVwS2V5ZWQsIG9uRG93bktleWVkLCBvbkxlZnRLZXllZCwgb25SaWdodEtleWVkLCBvblF1ZXJ5Q2hhbmdlZCwgb25XaGl0ZXNwYWNlQ2hhbmdlZDtcbiAgICAgICAgICAgIG8gPSBvIHx8IHt9O1xuICAgICAgICAgICAgaWYgKCFvLmlucHV0KSB7XG4gICAgICAgICAgICAgICAgJC5lcnJvcihcIm1pc3NpbmcgaW5wdXRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIW8ubWVudSkge1xuICAgICAgICAgICAgICAgICQuZXJyb3IoXCJtaXNzaW5nIG1lbnVcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIW8uZXZlbnRCdXMpIHtcbiAgICAgICAgICAgICAgICAkLmVycm9yKFwibWlzc2luZyBldmVudCBidXNcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB3d3cubWl4aW4odGhpcyk7XG4gICAgICAgICAgICB0aGlzLmV2ZW50QnVzID0gby5ldmVudEJ1cztcbiAgICAgICAgICAgIHRoaXMubWluTGVuZ3RoID0gXy5pc051bWJlcihvLm1pbkxlbmd0aCkgPyBvLm1pbkxlbmd0aCA6IDE7XG4gICAgICAgICAgICB0aGlzLmlucHV0ID0gby5pbnB1dDtcbiAgICAgICAgICAgIHRoaXMubWVudSA9IG8ubWVudTtcbiAgICAgICAgICAgIHRoaXMuZW5hYmxlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5pbnB1dC5oYXNGb2N1cygpICYmIHRoaXMuYWN0aXZhdGUoKTtcbiAgICAgICAgICAgIHRoaXMuZGlyID0gdGhpcy5pbnB1dC5nZXRMYW5nRGlyKCk7XG4gICAgICAgICAgICB0aGlzLl9oYWNrcygpO1xuICAgICAgICAgICAgdGhpcy5tZW51LmJpbmQoKS5vblN5bmMoXCJzZWxlY3RhYmxlQ2xpY2tlZFwiLCB0aGlzLl9vblNlbGVjdGFibGVDbGlja2VkLCB0aGlzKS5vblN5bmMoXCJhc3luY1JlcXVlc3RlZFwiLCB0aGlzLl9vbkFzeW5jUmVxdWVzdGVkLCB0aGlzKS5vblN5bmMoXCJhc3luY0NhbmNlbGVkXCIsIHRoaXMuX29uQXN5bmNDYW5jZWxlZCwgdGhpcykub25TeW5jKFwiYXN5bmNSZWNlaXZlZFwiLCB0aGlzLl9vbkFzeW5jUmVjZWl2ZWQsIHRoaXMpLm9uU3luYyhcImRhdGFzZXRSZW5kZXJlZFwiLCB0aGlzLl9vbkRhdGFzZXRSZW5kZXJlZCwgdGhpcykub25TeW5jKFwiZGF0YXNldENsZWFyZWRcIiwgdGhpcy5fb25EYXRhc2V0Q2xlYXJlZCwgdGhpcyk7XG4gICAgICAgICAgICBvbkZvY3VzZWQgPSBjKHRoaXMsIFwiYWN0aXZhdGVcIiwgXCJvcGVuXCIsIFwiX29uRm9jdXNlZFwiKTtcbiAgICAgICAgICAgIG9uQmx1cnJlZCA9IGModGhpcywgXCJkZWFjdGl2YXRlXCIsIFwiX29uQmx1cnJlZFwiKTtcbiAgICAgICAgICAgIG9uRW50ZXJLZXllZCA9IGModGhpcywgXCJpc0FjdGl2ZVwiLCBcImlzT3BlblwiLCBcIl9vbkVudGVyS2V5ZWRcIik7XG4gICAgICAgICAgICBvblRhYktleWVkID0gYyh0aGlzLCBcImlzQWN0aXZlXCIsIFwiaXNPcGVuXCIsIFwiX29uVGFiS2V5ZWRcIik7XG4gICAgICAgICAgICBvbkVzY0tleWVkID0gYyh0aGlzLCBcImlzQWN0aXZlXCIsIFwiX29uRXNjS2V5ZWRcIik7XG4gICAgICAgICAgICBvblVwS2V5ZWQgPSBjKHRoaXMsIFwiaXNBY3RpdmVcIiwgXCJvcGVuXCIsIFwiX29uVXBLZXllZFwiKTtcbiAgICAgICAgICAgIG9uRG93bktleWVkID0gYyh0aGlzLCBcImlzQWN0aXZlXCIsIFwib3BlblwiLCBcIl9vbkRvd25LZXllZFwiKTtcbiAgICAgICAgICAgIG9uTGVmdEtleWVkID0gYyh0aGlzLCBcImlzQWN0aXZlXCIsIFwiaXNPcGVuXCIsIFwiX29uTGVmdEtleWVkXCIpO1xuICAgICAgICAgICAgb25SaWdodEtleWVkID0gYyh0aGlzLCBcImlzQWN0aXZlXCIsIFwiaXNPcGVuXCIsIFwiX29uUmlnaHRLZXllZFwiKTtcbiAgICAgICAgICAgIG9uUXVlcnlDaGFuZ2VkID0gYyh0aGlzLCBcIl9vcGVuSWZBY3RpdmVcIiwgXCJfb25RdWVyeUNoYW5nZWRcIik7XG4gICAgICAgICAgICBvbldoaXRlc3BhY2VDaGFuZ2VkID0gYyh0aGlzLCBcIl9vcGVuSWZBY3RpdmVcIiwgXCJfb25XaGl0ZXNwYWNlQ2hhbmdlZFwiKTtcbiAgICAgICAgICAgIHRoaXMuaW5wdXQuYmluZCgpLm9uU3luYyhcImZvY3VzZWRcIiwgb25Gb2N1c2VkLCB0aGlzKS5vblN5bmMoXCJibHVycmVkXCIsIG9uQmx1cnJlZCwgdGhpcykub25TeW5jKFwiZW50ZXJLZXllZFwiLCBvbkVudGVyS2V5ZWQsIHRoaXMpLm9uU3luYyhcInRhYktleWVkXCIsIG9uVGFiS2V5ZWQsIHRoaXMpLm9uU3luYyhcImVzY0tleWVkXCIsIG9uRXNjS2V5ZWQsIHRoaXMpLm9uU3luYyhcInVwS2V5ZWRcIiwgb25VcEtleWVkLCB0aGlzKS5vblN5bmMoXCJkb3duS2V5ZWRcIiwgb25Eb3duS2V5ZWQsIHRoaXMpLm9uU3luYyhcImxlZnRLZXllZFwiLCBvbkxlZnRLZXllZCwgdGhpcykub25TeW5jKFwicmlnaHRLZXllZFwiLCBvblJpZ2h0S2V5ZWQsIHRoaXMpLm9uU3luYyhcInF1ZXJ5Q2hhbmdlZFwiLCBvblF1ZXJ5Q2hhbmdlZCwgdGhpcykub25TeW5jKFwid2hpdGVzcGFjZUNoYW5nZWRcIiwgb25XaGl0ZXNwYWNlQ2hhbmdlZCwgdGhpcykub25TeW5jKFwibGFuZ0RpckNoYW5nZWRcIiwgdGhpcy5fb25MYW5nRGlyQ2hhbmdlZCwgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgXy5taXhpbihUeXBlYWhlYWQucHJvdG90eXBlLCB7XG4gICAgICAgICAgICBfaGFja3M6IGZ1bmN0aW9uIGhhY2tzKCkge1xuICAgICAgICAgICAgICAgIHZhciAkaW5wdXQsICRtZW51O1xuICAgICAgICAgICAgICAgICRpbnB1dCA9IHRoaXMuaW5wdXQuJGlucHV0IHx8ICQoXCI8ZGl2PlwiKTtcbiAgICAgICAgICAgICAgICAkbWVudSA9IHRoaXMubWVudS4kbm9kZSB8fCAkKFwiPGRpdj5cIik7XG4gICAgICAgICAgICAgICAgJGlucHV0Lm9uKFwiYmx1ci50dFwiLCBmdW5jdGlvbigkZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgYWN0aXZlLCBpc0FjdGl2ZSwgaGFzQWN0aXZlO1xuICAgICAgICAgICAgICAgICAgICBhY3RpdmUgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50O1xuICAgICAgICAgICAgICAgICAgICBpc0FjdGl2ZSA9ICRtZW51LmlzKGFjdGl2ZSk7XG4gICAgICAgICAgICAgICAgICAgIGhhc0FjdGl2ZSA9ICRtZW51LmhhcyhhY3RpdmUpLmxlbmd0aCA+IDA7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfLmlzTXNpZSgpICYmIChpc0FjdGl2ZSB8fCBoYXNBY3RpdmUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfLmRlZmVyKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRpbnB1dC5mb2N1cygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAkbWVudS5vbihcIm1vdXNlZG93bi50dFwiLCBmdW5jdGlvbigkZSkge1xuICAgICAgICAgICAgICAgICAgICAkZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9vblNlbGVjdGFibGVDbGlja2VkOiBmdW5jdGlvbiBvblNlbGVjdGFibGVDbGlja2VkKHR5cGUsICRlbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0KCRlbCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX29uRGF0YXNldENsZWFyZWQ6IGZ1bmN0aW9uIG9uRGF0YXNldENsZWFyZWQoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlSGludCgpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9vbkRhdGFzZXRSZW5kZXJlZDogZnVuY3Rpb24gb25EYXRhc2V0UmVuZGVyZWQodHlwZSwgZGF0YXNldCwgc3VnZ2VzdGlvbnMsIGFzeW5jKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlSGludCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRCdXMudHJpZ2dlcihcInJlbmRlclwiLCBzdWdnZXN0aW9ucywgYXN5bmMsIGRhdGFzZXQpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9vbkFzeW5jUmVxdWVzdGVkOiBmdW5jdGlvbiBvbkFzeW5jUmVxdWVzdGVkKHR5cGUsIGRhdGFzZXQsIHF1ZXJ5KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5ldmVudEJ1cy50cmlnZ2VyKFwiYXN5bmNyZXF1ZXN0XCIsIHF1ZXJ5LCBkYXRhc2V0KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfb25Bc3luY0NhbmNlbGVkOiBmdW5jdGlvbiBvbkFzeW5jQ2FuY2VsZWQodHlwZSwgZGF0YXNldCwgcXVlcnkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50QnVzLnRyaWdnZXIoXCJhc3luY2NhbmNlbFwiLCBxdWVyeSwgZGF0YXNldCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX29uQXN5bmNSZWNlaXZlZDogZnVuY3Rpb24gb25Bc3luY1JlY2VpdmVkKHR5cGUsIGRhdGFzZXQsIHF1ZXJ5KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5ldmVudEJ1cy50cmlnZ2VyKFwiYXN5bmNyZWNlaXZlXCIsIHF1ZXJ5LCBkYXRhc2V0KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfb25Gb2N1c2VkOiBmdW5jdGlvbiBvbkZvY3VzZWQoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbWluTGVuZ3RoTWV0KCkgJiYgdGhpcy5tZW51LnVwZGF0ZSh0aGlzLmlucHV0LmdldFF1ZXJ5KCkpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9vbkJsdXJyZWQ6IGZ1bmN0aW9uIG9uQmx1cnJlZCgpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pbnB1dC5oYXNRdWVyeUNoYW5nZWRTaW5jZUxhc3RGb2N1cygpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRCdXMudHJpZ2dlcihcImNoYW5nZVwiLCB0aGlzLmlucHV0LmdldFF1ZXJ5KCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfb25FbnRlcktleWVkOiBmdW5jdGlvbiBvbkVudGVyS2V5ZWQodHlwZSwgJGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgJHNlbGVjdGFibGU7XG4gICAgICAgICAgICAgICAgaWYgKCRzZWxlY3RhYmxlID0gdGhpcy5tZW51LmdldEFjdGl2ZVNlbGVjdGFibGUoKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdCgkc2VsZWN0YWJsZSkgJiYgJGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX29uVGFiS2V5ZWQ6IGZ1bmN0aW9uIG9uVGFiS2V5ZWQodHlwZSwgJGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgJHNlbGVjdGFibGU7XG4gICAgICAgICAgICAgICAgaWYgKCRzZWxlY3RhYmxlID0gdGhpcy5tZW51LmdldEFjdGl2ZVNlbGVjdGFibGUoKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdCgkc2VsZWN0YWJsZSkgJiYgJGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCRzZWxlY3RhYmxlID0gdGhpcy5tZW51LmdldFRvcFNlbGVjdGFibGUoKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmF1dG9jb21wbGV0ZSgkc2VsZWN0YWJsZSkgJiYgJGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX29uRXNjS2V5ZWQ6IGZ1bmN0aW9uIG9uRXNjS2V5ZWQoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9vblVwS2V5ZWQ6IGZ1bmN0aW9uIG9uVXBLZXllZCgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1vdmVDdXJzb3IoLTEpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9vbkRvd25LZXllZDogZnVuY3Rpb24gb25Eb3duS2V5ZWQoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tb3ZlQ3Vyc29yKCsxKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfb25MZWZ0S2V5ZWQ6IGZ1bmN0aW9uIG9uTGVmdEtleWVkKCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmRpciA9PT0gXCJydGxcIiAmJiB0aGlzLmlucHV0LmlzQ3Vyc29yQXRFbmQoKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmF1dG9jb21wbGV0ZSh0aGlzLm1lbnUuZ2V0VG9wU2VsZWN0YWJsZSgpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX29uUmlnaHRLZXllZDogZnVuY3Rpb24gb25SaWdodEtleWVkKCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmRpciA9PT0gXCJsdHJcIiAmJiB0aGlzLmlucHV0LmlzQ3Vyc29yQXRFbmQoKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmF1dG9jb21wbGV0ZSh0aGlzLm1lbnUuZ2V0VG9wU2VsZWN0YWJsZSgpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX29uUXVlcnlDaGFuZ2VkOiBmdW5jdGlvbiBvblF1ZXJ5Q2hhbmdlZChlLCBxdWVyeSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX21pbkxlbmd0aE1ldChxdWVyeSkgPyB0aGlzLm1lbnUudXBkYXRlKHF1ZXJ5KSA6IHRoaXMubWVudS5lbXB0eSgpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9vbldoaXRlc3BhY2VDaGFuZ2VkOiBmdW5jdGlvbiBvbldoaXRlc3BhY2VDaGFuZ2VkKCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZUhpbnQoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfb25MYW5nRGlyQ2hhbmdlZDogZnVuY3Rpb24gb25MYW5nRGlyQ2hhbmdlZChlLCBkaXIpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5kaXIgIT09IGRpcikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpciA9IGRpcjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tZW51LnNldExhbmd1YWdlRGlyZWN0aW9uKGRpcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9vcGVuSWZBY3RpdmU6IGZ1bmN0aW9uIG9wZW5JZkFjdGl2ZSgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmlzQWN0aXZlKCkgJiYgdGhpcy5vcGVuKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX21pbkxlbmd0aE1ldDogZnVuY3Rpb24gbWluTGVuZ3RoTWV0KHF1ZXJ5KSB7XG4gICAgICAgICAgICAgICAgcXVlcnkgPSBfLmlzU3RyaW5nKHF1ZXJ5KSA/IHF1ZXJ5IDogdGhpcy5pbnB1dC5nZXRRdWVyeSgpIHx8IFwiXCI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHF1ZXJ5Lmxlbmd0aCA+PSB0aGlzLm1pbkxlbmd0aDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfdXBkYXRlSGludDogZnVuY3Rpb24gdXBkYXRlSGludCgpIHtcbiAgICAgICAgICAgICAgICB2YXIgJHNlbGVjdGFibGUsIGRhdGEsIHZhbCwgcXVlcnksIGVzY2FwZWRRdWVyeSwgZnJvbnRNYXRjaFJlZ0V4LCBtYXRjaDtcbiAgICAgICAgICAgICAgICAkc2VsZWN0YWJsZSA9IHRoaXMubWVudS5nZXRUb3BTZWxlY3RhYmxlKCk7XG4gICAgICAgICAgICAgICAgZGF0YSA9IHRoaXMubWVudS5nZXRTZWxlY3RhYmxlRGF0YSgkc2VsZWN0YWJsZSk7XG4gICAgICAgICAgICAgICAgdmFsID0gdGhpcy5pbnB1dC5nZXRJbnB1dFZhbHVlKCk7XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEgJiYgIV8uaXNCbGFua1N0cmluZyh2YWwpICYmICF0aGlzLmlucHV0Lmhhc092ZXJmbG93KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcXVlcnkgPSBJbnB1dC5ub3JtYWxpemVRdWVyeSh2YWwpO1xuICAgICAgICAgICAgICAgICAgICBlc2NhcGVkUXVlcnkgPSBfLmVzY2FwZVJlZ0V4Q2hhcnMocXVlcnkpO1xuICAgICAgICAgICAgICAgICAgICBmcm9udE1hdGNoUmVnRXggPSBuZXcgUmVnRXhwKFwiXig/OlwiICsgZXNjYXBlZFF1ZXJ5ICsgXCIpKC4rJClcIiwgXCJpXCIpO1xuICAgICAgICAgICAgICAgICAgICBtYXRjaCA9IGZyb250TWF0Y2hSZWdFeC5leGVjKGRhdGEudmFsKTtcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2ggJiYgdGhpcy5pbnB1dC5zZXRIaW50KHZhbCArIG1hdGNoWzFdKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmlucHV0LmNsZWFySGludCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpc0VuYWJsZWQ6IGZ1bmN0aW9uIGlzRW5hYmxlZCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lbmFibGVkO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVuYWJsZTogZnVuY3Rpb24gZW5hYmxlKCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZW5hYmxlZCA9IHRydWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGlzYWJsZTogZnVuY3Rpb24gZGlzYWJsZSgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpc0FjdGl2ZTogZnVuY3Rpb24gaXNBY3RpdmUoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYWN0aXZlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFjdGl2YXRlOiBmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pc0FjdGl2ZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIXRoaXMuaXNFbmFibGVkKCkgfHwgdGhpcy5ldmVudEJ1cy5iZWZvcmUoXCJhY3RpdmVcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ldmVudEJ1cy50cmlnZ2VyKFwiYWN0aXZlXCIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGVhY3RpdmF0ZTogZnVuY3Rpb24gZGVhY3RpdmF0ZSgpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaXNBY3RpdmUoKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZXZlbnRCdXMuYmVmb3JlKFwiaWRsZVwiKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmV2ZW50QnVzLnRyaWdnZXIoXCJpZGxlXCIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaXNPcGVuOiBmdW5jdGlvbiBpc09wZW4oKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubWVudS5pc09wZW4oKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvcGVuOiBmdW5jdGlvbiBvcGVuKCkge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5pc09wZW4oKSAmJiAhdGhpcy5ldmVudEJ1cy5iZWZvcmUoXCJvcGVuXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWVudS5vcGVuKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZUhpbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ldmVudEJ1cy50cmlnZ2VyKFwib3BlblwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuaXNPcGVuKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2xvc2U6IGZ1bmN0aW9uIGNsb3NlKCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzT3BlbigpICYmICF0aGlzLmV2ZW50QnVzLmJlZm9yZShcImNsb3NlXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWVudS5jbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmlucHV0LmNsZWFySGludCgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmlucHV0LnJlc2V0SW5wdXRWYWx1ZSgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmV2ZW50QnVzLnRyaWdnZXIoXCJjbG9zZVwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuICF0aGlzLmlzT3BlbigpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldFZhbDogZnVuY3Rpb24gc2V0VmFsKHZhbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuaW5wdXQuc2V0UXVlcnkoXy50b1N0cih2YWwpKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXRWYWw6IGZ1bmN0aW9uIGdldFZhbCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5pbnB1dC5nZXRRdWVyeSgpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNlbGVjdDogZnVuY3Rpb24gc2VsZWN0KCRzZWxlY3RhYmxlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRhdGEgPSB0aGlzLm1lbnUuZ2V0U2VsZWN0YWJsZURhdGEoJHNlbGVjdGFibGUpO1xuICAgICAgICAgICAgICAgIGlmIChkYXRhICYmICF0aGlzLmV2ZW50QnVzLmJlZm9yZShcInNlbGVjdFwiLCBkYXRhLm9iaikpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnB1dC5zZXRRdWVyeShkYXRhLnZhbCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRCdXMudHJpZ2dlcihcInNlbGVjdFwiLCBkYXRhLm9iaik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhdXRvY29tcGxldGU6IGZ1bmN0aW9uIGF1dG9jb21wbGV0ZSgkc2VsZWN0YWJsZSkge1xuICAgICAgICAgICAgICAgIHZhciBxdWVyeSwgZGF0YSwgaXNWYWxpZDtcbiAgICAgICAgICAgICAgICBxdWVyeSA9IHRoaXMuaW5wdXQuZ2V0UXVlcnkoKTtcbiAgICAgICAgICAgICAgICBkYXRhID0gdGhpcy5tZW51LmdldFNlbGVjdGFibGVEYXRhKCRzZWxlY3RhYmxlKTtcbiAgICAgICAgICAgICAgICBpc1ZhbGlkID0gZGF0YSAmJiBxdWVyeSAhPT0gZGF0YS52YWw7XG4gICAgICAgICAgICAgICAgaWYgKGlzVmFsaWQgJiYgIXRoaXMuZXZlbnRCdXMuYmVmb3JlKFwiYXV0b2NvbXBsZXRlXCIsIGRhdGEub2JqKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmlucHV0LnNldFF1ZXJ5KGRhdGEudmFsKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ldmVudEJ1cy50cmlnZ2VyKFwiYXV0b2NvbXBsZXRlXCIsIGRhdGEub2JqKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBtb3ZlQ3Vyc29yOiBmdW5jdGlvbiBtb3ZlQ3Vyc29yKGRlbHRhKSB7XG4gICAgICAgICAgICAgICAgdmFyIHF1ZXJ5LCAkY2FuZGlkYXRlLCBkYXRhLCBwYXlsb2FkLCBjYW5jZWxNb3ZlO1xuICAgICAgICAgICAgICAgIHF1ZXJ5ID0gdGhpcy5pbnB1dC5nZXRRdWVyeSgpO1xuICAgICAgICAgICAgICAgICRjYW5kaWRhdGUgPSB0aGlzLm1lbnUuc2VsZWN0YWJsZVJlbGF0aXZlVG9DdXJzb3IoZGVsdGEpO1xuICAgICAgICAgICAgICAgIGRhdGEgPSB0aGlzLm1lbnUuZ2V0U2VsZWN0YWJsZURhdGEoJGNhbmRpZGF0ZSk7XG4gICAgICAgICAgICAgICAgcGF5bG9hZCA9IGRhdGEgPyBkYXRhLm9iaiA6IG51bGw7XG4gICAgICAgICAgICAgICAgY2FuY2VsTW92ZSA9IHRoaXMuX21pbkxlbmd0aE1ldCgpICYmIHRoaXMubWVudS51cGRhdGUocXVlcnkpO1xuICAgICAgICAgICAgICAgIGlmICghY2FuY2VsTW92ZSAmJiAhdGhpcy5ldmVudEJ1cy5iZWZvcmUoXCJjdXJzb3JjaGFuZ2VcIiwgcGF5bG9hZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tZW51LnNldEN1cnNvcigkY2FuZGlkYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW5wdXQuc2V0SW5wdXRWYWx1ZShkYXRhLnZhbCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlucHV0LnJlc2V0SW5wdXRWYWx1ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlSGludCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRCdXMudHJpZ2dlcihcImN1cnNvcmNoYW5nZVwiLCBwYXlsb2FkKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICAgICAgICAgIHRoaXMuaW5wdXQuZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgIHRoaXMubWVudS5kZXN0cm95KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gVHlwZWFoZWFkO1xuICAgICAgICBmdW5jdGlvbiBjKGN0eCkge1xuICAgICAgICAgICAgdmFyIG1ldGhvZHMgPSBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7XG4gICAgICAgICAgICAgICAgXy5lYWNoKG1ldGhvZHMsIGZ1bmN0aW9uKG1ldGhvZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3R4W21ldGhvZF0uYXBwbHkoY3R4LCBhcmdzKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9KCk7XG4gICAgKGZ1bmN0aW9uKCkge1xuICAgICAgICBcInVzZSBzdHJpY3RcIjtcbiAgICAgICAgdmFyIG9sZCwga2V5cywgbWV0aG9kcztcbiAgICAgICAgb2xkID0gJC5mbi50eXBlYWhlYWQ7XG4gICAgICAgIGtleXMgPSB7XG4gICAgICAgICAgICB3d3c6IFwidHQtd3d3XCIsXG4gICAgICAgICAgICBhdHRyczogXCJ0dC1hdHRyc1wiLFxuICAgICAgICAgICAgdHlwZWFoZWFkOiBcInR0LXR5cGVhaGVhZFwiXG4gICAgICAgIH07XG4gICAgICAgIG1ldGhvZHMgPSB7XG4gICAgICAgICAgICBpbml0aWFsaXplOiBmdW5jdGlvbiBpbml0aWFsaXplKG8sIGRhdGFzZXRzKSB7XG4gICAgICAgICAgICAgICAgdmFyIHd3dztcbiAgICAgICAgICAgICAgICBkYXRhc2V0cyA9IF8uaXNBcnJheShkYXRhc2V0cykgPyBkYXRhc2V0cyA6IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgICAgICAgICAgICAgICBvID0gbyB8fCB7fTtcbiAgICAgICAgICAgICAgICB3d3cgPSBXV1coby5jbGFzc05hbWVzKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGF0dGFjaCk7XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gYXR0YWNoKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgJGlucHV0LCAkd3JhcHBlciwgJGhpbnQsICRtZW51LCBkZWZhdWx0SGludCwgZGVmYXVsdE1lbnUsIGV2ZW50QnVzLCBpbnB1dCwgbWVudSwgdHlwZWFoZWFkLCBNZW51Q29uc3RydWN0b3I7XG4gICAgICAgICAgICAgICAgICAgIF8uZWFjaChkYXRhc2V0cywgZnVuY3Rpb24oZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZC5oaWdobGlnaHQgPSAhIW8uaGlnaGxpZ2h0O1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgJGlucHV0ID0gJCh0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgJHdyYXBwZXIgPSAkKHd3dy5odG1sLndyYXBwZXIpO1xuICAgICAgICAgICAgICAgICAgICAkaGludCA9ICRlbE9yTnVsbChvLmhpbnQpO1xuICAgICAgICAgICAgICAgICAgICAkbWVudSA9ICRlbE9yTnVsbChvLm1lbnUpO1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0SGludCA9IG8uaGludCAhPT0gZmFsc2UgJiYgISRoaW50O1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0TWVudSA9IG8ubWVudSAhPT0gZmFsc2UgJiYgISRtZW51O1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0SGludCAmJiAoJGhpbnQgPSBidWlsZEhpbnRGcm9tSW5wdXQoJGlucHV0LCB3d3cpKTtcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdE1lbnUgJiYgKCRtZW51ID0gJCh3d3cuaHRtbC5tZW51KS5jc3Mod3d3LmNzcy5tZW51KSk7XG4gICAgICAgICAgICAgICAgICAgICRoaW50ICYmICRoaW50LnZhbChcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgJGlucHV0ID0gcHJlcElucHV0KCRpbnB1dCwgd3d3KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlZmF1bHRIaW50IHx8IGRlZmF1bHRNZW51KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkd3JhcHBlci5jc3Mod3d3LmNzcy53cmFwcGVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICRpbnB1dC5jc3MoZGVmYXVsdEhpbnQgPyB3d3cuY3NzLmlucHV0IDogd3d3LmNzcy5pbnB1dFdpdGhOb0hpbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJGlucHV0LndyYXAoJHdyYXBwZXIpLnBhcmVudCgpLnByZXBlbmQoZGVmYXVsdEhpbnQgPyAkaGludCA6IG51bGwpLmFwcGVuZChkZWZhdWx0TWVudSA/ICRtZW51IDogbnVsbCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgTWVudUNvbnN0cnVjdG9yID0gZGVmYXVsdE1lbnUgPyBEZWZhdWx0TWVudSA6IE1lbnU7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50QnVzID0gbmV3IEV2ZW50QnVzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsOiAkaW5wdXRcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGlucHV0ID0gbmV3IElucHV0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhpbnQ6ICRoaW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXQ6ICRpbnB1dFxuICAgICAgICAgICAgICAgICAgICB9LCB3d3cpO1xuICAgICAgICAgICAgICAgICAgICBtZW51ID0gbmV3IE1lbnVDb25zdHJ1Y3Rvcih7XG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlOiAkbWVudSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFzZXRzOiBkYXRhc2V0c1xuICAgICAgICAgICAgICAgICAgICB9LCB3d3cpO1xuICAgICAgICAgICAgICAgICAgICB0eXBlYWhlYWQgPSBuZXcgVHlwZWFoZWFkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0OiBpbnB1dCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lbnU6IG1lbnUsXG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudEJ1czogZXZlbnRCdXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW5MZW5ndGg6IG8ubWluTGVuZ3RoXG4gICAgICAgICAgICAgICAgICAgIH0sIHd3dyk7XG4gICAgICAgICAgICAgICAgICAgICRpbnB1dC5kYXRhKGtleXMud3d3LCB3d3cpO1xuICAgICAgICAgICAgICAgICAgICAkaW5wdXQuZGF0YShrZXlzLnR5cGVhaGVhZCwgdHlwZWFoZWFkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaXNFbmFibGVkOiBmdW5jdGlvbiBpc0VuYWJsZWQoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGVuYWJsZWQ7XG4gICAgICAgICAgICAgICAgdHRFYWNoKHRoaXMuZmlyc3QoKSwgZnVuY3Rpb24odCkge1xuICAgICAgICAgICAgICAgICAgICBlbmFibGVkID0gdC5pc0VuYWJsZWQoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZW5hYmxlZDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlbmFibGU6IGZ1bmN0aW9uIGVuYWJsZSgpIHtcbiAgICAgICAgICAgICAgICB0dEVhY2godGhpcywgZnVuY3Rpb24odCkge1xuICAgICAgICAgICAgICAgICAgICB0LmVuYWJsZSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRpc2FibGU6IGZ1bmN0aW9uIGRpc2FibGUoKSB7XG4gICAgICAgICAgICAgICAgdHRFYWNoKHRoaXMsIGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgICAgICAgICAgICAgdC5kaXNhYmxlKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaXNBY3RpdmU6IGZ1bmN0aW9uIGlzQWN0aXZlKCkge1xuICAgICAgICAgICAgICAgIHZhciBhY3RpdmU7XG4gICAgICAgICAgICAgICAgdHRFYWNoKHRoaXMuZmlyc3QoKSwgZnVuY3Rpb24odCkge1xuICAgICAgICAgICAgICAgICAgICBhY3RpdmUgPSB0LmlzQWN0aXZlKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFjdGl2ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhY3RpdmF0ZTogZnVuY3Rpb24gYWN0aXZhdGUoKSB7XG4gICAgICAgICAgICAgICAgdHRFYWNoKHRoaXMsIGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgICAgICAgICAgICAgdC5hY3RpdmF0ZSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRlYWN0aXZhdGU6IGZ1bmN0aW9uIGRlYWN0aXZhdGUoKSB7XG4gICAgICAgICAgICAgICAgdHRFYWNoKHRoaXMsIGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgICAgICAgICAgICAgdC5kZWFjdGl2YXRlKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaXNPcGVuOiBmdW5jdGlvbiBpc09wZW4oKSB7XG4gICAgICAgICAgICAgICAgdmFyIG9wZW47XG4gICAgICAgICAgICAgICAgdHRFYWNoKHRoaXMuZmlyc3QoKSwgZnVuY3Rpb24odCkge1xuICAgICAgICAgICAgICAgICAgICBvcGVuID0gdC5pc09wZW4oKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gb3BlbjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvcGVuOiBmdW5jdGlvbiBvcGVuKCkge1xuICAgICAgICAgICAgICAgIHR0RWFjaCh0aGlzLCBmdW5jdGlvbih0KSB7XG4gICAgICAgICAgICAgICAgICAgIHQub3BlbigpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNsb3NlOiBmdW5jdGlvbiBjbG9zZSgpIHtcbiAgICAgICAgICAgICAgICB0dEVhY2godGhpcywgZnVuY3Rpb24odCkge1xuICAgICAgICAgICAgICAgICAgICB0LmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2VsZWN0OiBmdW5jdGlvbiBzZWxlY3QoZWwpIHtcbiAgICAgICAgICAgICAgICB2YXIgc3VjY2VzcyA9IGZhbHNlLCAkZWwgPSAkKGVsKTtcbiAgICAgICAgICAgICAgICB0dEVhY2godGhpcy5maXJzdCgpLCBmdW5jdGlvbih0KSB7XG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3MgPSB0LnNlbGVjdCgkZWwpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBzdWNjZXNzO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGF1dG9jb21wbGV0ZTogZnVuY3Rpb24gYXV0b2NvbXBsZXRlKGVsKSB7XG4gICAgICAgICAgICAgICAgdmFyIHN1Y2Nlc3MgPSBmYWxzZSwgJGVsID0gJChlbCk7XG4gICAgICAgICAgICAgICAgdHRFYWNoKHRoaXMuZmlyc3QoKSwgZnVuY3Rpb24odCkge1xuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzID0gdC5hdXRvY29tcGxldGUoJGVsKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3VjY2VzcztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBtb3ZlQ3Vyc29yOiBmdW5jdGlvbiBtb3ZlQ3Vyc29lKGRlbHRhKSB7XG4gICAgICAgICAgICAgICAgdmFyIHN1Y2Nlc3MgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0dEVhY2godGhpcy5maXJzdCgpLCBmdW5jdGlvbih0KSB7XG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3MgPSB0Lm1vdmVDdXJzb3IoZGVsdGEpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBzdWNjZXNzO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHZhbDogZnVuY3Rpb24gdmFsKG5ld1ZhbCkge1xuICAgICAgICAgICAgICAgIHZhciBxdWVyeTtcbiAgICAgICAgICAgICAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgdHRFYWNoKHRoaXMuZmlyc3QoKSwgZnVuY3Rpb24odCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcXVlcnkgPSB0LmdldFZhbCgpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHF1ZXJ5O1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHR0RWFjaCh0aGlzLCBmdW5jdGlvbih0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0LnNldFZhbChuZXdWYWwpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRlc3Ryb3k6IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICAgICAgICAgICAgdHRFYWNoKHRoaXMsIGZ1bmN0aW9uKHR5cGVhaGVhZCwgJGlucHV0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldmVydCgkaW5wdXQpO1xuICAgICAgICAgICAgICAgICAgICB0eXBlYWhlYWQuZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICAkLmZuLnR5cGVhaGVhZCA9IGZ1bmN0aW9uKG1ldGhvZCkge1xuICAgICAgICAgICAgaWYgKG1ldGhvZHNbbWV0aG9kXSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBtZXRob2RzW21ldGhvZF0uYXBwbHkodGhpcywgW10uc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1ldGhvZHMuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICAkLmZuLnR5cGVhaGVhZC5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gbm9Db25mbGljdCgpIHtcbiAgICAgICAgICAgICQuZm4udHlwZWFoZWFkID0gb2xkO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH07XG4gICAgICAgIGZ1bmN0aW9uIHR0RWFjaCgkZWxzLCBmbikge1xuICAgICAgICAgICAgJGVscy5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHZhciAkaW5wdXQgPSAkKHRoaXMpLCB0eXBlYWhlYWQ7XG4gICAgICAgICAgICAgICAgKHR5cGVhaGVhZCA9ICRpbnB1dC5kYXRhKGtleXMudHlwZWFoZWFkKSkgJiYgZm4odHlwZWFoZWFkLCAkaW5wdXQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gYnVpbGRIaW50RnJvbUlucHV0KCRpbnB1dCwgd3d3KSB7XG4gICAgICAgICAgICByZXR1cm4gJGlucHV0LmNsb25lKCkuYWRkQ2xhc3Mod3d3LmNsYXNzZXMuaGludCkucmVtb3ZlRGF0YSgpLmNzcyh3d3cuY3NzLmhpbnQpLmNzcyhnZXRCYWNrZ3JvdW5kU3R5bGVzKCRpbnB1dCkpLnByb3AoXCJyZWFkb25seVwiLCB0cnVlKS5yZW1vdmVBdHRyKFwiaWQgbmFtZSBwbGFjZWhvbGRlciByZXF1aXJlZFwiKS5hdHRyKHtcbiAgICAgICAgICAgICAgICBhdXRvY29tcGxldGU6IFwib2ZmXCIsXG4gICAgICAgICAgICAgICAgc3BlbGxjaGVjazogXCJmYWxzZVwiLFxuICAgICAgICAgICAgICAgIHRhYmluZGV4OiAtMVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gcHJlcElucHV0KCRpbnB1dCwgd3d3KSB7XG4gICAgICAgICAgICAkaW5wdXQuZGF0YShrZXlzLmF0dHJzLCB7XG4gICAgICAgICAgICAgICAgZGlyOiAkaW5wdXQuYXR0cihcImRpclwiKSxcbiAgICAgICAgICAgICAgICBhdXRvY29tcGxldGU6ICRpbnB1dC5hdHRyKFwiYXV0b2NvbXBsZXRlXCIpLFxuICAgICAgICAgICAgICAgIHNwZWxsY2hlY2s6ICRpbnB1dC5hdHRyKFwic3BlbGxjaGVja1wiKSxcbiAgICAgICAgICAgICAgICBzdHlsZTogJGlucHV0LmF0dHIoXCJzdHlsZVwiKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAkaW5wdXQuYWRkQ2xhc3Mod3d3LmNsYXNzZXMuaW5wdXQpLmF0dHIoe1xuICAgICAgICAgICAgICAgIGF1dG9jb21wbGV0ZTogXCJvZmZcIixcbiAgICAgICAgICAgICAgICBzcGVsbGNoZWNrOiBmYWxzZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICEkaW5wdXQuYXR0cihcImRpclwiKSAmJiAkaW5wdXQuYXR0cihcImRpclwiLCBcImF1dG9cIik7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7fVxuICAgICAgICAgICAgcmV0dXJuICRpbnB1dDtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBnZXRCYWNrZ3JvdW5kU3R5bGVzKCRlbCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQXR0YWNobWVudDogJGVsLmNzcyhcImJhY2tncm91bmQtYXR0YWNobWVudFwiKSxcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ2xpcDogJGVsLmNzcyhcImJhY2tncm91bmQtY2xpcFwiKSxcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICRlbC5jc3MoXCJiYWNrZ3JvdW5kLWNvbG9yXCIpLFxuICAgICAgICAgICAgICAgIGJhY2tncm91bmRJbWFnZTogJGVsLmNzcyhcImJhY2tncm91bmQtaW1hZ2VcIiksXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZE9yaWdpbjogJGVsLmNzcyhcImJhY2tncm91bmQtb3JpZ2luXCIpLFxuICAgICAgICAgICAgICAgIGJhY2tncm91bmRQb3NpdGlvbjogJGVsLmNzcyhcImJhY2tncm91bmQtcG9zaXRpb25cIiksXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZFJlcGVhdDogJGVsLmNzcyhcImJhY2tncm91bmQtcmVwZWF0XCIpLFxuICAgICAgICAgICAgICAgIGJhY2tncm91bmRTaXplOiAkZWwuY3NzKFwiYmFja2dyb3VuZC1zaXplXCIpXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIHJldmVydCgkaW5wdXQpIHtcbiAgICAgICAgICAgIHZhciB3d3csICR3cmFwcGVyO1xuICAgICAgICAgICAgd3d3ID0gJGlucHV0LmRhdGEoa2V5cy53d3cpO1xuICAgICAgICAgICAgJHdyYXBwZXIgPSAkaW5wdXQucGFyZW50KCkuZmlsdGVyKHd3dy5zZWxlY3RvcnMud3JhcHBlcik7XG4gICAgICAgICAgICBfLmVhY2goJGlucHV0LmRhdGEoa2V5cy5hdHRycyksIGZ1bmN0aW9uKHZhbCwga2V5KSB7XG4gICAgICAgICAgICAgICAgXy5pc1VuZGVmaW5lZCh2YWwpID8gJGlucHV0LnJlbW92ZUF0dHIoa2V5KSA6ICRpbnB1dC5hdHRyKGtleSwgdmFsKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgJGlucHV0LnJlbW92ZURhdGEoa2V5cy50eXBlYWhlYWQpLnJlbW92ZURhdGEoa2V5cy53d3cpLnJlbW92ZURhdGEoa2V5cy5hdHRyKS5yZW1vdmVDbGFzcyh3d3cuY2xhc3Nlcy5pbnB1dCk7XG4gICAgICAgICAgICBpZiAoJHdyYXBwZXIubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgJGlucHV0LmRldGFjaCgpLmluc2VydEFmdGVyKCR3cmFwcGVyKTtcbiAgICAgICAgICAgICAgICAkd3JhcHBlci5yZW1vdmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiAkZWxPck51bGwob2JqKSB7XG4gICAgICAgICAgICB2YXIgaXNWYWxpZCwgJGVsO1xuICAgICAgICAgICAgaXNWYWxpZCA9IF8uaXNKUXVlcnkob2JqKSB8fCBfLmlzRWxlbWVudChvYmopO1xuICAgICAgICAgICAgJGVsID0gaXNWYWxpZCA/ICQob2JqKS5maXJzdCgpIDogW107XG4gICAgICAgICAgICByZXR1cm4gJGVsLmxlbmd0aCA/ICRlbCA6IG51bGw7XG4gICAgICAgIH1cbiAgICB9KSgpO1xufSk7IiwiLy8gaTE4bmV4dCwgdjEuOS4wXG4vLyBDb3B5cmlnaHQgKGMpMjAxNSBKYW4gTcO8aGxlbWFubiAoamFtdWhsKS5cbi8vIERpc3RyaWJ1dGVkIHVuZGVyIE1JVCBsaWNlbnNlXG4vLyBodHRwOi8vaTE4bmV4dC5jb21cbihmdW5jdGlvbihyb290KSB7XG5cbiAgICAvLyBhZGQgaW5kZXhPZiB0byBub24gRUNNQS0yNjIgc3RhbmRhcmQgY29tcGxpYW50IGJyb3dzZXJzXG4gICAgaWYgKCFBcnJheS5wcm90b3R5cGUuaW5kZXhPZikge1xuICAgICAgICBBcnJheS5wcm90b3R5cGUuaW5kZXhPZiA9IGZ1bmN0aW9uIChzZWFyY2hFbGVtZW50IC8qLCBmcm9tSW5kZXggKi8gKSB7XG4gICAgICAgICAgICBcInVzZSBzdHJpY3RcIjtcbiAgICAgICAgICAgIGlmICh0aGlzID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgdCA9IE9iamVjdCh0aGlzKTtcbiAgICAgICAgICAgIHZhciBsZW4gPSB0Lmxlbmd0aCA+Pj4gMDtcbiAgICAgICAgICAgIGlmIChsZW4gPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgbiA9IDA7XG4gICAgICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBuID0gTnVtYmVyKGFyZ3VtZW50c1sxXSk7XG4gICAgICAgICAgICAgICAgaWYgKG4gIT0gbikgeyAvLyBzaG9ydGN1dCBmb3IgdmVyaWZ5aW5nIGlmIGl0J3MgTmFOXG4gICAgICAgICAgICAgICAgICAgIG4gPSAwO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobiAhPSAwICYmIG4gIT0gSW5maW5pdHkgJiYgbiAhPSAtSW5maW5pdHkpIHtcbiAgICAgICAgICAgICAgICAgICAgbiA9IChuID4gMCB8fCAtMSkgKiBNYXRoLmZsb29yKE1hdGguYWJzKG4pKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobiA+PSBsZW4pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgayA9IG4gPj0gMCA/IG4gOiBNYXRoLm1heChsZW4gLSBNYXRoLmFicyhuKSwgMCk7XG4gICAgICAgICAgICBmb3IgKDsgayA8IGxlbjsgaysrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGsgaW4gdCAmJiB0W2tdID09PSBzZWFyY2hFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBcbiAgICAvLyBhZGQgbGFzdEluZGV4T2YgdG8gbm9uIEVDTUEtMjYyIHN0YW5kYXJkIGNvbXBsaWFudCBicm93c2Vyc1xuICAgIGlmICghQXJyYXkucHJvdG90eXBlLmxhc3RJbmRleE9mKSB7XG4gICAgICAgIEFycmF5LnByb3RvdHlwZS5sYXN0SW5kZXhPZiA9IGZ1bmN0aW9uKHNlYXJjaEVsZW1lbnQgLyosIGZyb21JbmRleCovKSB7XG4gICAgICAgICAgICBcInVzZSBzdHJpY3RcIjtcbiAgICAgICAgICAgIGlmICh0aGlzID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgdCA9IE9iamVjdCh0aGlzKTtcbiAgICAgICAgICAgIHZhciBsZW4gPSB0Lmxlbmd0aCA+Pj4gMDtcbiAgICAgICAgICAgIGlmIChsZW4gPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgbiA9IGxlbjtcbiAgICAgICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgIG4gPSBOdW1iZXIoYXJndW1lbnRzWzFdKTtcbiAgICAgICAgICAgICAgICBpZiAobiAhPSBuKSB7XG4gICAgICAgICAgICAgICAgICAgIG4gPSAwO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobiAhPSAwICYmIG4gIT0gKDEgLyAwKSAmJiBuICE9IC0oMSAvIDApKSB7XG4gICAgICAgICAgICAgICAgICAgIG4gPSAobiA+IDAgfHwgLTEpICogTWF0aC5mbG9vcihNYXRoLmFicyhuKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGsgPSBuID49IDAgPyBNYXRoLm1pbihuLCBsZW4gLSAxKSA6IGxlbiAtIE1hdGguYWJzKG4pO1xuICAgICAgICAgICAgZm9yICg7IGsgPj0gMDsgay0tKSB7XG4gICAgICAgICAgICAgICAgaWYgKGsgaW4gdCAmJiB0W2tdID09PSBzZWFyY2hFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgXG4gICAgLy8gQWRkIHN0cmluZyB0cmltIGZvciBJRTguXG4gICAgaWYgKHR5cGVvZiBTdHJpbmcucHJvdG90eXBlLnRyaW0gIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgU3RyaW5nLnByb3RvdHlwZS50cmltID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yZXBsYWNlKC9eXFxzK3xcXHMrJC9nLCAnJyk7IFxuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmFyICQgPSByb290LmpRdWVyeSB8fCByb290LlplcHRvXG4gICAgICAsIGkxOG4gPSB7fVxuICAgICAgLCByZXNTdG9yZSA9IHt9XG4gICAgICAsIGN1cnJlbnRMbmdcbiAgICAgICwgcmVwbGFjZW1lbnRDb3VudGVyID0gMFxuICAgICAgLCBsYW5ndWFnZXMgPSBbXVxuICAgICAgLCBpbml0aWFsaXplZCA9IGZhbHNlXG4gICAgICAsIHN5bmMgPSB7fVxuICAgICAgLCBjb25mbGljdFJlZmVyZW5jZSA9IG51bGw7XG5cblxuXG4gICAgLy8gRXhwb3J0IHRoZSBpMThuZXh0IG9iamVjdCBmb3IgKipDb21tb25KUyoqLiBcbiAgICAvLyBJZiB3ZSdyZSBub3QgaW4gQ29tbW9uSlMsIGFkZCBgaTE4bmAgdG8gdGhlXG4gICAgLy8gZ2xvYmFsIG9iamVjdCBvciB0byBqcXVlcnkuXG4gICAgaWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzKSB7XG4gICAgICAgIG1vZHVsZS5leHBvcnRzID0gaTE4bjtcbiAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoJCkge1xuICAgICAgICAgICAgJC5pMThuID0gJC5pMThuIHx8IGkxOG47XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGlmIChyb290LmkxOG4pIHtcbiAgICAgICAgXHRjb25mbGljdFJlZmVyZW5jZSA9IHJvb3QuaTE4bjtcbiAgICAgICAgfVxuICAgICAgICByb290LmkxOG4gPSBpMThuO1xuICAgIH1cbiAgICBzeW5jID0ge1xuICAgIFxuICAgICAgICBsb2FkOiBmdW5jdGlvbihsbmdzLCBvcHRpb25zLCBjYikge1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMudXNlTG9jYWxTdG9yYWdlKSB7XG4gICAgICAgICAgICAgICAgc3luYy5fbG9hZExvY2FsKGxuZ3MsIG9wdGlvbnMsIGZ1bmN0aW9uKGVyciwgc3RvcmUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1pc3NpbmdMbmdzID0gW107XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBsbmdzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXN0b3JlW2xuZ3NbaV1dKSBtaXNzaW5nTG5ncy5wdXNoKGxuZ3NbaV0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICAgICAgICAgIGlmIChtaXNzaW5nTG5ncy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzeW5jLl9mZXRjaChtaXNzaW5nTG5ncywgb3B0aW9ucywgZnVuY3Rpb24oZXJyLCBmZXRjaGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZi5leHRlbmQoc3RvcmUsIGZldGNoZWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN5bmMuX3N0b3JlTG9jYWwoZmV0Y2hlZCk7XG4gICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2IobnVsbCwgc3RvcmUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYihudWxsLCBzdG9yZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc3luYy5fZmV0Y2gobG5ncywgb3B0aW9ucywgZnVuY3Rpb24oZXJyLCBzdG9yZSl7XG4gICAgICAgICAgICAgICAgICAgIGNiKG51bGwsIHN0b3JlKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICBcbiAgICAgICAgX2xvYWRMb2NhbDogZnVuY3Rpb24obG5ncywgb3B0aW9ucywgY2IpIHtcbiAgICAgICAgICAgIHZhciBzdG9yZSA9IHt9XG4gICAgICAgICAgICAgICwgbm93TVMgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICBcbiAgICAgICAgICAgIGlmKHdpbmRvdy5sb2NhbFN0b3JhZ2UpIHtcbiAgICBcbiAgICAgICAgICAgICAgICB2YXIgdG9kbyA9IGxuZ3MubGVuZ3RoO1xuICAgIFxuICAgICAgICAgICAgICAgIGYuZWFjaChsbmdzLCBmdW5jdGlvbihrZXksIGxuZykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbG9jYWwgPSBmLmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdyZXNfJyArIGxuZyk7XG4gICAgXG4gICAgICAgICAgICAgICAgICAgIGlmIChsb2NhbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgPSBKU09OLnBhcnNlKGxvY2FsKTtcbiAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsb2NhbC5pMThuU3RhbXAgJiYgbG9jYWwuaTE4blN0YW1wICsgb3B0aW9ucy5sb2NhbFN0b3JhZ2VFeHBpcmF0aW9uVGltZSA+IG5vd01TKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmVbbG5nXSA9IGxvY2FsO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICAgICAgICAgIHRvZG8tLTsgLy8gd2FpdCBmb3IgYWxsIGRvbmUgYmVmb3IgY2FsbGJhY2tcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRvZG8gPT09IDApIGNiKG51bGwsIHN0b3JlKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICBcbiAgICAgICAgX3N0b3JlTG9jYWw6IGZ1bmN0aW9uKHN0b3JlKSB7XG4gICAgICAgICAgICBpZih3aW5kb3cubG9jYWxTdG9yYWdlKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgbSBpbiBzdG9yZSkge1xuICAgICAgICAgICAgICAgICAgICBzdG9yZVttXS5pMThuU3RhbXAgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICAgICAgICAgICAgICAgICAgZi5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncmVzXycgKyBtLCBKU09OLnN0cmluZ2lmeShzdG9yZVttXSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSxcbiAgICBcbiAgICAgICAgX2ZldGNoOiBmdW5jdGlvbihsbmdzLCBvcHRpb25zLCBjYikge1xuICAgICAgICAgICAgdmFyIG5zID0gb3B0aW9ucy5uc1xuICAgICAgICAgICAgICAsIHN0b3JlID0ge307XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmICghb3B0aW9ucy5keW5hbWljTG9hZCkge1xuICAgICAgICAgICAgICAgIHZhciB0b2RvID0gbnMubmFtZXNwYWNlcy5sZW5ndGggKiBsbmdzLmxlbmd0aFxuICAgICAgICAgICAgICAgICAgLCBlcnJvcnM7XG4gICAgXG4gICAgICAgICAgICAgICAgLy8gbG9hZCBlYWNoIGZpbGUgaW5kaXZpZHVhbFxuICAgICAgICAgICAgICAgIGYuZWFjaChucy5uYW1lc3BhY2VzLCBmdW5jdGlvbihuc0luZGV4LCBuc1ZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGYuZWFjaChsbmdzLCBmdW5jdGlvbihsbmdJbmRleCwgbG5nVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2FsbCB0aGlzIG9uY2Ugb3VyIHRyYW5zbGF0aW9uIGhhcyByZXR1cm5lZC5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsb2FkQ29tcGxldGUgPSBmdW5jdGlvbihlcnIsIGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9ycyA9IGVycm9ycyB8fCBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JzLnB1c2goZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmVbbG5nVmFsdWVdID0gc3RvcmVbbG5nVmFsdWVdIHx8IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JlW2xuZ1ZhbHVlXVtuc1ZhbHVlXSA9IGRhdGE7XG4gICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9kby0tOyAvLyB3YWl0IGZvciBhbGwgZG9uZSBiZWZvciBjYWxsYmFja1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0b2RvID09PSAwKSBjYihlcnJvcnMsIHN0b3JlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHR5cGVvZiBvcHRpb25zLmN1c3RvbUxvYWQgPT0gJ2Z1bmN0aW9uJyl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXNlIHRoZSBzcGVjaWZpZWQgY3VzdG9tIGNhbGxiYWNrLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuY3VzdG9tTG9hZChsbmdWYWx1ZSwgbnNWYWx1ZSwgb3B0aW9ucywgbG9hZENvbXBsZXRlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9+IC8vIFVzZSBvdXIgaW5idWlsdCBzeW5jLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN5bmMuX2ZldGNoT25lKGxuZ1ZhbHVlLCBuc1ZhbHVlLCBvcHRpb25zLCBsb2FkQ29tcGxldGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gQ2FsbCB0aGlzIG9uY2Ugb3VyIHRyYW5zbGF0aW9uIGhhcyByZXR1cm5lZC5cbiAgICAgICAgICAgICAgICB2YXIgbG9hZENvbXBsZXRlID0gZnVuY3Rpb24oZXJyLCBkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIGNiKG51bGwsIGRhdGEpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgXG4gICAgICAgICAgICAgICAgaWYodHlwZW9mIG9wdGlvbnMuY3VzdG9tTG9hZCA9PSAnZnVuY3Rpb24nKXtcbiAgICAgICAgICAgICAgICAgICAgLy8gVXNlIHRoZSBzcGVjaWZpZWQgY3VzdG9tIGNhbGxiYWNrLlxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zLmN1c3RvbUxvYWQobG5ncywgbnMubmFtZXNwYWNlcywgb3B0aW9ucywgbG9hZENvbXBsZXRlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdXJsID0gYXBwbHlSZXBsYWNlbWVudChvcHRpb25zLnJlc0dldFBhdGgsIHsgbG5nOiBsbmdzLmpvaW4oJysnKSwgbnM6IG5zLm5hbWVzcGFjZXMuam9pbignKycpIH0pO1xuICAgICAgICAgICAgICAgICAgICAvLyBsb2FkIGFsbCBuZWVkZWQgc3R1ZmYgb25jZVxuICAgICAgICAgICAgICAgICAgICBmLmFqYXgoe1xuICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWNoZTogb3B0aW9ucy5jYWNoZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEsIHN0YXR1cywgeGhyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZi5sb2coJ2xvYWRlZDogJyArIHVybCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9hZENvbXBsZXRlKG51bGwsIGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yIDogZnVuY3Rpb24oeGhyLCBzdGF0dXMsIGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZi5sb2coJ2ZhaWxlZCBsb2FkaW5nOiAnICsgdXJsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2FkQ29tcGxldGUoJ2ZhaWxlZCBsb2FkaW5nIHJlc291cmNlLmpzb24gZXJyb3I6ICcgKyBlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVR5cGU6IFwianNvblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXN5bmMgOiBvcHRpb25zLmdldEFzeW5jLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGltZW91dDogb3B0aW9ucy5hamF4VGltZW91dFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9ICAgIFxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgIFxuICAgICAgICBfZmV0Y2hPbmU6IGZ1bmN0aW9uKGxuZywgbnMsIG9wdGlvbnMsIGRvbmUpIHtcbiAgICAgICAgICAgIHZhciB1cmwgPSBhcHBseVJlcGxhY2VtZW50KG9wdGlvbnMucmVzR2V0UGF0aCwgeyBsbmc6IGxuZywgbnM6IG5zIH0pO1xuICAgICAgICAgICAgZi5hamF4KHtcbiAgICAgICAgICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgICAgICAgICBjYWNoZTogb3B0aW9ucy5jYWNoZSxcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhLCBzdGF0dXMsIHhocikge1xuICAgICAgICAgICAgICAgICAgICBmLmxvZygnbG9hZGVkOiAnICsgdXJsKTtcbiAgICAgICAgICAgICAgICAgICAgZG9uZShudWxsLCBkYXRhKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGVycm9yIDogZnVuY3Rpb24oeGhyLCBzdGF0dXMsIGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICgoc3RhdHVzICYmIHN0YXR1cyA9PSAyMDApIHx8ICh4aHIgJiYgeGhyLnN0YXR1cyAmJiB4aHIuc3RhdHVzID09IDIwMCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGZpbGUgbG9hZGVkIGJ1dCBpbnZhbGlkIGpzb24sIHN0b3Agd2FzdGUgdGltZSAhXG4gICAgICAgICAgICAgICAgICAgICAgICBmLmVycm9yKCdUaGVyZSBpcyBhIHR5cG8gaW46ICcgKyB1cmwpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKChzdGF0dXMgJiYgc3RhdHVzID09IDQwNCkgfHwgKHhociAmJiB4aHIuc3RhdHVzICYmIHhoci5zdGF0dXMgPT0gNDA0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZi5sb2coJ0RvZXMgbm90IGV4aXN0OiAnICsgdXJsKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aGVTdGF0dXMgPSBzdGF0dXMgPyBzdGF0dXMgOiAoKHhociAmJiB4aHIuc3RhdHVzKSA/IHhoci5zdGF0dXMgOiBudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGYubG9nKHRoZVN0YXR1cyArICcgd2hlbiBsb2FkaW5nICcgKyB1cmwpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBkb25lKGVycm9yLCB7fSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBkYXRhVHlwZTogXCJqc29uXCIsXG4gICAgICAgICAgICAgICAgYXN5bmMgOiBvcHRpb25zLmdldEFzeW5jLFxuICAgICAgICAgICAgICAgIHRpbWVvdXQ6IG9wdGlvbnMuYWpheFRpbWVvdXRcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgIFxuICAgICAgICBwb3N0TWlzc2luZzogZnVuY3Rpb24obG5nLCBucywga2V5LCBkZWZhdWx0VmFsdWUsIGxuZ3MpIHtcbiAgICAgICAgICAgIHZhciBwYXlsb2FkID0ge307XG4gICAgICAgICAgICBwYXlsb2FkW2tleV0gPSBkZWZhdWx0VmFsdWU7XG4gICAgXG4gICAgICAgICAgICB2YXIgdXJscyA9IFtdO1xuICAgIFxuICAgICAgICAgICAgaWYgKG8uc2VuZE1pc3NpbmdUbyA9PT0gJ2ZhbGxiYWNrJyAmJiBvLmZhbGxiYWNrTG5nWzBdICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgby5mYWxsYmFja0xuZy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICB1cmxzLnB1c2goe2xuZzogby5mYWxsYmFja0xuZ1tpXSwgdXJsOiBhcHBseVJlcGxhY2VtZW50KG8ucmVzUG9zdFBhdGgsIHsgbG5nOiBvLmZhbGxiYWNrTG5nW2ldLCBuczogbnMgfSl9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG8uc2VuZE1pc3NpbmdUbyA9PT0gJ2N1cnJlbnQnIHx8IChvLnNlbmRNaXNzaW5nVG8gPT09ICdmYWxsYmFjaycgJiYgby5mYWxsYmFja0xuZ1swXSA9PT0gZmFsc2UpICkge1xuICAgICAgICAgICAgICAgIHVybHMucHVzaCh7bG5nOiBsbmcsIHVybDogYXBwbHlSZXBsYWNlbWVudChvLnJlc1Bvc3RQYXRoLCB7IGxuZzogbG5nLCBuczogbnMgfSl9KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoby5zZW5kTWlzc2luZ1RvID09PSAnYWxsJykge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gbG5ncy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdXJscy5wdXNoKHtsbmc6IGxuZ3NbaV0sIHVybDogYXBwbHlSZXBsYWNlbWVudChvLnJlc1Bvc3RQYXRoLCB7IGxuZzogbG5nc1tpXSwgbnM6IG5zIH0pfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgZm9yICh2YXIgeSA9IDAsIGxlbiA9IHVybHMubGVuZ3RoOyB5IDwgbGVuOyB5KyspIHtcbiAgICAgICAgICAgICAgICB2YXIgaXRlbSA9IHVybHNbeV07XG4gICAgICAgICAgICAgICAgZi5hamF4KHtcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBpdGVtLnVybCxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogby5zZW5kVHlwZSxcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogcGF5bG9hZCxcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSwgc3RhdHVzLCB4aHIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGYubG9nKCdwb3N0ZWQgbWlzc2luZyBrZXkgXFwnJyArIGtleSArICdcXCcgdG86ICcgKyBpdGVtLnVybCk7XG4gICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhZGQga2V5IHRvIHJlc1N0b3JlXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIga2V5cyA9IGtleS5zcGxpdCgnLicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHggPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gcmVzU3RvcmVbaXRlbS5sbmddW25zXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChrZXlzW3hdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHggPT09IGtleXMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlW2tleXNbeF1dID0gZGVmYXVsdFZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gdmFsdWVba2V5c1t4XV0gPSB2YWx1ZVtrZXlzW3hdXSB8fCB7fTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeCsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBlcnJvciA6IGZ1bmN0aW9uKHhociwgc3RhdHVzLCBlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgZi5sb2coJ2ZhaWxlZCBwb3N0aW5nIG1pc3Npbmcga2V5IFxcJycgKyBrZXkgKyAnXFwnIHRvOiAnICsgaXRlbS51cmwpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBkYXRhVHlwZTogXCJqc29uXCIsXG4gICAgICAgICAgICAgICAgICAgIGFzeW5jIDogby5wb3N0QXN5bmMsXG4gICAgICAgICAgICAgICAgICAgIHRpbWVvdXQ6IG8uYWpheFRpbWVvdXRcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICBcbiAgICAgICAgcmVsb2FkOiByZWxvYWRcbiAgICB9O1xuICAgIC8vIGRlZmF1bHRzXG4gICAgdmFyIG8gPSB7XG4gICAgICAgIGxuZzogdW5kZWZpbmVkLFxuICAgICAgICBsb2FkOiAnYWxsJyxcbiAgICAgICAgcHJlbG9hZDogW10sXG4gICAgICAgIGxvd2VyQ2FzZUxuZzogZmFsc2UsXG4gICAgICAgIHJldHVybk9iamVjdFRyZWVzOiBmYWxzZSxcbiAgICAgICAgZmFsbGJhY2tMbmc6IFsnZGV2J10sXG4gICAgICAgIGZhbGxiYWNrTlM6IFtdLFxuICAgICAgICBkZXRlY3RMbmdRUzogJ3NldExuZycsXG4gICAgICAgIGRldGVjdExuZ0Zyb21Mb2NhbFN0b3JhZ2U6IGZhbHNlLFxuICAgICAgICBuczoge1xuICAgICAgICAgICAgbmFtZXNwYWNlczogWyd0cmFuc2xhdGlvbiddLFxuICAgICAgICAgICAgZGVmYXVsdE5zOiAndHJhbnNsYXRpb24nXG4gICAgICAgIH0sXG4gICAgICAgIGZhbGxiYWNrT25OdWxsOiB0cnVlLFxuICAgICAgICBmYWxsYmFja09uRW1wdHk6IGZhbHNlLFxuICAgICAgICBmYWxsYmFja1RvRGVmYXVsdE5TOiBmYWxzZSxcbiAgICAgICAgc2hvd0tleUlmRW1wdHk6IGZhbHNlLFxuICAgICAgICBuc3NlcGFyYXRvcjogJzonLFxuICAgICAgICBrZXlzZXBhcmF0b3I6ICcuJyxcbiAgICAgICAgc2VsZWN0b3JBdHRyOiAnZGF0YS1pMThuJyxcbiAgICAgICAgZGVidWc6IGZhbHNlLFxuICAgIFxuICAgICAgICByZXNHZXRQYXRoOiAnbG9jYWxlcy9fX2xuZ19fL19fbnNfXy5qc29uJyxcbiAgICAgICAgcmVzUG9zdFBhdGg6ICdsb2NhbGVzL2FkZC9fX2xuZ19fL19fbnNfXycsXG4gICAgXG4gICAgICAgIGdldEFzeW5jOiB0cnVlLFxuICAgICAgICBwb3N0QXN5bmM6IHRydWUsXG4gICAgXG4gICAgICAgIHJlc1N0b3JlOiB1bmRlZmluZWQsXG4gICAgICAgIHVzZUxvY2FsU3RvcmFnZTogZmFsc2UsXG4gICAgICAgIGxvY2FsU3RvcmFnZUV4cGlyYXRpb25UaW1lOiA3KjI0KjYwKjYwKjEwMDAsXG4gICAgXG4gICAgICAgIGR5bmFtaWNMb2FkOiBmYWxzZSxcbiAgICAgICAgc2VuZE1pc3Npbmc6IGZhbHNlLFxuICAgICAgICBzZW5kTWlzc2luZ1RvOiAnZmFsbGJhY2snLCAvLyBjdXJyZW50IHwgYWxsXG4gICAgICAgIHNlbmRUeXBlOiAnUE9TVCcsXG4gICAgXG4gICAgICAgIGludGVycG9sYXRpb25QcmVmaXg6ICdfXycsXG4gICAgICAgIGludGVycG9sYXRpb25TdWZmaXg6ICdfXycsXG4gICAgICAgIGRlZmF1bHRWYXJpYWJsZXM6IGZhbHNlLFxuICAgICAgICByZXVzZVByZWZpeDogJyR0KCcsXG4gICAgICAgIHJldXNlU3VmZml4OiAnKScsXG4gICAgICAgIHBsdXJhbFN1ZmZpeDogJ19wbHVyYWwnLFxuICAgICAgICBwbHVyYWxOb3RGb3VuZDogWydwbHVyYWxfbm90X2ZvdW5kJywgTWF0aC5yYW5kb20oKV0uam9pbignJyksXG4gICAgICAgIGNvbnRleHROb3RGb3VuZDogWydjb250ZXh0X25vdF9mb3VuZCcsIE1hdGgucmFuZG9tKCldLmpvaW4oJycpLFxuICAgICAgICBlc2NhcGVJbnRlcnBvbGF0aW9uOiBmYWxzZSxcbiAgICAgICAgaW5kZWZpbml0ZVN1ZmZpeDogJ19pbmRlZmluaXRlJyxcbiAgICAgICAgaW5kZWZpbml0ZU5vdEZvdW5kOiBbJ2luZGVmaW5pdGVfbm90X2ZvdW5kJywgTWF0aC5yYW5kb20oKV0uam9pbignJyksXG4gICAgXG4gICAgICAgIHNldEpxdWVyeUV4dDogdHJ1ZSxcbiAgICAgICAgZGVmYXVsdFZhbHVlRnJvbUNvbnRlbnQ6IHRydWUsXG4gICAgICAgIHVzZURhdGFBdHRyT3B0aW9uczogZmFsc2UsXG4gICAgICAgIGNvb2tpZUV4cGlyYXRpb25UaW1lOiB1bmRlZmluZWQsXG4gICAgICAgIHVzZUNvb2tpZTogdHJ1ZSxcbiAgICAgICAgY29va2llTmFtZTogJ2kxOG5leHQnLFxuICAgICAgICBjb29raWVEb21haW46IHVuZGVmaW5lZCxcbiAgICBcbiAgICAgICAgb2JqZWN0VHJlZUtleUhhbmRsZXI6IHVuZGVmaW5lZCxcbiAgICAgICAgcG9zdFByb2Nlc3M6IHVuZGVmaW5lZCxcbiAgICAgICAgcGFyc2VNaXNzaW5nS2V5OiB1bmRlZmluZWQsXG4gICAgICAgIG1pc3NpbmdLZXlIYW5kbGVyOiBzeW5jLnBvc3RNaXNzaW5nLFxuICAgICAgICBhamF4VGltZW91dDogMCxcbiAgICBcbiAgICAgICAgc2hvcnRjdXRGdW5jdGlvbjogJ3NwcmludGYnIC8vIG9yOiBkZWZhdWx0VmFsdWVcbiAgICB9O1xuICAgIGZ1bmN0aW9uIF9leHRlbmQodGFyZ2V0LCBzb3VyY2UpIHtcbiAgICAgICAgaWYgKCFzb3VyY2UgfHwgdHlwZW9mIHNvdXJjZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICAgICAgfVxuICAgIFxuICAgICAgICBmb3IgKHZhciBhdHRyIGluIHNvdXJjZSkgeyB0YXJnZXRbYXR0cl0gPSBzb3VyY2VbYXR0cl07IH1cbiAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICB9XG4gICAgXG4gICAgZnVuY3Rpb24gX2RlZXBFeHRlbmQodGFyZ2V0LCBzb3VyY2UpIHtcbiAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBzb3VyY2UpXG4gICAgICAgICAgICBpZiAocHJvcCBpbiB0YXJnZXQpXG4gICAgICAgICAgICAgICAgX2RlZXBFeHRlbmQodGFyZ2V0W3Byb3BdLCBzb3VyY2VbcHJvcF0pO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHRhcmdldFtwcm9wXSA9IHNvdXJjZVtwcm9wXTtcbiAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICB9XG4gICAgXG4gICAgZnVuY3Rpb24gX2VhY2gob2JqZWN0LCBjYWxsYmFjaywgYXJncykge1xuICAgICAgICB2YXIgbmFtZSwgaSA9IDAsXG4gICAgICAgICAgICBsZW5ndGggPSBvYmplY3QubGVuZ3RoLFxuICAgICAgICAgICAgaXNPYmogPSBsZW5ndGggPT09IHVuZGVmaW5lZCB8fCBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmFwcGx5KG9iamVjdCkgIT09ICdbb2JqZWN0IEFycmF5XScgfHwgdHlwZW9mIG9iamVjdCA9PT0gXCJmdW5jdGlvblwiO1xuICAgIFxuICAgICAgICBpZiAoYXJncykge1xuICAgICAgICAgICAgaWYgKGlzT2JqKSB7XG4gICAgICAgICAgICAgICAgZm9yIChuYW1lIGluIG9iamVjdCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2suYXBwbHkob2JqZWN0W25hbWVdLCBhcmdzKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBmb3IgKCA7IGkgPCBsZW5ndGg7ICkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2suYXBwbHkob2JqZWN0W2krK10sIGFyZ3MpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgXG4gICAgICAgIC8vIEEgc3BlY2lhbCwgZmFzdCwgY2FzZSBmb3IgdGhlIG1vc3QgY29tbW9uIHVzZSBvZiBlYWNoXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoaXNPYmopIHtcbiAgICAgICAgICAgICAgICBmb3IgKG5hbWUgaW4gb2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjYWxsYmFjay5jYWxsKG9iamVjdFtuYW1lXSwgbmFtZSwgb2JqZWN0W25hbWVdKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBmb3IgKCA7IGkgPCBsZW5ndGg7ICkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2suY2FsbChvYmplY3RbaV0sIGksIG9iamVjdFtpKytdKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgXG4gICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfVxuICAgIFxuICAgIHZhciBfZW50aXR5TWFwID0ge1xuICAgICAgICBcIiZcIjogXCImYW1wO1wiLFxuICAgICAgICBcIjxcIjogXCImbHQ7XCIsXG4gICAgICAgIFwiPlwiOiBcIiZndDtcIixcbiAgICAgICAgJ1wiJzogJyZxdW90OycsXG4gICAgICAgIFwiJ1wiOiAnJiMzOTsnLFxuICAgICAgICBcIi9cIjogJyYjeDJGOydcbiAgICB9O1xuICAgIFxuICAgIGZ1bmN0aW9uIF9lc2NhcGUoZGF0YSkge1xuICAgICAgICBpZiAodHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICByZXR1cm4gZGF0YS5yZXBsYWNlKC9bJjw+XCInXFwvXS9nLCBmdW5jdGlvbiAocykge1xuICAgICAgICAgICAgICAgIHJldHVybiBfZW50aXR5TWFwW3NdO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgZnVuY3Rpb24gX2FqYXgob3B0aW9ucykge1xuICAgIFxuICAgICAgICAvLyB2MC41LjAgb2YgaHR0cHM6Ly9naXRodWIuY29tL2dvbG9yb2Rlbi9odHRwLmpzXG4gICAgICAgIHZhciBnZXRYaHIgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgIC8vIFVzZSB0aGUgbmF0aXZlIFhIUiBvYmplY3QgaWYgdGhlIGJyb3dzZXIgc3VwcG9ydHMgaXQuXG4gICAgICAgICAgICBpZiAod2luZG93LlhNTEh0dHBSZXF1ZXN0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKG51bGwsIG5ldyBYTUxIdHRwUmVxdWVzdCgpKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAod2luZG93LkFjdGl2ZVhPYmplY3QpIHtcbiAgICAgICAgICAgICAgICAvLyBJbiBJbnRlcm5ldCBFeHBsb3JlciBjaGVjayBmb3IgQWN0aXZlWCB2ZXJzaW9ucyBvZiB0aGUgWEhSIG9iamVjdC5cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2FsbGJhY2sobnVsbCwgbmV3IEFjdGl2ZVhPYmplY3QoXCJNc3htbDIuWE1MSFRUUFwiKSk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2FsbGJhY2sobnVsbCwgbmV3IEFjdGl2ZVhPYmplY3QoXCJNaWNyb3NvZnQuWE1MSFRUUFwiKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgLy8gSWYgbm8gWEhSIHN1cHBvcnQgd2FzIGZvdW5kLCB0aHJvdyBhbiBlcnJvci5cbiAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayhuZXcgRXJyb3IoKSk7XG4gICAgICAgIH07XG4gICAgXG4gICAgICAgIHZhciBlbmNvZGVVc2luZ1VybEVuY29kaW5nID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgIGlmKHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgICAgICAgICAgZm9yKHZhciBkYXRhSXRlbSBpbiBkYXRhKSB7XG4gICAgICAgICAgICAgICAgaWYoZGF0YS5oYXNPd25Qcm9wZXJ0eShkYXRhSXRlbSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goZW5jb2RlVVJJQ29tcG9uZW50KGRhdGFJdGVtKSArICc9JyArIGVuY29kZVVSSUNvbXBvbmVudChkYXRhW2RhdGFJdGVtXSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQuam9pbignJicpO1xuICAgICAgICB9O1xuICAgIFxuICAgICAgICB2YXIgdXRmOCA9IGZ1bmN0aW9uICh0ZXh0KSB7XG4gICAgICAgICAgICB0ZXh0ID0gdGV4dC5yZXBsYWNlKC9cXHJcXG4vZywgJ1xcbicpO1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9ICcnO1xuICAgIFxuICAgICAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IHRleHQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgYyA9IHRleHQuY2hhckNvZGVBdChpKTtcbiAgICBcbiAgICAgICAgICAgICAgICBpZihjIDwgMTI4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShjKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYoKGMgPiAxMjcpICYmIChjIDwgMjA0OCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKChjID4+IDYpIHwgMTkyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKChjICYgNjMpIHwgMTI4KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoKGMgPj4gMTIpIHwgMjI0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKCgoYyA+PiA2KSAmIDYzKSB8IDEyOCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZSgoYyAmIDYzKSB8IDEyOCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfTtcbiAgICBcbiAgICAgICAgdmFyIGJhc2U2NCA9IGZ1bmN0aW9uICh0ZXh0KSB7XG4gICAgICAgICAgICB2YXIga2V5U3RyID0gJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky89JztcbiAgICBcbiAgICAgICAgICAgIHRleHQgPSB1dGY4KHRleHQpO1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9ICcnLFxuICAgICAgICAgICAgICAgICAgICBjaHIxLCBjaHIyLCBjaHIzLFxuICAgICAgICAgICAgICAgICAgICBlbmMxLCBlbmMyLCBlbmMzLCBlbmM0LFxuICAgICAgICAgICAgICAgICAgICBpID0gMDtcbiAgICBcbiAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICBjaHIxID0gdGV4dC5jaGFyQ29kZUF0KGkrKyk7XG4gICAgICAgICAgICAgICAgY2hyMiA9IHRleHQuY2hhckNvZGVBdChpKyspO1xuICAgICAgICAgICAgICAgIGNocjMgPSB0ZXh0LmNoYXJDb2RlQXQoaSsrKTtcbiAgICBcbiAgICAgICAgICAgICAgICBlbmMxID0gY2hyMSA+PiAyO1xuICAgICAgICAgICAgICAgIGVuYzIgPSAoKGNocjEgJiAzKSA8PCA0KSB8IChjaHIyID4+IDQpO1xuICAgICAgICAgICAgICAgIGVuYzMgPSAoKGNocjIgJiAxNSkgPDwgMikgfCAoY2hyMyA+PiA2KTtcbiAgICAgICAgICAgICAgICBlbmM0ID0gY2hyMyAmIDYzO1xuICAgIFxuICAgICAgICAgICAgICAgIGlmKGlzTmFOKGNocjIpKSB7XG4gICAgICAgICAgICAgICAgICAgIGVuYzMgPSBlbmM0ID0gNjQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmKGlzTmFOKGNocjMpKSB7XG4gICAgICAgICAgICAgICAgICAgIGVuYzQgPSA2NDtcbiAgICAgICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICAgICAgcmVzdWx0ICs9XG4gICAgICAgICAgICAgICAgICAgIGtleVN0ci5jaGFyQXQoZW5jMSkgK1xuICAgICAgICAgICAgICAgICAgICBrZXlTdHIuY2hhckF0KGVuYzIpICtcbiAgICAgICAgICAgICAgICAgICAga2V5U3RyLmNoYXJBdChlbmMzKSArXG4gICAgICAgICAgICAgICAgICAgIGtleVN0ci5jaGFyQXQoZW5jNCk7XG4gICAgICAgICAgICAgICAgY2hyMSA9IGNocjIgPSBjaHIzID0gJyc7XG4gICAgICAgICAgICAgICAgZW5jMSA9IGVuYzIgPSBlbmMzID0gZW5jNCA9ICcnO1xuICAgICAgICAgICAgfSB3aGlsZShpIDwgdGV4dC5sZW5ndGgpO1xuICAgIFxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfTtcbiAgICBcbiAgICAgICAgdmFyIG1lcmdlSGVhZGVycyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8vIFVzZSB0aGUgZmlyc3QgaGVhZGVyIG9iamVjdCBhcyBiYXNlLlxuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGFyZ3VtZW50c1swXTtcbiAgICBcbiAgICAgICAgICAgIC8vIEl0ZXJhdGUgdGhyb3VnaCB0aGUgcmVtYWluaW5nIGhlYWRlciBvYmplY3RzIGFuZCBhZGQgdGhlbS5cbiAgICAgICAgICAgIGZvcih2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgY3VycmVudEhlYWRlcnMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICAgICAgZm9yKHZhciBoZWFkZXIgaW4gY3VycmVudEhlYWRlcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYoY3VycmVudEhlYWRlcnMuaGFzT3duUHJvcGVydHkoaGVhZGVyKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0W2hlYWRlcl0gPSBjdXJyZW50SGVhZGVyc1toZWFkZXJdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgLy8gUmV0dXJuIHRoZSBtZXJnZWQgaGVhZGVycy5cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH07XG4gICAgXG4gICAgICAgIHZhciBhamF4ID0gZnVuY3Rpb24gKG1ldGhvZCwgdXJsLCBvcHRpb25zLCBjYWxsYmFjaykge1xuICAgICAgICAgICAgLy8gQWRqdXN0IHBhcmFtZXRlcnMuXG4gICAgICAgICAgICBpZih0eXBlb2Ygb3B0aW9ucyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrID0gb3B0aW9ucztcbiAgICAgICAgICAgICAgICBvcHRpb25zID0ge307XG4gICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICAvLyBTZXQgZGVmYXVsdCBwYXJhbWV0ZXIgdmFsdWVzLlxuICAgICAgICAgICAgb3B0aW9ucy5jYWNoZSA9IG9wdGlvbnMuY2FjaGUgfHwgZmFsc2U7XG4gICAgICAgICAgICBvcHRpb25zLmRhdGEgPSBvcHRpb25zLmRhdGEgfHwge307XG4gICAgICAgICAgICBvcHRpb25zLmhlYWRlcnMgPSBvcHRpb25zLmhlYWRlcnMgfHwge307XG4gICAgICAgICAgICBvcHRpb25zLmpzb25wID0gb3B0aW9ucy5qc29ucCB8fCBmYWxzZTtcbiAgICAgICAgICAgIG9wdGlvbnMuYXN5bmMgPSBvcHRpb25zLmFzeW5jID09PSB1bmRlZmluZWQgPyB0cnVlIDogb3B0aW9ucy5hc3luYztcbiAgICBcbiAgICAgICAgICAgIC8vIE1lcmdlIHRoZSB2YXJpb3VzIGhlYWRlciBvYmplY3RzLlxuICAgICAgICAgICAgdmFyIGhlYWRlcnMgPSBtZXJnZUhlYWRlcnMoe1xuICAgICAgICAgICAgICAgICdhY2NlcHQnOiAnKi8qJyxcbiAgICAgICAgICAgICAgICAnY29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDtjaGFyc2V0PVVURi04J1xuICAgICAgICAgICAgfSwgYWpheC5oZWFkZXJzLCBvcHRpb25zLmhlYWRlcnMpO1xuICAgIFxuICAgICAgICAgICAgLy8gRW5jb2RlIHRoZSBkYXRhIGFjY29yZGluZyB0byB0aGUgY29udGVudC10eXBlLlxuICAgICAgICAgICAgdmFyIHBheWxvYWQ7XG4gICAgICAgICAgICBpZiAoaGVhZGVyc1snY29udGVudC10eXBlJ10gPT09ICdhcHBsaWNhdGlvbi9qc29uJykge1xuICAgICAgICAgICAgICAgIHBheWxvYWQgPSBKU09OLnN0cmluZ2lmeShvcHRpb25zLmRhdGEpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwYXlsb2FkID0gZW5jb2RlVXNpbmdVcmxFbmNvZGluZyhvcHRpb25zLmRhdGEpO1xuICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgLy8gU3BlY2lhbGx5IHByZXBhcmUgR0VUIHJlcXVlc3RzOiBTZXR1cCB0aGUgcXVlcnkgc3RyaW5nLCBoYW5kbGUgY2FjaGluZyBhbmQgbWFrZSBhIEpTT05QIGNhbGxcbiAgICAgICAgICAgIC8vIGlmIG5lY2Nlc3NhcnkuXG4gICAgICAgICAgICBpZihtZXRob2QgPT09ICdHRVQnKSB7XG4gICAgICAgICAgICAgICAgLy8gU2V0dXAgdGhlIHF1ZXJ5IHN0cmluZy5cbiAgICAgICAgICAgICAgICB2YXIgcXVlcnlTdHJpbmcgPSBbXTtcbiAgICAgICAgICAgICAgICBpZihwYXlsb2FkKSB7XG4gICAgICAgICAgICAgICAgICAgIHF1ZXJ5U3RyaW5nLnB1c2gocGF5bG9hZCk7XG4gICAgICAgICAgICAgICAgICAgIHBheWxvYWQgPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgICAgICAvLyBIYW5kbGUgY2FjaGluZy5cbiAgICAgICAgICAgICAgICBpZighb3B0aW9ucy5jYWNoZSkge1xuICAgICAgICAgICAgICAgICAgICBxdWVyeVN0cmluZy5wdXNoKCdfPScgKyAobmV3IERhdGUoKSkuZ2V0VGltZSgpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICAgICAgLy8gSWYgbmVjY2Vzc2FyeSBwcmVwYXJlIHRoZSBxdWVyeSBzdHJpbmcgZm9yIGEgSlNPTlAgY2FsbC5cbiAgICAgICAgICAgICAgICBpZihvcHRpb25zLmpzb25wKSB7XG4gICAgICAgICAgICAgICAgICAgIHF1ZXJ5U3RyaW5nLnB1c2goJ2NhbGxiYWNrPScgKyBvcHRpb25zLmpzb25wKTtcbiAgICAgICAgICAgICAgICAgICAgcXVlcnlTdHJpbmcucHVzaCgnanNvbnA9JyArIG9wdGlvbnMuanNvbnApO1xuICAgICAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgICAgICAvLyBNZXJnZSB0aGUgcXVlcnkgc3RyaW5nIGFuZCBhdHRhY2ggaXQgdG8gdGhlIHVybC5cbiAgICAgICAgICAgICAgICBxdWVyeVN0cmluZyA9IHF1ZXJ5U3RyaW5nLmpvaW4oJyYnKTtcbiAgICAgICAgICAgICAgICBpZiAocXVlcnlTdHJpbmcubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodXJsLmluZGV4T2YoJz8nKSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB1cmwgKz0gJyYnICsgcXVlcnlTdHJpbmc7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB1cmwgKz0gJz8nICsgcXVlcnlTdHJpbmc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICAgICAgLy8gTWFrZSBhIEpTT05QIGNhbGwgaWYgbmVjY2Vzc2FyeS5cbiAgICAgICAgICAgICAgICBpZihvcHRpb25zLmpzb25wKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBoZWFkID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2hlYWQnKVswXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuICAgICAgICAgICAgICAgICAgICBzY3JpcHQudHlwZSA9ICd0ZXh0L2phdmFzY3JpcHQnO1xuICAgICAgICAgICAgICAgICAgICBzY3JpcHQuc3JjID0gdXJsO1xuICAgICAgICAgICAgICAgICAgICBoZWFkLmFwcGVuZENoaWxkKHNjcmlwdCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICAvLyBTaW5jZSB3ZSBnb3QgaGVyZSwgaXQgaXMgbm8gSlNPTlAgcmVxdWVzdCwgc28gbWFrZSBhIG5vcm1hbCBYSFIgcmVxdWVzdC5cbiAgICAgICAgICAgIGdldFhocihmdW5jdGlvbiAoZXJyLCB4aHIpIHtcbiAgICAgICAgICAgICAgICBpZihlcnIpIHJldHVybiBjYWxsYmFjayhlcnIpO1xuICAgIFxuICAgICAgICAgICAgICAgIC8vIE9wZW4gdGhlIHJlcXVlc3QuXG4gICAgICAgICAgICAgICAgeGhyLm9wZW4obWV0aG9kLCB1cmwsIG9wdGlvbnMuYXN5bmMpO1xuICAgIFxuICAgICAgICAgICAgICAgIC8vIFNldCB0aGUgcmVxdWVzdCBoZWFkZXJzLlxuICAgICAgICAgICAgICAgIGZvcih2YXIgaGVhZGVyIGluIGhlYWRlcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYoaGVhZGVycy5oYXNPd25Qcm9wZXJ0eShoZWFkZXIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihoZWFkZXIsIGhlYWRlcnNbaGVhZGVyXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICAgICAgLy8gSGFuZGxlIHRoZSByZXF1ZXN0IGV2ZW50cy5cbiAgICAgICAgICAgICAgICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBpZih4aHIucmVhZHlTdGF0ZSA9PT0gNCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSB4aHIucmVzcG9uc2VUZXh0IHx8ICcnO1xuICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgbm8gY2FsbGJhY2sgaXMgZ2l2ZW4sIHJldHVybi5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCFjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJldHVybiBhbiBvYmplY3QgdGhhdCBwcm92aWRlcyBhY2Nlc3MgdG8gdGhlIGRhdGEgYXMgdGV4dCBhbmQgSlNPTi5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKHhoci5zdGF0dXMsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoZGF0YSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZi5lcnJvcignQ2FuIG5vdCBwYXJzZSBKU09OLiBVUkw6ICcgKyB1cmwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgIFxuICAgICAgICAgICAgICAgIC8vIEFjdHVhbGx5IHNlbmQgdGhlIFhIUiByZXF1ZXN0LlxuICAgICAgICAgICAgICAgIHhoci5zZW5kKHBheWxvYWQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgXG4gICAgICAgIC8vIERlZmluZSB0aGUgZXh0ZXJuYWwgaW50ZXJmYWNlLlxuICAgICAgICB2YXIgaHR0cCA9IHtcbiAgICAgICAgICAgIGF1dGhCYXNpYzogZnVuY3Rpb24gKHVzZXJuYW1lLCBwYXNzd29yZCkge1xuICAgICAgICAgICAgICAgIGFqYXguaGVhZGVyc1snQXV0aG9yaXphdGlvbiddID0gJ0Jhc2ljICcgKyBiYXNlNjQodXNlcm5hbWUgKyAnOicgKyBwYXNzd29yZCk7XG4gICAgICAgICAgICB9LFxuICAgIFxuICAgICAgICAgICAgY29ubmVjdDogZnVuY3Rpb24gKHVybCwgb3B0aW9ucywgY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYWpheCgnQ09OTkVDVCcsIHVybCwgb3B0aW9ucywgY2FsbGJhY2spO1xuICAgICAgICAgICAgfSxcbiAgICBcbiAgICAgICAgICAgIGRlbDogZnVuY3Rpb24gKHVybCwgb3B0aW9ucywgY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYWpheCgnREVMRVRFJywgdXJsLCBvcHRpb25zLCBjYWxsYmFjayk7XG4gICAgICAgICAgICB9LFxuICAgIFxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAodXJsLCBvcHRpb25zLCBjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIHJldHVybiBhamF4KCdHRVQnLCB1cmwsIG9wdGlvbnMsIGNhbGxiYWNrKTtcbiAgICAgICAgICAgIH0sXG4gICAgXG4gICAgICAgICAgICBoZWFkOiBmdW5jdGlvbiAodXJsLCBvcHRpb25zLCBjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIHJldHVybiBhamF4KCdIRUFEJywgdXJsLCBvcHRpb25zLCBjYWxsYmFjayk7XG4gICAgICAgICAgICB9LFxuICAgIFxuICAgICAgICAgICAgaGVhZGVyczogZnVuY3Rpb24gKGhlYWRlcnMpIHtcbiAgICAgICAgICAgICAgICBhamF4LmhlYWRlcnMgPSBoZWFkZXJzIHx8IHt9O1xuICAgICAgICAgICAgfSxcbiAgICBcbiAgICAgICAgICAgIGlzQWxsb3dlZDogZnVuY3Rpb24gKHVybCwgdmVyYiwgY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnModXJsLCBmdW5jdGlvbiAoc3RhdHVzLCBkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGRhdGEudGV4dCgpLmluZGV4T2YodmVyYikgIT09IC0xKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgXG4gICAgICAgICAgICBvcHRpb25zOiBmdW5jdGlvbiAodXJsLCBvcHRpb25zLCBjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIHJldHVybiBhamF4KCdPUFRJT05TJywgdXJsLCBvcHRpb25zLCBjYWxsYmFjayk7XG4gICAgICAgICAgICB9LFxuICAgIFxuICAgICAgICAgICAgcGF0Y2g6IGZ1bmN0aW9uICh1cmwsIG9wdGlvbnMsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFqYXgoJ1BBVENIJywgdXJsLCBvcHRpb25zLCBjYWxsYmFjayk7XG4gICAgICAgICAgICB9LFxuICAgIFxuICAgICAgICAgICAgcG9zdDogZnVuY3Rpb24gKHVybCwgb3B0aW9ucywgY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYWpheCgnUE9TVCcsIHVybCwgb3B0aW9ucywgY2FsbGJhY2spO1xuICAgICAgICAgICAgfSxcbiAgICBcbiAgICAgICAgICAgIHB1dDogZnVuY3Rpb24gKHVybCwgb3B0aW9ucywgY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYWpheCgnUFVUJywgdXJsLCBvcHRpb25zLCBjYWxsYmFjayk7XG4gICAgICAgICAgICB9LFxuICAgIFxuICAgICAgICAgICAgdHJhY2U6IGZ1bmN0aW9uICh1cmwsIG9wdGlvbnMsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFqYXgoJ1RSQUNFJywgdXJsLCBvcHRpb25zLCBjYWxsYmFjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgXG4gICAgXG4gICAgICAgIHZhciBtZXRob2RlID0gb3B0aW9ucy50eXBlID8gb3B0aW9ucy50eXBlLnRvTG93ZXJDYXNlKCkgOiAnZ2V0JztcbiAgICBcbiAgICAgICAgaHR0cFttZXRob2RlXShvcHRpb25zLnVybCwgb3B0aW9ucywgZnVuY3Rpb24gKHN0YXR1cywgZGF0YSkge1xuICAgICAgICAgICAgLy8gZmlsZTogcHJvdG9jb2wgYWx3YXlzIGdpdmVzIHN0YXR1cyBjb2RlIDAsIHNvIGNoZWNrIGZvciBkYXRhXG4gICAgICAgICAgICBpZiAoc3RhdHVzID09PSAyMDAgfHwgKHN0YXR1cyA9PT0gMCAmJiBkYXRhLnRleHQoKSkpIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zLnN1Y2Nlc3MoZGF0YS5qc29uKCksIHN0YXR1cywgbnVsbCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMuZXJyb3IoZGF0YS50ZXh0KCksIHN0YXR1cywgbnVsbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBcbiAgICB2YXIgX2Nvb2tpZSA9IHtcbiAgICAgICAgY3JlYXRlOiBmdW5jdGlvbihuYW1lLHZhbHVlLG1pbnV0ZXMsZG9tYWluKSB7XG4gICAgICAgICAgICB2YXIgZXhwaXJlcztcbiAgICAgICAgICAgIGlmIChtaW51dGVzKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgICAgICAgIGRhdGUuc2V0VGltZShkYXRlLmdldFRpbWUoKSsobWludXRlcyo2MCoxMDAwKSk7XG4gICAgICAgICAgICAgICAgZXhwaXJlcyA9IFwiOyBleHBpcmVzPVwiK2RhdGUudG9HTVRTdHJpbmcoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgZXhwaXJlcyA9IFwiXCI7XG4gICAgICAgICAgICBkb21haW4gPSAoZG9tYWluKT8gXCJkb21haW49XCIrZG9tYWluK1wiO1wiIDogXCJcIjtcbiAgICAgICAgICAgIGRvY3VtZW50LmNvb2tpZSA9IG5hbWUrXCI9XCIrdmFsdWUrZXhwaXJlcytcIjtcIitkb21haW4rXCJwYXRoPS9cIjtcbiAgICAgICAgfSxcbiAgICBcbiAgICAgICAgcmVhZDogZnVuY3Rpb24obmFtZSkge1xuICAgICAgICAgICAgdmFyIG5hbWVFUSA9IG5hbWUgKyBcIj1cIjtcbiAgICAgICAgICAgIHZhciBjYSA9IGRvY3VtZW50LmNvb2tpZS5zcGxpdCgnOycpO1xuICAgICAgICAgICAgZm9yKHZhciBpPTA7aSA8IGNhLmxlbmd0aDtpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgYyA9IGNhW2ldO1xuICAgICAgICAgICAgICAgIHdoaWxlIChjLmNoYXJBdCgwKT09JyAnKSBjID0gYy5zdWJzdHJpbmcoMSxjLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgaWYgKGMuaW5kZXhPZihuYW1lRVEpID09PSAwKSByZXR1cm4gYy5zdWJzdHJpbmcobmFtZUVRLmxlbmd0aCxjLmxlbmd0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfSxcbiAgICBcbiAgICAgICAgcmVtb3ZlOiBmdW5jdGlvbihuYW1lKSB7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZShuYW1lLFwiXCIsLTEpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBcbiAgICB2YXIgY29va2llX25vb3AgPSB7XG4gICAgICAgIGNyZWF0ZTogZnVuY3Rpb24obmFtZSx2YWx1ZSxtaW51dGVzLGRvbWFpbikge30sXG4gICAgICAgIHJlYWQ6IGZ1bmN0aW9uKG5hbWUpIHsgcmV0dXJuIG51bGw7IH0sXG4gICAgICAgIHJlbW92ZTogZnVuY3Rpb24obmFtZSkge31cbiAgICB9O1xuICAgIFxuICAgIFxuICAgIFxuICAgIC8vIG1vdmUgZGVwZW5kZW50IGZ1bmN0aW9ucyB0byBhIGNvbnRhaW5lciBzbyB0aGF0XG4gICAgLy8gdGhleSBjYW4gYmUgb3ZlcnJpZGVuIGVhc2llciBpbiBubyBqcXVlcnkgZW52aXJvbm1lbnQgKG5vZGUuanMpXG4gICAgdmFyIGYgPSB7XG4gICAgICAgIGV4dGVuZDogJCA/ICQuZXh0ZW5kIDogX2V4dGVuZCxcbiAgICAgICAgZGVlcEV4dGVuZDogX2RlZXBFeHRlbmQsXG4gICAgICAgIGVhY2g6ICQgPyAkLmVhY2ggOiBfZWFjaCxcbiAgICAgICAgYWpheDogJCA/ICQuYWpheCA6ICh0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnID8gX2FqYXggOiBmdW5jdGlvbigpIHt9KSxcbiAgICAgICAgY29va2llOiB0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnID8gX2Nvb2tpZSA6IGNvb2tpZV9ub29wLFxuICAgICAgICBkZXRlY3RMYW5ndWFnZTogZGV0ZWN0TGFuZ3VhZ2UsXG4gICAgICAgIGVzY2FwZTogX2VzY2FwZSxcbiAgICAgICAgbG9nOiBmdW5jdGlvbihzdHIpIHtcbiAgICAgICAgICAgIGlmIChvLmRlYnVnICYmIHR5cGVvZiBjb25zb2xlICE9PSBcInVuZGVmaW5lZFwiKSBjb25zb2xlLmxvZyhzdHIpO1xuICAgICAgICB9LFxuICAgICAgICBlcnJvcjogZnVuY3Rpb24oc3RyKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGNvbnNvbGUgIT09IFwidW5kZWZpbmVkXCIpIGNvbnNvbGUuZXJyb3Ioc3RyKTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0Q291bnR5SW5kZXhPZkxuZzogZnVuY3Rpb24obG5nKSB7XG4gICAgICAgICAgICB2YXIgbG5nX2luZGV4ID0gMDtcbiAgICAgICAgICAgIGlmIChsbmcgPT09ICduYi1OTycgfHwgbG5nID09PSAnbm4tTk8nIHx8IGxuZyA9PT0gJ25iLW5vJyB8fCBsbmcgPT09ICdubi1ubycpIGxuZ19pbmRleCA9IDE7XG4gICAgICAgICAgICByZXR1cm4gbG5nX2luZGV4O1xuICAgICAgICB9LFxuICAgICAgICB0b0xhbmd1YWdlczogZnVuY3Rpb24obG5nKSB7XG4gICAgICAgICAgICB2YXIgbG9nID0gdGhpcy5sb2c7XG4gICAgXG4gICAgICAgICAgICBmdW5jdGlvbiBhcHBseUNhc2UobCkge1xuICAgICAgICAgICAgICAgIHZhciByZXQgPSBsO1xuICAgIFxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbCA9PT0gJ3N0cmluZycgJiYgbC5pbmRleE9mKCctJykgPiAtMSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcGFydHMgPSBsLnNwbGl0KCctJyk7XG4gICAgXG4gICAgICAgICAgICAgICAgICAgIHJldCA9IG8ubG93ZXJDYXNlTG5nID9cbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnRzWzBdLnRvTG93ZXJDYXNlKCkgKyAgJy0nICsgcGFydHNbMV0udG9Mb3dlckNhc2UoKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJ0c1swXS50b0xvd2VyQ2FzZSgpICsgICctJyArIHBhcnRzWzFdLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0ID0gby5sb3dlckNhc2VMbmcgPyBsLnRvTG93ZXJDYXNlKCkgOiBsO1xuICAgICAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgdmFyIGxhbmd1YWdlcyA9IFtdO1xuICAgICAgICAgICAgdmFyIHdoaXRlbGlzdCA9IG8ubG5nV2hpdGVsaXN0IHx8IGZhbHNlO1xuICAgICAgICAgICAgdmFyIGFkZExhbmd1YWdlID0gZnVuY3Rpb24obGFuZ3VhZ2Upe1xuICAgICAgICAgICAgICAvL3JlamVjdCBsYW5ncyBub3Qgd2hpdGVsaXN0ZWRcbiAgICAgICAgICAgICAgaWYoIXdoaXRlbGlzdCB8fCB3aGl0ZWxpc3QuaW5kZXhPZihsYW5ndWFnZSkgPiAtMSl7XG4gICAgICAgICAgICAgICAgbGFuZ3VhZ2VzLnB1c2gobGFuZ3VhZ2UpO1xuICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICBsb2coJ3JlamVjdGluZyBub24td2hpdGVsaXN0ZWQgbGFuZ3VhZ2U6ICcgKyBsYW5ndWFnZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAodHlwZW9mIGxuZyA9PT0gJ3N0cmluZycgJiYgbG5nLmluZGV4T2YoJy0nKSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgdmFyIHBhcnRzID0gbG5nLnNwbGl0KCctJyk7XG4gICAgXG4gICAgICAgICAgICAgICAgaWYgKG8ubG9hZCAhPT0gJ3Vuc3BlY2lmaWMnKSBhZGRMYW5ndWFnZShhcHBseUNhc2UobG5nKSk7XG4gICAgICAgICAgICAgICAgaWYgKG8ubG9hZCAhPT0gJ2N1cnJlbnQnKSBhZGRMYW5ndWFnZShhcHBseUNhc2UocGFydHNbdGhpcy5nZXRDb3VudHlJbmRleE9mTG5nKGxuZyldKSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGFkZExhbmd1YWdlKGFwcGx5Q2FzZShsbmcpKTtcbiAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgby5mYWxsYmFja0xuZy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChsYW5ndWFnZXMuaW5kZXhPZihvLmZhbGxiYWNrTG5nW2ldKSA9PT0gLTEgJiYgby5mYWxsYmFja0xuZ1tpXSkgbGFuZ3VhZ2VzLnB1c2goYXBwbHlDYXNlKG8uZmFsbGJhY2tMbmdbaV0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBsYW5ndWFnZXM7XG4gICAgICAgIH0sXG4gICAgICAgIHJlZ2V4RXNjYXBlOiBmdW5jdGlvbihzdHIpIHtcbiAgICAgICAgICAgIHJldHVybiBzdHIucmVwbGFjZSgvW1xcLVxcW1xcXVxcL1xce1xcfVxcKFxcKVxcKlxcK1xcP1xcLlxcXFxcXF5cXCRcXHxdL2csIFwiXFxcXCQmXCIpO1xuICAgICAgICB9LFxuICAgICAgICByZWdleFJlcGxhY2VtZW50RXNjYXBlOiBmdW5jdGlvbihzdHJPckZuKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHN0ck9yRm4gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0ck9yRm4ucmVwbGFjZSgvXFwkL2csIFwiJCQkJFwiKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0ck9yRm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGxvY2FsU3RvcmFnZToge1xuICAgICAgICAgICAgc2V0SXRlbTogZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGlmICh3aW5kb3cubG9jYWxTdG9yYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oa2V5LCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGYubG9nKCdmYWlsZWQgdG8gc2V0IHZhbHVlIGZvciBrZXkgXCInICsga2V5ICsgJ1wiIHRvIGxvY2FsU3RvcmFnZS4nKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXRJdGVtOiBmdW5jdGlvbihrZXksIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHdpbmRvdy5sb2NhbFN0b3JhZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5LCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGYubG9nKCdmYWlsZWQgdG8gZ2V0IHZhbHVlIGZvciBrZXkgXCInICsga2V5ICsgJ1wiIGZyb20gbG9jYWxTdG9yYWdlLicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgZnVuY3Rpb24gaW5pdChvcHRpb25zLCBjYikge1xuICAgIFxuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNiID0gb3B0aW9ucztcbiAgICAgICAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICAgICAgfVxuICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICBcbiAgICAgICAgLy8gb3ZlcnJpZGUgZGVmYXVsdHMgd2l0aCBwYXNzZWQgaW4gb3B0aW9uc1xuICAgICAgICBmLmV4dGVuZChvLCBvcHRpb25zKTtcbiAgICAgICAgZGVsZXRlIG8uZml4TG5nOyAvKiBwYXNzZWQgaW4gZWFjaCB0aW1lICovXG4gICAgXG4gICAgICAgIC8vIG92ZXJyaWRlIGZ1bmN0aW9uczogLmxvZygpLCAuZGV0ZWN0TGFuZ3VhZ2UoKSwgZXRjXG4gICAgICAgIGlmIChvLmZ1bmN0aW9ucykge1xuICAgICAgICAgICAgZGVsZXRlIG8uZnVuY3Rpb25zO1xuICAgICAgICAgICAgZi5leHRlbmQoZiwgb3B0aW9ucy5mdW5jdGlvbnMpO1xuICAgICAgICB9XG4gICAgXG4gICAgICAgIC8vIGNyZWF0ZSBuYW1lc3BhY2Ugb2JqZWN0IGlmIG5hbWVzcGFjZSBpcyBwYXNzZWQgaW4gYXMgc3RyaW5nXG4gICAgICAgIGlmICh0eXBlb2Ygby5ucyA9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgby5ucyA9IHsgbmFtZXNwYWNlczogW28ubnNdLCBkZWZhdWx0TnM6IG8ubnN9O1xuICAgICAgICB9XG4gICAgXG4gICAgICAgIC8vIGZhbGxiYWNrIG5hbWVzcGFjZXNcbiAgICAgICAgaWYgKHR5cGVvZiBvLmZhbGxiYWNrTlMgPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIG8uZmFsbGJhY2tOUyA9IFtvLmZhbGxiYWNrTlNdO1xuICAgICAgICB9XG4gICAgXG4gICAgICAgIC8vIGZhbGxiYWNrIGxhbmd1YWdlc1xuICAgICAgICBpZiAodHlwZW9mIG8uZmFsbGJhY2tMbmcgPT0gJ3N0cmluZycgfHwgdHlwZW9mIG8uZmFsbGJhY2tMbmcgPT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgICBvLmZhbGxiYWNrTG5nID0gW28uZmFsbGJhY2tMbmddO1xuICAgICAgICB9XG4gICAgXG4gICAgICAgIC8vIGVzY2FwZSBwcmVmaXgvc3VmZml4XG4gICAgICAgIG8uaW50ZXJwb2xhdGlvblByZWZpeEVzY2FwZWQgPSBmLnJlZ2V4RXNjYXBlKG8uaW50ZXJwb2xhdGlvblByZWZpeCk7XG4gICAgICAgIG8uaW50ZXJwb2xhdGlvblN1ZmZpeEVzY2FwZWQgPSBmLnJlZ2V4RXNjYXBlKG8uaW50ZXJwb2xhdGlvblN1ZmZpeCk7XG4gICAgXG4gICAgICAgIGlmICghby5sbmcpIG8ubG5nID0gZi5kZXRlY3RMYW5ndWFnZSgpO1xuICAgIFxuICAgICAgICBsYW5ndWFnZXMgPSBmLnRvTGFuZ3VhZ2VzKG8ubG5nKTtcbiAgICAgICAgY3VycmVudExuZyA9IGxhbmd1YWdlc1swXTtcbiAgICAgICAgZi5sb2coJ2N1cnJlbnRMbmcgc2V0IHRvOiAnICsgY3VycmVudExuZyk7XG4gICAgXG4gICAgICAgIGlmIChvLnVzZUNvb2tpZSAmJiBmLmNvb2tpZS5yZWFkKG8uY29va2llTmFtZSkgIT09IGN1cnJlbnRMbmcpeyAvL2Nvb2tpZSBpcyB1bnNldCBvciBpbnZhbGlkXG4gICAgICAgICAgICBmLmNvb2tpZS5jcmVhdGUoby5jb29raWVOYW1lLCBjdXJyZW50TG5nLCBvLmNvb2tpZUV4cGlyYXRpb25UaW1lLCBvLmNvb2tpZURvbWFpbik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG8uZGV0ZWN0TG5nRnJvbUxvY2FsU3RvcmFnZSAmJiB0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5sb2NhbFN0b3JhZ2UpIHtcbiAgICAgICAgICAgIGYubG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2kxOG5leHRfbG5nJywgY3VycmVudExuZyk7XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgdmFyIGxuZ1RyYW5zbGF0ZSA9IHRyYW5zbGF0ZTtcbiAgICAgICAgaWYgKG9wdGlvbnMuZml4TG5nKSB7XG4gICAgICAgICAgICBsbmdUcmFuc2xhdGUgPSBmdW5jdGlvbihrZXksIG9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgICAgICAgICAgICBvcHRpb25zLmxuZyA9IG9wdGlvbnMubG5nIHx8IGxuZ1RyYW5zbGF0ZS5sbmc7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRyYW5zbGF0ZShrZXksIG9wdGlvbnMpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGxuZ1RyYW5zbGF0ZS5sbmcgPSBjdXJyZW50TG5nO1xuICAgICAgICB9XG4gICAgXG4gICAgICAgIHBsdXJhbEV4dGVuc2lvbnMuc2V0Q3VycmVudExuZyhjdXJyZW50TG5nKTtcbiAgICBcbiAgICAgICAgLy8gYWRkIEpRdWVyeSBleHRlbnNpb25zXG4gICAgICAgIGlmICgkICYmIG8uc2V0SnF1ZXJ5RXh0KSBhZGRKcXVlcnlGdW5jdCgpO1xuICAgIFxuICAgICAgICAvLyBqUXVlcnkgZGVmZXJyZWRcbiAgICAgICAgdmFyIGRlZmVycmVkO1xuICAgICAgICBpZiAoJCAmJiAkLkRlZmVycmVkKSB7XG4gICAgICAgICAgICBkZWZlcnJlZCA9ICQuRGVmZXJyZWQoKTtcbiAgICAgICAgfVxuICAgIFxuICAgICAgICAvLyByZXR1cm4gaW1taWRpYXRseSBpZiByZXMgYXJlIHBhc3NlZCBpblxuICAgICAgICBpZiAoby5yZXNTdG9yZSkge1xuICAgICAgICAgICAgcmVzU3RvcmUgPSBvLnJlc1N0b3JlO1xuICAgICAgICAgICAgaW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKGNiKSBjYihsbmdUcmFuc2xhdGUpO1xuICAgICAgICAgICAgaWYgKGRlZmVycmVkKSBkZWZlcnJlZC5yZXNvbHZlKGxuZ1RyYW5zbGF0ZSk7XG4gICAgICAgICAgICBpZiAoZGVmZXJyZWQpIHJldHVybiBkZWZlcnJlZC5wcm9taXNlKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgLy8gbGFuZ3VhZ2VzIHRvIGxvYWRcbiAgICAgICAgdmFyIGxuZ3NUb0xvYWQgPSBmLnRvTGFuZ3VhZ2VzKG8ubG5nKTtcbiAgICAgICAgaWYgKHR5cGVvZiBvLnByZWxvYWQgPT09ICdzdHJpbmcnKSBvLnByZWxvYWQgPSBbby5wcmVsb2FkXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBvLnByZWxvYWQubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgcHJlcyA9IGYudG9MYW5ndWFnZXMoby5wcmVsb2FkW2ldKTtcbiAgICAgICAgICAgIGZvciAodmFyIHkgPSAwLCBsZW4gPSBwcmVzLmxlbmd0aDsgeSA8IGxlbjsgeSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGxuZ3NUb0xvYWQuaW5kZXhPZihwcmVzW3ldKSA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgbG5nc1RvTG9hZC5wdXNoKHByZXNbeV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIFxuICAgICAgICAvLyBlbHNlIGxvYWQgdGhlbVxuICAgICAgICBpMThuLnN5bmMubG9hZChsbmdzVG9Mb2FkLCBvLCBmdW5jdGlvbihlcnIsIHN0b3JlKSB7XG4gICAgICAgICAgICByZXNTdG9yZSA9IHN0b3JlO1xuICAgICAgICAgICAgaW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgIFxuICAgICAgICAgICAgaWYgKGNiKSBjYihsbmdUcmFuc2xhdGUpO1xuICAgICAgICAgICAgaWYgKGRlZmVycmVkKSBkZWZlcnJlZC5yZXNvbHZlKGxuZ1RyYW5zbGF0ZSk7XG4gICAgICAgIH0pO1xuICAgIFxuICAgICAgICBpZiAoZGVmZXJyZWQpIHJldHVybiBkZWZlcnJlZC5wcm9taXNlKCk7XG4gICAgfVxuICAgIFxuICAgIGZ1bmN0aW9uIGlzSW5pdGlhbGl6ZWQoKSB7XG4gICAgICAgIHJldHVybiBpbml0aWFsaXplZDtcbiAgICB9XG4gICAgZnVuY3Rpb24gcHJlbG9hZChsbmdzLCBjYikge1xuICAgICAgICBpZiAodHlwZW9mIGxuZ3MgPT09ICdzdHJpbmcnKSBsbmdzID0gW2xuZ3NdO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgbCA9IGxuZ3MubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoby5wcmVsb2FkLmluZGV4T2YobG5nc1tpXSkgPCAwKSB7XG4gICAgICAgICAgICAgICAgby5wcmVsb2FkLnB1c2gobG5nc1tpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGluaXQoY2IpO1xuICAgIH1cbiAgICBcbiAgICBmdW5jdGlvbiBhZGRSZXNvdXJjZUJ1bmRsZShsbmcsIG5zLCByZXNvdXJjZXMsIGRlZXApIHtcbiAgICAgICAgaWYgKHR5cGVvZiBucyAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJlc291cmNlcyA9IG5zO1xuICAgICAgICAgICAgbnMgPSBvLm5zLmRlZmF1bHROcztcbiAgICAgICAgfSBlbHNlIGlmIChvLm5zLm5hbWVzcGFjZXMuaW5kZXhPZihucykgPCAwKSB7XG4gICAgICAgICAgICBvLm5zLm5hbWVzcGFjZXMucHVzaChucyk7XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgcmVzU3RvcmVbbG5nXSA9IHJlc1N0b3JlW2xuZ10gfHwge307XG4gICAgICAgIHJlc1N0b3JlW2xuZ11bbnNdID0gcmVzU3RvcmVbbG5nXVtuc10gfHwge307XG4gICAgXG4gICAgICAgIGlmIChkZWVwKSB7XG4gICAgICAgICAgICBmLmRlZXBFeHRlbmQocmVzU3RvcmVbbG5nXVtuc10sIHJlc291cmNlcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmLmV4dGVuZChyZXNTdG9yZVtsbmddW25zXSwgcmVzb3VyY2VzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoby51c2VMb2NhbFN0b3JhZ2UpIHtcbiAgICAgICAgICAgIHN5bmMuX3N0b3JlTG9jYWwocmVzU3RvcmUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIFxuICAgIGZ1bmN0aW9uIGhhc1Jlc291cmNlQnVuZGxlKGxuZywgbnMpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBucyAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIG5zID0gby5ucy5kZWZhdWx0TnM7XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgcmVzU3RvcmVbbG5nXSA9IHJlc1N0b3JlW2xuZ10gfHwge307XG4gICAgICAgIHZhciByZXMgPSByZXNTdG9yZVtsbmddW25zXSB8fCB7fTtcbiAgICBcbiAgICAgICAgdmFyIGhhc1ZhbHVlcyA9IGZhbHNlO1xuICAgICAgICBmb3IodmFyIHByb3AgaW4gcmVzKSB7XG4gICAgICAgICAgICBpZiAocmVzLmhhc093blByb3BlcnR5KHByb3ApKSB7XG4gICAgICAgICAgICAgICAgaGFzVmFsdWVzID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIFxuICAgICAgICByZXR1cm4gaGFzVmFsdWVzO1xuICAgIH1cbiAgICBcbiAgICBmdW5jdGlvbiBnZXRSZXNvdXJjZUJ1bmRsZShsbmcsIG5zKSB7XG4gICAgICAgIGlmICh0eXBlb2YgbnMgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBucyA9IG8ubnMuZGVmYXVsdE5zO1xuICAgICAgICB9XG4gICAgXG4gICAgICAgIHJlc1N0b3JlW2xuZ10gPSByZXNTdG9yZVtsbmddIHx8IHt9O1xuICAgICAgICByZXR1cm4gZi5leHRlbmQoe30sIHJlc1N0b3JlW2xuZ11bbnNdKTtcbiAgICB9XG4gICAgXG4gICAgZnVuY3Rpb24gcmVtb3ZlUmVzb3VyY2VCdW5kbGUobG5nLCBucykge1xuICAgICAgICBpZiAodHlwZW9mIG5zICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgbnMgPSBvLm5zLmRlZmF1bHROcztcbiAgICAgICAgfVxuICAgIFxuICAgICAgICByZXNTdG9yZVtsbmddID0gcmVzU3RvcmVbbG5nXSB8fCB7fTtcbiAgICAgICAgcmVzU3RvcmVbbG5nXVtuc10gPSB7fTtcbiAgICAgICAgaWYgKG8udXNlTG9jYWxTdG9yYWdlKSB7XG4gICAgICAgICAgICBzeW5jLl9zdG9yZUxvY2FsKHJlc1N0b3JlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBmdW5jdGlvbiBhZGRSZXNvdXJjZShsbmcsIG5zLCBrZXksIHZhbHVlKSB7XG4gICAgICAgIGlmICh0eXBlb2YgbnMgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICByZXNvdXJjZSA9IG5zO1xuICAgICAgICAgICAgbnMgPSBvLm5zLmRlZmF1bHROcztcbiAgICAgICAgfSBlbHNlIGlmIChvLm5zLm5hbWVzcGFjZXMuaW5kZXhPZihucykgPCAwKSB7XG4gICAgICAgICAgICBvLm5zLm5hbWVzcGFjZXMucHVzaChucyk7XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgcmVzU3RvcmVbbG5nXSA9IHJlc1N0b3JlW2xuZ10gfHwge307XG4gICAgICAgIHJlc1N0b3JlW2xuZ11bbnNdID0gcmVzU3RvcmVbbG5nXVtuc10gfHwge307XG4gICAgXG4gICAgICAgIHZhciBrZXlzID0ga2V5LnNwbGl0KG8ua2V5c2VwYXJhdG9yKTtcbiAgICAgICAgdmFyIHggPSAwO1xuICAgICAgICB2YXIgbm9kZSA9IHJlc1N0b3JlW2xuZ11bbnNdO1xuICAgICAgICB2YXIgb3JpZ1JlZiA9IG5vZGU7XG4gICAgXG4gICAgICAgIHdoaWxlIChrZXlzW3hdKSB7XG4gICAgICAgICAgICBpZiAoeCA9PSBrZXlzLmxlbmd0aCAtIDEpXG4gICAgICAgICAgICAgICAgbm9kZVtrZXlzW3hdXSA9IHZhbHVlO1xuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKG5vZGVba2V5c1t4XV0gPT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgbm9kZVtrZXlzW3hdXSA9IHt9O1xuICAgIFxuICAgICAgICAgICAgICAgIG5vZGUgPSBub2RlW2tleXNbeF1dO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgeCsrO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvLnVzZUxvY2FsU3RvcmFnZSkge1xuICAgICAgICAgICAgc3luYy5fc3RvcmVMb2NhbChyZXNTdG9yZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgZnVuY3Rpb24gYWRkUmVzb3VyY2VzKGxuZywgbnMsIHJlc291cmNlcykge1xuICAgICAgICBpZiAodHlwZW9mIG5zICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcmVzb3VyY2UgPSBucztcbiAgICAgICAgICAgIG5zID0gby5ucy5kZWZhdWx0TnM7XG4gICAgICAgIH0gZWxzZSBpZiAoby5ucy5uYW1lc3BhY2VzLmluZGV4T2YobnMpIDwgMCkge1xuICAgICAgICAgICAgby5ucy5uYW1lc3BhY2VzLnB1c2gobnMpO1xuICAgICAgICB9XG4gICAgXG4gICAgICAgIGZvciAodmFyIG0gaW4gcmVzb3VyY2VzKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHJlc291cmNlc1ttXSA9PT0gJ3N0cmluZycpIGFkZFJlc291cmNlKGxuZywgbnMsIG0sIHJlc291cmNlc1ttXSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgZnVuY3Rpb24gc2V0RGVmYXVsdE5hbWVzcGFjZShucykge1xuICAgICAgICBvLm5zLmRlZmF1bHROcyA9IG5zO1xuICAgIH1cbiAgICBcbiAgICBmdW5jdGlvbiBsb2FkTmFtZXNwYWNlKG5hbWVzcGFjZSwgY2IpIHtcbiAgICAgICAgbG9hZE5hbWVzcGFjZXMoW25hbWVzcGFjZV0sIGNiKTtcbiAgICB9XG4gICAgXG4gICAgZnVuY3Rpb24gbG9hZE5hbWVzcGFjZXMobmFtZXNwYWNlcywgY2IpIHtcbiAgICAgICAgdmFyIG9wdHMgPSB7XG4gICAgICAgICAgICBkeW5hbWljTG9hZDogby5keW5hbWljTG9hZCxcbiAgICAgICAgICAgIHJlc0dldFBhdGg6IG8ucmVzR2V0UGF0aCxcbiAgICAgICAgICAgIGdldEFzeW5jOiBvLmdldEFzeW5jLFxuICAgICAgICAgICAgY3VzdG9tTG9hZDogby5jdXN0b21Mb2FkLFxuICAgICAgICAgICAgbnM6IHsgbmFtZXNwYWNlczogbmFtZXNwYWNlcywgZGVmYXVsdE5zOiAnJ30gLyogbmV3IG5hbWVzcGFjZXMgdG8gbG9hZCAqL1xuICAgICAgICB9O1xuICAgIFxuICAgICAgICAvLyBsYW5ndWFnZXMgdG8gbG9hZFxuICAgICAgICB2YXIgbG5nc1RvTG9hZCA9IGYudG9MYW5ndWFnZXMoby5sbmcpO1xuICAgICAgICBpZiAodHlwZW9mIG8ucHJlbG9hZCA9PT0gJ3N0cmluZycpIG8ucHJlbG9hZCA9IFtvLnByZWxvYWRdO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgbCA9IG8ucHJlbG9hZC5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBwcmVzID0gZi50b0xhbmd1YWdlcyhvLnByZWxvYWRbaV0pO1xuICAgICAgICAgICAgZm9yICh2YXIgeSA9IDAsIGxlbiA9IHByZXMubGVuZ3RoOyB5IDwgbGVuOyB5KyspIHtcbiAgICAgICAgICAgICAgICBpZiAobG5nc1RvTG9hZC5pbmRleE9mKHByZXNbeV0pIDwgMCkge1xuICAgICAgICAgICAgICAgICAgICBsbmdzVG9Mb2FkLnB1c2gocHJlc1t5XSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgXG4gICAgICAgIC8vIGNoZWNrIGlmIHdlIGhhdmUgdG8gbG9hZFxuICAgICAgICB2YXIgbG5nTmVlZExvYWQgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgYSA9IDAsIGxlbkEgPSBsbmdzVG9Mb2FkLmxlbmd0aDsgYSA8IGxlbkE7IGErKykge1xuICAgICAgICAgICAgdmFyIG5lZWRMb2FkID0gZmFsc2U7XG4gICAgICAgICAgICB2YXIgcmVzU2V0ID0gcmVzU3RvcmVbbG5nc1RvTG9hZFthXV07XG4gICAgICAgICAgICBpZiAocmVzU2V0KSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgYiA9IDAsIGxlbkIgPSBuYW1lc3BhY2VzLmxlbmd0aDsgYiA8IGxlbkI7IGIrKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXJlc1NldFtuYW1lc3BhY2VzW2JdXSkgbmVlZExvYWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbmVlZExvYWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgaWYgKG5lZWRMb2FkKSBsbmdOZWVkTG9hZC5wdXNoKGxuZ3NUb0xvYWRbYV0pO1xuICAgICAgICB9XG4gICAgXG4gICAgICAgIGlmIChsbmdOZWVkTG9hZC5sZW5ndGgpIHtcbiAgICAgICAgICAgIGkxOG4uc3luYy5fZmV0Y2gobG5nTmVlZExvYWQsIG9wdHMsIGZ1bmN0aW9uKGVyciwgc3RvcmUpIHtcbiAgICAgICAgICAgICAgICB2YXIgdG9kbyA9IG5hbWVzcGFjZXMubGVuZ3RoICogbG5nTmVlZExvYWQubGVuZ3RoO1xuICAgIFxuICAgICAgICAgICAgICAgIC8vIGxvYWQgZWFjaCBmaWxlIGluZGl2aWR1YWxcbiAgICAgICAgICAgICAgICBmLmVhY2gobmFtZXNwYWNlcywgZnVuY3Rpb24obnNJbmRleCwgbnNWYWx1ZSkge1xuICAgIFxuICAgICAgICAgICAgICAgICAgICAvLyBhcHBlbmQgbmFtZXNwYWNlIHRvIG5hbWVzcGFjZSBhcnJheVxuICAgICAgICAgICAgICAgICAgICBpZiAoby5ucy5uYW1lc3BhY2VzLmluZGV4T2YobnNWYWx1ZSkgPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvLm5zLm5hbWVzcGFjZXMucHVzaChuc1ZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgICAgICAgICBmLmVhY2gobG5nTmVlZExvYWQsIGZ1bmN0aW9uKGxuZ0luZGV4LCBsbmdWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzU3RvcmVbbG5nVmFsdWVdID0gcmVzU3RvcmVbbG5nVmFsdWVdIHx8IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzU3RvcmVbbG5nVmFsdWVdW25zVmFsdWVdID0gc3RvcmVbbG5nVmFsdWVdW25zVmFsdWVdO1xuICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgdG9kby0tOyAvLyB3YWl0IGZvciBhbGwgZG9uZSBiZWZvciBjYWxsYmFja1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRvZG8gPT09IDAgJiYgY2IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoby51c2VMb2NhbFN0b3JhZ2UpIGkxOG4uc3luYy5fc3RvcmVMb2NhbChyZXNTdG9yZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2IoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChjYikgY2IoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBmdW5jdGlvbiBzZXRMbmcobG5nLCBvcHRpb25zLCBjYikge1xuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNiID0gb3B0aW9ucztcbiAgICAgICAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICAgICAgfSBlbHNlIGlmICghb3B0aW9ucykge1xuICAgICAgICAgICAgb3B0aW9ucyA9IHt9O1xuICAgICAgICB9XG4gICAgXG4gICAgICAgIG9wdGlvbnMubG5nID0gbG5nO1xuICAgICAgICByZXR1cm4gaW5pdChvcHRpb25zLCBjYik7XG4gICAgfVxuICAgIFxuICAgIGZ1bmN0aW9uIGxuZygpIHtcbiAgICAgICAgcmV0dXJuIGN1cnJlbnRMbmc7XG4gICAgfVxuICAgIFxuICAgIGZ1bmN0aW9uIHJlbG9hZChjYikge1xuICAgICAgICByZXNTdG9yZSA9IHt9O1xuICAgICAgICBzZXRMbmcoY3VycmVudExuZywgY2IpO1xuICAgIH1cbiAgICBcbiAgICBmdW5jdGlvbiBub0NvbmZsaWN0KCkge1xuICAgICAgICBcbiAgICAgICAgd2luZG93LmkxOG5leHQgPSB3aW5kb3cuaTE4bjtcbiAgICBcbiAgICAgICAgaWYgKGNvbmZsaWN0UmVmZXJlbmNlKSB7XG4gICAgICAgICAgICB3aW5kb3cuaTE4biA9IGNvbmZsaWN0UmVmZXJlbmNlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGVsZXRlIHdpbmRvdy5pMThuO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGFkZEpxdWVyeUZ1bmN0KCkge1xuICAgICAgICAvLyAkLnQgc2hvcnRjdXRcbiAgICAgICAgJC50ID0gJC50IHx8IHRyYW5zbGF0ZTtcbiAgICBcbiAgICAgICAgZnVuY3Rpb24gcGFyc2UoZWxlLCBrZXksIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIGlmIChrZXkubGVuZ3RoID09PSAwKSByZXR1cm47XG4gICAgXG4gICAgICAgICAgICB2YXIgYXR0ciA9ICd0ZXh0JztcbiAgICBcbiAgICAgICAgICAgIGlmIChrZXkuaW5kZXhPZignWycpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdmFyIHBhcnRzID0ga2V5LnNwbGl0KCddJyk7XG4gICAgICAgICAgICAgICAga2V5ID0gcGFydHNbMV07XG4gICAgICAgICAgICAgICAgYXR0ciA9IHBhcnRzWzBdLnN1YnN0cigxLCBwYXJ0c1swXS5sZW5ndGgtMSk7XG4gICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICBpZiAoa2V5LmluZGV4T2YoJzsnKSA9PT0ga2V5Lmxlbmd0aC0xKSB7XG4gICAgICAgICAgICAgICAga2V5ID0ga2V5LnN1YnN0cigwLCBrZXkubGVuZ3RoLTIpO1xuICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgdmFyIG9wdGlvbnNUb1VzZTtcbiAgICAgICAgICAgIGlmIChhdHRyID09PSAnaHRtbCcpIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zVG9Vc2UgPSBvLmRlZmF1bHRWYWx1ZUZyb21Db250ZW50ID8gJC5leHRlbmQoeyBkZWZhdWx0VmFsdWU6IGVsZS5odG1sKCkgfSwgb3B0aW9ucykgOiBvcHRpb25zO1xuICAgICAgICAgICAgICAgIGVsZS5odG1sKCQudChrZXksIG9wdGlvbnNUb1VzZSkpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChhdHRyID09PSAndGV4dCcpIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zVG9Vc2UgPSBvLmRlZmF1bHRWYWx1ZUZyb21Db250ZW50ID8gJC5leHRlbmQoeyBkZWZhdWx0VmFsdWU6IGVsZS50ZXh0KCkgfSwgb3B0aW9ucykgOiBvcHRpb25zO1xuICAgICAgICAgICAgICAgIGVsZS50ZXh0KCQudChrZXksIG9wdGlvbnNUb1VzZSkpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChhdHRyID09PSAncHJlcGVuZCcpIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zVG9Vc2UgPSBvLmRlZmF1bHRWYWx1ZUZyb21Db250ZW50ID8gJC5leHRlbmQoeyBkZWZhdWx0VmFsdWU6IGVsZS5odG1sKCkgfSwgb3B0aW9ucykgOiBvcHRpb25zO1xuICAgICAgICAgICAgICAgIGVsZS5wcmVwZW5kKCQudChrZXksIG9wdGlvbnNUb1VzZSkpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChhdHRyID09PSAnYXBwZW5kJykge1xuICAgICAgICAgICAgICAgIG9wdGlvbnNUb1VzZSA9IG8uZGVmYXVsdFZhbHVlRnJvbUNvbnRlbnQgPyAkLmV4dGVuZCh7IGRlZmF1bHRWYWx1ZTogZWxlLmh0bWwoKSB9LCBvcHRpb25zKSA6IG9wdGlvbnM7XG4gICAgICAgICAgICAgICAgZWxlLmFwcGVuZCgkLnQoa2V5LCBvcHRpb25zVG9Vc2UpKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYXR0ci5pbmRleE9mKFwiZGF0YS1cIikgPT09IDApIHtcbiAgICAgICAgICAgICAgICB2YXIgZGF0YUF0dHIgPSBhdHRyLnN1YnN0cigoXCJkYXRhLVwiKS5sZW5ndGgpO1xuICAgICAgICAgICAgICAgIG9wdGlvbnNUb1VzZSA9IG8uZGVmYXVsdFZhbHVlRnJvbUNvbnRlbnQgPyAkLmV4dGVuZCh7IGRlZmF1bHRWYWx1ZTogZWxlLmRhdGEoZGF0YUF0dHIpIH0sIG9wdGlvbnMpIDogb3B0aW9ucztcbiAgICAgICAgICAgICAgICB2YXIgdHJhbnNsYXRlZCA9ICQudChrZXksIG9wdGlvbnNUb1VzZSk7XG4gICAgICAgICAgICAgICAgLy93ZSBjaGFuZ2UgaW50byB0aGUgZGF0YSBjYWNoZVxuICAgICAgICAgICAgICAgIGVsZS5kYXRhKGRhdGFBdHRyLCB0cmFuc2xhdGVkKTtcbiAgICAgICAgICAgICAgICAvL3dlIGNoYW5nZSBpbnRvIHRoZSBkb21cbiAgICAgICAgICAgICAgICBlbGUuYXR0cihhdHRyLCB0cmFuc2xhdGVkKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgb3B0aW9uc1RvVXNlID0gby5kZWZhdWx0VmFsdWVGcm9tQ29udGVudCA/ICQuZXh0ZW5kKHsgZGVmYXVsdFZhbHVlOiBlbGUuYXR0cihhdHRyKSB9LCBvcHRpb25zKSA6IG9wdGlvbnM7XG4gICAgICAgICAgICAgICAgZWxlLmF0dHIoYXR0ciwgJC50KGtleSwgb3B0aW9uc1RvVXNlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgZnVuY3Rpb24gbG9jYWxpemUoZWxlLCBvcHRpb25zKSB7XG4gICAgICAgICAgICB2YXIga2V5ID0gZWxlLmF0dHIoby5zZWxlY3RvckF0dHIpO1xuICAgICAgICAgICAgaWYgKCFrZXkgJiYgdHlwZW9mIGtleSAhPT0gJ3VuZGVmaW5lZCcgJiYga2V5ICE9PSBmYWxzZSkga2V5ID0gZWxlLnRleHQoKSB8fCBlbGUudmFsKCk7XG4gICAgICAgICAgICBpZiAoIWtleSkgcmV0dXJuO1xuICAgIFxuICAgICAgICAgICAgdmFyIHRhcmdldCA9IGVsZVxuICAgICAgICAgICAgICAsIHRhcmdldFNlbGVjdG9yID0gZWxlLmRhdGEoXCJpMThuLXRhcmdldFwiKTtcbiAgICAgICAgICAgIGlmICh0YXJnZXRTZWxlY3Rvcikge1xuICAgICAgICAgICAgICAgIHRhcmdldCA9IGVsZS5maW5kKHRhcmdldFNlbGVjdG9yKSB8fCBlbGU7XG4gICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICBpZiAoIW9wdGlvbnMgJiYgby51c2VEYXRhQXR0ck9wdGlvbnMgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zID0gZWxlLmRhdGEoXCJpMThuLW9wdGlvbnNcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICBcbiAgICAgICAgICAgIGlmIChrZXkuaW5kZXhPZignOycpID49IDApIHtcbiAgICAgICAgICAgICAgICB2YXIga2V5cyA9IGtleS5zcGxpdCgnOycpO1xuICAgIFxuICAgICAgICAgICAgICAgICQuZWFjaChrZXlzLCBmdW5jdGlvbihtLCBrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChrICE9PSAnJykgcGFyc2UodGFyZ2V0LCBrLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICBcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGFyc2UodGFyZ2V0LCBrZXksIG9wdGlvbnMpO1xuICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgaWYgKG8udXNlRGF0YUF0dHJPcHRpb25zID09PSB0cnVlKSBlbGUuZGF0YShcImkxOG4tb3B0aW9uc1wiLCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgIFxuICAgICAgICAvLyBmblxuICAgICAgICAkLmZuLmkxOG4gPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAvLyBsb2NhbGl6ZSBlbGVtZW50IGl0c2VsZlxuICAgICAgICAgICAgICAgIGxvY2FsaXplKCQodGhpcyksIG9wdGlvbnMpO1xuICAgIFxuICAgICAgICAgICAgICAgIC8vIGxvY2FsaXplIGNoaWxkc1xuICAgICAgICAgICAgICAgIHZhciBlbGVtZW50cyA9ICAkKHRoaXMpLmZpbmQoJ1snICsgby5zZWxlY3RvckF0dHIgKyAnXScpO1xuICAgICAgICAgICAgICAgIGVsZW1lbnRzLmVhY2goZnVuY3Rpb24oKSB7IFxuICAgICAgICAgICAgICAgICAgICBsb2NhbGl6ZSgkKHRoaXMpLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBhcHBseVJlcGxhY2VtZW50KHN0ciwgcmVwbGFjZW1lbnRIYXNoLCBuZXN0ZWRLZXksIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKCFzdHIpIHJldHVybiBzdHI7XG4gICAgXG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHJlcGxhY2VtZW50SGFzaDsgLy8gZmlyc3QgY2FsbCB1c2VzIHJlcGxhY2VtZW50IGhhc2ggY29tYmluZWQgd2l0aCBvcHRpb25zXG4gICAgICAgIGlmIChzdHIuaW5kZXhPZihvcHRpb25zLmludGVycG9sYXRpb25QcmVmaXggfHwgby5pbnRlcnBvbGF0aW9uUHJlZml4KSA8IDApIHJldHVybiBzdHI7XG4gICAgXG4gICAgICAgIHZhciBwcmVmaXggPSBvcHRpb25zLmludGVycG9sYXRpb25QcmVmaXggPyBmLnJlZ2V4RXNjYXBlKG9wdGlvbnMuaW50ZXJwb2xhdGlvblByZWZpeCkgOiBvLmludGVycG9sYXRpb25QcmVmaXhFc2NhcGVkXG4gICAgICAgICAgLCBzdWZmaXggPSBvcHRpb25zLmludGVycG9sYXRpb25TdWZmaXggPyBmLnJlZ2V4RXNjYXBlKG9wdGlvbnMuaW50ZXJwb2xhdGlvblN1ZmZpeCkgOiBvLmludGVycG9sYXRpb25TdWZmaXhFc2NhcGVkXG4gICAgICAgICAgLCB1bkVzY2FwaW5nU3VmZml4ID0gJ0hUTUwnK3N1ZmZpeDtcbiAgICBcbiAgICAgICAgdmFyIGhhc2ggPSByZXBsYWNlbWVudEhhc2gucmVwbGFjZSAmJiB0eXBlb2YgcmVwbGFjZW1lbnRIYXNoLnJlcGxhY2UgPT09ICdvYmplY3QnID8gcmVwbGFjZW1lbnRIYXNoLnJlcGxhY2UgOiByZXBsYWNlbWVudEhhc2g7XG4gICAgICAgIGYuZWFjaChoYXNoLCBmdW5jdGlvbihrZXksIHZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgbmV4dEtleSA9IG5lc3RlZEtleSA/IG5lc3RlZEtleSArIG8ua2V5c2VwYXJhdG9yICsga2V5IDoga2V5O1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBzdHIgPSBhcHBseVJlcGxhY2VtZW50KHN0ciwgdmFsdWUsIG5leHRLZXksIG9wdGlvbnMpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5lc2NhcGVJbnRlcnBvbGF0aW9uIHx8IG8uZXNjYXBlSW50ZXJwb2xhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBzdHIgPSBzdHIucmVwbGFjZShuZXcgUmVnRXhwKFtwcmVmaXgsIG5leHRLZXksIHVuRXNjYXBpbmdTdWZmaXhdLmpvaW4oJycpLCAnZycpLCBmLnJlZ2V4UmVwbGFjZW1lbnRFc2NhcGUodmFsdWUpKTtcbiAgICAgICAgICAgICAgICAgICAgc3RyID0gc3RyLnJlcGxhY2UobmV3IFJlZ0V4cChbcHJlZml4LCBuZXh0S2V5LCBzdWZmaXhdLmpvaW4oJycpLCAnZycpLCBmLnJlZ2V4UmVwbGFjZW1lbnRFc2NhcGUoZi5lc2NhcGUodmFsdWUpKSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc3RyID0gc3RyLnJlcGxhY2UobmV3IFJlZ0V4cChbcHJlZml4LCBuZXh0S2V5LCBzdWZmaXhdLmpvaW4oJycpLCAnZycpLCBmLnJlZ2V4UmVwbGFjZW1lbnRFc2NhcGUodmFsdWUpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gc3RyID0gb3B0aW9ucy5lc2NhcGVJbnRlcnBvbGF0aW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHN0cjtcbiAgICB9XG4gICAgXG4gICAgLy8gYXBwZW5kIGl0IHRvIGZ1bmN0aW9uc1xuICAgIGYuYXBwbHlSZXBsYWNlbWVudCA9IGFwcGx5UmVwbGFjZW1lbnQ7XG4gICAgXG4gICAgZnVuY3Rpb24gYXBwbHlSZXVzZSh0cmFuc2xhdGVkLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBjb21tYSA9ICcsJztcbiAgICAgICAgdmFyIG9wdGlvbnNfb3BlbiA9ICd7JztcbiAgICAgICAgdmFyIG9wdGlvbnNfY2xvc2UgPSAnfSc7XG4gICAgXG4gICAgICAgIHZhciBvcHRzID0gZi5leHRlbmQoe30sIG9wdGlvbnMpO1xuICAgICAgICBkZWxldGUgb3B0cy5wb3N0UHJvY2VzcztcbiAgICBcbiAgICAgICAgd2hpbGUgKHRyYW5zbGF0ZWQuaW5kZXhPZihvLnJldXNlUHJlZml4KSAhPSAtMSkge1xuICAgICAgICAgICAgcmVwbGFjZW1lbnRDb3VudGVyKys7XG4gICAgICAgICAgICBpZiAocmVwbGFjZW1lbnRDb3VudGVyID4gby5tYXhSZWN1cnNpb24pIHsgYnJlYWs7IH0gLy8gc2FmZXR5IG5ldCBmb3IgdG9vIG11Y2ggcmVjdXJzaW9uXG4gICAgICAgICAgICB2YXIgaW5kZXhfb2Zfb3BlbmluZyA9IHRyYW5zbGF0ZWQubGFzdEluZGV4T2Yoby5yZXVzZVByZWZpeCk7XG4gICAgICAgICAgICB2YXIgaW5kZXhfb2ZfZW5kX29mX2Nsb3NpbmcgPSB0cmFuc2xhdGVkLmluZGV4T2Yoby5yZXVzZVN1ZmZpeCwgaW5kZXhfb2Zfb3BlbmluZykgKyBvLnJldXNlU3VmZml4Lmxlbmd0aDtcbiAgICAgICAgICAgIHZhciB0b2tlbiA9IHRyYW5zbGF0ZWQuc3Vic3RyaW5nKGluZGV4X29mX29wZW5pbmcsIGluZGV4X29mX2VuZF9vZl9jbG9zaW5nKTtcbiAgICAgICAgICAgIHZhciB0b2tlbl93aXRob3V0X3N5bWJvbHMgPSB0b2tlbi5yZXBsYWNlKG8ucmV1c2VQcmVmaXgsICcnKS5yZXBsYWNlKG8ucmV1c2VTdWZmaXgsICcnKTtcbiAgICBcbiAgICAgICAgICAgIGlmIChpbmRleF9vZl9lbmRfb2ZfY2xvc2luZyA8PSBpbmRleF9vZl9vcGVuaW5nKSB7XG4gICAgICAgICAgICAgICAgZi5lcnJvcigndGhlcmUgaXMgYW4gbWlzc2luZyBjbG9zaW5nIGluIGZvbGxvd2luZyB0cmFuc2xhdGlvbiB2YWx1ZScsIHRyYW5zbGF0ZWQpO1xuICAgICAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgIGlmICh0b2tlbl93aXRob3V0X3N5bWJvbHMuaW5kZXhPZihjb21tYSkgIT0gLTEpIHtcbiAgICAgICAgICAgICAgICB2YXIgaW5kZXhfb2ZfdG9rZW5fZW5kX29mX2Nsb3NpbmcgPSB0b2tlbl93aXRob3V0X3N5bWJvbHMuaW5kZXhPZihjb21tYSk7XG4gICAgICAgICAgICAgICAgaWYgKHRva2VuX3dpdGhvdXRfc3ltYm9scy5pbmRleE9mKG9wdGlvbnNfb3BlbiwgaW5kZXhfb2ZfdG9rZW5fZW5kX29mX2Nsb3NpbmcpICE9IC0xICYmIHRva2VuX3dpdGhvdXRfc3ltYm9scy5pbmRleE9mKG9wdGlvbnNfY2xvc2UsIGluZGV4X29mX3Rva2VuX2VuZF9vZl9jbG9zaW5nKSAhPSAtMSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXhfb2Zfb3B0c19vcGVuaW5nID0gdG9rZW5fd2l0aG91dF9zeW1ib2xzLmluZGV4T2Yob3B0aW9uc19vcGVuLCBpbmRleF9vZl90b2tlbl9lbmRfb2ZfY2xvc2luZyk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmRleF9vZl9vcHRzX2VuZF9vZl9jbG9zaW5nID0gdG9rZW5fd2l0aG91dF9zeW1ib2xzLmluZGV4T2Yob3B0aW9uc19jbG9zZSwgaW5kZXhfb2Zfb3B0c19vcGVuaW5nKSArIG9wdGlvbnNfY2xvc2UubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3B0cyA9IGYuZXh0ZW5kKG9wdHMsIEpTT04ucGFyc2UodG9rZW5fd2l0aG91dF9zeW1ib2xzLnN1YnN0cmluZyhpbmRleF9vZl9vcHRzX29wZW5pbmcsIGluZGV4X29mX29wdHNfZW5kX29mX2Nsb3NpbmcpKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b2tlbl93aXRob3V0X3N5bWJvbHMgPSB0b2tlbl93aXRob3V0X3N5bWJvbHMuc3Vic3RyaW5nKDAsIGluZGV4X29mX3Rva2VuX2VuZF9vZl9jbG9zaW5nKTtcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgdmFyIHRyYW5zbGF0ZWRfdG9rZW4gPSBfdHJhbnNsYXRlKHRva2VuX3dpdGhvdXRfc3ltYm9scywgb3B0cyk7XG4gICAgICAgICAgICB0cmFuc2xhdGVkID0gdHJhbnNsYXRlZC5yZXBsYWNlKHRva2VuLCBmLnJlZ2V4UmVwbGFjZW1lbnRFc2NhcGUodHJhbnNsYXRlZF90b2tlbikpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cmFuc2xhdGVkO1xuICAgIH1cbiAgICBcbiAgICBmdW5jdGlvbiBoYXNDb250ZXh0KG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIChvcHRpb25zLmNvbnRleHQgJiYgKHR5cGVvZiBvcHRpb25zLmNvbnRleHQgPT0gJ3N0cmluZycgfHwgdHlwZW9mIG9wdGlvbnMuY29udGV4dCA9PSAnbnVtYmVyJykpO1xuICAgIH1cbiAgICBcbiAgICBmdW5jdGlvbiBuZWVkc1BsdXJhbChvcHRpb25zLCBsbmcpIHtcbiAgICAgICAgcmV0dXJuIChvcHRpb25zLmNvdW50ICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIG9wdGlvbnMuY291bnQgIT0gJ3N0cmluZycvKiAmJiBwbHVyYWxFeHRlbnNpb25zLm5lZWRzUGx1cmFsKGxuZywgb3B0aW9ucy5jb3VudCkqLyk7XG4gICAgfVxuICAgIFxuICAgIGZ1bmN0aW9uIG5lZWRzSW5kZWZpbml0ZUFydGljbGUob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gKG9wdGlvbnMuaW5kZWZpbml0ZV9hcnRpY2xlICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIG9wdGlvbnMuaW5kZWZpbml0ZV9hcnRpY2xlICE9ICdzdHJpbmcnICYmIG9wdGlvbnMuaW5kZWZpbml0ZV9hcnRpY2xlKTtcbiAgICB9XG4gICAgXG4gICAgZnVuY3Rpb24gZXhpc3RzKGtleSwgb3B0aW9ucykge1xuICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICBcbiAgICAgICAgdmFyIG5vdEZvdW5kID0gX2dldERlZmF1bHRWYWx1ZShrZXksIG9wdGlvbnMpXG4gICAgICAgICAgICAsIGZvdW5kID0gX2ZpbmQoa2V5LCBvcHRpb25zKTtcbiAgICBcbiAgICAgICAgcmV0dXJuIGZvdW5kICE9PSB1bmRlZmluZWQgfHwgZm91bmQgPT09IG5vdEZvdW5kO1xuICAgIH1cbiAgICBcbiAgICBmdW5jdGlvbiB0cmFuc2xhdGUoa2V5LCBvcHRpb25zKSB7XG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIFxuICAgICAgICBpZiAoIWluaXRpYWxpemVkKSB7XG4gICAgICAgICAgICBmLmxvZygnaTE4bmV4dCBub3QgZmluaXNoZWQgaW5pdGlhbGl6YXRpb24uIHlvdSBtaWdodCBoYXZlIGNhbGxlZCB0IGZ1bmN0aW9uIGJlZm9yZSBsb2FkaW5nIHJlc291cmNlcyBmaW5pc2hlZC4nKVxuICAgICAgICAgICAgcmV0dXJuIG9wdGlvbnMuZGVmYXVsdFZhbHVlIHx8ICcnO1xuICAgICAgICB9O1xuICAgICAgICByZXBsYWNlbWVudENvdW50ZXIgPSAwO1xuICAgICAgICByZXR1cm4gX3RyYW5zbGF0ZS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICAgIH1cbiAgICBcbiAgICBmdW5jdGlvbiBfZ2V0RGVmYXVsdFZhbHVlKGtleSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gKG9wdGlvbnMuZGVmYXVsdFZhbHVlICE9PSB1bmRlZmluZWQpID8gb3B0aW9ucy5kZWZhdWx0VmFsdWUgOiBrZXk7XG4gICAgfVxuICAgIFxuICAgIGZ1bmN0aW9uIF9pbmplY3RTcHJpbnRmUHJvY2Vzc29yKCkge1xuICAgIFxuICAgICAgICB2YXIgdmFsdWVzID0gW107XG4gICAgXG4gICAgICAgIC8vIG1oOiBidWlsZCBhcnJheSBmcm9tIHNlY29uZCBhcmd1bWVudCBvbndhcmRzXG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YWx1ZXMucHVzaChhcmd1bWVudHNbaV0pO1xuICAgICAgICB9XG4gICAgXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBwb3N0UHJvY2VzczogJ3NwcmludGYnLFxuICAgICAgICAgICAgc3ByaW50ZjogICAgIHZhbHVlc1xuICAgICAgICB9O1xuICAgIH1cbiAgICBcbiAgICBmdW5jdGlvbiBfdHJhbnNsYXRlKHBvdGVudGlhbEtleXMsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMgJiYgdHlwZW9mIG9wdGlvbnMgIT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBpZiAoby5zaG9ydGN1dEZ1bmN0aW9uID09PSAnc3ByaW50ZicpIHtcbiAgICAgICAgICAgICAgICAvLyBtaDogZ2V0dGV4dCBsaWtlIHNwcmludGYgc3ludGF4IGZvdW5kLCBhdXRvbWF0aWNhbGx5IGNyZWF0ZSBzcHJpbnRmIHByb2Nlc3NvclxuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSBfaW5qZWN0U3ByaW50ZlByb2Nlc3Nvci5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChvLnNob3J0Y3V0RnVuY3Rpb24gPT09ICdkZWZhdWx0VmFsdWUnKSB7XG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiBvcHRpb25zXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgaWYgKHR5cGVvZiBvLmRlZmF1bHRWYXJpYWJsZXMgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBvcHRpb25zID0gZi5leHRlbmQoe30sIG8uZGVmYXVsdFZhcmlhYmxlcywgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgaWYgKHBvdGVudGlhbEtleXMgPT09IHVuZGVmaW5lZCB8fCBwb3RlbnRpYWxLZXlzID09PSBudWxsIHx8IHBvdGVudGlhbEtleXMgPT09ICcnKSByZXR1cm4gJyc7XG4gICAgXG4gICAgICAgIGlmICh0eXBlb2YgcG90ZW50aWFsS2V5cyA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIHBvdGVudGlhbEtleXMgPSBTdHJpbmcocG90ZW50aWFsS2V5cyk7XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgaWYgKHR5cGVvZiBwb3RlbnRpYWxLZXlzID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcG90ZW50aWFsS2V5cyA9IFtwb3RlbnRpYWxLZXlzXTtcbiAgICAgICAgfVxuICAgIFxuICAgICAgICB2YXIga2V5ID0gcG90ZW50aWFsS2V5c1swXTtcbiAgICBcbiAgICAgICAgaWYgKHBvdGVudGlhbEtleXMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwb3RlbnRpYWxLZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAga2V5ID0gcG90ZW50aWFsS2V5c1tpXTtcbiAgICAgICAgICAgICAgICBpZiAoZXhpc3RzKGtleSwgb3B0aW9ucykpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgXG4gICAgICAgIHZhciBub3RGb3VuZCA9IF9nZXREZWZhdWx0VmFsdWUoa2V5LCBvcHRpb25zKVxuICAgICAgICAgICAgLCBmb3VuZCA9IF9maW5kKGtleSwgb3B0aW9ucylcbiAgICAgICAgICAgICwgbG5ncyA9IG9wdGlvbnMubG5nID8gZi50b0xhbmd1YWdlcyhvcHRpb25zLmxuZywgb3B0aW9ucy5mYWxsYmFja0xuZykgOiBsYW5ndWFnZXNcbiAgICAgICAgICAgICwgbnMgPSBvcHRpb25zLm5zIHx8IG8ubnMuZGVmYXVsdE5zXG4gICAgICAgICAgICAsIHBhcnRzO1xuICAgIFxuICAgICAgICAvLyBzcGxpdCBucyBhbmQga2V5XG4gICAgICAgIGlmIChrZXkuaW5kZXhPZihvLm5zc2VwYXJhdG9yKSA+IC0xKSB7XG4gICAgICAgICAgICBwYXJ0cyA9IGtleS5zcGxpdChvLm5zc2VwYXJhdG9yKTtcbiAgICAgICAgICAgIG5zID0gcGFydHNbMF07XG4gICAgICAgICAgICBrZXkgPSBwYXJ0c1sxXTtcbiAgICAgICAgfVxuICAgIFxuICAgICAgICBpZiAoZm91bmQgPT09IHVuZGVmaW5lZCAmJiBvLnNlbmRNaXNzaW5nICYmIHR5cGVvZiBvLm1pc3NpbmdLZXlIYW5kbGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5sbmcpIHtcbiAgICAgICAgICAgICAgICBvLm1pc3NpbmdLZXlIYW5kbGVyKGxuZ3NbMF0sIG5zLCBrZXksIG5vdEZvdW5kLCBsbmdzKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgby5taXNzaW5nS2V5SGFuZGxlcihvLmxuZywgbnMsIGtleSwgbm90Rm91bmQsIGxuZ3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgXG4gICAgICAgIHZhciBwb3N0UHJvY2Vzc29yc1RvQXBwbHk7XG4gICAgICAgIGlmICh0eXBlb2Ygby5wb3N0UHJvY2VzcyA9PT0gJ3N0cmluZycgJiYgby5wb3N0UHJvY2VzcyAhPT0gJycpIHtcbiAgICAgICAgICAgIHBvc3RQcm9jZXNzb3JzVG9BcHBseSA9IFtvLnBvc3RQcm9jZXNzXTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygby5wb3N0UHJvY2VzcyA9PT0gJ2FycmF5JyB8fCB0eXBlb2Ygby5wb3N0UHJvY2VzcyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIHBvc3RQcm9jZXNzb3JzVG9BcHBseSA9IG8ucG9zdFByb2Nlc3M7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwb3N0UHJvY2Vzc29yc1RvQXBwbHkgPSBbXTtcbiAgICAgICAgfVxuICAgIFxuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMucG9zdFByb2Nlc3MgPT09ICdzdHJpbmcnICYmIG9wdGlvbnMucG9zdFByb2Nlc3MgIT09ICcnKSB7XG4gICAgICAgICAgICBwb3N0UHJvY2Vzc29yc1RvQXBwbHkgPSBwb3N0UHJvY2Vzc29yc1RvQXBwbHkuY29uY2F0KFtvcHRpb25zLnBvc3RQcm9jZXNzXSk7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIG9wdGlvbnMucG9zdFByb2Nlc3MgPT09ICdhcnJheScgfHwgdHlwZW9mIG9wdGlvbnMucG9zdFByb2Nlc3MgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBwb3N0UHJvY2Vzc29yc1RvQXBwbHkgPSBwb3N0UHJvY2Vzc29yc1RvQXBwbHkuY29uY2F0KG9wdGlvbnMucG9zdFByb2Nlc3MpO1xuICAgICAgICB9XG4gICAgXG4gICAgICAgIGlmIChmb3VuZCAhPT0gdW5kZWZpbmVkICYmIHBvc3RQcm9jZXNzb3JzVG9BcHBseS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHBvc3RQcm9jZXNzb3JzVG9BcHBseS5mb3JFYWNoKGZ1bmN0aW9uKHBvc3RQcm9jZXNzb3IpIHtcbiAgICAgICAgICAgICAgICBpZiAocG9zdFByb2Nlc3NvcnNbcG9zdFByb2Nlc3Nvcl0pIHtcbiAgICAgICAgICAgICAgICAgICAgZm91bmQgPSBwb3N0UHJvY2Vzc29yc1twb3N0UHJvY2Vzc29yXShmb3VuZCwga2V5LCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIFxuICAgICAgICAvLyBwcm9jZXNzIG5vdEZvdW5kIGlmIGZ1bmN0aW9uIGV4aXN0c1xuICAgICAgICB2YXIgc3BsaXROb3RGb3VuZCA9IG5vdEZvdW5kO1xuICAgICAgICBpZiAobm90Rm91bmQuaW5kZXhPZihvLm5zc2VwYXJhdG9yKSA+IC0xKSB7XG4gICAgICAgICAgICBwYXJ0cyA9IG5vdEZvdW5kLnNwbGl0KG8ubnNzZXBhcmF0b3IpO1xuICAgICAgICAgICAgc3BsaXROb3RGb3VuZCA9IHBhcnRzWzFdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzcGxpdE5vdEZvdW5kID09PSBrZXkgJiYgby5wYXJzZU1pc3NpbmdLZXkpIHtcbiAgICAgICAgICAgIG5vdEZvdW5kID0gby5wYXJzZU1pc3NpbmdLZXkobm90Rm91bmQpO1xuICAgICAgICB9XG4gICAgXG4gICAgICAgIGlmIChmb3VuZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBub3RGb3VuZCA9IGFwcGx5UmVwbGFjZW1lbnQobm90Rm91bmQsIG9wdGlvbnMpO1xuICAgICAgICAgICAgbm90Rm91bmQgPSBhcHBseVJldXNlKG5vdEZvdW5kLCBvcHRpb25zKTtcbiAgICBcbiAgICAgICAgICAgIGlmIChwb3N0UHJvY2Vzc29yc1RvQXBwbHkubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdmFyIHZhbCA9IF9nZXREZWZhdWx0VmFsdWUoa2V5LCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICBwb3N0UHJvY2Vzc29yc1RvQXBwbHkuZm9yRWFjaChmdW5jdGlvbihwb3N0UHJvY2Vzc29yKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwb3N0UHJvY2Vzc29yc1twb3N0UHJvY2Vzc29yXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm91bmQgPSBwb3N0UHJvY2Vzc29yc1twb3N0UHJvY2Vzc29yXSh2YWwsIGtleSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIFxuICAgICAgICByZXR1cm4gKGZvdW5kICE9PSB1bmRlZmluZWQpID8gZm91bmQgOiBub3RGb3VuZDtcbiAgICB9XG4gICAgXG4gICAgZnVuY3Rpb24gX2ZpbmQoa2V5LCBvcHRpb25zKSB7XG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIFxuICAgICAgICB2YXIgb3B0aW9uV2l0aG91dENvdW50LCB0cmFuc2xhdGVkXG4gICAgICAgICAgICAsIG5vdEZvdW5kID0gX2dldERlZmF1bHRWYWx1ZShrZXksIG9wdGlvbnMpXG4gICAgICAgICAgICAsIGxuZ3MgPSBsYW5ndWFnZXM7XG4gICAgXG4gICAgICAgIGlmICghcmVzU3RvcmUpIHsgcmV0dXJuIG5vdEZvdW5kOyB9IC8vIG5vIHJlc1N0b3JlIHRvIHRyYW5zbGF0ZSBmcm9tXG4gICAgXG4gICAgICAgIC8vIENJIG1vZGVcbiAgICAgICAgaWYgKGxuZ3NbMF0udG9Mb3dlckNhc2UoKSA9PT0gJ2NpbW9kZScpIHJldHVybiBub3RGb3VuZDtcbiAgICBcbiAgICAgICAgLy8gcGFzc2VkIGluIGxuZ1xuICAgICAgICBpZiAob3B0aW9ucy5sbmdzKSBsbmdzID0gb3B0aW9ucy5sbmdzO1xuICAgICAgICBpZiAob3B0aW9ucy5sbmcpIHtcbiAgICAgICAgICAgIGxuZ3MgPSBmLnRvTGFuZ3VhZ2VzKG9wdGlvbnMubG5nLCBvcHRpb25zLmZhbGxiYWNrTG5nKTtcbiAgICBcbiAgICAgICAgICAgIGlmICghcmVzU3RvcmVbbG5nc1swXV0pIHtcbiAgICAgICAgICAgICAgICB2YXIgb2xkQXN5bmMgPSBvLmdldEFzeW5jO1xuICAgICAgICAgICAgICAgIG8uZ2V0QXN5bmMgPSBmYWxzZTtcbiAgICBcbiAgICAgICAgICAgICAgICBpMThuLnN5bmMubG9hZChsbmdzLCBvLCBmdW5jdGlvbihlcnIsIHN0b3JlKSB7XG4gICAgICAgICAgICAgICAgICAgIGYuZXh0ZW5kKHJlc1N0b3JlLCBzdG9yZSk7XG4gICAgICAgICAgICAgICAgICAgIG8uZ2V0QXN5bmMgPSBvbGRBc3luYztcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIFxuICAgICAgICB2YXIgbnMgPSBvcHRpb25zLm5zIHx8IG8ubnMuZGVmYXVsdE5zO1xuICAgICAgICBpZiAoa2V5LmluZGV4T2Yoby5uc3NlcGFyYXRvcikgPiAtMSkge1xuICAgICAgICAgICAgdmFyIHBhcnRzID0ga2V5LnNwbGl0KG8ubnNzZXBhcmF0b3IpO1xuICAgICAgICAgICAgbnMgPSBwYXJ0c1swXTtcbiAgICAgICAgICAgIGtleSA9IHBhcnRzWzFdO1xuICAgICAgICB9XG4gICAgXG4gICAgICAgIGlmIChoYXNDb250ZXh0KG9wdGlvbnMpKSB7XG4gICAgICAgICAgICBvcHRpb25XaXRob3V0Q291bnQgPSBmLmV4dGVuZCh7fSwgb3B0aW9ucyk7XG4gICAgICAgICAgICBkZWxldGUgb3B0aW9uV2l0aG91dENvdW50LmNvbnRleHQ7XG4gICAgICAgICAgICBvcHRpb25XaXRob3V0Q291bnQuZGVmYXVsdFZhbHVlID0gby5jb250ZXh0Tm90Rm91bmQ7XG4gICAgXG4gICAgICAgICAgICB2YXIgY29udGV4dEtleSA9IG5zICsgby5uc3NlcGFyYXRvciArIGtleSArICdfJyArIG9wdGlvbnMuY29udGV4dDtcbiAgICBcbiAgICAgICAgICAgIHRyYW5zbGF0ZWQgPSB0cmFuc2xhdGUoY29udGV4dEtleSwgb3B0aW9uV2l0aG91dENvdW50KTtcbiAgICAgICAgICAgIGlmICh0cmFuc2xhdGVkICE9IG8uY29udGV4dE5vdEZvdW5kKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFwcGx5UmVwbGFjZW1lbnQodHJhbnNsYXRlZCwgeyBjb250ZXh0OiBvcHRpb25zLmNvbnRleHQgfSk7IC8vIGFwcGx5IHJlcGxhY2VtZW50IGZvciBjb250ZXh0IG9ubHlcbiAgICAgICAgICAgIH0gLy8gZWxzZSBjb250aW51ZSB0cmFuc2xhdGlvbiB3aXRoIG9yaWdpbmFsL25vbkNvbnRleHQga2V5XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgaWYgKG5lZWRzUGx1cmFsKG9wdGlvbnMsIGxuZ3NbMF0pKSB7XG4gICAgICAgICAgICBvcHRpb25XaXRob3V0Q291bnQgPSBmLmV4dGVuZCh7IGxuZ3M6IFtsbmdzWzBdXX0sIG9wdGlvbnMpO1xuICAgICAgICAgICAgZGVsZXRlIG9wdGlvbldpdGhvdXRDb3VudC5jb3VudDtcbiAgICAgICAgICAgIG9wdGlvbldpdGhvdXRDb3VudC5fb3JpZ0xuZyA9IG9wdGlvbldpdGhvdXRDb3VudC5fb3JpZ0xuZyB8fCBvcHRpb25XaXRob3V0Q291bnQubG5nIHx8IGxuZ3NbMF07XG4gICAgICAgICAgICBkZWxldGUgb3B0aW9uV2l0aG91dENvdW50LmxuZztcbiAgICAgICAgICAgIG9wdGlvbldpdGhvdXRDb3VudC5kZWZhdWx0VmFsdWUgPSBvLnBsdXJhbE5vdEZvdW5kO1xuICAgIFxuICAgICAgICAgICAgdmFyIHBsdXJhbEtleTtcbiAgICAgICAgICAgIGlmICghcGx1cmFsRXh0ZW5zaW9ucy5uZWVkc1BsdXJhbChsbmdzWzBdLCBvcHRpb25zLmNvdW50KSkge1xuICAgICAgICAgICAgICAgIHBsdXJhbEtleSA9IG5zICsgby5uc3NlcGFyYXRvciArIGtleTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGx1cmFsS2V5ID0gbnMgKyBvLm5zc2VwYXJhdG9yICsga2V5ICsgby5wbHVyYWxTdWZmaXg7XG4gICAgICAgICAgICAgICAgdmFyIHBsdXJhbEV4dGVuc2lvbiA9IHBsdXJhbEV4dGVuc2lvbnMuZ2V0KGxuZ3NbMF0sIG9wdGlvbnMuY291bnQpO1xuICAgICAgICAgICAgICAgIGlmIChwbHVyYWxFeHRlbnNpb24gPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICBwbHVyYWxLZXkgPSBwbHVyYWxLZXkgKyAnXycgKyBwbHVyYWxFeHRlbnNpb247XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwbHVyYWxFeHRlbnNpb24gPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgcGx1cmFsS2V5ID0gbnMgKyBvLm5zc2VwYXJhdG9yICsga2V5OyAvLyBzaW5ndWxhclxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgIHRyYW5zbGF0ZWQgPSB0cmFuc2xhdGUocGx1cmFsS2V5LCBvcHRpb25XaXRob3V0Q291bnQpO1xuICAgIFxuICAgICAgICAgICAgaWYgKHRyYW5zbGF0ZWQgIT0gby5wbHVyYWxOb3RGb3VuZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBhcHBseVJlcGxhY2VtZW50KHRyYW5zbGF0ZWQsIHtcbiAgICAgICAgICAgICAgICAgICAgY291bnQ6IG9wdGlvbnMuY291bnQsXG4gICAgICAgICAgICAgICAgICAgIGludGVycG9sYXRpb25QcmVmaXg6IG9wdGlvbnMuaW50ZXJwb2xhdGlvblByZWZpeCxcbiAgICAgICAgICAgICAgICAgICAgaW50ZXJwb2xhdGlvblN1ZmZpeDogb3B0aW9ucy5pbnRlcnBvbGF0aW9uU3VmZml4XG4gICAgICAgICAgICAgICAgfSk7IC8vIGFwcGx5IHJlcGxhY2VtZW50IGZvciBjb3VudCBvbmx5XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGxuZ3MubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgIC8vIHJlbW92ZSBmYWlsZWQgbG5nXG4gICAgICAgICAgICAgICAgdmFyIGNsb25lID0gbG5ncy5zbGljZSgpO1xuICAgICAgICAgICAgICAgIGNsb25lLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IGYuZXh0ZW5kKG9wdGlvbnMsIHsgbG5nczogY2xvbmUgfSk7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5fb3JpZ0xuZyA9IG9wdGlvbldpdGhvdXRDb3VudC5fb3JpZ0xuZztcbiAgICAgICAgICAgICAgICBkZWxldGUgb3B0aW9ucy5sbmc7XG4gICAgICAgICAgICAgICAgLy8gcmV0cnkgd2l0aCBmYWxsYmFja3NcbiAgICAgICAgICAgICAgICB0cmFuc2xhdGVkID0gdHJhbnNsYXRlKG5zICsgby5uc3NlcGFyYXRvciArIGtleSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgaWYgKHRyYW5zbGF0ZWQgIT0gby5wbHVyYWxOb3RGb3VuZCkgcmV0dXJuIHRyYW5zbGF0ZWQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG9wdGlvbldpdGhvdXRDb3VudC5sbmcgPSBvcHRpb25XaXRob3V0Q291bnQuX29yaWdMbmc7XG4gICAgICAgICAgICAgICAgZGVsZXRlIG9wdGlvbldpdGhvdXRDb3VudC5fb3JpZ0xuZztcbiAgICAgICAgICAgICAgICB0cmFuc2xhdGVkID0gdHJhbnNsYXRlKG5zICsgby5uc3NlcGFyYXRvciArIGtleSwgb3B0aW9uV2l0aG91dENvdW50KTtcbiAgICBcbiAgICAgICAgICAgICAgICByZXR1cm4gYXBwbHlSZXBsYWNlbWVudCh0cmFuc2xhdGVkLCB7XG4gICAgICAgICAgICAgICAgICAgIGNvdW50OiBvcHRpb25zLmNvdW50LFxuICAgICAgICAgICAgICAgICAgICBpbnRlcnBvbGF0aW9uUHJlZml4OiBvcHRpb25zLmludGVycG9sYXRpb25QcmVmaXgsXG4gICAgICAgICAgICAgICAgICAgIGludGVycG9sYXRpb25TdWZmaXg6IG9wdGlvbnMuaW50ZXJwb2xhdGlvblN1ZmZpeFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgXG4gICAgICAgIGlmIChuZWVkc0luZGVmaW5pdGVBcnRpY2xlKG9wdGlvbnMpKSB7XG4gICAgICAgICAgICB2YXIgb3B0aW9uc1dpdGhvdXRJbmRlZiA9IGYuZXh0ZW5kKHt9LCBvcHRpb25zKTtcbiAgICAgICAgICAgIGRlbGV0ZSBvcHRpb25zV2l0aG91dEluZGVmLmluZGVmaW5pdGVfYXJ0aWNsZTtcbiAgICAgICAgICAgIG9wdGlvbnNXaXRob3V0SW5kZWYuZGVmYXVsdFZhbHVlID0gby5pbmRlZmluaXRlTm90Rm91bmQ7XG4gICAgICAgICAgICAvLyBJZiB3ZSBkb24ndCBoYXZlIGEgY291bnQsIHdlIHdhbnQgdGhlIGluZGVmaW5pdGUsIGlmIHdlIGRvIGhhdmUgYSBjb3VudCwgYW5kIG5lZWRzUGx1cmFsIGlzIGZhbHNlXG4gICAgICAgICAgICB2YXIgaW5kZWZpbml0ZUtleSA9IG5zICsgby5uc3NlcGFyYXRvciArIGtleSArICgoKG9wdGlvbnMuY291bnQgJiYgIW5lZWRzUGx1cmFsKG9wdGlvbnMsIGxuZ3NbMF0pKSB8fCAhb3B0aW9ucy5jb3VudCkgPyBvLmluZGVmaW5pdGVTdWZmaXggOiBcIlwiKTtcbiAgICAgICAgICAgIHRyYW5zbGF0ZWQgPSB0cmFuc2xhdGUoaW5kZWZpbml0ZUtleSwgb3B0aW9uc1dpdGhvdXRJbmRlZik7XG4gICAgICAgICAgICBpZiAodHJhbnNsYXRlZCAhPSBvLmluZGVmaW5pdGVOb3RGb3VuZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cmFuc2xhdGVkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgXG4gICAgICAgIHZhciBmb3VuZDtcbiAgICAgICAgdmFyIGtleXMgPSBrZXkuc3BsaXQoby5rZXlzZXBhcmF0b3IpO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gbG5ncy5sZW5ndGg7IGkgPCBsZW47IGkrKyApIHtcbiAgICAgICAgICAgIGlmIChmb3VuZCAhPT0gdW5kZWZpbmVkKSBicmVhaztcbiAgICBcbiAgICAgICAgICAgIHZhciBsID0gbG5nc1tpXTtcbiAgICBcbiAgICAgICAgICAgIHZhciB4ID0gMDtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHJlc1N0b3JlW2xdICYmIHJlc1N0b3JlW2xdW25zXTtcbiAgICAgICAgICAgIHdoaWxlIChrZXlzW3hdKSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZSAmJiB2YWx1ZVtrZXlzW3hdXTtcbiAgICAgICAgICAgICAgICB4Kys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCAmJiAoIW8uc2hvd0tleUlmRW1wdHkgfHwgdmFsdWUgIT09ICcnKSkge1xuICAgICAgICAgICAgICAgIHZhciB2YWx1ZVR5cGUgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmFwcGx5KHZhbHVlKTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGFwcGx5UmVwbGFjZW1lbnQodmFsdWUsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGFwcGx5UmV1c2UodmFsdWUsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodmFsdWVUeXBlID09PSAnW29iamVjdCBBcnJheV0nICYmICFvLnJldHVybk9iamVjdFRyZWVzICYmICFvcHRpb25zLnJldHVybk9iamVjdFRyZWVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gdmFsdWUuam9pbignXFxuJyk7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gYXBwbHlSZXBsYWNlbWVudCh2YWx1ZSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gYXBwbHlSZXVzZSh2YWx1ZSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh2YWx1ZSA9PT0gbnVsbCAmJiBvLmZhbGxiYWNrT25OdWxsID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodmFsdWUgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFvLnJldHVybk9iamVjdFRyZWVzICYmICFvcHRpb25zLnJldHVybk9iamVjdFRyZWVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoby5vYmplY3RUcmVlS2V5SGFuZGxlciAmJiB0eXBlb2Ygby5vYmplY3RUcmVlS2V5SGFuZGxlciA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBvLm9iamVjdFRyZWVLZXlIYW5kbGVyKGtleSwgdmFsdWUsIGwsIG5zLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSAna2V5IFxcJycgKyBucyArICc6JyArIGtleSArICcgKCcgKyBsICsgJylcXCcgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdyZXR1cm5lZCBhbiBvYmplY3QgaW5zdGVhZCBvZiBzdHJpbmcuJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmLmxvZyh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodmFsdWVUeXBlICE9PSAnW29iamVjdCBOdW1iZXJdJyAmJiB2YWx1ZVR5cGUgIT09ICdbb2JqZWN0IEZ1bmN0aW9uXScgJiYgdmFsdWVUeXBlICE9PSAnW29iamVjdCBSZWdFeHBdJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvcHkgPSAodmFsdWVUeXBlID09PSAnW29iamVjdCBBcnJheV0nKSA/IFtdIDoge307IC8vIGFwcGx5IGNoaWxkIHRyYW5zbGF0aW9uIG9uIGEgY29weVxuICAgICAgICAgICAgICAgICAgICAgICAgZi5lYWNoKHZhbHVlLCBmdW5jdGlvbihtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29weVttXSA9IF90cmFuc2xhdGUobnMgKyBvLm5zc2VwYXJhdG9yICsga2V5ICsgby5rZXlzZXBhcmF0b3IgKyBtLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBjb3B5O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnICYmIHZhbHVlLnRyaW0oKSA9PT0gJycgJiYgby5mYWxsYmFja09uRW1wdHkgPT09IHRydWUpXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gdW5kZWZpbmVkO1xuICAgIFxuICAgICAgICAgICAgICAgIGZvdW5kID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgaWYgKGZvdW5kID09PSB1bmRlZmluZWQgJiYgIW9wdGlvbnMuaXNGYWxsYmFja0xvb2t1cCAmJiAoby5mYWxsYmFja1RvRGVmYXVsdE5TID09PSB0cnVlIHx8IChvLmZhbGxiYWNrTlMgJiYgby5mYWxsYmFja05TLmxlbmd0aCA+IDApKSkge1xuICAgICAgICAgICAgLy8gc2V0IGZsYWcgZm9yIGZhbGxiYWNrIGxvb2t1cCAtIGF2b2lkIHJlY3Vyc2lvblxuICAgICAgICAgICAgb3B0aW9ucy5pc0ZhbGxiYWNrTG9va3VwID0gdHJ1ZTtcbiAgICBcbiAgICAgICAgICAgIGlmIChvLmZhbGxiYWNrTlMubGVuZ3RoKSB7XG4gICAgXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgeSA9IDAsIGxlblkgPSBvLmZhbGxiYWNrTlMubGVuZ3RoOyB5IDwgbGVuWTsgeSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvdW5kID0gX2ZpbmQoby5mYWxsYmFja05TW3ldICsgby5uc3NlcGFyYXRvciArIGtleSwgb3B0aW9ucyk7XG4gICAgXG4gICAgICAgICAgICAgICAgICAgIGlmIChmb3VuZCB8fCAoZm91bmQ9PT1cIlwiICYmIG8uZmFsbGJhY2tPbkVtcHR5ID09PSBmYWxzZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qIGNvbXBhcmUgdmFsdWUgd2l0aG91dCBuYW1lc3BhY2UgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmb3VuZFZhbHVlID0gZm91bmQuaW5kZXhPZihvLm5zc2VwYXJhdG9yKSA+IC0xID8gZm91bmQuc3BsaXQoby5uc3NlcGFyYXRvcilbMV0gOiBmb3VuZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAsIG5vdEZvdW5kVmFsdWUgPSBub3RGb3VuZC5pbmRleE9mKG8ubnNzZXBhcmF0b3IpID4gLTEgPyBub3RGb3VuZC5zcGxpdChvLm5zc2VwYXJhdG9yKVsxXSA6IG5vdEZvdW5kO1xuICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZvdW5kVmFsdWUgIT09IG5vdEZvdW5kVmFsdWUpIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zLm5zID0gby5ucy5kZWZhdWx0TnM7XG4gICAgICAgICAgICAgICAgZm91bmQgPSBfZmluZChrZXksIG9wdGlvbnMpOyAvLyBmYWxsYmFjayB0byBkZWZhdWx0IE5TXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvcHRpb25zLmlzRmFsbGJhY2tMb29rdXAgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIFxuICAgICAgICByZXR1cm4gZm91bmQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRldGVjdExhbmd1YWdlKCkge1xuICAgICAgICB2YXIgZGV0ZWN0ZWRMbmc7XG4gICAgICAgIHZhciB3aGl0ZWxpc3QgPSBvLmxuZ1doaXRlbGlzdCB8fCBbXTtcbiAgICAgICAgdmFyIHVzZXJMbmdDaG9pY2VzID0gW107XG4gICAgXG4gICAgICAgIC8vIGdldCBmcm9tIHFzXG4gICAgICAgIHZhciBxc1Bhcm0gPSBbXTtcbiAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdmFyIHF1ZXJ5ID0gd2luZG93LmxvY2F0aW9uLnNlYXJjaC5zdWJzdHJpbmcoMSk7XG4gICAgICAgICAgICAgICAgdmFyIHBhcmFtcyA9IHF1ZXJ5LnNwbGl0KCcmJyk7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaT0wOyBpPHBhcmFtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcG9zID0gcGFyYW1zW2ldLmluZGV4T2YoJz0nKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBvcyA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBrZXkgPSBwYXJhbXNbaV0uc3Vic3RyaW5nKDAscG9zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChrZXkgPT0gby5kZXRlY3RMbmdRUykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJMbmdDaG9pY2VzLnB1c2gocGFyYW1zW2ldLnN1YnN0cmluZyhwb3MrMSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkoKTtcbiAgICAgICAgfVxuICAgIFxuICAgICAgICAvLyBnZXQgZnJvbSBjb29raWVcbiAgICAgICAgaWYgKG8udXNlQ29va2llICYmIHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHZhciBjID0gZi5jb29raWUucmVhZChvLmNvb2tpZU5hbWUpO1xuICAgICAgICAgICAgaWYgKGMpIHVzZXJMbmdDaG9pY2VzLnB1c2goYyk7XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgLy8gZ2V0IGZyb20gbG9jYWxTdG9yYWdlXG4gICAgICAgIGlmIChvLmRldGVjdExuZ0Zyb21Mb2NhbFN0b3JhZ2UgJiYgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmxvY2FsU3RvcmFnZSkge1xuICAgICAgICAgICAgdmFyIGxhbmcgPSBmLmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdpMThuZXh0X2xuZycpO1xuICAgICAgICAgICAgaWYgKGxhbmcpIHtcbiAgICAgICAgICAgICAgICB1c2VyTG5nQ2hvaWNlcy5wdXNoKGxhbmcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgXG4gICAgICAgIC8vIGdldCBmcm9tIG5hdmlnYXRvclxuICAgICAgICBpZiAodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIGlmIChuYXZpZ2F0b3IubGFuZ3VhZ2VzKSB7IC8vIGNocm9tZSBvbmx5OyBub3QgYW4gYXJyYXksIHNvIGNhbid0IHVzZSAucHVzaC5hcHBseSBpbnN0ZWFkIG9mIGl0ZXJhdGluZ1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGk9MDtpPG5hdmlnYXRvci5sYW5ndWFnZXMubGVuZ3RoO2krKykge1xuICAgICAgICAgICAgICAgICAgICB1c2VyTG5nQ2hvaWNlcy5wdXNoKG5hdmlnYXRvci5sYW5ndWFnZXNbaV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChuYXZpZ2F0b3IudXNlckxhbmd1YWdlKSB7XG4gICAgICAgICAgICAgICAgdXNlckxuZ0Nob2ljZXMucHVzaChuYXZpZ2F0b3IudXNlckxhbmd1YWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChuYXZpZ2F0b3IubGFuZ3VhZ2UpIHtcbiAgICAgICAgICAgICAgICB1c2VyTG5nQ2hvaWNlcy5wdXNoKG5hdmlnYXRvci5sYW5ndWFnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgZm9yICh2YXIgaT0wO2k8dXNlckxuZ0Nob2ljZXMubGVuZ3RoO2krKykge1xuICAgICAgICAgICAgICAgIHZhciBsbmcgPSB1c2VyTG5nQ2hvaWNlc1tpXTtcbiAgICBcbiAgICAgICAgICAgICAgICBpZiAobG5nLmluZGV4T2YoJy0nKSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwYXJ0cyA9IGxuZy5zcGxpdCgnLScpO1xuICAgICAgICAgICAgICAgICAgICBsbmcgPSBvLmxvd2VyQ2FzZUxuZyA/XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJ0c1swXS50b0xvd2VyQ2FzZSgpICsgICctJyArIHBhcnRzWzFdLnRvTG93ZXJDYXNlKCkgOlxuICAgICAgICAgICAgICAgICAgICAgICAgcGFydHNbMF0udG9Mb3dlckNhc2UoKSArICAnLScgKyBwYXJ0c1sxXS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgICAgICBpZiAod2hpdGVsaXN0Lmxlbmd0aCA9PT0gMCB8fCB3aGl0ZWxpc3QuaW5kZXhPZihsbmcpID4gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgZGV0ZWN0ZWRMbmcgPSBsbmc7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkoKTtcbiAgICBcbiAgICAgICAgLy9mYWxsYmFja1xuICAgICAgICBpZiAoIWRldGVjdGVkTG5nKXtcbiAgICAgICAgICBkZXRlY3RlZExuZyA9IG8uZmFsbGJhY2tMbmdbMF07XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHJldHVybiBkZXRlY3RlZExuZztcbiAgICB9XG4gICAgLy8gZGVmaW5pdGlvbiBodHRwOi8vdHJhbnNsYXRlLnNvdXJjZWZvcmdlLm5ldC93aWtpL2wxMG4vcGx1cmFsZm9ybXNcbiAgICBcbiAgICAvKiBbY29kZSwgbmFtZSwgbnVtYmVycywgcGx1cmFsc1R5cGVdICovXG4gICAgdmFyIF9ydWxlcyA9IFtcbiAgICAgICAgW1wiYWNoXCIsIFwiQWNob2xpXCIsIFsxLDJdLCAxXSxcbiAgICAgICAgW1wiYWZcIiwgXCJBZnJpa2FhbnNcIixbMSwyXSwgMl0sXG4gICAgICAgIFtcImFrXCIsIFwiQWthblwiLCBbMSwyXSwgMV0sXG4gICAgICAgIFtcImFtXCIsIFwiQW1oYXJpY1wiLCBbMSwyXSwgMV0sXG4gICAgICAgIFtcImFuXCIsIFwiQXJhZ29uZXNlXCIsWzEsMl0sIDJdLFxuICAgICAgICBbXCJhclwiLCBcIkFyYWJpY1wiLCBbMCwxLDIsMywxMSwxMDBdLDVdLFxuICAgICAgICBbXCJhcm5cIiwgXCJNYXB1ZHVuZ3VuXCIsWzEsMl0sIDFdLFxuICAgICAgICBbXCJhc3RcIiwgXCJBc3R1cmlhblwiLCBbMSwyXSwgMl0sXG4gICAgICAgIFtcImF5XCIsIFwiQXltYXLDoVwiLCBbMV0sIDNdLFxuICAgICAgICBbXCJhelwiLCBcIkF6ZXJiYWlqYW5pXCIsWzEsMl0sMl0sXG4gICAgICAgIFtcImJlXCIsIFwiQmVsYXJ1c2lhblwiLFsxLDIsNV0sNF0sXG4gICAgICAgIFtcImJnXCIsIFwiQnVsZ2FyaWFuXCIsWzEsMl0sIDJdLFxuICAgICAgICBbXCJiblwiLCBcIkJlbmdhbGlcIiwgWzEsMl0sIDJdLFxuICAgICAgICBbXCJib1wiLCBcIlRpYmV0YW5cIiwgWzFdLCAzXSxcbiAgICAgICAgW1wiYnJcIiwgXCJCcmV0b25cIiwgWzEsMl0sIDFdLFxuICAgICAgICBbXCJic1wiLCBcIkJvc25pYW5cIiwgWzEsMiw1XSw0XSxcbiAgICAgICAgW1wiY2FcIiwgXCJDYXRhbGFuXCIsIFsxLDJdLCAyXSxcbiAgICAgICAgW1wiY2dnXCIsIFwiQ2hpZ2FcIiwgWzFdLCAzXSxcbiAgICAgICAgW1wiY3NcIiwgXCJDemVjaFwiLCBbMSwyLDVdLDZdLFxuICAgICAgICBbXCJjc2JcIiwgXCJLYXNodWJpYW5cIixbMSwyLDVdLDddLFxuICAgICAgICBbXCJjeVwiLCBcIldlbHNoXCIsIFsxLDIsMyw4XSw4XSxcbiAgICAgICAgW1wiZGFcIiwgXCJEYW5pc2hcIiwgWzEsMl0sIDJdLFxuICAgICAgICBbXCJkZVwiLCBcIkdlcm1hblwiLCBbMSwyXSwgMl0sXG4gICAgICAgIFtcImRldlwiLCBcIkRldmVsb3BtZW50IEZhbGxiYWNrXCIsIFsxLDJdLCAyXSxcbiAgICAgICAgW1wiZHpcIiwgXCJEem9uZ2toYVwiLCBbMV0sIDNdLFxuICAgICAgICBbXCJlbFwiLCBcIkdyZWVrXCIsIFsxLDJdLCAyXSxcbiAgICAgICAgW1wiZW5cIiwgXCJFbmdsaXNoXCIsIFsxLDJdLCAyXSxcbiAgICAgICAgW1wiZW9cIiwgXCJFc3BlcmFudG9cIixbMSwyXSwgMl0sXG4gICAgICAgIFtcImVzXCIsIFwiU3BhbmlzaFwiLCBbMSwyXSwgMl0sXG4gICAgICAgIFtcImVzX2FyXCIsXCJBcmdlbnRpbmVhbiBTcGFuaXNoXCIsIFsxLDJdLCAyXSxcbiAgICAgICAgW1wiZXRcIiwgXCJFc3RvbmlhblwiLCBbMSwyXSwgMl0sXG4gICAgICAgIFtcImV1XCIsIFwiQmFzcXVlXCIsIFsxLDJdLCAyXSxcbiAgICAgICAgW1wiZmFcIiwgXCJQZXJzaWFuXCIsIFsxXSwgM10sXG4gICAgICAgIFtcImZpXCIsIFwiRmlubmlzaFwiLCBbMSwyXSwgMl0sXG4gICAgICAgIFtcImZpbFwiLCBcIkZpbGlwaW5vXCIsIFsxLDJdLCAxXSxcbiAgICAgICAgW1wiZm9cIiwgXCJGYXJvZXNlXCIsIFsxLDJdLCAyXSxcbiAgICAgICAgW1wiZnJcIiwgXCJGcmVuY2hcIiwgWzEsMl0sIDldLFxuICAgICAgICBbXCJmdXJcIiwgXCJGcml1bGlhblwiLCBbMSwyXSwgMl0sXG4gICAgICAgIFtcImZ5XCIsIFwiRnJpc2lhblwiLCBbMSwyXSwgMl0sXG4gICAgICAgIFtcImdhXCIsIFwiSXJpc2hcIiwgWzEsMiwzLDcsMTFdLDEwXSxcbiAgICAgICAgW1wiZ2RcIiwgXCJTY290dGlzaCBHYWVsaWNcIixbMSwyLDMsMjBdLDExXSxcbiAgICAgICAgW1wiZ2xcIiwgXCJHYWxpY2lhblwiLCBbMSwyXSwgMl0sXG4gICAgICAgIFtcImd1XCIsIFwiR3VqYXJhdGlcIiwgWzEsMl0sIDJdLFxuICAgICAgICBbXCJndW5cIiwgXCJHdW5cIiwgWzEsMl0sIDFdLFxuICAgICAgICBbXCJoYVwiLCBcIkhhdXNhXCIsIFsxLDJdLCAyXSxcbiAgICAgICAgW1wiaGVcIiwgXCJIZWJyZXdcIiwgWzEsMl0sIDJdLFxuICAgICAgICBbXCJoaVwiLCBcIkhpbmRpXCIsIFsxLDJdLCAyXSxcbiAgICAgICAgW1wiaHJcIiwgXCJDcm9hdGlhblwiLCBbMSwyLDVdLDRdLFxuICAgICAgICBbXCJodVwiLCBcIkh1bmdhcmlhblwiLFsxLDJdLCAyXSxcbiAgICAgICAgW1wiaHlcIiwgXCJBcm1lbmlhblwiLCBbMSwyXSwgMl0sXG4gICAgICAgIFtcImlhXCIsIFwiSW50ZXJsaW5ndWFcIixbMSwyXSwyXSxcbiAgICAgICAgW1wiaWRcIiwgXCJJbmRvbmVzaWFuXCIsWzFdLCAzXSxcbiAgICAgICAgW1wiaXNcIiwgXCJJY2VsYW5kaWNcIixbMSwyXSwgMTJdLFxuICAgICAgICBbXCJpdFwiLCBcIkl0YWxpYW5cIiwgWzEsMl0sIDJdLFxuICAgICAgICBbXCJqYVwiLCBcIkphcGFuZXNlXCIsIFsxXSwgM10sXG4gICAgICAgIFtcImpib1wiLCBcIkxvamJhblwiLCBbMV0sIDNdLFxuICAgICAgICBbXCJqdlwiLCBcIkphdmFuZXNlXCIsIFswLDFdLCAxM10sXG4gICAgICAgIFtcImthXCIsIFwiR2VvcmdpYW5cIiwgWzFdLCAzXSxcbiAgICAgICAgW1wia2tcIiwgXCJLYXpha2hcIiwgWzFdLCAzXSxcbiAgICAgICAgW1wia21cIiwgXCJLaG1lclwiLCBbMV0sIDNdLFxuICAgICAgICBbXCJrblwiLCBcIkthbm5hZGFcIiwgWzEsMl0sIDJdLFxuICAgICAgICBbXCJrb1wiLCBcIktvcmVhblwiLCBbMV0sIDNdLFxuICAgICAgICBbXCJrdVwiLCBcIkt1cmRpc2hcIiwgWzEsMl0sIDJdLFxuICAgICAgICBbXCJrd1wiLCBcIkNvcm5pc2hcIiwgWzEsMiwzLDRdLDE0XSxcbiAgICAgICAgW1wia3lcIiwgXCJLeXJneXpcIiwgWzFdLCAzXSxcbiAgICAgICAgW1wibGJcIiwgXCJMZXR6ZWJ1cmdlc2NoXCIsWzEsMl0sMl0sXG4gICAgICAgIFtcImxuXCIsIFwiTGluZ2FsYVwiLCBbMSwyXSwgMV0sXG4gICAgICAgIFtcImxvXCIsIFwiTGFvXCIsIFsxXSwgM10sXG4gICAgICAgIFtcImx0XCIsIFwiTGl0aHVhbmlhblwiLFsxLDIsMTBdLDE1XSxcbiAgICAgICAgW1wibHZcIiwgXCJMYXR2aWFuXCIsIFsxLDIsMF0sMTZdLFxuICAgICAgICBbXCJtYWlcIiwgXCJNYWl0aGlsaVwiLCBbMSwyXSwgMl0sXG4gICAgICAgIFtcIm1mZVwiLCBcIk1hdXJpdGlhbiBDcmVvbGVcIixbMSwyXSwxXSxcbiAgICAgICAgW1wibWdcIiwgXCJNYWxhZ2FzeVwiLCBbMSwyXSwgMV0sXG4gICAgICAgIFtcIm1pXCIsIFwiTWFvcmlcIiwgWzEsMl0sIDFdLFxuICAgICAgICBbXCJta1wiLCBcIk1hY2Vkb25pYW5cIixbMSwyXSwxN10sXG4gICAgICAgIFtcIm1sXCIsIFwiTWFsYXlhbGFtXCIsWzEsMl0sIDJdLFxuICAgICAgICBbXCJtblwiLCBcIk1vbmdvbGlhblwiLFsxLDJdLCAyXSxcbiAgICAgICAgW1wibW5rXCIsIFwiTWFuZGlua2FcIiwgWzAsMSwyXSwxOF0sXG4gICAgICAgIFtcIm1yXCIsIFwiTWFyYXRoaVwiLCBbMSwyXSwgMl0sXG4gICAgICAgIFtcIm1zXCIsIFwiTWFsYXlcIiwgWzFdLCAzXSxcbiAgICAgICAgW1wibXRcIiwgXCJNYWx0ZXNlXCIsIFsxLDIsMTEsMjBdLDE5XSxcbiAgICAgICAgW1wibmFoXCIsIFwiTmFodWF0bFwiLCBbMSwyXSwgMl0sXG4gICAgICAgIFtcIm5hcFwiLCBcIk5lYXBvbGl0YW5cIixbMSwyXSwgMl0sXG4gICAgICAgIFtcIm5iXCIsIFwiTm9yd2VnaWFuIEJva21hbFwiLFsxLDJdLDJdLFxuICAgICAgICBbXCJuZVwiLCBcIk5lcGFsaVwiLCBbMSwyXSwgMl0sXG4gICAgICAgIFtcIm5sXCIsIFwiRHV0Y2hcIiwgWzEsMl0sIDJdLFxuICAgICAgICBbXCJublwiLCBcIk5vcndlZ2lhbiBOeW5vcnNrXCIsWzEsMl0sMl0sXG4gICAgICAgIFtcIm5vXCIsIFwiTm9yd2VnaWFuXCIsWzEsMl0sIDJdLFxuICAgICAgICBbXCJuc29cIiwgXCJOb3J0aGVybiBTb3Rob1wiLFsxLDJdLDJdLFxuICAgICAgICBbXCJvY1wiLCBcIk9jY2l0YW5cIiwgWzEsMl0sIDFdLFxuICAgICAgICBbXCJvclwiLCBcIk9yaXlhXCIsIFsyLDFdLCAyXSxcbiAgICAgICAgW1wicGFcIiwgXCJQdW5qYWJpXCIsIFsxLDJdLCAyXSxcbiAgICAgICAgW1wicGFwXCIsIFwiUGFwaWFtZW50b1wiLFsxLDJdLCAyXSxcbiAgICAgICAgW1wicGxcIiwgXCJQb2xpc2hcIiwgWzEsMiw1XSw3XSxcbiAgICAgICAgW1wicG1zXCIsIFwiUGllbW9udGVzZVwiLFsxLDJdLCAyXSxcbiAgICAgICAgW1wicHNcIiwgXCJQYXNodG9cIiwgWzEsMl0sIDJdLFxuICAgICAgICBbXCJwdFwiLCBcIlBvcnR1Z3Vlc2VcIixbMSwyXSwgMl0sXG4gICAgICAgIFtcInB0X2JyXCIsXCJCcmF6aWxpYW4gUG9ydHVndWVzZVwiLFsxLDJdLCAyXSxcbiAgICAgICAgW1wicm1cIiwgXCJSb21hbnNoXCIsIFsxLDJdLCAyXSxcbiAgICAgICAgW1wicm9cIiwgXCJSb21hbmlhblwiLCBbMSwyLDIwXSwyMF0sXG4gICAgICAgIFtcInJ1XCIsIFwiUnVzc2lhblwiLCBbMSwyLDVdLDRdLFxuICAgICAgICBbXCJzYWhcIiwgXCJZYWt1dFwiLCBbMV0sIDNdLFxuICAgICAgICBbXCJzY29cIiwgXCJTY290c1wiLCBbMSwyXSwgMl0sXG4gICAgICAgIFtcInNlXCIsIFwiTm9ydGhlcm4gU2FtaVwiLFsxLDJdLCAyXSxcbiAgICAgICAgW1wic2lcIiwgXCJTaW5oYWxhXCIsIFsxLDJdLCAyXSxcbiAgICAgICAgW1wic2tcIiwgXCJTbG92YWtcIiwgWzEsMiw1XSw2XSxcbiAgICAgICAgW1wic2xcIiwgXCJTbG92ZW5pYW5cIixbNSwxLDIsM10sMjFdLFxuICAgICAgICBbXCJzb1wiLCBcIlNvbWFsaVwiLCBbMSwyXSwgMl0sXG4gICAgICAgIFtcInNvblwiLCBcIlNvbmdoYXlcIiwgWzEsMl0sIDJdLFxuICAgICAgICBbXCJzcVwiLCBcIkFsYmFuaWFuXCIsIFsxLDJdLCAyXSxcbiAgICAgICAgW1wic3JcIiwgXCJTZXJiaWFuXCIsIFsxLDIsNV0sNF0sXG4gICAgICAgIFtcInN1XCIsIFwiU3VuZGFuZXNlXCIsWzFdLCAzXSxcbiAgICAgICAgW1wic3ZcIiwgXCJTd2VkaXNoXCIsIFsxLDJdLCAyXSxcbiAgICAgICAgW1wic3dcIiwgXCJTd2FoaWxpXCIsIFsxLDJdLCAyXSxcbiAgICAgICAgW1widGFcIiwgXCJUYW1pbFwiLCBbMSwyXSwgMl0sXG4gICAgICAgIFtcInRlXCIsIFwiVGVsdWd1XCIsIFsxLDJdLCAyXSxcbiAgICAgICAgW1widGdcIiwgXCJUYWppa1wiLCBbMSwyXSwgMV0sXG4gICAgICAgIFtcInRoXCIsIFwiVGhhaVwiLCBbMV0sIDNdLFxuICAgICAgICBbXCJ0aVwiLCBcIlRpZ3JpbnlhXCIsIFsxLDJdLCAxXSxcbiAgICAgICAgW1widGtcIiwgXCJUdXJrbWVuXCIsIFsxLDJdLCAyXSxcbiAgICAgICAgW1widHJcIiwgXCJUdXJraXNoXCIsIFsxLDJdLCAxXSxcbiAgICAgICAgW1widHRcIiwgXCJUYXRhclwiLCBbMV0sIDNdLFxuICAgICAgICBbXCJ1Z1wiLCBcIlV5Z2h1clwiLCBbMV0sIDNdLFxuICAgICAgICBbXCJ1a1wiLCBcIlVrcmFpbmlhblwiLFsxLDIsNV0sNF0sXG4gICAgICAgIFtcInVyXCIsIFwiVXJkdVwiLCBbMSwyXSwgMl0sXG4gICAgICAgIFtcInV6XCIsIFwiVXpiZWtcIiwgWzEsMl0sIDFdLFxuICAgICAgICBbXCJ2aVwiLCBcIlZpZXRuYW1lc2VcIixbMV0sIDNdLFxuICAgICAgICBbXCJ3YVwiLCBcIldhbGxvb25cIiwgWzEsMl0sIDFdLFxuICAgICAgICBbXCJ3b1wiLCBcIldvbG9mXCIsIFsxXSwgM10sXG4gICAgICAgIFtcInlvXCIsIFwiWW9ydWJhXCIsIFsxLDJdLCAyXSxcbiAgICAgICAgW1wiemhcIiwgXCJDaGluZXNlXCIsIFsxXSwgM11cbiAgICBdO1xuICAgIFxuICAgIHZhciBfcnVsZXNQbHVyYWxzVHlwZXMgPSB7XG4gICAgICAgIDE6IGZ1bmN0aW9uKG4pIHtyZXR1cm4gTnVtYmVyKG4gPiAxKTt9LFxuICAgICAgICAyOiBmdW5jdGlvbihuKSB7cmV0dXJuIE51bWJlcihuICE9IDEpO30sXG4gICAgICAgIDM6IGZ1bmN0aW9uKG4pIHtyZXR1cm4gMDt9LFxuICAgICAgICA0OiBmdW5jdGlvbihuKSB7cmV0dXJuIE51bWJlcihuJTEwPT0xICYmIG4lMTAwIT0xMSA/IDAgOiBuJTEwPj0yICYmIG4lMTA8PTQgJiYgKG4lMTAwPDEwIHx8IG4lMTAwPj0yMCkgPyAxIDogMik7fSxcbiAgICAgICAgNTogZnVuY3Rpb24obikge3JldHVybiBOdW1iZXIobj09PTAgPyAwIDogbj09MSA/IDEgOiBuPT0yID8gMiA6IG4lMTAwPj0zICYmIG4lMTAwPD0xMCA/IDMgOiBuJTEwMD49MTEgPyA0IDogNSk7fSxcbiAgICAgICAgNjogZnVuY3Rpb24obikge3JldHVybiBOdW1iZXIoKG49PTEpID8gMCA6IChuPj0yICYmIG48PTQpID8gMSA6IDIpO30sXG4gICAgICAgIDc6IGZ1bmN0aW9uKG4pIHtyZXR1cm4gTnVtYmVyKG49PTEgPyAwIDogbiUxMD49MiAmJiBuJTEwPD00ICYmIChuJTEwMDwxMCB8fCBuJTEwMD49MjApID8gMSA6IDIpO30sXG4gICAgICAgIDg6IGZ1bmN0aW9uKG4pIHtyZXR1cm4gTnVtYmVyKChuPT0xKSA/IDAgOiAobj09MikgPyAxIDogKG4gIT0gOCAmJiBuICE9IDExKSA/IDIgOiAzKTt9LFxuICAgICAgICA5OiBmdW5jdGlvbihuKSB7cmV0dXJuIE51bWJlcihuID49IDIpO30sXG4gICAgICAgIDEwOiBmdW5jdGlvbihuKSB7cmV0dXJuIE51bWJlcihuPT0xID8gMCA6IG49PTIgPyAxIDogbjw3ID8gMiA6IG48MTEgPyAzIDogNCkgO30sXG4gICAgICAgIDExOiBmdW5jdGlvbihuKSB7cmV0dXJuIE51bWJlcigobj09MSB8fCBuPT0xMSkgPyAwIDogKG49PTIgfHwgbj09MTIpID8gMSA6IChuID4gMiAmJiBuIDwgMjApID8gMiA6IDMpO30sXG4gICAgICAgIDEyOiBmdW5jdGlvbihuKSB7cmV0dXJuIE51bWJlcihuJTEwIT0xIHx8IG4lMTAwPT0xMSk7fSxcbiAgICAgICAgMTM6IGZ1bmN0aW9uKG4pIHtyZXR1cm4gTnVtYmVyKG4gIT09IDApO30sXG4gICAgICAgIDE0OiBmdW5jdGlvbihuKSB7cmV0dXJuIE51bWJlcigobj09MSkgPyAwIDogKG49PTIpID8gMSA6IChuID09IDMpID8gMiA6IDMpO30sXG4gICAgICAgIDE1OiBmdW5jdGlvbihuKSB7cmV0dXJuIE51bWJlcihuJTEwPT0xICYmIG4lMTAwIT0xMSA/IDAgOiBuJTEwPj0yICYmIChuJTEwMDwxMCB8fCBuJTEwMD49MjApID8gMSA6IDIpO30sXG4gICAgICAgIDE2OiBmdW5jdGlvbihuKSB7cmV0dXJuIE51bWJlcihuJTEwPT0xICYmIG4lMTAwIT0xMSA/IDAgOiBuICE9PSAwID8gMSA6IDIpO30sXG4gICAgICAgIDE3OiBmdW5jdGlvbihuKSB7cmV0dXJuIE51bWJlcihuPT0xIHx8IG4lMTA9PTEgPyAwIDogMSk7fSxcbiAgICAgICAgMTg6IGZ1bmN0aW9uKG4pIHtyZXR1cm4gTnVtYmVyKDAgPyAwIDogbj09MSA/IDEgOiAyKTt9LFxuICAgICAgICAxOTogZnVuY3Rpb24obikge3JldHVybiBOdW1iZXIobj09MSA/IDAgOiBuPT09MCB8fCAoIG4lMTAwPjEgJiYgbiUxMDA8MTEpID8gMSA6IChuJTEwMD4xMCAmJiBuJTEwMDwyMCApID8gMiA6IDMpO30sXG4gICAgICAgIDIwOiBmdW5jdGlvbihuKSB7cmV0dXJuIE51bWJlcihuPT0xID8gMCA6IChuPT09MCB8fCAobiUxMDAgPiAwICYmIG4lMTAwIDwgMjApKSA/IDEgOiAyKTt9LFxuICAgICAgICAyMTogZnVuY3Rpb24obikge3JldHVybiBOdW1iZXIobiUxMDA9PTEgPyAxIDogbiUxMDA9PTIgPyAyIDogbiUxMDA9PTMgfHwgbiUxMDA9PTQgPyAzIDogMCk7IH1cbiAgICB9O1xuICAgIFxuICAgIHZhciBwbHVyYWxFeHRlbnNpb25zID0ge1xuICAgIFxuICAgICAgICBydWxlczogKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBsLCBydWxlcyA9IHt9O1xuICAgICAgICAgICAgZm9yIChsPV9ydWxlcy5sZW5ndGg7IGwtLSA7KSB7XG4gICAgICAgICAgICAgICAgcnVsZXNbX3J1bGVzW2xdWzBdXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogX3J1bGVzW2xdWzFdLFxuICAgICAgICAgICAgICAgICAgICBudW1iZXJzOiBfcnVsZXNbbF1bMl0sXG4gICAgICAgICAgICAgICAgICAgIHBsdXJhbHM6IF9ydWxlc1BsdXJhbHNUeXBlc1tfcnVsZXNbbF1bM11dXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJ1bGVzO1xuICAgICAgICB9KCkpLFxuICAgIFxuICAgICAgICAvLyB5b3UgY2FuIGFkZCB5b3VyIG93biBwbHVyYWxFeHRlbnNpb25zXG4gICAgICAgIGFkZFJ1bGU6IGZ1bmN0aW9uKGxuZywgb2JqKSB7XG4gICAgICAgICAgICBwbHVyYWxFeHRlbnNpb25zLnJ1bGVzW2xuZ10gPSBvYmo7XG4gICAgICAgIH0sXG4gICAgXG4gICAgICAgIHNldEN1cnJlbnRMbmc6IGZ1bmN0aW9uKGxuZykge1xuICAgICAgICAgICAgaWYgKCFwbHVyYWxFeHRlbnNpb25zLmN1cnJlbnRSdWxlIHx8IHBsdXJhbEV4dGVuc2lvbnMuY3VycmVudFJ1bGUubG5nICE9PSBsbmcpIHtcbiAgICAgICAgICAgICAgICB2YXIgcGFydHMgPSBsbmcuc3BsaXQoJy0nKTtcbiAgICBcbiAgICAgICAgICAgICAgICBwbHVyYWxFeHRlbnNpb25zLmN1cnJlbnRSdWxlID0ge1xuICAgICAgICAgICAgICAgICAgICBsbmc6IGxuZyxcbiAgICAgICAgICAgICAgICAgICAgcnVsZTogcGx1cmFsRXh0ZW5zaW9ucy5ydWxlc1twYXJ0c1swXV1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgIFxuICAgICAgICBuZWVkc1BsdXJhbDogZnVuY3Rpb24obG5nLCBjb3VudCkge1xuICAgICAgICAgICAgdmFyIHBhcnRzID0gbG5nLnNwbGl0KCctJyk7XG4gICAgXG4gICAgICAgICAgICB2YXIgZXh0O1xuICAgICAgICAgICAgaWYgKHBsdXJhbEV4dGVuc2lvbnMuY3VycmVudFJ1bGUgJiYgcGx1cmFsRXh0ZW5zaW9ucy5jdXJyZW50UnVsZS5sbmcgPT09IGxuZykge1xuICAgICAgICAgICAgICAgIGV4dCA9IHBsdXJhbEV4dGVuc2lvbnMuY3VycmVudFJ1bGUucnVsZTsgXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGV4dCA9IHBsdXJhbEV4dGVuc2lvbnMucnVsZXNbcGFydHNbZi5nZXRDb3VudHlJbmRleE9mTG5nKGxuZyldXTtcbiAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgIGlmIChleHQgJiYgZXh0Lm51bWJlcnMubGVuZ3RoIDw9IDEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldChsbmcsIGNvdW50KSAhPT0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICBcbiAgICAgICAgZ2V0OiBmdW5jdGlvbihsbmcsIGNvdW50KSB7XG4gICAgICAgICAgICB2YXIgcGFydHMgPSBsbmcuc3BsaXQoJy0nKTtcbiAgICBcbiAgICAgICAgICAgIGZ1bmN0aW9uIGdldFJlc3VsdChsLCBjKSB7XG4gICAgICAgICAgICAgICAgdmFyIGV4dDtcbiAgICAgICAgICAgICAgICBpZiAocGx1cmFsRXh0ZW5zaW9ucy5jdXJyZW50UnVsZSAmJiBwbHVyYWxFeHRlbnNpb25zLmN1cnJlbnRSdWxlLmxuZyA9PT0gbG5nKSB7XG4gICAgICAgICAgICAgICAgICAgIGV4dCA9IHBsdXJhbEV4dGVuc2lvbnMuY3VycmVudFJ1bGUucnVsZTsgXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZXh0ID0gcGx1cmFsRXh0ZW5zaW9ucy5ydWxlc1tsXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGV4dCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV4dC5ub0Ficykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaSA9IGV4dC5wbHVyYWxzKGMpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaSA9IGV4dC5wbHVyYWxzKE1hdGguYWJzKGMpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgdmFyIG51bWJlciA9IGV4dC5udW1iZXJzW2ldO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZXh0Lm51bWJlcnMubGVuZ3RoID09PSAyICYmIGV4dC5udW1iZXJzWzBdID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobnVtYmVyID09PSAyKSB7IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bWJlciA9IC0xOyAvLyByZWd1bGFyIHBsdXJhbFxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChudW1iZXIgPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBudW1iZXIgPSAxOyAvLyBzaW5ndWxhclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9Ly9jb25zb2xlLmxvZyhjb3VudCArICctJyArIG51bWJlcik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudW1iZXI7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGMgPT09IDEgPyAnMScgOiAnLTEnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgcmV0dXJuIGdldFJlc3VsdChwYXJ0c1tmLmdldENvdW50eUluZGV4T2ZMbmcobG5nKV0sIGNvdW50KTtcbiAgICAgICAgfVxuICAgIFxuICAgIH07XG4gICAgdmFyIHBvc3RQcm9jZXNzb3JzID0ge307XG4gICAgdmFyIGFkZFBvc3RQcm9jZXNzb3IgPSBmdW5jdGlvbihuYW1lLCBmYykge1xuICAgICAgICBwb3N0UHJvY2Vzc29yc1tuYW1lXSA9IGZjO1xuICAgIH07XG4gICAgLy8gc3ByaW50ZiBzdXBwb3J0XG4gICAgdmFyIHNwcmludGYgPSAoZnVuY3Rpb24oKSB7XG4gICAgICAgIGZ1bmN0aW9uIGdldF90eXBlKHZhcmlhYmxlKSB7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhcmlhYmxlKS5zbGljZSg4LCAtMSkudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBzdHJfcmVwZWF0KGlucHV0LCBtdWx0aXBsaWVyKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBvdXRwdXQgPSBbXTsgbXVsdGlwbGllciA+IDA7IG91dHB1dFstLW11bHRpcGxpZXJdID0gaW5wdXQpIHsvKiBkbyBub3RoaW5nICovfVxuICAgICAgICAgICAgcmV0dXJuIG91dHB1dC5qb2luKCcnKTtcbiAgICAgICAgfVxuICAgIFxuICAgICAgICB2YXIgc3RyX2Zvcm1hdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKCFzdHJfZm9ybWF0LmNhY2hlLmhhc093blByb3BlcnR5KGFyZ3VtZW50c1swXSkpIHtcbiAgICAgICAgICAgICAgICBzdHJfZm9ybWF0LmNhY2hlW2FyZ3VtZW50c1swXV0gPSBzdHJfZm9ybWF0LnBhcnNlKGFyZ3VtZW50c1swXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gc3RyX2Zvcm1hdC5mb3JtYXQuY2FsbChudWxsLCBzdHJfZm9ybWF0LmNhY2hlW2FyZ3VtZW50c1swXV0sIGFyZ3VtZW50cyk7XG4gICAgICAgIH07XG4gICAgXG4gICAgICAgIHN0cl9mb3JtYXQuZm9ybWF0ID0gZnVuY3Rpb24ocGFyc2VfdHJlZSwgYXJndikge1xuICAgICAgICAgICAgdmFyIGN1cnNvciA9IDEsIHRyZWVfbGVuZ3RoID0gcGFyc2VfdHJlZS5sZW5ndGgsIG5vZGVfdHlwZSA9ICcnLCBhcmcsIG91dHB1dCA9IFtdLCBpLCBrLCBtYXRjaCwgcGFkLCBwYWRfY2hhcmFjdGVyLCBwYWRfbGVuZ3RoO1xuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHRyZWVfbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBub2RlX3R5cGUgPSBnZXRfdHlwZShwYXJzZV90cmVlW2ldKTtcbiAgICAgICAgICAgICAgICBpZiAobm9kZV90eXBlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICBvdXRwdXQucHVzaChwYXJzZV90cmVlW2ldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAobm9kZV90eXBlID09PSAnYXJyYXknKSB7XG4gICAgICAgICAgICAgICAgICAgIG1hdGNoID0gcGFyc2VfdHJlZVtpXTsgLy8gY29udmVuaWVuY2UgcHVycG9zZXMgb25seVxuICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2hbMl0pIHsgLy8ga2V5d29yZCBhcmd1bWVudFxuICAgICAgICAgICAgICAgICAgICAgICAgYXJnID0gYXJndltjdXJzb3JdO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChrID0gMDsgayA8IG1hdGNoWzJdLmxlbmd0aDsgaysrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFhcmcuaGFzT3duUHJvcGVydHkobWF0Y2hbMl1ba10pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93KHNwcmludGYoJ1tzcHJpbnRmXSBwcm9wZXJ0eSBcIiVzXCIgZG9lcyBub3QgZXhpc3QnLCBtYXRjaFsyXVtrXSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmcgPSBhcmdbbWF0Y2hbMl1ba11dO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG1hdGNoWzFdKSB7IC8vIHBvc2l0aW9uYWwgYXJndW1lbnQgKGV4cGxpY2l0KVxuICAgICAgICAgICAgICAgICAgICAgICAgYXJnID0gYXJndlttYXRjaFsxXV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7IC8vIHBvc2l0aW9uYWwgYXJndW1lbnQgKGltcGxpY2l0KVxuICAgICAgICAgICAgICAgICAgICAgICAgYXJnID0gYXJndltjdXJzb3IrK107XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgICAgICAgICAgaWYgKC9bXnNdLy50ZXN0KG1hdGNoWzhdKSAmJiAoZ2V0X3R5cGUoYXJnKSAhPSAnbnVtYmVyJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93KHNwcmludGYoJ1tzcHJpbnRmXSBleHBlY3RpbmcgbnVtYmVyIGJ1dCBmb3VuZCAlcycsIGdldF90eXBlKGFyZykpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKG1hdGNoWzhdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdiJzogYXJnID0gYXJnLnRvU3RyaW5nKDIpOyBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2MnOiBhcmcgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGFyZyk7IGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnZCc6IGFyZyA9IHBhcnNlSW50KGFyZywgMTApOyBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2UnOiBhcmcgPSBtYXRjaFs3XSA/IGFyZy50b0V4cG9uZW50aWFsKG1hdGNoWzddKSA6IGFyZy50b0V4cG9uZW50aWFsKCk7IGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnZic6IGFyZyA9IG1hdGNoWzddID8gcGFyc2VGbG9hdChhcmcpLnRvRml4ZWQobWF0Y2hbN10pIDogcGFyc2VGbG9hdChhcmcpOyBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ28nOiBhcmcgPSBhcmcudG9TdHJpbmcoOCk7IGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAncyc6IGFyZyA9ICgoYXJnID0gU3RyaW5nKGFyZykpICYmIG1hdGNoWzddID8gYXJnLnN1YnN0cmluZygwLCBtYXRjaFs3XSkgOiBhcmcpOyBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ3UnOiBhcmcgPSBNYXRoLmFicyhhcmcpOyBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ3gnOiBhcmcgPSBhcmcudG9TdHJpbmcoMTYpOyBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ1gnOiBhcmcgPSBhcmcudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCk7IGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGFyZyA9ICgvW2RlZl0vLnRlc3QobWF0Y2hbOF0pICYmIG1hdGNoWzNdICYmIGFyZyA+PSAwID8gJysnKyBhcmcgOiBhcmcpO1xuICAgICAgICAgICAgICAgICAgICBwYWRfY2hhcmFjdGVyID0gbWF0Y2hbNF0gPyBtYXRjaFs0XSA9PSAnMCcgPyAnMCcgOiBtYXRjaFs0XS5jaGFyQXQoMSkgOiAnICc7XG4gICAgICAgICAgICAgICAgICAgIHBhZF9sZW5ndGggPSBtYXRjaFs2XSAtIFN0cmluZyhhcmcpLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgcGFkID0gbWF0Y2hbNl0gPyBzdHJfcmVwZWF0KHBhZF9jaGFyYWN0ZXIsIHBhZF9sZW5ndGgpIDogJyc7XG4gICAgICAgICAgICAgICAgICAgIG91dHB1dC5wdXNoKG1hdGNoWzVdID8gYXJnICsgcGFkIDogcGFkICsgYXJnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gb3V0cHV0LmpvaW4oJycpO1xuICAgICAgICB9O1xuICAgIFxuICAgICAgICBzdHJfZm9ybWF0LmNhY2hlID0ge307XG4gICAgXG4gICAgICAgIHN0cl9mb3JtYXQucGFyc2UgPSBmdW5jdGlvbihmbXQpIHtcbiAgICAgICAgICAgIHZhciBfZm10ID0gZm10LCBtYXRjaCA9IFtdLCBwYXJzZV90cmVlID0gW10sIGFyZ19uYW1lcyA9IDA7XG4gICAgICAgICAgICB3aGlsZSAoX2ZtdCkge1xuICAgICAgICAgICAgICAgIGlmICgobWF0Y2ggPSAvXlteXFx4MjVdKy8uZXhlYyhfZm10KSkgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcGFyc2VfdHJlZS5wdXNoKG1hdGNoWzBdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoKG1hdGNoID0gL15cXHgyNXsyfS8uZXhlYyhfZm10KSkgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcGFyc2VfdHJlZS5wdXNoKCclJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKChtYXRjaCA9IC9eXFx4MjUoPzooWzEtOV1cXGQqKVxcJHxcXCgoW15cXCldKylcXCkpPyhcXCspPygwfCdbXiRdKT8oLSk/KFxcZCspPyg/OlxcLihcXGQrKSk/KFtiLWZvc3V4WF0pLy5leGVjKF9mbXQpKSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2hbMl0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZ19uYW1lcyB8PSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZpZWxkX2xpc3QgPSBbXSwgcmVwbGFjZW1lbnRfZmllbGQgPSBtYXRjaFsyXSwgZmllbGRfbWF0Y2ggPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoZmllbGRfbWF0Y2ggPSAvXihbYS16X11bYS16X1xcZF0qKS9pLmV4ZWMocmVwbGFjZW1lbnRfZmllbGQpKSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkX2xpc3QucHVzaChmaWVsZF9tYXRjaFsxXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKChyZXBsYWNlbWVudF9maWVsZCA9IHJlcGxhY2VtZW50X2ZpZWxkLnN1YnN0cmluZyhmaWVsZF9tYXRjaFswXS5sZW5ndGgpKSAhPT0gJycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChmaWVsZF9tYXRjaCA9IC9eXFwuKFthLXpfXVthLXpfXFxkXSopL2kuZXhlYyhyZXBsYWNlbWVudF9maWVsZCkpICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZF9saXN0LnB1c2goZmllbGRfbWF0Y2hbMV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKChmaWVsZF9tYXRjaCA9IC9eXFxbKFxcZCspXFxdLy5leGVjKHJlcGxhY2VtZW50X2ZpZWxkKSkgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkX2xpc3QucHVzaChmaWVsZF9tYXRjaFsxXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdygnW3NwcmludGZdIGh1aD8nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93KCdbc3ByaW50Zl0gaHVoPycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hbMl0gPSBmaWVsZF9saXN0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXJnX25hbWVzIHw9IDI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGFyZ19uYW1lcyA9PT0gMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3coJ1tzcHJpbnRmXSBtaXhpbmcgcG9zaXRpb25hbCBhbmQgbmFtZWQgcGxhY2Vob2xkZXJzIGlzIG5vdCAoeWV0KSBzdXBwb3J0ZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBwYXJzZV90cmVlLnB1c2gobWF0Y2gpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3coJ1tzcHJpbnRmXSBodWg/Jyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF9mbXQgPSBfZm10LnN1YnN0cmluZyhtYXRjaFswXS5sZW5ndGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlX3RyZWU7XG4gICAgICAgIH07XG4gICAgXG4gICAgICAgIHJldHVybiBzdHJfZm9ybWF0O1xuICAgIH0pKCk7XG4gICAgXG4gICAgdmFyIHZzcHJpbnRmID0gZnVuY3Rpb24oZm10LCBhcmd2KSB7XG4gICAgICAgIGFyZ3YudW5zaGlmdChmbXQpO1xuICAgICAgICByZXR1cm4gc3ByaW50Zi5hcHBseShudWxsLCBhcmd2KTtcbiAgICB9O1xuICAgIFxuICAgIGFkZFBvc3RQcm9jZXNzb3IoXCJzcHJpbnRmXCIsIGZ1bmN0aW9uKHZhbCwga2V5LCBvcHRzKSB7XG4gICAgICAgIGlmICghb3B0cy5zcHJpbnRmKSByZXR1cm4gdmFsO1xuICAgIFxuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5hcHBseShvcHRzLnNwcmludGYpID09PSAnW29iamVjdCBBcnJheV0nKSB7XG4gICAgICAgICAgICByZXR1cm4gdnNwcmludGYodmFsLCBvcHRzLnNwcmludGYpO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBvcHRzLnNwcmludGYgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICByZXR1cm4gc3ByaW50Zih2YWwsIG9wdHMuc3ByaW50Zik7XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgcmV0dXJuIHZhbDtcbiAgICB9KTtcbiAgICAvLyBwdWJsaWMgYXBpIGludGVyZmFjZVxuICAgIGkxOG4uaW5pdCA9IGluaXQ7XG4gICAgaTE4bi5pc0luaXRpYWxpemVkID0gaXNJbml0aWFsaXplZDtcbiAgICBpMThuLnNldExuZyA9IHNldExuZztcbiAgICBpMThuLnByZWxvYWQgPSBwcmVsb2FkO1xuICAgIGkxOG4uYWRkUmVzb3VyY2VCdW5kbGUgPSBhZGRSZXNvdXJjZUJ1bmRsZTtcbiAgICBpMThuLmhhc1Jlc291cmNlQnVuZGxlID0gaGFzUmVzb3VyY2VCdW5kbGU7XG4gICAgaTE4bi5nZXRSZXNvdXJjZUJ1bmRsZSA9IGdldFJlc291cmNlQnVuZGxlO1xuICAgIGkxOG4uYWRkUmVzb3VyY2UgPSBhZGRSZXNvdXJjZTtcbiAgICBpMThuLmFkZFJlc291cmNlcyA9IGFkZFJlc291cmNlcztcbiAgICBpMThuLnJlbW92ZVJlc291cmNlQnVuZGxlID0gcmVtb3ZlUmVzb3VyY2VCdW5kbGU7XG4gICAgaTE4bi5sb2FkTmFtZXNwYWNlID0gbG9hZE5hbWVzcGFjZTtcbiAgICBpMThuLmxvYWROYW1lc3BhY2VzID0gbG9hZE5hbWVzcGFjZXM7XG4gICAgaTE4bi5zZXREZWZhdWx0TmFtZXNwYWNlID0gc2V0RGVmYXVsdE5hbWVzcGFjZTtcbiAgICBpMThuLnQgPSB0cmFuc2xhdGU7XG4gICAgaTE4bi50cmFuc2xhdGUgPSB0cmFuc2xhdGU7XG4gICAgaTE4bi5leGlzdHMgPSBleGlzdHM7XG4gICAgaTE4bi5kZXRlY3RMYW5ndWFnZSA9IGYuZGV0ZWN0TGFuZ3VhZ2U7XG4gICAgaTE4bi5wbHVyYWxFeHRlbnNpb25zID0gcGx1cmFsRXh0ZW5zaW9ucztcbiAgICBpMThuLnN5bmMgPSBzeW5jO1xuICAgIGkxOG4uZnVuY3Rpb25zID0gZjtcbiAgICBpMThuLmxuZyA9IGxuZztcbiAgICBpMThuLmFkZFBvc3RQcm9jZXNzb3IgPSBhZGRQb3N0UHJvY2Vzc29yO1xuICAgIGkxOG4uYXBwbHlSZXBsYWNlbWVudCA9IGYuYXBwbHlSZXBsYWNlbWVudDtcbiAgICBpMThuLm9wdGlvbnMgPSBvO1xuICAgIGkxOG4ubm9Db25mbGljdCA9IG5vQ29uZmxpY3Q7XG5cbn0pKHR5cGVvZiBleHBvcnRzID09PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IGV4cG9ydHMpOyIsIi8qXG4gIENsYXNzLCB2ZXJzaW9uIDIuN1xuICBDb3B5cmlnaHQgKGMpIDIwMDYsIDIwMDcsIDIwMDgsIEFsZXggQXJuZWxsIDxhbGV4QHR3b2xvZ2ljLmNvbT5cbiAgTGljZW5zZWQgdW5kZXIgdGhlIG5ldyBCU0QgTGljZW5zZS4gU2VlIGVuZCBvZiBmaWxlIGZvciBmdWxsIGxpY2Vuc2UgdGVybXMuXG4qL1xuXG52YXIgQ2xhc3MgPSAoZnVuY3Rpb24oKSB7XG4gIHZhciBfX2V4dGVuZGluZyA9IHt9O1xuXG4gIHJldHVybiB7XG4gICAgZXh0ZW5kOiBmdW5jdGlvbihwYXJlbnQsIGRlZikge1xuICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT0gMSkgeyBkZWYgPSBwYXJlbnQ7IHBhcmVudCA9IG51bGw7IH1cbiAgICAgIHZhciBmdW5jID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChhcmd1bWVudHNbMF0gPT0gIF9fZXh0ZW5kaW5nKSB7IHJldHVybjsgfVxuICAgICAgICB0aGlzLmluaXRpYWxpemUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH07XG4gICAgICBpZiAodHlwZW9mKHBhcmVudCkgPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBmdW5jLnByb3RvdHlwZSA9IG5ldyBwYXJlbnQoIF9fZXh0ZW5kaW5nKTtcbiAgICAgIH1cbiAgICAgIHZhciBtaXhpbnMgPSBbXTtcbiAgICAgIGlmIChkZWYgJiYgZGVmLmluY2x1ZGUpIHtcbiAgICAgICAgaWYgKGRlZi5pbmNsdWRlLnJldmVyc2UpIHtcbiAgICAgICAgICAvLyBtZXRob2RzIGRlZmluZWQgaW4gbGF0ZXIgbWl4aW5zIHNob3VsZCBvdmVycmlkZSBwcmlvclxuICAgICAgICAgIG1peGlucyA9IG1peGlucy5jb25jYXQoZGVmLmluY2x1ZGUucmV2ZXJzZSgpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBtaXhpbnMucHVzaChkZWYuaW5jbHVkZSk7XG4gICAgICAgIH1cbiAgICAgICAgZGVsZXRlIGRlZi5pbmNsdWRlOyAvLyBjbGVhbiBzeW50YXggc3VnYXJcbiAgICAgIH1cbiAgICAgIGlmIChkZWYpIENsYXNzLmluaGVyaXQoZnVuYy5wcm90b3R5cGUsIGRlZik7XG4gICAgICBmb3IgKHZhciBpID0gMDsgKG1peGluID0gbWl4aW5zW2ldKTsgaSsrKSB7XG4gICAgICAgIENsYXNzLm1peGluKGZ1bmMucHJvdG90eXBlLCBtaXhpbik7XG4gICAgICB9XG4gICAgICByZXR1cm4gZnVuYztcbiAgICB9LFxuICAgIG1peGluOiBmdW5jdGlvbiAoZGVzdCwgc3JjLCBjbG9iYmVyKSB7XG4gICAgICBjbG9iYmVyID0gY2xvYmJlciB8fCBmYWxzZTtcbiAgICAgIGlmICh0eXBlb2Yoc3JjKSAhPSAndW5kZWZpbmVkJyAmJiBzcmMgIT09IG51bGwpIHtcbiAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBzcmMpIHtcbiAgICAgICAgICBpZiAoY2xvYmJlciB8fCAoIWRlc3RbcHJvcF0gJiYgdHlwZW9mKHNyY1twcm9wXSkgPT0gJ2Z1bmN0aW9uJykpIHtcbiAgICAgICAgICAgIGRlc3RbcHJvcF0gPSBzcmNbcHJvcF07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gZGVzdDtcbiAgICB9LFxuICAgIGluaGVyaXQ6IGZ1bmN0aW9uKGRlc3QsIHNyYywgZm5hbWUpIHtcbiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09IDMpIHtcbiAgICAgICAgdmFyIGFuY2VzdG9yID0gZGVzdFtmbmFtZV0sIGRlc2NlbmRlbnQgPSBzcmNbZm5hbWVdLCBtZXRob2QgPSBkZXNjZW5kZW50O1xuICAgICAgICBkZXNjZW5kZW50ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIHJlZiA9IHRoaXMucGFyZW50OyB0aGlzLnBhcmVudCA9IGFuY2VzdG9yO1xuICAgICAgICAgIHZhciByZXN1bHQgPSBtZXRob2QuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgICByZWYgPyB0aGlzLnBhcmVudCA9IHJlZiA6IGRlbGV0ZSB0aGlzLnBhcmVudDtcbiAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9O1xuICAgICAgICAvLyBtYXNrIHRoZSB1bmRlcmx5aW5nIG1ldGhvZFxuICAgICAgICBkZXNjZW5kZW50LnZhbHVlT2YgPSBmdW5jdGlvbigpIHsgcmV0dXJuIG1ldGhvZDsgfTtcbiAgICAgICAgZGVzY2VuZGVudC50b1N0cmluZyA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gbWV0aG9kLnRvU3RyaW5nKCk7IH07XG4gICAgICAgIGRlc3RbZm5hbWVdID0gZGVzY2VuZGVudDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZvciAodmFyIHByb3AgaW4gc3JjKSB7XG4gICAgICAgICAgaWYgKGRlc3RbcHJvcF0gJiYgdHlwZW9mKHNyY1twcm9wXSkgPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgQ2xhc3MuaW5oZXJpdChkZXN0LCBzcmMsIHByb3ApO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkZXN0W3Byb3BdID0gc3JjW3Byb3BdO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGRlc3Q7XG4gICAgfSxcbiAgICBzaW5nbGV0b246IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICBpZiAoYXJncy5sZW5ndGggPT0gMiAmJiBhcmdzWzBdLmdldEluc3RhbmNlKSB7XG4gICAgICAgIHZhciBrbGFzcyA9IGFyZ3NbMF0uZ2V0SW5zdGFuY2UoX19leHRlbmRpbmcpO1xuICAgICAgICAvLyB3ZSdyZSBleHRlbmRpbmcgYSBzaW5nbGV0b24gc3dhcCBpdCBvdXQgZm9yIGl0J3MgY2xhc3NcbiAgICAgICAgaWYgKGtsYXNzKSB7IGFyZ3NbMF0gPSBrbGFzczsgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gKGZ1bmN0aW9uKGFyZ3Mpe1xuICAgICAgICAvLyBzdG9yZSBpbnN0YW5jZSBhbmQgY2xhc3MgaW4gcHJpdmF0ZSB2YXJpYWJsZXNcbiAgICAgICAgdmFyIGluc3RhbmNlID0gZmFsc2U7XG4gICAgICAgIHZhciBrbGFzcyA9IENsYXNzLmV4dGVuZC5hcHBseShhcmdzLmNhbGxlZSwgYXJncyk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgZ2V0SW5zdGFuY2U6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChhcmd1bWVudHNbMF0gPT0gX19leHRlbmRpbmcpIHJldHVybiBrbGFzcztcbiAgICAgICAgICAgIGlmIChpbnN0YW5jZSkgcmV0dXJuIGluc3RhbmNlO1xuICAgICAgICAgICAgcmV0dXJuIChpbnN0YW5jZSA9IG5ldyBrbGFzcygpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9KShhcmdzKTtcbiAgICB9XG4gIH07XG59KSgpO1xuXG4vLyBmaW5hbGx5IHJlbWFwIENsYXNzLmNyZWF0ZSBmb3IgYmFja3dhcmQgY29tcGF0YWJpbGl0eSB3aXRoIHByb3RvdHlwZVxuQ2xhc3MuY3JlYXRlID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBDbGFzcy5leHRlbmQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07XG5cbi8vIE1hbnVhbGx5IGtlZXAgYSByZWNvcmQgb2YgaW5oZXJpdGFuY2UganMgaW4gb3VyIG5vZGUgbW9kdWxlcyBiZWNhdXNlIGl0J3Mgbm90IG1haW50YWluZWQgYW55bW9yZVxuaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBDbGFzcztcbn1cblxuLypcbiAgUmVkaXN0cmlidXRpb24gYW5kIHVzZSBpbiBzb3VyY2UgYW5kIGJpbmFyeSBmb3Jtcywgd2l0aCBvciB3aXRob3V0IG1vZGlmaWNhdGlvbiwgYXJlXG4gIHBlcm1pdHRlZCBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9ucyBhcmUgbWV0OlxuXG4gICogUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLCB0aGlzIGxpc3RcbiAgICBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIuXG4gICogUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLCB0aGlzXG4gICAgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIgaW4gdGhlIGRvY3VtZW50YXRpb24gYW5kL29yIG90aGVyXG4gICAgbWF0ZXJpYWxzIHByb3ZpZGVkIHdpdGggdGhlIGRpc3RyaWJ1dGlvbi5cbiAgKiBOZWl0aGVyIHRoZSBuYW1lIG9mIHR5cGljYWxub2lzZS5jb20gbm9yIHRoZSBuYW1lcyBvZiBpdHMgY29udHJpYnV0b3JzIG1heSBiZVxuICAgIHVzZWQgdG8gZW5kb3JzZSBvciBwcm9tb3RlIHByb2R1Y3RzIGRlcml2ZWQgZnJvbSB0aGlzIHNvZnR3YXJlIHdpdGhvdXQgc3BlY2lmaWMgcHJpb3JcbiAgICB3cml0dGVuIHBlcm1pc3Npb24uXG5cbiAgVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUlMgQU5EIENPTlRSSUJVVE9SUyBcIkFTIElTXCIgQU5EIEFOWVxuICBFWFBSRVNTIE9SIElNUExJRUQgV0FSUkFOVElFUywgSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sIFRIRSBJTVBMSUVEIFdBUlJBTlRJRVMgT0ZcbiAgTUVSQ0hBTlRBQklMSVRZIEFORCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBUkUgRElTQ0xBSU1FRC4gSU4gTk8gRVZFTlQgU0hBTExcbiAgVEhFIENPUFlSSUdIVCBPV05FUiBPUiBDT05UUklCVVRPUlMgQkUgTElBQkxFIEZPUiBBTlkgRElSRUNULCBJTkRJUkVDVCwgSU5DSURFTlRBTCxcbiAgU1BFQ0lBTCwgRVhFTVBMQVJZLCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgKElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBQUk9DVVJFTUVOVFxuICBPRiBTVUJTVElUVVRFIEdPT0RTIE9SIFNFUlZJQ0VTOyBMT1NTIE9GIFVTRSwgREFUQSwgT1IgUFJPRklUUzsgT1IgQlVTSU5FU1MgSU5URVJSVVBUSU9OKVxuICBIT1dFVkVSIENBVVNFRCBBTkQgT04gQU5ZIFRIRU9SWSBPRiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQ09OVFJBQ1QsIFNUUklDVCBMSUFCSUxJVFksIE9SXG4gIFRPUlQgKElOQ0xVRElORyBORUdMSUdFTkNFIE9SIE9USEVSV0lTRSkgQVJJU0lORyBJTiBBTlkgV0FZIE9VVCBPRiBUSEUgVVNFIE9GIFRISVNcbiAgU09GVFdBUkUsIEVWRU4gSUYgQURWSVNFRCBPRiBUSEUgUE9TU0lCSUxJVFkgT0YgU1VDSCBEQU1BR0UuXG4qL1xuIiwiLyoqIVxuXG4gQGxpY2Vuc2VcbiBoYW5kbGViYXJzIHY0LjAuNlxuXG5Db3B5cmlnaHQgKEMpIDIwMTEtMjAxNiBieSBZZWh1ZGEgS2F0elxuXG5QZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XG5vZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXG5pbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzXG50byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXG5jb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcbmZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG5cblRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXG5hbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cblxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxuSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG5GSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcbkFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcbkxJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXG5PVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXG5USEUgU09GVFdBUkUuXG5cbiovXG4vKiohXG5cbiBAbGljZW5zZVxuIGhhbmRsZWJhcnMgdjQuMC42XG5cbkNvcHlyaWdodCAoQykgMjAxMS0yMDE2IGJ5IFllaHVkYSBLYXR6XG5cblBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcbm9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcbmluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcbnRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcbmNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xuZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcblxuVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cbmFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG5JTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbkZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcbk9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cblRIRSBTT0ZUV0FSRS5cblxuKi9cbi8qKiFcblxuIEBsaWNlbnNlXG4gaGFuZGxlYmFycyB2NC4wLjZcblxuQ29weXJpZ2h0IChDKSAyMDExLTIwMTYgYnkgWWVodWRhIEthdHpcblxuUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxub2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxuaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xudG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxuY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXG5mdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuXG5UaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxuYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG5cblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcbklNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG5BVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG5MSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxuT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxuVEhFIFNPRlRXQVJFLlxuXG4qL1xuKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoW10sIGZhY3RvcnkpO1xuXHRlbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jylcblx0XHRleHBvcnRzW1wiSGFuZGxlYmFyc1wiXSA9IGZhY3RvcnkoKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJIYW5kbGViYXJzXCJdID0gZmFjdG9yeSgpO1xufSkodGhpcywgZnVuY3Rpb24oKSB7XG5yZXR1cm4gLyoqKioqKi8gKGZ1bmN0aW9uKG1vZHVsZXMpIHsgLy8gd2VicGFja0Jvb3RzdHJhcFxuLyoqKioqKi8gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbi8qKioqKiovIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbi8qKioqKiovIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4vKioqKioqLyBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4vKioqKioqLyBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pXG4vKioqKioqLyBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcblxuLyoqKioqKi8gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4vKioqKioqLyBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuLyoqKioqKi8gXHRcdFx0ZXhwb3J0czoge30sXG4vKioqKioqLyBcdFx0XHRpZDogbW9kdWxlSWQsXG4vKioqKioqLyBcdFx0XHRsb2FkZWQ6IGZhbHNlXG4vKioqKioqLyBcdFx0fTtcblxuLyoqKioqKi8gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuLyoqKioqKi8gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4vKioqKioqLyBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuLyoqKioqKi8gXHRcdG1vZHVsZS5sb2FkZWQgPSB0cnVlO1xuXG4vKioqKioqLyBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbi8qKioqKiovIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4vKioqKioqLyBcdH1cblxuXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuLyoqKioqKi8gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG4vKioqKioqLyBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLyoqKioqKi8gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcbi8qKioqKiovIH0pXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKioqKi8gKFtcbi8qIDAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpWydkZWZhdWx0J107XG5cblx0dmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpWydkZWZhdWx0J107XG5cblx0ZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxuXHR2YXIgX2hhbmRsZWJhcnNCYXNlID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblxuXHR2YXIgYmFzZSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9oYW5kbGViYXJzQmFzZSk7XG5cblx0Ly8gRWFjaCBvZiB0aGVzZSBhdWdtZW50IHRoZSBIYW5kbGViYXJzIG9iamVjdC4gTm8gbmVlZCB0byBzZXR1cCBoZXJlLlxuXHQvLyAoVGhpcyBpcyBkb25lIHRvIGVhc2lseSBzaGFyZSBjb2RlIGJldHdlZW4gY29tbW9uanMgYW5kIGJyb3dzZSBlbnZzKVxuXG5cdHZhciBfaGFuZGxlYmFyc1NhZmVTdHJpbmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIwKTtcblxuXHR2YXIgX2hhbmRsZWJhcnNTYWZlU3RyaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2hhbmRsZWJhcnNTYWZlU3RyaW5nKTtcblxuXHR2YXIgX2hhbmRsZWJhcnNFeGNlcHRpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXG5cdHZhciBfaGFuZGxlYmFyc0V4Y2VwdGlvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9oYW5kbGViYXJzRXhjZXB0aW9uKTtcblxuXHR2YXIgX2hhbmRsZWJhcnNVdGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cblx0dmFyIFV0aWxzID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2hhbmRsZWJhcnNVdGlscyk7XG5cblx0dmFyIF9oYW5kbGViYXJzUnVudGltZSA9IF9fd2VicGFja19yZXF1aXJlX18oMjEpO1xuXG5cdHZhciBydW50aW1lID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2hhbmRsZWJhcnNSdW50aW1lKTtcblxuXHR2YXIgX2hhbmRsZWJhcnNOb0NvbmZsaWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMik7XG5cblx0dmFyIF9oYW5kbGViYXJzTm9Db25mbGljdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9oYW5kbGViYXJzTm9Db25mbGljdCk7XG5cblx0Ly8gRm9yIGNvbXBhdGliaWxpdHkgYW5kIHVzYWdlIG91dHNpZGUgb2YgbW9kdWxlIHN5c3RlbXMsIG1ha2UgdGhlIEhhbmRsZWJhcnMgb2JqZWN0IGEgbmFtZXNwYWNlXG5cdGZ1bmN0aW9uIGNyZWF0ZSgpIHtcblx0ICB2YXIgaGIgPSBuZXcgYmFzZS5IYW5kbGViYXJzRW52aXJvbm1lbnQoKTtcblxuXHQgIFV0aWxzLmV4dGVuZChoYiwgYmFzZSk7XG5cdCAgaGIuU2FmZVN0cmluZyA9IF9oYW5kbGViYXJzU2FmZVN0cmluZzJbJ2RlZmF1bHQnXTtcblx0ICBoYi5FeGNlcHRpb24gPSBfaGFuZGxlYmFyc0V4Y2VwdGlvbjJbJ2RlZmF1bHQnXTtcblx0ICBoYi5VdGlscyA9IFV0aWxzO1xuXHQgIGhiLmVzY2FwZUV4cHJlc3Npb24gPSBVdGlscy5lc2NhcGVFeHByZXNzaW9uO1xuXG5cdCAgaGIuVk0gPSBydW50aW1lO1xuXHQgIGhiLnRlbXBsYXRlID0gZnVuY3Rpb24gKHNwZWMpIHtcblx0ICAgIHJldHVybiBydW50aW1lLnRlbXBsYXRlKHNwZWMsIGhiKTtcblx0ICB9O1xuXG5cdCAgcmV0dXJuIGhiO1xuXHR9XG5cblx0dmFyIGluc3QgPSBjcmVhdGUoKTtcblx0aW5zdC5jcmVhdGUgPSBjcmVhdGU7XG5cblx0X2hhbmRsZWJhcnNOb0NvbmZsaWN0MlsnZGVmYXVsdCddKGluc3QpO1xuXG5cdGluc3RbJ2RlZmF1bHQnXSA9IGluc3Q7XG5cblx0ZXhwb3J0c1snZGVmYXVsdCddID0gaW5zdDtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG4vKiAxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblxuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IGZ1bmN0aW9uIChvYmopIHtcblx0ICBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7XG5cdCAgICByZXR1cm4gb2JqO1xuXHQgIH0gZWxzZSB7XG5cdCAgICB2YXIgbmV3T2JqID0ge307XG5cblx0ICAgIGlmIChvYmogIT0gbnVsbCkge1xuXHQgICAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG5cdCAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07XG5cdCAgICAgIH1cblx0ICAgIH1cblxuXHQgICAgbmV3T2JqW1wiZGVmYXVsdFwiXSA9IG9iajtcblx0ICAgIHJldHVybiBuZXdPYmo7XG5cdCAgfVxuXHR9O1xuXG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbi8qKiovIH0sXG4vKiAyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblxuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IGZ1bmN0aW9uIChvYmopIHtcblx0ICByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDoge1xuXHQgICAgXCJkZWZhdWx0XCI6IG9ialxuXHQgIH07XG5cdH07XG5cblx0ZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxuLyoqKi8gfSxcbi8qIDMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18oMilbJ2RlZmF1bHQnXTtcblxuXHRleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXHRleHBvcnRzLkhhbmRsZWJhcnNFbnZpcm9ubWVudCA9IEhhbmRsZWJhcnNFbnZpcm9ubWVudDtcblxuXHR2YXIgX3V0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblxuXHR2YXIgX2V4Y2VwdGlvbiA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cblx0dmFyIF9leGNlcHRpb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXhjZXB0aW9uKTtcblxuXHR2YXIgX2hlbHBlcnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xuXG5cdHZhciBfZGVjb3JhdG9ycyA9IF9fd2VicGFja19yZXF1aXJlX18oMTcpO1xuXG5cdHZhciBfbG9nZ2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOSk7XG5cblx0dmFyIF9sb2dnZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbG9nZ2VyKTtcblxuXHR2YXIgVkVSU0lPTiA9ICc0LjAuNSc7XG5cdGV4cG9ydHMuVkVSU0lPTiA9IFZFUlNJT047XG5cdHZhciBDT01QSUxFUl9SRVZJU0lPTiA9IDc7XG5cblx0ZXhwb3J0cy5DT01QSUxFUl9SRVZJU0lPTiA9IENPTVBJTEVSX1JFVklTSU9OO1xuXHR2YXIgUkVWSVNJT05fQ0hBTkdFUyA9IHtcblx0ICAxOiAnPD0gMS4wLnJjLjInLCAvLyAxLjAucmMuMiBpcyBhY3R1YWxseSByZXYyIGJ1dCBkb2Vzbid0IHJlcG9ydCBpdFxuXHQgIDI6ICc9PSAxLjAuMC1yYy4zJyxcblx0ICAzOiAnPT0gMS4wLjAtcmMuNCcsXG5cdCAgNDogJz09IDEueC54Jyxcblx0ICA1OiAnPT0gMi4wLjAtYWxwaGEueCcsXG5cdCAgNjogJz49IDIuMC4wLWJldGEuMScsXG5cdCAgNzogJz49IDQuMC4wJ1xuXHR9O1xuXG5cdGV4cG9ydHMuUkVWSVNJT05fQ0hBTkdFUyA9IFJFVklTSU9OX0NIQU5HRVM7XG5cdHZhciBvYmplY3RUeXBlID0gJ1tvYmplY3QgT2JqZWN0XSc7XG5cblx0ZnVuY3Rpb24gSGFuZGxlYmFyc0Vudmlyb25tZW50KGhlbHBlcnMsIHBhcnRpYWxzLCBkZWNvcmF0b3JzKSB7XG5cdCAgdGhpcy5oZWxwZXJzID0gaGVscGVycyB8fCB7fTtcblx0ICB0aGlzLnBhcnRpYWxzID0gcGFydGlhbHMgfHwge307XG5cdCAgdGhpcy5kZWNvcmF0b3JzID0gZGVjb3JhdG9ycyB8fCB7fTtcblxuXHQgIF9oZWxwZXJzLnJlZ2lzdGVyRGVmYXVsdEhlbHBlcnModGhpcyk7XG5cdCAgX2RlY29yYXRvcnMucmVnaXN0ZXJEZWZhdWx0RGVjb3JhdG9ycyh0aGlzKTtcblx0fVxuXG5cdEhhbmRsZWJhcnNFbnZpcm9ubWVudC5wcm90b3R5cGUgPSB7XG5cdCAgY29uc3RydWN0b3I6IEhhbmRsZWJhcnNFbnZpcm9ubWVudCxcblxuXHQgIGxvZ2dlcjogX2xvZ2dlcjJbJ2RlZmF1bHQnXSxcblx0ICBsb2c6IF9sb2dnZXIyWydkZWZhdWx0J10ubG9nLFxuXG5cdCAgcmVnaXN0ZXJIZWxwZXI6IGZ1bmN0aW9uIHJlZ2lzdGVySGVscGVyKG5hbWUsIGZuKSB7XG5cdCAgICBpZiAoX3V0aWxzLnRvU3RyaW5nLmNhbGwobmFtZSkgPT09IG9iamVjdFR5cGUpIHtcblx0ICAgICAgaWYgKGZuKSB7XG5cdCAgICAgICAgdGhyb3cgbmV3IF9leGNlcHRpb24yWydkZWZhdWx0J10oJ0FyZyBub3Qgc3VwcG9ydGVkIHdpdGggbXVsdGlwbGUgaGVscGVycycpO1xuXHQgICAgICB9XG5cdCAgICAgIF91dGlscy5leHRlbmQodGhpcy5oZWxwZXJzLCBuYW1lKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHRoaXMuaGVscGVyc1tuYW1lXSA9IGZuO1xuXHQgICAgfVxuXHQgIH0sXG5cdCAgdW5yZWdpc3RlckhlbHBlcjogZnVuY3Rpb24gdW5yZWdpc3RlckhlbHBlcihuYW1lKSB7XG5cdCAgICBkZWxldGUgdGhpcy5oZWxwZXJzW25hbWVdO1xuXHQgIH0sXG5cblx0ICByZWdpc3RlclBhcnRpYWw6IGZ1bmN0aW9uIHJlZ2lzdGVyUGFydGlhbChuYW1lLCBwYXJ0aWFsKSB7XG5cdCAgICBpZiAoX3V0aWxzLnRvU3RyaW5nLmNhbGwobmFtZSkgPT09IG9iamVjdFR5cGUpIHtcblx0ICAgICAgX3V0aWxzLmV4dGVuZCh0aGlzLnBhcnRpYWxzLCBuYW1lKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIGlmICh0eXBlb2YgcGFydGlhbCA9PT0gJ3VuZGVmaW5lZCcpIHtcblx0ICAgICAgICB0aHJvdyBuZXcgX2V4Y2VwdGlvbjJbJ2RlZmF1bHQnXSgnQXR0ZW1wdGluZyB0byByZWdpc3RlciBhIHBhcnRpYWwgY2FsbGVkIFwiJyArIG5hbWUgKyAnXCIgYXMgdW5kZWZpbmVkJyk7XG5cdCAgICAgIH1cblx0ICAgICAgdGhpcy5wYXJ0aWFsc1tuYW1lXSA9IHBhcnRpYWw7XG5cdCAgICB9XG5cdCAgfSxcblx0ICB1bnJlZ2lzdGVyUGFydGlhbDogZnVuY3Rpb24gdW5yZWdpc3RlclBhcnRpYWwobmFtZSkge1xuXHQgICAgZGVsZXRlIHRoaXMucGFydGlhbHNbbmFtZV07XG5cdCAgfSxcblxuXHQgIHJlZ2lzdGVyRGVjb3JhdG9yOiBmdW5jdGlvbiByZWdpc3RlckRlY29yYXRvcihuYW1lLCBmbikge1xuXHQgICAgaWYgKF91dGlscy50b1N0cmluZy5jYWxsKG5hbWUpID09PSBvYmplY3RUeXBlKSB7XG5cdCAgICAgIGlmIChmbikge1xuXHQgICAgICAgIHRocm93IG5ldyBfZXhjZXB0aW9uMlsnZGVmYXVsdCddKCdBcmcgbm90IHN1cHBvcnRlZCB3aXRoIG11bHRpcGxlIGRlY29yYXRvcnMnKTtcblx0ICAgICAgfVxuXHQgICAgICBfdXRpbHMuZXh0ZW5kKHRoaXMuZGVjb3JhdG9ycywgbmFtZSk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICB0aGlzLmRlY29yYXRvcnNbbmFtZV0gPSBmbjtcblx0ICAgIH1cblx0ICB9LFxuXHQgIHVucmVnaXN0ZXJEZWNvcmF0b3I6IGZ1bmN0aW9uIHVucmVnaXN0ZXJEZWNvcmF0b3IobmFtZSkge1xuXHQgICAgZGVsZXRlIHRoaXMuZGVjb3JhdG9yc1tuYW1lXTtcblx0ICB9XG5cdH07XG5cblx0dmFyIGxvZyA9IF9sb2dnZXIyWydkZWZhdWx0J10ubG9nO1xuXG5cdGV4cG9ydHMubG9nID0gbG9nO1xuXHRleHBvcnRzLmNyZWF0ZUZyYW1lID0gX3V0aWxzLmNyZWF0ZUZyYW1lO1xuXHRleHBvcnRzLmxvZ2dlciA9IF9sb2dnZXIyWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG4vKiA0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0ZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblx0ZXhwb3J0cy5leHRlbmQgPSBleHRlbmQ7XG5cdGV4cG9ydHMuaW5kZXhPZiA9IGluZGV4T2Y7XG5cdGV4cG9ydHMuZXNjYXBlRXhwcmVzc2lvbiA9IGVzY2FwZUV4cHJlc3Npb247XG5cdGV4cG9ydHMuaXNFbXB0eSA9IGlzRW1wdHk7XG5cdGV4cG9ydHMuY3JlYXRlRnJhbWUgPSBjcmVhdGVGcmFtZTtcblx0ZXhwb3J0cy5ibG9ja1BhcmFtcyA9IGJsb2NrUGFyYW1zO1xuXHRleHBvcnRzLmFwcGVuZENvbnRleHRQYXRoID0gYXBwZW5kQ29udGV4dFBhdGg7XG5cdHZhciBlc2NhcGUgPSB7XG5cdCAgJyYnOiAnJmFtcDsnLFxuXHQgICc8JzogJyZsdDsnLFxuXHQgICc+JzogJyZndDsnLFxuXHQgICdcIic6ICcmcXVvdDsnLFxuXHQgIFwiJ1wiOiAnJiN4Mjc7Jyxcblx0ICAnYCc6ICcmI3g2MDsnLFxuXHQgICc9JzogJyYjeDNEOydcblx0fTtcblxuXHR2YXIgYmFkQ2hhcnMgPSAvWyY8PlwiJ2A9XS9nLFxuXHQgICAgcG9zc2libGUgPSAvWyY8PlwiJ2A9XS87XG5cblx0ZnVuY3Rpb24gZXNjYXBlQ2hhcihjaHIpIHtcblx0ICByZXR1cm4gZXNjYXBlW2Nocl07XG5cdH1cblxuXHRmdW5jdGlvbiBleHRlbmQob2JqIC8qICwgLi4uc291cmNlICovKSB7XG5cdCAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcblx0ICAgIGZvciAodmFyIGtleSBpbiBhcmd1bWVudHNbaV0pIHtcblx0ICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChhcmd1bWVudHNbaV0sIGtleSkpIHtcblx0ICAgICAgICBvYmpba2V5XSA9IGFyZ3VtZW50c1tpXVtrZXldO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfVxuXG5cdCAgcmV0dXJuIG9iajtcblx0fVxuXG5cdHZhciB0b1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG5cblx0ZXhwb3J0cy50b1N0cmluZyA9IHRvU3RyaW5nO1xuXHQvLyBTb3VyY2VkIGZyb20gbG9kYXNoXG5cdC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9iZXN0aWVqcy9sb2Rhc2gvYmxvYi9tYXN0ZXIvTElDRU5TRS50eHRcblx0LyogZXNsaW50LWRpc2FibGUgZnVuYy1zdHlsZSAqL1xuXHR2YXIgaXNGdW5jdGlvbiA9IGZ1bmN0aW9uIGlzRnVuY3Rpb24odmFsdWUpIHtcblx0ICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nO1xuXHR9O1xuXHQvLyBmYWxsYmFjayBmb3Igb2xkZXIgdmVyc2lvbnMgb2YgQ2hyb21lIGFuZCBTYWZhcmlcblx0LyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cblx0aWYgKGlzRnVuY3Rpb24oL3gvKSkge1xuXHQgIGV4cG9ydHMuaXNGdW5jdGlvbiA9IGlzRnVuY3Rpb24gPSBmdW5jdGlvbiAodmFsdWUpIHtcblx0ICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicgJiYgdG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09ICdbb2JqZWN0IEZ1bmN0aW9uXSc7XG5cdCAgfTtcblx0fVxuXHRleHBvcnRzLmlzRnVuY3Rpb24gPSBpc0Z1bmN0aW9uO1xuXG5cdC8qIGVzbGludC1lbmFibGUgZnVuYy1zdHlsZSAqL1xuXG5cdC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5cdHZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbiAodmFsdWUpIHtcblx0ICByZXR1cm4gdmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyA/IHRvU3RyaW5nLmNhbGwodmFsdWUpID09PSAnW29iamVjdCBBcnJheV0nIDogZmFsc2U7XG5cdH07XG5cblx0ZXhwb3J0cy5pc0FycmF5ID0gaXNBcnJheTtcblx0Ly8gT2xkZXIgSUUgdmVyc2lvbnMgZG8gbm90IGRpcmVjdGx5IHN1cHBvcnQgaW5kZXhPZiBzbyB3ZSBtdXN0IGltcGxlbWVudCBvdXIgb3duLCBzYWRseS5cblxuXHRmdW5jdGlvbiBpbmRleE9mKGFycmF5LCB2YWx1ZSkge1xuXHQgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBhcnJheS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuXHQgICAgaWYgKGFycmF5W2ldID09PSB2YWx1ZSkge1xuXHQgICAgICByZXR1cm4gaTtcblx0ICAgIH1cblx0ICB9XG5cdCAgcmV0dXJuIC0xO1xuXHR9XG5cblx0ZnVuY3Rpb24gZXNjYXBlRXhwcmVzc2lvbihzdHJpbmcpIHtcblx0ICBpZiAodHlwZW9mIHN0cmluZyAhPT0gJ3N0cmluZycpIHtcblx0ICAgIC8vIGRvbid0IGVzY2FwZSBTYWZlU3RyaW5ncywgc2luY2UgdGhleSdyZSBhbHJlYWR5IHNhZmVcblx0ICAgIGlmIChzdHJpbmcgJiYgc3RyaW5nLnRvSFRNTCkge1xuXHQgICAgICByZXR1cm4gc3RyaW5nLnRvSFRNTCgpO1xuXHQgICAgfSBlbHNlIGlmIChzdHJpbmcgPT0gbnVsbCkge1xuXHQgICAgICByZXR1cm4gJyc7XG5cdCAgICB9IGVsc2UgaWYgKCFzdHJpbmcpIHtcblx0ICAgICAgcmV0dXJuIHN0cmluZyArICcnO1xuXHQgICAgfVxuXG5cdCAgICAvLyBGb3JjZSBhIHN0cmluZyBjb252ZXJzaW9uIGFzIHRoaXMgd2lsbCBiZSBkb25lIGJ5IHRoZSBhcHBlbmQgcmVnYXJkbGVzcyBhbmRcblx0ICAgIC8vIHRoZSByZWdleCB0ZXN0IHdpbGwgZG8gdGhpcyB0cmFuc3BhcmVudGx5IGJlaGluZCB0aGUgc2NlbmVzLCBjYXVzaW5nIGlzc3VlcyBpZlxuXHQgICAgLy8gYW4gb2JqZWN0J3MgdG8gc3RyaW5nIGhhcyBlc2NhcGVkIGNoYXJhY3RlcnMgaW4gaXQuXG5cdCAgICBzdHJpbmcgPSAnJyArIHN0cmluZztcblx0ICB9XG5cblx0ICBpZiAoIXBvc3NpYmxlLnRlc3Qoc3RyaW5nKSkge1xuXHQgICAgcmV0dXJuIHN0cmluZztcblx0ICB9XG5cdCAgcmV0dXJuIHN0cmluZy5yZXBsYWNlKGJhZENoYXJzLCBlc2NhcGVDaGFyKTtcblx0fVxuXG5cdGZ1bmN0aW9uIGlzRW1wdHkodmFsdWUpIHtcblx0ICBpZiAoIXZhbHVlICYmIHZhbHVlICE9PSAwKSB7XG5cdCAgICByZXR1cm4gdHJ1ZTtcblx0ICB9IGVsc2UgaWYgKGlzQXJyYXkodmFsdWUpICYmIHZhbHVlLmxlbmd0aCA9PT0gMCkge1xuXHQgICAgcmV0dXJuIHRydWU7XG5cdCAgfSBlbHNlIHtcblx0ICAgIHJldHVybiBmYWxzZTtcblx0ICB9XG5cdH1cblxuXHRmdW5jdGlvbiBjcmVhdGVGcmFtZShvYmplY3QpIHtcblx0ICB2YXIgZnJhbWUgPSBleHRlbmQoe30sIG9iamVjdCk7XG5cdCAgZnJhbWUuX3BhcmVudCA9IG9iamVjdDtcblx0ICByZXR1cm4gZnJhbWU7XG5cdH1cblxuXHRmdW5jdGlvbiBibG9ja1BhcmFtcyhwYXJhbXMsIGlkcykge1xuXHQgIHBhcmFtcy5wYXRoID0gaWRzO1xuXHQgIHJldHVybiBwYXJhbXM7XG5cdH1cblxuXHRmdW5jdGlvbiBhcHBlbmRDb250ZXh0UGF0aChjb250ZXh0UGF0aCwgaWQpIHtcblx0ICByZXR1cm4gKGNvbnRleHRQYXRoID8gY29udGV4dFBhdGggKyAnLicgOiAnJykgKyBpZDtcblx0fVxuXG4vKioqLyB9LFxuLyogNSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBfT2JqZWN0JGRlZmluZVByb3BlcnR5ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KVsnZGVmYXVsdCddO1xuXG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cblx0dmFyIGVycm9yUHJvcHMgPSBbJ2Rlc2NyaXB0aW9uJywgJ2ZpbGVOYW1lJywgJ2xpbmVOdW1iZXInLCAnbWVzc2FnZScsICduYW1lJywgJ251bWJlcicsICdzdGFjayddO1xuXG5cdGZ1bmN0aW9uIEV4Y2VwdGlvbihtZXNzYWdlLCBub2RlKSB7XG5cdCAgdmFyIGxvYyA9IG5vZGUgJiYgbm9kZS5sb2MsXG5cdCAgICAgIGxpbmUgPSB1bmRlZmluZWQsXG5cdCAgICAgIGNvbHVtbiA9IHVuZGVmaW5lZDtcblx0ICBpZiAobG9jKSB7XG5cdCAgICBsaW5lID0gbG9jLnN0YXJ0LmxpbmU7XG5cdCAgICBjb2x1bW4gPSBsb2Muc3RhcnQuY29sdW1uO1xuXG5cdCAgICBtZXNzYWdlICs9ICcgLSAnICsgbGluZSArICc6JyArIGNvbHVtbjtcblx0ICB9XG5cblx0ICB2YXIgdG1wID0gRXJyb3IucHJvdG90eXBlLmNvbnN0cnVjdG9yLmNhbGwodGhpcywgbWVzc2FnZSk7XG5cblx0ICAvLyBVbmZvcnR1bmF0ZWx5IGVycm9ycyBhcmUgbm90IGVudW1lcmFibGUgaW4gQ2hyb21lIChhdCBsZWFzdCksIHNvIGBmb3IgcHJvcCBpbiB0bXBgIGRvZXNuJ3Qgd29yay5cblx0ICBmb3IgKHZhciBpZHggPSAwOyBpZHggPCBlcnJvclByb3BzLmxlbmd0aDsgaWR4KyspIHtcblx0ICAgIHRoaXNbZXJyb3JQcm9wc1tpZHhdXSA9IHRtcFtlcnJvclByb3BzW2lkeF1dO1xuXHQgIH1cblxuXHQgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG5cdCAgaWYgKEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKSB7XG5cdCAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLCBFeGNlcHRpb24pO1xuXHQgIH1cblxuXHQgIHRyeSB7XG5cdCAgICBpZiAobG9jKSB7XG5cdCAgICAgIHRoaXMubGluZU51bWJlciA9IGxpbmU7XG5cblx0ICAgICAgLy8gV29yayBhcm91bmQgaXNzdWUgdW5kZXIgc2FmYXJpIHdoZXJlIHdlIGNhbid0IGRpcmVjdGx5IHNldCB0aGUgY29sdW1uIHZhbHVlXG5cdCAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5cdCAgICAgIGlmIChfT2JqZWN0JGRlZmluZVByb3BlcnR5KSB7XG5cdCAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdjb2x1bW4nLCB7IHZhbHVlOiBjb2x1bW4gfSk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgdGhpcy5jb2x1bW4gPSBjb2x1bW47XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9IGNhdGNoIChub3ApIHtcblx0ICAgIC8qIElnbm9yZSBpZiB0aGUgYnJvd3NlciBpcyB2ZXJ5IHBhcnRpY3VsYXIgKi9cblx0ICB9XG5cdH1cblxuXHRFeGNlcHRpb24ucHJvdG90eXBlID0gbmV3IEVycm9yKCk7XG5cblx0ZXhwb3J0c1snZGVmYXVsdCddID0gRXhjZXB0aW9uO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcbi8qIDYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogX193ZWJwYWNrX3JlcXVpcmVfXyg3KSwgX19lc01vZHVsZTogdHJ1ZSB9O1xuXG4vKioqLyB9LFxuLyogNyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyICQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGRlZmluZVByb3BlcnR5KGl0LCBrZXksIGRlc2Mpe1xuXHQgIHJldHVybiAkLnNldERlc2MoaXQsIGtleSwgZGVzYyk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiA4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHR2YXIgJE9iamVjdCA9IE9iamVjdDtcblx0bW9kdWxlLmV4cG9ydHMgPSB7XG5cdCAgY3JlYXRlOiAgICAgJE9iamVjdC5jcmVhdGUsXG5cdCAgZ2V0UHJvdG86ICAgJE9iamVjdC5nZXRQcm90b3R5cGVPZixcblx0ICBpc0VudW06ICAgICB7fS5wcm9wZXJ0eUlzRW51bWVyYWJsZSxcblx0ICBnZXREZXNjOiAgICAkT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcixcblx0ICBzZXREZXNjOiAgICAkT2JqZWN0LmRlZmluZVByb3BlcnR5LFxuXHQgIHNldERlc2NzOiAgICRPYmplY3QuZGVmaW5lUHJvcGVydGllcyxcblx0ICBnZXRLZXlzOiAgICAkT2JqZWN0LmtleXMsXG5cdCAgZ2V0TmFtZXM6ICAgJE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzLFxuXHQgIGdldFN5bWJvbHM6ICRPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzLFxuXHQgIGVhY2g6ICAgICAgIFtdLmZvckVhY2hcblx0fTtcblxuLyoqKi8gfSxcbi8qIDkgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18oMilbJ2RlZmF1bHQnXTtcblxuXHRleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXHRleHBvcnRzLnJlZ2lzdGVyRGVmYXVsdEhlbHBlcnMgPSByZWdpc3RlckRlZmF1bHRIZWxwZXJzO1xuXG5cdHZhciBfaGVscGVyc0Jsb2NrSGVscGVyTWlzc2luZyA9IF9fd2VicGFja19yZXF1aXJlX18oMTApO1xuXG5cdHZhciBfaGVscGVyc0Jsb2NrSGVscGVyTWlzc2luZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9oZWxwZXJzQmxvY2tIZWxwZXJNaXNzaW5nKTtcblxuXHR2YXIgX2hlbHBlcnNFYWNoID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMSk7XG5cblx0dmFyIF9oZWxwZXJzRWFjaDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9oZWxwZXJzRWFjaCk7XG5cblx0dmFyIF9oZWxwZXJzSGVscGVyTWlzc2luZyA9IF9fd2VicGFja19yZXF1aXJlX18oMTIpO1xuXG5cdHZhciBfaGVscGVyc0hlbHBlck1pc3NpbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaGVscGVyc0hlbHBlck1pc3NpbmcpO1xuXG5cdHZhciBfaGVscGVyc0lmID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMyk7XG5cblx0dmFyIF9oZWxwZXJzSWYyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaGVscGVyc0lmKTtcblxuXHR2YXIgX2hlbHBlcnNMb2cgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0KTtcblxuXHR2YXIgX2hlbHBlcnNMb2cyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaGVscGVyc0xvZyk7XG5cblx0dmFyIF9oZWxwZXJzTG9va3VwID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNSk7XG5cblx0dmFyIF9oZWxwZXJzTG9va3VwMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2hlbHBlcnNMb29rdXApO1xuXG5cdHZhciBfaGVscGVyc1dpdGggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2KTtcblxuXHR2YXIgX2hlbHBlcnNXaXRoMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2hlbHBlcnNXaXRoKTtcblxuXHRmdW5jdGlvbiByZWdpc3RlckRlZmF1bHRIZWxwZXJzKGluc3RhbmNlKSB7XG5cdCAgX2hlbHBlcnNCbG9ja0hlbHBlck1pc3NpbmcyWydkZWZhdWx0J10oaW5zdGFuY2UpO1xuXHQgIF9oZWxwZXJzRWFjaDJbJ2RlZmF1bHQnXShpbnN0YW5jZSk7XG5cdCAgX2hlbHBlcnNIZWxwZXJNaXNzaW5nMlsnZGVmYXVsdCddKGluc3RhbmNlKTtcblx0ICBfaGVscGVyc0lmMlsnZGVmYXVsdCddKGluc3RhbmNlKTtcblx0ICBfaGVscGVyc0xvZzJbJ2RlZmF1bHQnXShpbnN0YW5jZSk7XG5cdCAgX2hlbHBlcnNMb29rdXAyWydkZWZhdWx0J10oaW5zdGFuY2UpO1xuXHQgIF9oZWxwZXJzV2l0aDJbJ2RlZmF1bHQnXShpbnN0YW5jZSk7XG5cdH1cblxuLyoqKi8gfSxcbi8qIDEwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0ZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxuXHR2YXIgX3V0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblxuXHRleHBvcnRzWydkZWZhdWx0J10gPSBmdW5jdGlvbiAoaW5zdGFuY2UpIHtcblx0ICBpbnN0YW5jZS5yZWdpc3RlckhlbHBlcignYmxvY2tIZWxwZXJNaXNzaW5nJywgZnVuY3Rpb24gKGNvbnRleHQsIG9wdGlvbnMpIHtcblx0ICAgIHZhciBpbnZlcnNlID0gb3B0aW9ucy5pbnZlcnNlLFxuXHQgICAgICAgIGZuID0gb3B0aW9ucy5mbjtcblxuXHQgICAgaWYgKGNvbnRleHQgPT09IHRydWUpIHtcblx0ICAgICAgcmV0dXJuIGZuKHRoaXMpO1xuXHQgICAgfSBlbHNlIGlmIChjb250ZXh0ID09PSBmYWxzZSB8fCBjb250ZXh0ID09IG51bGwpIHtcblx0ICAgICAgcmV0dXJuIGludmVyc2UodGhpcyk7XG5cdCAgICB9IGVsc2UgaWYgKF91dGlscy5pc0FycmF5KGNvbnRleHQpKSB7XG5cdCAgICAgIGlmIChjb250ZXh0Lmxlbmd0aCA+IDApIHtcblx0ICAgICAgICBpZiAob3B0aW9ucy5pZHMpIHtcblx0ICAgICAgICAgIG9wdGlvbnMuaWRzID0gW29wdGlvbnMubmFtZV07XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgcmV0dXJuIGluc3RhbmNlLmhlbHBlcnMuZWFjaChjb250ZXh0LCBvcHRpb25zKTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gaW52ZXJzZSh0aGlzKTtcblx0ICAgICAgfVxuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgaWYgKG9wdGlvbnMuZGF0YSAmJiBvcHRpb25zLmlkcykge1xuXHQgICAgICAgIHZhciBkYXRhID0gX3V0aWxzLmNyZWF0ZUZyYW1lKG9wdGlvbnMuZGF0YSk7XG5cdCAgICAgICAgZGF0YS5jb250ZXh0UGF0aCA9IF91dGlscy5hcHBlbmRDb250ZXh0UGF0aChvcHRpb25zLmRhdGEuY29udGV4dFBhdGgsIG9wdGlvbnMubmFtZSk7XG5cdCAgICAgICAgb3B0aW9ucyA9IHsgZGF0YTogZGF0YSB9O1xuXHQgICAgICB9XG5cblx0ICAgICAgcmV0dXJuIGZuKGNvbnRleHQsIG9wdGlvbnMpO1xuXHQgICAgfVxuXHQgIH0pO1xuXHR9O1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuLyogMTEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18oMilbJ2RlZmF1bHQnXTtcblxuXHRleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG5cdHZhciBfdXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXG5cdHZhciBfZXhjZXB0aW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblxuXHR2YXIgX2V4Y2VwdGlvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leGNlcHRpb24pO1xuXG5cdGV4cG9ydHNbJ2RlZmF1bHQnXSA9IGZ1bmN0aW9uIChpbnN0YW5jZSkge1xuXHQgIGluc3RhbmNlLnJlZ2lzdGVySGVscGVyKCdlYWNoJywgZnVuY3Rpb24gKGNvbnRleHQsIG9wdGlvbnMpIHtcblx0ICAgIGlmICghb3B0aW9ucykge1xuXHQgICAgICB0aHJvdyBuZXcgX2V4Y2VwdGlvbjJbJ2RlZmF1bHQnXSgnTXVzdCBwYXNzIGl0ZXJhdG9yIHRvICNlYWNoJyk7XG5cdCAgICB9XG5cblx0ICAgIHZhciBmbiA9IG9wdGlvbnMuZm4sXG5cdCAgICAgICAgaW52ZXJzZSA9IG9wdGlvbnMuaW52ZXJzZSxcblx0ICAgICAgICBpID0gMCxcblx0ICAgICAgICByZXQgPSAnJyxcblx0ICAgICAgICBkYXRhID0gdW5kZWZpbmVkLFxuXHQgICAgICAgIGNvbnRleHRQYXRoID0gdW5kZWZpbmVkO1xuXG5cdCAgICBpZiAob3B0aW9ucy5kYXRhICYmIG9wdGlvbnMuaWRzKSB7XG5cdCAgICAgIGNvbnRleHRQYXRoID0gX3V0aWxzLmFwcGVuZENvbnRleHRQYXRoKG9wdGlvbnMuZGF0YS5jb250ZXh0UGF0aCwgb3B0aW9ucy5pZHNbMF0pICsgJy4nO1xuXHQgICAgfVxuXG5cdCAgICBpZiAoX3V0aWxzLmlzRnVuY3Rpb24oY29udGV4dCkpIHtcblx0ICAgICAgY29udGV4dCA9IGNvbnRleHQuY2FsbCh0aGlzKTtcblx0ICAgIH1cblxuXHQgICAgaWYgKG9wdGlvbnMuZGF0YSkge1xuXHQgICAgICBkYXRhID0gX3V0aWxzLmNyZWF0ZUZyYW1lKG9wdGlvbnMuZGF0YSk7XG5cdCAgICB9XG5cblx0ICAgIGZ1bmN0aW9uIGV4ZWNJdGVyYXRpb24oZmllbGQsIGluZGV4LCBsYXN0KSB7XG5cdCAgICAgIGlmIChkYXRhKSB7XG5cdCAgICAgICAgZGF0YS5rZXkgPSBmaWVsZDtcblx0ICAgICAgICBkYXRhLmluZGV4ID0gaW5kZXg7XG5cdCAgICAgICAgZGF0YS5maXJzdCA9IGluZGV4ID09PSAwO1xuXHQgICAgICAgIGRhdGEubGFzdCA9ICEhbGFzdDtcblxuXHQgICAgICAgIGlmIChjb250ZXh0UGF0aCkge1xuXHQgICAgICAgICAgZGF0YS5jb250ZXh0UGF0aCA9IGNvbnRleHRQYXRoICsgZmllbGQ7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cblx0ICAgICAgcmV0ID0gcmV0ICsgZm4oY29udGV4dFtmaWVsZF0sIHtcblx0ICAgICAgICBkYXRhOiBkYXRhLFxuXHQgICAgICAgIGJsb2NrUGFyYW1zOiBfdXRpbHMuYmxvY2tQYXJhbXMoW2NvbnRleHRbZmllbGRdLCBmaWVsZF0sIFtjb250ZXh0UGF0aCArIGZpZWxkLCBudWxsXSlcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cblx0ICAgIGlmIChjb250ZXh0ICYmIHR5cGVvZiBjb250ZXh0ID09PSAnb2JqZWN0Jykge1xuXHQgICAgICBpZiAoX3V0aWxzLmlzQXJyYXkoY29udGV4dCkpIHtcblx0ICAgICAgICBmb3IgKHZhciBqID0gY29udGV4dC5sZW5ndGg7IGkgPCBqOyBpKyspIHtcblx0ICAgICAgICAgIGlmIChpIGluIGNvbnRleHQpIHtcblx0ICAgICAgICAgICAgZXhlY0l0ZXJhdGlvbihpLCBpLCBpID09PSBjb250ZXh0Lmxlbmd0aCAtIDEpO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICB2YXIgcHJpb3JLZXkgPSB1bmRlZmluZWQ7XG5cblx0ICAgICAgICBmb3IgKHZhciBrZXkgaW4gY29udGV4dCkge1xuXHQgICAgICAgICAgaWYgKGNvbnRleHQuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuXHQgICAgICAgICAgICAvLyBXZSdyZSBydW5uaW5nIHRoZSBpdGVyYXRpb25zIG9uZSBzdGVwIG91dCBvZiBzeW5jIHNvIHdlIGNhbiBkZXRlY3Rcblx0ICAgICAgICAgICAgLy8gdGhlIGxhc3QgaXRlcmF0aW9uIHdpdGhvdXQgaGF2ZSB0byBzY2FuIHRoZSBvYmplY3QgdHdpY2UgYW5kIGNyZWF0ZVxuXHQgICAgICAgICAgICAvLyBhbiBpdGVybWVkaWF0ZSBrZXlzIGFycmF5LlxuXHQgICAgICAgICAgICBpZiAocHJpb3JLZXkgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgICAgICAgIGV4ZWNJdGVyYXRpb24ocHJpb3JLZXksIGkgLSAxKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBwcmlvcktleSA9IGtleTtcblx0ICAgICAgICAgICAgaSsrO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAocHJpb3JLZXkgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgICAgZXhlY0l0ZXJhdGlvbihwcmlvcktleSwgaSAtIDEsIHRydWUpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfVxuXG5cdCAgICBpZiAoaSA9PT0gMCkge1xuXHQgICAgICByZXQgPSBpbnZlcnNlKHRoaXMpO1xuXHQgICAgfVxuXG5cdCAgICByZXR1cm4gcmV0O1xuXHQgIH0pO1xuXHR9O1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuLyogMTIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18oMilbJ2RlZmF1bHQnXTtcblxuXHRleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG5cdHZhciBfZXhjZXB0aW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblxuXHR2YXIgX2V4Y2VwdGlvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leGNlcHRpb24pO1xuXG5cdGV4cG9ydHNbJ2RlZmF1bHQnXSA9IGZ1bmN0aW9uIChpbnN0YW5jZSkge1xuXHQgIGluc3RhbmNlLnJlZ2lzdGVySGVscGVyKCdoZWxwZXJNaXNzaW5nJywgZnVuY3Rpb24gKCkgLyogW2FyZ3MsIF1vcHRpb25zICove1xuXHQgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEpIHtcblx0ICAgICAgLy8gQSBtaXNzaW5nIGZpZWxkIGluIGEge3tmb299fSBjb25zdHJ1Y3QuXG5cdCAgICAgIHJldHVybiB1bmRlZmluZWQ7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAvLyBTb21lb25lIGlzIGFjdHVhbGx5IHRyeWluZyB0byBjYWxsIHNvbWV0aGluZywgYmxvdyB1cC5cblx0ICAgICAgdGhyb3cgbmV3IF9leGNlcHRpb24yWydkZWZhdWx0J10oJ01pc3NpbmcgaGVscGVyOiBcIicgKyBhcmd1bWVudHNbYXJndW1lbnRzLmxlbmd0aCAtIDFdLm5hbWUgKyAnXCInKTtcblx0ICAgIH1cblx0ICB9KTtcblx0fTtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcbi8qIDEzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0ZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxuXHR2YXIgX3V0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblxuXHRleHBvcnRzWydkZWZhdWx0J10gPSBmdW5jdGlvbiAoaW5zdGFuY2UpIHtcblx0ICBpbnN0YW5jZS5yZWdpc3RlckhlbHBlcignaWYnLCBmdW5jdGlvbiAoY29uZGl0aW9uYWwsIG9wdGlvbnMpIHtcblx0ICAgIGlmIChfdXRpbHMuaXNGdW5jdGlvbihjb25kaXRpb25hbCkpIHtcblx0ICAgICAgY29uZGl0aW9uYWwgPSBjb25kaXRpb25hbC5jYWxsKHRoaXMpO1xuXHQgICAgfVxuXG5cdCAgICAvLyBEZWZhdWx0IGJlaGF2aW9yIGlzIHRvIHJlbmRlciB0aGUgcG9zaXRpdmUgcGF0aCBpZiB0aGUgdmFsdWUgaXMgdHJ1dGh5IGFuZCBub3QgZW1wdHkuXG5cdCAgICAvLyBUaGUgYGluY2x1ZGVaZXJvYCBvcHRpb24gbWF5IGJlIHNldCB0byB0cmVhdCB0aGUgY29uZHRpb25hbCBhcyBwdXJlbHkgbm90IGVtcHR5IGJhc2VkIG9uIHRoZVxuXHQgICAgLy8gYmVoYXZpb3Igb2YgaXNFbXB0eS4gRWZmZWN0aXZlbHkgdGhpcyBkZXRlcm1pbmVzIGlmIDAgaXMgaGFuZGxlZCBieSB0aGUgcG9zaXRpdmUgcGF0aCBvciBuZWdhdGl2ZS5cblx0ICAgIGlmICghb3B0aW9ucy5oYXNoLmluY2x1ZGVaZXJvICYmICFjb25kaXRpb25hbCB8fCBfdXRpbHMuaXNFbXB0eShjb25kaXRpb25hbCkpIHtcblx0ICAgICAgcmV0dXJuIG9wdGlvbnMuaW52ZXJzZSh0aGlzKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJldHVybiBvcHRpb25zLmZuKHRoaXMpO1xuXHQgICAgfVxuXHQgIH0pO1xuXG5cdCAgaW5zdGFuY2UucmVnaXN0ZXJIZWxwZXIoJ3VubGVzcycsIGZ1bmN0aW9uIChjb25kaXRpb25hbCwgb3B0aW9ucykge1xuXHQgICAgcmV0dXJuIGluc3RhbmNlLmhlbHBlcnNbJ2lmJ10uY2FsbCh0aGlzLCBjb25kaXRpb25hbCwgeyBmbjogb3B0aW9ucy5pbnZlcnNlLCBpbnZlcnNlOiBvcHRpb25zLmZuLCBoYXNoOiBvcHRpb25zLmhhc2ggfSk7XG5cdCAgfSk7XG5cdH07XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG4vKiAxNCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cblx0ZXhwb3J0c1snZGVmYXVsdCddID0gZnVuY3Rpb24gKGluc3RhbmNlKSB7XG5cdCAgaW5zdGFuY2UucmVnaXN0ZXJIZWxwZXIoJ2xvZycsIGZ1bmN0aW9uICgpIC8qIG1lc3NhZ2UsIG9wdGlvbnMgKi97XG5cdCAgICB2YXIgYXJncyA9IFt1bmRlZmluZWRdLFxuXHQgICAgICAgIG9wdGlvbnMgPSBhcmd1bWVudHNbYXJndW1lbnRzLmxlbmd0aCAtIDFdO1xuXHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoIC0gMTsgaSsrKSB7XG5cdCAgICAgIGFyZ3MucHVzaChhcmd1bWVudHNbaV0pO1xuXHQgICAgfVxuXG5cdCAgICB2YXIgbGV2ZWwgPSAxO1xuXHQgICAgaWYgKG9wdGlvbnMuaGFzaC5sZXZlbCAhPSBudWxsKSB7XG5cdCAgICAgIGxldmVsID0gb3B0aW9ucy5oYXNoLmxldmVsO1xuXHQgICAgfSBlbHNlIGlmIChvcHRpb25zLmRhdGEgJiYgb3B0aW9ucy5kYXRhLmxldmVsICE9IG51bGwpIHtcblx0ICAgICAgbGV2ZWwgPSBvcHRpb25zLmRhdGEubGV2ZWw7XG5cdCAgICB9XG5cdCAgICBhcmdzWzBdID0gbGV2ZWw7XG5cblx0ICAgIGluc3RhbmNlLmxvZy5hcHBseShpbnN0YW5jZSwgYXJncyk7XG5cdCAgfSk7XG5cdH07XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG4vKiAxNSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cblx0ZXhwb3J0c1snZGVmYXVsdCddID0gZnVuY3Rpb24gKGluc3RhbmNlKSB7XG5cdCAgaW5zdGFuY2UucmVnaXN0ZXJIZWxwZXIoJ2xvb2t1cCcsIGZ1bmN0aW9uIChvYmosIGZpZWxkKSB7XG5cdCAgICByZXR1cm4gb2JqICYmIG9ialtmaWVsZF07XG5cdCAgfSk7XG5cdH07XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG4vKiAxNiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cblx0dmFyIF91dGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cblx0ZXhwb3J0c1snZGVmYXVsdCddID0gZnVuY3Rpb24gKGluc3RhbmNlKSB7XG5cdCAgaW5zdGFuY2UucmVnaXN0ZXJIZWxwZXIoJ3dpdGgnLCBmdW5jdGlvbiAoY29udGV4dCwgb3B0aW9ucykge1xuXHQgICAgaWYgKF91dGlscy5pc0Z1bmN0aW9uKGNvbnRleHQpKSB7XG5cdCAgICAgIGNvbnRleHQgPSBjb250ZXh0LmNhbGwodGhpcyk7XG5cdCAgICB9XG5cblx0ICAgIHZhciBmbiA9IG9wdGlvbnMuZm47XG5cblx0ICAgIGlmICghX3V0aWxzLmlzRW1wdHkoY29udGV4dCkpIHtcblx0ICAgICAgdmFyIGRhdGEgPSBvcHRpb25zLmRhdGE7XG5cdCAgICAgIGlmIChvcHRpb25zLmRhdGEgJiYgb3B0aW9ucy5pZHMpIHtcblx0ICAgICAgICBkYXRhID0gX3V0aWxzLmNyZWF0ZUZyYW1lKG9wdGlvbnMuZGF0YSk7XG5cdCAgICAgICAgZGF0YS5jb250ZXh0UGF0aCA9IF91dGlscy5hcHBlbmRDb250ZXh0UGF0aChvcHRpb25zLmRhdGEuY29udGV4dFBhdGgsIG9wdGlvbnMuaWRzWzBdKTtcblx0ICAgICAgfVxuXG5cdCAgICAgIHJldHVybiBmbihjb250ZXh0LCB7XG5cdCAgICAgICAgZGF0YTogZGF0YSxcblx0ICAgICAgICBibG9ja1BhcmFtczogX3V0aWxzLmJsb2NrUGFyYW1zKFtjb250ZXh0XSwgW2RhdGEgJiYgZGF0YS5jb250ZXh0UGF0aF0pXG5cdCAgICAgIH0pO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcmV0dXJuIG9wdGlvbnMuaW52ZXJzZSh0aGlzKTtcblx0ICAgIH1cblx0ICB9KTtcblx0fTtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcbi8qIDE3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpWydkZWZhdWx0J107XG5cblx0ZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblx0ZXhwb3J0cy5yZWdpc3RlckRlZmF1bHREZWNvcmF0b3JzID0gcmVnaXN0ZXJEZWZhdWx0RGVjb3JhdG9ycztcblxuXHR2YXIgX2RlY29yYXRvcnNJbmxpbmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4KTtcblxuXHR2YXIgX2RlY29yYXRvcnNJbmxpbmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVjb3JhdG9yc0lubGluZSk7XG5cblx0ZnVuY3Rpb24gcmVnaXN0ZXJEZWZhdWx0RGVjb3JhdG9ycyhpbnN0YW5jZSkge1xuXHQgIF9kZWNvcmF0b3JzSW5saW5lMlsnZGVmYXVsdCddKGluc3RhbmNlKTtcblx0fVxuXG4vKioqLyB9LFxuLyogMTggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHRleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG5cdHZhciBfdXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXG5cdGV4cG9ydHNbJ2RlZmF1bHQnXSA9IGZ1bmN0aW9uIChpbnN0YW5jZSkge1xuXHQgIGluc3RhbmNlLnJlZ2lzdGVyRGVjb3JhdG9yKCdpbmxpbmUnLCBmdW5jdGlvbiAoZm4sIHByb3BzLCBjb250YWluZXIsIG9wdGlvbnMpIHtcblx0ICAgIHZhciByZXQgPSBmbjtcblx0ICAgIGlmICghcHJvcHMucGFydGlhbHMpIHtcblx0ICAgICAgcHJvcHMucGFydGlhbHMgPSB7fTtcblx0ICAgICAgcmV0ID0gZnVuY3Rpb24gKGNvbnRleHQsIG9wdGlvbnMpIHtcblx0ICAgICAgICAvLyBDcmVhdGUgYSBuZXcgcGFydGlhbHMgc3RhY2sgZnJhbWUgcHJpb3IgdG8gZXhlYy5cblx0ICAgICAgICB2YXIgb3JpZ2luYWwgPSBjb250YWluZXIucGFydGlhbHM7XG5cdCAgICAgICAgY29udGFpbmVyLnBhcnRpYWxzID0gX3V0aWxzLmV4dGVuZCh7fSwgb3JpZ2luYWwsIHByb3BzLnBhcnRpYWxzKTtcblx0ICAgICAgICB2YXIgcmV0ID0gZm4oY29udGV4dCwgb3B0aW9ucyk7XG5cdCAgICAgICAgY29udGFpbmVyLnBhcnRpYWxzID0gb3JpZ2luYWw7XG5cdCAgICAgICAgcmV0dXJuIHJldDtcblx0ICAgICAgfTtcblx0ICAgIH1cblxuXHQgICAgcHJvcHMucGFydGlhbHNbb3B0aW9ucy5hcmdzWzBdXSA9IG9wdGlvbnMuZm47XG5cblx0ICAgIHJldHVybiByZXQ7XG5cdCAgfSk7XG5cdH07XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG4vKiAxOSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cblx0dmFyIF91dGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cblx0dmFyIGxvZ2dlciA9IHtcblx0ICBtZXRob2RNYXA6IFsnZGVidWcnLCAnaW5mbycsICd3YXJuJywgJ2Vycm9yJ10sXG5cdCAgbGV2ZWw6ICdpbmZvJyxcblxuXHQgIC8vIE1hcHMgYSBnaXZlbiBsZXZlbCB2YWx1ZSB0byB0aGUgYG1ldGhvZE1hcGAgaW5kZXhlcyBhYm92ZS5cblx0ICBsb29rdXBMZXZlbDogZnVuY3Rpb24gbG9va3VwTGV2ZWwobGV2ZWwpIHtcblx0ICAgIGlmICh0eXBlb2YgbGV2ZWwgPT09ICdzdHJpbmcnKSB7XG5cdCAgICAgIHZhciBsZXZlbE1hcCA9IF91dGlscy5pbmRleE9mKGxvZ2dlci5tZXRob2RNYXAsIGxldmVsLnRvTG93ZXJDYXNlKCkpO1xuXHQgICAgICBpZiAobGV2ZWxNYXAgPj0gMCkge1xuXHQgICAgICAgIGxldmVsID0gbGV2ZWxNYXA7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgbGV2ZWwgPSBwYXJzZUludChsZXZlbCwgMTApO1xuXHQgICAgICB9XG5cdCAgICB9XG5cblx0ICAgIHJldHVybiBsZXZlbDtcblx0ICB9LFxuXG5cdCAgLy8gQ2FuIGJlIG92ZXJyaWRkZW4gaW4gdGhlIGhvc3QgZW52aXJvbm1lbnRcblx0ICBsb2c6IGZ1bmN0aW9uIGxvZyhsZXZlbCkge1xuXHQgICAgbGV2ZWwgPSBsb2dnZXIubG9va3VwTGV2ZWwobGV2ZWwpO1xuXG5cdCAgICBpZiAodHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnICYmIGxvZ2dlci5sb29rdXBMZXZlbChsb2dnZXIubGV2ZWwpIDw9IGxldmVsKSB7XG5cdCAgICAgIHZhciBtZXRob2QgPSBsb2dnZXIubWV0aG9kTWFwW2xldmVsXTtcblx0ICAgICAgaWYgKCFjb25zb2xlW21ldGhvZF0pIHtcblx0ICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGVcblx0ICAgICAgICBtZXRob2QgPSAnbG9nJztcblx0ICAgICAgfVxuXG5cdCAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBtZXNzYWdlID0gQXJyYXkoX2xlbiA+IDEgPyBfbGVuIC0gMSA6IDApLCBfa2V5ID0gMTsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuXHQgICAgICAgIG1lc3NhZ2VbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xuXHQgICAgICB9XG5cblx0ICAgICAgY29uc29sZVttZXRob2RdLmFwcGx5KGNvbnNvbGUsIG1lc3NhZ2UpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGVcblx0ICAgIH1cblx0ICB9XG5cdH07XG5cblx0ZXhwb3J0c1snZGVmYXVsdCddID0gbG9nZ2VyO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcbi8qIDIwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvLyBCdWlsZCBvdXQgb3VyIGJhc2ljIFNhZmVTdHJpbmcgdHlwZVxuXHQndXNlIHN0cmljdCc7XG5cblx0ZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblx0ZnVuY3Rpb24gU2FmZVN0cmluZyhzdHJpbmcpIHtcblx0ICB0aGlzLnN0cmluZyA9IHN0cmluZztcblx0fVxuXG5cdFNhZmVTdHJpbmcucHJvdG90eXBlLnRvU3RyaW5nID0gU2FmZVN0cmluZy5wcm90b3R5cGUudG9IVE1MID0gZnVuY3Rpb24gKCkge1xuXHQgIHJldHVybiAnJyArIHRoaXMuc3RyaW5nO1xuXHR9O1xuXG5cdGV4cG9ydHNbJ2RlZmF1bHQnXSA9IFNhZmVTdHJpbmc7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuLyogMjEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpWydkZWZhdWx0J107XG5cblx0dmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpWydkZWZhdWx0J107XG5cblx0ZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblx0ZXhwb3J0cy5jaGVja1JldmlzaW9uID0gY2hlY2tSZXZpc2lvbjtcblx0ZXhwb3J0cy50ZW1wbGF0ZSA9IHRlbXBsYXRlO1xuXHRleHBvcnRzLndyYXBQcm9ncmFtID0gd3JhcFByb2dyYW07XG5cdGV4cG9ydHMucmVzb2x2ZVBhcnRpYWwgPSByZXNvbHZlUGFydGlhbDtcblx0ZXhwb3J0cy5pbnZva2VQYXJ0aWFsID0gaW52b2tlUGFydGlhbDtcblx0ZXhwb3J0cy5ub29wID0gbm9vcDtcblxuXHR2YXIgX3V0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblxuXHR2YXIgVXRpbHMgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfdXRpbHMpO1xuXG5cdHZhciBfZXhjZXB0aW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblxuXHR2YXIgX2V4Y2VwdGlvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leGNlcHRpb24pO1xuXG5cdHZhciBfYmFzZSA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cblx0ZnVuY3Rpb24gY2hlY2tSZXZpc2lvbihjb21waWxlckluZm8pIHtcblx0ICB2YXIgY29tcGlsZXJSZXZpc2lvbiA9IGNvbXBpbGVySW5mbyAmJiBjb21waWxlckluZm9bMF0gfHwgMSxcblx0ICAgICAgY3VycmVudFJldmlzaW9uID0gX2Jhc2UuQ09NUElMRVJfUkVWSVNJT047XG5cblx0ICBpZiAoY29tcGlsZXJSZXZpc2lvbiAhPT0gY3VycmVudFJldmlzaW9uKSB7XG5cdCAgICBpZiAoY29tcGlsZXJSZXZpc2lvbiA8IGN1cnJlbnRSZXZpc2lvbikge1xuXHQgICAgICB2YXIgcnVudGltZVZlcnNpb25zID0gX2Jhc2UuUkVWSVNJT05fQ0hBTkdFU1tjdXJyZW50UmV2aXNpb25dLFxuXHQgICAgICAgICAgY29tcGlsZXJWZXJzaW9ucyA9IF9iYXNlLlJFVklTSU9OX0NIQU5HRVNbY29tcGlsZXJSZXZpc2lvbl07XG5cdCAgICAgIHRocm93IG5ldyBfZXhjZXB0aW9uMlsnZGVmYXVsdCddKCdUZW1wbGF0ZSB3YXMgcHJlY29tcGlsZWQgd2l0aCBhbiBvbGRlciB2ZXJzaW9uIG9mIEhhbmRsZWJhcnMgdGhhbiB0aGUgY3VycmVudCBydW50aW1lLiAnICsgJ1BsZWFzZSB1cGRhdGUgeW91ciBwcmVjb21waWxlciB0byBhIG5ld2VyIHZlcnNpb24gKCcgKyBydW50aW1lVmVyc2lvbnMgKyAnKSBvciBkb3duZ3JhZGUgeW91ciBydW50aW1lIHRvIGFuIG9sZGVyIHZlcnNpb24gKCcgKyBjb21waWxlclZlcnNpb25zICsgJykuJyk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAvLyBVc2UgdGhlIGVtYmVkZGVkIHZlcnNpb24gaW5mbyBzaW5jZSB0aGUgcnVudGltZSBkb2Vzbid0IGtub3cgYWJvdXQgdGhpcyByZXZpc2lvbiB5ZXRcblx0ICAgICAgdGhyb3cgbmV3IF9leGNlcHRpb24yWydkZWZhdWx0J10oJ1RlbXBsYXRlIHdhcyBwcmVjb21waWxlZCB3aXRoIGEgbmV3ZXIgdmVyc2lvbiBvZiBIYW5kbGViYXJzIHRoYW4gdGhlIGN1cnJlbnQgcnVudGltZS4gJyArICdQbGVhc2UgdXBkYXRlIHlvdXIgcnVudGltZSB0byBhIG5ld2VyIHZlcnNpb24gKCcgKyBjb21waWxlckluZm9bMV0gKyAnKS4nKTtcblx0ICAgIH1cblx0ICB9XG5cdH1cblxuXHRmdW5jdGlvbiB0ZW1wbGF0ZSh0ZW1wbGF0ZVNwZWMsIGVudikge1xuXHQgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5cdCAgaWYgKCFlbnYpIHtcblx0ICAgIHRocm93IG5ldyBfZXhjZXB0aW9uMlsnZGVmYXVsdCddKCdObyBlbnZpcm9ubWVudCBwYXNzZWQgdG8gdGVtcGxhdGUnKTtcblx0ICB9XG5cdCAgaWYgKCF0ZW1wbGF0ZVNwZWMgfHwgIXRlbXBsYXRlU3BlYy5tYWluKSB7XG5cdCAgICB0aHJvdyBuZXcgX2V4Y2VwdGlvbjJbJ2RlZmF1bHQnXSgnVW5rbm93biB0ZW1wbGF0ZSBvYmplY3Q6ICcgKyB0eXBlb2YgdGVtcGxhdGVTcGVjKTtcblx0ICB9XG5cblx0ICB0ZW1wbGF0ZVNwZWMubWFpbi5kZWNvcmF0b3IgPSB0ZW1wbGF0ZVNwZWMubWFpbl9kO1xuXG5cdCAgLy8gTm90ZTogVXNpbmcgZW52LlZNIHJlZmVyZW5jZXMgcmF0aGVyIHRoYW4gbG9jYWwgdmFyIHJlZmVyZW5jZXMgdGhyb3VnaG91dCB0aGlzIHNlY3Rpb24gdG8gYWxsb3dcblx0ICAvLyBmb3IgZXh0ZXJuYWwgdXNlcnMgdG8gb3ZlcnJpZGUgdGhlc2UgYXMgcHN1ZWRvLXN1cHBvcnRlZCBBUElzLlxuXHQgIGVudi5WTS5jaGVja1JldmlzaW9uKHRlbXBsYXRlU3BlYy5jb21waWxlcik7XG5cblx0ICBmdW5jdGlvbiBpbnZva2VQYXJ0aWFsV3JhcHBlcihwYXJ0aWFsLCBjb250ZXh0LCBvcHRpb25zKSB7XG5cdCAgICBpZiAob3B0aW9ucy5oYXNoKSB7XG5cdCAgICAgIGNvbnRleHQgPSBVdGlscy5leHRlbmQoe30sIGNvbnRleHQsIG9wdGlvbnMuaGFzaCk7XG5cdCAgICAgIGlmIChvcHRpb25zLmlkcykge1xuXHQgICAgICAgIG9wdGlvbnMuaWRzWzBdID0gdHJ1ZTtcblx0ICAgICAgfVxuXHQgICAgfVxuXG5cdCAgICBwYXJ0aWFsID0gZW52LlZNLnJlc29sdmVQYXJ0aWFsLmNhbGwodGhpcywgcGFydGlhbCwgY29udGV4dCwgb3B0aW9ucyk7XG5cdCAgICB2YXIgcmVzdWx0ID0gZW52LlZNLmludm9rZVBhcnRpYWwuY2FsbCh0aGlzLCBwYXJ0aWFsLCBjb250ZXh0LCBvcHRpb25zKTtcblxuXHQgICAgaWYgKHJlc3VsdCA9PSBudWxsICYmIGVudi5jb21waWxlKSB7XG5cdCAgICAgIG9wdGlvbnMucGFydGlhbHNbb3B0aW9ucy5uYW1lXSA9IGVudi5jb21waWxlKHBhcnRpYWwsIHRlbXBsYXRlU3BlYy5jb21waWxlck9wdGlvbnMsIGVudik7XG5cdCAgICAgIHJlc3VsdCA9IG9wdGlvbnMucGFydGlhbHNbb3B0aW9ucy5uYW1lXShjb250ZXh0LCBvcHRpb25zKTtcblx0ICAgIH1cblx0ICAgIGlmIChyZXN1bHQgIT0gbnVsbCkge1xuXHQgICAgICBpZiAob3B0aW9ucy5pbmRlbnQpIHtcblx0ICAgICAgICB2YXIgbGluZXMgPSByZXN1bHQuc3BsaXQoJ1xcbicpO1xuXHQgICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gbGluZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG5cdCAgICAgICAgICBpZiAoIWxpbmVzW2ldICYmIGkgKyAxID09PSBsKSB7XG5cdCAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgfVxuXG5cdCAgICAgICAgICBsaW5lc1tpXSA9IG9wdGlvbnMuaW5kZW50ICsgbGluZXNbaV07XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJlc3VsdCA9IGxpbmVzLmpvaW4oJ1xcbicpO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiByZXN1bHQ7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICB0aHJvdyBuZXcgX2V4Y2VwdGlvbjJbJ2RlZmF1bHQnXSgnVGhlIHBhcnRpYWwgJyArIG9wdGlvbnMubmFtZSArICcgY291bGQgbm90IGJlIGNvbXBpbGVkIHdoZW4gcnVubmluZyBpbiBydW50aW1lLW9ubHkgbW9kZScpO1xuXHQgICAgfVxuXHQgIH1cblxuXHQgIC8vIEp1c3QgYWRkIHdhdGVyXG5cdCAgdmFyIGNvbnRhaW5lciA9IHtcblx0ICAgIHN0cmljdDogZnVuY3Rpb24gc3RyaWN0KG9iaiwgbmFtZSkge1xuXHQgICAgICBpZiAoIShuYW1lIGluIG9iaikpIHtcblx0ICAgICAgICB0aHJvdyBuZXcgX2V4Y2VwdGlvbjJbJ2RlZmF1bHQnXSgnXCInICsgbmFtZSArICdcIiBub3QgZGVmaW5lZCBpbiAnICsgb2JqKTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gb2JqW25hbWVdO1xuXHQgICAgfSxcblx0ICAgIGxvb2t1cDogZnVuY3Rpb24gbG9va3VwKGRlcHRocywgbmFtZSkge1xuXHQgICAgICB2YXIgbGVuID0gZGVwdGhzLmxlbmd0aDtcblx0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuXHQgICAgICAgIGlmIChkZXB0aHNbaV0gJiYgZGVwdGhzW2ldW25hbWVdICE9IG51bGwpIHtcblx0ICAgICAgICAgIHJldHVybiBkZXB0aHNbaV1bbmFtZV07XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9LFxuXHQgICAgbGFtYmRhOiBmdW5jdGlvbiBsYW1iZGEoY3VycmVudCwgY29udGV4dCkge1xuXHQgICAgICByZXR1cm4gdHlwZW9mIGN1cnJlbnQgPT09ICdmdW5jdGlvbicgPyBjdXJyZW50LmNhbGwoY29udGV4dCkgOiBjdXJyZW50O1xuXHQgICAgfSxcblxuXHQgICAgZXNjYXBlRXhwcmVzc2lvbjogVXRpbHMuZXNjYXBlRXhwcmVzc2lvbixcblx0ICAgIGludm9rZVBhcnRpYWw6IGludm9rZVBhcnRpYWxXcmFwcGVyLFxuXG5cdCAgICBmbjogZnVuY3Rpb24gZm4oaSkge1xuXHQgICAgICB2YXIgcmV0ID0gdGVtcGxhdGVTcGVjW2ldO1xuXHQgICAgICByZXQuZGVjb3JhdG9yID0gdGVtcGxhdGVTcGVjW2kgKyAnX2QnXTtcblx0ICAgICAgcmV0dXJuIHJldDtcblx0ICAgIH0sXG5cblx0ICAgIHByb2dyYW1zOiBbXSxcblx0ICAgIHByb2dyYW06IGZ1bmN0aW9uIHByb2dyYW0oaSwgZGF0YSwgZGVjbGFyZWRCbG9ja1BhcmFtcywgYmxvY2tQYXJhbXMsIGRlcHRocykge1xuXHQgICAgICB2YXIgcHJvZ3JhbVdyYXBwZXIgPSB0aGlzLnByb2dyYW1zW2ldLFxuXHQgICAgICAgICAgZm4gPSB0aGlzLmZuKGkpO1xuXHQgICAgICBpZiAoZGF0YSB8fCBkZXB0aHMgfHwgYmxvY2tQYXJhbXMgfHwgZGVjbGFyZWRCbG9ja1BhcmFtcykge1xuXHQgICAgICAgIHByb2dyYW1XcmFwcGVyID0gd3JhcFByb2dyYW0odGhpcywgaSwgZm4sIGRhdGEsIGRlY2xhcmVkQmxvY2tQYXJhbXMsIGJsb2NrUGFyYW1zLCBkZXB0aHMpO1xuXHQgICAgICB9IGVsc2UgaWYgKCFwcm9ncmFtV3JhcHBlcikge1xuXHQgICAgICAgIHByb2dyYW1XcmFwcGVyID0gdGhpcy5wcm9ncmFtc1tpXSA9IHdyYXBQcm9ncmFtKHRoaXMsIGksIGZuKTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gcHJvZ3JhbVdyYXBwZXI7XG5cdCAgICB9LFxuXG5cdCAgICBkYXRhOiBmdW5jdGlvbiBkYXRhKHZhbHVlLCBkZXB0aCkge1xuXHQgICAgICB3aGlsZSAodmFsdWUgJiYgZGVwdGgtLSkge1xuXHQgICAgICAgIHZhbHVlID0gdmFsdWUuX3BhcmVudDtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gdmFsdWU7XG5cdCAgICB9LFxuXHQgICAgbWVyZ2U6IGZ1bmN0aW9uIG1lcmdlKHBhcmFtLCBjb21tb24pIHtcblx0ICAgICAgdmFyIG9iaiA9IHBhcmFtIHx8IGNvbW1vbjtcblxuXHQgICAgICBpZiAocGFyYW0gJiYgY29tbW9uICYmIHBhcmFtICE9PSBjb21tb24pIHtcblx0ICAgICAgICBvYmogPSBVdGlscy5leHRlbmQoe30sIGNvbW1vbiwgcGFyYW0pO1xuXHQgICAgICB9XG5cblx0ICAgICAgcmV0dXJuIG9iajtcblx0ICAgIH0sXG5cblx0ICAgIG5vb3A6IGVudi5WTS5ub29wLFxuXHQgICAgY29tcGlsZXJJbmZvOiB0ZW1wbGF0ZVNwZWMuY29tcGlsZXJcblx0ICB9O1xuXG5cdCAgZnVuY3Rpb24gcmV0KGNvbnRleHQpIHtcblx0ICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA8PSAxIHx8IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8ge30gOiBhcmd1bWVudHNbMV07XG5cblx0ICAgIHZhciBkYXRhID0gb3B0aW9ucy5kYXRhO1xuXG5cdCAgICByZXQuX3NldHVwKG9wdGlvbnMpO1xuXHQgICAgaWYgKCFvcHRpb25zLnBhcnRpYWwgJiYgdGVtcGxhdGVTcGVjLnVzZURhdGEpIHtcblx0ICAgICAgZGF0YSA9IGluaXREYXRhKGNvbnRleHQsIGRhdGEpO1xuXHQgICAgfVxuXHQgICAgdmFyIGRlcHRocyA9IHVuZGVmaW5lZCxcblx0ICAgICAgICBibG9ja1BhcmFtcyA9IHRlbXBsYXRlU3BlYy51c2VCbG9ja1BhcmFtcyA/IFtdIDogdW5kZWZpbmVkO1xuXHQgICAgaWYgKHRlbXBsYXRlU3BlYy51c2VEZXB0aHMpIHtcblx0ICAgICAgaWYgKG9wdGlvbnMuZGVwdGhzKSB7XG5cdCAgICAgICAgZGVwdGhzID0gY29udGV4dCAhPSBvcHRpb25zLmRlcHRoc1swXSA/IFtjb250ZXh0XS5jb25jYXQob3B0aW9ucy5kZXB0aHMpIDogb3B0aW9ucy5kZXB0aHM7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgZGVwdGhzID0gW2NvbnRleHRdO1xuXHQgICAgICB9XG5cdCAgICB9XG5cblx0ICAgIGZ1bmN0aW9uIG1haW4oY29udGV4dCAvKiwgb3B0aW9ucyovKSB7XG5cdCAgICAgIHJldHVybiAnJyArIHRlbXBsYXRlU3BlYy5tYWluKGNvbnRhaW5lciwgY29udGV4dCwgY29udGFpbmVyLmhlbHBlcnMsIGNvbnRhaW5lci5wYXJ0aWFscywgZGF0YSwgYmxvY2tQYXJhbXMsIGRlcHRocyk7XG5cdCAgICB9XG5cdCAgICBtYWluID0gZXhlY3V0ZURlY29yYXRvcnModGVtcGxhdGVTcGVjLm1haW4sIG1haW4sIGNvbnRhaW5lciwgb3B0aW9ucy5kZXB0aHMgfHwgW10sIGRhdGEsIGJsb2NrUGFyYW1zKTtcblx0ICAgIHJldHVybiBtYWluKGNvbnRleHQsIG9wdGlvbnMpO1xuXHQgIH1cblx0ICByZXQuaXNUb3AgPSB0cnVlO1xuXG5cdCAgcmV0Ll9zZXR1cCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG5cdCAgICBpZiAoIW9wdGlvbnMucGFydGlhbCkge1xuXHQgICAgICBjb250YWluZXIuaGVscGVycyA9IGNvbnRhaW5lci5tZXJnZShvcHRpb25zLmhlbHBlcnMsIGVudi5oZWxwZXJzKTtcblxuXHQgICAgICBpZiAodGVtcGxhdGVTcGVjLnVzZVBhcnRpYWwpIHtcblx0ICAgICAgICBjb250YWluZXIucGFydGlhbHMgPSBjb250YWluZXIubWVyZ2Uob3B0aW9ucy5wYXJ0aWFscywgZW52LnBhcnRpYWxzKTtcblx0ICAgICAgfVxuXHQgICAgICBpZiAodGVtcGxhdGVTcGVjLnVzZVBhcnRpYWwgfHwgdGVtcGxhdGVTcGVjLnVzZURlY29yYXRvcnMpIHtcblx0ICAgICAgICBjb250YWluZXIuZGVjb3JhdG9ycyA9IGNvbnRhaW5lci5tZXJnZShvcHRpb25zLmRlY29yYXRvcnMsIGVudi5kZWNvcmF0b3JzKTtcblx0ICAgICAgfVxuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgY29udGFpbmVyLmhlbHBlcnMgPSBvcHRpb25zLmhlbHBlcnM7XG5cdCAgICAgIGNvbnRhaW5lci5wYXJ0aWFscyA9IG9wdGlvbnMucGFydGlhbHM7XG5cdCAgICAgIGNvbnRhaW5lci5kZWNvcmF0b3JzID0gb3B0aW9ucy5kZWNvcmF0b3JzO1xuXHQgICAgfVxuXHQgIH07XG5cblx0ICByZXQuX2NoaWxkID0gZnVuY3Rpb24gKGksIGRhdGEsIGJsb2NrUGFyYW1zLCBkZXB0aHMpIHtcblx0ICAgIGlmICh0ZW1wbGF0ZVNwZWMudXNlQmxvY2tQYXJhbXMgJiYgIWJsb2NrUGFyYW1zKSB7XG5cdCAgICAgIHRocm93IG5ldyBfZXhjZXB0aW9uMlsnZGVmYXVsdCddKCdtdXN0IHBhc3MgYmxvY2sgcGFyYW1zJyk7XG5cdCAgICB9XG5cdCAgICBpZiAodGVtcGxhdGVTcGVjLnVzZURlcHRocyAmJiAhZGVwdGhzKSB7XG5cdCAgICAgIHRocm93IG5ldyBfZXhjZXB0aW9uMlsnZGVmYXVsdCddKCdtdXN0IHBhc3MgcGFyZW50IGRlcHRocycpO1xuXHQgICAgfVxuXG5cdCAgICByZXR1cm4gd3JhcFByb2dyYW0oY29udGFpbmVyLCBpLCB0ZW1wbGF0ZVNwZWNbaV0sIGRhdGEsIDAsIGJsb2NrUGFyYW1zLCBkZXB0aHMpO1xuXHQgIH07XG5cdCAgcmV0dXJuIHJldDtcblx0fVxuXG5cdGZ1bmN0aW9uIHdyYXBQcm9ncmFtKGNvbnRhaW5lciwgaSwgZm4sIGRhdGEsIGRlY2xhcmVkQmxvY2tQYXJhbXMsIGJsb2NrUGFyYW1zLCBkZXB0aHMpIHtcblx0ICBmdW5jdGlvbiBwcm9nKGNvbnRleHQpIHtcblx0ICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA8PSAxIHx8IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8ge30gOiBhcmd1bWVudHNbMV07XG5cblx0ICAgIHZhciBjdXJyZW50RGVwdGhzID0gZGVwdGhzO1xuXHQgICAgaWYgKGRlcHRocyAmJiBjb250ZXh0ICE9IGRlcHRoc1swXSkge1xuXHQgICAgICBjdXJyZW50RGVwdGhzID0gW2NvbnRleHRdLmNvbmNhdChkZXB0aHMpO1xuXHQgICAgfVxuXG5cdCAgICByZXR1cm4gZm4oY29udGFpbmVyLCBjb250ZXh0LCBjb250YWluZXIuaGVscGVycywgY29udGFpbmVyLnBhcnRpYWxzLCBvcHRpb25zLmRhdGEgfHwgZGF0YSwgYmxvY2tQYXJhbXMgJiYgW29wdGlvbnMuYmxvY2tQYXJhbXNdLmNvbmNhdChibG9ja1BhcmFtcyksIGN1cnJlbnREZXB0aHMpO1xuXHQgIH1cblxuXHQgIHByb2cgPSBleGVjdXRlRGVjb3JhdG9ycyhmbiwgcHJvZywgY29udGFpbmVyLCBkZXB0aHMsIGRhdGEsIGJsb2NrUGFyYW1zKTtcblxuXHQgIHByb2cucHJvZ3JhbSA9IGk7XG5cdCAgcHJvZy5kZXB0aCA9IGRlcHRocyA/IGRlcHRocy5sZW5ndGggOiAwO1xuXHQgIHByb2cuYmxvY2tQYXJhbXMgPSBkZWNsYXJlZEJsb2NrUGFyYW1zIHx8IDA7XG5cdCAgcmV0dXJuIHByb2c7XG5cdH1cblxuXHRmdW5jdGlvbiByZXNvbHZlUGFydGlhbChwYXJ0aWFsLCBjb250ZXh0LCBvcHRpb25zKSB7XG5cdCAgaWYgKCFwYXJ0aWFsKSB7XG5cdCAgICBpZiAob3B0aW9ucy5uYW1lID09PSAnQHBhcnRpYWwtYmxvY2snKSB7XG5cdCAgICAgIHZhciBkYXRhID0gb3B0aW9ucy5kYXRhO1xuXHQgICAgICB3aGlsZSAoZGF0YVsncGFydGlhbC1ibG9jayddID09PSBub29wKSB7XG5cdCAgICAgICAgZGF0YSA9IGRhdGEuX3BhcmVudDtcblx0ICAgICAgfVxuXHQgICAgICBwYXJ0aWFsID0gZGF0YVsncGFydGlhbC1ibG9jayddO1xuXHQgICAgICBkYXRhWydwYXJ0aWFsLWJsb2NrJ10gPSBub29wO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcGFydGlhbCA9IG9wdGlvbnMucGFydGlhbHNbb3B0aW9ucy5uYW1lXTtcblx0ICAgIH1cblx0ICB9IGVsc2UgaWYgKCFwYXJ0aWFsLmNhbGwgJiYgIW9wdGlvbnMubmFtZSkge1xuXHQgICAgLy8gVGhpcyBpcyBhIGR5bmFtaWMgcGFydGlhbCB0aGF0IHJldHVybmVkIGEgc3RyaW5nXG5cdCAgICBvcHRpb25zLm5hbWUgPSBwYXJ0aWFsO1xuXHQgICAgcGFydGlhbCA9IG9wdGlvbnMucGFydGlhbHNbcGFydGlhbF07XG5cdCAgfVxuXHQgIHJldHVybiBwYXJ0aWFsO1xuXHR9XG5cblx0ZnVuY3Rpb24gaW52b2tlUGFydGlhbChwYXJ0aWFsLCBjb250ZXh0LCBvcHRpb25zKSB7XG5cdCAgb3B0aW9ucy5wYXJ0aWFsID0gdHJ1ZTtcblx0ICBpZiAob3B0aW9ucy5pZHMpIHtcblx0ICAgIG9wdGlvbnMuZGF0YS5jb250ZXh0UGF0aCA9IG9wdGlvbnMuaWRzWzBdIHx8IG9wdGlvbnMuZGF0YS5jb250ZXh0UGF0aDtcblx0ICB9XG5cblx0ICB2YXIgcGFydGlhbEJsb2NrID0gdW5kZWZpbmVkO1xuXHQgIGlmIChvcHRpb25zLmZuICYmIG9wdGlvbnMuZm4gIT09IG5vb3ApIHtcblx0ICAgIG9wdGlvbnMuZGF0YSA9IF9iYXNlLmNyZWF0ZUZyYW1lKG9wdGlvbnMuZGF0YSk7XG5cdCAgICBwYXJ0aWFsQmxvY2sgPSBvcHRpb25zLmRhdGFbJ3BhcnRpYWwtYmxvY2snXSA9IG9wdGlvbnMuZm47XG5cblx0ICAgIGlmIChwYXJ0aWFsQmxvY2sucGFydGlhbHMpIHtcblx0ICAgICAgb3B0aW9ucy5wYXJ0aWFscyA9IFV0aWxzLmV4dGVuZCh7fSwgb3B0aW9ucy5wYXJ0aWFscywgcGFydGlhbEJsb2NrLnBhcnRpYWxzKTtcblx0ICAgIH1cblx0ICB9XG5cblx0ICBpZiAocGFydGlhbCA9PT0gdW5kZWZpbmVkICYmIHBhcnRpYWxCbG9jaykge1xuXHQgICAgcGFydGlhbCA9IHBhcnRpYWxCbG9jaztcblx0ICB9XG5cblx0ICBpZiAocGFydGlhbCA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICB0aHJvdyBuZXcgX2V4Y2VwdGlvbjJbJ2RlZmF1bHQnXSgnVGhlIHBhcnRpYWwgJyArIG9wdGlvbnMubmFtZSArICcgY291bGQgbm90IGJlIGZvdW5kJyk7XG5cdCAgfSBlbHNlIGlmIChwYXJ0aWFsIGluc3RhbmNlb2YgRnVuY3Rpb24pIHtcblx0ICAgIHJldHVybiBwYXJ0aWFsKGNvbnRleHQsIG9wdGlvbnMpO1xuXHQgIH1cblx0fVxuXG5cdGZ1bmN0aW9uIG5vb3AoKSB7XG5cdCAgcmV0dXJuICcnO1xuXHR9XG5cblx0ZnVuY3Rpb24gaW5pdERhdGEoY29udGV4dCwgZGF0YSkge1xuXHQgIGlmICghZGF0YSB8fCAhKCdyb290JyBpbiBkYXRhKSkge1xuXHQgICAgZGF0YSA9IGRhdGEgPyBfYmFzZS5jcmVhdGVGcmFtZShkYXRhKSA6IHt9O1xuXHQgICAgZGF0YS5yb290ID0gY29udGV4dDtcblx0ICB9XG5cdCAgcmV0dXJuIGRhdGE7XG5cdH1cblxuXHRmdW5jdGlvbiBleGVjdXRlRGVjb3JhdG9ycyhmbiwgcHJvZywgY29udGFpbmVyLCBkZXB0aHMsIGRhdGEsIGJsb2NrUGFyYW1zKSB7XG5cdCAgaWYgKGZuLmRlY29yYXRvcikge1xuXHQgICAgdmFyIHByb3BzID0ge307XG5cdCAgICBwcm9nID0gZm4uZGVjb3JhdG9yKHByb2csIHByb3BzLCBjb250YWluZXIsIGRlcHRocyAmJiBkZXB0aHNbMF0sIGRhdGEsIGJsb2NrUGFyYW1zLCBkZXB0aHMpO1xuXHQgICAgVXRpbHMuZXh0ZW5kKHByb2csIHByb3BzKTtcblx0ICB9XG5cdCAgcmV0dXJuIHByb2c7XG5cdH1cblxuLyoqKi8gfSxcbi8qIDIyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24oZ2xvYmFsKSB7LyogZ2xvYmFsIHdpbmRvdyAqL1xuXHQndXNlIHN0cmljdCc7XG5cblx0ZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxuXHRleHBvcnRzWydkZWZhdWx0J10gPSBmdW5jdGlvbiAoSGFuZGxlYmFycykge1xuXHQgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5cdCAgdmFyIHJvb3QgPSB0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJyA/IGdsb2JhbCA6IHdpbmRvdyxcblx0ICAgICAgJEhhbmRsZWJhcnMgPSByb290LkhhbmRsZWJhcnM7XG5cdCAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cblx0ICBIYW5kbGViYXJzLm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBpZiAocm9vdC5IYW5kbGViYXJzID09PSBIYW5kbGViYXJzKSB7XG5cdCAgICAgIHJvb3QuSGFuZGxlYmFycyA9ICRIYW5kbGViYXJzO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIEhhbmRsZWJhcnM7XG5cdCAgfTtcblx0fTtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIChmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0oKSkpKVxuXG4vKioqLyB9XG4vKioqKioqLyBdKVxufSk7XG47IiwiLy8gUmVsZWFzZWQgdW5kZXIgTUlUIGxpY2Vuc2Vcbi8vIENvcHlyaWdodCAoYykgMjAwOS0yMDEwIERvbWluaWMgQmFnZ290dFxuLy8gQ29weXJpZ2h0IChjKSAyMDA5LTIwMTAgQXNoIEJlcmxpblxuLy8gQ29weXJpZ2h0IChjKSAyMDExIENocmlzdG9waCBEb3JuIDxjaHJpc3RvcGhAY2hyaXN0b3BoZG9ybi5jb20+IChodHRwOi8vd3d3LmNocmlzdG9waGRvcm4uY29tKVxuXG4vKmpzaGludCBicm93c2VyOnRydWUsIGRldmVsOnRydWUgKi9cblxuKGZ1bmN0aW9uKCBleHBvc2UgKSB7XG5cbi8qKlxuICogIGNsYXNzIE1hcmtkb3duXG4gKlxuICogIE1hcmtkb3duIHByb2Nlc3NpbmcgaW4gSmF2YXNjcmlwdCBkb25lIHJpZ2h0LiBXZSBoYXZlIHZlcnkgcGFydGljdWxhciB2aWV3c1xuICogIG9uIHdoYXQgY29uc3RpdHV0ZXMgJ3JpZ2h0JyB3aGljaCBpbmNsdWRlOlxuICpcbiAqICAtIHByb2R1Y2VzIHdlbGwtZm9ybWVkIEhUTUwgKHRoaXMgbWVhbnMgdGhhdCBlbSBhbmQgc3Ryb25nIG5lc3RpbmcgaXNcbiAqICAgIGltcG9ydGFudClcbiAqXG4gKiAgLSBoYXMgYW4gaW50ZXJtZWRpYXRlIHJlcHJlc2VudGF0aW9uIHRvIGFsbG93IHByb2Nlc3Npbmcgb2YgcGFyc2VkIGRhdGEgKFdlXG4gKiAgICBpbiBmYWN0IGhhdmUgdHdvLCBib3RoIGFzIFtKc29uTUxdOiBhIG1hcmtkb3duIHRyZWUgYW5kIGFuIEhUTUwgdHJlZSkuXG4gKlxuICogIC0gaXMgZWFzaWx5IGV4dGVuc2libGUgdG8gYWRkIG5ldyBkaWFsZWN0cyB3aXRob3V0IGhhdmluZyB0byByZXdyaXRlIHRoZVxuICogICAgZW50aXJlIHBhcnNpbmcgbWVjaGFuaWNzXG4gKlxuICogIC0gaGFzIGEgZ29vZCB0ZXN0IHN1aXRlXG4gKlxuICogIFRoaXMgaW1wbGVtZW50YXRpb24gZnVsZmlsbHMgYWxsIG9mIHRoZXNlIChleGNlcHQgdGhhdCB0aGUgdGVzdCBzdWl0ZSBjb3VsZFxuICogIGRvIHdpdGggZXhwYW5kaW5nIHRvIGF1dG9tYXRpY2FsbHkgcnVuIGFsbCB0aGUgZml4dHVyZXMgZnJvbSBvdGhlciBNYXJrZG93blxuICogIGltcGxlbWVudGF0aW9ucy4pXG4gKlxuICogICMjIyMjIEludGVybWVkaWF0ZSBSZXByZXNlbnRhdGlvblxuICpcbiAqICAqVE9ETyogVGFsayBhYm91dCB0aGlzIDopIEl0cyBKc29uTUwsIGJ1dCBkb2N1bWVudCB0aGUgbm9kZSBuYW1lcyB3ZSB1c2UuXG4gKlxuICogIFtKc29uTUxdOiBodHRwOi8vanNvbm1sLm9yZy8gXCJKU09OIE1hcmt1cCBMYW5ndWFnZVwiXG4gKiovXG52YXIgTWFya2Rvd24gPSBleHBvc2UuTWFya2Rvd24gPSBmdW5jdGlvbihkaWFsZWN0KSB7XG4gIHN3aXRjaCAodHlwZW9mIGRpYWxlY3QpIHtcbiAgICBjYXNlIFwidW5kZWZpbmVkXCI6XG4gICAgICB0aGlzLmRpYWxlY3QgPSBNYXJrZG93bi5kaWFsZWN0cy5HcnViZXI7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwib2JqZWN0XCI6XG4gICAgICB0aGlzLmRpYWxlY3QgPSBkaWFsZWN0O1xuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIGlmICggZGlhbGVjdCBpbiBNYXJrZG93bi5kaWFsZWN0cyApIHtcbiAgICAgICAgdGhpcy5kaWFsZWN0ID0gTWFya2Rvd24uZGlhbGVjdHNbZGlhbGVjdF07XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBNYXJrZG93biBkaWFsZWN0ICdcIiArIFN0cmluZyhkaWFsZWN0KSArIFwiJ1wiKTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICB9XG4gIHRoaXMuZW1fc3RhdGUgPSBbXTtcbiAgdGhpcy5zdHJvbmdfc3RhdGUgPSBbXTtcbiAgdGhpcy5kZWJ1Z19pbmRlbnQgPSBcIlwiO1xufTtcblxuLyoqXG4gKiAgcGFyc2UoIG1hcmtkb3duLCBbZGlhbGVjdF0gKSAtPiBKc29uTUxcbiAqICAtIG1hcmtkb3duIChTdHJpbmcpOiBtYXJrZG93biBzdHJpbmcgdG8gcGFyc2VcbiAqICAtIGRpYWxlY3QgKFN0cmluZyB8IERpYWxlY3QpOiB0aGUgZGlhbGVjdCB0byB1c2UsIGRlZmF1bHRzIHRvIGdydWJlclxuICpcbiAqICBQYXJzZSBgbWFya2Rvd25gIGFuZCByZXR1cm4gYSBtYXJrZG93biBkb2N1bWVudCBhcyBhIE1hcmtkb3duLkpzb25NTCB0cmVlLlxuICoqL1xuZXhwb3NlLnBhcnNlID0gZnVuY3Rpb24oIHNvdXJjZSwgZGlhbGVjdCApIHtcbiAgLy8gZGlhbGVjdCB3aWxsIGRlZmF1bHQgaWYgdW5kZWZpbmVkXG4gIHZhciBtZCA9IG5ldyBNYXJrZG93biggZGlhbGVjdCApO1xuICByZXR1cm4gbWQudG9UcmVlKCBzb3VyY2UgKTtcbn07XG5cbi8qKlxuICogIHRvSFRNTCggbWFya2Rvd24sIFtkaWFsZWN0XSAgKSAtPiBTdHJpbmdcbiAqICB0b0hUTUwoIG1kX3RyZWUgKSAtPiBTdHJpbmdcbiAqICAtIG1hcmtkb3duIChTdHJpbmcpOiBtYXJrZG93biBzdHJpbmcgdG8gcGFyc2VcbiAqICAtIG1kX3RyZWUgKE1hcmtkb3duLkpzb25NTCk6IHBhcnNlZCBtYXJrZG93biB0cmVlXG4gKlxuICogIFRha2UgbWFya2Rvd24gKGVpdGhlciBhcyBhIHN0cmluZyBvciBhcyBhIEpzb25NTCB0cmVlKSBhbmQgcnVuIGl0IHRocm91Z2hcbiAqICBbW3RvSFRNTFRyZWVdXSB0aGVuIHR1cm4gaXQgaW50byBhIHdlbGwtZm9ybWF0ZWQgSFRNTCBmcmFnbWVudC5cbiAqKi9cbmV4cG9zZS50b0hUTUwgPSBmdW5jdGlvbiB0b0hUTUwoIHNvdXJjZSAsIGRpYWxlY3QgLCBvcHRpb25zICkge1xuICB2YXIgaW5wdXQgPSBleHBvc2UudG9IVE1MVHJlZSggc291cmNlICwgZGlhbGVjdCAsIG9wdGlvbnMgKTtcblxuICByZXR1cm4gZXhwb3NlLnJlbmRlckpzb25NTCggaW5wdXQgKTtcbn07XG5cbi8qKlxuICogIHRvSFRNTFRyZWUoIG1hcmtkb3duLCBbZGlhbGVjdF0gKSAtPiBKc29uTUxcbiAqICB0b0hUTUxUcmVlKCBtZF90cmVlICkgLT4gSnNvbk1MXG4gKiAgLSBtYXJrZG93biAoU3RyaW5nKTogbWFya2Rvd24gc3RyaW5nIHRvIHBhcnNlXG4gKiAgLSBkaWFsZWN0IChTdHJpbmcgfCBEaWFsZWN0KTogdGhlIGRpYWxlY3QgdG8gdXNlLCBkZWZhdWx0cyB0byBncnViZXJcbiAqICAtIG1kX3RyZWUgKE1hcmtkb3duLkpzb25NTCk6IHBhcnNlZCBtYXJrZG93biB0cmVlXG4gKlxuICogIFR1cm4gbWFya2Rvd24gaW50byBIVE1MLCByZXByZXNlbnRlZCBhcyBhIEpzb25NTCB0cmVlLiBJZiBhIHN0cmluZyBpcyBnaXZlblxuICogIHRvIHRoaXMgZnVuY3Rpb24sIGl0IGlzIGZpcnN0IHBhcnNlZCBpbnRvIGEgbWFya2Rvd24gdHJlZSBieSBjYWxsaW5nXG4gKiAgW1twYXJzZV1dLlxuICoqL1xuZXhwb3NlLnRvSFRNTFRyZWUgPSBmdW5jdGlvbiB0b0hUTUxUcmVlKCBpbnB1dCwgZGlhbGVjdCAsIG9wdGlvbnMgKSB7XG4gIC8vIGNvbnZlcnQgc3RyaW5nIGlucHV0IHRvIGFuIE1EIHRyZWVcbiAgaWYgKCB0eXBlb2YgaW5wdXQgPT09XCJzdHJpbmdcIiApIGlucHV0ID0gdGhpcy5wYXJzZSggaW5wdXQsIGRpYWxlY3QgKTtcblxuICAvLyBOb3cgY29udmVydCB0aGUgTUQgdHJlZSB0byBhbiBIVE1MIHRyZWVcblxuICAvLyByZW1vdmUgcmVmZXJlbmNlcyBmcm9tIHRoZSB0cmVlXG4gIHZhciBhdHRycyA9IGV4dHJhY3RfYXR0ciggaW5wdXQgKSxcbiAgICAgIHJlZnMgPSB7fTtcblxuICBpZiAoIGF0dHJzICYmIGF0dHJzLnJlZmVyZW5jZXMgKSB7XG4gICAgcmVmcyA9IGF0dHJzLnJlZmVyZW5jZXM7XG4gIH1cblxuICB2YXIgaHRtbCA9IGNvbnZlcnRfdHJlZV90b19odG1sKCBpbnB1dCwgcmVmcyAsIG9wdGlvbnMgKTtcbiAgbWVyZ2VfdGV4dF9ub2RlcyggaHRtbCApO1xuICByZXR1cm4gaHRtbDtcbn07XG5cbi8vIEZvciBTcGlkZXJtb25rZXkgYmFzZWQgZW5naW5lc1xuZnVuY3Rpb24gbWtfYmxvY2tfdG9Tb3VyY2UoKSB7XG4gIHJldHVybiBcIk1hcmtkb3duLm1rX2Jsb2NrKCBcIiArXG4gICAgICAgICAgdW5ldmFsKHRoaXMudG9TdHJpbmcoKSkgK1xuICAgICAgICAgIFwiLCBcIiArXG4gICAgICAgICAgdW5ldmFsKHRoaXMudHJhaWxpbmcpICtcbiAgICAgICAgICBcIiwgXCIgK1xuICAgICAgICAgIHVuZXZhbCh0aGlzLmxpbmVOdW1iZXIpICtcbiAgICAgICAgICBcIiApXCI7XG59XG5cbi8vIG5vZGVcbmZ1bmN0aW9uIG1rX2Jsb2NrX2luc3BlY3QoKSB7XG4gIHZhciB1dGlsID0gcmVxdWlyZShcInV0aWxcIik7XG4gIHJldHVybiBcIk1hcmtkb3duLm1rX2Jsb2NrKCBcIiArXG4gICAgICAgICAgdXRpbC5pbnNwZWN0KHRoaXMudG9TdHJpbmcoKSkgK1xuICAgICAgICAgIFwiLCBcIiArXG4gICAgICAgICAgdXRpbC5pbnNwZWN0KHRoaXMudHJhaWxpbmcpICtcbiAgICAgICAgICBcIiwgXCIgK1xuICAgICAgICAgIHV0aWwuaW5zcGVjdCh0aGlzLmxpbmVOdW1iZXIpICtcbiAgICAgICAgICBcIiApXCI7XG5cbn1cblxudmFyIG1rX2Jsb2NrID0gTWFya2Rvd24ubWtfYmxvY2sgPSBmdW5jdGlvbihibG9jaywgdHJhaWwsIGxpbmUpIHtcbiAgLy8gQmUgaGVscGZ1bCBmb3IgZGVmYXVsdCBjYXNlIGluIHRlc3RzLlxuICBpZiAoIGFyZ3VtZW50cy5sZW5ndGggPT0gMSApIHRyYWlsID0gXCJcXG5cXG5cIjtcblxuICB2YXIgcyA9IG5ldyBTdHJpbmcoYmxvY2spO1xuICBzLnRyYWlsaW5nID0gdHJhaWw7XG4gIC8vIFRvIG1ha2UgaXQgY2xlYXIgaXRzIG5vdCBqdXN0IGEgc3RyaW5nXG4gIHMuaW5zcGVjdCA9IG1rX2Jsb2NrX2luc3BlY3Q7XG4gIHMudG9Tb3VyY2UgPSBta19ibG9ja190b1NvdXJjZTtcblxuICBpZiAoIGxpbmUgIT0gdW5kZWZpbmVkIClcbiAgICBzLmxpbmVOdW1iZXIgPSBsaW5lO1xuXG4gIHJldHVybiBzO1xufTtcblxuZnVuY3Rpb24gY291bnRfbGluZXMoIHN0ciApIHtcbiAgdmFyIG4gPSAwLCBpID0gLTE7XG4gIHdoaWxlICggKCBpID0gc3RyLmluZGV4T2YoXCJcXG5cIiwgaSArIDEpICkgIT09IC0xICkgbisrO1xuICByZXR1cm4gbjtcbn1cblxuLy8gSW50ZXJuYWwgLSBzcGxpdCBzb3VyY2UgaW50byByb3VnaCBibG9ja3Ncbk1hcmtkb3duLnByb3RvdHlwZS5zcGxpdF9ibG9ja3MgPSBmdW5jdGlvbiBzcGxpdEJsb2NrcyggaW5wdXQsIHN0YXJ0TGluZSApIHtcbiAgaW5wdXQgPSBpbnB1dC5yZXBsYWNlKC8oXFxyXFxufFxcbnxcXHIpL2csIFwiXFxuXCIpO1xuICAvLyBbXFxzXFxTXSBtYXRjaGVzIF9hbnl0aGluZ18gKG5ld2xpbmUgb3Igc3BhY2UpXG4gIC8vIFteXSBpcyBlcXVpdmFsZW50IGJ1dCBkb2Vzbid0IHdvcmsgaW4gSUVzLlxuICB2YXIgcmUgPSAvKFtcXHNcXFNdKz8pKCR8XFxuI3xcXG4oPzpcXHMqXFxufCQpKykvZyxcbiAgICAgIGJsb2NrcyA9IFtdLFxuICAgICAgbTtcblxuICB2YXIgbGluZV9ubyA9IDE7XG5cbiAgaWYgKCAoIG0gPSAvXihcXHMqXFxuKS8uZXhlYyhpbnB1dCkgKSAhPSBudWxsICkge1xuICAgIC8vIHNraXAgKGJ1dCBjb3VudCkgbGVhZGluZyBibGFuayBsaW5lc1xuICAgIGxpbmVfbm8gKz0gY291bnRfbGluZXMoIG1bMF0gKTtcbiAgICByZS5sYXN0SW5kZXggPSBtWzBdLmxlbmd0aDtcbiAgfVxuXG4gIHdoaWxlICggKCBtID0gcmUuZXhlYyhpbnB1dCkgKSAhPT0gbnVsbCApIHtcbiAgICBpZiAobVsyXSA9PSBcIlxcbiNcIikge1xuICAgICAgbVsyXSA9IFwiXFxuXCI7XG4gICAgICByZS5sYXN0SW5kZXgtLTtcbiAgICB9XG4gICAgYmxvY2tzLnB1c2goIG1rX2Jsb2NrKCBtWzFdLCBtWzJdLCBsaW5lX25vICkgKTtcbiAgICBsaW5lX25vICs9IGNvdW50X2xpbmVzKCBtWzBdICk7XG4gIH1cblxuICByZXR1cm4gYmxvY2tzO1xufTtcblxuLyoqXG4gKiAgTWFya2Rvd24jcHJvY2Vzc0Jsb2NrKCBibG9jaywgbmV4dCApIC0+IHVuZGVmaW5lZCB8IFsgSnNvbk1MLCAuLi4gXVxuICogIC0gYmxvY2sgKFN0cmluZyk6IHRoZSBibG9jayB0byBwcm9jZXNzXG4gKiAgLSBuZXh0IChBcnJheSk6IHRoZSBmb2xsb3dpbmcgYmxvY2tzXG4gKlxuICogUHJvY2VzcyBgYmxvY2tgIGFuZCByZXR1cm4gYW4gYXJyYXkgb2YgSnNvbk1MIG5vZGVzIHJlcHJlc2VudGluZyBgYmxvY2tgLlxuICpcbiAqIEl0IGRvZXMgdGhpcyBieSBhc2tpbmcgZWFjaCBibG9jayBsZXZlbCBmdW5jdGlvbiBpbiB0aGUgZGlhbGVjdCB0byBwcm9jZXNzXG4gKiB0aGUgYmxvY2sgdW50aWwgb25lIGNhbi4gU3VjY2VzZnVsIGhhbmRsaW5nIGlzIGluZGljYXRlZCBieSByZXR1cm5pbmcgYW5cbiAqIGFycmF5ICh3aXRoIHplcm8gb3IgbW9yZSBKc29uTUwgbm9kZXMpLCBmYWlsdXJlIGJ5IGEgZmFsc2UgdmFsdWUuXG4gKlxuICogQmxvY2tzIGhhbmRsZXJzIGFyZSByZXNwb25zaWJsZSBmb3IgY2FsbGluZyBbW01hcmtkb3duI3Byb2Nlc3NJbmxpbmVdXVxuICogdGhlbXNlbHZlcyBhcyBhcHByb3ByaWF0ZS5cbiAqXG4gKiBJZiB0aGUgYmxvY2tzIHdlcmUgc3BsaXQgaW5jb3JyZWN0bHkgb3IgYWRqYWNlbnQgYmxvY2tzIG5lZWQgY29sbGFwc2luZyB5b3VcbiAqIGNhbiBhZGp1c3QgYG5leHRgIGluIHBsYWNlIHVzaW5nIHNoaWZ0L3NwbGljZSBldGMuXG4gKlxuICogSWYgYW55IG9mIHRoaXMgZGVmYXVsdCBiZWhhdmlvdXIgaXMgbm90IHJpZ2h0IGZvciB0aGUgZGlhbGVjdCwgeW91IGNhblxuICogZGVmaW5lIGEgYF9fY2FsbF9fYCBtZXRob2Qgb24gdGhlIGRpYWxlY3QgdGhhdCB3aWxsIGdldCBpbnZva2VkIHRvIGhhbmRsZVxuICogdGhlIGJsb2NrIHByb2Nlc3NpbmcuXG4gKi9cbk1hcmtkb3duLnByb3RvdHlwZS5wcm9jZXNzQmxvY2sgPSBmdW5jdGlvbiBwcm9jZXNzQmxvY2soIGJsb2NrLCBuZXh0ICkge1xuICB2YXIgY2JzID0gdGhpcy5kaWFsZWN0LmJsb2NrLFxuICAgICAgb3JkID0gY2JzLl9fb3JkZXJfXztcblxuICBpZiAoIFwiX19jYWxsX19cIiBpbiBjYnMgKSB7XG4gICAgcmV0dXJuIGNicy5fX2NhbGxfXy5jYWxsKHRoaXMsIGJsb2NrLCBuZXh0KTtcbiAgfVxuXG4gIGZvciAoIHZhciBpID0gMDsgaSA8IG9yZC5sZW5ndGg7IGkrKyApIHtcbiAgICAvL0Q6dGhpcy5kZWJ1ZyggXCJUZXN0aW5nXCIsIG9yZFtpXSApO1xuICAgIHZhciByZXMgPSBjYnNbIG9yZFtpXSBdLmNhbGwoIHRoaXMsIGJsb2NrLCBuZXh0ICk7XG4gICAgaWYgKCByZXMgKSB7XG4gICAgICAvL0Q6dGhpcy5kZWJ1ZyhcIiAgbWF0Y2hlZFwiKTtcbiAgICAgIGlmICggIWlzQXJyYXkocmVzKSB8fCAoIHJlcy5sZW5ndGggPiAwICYmICEoIGlzQXJyYXkocmVzWzBdKSApICkgKVxuICAgICAgICB0aGlzLmRlYnVnKG9yZFtpXSwgXCJkaWRuJ3QgcmV0dXJuIGEgcHJvcGVyIGFycmF5XCIpO1xuICAgICAgLy9EOnRoaXMuZGVidWcoIFwiXCIgKTtcbiAgICAgIHJldHVybiByZXM7XG4gICAgfVxuICB9XG5cbiAgLy8gVWhvaCEgbm8gbWF0Y2ghIFNob3VsZCB3ZSB0aHJvdyBhbiBlcnJvcj9cbiAgcmV0dXJuIFtdO1xufTtcblxuTWFya2Rvd24ucHJvdG90eXBlLnByb2Nlc3NJbmxpbmUgPSBmdW5jdGlvbiBwcm9jZXNzSW5saW5lKCBibG9jayApIHtcbiAgcmV0dXJuIHRoaXMuZGlhbGVjdC5pbmxpbmUuX19jYWxsX18uY2FsbCggdGhpcywgU3RyaW5nKCBibG9jayApICk7XG59O1xuXG4vKipcbiAqICBNYXJrZG93biN0b1RyZWUoIHNvdXJjZSApIC0+IEpzb25NTFxuICogIC0gc291cmNlIChTdHJpbmcpOiBtYXJrZG93biBzb3VyY2UgdG8gcGFyc2VcbiAqXG4gKiAgUGFyc2UgYHNvdXJjZWAgaW50byBhIEpzb25NTCB0cmVlIHJlcHJlc2VudGluZyB0aGUgbWFya2Rvd24gZG9jdW1lbnQuXG4gKiovXG4vLyBjdXN0b21fdHJlZSBtZWFucyBzZXQgdGhpcy50cmVlIHRvIGBjdXN0b21fdHJlZWAgYW5kIHJlc3RvcmUgb2xkIHZhbHVlIG9uIHJldHVyblxuTWFya2Rvd24ucHJvdG90eXBlLnRvVHJlZSA9IGZ1bmN0aW9uIHRvVHJlZSggc291cmNlLCBjdXN0b21fcm9vdCApIHtcbiAgdmFyIGJsb2NrcyA9IHNvdXJjZSBpbnN0YW5jZW9mIEFycmF5ID8gc291cmNlIDogdGhpcy5zcGxpdF9ibG9ja3MoIHNvdXJjZSApO1xuXG4gIC8vIE1ha2UgdHJlZSBhIG1lbWJlciB2YXJpYWJsZSBzbyBpdHMgZWFzaWVyIHRvIG1lc3Mgd2l0aCBpbiBleHRlbnNpb25zXG4gIHZhciBvbGRfdHJlZSA9IHRoaXMudHJlZTtcbiAgdHJ5IHtcbiAgICB0aGlzLnRyZWUgPSBjdXN0b21fcm9vdCB8fCB0aGlzLnRyZWUgfHwgWyBcIm1hcmtkb3duXCIgXTtcblxuICAgIGJsb2NrczpcbiAgICB3aGlsZSAoIGJsb2Nrcy5sZW5ndGggKSB7XG4gICAgICB2YXIgYiA9IHRoaXMucHJvY2Vzc0Jsb2NrKCBibG9ja3Muc2hpZnQoKSwgYmxvY2tzICk7XG5cbiAgICAgIC8vIFJlZmVyZW5jZSBibG9ja3MgYW5kIHRoZSBsaWtlIHdvbid0IHJldHVybiBhbnkgY29udGVudFxuICAgICAgaWYgKCAhYi5sZW5ndGggKSBjb250aW51ZSBibG9ja3M7XG5cbiAgICAgIHRoaXMudHJlZS5wdXNoLmFwcGx5KCB0aGlzLnRyZWUsIGIgKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMudHJlZTtcbiAgfVxuICBmaW5hbGx5IHtcbiAgICBpZiAoIGN1c3RvbV9yb290ICkge1xuICAgICAgdGhpcy50cmVlID0gb2xkX3RyZWU7XG4gICAgfVxuICB9XG59O1xuXG4vLyBOb29wIGJ5IGRlZmF1bHRcbk1hcmtkb3duLnByb3RvdHlwZS5kZWJ1ZyA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCggYXJndW1lbnRzKTtcbiAgYXJncy51bnNoaWZ0KHRoaXMuZGVidWdfaW5kZW50KTtcbiAgaWYgKCB0eXBlb2YgcHJpbnQgIT09IFwidW5kZWZpbmVkXCIgKVxuICAgICAgcHJpbnQuYXBwbHkoIHByaW50LCBhcmdzICk7XG4gIGlmICggdHlwZW9mIGNvbnNvbGUgIT09IFwidW5kZWZpbmVkXCIgJiYgdHlwZW9mIGNvbnNvbGUubG9nICE9PSBcInVuZGVmaW5lZFwiIClcbiAgICAgIGNvbnNvbGUubG9nLmFwcGx5KCBudWxsLCBhcmdzICk7XG59XG5cbk1hcmtkb3duLnByb3RvdHlwZS5sb29wX3JlX292ZXJfYmxvY2sgPSBmdW5jdGlvbiggcmUsIGJsb2NrLCBjYiApIHtcbiAgLy8gRG9udCB1c2UgL2cgcmVnZXhwcyB3aXRoIHRoaXNcbiAgdmFyIG0sXG4gICAgICBiID0gYmxvY2sudmFsdWVPZigpO1xuXG4gIHdoaWxlICggYi5sZW5ndGggJiYgKG0gPSByZS5leGVjKGIpICkgIT0gbnVsbCApIHtcbiAgICBiID0gYi5zdWJzdHIoIG1bMF0ubGVuZ3RoICk7XG4gICAgY2IuY2FsbCh0aGlzLCBtKTtcbiAgfVxuICByZXR1cm4gYjtcbn07XG5cbi8qKlxuICogTWFya2Rvd24uZGlhbGVjdHNcbiAqXG4gKiBOYW1lc3BhY2Ugb2YgYnVpbHQtaW4gZGlhbGVjdHMuXG4gKiovXG5NYXJrZG93bi5kaWFsZWN0cyA9IHt9O1xuXG4vKipcbiAqIE1hcmtkb3duLmRpYWxlY3RzLkdydWJlclxuICpcbiAqIFRoZSBkZWZhdWx0IGRpYWxlY3QgdGhhdCBmb2xsb3dzIHRoZSBydWxlcyBzZXQgb3V0IGJ5IEpvaG4gR3J1YmVyJ3NcbiAqIG1hcmtkb3duLnBsIGFzIGNsb3NlbHkgYXMgcG9zc2libGUuIFdlbGwgYWN0dWFsbHkgd2UgZm9sbG93IHRoZSBiZWhhdmlvdXIgb2ZcbiAqIHRoYXQgc2NyaXB0IHdoaWNoIGluIHNvbWUgcGxhY2VzIGlzIG5vdCBleGFjdGx5IHdoYXQgdGhlIHN5bnRheCB3ZWIgcGFnZVxuICogc2F5cy5cbiAqKi9cbk1hcmtkb3duLmRpYWxlY3RzLkdydWJlciA9IHtcbiAgYmxvY2s6IHtcbiAgICBhdHhIZWFkZXI6IGZ1bmN0aW9uIGF0eEhlYWRlciggYmxvY2ssIG5leHQgKSB7XG4gICAgICB2YXIgbSA9IGJsb2NrLm1hdGNoKCAvXigjezEsNn0pXFxzKiguKj8pXFxzKiMqXFxzKig/OlxcbnwkKS8gKTtcblxuICAgICAgaWYgKCAhbSApIHJldHVybiB1bmRlZmluZWQ7XG5cbiAgICAgIHZhciBoZWFkZXIgPSBbIFwiaGVhZGVyXCIsIHsgbGV2ZWw6IG1bIDEgXS5sZW5ndGggfSBdO1xuICAgICAgQXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkoaGVhZGVyLCB0aGlzLnByb2Nlc3NJbmxpbmUobVsgMiBdKSk7XG5cbiAgICAgIGlmICggbVswXS5sZW5ndGggPCBibG9jay5sZW5ndGggKVxuICAgICAgICBuZXh0LnVuc2hpZnQoIG1rX2Jsb2NrKCBibG9jay5zdWJzdHIoIG1bMF0ubGVuZ3RoICksIGJsb2NrLnRyYWlsaW5nLCBibG9jay5saW5lTnVtYmVyICsgMiApICk7XG5cbiAgICAgIHJldHVybiBbIGhlYWRlciBdO1xuICAgIH0sXG5cbiAgICBzZXRleHRIZWFkZXI6IGZ1bmN0aW9uIHNldGV4dEhlYWRlciggYmxvY2ssIG5leHQgKSB7XG4gICAgICB2YXIgbSA9IGJsb2NrLm1hdGNoKCAvXiguKilcXG4oWy09XSlcXDJcXDIrKD86XFxufCQpLyApO1xuXG4gICAgICBpZiAoICFtICkgcmV0dXJuIHVuZGVmaW5lZDtcblxuICAgICAgdmFyIGxldmVsID0gKCBtWyAyIF0gPT09IFwiPVwiICkgPyAxIDogMjtcbiAgICAgIHZhciBoZWFkZXIgPSBbIFwiaGVhZGVyXCIsIHsgbGV2ZWwgOiBsZXZlbCB9LCBtWyAxIF0gXTtcblxuICAgICAgaWYgKCBtWzBdLmxlbmd0aCA8IGJsb2NrLmxlbmd0aCApXG4gICAgICAgIG5leHQudW5zaGlmdCggbWtfYmxvY2soIGJsb2NrLnN1YnN0ciggbVswXS5sZW5ndGggKSwgYmxvY2sudHJhaWxpbmcsIGJsb2NrLmxpbmVOdW1iZXIgKyAyICkgKTtcblxuICAgICAgcmV0dXJuIFsgaGVhZGVyIF07XG4gICAgfSxcblxuICAgIGNvZGU6IGZ1bmN0aW9uIGNvZGUoIGJsb2NrLCBuZXh0ICkge1xuICAgICAgLy8gfCAgICBGb29cbiAgICAgIC8vIHxiYXJcbiAgICAgIC8vIHNob3VsZCBiZSBhIGNvZGUgYmxvY2sgZm9sbG93ZWQgYnkgYSBwYXJhZ3JhcGguIEZ1blxuICAgICAgLy9cbiAgICAgIC8vIFRoZXJlIG1pZ2h0IGFsc28gYmUgYWRqYWNlbnQgY29kZSBibG9jayB0byBtZXJnZS5cblxuICAgICAgdmFyIHJldCA9IFtdLFxuICAgICAgICAgIHJlID0gL14oPzogezAsM31cXHR8IHs0fSkoLiopXFxuPy8sXG4gICAgICAgICAgbGluZXM7XG5cbiAgICAgIC8vIDQgc3BhY2VzICsgY29udGVudFxuICAgICAgaWYgKCAhYmxvY2subWF0Y2goIHJlICkgKSByZXR1cm4gdW5kZWZpbmVkO1xuXG4gICAgICBibG9ja19zZWFyY2g6XG4gICAgICBkbyB7XG4gICAgICAgIC8vIE5vdyBwdWxsIG91dCB0aGUgcmVzdCBvZiB0aGUgbGluZXNcbiAgICAgICAgdmFyIGIgPSB0aGlzLmxvb3BfcmVfb3Zlcl9ibG9jayhcbiAgICAgICAgICAgICAgICAgIHJlLCBibG9jay52YWx1ZU9mKCksIGZ1bmN0aW9uKCBtICkgeyByZXQucHVzaCggbVsxXSApOyB9ICk7XG5cbiAgICAgICAgaWYgKCBiLmxlbmd0aCApIHtcbiAgICAgICAgICAvLyBDYXNlIGFsbHVkZWQgdG8gaW4gZmlyc3QgY29tbWVudC4gcHVzaCBpdCBiYWNrIG9uIGFzIGEgbmV3IGJsb2NrXG4gICAgICAgICAgbmV4dC51bnNoaWZ0KCBta19ibG9jayhiLCBibG9jay50cmFpbGluZykgKTtcbiAgICAgICAgICBicmVhayBibG9ja19zZWFyY2g7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIG5leHQubGVuZ3RoICkge1xuICAgICAgICAgIC8vIENoZWNrIHRoZSBuZXh0IGJsb2NrIC0gaXQgbWlnaHQgYmUgY29kZSB0b29cbiAgICAgICAgICBpZiAoICFuZXh0WzBdLm1hdGNoKCByZSApICkgYnJlYWsgYmxvY2tfc2VhcmNoO1xuXG4gICAgICAgICAgLy8gUHVsbCBob3cgaG93IG1hbnkgYmxhbmtzIGxpbmVzIGZvbGxvdyAtIG1pbnVzIHR3byB0byBhY2NvdW50IGZvciAuam9pblxuICAgICAgICAgIHJldC5wdXNoICggYmxvY2sudHJhaWxpbmcucmVwbGFjZSgvW15cXG5dL2csIFwiXCIpLnN1YnN0cmluZygyKSApO1xuXG4gICAgICAgICAgYmxvY2sgPSBuZXh0LnNoaWZ0KCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgYnJlYWsgYmxvY2tfc2VhcmNoO1xuICAgICAgICB9XG4gICAgICB9IHdoaWxlICggdHJ1ZSApO1xuXG4gICAgICByZXR1cm4gWyBbIFwiY29kZV9ibG9ja1wiLCByZXQuam9pbihcIlxcblwiKSBdIF07XG4gICAgfSxcblxuICAgIGhvcml6UnVsZTogZnVuY3Rpb24gaG9yaXpSdWxlKCBibG9jaywgbmV4dCApIHtcbiAgICAgIC8vIHRoaXMgbmVlZHMgdG8gZmluZCBhbnkgaHIgaW4gdGhlIGJsb2NrIHRvIGhhbmRsZSBhYnV0dGluZyBibG9ja3NcbiAgICAgIHZhciBtID0gYmxvY2subWF0Y2goIC9eKD86KFtcXHNcXFNdKj8pXFxuKT9bIFxcdF0qKFstXypdKSg/OlsgXFx0XSpcXDIpezIsfVsgXFx0XSooPzpcXG4oW1xcc1xcU10qKSk/JC8gKTtcblxuICAgICAgaWYgKCAhbSApIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgIH1cblxuICAgICAgdmFyIGpzb25tbCA9IFsgWyBcImhyXCIgXSBdO1xuXG4gICAgICAvLyBpZiB0aGVyZSdzIGEgbGVhZGluZyBhYnV0dGluZyBibG9jaywgcHJvY2VzcyBpdFxuICAgICAgaWYgKCBtWyAxIF0gKSB7XG4gICAgICAgIGpzb25tbC51bnNoaWZ0LmFwcGx5KCBqc29ubWwsIHRoaXMucHJvY2Vzc0Jsb2NrKCBtWyAxIF0sIFtdICkgKTtcbiAgICAgIH1cblxuICAgICAgLy8gaWYgdGhlcmUncyBhIHRyYWlsaW5nIGFidXR0aW5nIGJsb2NrLCBzdGljayBpdCBpbnRvIG5leHRcbiAgICAgIGlmICggbVsgMyBdICkge1xuICAgICAgICBuZXh0LnVuc2hpZnQoIG1rX2Jsb2NrKCBtWyAzIF0gKSApO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4ganNvbm1sO1xuICAgIH0sXG5cbiAgICAvLyBUaGVyZSBhcmUgdHdvIHR5cGVzIG9mIGxpc3RzLiBUaWdodCBhbmQgbG9vc2UuIFRpZ2h0IGxpc3RzIGhhdmUgbm8gd2hpdGVzcGFjZVxuICAgIC8vIGJldHdlZW4gdGhlIGl0ZW1zIChhbmQgcmVzdWx0IGluIHRleHQganVzdCBpbiB0aGUgPGxpPikgYW5kIGxvb3NlIGxpc3RzLFxuICAgIC8vIHdoaWNoIGhhdmUgYW4gZW1wdHkgbGluZSBiZXR3ZWVuIGxpc3QgaXRlbXMsIHJlc3VsdGluZyBpbiAob25lIG9yIG1vcmUpXG4gICAgLy8gcGFyYWdyYXBocyBpbnNpZGUgdGhlIDxsaT4uXG4gICAgLy9cbiAgICAvLyBUaGVyZSBhcmUgYWxsIHNvcnRzIHdlaXJkIGVkZ2UgY2FzZXMgYWJvdXQgdGhlIG9yaWdpbmFsIG1hcmtkb3duLnBsJ3NcbiAgICAvLyBoYW5kbGluZyBvZiBsaXN0czpcbiAgICAvL1xuICAgIC8vICogTmVzdGVkIGxpc3RzIGFyZSBzdXBwb3NlZCB0byBiZSBpbmRlbnRlZCBieSBmb3VyIGNoYXJzIHBlciBsZXZlbC4gQnV0XG4gICAgLy8gICBpZiB0aGV5IGFyZW4ndCwgeW91IGNhbiBnZXQgYSBuZXN0ZWQgbGlzdCBieSBpbmRlbnRpbmcgYnkgbGVzcyB0aGFuXG4gICAgLy8gICBmb3VyIHNvIGxvbmcgYXMgdGhlIGluZGVudCBkb2Vzbid0IG1hdGNoIGFuIGluZGVudCBvZiBhbiBleGlzdGluZyBsaXN0XG4gICAgLy8gICBpdGVtIGluIHRoZSAnbmVzdCBzdGFjaycuXG4gICAgLy9cbiAgICAvLyAqIFRoZSB0eXBlIG9mIHRoZSBsaXN0IChidWxsZXQgb3IgbnVtYmVyKSBpcyBjb250cm9sbGVkIGp1c3QgYnkgdGhlXG4gICAgLy8gICAgZmlyc3QgaXRlbSBhdCB0aGUgaW5kZW50LiBTdWJzZXF1ZW50IGNoYW5nZXMgYXJlIGlnbm9yZWQgdW5sZXNzIHRoZXlcbiAgICAvLyAgICBhcmUgZm9yIG5lc3RlZCBsaXN0c1xuICAgIC8vXG4gICAgbGlzdHM6IChmdW5jdGlvbiggKSB7XG4gICAgICAvLyBVc2UgYSBjbG9zdXJlIHRvIGhpZGUgYSBmZXcgdmFyaWFibGVzLlxuICAgICAgdmFyIGFueV9saXN0ID0gXCJbKistXXxcXFxcZCtcXFxcLlwiLFxuICAgICAgICAgIGJ1bGxldF9saXN0ID0gL1sqKy1dLyxcbiAgICAgICAgICBudW1iZXJfbGlzdCA9IC9cXGQrXFwuLyxcbiAgICAgICAgICAvLyBDYXB0dXJlIGxlYWRpbmcgaW5kZW50IGFzIGl0IG1hdHRlcnMgZm9yIGRldGVybWluaW5nIG5lc3RlZCBsaXN0cy5cbiAgICAgICAgICBpc19saXN0X3JlID0gbmV3IFJlZ0V4cCggXCJeKCB7MCwzfSkoXCIgKyBhbnlfbGlzdCArIFwiKVsgXFx0XStcIiApLFxuICAgICAgICAgIGluZGVudF9yZSA9IFwiKD86IHswLDN9XFxcXHR8IHs0fSlcIjtcblxuICAgICAgLy8gVE9ETzogQ2FjaGUgdGhpcyByZWdleHAgZm9yIGNlcnRhaW4gZGVwdGhzLlxuICAgICAgLy8gQ3JlYXRlIGEgcmVnZXhwIHN1aXRhYmxlIGZvciBtYXRjaGluZyBhbiBsaSBmb3IgYSBnaXZlbiBzdGFjayBkZXB0aFxuICAgICAgZnVuY3Rpb24gcmVnZXhfZm9yX2RlcHRoKCBkZXB0aCApIHtcblxuICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cChcbiAgICAgICAgICAvLyBtWzFdID0gaW5kZW50LCBtWzJdID0gbGlzdF90eXBlXG4gICAgICAgICAgXCIoPzpeKFwiICsgaW5kZW50X3JlICsgXCJ7MCxcIiArIGRlcHRoICsgXCJ9IHswLDN9KShcIiArIGFueV9saXN0ICsgXCIpXFxcXHMrKXxcIiArXG4gICAgICAgICAgLy8gbVszXSA9IGNvbnRcbiAgICAgICAgICBcIiheXCIgKyBpbmRlbnRfcmUgKyBcInswLFwiICsgKGRlcHRoLTEpICsgXCJ9WyBdezAsNH0pXCJcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIGV4cGFuZF90YWIoIGlucHV0ICkge1xuICAgICAgICByZXR1cm4gaW5wdXQucmVwbGFjZSggLyB7MCwzfVxcdC9nLCBcIiAgICBcIiApO1xuICAgICAgfVxuXG4gICAgICAvLyBBZGQgaW5saW5lIGNvbnRlbnQgYGlubGluZWAgdG8gYGxpYC4gaW5saW5lIGNvbWVzIGZyb20gcHJvY2Vzc0lubGluZVxuICAgICAgLy8gc28gaXMgYW4gYXJyYXkgb2YgY29udGVudFxuICAgICAgZnVuY3Rpb24gYWRkKGxpLCBsb29zZSwgaW5saW5lLCBubCkge1xuICAgICAgICBpZiAoIGxvb3NlICkge1xuICAgICAgICAgIGxpLnB1c2goIFsgXCJwYXJhXCIgXS5jb25jYXQoaW5saW5lKSApO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBIbW1tLCBzaG91bGQgdGhpcyBiZSBhbnkgYmxvY2sgbGV2ZWwgZWxlbWVudCBvciBqdXN0IHBhcmFzP1xuICAgICAgICB2YXIgYWRkX3RvID0gbGlbbGkubGVuZ3RoIC0xXSBpbnN0YW5jZW9mIEFycmF5ICYmIGxpW2xpLmxlbmd0aCAtIDFdWzBdID09IFwicGFyYVwiXG4gICAgICAgICAgICAgICAgICAgPyBsaVtsaS5sZW5ndGggLTFdXG4gICAgICAgICAgICAgICAgICAgOiBsaTtcblxuICAgICAgICAvLyBJZiB0aGVyZSBpcyBhbHJlYWR5IHNvbWUgY29udGVudCBpbiB0aGlzIGxpc3QsIGFkZCB0aGUgbmV3IGxpbmUgaW5cbiAgICAgICAgaWYgKCBubCAmJiBsaS5sZW5ndGggPiAxICkgaW5saW5lLnVuc2hpZnQobmwpO1xuXG4gICAgICAgIGZvciAoIHZhciBpID0gMDsgaSA8IGlubGluZS5sZW5ndGg7IGkrKyApIHtcbiAgICAgICAgICB2YXIgd2hhdCA9IGlubGluZVtpXSxcbiAgICAgICAgICAgICAgaXNfc3RyID0gdHlwZW9mIHdoYXQgPT0gXCJzdHJpbmdcIjtcbiAgICAgICAgICBpZiAoIGlzX3N0ciAmJiBhZGRfdG8ubGVuZ3RoID4gMSAmJiB0eXBlb2YgYWRkX3RvW2FkZF90by5sZW5ndGgtMV0gPT0gXCJzdHJpbmdcIiApIHtcbiAgICAgICAgICAgIGFkZF90b1sgYWRkX3RvLmxlbmd0aC0xIF0gKz0gd2hhdDtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBhZGRfdG8ucHVzaCggd2hhdCApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBjb250YWluZWQgbWVhbnMgaGF2ZSBhbiBpbmRlbnQgZ3JlYXRlciB0aGFuIHRoZSBjdXJyZW50IG9uZS4gT25cbiAgICAgIC8vICpldmVyeSogbGluZSBpbiB0aGUgYmxvY2tcbiAgICAgIGZ1bmN0aW9uIGdldF9jb250YWluZWRfYmxvY2tzKCBkZXB0aCwgYmxvY2tzICkge1xuXG4gICAgICAgIHZhciByZSA9IG5ldyBSZWdFeHAoIFwiXihcIiArIGluZGVudF9yZSArIFwie1wiICsgZGVwdGggKyBcIn0uKj9cXFxcbj8pKiRcIiApLFxuICAgICAgICAgICAgcmVwbGFjZSA9IG5ldyBSZWdFeHAoXCJeXCIgKyBpbmRlbnRfcmUgKyBcIntcIiArIGRlcHRoICsgXCJ9XCIsIFwiZ21cIiksXG4gICAgICAgICAgICByZXQgPSBbXTtcblxuICAgICAgICB3aGlsZSAoIGJsb2Nrcy5sZW5ndGggPiAwICkge1xuICAgICAgICAgIGlmICggcmUuZXhlYyggYmxvY2tzWzBdICkgKSB7XG4gICAgICAgICAgICB2YXIgYiA9IGJsb2Nrcy5zaGlmdCgpLFxuICAgICAgICAgICAgICAgIC8vIE5vdyByZW1vdmUgdGhhdCBpbmRlbnRcbiAgICAgICAgICAgICAgICB4ID0gYi5yZXBsYWNlKCByZXBsYWNlLCBcIlwiKTtcblxuICAgICAgICAgICAgcmV0LnB1c2goIG1rX2Jsb2NrKCB4LCBiLnRyYWlsaW5nLCBiLmxpbmVOdW1iZXIgKSApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgfVxuXG4gICAgICAvLyBwYXNzZWQgdG8gc3RhY2suZm9yRWFjaCB0byB0dXJuIGxpc3QgaXRlbXMgdXAgdGhlIHN0YWNrIGludG8gcGFyYXNcbiAgICAgIGZ1bmN0aW9uIHBhcmFncmFwaGlmeShzLCBpLCBzdGFjaykge1xuICAgICAgICB2YXIgbGlzdCA9IHMubGlzdDtcbiAgICAgICAgdmFyIGxhc3RfbGkgPSBsaXN0W2xpc3QubGVuZ3RoLTFdO1xuXG4gICAgICAgIGlmICggbGFzdF9saVsxXSBpbnN0YW5jZW9mIEFycmF5ICYmIGxhc3RfbGlbMV1bMF0gPT0gXCJwYXJhXCIgKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICggaSArIDEgPT0gc3RhY2subGVuZ3RoICkge1xuICAgICAgICAgIC8vIExhc3Qgc3RhY2sgZnJhbWVcbiAgICAgICAgICAvLyBLZWVwIHRoZSBzYW1lIGFycmF5LCBidXQgcmVwbGFjZSB0aGUgY29udGVudHNcbiAgICAgICAgICBsYXN0X2xpLnB1c2goIFtcInBhcmFcIl0uY29uY2F0KCBsYXN0X2xpLnNwbGljZSgxLCBsYXN0X2xpLmxlbmd0aCAtIDEpICkgKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICB2YXIgc3VibGlzdCA9IGxhc3RfbGkucG9wKCk7XG4gICAgICAgICAgbGFzdF9saS5wdXNoKCBbXCJwYXJhXCJdLmNvbmNhdCggbGFzdF9saS5zcGxpY2UoMSwgbGFzdF9saS5sZW5ndGggLSAxKSApLCBzdWJsaXN0ICk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gVGhlIG1hdGNoZXIgZnVuY3Rpb25cbiAgICAgIHJldHVybiBmdW5jdGlvbiggYmxvY2ssIG5leHQgKSB7XG4gICAgICAgIHZhciBtID0gYmxvY2subWF0Y2goIGlzX2xpc3RfcmUgKTtcbiAgICAgICAgaWYgKCAhbSApIHJldHVybiB1bmRlZmluZWQ7XG5cbiAgICAgICAgZnVuY3Rpb24gbWFrZV9saXN0KCBtICkge1xuICAgICAgICAgIHZhciBsaXN0ID0gYnVsbGV0X2xpc3QuZXhlYyggbVsyXSApXG4gICAgICAgICAgICAgICAgICAgPyBbXCJidWxsZXRsaXN0XCJdXG4gICAgICAgICAgICAgICAgICAgOiBbXCJudW1iZXJsaXN0XCJdO1xuXG4gICAgICAgICAgc3RhY2sucHVzaCggeyBsaXN0OiBsaXN0LCBpbmRlbnQ6IG1bMV0gfSApO1xuICAgICAgICAgIHJldHVybiBsaXN0O1xuICAgICAgICB9XG5cblxuICAgICAgICB2YXIgc3RhY2sgPSBbXSwgLy8gU3RhY2sgb2YgbGlzdHMgZm9yIG5lc3RpbmcuXG4gICAgICAgICAgICBsaXN0ID0gbWFrZV9saXN0KCBtICksXG4gICAgICAgICAgICBsYXN0X2xpLFxuICAgICAgICAgICAgbG9vc2UgPSBmYWxzZSxcbiAgICAgICAgICAgIHJldCA9IFsgc3RhY2tbMF0ubGlzdCBdLFxuICAgICAgICAgICAgaTtcblxuICAgICAgICAvLyBMb29wIHRvIHNlYXJjaCBvdmVyIGJsb2NrIGxvb2tpbmcgZm9yIGlubmVyIGJsb2NrIGVsZW1lbnRzIGFuZCBsb29zZSBsaXN0c1xuICAgICAgICBsb29zZV9zZWFyY2g6XG4gICAgICAgIHdoaWxlICggdHJ1ZSApIHtcbiAgICAgICAgICAvLyBTcGxpdCBpbnRvIGxpbmVzIHByZXNlcnZpbmcgbmV3IGxpbmVzIGF0IGVuZCBvZiBsaW5lXG4gICAgICAgICAgdmFyIGxpbmVzID0gYmxvY2suc3BsaXQoIC8oPz1cXG4pLyApO1xuXG4gICAgICAgICAgLy8gV2UgaGF2ZSB0byBncmFiIGFsbCBsaW5lcyBmb3IgYSBsaSBhbmQgY2FsbCBwcm9jZXNzSW5saW5lIG9uIHRoZW1cbiAgICAgICAgICAvLyBvbmNlIGFzIHRoZXJlIGFyZSBzb21lIGlubGluZSB0aGluZ3MgdGhhdCBjYW4gc3BhbiBsaW5lcy5cbiAgICAgICAgICB2YXIgbGlfYWNjdW11bGF0ZSA9IFwiXCI7XG5cbiAgICAgICAgICAvLyBMb29wIG92ZXIgdGhlIGxpbmVzIGluIHRoaXMgYmxvY2sgbG9va2luZyBmb3IgdGlnaHQgbGlzdHMuXG4gICAgICAgICAgdGlnaHRfc2VhcmNoOlxuICAgICAgICAgIGZvciAoIHZhciBsaW5lX25vID0gMDsgbGluZV9ubyA8IGxpbmVzLmxlbmd0aDsgbGluZV9ubysrICkge1xuICAgICAgICAgICAgdmFyIG5sID0gXCJcIixcbiAgICAgICAgICAgICAgICBsID0gbGluZXNbbGluZV9ub10ucmVwbGFjZSgvXlxcbi8sIGZ1bmN0aW9uKG4pIHsgbmwgPSBuOyByZXR1cm4gXCJcIjsgfSk7XG5cbiAgICAgICAgICAgIC8vIFRPRE86IHJlYWxseSBzaG91bGQgY2FjaGUgdGhpc1xuICAgICAgICAgICAgdmFyIGxpbmVfcmUgPSByZWdleF9mb3JfZGVwdGgoIHN0YWNrLmxlbmd0aCApO1xuXG4gICAgICAgICAgICBtID0gbC5tYXRjaCggbGluZV9yZSApO1xuICAgICAgICAgICAgLy9wcmludCggXCJsaW5lOlwiLCB1bmV2YWwobCksIFwiXFxubGluZSBtYXRjaDpcIiwgdW5ldmFsKG0pICk7XG5cbiAgICAgICAgICAgIC8vIFdlIGhhdmUgYSBsaXN0IGl0ZW1cbiAgICAgICAgICAgIGlmICggbVsxXSAhPT0gdW5kZWZpbmVkICkge1xuICAgICAgICAgICAgICAvLyBQcm9jZXNzIHRoZSBwcmV2aW91cyBsaXN0IGl0ZW0sIGlmIGFueVxuICAgICAgICAgICAgICBpZiAoIGxpX2FjY3VtdWxhdGUubGVuZ3RoICkge1xuICAgICAgICAgICAgICAgIGFkZCggbGFzdF9saSwgbG9vc2UsIHRoaXMucHJvY2Vzc0lubGluZSggbGlfYWNjdW11bGF0ZSApLCBubCApO1xuICAgICAgICAgICAgICAgIC8vIExvb3NlIG1vZGUgd2lsbCBoYXZlIGJlZW4gZGVhbHQgd2l0aC4gUmVzZXQgaXRcbiAgICAgICAgICAgICAgICBsb29zZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGxpX2FjY3VtdWxhdGUgPSBcIlwiO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgbVsxXSA9IGV4cGFuZF90YWIoIG1bMV0gKTtcbiAgICAgICAgICAgICAgdmFyIHdhbnRlZF9kZXB0aCA9IE1hdGguZmxvb3IobVsxXS5sZW5ndGgvNCkrMTtcbiAgICAgICAgICAgICAgLy9wcmludCggXCJ3YW50OlwiLCB3YW50ZWRfZGVwdGgsIFwic3RhY2s6XCIsIHN0YWNrLmxlbmd0aCk7XG4gICAgICAgICAgICAgIGlmICggd2FudGVkX2RlcHRoID4gc3RhY2subGVuZ3RoICkge1xuICAgICAgICAgICAgICAgIC8vIERlZXAgZW5vdWdoIGZvciBhIG5lc3RlZCBsaXN0IG91dHJpZ2h0XG4gICAgICAgICAgICAgICAgLy9wcmludCAoIFwibmV3IG5lc3RlZCBsaXN0XCIgKTtcbiAgICAgICAgICAgICAgICBsaXN0ID0gbWFrZV9saXN0KCBtICk7XG4gICAgICAgICAgICAgICAgbGFzdF9saS5wdXNoKCBsaXN0ICk7XG4gICAgICAgICAgICAgICAgbGFzdF9saSA9IGxpc3RbMV0gPSBbIFwibGlzdGl0ZW1cIiBdO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFdlIGFyZW4ndCBkZWVwIGVub3VnaCB0byBiZSBzdHJpY3RseSBhIG5ldyBsZXZlbC4gVGhpcyBpc1xuICAgICAgICAgICAgICAgIC8vIHdoZXJlIE1kLnBsIGdvZXMgbnV0cy4gSWYgdGhlIGluZGVudCBtYXRjaGVzIGEgbGV2ZWwgaW4gdGhlXG4gICAgICAgICAgICAgICAgLy8gc3RhY2ssIHB1dCBpdCB0aGVyZSwgZWxzZSBwdXQgaXQgb25lIGRlZXBlciB0aGVuIHRoZVxuICAgICAgICAgICAgICAgIC8vIHdhbnRlZF9kZXB0aCBkZXNlcnZlcy5cbiAgICAgICAgICAgICAgICB2YXIgZm91bmQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBmb3IgKCBpID0gMDsgaSA8IHN0YWNrLmxlbmd0aDsgaSsrICkge1xuICAgICAgICAgICAgICAgICAgaWYgKCBzdGFja1sgaSBdLmluZGVudCAhPSBtWzFdICkgY29udGludWU7XG4gICAgICAgICAgICAgICAgICBsaXN0ID0gc3RhY2tbIGkgXS5saXN0O1xuICAgICAgICAgICAgICAgICAgc3RhY2suc3BsaWNlKCBpKzEsIHN0YWNrLmxlbmd0aCAtIChpKzEpICk7XG4gICAgICAgICAgICAgICAgICBmb3VuZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoIWZvdW5kKSB7XG4gICAgICAgICAgICAgICAgICAvL3ByaW50KFwibm90IGZvdW5kLiBsOlwiLCB1bmV2YWwobCkpO1xuICAgICAgICAgICAgICAgICAgd2FudGVkX2RlcHRoKys7XG4gICAgICAgICAgICAgICAgICBpZiAoIHdhbnRlZF9kZXB0aCA8PSBzdGFjay5sZW5ndGggKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YWNrLnNwbGljZSh3YW50ZWRfZGVwdGgsIHN0YWNrLmxlbmd0aCAtIHdhbnRlZF9kZXB0aCk7XG4gICAgICAgICAgICAgICAgICAgIC8vcHJpbnQoXCJEZXNpcmVkIGRlcHRoIG5vd1wiLCB3YW50ZWRfZGVwdGgsIFwic3RhY2s6XCIsIHN0YWNrLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgIGxpc3QgPSBzdGFja1t3YW50ZWRfZGVwdGgtMV0ubGlzdDtcbiAgICAgICAgICAgICAgICAgICAgLy9wcmludChcImxpc3Q6XCIsIHVuZXZhbChsaXN0KSApO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vcHJpbnQgKFwibWFkZSBuZXcgc3RhY2sgZm9yIG1lc3N5IGluZGVudFwiKTtcbiAgICAgICAgICAgICAgICAgICAgbGlzdCA9IG1ha2VfbGlzdChtKTtcbiAgICAgICAgICAgICAgICAgICAgbGFzdF9saS5wdXNoKGxpc3QpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vcHJpbnQoIHVuZXZhbChsaXN0KSwgXCJsYXN0XCIsIGxpc3QgPT09IHN0YWNrW3N0YWNrLmxlbmd0aC0xXS5saXN0ICk7XG4gICAgICAgICAgICAgICAgbGFzdF9saSA9IFsgXCJsaXN0aXRlbVwiIF07XG4gICAgICAgICAgICAgICAgbGlzdC5wdXNoKGxhc3RfbGkpO1xuICAgICAgICAgICAgICB9IC8vIGVuZCBkZXB0aCBvZiBzaGVuZWdhaW5zXG4gICAgICAgICAgICAgIG5sID0gXCJcIjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gQWRkIGNvbnRlbnRcbiAgICAgICAgICAgIGlmICggbC5sZW5ndGggPiBtWzBdLmxlbmd0aCApIHtcbiAgICAgICAgICAgICAgbGlfYWNjdW11bGF0ZSArPSBubCArIGwuc3Vic3RyKCBtWzBdLmxlbmd0aCApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gLy8gdGlnaHRfc2VhcmNoXG5cbiAgICAgICAgICBpZiAoIGxpX2FjY3VtdWxhdGUubGVuZ3RoICkge1xuICAgICAgICAgICAgYWRkKCBsYXN0X2xpLCBsb29zZSwgdGhpcy5wcm9jZXNzSW5saW5lKCBsaV9hY2N1bXVsYXRlICksIG5sICk7XG4gICAgICAgICAgICAvLyBMb29zZSBtb2RlIHdpbGwgaGF2ZSBiZWVuIGRlYWx0IHdpdGguIFJlc2V0IGl0XG4gICAgICAgICAgICBsb29zZSA9IGZhbHNlO1xuICAgICAgICAgICAgbGlfYWNjdW11bGF0ZSA9IFwiXCI7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gTG9vayBhdCB0aGUgbmV4dCBibG9jayAtIHdlIG1pZ2h0IGhhdmUgYSBsb29zZSBsaXN0LiBPciBhbiBleHRyYVxuICAgICAgICAgIC8vIHBhcmFncmFwaCBmb3IgdGhlIGN1cnJlbnQgbGlcbiAgICAgICAgICB2YXIgY29udGFpbmVkID0gZ2V0X2NvbnRhaW5lZF9ibG9ja3MoIHN0YWNrLmxlbmd0aCwgbmV4dCApO1xuXG4gICAgICAgICAgLy8gRGVhbCB3aXRoIGNvZGUgYmxvY2tzIG9yIHByb3Blcmx5IG5lc3RlZCBsaXN0c1xuICAgICAgICAgIGlmICggY29udGFpbmVkLmxlbmd0aCA+IDAgKSB7XG4gICAgICAgICAgICAvLyBNYWtlIHN1cmUgYWxsIGxpc3RpdGVtcyB1cCB0aGUgc3RhY2sgYXJlIHBhcmFncmFwaHNcbiAgICAgICAgICAgIGZvckVhY2goIHN0YWNrLCBwYXJhZ3JhcGhpZnksIHRoaXMpO1xuXG4gICAgICAgICAgICBsYXN0X2xpLnB1c2guYXBwbHkoIGxhc3RfbGksIHRoaXMudG9UcmVlKCBjb250YWluZWQsIFtdICkgKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgbmV4dF9ibG9jayA9IG5leHRbMF0gJiYgbmV4dFswXS52YWx1ZU9mKCkgfHwgXCJcIjtcblxuICAgICAgICAgIGlmICggbmV4dF9ibG9jay5tYXRjaChpc19saXN0X3JlKSB8fCBuZXh0X2Jsb2NrLm1hdGNoKCAvXiAvICkgKSB7XG4gICAgICAgICAgICBibG9jayA9IG5leHQuc2hpZnQoKTtcblxuICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIGFuIEhSIGZvbGxvd2luZyBhIGxpc3Q6IGZlYXR1cmVzL2xpc3RzL2hyX2FidXR0aW5nXG4gICAgICAgICAgICB2YXIgaHIgPSB0aGlzLmRpYWxlY3QuYmxvY2suaG9yaXpSdWxlKCBibG9jaywgbmV4dCApO1xuXG4gICAgICAgICAgICBpZiAoIGhyICkge1xuICAgICAgICAgICAgICByZXQucHVzaC5hcHBseShyZXQsIGhyKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSBhbGwgbGlzdGl0ZW1zIHVwIHRoZSBzdGFjayBhcmUgcGFyYWdyYXBoc1xuICAgICAgICAgICAgZm9yRWFjaCggc3RhY2ssIHBhcmFncmFwaGlmeSwgdGhpcyk7XG5cbiAgICAgICAgICAgIGxvb3NlID0gdHJ1ZTtcbiAgICAgICAgICAgIGNvbnRpbnVlIGxvb3NlX3NlYXJjaDtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH0gLy8gbG9vc2Vfc2VhcmNoXG5cbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICAgIH07XG4gICAgfSkoKSxcblxuICAgIGJsb2NrcXVvdGU6IGZ1bmN0aW9uIGJsb2NrcXVvdGUoIGJsb2NrLCBuZXh0ICkge1xuICAgICAgaWYgKCAhYmxvY2subWF0Y2goIC9ePi9tICkgKVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuXG4gICAgICB2YXIganNvbm1sID0gW107XG5cbiAgICAgIC8vIHNlcGFyYXRlIG91dCB0aGUgbGVhZGluZyBhYnV0dGluZyBibG9jaywgaWYgYW55LiBJLmUuIGluIHRoaXMgY2FzZTpcbiAgICAgIC8vXG4gICAgICAvLyAgYVxuICAgICAgLy8gID4gYlxuICAgICAgLy9cbiAgICAgIGlmICggYmxvY2tbIDAgXSAhPSBcIj5cIiApIHtcbiAgICAgICAgdmFyIGxpbmVzID0gYmxvY2suc3BsaXQoIC9cXG4vICksXG4gICAgICAgICAgICBwcmV2ID0gW10sXG4gICAgICAgICAgICBsaW5lX25vID0gYmxvY2subGluZU51bWJlcjtcblxuICAgICAgICAvLyBrZWVwIHNoaWZ0aW5nIGxpbmVzIHVudGlsIHlvdSBmaW5kIGEgY3JvdGNoZXRcbiAgICAgICAgd2hpbGUgKCBsaW5lcy5sZW5ndGggJiYgbGluZXNbIDAgXVsgMCBdICE9IFwiPlwiICkge1xuICAgICAgICAgICAgcHJldi5wdXNoKCBsaW5lcy5zaGlmdCgpICk7XG4gICAgICAgICAgICBsaW5lX25vKys7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgYWJ1dHRpbmcgPSBta19ibG9jayggcHJldi5qb2luKCBcIlxcblwiICksIFwiXFxuXCIsIGJsb2NrLmxpbmVOdW1iZXIgKTtcbiAgICAgICAganNvbm1sLnB1c2guYXBwbHkoIGpzb25tbCwgdGhpcy5wcm9jZXNzQmxvY2soIGFidXR0aW5nLCBbXSApICk7XG4gICAgICAgIC8vIHJlYXNzZW1ibGUgbmV3IGJsb2NrIG9mIGp1c3QgYmxvY2sgcXVvdGVzIVxuICAgICAgICBibG9jayA9IG1rX2Jsb2NrKCBsaW5lcy5qb2luKCBcIlxcblwiICksIGJsb2NrLnRyYWlsaW5nLCBsaW5lX25vICk7XG4gICAgICB9XG5cblxuICAgICAgLy8gaWYgdGhlIG5leHQgYmxvY2sgaXMgYWxzbyBhIGJsb2NrcXVvdGUgbWVyZ2UgaXQgaW5cbiAgICAgIHdoaWxlICggbmV4dC5sZW5ndGggJiYgbmV4dFsgMCBdWyAwIF0gPT0gXCI+XCIgKSB7XG4gICAgICAgIHZhciBiID0gbmV4dC5zaGlmdCgpO1xuICAgICAgICBibG9jayA9IG1rX2Jsb2NrKCBibG9jayArIGJsb2NrLnRyYWlsaW5nICsgYiwgYi50cmFpbGluZywgYmxvY2subGluZU51bWJlciApO1xuICAgICAgfVxuXG4gICAgICAvLyBTdHJpcCBvZmYgdGhlIGxlYWRpbmcgXCI+IFwiIGFuZCByZS1wcm9jZXNzIGFzIGEgYmxvY2suXG4gICAgICB2YXIgaW5wdXQgPSBibG9jay5yZXBsYWNlKCAvXj4gPy9nbSwgXCJcIiApLFxuICAgICAgICAgIG9sZF90cmVlID0gdGhpcy50cmVlLFxuICAgICAgICAgIHByb2Nlc3NlZEJsb2NrID0gdGhpcy50b1RyZWUoIGlucHV0LCBbIFwiYmxvY2txdW90ZVwiIF0gKSxcbiAgICAgICAgICBhdHRyID0gZXh0cmFjdF9hdHRyKCBwcm9jZXNzZWRCbG9jayApO1xuXG4gICAgICAvLyBJZiBhbnkgbGluayByZWZlcmVuY2VzIHdlcmUgZm91bmQgZ2V0IHJpZCBvZiB0aGVtXG4gICAgICBpZiAoIGF0dHIgJiYgYXR0ci5yZWZlcmVuY2VzICkge1xuICAgICAgICBkZWxldGUgYXR0ci5yZWZlcmVuY2VzO1xuICAgICAgICAvLyBBbmQgdGhlbiByZW1vdmUgdGhlIGF0dHJpYnV0ZSBvYmplY3QgaWYgaXQncyBlbXB0eVxuICAgICAgICBpZiAoIGlzRW1wdHkoIGF0dHIgKSApIHtcbiAgICAgICAgICBwcm9jZXNzZWRCbG9jay5zcGxpY2UoIDEsIDEgKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBqc29ubWwucHVzaCggcHJvY2Vzc2VkQmxvY2sgKTtcbiAgICAgIHJldHVybiBqc29ubWw7XG4gICAgfSxcblxuICAgIHJlZmVyZW5jZURlZm46IGZ1bmN0aW9uIHJlZmVyZW5jZURlZm4oIGJsb2NrLCBuZXh0KSB7XG4gICAgICB2YXIgcmUgPSAvXlxccypcXFsoLio/KVxcXTpcXHMqKFxcUyspKD86XFxzKyg/OihbJ1wiXSkoLio/KVxcM3xcXCgoLio/KVxcKSkpP1xcbj8vO1xuICAgICAgLy8gaW50ZXJlc3RpbmcgbWF0Y2hlcyBhcmUgWyAsIHJlZl9pZCwgdXJsLCAsIHRpdGxlLCB0aXRsZSBdXG5cbiAgICAgIGlmICggIWJsb2NrLm1hdGNoKHJlKSApXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG5cbiAgICAgIC8vIG1ha2UgYW4gYXR0cmlidXRlIG5vZGUgaWYgaXQgZG9lc24ndCBleGlzdFxuICAgICAgaWYgKCAhZXh0cmFjdF9hdHRyKCB0aGlzLnRyZWUgKSApIHtcbiAgICAgICAgdGhpcy50cmVlLnNwbGljZSggMSwgMCwge30gKTtcbiAgICAgIH1cblxuICAgICAgdmFyIGF0dHJzID0gZXh0cmFjdF9hdHRyKCB0aGlzLnRyZWUgKTtcblxuICAgICAgLy8gbWFrZSBhIHJlZmVyZW5jZXMgaGFzaCBpZiBpdCBkb2Vzbid0IGV4aXN0XG4gICAgICBpZiAoIGF0dHJzLnJlZmVyZW5jZXMgPT09IHVuZGVmaW5lZCApIHtcbiAgICAgICAgYXR0cnMucmVmZXJlbmNlcyA9IHt9O1xuICAgICAgfVxuXG4gICAgICB2YXIgYiA9IHRoaXMubG9vcF9yZV9vdmVyX2Jsb2NrKHJlLCBibG9jaywgZnVuY3Rpb24oIG0gKSB7XG5cbiAgICAgICAgaWYgKCBtWzJdICYmIG1bMl1bMF0gPT0gXCI8XCIgJiYgbVsyXVttWzJdLmxlbmd0aC0xXSA9PSBcIj5cIiApXG4gICAgICAgICAgbVsyXSA9IG1bMl0uc3Vic3RyaW5nKCAxLCBtWzJdLmxlbmd0aCAtIDEgKTtcblxuICAgICAgICB2YXIgcmVmID0gYXR0cnMucmVmZXJlbmNlc1sgbVsxXS50b0xvd2VyQ2FzZSgpIF0gPSB7XG4gICAgICAgICAgaHJlZjogbVsyXVxuICAgICAgICB9O1xuXG4gICAgICAgIGlmICggbVs0XSAhPT0gdW5kZWZpbmVkIClcbiAgICAgICAgICByZWYudGl0bGUgPSBtWzRdO1xuICAgICAgICBlbHNlIGlmICggbVs1XSAhPT0gdW5kZWZpbmVkIClcbiAgICAgICAgICByZWYudGl0bGUgPSBtWzVdO1xuXG4gICAgICB9ICk7XG5cbiAgICAgIGlmICggYi5sZW5ndGggKVxuICAgICAgICBuZXh0LnVuc2hpZnQoIG1rX2Jsb2NrKCBiLCBibG9jay50cmFpbGluZyApICk7XG5cbiAgICAgIHJldHVybiBbXTtcbiAgICB9LFxuXG4gICAgcGFyYTogZnVuY3Rpb24gcGFyYSggYmxvY2ssIG5leHQgKSB7XG4gICAgICAvLyBldmVyeXRoaW5nJ3MgYSBwYXJhIVxuICAgICAgcmV0dXJuIFsgW1wicGFyYVwiXS5jb25jYXQoIHRoaXMucHJvY2Vzc0lubGluZSggYmxvY2sgKSApIF07XG4gICAgfVxuICB9XG59O1xuXG5NYXJrZG93bi5kaWFsZWN0cy5HcnViZXIuaW5saW5lID0ge1xuXG4gICAgX19vbmVFbGVtZW50X186IGZ1bmN0aW9uIG9uZUVsZW1lbnQoIHRleHQsIHBhdHRlcm5zX29yX3JlLCBwcmV2aW91c19ub2RlcyApIHtcbiAgICAgIHZhciBtLFxuICAgICAgICAgIHJlcyxcbiAgICAgICAgICBsYXN0SW5kZXggPSAwO1xuXG4gICAgICBwYXR0ZXJuc19vcl9yZSA9IHBhdHRlcm5zX29yX3JlIHx8IHRoaXMuZGlhbGVjdC5pbmxpbmUuX19wYXR0ZXJuc19fO1xuICAgICAgdmFyIHJlID0gbmV3IFJlZ0V4cCggXCIoW1xcXFxzXFxcXFNdKj8pKFwiICsgKHBhdHRlcm5zX29yX3JlLnNvdXJjZSB8fCBwYXR0ZXJuc19vcl9yZSkgKyBcIilcIiApO1xuXG4gICAgICBtID0gcmUuZXhlYyggdGV4dCApO1xuICAgICAgaWYgKCFtKSB7XG4gICAgICAgIC8vIEp1c3QgYm9yaW5nIHRleHRcbiAgICAgICAgcmV0dXJuIFsgdGV4dC5sZW5ndGgsIHRleHQgXTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKCBtWzFdICkge1xuICAgICAgICAvLyBTb21lIHVuLWludGVyZXN0aW5nIHRleHQgbWF0Y2hlZC4gUmV0dXJuIHRoYXQgZmlyc3RcbiAgICAgICAgcmV0dXJuIFsgbVsxXS5sZW5ndGgsIG1bMV0gXTtcbiAgICAgIH1cblxuICAgICAgdmFyIHJlcztcbiAgICAgIGlmICggbVsyXSBpbiB0aGlzLmRpYWxlY3QuaW5saW5lICkge1xuICAgICAgICByZXMgPSB0aGlzLmRpYWxlY3QuaW5saW5lWyBtWzJdIF0uY2FsbChcbiAgICAgICAgICAgICAgICAgIHRoaXMsXG4gICAgICAgICAgICAgICAgICB0ZXh0LnN1YnN0ciggbS5pbmRleCApLCBtLCBwcmV2aW91c19ub2RlcyB8fCBbXSApO1xuICAgICAgfVxuICAgICAgLy8gRGVmYXVsdCBmb3Igbm93IHRvIG1ha2UgZGV2IGVhc2llci4ganVzdCBzbHVycCBzcGVjaWFsIGFuZCBvdXRwdXQgaXQuXG4gICAgICByZXMgPSByZXMgfHwgWyBtWzJdLmxlbmd0aCwgbVsyXSBdO1xuICAgICAgcmV0dXJuIHJlcztcbiAgICB9LFxuXG4gICAgX19jYWxsX186IGZ1bmN0aW9uIGlubGluZSggdGV4dCwgcGF0dGVybnMgKSB7XG5cbiAgICAgIHZhciBvdXQgPSBbXSxcbiAgICAgICAgICByZXM7XG5cbiAgICAgIGZ1bmN0aW9uIGFkZCh4KSB7XG4gICAgICAgIC8vRDpzZWxmLmRlYnVnKFwiICBhZGRpbmcgb3V0cHV0XCIsIHVuZXZhbCh4KSk7XG4gICAgICAgIGlmICggdHlwZW9mIHggPT0gXCJzdHJpbmdcIiAmJiB0eXBlb2Ygb3V0W291dC5sZW5ndGgtMV0gPT0gXCJzdHJpbmdcIiApXG4gICAgICAgICAgb3V0WyBvdXQubGVuZ3RoLTEgXSArPSB4O1xuICAgICAgICBlbHNlXG4gICAgICAgICAgb3V0LnB1c2goeCk7XG4gICAgICB9XG5cbiAgICAgIHdoaWxlICggdGV4dC5sZW5ndGggPiAwICkge1xuICAgICAgICByZXMgPSB0aGlzLmRpYWxlY3QuaW5saW5lLl9fb25lRWxlbWVudF9fLmNhbGwodGhpcywgdGV4dCwgcGF0dGVybnMsIG91dCApO1xuICAgICAgICB0ZXh0ID0gdGV4dC5zdWJzdHIoIHJlcy5zaGlmdCgpICk7XG4gICAgICAgIGZvckVhY2gocmVzLCBhZGQgKVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gb3V0O1xuICAgIH0sXG5cbiAgICAvLyBUaGVzZSBjaGFyYWN0ZXJzIGFyZSBpbnRlcnN0aW5nIGVsc2V3aGVyZSwgc28gaGF2ZSBydWxlcyBmb3IgdGhlbSBzbyB0aGF0XG4gICAgLy8gY2h1bmtzIG9mIHBsYWluIHRleHQgYmxvY2tzIGRvbid0IGluY2x1ZGUgdGhlbVxuICAgIFwiXVwiOiBmdW5jdGlvbiAoKSB7fSxcbiAgICBcIn1cIjogZnVuY3Rpb24gKCkge30sXG5cbiAgICBfX2VzY2FwZV9fIDogL15cXFxcW1xcXFxgXFwqX3t9XFxbXFxdKCkjXFwrLiFcXC1dLyxcblxuICAgIFwiXFxcXFwiOiBmdW5jdGlvbiBlc2NhcGVkKCB0ZXh0ICkge1xuICAgICAgLy8gWyBsZW5ndGggb2YgaW5wdXQgcHJvY2Vzc2VkLCBub2RlL2NoaWxkcmVuIHRvIGFkZC4uLiBdXG4gICAgICAvLyBPbmx5IGVzYWNhcGU6IFxcIGAgKiBfIHsgfSBbIF0gKCApICMgKiArIC0gLiAhXG4gICAgICBpZiAoIHRoaXMuZGlhbGVjdC5pbmxpbmUuX19lc2NhcGVfXy5leGVjKCB0ZXh0ICkgKVxuICAgICAgICByZXR1cm4gWyAyLCB0ZXh0LmNoYXJBdCggMSApIF07XG4gICAgICBlbHNlXG4gICAgICAgIC8vIE5vdCBhbiBlc2FjcGVcbiAgICAgICAgcmV0dXJuIFsgMSwgXCJcXFxcXCIgXTtcbiAgICB9LFxuXG4gICAgXCIhW1wiOiBmdW5jdGlvbiBpbWFnZSggdGV4dCApIHtcblxuICAgICAgLy8gVW5saWtlIGltYWdlcywgYWx0IHRleHQgaXMgcGxhaW4gdGV4dCBvbmx5LiBubyBvdGhlciBlbGVtZW50cyBhcmVcbiAgICAgIC8vIGFsbG93ZWQgaW4gdGhlcmVcblxuICAgICAgLy8gIVtBbHQgdGV4dF0oL3BhdGgvdG8vaW1nLmpwZyBcIk9wdGlvbmFsIHRpdGxlXCIpXG4gICAgICAvLyAgICAgIDEgICAgICAgICAgMiAgICAgICAgICAgIDMgICAgICAgNCAgICAgICAgIDwtLS0gY2FwdHVyZXNcbiAgICAgIHZhciBtID0gdGV4dC5tYXRjaCggL14hXFxbKC4qPylcXF1bIFxcdF0qXFwoWyBcXHRdKihbXlwiKV0qPykoPzpbIFxcdF0rKFtcIiddKSguKj8pXFwzKT9bIFxcdF0qXFwpLyApO1xuXG4gICAgICBpZiAoIG0gKSB7XG4gICAgICAgIGlmICggbVsyXSAmJiBtWzJdWzBdID09IFwiPFwiICYmIG1bMl1bbVsyXS5sZW5ndGgtMV0gPT0gXCI+XCIgKVxuICAgICAgICAgIG1bMl0gPSBtWzJdLnN1YnN0cmluZyggMSwgbVsyXS5sZW5ndGggLSAxICk7XG5cbiAgICAgICAgbVsyXSA9IHRoaXMuZGlhbGVjdC5pbmxpbmUuX19jYWxsX18uY2FsbCggdGhpcywgbVsyXSwgL1xcXFwvIClbMF07XG5cbiAgICAgICAgdmFyIGF0dHJzID0geyBhbHQ6IG1bMV0sIGhyZWY6IG1bMl0gfHwgXCJcIiB9O1xuICAgICAgICBpZiAoIG1bNF0gIT09IHVuZGVmaW5lZClcbiAgICAgICAgICBhdHRycy50aXRsZSA9IG1bNF07XG5cbiAgICAgICAgcmV0dXJuIFsgbVswXS5sZW5ndGgsIFsgXCJpbWdcIiwgYXR0cnMgXSBdO1xuICAgICAgfVxuXG4gICAgICAvLyAhW0FsdCB0ZXh0XVtpZF1cbiAgICAgIG0gPSB0ZXh0Lm1hdGNoKCAvXiFcXFsoLio/KVxcXVsgXFx0XSpcXFsoLio/KVxcXS8gKTtcblxuICAgICAgaWYgKCBtICkge1xuICAgICAgICAvLyBXZSBjYW4ndCBjaGVjayBpZiB0aGUgcmVmZXJlbmNlIGlzIGtub3duIGhlcmUgYXMgaXQgbGlrZWx5IHdvbnQgYmVcbiAgICAgICAgLy8gZm91bmQgdGlsbCBhZnRlci4gQ2hlY2sgaXQgaW4gbWQgdHJlZS0+aG10bCB0cmVlIGNvbnZlcnNpb25cbiAgICAgICAgcmV0dXJuIFsgbVswXS5sZW5ndGgsIFsgXCJpbWdfcmVmXCIsIHsgYWx0OiBtWzFdLCByZWY6IG1bMl0udG9Mb3dlckNhc2UoKSwgb3JpZ2luYWw6IG1bMF0gfSBdIF07XG4gICAgICB9XG5cbiAgICAgIC8vIEp1c3QgY29uc3VtZSB0aGUgJyFbJ1xuICAgICAgcmV0dXJuIFsgMiwgXCIhW1wiIF07XG4gICAgfSxcblxuICAgIFwiW1wiOiBmdW5jdGlvbiBsaW5rKCB0ZXh0ICkge1xuXG4gICAgICB2YXIgb3JpZyA9IFN0cmluZyh0ZXh0KTtcbiAgICAgIC8vIElubGluZSBjb250ZW50IGlzIHBvc3NpYmxlIGluc2lkZSBgbGluayB0ZXh0YFxuICAgICAgdmFyIHJlcyA9IE1hcmtkb3duLkRpYWxlY3RIZWxwZXJzLmlubGluZV91bnRpbF9jaGFyLmNhbGwoIHRoaXMsIHRleHQuc3Vic3RyKDEpLCBcIl1cIiApO1xuXG4gICAgICAvLyBObyBjbG9zaW5nICddJyBmb3VuZC4gSnVzdCBjb25zdW1lIHRoZSBbXG4gICAgICBpZiAoICFyZXMgKSByZXR1cm4gWyAxLCBcIltcIiBdO1xuXG4gICAgICB2YXIgY29uc3VtZWQgPSAxICsgcmVzWyAwIF0sXG4gICAgICAgICAgY2hpbGRyZW4gPSByZXNbIDEgXSxcbiAgICAgICAgICBsaW5rLFxuICAgICAgICAgIGF0dHJzO1xuXG4gICAgICAvLyBBdCB0aGlzIHBvaW50IHRoZSBmaXJzdCBbLi4uXSBoYXMgYmVlbiBwYXJzZWQuIFNlZSB3aGF0IGZvbGxvd3MgdG8gZmluZFxuICAgICAgLy8gb3V0IHdoaWNoIGtpbmQgb2YgbGluayB3ZSBhcmUgKHJlZmVyZW5jZSBvciBkaXJlY3QgdXJsKVxuICAgICAgdGV4dCA9IHRleHQuc3Vic3RyKCBjb25zdW1lZCApO1xuXG4gICAgICAvLyBbbGluayB0ZXh0XSgvcGF0aC90by9pbWcuanBnIFwiT3B0aW9uYWwgdGl0bGVcIilcbiAgICAgIC8vICAgICAgICAgICAgICAgICAxICAgICAgICAgICAgMiAgICAgICAzICAgICAgICAgPC0tLSBjYXB0dXJlc1xuICAgICAgLy8gVGhpcyB3aWxsIGNhcHR1cmUgdXAgdG8gdGhlIGxhc3QgcGFyZW4gaW4gdGhlIGJsb2NrLiBXZSB0aGVuIHB1bGxcbiAgICAgIC8vIGJhY2sgYmFzZWQgb24gaWYgdGhlcmUgYSBtYXRjaGluZyBvbmVzIGluIHRoZSB1cmxcbiAgICAgIC8vICAgIChbaGVyZV0oL3VybC8odGVzdCkpXG4gICAgICAvLyBUaGUgcGFyZW5zIGhhdmUgdG8gYmUgYmFsYW5jZWRcbiAgICAgIHZhciBtID0gdGV4dC5tYXRjaCggL15cXHMqXFwoWyBcXHRdKihbXlwiJ10qKSg/OlsgXFx0XSsoW1wiJ10pKC4qPylcXDIpP1sgXFx0XSpcXCkvICk7XG4gICAgICBpZiAoIG0gKSB7XG4gICAgICAgIHZhciB1cmwgPSBtWzFdO1xuICAgICAgICBjb25zdW1lZCArPSBtWzBdLmxlbmd0aDtcblxuICAgICAgICBpZiAoIHVybCAmJiB1cmxbMF0gPT0gXCI8XCIgJiYgdXJsW3VybC5sZW5ndGgtMV0gPT0gXCI+XCIgKVxuICAgICAgICAgIHVybCA9IHVybC5zdWJzdHJpbmcoIDEsIHVybC5sZW5ndGggLSAxICk7XG5cbiAgICAgICAgLy8gSWYgdGhlcmUgaXMgYSB0aXRsZSB3ZSBkb24ndCBoYXZlIHRvIHdvcnJ5IGFib3V0IHBhcmVucyBpbiB0aGUgdXJsXG4gICAgICAgIGlmICggIW1bM10gKSB7XG4gICAgICAgICAgdmFyIG9wZW5fcGFyZW5zID0gMTsgLy8gT25lIG9wZW4gdGhhdCBpc24ndCBpbiB0aGUgY2FwdHVyZVxuICAgICAgICAgIGZvciAoIHZhciBsZW4gPSAwOyBsZW4gPCB1cmwubGVuZ3RoOyBsZW4rKyApIHtcbiAgICAgICAgICAgIHN3aXRjaCAoIHVybFtsZW5dICkge1xuICAgICAgICAgICAgY2FzZSBcIihcIjpcbiAgICAgICAgICAgICAgb3Blbl9wYXJlbnMrKztcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiKVwiOlxuICAgICAgICAgICAgICBpZiAoIC0tb3Blbl9wYXJlbnMgPT0gMCkge1xuICAgICAgICAgICAgICAgIGNvbnN1bWVkIC09IHVybC5sZW5ndGggLSBsZW47XG4gICAgICAgICAgICAgICAgdXJsID0gdXJsLnN1YnN0cmluZygwLCBsZW4pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFByb2Nlc3MgZXNjYXBlcyBvbmx5XG4gICAgICAgIHVybCA9IHRoaXMuZGlhbGVjdC5pbmxpbmUuX19jYWxsX18uY2FsbCggdGhpcywgdXJsLCAvXFxcXC8gKVswXTtcblxuICAgICAgICBhdHRycyA9IHsgaHJlZjogdXJsIHx8IFwiXCIgfTtcbiAgICAgICAgaWYgKCBtWzNdICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgYXR0cnMudGl0bGUgPSBtWzNdO1xuXG4gICAgICAgIGxpbmsgPSBbIFwibGlua1wiLCBhdHRycyBdLmNvbmNhdCggY2hpbGRyZW4gKTtcbiAgICAgICAgcmV0dXJuIFsgY29uc3VtZWQsIGxpbmsgXTtcbiAgICAgIH1cblxuICAgICAgLy8gW0FsdCB0ZXh0XVtpZF1cbiAgICAgIC8vIFtBbHQgdGV4dF0gW2lkXVxuICAgICAgbSA9IHRleHQubWF0Y2goIC9eXFxzKlxcWyguKj8pXFxdLyApO1xuXG4gICAgICBpZiAoIG0gKSB7XG5cbiAgICAgICAgY29uc3VtZWQgKz0gbVsgMCBdLmxlbmd0aDtcblxuICAgICAgICAvLyBbbGlua3NdW10gdXNlcyBsaW5rcyBhcyBpdHMgcmVmZXJlbmNlXG4gICAgICAgIGF0dHJzID0geyByZWY6ICggbVsgMSBdIHx8IFN0cmluZyhjaGlsZHJlbikgKS50b0xvd2VyQ2FzZSgpLCAgb3JpZ2luYWw6IG9yaWcuc3Vic3RyKCAwLCBjb25zdW1lZCApIH07XG5cbiAgICAgICAgbGluayA9IFsgXCJsaW5rX3JlZlwiLCBhdHRycyBdLmNvbmNhdCggY2hpbGRyZW4gKTtcblxuICAgICAgICAvLyBXZSBjYW4ndCBjaGVjayBpZiB0aGUgcmVmZXJlbmNlIGlzIGtub3duIGhlcmUgYXMgaXQgbGlrZWx5IHdvbnQgYmVcbiAgICAgICAgLy8gZm91bmQgdGlsbCBhZnRlci4gQ2hlY2sgaXQgaW4gbWQgdHJlZS0+aG10bCB0cmVlIGNvbnZlcnNpb24uXG4gICAgICAgIC8vIFN0b3JlIHRoZSBvcmlnaW5hbCBzbyB0aGF0IGNvbnZlcnNpb24gY2FuIHJldmVydCBpZiB0aGUgcmVmIGlzbid0IGZvdW5kLlxuICAgICAgICByZXR1cm4gWyBjb25zdW1lZCwgbGluayBdO1xuICAgICAgfVxuXG4gICAgICAvLyBbaWRdXG4gICAgICAvLyBPbmx5IGlmIGlkIGlzIHBsYWluIChubyBmb3JtYXR0aW5nLilcbiAgICAgIGlmICggY2hpbGRyZW4ubGVuZ3RoID09IDEgJiYgdHlwZW9mIGNoaWxkcmVuWzBdID09IFwic3RyaW5nXCIgKSB7XG5cbiAgICAgICAgYXR0cnMgPSB7IHJlZjogY2hpbGRyZW5bMF0udG9Mb3dlckNhc2UoKSwgIG9yaWdpbmFsOiBvcmlnLnN1YnN0ciggMCwgY29uc3VtZWQgKSB9O1xuICAgICAgICBsaW5rID0gWyBcImxpbmtfcmVmXCIsIGF0dHJzLCBjaGlsZHJlblswXSBdO1xuICAgICAgICByZXR1cm4gWyBjb25zdW1lZCwgbGluayBdO1xuICAgICAgfVxuXG4gICAgICAvLyBKdXN0IGNvbnN1bWUgdGhlIFwiW1wiXG4gICAgICByZXR1cm4gWyAxLCBcIltcIiBdO1xuICAgIH0sXG5cblxuICAgIFwiPFwiOiBmdW5jdGlvbiBhdXRvTGluayggdGV4dCApIHtcbiAgICAgIHZhciBtO1xuXG4gICAgICBpZiAoICggbSA9IHRleHQubWF0Y2goIC9ePCg/OigoaHR0cHM/fGZ0cHxtYWlsdG8pOltePl0rKXwoLio/QC4qP1xcLlthLXpBLVpdKykpPi8gKSApICE9IG51bGwgKSB7XG4gICAgICAgIGlmICggbVszXSApIHtcbiAgICAgICAgICByZXR1cm4gWyBtWzBdLmxlbmd0aCwgWyBcImxpbmtcIiwgeyBocmVmOiBcIm1haWx0bzpcIiArIG1bM10gfSwgbVszXSBdIF07XG5cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICggbVsyXSA9PSBcIm1haWx0b1wiICkge1xuICAgICAgICAgIHJldHVybiBbIG1bMF0ubGVuZ3RoLCBbIFwibGlua1wiLCB7IGhyZWY6IG1bMV0gfSwgbVsxXS5zdWJzdHIoXCJtYWlsdG86XCIubGVuZ3RoICkgXSBdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAgICByZXR1cm4gWyBtWzBdLmxlbmd0aCwgWyBcImxpbmtcIiwgeyBocmVmOiBtWzFdIH0sIG1bMV0gXSBdO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gWyAxLCBcIjxcIiBdO1xuICAgIH0sXG5cbiAgICBcImBcIjogZnVuY3Rpb24gaW5saW5lQ29kZSggdGV4dCApIHtcbiAgICAgIC8vIElubGluZSBjb2RlIGJsb2NrLiBhcyBtYW55IGJhY2t0aWNrcyBhcyB5b3UgbGlrZSB0byBzdGFydCBpdFxuICAgICAgLy8gQWx3YXlzIHNraXAgb3ZlciB0aGUgb3BlbmluZyB0aWNrcy5cbiAgICAgIHZhciBtID0gdGV4dC5tYXRjaCggLyhgKykoKFtcXHNcXFNdKj8pXFwxKS8gKTtcblxuICAgICAgaWYgKCBtICYmIG1bMl0gKVxuICAgICAgICByZXR1cm4gWyBtWzFdLmxlbmd0aCArIG1bMl0ubGVuZ3RoLCBbIFwiaW5saW5lY29kZVwiLCBtWzNdIF0gXTtcbiAgICAgIGVsc2Uge1xuICAgICAgICAvLyBUT0RPOiBObyBtYXRjaGluZyBlbmQgY29kZSBmb3VuZCAtIHdhcm4hXG4gICAgICAgIHJldHVybiBbIDEsIFwiYFwiIF07XG4gICAgICB9XG4gICAgfSxcblxuICAgIFwiICBcXG5cIjogZnVuY3Rpb24gbGluZUJyZWFrKCB0ZXh0ICkge1xuICAgICAgcmV0dXJuIFsgMywgWyBcImxpbmVicmVha1wiIF0gXTtcbiAgICB9XG5cbn07XG5cbi8vIE1ldGEgSGVscGVyL2dlbmVyYXRvciBtZXRob2QgZm9yIGVtIGFuZCBzdHJvbmcgaGFuZGxpbmdcbmZ1bmN0aW9uIHN0cm9uZ19lbSggdGFnLCBtZCApIHtcblxuICB2YXIgc3RhdGVfc2xvdCA9IHRhZyArIFwiX3N0YXRlXCIsXG4gICAgICBvdGhlcl9zbG90ID0gdGFnID09IFwic3Ryb25nXCIgPyBcImVtX3N0YXRlXCIgOiBcInN0cm9uZ19zdGF0ZVwiO1xuXG4gIGZ1bmN0aW9uIENsb3NlVGFnKGxlbikge1xuICAgIHRoaXMubGVuX2FmdGVyID0gbGVuO1xuICAgIHRoaXMubmFtZSA9IFwiY2xvc2VfXCIgKyBtZDtcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAoIHRleHQsIG9yaWdfbWF0Y2ggKSB7XG5cbiAgICBpZiAoIHRoaXNbc3RhdGVfc2xvdF1bMF0gPT0gbWQgKSB7XG4gICAgICAvLyBNb3N0IHJlY2VudCBlbSBpcyBvZiB0aGlzIHR5cGVcbiAgICAgIC8vRDp0aGlzLmRlYnVnKFwiY2xvc2luZ1wiLCBtZCk7XG4gICAgICB0aGlzW3N0YXRlX3Nsb3RdLnNoaWZ0KCk7XG5cbiAgICAgIC8vIFwiQ29uc3VtZVwiIGV2ZXJ5dGhpbmcgdG8gZ28gYmFjayB0byB0aGUgcmVjcnVzaW9uIGluIHRoZSBlbHNlLWJsb2NrIGJlbG93XG4gICAgICByZXR1cm5bIHRleHQubGVuZ3RoLCBuZXcgQ2xvc2VUYWcodGV4dC5sZW5ndGgtbWQubGVuZ3RoKSBdO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIC8vIFN0b3JlIGEgY2xvbmUgb2YgdGhlIGVtL3N0cm9uZyBzdGF0ZXNcbiAgICAgIHZhciBvdGhlciA9IHRoaXNbb3RoZXJfc2xvdF0uc2xpY2UoKSxcbiAgICAgICAgICBzdGF0ZSA9IHRoaXNbc3RhdGVfc2xvdF0uc2xpY2UoKTtcblxuICAgICAgdGhpc1tzdGF0ZV9zbG90XS51bnNoaWZ0KG1kKTtcblxuICAgICAgLy9EOnRoaXMuZGVidWdfaW5kZW50ICs9IFwiICBcIjtcblxuICAgICAgLy8gUmVjdXJzZVxuICAgICAgdmFyIHJlcyA9IHRoaXMucHJvY2Vzc0lubGluZSggdGV4dC5zdWJzdHIoIG1kLmxlbmd0aCApICk7XG4gICAgICAvL0Q6dGhpcy5kZWJ1Z19pbmRlbnQgPSB0aGlzLmRlYnVnX2luZGVudC5zdWJzdHIoMik7XG5cbiAgICAgIHZhciBsYXN0ID0gcmVzW3Jlcy5sZW5ndGggLSAxXTtcblxuICAgICAgLy9EOnRoaXMuZGVidWcoXCJwcm9jZXNzSW5saW5lIGZyb21cIiwgdGFnICsgXCI6IFwiLCB1bmV2YWwoIHJlcyApICk7XG5cbiAgICAgIHZhciBjaGVjayA9IHRoaXNbc3RhdGVfc2xvdF0uc2hpZnQoKTtcbiAgICAgIGlmICggbGFzdCBpbnN0YW5jZW9mIENsb3NlVGFnICkge1xuICAgICAgICByZXMucG9wKCk7XG4gICAgICAgIC8vIFdlIG1hdGNoZWQhIEh1enphaC5cbiAgICAgICAgdmFyIGNvbnN1bWVkID0gdGV4dC5sZW5ndGggLSBsYXN0Lmxlbl9hZnRlcjtcbiAgICAgICAgcmV0dXJuIFsgY29uc3VtZWQsIFsgdGFnIF0uY29uY2F0KHJlcykgXTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICAvLyBSZXN0b3JlIHRoZSBzdGF0ZSBvZiB0aGUgb3RoZXIga2luZC4gV2UgbWlnaHQgaGF2ZSBtaXN0YWtlbmx5IGNsb3NlZCBpdC5cbiAgICAgICAgdGhpc1tvdGhlcl9zbG90XSA9IG90aGVyO1xuICAgICAgICB0aGlzW3N0YXRlX3Nsb3RdID0gc3RhdGU7XG5cbiAgICAgICAgLy8gV2UgY2FuJ3QgcmV1c2UgdGhlIHByb2Nlc3NlZCByZXN1bHQgYXMgaXQgY291bGQgaGF2ZSB3cm9uZyBwYXJzaW5nIGNvbnRleHRzIGluIGl0LlxuICAgICAgICByZXR1cm4gWyBtZC5sZW5ndGgsIG1kIF07XG4gICAgICB9XG4gICAgfVxuICB9OyAvLyBFbmQgcmV0dXJuZWQgZnVuY3Rpb25cbn1cblxuTWFya2Rvd24uZGlhbGVjdHMuR3J1YmVyLmlubGluZVtcIioqXCJdID0gc3Ryb25nX2VtKFwic3Ryb25nXCIsIFwiKipcIik7XG5NYXJrZG93bi5kaWFsZWN0cy5HcnViZXIuaW5saW5lW1wiX19cIl0gPSBzdHJvbmdfZW0oXCJzdHJvbmdcIiwgXCJfX1wiKTtcbk1hcmtkb3duLmRpYWxlY3RzLkdydWJlci5pbmxpbmVbXCIqXCJdICA9IHN0cm9uZ19lbShcImVtXCIsIFwiKlwiKTtcbk1hcmtkb3duLmRpYWxlY3RzLkdydWJlci5pbmxpbmVbXCJfXCJdICA9IHN0cm9uZ19lbShcImVtXCIsIFwiX1wiKTtcblxuXG4vLyBCdWlsZCBkZWZhdWx0IG9yZGVyIGZyb20gaW5zZXJ0aW9uIG9yZGVyLlxuTWFya2Rvd24uYnVpbGRCbG9ja09yZGVyID0gZnVuY3Rpb24oZCkge1xuICB2YXIgb3JkID0gW107XG4gIGZvciAoIHZhciBpIGluIGQgKSB7XG4gICAgaWYgKCBpID09IFwiX19vcmRlcl9fXCIgfHwgaSA9PSBcIl9fY2FsbF9fXCIgKSBjb250aW51ZTtcbiAgICBvcmQucHVzaCggaSApO1xuICB9XG4gIGQuX19vcmRlcl9fID0gb3JkO1xufTtcblxuLy8gQnVpbGQgcGF0dGVybnMgZm9yIGlubGluZSBtYXRjaGVyXG5NYXJrZG93bi5idWlsZElubGluZVBhdHRlcm5zID0gZnVuY3Rpb24oZCkge1xuICB2YXIgcGF0dGVybnMgPSBbXTtcblxuICBmb3IgKCB2YXIgaSBpbiBkICkge1xuICAgIC8vIF9fZm9vX18gaXMgcmVzZXJ2ZWQgYW5kIG5vdCBhIHBhdHRlcm5cbiAgICBpZiAoIGkubWF0Y2goIC9eX18uKl9fJC8pICkgY29udGludWU7XG4gICAgdmFyIGwgPSBpLnJlcGxhY2UoIC8oW1xcXFwuKis/fCgpXFxbXFxde31dKS9nLCBcIlxcXFwkMVwiIClcbiAgICAgICAgICAgICAucmVwbGFjZSggL1xcbi8sIFwiXFxcXG5cIiApO1xuICAgIHBhdHRlcm5zLnB1c2goIGkubGVuZ3RoID09IDEgPyBsIDogXCIoPzpcIiArIGwgKyBcIilcIiApO1xuICB9XG5cbiAgcGF0dGVybnMgPSBwYXR0ZXJucy5qb2luKFwifFwiKTtcbiAgZC5fX3BhdHRlcm5zX18gPSBwYXR0ZXJucztcbiAgLy9wcmludChcInBhdHRlcm5zOlwiLCB1bmV2YWwoIHBhdHRlcm5zICkgKTtcblxuICB2YXIgZm4gPSBkLl9fY2FsbF9fO1xuICBkLl9fY2FsbF9fID0gZnVuY3Rpb24odGV4dCwgcGF0dGVybikge1xuICAgIGlmICggcGF0dGVybiAhPSB1bmRlZmluZWQgKSB7XG4gICAgICByZXR1cm4gZm4uY2FsbCh0aGlzLCB0ZXh0LCBwYXR0ZXJuKTtcbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgIHJldHVybiBmbi5jYWxsKHRoaXMsIHRleHQsIHBhdHRlcm5zKTtcbiAgICB9XG4gIH07XG59O1xuXG5NYXJrZG93bi5EaWFsZWN0SGVscGVycyA9IHt9O1xuTWFya2Rvd24uRGlhbGVjdEhlbHBlcnMuaW5saW5lX3VudGlsX2NoYXIgPSBmdW5jdGlvbiggdGV4dCwgd2FudCApIHtcbiAgdmFyIGNvbnN1bWVkID0gMCxcbiAgICAgIG5vZGVzID0gW107XG5cbiAgd2hpbGUgKCB0cnVlICkge1xuICAgIGlmICggdGV4dC5jaGFyQXQoIGNvbnN1bWVkICkgPT0gd2FudCApIHtcbiAgICAgIC8vIEZvdW5kIHRoZSBjaGFyYWN0ZXIgd2Ugd2VyZSBsb29raW5nIGZvclxuICAgICAgY29uc3VtZWQrKztcbiAgICAgIHJldHVybiBbIGNvbnN1bWVkLCBub2RlcyBdO1xuICAgIH1cblxuICAgIGlmICggY29uc3VtZWQgPj0gdGV4dC5sZW5ndGggKSB7XG4gICAgICAvLyBObyBjbG9zaW5nIGNoYXIgZm91bmQuIEFib3J0LlxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgdmFyIHJlcyA9IHRoaXMuZGlhbGVjdC5pbmxpbmUuX19vbmVFbGVtZW50X18uY2FsbCh0aGlzLCB0ZXh0LnN1YnN0ciggY29uc3VtZWQgKSApO1xuICAgIGNvbnN1bWVkICs9IHJlc1sgMCBdO1xuICAgIC8vIEFkZCBhbnkgcmV0dXJuZWQgbm9kZXMuXG4gICAgbm9kZXMucHVzaC5hcHBseSggbm9kZXMsIHJlcy5zbGljZSggMSApICk7XG4gIH1cbn1cblxuLy8gSGVscGVyIGZ1bmN0aW9uIHRvIG1ha2Ugc3ViLWNsYXNzaW5nIGEgZGlhbGVjdCBlYXNpZXJcbk1hcmtkb3duLnN1YmNsYXNzRGlhbGVjdCA9IGZ1bmN0aW9uKCBkICkge1xuICBmdW5jdGlvbiBCbG9jaygpIHt9XG4gIEJsb2NrLnByb3RvdHlwZSA9IGQuYmxvY2s7XG4gIGZ1bmN0aW9uIElubGluZSgpIHt9XG4gIElubGluZS5wcm90b3R5cGUgPSBkLmlubGluZTtcblxuICByZXR1cm4geyBibG9jazogbmV3IEJsb2NrKCksIGlubGluZTogbmV3IElubGluZSgpIH07XG59O1xuXG5NYXJrZG93bi5idWlsZEJsb2NrT3JkZXIgKCBNYXJrZG93bi5kaWFsZWN0cy5HcnViZXIuYmxvY2sgKTtcbk1hcmtkb3duLmJ1aWxkSW5saW5lUGF0dGVybnMoIE1hcmtkb3duLmRpYWxlY3RzLkdydWJlci5pbmxpbmUgKTtcblxuTWFya2Rvd24uZGlhbGVjdHMuTWFydWt1ID0gTWFya2Rvd24uc3ViY2xhc3NEaWFsZWN0KCBNYXJrZG93bi5kaWFsZWN0cy5HcnViZXIgKTtcblxuTWFya2Rvd24uZGlhbGVjdHMuTWFydWt1LnByb2Nlc3NNZXRhSGFzaCA9IGZ1bmN0aW9uIHByb2Nlc3NNZXRhSGFzaCggbWV0YV9zdHJpbmcgKSB7XG4gIHZhciBtZXRhID0gc3BsaXRfbWV0YV9oYXNoKCBtZXRhX3N0cmluZyApLFxuICAgICAgYXR0ciA9IHt9O1xuXG4gIGZvciAoIHZhciBpID0gMDsgaSA8IG1ldGEubGVuZ3RoOyArK2kgKSB7XG4gICAgLy8gaWQ6ICNmb29cbiAgICBpZiAoIC9eIy8udGVzdCggbWV0YVsgaSBdICkgKSB7XG4gICAgICBhdHRyLmlkID0gbWV0YVsgaSBdLnN1YnN0cmluZyggMSApO1xuICAgIH1cbiAgICAvLyBjbGFzczogLmZvb1xuICAgIGVsc2UgaWYgKCAvXlxcLi8udGVzdCggbWV0YVsgaSBdICkgKSB7XG4gICAgICAvLyBpZiBjbGFzcyBhbHJlYWR5IGV4aXN0cywgYXBwZW5kIHRoZSBuZXcgb25lXG4gICAgICBpZiAoIGF0dHJbXCJjbGFzc1wiXSApIHtcbiAgICAgICAgYXR0cltcImNsYXNzXCJdID0gYXR0cltcImNsYXNzXCJdICsgbWV0YVsgaSBdLnJlcGxhY2UoIC8uLywgXCIgXCIgKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBhdHRyW1wiY2xhc3NcIl0gPSBtZXRhWyBpIF0uc3Vic3RyaW5nKCAxICk7XG4gICAgICB9XG4gICAgfVxuICAgIC8vIGF0dHJpYnV0ZTogZm9vPWJhclxuICAgIGVsc2UgaWYgKCAvXFw9Ly50ZXN0KCBtZXRhWyBpIF0gKSApIHtcbiAgICAgIHZhciBzID0gbWV0YVsgaSBdLnNwbGl0KCAvXFw9LyApO1xuICAgICAgYXR0clsgc1sgMCBdIF0gPSBzWyAxIF07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGF0dHI7XG59XG5cbmZ1bmN0aW9uIHNwbGl0X21ldGFfaGFzaCggbWV0YV9zdHJpbmcgKSB7XG4gIHZhciBtZXRhID0gbWV0YV9zdHJpbmcuc3BsaXQoIFwiXCIgKSxcbiAgICAgIHBhcnRzID0gWyBcIlwiIF0sXG4gICAgICBpbl9xdW90ZXMgPSBmYWxzZTtcblxuICB3aGlsZSAoIG1ldGEubGVuZ3RoICkge1xuICAgIHZhciBsZXR0ZXIgPSBtZXRhLnNoaWZ0KCk7XG4gICAgc3dpdGNoICggbGV0dGVyICkge1xuICAgICAgY2FzZSBcIiBcIiA6XG4gICAgICAgIC8vIGlmIHdlJ3JlIGluIGEgcXVvdGVkIHNlY3Rpb24sIGtlZXAgaXRcbiAgICAgICAgaWYgKCBpbl9xdW90ZXMgKSB7XG4gICAgICAgICAgcGFydHNbIHBhcnRzLmxlbmd0aCAtIDEgXSArPSBsZXR0ZXI7XG4gICAgICAgIH1cbiAgICAgICAgLy8gb3RoZXJ3aXNlIG1ha2UgYSBuZXcgcGFydFxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBwYXJ0cy5wdXNoKCBcIlwiICk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiJ1wiIDpcbiAgICAgIGNhc2UgJ1wiJyA6XG4gICAgICAgIC8vIHJldmVyc2UgdGhlIHF1b3RlcyBhbmQgbW92ZSBzdHJhaWdodCBvblxuICAgICAgICBpbl9xdW90ZXMgPSAhaW5fcXVvdGVzO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJcXFxcXCIgOlxuICAgICAgICAvLyBzaGlmdCBvZmYgdGhlIG5leHQgbGV0dGVyIHRvIGJlIHVzZWQgc3RyYWlnaHQgYXdheS5cbiAgICAgICAgLy8gaXQgd2FzIGVzY2FwZWQgc28gd2UnbGwga2VlcCBpdCB3aGF0ZXZlciBpdCBpc1xuICAgICAgICBsZXR0ZXIgPSBtZXRhLnNoaWZ0KCk7XG4gICAgICBkZWZhdWx0IDpcbiAgICAgICAgcGFydHNbIHBhcnRzLmxlbmd0aCAtIDEgXSArPSBsZXR0ZXI7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBwYXJ0cztcbn1cblxuTWFya2Rvd24uZGlhbGVjdHMuTWFydWt1LmJsb2NrLmRvY3VtZW50X21ldGEgPSBmdW5jdGlvbiBkb2N1bWVudF9tZXRhKCBibG9jaywgbmV4dCApIHtcbiAgLy8gd2UncmUgb25seSBpbnRlcmVzdGVkIGluIHRoZSBmaXJzdCBibG9ja1xuICBpZiAoIGJsb2NrLmxpbmVOdW1iZXIgPiAxICkgcmV0dXJuIHVuZGVmaW5lZDtcblxuICAvLyBkb2N1bWVudF9tZXRhIGJsb2NrcyBjb25zaXN0IG9mIG9uZSBvciBtb3JlIGxpbmVzIG9mIGBLZXk6IFZhbHVlXFxuYFxuICBpZiAoICEgYmxvY2subWF0Y2goIC9eKD86XFx3KzouKlxcbikqXFx3KzouKiQvICkgKSByZXR1cm4gdW5kZWZpbmVkO1xuXG4gIC8vIG1ha2UgYW4gYXR0cmlidXRlIG5vZGUgaWYgaXQgZG9lc24ndCBleGlzdFxuICBpZiAoICFleHRyYWN0X2F0dHIoIHRoaXMudHJlZSApICkge1xuICAgIHRoaXMudHJlZS5zcGxpY2UoIDEsIDAsIHt9ICk7XG4gIH1cblxuICB2YXIgcGFpcnMgPSBibG9jay5zcGxpdCggL1xcbi8gKTtcbiAgZm9yICggcCBpbiBwYWlycyApIHtcbiAgICB2YXIgbSA9IHBhaXJzWyBwIF0ubWF0Y2goIC8oXFx3Kyk6XFxzKiguKikkLyApLFxuICAgICAgICBrZXkgPSBtWyAxIF0udG9Mb3dlckNhc2UoKSxcbiAgICAgICAgdmFsdWUgPSBtWyAyIF07XG5cbiAgICB0aGlzLnRyZWVbIDEgXVsga2V5IF0gPSB2YWx1ZTtcbiAgfVxuXG4gIC8vIGRvY3VtZW50X21ldGEgcHJvZHVjZXMgbm8gY29udGVudCFcbiAgcmV0dXJuIFtdO1xufTtcblxuTWFya2Rvd24uZGlhbGVjdHMuTWFydWt1LmJsb2NrLmJsb2NrX21ldGEgPSBmdW5jdGlvbiBibG9ja19tZXRhKCBibG9jaywgbmV4dCApIHtcbiAgLy8gY2hlY2sgaWYgdGhlIGxhc3QgbGluZSBvZiB0aGUgYmxvY2sgaXMgYW4gbWV0YSBoYXNoXG4gIHZhciBtID0gYmxvY2subWF0Y2goIC8oXnxcXG4pIHswLDN9XFx7OlxccyooKD86XFxcXFxcfXxbXlxcfV0pKilcXHMqXFx9JC8gKTtcbiAgaWYgKCAhbSApIHJldHVybiB1bmRlZmluZWQ7XG5cbiAgLy8gcHJvY2VzcyB0aGUgbWV0YSBoYXNoXG4gIHZhciBhdHRyID0gdGhpcy5kaWFsZWN0LnByb2Nlc3NNZXRhSGFzaCggbVsgMiBdICk7XG5cbiAgdmFyIGhhc2g7XG5cbiAgLy8gaWYgd2UgbWF0Y2hlZCBeIHRoZW4gd2UgbmVlZCB0byBhcHBseSBtZXRhIHRvIHRoZSBwcmV2aW91cyBibG9ja1xuICBpZiAoIG1bIDEgXSA9PT0gXCJcIiApIHtcbiAgICB2YXIgbm9kZSA9IHRoaXMudHJlZVsgdGhpcy50cmVlLmxlbmd0aCAtIDEgXTtcbiAgICBoYXNoID0gZXh0cmFjdF9hdHRyKCBub2RlICk7XG5cbiAgICAvLyBpZiB0aGUgbm9kZSBpcyBhIHN0cmluZyAocmF0aGVyIHRoYW4gSnNvbk1MKSwgYmFpbFxuICAgIGlmICggdHlwZW9mIG5vZGUgPT09IFwic3RyaW5nXCIgKSByZXR1cm4gdW5kZWZpbmVkO1xuXG4gICAgLy8gY3JlYXRlIHRoZSBhdHRyaWJ1dGUgaGFzaCBpZiBpdCBkb2Vzbid0IGV4aXN0XG4gICAgaWYgKCAhaGFzaCApIHtcbiAgICAgIGhhc2ggPSB7fTtcbiAgICAgIG5vZGUuc3BsaWNlKCAxLCAwLCBoYXNoICk7XG4gICAgfVxuXG4gICAgLy8gYWRkIHRoZSBhdHRyaWJ1dGVzIGluXG4gICAgZm9yICggYSBpbiBhdHRyICkge1xuICAgICAgaGFzaFsgYSBdID0gYXR0clsgYSBdO1xuICAgIH1cblxuICAgIC8vIHJldHVybiBub3RoaW5nIHNvIHRoZSBtZXRhIGhhc2ggaXMgcmVtb3ZlZFxuICAgIHJldHVybiBbXTtcbiAgfVxuXG4gIC8vIHB1bGwgdGhlIG1ldGEgaGFzaCBvZmYgdGhlIGJsb2NrIGFuZCBwcm9jZXNzIHdoYXQncyBsZWZ0XG4gIHZhciBiID0gYmxvY2sucmVwbGFjZSggL1xcbi4qJC8sIFwiXCIgKSxcbiAgICAgIHJlc3VsdCA9IHRoaXMucHJvY2Vzc0Jsb2NrKCBiLCBbXSApO1xuXG4gIC8vIGdldCBvciBtYWtlIHRoZSBhdHRyaWJ1dGVzIGhhc2hcbiAgaGFzaCA9IGV4dHJhY3RfYXR0ciggcmVzdWx0WyAwIF0gKTtcbiAgaWYgKCAhaGFzaCApIHtcbiAgICBoYXNoID0ge307XG4gICAgcmVzdWx0WyAwIF0uc3BsaWNlKCAxLCAwLCBoYXNoICk7XG4gIH1cblxuICAvLyBhdHRhY2ggdGhlIGF0dHJpYnV0ZXMgdG8gdGhlIGJsb2NrXG4gIGZvciAoIGEgaW4gYXR0ciApIHtcbiAgICBoYXNoWyBhIF0gPSBhdHRyWyBhIF07XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuTWFya2Rvd24uZGlhbGVjdHMuTWFydWt1LmJsb2NrLmRlZmluaXRpb25fbGlzdCA9IGZ1bmN0aW9uIGRlZmluaXRpb25fbGlzdCggYmxvY2ssIG5leHQgKSB7XG4gIC8vIG9uZSBvciBtb3JlIHRlcm1zIGZvbGxvd2VkIGJ5IG9uZSBvciBtb3JlIGRlZmluaXRpb25zLCBpbiBhIHNpbmdsZSBibG9ja1xuICB2YXIgdGlnaHQgPSAvXigoPzpbXlxcczpdLipcXG4pKyk6XFxzKyhbXFxzXFxTXSspJC8sXG4gICAgICBsaXN0ID0gWyBcImRsXCIgXSxcbiAgICAgIGksIG07XG5cbiAgLy8gc2VlIGlmIHdlJ3JlIGRlYWxpbmcgd2l0aCBhIHRpZ2h0IG9yIGxvb3NlIGJsb2NrXG4gIGlmICggKCBtID0gYmxvY2subWF0Y2goIHRpZ2h0ICkgKSApIHtcbiAgICAvLyBwdWxsIHN1YnNlcXVlbnQgdGlnaHQgREwgYmxvY2tzIG91dCBvZiBgbmV4dGBcbiAgICB2YXIgYmxvY2tzID0gWyBibG9jayBdO1xuICAgIHdoaWxlICggbmV4dC5sZW5ndGggJiYgdGlnaHQuZXhlYyggbmV4dFsgMCBdICkgKSB7XG4gICAgICBibG9ja3MucHVzaCggbmV4dC5zaGlmdCgpICk7XG4gICAgfVxuXG4gICAgZm9yICggdmFyIGIgPSAwOyBiIDwgYmxvY2tzLmxlbmd0aDsgKytiICkge1xuICAgICAgdmFyIG0gPSBibG9ja3NbIGIgXS5tYXRjaCggdGlnaHQgKSxcbiAgICAgICAgICB0ZXJtcyA9IG1bIDEgXS5yZXBsYWNlKCAvXFxuJC8sIFwiXCIgKS5zcGxpdCggL1xcbi8gKSxcbiAgICAgICAgICBkZWZucyA9IG1bIDIgXS5zcGxpdCggL1xcbjpcXHMrLyApO1xuXG4gICAgICAvLyBwcmludCggdW5ldmFsKCBtICkgKTtcblxuICAgICAgZm9yICggaSA9IDA7IGkgPCB0ZXJtcy5sZW5ndGg7ICsraSApIHtcbiAgICAgICAgbGlzdC5wdXNoKCBbIFwiZHRcIiwgdGVybXNbIGkgXSBdICk7XG4gICAgICB9XG5cbiAgICAgIGZvciAoIGkgPSAwOyBpIDwgZGVmbnMubGVuZ3RoOyArK2kgKSB7XG4gICAgICAgIC8vIHJ1biBpbmxpbmUgcHJvY2Vzc2luZyBvdmVyIHRoZSBkZWZpbml0aW9uXG4gICAgICAgIGxpc3QucHVzaCggWyBcImRkXCIgXS5jb25jYXQoIHRoaXMucHJvY2Vzc0lubGluZSggZGVmbnNbIGkgXS5yZXBsYWNlKCAvKFxcbilcXHMrLywgXCIkMVwiICkgKSApICk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGVsc2Uge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cblxuICByZXR1cm4gWyBsaXN0IF07XG59O1xuXG4vLyBzcGxpdHMgb24gdW5lc2NhcGVkIGluc3RhbmNlcyBvZiBAY2guIElmIEBjaCBpcyBub3QgYSBjaGFyYWN0ZXIgdGhlIHJlc3VsdFxuLy8gY2FuIGJlIHVucHJlZGljdGFibGVcblxuTWFya2Rvd24uZGlhbGVjdHMuTWFydWt1LmJsb2NrLnRhYmxlID0gZnVuY3Rpb24gdGFibGUgKGJsb2NrLCBuZXh0KSB7XG5cbiAgICB2YXIgX3NwbGl0X29uX3VuZXNjYXBlZCA9IGZ1bmN0aW9uKHMsIGNoKSB7XG4gICAgICAgIGNoID0gY2ggfHwgJ1xcXFxzJztcbiAgICAgICAgaWYgKGNoLm1hdGNoKC9eW1xcXFx8XFxbXFxde30/Ki4rXiRdJC8pKSB7IGNoID0gJ1xcXFwnICsgY2g7IH1cbiAgICAgICAgdmFyIHJlcyA9IFsgXSxcbiAgICAgICAgICAgIHIgPSBuZXcgUmVnRXhwKCdeKCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcJyArIGNoICsgJ10pKiknICsgY2ggKyAnKC4qKScpLFxuICAgICAgICAgICAgbTtcbiAgICAgICAgd2hpbGUobSA9IHMubWF0Y2gocikpIHtcbiAgICAgICAgICAgIHJlcy5wdXNoKG1bMV0pO1xuICAgICAgICAgICAgcyA9IG1bMl07XG4gICAgICAgIH1cbiAgICAgICAgcmVzLnB1c2gocyk7XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfVxuXG4gICAgdmFyIGxlYWRpbmdfcGlwZSA9IC9eIHswLDN9XFx8KC4rKVxcbiB7MCwzfVxcfFxccyooW1xcLTpdK1tcXC18IDpdKilcXG4oKD86XFxzKlxcfC4qKD86XFxufCQpKSopKD89XFxufCQpLyxcbiAgICAgICAgLy8gZmluZCBhdCBsZWFzdCBhbiB1bmVzY2FwZWQgcGlwZSBpbiBlYWNoIGxpbmVcbiAgICAgICAgbm9fbGVhZGluZ19waXBlID0gL14gezAsM30oXFxTKD86XFxcXC58W15cXFxcfF0pKlxcfC4qKVxcbiB7MCwzfShbXFwtOl0rXFxzKlxcfFtcXC18IDpdKilcXG4oKD86KD86XFxcXC58W15cXFxcfF0pKlxcfC4qKD86XFxufCQpKSopKD89XFxufCQpLyxcbiAgICAgICAgaSwgbTtcbiAgICBpZiAobSA9IGJsb2NrLm1hdGNoKGxlYWRpbmdfcGlwZSkpIHtcbiAgICAgICAgLy8gcmVtb3ZlIGxlYWRpbmcgcGlwZXMgaW4gY29udGVudHNcbiAgICAgICAgLy8gKGhlYWRlciBhbmQgaG9yaXpvbnRhbCBydWxlIGFscmVhZHkgaGF2ZSB0aGUgbGVhZGluZyBwaXBlIGxlZnQgb3V0KVxuICAgICAgICBtWzNdID0gbVszXS5yZXBsYWNlKC9eXFxzKlxcfC9nbSwgJycpO1xuICAgIH0gZWxzZSBpZiAoISAoIG0gPSBibG9jay5tYXRjaChub19sZWFkaW5nX3BpcGUpKSkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIHZhciB0YWJsZSA9IFsgXCJ0YWJsZVwiLCBbIFwidGhlYWRcIiwgWyBcInRyXCIgXSBdLCBbIFwidGJvZHlcIiBdIF07XG5cbiAgICAvLyByZW1vdmUgdHJhaWxpbmcgcGlwZXMsIHRoZW4gc3BsaXQgb24gcGlwZXNcbiAgICAvLyAobm8gZXNjYXBlZCBwaXBlcyBhcmUgYWxsb3dlZCBpbiBob3Jpem9udGFsIHJ1bGUpXG4gICAgbVsyXSA9IG1bMl0ucmVwbGFjZSgvXFx8XFxzKiQvLCAnJykuc3BsaXQoJ3wnKTtcblxuICAgIC8vIHByb2Nlc3MgYWxpZ25tZW50XG4gICAgdmFyIGh0bWxfYXR0cnMgPSBbIF07XG4gICAgZm9yRWFjaCAobVsyXSwgZnVuY3Rpb24gKHMpIHtcbiAgICAgICAgaWYgKHMubWF0Y2goL15cXHMqLSs6XFxzKiQvKSkgICAgICAgaHRtbF9hdHRycy5wdXNoKHthbGlnbjogXCJyaWdodFwifSk7XG4gICAgICAgIGVsc2UgaWYgKHMubWF0Y2goL15cXHMqOi0rXFxzKiQvKSkgIGh0bWxfYXR0cnMucHVzaCh7YWxpZ246IFwibGVmdFwifSk7XG4gICAgICAgIGVsc2UgaWYgKHMubWF0Y2goL15cXHMqOi0rOlxccyokLykpIGh0bWxfYXR0cnMucHVzaCh7YWxpZ246IFwiY2VudGVyXCJ9KTtcbiAgICAgICAgZWxzZSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh0bWxfYXR0cnMucHVzaCh7fSk7XG4gICAgfSk7XG5cbiAgICAvLyBub3cgZm9yIHRoZSBoZWFkZXIsIGF2b2lkIGVzY2FwZWQgcGlwZXNcbiAgICBtWzFdID0gX3NwbGl0X29uX3VuZXNjYXBlZChtWzFdLnJlcGxhY2UoL1xcfFxccyokLywgJycpLCAnfCcpO1xuICAgIGZvciAoaSA9IDA7IGkgPCBtWzFdLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHRhYmxlWzFdWzFdLnB1c2goWyd0aCcsIGh0bWxfYXR0cnNbaV0gfHwge31dLmNvbmNhdChcbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc0lubGluZShtWzFdW2ldLnRyaW0oKSkpKTtcbiAgICB9XG5cbiAgICAvLyBub3cgZm9yIGJvZHkgY29udGVudHNcbiAgICBmb3JFYWNoIChtWzNdLnJlcGxhY2UoL1xcfFxccyokL21nLCAnJykuc3BsaXQoJ1xcbicpLCBmdW5jdGlvbiAocm93KSB7XG4gICAgICAgIHZhciBodG1sX3JvdyA9IFsndHInXTtcbiAgICAgICAgcm93ID0gX3NwbGl0X29uX3VuZXNjYXBlZChyb3csICd8Jyk7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCByb3cubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGh0bWxfcm93LnB1c2goWyd0ZCcsIGh0bWxfYXR0cnNbaV0gfHwge31dLmNvbmNhdCh0aGlzLnByb2Nlc3NJbmxpbmUocm93W2ldLnRyaW0oKSkpKTtcbiAgICAgICAgfVxuICAgICAgICB0YWJsZVsyXS5wdXNoKGh0bWxfcm93KTtcbiAgICB9LCB0aGlzKTtcblxuICAgIHJldHVybiBbdGFibGVdO1xufVxuXG5NYXJrZG93bi5kaWFsZWN0cy5NYXJ1a3UuaW5saW5lWyBcIns6XCIgXSA9IGZ1bmN0aW9uIGlubGluZV9tZXRhKCB0ZXh0LCBtYXRjaGVzLCBvdXQgKSB7XG4gIGlmICggIW91dC5sZW5ndGggKSB7XG4gICAgcmV0dXJuIFsgMiwgXCJ7OlwiIF07XG4gIH1cblxuICAvLyBnZXQgdGhlIHByZWNlZWRpbmcgZWxlbWVudFxuICB2YXIgYmVmb3JlID0gb3V0WyBvdXQubGVuZ3RoIC0gMSBdO1xuXG4gIGlmICggdHlwZW9mIGJlZm9yZSA9PT0gXCJzdHJpbmdcIiApIHtcbiAgICByZXR1cm4gWyAyLCBcIns6XCIgXTtcbiAgfVxuXG4gIC8vIG1hdGNoIGEgbWV0YSBoYXNoXG4gIHZhciBtID0gdGV4dC5tYXRjaCggL15cXHs6XFxzKigoPzpcXFxcXFx9fFteXFx9XSkqKVxccypcXH0vICk7XG5cbiAgLy8gbm8gbWF0Y2gsIGZhbHNlIGFsYXJtXG4gIGlmICggIW0gKSB7XG4gICAgcmV0dXJuIFsgMiwgXCJ7OlwiIF07XG4gIH1cblxuICAvLyBhdHRhY2ggdGhlIGF0dHJpYnV0ZXMgdG8gdGhlIHByZWNlZWRpbmcgZWxlbWVudFxuICB2YXIgbWV0YSA9IHRoaXMuZGlhbGVjdC5wcm9jZXNzTWV0YUhhc2goIG1bIDEgXSApLFxuICAgICAgYXR0ciA9IGV4dHJhY3RfYXR0ciggYmVmb3JlICk7XG5cbiAgaWYgKCAhYXR0ciApIHtcbiAgICBhdHRyID0ge307XG4gICAgYmVmb3JlLnNwbGljZSggMSwgMCwgYXR0ciApO1xuICB9XG5cbiAgZm9yICggdmFyIGsgaW4gbWV0YSApIHtcbiAgICBhdHRyWyBrIF0gPSBtZXRhWyBrIF07XG4gIH1cblxuICAvLyBjdXQgb3V0IHRoZSBzdHJpbmcgYW5kIHJlcGxhY2UgaXQgd2l0aCBub3RoaW5nXG4gIHJldHVybiBbIG1bIDAgXS5sZW5ndGgsIFwiXCIgXTtcbn07XG5cbk1hcmtkb3duLmRpYWxlY3RzLk1hcnVrdS5pbmxpbmUuX19lc2NhcGVfXyA9IC9eXFxcXFtcXFxcYFxcKl97fVxcW1xcXSgpI1xcKy4hXFwtfDpdLztcblxuTWFya2Rvd24uYnVpbGRCbG9ja09yZGVyICggTWFya2Rvd24uZGlhbGVjdHMuTWFydWt1LmJsb2NrICk7XG5NYXJrZG93bi5idWlsZElubGluZVBhdHRlcm5zKCBNYXJrZG93bi5kaWFsZWN0cy5NYXJ1a3UuaW5saW5lICk7XG5cbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbihvYmopIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopID09IFwiW29iamVjdCBBcnJheV1cIjtcbn07XG5cbnZhciBmb3JFYWNoO1xuLy8gRG9uJ3QgbWVzcyB3aXRoIEFycmF5LnByb3RvdHlwZS4gSXRzIG5vdCBmcmllbmRseVxuaWYgKCBBcnJheS5wcm90b3R5cGUuZm9yRWFjaCApIHtcbiAgZm9yRWFjaCA9IGZ1bmN0aW9uKCBhcnIsIGNiLCB0aGlzcCApIHtcbiAgICByZXR1cm4gYXJyLmZvckVhY2goIGNiLCB0aGlzcCApO1xuICB9O1xufVxuZWxzZSB7XG4gIGZvckVhY2ggPSBmdW5jdGlvbihhcnIsIGNiLCB0aGlzcCkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjYi5jYWxsKHRoaXNwIHx8IGFyciwgYXJyW2ldLCBpLCBhcnIpO1xuICAgIH1cbiAgfVxufVxuXG52YXIgaXNFbXB0eSA9IGZ1bmN0aW9uKCBvYmogKSB7XG4gIGZvciAoIHZhciBrZXkgaW4gb2JqICkge1xuICAgIGlmICggaGFzT3duUHJvcGVydHkuY2FsbCggb2JqLCBrZXkgKSApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gZXh0cmFjdF9hdHRyKCBqc29ubWwgKSB7XG4gIHJldHVybiBpc0FycmF5KGpzb25tbClcbiAgICAgICYmIGpzb25tbC5sZW5ndGggPiAxXG4gICAgICAmJiB0eXBlb2YganNvbm1sWyAxIF0gPT09IFwib2JqZWN0XCJcbiAgICAgICYmICEoIGlzQXJyYXkoanNvbm1sWyAxIF0pIClcbiAgICAgID8ganNvbm1sWyAxIF1cbiAgICAgIDogdW5kZWZpbmVkO1xufVxuXG5cblxuLyoqXG4gKiAgcmVuZGVySnNvbk1MKCBqc29ubWxbLCBvcHRpb25zXSApIC0+IFN0cmluZ1xuICogIC0ganNvbm1sIChBcnJheSk6IEpzb25NTCBhcnJheSB0byByZW5kZXIgdG8gWE1MXG4gKiAgLSBvcHRpb25zIChPYmplY3QpOiBvcHRpb25zXG4gKlxuICogIENvbnZlcnRzIHRoZSBnaXZlbiBKc29uTUwgaW50byB3ZWxsLWZvcm1lZCBYTUwuXG4gKlxuICogIFRoZSBvcHRpb25zIGN1cnJlbnRseSB1bmRlcnN0b29kIGFyZTpcbiAqXG4gKiAgLSByb290IChCb29sZWFuKTogd2V0aGVyIG9yIG5vdCB0aGUgcm9vdCBub2RlIHNob3VsZCBiZSBpbmNsdWRlZCBpbiB0aGVcbiAqICAgIG91dHB1dCwgb3IganVzdCBpdHMgY2hpbGRyZW4uIFRoZSBkZWZhdWx0IGBmYWxzZWAgaXMgdG8gbm90IGluY2x1ZGUgdGhlXG4gKiAgICByb290IGl0c2VsZi5cbiAqL1xuZXhwb3NlLnJlbmRlckpzb25NTCA9IGZ1bmN0aW9uKCBqc29ubWwsIG9wdGlvbnMgKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAvLyBpbmNsdWRlIHRoZSByb290IGVsZW1lbnQgaW4gdGhlIHJlbmRlcmVkIG91dHB1dD9cbiAgb3B0aW9ucy5yb290ID0gb3B0aW9ucy5yb290IHx8IGZhbHNlO1xuXG4gIHZhciBjb250ZW50ID0gW107XG5cbiAgaWYgKCBvcHRpb25zLnJvb3QgKSB7XG4gICAgY29udGVudC5wdXNoKCByZW5kZXJfdHJlZSgganNvbm1sICkgKTtcbiAgfVxuICBlbHNlIHtcbiAgICBqc29ubWwuc2hpZnQoKTsgLy8gZ2V0IHJpZCBvZiB0aGUgdGFnXG4gICAgaWYgKCBqc29ubWwubGVuZ3RoICYmIHR5cGVvZiBqc29ubWxbIDAgXSA9PT0gXCJvYmplY3RcIiAmJiAhKCBqc29ubWxbIDAgXSBpbnN0YW5jZW9mIEFycmF5ICkgKSB7XG4gICAgICBqc29ubWwuc2hpZnQoKTsgLy8gZ2V0IHJpZCBvZiB0aGUgYXR0cmlidXRlc1xuICAgIH1cblxuICAgIHdoaWxlICgganNvbm1sLmxlbmd0aCApIHtcbiAgICAgIGNvbnRlbnQucHVzaCggcmVuZGVyX3RyZWUoIGpzb25tbC5zaGlmdCgpICkgKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gY29udGVudC5qb2luKCBcIlxcblxcblwiICk7XG59O1xuXG5mdW5jdGlvbiBlc2NhcGVIVE1MKCB0ZXh0ICkge1xuICByZXR1cm4gdGV4dC5yZXBsYWNlKCAvJi9nLCBcIiZhbXA7XCIgKVxuICAgICAgICAgICAgIC5yZXBsYWNlKCAvPC9nLCBcIiZsdDtcIiApXG4gICAgICAgICAgICAgLnJlcGxhY2UoIC8+L2csIFwiJmd0O1wiIClcbiAgICAgICAgICAgICAucmVwbGFjZSggL1wiL2csIFwiJnF1b3Q7XCIgKVxuICAgICAgICAgICAgIC5yZXBsYWNlKCAvJy9nLCBcIiYjMzk7XCIgKTtcbn1cblxuZnVuY3Rpb24gcmVuZGVyX3RyZWUoIGpzb25tbCApIHtcbiAgLy8gYmFzaWMgY2FzZVxuICBpZiAoIHR5cGVvZiBqc29ubWwgPT09IFwic3RyaW5nXCIgKSB7XG4gICAgcmV0dXJuIGVzY2FwZUhUTUwoIGpzb25tbCApO1xuICB9XG5cbiAgdmFyIHRhZyA9IGpzb25tbC5zaGlmdCgpLFxuICAgICAgYXR0cmlidXRlcyA9IHt9LFxuICAgICAgY29udGVudCA9IFtdO1xuXG4gIGlmICgganNvbm1sLmxlbmd0aCAmJiB0eXBlb2YganNvbm1sWyAwIF0gPT09IFwib2JqZWN0XCIgJiYgISgganNvbm1sWyAwIF0gaW5zdGFuY2VvZiBBcnJheSApICkge1xuICAgIGF0dHJpYnV0ZXMgPSBqc29ubWwuc2hpZnQoKTtcbiAgfVxuXG4gIHdoaWxlICgganNvbm1sLmxlbmd0aCApIHtcbiAgICBjb250ZW50LnB1c2goIHJlbmRlcl90cmVlKCBqc29ubWwuc2hpZnQoKSApICk7XG4gIH1cblxuICB2YXIgdGFnX2F0dHJzID0gXCJcIjtcbiAgZm9yICggdmFyIGEgaW4gYXR0cmlidXRlcyApIHtcbiAgICB0YWdfYXR0cnMgKz0gXCIgXCIgKyBhICsgJz1cIicgKyBlc2NhcGVIVE1MKCBhdHRyaWJ1dGVzWyBhIF0gKSArICdcIic7XG4gIH1cblxuICAvLyBiZSBjYXJlZnVsIGFib3V0IGFkZGluZyB3aGl0ZXNwYWNlIGhlcmUgZm9yIGlubGluZSBlbGVtZW50c1xuICBpZiAoIHRhZyA9PSBcImltZ1wiIHx8IHRhZyA9PSBcImJyXCIgfHwgdGFnID09IFwiaHJcIiApIHtcbiAgICByZXR1cm4gXCI8XCIrIHRhZyArIHRhZ19hdHRycyArIFwiLz5cIjtcbiAgfVxuICBlbHNlIHtcbiAgICByZXR1cm4gXCI8XCIrIHRhZyArIHRhZ19hdHRycyArIFwiPlwiICsgY29udGVudC5qb2luKCBcIlwiICkgKyBcIjwvXCIgKyB0YWcgKyBcIj5cIjtcbiAgfVxufVxuXG5mdW5jdGlvbiBjb252ZXJ0X3RyZWVfdG9faHRtbCggdHJlZSwgcmVmZXJlbmNlcywgb3B0aW9ucyApIHtcbiAgdmFyIGk7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gIC8vIHNoYWxsb3cgY2xvbmVcbiAgdmFyIGpzb25tbCA9IHRyZWUuc2xpY2UoIDAgKTtcblxuICBpZiAoIHR5cGVvZiBvcHRpb25zLnByZXByb2Nlc3NUcmVlTm9kZSA9PT0gXCJmdW5jdGlvblwiICkge1xuICAgICAganNvbm1sID0gb3B0aW9ucy5wcmVwcm9jZXNzVHJlZU5vZGUoanNvbm1sLCByZWZlcmVuY2VzKTtcbiAgfVxuXG4gIC8vIENsb25lIGF0dHJpYnV0ZXMgaWYgdGhleSBleGlzdFxuICB2YXIgYXR0cnMgPSBleHRyYWN0X2F0dHIoIGpzb25tbCApO1xuICBpZiAoIGF0dHJzICkge1xuICAgIGpzb25tbFsgMSBdID0ge307XG4gICAgZm9yICggaSBpbiBhdHRycyApIHtcbiAgICAgIGpzb25tbFsgMSBdWyBpIF0gPSBhdHRyc1sgaSBdO1xuICAgIH1cbiAgICBhdHRycyA9IGpzb25tbFsgMSBdO1xuICB9XG5cbiAgLy8gYmFzaWMgY2FzZVxuICBpZiAoIHR5cGVvZiBqc29ubWwgPT09IFwic3RyaW5nXCIgKSB7XG4gICAgcmV0dXJuIGpzb25tbDtcbiAgfVxuXG4gIC8vIGNvbnZlcnQgdGhpcyBub2RlXG4gIHN3aXRjaCAoIGpzb25tbFsgMCBdICkge1xuICAgIGNhc2UgXCJoZWFkZXJcIjpcbiAgICAgIGpzb25tbFsgMCBdID0gXCJoXCIgKyBqc29ubWxbIDEgXS5sZXZlbDtcbiAgICAgIGRlbGV0ZSBqc29ubWxbIDEgXS5sZXZlbDtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJidWxsZXRsaXN0XCI6XG4gICAgICBqc29ubWxbIDAgXSA9IFwidWxcIjtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJudW1iZXJsaXN0XCI6XG4gICAgICBqc29ubWxbIDAgXSA9IFwib2xcIjtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJsaXN0aXRlbVwiOlxuICAgICAganNvbm1sWyAwIF0gPSBcImxpXCI7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwicGFyYVwiOlxuICAgICAganNvbm1sWyAwIF0gPSBcInBcIjtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJtYXJrZG93blwiOlxuICAgICAganNvbm1sWyAwIF0gPSBcImh0bWxcIjtcbiAgICAgIGlmICggYXR0cnMgKSBkZWxldGUgYXR0cnMucmVmZXJlbmNlcztcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJjb2RlX2Jsb2NrXCI6XG4gICAgICBqc29ubWxbIDAgXSA9IFwicHJlXCI7XG4gICAgICBpID0gYXR0cnMgPyAyIDogMTtcbiAgICAgIHZhciBjb2RlID0gWyBcImNvZGVcIiBdO1xuICAgICAgY29kZS5wdXNoLmFwcGx5KCBjb2RlLCBqc29ubWwuc3BsaWNlKCBpLCBqc29ubWwubGVuZ3RoIC0gaSApICk7XG4gICAgICBqc29ubWxbIGkgXSA9IGNvZGU7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwiaW5saW5lY29kZVwiOlxuICAgICAganNvbm1sWyAwIF0gPSBcImNvZGVcIjtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJpbWdcIjpcbiAgICAgIGpzb25tbFsgMSBdLnNyYyA9IGpzb25tbFsgMSBdLmhyZWY7XG4gICAgICBkZWxldGUganNvbm1sWyAxIF0uaHJlZjtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJsaW5lYnJlYWtcIjpcbiAgICAgIGpzb25tbFsgMCBdID0gXCJiclwiO1xuICAgIGJyZWFrO1xuICAgIGNhc2UgXCJsaW5rXCI6XG4gICAgICBqc29ubWxbIDAgXSA9IFwiYVwiO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcImxpbmtfcmVmXCI6XG4gICAgICBqc29ubWxbIDAgXSA9IFwiYVwiO1xuXG4gICAgICAvLyBncmFiIHRoaXMgcmVmIGFuZCBjbGVhbiB1cCB0aGUgYXR0cmlidXRlIG5vZGVcbiAgICAgIHZhciByZWYgPSByZWZlcmVuY2VzWyBhdHRycy5yZWYgXTtcblxuICAgICAgLy8gaWYgdGhlIHJlZmVyZW5jZSBleGlzdHMsIG1ha2UgdGhlIGxpbmtcbiAgICAgIGlmICggcmVmICkge1xuICAgICAgICBkZWxldGUgYXR0cnMucmVmO1xuXG4gICAgICAgIC8vIGFkZCBpbiB0aGUgaHJlZiBhbmQgdGl0bGUsIGlmIHByZXNlbnRcbiAgICAgICAgYXR0cnMuaHJlZiA9IHJlZi5ocmVmO1xuICAgICAgICBpZiAoIHJlZi50aXRsZSApIHtcbiAgICAgICAgICBhdHRycy50aXRsZSA9IHJlZi50aXRsZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGdldCByaWQgb2YgdGhlIHVubmVlZGVkIG9yaWdpbmFsIHRleHRcbiAgICAgICAgZGVsZXRlIGF0dHJzLm9yaWdpbmFsO1xuICAgICAgfVxuICAgICAgLy8gdGhlIHJlZmVyZW5jZSBkb2Vzbid0IGV4aXN0LCBzbyByZXZlcnQgdG8gcGxhaW4gdGV4dFxuICAgICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBhdHRycy5vcmlnaW5hbDtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJpbWdfcmVmXCI6XG4gICAgICBqc29ubWxbIDAgXSA9IFwiaW1nXCI7XG5cbiAgICAgIC8vIGdyYWIgdGhpcyByZWYgYW5kIGNsZWFuIHVwIHRoZSBhdHRyaWJ1dGUgbm9kZVxuICAgICAgdmFyIHJlZiA9IHJlZmVyZW5jZXNbIGF0dHJzLnJlZiBdO1xuXG4gICAgICAvLyBpZiB0aGUgcmVmZXJlbmNlIGV4aXN0cywgbWFrZSB0aGUgbGlua1xuICAgICAgaWYgKCByZWYgKSB7XG4gICAgICAgIGRlbGV0ZSBhdHRycy5yZWY7XG5cbiAgICAgICAgLy8gYWRkIGluIHRoZSBocmVmIGFuZCB0aXRsZSwgaWYgcHJlc2VudFxuICAgICAgICBhdHRycy5zcmMgPSByZWYuaHJlZjtcbiAgICAgICAgaWYgKCByZWYudGl0bGUgKSB7XG4gICAgICAgICAgYXR0cnMudGl0bGUgPSByZWYudGl0bGU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBnZXQgcmlkIG9mIHRoZSB1bm5lZWRlZCBvcmlnaW5hbCB0ZXh0XG4gICAgICAgIGRlbGV0ZSBhdHRycy5vcmlnaW5hbDtcbiAgICAgIH1cbiAgICAgIC8vIHRoZSByZWZlcmVuY2UgZG9lc24ndCBleGlzdCwgc28gcmV2ZXJ0IHRvIHBsYWluIHRleHRcbiAgICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gYXR0cnMub3JpZ2luYWw7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgfVxuXG4gIC8vIGNvbnZlcnQgYWxsIHRoZSBjaGlsZHJlblxuICBpID0gMTtcblxuICAvLyBkZWFsIHdpdGggdGhlIGF0dHJpYnV0ZSBub2RlLCBpZiBpdCBleGlzdHNcbiAgaWYgKCBhdHRycyApIHtcbiAgICAvLyBpZiB0aGVyZSBhcmUga2V5cywgc2tpcCBvdmVyIGl0XG4gICAgZm9yICggdmFyIGtleSBpbiBqc29ubWxbIDEgXSApIHtcbiAgICAgICAgaSA9IDI7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICAvLyBpZiB0aGVyZSBhcmVuJ3QsIHJlbW92ZSBpdFxuICAgIGlmICggaSA9PT0gMSApIHtcbiAgICAgIGpzb25tbC5zcGxpY2UoIGksIDEgKTtcbiAgICB9XG4gIH1cblxuICBmb3IgKCA7IGkgPCBqc29ubWwubGVuZ3RoOyArK2kgKSB7XG4gICAganNvbm1sWyBpIF0gPSBjb252ZXJ0X3RyZWVfdG9faHRtbCgganNvbm1sWyBpIF0sIHJlZmVyZW5jZXMsIG9wdGlvbnMgKTtcbiAgfVxuXG4gIHJldHVybiBqc29ubWw7XG59XG5cblxuLy8gbWVyZ2VzIGFkamFjZW50IHRleHQgbm9kZXMgaW50byBhIHNpbmdsZSBub2RlXG5mdW5jdGlvbiBtZXJnZV90ZXh0X25vZGVzKCBqc29ubWwgKSB7XG4gIC8vIHNraXAgdGhlIHRhZyBuYW1lIGFuZCBhdHRyaWJ1dGUgaGFzaFxuICB2YXIgaSA9IGV4dHJhY3RfYXR0cigganNvbm1sICkgPyAyIDogMTtcblxuICB3aGlsZSAoIGkgPCBqc29ubWwubGVuZ3RoICkge1xuICAgIC8vIGlmIGl0J3MgYSBzdHJpbmcgY2hlY2sgdGhlIG5leHQgaXRlbSB0b29cbiAgICBpZiAoIHR5cGVvZiBqc29ubWxbIGkgXSA9PT0gXCJzdHJpbmdcIiApIHtcbiAgICAgIGlmICggaSArIDEgPCBqc29ubWwubGVuZ3RoICYmIHR5cGVvZiBqc29ubWxbIGkgKyAxIF0gPT09IFwic3RyaW5nXCIgKSB7XG4gICAgICAgIC8vIG1lcmdlIHRoZSBzZWNvbmQgc3RyaW5nIGludG8gdGhlIGZpcnN0IGFuZCByZW1vdmUgaXRcbiAgICAgICAganNvbm1sWyBpIF0gKz0ganNvbm1sLnNwbGljZSggaSArIDEsIDEgKVsgMCBdO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgICsraTtcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gaWYgaXQncyBub3QgYSBzdHJpbmcgcmVjdXJzZVxuICAgIGVsc2Uge1xuICAgICAgbWVyZ2VfdGV4dF9ub2RlcygganNvbm1sWyBpIF0gKTtcbiAgICAgICsraTtcbiAgICB9XG4gIH1cbn1cblxufSApKCAoZnVuY3Rpb24oKSB7XG4gIGlmICggdHlwZW9mIGV4cG9ydHMgPT09IFwidW5kZWZpbmVkXCIgKSB7XG4gICAgd2luZG93Lm1hcmtkb3duID0ge307XG4gICAgcmV0dXJuIHdpbmRvdy5tYXJrZG93bjtcbiAgfVxuICBlbHNlIHtcbiAgICByZXR1cm4gZXhwb3J0cztcbiAgfVxufSApKCkgKTtcbiIsIi8qKiBAbGljZW5zZVxyXG4gKlxyXG4gKiBTb3VuZE1hbmFnZXIgMjogSmF2YVNjcmlwdCBTb3VuZCBmb3IgdGhlIFdlYlxyXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAqIGh0dHA6Ly9zY2hpbGxtYW5pYS5jb20vcHJvamVjdHMvc291bmRtYW5hZ2VyMi9cclxuICpcclxuICogQ29weXJpZ2h0IChjKSAyMDA3LCBTY290dCBTY2hpbGxlci4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICogQ29kZSBwcm92aWRlZCB1bmRlciB0aGUgQlNEIExpY2Vuc2U6XHJcbiAqIGh0dHA6Ly9zY2hpbGxtYW5pYS5jb20vcHJvamVjdHMvc291bmRtYW5hZ2VyMi9saWNlbnNlLnR4dFxyXG4gKlxyXG4gKiBWMi45N2EuMjAxNzA2MDFcclxuICovXHJcblxyXG4oZnVuY3Rpb24gU00yKHdpbmRvdywgX3VuZGVmaW5lZCkge1xyXG4ndXNlIHN0cmljdCc7XHJcbmlmICghd2luZG93IHx8ICF3aW5kb3cuZG9jdW1lbnQpIHtcclxuICB0aHJvdyBuZXcgRXJyb3IoJ1NvdW5kTWFuYWdlciByZXF1aXJlcyBhIGJyb3dzZXIgd2l0aCB3aW5kb3cgYW5kIGRvY3VtZW50IG9iamVjdHMuJyk7XHJcbn1cclxudmFyIHNvdW5kTWFuYWdlciA9IG51bGw7XHJcbmZ1bmN0aW9uIFNvdW5kTWFuYWdlcihzbVVSTCwgc21JRCkge1xyXG4gIHRoaXMuc2V0dXBPcHRpb25zID0ge1xyXG4gICAgdXJsOiAoc21VUkwgfHwgbnVsbCksXHJcbiAgICBmbGFzaFZlcnNpb246IDgsXHJcbiAgICBkZWJ1Z01vZGU6IHRydWUsXHJcbiAgICBkZWJ1Z0ZsYXNoOiBmYWxzZSxcclxuICAgIHVzZUNvbnNvbGU6IHRydWUsXHJcbiAgICBjb25zb2xlT25seTogdHJ1ZSxcclxuICAgIHdhaXRGb3JXaW5kb3dMb2FkOiBmYWxzZSxcclxuICAgIGJnQ29sb3I6ICcjZmZmZmZmJyxcclxuICAgIHVzZUhpZ2hQZXJmb3JtYW5jZTogZmFsc2UsXHJcbiAgICBmbGFzaFBvbGxpbmdJbnRlcnZhbDogbnVsbCxcclxuICAgIGh0bWw1UG9sbGluZ0ludGVydmFsOiBudWxsLFxyXG4gICAgZmxhc2hMb2FkVGltZW91dDogMTAwMCxcclxuICAgIHdtb2RlOiBudWxsLFxyXG4gICAgYWxsb3dTY3JpcHRBY2Nlc3M6ICdhbHdheXMnLFxyXG4gICAgdXNlRmxhc2hCbG9jazogZmFsc2UsXHJcbiAgICB1c2VIVE1MNUF1ZGlvOiB0cnVlLFxyXG4gICAgZm9yY2VVc2VHbG9iYWxIVE1MNUF1ZGlvOiBmYWxzZSxcclxuICAgIGlnbm9yZU1vYmlsZVJlc3RyaWN0aW9uczogZmFsc2UsXHJcbiAgICBodG1sNVRlc3Q6IC9eKHByb2JhYmx5fG1heWJlKSQvaSxcclxuICAgIHByZWZlckZsYXNoOiBmYWxzZSxcclxuICAgIG5vU1dGQ2FjaGU6IGZhbHNlLFxyXG4gICAgaWRQcmVmaXg6ICdzb3VuZCdcclxuICB9O1xyXG4gIHRoaXMuZGVmYXVsdE9wdGlvbnMgPSB7XHJcbiAgICBhdXRvTG9hZDogZmFsc2UsXHJcbiAgICBhdXRvUGxheTogZmFsc2UsXHJcbiAgICBmcm9tOiBudWxsLFxyXG4gICAgbG9vcHM6IDEsXHJcbiAgICBvbmlkMzogbnVsbCxcclxuICAgIG9uZXJyb3I6IG51bGwsXHJcbiAgICBvbmxvYWQ6IG51bGwsXHJcbiAgICB3aGlsZWxvYWRpbmc6IG51bGwsXHJcbiAgICBvbnBsYXk6IG51bGwsXHJcbiAgICBvbnBhdXNlOiBudWxsLFxyXG4gICAgb25yZXN1bWU6IG51bGwsXHJcbiAgICB3aGlsZXBsYXlpbmc6IG51bGwsXHJcbiAgICBvbnBvc2l0aW9uOiBudWxsLFxyXG4gICAgb25zdG9wOiBudWxsLFxyXG4gICAgb25maW5pc2g6IG51bGwsXHJcbiAgICBtdWx0aVNob3Q6IHRydWUsXHJcbiAgICBtdWx0aVNob3RFdmVudHM6IGZhbHNlLFxyXG4gICAgcG9zaXRpb246IG51bGwsXHJcbiAgICBwYW46IDAsXHJcbiAgICBwbGF5YmFja1JhdGU6IDEsXHJcbiAgICBzdHJlYW06IHRydWUsXHJcbiAgICB0bzogbnVsbCxcclxuICAgIHR5cGU6IG51bGwsXHJcbiAgICB1c2VQb2xpY3lGaWxlOiBmYWxzZSxcclxuICAgIHZvbHVtZTogMTAwXHJcbiAgfTtcclxuICB0aGlzLmZsYXNoOU9wdGlvbnMgPSB7XHJcbiAgICBvbmZhaWx1cmU6IG51bGwsXHJcbiAgICBpc01vdmllU3RhcjogbnVsbCxcclxuICAgIHVzZVBlYWtEYXRhOiBmYWxzZSxcclxuICAgIHVzZVdhdmVmb3JtRGF0YTogZmFsc2UsXHJcbiAgICB1c2VFUURhdGE6IGZhbHNlLFxyXG4gICAgb25idWZmZXJjaGFuZ2U6IG51bGwsXHJcbiAgICBvbmRhdGFlcnJvcjogbnVsbFxyXG4gIH07XHJcbiAgdGhpcy5tb3ZpZVN0YXJPcHRpb25zID0ge1xyXG4gICAgYnVmZmVyVGltZTogMyxcclxuICAgIHNlcnZlclVSTDogbnVsbCxcclxuICAgIG9uY29ubmVjdDogbnVsbCxcclxuICAgIGR1cmF0aW9uOiBudWxsXHJcbiAgfTtcclxuICB0aGlzLmF1ZGlvRm9ybWF0cyA9IHtcclxuICAgIG1wMzoge1xyXG4gICAgICB0eXBlOiBbJ2F1ZGlvL21wZWc7IGNvZGVjcz1cIm1wM1wiJywgJ2F1ZGlvL21wZWcnLCAnYXVkaW8vbXAzJywgJ2F1ZGlvL01QQScsICdhdWRpby9tcGEtcm9idXN0J10sXHJcbiAgICAgIHJlcXVpcmVkOiB0cnVlXHJcbiAgICB9LFxyXG4gICAgbXA0OiB7XHJcbiAgICAgIHJlbGF0ZWQ6IFsnYWFjJywgJ200YScsICdtNGInXSxcclxuICAgICAgdHlwZTogWydhdWRpby9tcDQ7IGNvZGVjcz1cIm1wNGEuNDAuMlwiJywgJ2F1ZGlvL2FhYycsICdhdWRpby94LW00YScsICdhdWRpby9NUDRBLUxBVE0nLCAnYXVkaW8vbXBlZzQtZ2VuZXJpYyddLFxyXG4gICAgICByZXF1aXJlZDogZmFsc2VcclxuICAgIH0sXHJcbiAgICBvZ2c6IHtcclxuICAgICAgdHlwZTogWydhdWRpby9vZ2c7IGNvZGVjcz12b3JiaXMnXSxcclxuICAgICAgcmVxdWlyZWQ6IGZhbHNlXHJcbiAgICB9LFxyXG4gICAgb3B1czoge1xyXG4gICAgICB0eXBlOiBbJ2F1ZGlvL29nZzsgY29kZWNzPW9wdXMnLCAnYXVkaW8vb3B1cyddLFxyXG4gICAgICByZXF1aXJlZDogZmFsc2VcclxuICAgIH0sXHJcbiAgICB3YXY6IHtcclxuICAgICAgdHlwZTogWydhdWRpby93YXY7IGNvZGVjcz1cIjFcIicsICdhdWRpby93YXYnLCAnYXVkaW8vd2F2ZScsICdhdWRpby94LXdhdiddLFxyXG4gICAgICByZXF1aXJlZDogZmFsc2VcclxuICAgIH0sXHJcbiAgICBmbGFjOiB7XHJcbiAgICAgIHR5cGU6IFsnYXVkaW8vZmxhYyddLFxyXG4gICAgICByZXF1aXJlZDogZmFsc2VcclxuICAgIH1cclxuICB9O1xyXG4gIHRoaXMubW92aWVJRCA9ICdzbTItY29udGFpbmVyJztcclxuICB0aGlzLmlkID0gKHNtSUQgfHwgJ3NtMm1vdmllJyk7XHJcbiAgdGhpcy5kZWJ1Z0lEID0gJ3NvdW5kbWFuYWdlci1kZWJ1Zyc7XHJcbiAgdGhpcy5kZWJ1Z1VSTFBhcmFtID0gLyhbIz8mXSlkZWJ1Zz0xL2k7XHJcbiAgdGhpcy52ZXJzaW9uTnVtYmVyID0gJ1YyLjk3YS4yMDE3MDYwMSc7XHJcbiAgdGhpcy52ZXJzaW9uID0gbnVsbDtcclxuICB0aGlzLm1vdmllVVJMID0gbnVsbDtcclxuICB0aGlzLmFsdFVSTCA9IG51bGw7XHJcbiAgdGhpcy5zd2ZMb2FkZWQgPSBmYWxzZTtcclxuICB0aGlzLmVuYWJsZWQgPSBmYWxzZTtcclxuICB0aGlzLm9NQyA9IG51bGw7XHJcbiAgdGhpcy5zb3VuZHMgPSB7fTtcclxuICB0aGlzLnNvdW5kSURzID0gW107XHJcbiAgdGhpcy5tdXRlZCA9IGZhbHNlO1xyXG4gIHRoaXMuZGlkRmxhc2hCbG9jayA9IGZhbHNlO1xyXG4gIHRoaXMuZmlsZVBhdHRlcm4gPSBudWxsO1xyXG4gIHRoaXMuZmlsZVBhdHRlcm5zID0ge1xyXG4gICAgZmxhc2g4OiAvXFwubXAzKFxcPy4qKT8kL2ksXHJcbiAgICBmbGFzaDk6IC9cXC5tcDMoXFw/LiopPyQvaVxyXG4gIH07XHJcbiAgdGhpcy5mZWF0dXJlcyA9IHtcclxuICAgIGJ1ZmZlcmluZzogZmFsc2UsXHJcbiAgICBwZWFrRGF0YTogZmFsc2UsXHJcbiAgICB3YXZlZm9ybURhdGE6IGZhbHNlLFxyXG4gICAgZXFEYXRhOiBmYWxzZSxcclxuICAgIG1vdmllU3RhcjogZmFsc2VcclxuICB9O1xyXG4gIHRoaXMuc2FuZGJveCA9IHtcclxuICB9O1xyXG4gIHRoaXMuaHRtbDUgPSB7XHJcbiAgICB1c2luZ0ZsYXNoOiBudWxsXHJcbiAgfTtcclxuICB0aGlzLmZsYXNoID0ge307XHJcbiAgdGhpcy5odG1sNU9ubHkgPSBmYWxzZTtcclxuICB0aGlzLmlnbm9yZUZsYXNoID0gZmFsc2U7XHJcbiAgdmFyIFNNU291bmQsXHJcbiAgc20yID0gdGhpcywgZ2xvYmFsSFRNTDVBdWRpbyA9IG51bGwsIGZsYXNoID0gbnVsbCwgc20gPSAnc291bmRNYW5hZ2VyJywgc21jID0gc20gKyAnOiAnLCBoNSA9ICdIVE1MNTo6JywgaWQsIHVhID0gbmF2aWdhdG9yLnVzZXJBZ2VudCwgd2wgPSB3aW5kb3cubG9jYXRpb24uaHJlZi50b1N0cmluZygpLCBkb2MgPSBkb2N1bWVudCwgZG9Ob3RoaW5nLCBzZXRQcm9wZXJ0aWVzLCBpbml0LCBmViwgb25fcXVldWUgPSBbXSwgZGVidWdPcGVuID0gdHJ1ZSwgZGVidWdUUywgZGlkQXBwZW5kID0gZmFsc2UsIGFwcGVuZFN1Y2Nlc3MgPSBmYWxzZSwgZGlkSW5pdCA9IGZhbHNlLCBkaXNhYmxlZCA9IGZhbHNlLCB3aW5kb3dMb2FkZWQgPSBmYWxzZSwgX3dEUywgd2RDb3VudCA9IDAsIGluaXRDb21wbGV0ZSwgbWl4aW4sIGFzc2lnbiwgZXh0cmFPcHRpb25zLCBhZGRPbkV2ZW50LCBwcm9jZXNzT25FdmVudHMsIGluaXRVc2VyT25sb2FkLCBkZWxheVdhaXRGb3JFSSwgd2FpdEZvckVJLCByZWJvb3RJbnRvSFRNTDUsIHNldFZlcnNpb25JbmZvLCBoYW5kbGVGb2N1cywgc3RyaW5ncywgaW5pdE1vdmllLCBkb21Db250ZW50TG9hZGVkLCB3aW5PbkxvYWQsIGRpZERDTG9hZGVkLCBnZXREb2N1bWVudCwgY3JlYXRlTW92aWUsIGNhdGNoRXJyb3IsIHNldFBvbGxpbmcsIGluaXREZWJ1ZywgZGVidWdMZXZlbHMgPSBbJ2xvZycsICdpbmZvJywgJ3dhcm4nLCAnZXJyb3InXSwgZGVmYXVsdEZsYXNoVmVyc2lvbiA9IDgsIGRpc2FibGVPYmplY3QsIGZhaWxTYWZlbHksIG5vcm1hbGl6ZU1vdmllVVJMLCBvUmVtb3ZlZCA9IG51bGwsIG9SZW1vdmVkSFRNTCA9IG51bGwsIHN0ciwgZmxhc2hCbG9ja0hhbmRsZXIsIGdldFNXRkNTUywgc3dmQ1NTLCB0b2dnbGVEZWJ1ZywgbG9vcEZpeCwgcG9saWN5Rml4LCBjb21wbGFpbiwgaWRDaGVjaywgd2FpdGluZ0ZvckVJID0gZmFsc2UsIGluaXRQZW5kaW5nID0gZmFsc2UsIHN0YXJ0VGltZXIsIHN0b3BUaW1lciwgdGltZXJFeGVjdXRlLCBoNVRpbWVyQ291bnQgPSAwLCBoNUludGVydmFsVGltZXIgPSBudWxsLCBwYXJzZVVSTCwgbWVzc2FnZXMgPSBbXSxcclxuICBjYW5JZ25vcmVGbGFzaCwgbmVlZHNGbGFzaCA9IG51bGwsIGZlYXR1cmVDaGVjaywgaHRtbDVPSywgaHRtbDVDYW5QbGF5LCBodG1sNUVycm9yQ29kZXMsIGh0bWw1RXh0LCBodG1sNVVubG9hZCwgZG9tQ29udGVudExvYWRlZElFLCB0ZXN0SFRNTDUsIGV2ZW50LCBzbGljZSA9IEFycmF5LnByb3RvdHlwZS5zbGljZSwgdXNlR2xvYmFsSFRNTDVBdWRpbyA9IGZhbHNlLCBsYXN0R2xvYmFsSFRNTDVVUkwsIGhhc0ZsYXNoLCBkZXRlY3RGbGFzaCwgYmFkU2FmYXJpRml4LCBodG1sNV9ldmVudHMsIHNob3dTdXBwb3J0LCBmbHVzaE1lc3NhZ2VzLCB3cmFwQ2FsbGJhY2ssIGlkQ291bnRlciA9IDAsIGRpZFNldHVwLCBtc2VjU2NhbGUgPSAxMDAwLFxyXG4gIGlzX2lEZXZpY2UgPSB1YS5tYXRjaCgvKGlwYWR8aXBob25lfGlwb2QpL2kpLCBpc0FuZHJvaWQgPSB1YS5tYXRjaCgvYW5kcm9pZC9pKSwgaXNJRSA9IHVhLm1hdGNoKC9tc2llfHRyaWRlbnQvaSksXHJcbiAgaXNXZWJraXQgPSB1YS5tYXRjaCgvd2Via2l0L2kpLFxyXG4gIGlzU2FmYXJpID0gKHVhLm1hdGNoKC9zYWZhcmkvaSkgJiYgIXVhLm1hdGNoKC9jaHJvbWUvaSkpLFxyXG4gIGlzT3BlcmEgPSAodWEubWF0Y2goL29wZXJhL2kpKSxcclxuICBtb2JpbGVIVE1MNSA9ICh1YS5tYXRjaCgvKG1vYmlsZXxwcmVcXC98eG9vbSkvaSkgfHwgaXNfaURldmljZSB8fCBpc0FuZHJvaWQpLFxyXG4gIGlzQmFkU2FmYXJpID0gKCF3bC5tYXRjaCgvdXNlaHRtbDVhdWRpby9pKSAmJiAhd2wubWF0Y2goL3NtMi1pZ25vcmViYWR1YS9pKSAmJiBpc1NhZmFyaSAmJiAhdWEubWF0Y2goL3NpbGsvaSkgJiYgdWEubWF0Y2goL09TXFxzWFxcczEwXzZfKFszLTddKS9pKSksXHJcbiAgaGFzQ29uc29sZSA9ICh3aW5kb3cuY29uc29sZSAhPT0gX3VuZGVmaW5lZCAmJiBjb25zb2xlLmxvZyAhPT0gX3VuZGVmaW5lZCksXHJcbiAgaXNGb2N1c2VkID0gKGRvYy5oYXNGb2N1cyAhPT0gX3VuZGVmaW5lZCA/IGRvYy5oYXNGb2N1cygpIDogbnVsbCksXHJcbiAgdHJ5SW5pdE9uRm9jdXMgPSAoaXNTYWZhcmkgJiYgKGRvYy5oYXNGb2N1cyA9PT0gX3VuZGVmaW5lZCB8fCAhZG9jLmhhc0ZvY3VzKCkpKSxcclxuICBva1RvRGlzYWJsZSA9ICF0cnlJbml0T25Gb2N1cyxcclxuICBmbGFzaE1JTUUgPSAvKG1wM3xtcDR8bXBhfG00YXxtNGIpL2ksXHJcbiAgZW1wdHlVUkwgPSAnYWJvdXQ6YmxhbmsnLFxyXG4gIGVtcHR5V0FWID0gJ2RhdGE6YXVkaW8vd2F2ZTtiYXNlNjQsL1VrbEdSaVlBQUFCWFFWWkZabTEwSUJBQUFBQUJBQUVBUkt3QUFJaFlBUUFDQUJBQVpHRjBZUUlBQUFELy93PT0nLFxyXG4gIG92ZXJIVFRQID0gKGRvYy5sb2NhdGlvbiA/IGRvYy5sb2NhdGlvbi5wcm90b2NvbC5tYXRjaCgvaHR0cC9pKSA6IG51bGwpLFxyXG4gIGh0dHAgPSAoIW92ZXJIVFRQID8gJy8vJyA6ICcnKSxcclxuICBuZXRTdHJlYW1NaW1lVHlwZXMgPSAvXlxccyphdWRpb1xcLyg/OngtKT8oPzptcGVnNHxhYWN8Zmx2fG1vdnxtcDR8bTR2fG00YXxtNGJ8bXA0dnwzZ3B8M2cyKVxccyooPzokfDspL2ksXHJcbiAgbmV0U3RyZWFtVHlwZXMgPSBbJ21wZWc0JywgJ2FhYycsICdmbHYnLCAnbW92JywgJ21wNCcsICdtNHYnLCAnZjR2JywgJ200YScsICdtNGInLCAnbXA0dicsICczZ3AnLCAnM2cyJ10sXHJcbiAgbmV0U3RyZWFtUGF0dGVybiA9IG5ldyBSZWdFeHAoJ1xcXFwuKCcgKyBuZXRTdHJlYW1UeXBlcy5qb2luKCd8JykgKyAnKShcXFxcPy4qKT8kJywgJ2knKTtcclxuICB0aGlzLm1pbWVQYXR0ZXJuID0gL15cXHMqYXVkaW9cXC8oPzp4LSk/KD86bXAoPzplZ3wzKSlcXHMqKD86JHw7KS9pO1xyXG4gIHRoaXMudXNlQWx0VVJMID0gIW92ZXJIVFRQO1xyXG4gIHN3ZkNTUyA9IHtcclxuICAgIHN3ZkJveDogJ3NtMi1vYmplY3QtYm94JyxcclxuICAgIHN3ZkRlZmF1bHQ6ICdtb3ZpZUNvbnRhaW5lcicsXHJcbiAgICBzd2ZFcnJvcjogJ3N3Zl9lcnJvcicsXHJcbiAgICBzd2ZUaW1lZG91dDogJ3N3Zl90aW1lZG91dCcsXHJcbiAgICBzd2ZMb2FkZWQ6ICdzd2ZfbG9hZGVkJyxcclxuICAgIHN3ZlVuYmxvY2tlZDogJ3N3Zl91bmJsb2NrZWQnLFxyXG4gICAgc20yRGVidWc6ICdzbTJfZGVidWcnLFxyXG4gICAgaGlnaFBlcmY6ICdoaWdoX3BlcmZvcm1hbmNlJyxcclxuICAgIGZsYXNoRGVidWc6ICdmbGFzaF9kZWJ1ZydcclxuICB9O1xyXG4gIGh0bWw1RXJyb3JDb2RlcyA9IFtcclxuICAgIG51bGwsXHJcbiAgICAnTUVESUFfRVJSX0FCT1JURUQnLFxyXG4gICAgJ01FRElBX0VSUl9ORVRXT1JLJyxcclxuICAgICdNRURJQV9FUlJfREVDT0RFJyxcclxuICAgICdNRURJQV9FUlJfU1JDX05PVF9TVVBQT1JURUQnXHJcbiAgXTtcclxuICB0aGlzLmhhc0hUTUw1ID0gKGZ1bmN0aW9uKCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgcmV0dXJuIChBdWRpbyAhPT0gX3VuZGVmaW5lZCAmJiAoaXNPcGVyYSAmJiBvcGVyYSAhPT0gX3VuZGVmaW5lZCAmJiBvcGVyYS52ZXJzaW9uKCkgPCAxMCA/IG5ldyBBdWRpbyhudWxsKSA6IG5ldyBBdWRpbygpKS5jYW5QbGF5VHlwZSAhPT0gX3VuZGVmaW5lZCk7XHJcbiAgICB9IGNhdGNoKGUpIHtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gIH0oKSk7XHJcbiAgdGhpcy5zZXR1cCA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcclxuICAgIHZhciBub1VSTCA9ICghc20yLnVybCk7XHJcbiAgICBpZiAob3B0aW9ucyAhPT0gX3VuZGVmaW5lZCAmJiBkaWRJbml0ICYmIG5lZWRzRmxhc2ggJiYgc20yLm9rKCkgJiYgKG9wdGlvbnMuZmxhc2hWZXJzaW9uICE9PSBfdW5kZWZpbmVkIHx8IG9wdGlvbnMudXJsICE9PSBfdW5kZWZpbmVkIHx8IG9wdGlvbnMuaHRtbDVUZXN0ICE9PSBfdW5kZWZpbmVkKSkge1xyXG4gICAgfVxyXG4gICAgYXNzaWduKG9wdGlvbnMpO1xyXG4gICAgaWYgKCF1c2VHbG9iYWxIVE1MNUF1ZGlvKSB7XHJcbiAgICAgIGlmIChtb2JpbGVIVE1MNSkge1xyXG4gICAgICAgIGlmICghc20yLnNldHVwT3B0aW9ucy5pZ25vcmVNb2JpbGVSZXN0cmljdGlvbnMgfHwgc20yLnNldHVwT3B0aW9ucy5mb3JjZVVzZUdsb2JhbEhUTUw1QXVkaW8pIHtcclxuICAgICAgICAgIG1lc3NhZ2VzLnB1c2goc3RyaW5ncy5nbG9iYWxIVE1MNSk7XHJcbiAgICAgICAgICB1c2VHbG9iYWxIVE1MNUF1ZGlvID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSBpZiAoc20yLnNldHVwT3B0aW9ucy5mb3JjZVVzZUdsb2JhbEhUTUw1QXVkaW8pIHtcclxuICAgICAgICBtZXNzYWdlcy5wdXNoKHN0cmluZ3MuZ2xvYmFsSFRNTDUpO1xyXG4gICAgICAgIHVzZUdsb2JhbEhUTUw1QXVkaW8gPSB0cnVlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAoIWRpZFNldHVwICYmIG1vYmlsZUhUTUw1KSB7XHJcbiAgICAgIGlmIChzbTIuc2V0dXBPcHRpb25zLmlnbm9yZU1vYmlsZVJlc3RyaWN0aW9ucykge1xyXG4gICAgICAgIG1lc3NhZ2VzLnB1c2goc3RyaW5ncy5pZ25vcmVNb2JpbGUpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHNtMi5zZXR1cE9wdGlvbnMudXNlSFRNTDVBdWRpbyA9IHRydWU7XHJcbiAgICAgICAgc20yLnNldHVwT3B0aW9ucy5wcmVmZXJGbGFzaCA9IGZhbHNlO1xyXG4gICAgICAgIGlmIChpc19pRGV2aWNlKSB7XHJcbiAgICAgICAgICBzbTIuaWdub3JlRmxhc2ggPSB0cnVlO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoKGlzQW5kcm9pZCAmJiAhdWEubWF0Y2goL2FuZHJvaWRcXHMyXFwuMy9pKSkgfHwgIWlzQW5kcm9pZCkge1xyXG4gICAgICAgICAgdXNlR2xvYmFsSFRNTDVBdWRpbyA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAob3B0aW9ucykge1xyXG4gICAgICBpZiAobm9VUkwgJiYgZGlkRENMb2FkZWQgJiYgb3B0aW9ucy51cmwgIT09IF91bmRlZmluZWQpIHtcclxuICAgICAgICBzbTIuYmVnaW5EZWxheWVkSW5pdCgpO1xyXG4gICAgICB9XHJcbiAgICAgIGlmICghZGlkRENMb2FkZWQgJiYgb3B0aW9ucy51cmwgIT09IF91bmRlZmluZWQgJiYgZG9jLnJlYWR5U3RhdGUgPT09ICdjb21wbGV0ZScpIHtcclxuICAgICAgICBzZXRUaW1lb3V0KGRvbUNvbnRlbnRMb2FkZWQsIDEpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBkaWRTZXR1cCA9IHRydWU7XHJcbiAgICByZXR1cm4gc20yO1xyXG4gIH07XHJcbiAgdGhpcy5vayA9IGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuIChuZWVkc0ZsYXNoID8gKGRpZEluaXQgJiYgIWRpc2FibGVkKSA6IChzbTIudXNlSFRNTDVBdWRpbyAmJiBzbTIuaGFzSFRNTDUpKTtcclxuICB9O1xyXG4gIHRoaXMuc3VwcG9ydGVkID0gdGhpcy5vaztcclxuICB0aGlzLmdldE1vdmllID0gZnVuY3Rpb24obW92aWVfaWQpIHtcclxuICAgIHJldHVybiBpZChtb3ZpZV9pZCkgfHwgZG9jW21vdmllX2lkXSB8fCB3aW5kb3dbbW92aWVfaWRdO1xyXG4gIH07XHJcbiAgdGhpcy5jcmVhdGVTb3VuZCA9IGZ1bmN0aW9uKG9PcHRpb25zLCBfdXJsKSB7XHJcbiAgICB2YXIgY3MsIGNzX3N0cmluZywgb3B0aW9ucywgb1NvdW5kID0gbnVsbDtcclxuICAgIGlmICghZGlkSW5pdCB8fCAhc20yLm9rKCkpIHtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgaWYgKF91cmwgIT09IF91bmRlZmluZWQpIHtcclxuICAgICAgb09wdGlvbnMgPSB7XHJcbiAgICAgICAgaWQ6IG9PcHRpb25zLFxyXG4gICAgICAgIHVybDogX3VybFxyXG4gICAgICB9O1xyXG4gICAgfVxyXG4gICAgb3B0aW9ucyA9IG1peGluKG9PcHRpb25zKTtcclxuICAgIG9wdGlvbnMudXJsID0gcGFyc2VVUkwob3B0aW9ucy51cmwpO1xyXG4gICAgaWYgKG9wdGlvbnMuaWQgPT09IF91bmRlZmluZWQpIHtcclxuICAgICAgb3B0aW9ucy5pZCA9IHNtMi5zZXR1cE9wdGlvbnMuaWRQcmVmaXggKyAoaWRDb3VudGVyKyspO1xyXG4gICAgfVxyXG4gICAgaWYgKGlkQ2hlY2sob3B0aW9ucy5pZCwgdHJ1ZSkpIHtcclxuICAgICAgcmV0dXJuIHNtMi5zb3VuZHNbb3B0aW9ucy5pZF07XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBtYWtlKCkge1xyXG4gICAgICBvcHRpb25zID0gbG9vcEZpeChvcHRpb25zKTtcclxuICAgICAgc20yLnNvdW5kc1tvcHRpb25zLmlkXSA9IG5ldyBTTVNvdW5kKG9wdGlvbnMpO1xyXG4gICAgICBzbTIuc291bmRJRHMucHVzaChvcHRpb25zLmlkKTtcclxuICAgICAgcmV0dXJuIHNtMi5zb3VuZHNbb3B0aW9ucy5pZF07XHJcbiAgICB9XHJcbiAgICBpZiAoaHRtbDVPSyhvcHRpb25zKSkge1xyXG4gICAgICBvU291bmQgPSBtYWtlKCk7XHJcbiAgICAgIG9Tb3VuZC5fc2V0dXBfaHRtbDUob3B0aW9ucyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpZiAoc20yLmh0bWw1T25seSkge1xyXG4gICAgICAgIHJldHVybiBtYWtlKCk7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHNtMi5odG1sNS51c2luZ0ZsYXNoICYmIG9wdGlvbnMudXJsICYmIG9wdGlvbnMudXJsLm1hdGNoKC9kYXRhOi9pKSkge1xyXG4gICAgICAgIHJldHVybiBtYWtlKCk7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKGZWID4gOCkge1xyXG4gICAgICAgIGlmIChvcHRpb25zLmlzTW92aWVTdGFyID09PSBudWxsKSB7XHJcbiAgICAgICAgICBvcHRpb25zLmlzTW92aWVTdGFyID0gISEob3B0aW9ucy5zZXJ2ZXJVUkwgfHwgKG9wdGlvbnMudHlwZSA/IG9wdGlvbnMudHlwZS5tYXRjaChuZXRTdHJlYW1NaW1lVHlwZXMpIDogZmFsc2UpIHx8IChvcHRpb25zLnVybCAmJiBvcHRpb25zLnVybC5tYXRjaChuZXRTdHJlYW1QYXR0ZXJuKSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBvcHRpb25zID0gcG9saWN5Rml4KG9wdGlvbnMsIGNzKTtcclxuICAgICAgb1NvdW5kID0gbWFrZSgpO1xyXG4gICAgICBpZiAoZlYgPT09IDgpIHtcclxuICAgICAgICBmbGFzaC5fY3JlYXRlU291bmQob3B0aW9ucy5pZCwgb3B0aW9ucy5sb29wcyB8fCAxLCBvcHRpb25zLnVzZVBvbGljeUZpbGUpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGZsYXNoLl9jcmVhdGVTb3VuZChvcHRpb25zLmlkLCBvcHRpb25zLnVybCwgb3B0aW9ucy51c2VQZWFrRGF0YSwgb3B0aW9ucy51c2VXYXZlZm9ybURhdGEsIG9wdGlvbnMudXNlRVFEYXRhLCBvcHRpb25zLmlzTW92aWVTdGFyLCAob3B0aW9ucy5pc01vdmllU3RhciA/IG9wdGlvbnMuYnVmZmVyVGltZSA6IGZhbHNlKSwgb3B0aW9ucy5sb29wcyB8fCAxLCBvcHRpb25zLnNlcnZlclVSTCwgb3B0aW9ucy5kdXJhdGlvbiB8fCBudWxsLCBvcHRpb25zLmF1dG9QbGF5LCB0cnVlLCBvcHRpb25zLmF1dG9Mb2FkLCBvcHRpb25zLnVzZVBvbGljeUZpbGUpO1xyXG4gICAgICAgIGlmICghb3B0aW9ucy5zZXJ2ZXJVUkwpIHtcclxuICAgICAgICAgIG9Tb3VuZC5jb25uZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgaWYgKG9wdGlvbnMub25jb25uZWN0KSB7XHJcbiAgICAgICAgICAgIG9wdGlvbnMub25jb25uZWN0LmFwcGx5KG9Tb3VuZCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIGlmICghb3B0aW9ucy5zZXJ2ZXJVUkwgJiYgKG9wdGlvbnMuYXV0b0xvYWQgfHwgb3B0aW9ucy5hdXRvUGxheSkpIHtcclxuICAgICAgICBvU291bmQubG9hZChvcHRpb25zKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKCFvcHRpb25zLnNlcnZlclVSTCAmJiBvcHRpb25zLmF1dG9QbGF5KSB7XHJcbiAgICAgIG9Tb3VuZC5wbGF5KCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gb1NvdW5kO1xyXG4gIH07XHJcbiAgdGhpcy5kZXN0cm95U291bmQgPSBmdW5jdGlvbihzSUQsIF9iRnJvbVNvdW5kKSB7XHJcbiAgICBpZiAoIWlkQ2hlY2soc0lEKSkgcmV0dXJuIGZhbHNlO1xyXG4gICAgdmFyIG9TID0gc20yLnNvdW5kc1tzSURdLCBpO1xyXG4gICAgb1Muc3RvcCgpO1xyXG4gICAgb1MuX2lPID0ge307XHJcbiAgICBvUy51bmxvYWQoKTtcclxuICAgIGZvciAoaSA9IDA7IGkgPCBzbTIuc291bmRJRHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgaWYgKHNtMi5zb3VuZElEc1tpXSA9PT0gc0lEKSB7XHJcbiAgICAgICAgc20yLnNvdW5kSURzLnNwbGljZShpLCAxKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKCFfYkZyb21Tb3VuZCkge1xyXG4gICAgICBvUy5kZXN0cnVjdCh0cnVlKTtcclxuICAgIH1cclxuICAgIG9TID0gbnVsbDtcclxuICAgIGRlbGV0ZSBzbTIuc291bmRzW3NJRF07XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9O1xyXG4gIHRoaXMubG9hZCA9IGZ1bmN0aW9uKHNJRCwgb09wdGlvbnMpIHtcclxuICAgIGlmICghaWRDaGVjayhzSUQpKSByZXR1cm4gZmFsc2U7XHJcbiAgICByZXR1cm4gc20yLnNvdW5kc1tzSURdLmxvYWQob09wdGlvbnMpO1xyXG4gIH07XHJcbiAgdGhpcy51bmxvYWQgPSBmdW5jdGlvbihzSUQpIHtcclxuICAgIGlmICghaWRDaGVjayhzSUQpKSByZXR1cm4gZmFsc2U7XHJcbiAgICByZXR1cm4gc20yLnNvdW5kc1tzSURdLnVubG9hZCgpO1xyXG4gIH07XHJcbiAgdGhpcy5vblBvc2l0aW9uID0gZnVuY3Rpb24oc0lELCBuUG9zaXRpb24sIG9NZXRob2QsIG9TY29wZSkge1xyXG4gICAgaWYgKCFpZENoZWNrKHNJRCkpIHJldHVybiBmYWxzZTtcclxuICAgIHJldHVybiBzbTIuc291bmRzW3NJRF0ub25wb3NpdGlvbihuUG9zaXRpb24sIG9NZXRob2QsIG9TY29wZSk7XHJcbiAgfTtcclxuICB0aGlzLm9ucG9zaXRpb24gPSB0aGlzLm9uUG9zaXRpb247XHJcbiAgdGhpcy5jbGVhck9uUG9zaXRpb24gPSBmdW5jdGlvbihzSUQsIG5Qb3NpdGlvbiwgb01ldGhvZCkge1xyXG4gICAgaWYgKCFpZENoZWNrKHNJRCkpIHJldHVybiBmYWxzZTtcclxuICAgIHJldHVybiBzbTIuc291bmRzW3NJRF0uY2xlYXJPblBvc2l0aW9uKG5Qb3NpdGlvbiwgb01ldGhvZCk7XHJcbiAgfTtcclxuICB0aGlzLnBsYXkgPSBmdW5jdGlvbihzSUQsIG9PcHRpb25zKSB7XHJcbiAgICB2YXIgcmVzdWx0ID0gbnVsbCxcclxuICAgICAgICBvdmVybG9hZGVkID0gKG9PcHRpb25zICYmICEob09wdGlvbnMgaW5zdGFuY2VvZiBPYmplY3QpKTtcclxuICAgIGlmICghZGlkSW5pdCB8fCAhc20yLm9rKCkpIHtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgaWYgKCFpZENoZWNrKHNJRCwgb3ZlcmxvYWRlZCkpIHtcclxuICAgICAgaWYgKCFvdmVybG9hZGVkKSByZXR1cm4gZmFsc2U7XHJcbiAgICAgIGlmIChvdmVybG9hZGVkKSB7XHJcbiAgICAgICAgb09wdGlvbnMgPSB7XHJcbiAgICAgICAgICB1cmw6IG9PcHRpb25zXHJcbiAgICAgICAgfTtcclxuICAgICAgfVxyXG4gICAgICBpZiAob09wdGlvbnMgJiYgb09wdGlvbnMudXJsKSB7XHJcbiAgICAgICAgb09wdGlvbnMuaWQgPSBzSUQ7XHJcbiAgICAgICAgcmVzdWx0ID0gc20yLmNyZWF0ZVNvdW5kKG9PcHRpb25zKS5wbGF5KCk7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSBpZiAob3ZlcmxvYWRlZCkge1xyXG4gICAgICBvT3B0aW9ucyA9IHtcclxuICAgICAgICB1cmw6IG9PcHRpb25zXHJcbiAgICAgIH07XHJcbiAgICB9XHJcbiAgICBpZiAocmVzdWx0ID09PSBudWxsKSB7XHJcbiAgICAgIHJlc3VsdCA9IHNtMi5zb3VuZHNbc0lEXS5wbGF5KG9PcHRpb25zKTtcclxuICAgIH1cclxuICAgIHJldHVybiByZXN1bHQ7XHJcbiAgfTtcclxuICB0aGlzLnN0YXJ0ID0gdGhpcy5wbGF5O1xyXG4gIHRoaXMuc2V0UGxheWJhY2tSYXRlID0gZnVuY3Rpb24oc0lELCByYXRlLCBhbGxvd092ZXJyaWRlKSB7XHJcbiAgICBpZiAoIWlkQ2hlY2soc0lEKSkgcmV0dXJuIGZhbHNlO1xyXG4gICAgcmV0dXJuIHNtMi5zb3VuZHNbc0lEXS5zZXRQbGF5YmFja1JhdGUocmF0ZSwgYWxsb3dPdmVycmlkZSk7XHJcbiAgfTtcclxuICB0aGlzLnNldFBvc2l0aW9uID0gZnVuY3Rpb24oc0lELCBuTXNlY09mZnNldCkge1xyXG4gICAgaWYgKCFpZENoZWNrKHNJRCkpIHJldHVybiBmYWxzZTtcclxuICAgIHJldHVybiBzbTIuc291bmRzW3NJRF0uc2V0UG9zaXRpb24obk1zZWNPZmZzZXQpO1xyXG4gIH07XHJcbiAgdGhpcy5zdG9wID0gZnVuY3Rpb24oc0lEKSB7XHJcbiAgICBpZiAoIWlkQ2hlY2soc0lEKSkgcmV0dXJuIGZhbHNlO1xyXG4gICAgcmV0dXJuIHNtMi5zb3VuZHNbc0lEXS5zdG9wKCk7XHJcbiAgfTtcclxuICB0aGlzLnN0b3BBbGwgPSBmdW5jdGlvbigpIHtcclxuICAgIHZhciBvU291bmQ7XHJcbiAgICBmb3IgKG9Tb3VuZCBpbiBzbTIuc291bmRzKSB7XHJcbiAgICAgIGlmIChzbTIuc291bmRzLmhhc093blByb3BlcnR5KG9Tb3VuZCkpIHtcclxuICAgICAgICBzbTIuc291bmRzW29Tb3VuZF0uc3RvcCgpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfTtcclxuICB0aGlzLnBhdXNlID0gZnVuY3Rpb24oc0lEKSB7XHJcbiAgICBpZiAoIWlkQ2hlY2soc0lEKSkgcmV0dXJuIGZhbHNlO1xyXG4gICAgcmV0dXJuIHNtMi5zb3VuZHNbc0lEXS5wYXVzZSgpO1xyXG4gIH07XHJcbiAgdGhpcy5wYXVzZUFsbCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIGk7XHJcbiAgICBmb3IgKGkgPSBzbTIuc291bmRJRHMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcclxuICAgICAgc20yLnNvdW5kc1tzbTIuc291bmRJRHNbaV1dLnBhdXNlKCk7XHJcbiAgICB9XHJcbiAgfTtcclxuICB0aGlzLnJlc3VtZSA9IGZ1bmN0aW9uKHNJRCkge1xyXG4gICAgaWYgKCFpZENoZWNrKHNJRCkpIHJldHVybiBmYWxzZTtcclxuICAgIHJldHVybiBzbTIuc291bmRzW3NJRF0ucmVzdW1lKCk7XHJcbiAgfTtcclxuICB0aGlzLnJlc3VtZUFsbCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIGk7XHJcbiAgICBmb3IgKGkgPSBzbTIuc291bmRJRHMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcclxuICAgICAgc20yLnNvdW5kc1tzbTIuc291bmRJRHNbaV1dLnJlc3VtZSgpO1xyXG4gICAgfVxyXG4gIH07XHJcbiAgdGhpcy50b2dnbGVQYXVzZSA9IGZ1bmN0aW9uKHNJRCkge1xyXG4gICAgaWYgKCFpZENoZWNrKHNJRCkpIHJldHVybiBmYWxzZTtcclxuICAgIHJldHVybiBzbTIuc291bmRzW3NJRF0udG9nZ2xlUGF1c2UoKTtcclxuICB9O1xyXG4gIHRoaXMuc2V0UGFuID0gZnVuY3Rpb24oc0lELCBuUGFuKSB7XHJcbiAgICBpZiAoIWlkQ2hlY2soc0lEKSkgcmV0dXJuIGZhbHNlO1xyXG4gICAgcmV0dXJuIHNtMi5zb3VuZHNbc0lEXS5zZXRQYW4oblBhbik7XHJcbiAgfTtcclxuICB0aGlzLnNldFZvbHVtZSA9IGZ1bmN0aW9uKHNJRCwgblZvbCkge1xyXG4gICAgdmFyIGksIGo7XHJcbiAgICBpZiAoc0lEICE9PSBfdW5kZWZpbmVkICYmICFpc05hTihzSUQpICYmIG5Wb2wgPT09IF91bmRlZmluZWQpIHtcclxuICAgICAgZm9yIChpID0gMCwgaiA9IHNtMi5zb3VuZElEcy5sZW5ndGg7IGkgPCBqOyBpKyspIHtcclxuICAgICAgICBzbTIuc291bmRzW3NtMi5zb3VuZElEc1tpXV0uc2V0Vm9sdW1lKHNJRCk7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgaWYgKCFpZENoZWNrKHNJRCkpIHJldHVybiBmYWxzZTtcclxuICAgIHJldHVybiBzbTIuc291bmRzW3NJRF0uc2V0Vm9sdW1lKG5Wb2wpO1xyXG4gIH07XHJcbiAgdGhpcy5tdXRlID0gZnVuY3Rpb24oc0lEKSB7XHJcbiAgICB2YXIgaSA9IDA7XHJcbiAgICBpZiAoc0lEIGluc3RhbmNlb2YgU3RyaW5nKSB7XHJcbiAgICAgIHNJRCA9IG51bGw7XHJcbiAgICB9XHJcbiAgICBpZiAoIXNJRCkge1xyXG4gICAgICBmb3IgKGkgPSBzbTIuc291bmRJRHMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcclxuICAgICAgICBzbTIuc291bmRzW3NtMi5zb3VuZElEc1tpXV0ubXV0ZSgpO1xyXG4gICAgICB9XHJcbiAgICAgIHNtMi5tdXRlZCA9IHRydWU7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpZiAoIWlkQ2hlY2soc0lEKSkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICByZXR1cm4gc20yLnNvdW5kc1tzSURdLm11dGUoKTtcclxuICAgIH1cclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH07XHJcbiAgdGhpcy5tdXRlQWxsID0gZnVuY3Rpb24oKSB7XHJcbiAgICBzbTIubXV0ZSgpO1xyXG4gIH07XHJcbiAgdGhpcy51bm11dGUgPSBmdW5jdGlvbihzSUQpIHtcclxuICAgIHZhciBpO1xyXG4gICAgaWYgKHNJRCBpbnN0YW5jZW9mIFN0cmluZykge1xyXG4gICAgICBzSUQgPSBudWxsO1xyXG4gICAgfVxyXG4gICAgaWYgKCFzSUQpIHtcclxuICAgICAgZm9yIChpID0gc20yLnNvdW5kSURzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XHJcbiAgICAgICAgc20yLnNvdW5kc1tzbTIuc291bmRJRHNbaV1dLnVubXV0ZSgpO1xyXG4gICAgICB9XHJcbiAgICAgIHNtMi5tdXRlZCA9IGZhbHNlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaWYgKCFpZENoZWNrKHNJRCkpIHJldHVybiBmYWxzZTtcclxuICAgICAgcmV0dXJuIHNtMi5zb3VuZHNbc0lEXS51bm11dGUoKTtcclxuICAgIH1cclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH07XHJcbiAgdGhpcy51bm11dGVBbGwgPSBmdW5jdGlvbigpIHtcclxuICAgIHNtMi51bm11dGUoKTtcclxuICB9O1xyXG4gIHRoaXMudG9nZ2xlTXV0ZSA9IGZ1bmN0aW9uKHNJRCkge1xyXG4gICAgaWYgKCFpZENoZWNrKHNJRCkpIHJldHVybiBmYWxzZTtcclxuICAgIHJldHVybiBzbTIuc291bmRzW3NJRF0udG9nZ2xlTXV0ZSgpO1xyXG4gIH07XHJcbiAgdGhpcy5nZXRNZW1vcnlVc2UgPSBmdW5jdGlvbigpIHtcclxuICAgIHZhciByYW0gPSAwO1xyXG4gICAgaWYgKGZsYXNoICYmIGZWICE9PSA4KSB7XHJcbiAgICAgIHJhbSA9IHBhcnNlSW50KGZsYXNoLl9nZXRNZW1vcnlVc2UoKSwgMTApO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJhbTtcclxuICB9O1xyXG4gIHRoaXMuZGlzYWJsZSA9IGZ1bmN0aW9uKGJOb0Rpc2FibGUpIHtcclxuICAgIHZhciBpO1xyXG4gICAgaWYgKGJOb0Rpc2FibGUgPT09IF91bmRlZmluZWQpIHtcclxuICAgICAgYk5vRGlzYWJsZSA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgaWYgKGRpc2FibGVkKSByZXR1cm4gZmFsc2U7XHJcbiAgICBkaXNhYmxlZCA9IHRydWU7XHJcbiAgICBmb3IgKGkgPSBzbTIuc291bmRJRHMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcclxuICAgICAgZGlzYWJsZU9iamVjdChzbTIuc291bmRzW3NtMi5zb3VuZElEc1tpXV0pO1xyXG4gICAgfVxyXG4gICAgZGlzYWJsZU9iamVjdChzbTIpO1xyXG4gICAgaW5pdENvbXBsZXRlKGJOb0Rpc2FibGUpO1xyXG4gICAgZXZlbnQucmVtb3ZlKHdpbmRvdywgJ2xvYWQnLCBpbml0VXNlck9ubG9hZCk7XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9O1xyXG4gIHRoaXMuY2FuUGxheU1JTUUgPSBmdW5jdGlvbihzTUlNRSkge1xyXG4gICAgdmFyIHJlc3VsdDtcclxuICAgIGlmIChzbTIuaGFzSFRNTDUpIHtcclxuICAgICAgcmVzdWx0ID0gaHRtbDVDYW5QbGF5KHtcclxuICAgICAgICB0eXBlOiBzTUlNRVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgIGlmICghcmVzdWx0ICYmIG5lZWRzRmxhc2gpIHtcclxuICAgICAgcmVzdWx0ID0gKHNNSU1FICYmIHNtMi5vaygpID8gISEoKGZWID4gOCA/IHNNSU1FLm1hdGNoKG5ldFN0cmVhbU1pbWVUeXBlcykgOiBudWxsKSB8fCBzTUlNRS5tYXRjaChzbTIubWltZVBhdHRlcm4pKSA6IG51bGwpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxuICB9O1xyXG4gIHRoaXMuY2FuUGxheVVSTCA9IGZ1bmN0aW9uKHNVUkwpIHtcclxuICAgIHZhciByZXN1bHQ7XHJcbiAgICBpZiAoc20yLmhhc0hUTUw1KSB7XHJcbiAgICAgIHJlc3VsdCA9IGh0bWw1Q2FuUGxheSh7XHJcbiAgICAgICAgdXJsOiBzVVJMXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKCFyZXN1bHQgJiYgbmVlZHNGbGFzaCkge1xyXG4gICAgICByZXN1bHQgPSAoc1VSTCAmJiBzbTIub2soKSA/ICEhKHNVUkwubWF0Y2goc20yLmZpbGVQYXR0ZXJuKSkgOiBudWxsKTtcclxuICAgIH1cclxuICAgIHJldHVybiByZXN1bHQ7XHJcbiAgfTtcclxuICB0aGlzLmNhblBsYXlMaW5rID0gZnVuY3Rpb24ob0xpbmspIHtcclxuICAgIGlmIChvTGluay50eXBlICE9PSBfdW5kZWZpbmVkICYmIG9MaW5rLnR5cGUgJiYgc20yLmNhblBsYXlNSU1FKG9MaW5rLnR5cGUpKSByZXR1cm4gdHJ1ZTtcclxuICAgIHJldHVybiBzbTIuY2FuUGxheVVSTChvTGluay5ocmVmKTtcclxuICB9O1xyXG4gIHRoaXMuZ2V0U291bmRCeUlkID0gZnVuY3Rpb24oc0lELCBfc3VwcHJlc3NEZWJ1Zykge1xyXG4gICAgaWYgKCFzSUQpIHJldHVybiBudWxsO1xyXG4gICAgdmFyIHJlc3VsdCA9IHNtMi5zb3VuZHNbc0lEXTtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbiAgfTtcclxuICB0aGlzLm9ucmVhZHkgPSBmdW5jdGlvbihvTWV0aG9kLCBvU2NvcGUpIHtcclxuICAgIHZhciBzVHlwZSA9ICdvbnJlYWR5JyxcclxuICAgICAgICByZXN1bHQgPSBmYWxzZTtcclxuICAgIGlmICh0eXBlb2Ygb01ldGhvZCA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICBpZiAoIW9TY29wZSkge1xyXG4gICAgICAgIG9TY29wZSA9IHdpbmRvdztcclxuICAgICAgfVxyXG4gICAgICBhZGRPbkV2ZW50KHNUeXBlLCBvTWV0aG9kLCBvU2NvcGUpO1xyXG4gICAgICBwcm9jZXNzT25FdmVudHMoKTtcclxuICAgICAgcmVzdWx0ID0gdHJ1ZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRocm93IHN0cignbmVlZEZ1bmN0aW9uJywgc1R5cGUpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxuICB9O1xyXG4gIHRoaXMub250aW1lb3V0ID0gZnVuY3Rpb24ob01ldGhvZCwgb1Njb3BlKSB7XHJcbiAgICB2YXIgc1R5cGUgPSAnb250aW1lb3V0JyxcclxuICAgICAgICByZXN1bHQgPSBmYWxzZTtcclxuICAgIGlmICh0eXBlb2Ygb01ldGhvZCA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICBpZiAoIW9TY29wZSkge1xyXG4gICAgICAgIG9TY29wZSA9IHdpbmRvdztcclxuICAgICAgfVxyXG4gICAgICBhZGRPbkV2ZW50KHNUeXBlLCBvTWV0aG9kLCBvU2NvcGUpO1xyXG4gICAgICBwcm9jZXNzT25FdmVudHMoeyB0eXBlOiBzVHlwZSB9KTtcclxuICAgICAgcmVzdWx0ID0gdHJ1ZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRocm93IHN0cignbmVlZEZ1bmN0aW9uJywgc1R5cGUpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxuICB9O1xyXG4gIHRoaXMuX3dyaXRlRGVidWcgPSBmdW5jdGlvbihzVGV4dCwgc1R5cGVPck9iamVjdCkge1xyXG4gICAgcmV0dXJuIHRydWU7XHJcbiAgfTtcclxuICB0aGlzLl93RCA9IHRoaXMuX3dyaXRlRGVidWc7XHJcbiAgdGhpcy5fZGVidWcgPSBmdW5jdGlvbigpIHtcclxuICB9O1xyXG4gIHRoaXMucmVib290ID0gZnVuY3Rpb24ocmVzZXRFdmVudHMsIGV4Y2x1ZGVJbml0KSB7XHJcbiAgICB2YXIgaSwgaiwgaztcclxuICAgIGZvciAoaSA9IHNtMi5zb3VuZElEcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xyXG4gICAgICBzbTIuc291bmRzW3NtMi5zb3VuZElEc1tpXV0uZGVzdHJ1Y3QoKTtcclxuICAgIH1cclxuICAgIGlmIChmbGFzaCkge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGlmIChpc0lFKSB7XHJcbiAgICAgICAgICBvUmVtb3ZlZEhUTUwgPSBmbGFzaC5pbm5lckhUTUw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG9SZW1vdmVkID0gZmxhc2gucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChmbGFzaCk7XHJcbiAgICAgIH0gY2F0Y2goZSkge1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBvUmVtb3ZlZEhUTUwgPSBvUmVtb3ZlZCA9IG5lZWRzRmxhc2ggPSBmbGFzaCA9IG51bGw7XHJcbiAgICBzbTIuZW5hYmxlZCA9IGRpZERDTG9hZGVkID0gZGlkSW5pdCA9IHdhaXRpbmdGb3JFSSA9IGluaXRQZW5kaW5nID0gZGlkQXBwZW5kID0gYXBwZW5kU3VjY2VzcyA9IGRpc2FibGVkID0gdXNlR2xvYmFsSFRNTDVBdWRpbyA9IHNtMi5zd2ZMb2FkZWQgPSBmYWxzZTtcclxuICAgIHNtMi5zb3VuZElEcyA9IFtdO1xyXG4gICAgc20yLnNvdW5kcyA9IHt9O1xyXG4gICAgaWRDb3VudGVyID0gMDtcclxuICAgIGRpZFNldHVwID0gZmFsc2U7XHJcbiAgICBpZiAoIXJlc2V0RXZlbnRzKSB7XHJcbiAgICAgIGZvciAoaSBpbiBvbl9xdWV1ZSkge1xyXG4gICAgICAgIGlmIChvbl9xdWV1ZS5oYXNPd25Qcm9wZXJ0eShpKSkge1xyXG4gICAgICAgICAgZm9yIChqID0gMCwgayA9IG9uX3F1ZXVlW2ldLmxlbmd0aDsgaiA8IGs7IGorKykge1xyXG4gICAgICAgICAgICBvbl9xdWV1ZVtpXVtqXS5maXJlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgb25fcXVldWUgPSBbXTtcclxuICAgIH1cclxuICAgIHNtMi5odG1sNSA9IHtcclxuICAgICAgdXNpbmdGbGFzaDogbnVsbFxyXG4gICAgfTtcclxuICAgIHNtMi5mbGFzaCA9IHt9O1xyXG4gICAgc20yLmh0bWw1T25seSA9IGZhbHNlO1xyXG4gICAgc20yLmlnbm9yZUZsYXNoID0gZmFsc2U7XHJcbiAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgaWYgKCFleGNsdWRlSW5pdCkge1xyXG4gICAgICAgIHNtMi5iZWdpbkRlbGF5ZWRJbml0KCk7XHJcbiAgICAgIH1cclxuICAgIH0sIDIwKTtcclxuICAgIHJldHVybiBzbTI7XHJcbiAgfTtcclxuICB0aGlzLnJlc2V0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4gc20yLnJlYm9vdCh0cnVlLCB0cnVlKTtcclxuICB9O1xyXG4gIHRoaXMuZ2V0TW92aWVQZXJjZW50ID0gZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4gKGZsYXNoICYmICdQZXJjZW50TG9hZGVkJyBpbiBmbGFzaCA/IGZsYXNoLlBlcmNlbnRMb2FkZWQoKSA6IG51bGwpO1xyXG4gIH07XHJcbiAgdGhpcy5iZWdpbkRlbGF5ZWRJbml0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICB3aW5kb3dMb2FkZWQgPSB0cnVlO1xyXG4gICAgZG9tQ29udGVudExvYWRlZCgpO1xyXG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgaWYgKGluaXRQZW5kaW5nKSByZXR1cm4gZmFsc2U7XHJcbiAgICAgIGNyZWF0ZU1vdmllKCk7XHJcbiAgICAgIGluaXRNb3ZpZSgpO1xyXG4gICAgICBpbml0UGVuZGluZyA9IHRydWU7XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfSwgMjApO1xyXG4gICAgZGVsYXlXYWl0Rm9yRUkoKTtcclxuICB9O1xyXG4gIHRoaXMuZGVzdHJ1Y3QgPSBmdW5jdGlvbigpIHtcclxuICAgIHNtMi5kaXNhYmxlKHRydWUpO1xyXG4gIH07XHJcbiAgU01Tb3VuZCA9IGZ1bmN0aW9uKG9PcHRpb25zKSB7XHJcbiAgICB2YXIgcyA9IHRoaXMsIHJlc2V0UHJvcGVydGllcywgYWRkX2h0bWw1X2V2ZW50cywgcmVtb3ZlX2h0bWw1X2V2ZW50cywgc3RvcF9odG1sNV90aW1lciwgc3RhcnRfaHRtbDVfdGltZXIsIGF0dGFjaE9uUG9zaXRpb24sIG9ucGxheV9jYWxsZWQgPSBmYWxzZSwgb25Qb3NpdGlvbkl0ZW1zID0gW10sIG9uUG9zaXRpb25GaXJlZCA9IDAsIGRldGFjaE9uUG9zaXRpb24sIGFwcGx5RnJvbVRvLCBsYXN0VVJMID0gbnVsbCwgbGFzdEhUTUw1U3RhdGUsIHVybE9taXR0ZWQ7XHJcbiAgICBsYXN0SFRNTDVTdGF0ZSA9IHtcclxuICAgICAgZHVyYXRpb246IG51bGwsXHJcbiAgICAgIHRpbWU6IG51bGxcclxuICAgIH07XHJcbiAgICB0aGlzLmlkID0gb09wdGlvbnMuaWQ7XHJcbiAgICB0aGlzLnNJRCA9IHRoaXMuaWQ7XHJcbiAgICB0aGlzLnVybCA9IG9PcHRpb25zLnVybDtcclxuICAgIHRoaXMub3B0aW9ucyA9IG1peGluKG9PcHRpb25zKTtcclxuICAgIHRoaXMuaW5zdGFuY2VPcHRpb25zID0gdGhpcy5vcHRpb25zO1xyXG4gICAgdGhpcy5faU8gPSB0aGlzLmluc3RhbmNlT3B0aW9ucztcclxuICAgIHRoaXMucGFuID0gdGhpcy5vcHRpb25zLnBhbjtcclxuICAgIHRoaXMudm9sdW1lID0gdGhpcy5vcHRpb25zLnZvbHVtZTtcclxuICAgIHRoaXMuaXNIVE1MNSA9IGZhbHNlO1xyXG4gICAgdGhpcy5fYSA9IG51bGw7XHJcbiAgICB1cmxPbWl0dGVkID0gKCF0aGlzLnVybCk7XHJcbiAgICB0aGlzLmlkMyA9IHt9O1xyXG4gICAgdGhpcy5fZGVidWcgPSBmdW5jdGlvbigpIHtcclxuICAgIH07XHJcbiAgICB0aGlzLmxvYWQgPSBmdW5jdGlvbihvcHRpb25zKSB7XHJcbiAgICAgIHZhciBvU291bmQgPSBudWxsLCBpbnN0YW5jZU9wdGlvbnM7XHJcbiAgICAgIGlmIChvcHRpb25zICE9PSBfdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgcy5faU8gPSBtaXhpbihvcHRpb25zLCBzLm9wdGlvbnMpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIG9wdGlvbnMgPSBzLm9wdGlvbnM7XHJcbiAgICAgICAgcy5faU8gPSBvcHRpb25zO1xyXG4gICAgICAgIGlmIChsYXN0VVJMICYmIGxhc3RVUkwgIT09IHMudXJsKSB7XHJcbiAgICAgICAgICBzLl9pTy51cmwgPSBzLnVybDtcclxuICAgICAgICAgIHMudXJsID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgaWYgKCFzLl9pTy51cmwpIHtcclxuICAgICAgICBzLl9pTy51cmwgPSBzLnVybDtcclxuICAgICAgfVxyXG4gICAgICBzLl9pTy51cmwgPSBwYXJzZVVSTChzLl9pTy51cmwpO1xyXG4gICAgICBzLmluc3RhbmNlT3B0aW9ucyA9IHMuX2lPO1xyXG4gICAgICBpbnN0YW5jZU9wdGlvbnMgPSBzLl9pTztcclxuICAgICAgaWYgKCFpbnN0YW5jZU9wdGlvbnMudXJsICYmICFzLnVybCkge1xyXG4gICAgICAgIHJldHVybiBzO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChpbnN0YW5jZU9wdGlvbnMudXJsID09PSBzLnVybCAmJiBzLnJlYWR5U3RhdGUgIT09IDAgJiYgcy5yZWFkeVN0YXRlICE9PSAyKSB7XHJcbiAgICAgICAgaWYgKHMucmVhZHlTdGF0ZSA9PT0gMyAmJiBpbnN0YW5jZU9wdGlvbnMub25sb2FkKSB7XHJcbiAgICAgICAgICB3cmFwQ2FsbGJhY2socywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGluc3RhbmNlT3B0aW9ucy5vbmxvYWQuYXBwbHkocywgWyghIXMuZHVyYXRpb24pXSk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHM7XHJcbiAgICAgIH1cclxuICAgICAgcy5sb2FkZWQgPSBmYWxzZTtcclxuICAgICAgcy5yZWFkeVN0YXRlID0gMTtcclxuICAgICAgcy5wbGF5U3RhdGUgPSAwO1xyXG4gICAgICBzLmlkMyA9IHt9O1xyXG4gICAgICBpZiAoaHRtbDVPSyhpbnN0YW5jZU9wdGlvbnMpKSB7XHJcbiAgICAgICAgb1NvdW5kID0gcy5fc2V0dXBfaHRtbDUoaW5zdGFuY2VPcHRpb25zKTtcclxuICAgICAgICBpZiAoIW9Tb3VuZC5fY2FsbGVkX2xvYWQpIHtcclxuICAgICAgICAgIHMuX2h0bWw1X2NhbnBsYXkgPSBmYWxzZTtcclxuICAgICAgICAgIGlmIChzLnVybCAhPT0gaW5zdGFuY2VPcHRpb25zLnVybCkge1xyXG4gICAgICAgICAgICBzLl9hLnNyYyA9IGluc3RhbmNlT3B0aW9ucy51cmw7XHJcbiAgICAgICAgICAgIHMuc2V0UG9zaXRpb24oMCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBzLl9hLmF1dG9idWZmZXIgPSAnYXV0byc7XHJcbiAgICAgICAgICBzLl9hLnByZWxvYWQgPSAnYXV0byc7XHJcbiAgICAgICAgICBzLl9hLl9jYWxsZWRfbG9hZCA9IHRydWU7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaWYgKHNtMi5odG1sNU9ubHkpIHtcclxuICAgICAgICAgIHJldHVybiBzO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocy5faU8udXJsICYmIHMuX2lPLnVybC5tYXRjaCgvZGF0YTovaSkpIHtcclxuICAgICAgICAgIHJldHVybiBzO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgcy5pc0hUTUw1ID0gZmFsc2U7XHJcbiAgICAgICAgICBzLl9pTyA9IHBvbGljeUZpeChsb29wRml4KGluc3RhbmNlT3B0aW9ucykpO1xyXG4gICAgICAgICAgaWYgKHMuX2lPLmF1dG9QbGF5ICYmIChzLl9pTy5wb3NpdGlvbiB8fCBzLl9pTy5mcm9tKSkge1xyXG4gICAgICAgICAgICBzLl9pTy5hdXRvUGxheSA9IGZhbHNlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaW5zdGFuY2VPcHRpb25zID0gcy5faU87XHJcbiAgICAgICAgICBpZiAoZlYgPT09IDgpIHtcclxuICAgICAgICAgICAgZmxhc2guX2xvYWQocy5pZCwgaW5zdGFuY2VPcHRpb25zLnVybCwgaW5zdGFuY2VPcHRpb25zLnN0cmVhbSwgaW5zdGFuY2VPcHRpb25zLmF1dG9QbGF5LCBpbnN0YW5jZU9wdGlvbnMudXNlUG9saWN5RmlsZSk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBmbGFzaC5fbG9hZChzLmlkLCBpbnN0YW5jZU9wdGlvbnMudXJsLCAhIShpbnN0YW5jZU9wdGlvbnMuc3RyZWFtKSwgISEoaW5zdGFuY2VPcHRpb25zLmF1dG9QbGF5KSwgaW5zdGFuY2VPcHRpb25zLmxvb3BzIHx8IDEsICEhKGluc3RhbmNlT3B0aW9ucy5hdXRvTG9hZCksIGluc3RhbmNlT3B0aW9ucy51c2VQb2xpY3lGaWxlKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoKGUpIHtcclxuICAgICAgICAgIGNhdGNoRXJyb3Ioe1xyXG4gICAgICAgICAgICB0eXBlOiAnU01TT1VORF9MT0FEX0pTX0VYQ0VQVElPTicsXHJcbiAgICAgICAgICAgIGZhdGFsOiB0cnVlXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgcy51cmwgPSBpbnN0YW5jZU9wdGlvbnMudXJsO1xyXG4gICAgICByZXR1cm4gcztcclxuICAgIH07XHJcbiAgICB0aGlzLnVubG9hZCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICBpZiAocy5yZWFkeVN0YXRlICE9PSAwKSB7XHJcbiAgICAgICAgaWYgKCFzLmlzSFRNTDUpIHtcclxuICAgICAgICAgIGlmIChmViA9PT0gOCkge1xyXG4gICAgICAgICAgICBmbGFzaC5fdW5sb2FkKHMuaWQsIGVtcHR5VVJMKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGZsYXNoLl91bmxvYWQocy5pZCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHN0b3BfaHRtbDVfdGltZXIoKTtcclxuICAgICAgICAgIGlmIChzLl9hKSB7XHJcbiAgICAgICAgICAgIHMuX2EucGF1c2UoKTtcclxuICAgICAgICAgICAgbGFzdFVSTCA9IGh0bWw1VW5sb2FkKHMuX2EpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXNldFByb3BlcnRpZXMoKTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gcztcclxuICAgIH07XHJcbiAgICB0aGlzLmRlc3RydWN0ID0gZnVuY3Rpb24oX2JGcm9tU00pIHtcclxuICAgICAgaWYgKCFzLmlzSFRNTDUpIHtcclxuICAgICAgICBzLl9pTy5vbmZhaWx1cmUgPSBudWxsO1xyXG4gICAgICAgIGZsYXNoLl9kZXN0cm95U291bmQocy5pZCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgc3RvcF9odG1sNV90aW1lcigpO1xyXG4gICAgICAgIGlmIChzLl9hKSB7XHJcbiAgICAgICAgICBzLl9hLnBhdXNlKCk7XHJcbiAgICAgICAgICBodG1sNVVubG9hZChzLl9hKTtcclxuICAgICAgICAgIGlmICghdXNlR2xvYmFsSFRNTDVBdWRpbykge1xyXG4gICAgICAgICAgICByZW1vdmVfaHRtbDVfZXZlbnRzKCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBzLl9hLl9zID0gbnVsbDtcclxuICAgICAgICAgIHMuX2EgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBpZiAoIV9iRnJvbVNNKSB7XHJcbiAgICAgICAgc20yLmRlc3Ryb3lTb3VuZChzLmlkLCB0cnVlKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICAgIHRoaXMucGxheSA9IGZ1bmN0aW9uKG9wdGlvbnMsIF91cGRhdGVQbGF5U3RhdGUpIHtcclxuICAgICAgdmFyIGZOLCBhbGxvd011bHRpLCBhLCBvbnJlYWR5LFxyXG4gICAgICAgICAgYXVkaW9DbG9uZSwgb25lbmRlZCwgb25jYW5wbGF5LFxyXG4gICAgICAgICAgc3RhcnRPSyA9IHRydWU7XHJcbiAgICAgIF91cGRhdGVQbGF5U3RhdGUgPSAoX3VwZGF0ZVBsYXlTdGF0ZSA9PT0gX3VuZGVmaW5lZCA/IHRydWUgOiBfdXBkYXRlUGxheVN0YXRlKTtcclxuICAgICAgaWYgKCFvcHRpb25zKSB7XHJcbiAgICAgICAgb3B0aW9ucyA9IHt9O1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChzLnVybCkge1xyXG4gICAgICAgIHMuX2lPLnVybCA9IHMudXJsO1xyXG4gICAgICB9XHJcbiAgICAgIHMuX2lPID0gbWl4aW4ocy5faU8sIHMub3B0aW9ucyk7XHJcbiAgICAgIHMuX2lPID0gbWl4aW4ob3B0aW9ucywgcy5faU8pO1xyXG4gICAgICBzLl9pTy51cmwgPSBwYXJzZVVSTChzLl9pTy51cmwpO1xyXG4gICAgICBzLmluc3RhbmNlT3B0aW9ucyA9IHMuX2lPO1xyXG4gICAgICBpZiAoIXMuaXNIVE1MNSAmJiBzLl9pTy5zZXJ2ZXJVUkwgJiYgIXMuY29ubmVjdGVkKSB7XHJcbiAgICAgICAgaWYgKCFzLmdldEF1dG9QbGF5KCkpIHtcclxuICAgICAgICAgIHMuc2V0QXV0b1BsYXkodHJ1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBzO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChodG1sNU9LKHMuX2lPKSkge1xyXG4gICAgICAgIHMuX3NldHVwX2h0bWw1KHMuX2lPKTtcclxuICAgICAgICBzdGFydF9odG1sNV90aW1lcigpO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChzLnBsYXlTdGF0ZSA9PT0gMSAmJiAhcy5wYXVzZWQpIHtcclxuICAgICAgICBhbGxvd011bHRpID0gcy5faU8ubXVsdGlTaG90O1xyXG4gICAgICAgIGlmICghYWxsb3dNdWx0aSkge1xyXG4gICAgICAgICAgaWYgKHMuaXNIVE1MNSkge1xyXG4gICAgICAgICAgICBzLnNldFBvc2l0aW9uKHMuX2lPLnBvc2l0aW9uKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHJldHVybiBzO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBpZiAob3B0aW9ucy51cmwgJiYgb3B0aW9ucy51cmwgIT09IHMudXJsKSB7XHJcbiAgICAgICAgaWYgKCFzLnJlYWR5U3RhdGUgJiYgIXMuaXNIVE1MNSAmJiBmViA9PT0gOCAmJiB1cmxPbWl0dGVkKSB7XHJcbiAgICAgICAgICB1cmxPbWl0dGVkID0gZmFsc2U7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHMubG9hZChzLl9pTyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIGlmICghcy5sb2FkZWQpIHtcclxuICAgICAgICBpZiAocy5yZWFkeVN0YXRlID09PSAwKSB7XHJcbiAgICAgICAgICBpZiAoIXMuaXNIVE1MNSAmJiAhc20yLmh0bWw1T25seSkge1xyXG4gICAgICAgICAgICBzLl9pTy5hdXRvUGxheSA9IHRydWU7XHJcbiAgICAgICAgICAgIHMubG9hZChzLl9pTyk7XHJcbiAgICAgICAgICB9IGVsc2UgaWYgKHMuaXNIVE1MNSkge1xyXG4gICAgICAgICAgICBzLmxvYWQocy5faU8pO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHM7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBzLmluc3RhbmNlT3B0aW9ucyA9IHMuX2lPO1xyXG4gICAgICAgIH0gZWxzZSBpZiAocy5yZWFkeVN0YXRlID09PSAyKSB7XHJcbiAgICAgICAgICByZXR1cm4gcztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgfVxyXG4gICAgICBpZiAoIXMuaXNIVE1MNSAmJiBmViA9PT0gOSAmJiBzLnBvc2l0aW9uID4gMCAmJiBzLnBvc2l0aW9uID09PSBzLmR1cmF0aW9uKSB7XHJcbiAgICAgICAgb3B0aW9ucy5wb3NpdGlvbiA9IDA7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHMucGF1c2VkICYmIHMucG9zaXRpb24gPj0gMCAmJiAoIXMuX2lPLnNlcnZlclVSTCB8fCBzLnBvc2l0aW9uID4gMCkpIHtcclxuICAgICAgICBzLnJlc3VtZSgpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHMuX2lPID0gbWl4aW4ob3B0aW9ucywgcy5faU8pO1xyXG4gICAgICAgIGlmICgoKCFzLmlzSFRNTDUgJiYgcy5faU8ucG9zaXRpb24gIT09IG51bGwgJiYgcy5faU8ucG9zaXRpb24gPiAwKSB8fCAocy5faU8uZnJvbSAhPT0gbnVsbCAmJiBzLl9pTy5mcm9tID4gMCkgfHwgcy5faU8udG8gIT09IG51bGwpICYmIHMuaW5zdGFuY2VDb3VudCA9PT0gMCAmJiBzLnBsYXlTdGF0ZSA9PT0gMCAmJiAhcy5faU8uc2VydmVyVVJMKSB7XHJcbiAgICAgICAgICBvbnJlYWR5ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHMuX2lPID0gbWl4aW4ob3B0aW9ucywgcy5faU8pO1xyXG4gICAgICAgICAgICBzLnBsYXkocy5faU8pO1xyXG4gICAgICAgICAgfTtcclxuICAgICAgICAgIGlmIChzLmlzSFRNTDUgJiYgIXMuX2h0bWw1X2NhbnBsYXkpIHtcclxuICAgICAgICAgICAgcy5sb2FkKHtcclxuICAgICAgICAgICAgICBfb25jYW5wbGF5OiBvbnJlYWR5XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfSBlbHNlIGlmICghcy5pc0hUTUw1ICYmICFzLmxvYWRlZCAmJiAoIXMucmVhZHlTdGF0ZSB8fCBzLnJlYWR5U3RhdGUgIT09IDIpKSB7XHJcbiAgICAgICAgICAgIHMubG9hZCh7XHJcbiAgICAgICAgICAgICAgb25sb2FkOiBvbnJlYWR5XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgcy5faU8gPSBhcHBseUZyb21UbygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIXMuaW5zdGFuY2VDb3VudCB8fCBzLl9pTy5tdWx0aVNob3RFdmVudHMgfHwgKHMuaXNIVE1MNSAmJiBzLl9pTy5tdWx0aVNob3QgJiYgIXVzZUdsb2JhbEhUTUw1QXVkaW8pIHx8ICghcy5pc0hUTUw1ICYmIGZWID4gOCAmJiAhcy5nZXRBdXRvUGxheSgpKSkge1xyXG4gICAgICAgICAgcy5pbnN0YW5jZUNvdW50Kys7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChzLl9pTy5vbnBvc2l0aW9uICYmIHMucGxheVN0YXRlID09PSAwKSB7XHJcbiAgICAgICAgICBhdHRhY2hPblBvc2l0aW9uKHMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzLnBsYXlTdGF0ZSA9IDE7XHJcbiAgICAgICAgcy5wYXVzZWQgPSBmYWxzZTtcclxuICAgICAgICBzLnBvc2l0aW9uID0gKHMuX2lPLnBvc2l0aW9uICE9PSBfdW5kZWZpbmVkICYmICFpc05hTihzLl9pTy5wb3NpdGlvbikgPyBzLl9pTy5wb3NpdGlvbiA6IDApO1xyXG4gICAgICAgIGlmICghcy5pc0hUTUw1KSB7XHJcbiAgICAgICAgICBzLl9pTyA9IHBvbGljeUZpeChsb29wRml4KHMuX2lPKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChzLl9pTy5vbnBsYXkgJiYgX3VwZGF0ZVBsYXlTdGF0ZSkge1xyXG4gICAgICAgICAgcy5faU8ub25wbGF5LmFwcGx5KHMpO1xyXG4gICAgICAgICAgb25wbGF5X2NhbGxlZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHMuc2V0Vm9sdW1lKHMuX2lPLnZvbHVtZSwgdHJ1ZSk7XHJcbiAgICAgICAgcy5zZXRQYW4ocy5faU8ucGFuLCB0cnVlKTtcclxuICAgICAgICBpZiAocy5faU8ucGxheWJhY2tSYXRlICE9PSAxKSB7XHJcbiAgICAgICAgICBzLnNldFBsYXliYWNrUmF0ZShzLl9pTy5wbGF5YmFja1JhdGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIXMuaXNIVE1MNSkge1xyXG4gICAgICAgICAgc3RhcnRPSyA9IGZsYXNoLl9zdGFydChzLmlkLCBzLl9pTy5sb29wcyB8fCAxLCAoZlYgPT09IDkgPyBzLnBvc2l0aW9uIDogcy5wb3NpdGlvbiAvIG1zZWNTY2FsZSksIHMuX2lPLm11bHRpU2hvdCB8fCBmYWxzZSk7XHJcbiAgICAgICAgICBpZiAoZlYgPT09IDkgJiYgIXN0YXJ0T0spIHtcclxuICAgICAgICAgICAgaWYgKHMuX2lPLm9ucGxheWVycm9yKSB7XHJcbiAgICAgICAgICAgICAgcy5faU8ub25wbGF5ZXJyb3IuYXBwbHkocyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2UgaWYgKHMuaW5zdGFuY2VDb3VudCA8IDIpIHtcclxuICAgICAgICAgICAgc3RhcnRfaHRtbDVfdGltZXIoKTtcclxuICAgICAgICAgICAgYSA9IHMuX3NldHVwX2h0bWw1KCk7XHJcbiAgICAgICAgICAgIHMuc2V0UG9zaXRpb24ocy5faU8ucG9zaXRpb24pO1xyXG4gICAgICAgICAgICBhLnBsYXkoKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGF1ZGlvQ2xvbmUgPSBuZXcgQXVkaW8ocy5faU8udXJsKTtcclxuICAgICAgICAgICAgb25lbmRlZCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgIGV2ZW50LnJlbW92ZShhdWRpb0Nsb25lLCAnZW5kZWQnLCBvbmVuZGVkKTtcclxuICAgICAgICAgICAgICBzLl9vbmZpbmlzaChzKTtcclxuICAgICAgICAgICAgICBodG1sNVVubG9hZChhdWRpb0Nsb25lKTtcclxuICAgICAgICAgICAgICBhdWRpb0Nsb25lID0gbnVsbDtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgb25jYW5wbGF5ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgZXZlbnQucmVtb3ZlKGF1ZGlvQ2xvbmUsICdjYW5wbGF5Jywgb25jYW5wbGF5KTtcclxuICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgYXVkaW9DbG9uZS5jdXJyZW50VGltZSA9IHMuX2lPLnBvc2l0aW9uIC8gbXNlY1NjYWxlO1xyXG4gICAgICAgICAgICAgIH0gY2F0Y2goZXJyKSB7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIGF1ZGlvQ2xvbmUucGxheSgpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBldmVudC5hZGQoYXVkaW9DbG9uZSwgJ2VuZGVkJywgb25lbmRlZCk7XHJcbiAgICAgICAgICAgIGlmIChzLl9pTy52b2x1bWUgIT09IF91bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICBhdWRpb0Nsb25lLnZvbHVtZSA9IE1hdGgubWF4KDAsIE1hdGgubWluKDEsIHMuX2lPLnZvbHVtZSAvIDEwMCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChzLm11dGVkKSB7XHJcbiAgICAgICAgICAgICAgYXVkaW9DbG9uZS5tdXRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHMuX2lPLnBvc2l0aW9uKSB7XHJcbiAgICAgICAgICAgICAgZXZlbnQuYWRkKGF1ZGlvQ2xvbmUsICdjYW5wbGF5Jywgb25jYW5wbGF5KTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBhdWRpb0Nsb25lLnBsYXkoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBzO1xyXG4gICAgfTtcclxuICAgIHRoaXMuc3RhcnQgPSB0aGlzLnBsYXk7XHJcbiAgICB0aGlzLnN0b3AgPSBmdW5jdGlvbihiQWxsKSB7XHJcbiAgICAgIHZhciBpbnN0YW5jZU9wdGlvbnMgPSBzLl9pTyxcclxuICAgICAgICAgIG9yaWdpbmFsUG9zaXRpb247XHJcbiAgICAgIGlmIChzLnBsYXlTdGF0ZSA9PT0gMSkge1xyXG4gICAgICAgIHMuX29uYnVmZmVyY2hhbmdlKDApO1xyXG4gICAgICAgIHMuX3Jlc2V0T25Qb3NpdGlvbigwKTtcclxuICAgICAgICBzLnBhdXNlZCA9IGZhbHNlO1xyXG4gICAgICAgIGlmICghcy5pc0hUTUw1KSB7XHJcbiAgICAgICAgICBzLnBsYXlTdGF0ZSA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGRldGFjaE9uUG9zaXRpb24oKTtcclxuICAgICAgICBpZiAoaW5zdGFuY2VPcHRpb25zLnRvKSB7XHJcbiAgICAgICAgICBzLmNsZWFyT25Qb3NpdGlvbihpbnN0YW5jZU9wdGlvbnMudG8pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIXMuaXNIVE1MNSkge1xyXG4gICAgICAgICAgZmxhc2guX3N0b3Aocy5pZCwgYkFsbCk7XHJcbiAgICAgICAgICBpZiAoaW5zdGFuY2VPcHRpb25zLnNlcnZlclVSTCkge1xyXG4gICAgICAgICAgICBzLnVubG9hZCgpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSBpZiAocy5fYSkge1xyXG4gICAgICAgICAgICBvcmlnaW5hbFBvc2l0aW9uID0gcy5wb3NpdGlvbjtcclxuICAgICAgICAgICAgcy5zZXRQb3NpdGlvbigwKTtcclxuICAgICAgICAgICAgcy5wb3NpdGlvbiA9IG9yaWdpbmFsUG9zaXRpb247XHJcbiAgICAgICAgICAgIHMuX2EucGF1c2UoKTtcclxuICAgICAgICAgICAgcy5wbGF5U3RhdGUgPSAwO1xyXG4gICAgICAgICAgICBzLl9vblRpbWVyKCk7XHJcbiAgICAgICAgICAgIHN0b3BfaHRtbDVfdGltZXIoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICBzLmluc3RhbmNlQ291bnQgPSAwO1xyXG4gICAgICAgIHMuX2lPID0ge307XHJcbiAgICAgICAgaWYgKGluc3RhbmNlT3B0aW9ucy5vbnN0b3ApIHtcclxuICAgICAgICAgIGluc3RhbmNlT3B0aW9ucy5vbnN0b3AuYXBwbHkocyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBzO1xyXG4gICAgfTtcclxuICAgIHRoaXMuc2V0QXV0b1BsYXkgPSBmdW5jdGlvbihhdXRvUGxheSkge1xyXG4gICAgICBzLl9pTy5hdXRvUGxheSA9IGF1dG9QbGF5O1xyXG4gICAgICBpZiAoIXMuaXNIVE1MNSkge1xyXG4gICAgICAgIGZsYXNoLl9zZXRBdXRvUGxheShzLmlkLCBhdXRvUGxheSk7XHJcbiAgICAgICAgaWYgKGF1dG9QbGF5KSB7XHJcbiAgICAgICAgICBpZiAoIXMuaW5zdGFuY2VDb3VudCAmJiBzLnJlYWR5U3RhdGUgPT09IDEpIHtcclxuICAgICAgICAgICAgcy5pbnN0YW5jZUNvdW50Kys7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gICAgdGhpcy5nZXRBdXRvUGxheSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICByZXR1cm4gcy5faU8uYXV0b1BsYXk7XHJcbiAgICB9O1xyXG4gICAgdGhpcy5zZXRQbGF5YmFja1JhdGUgPSBmdW5jdGlvbihwbGF5YmFja1JhdGUpIHtcclxuICAgICAgdmFyIG5vcm1hbGl6ZWRSYXRlID0gTWF0aC5tYXgoMC41LCBNYXRoLm1pbig0LCBwbGF5YmFja1JhdGUpKTtcclxuICAgICAgaWYgKHMuaXNIVE1MNSkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICBzLl9pTy5wbGF5YmFja1JhdGUgPSBub3JtYWxpemVkUmF0ZTtcclxuICAgICAgICAgIHMuX2EucGxheWJhY2tSYXRlID0gbm9ybWFsaXplZFJhdGU7XHJcbiAgICAgICAgfSBjYXRjaChlKSB7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBzO1xyXG4gICAgfTtcclxuICAgIHRoaXMuc2V0UG9zaXRpb24gPSBmdW5jdGlvbihuTXNlY09mZnNldCkge1xyXG4gICAgICBpZiAobk1zZWNPZmZzZXQgPT09IF91bmRlZmluZWQpIHtcclxuICAgICAgICBuTXNlY09mZnNldCA9IDA7XHJcbiAgICAgIH1cclxuICAgICAgdmFyIHBvc2l0aW9uLCBwb3NpdGlvbjFLLFxyXG4gICAgICAgICAgb2Zmc2V0ID0gKHMuaXNIVE1MNSA/IE1hdGgubWF4KG5Nc2VjT2Zmc2V0LCAwKSA6IE1hdGgubWluKHMuZHVyYXRpb24gfHwgcy5faU8uZHVyYXRpb24sIE1hdGgubWF4KG5Nc2VjT2Zmc2V0LCAwKSkpO1xyXG4gICAgICBzLnBvc2l0aW9uID0gb2Zmc2V0O1xyXG4gICAgICBwb3NpdGlvbjFLID0gcy5wb3NpdGlvbiAvIG1zZWNTY2FsZTtcclxuICAgICAgcy5fcmVzZXRPblBvc2l0aW9uKHMucG9zaXRpb24pO1xyXG4gICAgICBzLl9pTy5wb3NpdGlvbiA9IG9mZnNldDtcclxuICAgICAgaWYgKCFzLmlzSFRNTDUpIHtcclxuICAgICAgICBwb3NpdGlvbiA9IChmViA9PT0gOSA/IHMucG9zaXRpb24gOiBwb3NpdGlvbjFLKTtcclxuICAgICAgICBpZiAocy5yZWFkeVN0YXRlICYmIHMucmVhZHlTdGF0ZSAhPT0gMikge1xyXG4gICAgICAgICAgZmxhc2guX3NldFBvc2l0aW9uKHMuaWQsIHBvc2l0aW9uLCAocy5wYXVzZWQgfHwgIXMucGxheVN0YXRlKSwgcy5faU8ubXVsdGlTaG90KTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSBpZiAocy5fYSkge1xyXG4gICAgICAgIGlmIChzLl9odG1sNV9jYW5wbGF5KSB7XHJcbiAgICAgICAgICBpZiAocy5fYS5jdXJyZW50VGltZS50b0ZpeGVkKDMpICE9PSBwb3NpdGlvbjFLLnRvRml4ZWQoMykpIHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICBzLl9hLmN1cnJlbnRUaW1lID0gcG9zaXRpb24xSztcclxuICAgICAgICAgICAgICBpZiAocy5wbGF5U3RhdGUgPT09IDAgfHwgcy5wYXVzZWQpIHtcclxuICAgICAgICAgICAgICAgIHMuX2EucGF1c2UoKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gY2F0Y2goZSkge1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIGlmIChwb3NpdGlvbjFLKSB7XHJcbiAgICAgICAgICByZXR1cm4gcztcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHMucGF1c2VkKSB7XHJcbiAgICAgICAgICBzLl9vblRpbWVyKHRydWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gcztcclxuICAgIH07XHJcbiAgICB0aGlzLnBhdXNlID0gZnVuY3Rpb24oX2JDYWxsRmxhc2gpIHtcclxuICAgICAgaWYgKHMucGF1c2VkIHx8IChzLnBsYXlTdGF0ZSA9PT0gMCAmJiBzLnJlYWR5U3RhdGUgIT09IDEpKSByZXR1cm4gcztcclxuICAgICAgcy5wYXVzZWQgPSB0cnVlO1xyXG4gICAgICBpZiAoIXMuaXNIVE1MNSkge1xyXG4gICAgICAgIGlmIChfYkNhbGxGbGFzaCB8fCBfYkNhbGxGbGFzaCA9PT0gX3VuZGVmaW5lZCkge1xyXG4gICAgICAgICAgZmxhc2guX3BhdXNlKHMuaWQsIHMuX2lPLm11bHRpU2hvdCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHMuX3NldHVwX2h0bWw1KCkucGF1c2UoKTtcclxuICAgICAgICBzdG9wX2h0bWw1X3RpbWVyKCk7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHMuX2lPLm9ucGF1c2UpIHtcclxuICAgICAgICBzLl9pTy5vbnBhdXNlLmFwcGx5KHMpO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBzO1xyXG4gICAgfTtcclxuICAgIHRoaXMucmVzdW1lID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgIHZhciBpbnN0YW5jZU9wdGlvbnMgPSBzLl9pTztcclxuICAgICAgaWYgKCFzLnBhdXNlZCkgcmV0dXJuIHM7XHJcbiAgICAgIHMucGF1c2VkID0gZmFsc2U7XHJcbiAgICAgIHMucGxheVN0YXRlID0gMTtcclxuICAgICAgaWYgKCFzLmlzSFRNTDUpIHtcclxuICAgICAgICBpZiAoaW5zdGFuY2VPcHRpb25zLmlzTW92aWVTdGFyICYmICFpbnN0YW5jZU9wdGlvbnMuc2VydmVyVVJMKSB7XHJcbiAgICAgICAgICBzLnNldFBvc2l0aW9uKHMucG9zaXRpb24pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmbGFzaC5fcGF1c2Uocy5pZCwgaW5zdGFuY2VPcHRpb25zLm11bHRpU2hvdCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcy5fc2V0dXBfaHRtbDUoKS5wbGF5KCk7XHJcbiAgICAgICAgc3RhcnRfaHRtbDVfdGltZXIoKTtcclxuICAgICAgfVxyXG4gICAgICBpZiAoIW9ucGxheV9jYWxsZWQgJiYgaW5zdGFuY2VPcHRpb25zLm9ucGxheSkge1xyXG4gICAgICAgIGluc3RhbmNlT3B0aW9ucy5vbnBsYXkuYXBwbHkocyk7XHJcbiAgICAgICAgb25wbGF5X2NhbGxlZCA9IHRydWU7XHJcbiAgICAgIH0gZWxzZSBpZiAoaW5zdGFuY2VPcHRpb25zLm9ucmVzdW1lKSB7XHJcbiAgICAgICAgaW5zdGFuY2VPcHRpb25zLm9ucmVzdW1lLmFwcGx5KHMpO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBzO1xyXG4gICAgfTtcclxuICAgIHRoaXMudG9nZ2xlUGF1c2UgPSBmdW5jdGlvbigpIHtcclxuICAgICAgaWYgKHMucGxheVN0YXRlID09PSAwKSB7XHJcbiAgICAgICAgcy5wbGF5KHtcclxuICAgICAgICAgIHBvc2l0aW9uOiAoZlYgPT09IDkgJiYgIXMuaXNIVE1MNSA/IHMucG9zaXRpb24gOiBzLnBvc2l0aW9uIC8gbXNlY1NjYWxlKVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBzO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChzLnBhdXNlZCkge1xyXG4gICAgICAgIHMucmVzdW1lKCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcy5wYXVzZSgpO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBzO1xyXG4gICAgfTtcclxuICAgIHRoaXMuc2V0UGFuID0gZnVuY3Rpb24oblBhbiwgYkluc3RhbmNlT25seSkge1xyXG4gICAgICBpZiAoblBhbiA9PT0gX3VuZGVmaW5lZCkge1xyXG4gICAgICAgIG5QYW4gPSAwO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChiSW5zdGFuY2VPbmx5ID09PSBfdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgYkluc3RhbmNlT25seSA9IGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICAgIGlmICghcy5pc0hUTUw1KSB7XHJcbiAgICAgICAgZmxhc2guX3NldFBhbihzLmlkLCBuUGFuKTtcclxuICAgICAgfVxyXG4gICAgICBzLl9pTy5wYW4gPSBuUGFuO1xyXG4gICAgICBpZiAoIWJJbnN0YW5jZU9ubHkpIHtcclxuICAgICAgICBzLnBhbiA9IG5QYW47XHJcbiAgICAgICAgcy5vcHRpb25zLnBhbiA9IG5QYW47XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIHM7XHJcbiAgICB9O1xyXG4gICAgdGhpcy5zZXRWb2x1bWUgPSBmdW5jdGlvbihuVm9sLCBfYkluc3RhbmNlT25seSkge1xyXG4gICAgICBpZiAoblZvbCA9PT0gX3VuZGVmaW5lZCkge1xyXG4gICAgICAgIG5Wb2wgPSAxMDA7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKF9iSW5zdGFuY2VPbmx5ID09PSBfdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgX2JJbnN0YW5jZU9ubHkgPSBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgICBpZiAoIXMuaXNIVE1MNSkge1xyXG4gICAgICAgIGZsYXNoLl9zZXRWb2x1bWUocy5pZCwgKHNtMi5tdXRlZCAmJiAhcy5tdXRlZCkgfHwgcy5tdXRlZCA/IDAgOiBuVm9sKTtcclxuICAgICAgfSBlbHNlIGlmIChzLl9hKSB7XHJcbiAgICAgICAgaWYgKHNtMi5tdXRlZCAmJiAhcy5tdXRlZCkge1xyXG4gICAgICAgICAgcy5tdXRlZCA9IHRydWU7XHJcbiAgICAgICAgICBzLl9hLm11dGVkID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcy5fYS52b2x1bWUgPSBNYXRoLm1heCgwLCBNYXRoLm1pbigxLCBuVm9sIC8gMTAwKSk7XHJcbiAgICAgIH1cclxuICAgICAgcy5faU8udm9sdW1lID0gblZvbDtcclxuICAgICAgaWYgKCFfYkluc3RhbmNlT25seSkge1xyXG4gICAgICAgIHMudm9sdW1lID0gblZvbDtcclxuICAgICAgICBzLm9wdGlvbnMudm9sdW1lID0gblZvbDtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gcztcclxuICAgIH07XHJcbiAgICB0aGlzLm11dGUgPSBmdW5jdGlvbigpIHtcclxuICAgICAgcy5tdXRlZCA9IHRydWU7XHJcbiAgICAgIGlmICghcy5pc0hUTUw1KSB7XHJcbiAgICAgICAgZmxhc2guX3NldFZvbHVtZShzLmlkLCAwKTtcclxuICAgICAgfSBlbHNlIGlmIChzLl9hKSB7XHJcbiAgICAgICAgcy5fYS5tdXRlZCA9IHRydWU7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIHM7XHJcbiAgICB9O1xyXG4gICAgdGhpcy51bm11dGUgPSBmdW5jdGlvbigpIHtcclxuICAgICAgcy5tdXRlZCA9IGZhbHNlO1xyXG4gICAgICB2YXIgaGFzSU8gPSAocy5faU8udm9sdW1lICE9PSBfdW5kZWZpbmVkKTtcclxuICAgICAgaWYgKCFzLmlzSFRNTDUpIHtcclxuICAgICAgICBmbGFzaC5fc2V0Vm9sdW1lKHMuaWQsIGhhc0lPID8gcy5faU8udm9sdW1lIDogcy5vcHRpb25zLnZvbHVtZSk7XHJcbiAgICAgIH0gZWxzZSBpZiAocy5fYSkge1xyXG4gICAgICAgIHMuX2EubXV0ZWQgPSBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gcztcclxuICAgIH07XHJcbiAgICB0aGlzLnRvZ2dsZU11dGUgPSBmdW5jdGlvbigpIHtcclxuICAgICAgcmV0dXJuIChzLm11dGVkID8gcy51bm11dGUoKSA6IHMubXV0ZSgpKTtcclxuICAgIH07XHJcbiAgICB0aGlzLm9uUG9zaXRpb24gPSBmdW5jdGlvbihuUG9zaXRpb24sIG9NZXRob2QsIG9TY29wZSkge1xyXG4gICAgICBvblBvc2l0aW9uSXRlbXMucHVzaCh7XHJcbiAgICAgICAgcG9zaXRpb246IHBhcnNlSW50KG5Qb3NpdGlvbiwgMTApLFxyXG4gICAgICAgIG1ldGhvZDogb01ldGhvZCxcclxuICAgICAgICBzY29wZTogKG9TY29wZSAhPT0gX3VuZGVmaW5lZCA/IG9TY29wZSA6IHMpLFxyXG4gICAgICAgIGZpcmVkOiBmYWxzZVxyXG4gICAgICB9KTtcclxuICAgICAgcmV0dXJuIHM7XHJcbiAgICB9O1xyXG4gICAgdGhpcy5vbnBvc2l0aW9uID0gdGhpcy5vblBvc2l0aW9uO1xyXG4gICAgdGhpcy5jbGVhck9uUG9zaXRpb24gPSBmdW5jdGlvbihuUG9zaXRpb24sIG9NZXRob2QpIHtcclxuICAgICAgdmFyIGk7XHJcbiAgICAgIG5Qb3NpdGlvbiA9IHBhcnNlSW50KG5Qb3NpdGlvbiwgMTApO1xyXG4gICAgICBpZiAoaXNOYU4oblBvc2l0aW9uKSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgb25Qb3NpdGlvbkl0ZW1zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgaWYgKG5Qb3NpdGlvbiA9PT0gb25Qb3NpdGlvbkl0ZW1zW2ldLnBvc2l0aW9uKSB7XHJcbiAgICAgICAgICBpZiAoIW9NZXRob2QgfHwgKG9NZXRob2QgPT09IG9uUG9zaXRpb25JdGVtc1tpXS5tZXRob2QpKSB7XHJcbiAgICAgICAgICAgIGlmIChvblBvc2l0aW9uSXRlbXNbaV0uZmlyZWQpIHtcclxuICAgICAgICAgICAgICBvblBvc2l0aW9uRmlyZWQtLTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBvblBvc2l0aW9uSXRlbXMuc3BsaWNlKGksIDEpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfTtcclxuICAgIHRoaXMuX3Byb2Nlc3NPblBvc2l0aW9uID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgIHZhciBpLCBpdGVtLCBqID0gb25Qb3NpdGlvbkl0ZW1zLmxlbmd0aDtcclxuICAgICAgaWYgKCFqIHx8ICFzLnBsYXlTdGF0ZSB8fCBvblBvc2l0aW9uRmlyZWQgPj0gaikgcmV0dXJuIGZhbHNlO1xyXG4gICAgICBmb3IgKGkgPSBqIC0gMTsgaSA+PSAwOyBpLS0pIHtcclxuICAgICAgICBpdGVtID0gb25Qb3NpdGlvbkl0ZW1zW2ldO1xyXG4gICAgICAgIGlmICghaXRlbS5maXJlZCAmJiBzLnBvc2l0aW9uID49IGl0ZW0ucG9zaXRpb24pIHtcclxuICAgICAgICAgIGl0ZW0uZmlyZWQgPSB0cnVlO1xyXG4gICAgICAgICAgb25Qb3NpdGlvbkZpcmVkKys7XHJcbiAgICAgICAgICBpdGVtLm1ldGhvZC5hcHBseShpdGVtLnNjb3BlLCBbaXRlbS5wb3NpdGlvbl0pO1xyXG4gICAgICAgICAgaiA9IG9uUG9zaXRpb25JdGVtcy5sZW5ndGg7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfTtcclxuICAgIHRoaXMuX3Jlc2V0T25Qb3NpdGlvbiA9IGZ1bmN0aW9uKG5Qb3NpdGlvbikge1xyXG4gICAgICB2YXIgaSwgaXRlbSwgaiA9IG9uUG9zaXRpb25JdGVtcy5sZW5ndGg7XHJcbiAgICAgIGlmICghaikgcmV0dXJuIGZhbHNlO1xyXG4gICAgICBmb3IgKGkgPSBqIC0gMTsgaSA+PSAwOyBpLS0pIHtcclxuICAgICAgICBpdGVtID0gb25Qb3NpdGlvbkl0ZW1zW2ldO1xyXG4gICAgICAgIGlmIChpdGVtLmZpcmVkICYmIG5Qb3NpdGlvbiA8PSBpdGVtLnBvc2l0aW9uKSB7XHJcbiAgICAgICAgICBpdGVtLmZpcmVkID0gZmFsc2U7XHJcbiAgICAgICAgICBvblBvc2l0aW9uRmlyZWQtLTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9O1xyXG4gICAgYXBwbHlGcm9tVG8gPSBmdW5jdGlvbigpIHtcclxuICAgICAgdmFyIGluc3RhbmNlT3B0aW9ucyA9IHMuX2lPLFxyXG4gICAgICAgICAgZiA9IGluc3RhbmNlT3B0aW9ucy5mcm9tLFxyXG4gICAgICAgICAgdCA9IGluc3RhbmNlT3B0aW9ucy50byxcclxuICAgICAgICAgIHN0YXJ0LCBlbmQ7XHJcbiAgICAgIGVuZCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHMuY2xlYXJPblBvc2l0aW9uKHQsIGVuZCk7XHJcbiAgICAgICAgcy5zdG9wKCk7XHJcbiAgICAgIH07XHJcbiAgICAgIHN0YXJ0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaWYgKHQgIT09IG51bGwgJiYgIWlzTmFOKHQpKSB7XHJcbiAgICAgICAgICBzLm9uUG9zaXRpb24odCwgZW5kKTtcclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcbiAgICAgIGlmIChmICE9PSBudWxsICYmICFpc05hTihmKSkge1xyXG4gICAgICAgIGluc3RhbmNlT3B0aW9ucy5wb3NpdGlvbiA9IGY7XHJcbiAgICAgICAgaW5zdGFuY2VPcHRpb25zLm11bHRpU2hvdCA9IGZhbHNlO1xyXG4gICAgICAgIHN0YXJ0KCk7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIGluc3RhbmNlT3B0aW9ucztcclxuICAgIH07XHJcbiAgICBhdHRhY2hPblBvc2l0aW9uID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgIHZhciBpdGVtLFxyXG4gICAgICAgICAgb3AgPSBzLl9pTy5vbnBvc2l0aW9uO1xyXG4gICAgICBpZiAob3ApIHtcclxuICAgICAgICBmb3IgKGl0ZW0gaW4gb3ApIHtcclxuICAgICAgICAgIGlmIChvcC5oYXNPd25Qcm9wZXJ0eShpdGVtKSkge1xyXG4gICAgICAgICAgICBzLm9uUG9zaXRpb24ocGFyc2VJbnQoaXRlbSwgMTApLCBvcFtpdGVtXSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gICAgZGV0YWNoT25Qb3NpdGlvbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICB2YXIgaXRlbSxcclxuICAgICAgICAgIG9wID0gcy5faU8ub25wb3NpdGlvbjtcclxuICAgICAgaWYgKG9wKSB7XHJcbiAgICAgICAgZm9yIChpdGVtIGluIG9wKSB7XHJcbiAgICAgICAgICBpZiAob3AuaGFzT3duUHJvcGVydHkoaXRlbSkpIHtcclxuICAgICAgICAgICAgcy5jbGVhck9uUG9zaXRpb24ocGFyc2VJbnQoaXRlbSwgMTApKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgICBzdGFydF9odG1sNV90aW1lciA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICBpZiAocy5pc0hUTUw1KSB7XHJcbiAgICAgICAgc3RhcnRUaW1lcihzKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICAgIHN0b3BfaHRtbDVfdGltZXIgPSBmdW5jdGlvbigpIHtcclxuICAgICAgaWYgKHMuaXNIVE1MNSkge1xyXG4gICAgICAgIHN0b3BUaW1lcihzKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICAgIHJlc2V0UHJvcGVydGllcyA9IGZ1bmN0aW9uKHJldGFpblBvc2l0aW9uKSB7XHJcbiAgICAgIGlmICghcmV0YWluUG9zaXRpb24pIHtcclxuICAgICAgICBvblBvc2l0aW9uSXRlbXMgPSBbXTtcclxuICAgICAgICBvblBvc2l0aW9uRmlyZWQgPSAwO1xyXG4gICAgICB9XHJcbiAgICAgIG9ucGxheV9jYWxsZWQgPSBmYWxzZTtcclxuICAgICAgcy5faGFzVGltZXIgPSBudWxsO1xyXG4gICAgICBzLl9hID0gbnVsbDtcclxuICAgICAgcy5faHRtbDVfY2FucGxheSA9IGZhbHNlO1xyXG4gICAgICBzLmJ5dGVzTG9hZGVkID0gbnVsbDtcclxuICAgICAgcy5ieXRlc1RvdGFsID0gbnVsbDtcclxuICAgICAgcy5kdXJhdGlvbiA9IChzLl9pTyAmJiBzLl9pTy5kdXJhdGlvbiA/IHMuX2lPLmR1cmF0aW9uIDogbnVsbCk7XHJcbiAgICAgIHMuZHVyYXRpb25Fc3RpbWF0ZSA9IG51bGw7XHJcbiAgICAgIHMuYnVmZmVyZWQgPSBbXTtcclxuICAgICAgcy5lcURhdGEgPSBbXTtcclxuICAgICAgcy5lcURhdGEubGVmdCA9IFtdO1xyXG4gICAgICBzLmVxRGF0YS5yaWdodCA9IFtdO1xyXG4gICAgICBzLmZhaWx1cmVzID0gMDtcclxuICAgICAgcy5pc0J1ZmZlcmluZyA9IGZhbHNlO1xyXG4gICAgICBzLmluc3RhbmNlT3B0aW9ucyA9IHt9O1xyXG4gICAgICBzLmluc3RhbmNlQ291bnQgPSAwO1xyXG4gICAgICBzLmxvYWRlZCA9IGZhbHNlO1xyXG4gICAgICBzLm1ldGFkYXRhID0ge307XHJcbiAgICAgIHMucmVhZHlTdGF0ZSA9IDA7XHJcbiAgICAgIHMubXV0ZWQgPSBmYWxzZTtcclxuICAgICAgcy5wYXVzZWQgPSBmYWxzZTtcclxuICAgICAgcy5wZWFrRGF0YSA9IHtcclxuICAgICAgICBsZWZ0OiAwLFxyXG4gICAgICAgIHJpZ2h0OiAwXHJcbiAgICAgIH07XHJcbiAgICAgIHMud2F2ZWZvcm1EYXRhID0ge1xyXG4gICAgICAgIGxlZnQ6IFtdLFxyXG4gICAgICAgIHJpZ2h0OiBbXVxyXG4gICAgICB9O1xyXG4gICAgICBzLnBsYXlTdGF0ZSA9IDA7XHJcbiAgICAgIHMucG9zaXRpb24gPSBudWxsO1xyXG4gICAgICBzLmlkMyA9IHt9O1xyXG4gICAgfTtcclxuICAgIHJlc2V0UHJvcGVydGllcygpO1xyXG4gICAgdGhpcy5fb25UaW1lciA9IGZ1bmN0aW9uKGJGb3JjZSkge1xyXG4gICAgICB2YXIgZHVyYXRpb24sIGlzTmV3ID0gZmFsc2UsIHRpbWUsIHggPSB7fTtcclxuICAgICAgaWYgKHMuX2hhc1RpbWVyIHx8IGJGb3JjZSkge1xyXG4gICAgICAgIGlmIChzLl9hICYmIChiRm9yY2UgfHwgKChzLnBsYXlTdGF0ZSA+IDAgfHwgcy5yZWFkeVN0YXRlID09PSAxKSAmJiAhcy5wYXVzZWQpKSkge1xyXG4gICAgICAgICAgZHVyYXRpb24gPSBzLl9nZXRfaHRtbDVfZHVyYXRpb24oKTtcclxuICAgICAgICAgIGlmIChkdXJhdGlvbiAhPT0gbGFzdEhUTUw1U3RhdGUuZHVyYXRpb24pIHtcclxuICAgICAgICAgICAgbGFzdEhUTUw1U3RhdGUuZHVyYXRpb24gPSBkdXJhdGlvbjtcclxuICAgICAgICAgICAgcy5kdXJhdGlvbiA9IGR1cmF0aW9uO1xyXG4gICAgICAgICAgICBpc05ldyA9IHRydWU7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBzLmR1cmF0aW9uRXN0aW1hdGUgPSBzLmR1cmF0aW9uO1xyXG4gICAgICAgICAgdGltZSA9IChzLl9hLmN1cnJlbnRUaW1lICogbXNlY1NjYWxlIHx8IDApO1xyXG4gICAgICAgICAgaWYgKHRpbWUgIT09IGxhc3RIVE1MNVN0YXRlLnRpbWUpIHtcclxuICAgICAgICAgICAgbGFzdEhUTUw1U3RhdGUudGltZSA9IHRpbWU7XHJcbiAgICAgICAgICAgIGlzTmV3ID0gdHJ1ZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlmIChpc05ldyB8fCBiRm9yY2UpIHtcclxuICAgICAgICAgICAgcy5fd2hpbGVwbGF5aW5nKHRpbWUsIHgsIHgsIHgsIHgpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gaXNOZXc7XHJcbiAgICB9O1xyXG4gICAgdGhpcy5fZ2V0X2h0bWw1X2R1cmF0aW9uID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgIHZhciBpbnN0YW5jZU9wdGlvbnMgPSBzLl9pTyxcclxuICAgICAgICAgIGQgPSAocy5fYSAmJiBzLl9hLmR1cmF0aW9uID8gcy5fYS5kdXJhdGlvbiAqIG1zZWNTY2FsZSA6IChpbnN0YW5jZU9wdGlvbnMgJiYgaW5zdGFuY2VPcHRpb25zLmR1cmF0aW9uID8gaW5zdGFuY2VPcHRpb25zLmR1cmF0aW9uIDogbnVsbCkpLFxyXG4gICAgICAgICAgcmVzdWx0ID0gKGQgJiYgIWlzTmFOKGQpICYmIGQgIT09IEluZmluaXR5ID8gZCA6IG51bGwpO1xyXG4gICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfTtcclxuICAgIHRoaXMuX2FwcGx5X2xvb3AgPSBmdW5jdGlvbihhLCBuTG9vcHMpIHtcclxuICAgICAgYS5sb29wID0gKG5Mb29wcyA+IDEgPyAnbG9vcCcgOiAnJyk7XHJcbiAgICB9O1xyXG4gICAgdGhpcy5fc2V0dXBfaHRtbDUgPSBmdW5jdGlvbihvcHRpb25zKSB7XHJcbiAgICAgIHZhciBpbnN0YW5jZU9wdGlvbnMgPSBtaXhpbihzLl9pTywgb3B0aW9ucyksXHJcbiAgICAgICAgICBhID0gdXNlR2xvYmFsSFRNTDVBdWRpbyA/IGdsb2JhbEhUTUw1QXVkaW8gOiBzLl9hLFxyXG4gICAgICAgICAgZFVSTCA9IGRlY29kZVVSSShpbnN0YW5jZU9wdGlvbnMudXJsKSxcclxuICAgICAgICAgIHNhbWVVUkw7XHJcbiAgICAgIGlmICh1c2VHbG9iYWxIVE1MNUF1ZGlvKSB7XHJcbiAgICAgICAgaWYgKGRVUkwgPT09IGRlY29kZVVSSShsYXN0R2xvYmFsSFRNTDVVUkwpKSB7XHJcbiAgICAgICAgICBzYW1lVVJMID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSBpZiAoZFVSTCA9PT0gZGVjb2RlVVJJKGxhc3RVUkwpKSB7XHJcbiAgICAgICAgc2FtZVVSTCA9IHRydWU7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKGEpIHtcclxuICAgICAgICBpZiAoYS5fcykge1xyXG4gICAgICAgICAgaWYgKHVzZUdsb2JhbEhUTUw1QXVkaW8pIHtcclxuICAgICAgICAgICAgaWYgKGEuX3MgJiYgYS5fcy5wbGF5U3RhdGUgJiYgIXNhbWVVUkwpIHtcclxuICAgICAgICAgICAgICBhLl9zLnN0b3AoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSBlbHNlIGlmICghdXNlR2xvYmFsSFRNTDVBdWRpbyAmJiBkVVJMID09PSBkZWNvZGVVUkkobGFzdFVSTCkpIHtcclxuICAgICAgICAgICAgcy5fYXBwbHlfbG9vcChhLCBpbnN0YW5jZU9wdGlvbnMubG9vcHMpO1xyXG4gICAgICAgICAgICByZXR1cm4gYTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFzYW1lVVJMKSB7XHJcbiAgICAgICAgICBpZiAobGFzdFVSTCkge1xyXG4gICAgICAgICAgICByZXNldFByb3BlcnRpZXMoZmFsc2UpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgYS5zcmMgPSBpbnN0YW5jZU9wdGlvbnMudXJsO1xyXG4gICAgICAgICAgcy51cmwgPSBpbnN0YW5jZU9wdGlvbnMudXJsO1xyXG4gICAgICAgICAgbGFzdFVSTCA9IGluc3RhbmNlT3B0aW9ucy51cmw7XHJcbiAgICAgICAgICBsYXN0R2xvYmFsSFRNTDVVUkwgPSBpbnN0YW5jZU9wdGlvbnMudXJsO1xyXG4gICAgICAgICAgYS5fY2FsbGVkX2xvYWQgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaWYgKGluc3RhbmNlT3B0aW9ucy5hdXRvTG9hZCB8fCBpbnN0YW5jZU9wdGlvbnMuYXV0b1BsYXkpIHtcclxuICAgICAgICAgIHMuX2EgPSBuZXcgQXVkaW8oaW5zdGFuY2VPcHRpb25zLnVybCk7XHJcbiAgICAgICAgICBzLl9hLmxvYWQoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgcy5fYSA9IChpc09wZXJhICYmIG9wZXJhLnZlcnNpb24oKSA8IDEwID8gbmV3IEF1ZGlvKG51bGwpIDogbmV3IEF1ZGlvKCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBhID0gcy5fYTtcclxuICAgICAgICBhLl9jYWxsZWRfbG9hZCA9IGZhbHNlO1xyXG4gICAgICAgIGlmICh1c2VHbG9iYWxIVE1MNUF1ZGlvKSB7XHJcbiAgICAgICAgICBnbG9iYWxIVE1MNUF1ZGlvID0gYTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgcy5pc0hUTUw1ID0gdHJ1ZTtcclxuICAgICAgcy5fYSA9IGE7XHJcbiAgICAgIGEuX3MgPSBzO1xyXG4gICAgICBhZGRfaHRtbDVfZXZlbnRzKCk7XHJcbiAgICAgIHMuX2FwcGx5X2xvb3AoYSwgaW5zdGFuY2VPcHRpb25zLmxvb3BzKTtcclxuICAgICAgaWYgKGluc3RhbmNlT3B0aW9ucy5hdXRvTG9hZCB8fCBpbnN0YW5jZU9wdGlvbnMuYXV0b1BsYXkpIHtcclxuICAgICAgICBzLmxvYWQoKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBhLmF1dG9idWZmZXIgPSBmYWxzZTtcclxuICAgICAgICBhLnByZWxvYWQgPSAnYXV0byc7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIGE7XHJcbiAgICB9O1xyXG4gICAgYWRkX2h0bWw1X2V2ZW50cyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICBpZiAocy5fYS5fYWRkZWRfZXZlbnRzKSByZXR1cm4gZmFsc2U7XHJcbiAgICAgIHZhciBmO1xyXG4gICAgICBmdW5jdGlvbiBhZGQob0V2dCwgb0ZuLCBiQ2FwdHVyZSkge1xyXG4gICAgICAgIHJldHVybiBzLl9hID8gcy5fYS5hZGRFdmVudExpc3RlbmVyKG9FdnQsIG9GbiwgYkNhcHR1cmUgfHwgZmFsc2UpIDogbnVsbDtcclxuICAgICAgfVxyXG4gICAgICBzLl9hLl9hZGRlZF9ldmVudHMgPSB0cnVlO1xyXG4gICAgICBmb3IgKGYgaW4gaHRtbDVfZXZlbnRzKSB7XHJcbiAgICAgICAgaWYgKGh0bWw1X2V2ZW50cy5oYXNPd25Qcm9wZXJ0eShmKSkge1xyXG4gICAgICAgICAgYWRkKGYsIGh0bWw1X2V2ZW50c1tmXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfTtcclxuICAgIHJlbW92ZV9odG1sNV9ldmVudHMgPSBmdW5jdGlvbigpIHtcclxuICAgICAgdmFyIGY7XHJcbiAgICAgIGZ1bmN0aW9uIHJlbW92ZShvRXZ0LCBvRm4sIGJDYXB0dXJlKSB7XHJcbiAgICAgICAgcmV0dXJuIChzLl9hID8gcy5fYS5yZW1vdmVFdmVudExpc3RlbmVyKG9FdnQsIG9GbiwgYkNhcHR1cmUgfHwgZmFsc2UpIDogbnVsbCk7XHJcbiAgICAgIH1cclxuICAgICAgcy5fYS5fYWRkZWRfZXZlbnRzID0gZmFsc2U7XHJcbiAgICAgIGZvciAoZiBpbiBodG1sNV9ldmVudHMpIHtcclxuICAgICAgICBpZiAoaHRtbDVfZXZlbnRzLmhhc093blByb3BlcnR5KGYpKSB7XHJcbiAgICAgICAgICByZW1vdmUoZiwgaHRtbDVfZXZlbnRzW2ZdKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgICB0aGlzLl9vbmxvYWQgPSBmdW5jdGlvbihuU3VjY2Vzcykge1xyXG4gICAgICB2YXIgZk4sXHJcbiAgICAgICAgICBsb2FkT0sgPSAhIW5TdWNjZXNzIHx8ICghcy5pc0hUTUw1ICYmIGZWID09PSA4ICYmIHMuZHVyYXRpb24pO1xyXG4gICAgICBzLmxvYWRlZCA9IGxvYWRPSztcclxuICAgICAgcy5yZWFkeVN0YXRlID0gKGxvYWRPSyA/IDMgOiAyKTtcclxuICAgICAgcy5fb25idWZmZXJjaGFuZ2UoMCk7XHJcbiAgICAgIGlmICghbG9hZE9LICYmICFzLmlzSFRNTDUpIHtcclxuICAgICAgICBzLl9vbmVycm9yKCk7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHMuX2lPLm9ubG9hZCkge1xyXG4gICAgICAgIHdyYXBDYWxsYmFjayhzLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIHMuX2lPLm9ubG9hZC5hcHBseShzLCBbbG9hZE9LXSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9O1xyXG4gICAgdGhpcy5fb25lcnJvciA9IGZ1bmN0aW9uKGVycm9yQ29kZSwgZGVzY3JpcHRpb24pIHtcclxuICAgICAgaWYgKHMuX2lPLm9uZXJyb3IpIHtcclxuICAgICAgICB3cmFwQ2FsbGJhY2socywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBzLl9pTy5vbmVycm9yLmFwcGx5KHMsIFtlcnJvckNvZGUsIGRlc2NyaXB0aW9uXSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgICB0aGlzLl9vbmJ1ZmZlcmNoYW5nZSA9IGZ1bmN0aW9uKG5Jc0J1ZmZlcmluZykge1xyXG4gICAgICBpZiAocy5wbGF5U3RhdGUgPT09IDApIHJldHVybiBmYWxzZTtcclxuICAgICAgaWYgKChuSXNCdWZmZXJpbmcgJiYgcy5pc0J1ZmZlcmluZykgfHwgKCFuSXNCdWZmZXJpbmcgJiYgIXMuaXNCdWZmZXJpbmcpKSByZXR1cm4gZmFsc2U7XHJcbiAgICAgIHMuaXNCdWZmZXJpbmcgPSAobklzQnVmZmVyaW5nID09PSAxKTtcclxuICAgICAgaWYgKHMuX2lPLm9uYnVmZmVyY2hhbmdlKSB7XHJcbiAgICAgICAgcy5faU8ub25idWZmZXJjaGFuZ2UuYXBwbHkocywgW25Jc0J1ZmZlcmluZ10pO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfTtcclxuICAgIHRoaXMuX29uc3VzcGVuZCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICBpZiAocy5faU8ub25zdXNwZW5kKSB7XHJcbiAgICAgICAgcy5faU8ub25zdXNwZW5kLmFwcGx5KHMpO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfTtcclxuICAgIHRoaXMuX29uZmFpbHVyZSA9IGZ1bmN0aW9uKG1zZywgbGV2ZWwsIGNvZGUpIHtcclxuICAgICAgcy5mYWlsdXJlcysrO1xyXG4gICAgICBpZiAocy5faU8ub25mYWlsdXJlICYmIHMuZmFpbHVyZXMgPT09IDEpIHtcclxuICAgICAgICBzLl9pTy5vbmZhaWx1cmUobXNnLCBsZXZlbCwgY29kZSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgICB0aGlzLl9vbndhcm5pbmcgPSBmdW5jdGlvbihtc2csIGxldmVsLCBjb2RlKSB7XHJcbiAgICAgIGlmIChzLl9pTy5vbndhcm5pbmcpIHtcclxuICAgICAgICBzLl9pTy5vbndhcm5pbmcobXNnLCBsZXZlbCwgY29kZSk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgICB0aGlzLl9vbmZpbmlzaCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICB2YXIgaW9fb25maW5pc2ggPSBzLl9pTy5vbmZpbmlzaDtcclxuICAgICAgcy5fb25idWZmZXJjaGFuZ2UoMCk7XHJcbiAgICAgIHMuX3Jlc2V0T25Qb3NpdGlvbigwKTtcclxuICAgICAgaWYgKHMuaW5zdGFuY2VDb3VudCkge1xyXG4gICAgICAgIHMuaW5zdGFuY2VDb3VudC0tO1xyXG4gICAgICAgIGlmICghcy5pbnN0YW5jZUNvdW50KSB7XHJcbiAgICAgICAgICBkZXRhY2hPblBvc2l0aW9uKCk7XHJcbiAgICAgICAgICBzLnBsYXlTdGF0ZSA9IDA7XHJcbiAgICAgICAgICBzLnBhdXNlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgcy5pbnN0YW5jZUNvdW50ID0gMDtcclxuICAgICAgICAgIHMuaW5zdGFuY2VPcHRpb25zID0ge307XHJcbiAgICAgICAgICBzLl9pTyA9IHt9O1xyXG4gICAgICAgICAgc3RvcF9odG1sNV90aW1lcigpO1xyXG4gICAgICAgICAgaWYgKHMuaXNIVE1MNSkge1xyXG4gICAgICAgICAgICBzLnBvc2l0aW9uID0gMDtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFzLmluc3RhbmNlQ291bnQgfHwgcy5faU8ubXVsdGlTaG90RXZlbnRzKSB7XHJcbiAgICAgICAgICBpZiAoaW9fb25maW5pc2gpIHtcclxuICAgICAgICAgICAgd3JhcENhbGxiYWNrKHMsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgIGlvX29uZmluaXNoLmFwcGx5KHMpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgICB0aGlzLl93aGlsZWxvYWRpbmcgPSBmdW5jdGlvbihuQnl0ZXNMb2FkZWQsIG5CeXRlc1RvdGFsLCBuRHVyYXRpb24sIG5CdWZmZXJMZW5ndGgpIHtcclxuICAgICAgdmFyIGluc3RhbmNlT3B0aW9ucyA9IHMuX2lPO1xyXG4gICAgICBzLmJ5dGVzTG9hZGVkID0gbkJ5dGVzTG9hZGVkO1xyXG4gICAgICBzLmJ5dGVzVG90YWwgPSBuQnl0ZXNUb3RhbDtcclxuICAgICAgcy5kdXJhdGlvbiA9IE1hdGguZmxvb3IobkR1cmF0aW9uKTtcclxuICAgICAgcy5idWZmZXJMZW5ndGggPSBuQnVmZmVyTGVuZ3RoO1xyXG4gICAgICBpZiAoIXMuaXNIVE1MNSAmJiAhaW5zdGFuY2VPcHRpb25zLmlzTW92aWVTdGFyKSB7XHJcbiAgICAgICAgaWYgKGluc3RhbmNlT3B0aW9ucy5kdXJhdGlvbikge1xyXG4gICAgICAgICAgcy5kdXJhdGlvbkVzdGltYXRlID0gKHMuZHVyYXRpb24gPiBpbnN0YW5jZU9wdGlvbnMuZHVyYXRpb24pID8gcy5kdXJhdGlvbiA6IGluc3RhbmNlT3B0aW9ucy5kdXJhdGlvbjtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgcy5kdXJhdGlvbkVzdGltYXRlID0gcGFyc2VJbnQoKHMuYnl0ZXNUb3RhbCAvIHMuYnl0ZXNMb2FkZWQpICogcy5kdXJhdGlvbiwgMTApO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBzLmR1cmF0aW9uRXN0aW1hdGUgPSBzLmR1cmF0aW9uO1xyXG4gICAgICB9XHJcbiAgICAgIGlmICghcy5pc0hUTUw1KSB7XHJcbiAgICAgICAgcy5idWZmZXJlZCA9IFt7XHJcbiAgICAgICAgICBzdGFydDogMCxcclxuICAgICAgICAgIGVuZDogcy5kdXJhdGlvblxyXG4gICAgICAgIH1dO1xyXG4gICAgICB9XHJcbiAgICAgIGlmICgocy5yZWFkeVN0YXRlICE9PSAzIHx8IHMuaXNIVE1MNSkgJiYgaW5zdGFuY2VPcHRpb25zLndoaWxlbG9hZGluZykge1xyXG4gICAgICAgIGluc3RhbmNlT3B0aW9ucy53aGlsZWxvYWRpbmcuYXBwbHkocyk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgICB0aGlzLl93aGlsZXBsYXlpbmcgPSBmdW5jdGlvbihuUG9zaXRpb24sIG9QZWFrRGF0YSwgb1dhdmVmb3JtRGF0YUxlZnQsIG9XYXZlZm9ybURhdGFSaWdodCwgb0VRRGF0YSkge1xyXG4gICAgICB2YXIgaW5zdGFuY2VPcHRpb25zID0gcy5faU8sXHJcbiAgICAgICAgICBlcUxlZnQ7XHJcbiAgICAgIGlmIChpc05hTihuUG9zaXRpb24pIHx8IG5Qb3NpdGlvbiA9PT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICBzLnBvc2l0aW9uID0gTWF0aC5tYXgoMCwgblBvc2l0aW9uKTtcclxuICAgICAgcy5fcHJvY2Vzc09uUG9zaXRpb24oKTtcclxuICAgICAgaWYgKCFzLmlzSFRNTDUgJiYgZlYgPiA4KSB7XHJcbiAgICAgICAgaWYgKGluc3RhbmNlT3B0aW9ucy51c2VQZWFrRGF0YSAmJiBvUGVha0RhdGEgIT09IF91bmRlZmluZWQgJiYgb1BlYWtEYXRhKSB7XHJcbiAgICAgICAgICBzLnBlYWtEYXRhID0ge1xyXG4gICAgICAgICAgICBsZWZ0OiBvUGVha0RhdGEubGVmdFBlYWssXHJcbiAgICAgICAgICAgIHJpZ2h0OiBvUGVha0RhdGEucmlnaHRQZWFrXHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaW5zdGFuY2VPcHRpb25zLnVzZVdhdmVmb3JtRGF0YSAmJiBvV2F2ZWZvcm1EYXRhTGVmdCAhPT0gX3VuZGVmaW5lZCAmJiBvV2F2ZWZvcm1EYXRhTGVmdCkge1xyXG4gICAgICAgICAgcy53YXZlZm9ybURhdGEgPSB7XHJcbiAgICAgICAgICAgIGxlZnQ6IG9XYXZlZm9ybURhdGFMZWZ0LnNwbGl0KCcsJyksXHJcbiAgICAgICAgICAgIHJpZ2h0OiBvV2F2ZWZvcm1EYXRhUmlnaHQuc3BsaXQoJywnKVxyXG4gICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGluc3RhbmNlT3B0aW9ucy51c2VFUURhdGEpIHtcclxuICAgICAgICAgIGlmIChvRVFEYXRhICE9PSBfdW5kZWZpbmVkICYmIG9FUURhdGEgJiYgb0VRRGF0YS5sZWZ0RVEpIHtcclxuICAgICAgICAgICAgZXFMZWZ0ID0gb0VRRGF0YS5sZWZ0RVEuc3BsaXQoJywnKTtcclxuICAgICAgICAgICAgcy5lcURhdGEgPSBlcUxlZnQ7XHJcbiAgICAgICAgICAgIHMuZXFEYXRhLmxlZnQgPSBlcUxlZnQ7XHJcbiAgICAgICAgICAgIGlmIChvRVFEYXRhLnJpZ2h0RVEgIT09IF91bmRlZmluZWQgJiYgb0VRRGF0YS5yaWdodEVRKSB7XHJcbiAgICAgICAgICAgICAgcy5lcURhdGEucmlnaHQgPSBvRVFEYXRhLnJpZ2h0RVEuc3BsaXQoJywnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBpZiAocy5wbGF5U3RhdGUgPT09IDEpIHtcclxuICAgICAgICBpZiAoIXMuaXNIVE1MNSAmJiBmViA9PT0gOCAmJiAhcy5wb3NpdGlvbiAmJiBzLmlzQnVmZmVyaW5nKSB7XHJcbiAgICAgICAgICBzLl9vbmJ1ZmZlcmNoYW5nZSgwKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGluc3RhbmNlT3B0aW9ucy53aGlsZXBsYXlpbmcpIHtcclxuICAgICAgICAgIGluc3RhbmNlT3B0aW9ucy53aGlsZXBsYXlpbmcuYXBwbHkocyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfTtcclxuICAgIHRoaXMuX29uY2FwdGlvbmRhdGEgPSBmdW5jdGlvbihvRGF0YSkge1xyXG4gICAgICBzLmNhcHRpb25kYXRhID0gb0RhdGE7XHJcbiAgICAgIGlmIChzLl9pTy5vbmNhcHRpb25kYXRhKSB7XHJcbiAgICAgICAgcy5faU8ub25jYXB0aW9uZGF0YS5hcHBseShzLCBbb0RhdGFdKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICAgIHRoaXMuX29ubWV0YWRhdGEgPSBmdW5jdGlvbihvTURQcm9wcywgb01ERGF0YSkge1xyXG4gICAgICB2YXIgb0RhdGEgPSB7fSwgaSwgajtcclxuICAgICAgZm9yIChpID0gMCwgaiA9IG9NRFByb3BzLmxlbmd0aDsgaSA8IGo7IGkrKykge1xyXG4gICAgICAgIG9EYXRhW29NRFByb3BzW2ldXSA9IG9NRERhdGFbaV07XHJcbiAgICAgIH1cclxuICAgICAgcy5tZXRhZGF0YSA9IG9EYXRhO1xyXG4gICAgICBpZiAocy5faU8ub25tZXRhZGF0YSkge1xyXG4gICAgICAgIHMuX2lPLm9ubWV0YWRhdGEuY2FsbChzLCBzLm1ldGFkYXRhKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICAgIHRoaXMuX29uaWQzID0gZnVuY3Rpb24ob0lEM1Byb3BzLCBvSUQzRGF0YSkge1xyXG4gICAgICB2YXIgb0RhdGEgPSBbXSwgaSwgajtcclxuICAgICAgZm9yIChpID0gMCwgaiA9IG9JRDNQcm9wcy5sZW5ndGg7IGkgPCBqOyBpKyspIHtcclxuICAgICAgICBvRGF0YVtvSUQzUHJvcHNbaV1dID0gb0lEM0RhdGFbaV07XHJcbiAgICAgIH1cclxuICAgICAgcy5pZDMgPSBtaXhpbihzLmlkMywgb0RhdGEpO1xyXG4gICAgICBpZiAocy5faU8ub25pZDMpIHtcclxuICAgICAgICBzLl9pTy5vbmlkMy5hcHBseShzKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICAgIHRoaXMuX29uY29ubmVjdCA9IGZ1bmN0aW9uKGJTdWNjZXNzKSB7XHJcbiAgICAgIGJTdWNjZXNzID0gKGJTdWNjZXNzID09PSAxKTtcclxuICAgICAgcy5jb25uZWN0ZWQgPSBiU3VjY2VzcztcclxuICAgICAgaWYgKGJTdWNjZXNzKSB7XHJcbiAgICAgICAgcy5mYWlsdXJlcyA9IDA7XHJcbiAgICAgICAgaWYgKGlkQ2hlY2socy5pZCkpIHtcclxuICAgICAgICAgIGlmIChzLmdldEF1dG9QbGF5KCkpIHtcclxuICAgICAgICAgICAgcy5wbGF5KF91bmRlZmluZWQsIHMuZ2V0QXV0b1BsYXkoKSk7XHJcbiAgICAgICAgICB9IGVsc2UgaWYgKHMuX2lPLmF1dG9Mb2FkKSB7XHJcbiAgICAgICAgICAgIHMubG9hZCgpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocy5faU8ub25jb25uZWN0KSB7XHJcbiAgICAgICAgICBzLl9pTy5vbmNvbm5lY3QuYXBwbHkocywgW2JTdWNjZXNzXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gICAgdGhpcy5fb25kYXRhZXJyb3IgPSBmdW5jdGlvbihzRXJyb3IpIHtcclxuICAgICAgaWYgKHMucGxheVN0YXRlID4gMCkge1xyXG4gICAgICAgIGlmIChzLl9pTy5vbmRhdGFlcnJvcikge1xyXG4gICAgICAgICAgcy5faU8ub25kYXRhZXJyb3IuYXBwbHkocyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH07XHJcbiAgZ2V0RG9jdW1lbnQgPSBmdW5jdGlvbigpIHtcclxuICAgIHJldHVybiAoZG9jLmJvZHkgfHwgZG9jLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdkaXYnKVswXSk7XHJcbiAgfTtcclxuICBpZCA9IGZ1bmN0aW9uKHNJRCkge1xyXG4gICAgcmV0dXJuIGRvYy5nZXRFbGVtZW50QnlJZChzSUQpO1xyXG4gIH07XHJcbiAgbWl4aW4gPSBmdW5jdGlvbihvTWFpbiwgb0FkZCkge1xyXG4gICAgdmFyIG8xID0gKG9NYWluIHx8IHt9KSwgbzIsIG87XHJcbiAgICBvMiA9IChvQWRkID09PSBfdW5kZWZpbmVkID8gc20yLmRlZmF1bHRPcHRpb25zIDogb0FkZCk7XHJcbiAgICBmb3IgKG8gaW4gbzIpIHtcclxuICAgICAgaWYgKG8yLmhhc093blByb3BlcnR5KG8pICYmIG8xW29dID09PSBfdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBvMltvXSAhPT0gJ29iamVjdCcgfHwgbzJbb10gPT09IG51bGwpIHtcclxuICAgICAgICAgIG8xW29dID0gbzJbb107XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIG8xW29dID0gbWl4aW4obzFbb10sIG8yW29dKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBvMTtcclxuICB9O1xyXG4gIHdyYXBDYWxsYmFjayA9IGZ1bmN0aW9uKG9Tb3VuZCwgY2FsbGJhY2spIHtcclxuICAgIGlmICghb1NvdW5kLmlzSFRNTDUgJiYgZlYgPT09IDgpIHtcclxuICAgICAgd2luZG93LnNldFRpbWVvdXQoY2FsbGJhY2ssIDApO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY2FsbGJhY2soKTtcclxuICAgIH1cclxuICB9O1xyXG4gIGV4dHJhT3B0aW9ucyA9IHtcclxuICAgIG9ucmVhZHk6IDEsXHJcbiAgICBvbnRpbWVvdXQ6IDEsXHJcbiAgICBkZWZhdWx0T3B0aW9uczogMSxcclxuICAgIGZsYXNoOU9wdGlvbnM6IDEsXHJcbiAgICBtb3ZpZVN0YXJPcHRpb25zOiAxXHJcbiAgfTtcclxuICBhc3NpZ24gPSBmdW5jdGlvbihvLCBvUGFyZW50KSB7XHJcbiAgICB2YXIgaSxcclxuICAgICAgICByZXN1bHQgPSB0cnVlLFxyXG4gICAgICAgIGhhc1BhcmVudCA9IChvUGFyZW50ICE9PSBfdW5kZWZpbmVkKSxcclxuICAgICAgICBzZXR1cE9wdGlvbnMgPSBzbTIuc2V0dXBPcHRpb25zLFxyXG4gICAgICAgIGJvbnVzT3B0aW9ucyA9IGV4dHJhT3B0aW9ucztcclxuICAgIGZvciAoaSBpbiBvKSB7XHJcbiAgICAgIGlmIChvLmhhc093blByb3BlcnR5KGkpKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBvW2ldICE9PSAnb2JqZWN0JyB8fCBvW2ldID09PSBudWxsIHx8IG9baV0gaW5zdGFuY2VvZiBBcnJheSB8fCBvW2ldIGluc3RhbmNlb2YgUmVnRXhwKSB7XHJcbiAgICAgICAgICBpZiAoaGFzUGFyZW50ICYmIGJvbnVzT3B0aW9uc1tvUGFyZW50XSAhPT0gX3VuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBzbTJbb1BhcmVudF1baV0gPSBvW2ldO1xyXG4gICAgICAgICAgfSBlbHNlIGlmIChzZXR1cE9wdGlvbnNbaV0gIT09IF91bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgc20yLnNldHVwT3B0aW9uc1tpXSA9IG9baV07XHJcbiAgICAgICAgICAgIHNtMltpXSA9IG9baV07XHJcbiAgICAgICAgICB9IGVsc2UgaWYgKGJvbnVzT3B0aW9uc1tpXSA9PT0gX3VuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICByZXN1bHQgPSBmYWxzZTtcclxuICAgICAgICAgIH0gZWxzZSBpZiAoc20yW2ldIGluc3RhbmNlb2YgRnVuY3Rpb24pIHtcclxuICAgICAgICAgICAgc20yW2ldLmFwcGx5KHNtMiwgKG9baV0gaW5zdGFuY2VvZiBBcnJheSA/IG9baV0gOiBbb1tpXV0pKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHNtMltpXSA9IG9baV07XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIGlmIChib251c09wdGlvbnNbaV0gPT09IF91bmRlZmluZWQpIHtcclxuICAgICAgICAgIHJlc3VsdCA9IGZhbHNlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICByZXR1cm4gYXNzaWduKG9baV0sIGkpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxuICB9O1xyXG4gIGZ1bmN0aW9uIHByZWZlckZsYXNoQ2hlY2soa2luZCkge1xyXG4gICAgcmV0dXJuIChzbTIucHJlZmVyRmxhc2ggJiYgaGFzRmxhc2ggJiYgIXNtMi5pZ25vcmVGbGFzaCAmJiAoc20yLmZsYXNoW2tpbmRdICE9PSBfdW5kZWZpbmVkICYmIHNtMi5mbGFzaFtraW5kXSkpO1xyXG4gIH1cclxuICBldmVudCA9IChmdW5jdGlvbigpIHtcclxuICAgIHZhciBvbGQgPSAod2luZG93LmF0dGFjaEV2ZW50KSxcclxuICAgIGV2dCA9IHtcclxuICAgICAgYWRkOiAob2xkID8gJ2F0dGFjaEV2ZW50JyA6ICdhZGRFdmVudExpc3RlbmVyJyksXHJcbiAgICAgIHJlbW92ZTogKG9sZCA/ICdkZXRhY2hFdmVudCcgOiAncmVtb3ZlRXZlbnRMaXN0ZW5lcicpXHJcbiAgICB9O1xyXG4gICAgZnVuY3Rpb24gZ2V0QXJncyhvQXJncykge1xyXG4gICAgICB2YXIgYXJncyA9IHNsaWNlLmNhbGwob0FyZ3MpLFxyXG4gICAgICAgICAgbGVuID0gYXJncy5sZW5ndGg7XHJcbiAgICAgIGlmIChvbGQpIHtcclxuICAgICAgICBhcmdzWzFdID0gJ29uJyArIGFyZ3NbMV07XHJcbiAgICAgICAgaWYgKGxlbiA+IDMpIHtcclxuICAgICAgICAgIGFyZ3MucG9wKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2UgaWYgKGxlbiA9PT0gMykge1xyXG4gICAgICAgIGFyZ3MucHVzaChmYWxzZSk7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIGFyZ3M7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBhcHBseShhcmdzLCBzVHlwZSkge1xyXG4gICAgICB2YXIgZWxlbWVudCA9IGFyZ3Muc2hpZnQoKSxcclxuICAgICAgICAgIG1ldGhvZCA9IFtldnRbc1R5cGVdXTtcclxuICAgICAgaWYgKG9sZCkge1xyXG4gICAgICAgIGVsZW1lbnRbbWV0aG9kXShhcmdzWzBdLCBhcmdzWzFdKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBlbGVtZW50W21ldGhvZF0uYXBwbHkoZWxlbWVudCwgYXJncyk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGFkZCgpIHtcclxuICAgICAgYXBwbHkoZ2V0QXJncyhhcmd1bWVudHMpLCAnYWRkJyk7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiByZW1vdmUoKSB7XHJcbiAgICAgIGFwcGx5KGdldEFyZ3MoYXJndW1lbnRzKSwgJ3JlbW92ZScpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgYWRkOiBhZGQsXHJcbiAgICAgIHJlbW92ZTogcmVtb3ZlXHJcbiAgICB9O1xyXG4gIH0oKSk7XHJcbiAgZnVuY3Rpb24gaHRtbDVfZXZlbnQob0ZuKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24oZSkge1xyXG4gICAgICB2YXIgcyA9IHRoaXMuX3MsXHJcbiAgICAgICAgICByZXN1bHQ7XHJcbiAgICAgIGlmICghcyB8fCAhcy5fYSkge1xyXG4gICAgICAgIHJlc3VsdCA9IG51bGw7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmVzdWx0ID0gb0ZuLmNhbGwodGhpcywgZSk7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH07XHJcbiAgfVxyXG4gIGh0bWw1X2V2ZW50cyA9IHtcclxuICAgIGFib3J0OiBodG1sNV9ldmVudChmdW5jdGlvbigpIHtcclxuICAgIH0pLFxyXG4gICAgY2FucGxheTogaHRtbDVfZXZlbnQoZnVuY3Rpb24oKSB7XHJcbiAgICAgIHZhciBzID0gdGhpcy5fcyxcclxuICAgICAgICAgIHBvc2l0aW9uMUs7XHJcbiAgICAgIGlmIChzLl9odG1sNV9jYW5wbGF5KSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICAgIHMuX2h0bWw1X2NhbnBsYXkgPSB0cnVlO1xyXG4gICAgICBzLl9vbmJ1ZmZlcmNoYW5nZSgwKTtcclxuICAgICAgcG9zaXRpb24xSyA9IChzLl9pTy5wb3NpdGlvbiAhPT0gX3VuZGVmaW5lZCAmJiAhaXNOYU4ocy5faU8ucG9zaXRpb24pID8gcy5faU8ucG9zaXRpb24gLyBtc2VjU2NhbGUgOiBudWxsKTtcclxuICAgICAgaWYgKHRoaXMuY3VycmVudFRpbWUgIT09IHBvc2l0aW9uMUspIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgdGhpcy5jdXJyZW50VGltZSA9IHBvc2l0aW9uMUs7XHJcbiAgICAgICAgfSBjYXRjaChlZSkge1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBpZiAocy5faU8uX29uY2FucGxheSkge1xyXG4gICAgICAgIHMuX2lPLl9vbmNhbnBsYXkoKTtcclxuICAgICAgfVxyXG4gICAgfSksXHJcbiAgICBjYW5wbGF5dGhyb3VnaDogaHRtbDVfZXZlbnQoZnVuY3Rpb24oKSB7XHJcbiAgICAgIHZhciBzID0gdGhpcy5fcztcclxuICAgICAgaWYgKCFzLmxvYWRlZCkge1xyXG4gICAgICAgIHMuX29uYnVmZmVyY2hhbmdlKDApO1xyXG4gICAgICAgIHMuX3doaWxlbG9hZGluZyhzLmJ5dGVzTG9hZGVkLCBzLmJ5dGVzVG90YWwsIHMuX2dldF9odG1sNV9kdXJhdGlvbigpKTtcclxuICAgICAgICBzLl9vbmxvYWQodHJ1ZSk7XHJcbiAgICAgIH1cclxuICAgIH0pLFxyXG4gICAgZHVyYXRpb25jaGFuZ2U6IGh0bWw1X2V2ZW50KGZ1bmN0aW9uKCkge1xyXG4gICAgICB2YXIgcyA9IHRoaXMuX3MsXHJcbiAgICAgICAgICBkdXJhdGlvbjtcclxuICAgICAgZHVyYXRpb24gPSBzLl9nZXRfaHRtbDVfZHVyYXRpb24oKTtcclxuICAgICAgaWYgKCFpc05hTihkdXJhdGlvbikgJiYgZHVyYXRpb24gIT09IHMuZHVyYXRpb24pIHtcclxuICAgICAgICBzLmR1cmF0aW9uRXN0aW1hdGUgPSBzLmR1cmF0aW9uID0gZHVyYXRpb247XHJcbiAgICAgIH1cclxuICAgIH0pLFxyXG4gICAgZW5kZWQ6IGh0bWw1X2V2ZW50KGZ1bmN0aW9uKCkge1xyXG4gICAgICB2YXIgcyA9IHRoaXMuX3M7XHJcbiAgICAgIHMuX29uZmluaXNoKCk7XHJcbiAgICB9KSxcclxuICAgIGVycm9yOiBodG1sNV9ldmVudChmdW5jdGlvbigpIHtcclxuICAgICAgdmFyIGRlc2NyaXB0aW9uID0gKGh0bWw1RXJyb3JDb2Rlc1t0aGlzLmVycm9yLmNvZGVdIHx8IG51bGwpO1xyXG4gICAgICB0aGlzLl9zLl9vbmxvYWQoZmFsc2UpO1xyXG4gICAgICB0aGlzLl9zLl9vbmVycm9yKHRoaXMuZXJyb3IuY29kZSwgZGVzY3JpcHRpb24pO1xyXG4gICAgfSksXHJcbiAgICBsb2FkZWRkYXRhOiBodG1sNV9ldmVudChmdW5jdGlvbigpIHtcclxuICAgICAgdmFyIHMgPSB0aGlzLl9zO1xyXG4gICAgICBpZiAoIXMuX2xvYWRlZCAmJiAhaXNTYWZhcmkpIHtcclxuICAgICAgICBzLmR1cmF0aW9uID0gcy5fZ2V0X2h0bWw1X2R1cmF0aW9uKCk7XHJcbiAgICAgIH1cclxuICAgIH0pLFxyXG4gICAgbG9hZGVkbWV0YWRhdGE6IGh0bWw1X2V2ZW50KGZ1bmN0aW9uKCkge1xyXG4gICAgfSksXHJcbiAgICBsb2Fkc3RhcnQ6IGh0bWw1X2V2ZW50KGZ1bmN0aW9uKCkge1xyXG4gICAgICB0aGlzLl9zLl9vbmJ1ZmZlcmNoYW5nZSgxKTtcclxuICAgIH0pLFxyXG4gICAgcGxheTogaHRtbDVfZXZlbnQoZnVuY3Rpb24oKSB7XHJcbiAgICAgIHRoaXMuX3MuX29uYnVmZmVyY2hhbmdlKDApO1xyXG4gICAgfSksXHJcbiAgICBwbGF5aW5nOiBodG1sNV9ldmVudChmdW5jdGlvbigpIHtcclxuICAgICAgdGhpcy5fcy5fb25idWZmZXJjaGFuZ2UoMCk7XHJcbiAgICB9KSxcclxuICAgIHByb2dyZXNzOiBodG1sNV9ldmVudChmdW5jdGlvbihlKSB7XHJcbiAgICAgIHZhciBzID0gdGhpcy5fcyxcclxuICAgICAgICAgIGksIGosIHByb2dTdHIsIGJ1ZmZlcmVkID0gMCxcclxuICAgICAgICAgIGlzUHJvZ3Jlc3MgPSAoZS50eXBlID09PSAncHJvZ3Jlc3MnKSxcclxuICAgICAgICAgIHJhbmdlcyA9IGUudGFyZ2V0LmJ1ZmZlcmVkLFxyXG4gICAgICAgICAgbG9hZGVkID0gKGUubG9hZGVkIHx8IDApLFxyXG4gICAgICAgICAgdG90YWwgPSAoZS50b3RhbCB8fCAxKTtcclxuICAgICAgcy5idWZmZXJlZCA9IFtdO1xyXG4gICAgICBpZiAocmFuZ2VzICYmIHJhbmdlcy5sZW5ndGgpIHtcclxuICAgICAgICBmb3IgKGkgPSAwLCBqID0gcmFuZ2VzLmxlbmd0aDsgaSA8IGo7IGkrKykge1xyXG4gICAgICAgICAgcy5idWZmZXJlZC5wdXNoKHtcclxuICAgICAgICAgICAgc3RhcnQ6IHJhbmdlcy5zdGFydChpKSAqIG1zZWNTY2FsZSxcclxuICAgICAgICAgICAgZW5kOiByYW5nZXMuZW5kKGkpICogbXNlY1NjYWxlXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgYnVmZmVyZWQgPSAocmFuZ2VzLmVuZCgwKSAtIHJhbmdlcy5zdGFydCgwKSkgKiBtc2VjU2NhbGU7XHJcbiAgICAgICAgbG9hZGVkID0gTWF0aC5taW4oMSwgYnVmZmVyZWQgLyAoZS50YXJnZXQuZHVyYXRpb24gKiBtc2VjU2NhbGUpKTtcclxuICAgICAgfVxyXG4gICAgICBpZiAoIWlzTmFOKGxvYWRlZCkpIHtcclxuICAgICAgICBzLl93aGlsZWxvYWRpbmcobG9hZGVkLCB0b3RhbCwgcy5fZ2V0X2h0bWw1X2R1cmF0aW9uKCkpO1xyXG4gICAgICAgIGlmIChsb2FkZWQgJiYgdG90YWwgJiYgbG9hZGVkID09PSB0b3RhbCkge1xyXG4gICAgICAgICAgaHRtbDVfZXZlbnRzLmNhbnBsYXl0aHJvdWdoLmNhbGwodGhpcywgZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KSxcclxuICAgIHJhdGVjaGFuZ2U6IGh0bWw1X2V2ZW50KGZ1bmN0aW9uKCkge1xyXG4gICAgfSksXHJcbiAgICBzdXNwZW5kOiBodG1sNV9ldmVudChmdW5jdGlvbihlKSB7XHJcbiAgICAgIHZhciBzID0gdGhpcy5fcztcclxuICAgICAgaHRtbDVfZXZlbnRzLnByb2dyZXNzLmNhbGwodGhpcywgZSk7XHJcbiAgICAgIHMuX29uc3VzcGVuZCgpO1xyXG4gICAgfSksXHJcbiAgICBzdGFsbGVkOiBodG1sNV9ldmVudChmdW5jdGlvbigpIHtcclxuICAgIH0pLFxyXG4gICAgdGltZXVwZGF0ZTogaHRtbDVfZXZlbnQoZnVuY3Rpb24oKSB7XHJcbiAgICAgIHRoaXMuX3MuX29uVGltZXIoKTtcclxuICAgIH0pLFxyXG4gICAgd2FpdGluZzogaHRtbDVfZXZlbnQoZnVuY3Rpb24oKSB7XHJcbiAgICAgIHZhciBzID0gdGhpcy5fcztcclxuICAgICAgcy5fb25idWZmZXJjaGFuZ2UoMSk7XHJcbiAgICB9KVxyXG4gIH07XHJcbiAgaHRtbDVPSyA9IGZ1bmN0aW9uKGlPKSB7XHJcbiAgICB2YXIgcmVzdWx0O1xyXG4gICAgaWYgKCFpTyB8fCAoIWlPLnR5cGUgJiYgIWlPLnVybCAmJiAhaU8uc2VydmVyVVJMKSkge1xyXG4gICAgICByZXN1bHQgPSBmYWxzZTtcclxuICAgIH0gZWxzZSBpZiAoaU8uc2VydmVyVVJMIHx8IChpTy50eXBlICYmIHByZWZlckZsYXNoQ2hlY2soaU8udHlwZSkpKSB7XHJcbiAgICAgIHJlc3VsdCA9IGZhbHNlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmVzdWx0ID0gKChpTy50eXBlID8gaHRtbDVDYW5QbGF5KHsgdHlwZTogaU8udHlwZSB9KSA6IGh0bWw1Q2FuUGxheSh7IHVybDogaU8udXJsIH0pIHx8IHNtMi5odG1sNU9ubHkgfHwgaU8udXJsLm1hdGNoKC9kYXRhOi9pKSkpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxuICB9O1xyXG4gIGh0bWw1VW5sb2FkID0gZnVuY3Rpb24ob0F1ZGlvKSB7XHJcbiAgICB2YXIgdXJsO1xyXG4gICAgaWYgKG9BdWRpbykge1xyXG4gICAgICB1cmwgPSAoaXNTYWZhcmkgPyBlbXB0eVVSTCA6IChzbTIuaHRtbDUuY2FuUGxheVR5cGUoJ2F1ZGlvL3dhdicpID8gZW1wdHlXQVYgOiBlbXB0eVVSTCkpO1xyXG4gICAgICBvQXVkaW8uc3JjID0gdXJsO1xyXG4gICAgICBpZiAob0F1ZGlvLl9jYWxsZWRfdW5sb2FkICE9PSBfdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgb0F1ZGlvLl9jYWxsZWRfbG9hZCA9IGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAodXNlR2xvYmFsSFRNTDVBdWRpbykge1xyXG4gICAgICBsYXN0R2xvYmFsSFRNTDVVUkwgPSBudWxsO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHVybDtcclxuICB9O1xyXG4gIGh0bWw1Q2FuUGxheSA9IGZ1bmN0aW9uKG8pIHtcclxuICAgIGlmICghc20yLnVzZUhUTUw1QXVkaW8gfHwgIXNtMi5oYXNIVE1MNSkgcmV0dXJuIGZhbHNlO1xyXG4gICAgdmFyIHVybCA9IChvLnVybCB8fCBudWxsKSxcclxuICAgICAgICBtaW1lID0gKG8udHlwZSB8fCBudWxsKSxcclxuICAgICAgICBhRiA9IHNtMi5hdWRpb0Zvcm1hdHMsXHJcbiAgICAgICAgcmVzdWx0LFxyXG4gICAgICAgIG9mZnNldCxcclxuICAgICAgICBmaWxlRXh0LFxyXG4gICAgICAgIGl0ZW07XHJcbiAgICBpZiAobWltZSAmJiBzbTIuaHRtbDVbbWltZV0gIT09IF91bmRlZmluZWQpIHJldHVybiAoc20yLmh0bWw1W21pbWVdICYmICFwcmVmZXJGbGFzaENoZWNrKG1pbWUpKTtcclxuICAgIGlmICghaHRtbDVFeHQpIHtcclxuICAgICAgaHRtbDVFeHQgPSBbXTtcclxuICAgICAgZm9yIChpdGVtIGluIGFGKSB7XHJcbiAgICAgICAgaWYgKGFGLmhhc093blByb3BlcnR5KGl0ZW0pKSB7XHJcbiAgICAgICAgICBodG1sNUV4dC5wdXNoKGl0ZW0pO1xyXG4gICAgICAgICAgaWYgKGFGW2l0ZW1dLnJlbGF0ZWQpIHtcclxuICAgICAgICAgICAgaHRtbDVFeHQgPSBodG1sNUV4dC5jb25jYXQoYUZbaXRlbV0ucmVsYXRlZCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIGh0bWw1RXh0ID0gbmV3IFJlZ0V4cCgnXFxcXC4oJyArIGh0bWw1RXh0LmpvaW4oJ3wnKSArICcpKFxcXFw/LiopPyQnLCAnaScpO1xyXG4gICAgfVxyXG4gICAgZmlsZUV4dCA9ICh1cmwgPyB1cmwudG9Mb3dlckNhc2UoKS5tYXRjaChodG1sNUV4dCkgOiBudWxsKTtcclxuICAgIGlmICghZmlsZUV4dCB8fCAhZmlsZUV4dC5sZW5ndGgpIHtcclxuICAgICAgaWYgKCFtaW1lKSB7XHJcbiAgICAgICAgcmVzdWx0ID0gZmFsc2U7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgb2Zmc2V0ID0gbWltZS5pbmRleE9mKCc7Jyk7XHJcbiAgICAgICAgZmlsZUV4dCA9IChvZmZzZXQgIT09IC0xID8gbWltZS5zdWJzdHIoMCwgb2Zmc2V0KSA6IG1pbWUpLnN1YnN0cig2KTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZmlsZUV4dCA9IGZpbGVFeHRbMV07XHJcbiAgICB9XHJcbiAgICBpZiAoZmlsZUV4dCAmJiBzbTIuaHRtbDVbZmlsZUV4dF0gIT09IF91bmRlZmluZWQpIHtcclxuICAgICAgcmVzdWx0ID0gKHNtMi5odG1sNVtmaWxlRXh0XSAmJiAhcHJlZmVyRmxhc2hDaGVjayhmaWxlRXh0KSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBtaW1lID0gJ2F1ZGlvLycgKyBmaWxlRXh0O1xyXG4gICAgICByZXN1bHQgPSBzbTIuaHRtbDUuY2FuUGxheVR5cGUoeyB0eXBlOiBtaW1lIH0pO1xyXG4gICAgICBzbTIuaHRtbDVbZmlsZUV4dF0gPSByZXN1bHQ7XHJcbiAgICAgIHJlc3VsdCA9IChyZXN1bHQgJiYgc20yLmh0bWw1W21pbWVdICYmICFwcmVmZXJGbGFzaENoZWNrKG1pbWUpKTtcclxuICAgIH1cclxuICAgIHJldHVybiByZXN1bHQ7XHJcbiAgfTtcclxuICB0ZXN0SFRNTDUgPSBmdW5jdGlvbigpIHtcclxuICAgIGlmICghc20yLnVzZUhUTUw1QXVkaW8gfHwgIXNtMi5oYXNIVE1MNSkge1xyXG4gICAgICBzbTIuaHRtbDUudXNpbmdGbGFzaCA9IHRydWU7XHJcbiAgICAgIG5lZWRzRmxhc2ggPSB0cnVlO1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICB2YXIgYSA9IChBdWRpbyAhPT0gX3VuZGVmaW5lZCA/IChpc09wZXJhICYmIG9wZXJhLnZlcnNpb24oKSA8IDEwID8gbmV3IEF1ZGlvKG51bGwpIDogbmV3IEF1ZGlvKCkpIDogbnVsbCksXHJcbiAgICAgICAgaXRlbSwgbG9va3VwLCBzdXBwb3J0ID0ge30sIGFGLCBpO1xyXG4gICAgZnVuY3Rpb24gY3AobSkge1xyXG4gICAgICB2YXIgY2FuUGxheSwgaixcclxuICAgICAgICAgIHJlc3VsdCA9IGZhbHNlLFxyXG4gICAgICAgICAgaXNPSyA9IGZhbHNlO1xyXG4gICAgICBpZiAoIWEgfHwgdHlwZW9mIGEuY2FuUGxheVR5cGUgIT09ICdmdW5jdGlvbicpIHJldHVybiByZXN1bHQ7XHJcbiAgICAgIGlmIChtIGluc3RhbmNlb2YgQXJyYXkpIHtcclxuICAgICAgICBmb3IgKGkgPSAwLCBqID0gbS5sZW5ndGg7IGkgPCBqOyBpKyspIHtcclxuICAgICAgICAgIGlmIChzbTIuaHRtbDVbbVtpXV0gfHwgYS5jYW5QbGF5VHlwZShtW2ldKS5tYXRjaChzbTIuaHRtbDVUZXN0KSkge1xyXG4gICAgICAgICAgICBpc09LID0gdHJ1ZTtcclxuICAgICAgICAgICAgc20yLmh0bWw1W21baV1dID0gdHJ1ZTtcclxuICAgICAgICAgICAgc20yLmZsYXNoW21baV1dID0gISEobVtpXS5tYXRjaChmbGFzaE1JTUUpKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmVzdWx0ID0gaXNPSztcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBjYW5QbGF5ID0gKGEgJiYgdHlwZW9mIGEuY2FuUGxheVR5cGUgPT09ICdmdW5jdGlvbicgPyBhLmNhblBsYXlUeXBlKG0pIDogZmFsc2UpO1xyXG4gICAgICAgIHJlc3VsdCA9ICEhKGNhblBsYXkgJiYgKGNhblBsYXkubWF0Y2goc20yLmh0bWw1VGVzdCkpKTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG4gICAgYUYgPSBzbTIuYXVkaW9Gb3JtYXRzO1xyXG4gICAgZm9yIChpdGVtIGluIGFGKSB7XHJcbiAgICAgIGlmIChhRi5oYXNPd25Qcm9wZXJ0eShpdGVtKSkge1xyXG4gICAgICAgIGxvb2t1cCA9ICdhdWRpby8nICsgaXRlbTtcclxuICAgICAgICBzdXBwb3J0W2l0ZW1dID0gY3AoYUZbaXRlbV0udHlwZSk7XHJcbiAgICAgICAgc3VwcG9ydFtsb29rdXBdID0gc3VwcG9ydFtpdGVtXTtcclxuICAgICAgICBpZiAoaXRlbS5tYXRjaChmbGFzaE1JTUUpKSB7XHJcbiAgICAgICAgICBzbTIuZmxhc2hbaXRlbV0gPSB0cnVlO1xyXG4gICAgICAgICAgc20yLmZsYXNoW2xvb2t1cF0gPSB0cnVlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBzbTIuZmxhc2hbaXRlbV0gPSBmYWxzZTtcclxuICAgICAgICAgIHNtMi5mbGFzaFtsb29rdXBdID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChhRltpdGVtXSAmJiBhRltpdGVtXS5yZWxhdGVkKSB7XHJcbiAgICAgICAgICBmb3IgKGkgPSBhRltpdGVtXS5yZWxhdGVkLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XHJcbiAgICAgICAgICAgIHN1cHBvcnRbJ2F1ZGlvLycgKyBhRltpdGVtXS5yZWxhdGVkW2ldXSA9IHN1cHBvcnRbaXRlbV07XHJcbiAgICAgICAgICAgIHNtMi5odG1sNVthRltpdGVtXS5yZWxhdGVkW2ldXSA9IHN1cHBvcnRbaXRlbV07XHJcbiAgICAgICAgICAgIHNtMi5mbGFzaFthRltpdGVtXS5yZWxhdGVkW2ldXSA9IHN1cHBvcnRbaXRlbV07XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBzdXBwb3J0LmNhblBsYXlUeXBlID0gKGEgPyBjcCA6IG51bGwpO1xyXG4gICAgc20yLmh0bWw1ID0gbWl4aW4oc20yLmh0bWw1LCBzdXBwb3J0KTtcclxuICAgIHNtMi5odG1sNS51c2luZ0ZsYXNoID0gZmVhdHVyZUNoZWNrKCk7XHJcbiAgICBuZWVkc0ZsYXNoID0gc20yLmh0bWw1LnVzaW5nRmxhc2g7XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9O1xyXG4gIHN0cmluZ3MgPSB7XHJcbiAgfTtcclxuICBzdHIgPSBmdW5jdGlvbigpIHtcclxuICB9O1xyXG4gIGxvb3BGaXggPSBmdW5jdGlvbihzT3B0KSB7XHJcbiAgICBpZiAoZlYgPT09IDggJiYgc09wdC5sb29wcyA+IDEgJiYgc09wdC5zdHJlYW0pIHtcclxuICAgICAgc09wdC5zdHJlYW0gPSBmYWxzZTtcclxuICAgIH1cclxuICAgIHJldHVybiBzT3B0O1xyXG4gIH07XHJcbiAgcG9saWN5Rml4ID0gZnVuY3Rpb24oc09wdCwgc1ByZSkge1xyXG4gICAgaWYgKHNPcHQgJiYgIXNPcHQudXNlUG9saWN5RmlsZSAmJiAoc09wdC5vbmlkMyB8fCBzT3B0LnVzZVBlYWtEYXRhIHx8IHNPcHQudXNlV2F2ZWZvcm1EYXRhIHx8IHNPcHQudXNlRVFEYXRhKSkge1xyXG4gICAgICBzT3B0LnVzZVBvbGljeUZpbGUgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHNPcHQ7XHJcbiAgfTtcclxuICBjb21wbGFpbiA9IGZ1bmN0aW9uKHNNc2cpIHtcclxuICB9O1xyXG4gIGRvTm90aGluZyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH07XHJcbiAgZGlzYWJsZU9iamVjdCA9IGZ1bmN0aW9uKG8pIHtcclxuICAgIHZhciBvUHJvcDtcclxuICAgIGZvciAob1Byb3AgaW4gbykge1xyXG4gICAgICBpZiAoby5oYXNPd25Qcm9wZXJ0eShvUHJvcCkgJiYgdHlwZW9mIG9bb1Byb3BdID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgb1tvUHJvcF0gPSBkb05vdGhpbmc7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIG9Qcm9wID0gbnVsbDtcclxuICB9O1xyXG4gIGZhaWxTYWZlbHkgPSBmdW5jdGlvbihiTm9EaXNhYmxlKSB7XHJcbiAgICBpZiAoYk5vRGlzYWJsZSA9PT0gX3VuZGVmaW5lZCkge1xyXG4gICAgICBiTm9EaXNhYmxlID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBpZiAoZGlzYWJsZWQgfHwgYk5vRGlzYWJsZSkge1xyXG4gICAgICBzbTIuZGlzYWJsZShiTm9EaXNhYmxlKTtcclxuICAgIH1cclxuICB9O1xyXG4gIG5vcm1hbGl6ZU1vdmllVVJMID0gZnVuY3Rpb24obW92aWVVUkwpIHtcclxuICAgIHZhciB1cmxQYXJhbXMgPSBudWxsLCB1cmw7XHJcbiAgICBpZiAobW92aWVVUkwpIHtcclxuICAgICAgaWYgKG1vdmllVVJMLm1hdGNoKC9cXC5zd2YoXFw/LiopPyQvaSkpIHtcclxuICAgICAgICB1cmxQYXJhbXMgPSBtb3ZpZVVSTC5zdWJzdHIobW92aWVVUkwudG9Mb3dlckNhc2UoKS5sYXN0SW5kZXhPZignLnN3Zj8nKSArIDQpO1xyXG4gICAgICAgIGlmICh1cmxQYXJhbXMpIHJldHVybiBtb3ZpZVVSTDtcclxuICAgICAgfSBlbHNlIGlmIChtb3ZpZVVSTC5sYXN0SW5kZXhPZignLycpICE9PSBtb3ZpZVVSTC5sZW5ndGggLSAxKSB7XHJcbiAgICAgICAgbW92aWVVUkwgKz0gJy8nO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICB1cmwgPSAobW92aWVVUkwgJiYgbW92aWVVUkwubGFzdEluZGV4T2YoJy8nKSAhPT0gLTEgPyBtb3ZpZVVSTC5zdWJzdHIoMCwgbW92aWVVUkwubGFzdEluZGV4T2YoJy8nKSArIDEpIDogJy4vJykgKyBzbTIubW92aWVVUkw7XHJcbiAgICBpZiAoc20yLm5vU1dGQ2FjaGUpIHtcclxuICAgICAgdXJsICs9ICgnP3RzPScgKyBuZXcgRGF0ZSgpLmdldFRpbWUoKSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdXJsO1xyXG4gIH07XHJcbiAgc2V0VmVyc2lvbkluZm8gPSBmdW5jdGlvbigpIHtcclxuICAgIGZWID0gcGFyc2VJbnQoc20yLmZsYXNoVmVyc2lvbiwgMTApO1xyXG4gICAgaWYgKGZWICE9PSA4ICYmIGZWICE9PSA5KSB7XHJcbiAgICAgIHNtMi5mbGFzaFZlcnNpb24gPSBmViA9IGRlZmF1bHRGbGFzaFZlcnNpb247XHJcbiAgICB9XHJcbiAgICB2YXIgaXNEZWJ1ZyA9IChzbTIuZGVidWdNb2RlIHx8IHNtMi5kZWJ1Z0ZsYXNoID8gJ19kZWJ1Zy5zd2YnIDogJy5zd2YnKTtcclxuICAgIGlmIChzbTIudXNlSFRNTDVBdWRpbyAmJiAhc20yLmh0bWw1T25seSAmJiBzbTIuYXVkaW9Gb3JtYXRzLm1wNC5yZXF1aXJlZCAmJiBmViA8IDkpIHtcclxuICAgICAgc20yLmZsYXNoVmVyc2lvbiA9IGZWID0gOTtcclxuICAgIH1cclxuICAgIHNtMi52ZXJzaW9uID0gc20yLnZlcnNpb25OdW1iZXIgKyAoc20yLmh0bWw1T25seSA/ICcgKEhUTUw1LW9ubHkgbW9kZSknIDogKGZWID09PSA5ID8gJyAoQVMzL0ZsYXNoIDkpJyA6ICcgKEFTMi9GbGFzaCA4KScpKTtcclxuICAgIGlmIChmViA+IDgpIHtcclxuICAgICAgc20yLmRlZmF1bHRPcHRpb25zID0gbWl4aW4oc20yLmRlZmF1bHRPcHRpb25zLCBzbTIuZmxhc2g5T3B0aW9ucyk7XHJcbiAgICAgIHNtMi5mZWF0dXJlcy5idWZmZXJpbmcgPSB0cnVlO1xyXG4gICAgICBzbTIuZGVmYXVsdE9wdGlvbnMgPSBtaXhpbihzbTIuZGVmYXVsdE9wdGlvbnMsIHNtMi5tb3ZpZVN0YXJPcHRpb25zKTtcclxuICAgICAgc20yLmZpbGVQYXR0ZXJucy5mbGFzaDkgPSBuZXcgUmVnRXhwKCdcXFxcLihtcDN8JyArIG5ldFN0cmVhbVR5cGVzLmpvaW4oJ3wnKSArICcpKFxcXFw/LiopPyQnLCAnaScpO1xyXG4gICAgICBzbTIuZmVhdHVyZXMubW92aWVTdGFyID0gdHJ1ZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHNtMi5mZWF0dXJlcy5tb3ZpZVN0YXIgPSBmYWxzZTtcclxuICAgIH1cclxuICAgIHNtMi5maWxlUGF0dGVybiA9IHNtMi5maWxlUGF0dGVybnNbKGZWICE9PSA4ID8gJ2ZsYXNoOScgOiAnZmxhc2g4JyldO1xyXG4gICAgc20yLm1vdmllVVJMID0gKGZWID09PSA4ID8gJ3NvdW5kbWFuYWdlcjIuc3dmJyA6ICdzb3VuZG1hbmFnZXIyX2ZsYXNoOS5zd2YnKS5yZXBsYWNlKCcuc3dmJywgaXNEZWJ1Zyk7XHJcbiAgICBzbTIuZmVhdHVyZXMucGVha0RhdGEgPSBzbTIuZmVhdHVyZXMud2F2ZWZvcm1EYXRhID0gc20yLmZlYXR1cmVzLmVxRGF0YSA9IChmViA+IDgpO1xyXG4gIH07XHJcbiAgc2V0UG9sbGluZyA9IGZ1bmN0aW9uKGJQb2xsaW5nLCBiSGlnaFBlcmZvcm1hbmNlKSB7XHJcbiAgICBpZiAoIWZsYXNoKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGZsYXNoLl9zZXRQb2xsaW5nKGJQb2xsaW5nLCBiSGlnaFBlcmZvcm1hbmNlKTtcclxuICB9O1xyXG4gIGluaXREZWJ1ZyA9IGZ1bmN0aW9uKCkge1xyXG4gIH07XHJcbiAgaWRDaGVjayA9IHRoaXMuZ2V0U291bmRCeUlkO1xyXG4gIGdldFNXRkNTUyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIGNzcyA9IFtdO1xyXG4gICAgaWYgKHNtMi5kZWJ1Z01vZGUpIHtcclxuICAgICAgY3NzLnB1c2goc3dmQ1NTLnNtMkRlYnVnKTtcclxuICAgIH1cclxuICAgIGlmIChzbTIuZGVidWdGbGFzaCkge1xyXG4gICAgICBjc3MucHVzaChzd2ZDU1MuZmxhc2hEZWJ1Zyk7XHJcbiAgICB9XHJcbiAgICBpZiAoc20yLnVzZUhpZ2hQZXJmb3JtYW5jZSkge1xyXG4gICAgICBjc3MucHVzaChzd2ZDU1MuaGlnaFBlcmYpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGNzcy5qb2luKCcgJyk7XHJcbiAgfTtcclxuICBmbGFzaEJsb2NrSGFuZGxlciA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIG5hbWUgPSBzdHIoJ2ZiSGFuZGxlcicpLFxyXG4gICAgICAgIHAgPSBzbTIuZ2V0TW92aWVQZXJjZW50KCksXHJcbiAgICAgICAgY3NzID0gc3dmQ1NTLFxyXG4gICAgICAgIGVycm9yID0ge1xyXG4gICAgICAgICAgdHlwZTogJ0ZMQVNIQkxPQ0snXHJcbiAgICAgICAgfTtcclxuICAgIGlmIChzbTIuaHRtbDVPbmx5KSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGlmICghc20yLm9rKCkpIHtcclxuICAgICAgaWYgKG5lZWRzRmxhc2gpIHtcclxuICAgICAgICBzbTIub01DLmNsYXNzTmFtZSA9IGdldFNXRkNTUygpICsgJyAnICsgY3NzLnN3ZkRlZmF1bHQgKyAnICcgKyAocCA9PT0gbnVsbCA/IGNzcy5zd2ZUaW1lZG91dCA6IGNzcy5zd2ZFcnJvcik7XHJcbiAgICAgIH1cclxuICAgICAgc20yLmRpZEZsYXNoQmxvY2sgPSB0cnVlO1xyXG4gICAgICBwcm9jZXNzT25FdmVudHMoe1xyXG4gICAgICAgIHR5cGU6ICdvbnRpbWVvdXQnLFxyXG4gICAgICAgIGlnbm9yZUluaXQ6IHRydWUsXHJcbiAgICAgICAgZXJyb3I6IGVycm9yXHJcbiAgICAgIH0pO1xyXG4gICAgICBjYXRjaEVycm9yKGVycm9yKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmIChzbTIub01DKSB7XHJcbiAgICAgICAgc20yLm9NQy5jbGFzc05hbWUgPSBbZ2V0U1dGQ1NTKCksIGNzcy5zd2ZEZWZhdWx0LCBjc3Muc3dmTG9hZGVkICsgKHNtMi5kaWRGbGFzaEJsb2NrID8gJyAnICsgY3NzLnN3ZlVuYmxvY2tlZCA6ICcnKV0uam9pbignICcpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfTtcclxuICBhZGRPbkV2ZW50ID0gZnVuY3Rpb24oc1R5cGUsIG9NZXRob2QsIG9TY29wZSkge1xyXG4gICAgaWYgKG9uX3F1ZXVlW3NUeXBlXSA9PT0gX3VuZGVmaW5lZCkge1xyXG4gICAgICBvbl9xdWV1ZVtzVHlwZV0gPSBbXTtcclxuICAgIH1cclxuICAgIG9uX3F1ZXVlW3NUeXBlXS5wdXNoKHtcclxuICAgICAgbWV0aG9kOiBvTWV0aG9kLFxyXG4gICAgICBzY29wZTogKG9TY29wZSB8fCBudWxsKSxcclxuICAgICAgZmlyZWQ6IGZhbHNlXHJcbiAgICB9KTtcclxuICB9O1xyXG4gIHByb2Nlc3NPbkV2ZW50cyA9IGZ1bmN0aW9uKG9PcHRpb25zKSB7XHJcbiAgICBpZiAoIW9PcHRpb25zKSB7XHJcbiAgICAgIG9PcHRpb25zID0ge1xyXG4gICAgICAgIHR5cGU6IChzbTIub2soKSA/ICdvbnJlYWR5JyA6ICdvbnRpbWVvdXQnKVxyXG4gICAgICB9O1xyXG4gICAgfVxyXG4gICAgaWYgKCFkaWRJbml0ICYmIG9PcHRpb25zICYmICFvT3B0aW9ucy5pZ25vcmVJbml0KSByZXR1cm4gZmFsc2U7XHJcbiAgICBpZiAob09wdGlvbnMudHlwZSA9PT0gJ29udGltZW91dCcgJiYgKHNtMi5vaygpIHx8IChkaXNhYmxlZCAmJiAhb09wdGlvbnMuaWdub3JlSW5pdCkpKSByZXR1cm4gZmFsc2U7XHJcbiAgICB2YXIgc3RhdHVzID0ge1xyXG4gICAgICAgICAgc3VjY2VzczogKG9PcHRpb25zICYmIG9PcHRpb25zLmlnbm9yZUluaXQgPyBzbTIub2soKSA6ICFkaXNhYmxlZClcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNyY1F1ZXVlID0gKG9PcHRpb25zICYmIG9PcHRpb25zLnR5cGUgPyBvbl9xdWV1ZVtvT3B0aW9ucy50eXBlXSB8fCBbXSA6IFtdKSxcclxuICAgICAgICBxdWV1ZSA9IFtdLCBpLCBqLFxyXG4gICAgICAgIGFyZ3MgPSBbc3RhdHVzXSxcclxuICAgICAgICBjYW5SZXRyeSA9IChuZWVkc0ZsYXNoICYmICFzbTIub2soKSk7XHJcbiAgICBpZiAob09wdGlvbnMuZXJyb3IpIHtcclxuICAgICAgYXJnc1swXS5lcnJvciA9IG9PcHRpb25zLmVycm9yO1xyXG4gICAgfVxyXG4gICAgZm9yIChpID0gMCwgaiA9IHNyY1F1ZXVlLmxlbmd0aDsgaSA8IGo7IGkrKykge1xyXG4gICAgICBpZiAoc3JjUXVldWVbaV0uZmlyZWQgIT09IHRydWUpIHtcclxuICAgICAgICBxdWV1ZS5wdXNoKHNyY1F1ZXVlW2ldKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKHF1ZXVlLmxlbmd0aCkge1xyXG4gICAgICBmb3IgKGkgPSAwLCBqID0gcXVldWUubGVuZ3RoOyBpIDwgajsgaSsrKSB7XHJcbiAgICAgICAgaWYgKHF1ZXVlW2ldLnNjb3BlKSB7XHJcbiAgICAgICAgICBxdWV1ZVtpXS5tZXRob2QuYXBwbHkocXVldWVbaV0uc2NvcGUsIGFyZ3MpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBxdWV1ZVtpXS5tZXRob2QuYXBwbHkodGhpcywgYXJncyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghY2FuUmV0cnkpIHtcclxuICAgICAgICAgIHF1ZXVlW2ldLmZpcmVkID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH07XHJcbiAgaW5pdFVzZXJPbmxvYWQgPSBmdW5jdGlvbigpIHtcclxuICAgIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICBpZiAoc20yLnVzZUZsYXNoQmxvY2spIHtcclxuICAgICAgICBmbGFzaEJsb2NrSGFuZGxlcigpO1xyXG4gICAgICB9XHJcbiAgICAgIHByb2Nlc3NPbkV2ZW50cygpO1xyXG4gICAgICBpZiAodHlwZW9mIHNtMi5vbmxvYWQgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICBzbTIub25sb2FkLmFwcGx5KHdpbmRvdyk7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHNtMi53YWl0Rm9yV2luZG93TG9hZCkge1xyXG4gICAgICAgIGV2ZW50LmFkZCh3aW5kb3csICdsb2FkJywgaW5pdFVzZXJPbmxvYWQpO1xyXG4gICAgICB9XHJcbiAgICB9LCAxKTtcclxuICB9O1xyXG4gIGRldGVjdEZsYXNoID0gZnVuY3Rpb24oKSB7XHJcbiAgICBpZiAoaGFzRmxhc2ggIT09IF91bmRlZmluZWQpIHJldHVybiBoYXNGbGFzaDtcclxuICAgIHZhciBoYXNQbHVnaW4gPSBmYWxzZSwgbiA9IG5hdmlnYXRvciwgb2JqLCB0eXBlLCB0eXBlcywgQVggPSB3aW5kb3cuQWN0aXZlWE9iamVjdDtcclxuICAgIHZhciBuUDtcclxuICAgIHRyeSB7XHJcbiAgICAgIG5QID0gbi5wbHVnaW5zO1xyXG4gICAgfSBjYXRjaChlKSB7XHJcbiAgICAgIG5QID0gdW5kZWZpbmVkO1xyXG4gICAgfVxyXG4gICAgaWYgKG5QICYmIG5QLmxlbmd0aCkge1xyXG4gICAgICB0eXBlID0gJ2FwcGxpY2F0aW9uL3gtc2hvY2t3YXZlLWZsYXNoJztcclxuICAgICAgdHlwZXMgPSBuLm1pbWVUeXBlcztcclxuICAgICAgaWYgKHR5cGVzICYmIHR5cGVzW3R5cGVdICYmIHR5cGVzW3R5cGVdLmVuYWJsZWRQbHVnaW4gJiYgdHlwZXNbdHlwZV0uZW5hYmxlZFBsdWdpbi5kZXNjcmlwdGlvbikge1xyXG4gICAgICAgIGhhc1BsdWdpbiA9IHRydWU7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSBpZiAoQVggIT09IF91bmRlZmluZWQgJiYgIXVhLm1hdGNoKC9NU0FwcEhvc3QvaSkpIHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBvYmogPSBuZXcgQVgoJ1Nob2Nrd2F2ZUZsYXNoLlNob2Nrd2F2ZUZsYXNoJyk7XHJcbiAgICAgIH0gY2F0Y2goZSkge1xyXG4gICAgICAgIG9iaiA9IG51bGw7XHJcbiAgICAgIH1cclxuICAgICAgaGFzUGx1Z2luID0gKCEhb2JqKTtcclxuICAgICAgb2JqID0gbnVsbDtcclxuICAgIH1cclxuICAgIGhhc0ZsYXNoID0gaGFzUGx1Z2luO1xyXG4gICAgcmV0dXJuIGhhc1BsdWdpbjtcclxuICB9O1xyXG4gIGZlYXR1cmVDaGVjayA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIGZsYXNoTmVlZGVkLFxyXG4gICAgICAgIGl0ZW0sXHJcbiAgICAgICAgZm9ybWF0cyA9IHNtMi5hdWRpb0Zvcm1hdHMsXHJcbiAgICAgICAgaXNTcGVjaWFsID0gKGlzX2lEZXZpY2UgJiYgISEodWEubWF0Y2goL29zICgxfDJ8M18wfDNfMSlcXHMvaSkpKTtcclxuICAgIGlmIChpc1NwZWNpYWwpIHtcclxuICAgICAgc20yLmhhc0hUTUw1ID0gZmFsc2U7XHJcbiAgICAgIHNtMi5odG1sNU9ubHkgPSB0cnVlO1xyXG4gICAgICBpZiAoc20yLm9NQykge1xyXG4gICAgICAgIHNtMi5vTUMuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIGlmIChzbTIudXNlSFRNTDVBdWRpbykge1xyXG4gICAgICAgIGlmICghc20yLmh0bWw1IHx8ICFzbTIuaHRtbDUuY2FuUGxheVR5cGUpIHtcclxuICAgICAgICAgIHNtMi5oYXNIVE1MNSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgaWYgKHNtMi51c2VIVE1MNUF1ZGlvICYmIHNtMi5oYXNIVE1MNSkge1xyXG4gICAgICBjYW5JZ25vcmVGbGFzaCA9IHRydWU7XHJcbiAgICAgIGZvciAoaXRlbSBpbiBmb3JtYXRzKSB7XHJcbiAgICAgICAgaWYgKGZvcm1hdHMuaGFzT3duUHJvcGVydHkoaXRlbSkpIHtcclxuICAgICAgICAgIGlmIChmb3JtYXRzW2l0ZW1dLnJlcXVpcmVkKSB7XHJcbiAgICAgICAgICAgIGlmICghc20yLmh0bWw1LmNhblBsYXlUeXBlKGZvcm1hdHNbaXRlbV0udHlwZSkpIHtcclxuICAgICAgICAgICAgICBjYW5JZ25vcmVGbGFzaCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgIGZsYXNoTmVlZGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChzbTIucHJlZmVyRmxhc2ggJiYgKHNtMi5mbGFzaFtpdGVtXSB8fCBzbTIuZmxhc2hbZm9ybWF0c1tpdGVtXS50eXBlXSkpIHtcclxuICAgICAgICAgICAgICBmbGFzaE5lZWRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChzbTIuaWdub3JlRmxhc2gpIHtcclxuICAgICAgZmxhc2hOZWVkZWQgPSBmYWxzZTtcclxuICAgICAgY2FuSWdub3JlRmxhc2ggPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgc20yLmh0bWw1T25seSA9IChzbTIuaGFzSFRNTDUgJiYgc20yLnVzZUhUTUw1QXVkaW8gJiYgIWZsYXNoTmVlZGVkKTtcclxuICAgIHJldHVybiAoIXNtMi5odG1sNU9ubHkpO1xyXG4gIH07XHJcbiAgcGFyc2VVUkwgPSBmdW5jdGlvbih1cmwpIHtcclxuICAgIHZhciBpLCBqLCB1cmxSZXN1bHQgPSAwLCByZXN1bHQ7XHJcbiAgICBpZiAodXJsIGluc3RhbmNlb2YgQXJyYXkpIHtcclxuICAgICAgZm9yIChpID0gMCwgaiA9IHVybC5sZW5ndGg7IGkgPCBqOyBpKyspIHtcclxuICAgICAgICBpZiAodXJsW2ldIGluc3RhbmNlb2YgT2JqZWN0KSB7XHJcbiAgICAgICAgICBpZiAoc20yLmNhblBsYXlNSU1FKHVybFtpXS50eXBlKSkge1xyXG4gICAgICAgICAgICB1cmxSZXN1bHQgPSBpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2UgaWYgKHNtMi5jYW5QbGF5VVJMKHVybFtpXSkpIHtcclxuICAgICAgICAgIHVybFJlc3VsdCA9IGk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHVybFt1cmxSZXN1bHRdLnVybCkge1xyXG4gICAgICAgIHVybFt1cmxSZXN1bHRdID0gdXJsW3VybFJlc3VsdF0udXJsO1xyXG4gICAgICB9XHJcbiAgICAgIHJlc3VsdCA9IHVybFt1cmxSZXN1bHRdO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmVzdWx0ID0gdXJsO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxuICB9O1xyXG4gIHN0YXJ0VGltZXIgPSBmdW5jdGlvbihvU291bmQpIHtcclxuICAgIGlmICghb1NvdW5kLl9oYXNUaW1lcikge1xyXG4gICAgICBvU291bmQuX2hhc1RpbWVyID0gdHJ1ZTtcclxuICAgICAgaWYgKCFtb2JpbGVIVE1MNSAmJiBzbTIuaHRtbDVQb2xsaW5nSW50ZXJ2YWwpIHtcclxuICAgICAgICBpZiAoaDVJbnRlcnZhbFRpbWVyID09PSBudWxsICYmIGg1VGltZXJDb3VudCA9PT0gMCkge1xyXG4gICAgICAgICAgaDVJbnRlcnZhbFRpbWVyID0gc2V0SW50ZXJ2YWwodGltZXJFeGVjdXRlLCBzbTIuaHRtbDVQb2xsaW5nSW50ZXJ2YWwpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBoNVRpbWVyQ291bnQrKztcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH07XHJcbiAgc3RvcFRpbWVyID0gZnVuY3Rpb24ob1NvdW5kKSB7XHJcbiAgICBpZiAob1NvdW5kLl9oYXNUaW1lcikge1xyXG4gICAgICBvU291bmQuX2hhc1RpbWVyID0gZmFsc2U7XHJcbiAgICAgIGlmICghbW9iaWxlSFRNTDUgJiYgc20yLmh0bWw1UG9sbGluZ0ludGVydmFsKSB7XHJcbiAgICAgICAgaDVUaW1lckNvdW50LS07XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9O1xyXG4gIHRpbWVyRXhlY3V0ZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIGk7XHJcbiAgICBpZiAoaDVJbnRlcnZhbFRpbWVyICE9PSBudWxsICYmICFoNVRpbWVyQ291bnQpIHtcclxuICAgICAgY2xlYXJJbnRlcnZhbChoNUludGVydmFsVGltZXIpO1xyXG4gICAgICBoNUludGVydmFsVGltZXIgPSBudWxsO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBmb3IgKGkgPSBzbTIuc291bmRJRHMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcclxuICAgICAgaWYgKHNtMi5zb3VuZHNbc20yLnNvdW5kSURzW2ldXS5pc0hUTUw1ICYmIHNtMi5zb3VuZHNbc20yLnNvdW5kSURzW2ldXS5faGFzVGltZXIpIHtcclxuICAgICAgICBzbTIuc291bmRzW3NtMi5zb3VuZElEc1tpXV0uX29uVGltZXIoKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH07XHJcbiAgY2F0Y2hFcnJvciA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcclxuICAgIG9wdGlvbnMgPSAob3B0aW9ucyAhPT0gX3VuZGVmaW5lZCA/IG9wdGlvbnMgOiB7fSk7XHJcbiAgICBpZiAodHlwZW9mIHNtMi5vbmVycm9yID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgIHNtMi5vbmVycm9yLmFwcGx5KHdpbmRvdywgW3tcclxuICAgICAgICB0eXBlOiAob3B0aW9ucy50eXBlICE9PSBfdW5kZWZpbmVkID8gb3B0aW9ucy50eXBlIDogbnVsbClcclxuICAgICAgfV0pO1xyXG4gICAgfVxyXG4gICAgaWYgKG9wdGlvbnMuZmF0YWwgIT09IF91bmRlZmluZWQgJiYgb3B0aW9ucy5mYXRhbCkge1xyXG4gICAgICBzbTIuZGlzYWJsZSgpO1xyXG4gICAgfVxyXG4gIH07XHJcbiAgYmFkU2FmYXJpRml4ID0gZnVuY3Rpb24oKSB7XHJcbiAgICBpZiAoIWlzQmFkU2FmYXJpIHx8ICFkZXRlY3RGbGFzaCgpKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHZhciBhRiA9IHNtMi5hdWRpb0Zvcm1hdHMsIGksIGl0ZW07XHJcbiAgICBmb3IgKGl0ZW0gaW4gYUYpIHtcclxuICAgICAgaWYgKGFGLmhhc093blByb3BlcnR5KGl0ZW0pKSB7XHJcbiAgICAgICAgaWYgKGl0ZW0gPT09ICdtcDMnIHx8IGl0ZW0gPT09ICdtcDQnKSB7XHJcbiAgICAgICAgICBzbTIuaHRtbDVbaXRlbV0gPSBmYWxzZTtcclxuICAgICAgICAgIGlmIChhRltpdGVtXSAmJiBhRltpdGVtXS5yZWxhdGVkKSB7XHJcbiAgICAgICAgICAgIGZvciAoaSA9IGFGW2l0ZW1dLnJlbGF0ZWQubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcclxuICAgICAgICAgICAgICBzbTIuaHRtbDVbYUZbaXRlbV0ucmVsYXRlZFtpXV0gPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH07XHJcbiAgdGhpcy5fc2V0U2FuZGJveFR5cGUgPSBmdW5jdGlvbihzYW5kYm94VHlwZSkge1xyXG4gIH07XHJcbiAgdGhpcy5fZXh0ZXJuYWxJbnRlcmZhY2VPSyA9IGZ1bmN0aW9uKHN3ZlZlcnNpb24pIHtcclxuICAgIGlmIChzbTIuc3dmTG9hZGVkKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHZhciBlO1xyXG4gICAgc20yLnN3ZkxvYWRlZCA9IHRydWU7XHJcbiAgICB0cnlJbml0T25Gb2N1cyA9IGZhbHNlO1xyXG4gICAgaWYgKGlzQmFkU2FmYXJpKSB7XHJcbiAgICAgIGJhZFNhZmFyaUZpeCgpO1xyXG4gICAgfVxyXG4gICAgc2V0VGltZW91dChpbml0LCBpc0lFID8gMTAwIDogMSk7XHJcbiAgfTtcclxuICBjcmVhdGVNb3ZpZSA9IGZ1bmN0aW9uKG1vdmllSUQsIG1vdmllVVJMKSB7XHJcbiAgICBpZiAoZGlkQXBwZW5kICYmIGFwcGVuZFN1Y2Nlc3MpIHJldHVybiBmYWxzZTtcclxuICAgIGZ1bmN0aW9uIGluaXRNc2coKSB7XHJcbiAgICB9XHJcbiAgICBpZiAoc20yLmh0bWw1T25seSkge1xyXG4gICAgICBzZXRWZXJzaW9uSW5mbygpO1xyXG4gICAgICBpbml0TXNnKCk7XHJcbiAgICAgIHNtMi5vTUMgPSBpZChzbTIubW92aWVJRCk7XHJcbiAgICAgIGluaXQoKTtcclxuICAgICAgZGlkQXBwZW5kID0gdHJ1ZTtcclxuICAgICAgYXBwZW5kU3VjY2VzcyA9IHRydWU7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIHZhciByZW1vdGVVUkwgPSAobW92aWVVUkwgfHwgc20yLnVybCksXHJcbiAgICBsb2NhbFVSTCA9IChzbTIuYWx0VVJMIHx8IHJlbW90ZVVSTCksXHJcbiAgICBzd2ZUaXRsZSA9ICdKUy9GbGFzaCBhdWRpbyBjb21wb25lbnQgKFNvdW5kTWFuYWdlciAyKScsXHJcbiAgICBvVGFyZ2V0ID0gZ2V0RG9jdW1lbnQoKSxcclxuICAgIGV4dHJhQ2xhc3MgPSBnZXRTV0ZDU1MoKSxcclxuICAgIGlzUlRMID0gbnVsbCxcclxuICAgIGh0bWwgPSBkb2MuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2h0bWwnKVswXSxcclxuICAgIG9FbWJlZCwgb01vdmllLCB0bXAsIG1vdmllSFRNTCwgb0VsLCBzLCB4LCBzQ2xhc3M7XHJcbiAgICBpc1JUTCA9IChodG1sICYmIGh0bWwuZGlyICYmIGh0bWwuZGlyLm1hdGNoKC9ydGwvaSkpO1xyXG4gICAgbW92aWVJRCA9IChtb3ZpZUlEID09PSBfdW5kZWZpbmVkID8gc20yLmlkIDogbW92aWVJRCk7XHJcbiAgICBmdW5jdGlvbiBwYXJhbShuYW1lLCB2YWx1ZSkge1xyXG4gICAgICByZXR1cm4gJzxwYXJhbSBuYW1lPVwiJyArIG5hbWUgKyAnXCIgdmFsdWU9XCInICsgdmFsdWUgKyAnXCIgLz4nO1xyXG4gICAgfVxyXG4gICAgc2V0VmVyc2lvbkluZm8oKTtcclxuICAgIHNtMi51cmwgPSBub3JtYWxpemVNb3ZpZVVSTChvdmVySFRUUCA/IHJlbW90ZVVSTCA6IGxvY2FsVVJMKTtcclxuICAgIG1vdmllVVJMID0gc20yLnVybDtcclxuICAgIHNtMi53bW9kZSA9ICghc20yLndtb2RlICYmIHNtMi51c2VIaWdoUGVyZm9ybWFuY2UgPyAndHJhbnNwYXJlbnQnIDogc20yLndtb2RlKTtcclxuICAgIGlmIChzbTIud21vZGUgIT09IG51bGwgJiYgKHVhLm1hdGNoKC9tc2llIDgvaSkgfHwgKCFpc0lFICYmICFzbTIudXNlSGlnaFBlcmZvcm1hbmNlKSkgJiYgbmF2aWdhdG9yLnBsYXRmb3JtLm1hdGNoKC93aW4zMnx3aW42NC9pKSkge1xyXG4gICAgICBtZXNzYWdlcy5wdXNoKHN0cmluZ3Muc3BjV21vZGUpO1xyXG4gICAgICBzbTIud21vZGUgPSBudWxsO1xyXG4gICAgfVxyXG4gICAgb0VtYmVkID0ge1xyXG4gICAgICBuYW1lOiBtb3ZpZUlELFxyXG4gICAgICBpZDogbW92aWVJRCxcclxuICAgICAgc3JjOiBtb3ZpZVVSTCxcclxuICAgICAgcXVhbGl0eTogJ2hpZ2gnLFxyXG4gICAgICBhbGxvd1NjcmlwdEFjY2Vzczogc20yLmFsbG93U2NyaXB0QWNjZXNzLFxyXG4gICAgICBiZ2NvbG9yOiBzbTIuYmdDb2xvcixcclxuICAgICAgcGx1Z2luc3BhZ2U6IGh0dHAgKyAnd3d3Lm1hY3JvbWVkaWEuY29tL2dvL2dldGZsYXNocGxheWVyJyxcclxuICAgICAgdGl0bGU6IHN3ZlRpdGxlLFxyXG4gICAgICB0eXBlOiAnYXBwbGljYXRpb24veC1zaG9ja3dhdmUtZmxhc2gnLFxyXG4gICAgICB3bW9kZTogc20yLndtb2RlLFxyXG4gICAgICBoYXNQcmlvcml0eTogJ3RydWUnXHJcbiAgICB9O1xyXG4gICAgaWYgKHNtMi5kZWJ1Z0ZsYXNoKSB7XHJcbiAgICAgIG9FbWJlZC5GbGFzaFZhcnMgPSAnZGVidWc9MSc7XHJcbiAgICB9XHJcbiAgICBpZiAoIXNtMi53bW9kZSkge1xyXG4gICAgICBkZWxldGUgb0VtYmVkLndtb2RlO1xyXG4gICAgfVxyXG4gICAgaWYgKGlzSUUpIHtcclxuICAgICAgb01vdmllID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICBtb3ZpZUhUTUwgPSBbXHJcbiAgICAgICAgJzxvYmplY3QgaWQ9XCInICsgbW92aWVJRCArICdcIiBkYXRhPVwiJyArIG1vdmllVVJMICsgJ1wiIHR5cGU9XCInICsgb0VtYmVkLnR5cGUgKyAnXCIgdGl0bGU9XCInICsgb0VtYmVkLnRpdGxlICsgJ1wiIGNsYXNzaWQ9XCJjbHNpZDpEMjdDREI2RS1BRTZELTExY2YtOTZCOC00NDQ1NTM1NDAwMDBcIiBjb2RlYmFzZT1cImh0dHA6Ly9kb3dubG9hZC5tYWNyb21lZGlhLmNvbS9wdWIvc2hvY2t3YXZlL2NhYnMvZmxhc2gvc3dmbGFzaC5jYWIjdmVyc2lvbj02LDAsNDAsMFwiPicsXHJcbiAgICAgICAgcGFyYW0oJ21vdmllJywgbW92aWVVUkwpLFxyXG4gICAgICAgIHBhcmFtKCdBbGxvd1NjcmlwdEFjY2VzcycsIHNtMi5hbGxvd1NjcmlwdEFjY2VzcyksXHJcbiAgICAgICAgcGFyYW0oJ3F1YWxpdHknLCBvRW1iZWQucXVhbGl0eSksXHJcbiAgICAgICAgKHNtMi53bW9kZSA/IHBhcmFtKCd3bW9kZScsIHNtMi53bW9kZSkgOiAnJyksXHJcbiAgICAgICAgcGFyYW0oJ2JnY29sb3InLCBzbTIuYmdDb2xvciksXHJcbiAgICAgICAgcGFyYW0oJ2hhc1ByaW9yaXR5JywgJ3RydWUnKSxcclxuICAgICAgICAoc20yLmRlYnVnRmxhc2ggPyBwYXJhbSgnRmxhc2hWYXJzJywgb0VtYmVkLkZsYXNoVmFycykgOiAnJyksXHJcbiAgICAgICAgJzwvb2JqZWN0PidcclxuICAgICAgXS5qb2luKCcnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIG9Nb3ZpZSA9IGRvYy5jcmVhdGVFbGVtZW50KCdlbWJlZCcpO1xyXG4gICAgICBmb3IgKHRtcCBpbiBvRW1iZWQpIHtcclxuICAgICAgICBpZiAob0VtYmVkLmhhc093blByb3BlcnR5KHRtcCkpIHtcclxuICAgICAgICAgIG9Nb3ZpZS5zZXRBdHRyaWJ1dGUodG1wLCBvRW1iZWRbdG1wXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBpbml0RGVidWcoKTtcclxuICAgIGV4dHJhQ2xhc3MgPSBnZXRTV0ZDU1MoKTtcclxuICAgIG9UYXJnZXQgPSBnZXREb2N1bWVudCgpO1xyXG4gICAgaWYgKG9UYXJnZXQpIHtcclxuICAgICAgc20yLm9NQyA9IChpZChzbTIubW92aWVJRCkgfHwgZG9jLmNyZWF0ZUVsZW1lbnQoJ2RpdicpKTtcclxuICAgICAgaWYgKCFzbTIub01DLmlkKSB7XHJcbiAgICAgICAgc20yLm9NQy5pZCA9IHNtMi5tb3ZpZUlEO1xyXG4gICAgICAgIHNtMi5vTUMuY2xhc3NOYW1lID0gc3dmQ1NTLnN3ZkRlZmF1bHQgKyAnICcgKyBleHRyYUNsYXNzO1xyXG4gICAgICAgIHMgPSBudWxsO1xyXG4gICAgICAgIG9FbCA9IG51bGw7XHJcbiAgICAgICAgaWYgKCFzbTIudXNlRmxhc2hCbG9jaykge1xyXG4gICAgICAgICAgaWYgKHNtMi51c2VIaWdoUGVyZm9ybWFuY2UpIHtcclxuICAgICAgICAgICAgcyA9IHtcclxuICAgICAgICAgICAgICBwb3NpdGlvbjogJ2ZpeGVkJyxcclxuICAgICAgICAgICAgICB3aWR0aDogJzhweCcsXHJcbiAgICAgICAgICAgICAgaGVpZ2h0OiAnOHB4JyxcclxuICAgICAgICAgICAgICBib3R0b206ICcwcHgnLFxyXG4gICAgICAgICAgICAgIGxlZnQ6ICcwcHgnLFxyXG4gICAgICAgICAgICAgIG92ZXJmbG93OiAnaGlkZGVuJ1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcyA9IHtcclxuICAgICAgICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcclxuICAgICAgICAgICAgICB3aWR0aDogJzZweCcsXHJcbiAgICAgICAgICAgICAgaGVpZ2h0OiAnNnB4JyxcclxuICAgICAgICAgICAgICB0b3A6ICctOTk5OXB4JyxcclxuICAgICAgICAgICAgICBsZWZ0OiAnLTk5OTlweCdcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgaWYgKGlzUlRMKSB7XHJcbiAgICAgICAgICAgICAgcy5sZWZ0ID0gTWF0aC5hYnMocGFyc2VJbnQocy5sZWZ0LCAxMCkpICsgJ3B4JztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaXNXZWJraXQpIHtcclxuICAgICAgICAgIHNtMi5vTUMuc3R5bGUuekluZGV4ID0gMTAwMDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghc20yLmRlYnVnRmxhc2gpIHtcclxuICAgICAgICAgIGZvciAoeCBpbiBzKSB7XHJcbiAgICAgICAgICAgIGlmIChzLmhhc093blByb3BlcnR5KHgpKSB7XHJcbiAgICAgICAgICAgICAgc20yLm9NQy5zdHlsZVt4XSA9IHNbeF07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIGlmICghaXNJRSkge1xyXG4gICAgICAgICAgICBzbTIub01DLmFwcGVuZENoaWxkKG9Nb3ZpZSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBvVGFyZ2V0LmFwcGVuZENoaWxkKHNtMi5vTUMpO1xyXG4gICAgICAgICAgaWYgKGlzSUUpIHtcclxuICAgICAgICAgICAgb0VsID0gc20yLm9NQy5hcHBlbmRDaGlsZChkb2MuY3JlYXRlRWxlbWVudCgnZGl2JykpO1xyXG4gICAgICAgICAgICBvRWwuY2xhc3NOYW1lID0gc3dmQ1NTLnN3ZkJveDtcclxuICAgICAgICAgICAgb0VsLmlubmVySFRNTCA9IG1vdmllSFRNTDtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGFwcGVuZFN1Y2Nlc3MgPSB0cnVlO1xyXG4gICAgICAgIH0gY2F0Y2goZSkge1xyXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHN0cignZG9tRXJyb3InKSArICcgXFxuJyArIGUudG9TdHJpbmcoKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHNDbGFzcyA9IHNtMi5vTUMuY2xhc3NOYW1lO1xyXG4gICAgICAgIHNtMi5vTUMuY2xhc3NOYW1lID0gKHNDbGFzcyA/IHNDbGFzcyArICcgJyA6IHN3ZkNTUy5zd2ZEZWZhdWx0KSArIChleHRyYUNsYXNzID8gJyAnICsgZXh0cmFDbGFzcyA6ICcnKTtcclxuICAgICAgICBzbTIub01DLmFwcGVuZENoaWxkKG9Nb3ZpZSk7XHJcbiAgICAgICAgaWYgKGlzSUUpIHtcclxuICAgICAgICAgIG9FbCA9IHNtMi5vTUMuYXBwZW5kQ2hpbGQoZG9jLmNyZWF0ZUVsZW1lbnQoJ2RpdicpKTtcclxuICAgICAgICAgIG9FbC5jbGFzc05hbWUgPSBzd2ZDU1Muc3dmQm94O1xyXG4gICAgICAgICAgb0VsLmlubmVySFRNTCA9IG1vdmllSFRNTDtcclxuICAgICAgICB9XHJcbiAgICAgICAgYXBwZW5kU3VjY2VzcyA9IHRydWU7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGRpZEFwcGVuZCA9IHRydWU7XHJcbiAgICBpbml0TXNnKCk7XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9O1xyXG4gIGluaXRNb3ZpZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgaWYgKHNtMi5odG1sNU9ubHkpIHtcclxuICAgICAgY3JlYXRlTW92aWUoKTtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgaWYgKGZsYXNoKSByZXR1cm4gZmFsc2U7XHJcbiAgICBpZiAoIXNtMi51cmwpIHtcclxuICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIGZsYXNoID0gc20yLmdldE1vdmllKHNtMi5pZCk7XHJcbiAgICBpZiAoIWZsYXNoKSB7XHJcbiAgICAgIGlmICghb1JlbW92ZWQpIHtcclxuICAgICAgICBjcmVhdGVNb3ZpZShzbTIuaWQsIHNtMi51cmwpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGlmICghaXNJRSkge1xyXG4gICAgICAgICAgc20yLm9NQy5hcHBlbmRDaGlsZChvUmVtb3ZlZCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHNtMi5vTUMuaW5uZXJIVE1MID0gb1JlbW92ZWRIVE1MO1xyXG4gICAgICAgIH1cclxuICAgICAgICBvUmVtb3ZlZCA9IG51bGw7XHJcbiAgICAgICAgZGlkQXBwZW5kID0gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgICBmbGFzaCA9IHNtMi5nZXRNb3ZpZShzbTIuaWQpO1xyXG4gICAgfVxyXG4gICAgaWYgKHR5cGVvZiBzbTIub25pbml0bW92aWUgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgc2V0VGltZW91dChzbTIub25pbml0bW92aWUsIDEpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRydWU7XHJcbiAgfTtcclxuICBkZWxheVdhaXRGb3JFSSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgc2V0VGltZW91dCh3YWl0Rm9yRUksIDEwMDApO1xyXG4gIH07XHJcbiAgcmVib290SW50b0hUTUw1ID0gZnVuY3Rpb24oKSB7XHJcbiAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgc20yLnNldHVwKHtcclxuICAgICAgICBwcmVmZXJGbGFzaDogZmFsc2VcclxuICAgICAgfSkucmVib290KCk7XHJcbiAgICAgIHNtMi5kaWRGbGFzaEJsb2NrID0gdHJ1ZTtcclxuICAgICAgc20yLmJlZ2luRGVsYXllZEluaXQoKTtcclxuICAgIH0sIDEpO1xyXG4gIH07XHJcbiAgd2FpdEZvckVJID0gZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgcCxcclxuICAgICAgICBsb2FkSW5jb21wbGV0ZSA9IGZhbHNlO1xyXG4gICAgaWYgKCFzbTIudXJsKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGlmICh3YWl0aW5nRm9yRUkpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgd2FpdGluZ0ZvckVJID0gdHJ1ZTtcclxuICAgIGV2ZW50LnJlbW92ZSh3aW5kb3csICdsb2FkJywgZGVsYXlXYWl0Rm9yRUkpO1xyXG4gICAgaWYgKGhhc0ZsYXNoICYmIHRyeUluaXRPbkZvY3VzICYmICFpc0ZvY3VzZWQpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgaWYgKCFkaWRJbml0KSB7XHJcbiAgICAgIHAgPSBzbTIuZ2V0TW92aWVQZXJjZW50KCk7XHJcbiAgICAgIGlmIChwID4gMCAmJiBwIDwgMTAwKSB7XHJcbiAgICAgICAgbG9hZEluY29tcGxldGUgPSB0cnVlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICBwID0gc20yLmdldE1vdmllUGVyY2VudCgpO1xyXG4gICAgICBpZiAobG9hZEluY29tcGxldGUpIHtcclxuICAgICAgICB3YWl0aW5nRm9yRUkgPSBmYWxzZTtcclxuICAgICAgICB3aW5kb3cuc2V0VGltZW91dChkZWxheVdhaXRGb3JFSSwgMSk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICAgIGlmICghZGlkSW5pdCAmJiBva1RvRGlzYWJsZSkge1xyXG4gICAgICAgIGlmIChwID09PSBudWxsKSB7XHJcbiAgICAgICAgICBpZiAoc20yLnVzZUZsYXNoQmxvY2sgfHwgc20yLmZsYXNoTG9hZFRpbWVvdXQgPT09IDApIHtcclxuICAgICAgICAgICAgaWYgKHNtMi51c2VGbGFzaEJsb2NrKSB7XHJcbiAgICAgICAgICAgICAgZmxhc2hCbG9ja0hhbmRsZXIoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSBlbHNlIGlmICghc20yLnVzZUZsYXNoQmxvY2sgJiYgY2FuSWdub3JlRmxhc2gpIHtcclxuICAgICAgICAgICAgcmVib290SW50b0hUTUw1KCk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBwcm9jZXNzT25FdmVudHMoe1xyXG4gICAgICAgICAgICAgIHR5cGU6ICdvbnRpbWVvdXQnLFxyXG4gICAgICAgICAgICAgIGlnbm9yZUluaXQ6IHRydWUsXHJcbiAgICAgICAgICAgICAgZXJyb3I6IHtcclxuICAgICAgICAgICAgICAgIHR5cGU6ICdJTklUX0ZMQVNIQkxPQ0snXHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2UgaWYgKHNtMi5mbGFzaExvYWRUaW1lb3V0ID09PSAwKSB7XHJcbiAgICAgICAgfSBlbHNlIGlmICghc20yLnVzZUZsYXNoQmxvY2sgJiYgY2FuSWdub3JlRmxhc2gpIHtcclxuICAgICAgICAgIHJlYm9vdEludG9IVE1MNSgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBmYWlsU2FmZWx5KHRydWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSwgc20yLmZsYXNoTG9hZFRpbWVvdXQpO1xyXG4gIH07XHJcbiAgaGFuZGxlRm9jdXMgPSBmdW5jdGlvbigpIHtcclxuICAgIGZ1bmN0aW9uIGNsZWFudXAoKSB7XHJcbiAgICAgIGV2ZW50LnJlbW92ZSh3aW5kb3csICdmb2N1cycsIGhhbmRsZUZvY3VzKTtcclxuICAgIH1cclxuICAgIGlmIChpc0ZvY3VzZWQgfHwgIXRyeUluaXRPbkZvY3VzKSB7XHJcbiAgICAgIGNsZWFudXAoKTtcclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICBva1RvRGlzYWJsZSA9IHRydWU7XHJcbiAgICBpc0ZvY3VzZWQgPSB0cnVlO1xyXG4gICAgd2FpdGluZ0ZvckVJID0gZmFsc2U7XHJcbiAgICBkZWxheVdhaXRGb3JFSSgpO1xyXG4gICAgY2xlYW51cCgpO1xyXG4gICAgcmV0dXJuIHRydWU7XHJcbiAgfTtcclxuICBmbHVzaE1lc3NhZ2VzID0gZnVuY3Rpb24oKSB7XHJcbiAgfTtcclxuICBzaG93U3VwcG9ydCA9IGZ1bmN0aW9uKCkge1xyXG4gIH07XHJcbiAgaW5pdENvbXBsZXRlID0gZnVuY3Rpb24oYk5vRGlzYWJsZSkge1xyXG4gICAgaWYgKGRpZEluaXQpIHJldHVybiBmYWxzZTtcclxuICAgIGlmIChzbTIuaHRtbDVPbmx5KSB7XHJcbiAgICAgIGRpZEluaXQgPSB0cnVlO1xyXG4gICAgICBpbml0VXNlck9ubG9hZCgpO1xyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIHZhciB3YXNUaW1lb3V0ID0gKHNtMi51c2VGbGFzaEJsb2NrICYmIHNtMi5mbGFzaExvYWRUaW1lb3V0ICYmICFzbTIuZ2V0TW92aWVQZXJjZW50KCkpLFxyXG4gICAgICAgIHJlc3VsdCA9IHRydWUsXHJcbiAgICAgICAgZXJyb3I7XHJcbiAgICBpZiAoIXdhc1RpbWVvdXQpIHtcclxuICAgICAgZGlkSW5pdCA9IHRydWU7XHJcbiAgICB9XHJcbiAgICBlcnJvciA9IHtcclxuICAgICAgdHlwZTogKCFoYXNGbGFzaCAmJiBuZWVkc0ZsYXNoID8gJ05PX0ZMQVNIJyA6ICdJTklUX1RJTUVPVVQnKVxyXG4gICAgfTtcclxuICAgIGlmIChkaXNhYmxlZCB8fCBiTm9EaXNhYmxlKSB7XHJcbiAgICAgIGlmIChzbTIudXNlRmxhc2hCbG9jayAmJiBzbTIub01DKSB7XHJcbiAgICAgICAgc20yLm9NQy5jbGFzc05hbWUgPSBnZXRTV0ZDU1MoKSArICcgJyArIChzbTIuZ2V0TW92aWVQZXJjZW50KCkgPT09IG51bGwgPyBzd2ZDU1Muc3dmVGltZWRvdXQgOiBzd2ZDU1Muc3dmRXJyb3IpO1xyXG4gICAgICB9XHJcbiAgICAgIHByb2Nlc3NPbkV2ZW50cyh7XHJcbiAgICAgICAgdHlwZTogJ29udGltZW91dCcsXHJcbiAgICAgICAgZXJyb3I6IGVycm9yLFxyXG4gICAgICAgIGlnbm9yZUluaXQ6IHRydWVcclxuICAgICAgfSk7XHJcbiAgICAgIGNhdGNoRXJyb3IoZXJyb3IpO1xyXG4gICAgICByZXN1bHQgPSBmYWxzZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICB9XHJcbiAgICBpZiAoIWRpc2FibGVkKSB7XHJcbiAgICAgIGlmIChzbTIud2FpdEZvcldpbmRvd0xvYWQgJiYgIXdpbmRvd0xvYWRlZCkge1xyXG4gICAgICAgIGV2ZW50LmFkZCh3aW5kb3csICdsb2FkJywgaW5pdFVzZXJPbmxvYWQpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGluaXRVc2VyT25sb2FkKCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiByZXN1bHQ7XHJcbiAgfTtcclxuICBzZXRQcm9wZXJ0aWVzID0gZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgaSxcclxuICAgICAgICBvID0gc20yLnNldHVwT3B0aW9ucztcclxuICAgIGZvciAoaSBpbiBvKSB7XHJcbiAgICAgIGlmIChvLmhhc093blByb3BlcnR5KGkpKSB7XHJcbiAgICAgICAgaWYgKHNtMltpXSA9PT0gX3VuZGVmaW5lZCkge1xyXG4gICAgICAgICAgc20yW2ldID0gb1tpXTtcclxuICAgICAgICB9IGVsc2UgaWYgKHNtMltpXSAhPT0gb1tpXSkge1xyXG4gICAgICAgICAgc20yLnNldHVwT3B0aW9uc1tpXSA9IHNtMltpXTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9O1xyXG4gIGluaXQgPSBmdW5jdGlvbigpIHtcclxuICAgIGlmIChkaWRJbml0KSB7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGNsZWFudXAoKSB7XHJcbiAgICAgIGV2ZW50LnJlbW92ZSh3aW5kb3csICdsb2FkJywgc20yLmJlZ2luRGVsYXllZEluaXQpO1xyXG4gICAgfVxyXG4gICAgaWYgKHNtMi5odG1sNU9ubHkpIHtcclxuICAgICAgaWYgKCFkaWRJbml0KSB7XHJcbiAgICAgICAgY2xlYW51cCgpO1xyXG4gICAgICAgIHNtMi5lbmFibGVkID0gdHJ1ZTtcclxuICAgICAgICBpbml0Q29tcGxldGUoKTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIGluaXRNb3ZpZSgpO1xyXG4gICAgdHJ5IHtcclxuICAgICAgZmxhc2guX2V4dGVybmFsSW50ZXJmYWNlVGVzdChmYWxzZSk7XHJcbiAgICAgIHNldFBvbGxpbmcodHJ1ZSwgKHNtMi5mbGFzaFBvbGxpbmdJbnRlcnZhbCB8fCAoc20yLnVzZUhpZ2hQZXJmb3JtYW5jZSA/IDEwIDogNTApKSk7XHJcbiAgICAgIGlmICghc20yLmRlYnVnTW9kZSkge1xyXG4gICAgICAgIGZsYXNoLl9kaXNhYmxlRGVidWcoKTtcclxuICAgICAgfVxyXG4gICAgICBzbTIuZW5hYmxlZCA9IHRydWU7XHJcbiAgICAgIGlmICghc20yLmh0bWw1T25seSkge1xyXG4gICAgICAgIGV2ZW50LmFkZCh3aW5kb3csICd1bmxvYWQnLCBkb05vdGhpbmcpO1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoKGUpIHtcclxuICAgICAgY2F0Y2hFcnJvcih7XHJcbiAgICAgICAgdHlwZTogJ0pTX1RPX0ZMQVNIX0VYQ0VQVElPTicsXHJcbiAgICAgICAgZmF0YWw6IHRydWVcclxuICAgICAgfSk7XHJcbiAgICAgIGZhaWxTYWZlbHkodHJ1ZSk7XHJcbiAgICAgIGluaXRDb21wbGV0ZSgpO1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBpbml0Q29tcGxldGUoKTtcclxuICAgIGNsZWFudXAoKTtcclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH07XHJcbiAgZG9tQ29udGVudExvYWRlZCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgaWYgKGRpZERDTG9hZGVkKSByZXR1cm4gZmFsc2U7XHJcbiAgICBkaWREQ0xvYWRlZCA9IHRydWU7XHJcbiAgICBzZXRQcm9wZXJ0aWVzKCk7XHJcbiAgICBpbml0RGVidWcoKTtcclxuICAgIGlmICghaGFzRmxhc2ggJiYgc20yLmhhc0hUTUw1KSB7XHJcbiAgICAgIHNtMi5zZXR1cCh7XHJcbiAgICAgICAgdXNlSFRNTDVBdWRpbzogdHJ1ZSxcclxuICAgICAgICBwcmVmZXJGbGFzaDogZmFsc2VcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICB0ZXN0SFRNTDUoKTtcclxuICAgIGlmICghaGFzRmxhc2ggJiYgbmVlZHNGbGFzaCkge1xyXG4gICAgICBtZXNzYWdlcy5wdXNoKHN0cmluZ3MubmVlZEZsYXNoKTtcclxuICAgICAgc20yLnNldHVwKHtcclxuICAgICAgICBmbGFzaExvYWRUaW1lb3V0OiAxXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKGRvYy5yZW1vdmVFdmVudExpc3RlbmVyKSB7XHJcbiAgICAgIGRvYy5yZW1vdmVFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgZG9tQ29udGVudExvYWRlZCwgZmFsc2UpO1xyXG4gICAgfVxyXG4gICAgaW5pdE1vdmllKCk7XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9O1xyXG4gIGRvbUNvbnRlbnRMb2FkZWRJRSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgaWYgKGRvYy5yZWFkeVN0YXRlID09PSAnY29tcGxldGUnKSB7XHJcbiAgICAgIGRvbUNvbnRlbnRMb2FkZWQoKTtcclxuICAgICAgZG9jLmRldGFjaEV2ZW50KCdvbnJlYWR5c3RhdGVjaGFuZ2UnLCBkb21Db250ZW50TG9hZGVkSUUpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRydWU7XHJcbiAgfTtcclxuICB3aW5PbkxvYWQgPSBmdW5jdGlvbigpIHtcclxuICAgIHdpbmRvd0xvYWRlZCA9IHRydWU7XHJcbiAgICBkb21Db250ZW50TG9hZGVkKCk7XHJcbiAgICBldmVudC5yZW1vdmUod2luZG93LCAnbG9hZCcsIHdpbk9uTG9hZCk7XHJcbiAgfTtcclxuICBkZXRlY3RGbGFzaCgpO1xyXG4gIGV2ZW50LmFkZCh3aW5kb3csICdmb2N1cycsIGhhbmRsZUZvY3VzKTtcclxuICBldmVudC5hZGQod2luZG93LCAnbG9hZCcsIGRlbGF5V2FpdEZvckVJKTtcclxuICBldmVudC5hZGQod2luZG93LCAnbG9hZCcsIHdpbk9uTG9hZCk7XHJcbiAgaWYgKGRvYy5hZGRFdmVudExpc3RlbmVyKSB7XHJcbiAgICBkb2MuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGRvbUNvbnRlbnRMb2FkZWQsIGZhbHNlKTtcclxuICB9IGVsc2UgaWYgKGRvYy5hdHRhY2hFdmVudCkge1xyXG4gICAgZG9jLmF0dGFjaEV2ZW50KCdvbnJlYWR5c3RhdGVjaGFuZ2UnLCBkb21Db250ZW50TG9hZGVkSUUpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBjYXRjaEVycm9yKHtcclxuICAgICAgdHlwZTogJ05PX0RPTTJfRVZFTlRTJyxcclxuICAgICAgZmF0YWw6IHRydWVcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG4vLyBTTTJfREVGRVIgZGV0YWlsczogaHR0cDovL3d3dy5zY2hpbGxtYW5pYS5jb20vcHJvamVjdHMvc291bmRtYW5hZ2VyMi9kb2MvZ2V0c3RhcnRlZC8jbGF6eS1sb2FkaW5nXHJcbmlmICh3aW5kb3cuU00yX0RFRkVSID09PSBfdW5kZWZpbmVkIHx8ICFTTTJfREVGRVIpIHtcclxuICBzb3VuZE1hbmFnZXIgPSBuZXcgU291bmRNYW5hZ2VyKCk7XHJcbn1cclxuaWYgKHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnICYmIG1vZHVsZSAmJiB0eXBlb2YgbW9kdWxlLmV4cG9ydHMgPT09ICdvYmplY3QnKSB7XHJcbiAgbW9kdWxlLmV4cG9ydHMuU291bmRNYW5hZ2VyID0gU291bmRNYW5hZ2VyO1xyXG4gIG1vZHVsZS5leHBvcnRzLnNvdW5kTWFuYWdlciA9IHNvdW5kTWFuYWdlcjtcclxufSBlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcclxuICBkZWZpbmUoZnVuY3Rpb24oKSB7XHJcbiAgICBmdW5jdGlvbiBnZXRJbnN0YW5jZShzbUJ1aWxkZXIpIHtcclxuICAgICAgaWYgKCF3aW5kb3cuc291bmRNYW5hZ2VyICYmIHNtQnVpbGRlciBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7XHJcbiAgICAgICAgdmFyIGluc3RhbmNlID0gc21CdWlsZGVyKFNvdW5kTWFuYWdlcik7XHJcbiAgICAgICAgaWYgKGluc3RhbmNlIGluc3RhbmNlb2YgU291bmRNYW5hZ2VyKSB7XHJcbiAgICAgICAgICB3aW5kb3cuc291bmRNYW5hZ2VyID0gaW5zdGFuY2U7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiB3aW5kb3cuc291bmRNYW5hZ2VyO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgY29uc3RydWN0b3I6IFNvdW5kTWFuYWdlcixcclxuICAgICAgZ2V0SW5zdGFuY2U6IGdldEluc3RhbmNlXHJcbiAgICB9O1xyXG4gIH0pO1xyXG59XHJcbi8vIHN0YW5kYXJkIGJyb3dzZXIgY2FzZVxyXG4vLyBjb25zdHJ1Y3RvclxyXG53aW5kb3cuU291bmRNYW5hZ2VyID0gU291bmRNYW5hZ2VyO1xyXG4vLyBwdWJsaWMgQVBJLCBmbGFzaCBjYWxsYmFja3MgZXRjLlxyXG53aW5kb3cuc291bmRNYW5hZ2VyID0gc291bmRNYW5hZ2VyO1xyXG59KHdpbmRvdykpO1xyXG4iLCIvKiEgVmlkZW8uanMgdjQuMTAuMiBDb3B5cmlnaHQgMjAxNCBCcmlnaHRjb3ZlLCBJbmMuIGh0dHBzOi8vZ2l0aHViLmNvbS92aWRlb2pzL3ZpZGVvLmpzL2Jsb2IvbWFzdGVyL0xJQ0VOU0UgKi8gXG4oZnVuY3Rpb24oKSB7dmFyIGI9dm9pZCAwLGY9ITAsaz1udWxsLGw9ITE7ZnVuY3Rpb24gbSgpe3JldHVybiBmdW5jdGlvbigpe319ZnVuY3Rpb24gcChhKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdGhpc1thXX19ZnVuY3Rpb24gcShhKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gYX19dmFyIHM7ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInZpZGVvXCIpO2RvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhdWRpb1wiKTtkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidHJhY2tcIik7ZnVuY3Rpb24gdChhLGMsZCl7aWYoXCJzdHJpbmdcIj09PXR5cGVvZiBhKXswPT09YS5pbmRleE9mKFwiI1wiKSYmKGE9YS5zbGljZSgxKSk7aWYodC5DYVthXSlyZXR1cm4gdC5DYVthXTthPXQudyhhKX1pZighYXx8IWEubm9kZU5hbWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlRoZSBlbGVtZW50IG9yIElEIHN1cHBsaWVkIGlzIG5vdCB2YWxpZC4gKHZpZGVvanMpXCIpO3JldHVybiBhLnBsYXllcnx8bmV3IHQuUGxheWVyKGEsYyxkKX1cbnZhciB2aWRlb2pzPXdpbmRvdy52aWRlb2pzPXQ7dC5WYj1cIjQuMTBcIjt0LlZjPVwiaHR0cHM6XCI9PWRvY3VtZW50LmxvY2F0aW9uLnByb3RvY29sP1wiaHR0cHM6Ly9cIjpcImh0dHA6Ly9cIjtcbnQub3B0aW9ucz17dGVjaE9yZGVyOltcImh0bWw1XCIsXCJmbGFzaFwiXSxodG1sNTp7fSxmbGFzaDp7fSx3aWR0aDozMDAsaGVpZ2h0OjE1MCxkZWZhdWx0Vm9sdW1lOjAscGxheWJhY2tSYXRlczpbXSxpbmFjdGl2aXR5VGltZW91dDoyRTMsY2hpbGRyZW46e21lZGlhTG9hZGVyOnt9LHBvc3RlckltYWdlOnt9LHRleHRUcmFja0Rpc3BsYXk6e30sbG9hZGluZ1NwaW5uZXI6e30sYmlnUGxheUJ1dHRvbjp7fSxjb250cm9sQmFyOnt9LGVycm9yRGlzcGxheTp7fX0sbGFuZ3VhZ2U6ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJodG1sXCIpWzBdLmdldEF0dHJpYnV0ZShcImxhbmdcIil8fG5hdmlnYXRvci5sYW5ndWFnZXMmJm5hdmlnYXRvci5sYW5ndWFnZXNbMF18fG5hdmlnYXRvci56ZXx8bmF2aWdhdG9yLmxhbmd1YWdlfHxcImVuXCIsbGFuZ3VhZ2VzOnt9LG5vdFN1cHBvcnRlZE1lc3NhZ2U6XCJObyBjb21wYXRpYmxlIHNvdXJjZSB3YXMgZm91bmQgZm9yIHRoaXMgdmlkZW8uXCJ9O1xuXCJHRU5FUkFURURfQ0ROX1ZTTlwiIT09dC5WYiYmKHZpZGVvanMub3B0aW9ucy5mbGFzaC5zd2Y9dC5WYytcInZqcy56ZW5jZG4ubmV0L1wiK3QuVmIrXCIvdmlkZW8tanMuc3dmXCIpO3QuaGQ9ZnVuY3Rpb24oYSxjKXt0Lm9wdGlvbnMubGFuZ3VhZ2VzW2FdPXQub3B0aW9ucy5sYW5ndWFnZXNbYV0hPT1iP3QuZ2EuVmEodC5vcHRpb25zLmxhbmd1YWdlc1thXSxjKTpjO3JldHVybiB0Lm9wdGlvbnMubGFuZ3VhZ2VzfTt0LkNhPXt9O1wiZnVuY3Rpb25cIj09PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFtdLGZ1bmN0aW9uKCl7cmV0dXJuIHZpZGVvanN9KTpcIm9iamVjdFwiPT09dHlwZW9mIGV4cG9ydHMmJlwib2JqZWN0XCI9PT10eXBlb2YgbW9kdWxlJiYobW9kdWxlLmV4cG9ydHM9dmlkZW9qcyk7dC5xYT10LkNvcmVPYmplY3Q9bSgpO1xudC5xYS5leHRlbmQ9ZnVuY3Rpb24oYSl7dmFyIGMsZDthPWF8fHt9O2M9YS5pbml0fHxhLml8fHRoaXMucHJvdG90eXBlLmluaXR8fHRoaXMucHJvdG90eXBlLml8fG0oKTtkPWZ1bmN0aW9uKCl7Yy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O2QucHJvdG90eXBlPXQuZy5jcmVhdGUodGhpcy5wcm90b3R5cGUpO2QucHJvdG90eXBlLmNvbnN0cnVjdG9yPWQ7ZC5leHRlbmQ9dC5xYS5leHRlbmQ7ZC5jcmVhdGU9dC5xYS5jcmVhdGU7Zm9yKHZhciBlIGluIGEpYS5oYXNPd25Qcm9wZXJ0eShlKSYmKGQucHJvdG90eXBlW2VdPWFbZV0pO3JldHVybiBkfTt0LnFhLmNyZWF0ZT1mdW5jdGlvbigpe3ZhciBhPXQuZy5jcmVhdGUodGhpcy5wcm90b3R5cGUpO3RoaXMuYXBwbHkoYSxhcmd1bWVudHMpO3JldHVybiBhfTtcbnQuYz1mdW5jdGlvbihhLGMsZCl7aWYodC5nLmlzQXJyYXkoYykpcmV0dXJuIHUodC5jLGEsYyxkKTt2YXIgZT10LmdldERhdGEoYSk7ZS5DfHwoZS5DPXt9KTtlLkNbY118fChlLkNbY109W10pO2Qucnx8KGQucj10LnIrKyk7ZS5DW2NdLnB1c2goZCk7ZS5XfHwoZS5kaXNhYmxlZD1sLGUuVz1mdW5jdGlvbihjKXtpZighZS5kaXNhYmxlZCl7Yz10LnJjKGMpO3ZhciBkPWUuQ1tjLnR5cGVdO2lmKGQpZm9yKHZhciBkPWQuc2xpY2UoMCksaj0wLG49ZC5sZW5ndGg7ajxuJiYhYy56YygpO2orKylkW2pdLmNhbGwoYSxjKX19KTsxPT1lLkNbY10ubGVuZ3RoJiYoYS5hZGRFdmVudExpc3RlbmVyP2EuYWRkRXZlbnRMaXN0ZW5lcihjLGUuVyxsKTphLmF0dGFjaEV2ZW50JiZhLmF0dGFjaEV2ZW50KFwib25cIitjLGUuVykpfTtcbnQuaj1mdW5jdGlvbihhLGMsZCl7aWYodC51YyhhKSl7dmFyIGU9dC5nZXREYXRhKGEpO2lmKGUuQyl7aWYodC5nLmlzQXJyYXkoYykpcmV0dXJuIHUodC5qLGEsYyxkKTtpZihjKXt2YXIgZz1lLkNbY107aWYoZyl7aWYoZCl7aWYoZC5yKWZvcihlPTA7ZTxnLmxlbmd0aDtlKyspZ1tlXS5yPT09ZC5yJiZnLnNwbGljZShlLS0sMSl9ZWxzZSBlLkNbY109W107dC5rYyhhLGMpfX1lbHNlIGZvcihnIGluIGUuQyljPWcsZS5DW2NdPVtdLHQua2MoYSxjKX19fTt0LmtjPWZ1bmN0aW9uKGEsYyl7dmFyIGQ9dC5nZXREYXRhKGEpOzA9PT1kLkNbY10ubGVuZ3RoJiYoZGVsZXRlIGQuQ1tjXSxhLnJlbW92ZUV2ZW50TGlzdGVuZXI/YS5yZW1vdmVFdmVudExpc3RlbmVyKGMsZC5XLGwpOmEuZGV0YWNoRXZlbnQmJmEuZGV0YWNoRXZlbnQoXCJvblwiK2MsZC5XKSk7dC5JYihkLkMpJiYoZGVsZXRlIGQuQyxkZWxldGUgZC5XLGRlbGV0ZSBkLmRpc2FibGVkKTt0LkliKGQpJiZ0LkljKGEpfTtcbnQucmM9ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYygpe3JldHVybiBmfWZ1bmN0aW9uIGQoKXtyZXR1cm4gbH1pZighYXx8IWEuSmIpe3ZhciBlPWF8fHdpbmRvdy5ldmVudDthPXt9O2Zvcih2YXIgZyBpbiBlKVwibGF5ZXJYXCIhPT1nJiYoXCJsYXllcllcIiE9PWcmJlwia2V5TG9jYXRpb25cIiE9PWcpJiYoXCJyZXR1cm5WYWx1ZVwiPT1nJiZlLnByZXZlbnREZWZhdWx0fHwoYVtnXT1lW2ddKSk7YS50YXJnZXR8fChhLnRhcmdldD1hLnNyY0VsZW1lbnR8fGRvY3VtZW50KTthLnJlbGF0ZWRUYXJnZXQ9YS5mcm9tRWxlbWVudD09PWEudGFyZ2V0P2EudG9FbGVtZW50OmEuZnJvbUVsZW1lbnQ7YS5wcmV2ZW50RGVmYXVsdD1mdW5jdGlvbigpe2UucHJldmVudERlZmF1bHQmJmUucHJldmVudERlZmF1bHQoKTthLnJldHVyblZhbHVlPWw7YS5DZD1jO2EuZGVmYXVsdFByZXZlbnRlZD1mfTthLkNkPWQ7YS5kZWZhdWx0UHJldmVudGVkPWw7YS5zdG9wUHJvcGFnYXRpb249ZnVuY3Rpb24oKXtlLnN0b3BQcm9wYWdhdGlvbiYmXG5lLnN0b3BQcm9wYWdhdGlvbigpO2EuY2FuY2VsQnViYmxlPWY7YS5KYj1jfTthLkpiPWQ7YS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb249ZnVuY3Rpb24oKXtlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiYmZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTthLnpjPWM7YS5zdG9wUHJvcGFnYXRpb24oKX07YS56Yz1kO2lmKGEuY2xpZW50WCE9ayl7Zz1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7dmFyIGg9ZG9jdW1lbnQuYm9keTthLnBhZ2VYPWEuY2xpZW50WCsoZyYmZy5zY3JvbGxMZWZ0fHxoJiZoLnNjcm9sbExlZnR8fDApLShnJiZnLmNsaWVudExlZnR8fGgmJmguY2xpZW50TGVmdHx8MCk7YS5wYWdlWT1hLmNsaWVudFkrKGcmJmcuc2Nyb2xsVG9wfHxoJiZoLnNjcm9sbFRvcHx8MCktKGcmJmcuY2xpZW50VG9wfHxoJiZoLmNsaWVudFRvcHx8MCl9YS53aGljaD1hLmNoYXJDb2RlfHxhLmtleUNvZGU7YS5idXR0b24hPWsmJihhLmJ1dHRvbj1hLmJ1dHRvbiYxPzA6YS5idXR0b24mXG40PzE6YS5idXR0b24mMj8yOjApfXJldHVybiBhfTt0Lmw9ZnVuY3Rpb24oYSxjKXt2YXIgZD10LnVjKGEpP3QuZ2V0RGF0YShhKTp7fSxlPWEucGFyZW50Tm9kZXx8YS5vd25lckRvY3VtZW50O1wic3RyaW5nXCI9PT10eXBlb2YgYyYmKGM9e3R5cGU6Yyx0YXJnZXQ6YX0pO2M9dC5yYyhjKTtkLlcmJmQuVy5jYWxsKGEsYyk7aWYoZSYmIWMuSmIoKSYmYy5idWJibGVzIT09bCl0LmwoZSxjKTtlbHNlIGlmKCFlJiYhYy5kZWZhdWx0UHJldmVudGVkJiYoZD10LmdldERhdGEoYy50YXJnZXQpLGMudGFyZ2V0W2MudHlwZV0pKXtkLmRpc2FibGVkPWY7aWYoXCJmdW5jdGlvblwiPT09dHlwZW9mIGMudGFyZ2V0W2MudHlwZV0pYy50YXJnZXRbYy50eXBlXSgpO2QuZGlzYWJsZWQ9bH1yZXR1cm4hYy5kZWZhdWx0UHJldmVudGVkfTtcbnQuUj1mdW5jdGlvbihhLGMsZCl7ZnVuY3Rpb24gZSgpe3QuaihhLGMsZSk7ZC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9aWYodC5nLmlzQXJyYXkoYykpcmV0dXJuIHUodC5SLGEsYyxkKTtlLnI9ZC5yPWQucnx8dC5yKys7dC5jKGEsYyxlKX07ZnVuY3Rpb24gdShhLGMsZCxlKXt0LmljLmZvckVhY2goZCxmdW5jdGlvbihkKXthKGMsZCxlKX0pfXZhciB2PU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7dC5lPWZ1bmN0aW9uKGEsYyl7dmFyIGQ7Yz1jfHx7fTtkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoYXx8XCJkaXZcIik7dC5nLlgoYyxmdW5jdGlvbihhLGMpey0xIT09YS5pbmRleE9mKFwiYXJpYS1cIil8fFwicm9sZVwiPT1hP2Quc2V0QXR0cmlidXRlKGEsYyk6ZFthXT1jfSk7cmV0dXJuIGR9O3QuYmE9ZnVuY3Rpb24oYSl7cmV0dXJuIGEuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrYS5zbGljZSgxKX07dC5nPXt9O1xudC5nLmNyZWF0ZT1PYmplY3QuY3JlYXRlfHxmdW5jdGlvbihhKXtmdW5jdGlvbiBjKCl7fWMucHJvdG90eXBlPWE7cmV0dXJuIG5ldyBjfTt0LmcuWD1mdW5jdGlvbihhLGMsZCl7Zm9yKHZhciBlIGluIGEpdi5jYWxsKGEsZSkmJmMuY2FsbChkfHx0aGlzLGUsYVtlXSl9O3QuZy56PWZ1bmN0aW9uKGEsYyl7aWYoIWMpcmV0dXJuIGE7Zm9yKHZhciBkIGluIGMpdi5jYWxsKGMsZCkmJihhW2RdPWNbZF0pO3JldHVybiBhfTt0LmcucWQ9ZnVuY3Rpb24oYSxjKXt2YXIgZCxlLGc7YT10LmcuY29weShhKTtmb3IoZCBpbiBjKXYuY2FsbChjLGQpJiYoZT1hW2RdLGc9Y1tkXSxhW2RdPXQuZy5UYShlKSYmdC5nLlRhKGcpP3QuZy5xZChlLGcpOmNbZF0pO3JldHVybiBhfTt0LmcuY29weT1mdW5jdGlvbihhKXtyZXR1cm4gdC5nLnooe30sYSl9O1xudC5nLlRhPWZ1bmN0aW9uKGEpe3JldHVybiEhYSYmXCJvYmplY3RcIj09PXR5cGVvZiBhJiZcIltvYmplY3QgT2JqZWN0XVwiPT09YS50b1N0cmluZygpJiZhLmNvbnN0cnVjdG9yPT09T2JqZWN0fTt0LmcuaXNBcnJheT1BcnJheS5pc0FycmF5fHxmdW5jdGlvbihhKXtyZXR1cm5cIltvYmplY3QgQXJyYXldXCI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYSl9O3QuRWQ9ZnVuY3Rpb24oYSl7cmV0dXJuIGEhPT1hfTt0LmJpbmQ9ZnVuY3Rpb24oYSxjLGQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gYy5hcHBseShhLGFyZ3VtZW50cyl9Yy5yfHwoYy5yPXQucisrKTtlLnI9ZD9kK1wiX1wiK2MucjpjLnI7cmV0dXJuIGV9O3QudmE9e307dC5yPTE7dC5leHBhbmRvPVwidmRhdGFcIisobmV3IERhdGUpLmdldFRpbWUoKTt0LmdldERhdGE9ZnVuY3Rpb24oYSl7dmFyIGM9YVt0LmV4cGFuZG9dO2N8fChjPWFbdC5leHBhbmRvXT10LnIrKyx0LnZhW2NdPXt9KTtyZXR1cm4gdC52YVtjXX07XG50LnVjPWZ1bmN0aW9uKGEpe2E9YVt0LmV4cGFuZG9dO3JldHVybiEoIWF8fHQuSWIodC52YVthXSkpfTt0LkljPWZ1bmN0aW9uKGEpe3ZhciBjPWFbdC5leHBhbmRvXTtpZihjKXtkZWxldGUgdC52YVtjXTt0cnl7ZGVsZXRlIGFbdC5leHBhbmRvXX1jYXRjaChkKXthLnJlbW92ZUF0dHJpYnV0ZT9hLnJlbW92ZUF0dHJpYnV0ZSh0LmV4cGFuZG8pOmFbdC5leHBhbmRvXT1rfX19O3QuSWI9ZnVuY3Rpb24oYSl7Zm9yKHZhciBjIGluIGEpaWYoYVtjXSE9PWspcmV0dXJuIGw7cmV0dXJuIGZ9O3QuU2E9ZnVuY3Rpb24oYSxjKXtyZXR1cm4tMSE9PShcIiBcIithLmNsYXNzTmFtZStcIiBcIikuaW5kZXhPZihcIiBcIitjK1wiIFwiKX07dC5uPWZ1bmN0aW9uKGEsYyl7dC5TYShhLGMpfHwoYS5jbGFzc05hbWU9XCJcIj09PWEuY2xhc3NOYW1lP2M6YS5jbGFzc05hbWUrXCIgXCIrYyl9O1xudC5wPWZ1bmN0aW9uKGEsYyl7dmFyIGQsZTtpZih0LlNhKGEsYykpe2Q9YS5jbGFzc05hbWUuc3BsaXQoXCIgXCIpO2ZvcihlPWQubGVuZ3RoLTE7MDw9ZTtlLS0pZFtlXT09PWMmJmQuc3BsaWNlKGUsMSk7YS5jbGFzc05hbWU9ZC5qb2luKFwiIFwiKX19O3QuQT10LmUoXCJ2aWRlb1wiKTt0Lk89bmF2aWdhdG9yLnVzZXJBZ2VudDt0LmJkPS9pUGhvbmUvaS50ZXN0KHQuTyk7dC5hZD0vaVBhZC9pLnRlc3QodC5PKTt0LmNkPS9pUG9kL2kudGVzdCh0Lk8pO3QuJGM9dC5iZHx8dC5hZHx8dC5jZDt2YXIgYWE9dCx4O3ZhciB5PXQuTy5tYXRjaCgvT1MgKFxcZCspXy9pKTt4PXkmJnlbMV0/eVsxXTpiO2FhLm9lPXg7dC5ZYz0vQW5kcm9pZC9pLnRlc3QodC5PKTt2YXIgYmE9dCx6O3ZhciBBPXQuTy5tYXRjaCgvQW5kcm9pZCAoXFxkKykoPzpcXC4oXFxkKykpPyg/OlxcLihcXGQrKSkqL2kpLEIsQztcbkE/KEI9QVsxXSYmcGFyc2VGbG9hdChBWzFdKSxDPUFbMl0mJnBhcnNlRmxvYXQoQVsyXSksej1CJiZDP3BhcnNlRmxvYXQoQVsxXStcIi5cIitBWzJdKTpCP0I6ayk6ej1rO2JhLlViPXo7dC5kZD10LlljJiYvd2Via2l0L2kudGVzdCh0Lk8pJiYyLjM+dC5VYjt0LlpjPS9GaXJlZm94L2kudGVzdCh0Lk8pO3QucGU9L0Nocm9tZS9pLnRlc3QodC5PKTt0LmVjPSEhKFwib250b3VjaHN0YXJ0XCJpbiB3aW5kb3d8fHdpbmRvdy5YYyYmZG9jdW1lbnQgaW5zdGFuY2VvZiB3aW5kb3cuWGMpO3QuV2M9XCJiYWNrZ3JvdW5kU2l6ZVwiaW4gdC5BLnN0eWxlO3QuS2M9ZnVuY3Rpb24oYSxjKXt0LmcuWChjLGZ1bmN0aW9uKGMsZSl7ZT09PWt8fFwidW5kZWZpbmVkXCI9PT10eXBlb2YgZXx8ZT09PWw/YS5yZW1vdmVBdHRyaWJ1dGUoYyk6YS5zZXRBdHRyaWJ1dGUoYyxlPT09Zj9cIlwiOmUpfSl9O1xudC5BYT1mdW5jdGlvbihhKXt2YXIgYyxkLGUsZztjPXt9O2lmKGEmJmEuYXR0cmlidXRlcyYmMDxhLmF0dHJpYnV0ZXMubGVuZ3RoKXtkPWEuYXR0cmlidXRlcztmb3IodmFyIGg9ZC5sZW5ndGgtMTswPD1oO2gtLSl7ZT1kW2hdLm5hbWU7Zz1kW2hdLnZhbHVlO2lmKFwiYm9vbGVhblwiPT09dHlwZW9mIGFbZV18fC0xIT09XCIsYXV0b3BsYXksY29udHJvbHMsbG9vcCxtdXRlZCxkZWZhdWx0LFwiLmluZGV4T2YoXCIsXCIrZStcIixcIikpZz1nIT09az9mOmw7Y1tlXT1nfX1yZXR1cm4gY307XG50LnZlPWZ1bmN0aW9uKGEsYyl7dmFyIGQ9XCJcIjtkb2N1bWVudC5kZWZhdWx0VmlldyYmZG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZT9kPWRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUoYSxcIlwiKS5nZXRQcm9wZXJ0eVZhbHVlKGMpOmEuY3VycmVudFN0eWxlJiYoZD1hW1wiY2xpZW50XCIrYy5zdWJzdHIoMCwxKS50b1VwcGVyQ2FzZSgpK2Muc3Vic3RyKDEpXStcInB4XCIpO3JldHVybiBkfTt0LkhiPWZ1bmN0aW9uKGEsYyl7Yy5maXJzdENoaWxkP2MuaW5zZXJ0QmVmb3JlKGEsYy5maXJzdENoaWxkKTpjLmFwcGVuZENoaWxkKGEpfTt0Lk9hPXt9O3Qudz1mdW5jdGlvbihhKXswPT09YS5pbmRleE9mKFwiI1wiKSYmKGE9YS5zbGljZSgxKSk7cmV0dXJuIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGEpfTtcbnQuemE9ZnVuY3Rpb24oYSxjKXtjPWN8fGE7dmFyIGQ9TWF0aC5mbG9vcihhJTYwKSxlPU1hdGguZmxvb3IoYS82MCU2MCksZz1NYXRoLmZsb29yKGEvMzYwMCksaD1NYXRoLmZsb29yKGMvNjAlNjApLGo9TWF0aC5mbG9vcihjLzM2MDApO2lmKGlzTmFOKGEpfHxJbmZpbml0eT09PWEpZz1lPWQ9XCItXCI7Zz0wPGd8fDA8aj9nK1wiOlwiOlwiXCI7cmV0dXJuIGcrKCgoZ3x8MTA8PWgpJiYxMD5lP1wiMFwiK2U6ZSkrXCI6XCIpKygxMD5kP1wiMFwiK2Q6ZCl9O3Qua2Q9ZnVuY3Rpb24oKXtkb2N1bWVudC5ib2R5LmZvY3VzKCk7ZG9jdW1lbnQub25zZWxlY3RzdGFydD1xKGwpfTt0LmtlPWZ1bmN0aW9uKCl7ZG9jdW1lbnQub25zZWxlY3RzdGFydD1xKGYpfTt0LnRyaW09ZnVuY3Rpb24oYSl7cmV0dXJuKGErXCJcIikucmVwbGFjZSgvXlxccyt8XFxzKyQvZyxcIlwiKX07dC5yb3VuZD1mdW5jdGlvbihhLGMpe2N8fChjPTApO3JldHVybiBNYXRoLnJvdW5kKGEqTWF0aC5wb3coMTAsYykpL01hdGgucG93KDEwLGMpfTtcbnQuemI9ZnVuY3Rpb24oYSxjKXtyZXR1cm57bGVuZ3RoOjEsc3RhcnQ6ZnVuY3Rpb24oKXtyZXR1cm4gYX0sZW5kOmZ1bmN0aW9uKCl7cmV0dXJuIGN9fX07XG50LmdldD1mdW5jdGlvbihhLGMsZCxlKXt2YXIgZyxoLGosbjtkPWR8fG0oKTtcInVuZGVmaW5lZFwiPT09dHlwZW9mIFhNTEh0dHBSZXF1ZXN0JiYod2luZG93LlhNTEh0dHBSZXF1ZXN0PWZ1bmN0aW9uKCl7dHJ5e3JldHVybiBuZXcgd2luZG93LkFjdGl2ZVhPYmplY3QoXCJNc3htbDIuWE1MSFRUUC42LjBcIil9Y2F0Y2goYSl7fXRyeXtyZXR1cm4gbmV3IHdpbmRvdy5BY3RpdmVYT2JqZWN0KFwiTXN4bWwyLlhNTEhUVFAuMy4wXCIpfWNhdGNoKGMpe310cnl7cmV0dXJuIG5ldyB3aW5kb3cuQWN0aXZlWE9iamVjdChcIk1zeG1sMi5YTUxIVFRQXCIpfWNhdGNoKGQpe310aHJvdyBFcnJvcihcIlRoaXMgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IFhNTEh0dHBSZXF1ZXN0LlwiKTt9KTtoPW5ldyBYTUxIdHRwUmVxdWVzdDtqPXQuWGQoYSk7bj13aW5kb3cubG9jYXRpb247ai5wcm90b2NvbCtqLmhvc3QhPT1uLnByb3RvY29sK24uaG9zdCYmd2luZG93LlhEb21haW5SZXF1ZXN0JiYhKFwid2l0aENyZWRlbnRpYWxzXCJpblxuaCk/KGg9bmV3IHdpbmRvdy5YRG9tYWluUmVxdWVzdCxoLm9ubG9hZD1mdW5jdGlvbigpe2MoaC5yZXNwb25zZVRleHQpfSxoLm9uZXJyb3I9ZCxoLm9ucHJvZ3Jlc3M9bSgpLGgub250aW1lb3V0PWQpOihnPVwiZmlsZTpcIj09ai5wcm90b2NvbHx8XCJmaWxlOlwiPT1uLnByb3RvY29sLGgub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7ND09PWgucmVhZHlTdGF0ZSYmKDIwMD09PWguc3RhdHVzfHxnJiYwPT09aC5zdGF0dXM/YyhoLnJlc3BvbnNlVGV4dCk6ZChoLnJlc3BvbnNlVGV4dCkpfSk7dHJ5e2gub3BlbihcIkdFVFwiLGEsZiksZSYmKGgud2l0aENyZWRlbnRpYWxzPWYpfWNhdGNoKHIpe2Qocik7cmV0dXJufXRyeXtoLnNlbmQoKX1jYXRjaCh3KXtkKHcpfX07XG50LmFlPWZ1bmN0aW9uKGEpe3RyeXt2YXIgYz13aW5kb3cubG9jYWxTdG9yYWdlfHxsO2MmJihjLnZvbHVtZT1hKX1jYXRjaChkKXsyMj09ZC5jb2RlfHwxMDE0PT1kLmNvZGU/dC5sb2coXCJMb2NhbFN0b3JhZ2UgRnVsbCAoVmlkZW9KUylcIixkKToxOD09ZC5jb2RlP3QubG9nKFwiTG9jYWxTdG9yYWdlIG5vdCBhbGxvd2VkIChWaWRlb0pTKVwiLGQpOnQubG9nKFwiTG9jYWxTdG9yYWdlIEVycm9yIChWaWRlb0pTKVwiLGQpfX07dC50Yz1mdW5jdGlvbihhKXthLm1hdGNoKC9eaHR0cHM/OlxcL1xcLy8pfHwoYT10LmUoXCJkaXZcIix7aW5uZXJIVE1MOic8YSBocmVmPVwiJythKydcIj54PC9hPid9KS5maXJzdENoaWxkLmhyZWYpO3JldHVybiBhfTtcbnQuWGQ9ZnVuY3Rpb24oYSl7dmFyIGMsZCxlLGc7Zz1cInByb3RvY29sIGhvc3RuYW1lIHBvcnQgcGF0aG5hbWUgc2VhcmNoIGhhc2ggaG9zdFwiLnNwbGl0KFwiIFwiKTtkPXQuZShcImFcIix7aHJlZjphfSk7aWYoZT1cIlwiPT09ZC5ob3N0JiZcImZpbGU6XCIhPT1kLnByb3RvY29sKWM9dC5lKFwiZGl2XCIpLGMuaW5uZXJIVE1MPSc8YSBocmVmPVwiJythKydcIj48L2E+JyxkPWMuZmlyc3RDaGlsZCxjLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsXCJkaXNwbGF5Om5vbmU7IHBvc2l0aW9uOmFic29sdXRlO1wiKSxkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGMpO2E9e307Zm9yKHZhciBoPTA7aDxnLmxlbmd0aDtoKyspYVtnW2hdXT1kW2dbaF1dO2UmJmRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoYyk7cmV0dXJuIGF9O1xuZnVuY3Rpb24gRChhLGMpe3ZhciBkLGU7ZD1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChjKTtlPW0oKTtlPXdpbmRvdy5jb25zb2xlfHx7bG9nOmUsd2FybjplLGVycm9yOmV9O2E/ZC51bnNoaWZ0KGEudG9VcHBlckNhc2UoKStcIjpcIik6YT1cImxvZ1wiO3QubG9nLmhpc3RvcnkucHVzaChkKTtkLnVuc2hpZnQoXCJWSURFT0pTOlwiKTtpZihlW2FdLmFwcGx5KWVbYV0uYXBwbHkoZSxkKTtlbHNlIGVbYV0oZC5qb2luKFwiIFwiKSl9dC5sb2c9ZnVuY3Rpb24oKXtEKGssYXJndW1lbnRzKX07dC5sb2cuaGlzdG9yeT1bXTt0LmxvZy5lcnJvcj1mdW5jdGlvbigpe0QoXCJlcnJvclwiLGFyZ3VtZW50cyl9O3QubG9nLndhcm49ZnVuY3Rpb24oKXtEKFwid2FyblwiLGFyZ3VtZW50cyl9O1xudC54ZD1mdW5jdGlvbihhKXt2YXIgYyxkO2EuZ2V0Qm91bmRpbmdDbGllbnRSZWN0JiZhLnBhcmVudE5vZGUmJihjPWEuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpO2lmKCFjKXJldHVybntsZWZ0OjAsdG9wOjB9O2E9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O2Q9ZG9jdW1lbnQuYm9keTtyZXR1cm57bGVmdDp0LnJvdW5kKGMubGVmdCsod2luZG93LnBhZ2VYT2Zmc2V0fHxkLnNjcm9sbExlZnQpLShhLmNsaWVudExlZnR8fGQuY2xpZW50TGVmdHx8MCkpLHRvcDp0LnJvdW5kKGMudG9wKyh3aW5kb3cucGFnZVlPZmZzZXR8fGQuc2Nyb2xsVG9wKS0oYS5jbGllbnRUb3B8fGQuY2xpZW50VG9wfHwwKSl9fTt0LmljPXt9O3QuaWMuZm9yRWFjaD1mdW5jdGlvbihhLGMsZCl7aWYodC5nLmlzQXJyYXkoYSkmJmMgaW5zdGFuY2VvZiBGdW5jdGlvbilmb3IodmFyIGU9MCxnPWEubGVuZ3RoO2U8ZzsrK2UpYy5jYWxsKGR8fHQsYVtlXSxlLGEpO3JldHVybiBhfTt0LmdhPXt9O1xudC5nYS5WYT1mdW5jdGlvbihhLGMpe3ZhciBkLGUsZzthPXQuZy5jb3B5KGEpO2ZvcihkIGluIGMpYy5oYXNPd25Qcm9wZXJ0eShkKSYmKGU9YVtkXSxnPWNbZF0sYVtkXT10LmcuVGEoZSkmJnQuZy5UYShnKT90LmdhLlZhKGUsZyk6Y1tkXSk7cmV0dXJuIGF9O1xudC5hPXQucWEuZXh0ZW5kKHtpOmZ1bmN0aW9uKGEsYyxkKXt0aGlzLmQ9YTt0aGlzLm09dC5nLmNvcHkodGhpcy5tKTtjPXRoaXMub3B0aW9ucyhjKTt0aGlzLkw9Yy5pZHx8Yy5lbCYmYy5lbC5pZDt0aGlzLkx8fCh0aGlzLkw9KGEuaWQmJmEuaWQoKXx8XCJub19wbGF5ZXJcIikrXCJfY29tcG9uZW50X1wiK3QucisrKTt0aGlzLktkPWMubmFtZXx8azt0aGlzLmI9Yy5lbHx8dGhpcy5lKCk7dGhpcy5QPVtdO3RoaXMuUGE9e307dGhpcy5RYT17fTt0aGlzLndjKCk7dGhpcy5LKGQpO2lmKGMuSmMhPT1sKXt2YXIgZSxnO3RoaXMuaygpLnJlcG9ydFVzZXJBY3Rpdml0eSYmKGU9dC5iaW5kKHRoaXMuaygpLHRoaXMuaygpLnJlcG9ydFVzZXJBY3Rpdml0eSksdGhpcy5jKFwidG91Y2hzdGFydFwiLGZ1bmN0aW9uKCl7ZSgpO2NsZWFySW50ZXJ2YWwoZyk7Zz1zZXRJbnRlcnZhbChlLDI1MCl9KSxhPWZ1bmN0aW9uKCl7ZSgpO2NsZWFySW50ZXJ2YWwoZyl9LHRoaXMuYyhcInRvdWNobW92ZVwiLGUpLHRoaXMuYyhcInRvdWNoZW5kXCIsXG5hKSx0aGlzLmMoXCJ0b3VjaGNhbmNlbFwiLGEpKX19fSk7cz10LmEucHJvdG90eXBlO3MuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMubCh7dHlwZTpcImRpc3Bvc2VcIixidWJibGVzOmx9KTtpZih0aGlzLlApZm9yKHZhciBhPXRoaXMuUC5sZW5ndGgtMTswPD1hO2EtLSl0aGlzLlBbYV0uZGlzcG9zZSYmdGhpcy5QW2FdLmRpc3Bvc2UoKTt0aGlzLlFhPXRoaXMuUGE9dGhpcy5QPWs7dGhpcy5qKCk7dGhpcy5iLnBhcmVudE5vZGUmJnRoaXMuYi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuYik7dC5JYyh0aGlzLmIpO3RoaXMuYj1rfTtzLmQ9ZjtzLms9cChcImRcIik7cy5vcHRpb25zPWZ1bmN0aW9uKGEpe3JldHVybiBhPT09Yj90aGlzLm06dGhpcy5tPXQuZ2EuVmEodGhpcy5tLGEpfTtzLmU9ZnVuY3Rpb24oYSxjKXtyZXR1cm4gdC5lKGEsYyl9O1xucy50PWZ1bmN0aW9uKGEpe3ZhciBjPXRoaXMuZC5sYW5ndWFnZSgpLGQ9dGhpcy5kLmxhbmd1YWdlcygpO3JldHVybiBkJiZkW2NdJiZkW2NdW2FdP2RbY11bYV06YX07cy53PXAoXCJiXCIpO3MuamE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52fHx0aGlzLmJ9O3MuaWQ9cChcIkxcIik7cy5uYW1lPXAoXCJLZFwiKTtzLmNoaWxkcmVuPXAoXCJQXCIpO3MuemQ9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuUGFbYV19O3Mua2E9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuUWFbYV19O1xucy5WPWZ1bmN0aW9uKGEsYyl7dmFyIGQsZTtcInN0cmluZ1wiPT09dHlwZW9mIGE/KGU9YSxjPWN8fHt9LGQ9Yy5jb21wb25lbnRDbGFzc3x8dC5iYShlKSxjLm5hbWU9ZSxkPW5ldyB3aW5kb3cudmlkZW9qc1tkXSh0aGlzLmR8fHRoaXMsYykpOmQ9YTt0aGlzLlAucHVzaChkKTtcImZ1bmN0aW9uXCI9PT10eXBlb2YgZC5pZCYmKHRoaXMuUGFbZC5pZCgpXT1kKTsoZT1lfHxkLm5hbWUmJmQubmFtZSgpKSYmKHRoaXMuUWFbZV09ZCk7XCJmdW5jdGlvblwiPT09dHlwZW9mIGQuZWwmJmQuZWwoKSYmdGhpcy5qYSgpLmFwcGVuZENoaWxkKGQuZWwoKSk7cmV0dXJuIGR9O1xucy5yZW1vdmVDaGlsZD1mdW5jdGlvbihhKXtcInN0cmluZ1wiPT09dHlwZW9mIGEmJihhPXRoaXMua2EoYSkpO2lmKGEmJnRoaXMuUCl7Zm9yKHZhciBjPWwsZD10aGlzLlAubGVuZ3RoLTE7MDw9ZDtkLS0paWYodGhpcy5QW2RdPT09YSl7Yz1mO3RoaXMuUC5zcGxpY2UoZCwxKTticmVha31jJiYodGhpcy5QYVthLmlkXT1rLHRoaXMuUWFbYS5uYW1lXT1rLChjPWEudygpKSYmYy5wYXJlbnROb2RlPT09dGhpcy5qYSgpJiZ0aGlzLmphKCkucmVtb3ZlQ2hpbGQoYS53KCkpKX19O1xucy53Yz1mdW5jdGlvbigpe3ZhciBhLGMsZCxlLGcsaDthPXRoaXM7Yz1hLm9wdGlvbnMoKTtpZihkPWMuY2hpbGRyZW4paWYoaD1mdW5jdGlvbihkLGUpe2NbZF0hPT1iJiYoZT1jW2RdKTtlIT09bCYmKGFbZF09YS5WKGQsZSkpfSx0LmcuaXNBcnJheShkKSlmb3IodmFyIGo9MDtqPGQubGVuZ3RoO2orKyllPWRbal0sXCJzdHJpbmdcIj09dHlwZW9mIGU/KGc9ZSxlPXt9KTpnPWUubmFtZSxoKGcsZSk7ZWxzZSB0LmcuWChkLGgpfTtzLlQ9cShcIlwiKTtcbnMuYz1mdW5jdGlvbihhLGMsZCl7dmFyIGUsZyxoO1wic3RyaW5nXCI9PT10eXBlb2YgYXx8dC5nLmlzQXJyYXkoYSk/dC5jKHRoaXMuYixhLHQuYmluZCh0aGlzLGMpKTooZT10LmJpbmQodGhpcyxkKSxoPXRoaXMsZz1mdW5jdGlvbigpe2guaihhLGMsZSl9LGcucj1lLnIsdGhpcy5jKFwiZGlzcG9zZVwiLGcpLGQ9ZnVuY3Rpb24oKXtoLmooXCJkaXNwb3NlXCIsZyl9LGQucj1lLnIsYS5ub2RlTmFtZT8odC5jKGEsYyxlKSx0LmMoYSxcImRpc3Bvc2VcIixkKSk6XCJmdW5jdGlvblwiPT09dHlwZW9mIGEuYyYmKGEuYyhjLGUpLGEuYyhcImRpc3Bvc2VcIixkKSkpO3JldHVybiB0aGlzfTtcbnMuaj1mdW5jdGlvbihhLGMsZCl7IWF8fFwic3RyaW5nXCI9PT10eXBlb2YgYXx8dC5nLmlzQXJyYXkoYSk/dC5qKHRoaXMuYixhLGMpOihkPXQuYmluZCh0aGlzLGQpLHRoaXMuaihcImRpc3Bvc2VcIixkKSxhLm5vZGVOYW1lPyh0LmooYSxjLGQpLHQuaihhLFwiZGlzcG9zZVwiLGQpKTooYS5qKGMsZCksYS5qKFwiZGlzcG9zZVwiLGQpKSk7cmV0dXJuIHRoaXN9O3MuUj1mdW5jdGlvbihhLGMsZCl7dmFyIGUsZyxoO1wic3RyaW5nXCI9PT10eXBlb2YgYXx8dC5nLmlzQXJyYXkoYSk/dC5SKHRoaXMuYixhLHQuYmluZCh0aGlzLGMpKTooZT10LmJpbmQodGhpcyxkKSxnPXRoaXMsaD1mdW5jdGlvbigpe2cuaihhLGMsaCk7ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGgucj1lLnIsdGhpcy5jKGEsYyxoKSk7cmV0dXJuIHRoaXN9O3MubD1mdW5jdGlvbihhKXt0LmwodGhpcy5iLGEpO3JldHVybiB0aGlzfTtcbnMuSz1mdW5jdGlvbihhKXthJiYodGhpcy5sYT9hLmNhbGwodGhpcyk6KHRoaXMuYWI9PT1iJiYodGhpcy5hYj1bXSksdGhpcy5hYi5wdXNoKGEpKSk7cmV0dXJuIHRoaXN9O3MuR2E9ZnVuY3Rpb24oKXt0aGlzLmxhPWY7dmFyIGE9dGhpcy5hYjtpZihhJiYwPGEubGVuZ3RoKXtmb3IodmFyIGM9MCxkPWEubGVuZ3RoO2M8ZDtjKyspYVtjXS5jYWxsKHRoaXMpO3RoaXMuYWI9W107dGhpcy5sKFwicmVhZHlcIil9fTtzLlNhPWZ1bmN0aW9uKGEpe3JldHVybiB0LlNhKHRoaXMuYixhKX07cy5uPWZ1bmN0aW9uKGEpe3Qubih0aGlzLmIsYSk7cmV0dXJuIHRoaXN9O3MucD1mdW5jdGlvbihhKXt0LnAodGhpcy5iLGEpO3JldHVybiB0aGlzfTtzLnNob3c9ZnVuY3Rpb24oKXt0aGlzLmIuc3R5bGUuZGlzcGxheT1cImJsb2NrXCI7cmV0dXJuIHRoaXN9O3MuWT1mdW5jdGlvbigpe3RoaXMuYi5zdHlsZS5kaXNwbGF5PVwibm9uZVwiO3JldHVybiB0aGlzfTtcbmZ1bmN0aW9uIEUoYSl7YS5wKFwidmpzLWxvY2stc2hvd2luZ1wiKX1zLmRpc2FibGU9ZnVuY3Rpb24oKXt0aGlzLlkoKTt0aGlzLnNob3c9bSgpfTtzLndpZHRoPWZ1bmN0aW9uKGEsYyl7cmV0dXJuIEYodGhpcyxcIndpZHRoXCIsYSxjKX07cy5oZWlnaHQ9ZnVuY3Rpb24oYSxjKXtyZXR1cm4gRih0aGlzLFwiaGVpZ2h0XCIsYSxjKX07cy50ZD1mdW5jdGlvbihhLGMpe3JldHVybiB0aGlzLndpZHRoKGEsZikuaGVpZ2h0KGMpfTtcbmZ1bmN0aW9uIEYoYSxjLGQsZSl7aWYoZCE9PWIpe2lmKGQ9PT1rfHx0LkVkKGQpKWQ9MDthLmIuc3R5bGVbY109LTEhPT0oXCJcIitkKS5pbmRleE9mKFwiJVwiKXx8LTEhPT0oXCJcIitkKS5pbmRleE9mKFwicHhcIik/ZDpcImF1dG9cIj09PWQ/XCJcIjpkK1wicHhcIjtlfHxhLmwoXCJyZXNpemVcIik7cmV0dXJuIGF9aWYoIWEuYilyZXR1cm4gMDtkPWEuYi5zdHlsZVtjXTtlPWQuaW5kZXhPZihcInB4XCIpO3JldHVybi0xIT09ZT9wYXJzZUludChkLnNsaWNlKDAsZSksMTApOnBhcnNlSW50KGEuYltcIm9mZnNldFwiK3QuYmEoYyldLDEwKX1cbmZ1bmN0aW9uIEcoYSl7dmFyIGMsZCxlLGcsaCxqLG4scjtjPTA7ZD1rO2EuYyhcInRvdWNoc3RhcnRcIixmdW5jdGlvbihhKXsxPT09YS50b3VjaGVzLmxlbmd0aCYmKGQ9YS50b3VjaGVzWzBdLGM9KG5ldyBEYXRlKS5nZXRUaW1lKCksZz1mKX0pO2EuYyhcInRvdWNobW92ZVwiLGZ1bmN0aW9uKGEpezE8YS50b3VjaGVzLmxlbmd0aD9nPWw6ZCYmKGo9YS50b3VjaGVzWzBdLnBhZ2VYLWQucGFnZVgsbj1hLnRvdWNoZXNbMF0ucGFnZVktZC5wYWdlWSxyPU1hdGguc3FydChqKmorbipuKSwyMjxyJiYoZz1sKSl9KTtoPWZ1bmN0aW9uKCl7Zz1sfTthLmMoXCJ0b3VjaGxlYXZlXCIsaCk7YS5jKFwidG91Y2hjYW5jZWxcIixoKTthLmMoXCJ0b3VjaGVuZFwiLGZ1bmN0aW9uKGEpe2Q9aztnPT09ZiYmKGU9KG5ldyBEYXRlKS5nZXRUaW1lKCktYywyNTA+ZSYmKGEucHJldmVudERlZmF1bHQoKSx0aGlzLmwoXCJ0YXBcIikpKX0pfVxudC51PXQuYS5leHRlbmQoe2k6ZnVuY3Rpb24oYSxjKXt0LmEuY2FsbCh0aGlzLGEsYyk7Ryh0aGlzKTt0aGlzLmMoXCJ0YXBcIix0aGlzLnMpO3RoaXMuYyhcImNsaWNrXCIsdGhpcy5zKTt0aGlzLmMoXCJmb2N1c1wiLHRoaXMuWWEpO3RoaXMuYyhcImJsdXJcIix0aGlzLlhhKX19KTtzPXQudS5wcm90b3R5cGU7XG5zLmU9ZnVuY3Rpb24oYSxjKXt2YXIgZDtjPXQuZy56KHtjbGFzc05hbWU6dGhpcy5UKCkscm9sZTpcImJ1dHRvblwiLFwiYXJpYS1saXZlXCI6XCJwb2xpdGVcIix0YWJJbmRleDowfSxjKTtkPXQuYS5wcm90b3R5cGUuZS5jYWxsKHRoaXMsYSxjKTtjLmlubmVySFRNTHx8KHRoaXMudj10LmUoXCJkaXZcIix7Y2xhc3NOYW1lOlwidmpzLWNvbnRyb2wtY29udGVudFwifSksdGhpcy54Yj10LmUoXCJzcGFuXCIse2NsYXNzTmFtZTpcInZqcy1jb250cm9sLXRleHRcIixpbm5lckhUTUw6dGhpcy50KHRoaXMudWEpfHxcIk5lZWQgVGV4dFwifSksdGhpcy52LmFwcGVuZENoaWxkKHRoaXMueGIpLGQuYXBwZW5kQ2hpbGQodGhpcy52KSk7cmV0dXJuIGR9O3MuVD1mdW5jdGlvbigpe3JldHVyblwidmpzLWNvbnRyb2wgXCIrdC5hLnByb3RvdHlwZS5ULmNhbGwodGhpcyl9O3Mucz1tKCk7cy5ZYT1mdW5jdGlvbigpe3QuYyhkb2N1bWVudCxcImtleWRvd25cIix0LmJpbmQodGhpcyx0aGlzLlopKX07XG5zLlo9ZnVuY3Rpb24oYSl7aWYoMzI9PWEud2hpY2h8fDEzPT1hLndoaWNoKWEucHJldmVudERlZmF1bHQoKSx0aGlzLnMoKX07cy5YYT1mdW5jdGlvbigpe3Quaihkb2N1bWVudCxcImtleWRvd25cIix0LmJpbmQodGhpcyx0aGlzLlopKX07XG50LlM9dC5hLmV4dGVuZCh7aTpmdW5jdGlvbihhLGMpe3QuYS5jYWxsKHRoaXMsYSxjKTt0aGlzLmpkPXRoaXMua2EodGhpcy5tLmJhck5hbWUpO3RoaXMuaGFuZGxlPXRoaXMua2EodGhpcy5tLmhhbmRsZU5hbWUpO3RoaXMuYyhcIm1vdXNlZG93blwiLHRoaXMuWmEpO3RoaXMuYyhcInRvdWNoc3RhcnRcIix0aGlzLlphKTt0aGlzLmMoXCJmb2N1c1wiLHRoaXMuWWEpO3RoaXMuYyhcImJsdXJcIix0aGlzLlhhKTt0aGlzLmMoXCJjbGlja1wiLHRoaXMucyk7dGhpcy5jKGEsXCJjb250cm9sc3Zpc2libGVcIix0aGlzLnVwZGF0ZSk7dGhpcy5jKGEsdGhpcy5FYyx0aGlzLnVwZGF0ZSk7dGhpcy5GPXt9O3RoaXMuRi5tb3ZlPXQuYmluZCh0aGlzLHRoaXMuJGEpO3RoaXMuRi5lbmQ9dC5iaW5kKHRoaXMsdGhpcy5NYil9fSk7cz10LlMucHJvdG90eXBlO1xucy5kaXNwb3NlPWZ1bmN0aW9uKCl7dC5qKGRvY3VtZW50LFwibW91c2Vtb3ZlXCIsdGhpcy5GLm1vdmUsbCk7dC5qKGRvY3VtZW50LFwibW91c2V1cFwiLHRoaXMuRi5lbmQsbCk7dC5qKGRvY3VtZW50LFwidG91Y2htb3ZlXCIsdGhpcy5GLm1vdmUsbCk7dC5qKGRvY3VtZW50LFwidG91Y2hlbmRcIix0aGlzLkYuZW5kLGwpO3Quaihkb2N1bWVudCxcImtleXVwXCIsdC5iaW5kKHRoaXMsdGhpcy5aKSk7dC5hLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyl9O3MuZT1mdW5jdGlvbihhLGMpe2M9Y3x8e307Yy5jbGFzc05hbWUrPVwiIHZqcy1zbGlkZXJcIjtjPXQuZy56KHtyb2xlOlwic2xpZGVyXCIsXCJhcmlhLXZhbHVlbm93XCI6MCxcImFyaWEtdmFsdWVtaW5cIjowLFwiYXJpYS12YWx1ZW1heFwiOjEwMCx0YWJJbmRleDowfSxjKTtyZXR1cm4gdC5hLnByb3RvdHlwZS5lLmNhbGwodGhpcyxhLGMpfTtcbnMuWmE9ZnVuY3Rpb24oYSl7YS5wcmV2ZW50RGVmYXVsdCgpO3Qua2QoKTt0aGlzLm4oXCJ2anMtc2xpZGluZ1wiKTt0LmMoZG9jdW1lbnQsXCJtb3VzZW1vdmVcIix0aGlzLkYubW92ZSk7dC5jKGRvY3VtZW50LFwibW91c2V1cFwiLHRoaXMuRi5lbmQpO3QuYyhkb2N1bWVudCxcInRvdWNobW92ZVwiLHRoaXMuRi5tb3ZlKTt0LmMoZG9jdW1lbnQsXCJ0b3VjaGVuZFwiLHRoaXMuRi5lbmQpO3RoaXMuJGEoYSl9O3MuJGE9bSgpO3MuTWI9ZnVuY3Rpb24oKXt0LmtlKCk7dGhpcy5wKFwidmpzLXNsaWRpbmdcIik7dC5qKGRvY3VtZW50LFwibW91c2Vtb3ZlXCIsdGhpcy5GLm1vdmUsbCk7dC5qKGRvY3VtZW50LFwibW91c2V1cFwiLHRoaXMuRi5lbmQsbCk7dC5qKGRvY3VtZW50LFwidG91Y2htb3ZlXCIsdGhpcy5GLm1vdmUsbCk7dC5qKGRvY3VtZW50LFwidG91Y2hlbmRcIix0aGlzLkYuZW5kLGwpO3RoaXMudXBkYXRlKCl9O1xucy51cGRhdGU9ZnVuY3Rpb24oKXtpZih0aGlzLmIpe3ZhciBhLGM9dGhpcy5HYigpLGQ9dGhpcy5oYW5kbGUsZT10aGlzLmpkO2lzTmFOKGMpJiYoYz0wKTthPWM7aWYoZCl7YT10aGlzLmIub2Zmc2V0V2lkdGg7dmFyIGc9ZC53KCkub2Zmc2V0V2lkdGg7YT1nP2cvYTowO2MqPTEtYTthPWMrYS8yO2QudygpLnN0eWxlLmxlZnQ9dC5yb3VuZCgxMDAqYywyKStcIiVcIn1lJiYoZS53KCkuc3R5bGUud2lkdGg9dC5yb3VuZCgxMDAqYSwyKStcIiVcIil9fTtcbmZ1bmN0aW9uIEgoYSxjKXt2YXIgZCxlLGcsaDtkPWEuYjtlPXQueGQoZCk7aD1nPWQub2Zmc2V0V2lkdGg7ZD1hLmhhbmRsZTtpZihhLm9wdGlvbnMoKS52ZXJ0aWNhbClyZXR1cm4gaD1lLnRvcCxlPWMuY2hhbmdlZFRvdWNoZXM/Yy5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWTpjLnBhZ2VZLGQmJihkPWQudygpLm9mZnNldEhlaWdodCxoKz1kLzIsZy09ZCksTWF0aC5tYXgoMCxNYXRoLm1pbigxLChoLWUrZykvZykpO2c9ZS5sZWZ0O2U9Yy5jaGFuZ2VkVG91Y2hlcz9jLmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VYOmMucGFnZVg7ZCYmKGQ9ZC53KCkub2Zmc2V0V2lkdGgsZys9ZC8yLGgtPWQpO3JldHVybiBNYXRoLm1heCgwLE1hdGgubWluKDEsKGUtZykvaCkpfXMuWWE9ZnVuY3Rpb24oKXt0LmMoZG9jdW1lbnQsXCJrZXl1cFwiLHQuYmluZCh0aGlzLHRoaXMuWikpfTtcbnMuWj1mdW5jdGlvbihhKXtpZigzNz09YS53aGljaHx8NDA9PWEud2hpY2gpYS5wcmV2ZW50RGVmYXVsdCgpLHRoaXMuTmMoKTtlbHNlIGlmKDM4PT1hLndoaWNofHwzOT09YS53aGljaClhLnByZXZlbnREZWZhdWx0KCksdGhpcy5PYygpfTtzLlhhPWZ1bmN0aW9uKCl7dC5qKGRvY3VtZW50LFwia2V5dXBcIix0LmJpbmQodGhpcyx0aGlzLlopKX07cy5zPWZ1bmN0aW9uKGEpe2Euc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7YS5wcmV2ZW50RGVmYXVsdCgpfTt0LiQ9dC5hLmV4dGVuZCgpO3QuJC5wcm90b3R5cGUuZGVmYXVsdFZhbHVlPTA7XG50LiQucHJvdG90eXBlLmU9ZnVuY3Rpb24oYSxjKXtjPWN8fHt9O2MuY2xhc3NOYW1lKz1cIiB2anMtc2xpZGVyLWhhbmRsZVwiO2M9dC5nLnooe2lubmVySFRNTDonPHNwYW4gY2xhc3M9XCJ2anMtY29udHJvbC10ZXh0XCI+Jyt0aGlzLmRlZmF1bHRWYWx1ZStcIjwvc3Bhbj5cIn0sYyk7cmV0dXJuIHQuYS5wcm90b3R5cGUuZS5jYWxsKHRoaXMsXCJkaXZcIixjKX07dC5oYT10LmEuZXh0ZW5kKCk7ZnVuY3Rpb24gY2EoYSxjKXthLlYoYyk7Yy5jKFwiY2xpY2tcIix0LmJpbmQoYSxmdW5jdGlvbigpe0UodGhpcyl9KSl9XG50LmhhLnByb3RvdHlwZS5lPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcHRpb25zKCkubGN8fFwidWxcIjt0aGlzLnY9dC5lKGEse2NsYXNzTmFtZTpcInZqcy1tZW51LWNvbnRlbnRcIn0pO2E9dC5hLnByb3RvdHlwZS5lLmNhbGwodGhpcyxcImRpdlwiLHthcHBlbmQ6dGhpcy52LGNsYXNzTmFtZTpcInZqcy1tZW51XCJ9KTthLmFwcGVuZENoaWxkKHRoaXMudik7dC5jKGEsXCJjbGlja1wiLGZ1bmN0aW9uKGEpe2EucHJldmVudERlZmF1bHQoKTthLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpfSk7cmV0dXJuIGF9O3QuSj10LnUuZXh0ZW5kKHtpOmZ1bmN0aW9uKGEsYyl7dC51LmNhbGwodGhpcyxhLGMpO3RoaXMuc2VsZWN0ZWQoYy5zZWxlY3RlZCl9fSk7dC5KLnByb3RvdHlwZS5lPWZ1bmN0aW9uKGEsYyl7cmV0dXJuIHQudS5wcm90b3R5cGUuZS5jYWxsKHRoaXMsXCJsaVwiLHQuZy56KHtjbGFzc05hbWU6XCJ2anMtbWVudS1pdGVtXCIsaW5uZXJIVE1MOnRoaXMudCh0aGlzLm0ubGFiZWwpfSxjKSl9O1xudC5KLnByb3RvdHlwZS5zPWZ1bmN0aW9uKCl7dGhpcy5zZWxlY3RlZChmKX07dC5KLnByb3RvdHlwZS5zZWxlY3RlZD1mdW5jdGlvbihhKXthPyh0aGlzLm4oXCJ2anMtc2VsZWN0ZWRcIiksdGhpcy5iLnNldEF0dHJpYnV0ZShcImFyaWEtc2VsZWN0ZWRcIixmKSk6KHRoaXMucChcInZqcy1zZWxlY3RlZFwiKSx0aGlzLmIuc2V0QXR0cmlidXRlKFwiYXJpYS1zZWxlY3RlZFwiLGwpKX07dC5OPXQudS5leHRlbmQoe2k6ZnVuY3Rpb24oYSxjKXt0LnUuY2FsbCh0aGlzLGEsYyk7dGhpcy5CYT10aGlzLnhhKCk7dGhpcy5WKHRoaXMuQmEpO3RoaXMuUSYmMD09PXRoaXMuUS5sZW5ndGgmJnRoaXMuWSgpO3RoaXMuYyhcImtleXVwXCIsdGhpcy5aKTt0aGlzLmIuc2V0QXR0cmlidXRlKFwiYXJpYS1oYXNwb3B1cFwiLGYpO3RoaXMuYi5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsXCJidXR0b25cIil9fSk7cz10Lk4ucHJvdG90eXBlO3MudGE9bDtcbnMueGE9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgdC5oYSh0aGlzLmQpO3RoaXMub3B0aW9ucygpLnRpdGxlJiZhLmphKCkuYXBwZW5kQ2hpbGQodC5lKFwibGlcIix7Y2xhc3NOYW1lOlwidmpzLW1lbnUtdGl0bGVcIixpbm5lckhUTUw6dC5iYSh0aGlzLm9wdGlvbnMoKS50aXRsZSksaGU6LTF9KSk7aWYodGhpcy5RPXRoaXMuY3JlYXRlSXRlbXMoKSlmb3IodmFyIGM9MDtjPHRoaXMuUS5sZW5ndGg7YysrKWNhKGEsdGhpcy5RW2NdKTtyZXR1cm4gYX07cy53YT1tKCk7cy5UPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2xhc3NOYW1lK1wiIHZqcy1tZW51LWJ1dHRvbiBcIit0LnUucHJvdG90eXBlLlQuY2FsbCh0aGlzKX07cy5ZYT1tKCk7cy5YYT1tKCk7cy5zPWZ1bmN0aW9uKCl7dGhpcy5SKFwibW91c2VvdXRcIix0LmJpbmQodGhpcyxmdW5jdGlvbigpe0UodGhpcy5CYSk7dGhpcy5iLmJsdXIoKX0pKTt0aGlzLnRhP0kodGhpcyk6Sih0aGlzKX07XG5zLlo9ZnVuY3Rpb24oYSl7YS5wcmV2ZW50RGVmYXVsdCgpOzMyPT1hLndoaWNofHwxMz09YS53aGljaD90aGlzLnRhP0kodGhpcyk6Sih0aGlzKToyNz09YS53aGljaCYmdGhpcy50YSYmSSh0aGlzKX07ZnVuY3Rpb24gSihhKXthLnRhPWY7YS5CYS5uKFwidmpzLWxvY2stc2hvd2luZ1wiKTthLmIuc2V0QXR0cmlidXRlKFwiYXJpYS1wcmVzc2VkXCIsZik7YS5RJiYwPGEuUS5sZW5ndGgmJmEuUVswXS53KCkuZm9jdXMoKX1mdW5jdGlvbiBJKGEpe2EudGE9bDtFKGEuQmEpO2EuYi5zZXRBdHRyaWJ1dGUoXCJhcmlhLXByZXNzZWRcIixsKX10LkQ9ZnVuY3Rpb24oYSl7XCJudW1iZXJcIj09PXR5cGVvZiBhP3RoaXMuY29kZT1hOlwic3RyaW5nXCI9PT10eXBlb2YgYT90aGlzLm1lc3NhZ2U9YTpcIm9iamVjdFwiPT09dHlwZW9mIGEmJnQuZy56KHRoaXMsYSk7dGhpcy5tZXNzYWdlfHwodGhpcy5tZXNzYWdlPXQuRC5yZFt0aGlzLmNvZGVdfHxcIlwiKX07dC5ELnByb3RvdHlwZS5jb2RlPTA7XG50LkQucHJvdG90eXBlLm1lc3NhZ2U9XCJcIjt0LkQucHJvdG90eXBlLnN0YXR1cz1rO3QuRC5SYT1cIk1FRElBX0VSUl9DVVNUT00gTUVESUFfRVJSX0FCT1JURUQgTUVESUFfRVJSX05FVFdPUksgTUVESUFfRVJSX0RFQ09ERSBNRURJQV9FUlJfU1JDX05PVF9TVVBQT1JURUQgTUVESUFfRVJSX0VOQ1JZUFRFRFwiLnNwbGl0KFwiIFwiKTtcbnQuRC5yZD17MTpcIllvdSBhYm9ydGVkIHRoZSB2aWRlbyBwbGF5YmFja1wiLDI6XCJBIG5ldHdvcmsgZXJyb3IgY2F1c2VkIHRoZSB2aWRlbyBkb3dubG9hZCB0byBmYWlsIHBhcnQtd2F5LlwiLDM6XCJUaGUgdmlkZW8gcGxheWJhY2sgd2FzIGFib3J0ZWQgZHVlIHRvIGEgY29ycnVwdGlvbiBwcm9ibGVtIG9yIGJlY2F1c2UgdGhlIHZpZGVvIHVzZWQgZmVhdHVyZXMgeW91ciBicm93c2VyIGRpZCBub3Qgc3VwcG9ydC5cIiw0OlwiVGhlIHZpZGVvIGNvdWxkIG5vdCBiZSBsb2FkZWQsIGVpdGhlciBiZWNhdXNlIHRoZSBzZXJ2ZXIgb3IgbmV0d29yayBmYWlsZWQgb3IgYmVjYXVzZSB0aGUgZm9ybWF0IGlzIG5vdCBzdXBwb3J0ZWQuXCIsNTpcIlRoZSB2aWRlbyBpcyBlbmNyeXB0ZWQgYW5kIHdlIGRvIG5vdCBoYXZlIHRoZSBrZXlzIHRvIGRlY3J5cHQgaXQuXCJ9O2Zvcih2YXIgSz0wO0s8dC5ELlJhLmxlbmd0aDtLKyspdC5EW3QuRC5SYVtLXV09Syx0LkQucHJvdG90eXBlW3QuRC5SYVtLXV09SztcbnZhciBMLE0sTixPO1xuTD1bXCJyZXF1ZXN0RnVsbHNjcmVlbiBleGl0RnVsbHNjcmVlbiBmdWxsc2NyZWVuRWxlbWVudCBmdWxsc2NyZWVuRW5hYmxlZCBmdWxsc2NyZWVuY2hhbmdlIGZ1bGxzY3JlZW5lcnJvclwiLnNwbGl0KFwiIFwiKSxcIndlYmtpdFJlcXVlc3RGdWxsc2NyZWVuIHdlYmtpdEV4aXRGdWxsc2NyZWVuIHdlYmtpdEZ1bGxzY3JlZW5FbGVtZW50IHdlYmtpdEZ1bGxzY3JlZW5FbmFibGVkIHdlYmtpdGZ1bGxzY3JlZW5jaGFuZ2Ugd2Via2l0ZnVsbHNjcmVlbmVycm9yXCIuc3BsaXQoXCIgXCIpLFwid2Via2l0UmVxdWVzdEZ1bGxTY3JlZW4gd2Via2l0Q2FuY2VsRnVsbFNjcmVlbiB3ZWJraXRDdXJyZW50RnVsbFNjcmVlbkVsZW1lbnQgd2Via2l0Q2FuY2VsRnVsbFNjcmVlbiB3ZWJraXRmdWxsc2NyZWVuY2hhbmdlIHdlYmtpdGZ1bGxzY3JlZW5lcnJvclwiLnNwbGl0KFwiIFwiKSxcIm1velJlcXVlc3RGdWxsU2NyZWVuIG1vekNhbmNlbEZ1bGxTY3JlZW4gbW96RnVsbFNjcmVlbkVsZW1lbnQgbW96RnVsbFNjcmVlbkVuYWJsZWQgbW96ZnVsbHNjcmVlbmNoYW5nZSBtb3pmdWxsc2NyZWVuZXJyb3JcIi5zcGxpdChcIiBcIiksXCJtc1JlcXVlc3RGdWxsc2NyZWVuIG1zRXhpdEZ1bGxzY3JlZW4gbXNGdWxsc2NyZWVuRWxlbWVudCBtc0Z1bGxzY3JlZW5FbmFibGVkIE1TRnVsbHNjcmVlbkNoYW5nZSBNU0Z1bGxzY3JlZW5FcnJvclwiLnNwbGl0KFwiIFwiKV07XG5NPUxbMF07Zm9yKE89MDtPPEwubGVuZ3RoO08rKylpZihMW09dWzFdaW4gZG9jdW1lbnQpe049TFtPXTticmVha31pZihOKXt0Lk9hLkZiPXt9O2ZvcihPPTA7TzxOLmxlbmd0aDtPKyspdC5PYS5GYltNW09dXT1OW09dfVxudC5QbGF5ZXI9dC5hLmV4dGVuZCh7aTpmdW5jdGlvbihhLGMsZCl7dGhpcy5JPWE7YS5pZD1hLmlkfHxcInZqc192aWRlb19cIit0LnIrKzt0aGlzLmllPWEmJnQuQWEoYSk7Yz10LmcueihkYShhKSxjKTt0aGlzLlVhPWMubGFuZ3VhZ2V8fHQub3B0aW9ucy5sYW5ndWFnZTt0aGlzLklkPWMubGFuZ3VhZ2VzfHx0Lm9wdGlvbnMubGFuZ3VhZ2VzO3RoaXMuRz17fTt0aGlzLkZjPWMucG9zdGVyfHxcIlwiO3RoaXMueWI9ISFjLmNvbnRyb2xzO2EuY29udHJvbHM9bDtjLkpjPWw7UCh0aGlzLFwiYXVkaW9cIj09PXRoaXMuSS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKTt0LmEuY2FsbCh0aGlzLHRoaXMsYyxkKTt0aGlzLmNvbnRyb2xzKCk/dGhpcy5uKFwidmpzLWNvbnRyb2xzLWVuYWJsZWRcIik6dGhpcy5uKFwidmpzLWNvbnRyb2xzLWRpc2FibGVkXCIpO1AodGhpcykmJnRoaXMubihcInZqcy1hdWRpb1wiKTt0LkNhW3RoaXMuTF09dGhpcztjLnBsdWdpbnMmJnQuZy5YKGMucGx1Z2lucyxmdW5jdGlvbihhLFxuYyl7dGhpc1thXShjKX0sdGhpcyk7dmFyIGUsZyxoLGosbixyO2U9dC5iaW5kKHRoaXMsdGhpcy5yZXBvcnRVc2VyQWN0aXZpdHkpO3RoaXMuYyhcIm1vdXNlZG93blwiLGZ1bmN0aW9uKCl7ZSgpO2NsZWFySW50ZXJ2YWwoZyk7Zz1zZXRJbnRlcnZhbChlLDI1MCl9KTt0aGlzLmMoXCJtb3VzZW1vdmVcIixmdW5jdGlvbihhKXtpZihhLnNjcmVlblghPW58fGEuc2NyZWVuWSE9ciluPWEuc2NyZWVuWCxyPWEuc2NyZWVuWSxlKCl9KTt0aGlzLmMoXCJtb3VzZXVwXCIsZnVuY3Rpb24oKXtlKCk7Y2xlYXJJbnRlcnZhbChnKX0pO3RoaXMuYyhcImtleWRvd25cIixlKTt0aGlzLmMoXCJrZXl1cFwiLGUpO2g9c2V0SW50ZXJ2YWwodC5iaW5kKHRoaXMsZnVuY3Rpb24oKXtpZih0aGlzLnBhKXt0aGlzLnBhPWw7dGhpcy51c2VyQWN0aXZlKGYpO2NsZWFyVGltZW91dChqKTt2YXIgYT10aGlzLm9wdGlvbnMoKS5pbmFjdGl2aXR5VGltZW91dDswPGEmJihqPXNldFRpbWVvdXQodC5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLnBhfHxcbnRoaXMudXNlckFjdGl2ZShsKX0pLGEpKX19KSwyNTApO3RoaXMuYyhcImRpc3Bvc2VcIixmdW5jdGlvbigpe2NsZWFySW50ZXJ2YWwoaCk7Y2xlYXJUaW1lb3V0KGopfSl9fSk7cz10LlBsYXllci5wcm90b3R5cGU7cy5sYW5ndWFnZT1mdW5jdGlvbihhKXtpZihhPT09YilyZXR1cm4gdGhpcy5VYTt0aGlzLlVhPWE7cmV0dXJuIHRoaXN9O3MubGFuZ3VhZ2VzPXAoXCJJZFwiKTtzLm09dC5vcHRpb25zO3MuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMubChcImRpc3Bvc2VcIik7dGhpcy5qKFwiZGlzcG9zZVwiKTt0LkNhW3RoaXMuTF09azt0aGlzLkkmJnRoaXMuSS5wbGF5ZXImJih0aGlzLkkucGxheWVyPWspO3RoaXMuYiYmdGhpcy5iLnBsYXllciYmKHRoaXMuYi5wbGF5ZXI9ayk7dGhpcy5vJiZ0aGlzLm8uZGlzcG9zZSgpO3QuYS5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpfTtcbmZ1bmN0aW9uIGRhKGEpe3ZhciBjLGQsZT17c291cmNlczpbXSx0cmFja3M6W119O2M9dC5BYShhKTtkPWNbXCJkYXRhLXNldHVwXCJdO2QhPT1rJiZ0LmcueihjLHQuSlNPTi5wYXJzZShkfHxcInt9XCIpKTt0LmcueihlLGMpO2lmKGEuaGFzQ2hpbGROb2RlcygpKXt2YXIgZyxoO2E9YS5jaGlsZE5vZGVzO2c9MDtmb3IoaD1hLmxlbmd0aDtnPGg7ZysrKWM9YVtnXSxkPWMubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxcInNvdXJjZVwiPT09ZD9lLnNvdXJjZXMucHVzaCh0LkFhKGMpKTpcInRyYWNrXCI9PT1kJiZlLnRyYWNrcy5wdXNoKHQuQWEoYykpfXJldHVybiBlfVxucy5lPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5iPXQuYS5wcm90b3R5cGUuZS5jYWxsKHRoaXMsXCJkaXZcIiksYz10aGlzLkksZDtjLnJlbW92ZUF0dHJpYnV0ZShcIndpZHRoXCIpO2MucmVtb3ZlQXR0cmlidXRlKFwiaGVpZ2h0XCIpO2lmKGMuaGFzQ2hpbGROb2RlcygpKXt2YXIgZSxnLGgsaixuO2U9Yy5jaGlsZE5vZGVzO2c9ZS5sZW5ndGg7Zm9yKG49W107Zy0tOyloPWVbZ10saj1oLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksXCJ0cmFja1wiPT09aiYmbi5wdXNoKGgpO2ZvcihlPTA7ZTxuLmxlbmd0aDtlKyspYy5yZW1vdmVDaGlsZChuW2VdKX1kPXQuQWEoYyk7dC5nLlgoZCxmdW5jdGlvbihjKXtcImNsYXNzXCI9PWM/YS5jbGFzc05hbWU9ZFtjXTphLnNldEF0dHJpYnV0ZShjLGRbY10pfSk7Yy5pZCs9XCJfaHRtbDVfYXBpXCI7Yy5jbGFzc05hbWU9XCJ2anMtdGVjaFwiO2MucGxheWVyPWEucGxheWVyPXRoaXM7dGhpcy5uKFwidmpzLXBhdXNlZFwiKTt0aGlzLndpZHRoKHRoaXMubS53aWR0aCxmKTt0aGlzLmhlaWdodCh0aGlzLm0uaGVpZ2h0LFxuZik7Yy5CZD1jLm5ldHdvcmtTdGF0ZTtjLnBhcmVudE5vZGUmJmMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoYSxjKTt0LkhiKGMsYSk7dGhpcy5iPWE7dGhpcy5jKFwibG9hZHN0YXJ0XCIsdGhpcy5QZCk7dGhpcy5jKFwid2FpdGluZ1wiLHRoaXMuVmQpO3RoaXMuYyhbXCJjYW5wbGF5XCIsXCJjYW5wbGF5dGhyb3VnaFwiLFwicGxheWluZ1wiLFwiZW5kZWRcIl0sdGhpcy5VZCk7dGhpcy5jKFwic2Vla2luZ1wiLHRoaXMuU2QpO3RoaXMuYyhcInNlZWtlZFwiLHRoaXMuUmQpO3RoaXMuYyhcImVuZGVkXCIsdGhpcy5MZCk7dGhpcy5jKFwicGxheVwiLHRoaXMuT2IpO3RoaXMuYyhcImZpcnN0cGxheVwiLHRoaXMuTmQpO3RoaXMuYyhcInBhdXNlXCIsdGhpcy5OYik7dGhpcy5jKFwicHJvZ3Jlc3NcIix0aGlzLlFkKTt0aGlzLmMoXCJkdXJhdGlvbmNoYW5nZVwiLHRoaXMuQ2MpO3RoaXMuYyhcImZ1bGxzY3JlZW5jaGFuZ2VcIix0aGlzLk9kKTtyZXR1cm4gYX07XG5mdW5jdGlvbiBRKGEsYyxkKXthLm8mJihhLmxhPWwsYS5vLmRpc3Bvc2UoKSxhLm89bCk7XCJIdG1sNVwiIT09YyYmYS5JJiYodC5oLkJiKGEuSSksYS5JPWspO2EuZWI9YzthLmxhPWw7dmFyIGU9dC5nLnooe3NvdXJjZTpkLHBhcmVudEVsOmEuYn0sYS5tW2MudG9Mb3dlckNhc2UoKV0pO2QmJihhLm5jPWQudHlwZSxkLnNyYz09YS5HLnNyYyYmMDxhLkcuY3VycmVudFRpbWUmJihlLnN0YXJ0VGltZT1hLkcuY3VycmVudFRpbWUpLGEuRy5zcmM9ZC5zcmMpO2Eubz1uZXcgd2luZG93LnZpZGVvanNbY10oYSxlKTthLm8uSyhmdW5jdGlvbigpe3RoaXMuZC5HYSgpfSl9cy5QZD1mdW5jdGlvbigpe3RoaXMuZXJyb3Ioayk7dGhpcy5wYXVzZWQoKT8oUih0aGlzLGwpLHRoaXMuUihcInBsYXlcIixmdW5jdGlvbigpe1IodGhpcyxmKX0pKTp0aGlzLmwoXCJmaXJzdHBsYXlcIil9O3MudmM9bDtcbmZ1bmN0aW9uIFIoYSxjKXtjIT09YiYmYS52YyE9PWMmJigoYS52Yz1jKT8oYS5uKFwidmpzLWhhcy1zdGFydGVkXCIpLGEubChcImZpcnN0cGxheVwiKSk6YS5wKFwidmpzLWhhcy1zdGFydGVkXCIpKX1zLk9iPWZ1bmN0aW9uKCl7dGhpcy5wKFwidmpzLXBhdXNlZFwiKTt0aGlzLm4oXCJ2anMtcGxheWluZ1wiKX07cy5WZD1mdW5jdGlvbigpe3RoaXMubihcInZqcy13YWl0aW5nXCIpfTtzLlVkPWZ1bmN0aW9uKCl7dGhpcy5wKFwidmpzLXdhaXRpbmdcIil9O3MuU2Q9ZnVuY3Rpb24oKXt0aGlzLm4oXCJ2anMtc2Vla2luZ1wiKX07cy5SZD1mdW5jdGlvbigpe3RoaXMucChcInZqcy1zZWVraW5nXCIpfTtzLk5kPWZ1bmN0aW9uKCl7dGhpcy5tLnN0YXJ0dGltZSYmdGhpcy5jdXJyZW50VGltZSh0aGlzLm0uc3RhcnR0aW1lKTt0aGlzLm4oXCJ2anMtaGFzLXN0YXJ0ZWRcIil9O3MuTmI9ZnVuY3Rpb24oKXt0aGlzLnAoXCJ2anMtcGxheWluZ1wiKTt0aGlzLm4oXCJ2anMtcGF1c2VkXCIpfTtcbnMuUWQ9ZnVuY3Rpb24oKXsxPT10aGlzLmJ1ZmZlcmVkUGVyY2VudCgpJiZ0aGlzLmwoXCJsb2FkZWRhbGxkYXRhXCIpfTtzLkxkPWZ1bmN0aW9uKCl7dGhpcy5tLmxvb3A/KHRoaXMuY3VycmVudFRpbWUoMCksdGhpcy5wbGF5KCkpOnRoaXMucGF1c2VkKCl8fHRoaXMucGF1c2UoKX07cy5DYz1mdW5jdGlvbigpe3ZhciBhPVModGhpcyxcImR1cmF0aW9uXCIpO2EmJigwPmEmJihhPUluZmluaXR5KSx0aGlzLmR1cmF0aW9uKGEpLEluZmluaXR5PT09YT90aGlzLm4oXCJ2anMtbGl2ZVwiKTp0aGlzLnAoXCJ2anMtbGl2ZVwiKSl9O3MuT2Q9ZnVuY3Rpb24oKXt0aGlzLmlzRnVsbHNjcmVlbigpP3RoaXMubihcInZqcy1mdWxsc2NyZWVuXCIpOnRoaXMucChcInZqcy1mdWxsc2NyZWVuXCIpfTtmdW5jdGlvbiBUKGEsYyxkKXtpZihhLm8mJiFhLm8ubGEpYS5vLksoZnVuY3Rpb24oKXt0aGlzW2NdKGQpfSk7ZWxzZSB0cnl7YS5vW2NdKGQpfWNhdGNoKGUpe3Rocm93IHQubG9nKGUpLGU7fX1cbmZ1bmN0aW9uIFMoYSxjKXtpZihhLm8mJmEuby5sYSl0cnl7cmV0dXJuIGEub1tjXSgpfWNhdGNoKGQpe3Rocm93IGEub1tjXT09PWI/dC5sb2coXCJWaWRlby5qczogXCIrYytcIiBtZXRob2Qgbm90IGRlZmluZWQgZm9yIFwiK2EuZWIrXCIgcGxheWJhY2sgdGVjaG5vbG9neS5cIixkKTpcIlR5cGVFcnJvclwiPT1kLm5hbWU/KHQubG9nKFwiVmlkZW8uanM6IFwiK2MrXCIgdW5hdmFpbGFibGUgb24gXCIrYS5lYitcIiBwbGF5YmFjayB0ZWNobm9sb2d5IGVsZW1lbnQuXCIsZCksYS5vLmxhPWwpOnQubG9nKGQpLGQ7fX1zLnBsYXk9ZnVuY3Rpb24oKXtUKHRoaXMsXCJwbGF5XCIpO3JldHVybiB0aGlzfTtzLnBhdXNlPWZ1bmN0aW9uKCl7VCh0aGlzLFwicGF1c2VcIik7cmV0dXJuIHRoaXN9O3MucGF1c2VkPWZ1bmN0aW9uKCl7cmV0dXJuIFModGhpcyxcInBhdXNlZFwiKT09PWw/bDpmfTtcbnMuY3VycmVudFRpbWU9ZnVuY3Rpb24oYSl7cmV0dXJuIGEhPT1iPyhUKHRoaXMsXCJzZXRDdXJyZW50VGltZVwiLGEpLHRoaXMpOnRoaXMuRy5jdXJyZW50VGltZT1TKHRoaXMsXCJjdXJyZW50VGltZVwiKXx8MH07cy5kdXJhdGlvbj1mdW5jdGlvbihhKXtpZihhIT09YilyZXR1cm4gdGhpcy5HLmR1cmF0aW9uPXBhcnNlRmxvYXQoYSksdGhpczt0aGlzLkcuZHVyYXRpb249PT1iJiZ0aGlzLkNjKCk7cmV0dXJuIHRoaXMuRy5kdXJhdGlvbnx8MH07cy5yZW1haW5pbmdUaW1lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZHVyYXRpb24oKS10aGlzLmN1cnJlbnRUaW1lKCl9O3MuYnVmZmVyZWQ9ZnVuY3Rpb24oKXt2YXIgYT1TKHRoaXMsXCJidWZmZXJlZFwiKTtpZighYXx8IWEubGVuZ3RoKWE9dC56YigwLDApO3JldHVybiBhfTtcbnMuYnVmZmVyZWRQZXJjZW50PWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5kdXJhdGlvbigpLGM9dGhpcy5idWZmZXJlZCgpLGQ9MCxlLGc7aWYoIWEpcmV0dXJuIDA7Zm9yKHZhciBoPTA7aDxjLmxlbmd0aDtoKyspZT1jLnN0YXJ0KGgpLGc9Yy5lbmQoaCksZz5hJiYoZz1hKSxkKz1nLWU7cmV0dXJuIGQvYX07cy52b2x1bWU9ZnVuY3Rpb24oYSl7aWYoYSE9PWIpcmV0dXJuIGE9TWF0aC5tYXgoMCxNYXRoLm1pbigxLHBhcnNlRmxvYXQoYSkpKSx0aGlzLkcudm9sdW1lPWEsVCh0aGlzLFwic2V0Vm9sdW1lXCIsYSksdC5hZShhKSx0aGlzO2E9cGFyc2VGbG9hdChTKHRoaXMsXCJ2b2x1bWVcIikpO3JldHVybiBpc05hTihhKT8xOmF9O3MubXV0ZWQ9ZnVuY3Rpb24oYSl7cmV0dXJuIGEhPT1iPyhUKHRoaXMsXCJzZXRNdXRlZFwiLGEpLHRoaXMpOlModGhpcyxcIm11dGVkXCIpfHxsfTtzLkVhPWZ1bmN0aW9uKCl7cmV0dXJuIFModGhpcyxcInN1cHBvcnRzRnVsbFNjcmVlblwiKXx8bH07cy55Yz1sO1xucy5pc0Z1bGxzY3JlZW49ZnVuY3Rpb24oYSl7cmV0dXJuIGEhPT1iPyh0aGlzLnljPSEhYSx0aGlzKTp0aGlzLnljfTtzLmlzRnVsbFNjcmVlbj1mdW5jdGlvbihhKXt0LmxvZy53YXJuKCdwbGF5ZXIuaXNGdWxsU2NyZWVuKCkgaGFzIGJlZW4gZGVwcmVjYXRlZCwgdXNlIHBsYXllci5pc0Z1bGxzY3JlZW4oKSB3aXRoIGEgbG93ZXJjYXNlIFwic1wiKScpO3JldHVybiB0aGlzLmlzRnVsbHNjcmVlbihhKX07XG5zLnJlcXVlc3RGdWxsc2NyZWVuPWZ1bmN0aW9uKCl7dmFyIGE9dC5PYS5GYjt0aGlzLmlzRnVsbHNjcmVlbihmKTthPyh0LmMoZG9jdW1lbnQsYS5mdWxsc2NyZWVuY2hhbmdlLHQuYmluZCh0aGlzLGZ1bmN0aW9uKGMpe3RoaXMuaXNGdWxsc2NyZWVuKGRvY3VtZW50W2EuZnVsbHNjcmVlbkVsZW1lbnRdKTt0aGlzLmlzRnVsbHNjcmVlbigpPT09bCYmdC5qKGRvY3VtZW50LGEuZnVsbHNjcmVlbmNoYW5nZSxhcmd1bWVudHMuY2FsbGVlKTt0aGlzLmwoXCJmdWxsc2NyZWVuY2hhbmdlXCIpfSkpLHRoaXMuYlthLnJlcXVlc3RGdWxsc2NyZWVuXSgpKTp0aGlzLm8uRWEoKT9UKHRoaXMsXCJlbnRlckZ1bGxTY3JlZW5cIik6KHRoaXMucWMoKSx0aGlzLmwoXCJmdWxsc2NyZWVuY2hhbmdlXCIpKTtyZXR1cm4gdGhpc307XG5zLnJlcXVlc3RGdWxsU2NyZWVuPWZ1bmN0aW9uKCl7dC5sb2cud2FybigncGxheWVyLnJlcXVlc3RGdWxsU2NyZWVuKCkgaGFzIGJlZW4gZGVwcmVjYXRlZCwgdXNlIHBsYXllci5yZXF1ZXN0RnVsbHNjcmVlbigpIHdpdGggYSBsb3dlcmNhc2UgXCJzXCIpJyk7cmV0dXJuIHRoaXMucmVxdWVzdEZ1bGxzY3JlZW4oKX07cy5leGl0RnVsbHNjcmVlbj1mdW5jdGlvbigpe3ZhciBhPXQuT2EuRmI7dGhpcy5pc0Z1bGxzY3JlZW4obCk7aWYoYSlkb2N1bWVudFthLmV4aXRGdWxsc2NyZWVuXSgpO2Vsc2UgdGhpcy5vLkVhKCk/VCh0aGlzLFwiZXhpdEZ1bGxTY3JlZW5cIik6KHRoaXMuQ2IoKSx0aGlzLmwoXCJmdWxsc2NyZWVuY2hhbmdlXCIpKTtyZXR1cm4gdGhpc307cy5jYW5jZWxGdWxsU2NyZWVuPWZ1bmN0aW9uKCl7dC5sb2cud2FybihcInBsYXllci5jYW5jZWxGdWxsU2NyZWVuKCkgaGFzIGJlZW4gZGVwcmVjYXRlZCwgdXNlIHBsYXllci5leGl0RnVsbHNjcmVlbigpXCIpO3JldHVybiB0aGlzLmV4aXRGdWxsc2NyZWVuKCl9O1xucy5xYz1mdW5jdGlvbigpe3RoaXMuRGQ9Zjt0aGlzLnVkPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5vdmVyZmxvdzt0LmMoZG9jdW1lbnQsXCJrZXlkb3duXCIsdC5iaW5kKHRoaXMsdGhpcy5zYykpO2RvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5vdmVyZmxvdz1cImhpZGRlblwiO3Qubihkb2N1bWVudC5ib2R5LFwidmpzLWZ1bGwtd2luZG93XCIpO3RoaXMubChcImVudGVyRnVsbFdpbmRvd1wiKX07cy5zYz1mdW5jdGlvbihhKXsyNz09PWEua2V5Q29kZSYmKHRoaXMuaXNGdWxsc2NyZWVuKCk9PT1mP3RoaXMuZXhpdEZ1bGxzY3JlZW4oKTp0aGlzLkNiKCkpfTtzLkNiPWZ1bmN0aW9uKCl7dGhpcy5EZD1sO3Quaihkb2N1bWVudCxcImtleWRvd25cIix0aGlzLnNjKTtkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUub3ZlcmZsb3c9dGhpcy51ZDt0LnAoZG9jdW1lbnQuYm9keSxcInZqcy1mdWxsLXdpbmRvd1wiKTt0aGlzLmwoXCJleGl0RnVsbFdpbmRvd1wiKX07XG5zLnNlbGVjdFNvdXJjZT1mdW5jdGlvbihhKXtmb3IodmFyIGM9MCxkPXRoaXMubS50ZWNoT3JkZXI7YzxkLmxlbmd0aDtjKyspe3ZhciBlPXQuYmEoZFtjXSksZz13aW5kb3cudmlkZW9qc1tlXTtpZihnKXtpZihnLmlzU3VwcG9ydGVkKCkpZm9yKHZhciBoPTAsaj1hO2g8ai5sZW5ndGg7aCsrKXt2YXIgbj1qW2hdO2lmKGcuY2FuUGxheVNvdXJjZShuKSlyZXR1cm57c291cmNlOm4sbzplfX19ZWxzZSB0LmxvZy5lcnJvcignVGhlIFwiJytlKydcIiB0ZWNoIGlzIHVuZGVmaW5lZC4gU2tpcHBlZCBicm93c2VyIHN1cHBvcnQgY2hlY2sgZm9yIHRoYXQgdGVjaC4nKX1yZXR1cm4gbH07XG5zLnNyYz1mdW5jdGlvbihhKXtpZihhPT09YilyZXR1cm4gUyh0aGlzLFwic3JjXCIpO3QuZy5pc0FycmF5KGEpP1UodGhpcyxhKTpcInN0cmluZ1wiPT09dHlwZW9mIGE/dGhpcy5zcmMoe3NyYzphfSk6YSBpbnN0YW5jZW9mIE9iamVjdCYmKGEudHlwZSYmIXdpbmRvdy52aWRlb2pzW3RoaXMuZWJdLmNhblBsYXlTb3VyY2UoYSk/VSh0aGlzLFthXSk6KHRoaXMuRy5zcmM9YS5zcmMsdGhpcy5uYz1hLnR5cGV8fFwiXCIsdGhpcy5LKGZ1bmN0aW9uKCl7VCh0aGlzLFwic3JjXCIsYS5zcmMpO1wiYXV0b1wiPT10aGlzLm0ucHJlbG9hZCYmdGhpcy5sb2FkKCk7dGhpcy5tLmF1dG9wbGF5JiZ0aGlzLnBsYXkoKX0pKSk7cmV0dXJuIHRoaXN9O1xuZnVuY3Rpb24gVShhLGMpe3ZhciBkPWEuc2VsZWN0U291cmNlKGMpLGU7ZD9kLm89PT1hLmViP2Euc3JjKGQuc291cmNlKTpRKGEsZC5vLGQuc291cmNlKTooZT1zZXRUaW1lb3V0KHQuYmluZChhLGZ1bmN0aW9uKCl7dGhpcy5lcnJvcih7Y29kZTo0LG1lc3NhZ2U6dGhpcy50KHRoaXMub3B0aW9ucygpLm5vdFN1cHBvcnRlZE1lc3NhZ2UpfSl9KSwwKSxhLkdhKCksYS5jKFwiZGlzcG9zZVwiLGZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KGUpfSkpfXMubG9hZD1mdW5jdGlvbigpe1QodGhpcyxcImxvYWRcIik7cmV0dXJuIHRoaXN9O3MuY3VycmVudFNyYz1mdW5jdGlvbigpe3JldHVybiBTKHRoaXMsXCJjdXJyZW50U3JjXCIpfHx0aGlzLkcuc3JjfHxcIlwifTtzLnBkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubmN8fFwiXCJ9O3MuRGE9ZnVuY3Rpb24oYSl7cmV0dXJuIGEhPT1iPyhUKHRoaXMsXCJzZXRQcmVsb2FkXCIsYSksdGhpcy5tLnByZWxvYWQ9YSx0aGlzKTpTKHRoaXMsXCJwcmVsb2FkXCIpfTtcbnMuYXV0b3BsYXk9ZnVuY3Rpb24oYSl7cmV0dXJuIGEhPT1iPyhUKHRoaXMsXCJzZXRBdXRvcGxheVwiLGEpLHRoaXMubS5hdXRvcGxheT1hLHRoaXMpOlModGhpcyxcImF1dG9wbGF5XCIpfTtzLmxvb3A9ZnVuY3Rpb24oYSl7cmV0dXJuIGEhPT1iPyhUKHRoaXMsXCJzZXRMb29wXCIsYSksdGhpcy5tLmxvb3A9YSx0aGlzKTpTKHRoaXMsXCJsb29wXCIpfTtzLnBvc3Rlcj1mdW5jdGlvbihhKXtpZihhPT09YilyZXR1cm4gdGhpcy5GYzthfHwoYT1cIlwiKTt0aGlzLkZjPWE7VCh0aGlzLFwic2V0UG9zdGVyXCIsYSk7dGhpcy5sKFwicG9zdGVyY2hhbmdlXCIpO3JldHVybiB0aGlzfTtcbnMuY29udHJvbHM9ZnVuY3Rpb24oYSl7cmV0dXJuIGEhPT1iPyhhPSEhYSx0aGlzLnliIT09YSYmKCh0aGlzLnliPWEpPyh0aGlzLnAoXCJ2anMtY29udHJvbHMtZGlzYWJsZWRcIiksdGhpcy5uKFwidmpzLWNvbnRyb2xzLWVuYWJsZWRcIiksdGhpcy5sKFwiY29udHJvbHNlbmFibGVkXCIpKToodGhpcy5wKFwidmpzLWNvbnRyb2xzLWVuYWJsZWRcIiksdGhpcy5uKFwidmpzLWNvbnRyb2xzLWRpc2FibGVkXCIpLHRoaXMubChcImNvbnRyb2xzZGlzYWJsZWRcIikpKSx0aGlzKTp0aGlzLnlifTt0LlBsYXllci5wcm90b3R5cGUuVGI7cz10LlBsYXllci5wcm90b3R5cGU7XG5zLnVzaW5nTmF0aXZlQ29udHJvbHM9ZnVuY3Rpb24oYSl7cmV0dXJuIGEhPT1iPyhhPSEhYSx0aGlzLlRiIT09YSYmKCh0aGlzLlRiPWEpPyh0aGlzLm4oXCJ2anMtdXNpbmctbmF0aXZlLWNvbnRyb2xzXCIpLHRoaXMubChcInVzaW5nbmF0aXZlY29udHJvbHNcIikpOih0aGlzLnAoXCJ2anMtdXNpbmctbmF0aXZlLWNvbnRyb2xzXCIpLHRoaXMubChcInVzaW5nY3VzdG9tY29udHJvbHNcIikpKSx0aGlzKTp0aGlzLlRifTtzLmRhPWs7cy5lcnJvcj1mdW5jdGlvbihhKXtpZihhPT09YilyZXR1cm4gdGhpcy5kYTtpZihhPT09aylyZXR1cm4gdGhpcy5kYT1hLHRoaXMucChcInZqcy1lcnJvclwiKSx0aGlzO3RoaXMuZGE9YSBpbnN0YW5jZW9mIHQuRD9hOm5ldyB0LkQoYSk7dGhpcy5sKFwiZXJyb3JcIik7dGhpcy5uKFwidmpzLWVycm9yXCIpO3QubG9nLmVycm9yKFwiKENPREU6XCIrdGhpcy5kYS5jb2RlK1wiIFwiK3QuRC5SYVt0aGlzLmRhLmNvZGVdK1wiKVwiLHRoaXMuZGEubWVzc2FnZSx0aGlzLmRhKTtyZXR1cm4gdGhpc307XG5zLmVuZGVkPWZ1bmN0aW9uKCl7cmV0dXJuIFModGhpcyxcImVuZGVkXCIpfTtzLnNlZWtpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gUyh0aGlzLFwic2Vla2luZ1wiKX07cy5wYT1mO3MucmVwb3J0VXNlckFjdGl2aXR5PWZ1bmN0aW9uKCl7dGhpcy5wYT1mfTtzLlNiPWY7cy51c2VyQWN0aXZlPWZ1bmN0aW9uKGEpe3JldHVybiBhIT09Yj8oYT0hIWEsYSE9PXRoaXMuU2ImJigodGhpcy5TYj1hKT8odGhpcy5wYT1mLHRoaXMucChcInZqcy11c2VyLWluYWN0aXZlXCIpLHRoaXMubihcInZqcy11c2VyLWFjdGl2ZVwiKSx0aGlzLmwoXCJ1c2VyYWN0aXZlXCIpKToodGhpcy5wYT1sLHRoaXMubyYmdGhpcy5vLlIoXCJtb3VzZW1vdmVcIixmdW5jdGlvbihhKXthLnN0b3BQcm9wYWdhdGlvbigpO2EucHJldmVudERlZmF1bHQoKX0pLHRoaXMucChcInZqcy11c2VyLWFjdGl2ZVwiKSx0aGlzLm4oXCJ2anMtdXNlci1pbmFjdGl2ZVwiKSx0aGlzLmwoXCJ1c2VyaW5hY3RpdmVcIikpKSx0aGlzKTp0aGlzLlNifTtcbnMucGxheWJhY2tSYXRlPWZ1bmN0aW9uKGEpe3JldHVybiBhIT09Yj8oVCh0aGlzLFwic2V0UGxheWJhY2tSYXRlXCIsYSksdGhpcyk6dGhpcy5vJiZ0aGlzLm8uZmVhdHVyZXNQbGF5YmFja1JhdGU/Uyh0aGlzLFwicGxheWJhY2tSYXRlXCIpOjF9O3MueGM9bDtmdW5jdGlvbiBQKGEsYyl7cmV0dXJuIGMhPT1iPyhhLnhjPSEhYyxhKTphLnhjfXQuSmE9dC5hLmV4dGVuZCgpO3QuSmEucHJvdG90eXBlLm09e3dlOlwicGxheVwiLGNoaWxkcmVuOntwbGF5VG9nZ2xlOnt9LGN1cnJlbnRUaW1lRGlzcGxheTp7fSx0aW1lRGl2aWRlcjp7fSxkdXJhdGlvbkRpc3BsYXk6e30scmVtYWluaW5nVGltZURpc3BsYXk6e30sbGl2ZURpc3BsYXk6e30scHJvZ3Jlc3NDb250cm9sOnt9LGZ1bGxzY3JlZW5Ub2dnbGU6e30sdm9sdW1lQ29udHJvbDp7fSxtdXRlVG9nZ2xlOnt9LHBsYXliYWNrUmF0ZU1lbnVCdXR0b246e319fTt0LkphLnByb3RvdHlwZS5lPWZ1bmN0aW9uKCl7cmV0dXJuIHQuZShcImRpdlwiLHtjbGFzc05hbWU6XCJ2anMtY29udHJvbC1iYXJcIn0pfTtcbnQuWWI9dC5hLmV4dGVuZCh7aTpmdW5jdGlvbihhLGMpe3QuYS5jYWxsKHRoaXMsYSxjKX19KTt0LlliLnByb3RvdHlwZS5lPWZ1bmN0aW9uKCl7dmFyIGE9dC5hLnByb3RvdHlwZS5lLmNhbGwodGhpcyxcImRpdlwiLHtjbGFzc05hbWU6XCJ2anMtbGl2ZS1jb250cm9scyB2anMtY29udHJvbFwifSk7dGhpcy52PXQuZShcImRpdlwiLHtjbGFzc05hbWU6XCJ2anMtbGl2ZS1kaXNwbGF5XCIsaW5uZXJIVE1MOic8c3BhbiBjbGFzcz1cInZqcy1jb250cm9sLXRleHRcIj4nK3RoaXMudChcIlN0cmVhbSBUeXBlXCIpK1wiPC9zcGFuPlwiK3RoaXMudChcIkxJVkVcIiksXCJhcmlhLWxpdmVcIjpcIm9mZlwifSk7YS5hcHBlbmRDaGlsZCh0aGlzLnYpO3JldHVybiBhfTt0LmFjPXQudS5leHRlbmQoe2k6ZnVuY3Rpb24oYSxjKXt0LnUuY2FsbCh0aGlzLGEsYyk7dGhpcy5jKGEsXCJwbGF5XCIsdGhpcy5PYik7dGhpcy5jKGEsXCJwYXVzZVwiLHRoaXMuTmIpfX0pO3M9dC5hYy5wcm90b3R5cGU7cy51YT1cIlBsYXlcIjtcbnMuVD1mdW5jdGlvbigpe3JldHVyblwidmpzLXBsYXktY29udHJvbCBcIit0LnUucHJvdG90eXBlLlQuY2FsbCh0aGlzKX07cy5zPWZ1bmN0aW9uKCl7dGhpcy5kLnBhdXNlZCgpP3RoaXMuZC5wbGF5KCk6dGhpcy5kLnBhdXNlKCl9O3MuT2I9ZnVuY3Rpb24oKXt0aGlzLnAoXCJ2anMtcGF1c2VkXCIpO3RoaXMubihcInZqcy1wbGF5aW5nXCIpO3RoaXMuYi5jaGlsZHJlblswXS5jaGlsZHJlblswXS5pbm5lckhUTUw9dGhpcy50KFwiUGF1c2VcIil9O3MuTmI9ZnVuY3Rpb24oKXt0aGlzLnAoXCJ2anMtcGxheWluZ1wiKTt0aGlzLm4oXCJ2anMtcGF1c2VkXCIpO3RoaXMuYi5jaGlsZHJlblswXS5jaGlsZHJlblswXS5pbm5lckhUTUw9dGhpcy50KFwiUGxheVwiKX07dC5oYj10LmEuZXh0ZW5kKHtpOmZ1bmN0aW9uKGEsYyl7dC5hLmNhbGwodGhpcyxhLGMpO3RoaXMuYyhhLFwidGltZXVwZGF0ZVwiLHRoaXMuZmEpfX0pO1xudC5oYi5wcm90b3R5cGUuZT1mdW5jdGlvbigpe3ZhciBhPXQuYS5wcm90b3R5cGUuZS5jYWxsKHRoaXMsXCJkaXZcIix7Y2xhc3NOYW1lOlwidmpzLWN1cnJlbnQtdGltZSB2anMtdGltZS1jb250cm9scyB2anMtY29udHJvbFwifSk7dGhpcy52PXQuZShcImRpdlwiLHtjbGFzc05hbWU6XCJ2anMtY3VycmVudC10aW1lLWRpc3BsYXlcIixpbm5lckhUTUw6JzxzcGFuIGNsYXNzPVwidmpzLWNvbnRyb2wtdGV4dFwiPkN1cnJlbnQgVGltZSA8L3NwYW4+MDowMCcsXCJhcmlhLWxpdmVcIjpcIm9mZlwifSk7YS5hcHBlbmRDaGlsZCh0aGlzLnYpO3JldHVybiBhfTt0LmhiLnByb3RvdHlwZS5mYT1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZC5iYj90aGlzLmQuRy5jdXJyZW50VGltZTp0aGlzLmQuY3VycmVudFRpbWUoKTt0aGlzLnYuaW5uZXJIVE1MPSc8c3BhbiBjbGFzcz1cInZqcy1jb250cm9sLXRleHRcIj4nK3RoaXMudChcIkN1cnJlbnQgVGltZVwiKStcIjwvc3Bhbj4gXCIrdC56YShhLHRoaXMuZC5kdXJhdGlvbigpKX07XG50LmliPXQuYS5leHRlbmQoe2k6ZnVuY3Rpb24oYSxjKXt0LmEuY2FsbCh0aGlzLGEsYyk7dGhpcy5jKGEsXCJ0aW1ldXBkYXRlXCIsdGhpcy5mYSl9fSk7dC5pYi5wcm90b3R5cGUuZT1mdW5jdGlvbigpe3ZhciBhPXQuYS5wcm90b3R5cGUuZS5jYWxsKHRoaXMsXCJkaXZcIix7Y2xhc3NOYW1lOlwidmpzLWR1cmF0aW9uIHZqcy10aW1lLWNvbnRyb2xzIHZqcy1jb250cm9sXCJ9KTt0aGlzLnY9dC5lKFwiZGl2XCIse2NsYXNzTmFtZTpcInZqcy1kdXJhdGlvbi1kaXNwbGF5XCIsaW5uZXJIVE1MOic8c3BhbiBjbGFzcz1cInZqcy1jb250cm9sLXRleHRcIj4nK3RoaXMudChcIkR1cmF0aW9uIFRpbWVcIikrXCI8L3NwYW4+IDA6MDBcIixcImFyaWEtbGl2ZVwiOlwib2ZmXCJ9KTthLmFwcGVuZENoaWxkKHRoaXMudik7cmV0dXJuIGF9O1xudC5pYi5wcm90b3R5cGUuZmE9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmQuZHVyYXRpb24oKTthJiYodGhpcy52LmlubmVySFRNTD0nPHNwYW4gY2xhc3M9XCJ2anMtY29udHJvbC10ZXh0XCI+Jyt0aGlzLnQoXCJEdXJhdGlvbiBUaW1lXCIpK1wiPC9zcGFuPiBcIit0LnphKGEpKX07dC5nYz10LmEuZXh0ZW5kKHtpOmZ1bmN0aW9uKGEsYyl7dC5hLmNhbGwodGhpcyxhLGMpfX0pO3QuZ2MucHJvdG90eXBlLmU9ZnVuY3Rpb24oKXtyZXR1cm4gdC5hLnByb3RvdHlwZS5lLmNhbGwodGhpcyxcImRpdlwiLHtjbGFzc05hbWU6XCJ2anMtdGltZS1kaXZpZGVyXCIsaW5uZXJIVE1MOlwiPGRpdj48c3Bhbj4vPC9zcGFuPjwvZGl2PlwifSl9O3QucGI9dC5hLmV4dGVuZCh7aTpmdW5jdGlvbihhLGMpe3QuYS5jYWxsKHRoaXMsYSxjKTt0aGlzLmMoYSxcInRpbWV1cGRhdGVcIix0aGlzLmZhKX19KTtcbnQucGIucHJvdG90eXBlLmU9ZnVuY3Rpb24oKXt2YXIgYT10LmEucHJvdG90eXBlLmUuY2FsbCh0aGlzLFwiZGl2XCIse2NsYXNzTmFtZTpcInZqcy1yZW1haW5pbmctdGltZSB2anMtdGltZS1jb250cm9scyB2anMtY29udHJvbFwifSk7dGhpcy52PXQuZShcImRpdlwiLHtjbGFzc05hbWU6XCJ2anMtcmVtYWluaW5nLXRpbWUtZGlzcGxheVwiLGlubmVySFRNTDonPHNwYW4gY2xhc3M9XCJ2anMtY29udHJvbC10ZXh0XCI+Jyt0aGlzLnQoXCJSZW1haW5pbmcgVGltZVwiKStcIjwvc3Bhbj4gLTA6MDBcIixcImFyaWEtbGl2ZVwiOlwib2ZmXCJ9KTthLmFwcGVuZENoaWxkKHRoaXMudik7cmV0dXJuIGF9O3QucGIucHJvdG90eXBlLmZhPWZ1bmN0aW9uKCl7dGhpcy5kLmR1cmF0aW9uKCkmJih0aGlzLnYuaW5uZXJIVE1MPSc8c3BhbiBjbGFzcz1cInZqcy1jb250cm9sLXRleHRcIj4nK3RoaXMudChcIlJlbWFpbmluZyBUaW1lXCIpK1wiPC9zcGFuPiAtXCIrdC56YSh0aGlzLmQucmVtYWluaW5nVGltZSgpKSl9O1xudC5LYT10LnUuZXh0ZW5kKHtpOmZ1bmN0aW9uKGEsYyl7dC51LmNhbGwodGhpcyxhLGMpfX0pO3QuS2EucHJvdG90eXBlLnVhPVwiRnVsbHNjcmVlblwiO3QuS2EucHJvdG90eXBlLlQ9ZnVuY3Rpb24oKXtyZXR1cm5cInZqcy1mdWxsc2NyZWVuLWNvbnRyb2wgXCIrdC51LnByb3RvdHlwZS5ULmNhbGwodGhpcyl9O3QuS2EucHJvdG90eXBlLnM9ZnVuY3Rpb24oKXt0aGlzLmQuaXNGdWxsc2NyZWVuKCk/KHRoaXMuZC5leGl0RnVsbHNjcmVlbigpLHRoaXMueGIuaW5uZXJIVE1MPXRoaXMudChcIkZ1bGxzY3JlZW5cIikpOih0aGlzLmQucmVxdWVzdEZ1bGxzY3JlZW4oKSx0aGlzLnhiLmlubmVySFRNTD10aGlzLnQoXCJOb24tRnVsbHNjcmVlblwiKSl9O3Qub2I9dC5hLmV4dGVuZCh7aTpmdW5jdGlvbihhLGMpe3QuYS5jYWxsKHRoaXMsYSxjKX19KTt0Lm9iLnByb3RvdHlwZS5tPXtjaGlsZHJlbjp7c2Vla0Jhcjp7fX19O1xudC5vYi5wcm90b3R5cGUuZT1mdW5jdGlvbigpe3JldHVybiB0LmEucHJvdG90eXBlLmUuY2FsbCh0aGlzLFwiZGl2XCIse2NsYXNzTmFtZTpcInZqcy1wcm9ncmVzcy1jb250cm9sIHZqcy1jb250cm9sXCJ9KX07dC5jYz10LlMuZXh0ZW5kKHtpOmZ1bmN0aW9uKGEsYyl7dC5TLmNhbGwodGhpcyxhLGMpO3RoaXMuYyhhLFwidGltZXVwZGF0ZVwiLHRoaXMub2EpO2EuSyh0LmJpbmQodGhpcyx0aGlzLm9hKSl9fSk7cz10LmNjLnByb3RvdHlwZTtzLm09e2NoaWxkcmVuOntsb2FkUHJvZ3Jlc3NCYXI6e30scGxheVByb2dyZXNzQmFyOnt9LHNlZWtIYW5kbGU6e319LGJhck5hbWU6XCJwbGF5UHJvZ3Jlc3NCYXJcIixoYW5kbGVOYW1lOlwic2Vla0hhbmRsZVwifTtzLkVjPVwidGltZXVwZGF0ZVwiO3MuZT1mdW5jdGlvbigpe3JldHVybiB0LlMucHJvdG90eXBlLmUuY2FsbCh0aGlzLFwiZGl2XCIse2NsYXNzTmFtZTpcInZqcy1wcm9ncmVzcy1ob2xkZXJcIixcImFyaWEtbGFiZWxcIjpcInZpZGVvIHByb2dyZXNzIGJhclwifSl9O1xucy5vYT1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZC5iYj90aGlzLmQuRy5jdXJyZW50VGltZTp0aGlzLmQuY3VycmVudFRpbWUoKTt0aGlzLmIuc2V0QXR0cmlidXRlKFwiYXJpYS12YWx1ZW5vd1wiLHQucm91bmQoMTAwKnRoaXMuR2IoKSwyKSk7dGhpcy5iLnNldEF0dHJpYnV0ZShcImFyaWEtdmFsdWV0ZXh0XCIsdC56YShhLHRoaXMuZC5kdXJhdGlvbigpKSl9O3MuR2I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kLmN1cnJlbnRUaW1lKCkvdGhpcy5kLmR1cmF0aW9uKCl9O3MuWmE9ZnVuY3Rpb24oYSl7dC5TLnByb3RvdHlwZS5aYS5jYWxsKHRoaXMsYSk7dGhpcy5kLmJiPWY7dGhpcy5tZT0hdGhpcy5kLnBhdXNlZCgpO3RoaXMuZC5wYXVzZSgpfTtzLiRhPWZ1bmN0aW9uKGEpe2E9SCh0aGlzLGEpKnRoaXMuZC5kdXJhdGlvbigpO2E9PXRoaXMuZC5kdXJhdGlvbigpJiYoYS09MC4xKTt0aGlzLmQuY3VycmVudFRpbWUoYSl9O1xucy5NYj1mdW5jdGlvbihhKXt0LlMucHJvdG90eXBlLk1iLmNhbGwodGhpcyxhKTt0aGlzLmQuYmI9bDt0aGlzLm1lJiZ0aGlzLmQucGxheSgpfTtzLk9jPWZ1bmN0aW9uKCl7dGhpcy5kLmN1cnJlbnRUaW1lKHRoaXMuZC5jdXJyZW50VGltZSgpKzUpfTtzLk5jPWZ1bmN0aW9uKCl7dGhpcy5kLmN1cnJlbnRUaW1lKHRoaXMuZC5jdXJyZW50VGltZSgpLTUpfTt0LmxiPXQuYS5leHRlbmQoe2k6ZnVuY3Rpb24oYSxjKXt0LmEuY2FsbCh0aGlzLGEsYyk7dGhpcy5jKGEsXCJwcm9ncmVzc1wiLHRoaXMudXBkYXRlKX19KTt0LmxiLnByb3RvdHlwZS5lPWZ1bmN0aW9uKCl7cmV0dXJuIHQuYS5wcm90b3R5cGUuZS5jYWxsKHRoaXMsXCJkaXZcIix7Y2xhc3NOYW1lOlwidmpzLWxvYWQtcHJvZ3Jlc3NcIixpbm5lckhUTUw6JzxzcGFuIGNsYXNzPVwidmpzLWNvbnRyb2wtdGV4dFwiPjxzcGFuPicrdGhpcy50KFwiTG9hZGVkXCIpK1wiPC9zcGFuPjogMCU8L3NwYW4+XCJ9KX07XG50LmxiLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oKXt2YXIgYSxjLGQsZSxnPXRoaXMuZC5idWZmZXJlZCgpO2E9dGhpcy5kLmR1cmF0aW9uKCk7dmFyIGgsaj10aGlzLmQ7aD1qLmJ1ZmZlcmVkKCk7aj1qLmR1cmF0aW9uKCk7aD1oLmVuZChoLmxlbmd0aC0xKTtoPmomJihoPWopO2o9dGhpcy5iLmNoaWxkcmVuO3RoaXMuYi5zdHlsZS53aWR0aD0xMDAqKGgvYXx8MCkrXCIlXCI7Zm9yKGE9MDthPGcubGVuZ3RoO2ErKyljPWcuc3RhcnQoYSksZD1nLmVuZChhKSwoZT1qW2FdKXx8KGU9dGhpcy5iLmFwcGVuZENoaWxkKHQuZSgpKSksZS5zdHlsZS5sZWZ0PTEwMCooYy9ofHwwKStcIiVcIixlLnN0eWxlLndpZHRoPTEwMCooKGQtYykvaHx8MCkrXCIlXCI7Zm9yKGE9ai5sZW5ndGg7YT5nLmxlbmd0aDthLS0pdGhpcy5iLnJlbW92ZUNoaWxkKGpbYS0xXSl9O3QuJGI9dC5hLmV4dGVuZCh7aTpmdW5jdGlvbihhLGMpe3QuYS5jYWxsKHRoaXMsYSxjKX19KTtcbnQuJGIucHJvdG90eXBlLmU9ZnVuY3Rpb24oKXtyZXR1cm4gdC5hLnByb3RvdHlwZS5lLmNhbGwodGhpcyxcImRpdlwiLHtjbGFzc05hbWU6XCJ2anMtcGxheS1wcm9ncmVzc1wiLGlubmVySFRNTDonPHNwYW4gY2xhc3M9XCJ2anMtY29udHJvbC10ZXh0XCI+PHNwYW4+Jyt0aGlzLnQoXCJQcm9ncmVzc1wiKStcIjwvc3Bhbj46IDAlPC9zcGFuPlwifSl9O3QuTGE9dC4kLmV4dGVuZCh7aTpmdW5jdGlvbihhLGMpe3QuJC5jYWxsKHRoaXMsYSxjKTt0aGlzLmMoYSxcInRpbWV1cGRhdGVcIix0aGlzLmZhKX19KTt0LkxhLnByb3RvdHlwZS5kZWZhdWx0VmFsdWU9XCIwMDowMFwiO3QuTGEucHJvdG90eXBlLmU9ZnVuY3Rpb24oKXtyZXR1cm4gdC4kLnByb3RvdHlwZS5lLmNhbGwodGhpcyxcImRpdlwiLHtjbGFzc05hbWU6XCJ2anMtc2Vlay1oYW5kbGVcIixcImFyaWEtbGl2ZVwiOlwib2ZmXCJ9KX07XG50LkxhLnByb3RvdHlwZS5mYT1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZC5iYj90aGlzLmQuRy5jdXJyZW50VGltZTp0aGlzLmQuY3VycmVudFRpbWUoKTt0aGlzLmIuaW5uZXJIVE1MPSc8c3BhbiBjbGFzcz1cInZqcy1jb250cm9sLXRleHRcIj4nK3QuemEoYSx0aGlzLmQuZHVyYXRpb24oKSkrXCI8L3NwYW4+XCJ9O3QucmI9dC5hLmV4dGVuZCh7aTpmdW5jdGlvbihhLGMpe3QuYS5jYWxsKHRoaXMsYSxjKTthLm8mJmEuby5mZWF0dXJlc1ZvbHVtZUNvbnRyb2w9PT1sJiZ0aGlzLm4oXCJ2anMtaGlkZGVuXCIpO3RoaXMuYyhhLFwibG9hZHN0YXJ0XCIsZnVuY3Rpb24oKXthLm8uZmVhdHVyZXNWb2x1bWVDb250cm9sPT09bD90aGlzLm4oXCJ2anMtaGlkZGVuXCIpOnRoaXMucChcInZqcy1oaWRkZW5cIil9KX19KTt0LnJiLnByb3RvdHlwZS5tPXtjaGlsZHJlbjp7dm9sdW1lQmFyOnt9fX07XG50LnJiLnByb3RvdHlwZS5lPWZ1bmN0aW9uKCl7cmV0dXJuIHQuYS5wcm90b3R5cGUuZS5jYWxsKHRoaXMsXCJkaXZcIix7Y2xhc3NOYW1lOlwidmpzLXZvbHVtZS1jb250cm9sIHZqcy1jb250cm9sXCJ9KX07dC5xYj10LlMuZXh0ZW5kKHtpOmZ1bmN0aW9uKGEsYyl7dC5TLmNhbGwodGhpcyxhLGMpO3RoaXMuYyhhLFwidm9sdW1lY2hhbmdlXCIsdGhpcy5vYSk7YS5LKHQuYmluZCh0aGlzLHRoaXMub2EpKX19KTtzPXQucWIucHJvdG90eXBlO3Mub2E9ZnVuY3Rpb24oKXt0aGlzLmIuc2V0QXR0cmlidXRlKFwiYXJpYS12YWx1ZW5vd1wiLHQucm91bmQoMTAwKnRoaXMuZC52b2x1bWUoKSwyKSk7dGhpcy5iLnNldEF0dHJpYnV0ZShcImFyaWEtdmFsdWV0ZXh0XCIsdC5yb3VuZCgxMDAqdGhpcy5kLnZvbHVtZSgpLDIpK1wiJVwiKX07cy5tPXtjaGlsZHJlbjp7dm9sdW1lTGV2ZWw6e30sdm9sdW1lSGFuZGxlOnt9fSxiYXJOYW1lOlwidm9sdW1lTGV2ZWxcIixoYW5kbGVOYW1lOlwidm9sdW1lSGFuZGxlXCJ9O1xucy5FYz1cInZvbHVtZWNoYW5nZVwiO3MuZT1mdW5jdGlvbigpe3JldHVybiB0LlMucHJvdG90eXBlLmUuY2FsbCh0aGlzLFwiZGl2XCIse2NsYXNzTmFtZTpcInZqcy12b2x1bWUtYmFyXCIsXCJhcmlhLWxhYmVsXCI6XCJ2b2x1bWUgbGV2ZWxcIn0pfTtzLiRhPWZ1bmN0aW9uKGEpe3RoaXMuZC5tdXRlZCgpJiZ0aGlzLmQubXV0ZWQobCk7dGhpcy5kLnZvbHVtZShIKHRoaXMsYSkpfTtzLkdiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZC5tdXRlZCgpPzA6dGhpcy5kLnZvbHVtZSgpfTtzLk9jPWZ1bmN0aW9uKCl7dGhpcy5kLnZvbHVtZSh0aGlzLmQudm9sdW1lKCkrMC4xKX07cy5OYz1mdW5jdGlvbigpe3RoaXMuZC52b2x1bWUodGhpcy5kLnZvbHVtZSgpLTAuMSl9O3QuaGM9dC5hLmV4dGVuZCh7aTpmdW5jdGlvbihhLGMpe3QuYS5jYWxsKHRoaXMsYSxjKX19KTtcbnQuaGMucHJvdG90eXBlLmU9ZnVuY3Rpb24oKXtyZXR1cm4gdC5hLnByb3RvdHlwZS5lLmNhbGwodGhpcyxcImRpdlwiLHtjbGFzc05hbWU6XCJ2anMtdm9sdW1lLWxldmVsXCIsaW5uZXJIVE1MOic8c3BhbiBjbGFzcz1cInZqcy1jb250cm9sLXRleHRcIj48L3NwYW4+J30pfTt0LnNiPXQuJC5leHRlbmQoKTt0LnNiLnByb3RvdHlwZS5kZWZhdWx0VmFsdWU9XCIwMDowMFwiO3Quc2IucHJvdG90eXBlLmU9ZnVuY3Rpb24oKXtyZXR1cm4gdC4kLnByb3RvdHlwZS5lLmNhbGwodGhpcyxcImRpdlwiLHtjbGFzc05hbWU6XCJ2anMtdm9sdW1lLWhhbmRsZVwifSl9O1xudC5pYT10LnUuZXh0ZW5kKHtpOmZ1bmN0aW9uKGEsYyl7dC51LmNhbGwodGhpcyxhLGMpO3RoaXMuYyhhLFwidm9sdW1lY2hhbmdlXCIsdGhpcy51cGRhdGUpO2EubyYmYS5vLmZlYXR1cmVzVm9sdW1lQ29udHJvbD09PWwmJnRoaXMubihcInZqcy1oaWRkZW5cIik7dGhpcy5jKGEsXCJsb2Fkc3RhcnRcIixmdW5jdGlvbigpe2Euby5mZWF0dXJlc1ZvbHVtZUNvbnRyb2w9PT1sP3RoaXMubihcInZqcy1oaWRkZW5cIik6dGhpcy5wKFwidmpzLWhpZGRlblwiKX0pfX0pO3QuaWEucHJvdG90eXBlLmU9ZnVuY3Rpb24oKXtyZXR1cm4gdC51LnByb3RvdHlwZS5lLmNhbGwodGhpcyxcImRpdlwiLHtjbGFzc05hbWU6XCJ2anMtbXV0ZS1jb250cm9sIHZqcy1jb250cm9sXCIsaW5uZXJIVE1MOic8ZGl2PjxzcGFuIGNsYXNzPVwidmpzLWNvbnRyb2wtdGV4dFwiPicrdGhpcy50KFwiTXV0ZVwiKStcIjwvc3Bhbj48L2Rpdj5cIn0pfTtcbnQuaWEucHJvdG90eXBlLnM9ZnVuY3Rpb24oKXt0aGlzLmQubXV0ZWQodGhpcy5kLm11dGVkKCk/bDpmKX07dC5pYS5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5kLnZvbHVtZSgpLGM9MzswPT09YXx8dGhpcy5kLm11dGVkKCk/Yz0wOjAuMzM+YT9jPTE6MC42Nz5hJiYoYz0yKTt0aGlzLmQubXV0ZWQoKT90aGlzLmIuY2hpbGRyZW5bMF0uY2hpbGRyZW5bMF0uaW5uZXJIVE1MIT10aGlzLnQoXCJVbm11dGVcIikmJih0aGlzLmIuY2hpbGRyZW5bMF0uY2hpbGRyZW5bMF0uaW5uZXJIVE1MPXRoaXMudChcIlVubXV0ZVwiKSk6dGhpcy5iLmNoaWxkcmVuWzBdLmNoaWxkcmVuWzBdLmlubmVySFRNTCE9dGhpcy50KFwiTXV0ZVwiKSYmKHRoaXMuYi5jaGlsZHJlblswXS5jaGlsZHJlblswXS5pbm5lckhUTUw9dGhpcy50KFwiTXV0ZVwiKSk7Zm9yKGE9MDs0PmE7YSsrKXQucCh0aGlzLmIsXCJ2anMtdm9sLVwiK2EpO3Qubih0aGlzLmIsXCJ2anMtdm9sLVwiK2MpfTtcbnQuc2E9dC5OLmV4dGVuZCh7aTpmdW5jdGlvbihhLGMpe3QuTi5jYWxsKHRoaXMsYSxjKTt0aGlzLmMoYSxcInZvbHVtZWNoYW5nZVwiLHRoaXMudXBkYXRlKTthLm8mJmEuby5mZWF0dXJlc1ZvbHVtZUNvbnRyb2w9PT1sJiZ0aGlzLm4oXCJ2anMtaGlkZGVuXCIpO3RoaXMuYyhhLFwibG9hZHN0YXJ0XCIsZnVuY3Rpb24oKXthLm8uZmVhdHVyZXNWb2x1bWVDb250cm9sPT09bD90aGlzLm4oXCJ2anMtaGlkZGVuXCIpOnRoaXMucChcInZqcy1oaWRkZW5cIil9KTt0aGlzLm4oXCJ2anMtbWVudS1idXR0b25cIil9fSk7dC5zYS5wcm90b3R5cGUueGE9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgdC5oYSh0aGlzLmQse2xjOlwiZGl2XCJ9KSxjPW5ldyB0LnFiKHRoaXMuZCx0aGlzLm0udm9sdW1lQmFyKTtjLmMoXCJmb2N1c1wiLGZ1bmN0aW9uKCl7YS5uKFwidmpzLWxvY2stc2hvd2luZ1wiKX0pO2MuYyhcImJsdXJcIixmdW5jdGlvbigpe0UoYSl9KTthLlYoYyk7cmV0dXJuIGF9O1xudC5zYS5wcm90b3R5cGUucz1mdW5jdGlvbigpe3QuaWEucHJvdG90eXBlLnMuY2FsbCh0aGlzKTt0Lk4ucHJvdG90eXBlLnMuY2FsbCh0aGlzKX07dC5zYS5wcm90b3R5cGUuZT1mdW5jdGlvbigpe3JldHVybiB0LnUucHJvdG90eXBlLmUuY2FsbCh0aGlzLFwiZGl2XCIse2NsYXNzTmFtZTpcInZqcy12b2x1bWUtbWVudS1idXR0b24gdmpzLW1lbnUtYnV0dG9uIHZqcy1jb250cm9sXCIsaW5uZXJIVE1MOic8ZGl2PjxzcGFuIGNsYXNzPVwidmpzLWNvbnRyb2wtdGV4dFwiPicrdGhpcy50KFwiTXV0ZVwiKStcIjwvc3Bhbj48L2Rpdj5cIn0pfTt0LnNhLnByb3RvdHlwZS51cGRhdGU9dC5pYS5wcm90b3R5cGUudXBkYXRlO3QuYmM9dC5OLmV4dGVuZCh7aTpmdW5jdGlvbihhLGMpe3QuTi5jYWxsKHRoaXMsYSxjKTt0aGlzLlRjKCk7dGhpcy5TYygpO3RoaXMuYyhhLFwibG9hZHN0YXJ0XCIsdGhpcy5UYyk7dGhpcy5jKGEsXCJyYXRlY2hhbmdlXCIsdGhpcy5TYyl9fSk7cz10LmJjLnByb3RvdHlwZTtcbnMuZT1mdW5jdGlvbigpe3ZhciBhPXQuYS5wcm90b3R5cGUuZS5jYWxsKHRoaXMsXCJkaXZcIix7Y2xhc3NOYW1lOlwidmpzLXBsYXliYWNrLXJhdGUgdmpzLW1lbnUtYnV0dG9uIHZqcy1jb250cm9sXCIsaW5uZXJIVE1MOic8ZGl2IGNsYXNzPVwidmpzLWNvbnRyb2wtY29udGVudFwiPjxzcGFuIGNsYXNzPVwidmpzLWNvbnRyb2wtdGV4dFwiPicrdGhpcy50KFwiUGxheWJhY2sgUmF0ZVwiKStcIjwvc3Bhbj48L2Rpdj5cIn0pO3RoaXMuQWM9dC5lKFwiZGl2XCIse2NsYXNzTmFtZTpcInZqcy1wbGF5YmFjay1yYXRlLXZhbHVlXCIsaW5uZXJIVE1MOjF9KTthLmFwcGVuZENoaWxkKHRoaXMuQWMpO3JldHVybiBhfTtzLnhhPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IHQuaGEodGhpcy5rKCkpLGM9dGhpcy5rKCkub3B0aW9ucygpLnBsYXliYWNrUmF0ZXM7aWYoYylmb3IodmFyIGQ9Yy5sZW5ndGgtMTswPD1kO2QtLSlhLlYobmV3IHQubmIodGhpcy5rKCkse3JhdGU6Y1tkXStcInhcIn0pKTtyZXR1cm4gYX07XG5zLm9hPWZ1bmN0aW9uKCl7dGhpcy53KCkuc2V0QXR0cmlidXRlKFwiYXJpYS12YWx1ZW5vd1wiLHRoaXMuaygpLnBsYXliYWNrUmF0ZSgpKX07cy5zPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXMuaygpLnBsYXliYWNrUmF0ZSgpLGM9dGhpcy5rKCkub3B0aW9ucygpLnBsYXliYWNrUmF0ZXMsZD1jWzBdLGU9MDtlPGMubGVuZ3RoO2UrKylpZihjW2VdPmEpe2Q9Y1tlXTticmVha310aGlzLmsoKS5wbGF5YmFja1JhdGUoZCl9O2Z1bmN0aW9uIGVhKGEpe3JldHVybiBhLmsoKS5vJiZhLmsoKS5vLmZlYXR1cmVzUGxheWJhY2tSYXRlJiZhLmsoKS5vcHRpb25zKCkucGxheWJhY2tSYXRlcyYmMDxhLmsoKS5vcHRpb25zKCkucGxheWJhY2tSYXRlcy5sZW5ndGh9cy5UYz1mdW5jdGlvbigpe2VhKHRoaXMpP3RoaXMucChcInZqcy1oaWRkZW5cIik6dGhpcy5uKFwidmpzLWhpZGRlblwiKX07XG5zLlNjPWZ1bmN0aW9uKCl7ZWEodGhpcykmJih0aGlzLkFjLmlubmVySFRNTD10aGlzLmsoKS5wbGF5YmFja1JhdGUoKStcInhcIil9O3QubmI9dC5KLmV4dGVuZCh7bGM6XCJidXR0b25cIixpOmZ1bmN0aW9uKGEsYyl7dmFyIGQ9dGhpcy5sYWJlbD1jLnJhdGUsZT10aGlzLkhjPXBhcnNlRmxvYXQoZCwxMCk7Yy5sYWJlbD1kO2Muc2VsZWN0ZWQ9MT09PWU7dC5KLmNhbGwodGhpcyxhLGMpO3RoaXMuYyhhLFwicmF0ZWNoYW5nZVwiLHRoaXMudXBkYXRlKX19KTt0Lm5iLnByb3RvdHlwZS5zPWZ1bmN0aW9uKCl7dC5KLnByb3RvdHlwZS5zLmNhbGwodGhpcyk7dGhpcy5rKCkucGxheWJhY2tSYXRlKHRoaXMuSGMpfTt0Lm5iLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oKXt0aGlzLnNlbGVjdGVkKHRoaXMuaygpLnBsYXliYWNrUmF0ZSgpPT10aGlzLkhjKX07XG50LnJhPXQudS5leHRlbmQoe2k6ZnVuY3Rpb24oYSxjKXt0LnUuY2FsbCh0aGlzLGEsYyk7dGhpcy51cGRhdGUoKTthLmMoXCJwb3N0ZXJjaGFuZ2VcIix0LmJpbmQodGhpcyx0aGlzLnVwZGF0ZSkpfX0pO3QucmEucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLmsoKS5qKFwicG9zdGVyY2hhbmdlXCIsdGhpcy51cGRhdGUpO3QudS5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpfTt0LnJhLnByb3RvdHlwZS5lPWZ1bmN0aW9uKCl7dmFyIGE9dC5lKFwiZGl2XCIse2NsYXNzTmFtZTpcInZqcy1wb3N0ZXJcIix0YWJJbmRleDotMX0pO3QuV2N8fCh0aGlzLkRiPXQuZShcImltZ1wiKSxhLmFwcGVuZENoaWxkKHRoaXMuRGIpKTtyZXR1cm4gYX07XG50LnJhLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmsoKS5wb3N0ZXIoKSxjO3RoaXMuRGI/dGhpcy5EYi5zcmM9YTooYz1cIlwiLGEmJihjPSd1cmwoXCInK2ErJ1wiKScpLHRoaXMuYi5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2U9Yyk7YT90aGlzLmIuc3R5bGUuZGlzcGxheT1cIlwiOnRoaXMuWSgpfTt0LnJhLnByb3RvdHlwZS5zPWZ1bmN0aW9uKCl7dGhpcy5kLnBsYXkoKX07dC5aYj10LmEuZXh0ZW5kKHtpOmZ1bmN0aW9uKGEsYyl7dC5hLmNhbGwodGhpcyxhLGMpfX0pO3QuWmIucHJvdG90eXBlLmU9ZnVuY3Rpb24oKXtyZXR1cm4gdC5hLnByb3RvdHlwZS5lLmNhbGwodGhpcyxcImRpdlwiLHtjbGFzc05hbWU6XCJ2anMtbG9hZGluZy1zcGlubmVyXCJ9KX07dC5mYj10LnUuZXh0ZW5kKCk7XG50LmZiLnByb3RvdHlwZS5lPWZ1bmN0aW9uKCl7cmV0dXJuIHQudS5wcm90b3R5cGUuZS5jYWxsKHRoaXMsXCJkaXZcIix7Y2xhc3NOYW1lOlwidmpzLWJpZy1wbGF5LWJ1dHRvblwiLGlubmVySFRNTDonPHNwYW4gYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9zcGFuPicsXCJhcmlhLWxhYmVsXCI6XCJwbGF5IHZpZGVvXCJ9KX07dC5mYi5wcm90b3R5cGUucz1mdW5jdGlvbigpe3RoaXMuZC5wbGF5KCl9O3QuamI9dC5hLmV4dGVuZCh7aTpmdW5jdGlvbihhLGMpe3QuYS5jYWxsKHRoaXMsYSxjKTt0aGlzLnVwZGF0ZSgpO3RoaXMuYyhhLFwiZXJyb3JcIix0aGlzLnVwZGF0ZSl9fSk7dC5qYi5wcm90b3R5cGUuZT1mdW5jdGlvbigpe3ZhciBhPXQuYS5wcm90b3R5cGUuZS5jYWxsKHRoaXMsXCJkaXZcIix7Y2xhc3NOYW1lOlwidmpzLWVycm9yLWRpc3BsYXlcIn0pO3RoaXMudj10LmUoXCJkaXZcIik7YS5hcHBlbmRDaGlsZCh0aGlzLnYpO3JldHVybiBhfTtcbnQuamIucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbigpe3RoaXMuaygpLmVycm9yKCkmJih0aGlzLnYuaW5uZXJIVE1MPXRoaXMudCh0aGlzLmsoKS5lcnJvcigpLm1lc3NhZ2UpKX07XG50LnE9dC5hLmV4dGVuZCh7aTpmdW5jdGlvbihhLGMsZCl7Yz1jfHx7fTtjLkpjPWw7dC5hLmNhbGwodGhpcyxhLGMsZCk7dGhpcy5mZWF0dXJlc1Byb2dyZXNzRXZlbnRzfHwodGhpcy5CYz1mLHRoaXMuR2M9c2V0SW50ZXJ2YWwodC5iaW5kKHRoaXMsZnVuY3Rpb24oKXt2YXIgYT10aGlzLmsoKS5idWZmZXJlZFBlcmNlbnQoKTt0aGlzLmxkIT1hJiZ0aGlzLmsoKS5sKFwicHJvZ3Jlc3NcIik7dGhpcy5sZD1hOzE9PT1hJiZjbGVhckludGVydmFsKHRoaXMuR2MpfSksNTAwKSk7dGhpcy5mZWF0dXJlc1RpbWV1cGRhdGVFdmVudHN8fChhPXRoaXMuZCx0aGlzLkxiPWYsdGhpcy5jKGEsXCJwbGF5XCIsdGhpcy5SYyksdGhpcy5jKGEsXCJwYXVzZVwiLHRoaXMuY2IpLHRoaXMuUihcInRpbWV1cGRhdGVcIixmdW5jdGlvbigpe3RoaXMuZmVhdHVyZXNUaW1ldXBkYXRlRXZlbnRzPWY7ZmEodGhpcyl9KSk7dmFyIGU7ZT10aGlzLmsoKTthPWZ1bmN0aW9uKCl7aWYoZS5jb250cm9scygpJiYhZS51c2luZ05hdGl2ZUNvbnRyb2xzKCkpe3ZhciBhO1xudGhpcy5jKFwibW91c2Vkb3duXCIsdGhpcy5zKTt0aGlzLmMoXCJ0b3VjaHN0YXJ0XCIsZnVuY3Rpb24oKXthPXRoaXMuZC51c2VyQWN0aXZlKCl9KTt0aGlzLmMoXCJ0b3VjaG1vdmVcIixmdW5jdGlvbigpe2EmJnRoaXMuaygpLnJlcG9ydFVzZXJBY3Rpdml0eSgpfSk7dGhpcy5jKFwidG91Y2hlbmRcIixmdW5jdGlvbihhKXthLnByZXZlbnREZWZhdWx0KCl9KTtHKHRoaXMpO3RoaXMuYyhcInRhcFwiLHRoaXMuVGQpfX07dGhpcy5LKGEpO3RoaXMuYyhlLFwiY29udHJvbHNlbmFibGVkXCIsYSk7dGhpcy5jKGUsXCJjb250cm9sc2Rpc2FibGVkXCIsdGhpcy5aZCk7dGhpcy5LKGZ1bmN0aW9uKCl7dGhpcy5uZXR3b3JrU3RhdGUmJjA8dGhpcy5uZXR3b3JrU3RhdGUoKSYmdGhpcy5rKCkubChcImxvYWRzdGFydFwiKX0pfX0pO3M9dC5xLnByb3RvdHlwZTtcbnMuWmQ9ZnVuY3Rpb24oKXt0aGlzLmooXCJ0YXBcIik7dGhpcy5qKFwidG91Y2hzdGFydFwiKTt0aGlzLmooXCJ0b3VjaG1vdmVcIik7dGhpcy5qKFwidG91Y2hsZWF2ZVwiKTt0aGlzLmooXCJ0b3VjaGNhbmNlbFwiKTt0aGlzLmooXCJ0b3VjaGVuZFwiKTt0aGlzLmooXCJjbGlja1wiKTt0aGlzLmooXCJtb3VzZWRvd25cIil9O3Mucz1mdW5jdGlvbihhKXswPT09YS5idXR0b24mJnRoaXMuaygpLmNvbnRyb2xzKCkmJih0aGlzLmsoKS5wYXVzZWQoKT90aGlzLmsoKS5wbGF5KCk6dGhpcy5rKCkucGF1c2UoKSl9O3MuVGQ9ZnVuY3Rpb24oKXt0aGlzLmsoKS51c2VyQWN0aXZlKCF0aGlzLmsoKS51c2VyQWN0aXZlKCkpfTtmdW5jdGlvbiBmYShhKXthLkxiPWw7YS5jYigpO2EuaihcInBsYXlcIixhLlJjKTthLmooXCJwYXVzZVwiLGEuY2IpfVxucy5SYz1mdW5jdGlvbigpe3RoaXMubWMmJnRoaXMuY2IoKTt0aGlzLm1jPXNldEludGVydmFsKHQuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy5rKCkubChcInRpbWV1cGRhdGVcIil9KSwyNTApfTtzLmNiPWZ1bmN0aW9uKCl7Y2xlYXJJbnRlcnZhbCh0aGlzLm1jKTt0aGlzLmsoKS5sKFwidGltZXVwZGF0ZVwiKX07cy5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5CYyYmKHRoaXMuQmM9bCxjbGVhckludGVydmFsKHRoaXMuR2MpKTt0aGlzLkxiJiZmYSh0aGlzKTt0LmEucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzKX07cy5RYj1mdW5jdGlvbigpe3RoaXMuTGImJnRoaXMuaygpLmwoXCJ0aW1ldXBkYXRlXCIpfTtzLkxjPW0oKTt0LnEucHJvdG90eXBlLmZlYXR1cmVzVm9sdW1lQ29udHJvbD1mO3QucS5wcm90b3R5cGUuZmVhdHVyZXNGdWxsc2NyZWVuUmVzaXplPWw7dC5xLnByb3RvdHlwZS5mZWF0dXJlc1BsYXliYWNrUmF0ZT1sO1xudC5xLnByb3RvdHlwZS5mZWF0dXJlc1Byb2dyZXNzRXZlbnRzPWw7dC5xLnByb3RvdHlwZS5mZWF0dXJlc1RpbWV1cGRhdGVFdmVudHM9bDt0Lm1lZGlhPXt9O1xudC5oPXQucS5leHRlbmQoe2k6ZnVuY3Rpb24oYSxjLGQpe3RoaXMuZmVhdHVyZXNWb2x1bWVDb250cm9sPXQuaC5uZCgpO3RoaXMuZmVhdHVyZXNQbGF5YmFja1JhdGU9dC5oLm1kKCk7dGhpcy5tb3ZpbmdNZWRpYUVsZW1lbnRJbkRPTT0hdC4kYzt0aGlzLmZlYXR1cmVzUHJvZ3Jlc3NFdmVudHM9dGhpcy5mZWF0dXJlc0Z1bGxzY3JlZW5SZXNpemU9Zjt0LnEuY2FsbCh0aGlzLGEsYyxkKTtmb3IoZD10Lmgua2IubGVuZ3RoLTE7MDw9ZDtkLS0pdGhpcy5jKHQuaC5rYltkXSx0aGlzLnZkKTtpZigoYz1jLnNvdXJjZSkmJnRoaXMuYi5jdXJyZW50U3JjIT09Yy5zcmN8fGEuSSYmMz09PWEuSS5CZCl0aGlzLmIuc3JjPWMuc3JjO2lmKHQuZWMmJmEub3B0aW9ucygpLm5hdGl2ZUNvbnRyb2xzRm9yVG91Y2g9PT1mKXt2YXIgZSxnLGgsajtlPXRoaXM7Zz10aGlzLmsoKTtjPWcuY29udHJvbHMoKTtlLmIuY29udHJvbHM9ISFjO2g9ZnVuY3Rpb24oKXtlLmIuY29udHJvbHM9Zn07aj1mdW5jdGlvbigpe2UuYi5jb250cm9scz1cbmx9O2cuYyhcImNvbnRyb2xzZW5hYmxlZFwiLGgpO2cuYyhcImNvbnRyb2xzZGlzYWJsZWRcIixqKTtjPWZ1bmN0aW9uKCl7Zy5qKFwiY29udHJvbHNlbmFibGVkXCIsaCk7Zy5qKFwiY29udHJvbHNkaXNhYmxlZFwiLGopfTtlLmMoXCJkaXNwb3NlXCIsYyk7Zy5jKFwidXNpbmdjdXN0b21jb250cm9sc1wiLGMpO2cudXNpbmdOYXRpdmVDb250cm9scyhmKX1hLksoZnVuY3Rpb24oKXt0aGlzLkkmJih0aGlzLm0uYXV0b3BsYXkmJnRoaXMucGF1c2VkKCkpJiYoZGVsZXRlIHRoaXMuSS5wb3N0ZXIsdGhpcy5wbGF5KCkpfSk7dGhpcy5HYSgpfX0pO3M9dC5oLnByb3RvdHlwZTtzLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0LmguQmIodGhpcy5iKTt0LnEucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzKX07XG5zLmU9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmQsYz1hLkksZDtpZighY3x8dGhpcy5tb3ZpbmdNZWRpYUVsZW1lbnRJbkRPTT09PWwpYz8oZD1jLmNsb25lTm9kZShsKSx0LmguQmIoYyksYz1kLGEuST1rKTooYz10LmUoXCJ2aWRlb1wiKSx0LktjKGMsdC5nLnooYS5pZXx8e30se2lkOmEuaWQoKStcIl9odG1sNV9hcGlcIixcImNsYXNzXCI6XCJ2anMtdGVjaFwifSkpKSxjLnBsYXllcj1hLHQuSGIoYyxhLncoKSk7ZD1bXCJhdXRvcGxheVwiLFwicHJlbG9hZFwiLFwibG9vcFwiLFwibXV0ZWRcIl07Zm9yKHZhciBlPWQubGVuZ3RoLTE7MDw9ZTtlLS0pe3ZhciBnPWRbZV0saD17fTtcInVuZGVmaW5lZFwiIT09dHlwZW9mIGEubVtnXSYmKGhbZ109YS5tW2ddKTt0LktjKGMsaCl9cmV0dXJuIGN9O3MudmQ9ZnVuY3Rpb24oYSl7XCJlcnJvclwiPT1hLnR5cGUmJnRoaXMuZXJyb3IoKT90aGlzLmsoKS5lcnJvcih0aGlzLmVycm9yKCkuY29kZSk6KGEuYnViYmxlcz1sLHRoaXMuaygpLmwoYSkpfTtzLnBsYXk9ZnVuY3Rpb24oKXt0aGlzLmIucGxheSgpfTtcbnMucGF1c2U9ZnVuY3Rpb24oKXt0aGlzLmIucGF1c2UoKX07cy5wYXVzZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iLnBhdXNlZH07cy5jdXJyZW50VGltZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmIuY3VycmVudFRpbWV9O3MuUWI9ZnVuY3Rpb24oYSl7dHJ5e3RoaXMuYi5jdXJyZW50VGltZT1hfWNhdGNoKGMpe3QubG9nKGMsXCJWaWRlbyBpcyBub3QgcmVhZHkuIChWaWRlby5qcylcIil9fTtzLmR1cmF0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYi5kdXJhdGlvbnx8MH07cy5idWZmZXJlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmIuYnVmZmVyZWR9O3Mudm9sdW1lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYi52b2x1bWV9O3MuZmU9ZnVuY3Rpb24oYSl7dGhpcy5iLnZvbHVtZT1hfTtzLm11dGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYi5tdXRlZH07cy5jZT1mdW5jdGlvbihhKXt0aGlzLmIubXV0ZWQ9YX07cy53aWR0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmIub2Zmc2V0V2lkdGh9O1xucy5oZWlnaHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iLm9mZnNldEhlaWdodH07cy5FYT1mdW5jdGlvbigpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIHRoaXMuYi53ZWJraXRFbnRlckZ1bGxTY3JlZW4mJigvQW5kcm9pZC8udGVzdCh0Lk8pfHwhL0Nocm9tZXxNYWMgT1MgWCAxMC41Ly50ZXN0KHQuTykpP2Y6bH07XG5zLnBjPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5iO1wid2Via2l0RGlzcGxheWluZ0Z1bGxzY3JlZW5cImluIGEmJnRoaXMuUihcIndlYmtpdGJlZ2luZnVsbHNjcmVlblwiLGZ1bmN0aW9uKCl7dGhpcy5kLmlzRnVsbHNjcmVlbihmKTt0aGlzLlIoXCJ3ZWJraXRlbmRmdWxsc2NyZWVuXCIsZnVuY3Rpb24oKXt0aGlzLmQuaXNGdWxsc2NyZWVuKGwpO3RoaXMuZC5sKFwiZnVsbHNjcmVlbmNoYW5nZVwiKX0pO3RoaXMuZC5sKFwiZnVsbHNjcmVlbmNoYW5nZVwiKX0pO2EucGF1c2VkJiZhLm5ldHdvcmtTdGF0ZTw9YS5uZT8odGhpcy5iLnBsYXkoKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5wYXVzZSgpO2Eud2Via2l0RW50ZXJGdWxsU2NyZWVuKCl9LDApKTphLndlYmtpdEVudGVyRnVsbFNjcmVlbigpfTtzLndkPWZ1bmN0aW9uKCl7dGhpcy5iLndlYmtpdEV4aXRGdWxsU2NyZWVuKCl9O3Muc3JjPWZ1bmN0aW9uKGEpe2lmKGE9PT1iKXJldHVybiB0aGlzLmIuc3JjO3RoaXMuYi5zcmM9YX07XG5zLmxvYWQ9ZnVuY3Rpb24oKXt0aGlzLmIubG9hZCgpfTtzLmN1cnJlbnRTcmM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iLmN1cnJlbnRTcmN9O3MucG9zdGVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYi5wb3N0ZXJ9O3MuTGM9ZnVuY3Rpb24oYSl7dGhpcy5iLnBvc3Rlcj1hfTtzLkRhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYi5EYX07cy5lZT1mdW5jdGlvbihhKXt0aGlzLmIuRGE9YX07cy5hdXRvcGxheT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmIuYXV0b3BsYXl9O3MuJGQ9ZnVuY3Rpb24oYSl7dGhpcy5iLmF1dG9wbGF5PWF9O3MuY29udHJvbHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iLmNvbnRyb2xzfTtzLmxvb3A9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iLmxvb3B9O3MuYmU9ZnVuY3Rpb24oYSl7dGhpcy5iLmxvb3A9YX07cy5lcnJvcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmIuZXJyb3J9O3Muc2Vla2luZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmIuc2Vla2luZ307XG5zLmVuZGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYi5lbmRlZH07cy5wbGF5YmFja1JhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iLnBsYXliYWNrUmF0ZX07cy5kZT1mdW5jdGlvbihhKXt0aGlzLmIucGxheWJhY2tSYXRlPWF9O3MubmV0d29ya1N0YXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYi5uZXR3b3JrU3RhdGV9O3QuaC5pc1N1cHBvcnRlZD1mdW5jdGlvbigpe3RyeXt0LkEudm9sdW1lPTAuNX1jYXRjaChhKXtyZXR1cm4gbH1yZXR1cm4hIXQuQS5jYW5QbGF5VHlwZX07dC5oLnZiPWZ1bmN0aW9uKGEpe3RyeXtyZXR1cm4hIXQuQS5jYW5QbGF5VHlwZShhLnR5cGUpfWNhdGNoKGMpe3JldHVyblwiXCJ9fTt0LmgubmQ9ZnVuY3Rpb24oKXt2YXIgYT10LkEudm9sdW1lO3QuQS52b2x1bWU9YS8yKzAuMTtyZXR1cm4gYSE9PXQuQS52b2x1bWV9O1xudC5oLm1kPWZ1bmN0aW9uKCl7dmFyIGE9dC5BLnBsYXliYWNrUmF0ZTt0LkEucGxheWJhY2tSYXRlPWEvMiswLjE7cmV0dXJuIGEhPT10LkEucGxheWJhY2tSYXRlfTt2YXIgVixnYT0vXmFwcGxpY2F0aW9uXFwvKD86eC18dm5kXFwuYXBwbGVcXC4pbXBlZ3VybC9pLGhhPS9edmlkZW9cXC9tcDQvaTt0LmguRGM9ZnVuY3Rpb24oKXs0PD10LlViJiYoVnx8KFY9dC5BLmNvbnN0cnVjdG9yLnByb3RvdHlwZS5jYW5QbGF5VHlwZSksdC5BLmNvbnN0cnVjdG9yLnByb3RvdHlwZS5jYW5QbGF5VHlwZT1mdW5jdGlvbihhKXtyZXR1cm4gYSYmZ2EudGVzdChhKT9cIm1heWJlXCI6Vi5jYWxsKHRoaXMsYSl9KTt0LmRkJiYoVnx8KFY9dC5BLmNvbnN0cnVjdG9yLnByb3RvdHlwZS5jYW5QbGF5VHlwZSksdC5BLmNvbnN0cnVjdG9yLnByb3RvdHlwZS5jYW5QbGF5VHlwZT1mdW5jdGlvbihhKXtyZXR1cm4gYSYmaGEudGVzdChhKT9cIm1heWJlXCI6Vi5jYWxsKHRoaXMsYSl9KX07XG50LmgubGU9ZnVuY3Rpb24oKXt2YXIgYT10LkEuY29uc3RydWN0b3IucHJvdG90eXBlLmNhblBsYXlUeXBlO3QuQS5jb25zdHJ1Y3Rvci5wcm90b3R5cGUuY2FuUGxheVR5cGU9VjtWPWs7cmV0dXJuIGF9O3QuaC5EYygpO3QuaC5rYj1cImxvYWRzdGFydCBzdXNwZW5kIGFib3J0IGVycm9yIGVtcHRpZWQgc3RhbGxlZCBsb2FkZWRtZXRhZGF0YSBsb2FkZWRkYXRhIGNhbnBsYXkgY2FucGxheXRocm91Z2ggcGxheWluZyB3YWl0aW5nIHNlZWtpbmcgc2Vla2VkIGVuZGVkIGR1cmF0aW9uY2hhbmdlIHRpbWV1cGRhdGUgcHJvZ3Jlc3MgcGxheSBwYXVzZSByYXRlY2hhbmdlIHZvbHVtZWNoYW5nZVwiLnNwbGl0KFwiIFwiKTtcbnQuaC5CYj1mdW5jdGlvbihhKXtpZihhKXthLnBsYXllcj1rO2ZvcihhLnBhcmVudE5vZGUmJmEucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChhKTthLmhhc0NoaWxkTm9kZXMoKTspYS5yZW1vdmVDaGlsZChhLmZpcnN0Q2hpbGQpO2EucmVtb3ZlQXR0cmlidXRlKFwic3JjXCIpO2lmKFwiZnVuY3Rpb25cIj09PXR5cGVvZiBhLmxvYWQpdHJ5e2EubG9hZCgpfWNhdGNoKGMpe319fTtcbnQuZj10LnEuZXh0ZW5kKHtpOmZ1bmN0aW9uKGEsYyxkKXt0LnEuY2FsbCh0aGlzLGEsYyxkKTt2YXIgZT1jLnNvdXJjZTtkPWMucGFyZW50RWw7dmFyIGc9dGhpcy5iPXQuZShcImRpdlwiLHtpZDphLmlkKCkrXCJfdGVtcF9mbGFzaFwifSksaD1hLmlkKCkrXCJfZmxhc2hfYXBpXCIsaj1hLm0saj10Lmcueih7cmVhZHlGdW5jdGlvbjpcInZpZGVvanMuRmxhc2gub25SZWFkeVwiLGV2ZW50UHJveHlGdW5jdGlvbjpcInZpZGVvanMuRmxhc2gub25FdmVudFwiLGVycm9yRXZlbnRQcm94eUZ1bmN0aW9uOlwidmlkZW9qcy5GbGFzaC5vbkVycm9yXCIsYXV0b3BsYXk6ai5hdXRvcGxheSxwcmVsb2FkOmouRGEsbG9vcDpqLmxvb3AsbXV0ZWQ6ai5tdXRlZH0sYy5mbGFzaFZhcnMpLG49dC5nLnooe3dtb2RlOlwib3BhcXVlXCIsYmdjb2xvcjpcIiMwMDAwMDBcIn0sYy5wYXJhbXMpLGg9dC5nLnooe2lkOmgsbmFtZTpoLFwiY2xhc3NcIjpcInZqcy10ZWNoXCJ9LGMuYXR0cmlidXRlcyk7ZSYmKGUudHlwZSYmdC5mLkdkKGUudHlwZSk/XG4oZT10LmYuUGMoZS5zcmMpLGoucnRtcENvbm5lY3Rpb249ZW5jb2RlVVJJQ29tcG9uZW50KGUud2IpLGoucnRtcFN0cmVhbT1lbmNvZGVVUklDb21wb25lbnQoZS5SYikpOmouc3JjPWVuY29kZVVSSUNvbXBvbmVudCh0LnRjKGUuc3JjKSkpO3QuSGIoZyxkKTtjLnN0YXJ0VGltZSYmdGhpcy5LKGZ1bmN0aW9uKCl7dGhpcy5sb2FkKCk7dGhpcy5wbGF5KCk7dGhpcy5jdXJyZW50VGltZShjLnN0YXJ0VGltZSl9KTt0LlpjJiZ0aGlzLksoZnVuY3Rpb24oKXt0aGlzLmMoXCJtb3VzZW1vdmVcIixmdW5jdGlvbigpe3RoaXMuaygpLmwoe3R5cGU6XCJtb3VzZW1vdmVcIixidWJibGVzOmx9KX0pfSk7YS5jKFwic3RhZ2VjbGlja1wiLGEucmVwb3J0VXNlckFjdGl2aXR5KTt0aGlzLmI9dC5mLm9jKGMuc3dmLGcsaixuLGgpfX0pO3QuZi5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3QucS5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpfTt0LmYucHJvdG90eXBlLnBsYXk9ZnVuY3Rpb24oKXt0aGlzLmIudmpzX3BsYXkoKX07XG50LmYucHJvdG90eXBlLnBhdXNlPWZ1bmN0aW9uKCl7dGhpcy5iLnZqc19wYXVzZSgpfTt0LmYucHJvdG90eXBlLnNyYz1mdW5jdGlvbihhKXtpZihhPT09YilyZXR1cm4gdGhpcy5jdXJyZW50U3JjKCk7dC5mLkZkKGEpPyhhPXQuZi5QYyhhKSx0aGlzLnhlKGEud2IpLHRoaXMueWUoYS5SYikpOihhPXQudGMoYSksdGhpcy5iLnZqc19zcmMoYSkpO2lmKHRoaXMuZC5hdXRvcGxheSgpKXt2YXIgYz10aGlzO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtjLnBsYXkoKX0sMCl9fTt0LmYucHJvdG90eXBlLnNldEN1cnJlbnRUaW1lPWZ1bmN0aW9uKGEpe3RoaXMuSmQ9YTt0aGlzLmIudmpzX3NldFByb3BlcnR5KFwiY3VycmVudFRpbWVcIixhKTt0LnEucHJvdG90eXBlLlFiLmNhbGwodGhpcyl9O3QuZi5wcm90b3R5cGUuY3VycmVudFRpbWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZWVraW5nKCk/dGhpcy5KZHx8MDp0aGlzLmIudmpzX2dldFByb3BlcnR5KFwiY3VycmVudFRpbWVcIil9O1xudC5mLnByb3RvdHlwZS5jdXJyZW50U3JjPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5iLnZqc19nZXRQcm9wZXJ0eShcImN1cnJlbnRTcmNcIik7aWYoYT09ayl7dmFyIGM9dGhpcy5ydG1wQ29ubmVjdGlvbigpLGQ9dGhpcy5ydG1wU3RyZWFtKCk7YyYmZCYmKGE9dC5mLmdlKGMsZCkpfXJldHVybiBhfTt0LmYucHJvdG90eXBlLmxvYWQ9ZnVuY3Rpb24oKXt0aGlzLmIudmpzX2xvYWQoKX07dC5mLnByb3RvdHlwZS5wb3N0ZXI9ZnVuY3Rpb24oKXt0aGlzLmIudmpzX2dldFByb3BlcnR5KFwicG9zdGVyXCIpfTt0LmYucHJvdG90eXBlLnNldFBvc3Rlcj1tKCk7dC5mLnByb3RvdHlwZS5idWZmZXJlZD1mdW5jdGlvbigpe3JldHVybiB0LnpiKDAsdGhpcy5iLnZqc19nZXRQcm9wZXJ0eShcImJ1ZmZlcmVkXCIpKX07dC5mLnByb3RvdHlwZS5FYT1xKGwpO3QuZi5wcm90b3R5cGUucGM9cShsKTtcbmZ1bmN0aW9uIGlhKCl7dmFyIGE9V1tYXSxjPWEuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrYS5zbGljZSgxKTtqYVtcInNldFwiK2NdPWZ1bmN0aW9uKGMpe3JldHVybiB0aGlzLmIudmpzX3NldFByb3BlcnR5KGEsYyl9fWZ1bmN0aW9uIGthKGEpe2phW2FdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYi52anNfZ2V0UHJvcGVydHkoYSl9fVxudmFyIGphPXQuZi5wcm90b3R5cGUsVz1cInJ0bXBDb25uZWN0aW9uIHJ0bXBTdHJlYW0gcHJlbG9hZCBkZWZhdWx0UGxheWJhY2tSYXRlIHBsYXliYWNrUmF0ZSBhdXRvcGxheSBsb29wIG1lZGlhR3JvdXAgY29udHJvbGxlciBjb250cm9scyB2b2x1bWUgbXV0ZWQgZGVmYXVsdE11dGVkXCIuc3BsaXQoXCIgXCIpLGxhPVwiZXJyb3IgbmV0d29ya1N0YXRlIHJlYWR5U3RhdGUgc2Vla2luZyBpbml0aWFsVGltZSBkdXJhdGlvbiBzdGFydE9mZnNldFRpbWUgcGF1c2VkIHBsYXllZCBzZWVrYWJsZSBlbmRlZCB2aWRlb1RyYWNrcyBhdWRpb1RyYWNrcyB2aWRlb1dpZHRoIHZpZGVvSGVpZ2h0IHRleHRUcmFja3NcIi5zcGxpdChcIiBcIiksWDtmb3IoWD0wO1g8Vy5sZW5ndGg7WCsrKWthKFdbWF0pLGlhKCk7Zm9yKFg9MDtYPGxhLmxlbmd0aDtYKyspa2EobGFbWF0pO3QuZi5pc1N1cHBvcnRlZD1mdW5jdGlvbigpe3JldHVybiAxMDw9dC5mLnZlcnNpb24oKVswXX07XG50LmYudmI9ZnVuY3Rpb24oYSl7aWYoIWEudHlwZSlyZXR1cm5cIlwiO2E9YS50eXBlLnJlcGxhY2UoLzsuKi8sXCJcIikudG9Mb3dlckNhc2UoKTtpZihhIGluIHQuZi55ZHx8YSBpbiB0LmYuUWMpcmV0dXJuXCJtYXliZVwifTt0LmYueWQ9e1widmlkZW8vZmx2XCI6XCJGTFZcIixcInZpZGVvL3gtZmx2XCI6XCJGTFZcIixcInZpZGVvL21wNFwiOlwiTVA0XCIsXCJ2aWRlby9tNHZcIjpcIk1QNFwifTt0LmYuUWM9e1wicnRtcC9tcDRcIjpcIk1QNFwiLFwicnRtcC9mbHZcIjpcIkZMVlwifTt0LmYub25SZWFkeT1mdW5jdGlvbihhKXt2YXIgYztpZihjPShhPXQudyhhKSkmJmEucGFyZW50Tm9kZSYmYS5wYXJlbnROb2RlLnBsYXllcilhLnBsYXllcj1jLHQuZi5jaGVja1JlYWR5KGMubyl9O3QuZi5jaGVja1JlYWR5PWZ1bmN0aW9uKGEpe2EudygpJiYoYS53KCkudmpzX2dldFByb3BlcnR5P2EuR2EoKTpzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC5mLmNoZWNrUmVhZHkoYSl9LDUwKSl9O3QuZi5vbkV2ZW50PWZ1bmN0aW9uKGEsYyl7dC53KGEpLnBsYXllci5sKGMpfTtcbnQuZi5vbkVycm9yPWZ1bmN0aW9uKGEsYyl7dmFyIGQ9dC53KGEpLnBsYXllcixlPVwiRkxBU0g6IFwiK2M7XCJzcmNub3Rmb3VuZFwiPT1jP2QuZXJyb3Ioe2NvZGU6NCxtZXNzYWdlOmV9KTpkLmVycm9yKGUpfTt0LmYudmVyc2lvbj1mdW5jdGlvbigpe3ZhciBhPVwiMCwwLDBcIjt0cnl7YT0obmV3IHdpbmRvdy5BY3RpdmVYT2JqZWN0KFwiU2hvY2t3YXZlRmxhc2guU2hvY2t3YXZlRmxhc2hcIikpLkdldFZhcmlhYmxlKFwiJHZlcnNpb25cIikucmVwbGFjZSgvXFxEKy9nLFwiLFwiKS5tYXRjaCgvXiw/KC4rKSw/JC8pWzFdfWNhdGNoKGMpe3RyeXtuYXZpZ2F0b3IubWltZVR5cGVzW1wiYXBwbGljYXRpb24veC1zaG9ja3dhdmUtZmxhc2hcIl0uZW5hYmxlZFBsdWdpbiYmKGE9KG5hdmlnYXRvci5wbHVnaW5zW1wiU2hvY2t3YXZlIEZsYXNoIDIuMFwiXXx8bmF2aWdhdG9yLnBsdWdpbnNbXCJTaG9ja3dhdmUgRmxhc2hcIl0pLmRlc2NyaXB0aW9uLnJlcGxhY2UoL1xcRCsvZyxcIixcIikubWF0Y2goL14sPyguKyksPyQvKVsxXSl9Y2F0Y2goZCl7fX1yZXR1cm4gYS5zcGxpdChcIixcIil9O1xudC5mLm9jPWZ1bmN0aW9uKGEsYyxkLGUsZyl7YT10LmYuQWQoYSxkLGUsZyk7YT10LmUoXCJkaXZcIix7aW5uZXJIVE1MOmF9KS5jaGlsZE5vZGVzWzBdO2Q9Yy5wYXJlbnROb2RlO2MucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQoYSxjKTt2YXIgaD1kLmNoaWxkTm9kZXNbMF07c2V0VGltZW91dChmdW5jdGlvbigpe2guc3R5bGUuZGlzcGxheT1cImJsb2NrXCJ9LDFFMyk7cmV0dXJuIGF9O1xudC5mLkFkPWZ1bmN0aW9uKGEsYyxkLGUpe3ZhciBnPVwiXCIsaD1cIlwiLGo9XCJcIjtjJiZ0LmcuWChjLGZ1bmN0aW9uKGEsYyl7Zys9YStcIj1cIitjK1wiJmFtcDtcIn0pO2Q9dC5nLnooe21vdmllOmEsZmxhc2h2YXJzOmcsYWxsb3dTY3JpcHRBY2Nlc3M6XCJhbHdheXNcIixhbGxvd05ldHdvcmtpbmc6XCJhbGxcIn0sZCk7dC5nLlgoZCxmdW5jdGlvbihhLGMpe2grPSc8cGFyYW0gbmFtZT1cIicrYSsnXCIgdmFsdWU9XCInK2MrJ1wiIC8+J30pO2U9dC5nLnooe2RhdGE6YSx3aWR0aDpcIjEwMCVcIixoZWlnaHQ6XCIxMDAlXCJ9LGUpO3QuZy5YKGUsZnVuY3Rpb24oYSxjKXtqKz1hKyc9XCInK2MrJ1wiICd9KTtyZXR1cm4nPG9iamVjdCB0eXBlPVwiYXBwbGljYXRpb24veC1zaG9ja3dhdmUtZmxhc2hcIicraitcIj5cIitoK1wiPC9vYmplY3Q+XCJ9O3QuZi5nZT1mdW5jdGlvbihhLGMpe3JldHVybiBhK1wiJlwiK2N9O1xudC5mLlBjPWZ1bmN0aW9uKGEpe3ZhciBjPXt3YjpcIlwiLFJiOlwiXCJ9O2lmKCFhKXJldHVybiBjO3ZhciBkPWEuaW5kZXhPZihcIiZcIiksZTstMSE9PWQ/ZT1kKzE6KGQ9ZT1hLmxhc3RJbmRleE9mKFwiL1wiKSsxLDA9PT1kJiYoZD1lPWEubGVuZ3RoKSk7Yy53Yj1hLnN1YnN0cmluZygwLGQpO2MuUmI9YS5zdWJzdHJpbmcoZSxhLmxlbmd0aCk7cmV0dXJuIGN9O3QuZi5HZD1mdW5jdGlvbihhKXtyZXR1cm4gYSBpbiB0LmYuUWN9O3QuZi5mZD0vXnJ0bXBbc2V0XT86XFwvXFwvL2k7dC5mLkZkPWZ1bmN0aW9uKGEpe3JldHVybiB0LmYuZmQudGVzdChhKX07XG50LmVkPXQuYS5leHRlbmQoe2k6ZnVuY3Rpb24oYSxjLGQpe3QuYS5jYWxsKHRoaXMsYSxjLGQpO2lmKCFhLm0uc291cmNlc3x8MD09PWEubS5zb3VyY2VzLmxlbmd0aCl7Yz0wO2ZvcihkPWEubS50ZWNoT3JkZXI7YzxkLmxlbmd0aDtjKyspe3ZhciBlPXQuYmEoZFtjXSksZz13aW5kb3cudmlkZW9qc1tlXTtpZihnJiZnLmlzU3VwcG9ydGVkKCkpe1EoYSxlKTticmVha319fWVsc2UgYS5zcmMoYS5tLnNvdXJjZXMpfX0pO3QuUGxheWVyLnByb3RvdHlwZS50ZXh0VHJhY2tzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuRmE9dGhpcy5GYXx8W119O1xuZnVuY3Rpb24gbWEoYSxjLGQsZSxnKXt2YXIgaD1hLkZhPWEuRmF8fFtdO2c9Z3x8e307Zy5raW5kPWM7Zy5sYWJlbD1kO2cubGFuZ3VhZ2U9ZTtjPXQuYmEoY3x8XCJzdWJ0aXRsZXNcIik7dmFyIGo9bmV3IHdpbmRvdy52aWRlb2pzW2MrXCJUcmFja1wiXShhLGcpO2gucHVzaChqKTtqLkFiKCkmJmEuSyhmdW5jdGlvbigpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXtZKGouaygpLGouaWQoKSl9LDApfSl9ZnVuY3Rpb24gWShhLGMsZCl7Zm9yKHZhciBlPWEuRmEsZz0wLGg9ZS5sZW5ndGgsaixuO2c8aDtnKyspaj1lW2ddLGouaWQoKT09PWM/KGouc2hvdygpLG49aik6ZCYmKGouTSgpPT1kJiYwPGoubW9kZSgpKSYmai5kaXNhYmxlKCk7KGM9bj9uLk0oKTpkP2Q6bCkmJmEubChjK1widHJhY2tjaGFuZ2VcIil9XG50LkI9dC5hLmV4dGVuZCh7aTpmdW5jdGlvbihhLGMpe3QuYS5jYWxsKHRoaXMsYSxjKTt0aGlzLkw9Yy5pZHx8XCJ2anNfXCIrYy5raW5kK1wiX1wiK2MubGFuZ3VhZ2UrXCJfXCIrdC5yKys7dGhpcy5NYz1jLnNyYzt0aGlzLnNkPWNbXCJkZWZhdWx0XCJdfHxjLmRmbHQ7dGhpcy5qZT1jLnRpdGxlO3RoaXMuVWE9Yy5zcmNsYW5nO3RoaXMuSGQ9Yy5sYWJlbDt0aGlzLmNhPVtdO3RoaXMudGI9W107dGhpcy5tYT10aGlzLm5hPTB9fSk7cz10LkIucHJvdG90eXBlO3MuTT1wKFwiSFwiKTtzLnNyYz1wKFwiTWNcIik7cy5BYj1wKFwic2RcIik7cy50aXRsZT1wKFwiamVcIik7cy5sYW5ndWFnZT1wKFwiVWFcIik7cy5sYWJlbD1wKFwiSGRcIik7cy5vZD1wKFwiY2FcIik7cy5nZD1wKFwidGJcIik7cy5yZWFkeVN0YXRlPXAoXCJuYVwiKTtzLm1vZGU9cChcIm1hXCIpO3MuZT1mdW5jdGlvbigpe3JldHVybiB0LmEucHJvdG90eXBlLmUuY2FsbCh0aGlzLFwiZGl2XCIse2NsYXNzTmFtZTpcInZqcy1cIit0aGlzLkgrXCIgdmpzLXRleHQtdHJhY2tcIn0pfTtcbnMuc2hvdz1mdW5jdGlvbigpe25hKHRoaXMpO3RoaXMubWE9Mjt0LmEucHJvdG90eXBlLnNob3cuY2FsbCh0aGlzKX07cy5ZPWZ1bmN0aW9uKCl7bmEodGhpcyk7dGhpcy5tYT0xO3QuYS5wcm90b3R5cGUuWS5jYWxsKHRoaXMpfTtzLmRpc2FibGU9ZnVuY3Rpb24oKXsyPT10aGlzLm1hJiZ0aGlzLlkoKTt0aGlzLmQuaihcInRpbWV1cGRhdGVcIix0LmJpbmQodGhpcyx0aGlzLnVwZGF0ZSx0aGlzLkwpKTt0aGlzLmQuaihcImVuZGVkXCIsdC5iaW5kKHRoaXMsdGhpcy5yZXNldCx0aGlzLkwpKTt0aGlzLnJlc2V0KCk7dGhpcy5kLmthKFwidGV4dFRyYWNrRGlzcGxheVwiKS5yZW1vdmVDaGlsZCh0aGlzKTt0aGlzLm1hPTB9O1xuZnVuY3Rpb24gbmEoYSl7MD09PWEubmEmJmEubG9hZCgpOzA9PT1hLm1hJiYoYS5kLmMoXCJ0aW1ldXBkYXRlXCIsdC5iaW5kKGEsYS51cGRhdGUsYS5MKSksYS5kLmMoXCJlbmRlZFwiLHQuYmluZChhLGEucmVzZXQsYS5MKSksKFwiY2FwdGlvbnNcIj09PWEuSHx8XCJzdWJ0aXRsZXNcIj09PWEuSCkmJmEuZC5rYShcInRleHRUcmFja0Rpc3BsYXlcIikuVihhKSl9cy5sb2FkPWZ1bmN0aW9uKCl7MD09PXRoaXMubmEmJih0aGlzLm5hPTEsdC5nZXQodGhpcy5NYyx0LmJpbmQodGhpcyx0aGlzLldkKSx0LmJpbmQodGhpcyx0aGlzLk1kKSkpfTtzLk1kPWZ1bmN0aW9uKGEpe3RoaXMuZXJyb3I9YTt0aGlzLm5hPTM7dGhpcy5sKFwiZXJyb3JcIil9O1xucy5XZD1mdW5jdGlvbihhKXt2YXIgYyxkO2E9YS5zcGxpdChcIlxcblwiKTtmb3IodmFyIGU9XCJcIixnPTEsaD1hLmxlbmd0aDtnPGg7ZysrKWlmKGU9dC50cmltKGFbZ10pKXstMT09ZS5pbmRleE9mKFwiLS1cXHgzZVwiKT8oYz1lLGU9dC50cmltKGFbKytnXSkpOmM9dGhpcy5jYS5sZW5ndGg7Yz17aWQ6YyxpbmRleDp0aGlzLmNhLmxlbmd0aH07ZD1lLnNwbGl0KC9bXFx0IF0rLyk7Yy5zdGFydFRpbWU9b2EoZFswXSk7Yy55YT1vYShkWzJdKTtmb3IoZD1bXTthWysrZ10mJihlPXQudHJpbShhW2ddKSk7KWQucHVzaChlKTtjLnRleHQ9ZC5qb2luKFwiPGJyLz5cIik7dGhpcy5jYS5wdXNoKGMpfXRoaXMubmE9Mjt0aGlzLmwoXCJsb2FkZWRcIil9O1xuZnVuY3Rpb24gb2EoYSl7dmFyIGM9YS5zcGxpdChcIjpcIik7YT0wO3ZhciBkLGUsZzszPT1jLmxlbmd0aD8oZD1jWzBdLGU9Y1sxXSxjPWNbMl0pOihkPTAsZT1jWzBdLGM9Y1sxXSk7Yz1jLnNwbGl0KC9cXHMrLyk7Yz1jLnNwbGljZSgwLDEpWzBdO2M9Yy5zcGxpdCgvXFwufCwvKTtnPXBhcnNlRmxvYXQoY1sxXSk7Yz1jWzBdO2ErPTM2MDAqcGFyc2VGbG9hdChkKTthKz02MCpwYXJzZUZsb2F0KGUpO2ErPXBhcnNlRmxvYXQoYyk7ZyYmKGErPWcvMUUzKTtyZXR1cm4gYX1cbnMudXBkYXRlPWZ1bmN0aW9uKCl7aWYoMDx0aGlzLmNhLmxlbmd0aCl7dmFyIGE9dGhpcy5kLm9wdGlvbnMoKS50cmFja1RpbWVPZmZzZXR8fDAsYT10aGlzLmQuY3VycmVudFRpbWUoKSthO2lmKHRoaXMuUGI9PT1ifHxhPHRoaXMuUGJ8fHRoaXMuV2E8PWEpe3ZhciBjPXRoaXMuY2EsZD10aGlzLmQuZHVyYXRpb24oKSxlPTAsZz1sLGg9W10saixuLHIsdzthPj10aGlzLldhfHx0aGlzLldhPT09Yj93PXRoaXMuRWIhPT1iP3RoaXMuRWI6MDooZz1mLHc9dGhpcy5LYiE9PWI/dGhpcy5LYjpjLmxlbmd0aC0xKTtmb3IoOzspe3I9Y1t3XTtpZihyLnlhPD1hKWU9TWF0aC5tYXgoZSxyLnlhKSxyLk5hJiYoci5OYT1sKTtlbHNlIGlmKGE8ci5zdGFydFRpbWUpe2lmKGQ9TWF0aC5taW4oZCxyLnN0YXJ0VGltZSksci5OYSYmKHIuTmE9bCksIWcpYnJlYWt9ZWxzZSBnPyhoLnNwbGljZSgwLDAsciksbj09PWImJihuPXcpLGo9dyk6KGgucHVzaChyKSxqPT09YiYmKGo9dyksbj13KSxkPU1hdGgubWluKGQsXG5yLnlhKSxlPU1hdGgubWF4KGUsci5zdGFydFRpbWUpLHIuTmE9ZjtpZihnKWlmKDA9PT13KWJyZWFrO2Vsc2Ugdy0tO2Vsc2UgaWYodz09PWMubGVuZ3RoLTEpYnJlYWs7ZWxzZSB3Kyt9dGhpcy50Yj1oO3RoaXMuV2E9ZDt0aGlzLlBiPWU7dGhpcy5FYj1qO3RoaXMuS2I9bjtqPXRoaXMudGI7bj1cIlwiO2E9MDtmb3IoYz1qLmxlbmd0aDthPGM7YSsrKW4rPSc8c3BhbiBjbGFzcz1cInZqcy10dC1jdWVcIj4nK2pbYV0udGV4dCtcIjwvc3Bhbj5cIjt0aGlzLmIuaW5uZXJIVE1MPW47dGhpcy5sKFwiY3VlY2hhbmdlXCIpfX19O3MucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLldhPTA7dGhpcy5QYj10aGlzLmQuZHVyYXRpb24oKTt0aGlzLktiPXRoaXMuRWI9MH07dC5XYj10LkIuZXh0ZW5kKCk7dC5XYi5wcm90b3R5cGUuSD1cImNhcHRpb25zXCI7dC5kYz10LkIuZXh0ZW5kKCk7dC5kYy5wcm90b3R5cGUuSD1cInN1YnRpdGxlc1wiO3QuWGI9dC5CLmV4dGVuZCgpO3QuWGIucHJvdG90eXBlLkg9XCJjaGFwdGVyc1wiO1xudC5mYz10LmEuZXh0ZW5kKHtpOmZ1bmN0aW9uKGEsYyxkKXt0LmEuY2FsbCh0aGlzLGEsYyxkKTtpZihhLm0udHJhY2tzJiYwPGEubS50cmFja3MubGVuZ3RoKXtjPXRoaXMuZDthPWEubS50cmFja3M7Zm9yKHZhciBlPTA7ZTxhLmxlbmd0aDtlKyspZD1hW2VdLG1hKGMsZC5raW5kLGQubGFiZWwsZC5sYW5ndWFnZSxkKX19fSk7dC5mYy5wcm90b3R5cGUuZT1mdW5jdGlvbigpe3JldHVybiB0LmEucHJvdG90eXBlLmUuY2FsbCh0aGlzLFwiZGl2XCIse2NsYXNzTmFtZTpcInZqcy10ZXh0LXRyYWNrLWRpc3BsYXlcIn0pfTt0LmFhPXQuSi5leHRlbmQoe2k6ZnVuY3Rpb24oYSxjKXt2YXIgZD10aGlzLmVhPWMudHJhY2s7Yy5sYWJlbD1kLmxhYmVsKCk7Yy5zZWxlY3RlZD1kLkFiKCk7dC5KLmNhbGwodGhpcyxhLGMpO3RoaXMuYyhhLGQuTSgpK1widHJhY2tjaGFuZ2VcIix0aGlzLnVwZGF0ZSl9fSk7XG50LmFhLnByb3RvdHlwZS5zPWZ1bmN0aW9uKCl7dC5KLnByb3RvdHlwZS5zLmNhbGwodGhpcyk7WSh0aGlzLmQsdGhpcy5lYS5MLHRoaXMuZWEuTSgpKX07dC5hYS5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKCl7dGhpcy5zZWxlY3RlZCgyPT10aGlzLmVhLm1vZGUoKSl9O3QubWI9dC5hYS5leHRlbmQoe2k6ZnVuY3Rpb24oYSxjKXtjLnRyYWNrPXtNOmZ1bmN0aW9uKCl7cmV0dXJuIGMua2luZH0sazphLGxhYmVsOmZ1bmN0aW9uKCl7cmV0dXJuIGMua2luZCtcIiBvZmZcIn0sQWI6cShsKSxtb2RlOnEobCl9O3QuYWEuY2FsbCh0aGlzLGEsYyk7dGhpcy5zZWxlY3RlZChmKX19KTt0Lm1iLnByb3RvdHlwZS5zPWZ1bmN0aW9uKCl7dC5hYS5wcm90b3R5cGUucy5jYWxsKHRoaXMpO1kodGhpcy5kLHRoaXMuZWEuTCx0aGlzLmVhLk0oKSl9O1xudC5tYi5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXMuZC50ZXh0VHJhY2tzKCksYz0wLGQ9YS5sZW5ndGgsZSxnPWY7YzxkO2MrKyllPWFbY10sZS5NKCk9PXRoaXMuZWEuTSgpJiYyPT1lLm1vZGUoKSYmKGc9bCk7dGhpcy5zZWxlY3RlZChnKX07dC5VPXQuTi5leHRlbmQoe2k6ZnVuY3Rpb24oYSxjKXt0Lk4uY2FsbCh0aGlzLGEsYyk7MT49dGhpcy5RLmxlbmd0aCYmdGhpcy5ZKCl9fSk7dC5VLnByb3RvdHlwZS53YT1mdW5jdGlvbigpe3ZhciBhPVtdLGM7YS5wdXNoKG5ldyB0Lm1iKHRoaXMuZCx7a2luZDp0aGlzLkh9KSk7Zm9yKHZhciBkPTA7ZDx0aGlzLmQudGV4dFRyYWNrcygpLmxlbmd0aDtkKyspYz10aGlzLmQudGV4dFRyYWNrcygpW2RdLGMuTSgpPT09dGhpcy5IJiZhLnB1c2gobmV3IHQuYWEodGhpcy5kLHt0cmFjazpjfSkpO3JldHVybiBhfTtcbnQuSGE9dC5VLmV4dGVuZCh7aTpmdW5jdGlvbihhLGMsZCl7dC5VLmNhbGwodGhpcyxhLGMsZCk7dGhpcy5iLnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIixcIkNhcHRpb25zIE1lbnVcIil9fSk7dC5IYS5wcm90b3R5cGUuSD1cImNhcHRpb25zXCI7dC5IYS5wcm90b3R5cGUudWE9XCJDYXB0aW9uc1wiO3QuSGEucHJvdG90eXBlLmNsYXNzTmFtZT1cInZqcy1jYXB0aW9ucy1idXR0b25cIjt0Lk1hPXQuVS5leHRlbmQoe2k6ZnVuY3Rpb24oYSxjLGQpe3QuVS5jYWxsKHRoaXMsYSxjLGQpO3RoaXMuYi5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsXCJTdWJ0aXRsZXMgTWVudVwiKX19KTt0Lk1hLnByb3RvdHlwZS5IPVwic3VidGl0bGVzXCI7dC5NYS5wcm90b3R5cGUudWE9XCJTdWJ0aXRsZXNcIjt0Lk1hLnByb3RvdHlwZS5jbGFzc05hbWU9XCJ2anMtc3VidGl0bGVzLWJ1dHRvblwiO1xudC5JYT10LlUuZXh0ZW5kKHtpOmZ1bmN0aW9uKGEsYyxkKXt0LlUuY2FsbCh0aGlzLGEsYyxkKTt0aGlzLmIuc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLFwiQ2hhcHRlcnMgTWVudVwiKX19KTtzPXQuSWEucHJvdG90eXBlO3MuSD1cImNoYXB0ZXJzXCI7cy51YT1cIkNoYXB0ZXJzXCI7cy5jbGFzc05hbWU9XCJ2anMtY2hhcHRlcnMtYnV0dG9uXCI7cy53YT1mdW5jdGlvbigpe2Zvcih2YXIgYT1bXSxjLGQ9MDtkPHRoaXMuZC50ZXh0VHJhY2tzKCkubGVuZ3RoO2QrKyljPXRoaXMuZC50ZXh0VHJhY2tzKClbZF0sYy5NKCk9PT10aGlzLkgmJmEucHVzaChuZXcgdC5hYSh0aGlzLmQse3RyYWNrOmN9KSk7cmV0dXJuIGF9O1xucy54YT1mdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLmQudGV4dFRyYWNrcygpLGM9MCxkPWEubGVuZ3RoLGUsZyxoPXRoaXMuUT1bXTtjPGQ7YysrKWlmKGU9YVtjXSxlLk0oKT09dGhpcy5IKWlmKDA9PT1lLnJlYWR5U3RhdGUoKSllLmxvYWQoKSxlLmMoXCJsb2FkZWRcIix0LmJpbmQodGhpcyx0aGlzLnhhKSk7ZWxzZXtnPWU7YnJlYWt9YT10aGlzLkJhO2E9PT1iJiYoYT1uZXcgdC5oYSh0aGlzLmQpLGEuamEoKS5hcHBlbmRDaGlsZCh0LmUoXCJsaVwiLHtjbGFzc05hbWU6XCJ2anMtbWVudS10aXRsZVwiLGlubmVySFRNTDp0LmJhKHRoaXMuSCksaGU6LTF9KSkpO2lmKGcpe2U9Zy5jYTtmb3IodmFyIGosYz0wLGQ9ZS5sZW5ndGg7YzxkO2MrKylqPWVbY10saj1uZXcgdC5nYih0aGlzLmQse3RyYWNrOmcsY3VlOmp9KSxoLnB1c2goaiksYS5WKGopO3RoaXMuVihhKX0wPHRoaXMuUS5sZW5ndGgmJnRoaXMuc2hvdygpO3JldHVybiBhfTtcbnQuZ2I9dC5KLmV4dGVuZCh7aTpmdW5jdGlvbihhLGMpe3ZhciBkPXRoaXMuZWE9Yy50cmFjayxlPXRoaXMuY3VlPWMuY3VlLGc9YS5jdXJyZW50VGltZSgpO2MubGFiZWw9ZS50ZXh0O2Muc2VsZWN0ZWQ9ZS5zdGFydFRpbWU8PWcmJmc8ZS55YTt0LkouY2FsbCh0aGlzLGEsYyk7ZC5jKFwiY3VlY2hhbmdlXCIsdC5iaW5kKHRoaXMsdGhpcy51cGRhdGUpKX19KTt0LmdiLnByb3RvdHlwZS5zPWZ1bmN0aW9uKCl7dC5KLnByb3RvdHlwZS5zLmNhbGwodGhpcyk7dGhpcy5kLmN1cnJlbnRUaW1lKHRoaXMuY3VlLnN0YXJ0VGltZSk7dGhpcy51cGRhdGUodGhpcy5jdWUuc3RhcnRUaW1lKX07dC5nYi5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5jdWUsYz10aGlzLmQuY3VycmVudFRpbWUoKTt0aGlzLnNlbGVjdGVkKGEuc3RhcnRUaW1lPD1jJiZjPGEueWEpfTtcbnQuZy56KHQuSmEucHJvdG90eXBlLm0uY2hpbGRyZW4se3N1YnRpdGxlc0J1dHRvbjp7fSxjYXB0aW9uc0J1dHRvbjp7fSxjaGFwdGVyc0J1dHRvbjp7fX0pO1xuaWYoXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiB3aW5kb3cuSlNPTiYmXCJmdW5jdGlvblwiPT09dHlwZW9mIHdpbmRvdy5KU09OLnBhcnNlKXQuSlNPTj13aW5kb3cuSlNPTjtlbHNle3QuSlNPTj17fTt2YXIgWj0vW1xcdTAwMDBcXHUwMGFkXFx1MDYwMC1cXHUwNjA0XFx1MDcwZlxcdTE3YjRcXHUxN2I1XFx1MjAwYy1cXHUyMDBmXFx1MjAyOC1cXHUyMDJmXFx1MjA2MC1cXHUyMDZmXFx1ZmVmZlxcdWZmZjAtXFx1ZmZmZl0vZzt0LkpTT04ucGFyc2U9ZnVuY3Rpb24oYSxjKXtmdW5jdGlvbiBkKGEsZSl7dmFyIGosbixyPWFbZV07aWYociYmXCJvYmplY3RcIj09PXR5cGVvZiByKWZvcihqIGluIHIpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHIsaikmJihuPWQocixqKSxuIT09Yj9yW2pdPW46ZGVsZXRlIHJbal0pO3JldHVybiBjLmNhbGwoYSxlLHIpfXZhciBlO2E9U3RyaW5nKGEpO1oubGFzdEluZGV4PTA7Wi50ZXN0KGEpJiYoYT1hLnJlcGxhY2UoWixmdW5jdGlvbihhKXtyZXR1cm5cIlxcXFx1XCIrKFwiMDAwMFwiK1xuYS5jaGFyQ29kZUF0KDApLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTQpfSkpO2lmKC9eW1xcXSw6e31cXHNdKiQvLnRlc3QoYS5yZXBsYWNlKC9cXFxcKD86W1wiXFxcXFxcL2JmbnJ0XXx1WzAtOWEtZkEtRl17NH0pL2csXCJAXCIpLnJlcGxhY2UoL1wiW15cIlxcXFxcXG5cXHJdKlwifHRydWV8ZmFsc2V8bnVsbHwtP1xcZCsoPzpcXC5cXGQqKT8oPzpbZUVdWytcXC1dP1xcZCspPy9nLFwiXVwiKS5yZXBsYWNlKC8oPzpefDp8LCkoPzpcXHMqXFxbKSsvZyxcIlwiKSkpcmV0dXJuIGU9ZXZhbChcIihcIithK1wiKVwiKSxcImZ1bmN0aW9uXCI9PT10eXBlb2YgYz9kKHtcIlwiOmV9LFwiXCIpOmU7dGhyb3cgbmV3IFN5bnRheEVycm9yKFwiSlNPTi5wYXJzZSgpOiBpbnZhbGlkIG9yIG1hbGZvcm1lZCBKU09OIGRhdGFcIik7fX1cbnQuamM9ZnVuY3Rpb24oKXt2YXIgYSxjLGQsZTthPWRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwidmlkZW9cIik7Yz1kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImF1ZGlvXCIpO3ZhciBnPVtdO2lmKGEmJjA8YS5sZW5ndGgpe2Q9MDtmb3IoZT1hLmxlbmd0aDtkPGU7ZCsrKWcucHVzaChhW2RdKX1pZihjJiYwPGMubGVuZ3RoKXtkPTA7Zm9yKGU9Yy5sZW5ndGg7ZDxlO2QrKylnLnB1c2goY1tkXSl9aWYoZyYmMDxnLmxlbmd0aCl7ZD0wO2ZvcihlPWcubGVuZ3RoO2Q8ZTtkKyspaWYoKGM9Z1tkXSkmJmMuZ2V0QXR0cmlidXRlKWMucGxheWVyPT09YiYmKGE9Yy5nZXRBdHRyaWJ1dGUoXCJkYXRhLXNldHVwXCIpLGEhPT1rJiZ2aWRlb2pzKGMpKTtlbHNle3QudWIoKTticmVha319ZWxzZSB0LlVjfHx0LnViKCl9O3QudWI9ZnVuY3Rpb24oKXtzZXRUaW1lb3V0KHQuamMsMSl9O1xuXCJjb21wbGV0ZVwiPT09ZG9jdW1lbnQucmVhZHlTdGF0ZT90LlVjPWY6dC5SKHdpbmRvdyxcImxvYWRcIixmdW5jdGlvbigpe3QuVWM9Zn0pO3QudWIoKTt0LllkPWZ1bmN0aW9uKGEsYyl7dC5QbGF5ZXIucHJvdG90eXBlW2FdPWN9O3ZhciBwYT10aGlzO2Z1bmN0aW9uICQoYSxjKXt2YXIgZD1hLnNwbGl0KFwiLlwiKSxlPXBhOyEoZFswXWluIGUpJiZlLmV4ZWNTY3JpcHQmJmUuZXhlY1NjcmlwdChcInZhciBcIitkWzBdKTtmb3IodmFyIGc7ZC5sZW5ndGgmJihnPWQuc2hpZnQoKSk7KSFkLmxlbmd0aCYmYyE9PWI/ZVtnXT1jOmU9ZVtnXT9lW2ddOmVbZ109e319OyQoXCJ2aWRlb2pzXCIsdCk7JChcIl9WX1wiLHQpOyQoXCJ2aWRlb2pzLm9wdGlvbnNcIix0Lm9wdGlvbnMpOyQoXCJ2aWRlb2pzLnBsYXllcnNcIix0LkNhKTskKFwidmlkZW9qcy5UT1VDSF9FTkFCTEVEXCIsdC5lYyk7JChcInZpZGVvanMuY2FjaGVcIix0LnZhKTskKFwidmlkZW9qcy5Db21wb25lbnRcIix0LmEpO3QuYS5wcm90b3R5cGUucGxheWVyPXQuYS5wcm90b3R5cGUuazt0LmEucHJvdG90eXBlLm9wdGlvbnM9dC5hLnByb3RvdHlwZS5vcHRpb25zO3QuYS5wcm90b3R5cGUuaW5pdD10LmEucHJvdG90eXBlLmk7dC5hLnByb3RvdHlwZS5kaXNwb3NlPXQuYS5wcm90b3R5cGUuZGlzcG9zZTt0LmEucHJvdG90eXBlLmNyZWF0ZUVsPXQuYS5wcm90b3R5cGUuZTt0LmEucHJvdG90eXBlLmNvbnRlbnRFbD10LmEucHJvdG90eXBlLmphO3QuYS5wcm90b3R5cGUuZWw9dC5hLnByb3RvdHlwZS53O3QuYS5wcm90b3R5cGUuYWRkQ2hpbGQ9dC5hLnByb3RvdHlwZS5WO1xudC5hLnByb3RvdHlwZS5nZXRDaGlsZD10LmEucHJvdG90eXBlLmthO3QuYS5wcm90b3R5cGUuZ2V0Q2hpbGRCeUlkPXQuYS5wcm90b3R5cGUuemQ7dC5hLnByb3RvdHlwZS5jaGlsZHJlbj10LmEucHJvdG90eXBlLmNoaWxkcmVuO3QuYS5wcm90b3R5cGUuaW5pdENoaWxkcmVuPXQuYS5wcm90b3R5cGUud2M7dC5hLnByb3RvdHlwZS5yZW1vdmVDaGlsZD10LmEucHJvdG90eXBlLnJlbW92ZUNoaWxkO3QuYS5wcm90b3R5cGUub249dC5hLnByb3RvdHlwZS5jO3QuYS5wcm90b3R5cGUub2ZmPXQuYS5wcm90b3R5cGUuajt0LmEucHJvdG90eXBlLm9uZT10LmEucHJvdG90eXBlLlI7dC5hLnByb3RvdHlwZS50cmlnZ2VyPXQuYS5wcm90b3R5cGUubDt0LmEucHJvdG90eXBlLnRyaWdnZXJSZWFkeT10LmEucHJvdG90eXBlLkdhO3QuYS5wcm90b3R5cGUuc2hvdz10LmEucHJvdG90eXBlLnNob3c7dC5hLnByb3RvdHlwZS5oaWRlPXQuYS5wcm90b3R5cGUuWTtcbnQuYS5wcm90b3R5cGUud2lkdGg9dC5hLnByb3RvdHlwZS53aWR0aDt0LmEucHJvdG90eXBlLmhlaWdodD10LmEucHJvdG90eXBlLmhlaWdodDt0LmEucHJvdG90eXBlLmRpbWVuc2lvbnM9dC5hLnByb3RvdHlwZS50ZDt0LmEucHJvdG90eXBlLnJlYWR5PXQuYS5wcm90b3R5cGUuSzt0LmEucHJvdG90eXBlLmFkZENsYXNzPXQuYS5wcm90b3R5cGUubjt0LmEucHJvdG90eXBlLnJlbW92ZUNsYXNzPXQuYS5wcm90b3R5cGUucDt0LmEucHJvdG90eXBlLmJ1aWxkQ1NTQ2xhc3M9dC5hLnByb3RvdHlwZS5UO3QuYS5wcm90b3R5cGUubG9jYWxpemU9dC5hLnByb3RvdHlwZS50O3QuUGxheWVyLnByb3RvdHlwZS5lbmRlZD10LlBsYXllci5wcm90b3R5cGUuZW5kZWQ7dC5QbGF5ZXIucHJvdG90eXBlLmVudGVyRnVsbFdpbmRvdz10LlBsYXllci5wcm90b3R5cGUucWM7dC5QbGF5ZXIucHJvdG90eXBlLmV4aXRGdWxsV2luZG93PXQuUGxheWVyLnByb3RvdHlwZS5DYjtcbnQuUGxheWVyLnByb3RvdHlwZS5wcmVsb2FkPXQuUGxheWVyLnByb3RvdHlwZS5EYTt0LlBsYXllci5wcm90b3R5cGUucmVtYWluaW5nVGltZT10LlBsYXllci5wcm90b3R5cGUucmVtYWluaW5nVGltZTt0LlBsYXllci5wcm90b3R5cGUuc3VwcG9ydHNGdWxsU2NyZWVuPXQuUGxheWVyLnByb3RvdHlwZS5FYTt0LlBsYXllci5wcm90b3R5cGUuY3VycmVudFR5cGU9dC5QbGF5ZXIucHJvdG90eXBlLnBkO3QuUGxheWVyLnByb3RvdHlwZS5yZXF1ZXN0RnVsbFNjcmVlbj10LlBsYXllci5wcm90b3R5cGUucmVxdWVzdEZ1bGxTY3JlZW47dC5QbGF5ZXIucHJvdG90eXBlLnJlcXVlc3RGdWxsc2NyZWVuPXQuUGxheWVyLnByb3RvdHlwZS5yZXF1ZXN0RnVsbHNjcmVlbjt0LlBsYXllci5wcm90b3R5cGUuY2FuY2VsRnVsbFNjcmVlbj10LlBsYXllci5wcm90b3R5cGUuY2FuY2VsRnVsbFNjcmVlbjt0LlBsYXllci5wcm90b3R5cGUuZXhpdEZ1bGxzY3JlZW49dC5QbGF5ZXIucHJvdG90eXBlLmV4aXRGdWxsc2NyZWVuO1xudC5QbGF5ZXIucHJvdG90eXBlLmlzRnVsbFNjcmVlbj10LlBsYXllci5wcm90b3R5cGUuaXNGdWxsU2NyZWVuO3QuUGxheWVyLnByb3RvdHlwZS5pc0Z1bGxzY3JlZW49dC5QbGF5ZXIucHJvdG90eXBlLmlzRnVsbHNjcmVlbjskKFwidmlkZW9qcy5NZWRpYUxvYWRlclwiLHQuZWQpOyQoXCJ2aWRlb2pzLlRleHRUcmFja0Rpc3BsYXlcIix0LmZjKTskKFwidmlkZW9qcy5Db250cm9sQmFyXCIsdC5KYSk7JChcInZpZGVvanMuQnV0dG9uXCIsdC51KTskKFwidmlkZW9qcy5QbGF5VG9nZ2xlXCIsdC5hYyk7JChcInZpZGVvanMuRnVsbHNjcmVlblRvZ2dsZVwiLHQuS2EpOyQoXCJ2aWRlb2pzLkJpZ1BsYXlCdXR0b25cIix0LmZiKTskKFwidmlkZW9qcy5Mb2FkaW5nU3Bpbm5lclwiLHQuWmIpOyQoXCJ2aWRlb2pzLkN1cnJlbnRUaW1lRGlzcGxheVwiLHQuaGIpOyQoXCJ2aWRlb2pzLkR1cmF0aW9uRGlzcGxheVwiLHQuaWIpOyQoXCJ2aWRlb2pzLlRpbWVEaXZpZGVyXCIsdC5nYyk7XG4kKFwidmlkZW9qcy5SZW1haW5pbmdUaW1lRGlzcGxheVwiLHQucGIpOyQoXCJ2aWRlb2pzLkxpdmVEaXNwbGF5XCIsdC5ZYik7JChcInZpZGVvanMuRXJyb3JEaXNwbGF5XCIsdC5qYik7JChcInZpZGVvanMuU2xpZGVyXCIsdC5TKTskKFwidmlkZW9qcy5Qcm9ncmVzc0NvbnRyb2xcIix0Lm9iKTskKFwidmlkZW9qcy5TZWVrQmFyXCIsdC5jYyk7JChcInZpZGVvanMuTG9hZFByb2dyZXNzQmFyXCIsdC5sYik7JChcInZpZGVvanMuUGxheVByb2dyZXNzQmFyXCIsdC4kYik7JChcInZpZGVvanMuU2Vla0hhbmRsZVwiLHQuTGEpOyQoXCJ2aWRlb2pzLlZvbHVtZUNvbnRyb2xcIix0LnJiKTskKFwidmlkZW9qcy5Wb2x1bWVCYXJcIix0LnFiKTskKFwidmlkZW9qcy5Wb2x1bWVMZXZlbFwiLHQuaGMpOyQoXCJ2aWRlb2pzLlZvbHVtZU1lbnVCdXR0b25cIix0LnNhKTskKFwidmlkZW9qcy5Wb2x1bWVIYW5kbGVcIix0LnNiKTskKFwidmlkZW9qcy5NdXRlVG9nZ2xlXCIsdC5pYSk7JChcInZpZGVvanMuUG9zdGVySW1hZ2VcIix0LnJhKTtcbiQoXCJ2aWRlb2pzLk1lbnVcIix0LmhhKTskKFwidmlkZW9qcy5NZW51SXRlbVwiLHQuSik7JChcInZpZGVvanMuTWVudUJ1dHRvblwiLHQuTik7JChcInZpZGVvanMuUGxheWJhY2tSYXRlTWVudUJ1dHRvblwiLHQuYmMpO3QuTi5wcm90b3R5cGUuY3JlYXRlSXRlbXM9dC5OLnByb3RvdHlwZS53YTt0LlUucHJvdG90eXBlLmNyZWF0ZUl0ZW1zPXQuVS5wcm90b3R5cGUud2E7dC5JYS5wcm90b3R5cGUuY3JlYXRlSXRlbXM9dC5JYS5wcm90b3R5cGUud2E7JChcInZpZGVvanMuU3VidGl0bGVzQnV0dG9uXCIsdC5NYSk7JChcInZpZGVvanMuQ2FwdGlvbnNCdXR0b25cIix0LkhhKTskKFwidmlkZW9qcy5DaGFwdGVyc0J1dHRvblwiLHQuSWEpOyQoXCJ2aWRlb2pzLk1lZGlhVGVjaENvbnRyb2xsZXJcIix0LnEpO3QucS5wcm90b3R5cGUuZmVhdHVyZXNWb2x1bWVDb250cm9sPXQucS5wcm90b3R5cGUudWU7dC5xLnByb3RvdHlwZS5mZWF0dXJlc0Z1bGxzY3JlZW5SZXNpemU9dC5xLnByb3RvdHlwZS5xZTtcbnQucS5wcm90b3R5cGUuZmVhdHVyZXNQbGF5YmFja1JhdGU9dC5xLnByb3RvdHlwZS5yZTt0LnEucHJvdG90eXBlLmZlYXR1cmVzUHJvZ3Jlc3NFdmVudHM9dC5xLnByb3RvdHlwZS5zZTt0LnEucHJvdG90eXBlLmZlYXR1cmVzVGltZXVwZGF0ZUV2ZW50cz10LnEucHJvdG90eXBlLnRlO3QucS5wcm90b3R5cGUuc2V0UG9zdGVyPXQucS5wcm90b3R5cGUuTGM7JChcInZpZGVvanMuSHRtbDVcIix0LmgpO3QuaC5FdmVudHM9dC5oLmtiO3QuaC5pc1N1cHBvcnRlZD10LmguaXNTdXBwb3J0ZWQ7dC5oLmNhblBsYXlTb3VyY2U9dC5oLnZiO3QuaC5wYXRjaENhblBsYXlUeXBlPXQuaC5EYzt0LmgudW5wYXRjaENhblBsYXlUeXBlPXQuaC5sZTt0LmgucHJvdG90eXBlLnNldEN1cnJlbnRUaW1lPXQuaC5wcm90b3R5cGUuUWI7dC5oLnByb3RvdHlwZS5zZXRWb2x1bWU9dC5oLnByb3RvdHlwZS5mZTt0LmgucHJvdG90eXBlLnNldE11dGVkPXQuaC5wcm90b3R5cGUuY2U7XG50LmgucHJvdG90eXBlLnNldFByZWxvYWQ9dC5oLnByb3RvdHlwZS5lZTt0LmgucHJvdG90eXBlLnNldEF1dG9wbGF5PXQuaC5wcm90b3R5cGUuJGQ7dC5oLnByb3RvdHlwZS5zZXRMb29wPXQuaC5wcm90b3R5cGUuYmU7dC5oLnByb3RvdHlwZS5lbnRlckZ1bGxTY3JlZW49dC5oLnByb3RvdHlwZS5wYzt0LmgucHJvdG90eXBlLmV4aXRGdWxsU2NyZWVuPXQuaC5wcm90b3R5cGUud2Q7dC5oLnByb3RvdHlwZS5wbGF5YmFja1JhdGU9dC5oLnByb3RvdHlwZS5wbGF5YmFja1JhdGU7dC5oLnByb3RvdHlwZS5zZXRQbGF5YmFja1JhdGU9dC5oLnByb3RvdHlwZS5kZTskKFwidmlkZW9qcy5GbGFzaFwiLHQuZik7dC5mLmlzU3VwcG9ydGVkPXQuZi5pc1N1cHBvcnRlZDt0LmYuY2FuUGxheVNvdXJjZT10LmYudmI7dC5mLm9uUmVhZHk9dC5mLm9uUmVhZHk7dC5mLmVtYmVkPXQuZi5vYzt0LmYudmVyc2lvbj10LmYudmVyc2lvbjskKFwidmlkZW9qcy5UZXh0VHJhY2tcIix0LkIpO1xudC5CLnByb3RvdHlwZS5sYWJlbD10LkIucHJvdG90eXBlLmxhYmVsO3QuQi5wcm90b3R5cGUua2luZD10LkIucHJvdG90eXBlLk07dC5CLnByb3RvdHlwZS5tb2RlPXQuQi5wcm90b3R5cGUubW9kZTt0LkIucHJvdG90eXBlLmN1ZXM9dC5CLnByb3RvdHlwZS5vZDt0LkIucHJvdG90eXBlLmFjdGl2ZUN1ZXM9dC5CLnByb3RvdHlwZS5nZDskKFwidmlkZW9qcy5DYXB0aW9uc1RyYWNrXCIsdC5XYik7JChcInZpZGVvanMuU3VidGl0bGVzVHJhY2tcIix0LmRjKTskKFwidmlkZW9qcy5DaGFwdGVyc1RyYWNrXCIsdC5YYik7JChcInZpZGVvanMuYXV0b1NldHVwXCIsdC5qYyk7JChcInZpZGVvanMucGx1Z2luXCIsdC5ZZCk7JChcInZpZGVvanMuY3JlYXRlVGltZVJhbmdlXCIsdC56Yik7JChcInZpZGVvanMudXRpbFwiLHQuZ2EpO3QuZ2EubWVyZ2VPcHRpb25zPXQuZ2EuVmE7dC5hZGRMYW5ndWFnZT10LmhkO30pKCk7XG4iLCIvKipcbiAqIEFKQVggVXBsb2FkICggaHR0cDovL3ZhbHVtcy5jb20vYWpheC11cGxvYWQvIClcbiAqIENvcHlyaWdodCAoYykgQW5kcmlzIFZhbHVtc1xuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlICggaHR0cDovL3ZhbHVtcy5jb20vbWl0LWxpY2Vuc2UvIClcbiAqIFRoYW5rcyB0byBHYXJ5IEhhcmFuLCBEYXZpZCBNYXJrLCBDb3JleSBCdXJucyBhbmQgb3RoZXJzIGZvciBjb250cmlidXRpb25zLlxuICovXG4oZnVuY3Rpb24gKCkge1xuICAgIC8qIGdsb2JhbCB3aW5kb3cgKi9cbiAgICAvKiBqc2xpbnQgYnJvd3NlcjogdHJ1ZSwgZGV2ZWw6IHRydWUsIHVuZGVmOiB0cnVlLCBub21lbjogdHJ1ZSwgYml0d2lzZTogdHJ1ZSwgcmVnZXhwOiB0cnVlLCBuZXdjYXA6IHRydWUsIGltbWVkOiB0cnVlICovXG5cbiAgICAvKipcbiAgICAgKiBXcmFwcGVyIGZvciBGaXJlQnVnJ3MgY29uc29sZS5sb2dcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsb2coKXtcbiAgICAgICAgaWYgKHR5cGVvZihjb25zb2xlKSAhPSAndW5kZWZpbmVkJyAmJiB0eXBlb2YoY29uc29sZS5sb2cpID09ICdmdW5jdGlvbicpe1xuICAgICAgICAgICAgQXJyYXkucHJvdG90eXBlLnVuc2hpZnQuY2FsbChhcmd1bWVudHMsICdbQWpheCBVcGxvYWRdJyk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyggQXJyYXkucHJvdG90eXBlLmpvaW4uY2FsbChhcmd1bWVudHMsICcgJykpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXR0YWNoZXMgZXZlbnQgdG8gYSBkb20gZWxlbWVudC5cbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsXG4gICAgICogQHBhcmFtIHR5cGUgZXZlbnQgbmFtZVxuICAgICAqIEBwYXJhbSBmbiBjYWxsYmFjayBUaGlzIHJlZmVycyB0byB0aGUgcGFzc2VkIGVsZW1lbnRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhZGRFdmVudChlbCwgdHlwZSwgZm4pe1xuICAgICAgICBpZiAoZWwuYWRkRXZlbnRMaXN0ZW5lcikge1xuICAgICAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBmbiwgZmFsc2UpO1xuICAgICAgICB9IGVsc2UgaWYgKGVsLmF0dGFjaEV2ZW50KSB7XG4gICAgICAgICAgICBlbC5hdHRhY2hFdmVudCgnb24nICsgdHlwZSwgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICBmbi5jYWxsKGVsKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdub3Qgc3VwcG9ydGVkIG9yIERPTSBub3QgbG9hZGVkJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBdHRhY2hlcyByZXNpemUgZXZlbnQgdG8gYSB3aW5kb3csIGxpbWl0aW5nXG4gICAgICogbnVtYmVyIG9mIGV2ZW50IGZpcmVkLiBGaXJlcyBvbmx5IHdoZW4gZW5jb3VudGVyZXNcbiAgICAgKiBkZWxheSBvZiAxMDAgYWZ0ZXIgc2VyaWVzIG9mIGV2ZW50cy5cbiAgICAgKlxuICAgICAqIFNvbWUgYnJvd3NlcnMgZmlyZSBldmVudCBtdWx0aXBsZSB0aW1lcyB3aGVuIHJlc2l6aW5nXG4gICAgICogaHR0cDovL3d3dy5xdWlya3Ntb2RlLm9yZy9kb20vZXZlbnRzL3Jlc2l6ZS5odG1sXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZm4gY2FsbGJhY2sgVGhpcyByZWZlcnMgdG8gdGhlIHBhc3NlZCBlbGVtZW50XG4gICAgICovXG4gICAgZnVuY3Rpb24gYWRkUmVzaXplRXZlbnQoZm4pe1xuICAgICAgICB2YXIgdGltZW91dDtcblxuICAgICAgICBhZGRFdmVudCh3aW5kb3csICdyZXNpemUnLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgaWYgKHRpbWVvdXQpe1xuICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGZuLCAxMDApO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBOZWVkcyBtb3JlIHRlc3RpbmcsIHdpbGwgYmUgcmV3cml0ZW4gZm9yIG5leHQgdmVyc2lvblxuICAgIC8vIGdldE9mZnNldCBmdW5jdGlvbiBjb3BpZWQgZnJvbSBqUXVlcnkgbGliIChodHRwOi8vanF1ZXJ5LmNvbS8pXG4gICAgaWYgKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3Qpe1xuICAgICAgICAvLyBHZXQgT2Zmc2V0IHVzaW5nIGdldEJvdW5kaW5nQ2xpZW50UmVjdFxuICAgICAgICAvLyBodHRwOi8vZWpvaG4ub3JnL2Jsb2cvZ2V0Ym91bmRpbmdjbGllbnRyZWN0LWlzLWF3ZXNvbWUvXG4gICAgICAgIHZhciBnZXRPZmZzZXQgPSBmdW5jdGlvbihlbCl7XG4gICAgICAgICAgICB2YXIgYm94ID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgICB2YXIgZG9jID0gZWwub3duZXJEb2N1bWVudDtcbiAgICAgICAgICAgIHZhciBib2R5ID0gZG9jLmJvZHk7XG4gICAgICAgICAgICB2YXIgZG9jRWxlbSA9IGRvYy5kb2N1bWVudEVsZW1lbnQ7IC8vIGZvciBpZVxuICAgICAgICAgICAgdmFyIGNsaWVudFRvcCA9IGRvY0VsZW0uY2xpZW50VG9wIHx8IGJvZHkuY2xpZW50VG9wIHx8IDA7XG4gICAgICAgICAgICB2YXIgY2xpZW50TGVmdCA9IGRvY0VsZW0uY2xpZW50TGVmdCB8fCBib2R5LmNsaWVudExlZnQgfHwgMDtcblxuICAgICAgICAgICAgLy8gSW4gSW50ZXJuZXQgRXhwbG9yZXIgNyBnZXRCb3VuZGluZ0NsaWVudFJlY3QgcHJvcGVydHkgaXMgdHJlYXRlZCBhcyBwaHlzaWNhbCxcbiAgICAgICAgICAgIC8vIHdoaWxlIG90aGVycyBhcmUgbG9naWNhbC4gTWFrZSBhbGwgbG9naWNhbCwgbGlrZSBpbiBJRTguXG4gICAgICAgICAgICB2YXIgem9vbSA9IDE7XG4gICAgICAgICAgICBpZiAoYm9keS5nZXRCb3VuZGluZ0NsaWVudFJlY3QpIHtcbiAgICAgICAgICAgICAgICB2YXIgYm91bmQgPSBib2R5LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgICAgIHpvb20gPSAoYm91bmQucmlnaHQgLSBib3VuZC5sZWZ0KSAvIGJvZHkuY2xpZW50V2lkdGg7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh6b29tID4gMSkge1xuICAgICAgICAgICAgICAgIGNsaWVudFRvcCA9IDA7XG4gICAgICAgICAgICAgICAgY2xpZW50TGVmdCA9IDA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciB0b3AgPSBib3gudG9wIC8gem9vbSArICh3aW5kb3cucGFnZVlPZmZzZXQgfHwgZG9jRWxlbSAmJiBkb2NFbGVtLnNjcm9sbFRvcCAvIHpvb20gfHwgYm9keS5zY3JvbGxUb3AgLyB6b29tKSAtIGNsaWVudFRvcCwgbGVmdCA9IGJveC5sZWZ0IC8gem9vbSArICh3aW5kb3cucGFnZVhPZmZzZXQgfHwgZG9jRWxlbSAmJiBkb2NFbGVtLnNjcm9sbExlZnQgLyB6b29tIHx8IGJvZHkuc2Nyb2xsTGVmdCAvIHpvb20pIC0gY2xpZW50TGVmdDtcblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0b3A6IHRvcCxcbiAgICAgICAgICAgICAgICBsZWZ0OiBsZWZ0XG4gICAgICAgICAgICB9O1xuICAgICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEdldCBvZmZzZXQgYWRkaW5nIGFsbCBvZmZzZXRzXG4gICAgICAgIHZhciBnZXRPZmZzZXQgPSBmdW5jdGlvbihlbCl7XG4gICAgICAgICAgICB2YXIgdG9wID0gMCwgbGVmdCA9IDA7XG4gICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgdG9wICs9IGVsLm9mZnNldFRvcCB8fCAwO1xuICAgICAgICAgICAgICAgIGxlZnQgKz0gZWwub2Zmc2V0TGVmdCB8fCAwO1xuICAgICAgICAgICAgICAgIGVsID0gZWwub2Zmc2V0UGFyZW50O1xuICAgICAgICAgICAgfSB3aGlsZSAoZWwpO1xuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGxlZnQ6IGxlZnQsXG4gICAgICAgICAgICAgICAgdG9wOiB0b3BcbiAgICAgICAgICAgIH07XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBsZWZ0LCB0b3AsIHJpZ2h0IGFuZCBib3R0b20gcHJvcGVydGllcyBkZXNjcmliaW5nIHRoZSBib3JkZXItYm94LFxuICAgICAqIGluIHBpeGVscywgd2l0aCB0aGUgdG9wLWxlZnQgcmVsYXRpdmUgdG8gdGhlIGJvZHlcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBDb250YWlucyBsZWZ0LCB0b3AsIHJpZ2h0LGJvdHRvbVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldEJveChlbCl7XG4gICAgICAgIHZhciBsZWZ0LCByaWdodCwgdG9wLCBib3R0b207XG4gICAgICAgIHZhciBvZmZzZXQgPSBnZXRPZmZzZXQoZWwpO1xuICAgICAgICBsZWZ0ID0gb2Zmc2V0LmxlZnQ7XG4gICAgICAgIHRvcCA9IG9mZnNldC50b3A7XG5cbiAgICAgICAgcmlnaHQgPSBsZWZ0ICsgZWwub2Zmc2V0V2lkdGg7XG4gICAgICAgIGJvdHRvbSA9IHRvcCArIGVsLm9mZnNldEhlaWdodDtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbGVmdDogbGVmdCxcbiAgICAgICAgICAgIHJpZ2h0OiByaWdodCxcbiAgICAgICAgICAgIHRvcDogdG9wLFxuICAgICAgICAgICAgYm90dG9tOiBib3R0b21cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBIZWxwZXIgdGhhdCB0YWtlcyBvYmplY3QgbGl0ZXJhbFxuICAgICAqIGFuZCBhZGQgYWxsIHByb3BlcnRpZXMgdG8gZWxlbWVudC5zdHlsZVxuICAgICAqIEBwYXJhbSB7RWxlbWVudH0gZWxcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc3R5bGVzXG4gICAgICovXG4gICAgZnVuY3Rpb24gYWRkU3R5bGVzKGVsLCBzdHlsZXMpe1xuICAgICAgICBmb3IgKHZhciBuYW1lIGluIHN0eWxlcykge1xuICAgICAgICAgICAgaWYgKHN0eWxlcy5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgICAgICAgICAgIGVsLnN0eWxlW25hbWVdID0gc3R5bGVzW25hbWVdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRnVuY3Rpb24gcGxhY2VzIGFuIGFic29sdXRlbHkgcG9zaXRpb25lZFxuICAgICAqIGVsZW1lbnQgb24gdG9wIG9mIHRoZSBzcGVjaWZpZWQgZWxlbWVudFxuICAgICAqIGNvcHlpbmcgcG9zaXRpb24gYW5kIGRpbWVudGlvbnMuXG4gICAgICogQHBhcmFtIHtFbGVtZW50fSBmcm9tXG4gICAgICogQHBhcmFtIHtFbGVtZW50fSB0b1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvcHlMYXlvdXQoZnJvbSwgdG8pe1xuICAgICAgICB2YXIgYm94ID0gZ2V0Qm94KGZyb20pO1xuXG4gICAgICAgIGFkZFN0eWxlcyh0bywge1xuICAgICAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICAgICAgICBsZWZ0IDogYm94LmxlZnQgKyAncHgnLFxuICAgICAgICAgICAgdG9wIDogYm94LnRvcCArICdweCcsXG4gICAgICAgICAgICB3aWR0aCA6IGZyb20ub2Zmc2V0V2lkdGggKyAncHgnLFxuICAgICAgICAgICAgaGVpZ2h0IDogZnJvbS5vZmZzZXRIZWlnaHQgKyAncHgnXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICogQ3JlYXRlcyBhbmQgcmV0dXJucyBlbGVtZW50IGZyb20gaHRtbCBjaHVua1xuICAgICogVXNlcyBpbm5lckhUTUwgdG8gY3JlYXRlIGFuIGVsZW1lbnRcbiAgICAqL1xuICAgIHZhciB0b0VsZW1lbnQgPSAoZnVuY3Rpb24oKXtcbiAgICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oaHRtbCl7XG4gICAgICAgICAgICBkaXYuaW5uZXJIVE1MID0gaHRtbDtcbiAgICAgICAgICAgIHZhciBlbCA9IGRpdi5maXJzdENoaWxkO1xuICAgICAgICAgICAgcmV0dXJuIGRpdi5yZW1vdmVDaGlsZChlbCk7XG4gICAgICAgIH07XG4gICAgfSkoKTtcblxuICAgIC8qKlxuICAgICAqIEZ1bmN0aW9uIGdlbmVyYXRlcyB1bmlxdWUgaWRcbiAgICAgKiBAcmV0dXJuIHVuaXF1ZSBpZFxuICAgICAqL1xuICAgIHZhciBnZXRVSUQgPSAoZnVuY3Rpb24oKXtcbiAgICAgICAgdmFyIGlkID0gMDtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICByZXR1cm4gJ1ZhbHVtc0FqYXhVcGxvYWQnICsgaWQrKztcbiAgICAgICAgfTtcbiAgICB9KSgpO1xuXG4gICAgLyoqXG4gICAgICogR2V0IGZpbGUgbmFtZSBmcm9tIHBhdGhcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZmlsZSBwYXRoIHRvIGZpbGVcbiAgICAgKiBAcmV0dXJuIGZpbGVuYW1lXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmlsZUZyb21QYXRoKGZpbGUpe1xuICAgICAgICByZXR1cm4gZmlsZS5yZXBsYWNlKC8uKihcXC98XFxcXCkvLCBcIlwiKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgZmlsZSBleHRlbnNpb24gbG93ZXJjYXNlXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGZpbGUgbmFtZVxuICAgICAqIEByZXR1cm4gZmlsZSBleHRlbnN0aW9uXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0RXh0KGZpbGUpe1xuICAgICAgICByZXR1cm4gKC0xICE9PSBmaWxlLmluZGV4T2YoJy4nKSkgPyBmaWxlLnJlcGxhY2UoLy4qWy5dLywgJycpIDogJyc7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGFzQ2xhc3MoZWwsIG5hbWUpe1xuICAgICAgICB2YXIgcmUgPSBuZXcgUmVnRXhwKCdcXFxcYicgKyBuYW1lICsgJ1xcXFxiJyk7XG4gICAgICAgIHJldHVybiByZS50ZXN0KGVsLmNsYXNzTmFtZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGFkZENsYXNzKGVsLCBuYW1lKXtcbiAgICAgICAgaWYgKCAhIGhhc0NsYXNzKGVsLCBuYW1lKSl7XG4gICAgICAgICAgICBlbC5jbGFzc05hbWUgKz0gJyAnICsgbmFtZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiByZW1vdmVDbGFzcyhlbCwgbmFtZSl7XG4gICAgICAgIHZhciByZSA9IG5ldyBSZWdFeHAoJ1xcXFxiJyArIG5hbWUgKyAnXFxcXGInKTtcbiAgICAgICAgZWwuY2xhc3NOYW1lID0gZWwuY2xhc3NOYW1lLnJlcGxhY2UocmUsICcnKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZW1vdmVOb2RlKGVsKXtcbiAgICAgICAgZWwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlbCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRWFzeSBzdHlsaW5nIGFuZCB1cGxvYWRpbmdcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0gYnV0dG9uIEFuIGVsZW1lbnQgeW91IHdhbnQgY29udmVydCB0b1xuICAgICAqIHVwbG9hZCBidXR0b24uIFRlc3RlZCBkaW1lbnRpb25zIHVwIHRvIDUwMHg1MDBweFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIFNlZSBkZWZhdWx0cyBiZWxvdy5cbiAgICAgKi9cbiAgICB3aW5kb3cuQWpheFVwbG9hZCA9IGZ1bmN0aW9uKGJ1dHRvbiwgb3B0aW9ucyl7XG4gICAgICAgIHRoaXMuX3NldHRpbmdzID0ge1xuICAgICAgICAgICAgLy8gTG9jYXRpb24gb2YgdGhlIHNlcnZlci1zaWRlIHVwbG9hZCBzY3JpcHRcbiAgICAgICAgICAgIGFjdGlvbjogJ3VwbG9hZC5waHAnLFxuICAgICAgICAgICAgLy8gRmlsZSB1cGxvYWQgbmFtZVxuICAgICAgICAgICAgbmFtZTogJ3VzZXJmaWxlJyxcbiAgICAgICAgICAgIC8vIEFkZGl0aW9uYWwgZGF0YSB0byBzZW5kXG4gICAgICAgICAgICBkYXRhOiB7fSxcbiAgICAgICAgICAgIC8vIFN1Ym1pdCBmaWxlIGFzIHNvb24gYXMgaXQncyBzZWxlY3RlZFxuICAgICAgICAgICAgYXV0b1N1Ym1pdDogdHJ1ZSxcbiAgICAgICAgICAgIC8vIFRoZSB0eXBlIG9mIGRhdGEgdGhhdCB5b3UncmUgZXhwZWN0aW5nIGJhY2sgZnJvbSB0aGUgc2VydmVyLlxuICAgICAgICAgICAgLy8gaHRtbCBhbmQgeG1sIGFyZSBkZXRlY3RlZCBhdXRvbWF0aWNhbGx5LlxuICAgICAgICAgICAgLy8gT25seSB1c2VmdWwgd2hlbiB5b3UgYXJlIHVzaW5nIGpzb24gZGF0YSBhcyBhIHJlc3BvbnNlLlxuICAgICAgICAgICAgLy8gU2V0IHRvIFwianNvblwiIGluIHRoYXQgY2FzZS5cbiAgICAgICAgICAgIHJlc3BvbnNlVHlwZTogZmFsc2UsXG4gICAgICAgICAgICAvLyBDbGFzcyBhcHBsaWVkIHRvIGJ1dHRvbiB3aGVuIG1vdXNlIGlzIGhvdmVyZWRcbiAgICAgICAgICAgIGhvdmVyQ2xhc3M6ICdob3ZlcicsXG4gICAgICAgICAgICAvLyBDbGFzcyBhcHBsaWVkIHRvIGJ1dHRvbiB3aGVuIGJ1dHRvbiBpcyBmb2N1c2VkXG4gICAgICAgICAgICBmb2N1c0NsYXNzOiAnZm9jdXMnLFxuICAgICAgICAgICAgLy8gQ2xhc3MgYXBwbGllZCB0byBidXR0b24gd2hlbiBBVSBpcyBkaXNhYmxlZFxuICAgICAgICAgICAgZGlzYWJsZWRDbGFzczogJ2Rpc2FibGVkJyxcbiAgICAgICAgICAgIC8vIFdoZW4gdXNlciBzZWxlY3RzIGEgZmlsZSwgdXNlZnVsIHdpdGggYXV0b1N1Ym1pdCBkaXNhYmxlZFxuICAgICAgICAgICAgLy8gWW91IGNhbiByZXR1cm4gZmFsc2UgdG8gY2FuY2VsIHVwbG9hZFxuICAgICAgICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9uKGZpbGUsIGV4dGVuc2lvbil7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gQ2FsbGJhY2sgdG8gZmlyZSBiZWZvcmUgZmlsZSBpcyB1cGxvYWRlZFxuICAgICAgICAgICAgLy8gWW91IGNhbiByZXR1cm4gZmFsc2UgdG8gY2FuY2VsIHVwbG9hZFxuICAgICAgICAgICAgb25TdWJtaXQ6IGZ1bmN0aW9uKGZpbGUsIGV4dGVuc2lvbil7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gRmlyZWQgd2hlbiBmaWxlIHVwbG9hZCBpcyBjb21wbGV0ZWRcbiAgICAgICAgICAgIC8vIFdBUk5JTkchIERPIE5PVCBVU0UgXCJGQUxTRVwiIFNUUklORyBBUyBBIFJFU1BPTlNFIVxuICAgICAgICAgICAgb25Db21wbGV0ZTogZnVuY3Rpb24oZmlsZSwgcmVzcG9uc2Upe1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIE1lcmdlIHRoZSB1c2VycyBvcHRpb25zIHdpdGggb3VyIGRlZmF1bHRzXG4gICAgICAgIGZvciAodmFyIGkgaW4gb3B0aW9ucykge1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMuaGFzT3duUHJvcGVydHkoaSkpe1xuICAgICAgICAgICAgICAgIHRoaXMuX3NldHRpbmdzW2ldID0gb3B0aW9uc1tpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGJ1dHRvbiBpc24ndCBuZWNlc3NhcnkgYSBkb20gZWxlbWVudFxuICAgICAgICBpZiAoYnV0dG9uLmpxdWVyeSl7XG4gICAgICAgICAgICAvLyBqUXVlcnkgb2JqZWN0IHdhcyBwYXNzZWRcbiAgICAgICAgICAgIGJ1dHRvbiA9IGJ1dHRvblswXTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgYnV0dG9uID09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIGlmICgvXiMuKi8udGVzdChidXR0b24pKXtcbiAgICAgICAgICAgICAgICAvLyBJZiBqUXVlcnkgdXNlciBwYXNzZXMgI2VsZW1lbnRJZCBkb24ndCBicmVhayBpdFxuICAgICAgICAgICAgICAgIGJ1dHRvbiA9IGJ1dHRvbi5zbGljZSgxKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYnV0dG9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICggISBidXR0b24gfHwgYnV0dG9uLm5vZGVUeXBlICE9PSAxKXtcbiAgICAgICAgICAgIC8vIHRocm93IG5ldyBFcnJvcihcIlBsZWFzZSBtYWtlIHN1cmUgdGhhdCB5b3UncmUgcGFzc2luZyBhIHZhbGlkIGVsZW1lbnRcIik7XG4gICAgICAgICAgICBsb2coXCJFcnJvcjogcGxlYXNlIG1ha2Ugc3VyZSB0aGF0IHlvdSdyZSBwYXNzaW5nIGEgdmFsaWQgZWxlbWVudFwiKTtcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCBidXR0b24ubm9kZU5hbWUudG9VcHBlckNhc2UoKSA9PSAnQScpe1xuICAgICAgICAgICAgLy8gZGlzYWJsZSBsaW5rXG4gICAgICAgICAgICBhZGRFdmVudChidXR0b24sICdjbGljaycsIGZ1bmN0aW9uKGUpe1xuICAgICAgICAgICAgICAgIGlmIChlICYmIGUucHJldmVudERlZmF1bHQpe1xuICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh3aW5kb3cuZXZlbnQpe1xuICAgICAgICAgICAgICAgICAgICB3aW5kb3cuZXZlbnQucmV0dXJuVmFsdWUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIERPTSBlbGVtZW50XG4gICAgICAgIHRoaXMuX2J1dHRvbiA9IGJ1dHRvbjtcbiAgICAgICAgLy8gRE9NIGVsZW1lbnRcbiAgICAgICAgdGhpcy5faW5wdXQgPSBudWxsO1xuICAgICAgICAvLyBJZiBkaXNhYmxlZCBjbGlja2luZyBvbiBidXR0b24gd29uJ3QgZG8gYW55dGhpbmdcbiAgICAgICAgdGhpcy5fZGlzYWJsZWQgPSBmYWxzZTtcblxuICAgICAgICAvLyBpZiB0aGUgYnV0dG9uIHdhcyBkaXNhYmxlZCBiZWZvcmUgcmVmcmVzaCBpZiB3aWxsIHJlbWFpblxuICAgICAgICAvLyBkaXNhYmxlZCBpbiBGaXJlRm94LCBsZXQncyBmaXggaXRcbiAgICAgICAgdGhpcy5lbmFibGUoKTtcblxuICAgICAgICB0aGlzLl9yZXJvdXRlQ2xpY2tzKCk7XG4gICAgfTtcblxuICAgIC8vIGFzc2lnbmluZyBtZXRob2RzIHRvIG91ciBjbGFzc1xuICAgIEFqYXhVcGxvYWQucHJvdG90eXBlID0ge1xuICAgICAgICBzZXREYXRhOiBmdW5jdGlvbihkYXRhKXtcbiAgICAgICAgICAgIHRoaXMuX3NldHRpbmdzLmRhdGEgPSBkYXRhO1xuICAgICAgICB9LFxuICAgICAgICBkaXNhYmxlOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgYWRkQ2xhc3ModGhpcy5fYnV0dG9uLCB0aGlzLl9zZXR0aW5ncy5kaXNhYmxlZENsYXNzKTtcbiAgICAgICAgICAgIHRoaXMuX2Rpc2FibGVkID0gdHJ1ZTtcblxuICAgICAgICAgICAgdmFyIG5vZGVOYW1lID0gdGhpcy5fYnV0dG9uLm5vZGVOYW1lLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgICAgICBpZiAobm9kZU5hbWUgPT0gJ0lOUFVUJyB8fCBub2RlTmFtZSA9PSAnQlVUVE9OJyl7XG4gICAgICAgICAgICAgICAgdGhpcy5fYnV0dG9uLnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCAnZGlzYWJsZWQnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gaGlkZSBpbnB1dFxuICAgICAgICAgICAgaWYgKHRoaXMuX2lucHV0KXtcbiAgICAgICAgICAgICAgICAvLyBXZSB1c2UgdmlzaWJpbGl0eSBpbnN0ZWFkIG9mIGRpc3BsYXkgdG8gZml4IHByb2JsZW0gd2l0aCBTYWZhcmkgNFxuICAgICAgICAgICAgICAgIC8vIFRoZSBwcm9ibGVtIGlzIHRoYXQgdGhlIHZhbHVlIG9mIGlucHV0IGRvZXNuJ3QgY2hhbmdlIGlmIGl0XG4gICAgICAgICAgICAgICAgLy8gaGFzIGRpc3BsYXkgbm9uZSB3aGVuIHVzZXIgc2VsZWN0cyBhIGZpbGVcbiAgICAgICAgICAgICAgICB0aGlzLl9pbnB1dC5wYXJlbnROb2RlLnN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW5hYmxlOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgcmVtb3ZlQ2xhc3ModGhpcy5fYnV0dG9uLCB0aGlzLl9zZXR0aW5ncy5kaXNhYmxlZENsYXNzKTtcbiAgICAgICAgICAgIHRoaXMuX2J1dHRvbi5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7XG4gICAgICAgICAgICB0aGlzLl9kaXNhYmxlZCA9IGZhbHNlO1xuXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDcmVhdGVzIGludmlzaWJsZSBmaWxlIGlucHV0XG4gICAgICAgICAqIHRoYXQgd2lsbCBob3ZlciBhYm92ZSB0aGUgYnV0dG9uXG4gICAgICAgICAqIDxkaXY+PGlucHV0IHR5cGU9J2ZpbGUnIC8+PC9kaXY+XG4gICAgICAgICAqL1xuICAgICAgICBfY3JlYXRlSW5wdXQ6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgICAgIHZhciBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICAgICAgICAgIGlucHV0LnNldEF0dHJpYnV0ZSgndHlwZScsICdmaWxlJyk7XG4gICAgICAgICAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoJ25hbWUnLCB0aGlzLl9zZXR0aW5ncy5uYW1lKTtcblxuICAgICAgICAgICAgYWRkU3R5bGVzKGlucHV0LCB7XG4gICAgICAgICAgICAgICAgJ3Bvc2l0aW9uJyA6ICdhYnNvbHV0ZScsXG4gICAgICAgICAgICAgICAgLy8gaW4gT3BlcmEgb25seSAnYnJvd3NlJyBidXR0b25cbiAgICAgICAgICAgICAgICAvLyBpcyBjbGlja2FibGUgYW5kIGl0IGlzIGxvY2F0ZWQgYXRcbiAgICAgICAgICAgICAgICAvLyB0aGUgcmlnaHQgc2lkZSBvZiB0aGUgaW5wdXRcbiAgICAgICAgICAgICAgICAncmlnaHQnIDogMCxcbiAgICAgICAgICAgICAgICAnbWFyZ2luJyA6IDAsXG4gICAgICAgICAgICAgICAgJ3BhZGRpbmcnIDogMCxcbiAgICAgICAgICAgICAgICAnZm9udFNpemUnIDogJzQ4MHB4JyxcbiAgICAgICAgICAgICAgICAvLyBpbiBGaXJlZm94IGlmIGZvbnQtZmFtaWx5IGlzIHNldCB0b1xuICAgICAgICAgICAgICAgIC8vICdpbmhlcml0JyB0aGUgaW5wdXQgZG9lc24ndCB3b3JrXG4gICAgICAgICAgICAgICAgJ2ZvbnRGYW1pbHknIDogJ3NhbnMtc2VyaWYnLFxuICAgICAgICAgICAgICAgICdjdXJzb3InIDogJ3BvaW50ZXInXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICBhZGRTdHlsZXMoZGl2LCB7XG4gICAgICAgICAgICAgICAgJ2Rpc3BsYXknIDogJ2Jsb2NrJyxcbiAgICAgICAgICAgICAgICAncG9zaXRpb24nIDogJ2Fic29sdXRlJyxcbiAgICAgICAgICAgICAgICAnb3ZlcmZsb3cnIDogJ2hpZGRlbicsXG4gICAgICAgICAgICAgICAgJ21hcmdpbicgOiAwLFxuICAgICAgICAgICAgICAgICdwYWRkaW5nJyA6IDAsXG4gICAgICAgICAgICAgICAgJ29wYWNpdHknIDogMCxcbiAgICAgICAgICAgICAgICAvLyBNYWtlIHN1cmUgYnJvd3NlIGJ1dHRvbiBpcyBpbiB0aGUgcmlnaHQgc2lkZVxuICAgICAgICAgICAgICAgIC8vIGluIEludGVybmV0IEV4cGxvcmVyXG4gICAgICAgICAgICAgICAgJ2RpcmVjdGlvbicgOiAnbHRyJyxcbiAgICAgICAgICAgICAgICAvL01heCB6SW5kZXggc3VwcG9ydGVkIGJ5IE9wZXJhIDkuMC05LjJcbiAgICAgICAgICAgICAgICAnekluZGV4JzogMjE0NzQ4MzU4M1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIHh4eCAtIE1PVkVEIEZST00gRU5EIE9GIFRISVMgRlVOQ1RJT05cbiAgICAgICAgICAgIC8vIEJpbmRpbmcgZXZlbnRzIHRvIHRoZSBpbnB1dCBiZWZvcmUgaXQncyBpbnNlcnRlZCBzb21ld2hlcmUgY2F1c2VzIHByb2JsZW1zIGluIElFLlxuICAgICAgICAgICAgZGl2LmFwcGVuZENoaWxkKGlucHV0KTtcblxuICAgICAgICAgICAgLy8gTWFrZSBzdXJlIHRoYXQgZWxlbWVudCBvcGFjaXR5IGV4aXN0cy5cbiAgICAgICAgICAgIC8vIE90aGVyd2lzZSB1c2UgSUUgZmlsdGVyXG4gICAgICAgICAgICBpZiAoIGRpdi5zdHlsZS5vcGFjaXR5ICE9PSBcIjBcIikge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YoZGl2LmZpbHRlcnMpID09ICd1bmRlZmluZWQnKXtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdPcGFjaXR5IG5vdCBzdXBwb3J0ZWQgYnkgdGhlIGJyb3dzZXInKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZGl2LnN0eWxlLmZpbHRlciA9IFwiYWxwaGEob3BhY2l0eT0wKVwiO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBhZGRFdmVudChpbnB1dCwgJ2NoYW5nZScsIGZ1bmN0aW9uKCl7XG5cbiAgICAgICAgICAgICAgICBpZiAoICEgaW5wdXQgfHwgaW5wdXQudmFsdWUgPT09ICcnKXtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIEdldCBmaWxlbmFtZSBmcm9tIGlucHV0LCByZXF1aXJlZFxuICAgICAgICAgICAgICAgIC8vIGFzIHNvbWUgYnJvd3NlcnMgaGF2ZSBwYXRoIGluc3RlYWQgb2YgaXRcbiAgICAgICAgICAgICAgICB2YXIgZmlsZSA9IGZpbGVGcm9tUGF0aChpbnB1dC52YWx1ZSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoZmFsc2UgPT09IHNlbGYuX3NldHRpbmdzLm9uQ2hhbmdlLmNhbGwoc2VsZiwgZmlsZSwgZ2V0RXh0KGZpbGUpKSl7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuX2NsZWFySW5wdXQoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIFN1Ym1pdCBmb3JtIHdoZW4gdmFsdWUgaXMgY2hhbmdlZFxuICAgICAgICAgICAgICAgIGlmIChzZWxmLl9zZXR0aW5ncy5hdXRvU3VibWl0KSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuc3VibWl0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGFkZEV2ZW50KGlucHV0LCAnbW91c2VvdmVyJywgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICBhZGRDbGFzcyhzZWxmLl9idXR0b24sIHNlbGYuX3NldHRpbmdzLmhvdmVyQ2xhc3MpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGFkZEV2ZW50KGlucHV0LCAnbW91c2VvdXQnLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIHJlbW92ZUNsYXNzKHNlbGYuX2J1dHRvbiwgc2VsZi5fc2V0dGluZ3MuaG92ZXJDbGFzcyk7XG4gICAgICAgICAgICAgICAgcmVtb3ZlQ2xhc3Moc2VsZi5fYnV0dG9uLCBzZWxmLl9zZXR0aW5ncy5mb2N1c0NsYXNzKTtcblxuICAgICAgICAgICAgICAgIC8vIFdlIHVzZSB2aXNpYmlsaXR5IGluc3RlYWQgb2YgZGlzcGxheSB0byBmaXggcHJvYmxlbSB3aXRoIFNhZmFyaSA0XG4gICAgICAgICAgICAgICAgLy8gVGhlIHByb2JsZW0gaXMgdGhhdCB0aGUgdmFsdWUgb2YgaW5wdXQgZG9lc24ndCBjaGFuZ2UgaWYgaXRcbiAgICAgICAgICAgICAgICAvLyBoYXMgZGlzcGxheSBub25lIHdoZW4gdXNlciBzZWxlY3RzIGEgZmlsZVxuICAgICAgICAgICAgICAgIC8vaW5wdXQucGFyZW50Tm9kZS5zdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbic7XG5cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBhZGRFdmVudChpbnB1dCwgJ2ZvY3VzJywgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICBhZGRDbGFzcyhzZWxmLl9idXR0b24sIHNlbGYuX3NldHRpbmdzLmZvY3VzQ2xhc3MpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGFkZEV2ZW50KGlucHV0LCAnYmx1cicsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgcmVtb3ZlQ2xhc3Moc2VsZi5fYnV0dG9uLCBzZWxmLl9zZXR0aW5ncy5mb2N1c0NsYXNzKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyB4eHggLSBNT1ZFRCBBQk9WRS5cbiAgICAgICAgICAgIC8vIGRpdi5hcHBlbmRDaGlsZChpbnB1dCk7XG5cbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZGl2KTtcblxuICAgICAgICAgICAgdGhpcy5faW5wdXQgPSBpbnB1dDtcbiAgICAgICAgfSxcbiAgICAgICAgX2NsZWFySW5wdXQgOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9pbnB1dCl7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyB0aGlzLl9pbnB1dC52YWx1ZSA9ICcnOyBEb2Vzbid0IHdvcmsgaW4gSUU2XG4gICAgICAgICAgICByZW1vdmVOb2RlKHRoaXMuX2lucHV0LnBhcmVudE5vZGUpO1xuICAgICAgICAgICAgdGhpcy5faW5wdXQgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5fY3JlYXRlSW5wdXQoKTtcblxuICAgICAgICAgICAgcmVtb3ZlQ2xhc3ModGhpcy5fYnV0dG9uLCB0aGlzLl9zZXR0aW5ncy5ob3ZlckNsYXNzKTtcbiAgICAgICAgICAgIHJlbW92ZUNsYXNzKHRoaXMuX2J1dHRvbiwgdGhpcy5fc2V0dGluZ3MuZm9jdXNDbGFzcyk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGdW5jdGlvbiBtYWtlcyBzdXJlIHRoYXQgd2hlbiB1c2VyIGNsaWNrcyB1cGxvYWQgYnV0dG9uLFxuICAgICAgICAgKiB0aGUgdGhpcy5faW5wdXQgaXMgY2xpY2tlZCBpbnN0ZWFkXG4gICAgICAgICAqL1xuICAgICAgICBfcmVyb3V0ZUNsaWNrczogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgICAgICAgLy8gSUUgd2lsbCBsYXRlciBkaXNwbGF5ICdhY2Nlc3MgZGVuaWVkJyBlcnJvclxuICAgICAgICAgICAgLy8gaWYgeW91IHVzZSB1c2luZyBzZWxmLl9pbnB1dC5jbGljaygpXG4gICAgICAgICAgICAvLyBvdGhlciBicm93c2VycyBqdXN0IGlnbm9yZSBjbGljaygpXG5cbiAgICAgICAgICAgIGFkZEV2ZW50KHNlbGYuX2J1dHRvbiwgJ21vdXNlb3ZlcicsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgaWYgKHNlbGYuX2Rpc2FibGVkKXtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICggISBzZWxmLl9pbnB1dCl7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuX2NyZWF0ZUlucHV0KCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdmFyIGRpdiA9IHNlbGYuX2lucHV0LnBhcmVudE5vZGU7XG4gICAgICAgICAgICAgICAgY29weUxheW91dChzZWxmLl9idXR0b24sIGRpdik7XG4gICAgICAgICAgICAgICAgZGl2LnN0eWxlLnZpc2liaWxpdHkgPSAndmlzaWJsZSc7XG5cbiAgICAgICAgICAgIH0pO1xuXG5cbiAgICAgICAgICAgIC8vIGNvbW1lbnRlZCBiZWNhdXNlIHdlIG5vdyBoaWRlIGlucHV0IG9uIG1vdXNlbGVhdmVcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogV2hlbiB0aGUgd2luZG93IGlzIHJlc2l6ZWQgdGhlIGVsZW1lbnRzXG4gICAgICAgICAgICAgKiBjYW4gYmUgbWlzYWxpZ25lZCBpZiBidXR0b24gcG9zaXRpb24gZGVwZW5kc1xuICAgICAgICAgICAgICogb24gd2luZG93IHNpemVcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgLy9hZGRSZXNpemVFdmVudChmdW5jdGlvbigpe1xuICAgICAgICAgICAgLy8gICAgaWYgKHNlbGYuX2lucHV0KXtcbiAgICAgICAgICAgIC8vICAgICAgICBjb3B5TGF5b3V0KHNlbGYuX2J1dHRvbiwgc2VsZi5faW5wdXQucGFyZW50Tm9kZSk7XG4gICAgICAgICAgICAvLyAgICB9XG4gICAgICAgICAgICAvL30pO1xuXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDcmVhdGVzIGlmcmFtZSB3aXRoIHVuaXF1ZSBuYW1lXG4gICAgICAgICAqIEByZXR1cm4ge0VsZW1lbnR9IGlmcmFtZVxuICAgICAgICAgKi9cbiAgICAgICAgX2NyZWF0ZUlmcmFtZTogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIC8vIFdlIGNhbid0IHVzZSBnZXRUaW1lLCBiZWNhdXNlIGl0IHNvbWV0aW1lcyByZXR1cm5cbiAgICAgICAgICAgIC8vIHNhbWUgdmFsdWUgaW4gc2FmYXJpIDooXG4gICAgICAgICAgICB2YXIgaWQgPSBnZXRVSUQoKTtcblxuICAgICAgICAgICAgLy8gV2UgY2FuJ3QgdXNlIGZvbGxvd2luZyBjb2RlIGFzIHRoZSBuYW1lIGF0dHJpYnV0ZVxuICAgICAgICAgICAgLy8gd29uJ3QgYmUgcHJvcGVybHkgcmVnaXN0ZXJlZCBpbiBJRTYsIGFuZCBuZXcgd2luZG93XG4gICAgICAgICAgICAvLyBvbiBmb3JtIHN1Ym1pdCB3aWxsIG9wZW5cbiAgICAgICAgICAgIC8vIHZhciBpZnJhbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpZnJhbWUnKTtcbiAgICAgICAgICAgIC8vIGlmcmFtZS5zZXRBdHRyaWJ1dGUoJ25hbWUnLCBpZCk7XG5cbiAgICAgICAgICAgIHZhciBpZnJhbWUgPSB0b0VsZW1lbnQoJzxpZnJhbWUgc3JjPVwiamF2YXNjcmlwdDpmYWxzZTtcIiBuYW1lPVwiJyArIGlkICsgJ1wiIC8+Jyk7XG4gICAgICAgICAgICAvLyBzcmM9XCJqYXZhc2NyaXB0OmZhbHNlOyB3YXMgYWRkZWRcbiAgICAgICAgICAgIC8vIGJlY2F1c2UgaXQgcG9zc2libHkgcmVtb3ZlcyBpZTYgcHJvbXB0XG4gICAgICAgICAgICAvLyBcIlRoaXMgcGFnZSBjb250YWlucyBib3RoIHNlY3VyZSBhbmQgbm9uc2VjdXJlIGl0ZW1zXCJcbiAgICAgICAgICAgIC8vIEFueXdheSwgaXQgZG9lc24ndCBkbyBhbnkgaGFybS5cbiAgICAgICAgICAgIGlmcmFtZS5zZXRBdHRyaWJ1dGUoJ2lkJywgaWQpO1xuXG4gICAgICAgICAgICBpZnJhbWUuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoaWZyYW1lKTtcblxuICAgICAgICAgICAgcmV0dXJuIGlmcmFtZTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENyZWF0ZXMgZm9ybSwgdGhhdCB3aWxsIGJlIHN1Ym1pdHRlZCB0byBpZnJhbWVcbiAgICAgICAgICogQHBhcmFtIHtFbGVtZW50fSBpZnJhbWUgV2hlcmUgdG8gc3VibWl0XG4gICAgICAgICAqIEByZXR1cm4ge0VsZW1lbnR9IGZvcm1cbiAgICAgICAgICovXG4gICAgICAgIF9jcmVhdGVGb3JtOiBmdW5jdGlvbihpZnJhbWUpe1xuICAgICAgICAgICAgdmFyIHNldHRpbmdzID0gdGhpcy5fc2V0dGluZ3M7XG5cbiAgICAgICAgICAgIC8vIFdlIGNhbid0IHVzZSB0aGUgZm9sbG93aW5nIGNvZGUgaW4gSUU2XG4gICAgICAgICAgICAvLyB2YXIgZm9ybSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2Zvcm0nKTtcbiAgICAgICAgICAgIC8vIGZvcm0uc2V0QXR0cmlidXRlKCdtZXRob2QnLCAncG9zdCcpO1xuICAgICAgICAgICAgLy8gZm9ybS5zZXRBdHRyaWJ1dGUoJ2VuY3R5cGUnLCAnbXVsdGlwYXJ0L2Zvcm0tZGF0YScpO1xuICAgICAgICAgICAgLy8gQmVjYXVzZSBpbiB0aGlzIGNhc2UgZmlsZSB3b24ndCBiZSBhdHRhY2hlZCB0byByZXF1ZXN0XG4gICAgICAgICAgICB2YXIgZm9ybSA9IHRvRWxlbWVudCgnPGZvcm0gbWV0aG9kPVwicG9zdFwiIGVuY3R5cGU9XCJtdWx0aXBhcnQvZm9ybS1kYXRhXCI+PC9mb3JtPicpO1xuXG4gICAgICAgICAgICBmb3JtLnNldEF0dHJpYnV0ZSgnYWN0aW9uJywgc2V0dGluZ3MuYWN0aW9uKTtcbiAgICAgICAgICAgIGZvcm0uc2V0QXR0cmlidXRlKCd0YXJnZXQnLCBpZnJhbWUubmFtZSk7XG4gICAgICAgICAgICBmb3JtLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGZvcm0pO1xuXG4gICAgICAgICAgICAvLyBDcmVhdGUgaGlkZGVuIGlucHV0IGVsZW1lbnQgZm9yIGVhY2ggZGF0YSBrZXlcbiAgICAgICAgICAgIGZvciAodmFyIHByb3AgaW4gc2V0dGluZ3MuZGF0YSkge1xuICAgICAgICAgICAgICAgIGlmIChzZXR0aW5ncy5kYXRhLmhhc093blByb3BlcnR5KHByb3ApKXtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICAgICAgICAgICAgICAgICAgICBlbC5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAnaGlkZGVuJyk7XG4gICAgICAgICAgICAgICAgICAgIGVsLnNldEF0dHJpYnV0ZSgnbmFtZScsIHByb3ApO1xuICAgICAgICAgICAgICAgICAgICBlbC5zZXRBdHRyaWJ1dGUoJ3ZhbHVlJywgc2V0dGluZ3MuZGF0YVtwcm9wXSk7XG4gICAgICAgICAgICAgICAgICAgIGZvcm0uYXBwZW5kQ2hpbGQoZWwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmb3JtO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogR2V0cyByZXNwb25zZSBmcm9tIGlmcmFtZSBhbmQgZmlyZXMgb25Db21wbGV0ZSBldmVudCB3aGVuIHJlYWR5XG4gICAgICAgICAqIEBwYXJhbSBpZnJhbWVcbiAgICAgICAgICogQHBhcmFtIGZpbGUgRmlsZW5hbWUgdG8gdXNlIGluIG9uQ29tcGxldGUgY2FsbGJhY2tcbiAgICAgICAgICovXG4gICAgICAgIF9nZXRSZXNwb25zZSA6IGZ1bmN0aW9uKGlmcmFtZSwgZmlsZSl7XG4gICAgICAgICAgICAvLyBnZXR0aW5nIHJlc3BvbnNlXG4gICAgICAgICAgICB2YXIgdG9EZWxldGVGbGFnID0gZmFsc2UsIHNlbGYgPSB0aGlzLCBzZXR0aW5ncyA9IHRoaXMuX3NldHRpbmdzO1xuXG4gICAgICAgICAgICBhZGRFdmVudChpZnJhbWUsICdsb2FkJywgZnVuY3Rpb24oKXtcblxuICAgICAgICAgICAgICAgIGlmICgvLyBGb3IgU2FmYXJpXG4gICAgICAgICAgICAgICAgICAgIGlmcmFtZS5zcmMgPT0gXCJqYXZhc2NyaXB0OiclM0NodG1sJTNFJTNDL2h0bWwlM0UnO1wiIHx8XG4gICAgICAgICAgICAgICAgICAgIC8vIEZvciBGRiwgSUVcbiAgICAgICAgICAgICAgICAgICAgaWZyYW1lLnNyYyA9PSBcImphdmFzY3JpcHQ6JzxodG1sPjwvaHRtbD4nO1wiKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZpcnN0IHRpbWUgYXJvdW5kLCBkbyBub3QgZGVsZXRlLlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2UgcmVsb2FkIHRvIGJsYW5rIHBhZ2UsIHNvIHRoYXQgcmVsb2FkaW5nIG1haW4gcGFnZVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZG9lcyBub3QgcmUtc3VibWl0IHRoZSBwb3N0LlxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodG9EZWxldGVGbGFnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRml4IGJ1c3kgc3RhdGUgaW4gRkYzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVOb2RlKGlmcmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB2YXIgZG9jID0gaWZyYW1lLmNvbnRlbnREb2N1bWVudCA/IGlmcmFtZS5jb250ZW50RG9jdW1lbnQgOiB3aW5kb3cuZnJhbWVzW2lmcmFtZS5pZF0uZG9jdW1lbnQ7XG5cbiAgICAgICAgICAgICAgICAvLyBmaXhpbmcgT3BlcmEgOS4yNiwxMC4wMFxuICAgICAgICAgICAgICAgIGlmIChkb2MucmVhZHlTdGF0ZSAmJiBkb2MucmVhZHlTdGF0ZSAhPSAnY29tcGxldGUnKSB7XG4gICAgICAgICAgICAgICAgICAgLy8gT3BlcmEgZmlyZXMgbG9hZCBldmVudCBtdWx0aXBsZSB0aW1lc1xuICAgICAgICAgICAgICAgICAgIC8vIEV2ZW4gd2hlbiB0aGUgRE9NIGlzIG5vdCByZWFkeSB5ZXRcbiAgICAgICAgICAgICAgICAgICAvLyB0aGlzIGZpeCBzaG91bGQgbm90IGFmZmVjdCBvdGhlciBicm93c2Vyc1xuICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBmaXhpbmcgT3BlcmEgOS42NFxuICAgICAgICAgICAgICAgIGlmIChkb2MuYm9keSAmJiBkb2MuYm9keS5pbm5lckhUTUwgPT0gXCJmYWxzZVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEluIE9wZXJhIDkuNjQgZXZlbnQgd2FzIGZpcmVkIHNlY29uZCB0aW1lXG4gICAgICAgICAgICAgICAgICAgIC8vIHdoZW4gYm9keS5pbm5lckhUTUwgY2hhbmdlZCBmcm9tIGZhbHNlXG4gICAgICAgICAgICAgICAgICAgIC8vIHRvIHNlcnZlciByZXNwb25zZSBhcHByb3guIGFmdGVyIDEgc2VjXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB2YXIgcmVzcG9uc2U7XG5cbiAgICAgICAgICAgICAgICBpZiAoZG9jLlhNTERvY3VtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHJlc3BvbnNlIGlzIGEgeG1sIGRvY3VtZW50IEludGVybmV0IEV4cGxvcmVyIHByb3BlcnR5XG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gZG9jLlhNTERvY3VtZW50O1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZG9jLmJvZHkpe1xuICAgICAgICAgICAgICAgICAgICAvLyByZXNwb25zZSBpcyBodG1sIGRvY3VtZW50IG9yIHBsYWluIHRleHRcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBkb2MuYm9keS5pbm5lckhUTUw7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHNldHRpbmdzLnJlc3BvbnNlVHlwZSAmJiBzZXR0aW5ncy5yZXNwb25zZVR5cGUudG9Mb3dlckNhc2UoKSA9PSAnanNvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZSBkb2N1bWVudCB3YXMgc2VudCBhcyAnYXBwbGljYXRpb24vamF2YXNjcmlwdCcgb3JcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICd0ZXh0L2phdmFzY3JpcHQnLCB0aGVuIHRoZSBicm93c2VyIHdyYXBzIHRoZSB0ZXh0IGluIGEgPHByZT5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRhZyBhbmQgcGVyZm9ybXMgaHRtbCBlbmNvZGluZyBvbiB0aGUgY29udGVudHMuICBJbiB0aGlzIGNhc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB3ZSBuZWVkIHRvIHB1bGwgdGhlIG9yaWdpbmFsIHRleHQgY29udGVudCBmcm9tIHRoZSB0ZXh0IG5vZGUnc1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbm9kZVZhbHVlIHByb3BlcnR5IHRvIHJldHJpZXZlIHRoZSB1bm1hbmdsZWQgY29udGVudC5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE5vdGUgdGhhdCBJRTYgb25seSB1bmRlcnN0YW5kcyB0ZXh0L2h0bWxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkb2MuYm9keS5maXJzdENoaWxkICYmIGRvYy5ib2R5LmZpcnN0Q2hpbGQubm9kZU5hbWUudG9VcHBlckNhc2UoKSA9PSAnUFJFJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5ub3JtYWxpemUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZSA9IGRvYy5ib2R5LmZpcnN0Q2hpbGQuZmlyc3RDaGlsZC5ub2RlVmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gZXZhbChcIihcIiArIHJlc3BvbnNlICsgXCIpXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZSA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVzcG9uc2UgaXMgYSB4bWwgZG9jdW1lbnRcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBkb2M7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgc2V0dGluZ3Mub25Db21wbGV0ZS5jYWxsKHNlbGYsIGZpbGUsIHJlc3BvbnNlKTtcblxuICAgICAgICAgICAgICAgIC8vIFJlbG9hZCBibGFuayBwYWdlLCBzbyB0aGF0IHJlbG9hZGluZyBtYWluIHBhZ2VcbiAgICAgICAgICAgICAgICAvLyBkb2VzIG5vdCByZS1zdWJtaXQgdGhlIHBvc3QuIEFsc28sIHJlbWVtYmVyIHRvXG4gICAgICAgICAgICAgICAgLy8gZGVsZXRlIHRoZSBmcmFtZVxuICAgICAgICAgICAgICAgIHRvRGVsZXRlRmxhZyA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICAvLyBGaXggSUUgbWl4ZWQgY29udGVudCBpc3N1ZVxuICAgICAgICAgICAgICAgIGlmcmFtZS5zcmMgPSBcImphdmFzY3JpcHQ6JzxodG1sPjwvaHRtbD4nO1wiO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVcGxvYWQgZmlsZSBjb250YWluZWQgaW4gdGhpcy5faW5wdXRcbiAgICAgICAgICovXG4gICAgICAgIHN1Ym1pdDogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcywgc2V0dGluZ3MgPSB0aGlzLl9zZXR0aW5ncztcblxuICAgICAgICAgICAgaWYgKCAhIHRoaXMuX2lucHV0IHx8IHRoaXMuX2lucHV0LnZhbHVlID09PSAnJyl7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgZmlsZSA9IGZpbGVGcm9tUGF0aCh0aGlzLl9pbnB1dC52YWx1ZSk7XG5cbiAgICAgICAgICAgIC8vIHVzZXIgcmV0dXJuZWQgZmFsc2UgdG8gY2FuY2VsIHVwbG9hZFxuICAgICAgICAgICAgaWYgKGZhbHNlID09PSBzZXR0aW5ncy5vblN1Ym1pdC5jYWxsKHRoaXMsIGZpbGUsIGdldEV4dChmaWxlKSkpe1xuICAgICAgICAgICAgICAgIHRoaXMuX2NsZWFySW5wdXQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHNlbmRpbmcgcmVxdWVzdFxuICAgICAgICAgICAgdmFyIGlmcmFtZSA9IHRoaXMuX2NyZWF0ZUlmcmFtZSgpO1xuICAgICAgICAgICAgdmFyIGZvcm0gPSB0aGlzLl9jcmVhdGVGb3JtKGlmcmFtZSk7XG5cbiAgICAgICAgICAgIC8vIGFzc3VtaW5nIGZvbGxvd2luZyBzdHJ1Y3R1cmVcbiAgICAgICAgICAgIC8vIGRpdiAtPiBpbnB1dCB0eXBlPSdmaWxlJ1xuICAgICAgICAgICAgcmVtb3ZlTm9kZSh0aGlzLl9pbnB1dC5wYXJlbnROb2RlKTtcbiAgICAgICAgICAgIHJlbW92ZUNsYXNzKHNlbGYuX2J1dHRvbiwgc2VsZi5fc2V0dGluZ3MuaG92ZXJDbGFzcyk7XG4gICAgICAgICAgICByZW1vdmVDbGFzcyhzZWxmLl9idXR0b24sIHNlbGYuX3NldHRpbmdzLmZvY3VzQ2xhc3MpO1xuXG4gICAgICAgICAgICBmb3JtLmFwcGVuZENoaWxkKHRoaXMuX2lucHV0KTtcblxuICAgICAgICAgICAgZm9ybS5zdWJtaXQoKTtcblxuICAgICAgICAgICAgLy8gcmVxdWVzdCBzZXQsIGNsZWFuIHVwXG4gICAgICAgICAgICByZW1vdmVOb2RlKGZvcm0pOyBmb3JtID0gbnVsbDtcbiAgICAgICAgICAgIHJlbW92ZU5vZGUodGhpcy5faW5wdXQpOyB0aGlzLl9pbnB1dCA9IG51bGw7XG5cbiAgICAgICAgICAgIC8vIEdldCByZXNwb25zZSBmcm9tIGlmcmFtZSBhbmQgZmlyZSBvbkNvbXBsZXRlIGV2ZW50IHdoZW4gcmVhZHlcbiAgICAgICAgICAgIHRoaXMuX2dldFJlc3BvbnNlKGlmcmFtZSwgZmlsZSk7XG5cbiAgICAgICAgICAgIC8vIGdldCByZWFkeSBmb3IgbmV4dCByZXF1ZXN0XG4gICAgICAgICAgICB0aGlzLl9jcmVhdGVJbnB1dCgpO1xuICAgICAgICB9XG4gICAgfTtcbn0pKCk7XG4iLCJ2YXIgbSA9IChmdW5jdGlvbiBhcHAod2luZG93LCB1bmRlZmluZWQpIHtcclxuXHR2YXIgT0JKRUNUID0gXCJbb2JqZWN0IE9iamVjdF1cIiwgQVJSQVkgPSBcIltvYmplY3QgQXJyYXldXCIsIFNUUklORyA9IFwiW29iamVjdCBTdHJpbmddXCIsIEZVTkNUSU9OID0gXCJmdW5jdGlvblwiO1xyXG5cdHZhciB0eXBlID0ge30udG9TdHJpbmc7XHJcblx0dmFyIHBhcnNlciA9IC8oPzooXnwjfFxcLikoW14jXFwuXFxbXFxdXSspKXwoXFxbLis/XFxdKS9nLCBhdHRyUGFyc2VyID0gL1xcWyguKz8pKD86PShcInwnfCkoLio/KVxcMik/XFxdLztcclxuXHR2YXIgdm9pZEVsZW1lbnRzID0gL14oQVJFQXxCQVNFfEJSfENPTHxDT01NQU5EfEVNQkVEfEhSfElNR3xJTlBVVHxLRVlHRU58TElOS3xNRVRBfFBBUkFNfFNPVVJDRXxUUkFDS3xXQlIpJC87XHJcblx0dmFyIG5vb3AgPSBmdW5jdGlvbigpIHt9XHJcblxyXG5cdC8vIGNhY2hpbmcgY29tbW9ubHkgdXNlZCB2YXJpYWJsZXNcclxuXHR2YXIgJGRvY3VtZW50LCAkbG9jYXRpb24sICRyZXF1ZXN0QW5pbWF0aW9uRnJhbWUsICRjYW5jZWxBbmltYXRpb25GcmFtZTtcclxuXHJcblx0Ly8gc2VsZiBpbnZva2luZyBmdW5jdGlvbiBuZWVkZWQgYmVjYXVzZSBvZiB0aGUgd2F5IG1vY2tzIHdvcmtcclxuXHRmdW5jdGlvbiBpbml0aWFsaXplKHdpbmRvdyl7XHJcblx0XHQkZG9jdW1lbnQgPSB3aW5kb3cuZG9jdW1lbnQ7XHJcblx0XHQkbG9jYXRpb24gPSB3aW5kb3cubG9jYXRpb247XHJcblx0XHQkY2FuY2VsQW5pbWF0aW9uRnJhbWUgPSB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUgfHwgd2luZG93LmNsZWFyVGltZW91dDtcclxuXHRcdCRyZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IHdpbmRvdy5zZXRUaW1lb3V0O1xyXG5cdH1cclxuXHJcblx0aW5pdGlhbGl6ZSh3aW5kb3cpO1xyXG5cclxuXHJcblx0LyoqXHJcblx0ICogQHR5cGVkZWYge1N0cmluZ30gVGFnXHJcblx0ICogQSBzdHJpbmcgdGhhdCBsb29rcyBsaWtlIC0+IGRpdi5jbGFzc25hbWUjaWRbcGFyYW09b25lXVtwYXJhbTI9dHdvXVxyXG5cdCAqIFdoaWNoIGRlc2NyaWJlcyBhIERPTSBub2RlXHJcblx0ICovXHJcblxyXG5cdC8qKlxyXG5cdCAqXHJcblx0ICogQHBhcmFtIHtUYWd9IFRoZSBET00gbm9kZSB0YWdcclxuXHQgKiBAcGFyYW0ge09iamVjdD1bXX0gb3B0aW9uYWwga2V5LXZhbHVlIHBhaXJzIHRvIGJlIG1hcHBlZCB0byBET00gYXR0cnNcclxuXHQgKiBAcGFyYW0gey4uLm1Ob2RlPVtdfSBaZXJvIG9yIG1vcmUgTWl0aHJpbCBjaGlsZCBub2Rlcy4gQ2FuIGJlIGFuIGFycmF5LCBvciBzcGxhdCAob3B0aW9uYWwpXHJcblx0ICpcclxuXHQgKi9cclxuXHRmdW5jdGlvbiBtKCkge1xyXG5cdFx0dmFyIGFyZ3MgPSBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7XHJcblx0XHR2YXIgaGFzQXR0cnMgPSBhcmdzWzFdICE9IG51bGwgJiYgdHlwZS5jYWxsKGFyZ3NbMV0pID09PSBPQkpFQ1QgJiYgIShcInRhZ1wiIGluIGFyZ3NbMV0gfHwgXCJ2aWV3XCIgaW4gYXJnc1sxXSkgJiYgIShcInN1YnRyZWVcIiBpbiBhcmdzWzFdKTtcclxuXHRcdHZhciBhdHRycyA9IGhhc0F0dHJzID8gYXJnc1sxXSA6IHt9O1xyXG5cdFx0dmFyIGNsYXNzQXR0ck5hbWUgPSBcImNsYXNzXCIgaW4gYXR0cnMgPyBcImNsYXNzXCIgOiBcImNsYXNzTmFtZVwiO1xyXG5cdFx0dmFyIGNlbGwgPSB7dGFnOiBcImRpdlwiLCBhdHRyczoge319O1xyXG5cdFx0dmFyIG1hdGNoLCBjbGFzc2VzID0gW107XHJcblx0XHRpZiAodHlwZS5jYWxsKGFyZ3NbMF0pICE9IFNUUklORykgdGhyb3cgbmV3IEVycm9yKFwic2VsZWN0b3IgaW4gbShzZWxlY3RvciwgYXR0cnMsIGNoaWxkcmVuKSBzaG91bGQgYmUgYSBzdHJpbmdcIilcclxuXHRcdHdoaWxlIChtYXRjaCA9IHBhcnNlci5leGVjKGFyZ3NbMF0pKSB7XHJcblx0XHRcdGlmIChtYXRjaFsxXSA9PT0gXCJcIiAmJiBtYXRjaFsyXSkgY2VsbC50YWcgPSBtYXRjaFsyXTtcclxuXHRcdFx0ZWxzZSBpZiAobWF0Y2hbMV0gPT09IFwiI1wiKSBjZWxsLmF0dHJzLmlkID0gbWF0Y2hbMl07XHJcblx0XHRcdGVsc2UgaWYgKG1hdGNoWzFdID09PSBcIi5cIikgY2xhc3Nlcy5wdXNoKG1hdGNoWzJdKTtcclxuXHRcdFx0ZWxzZSBpZiAobWF0Y2hbM11bMF0gPT09IFwiW1wiKSB7XHJcblx0XHRcdFx0dmFyIHBhaXIgPSBhdHRyUGFyc2VyLmV4ZWMobWF0Y2hbM10pO1xyXG5cdFx0XHRcdGNlbGwuYXR0cnNbcGFpclsxXV0gPSBwYWlyWzNdIHx8IChwYWlyWzJdID8gXCJcIiA6dHJ1ZSlcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdHZhciBjaGlsZHJlbiA9IGhhc0F0dHJzID8gYXJncy5zbGljZSgyKSA6IGFyZ3Muc2xpY2UoMSk7XHJcblx0XHRpZiAoY2hpbGRyZW4ubGVuZ3RoID09PSAxICYmIHR5cGUuY2FsbChjaGlsZHJlblswXSkgPT09IEFSUkFZKSB7XHJcblx0XHRcdGNlbGwuY2hpbGRyZW4gPSBjaGlsZHJlblswXVxyXG5cdFx0fVxyXG5cdFx0ZWxzZSB7XHJcblx0XHRcdGNlbGwuY2hpbGRyZW4gPSBjaGlsZHJlblxyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHRmb3IgKHZhciBhdHRyTmFtZSBpbiBhdHRycykge1xyXG5cdFx0XHRpZiAoYXR0cnMuaGFzT3duUHJvcGVydHkoYXR0ck5hbWUpKSB7XHJcblx0XHRcdFx0aWYgKGF0dHJOYW1lID09PSBjbGFzc0F0dHJOYW1lICYmIGF0dHJzW2F0dHJOYW1lXSAhPSBudWxsICYmIGF0dHJzW2F0dHJOYW1lXSAhPT0gXCJcIikge1xyXG5cdFx0XHRcdFx0Y2xhc3Nlcy5wdXNoKGF0dHJzW2F0dHJOYW1lXSlcclxuXHRcdFx0XHRcdGNlbGwuYXR0cnNbYXR0ck5hbWVdID0gXCJcIiAvL2NyZWF0ZSBrZXkgaW4gY29ycmVjdCBpdGVyYXRpb24gb3JkZXJcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZWxzZSBjZWxsLmF0dHJzW2F0dHJOYW1lXSA9IGF0dHJzW2F0dHJOYW1lXVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRpZiAoY2xhc3Nlcy5sZW5ndGggPiAwKSBjZWxsLmF0dHJzW2NsYXNzQXR0ck5hbWVdID0gY2xhc3Nlcy5qb2luKFwiIFwiKTtcclxuXHRcdFxyXG5cdFx0cmV0dXJuIGNlbGxcclxuXHR9XHJcblx0ZnVuY3Rpb24gYnVpbGQocGFyZW50RWxlbWVudCwgcGFyZW50VGFnLCBwYXJlbnRDYWNoZSwgcGFyZW50SW5kZXgsIGRhdGEsIGNhY2hlZCwgc2hvdWxkUmVhdHRhY2gsIGluZGV4LCBlZGl0YWJsZSwgbmFtZXNwYWNlLCBjb25maWdzKSB7XHJcblx0XHQvL2BidWlsZGAgaXMgYSByZWN1cnNpdmUgZnVuY3Rpb24gdGhhdCBtYW5hZ2VzIGNyZWF0aW9uL2RpZmZpbmcvcmVtb3ZhbCBvZiBET00gZWxlbWVudHMgYmFzZWQgb24gY29tcGFyaXNvbiBiZXR3ZWVuIGBkYXRhYCBhbmQgYGNhY2hlZGBcclxuXHRcdC8vdGhlIGRpZmYgYWxnb3JpdGhtIGNhbiBiZSBzdW1tYXJpemVkIGFzIHRoaXM6XHJcblx0XHQvLzEgLSBjb21wYXJlIGBkYXRhYCBhbmQgYGNhY2hlZGBcclxuXHRcdC8vMiAtIGlmIHRoZXkgYXJlIGRpZmZlcmVudCwgY29weSBgZGF0YWAgdG8gYGNhY2hlZGAgYW5kIHVwZGF0ZSB0aGUgRE9NIGJhc2VkIG9uIHdoYXQgdGhlIGRpZmZlcmVuY2UgaXNcclxuXHRcdC8vMyAtIHJlY3Vyc2l2ZWx5IGFwcGx5IHRoaXMgYWxnb3JpdGhtIGZvciBldmVyeSBhcnJheSBhbmQgZm9yIHRoZSBjaGlsZHJlbiBvZiBldmVyeSB2aXJ0dWFsIGVsZW1lbnRcclxuXHJcblx0XHQvL3RoZSBgY2FjaGVkYCBkYXRhIHN0cnVjdHVyZSBpcyBlc3NlbnRpYWxseSB0aGUgc2FtZSBhcyB0aGUgcHJldmlvdXMgcmVkcmF3J3MgYGRhdGFgIGRhdGEgc3RydWN0dXJlLCB3aXRoIGEgZmV3IGFkZGl0aW9uczpcclxuXHRcdC8vLSBgY2FjaGVkYCBhbHdheXMgaGFzIGEgcHJvcGVydHkgY2FsbGVkIGBub2Rlc2AsIHdoaWNoIGlzIGEgbGlzdCBvZiBET00gZWxlbWVudHMgdGhhdCBjb3JyZXNwb25kIHRvIHRoZSBkYXRhIHJlcHJlc2VudGVkIGJ5IHRoZSByZXNwZWN0aXZlIHZpcnR1YWwgZWxlbWVudFxyXG5cdFx0Ly8tIGluIG9yZGVyIHRvIHN1cHBvcnQgYXR0YWNoaW5nIGBub2Rlc2AgYXMgYSBwcm9wZXJ0eSBvZiBgY2FjaGVkYCwgYGNhY2hlZGAgaXMgKmFsd2F5cyogYSBub24tcHJpbWl0aXZlIG9iamVjdCwgaS5lLiBpZiB0aGUgZGF0YSB3YXMgYSBzdHJpbmcsIHRoZW4gY2FjaGVkIGlzIGEgU3RyaW5nIGluc3RhbmNlLiBJZiBkYXRhIHdhcyBgbnVsbGAgb3IgYHVuZGVmaW5lZGAsIGNhY2hlZCBpcyBgbmV3IFN0cmluZyhcIlwiKWBcclxuXHRcdC8vLSBgY2FjaGVkIGFsc28gaGFzIGEgYGNvbmZpZ0NvbnRleHRgIHByb3BlcnR5LCB3aGljaCBpcyB0aGUgc3RhdGUgc3RvcmFnZSBvYmplY3QgZXhwb3NlZCBieSBjb25maWcoZWxlbWVudCwgaXNJbml0aWFsaXplZCwgY29udGV4dClcclxuXHRcdC8vLSB3aGVuIGBjYWNoZWRgIGlzIGFuIE9iamVjdCwgaXQgcmVwcmVzZW50cyBhIHZpcnR1YWwgZWxlbWVudDsgd2hlbiBpdCdzIGFuIEFycmF5LCBpdCByZXByZXNlbnRzIGEgbGlzdCBvZiBlbGVtZW50czsgd2hlbiBpdCdzIGEgU3RyaW5nLCBOdW1iZXIgb3IgQm9vbGVhbiwgaXQgcmVwcmVzZW50cyBhIHRleHQgbm9kZVxyXG5cclxuXHRcdC8vYHBhcmVudEVsZW1lbnRgIGlzIGEgRE9NIGVsZW1lbnQgdXNlZCBmb3IgVzNDIERPTSBBUEkgY2FsbHNcclxuXHRcdC8vYHBhcmVudFRhZ2AgaXMgb25seSB1c2VkIGZvciBoYW5kbGluZyBhIGNvcm5lciBjYXNlIGZvciB0ZXh0YXJlYSB2YWx1ZXNcclxuXHRcdC8vYHBhcmVudENhY2hlYCBpcyB1c2VkIHRvIHJlbW92ZSBub2RlcyBpbiBzb21lIG11bHRpLW5vZGUgY2FzZXNcclxuXHRcdC8vYHBhcmVudEluZGV4YCBhbmQgYGluZGV4YCBhcmUgdXNlZCB0byBmaWd1cmUgb3V0IHRoZSBvZmZzZXQgb2Ygbm9kZXMuIFRoZXkncmUgYXJ0aWZhY3RzIGZyb20gYmVmb3JlIGFycmF5cyBzdGFydGVkIGJlaW5nIGZsYXR0ZW5lZCBhbmQgYXJlIGxpa2VseSByZWZhY3RvcmFibGVcclxuXHRcdC8vYGRhdGFgIGFuZCBgY2FjaGVkYCBhcmUsIHJlc3BlY3RpdmVseSwgdGhlIG5ldyBhbmQgb2xkIG5vZGVzIGJlaW5nIGRpZmZlZFxyXG5cdFx0Ly9gc2hvdWxkUmVhdHRhY2hgIGlzIGEgZmxhZyBpbmRpY2F0aW5nIHdoZXRoZXIgYSBwYXJlbnQgbm9kZSB3YXMgcmVjcmVhdGVkIChpZiBzbywgYW5kIGlmIHRoaXMgbm9kZSBpcyByZXVzZWQsIHRoZW4gdGhpcyBub2RlIG11c3QgcmVhdHRhY2ggaXRzZWxmIHRvIHRoZSBuZXcgcGFyZW50KVxyXG5cdFx0Ly9gZWRpdGFibGVgIGlzIGEgZmxhZyB0aGF0IGluZGljYXRlcyB3aGV0aGVyIGFuIGFuY2VzdG9yIGlzIGNvbnRlbnRlZGl0YWJsZVxyXG5cdFx0Ly9gbmFtZXNwYWNlYCBpbmRpY2F0ZXMgdGhlIGNsb3Nlc3QgSFRNTCBuYW1lc3BhY2UgYXMgaXQgY2FzY2FkZXMgZG93biBmcm9tIGFuIGFuY2VzdG9yXHJcblx0XHQvL2Bjb25maWdzYCBpcyBhIGxpc3Qgb2YgY29uZmlnIGZ1bmN0aW9ucyB0byBydW4gYWZ0ZXIgdGhlIHRvcG1vc3QgYGJ1aWxkYCBjYWxsIGZpbmlzaGVzIHJ1bm5pbmdcclxuXHJcblx0XHQvL3RoZXJlJ3MgbG9naWMgdGhhdCByZWxpZXMgb24gdGhlIGFzc3VtcHRpb24gdGhhdCBudWxsIGFuZCB1bmRlZmluZWQgZGF0YSBhcmUgZXF1aXZhbGVudCB0byBlbXB0eSBzdHJpbmdzXHJcblx0XHQvLy0gdGhpcyBwcmV2ZW50cyBsaWZlY3ljbGUgc3VycHJpc2VzIGZyb20gcHJvY2VkdXJhbCBoZWxwZXJzIHRoYXQgbWl4IGltcGxpY2l0IGFuZCBleHBsaWNpdCByZXR1cm4gc3RhdGVtZW50cyAoZS5nLiBmdW5jdGlvbiBmb28oKSB7aWYgKGNvbmQpIHJldHVybiBtKFwiZGl2XCIpfVxyXG5cdFx0Ly8tIGl0IHNpbXBsaWZpZXMgZGlmZmluZyBjb2RlXHJcblx0XHQvL2RhdGEudG9TdHJpbmcoKSBtaWdodCB0aHJvdyBvciByZXR1cm4gbnVsbCBpZiBkYXRhIGlzIHRoZSByZXR1cm4gdmFsdWUgb2YgQ29uc29sZS5sb2cgaW4gRmlyZWZveCAoYmVoYXZpb3IgZGVwZW5kcyBvbiB2ZXJzaW9uKVxyXG5cdFx0dHJ5IHtpZiAoZGF0YSA9PSBudWxsIHx8IGRhdGEudG9TdHJpbmcoKSA9PSBudWxsKSBkYXRhID0gXCJcIjt9IGNhdGNoIChlKSB7ZGF0YSA9IFwiXCJ9XHJcblx0XHRpZiAoZGF0YS5zdWJ0cmVlID09PSBcInJldGFpblwiKSByZXR1cm4gY2FjaGVkO1xyXG5cdFx0dmFyIGNhY2hlZFR5cGUgPSB0eXBlLmNhbGwoY2FjaGVkKSwgZGF0YVR5cGUgPSB0eXBlLmNhbGwoZGF0YSk7XHJcblx0XHRpZiAoY2FjaGVkID09IG51bGwgfHwgY2FjaGVkVHlwZSAhPT0gZGF0YVR5cGUpIHtcclxuXHRcdFx0aWYgKGNhY2hlZCAhPSBudWxsKSB7XHJcblx0XHRcdFx0aWYgKHBhcmVudENhY2hlICYmIHBhcmVudENhY2hlLm5vZGVzKSB7XHJcblx0XHRcdFx0XHR2YXIgb2Zmc2V0ID0gaW5kZXggLSBwYXJlbnRJbmRleDtcclxuXHRcdFx0XHRcdHZhciBlbmQgPSBvZmZzZXQgKyAoZGF0YVR5cGUgPT09IEFSUkFZID8gZGF0YSA6IGNhY2hlZC5ub2RlcykubGVuZ3RoO1xyXG5cdFx0XHRcdFx0Y2xlYXIocGFyZW50Q2FjaGUubm9kZXMuc2xpY2Uob2Zmc2V0LCBlbmQpLCBwYXJlbnRDYWNoZS5zbGljZShvZmZzZXQsIGVuZCkpXHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGVsc2UgaWYgKGNhY2hlZC5ub2RlcykgY2xlYXIoY2FjaGVkLm5vZGVzLCBjYWNoZWQpXHJcblx0XHRcdH1cclxuXHRcdFx0Y2FjaGVkID0gbmV3IGRhdGEuY29uc3RydWN0b3I7XHJcblx0XHRcdGlmIChjYWNoZWQudGFnKSBjYWNoZWQgPSB7fTsgLy9pZiBjb25zdHJ1Y3RvciBjcmVhdGVzIGEgdmlydHVhbCBkb20gZWxlbWVudCwgdXNlIGEgYmxhbmsgb2JqZWN0IGFzIHRoZSBiYXNlIGNhY2hlZCBub2RlIGluc3RlYWQgb2YgY29weWluZyB0aGUgdmlydHVhbCBlbCAoIzI3NylcclxuXHRcdFx0Y2FjaGVkLm5vZGVzID0gW11cclxuXHRcdH1cclxuXHJcblx0XHRpZiAoZGF0YVR5cGUgPT09IEFSUkFZKSB7XHJcblx0XHRcdC8vcmVjdXJzaXZlbHkgZmxhdHRlbiBhcnJheVxyXG5cdFx0XHRmb3IgKHZhciBpID0gMCwgbGVuID0gZGF0YS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG5cdFx0XHRcdGlmICh0eXBlLmNhbGwoZGF0YVtpXSkgPT09IEFSUkFZKSB7XHJcblx0XHRcdFx0XHRkYXRhID0gZGF0YS5jb25jYXQuYXBwbHkoW10sIGRhdGEpO1xyXG5cdFx0XHRcdFx0aS0tIC8vY2hlY2sgY3VycmVudCBpbmRleCBhZ2FpbiBhbmQgZmxhdHRlbiB1bnRpbCB0aGVyZSBhcmUgbm8gbW9yZSBuZXN0ZWQgYXJyYXlzIGF0IHRoYXQgaW5kZXhcclxuXHRcdFx0XHRcdGxlbiA9IGRhdGEubGVuZ3RoXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdFxyXG5cdFx0XHR2YXIgbm9kZXMgPSBbXSwgaW50YWN0ID0gY2FjaGVkLmxlbmd0aCA9PT0gZGF0YS5sZW5ndGgsIHN1YkFycmF5Q291bnQgPSAwO1xyXG5cclxuXHRcdFx0Ly9rZXlzIGFsZ29yaXRobTogc29ydCBlbGVtZW50cyB3aXRob3V0IHJlY3JlYXRpbmcgdGhlbSBpZiBrZXlzIGFyZSBwcmVzZW50XHJcblx0XHRcdC8vMSkgY3JlYXRlIGEgbWFwIG9mIGFsbCBleGlzdGluZyBrZXlzLCBhbmQgbWFyayBhbGwgZm9yIGRlbGV0aW9uXHJcblx0XHRcdC8vMikgYWRkIG5ldyBrZXlzIHRvIG1hcCBhbmQgbWFyayB0aGVtIGZvciBhZGRpdGlvblxyXG5cdFx0XHQvLzMpIGlmIGtleSBleGlzdHMgaW4gbmV3IGxpc3QsIGNoYW5nZSBhY3Rpb24gZnJvbSBkZWxldGlvbiB0byBhIG1vdmVcclxuXHRcdFx0Ly80KSBmb3IgZWFjaCBrZXksIGhhbmRsZSBpdHMgY29ycmVzcG9uZGluZyBhY3Rpb24gYXMgbWFya2VkIGluIHByZXZpb3VzIHN0ZXBzXHJcblx0XHRcdHZhciBERUxFVElPTiA9IDEsIElOU0VSVElPTiA9IDIgLCBNT1ZFID0gMztcclxuXHRcdFx0dmFyIGV4aXN0aW5nID0ge30sIHNob3VsZE1haW50YWluSWRlbnRpdGllcyA9IGZhbHNlO1xyXG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGNhY2hlZC5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdGlmIChjYWNoZWRbaV0gJiYgY2FjaGVkW2ldLmF0dHJzICYmIGNhY2hlZFtpXS5hdHRycy5rZXkgIT0gbnVsbCkge1xyXG5cdFx0XHRcdFx0c2hvdWxkTWFpbnRhaW5JZGVudGl0aWVzID0gdHJ1ZTtcclxuXHRcdFx0XHRcdGV4aXN0aW5nW2NhY2hlZFtpXS5hdHRycy5rZXldID0ge2FjdGlvbjogREVMRVRJT04sIGluZGV4OiBpfVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHRcclxuXHRcdFx0dmFyIGd1aWQgPSAwXHJcblx0XHRcdGZvciAodmFyIGkgPSAwLCBsZW4gPSBkYXRhLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcblx0XHRcdFx0aWYgKGRhdGFbaV0gJiYgZGF0YVtpXS5hdHRycyAmJiBkYXRhW2ldLmF0dHJzLmtleSAhPSBudWxsKSB7XHJcblx0XHRcdFx0XHRmb3IgKHZhciBqID0gMCwgbGVuID0gZGF0YS5sZW5ndGg7IGogPCBsZW47IGorKykge1xyXG5cdFx0XHRcdFx0XHRpZiAoZGF0YVtqXSAmJiBkYXRhW2pdLmF0dHJzICYmIGRhdGFbal0uYXR0cnMua2V5ID09IG51bGwpIGRhdGFbal0uYXR0cnMua2V5ID0gXCJfX21pdGhyaWxfX1wiICsgZ3VpZCsrXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRicmVha1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHRcclxuXHRcdFx0aWYgKHNob3VsZE1haW50YWluSWRlbnRpdGllcykge1xyXG5cdFx0XHRcdHZhciBrZXlzRGlmZmVyID0gZmFsc2VcclxuXHRcdFx0XHRpZiAoZGF0YS5sZW5ndGggIT0gY2FjaGVkLmxlbmd0aCkga2V5c0RpZmZlciA9IHRydWVcclxuXHRcdFx0XHRlbHNlIGZvciAodmFyIGkgPSAwLCBjYWNoZWRDZWxsLCBkYXRhQ2VsbDsgY2FjaGVkQ2VsbCA9IGNhY2hlZFtpXSwgZGF0YUNlbGwgPSBkYXRhW2ldOyBpKyspIHtcclxuXHRcdFx0XHRcdGlmIChjYWNoZWRDZWxsLmF0dHJzICYmIGRhdGFDZWxsLmF0dHJzICYmIGNhY2hlZENlbGwuYXR0cnMua2V5ICE9IGRhdGFDZWxsLmF0dHJzLmtleSkge1xyXG5cdFx0XHRcdFx0XHRrZXlzRGlmZmVyID0gdHJ1ZVxyXG5cdFx0XHRcdFx0XHRicmVha1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRcclxuXHRcdFx0XHRpZiAoa2V5c0RpZmZlcikge1xyXG5cdFx0XHRcdFx0Zm9yICh2YXIgaSA9IDAsIGxlbiA9IGRhdGEubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuXHRcdFx0XHRcdFx0aWYgKGRhdGFbaV0gJiYgZGF0YVtpXS5hdHRycykge1xyXG5cdFx0XHRcdFx0XHRcdGlmIChkYXRhW2ldLmF0dHJzLmtleSAhPSBudWxsKSB7XHJcblx0XHRcdFx0XHRcdFx0XHR2YXIga2V5ID0gZGF0YVtpXS5hdHRycy5rZXk7XHJcblx0XHRcdFx0XHRcdFx0XHRpZiAoIWV4aXN0aW5nW2tleV0pIGV4aXN0aW5nW2tleV0gPSB7YWN0aW9uOiBJTlNFUlRJT04sIGluZGV4OiBpfTtcclxuXHRcdFx0XHRcdFx0XHRcdGVsc2UgZXhpc3Rpbmdba2V5XSA9IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0YWN0aW9uOiBNT1ZFLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRpbmRleDogaSxcclxuXHRcdFx0XHRcdFx0XHRcdFx0ZnJvbTogZXhpc3Rpbmdba2V5XS5pbmRleCxcclxuXHRcdFx0XHRcdFx0XHRcdFx0ZWxlbWVudDogY2FjaGVkLm5vZGVzW2V4aXN0aW5nW2tleV0uaW5kZXhdIHx8ICRkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpXHJcblx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR2YXIgYWN0aW9ucyA9IFtdXHJcblx0XHRcdFx0XHRmb3IgKHZhciBwcm9wIGluIGV4aXN0aW5nKSBhY3Rpb25zLnB1c2goZXhpc3RpbmdbcHJvcF0pXHJcblx0XHRcdFx0XHR2YXIgY2hhbmdlcyA9IGFjdGlvbnMuc29ydChzb3J0Q2hhbmdlcyk7XHJcblx0XHRcdFx0XHR2YXIgbmV3Q2FjaGVkID0gbmV3IEFycmF5KGNhY2hlZC5sZW5ndGgpXHJcblx0XHRcdFx0XHRuZXdDYWNoZWQubm9kZXMgPSBjYWNoZWQubm9kZXMuc2xpY2UoKVxyXG5cclxuXHRcdFx0XHRcdGZvciAodmFyIGkgPSAwLCBjaGFuZ2U7IGNoYW5nZSA9IGNoYW5nZXNbaV07IGkrKykge1xyXG5cdFx0XHRcdFx0XHRpZiAoY2hhbmdlLmFjdGlvbiA9PT0gREVMRVRJT04pIHtcclxuXHRcdFx0XHRcdFx0XHRjbGVhcihjYWNoZWRbY2hhbmdlLmluZGV4XS5ub2RlcywgY2FjaGVkW2NoYW5nZS5pbmRleF0pO1xyXG5cdFx0XHRcdFx0XHRcdG5ld0NhY2hlZC5zcGxpY2UoY2hhbmdlLmluZGV4LCAxKVxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdGlmIChjaGFuZ2UuYWN0aW9uID09PSBJTlNFUlRJT04pIHtcclxuXHRcdFx0XHRcdFx0XHR2YXIgZHVtbXkgPSAkZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuXHRcdFx0XHRcdFx0XHRkdW1teS5rZXkgPSBkYXRhW2NoYW5nZS5pbmRleF0uYXR0cnMua2V5O1xyXG5cdFx0XHRcdFx0XHRcdHBhcmVudEVsZW1lbnQuaW5zZXJ0QmVmb3JlKGR1bW15LCBwYXJlbnRFbGVtZW50LmNoaWxkTm9kZXNbY2hhbmdlLmluZGV4XSB8fCBudWxsKTtcclxuXHRcdFx0XHRcdFx0XHRuZXdDYWNoZWQuc3BsaWNlKGNoYW5nZS5pbmRleCwgMCwge2F0dHJzOiB7a2V5OiBkYXRhW2NoYW5nZS5pbmRleF0uYXR0cnMua2V5fSwgbm9kZXM6IFtkdW1teV19KVxyXG5cdFx0XHRcdFx0XHRcdG5ld0NhY2hlZC5ub2Rlc1tjaGFuZ2UuaW5kZXhdID0gZHVtbXlcclxuXHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdFx0aWYgKGNoYW5nZS5hY3Rpb24gPT09IE1PVkUpIHtcclxuXHRcdFx0XHRcdFx0XHRpZiAocGFyZW50RWxlbWVudC5jaGlsZE5vZGVzW2NoYW5nZS5pbmRleF0gIT09IGNoYW5nZS5lbGVtZW50ICYmIGNoYW5nZS5lbGVtZW50ICE9PSBudWxsKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRwYXJlbnRFbGVtZW50Lmluc2VydEJlZm9yZShjaGFuZ2UuZWxlbWVudCwgcGFyZW50RWxlbWVudC5jaGlsZE5vZGVzW2NoYW5nZS5pbmRleF0gfHwgbnVsbClcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0bmV3Q2FjaGVkW2NoYW5nZS5pbmRleF0gPSBjYWNoZWRbY2hhbmdlLmZyb21dXHJcblx0XHRcdFx0XHRcdFx0bmV3Q2FjaGVkLm5vZGVzW2NoYW5nZS5pbmRleF0gPSBjaGFuZ2UuZWxlbWVudFxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRjYWNoZWQgPSBuZXdDYWNoZWQ7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdC8vZW5kIGtleSBhbGdvcml0aG1cclxuXHJcblx0XHRcdGZvciAodmFyIGkgPSAwLCBjYWNoZUNvdW50ID0gMCwgbGVuID0gZGF0YS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG5cdFx0XHRcdC8vZGlmZiBlYWNoIGl0ZW0gaW4gdGhlIGFycmF5XHJcblx0XHRcdFx0dmFyIGl0ZW0gPSBidWlsZChwYXJlbnRFbGVtZW50LCBwYXJlbnRUYWcsIGNhY2hlZCwgaW5kZXgsIGRhdGFbaV0sIGNhY2hlZFtjYWNoZUNvdW50XSwgc2hvdWxkUmVhdHRhY2gsIGluZGV4ICsgc3ViQXJyYXlDb3VudCB8fCBzdWJBcnJheUNvdW50LCBlZGl0YWJsZSwgbmFtZXNwYWNlLCBjb25maWdzKTtcclxuXHRcdFx0XHRpZiAoaXRlbSA9PT0gdW5kZWZpbmVkKSBjb250aW51ZTtcclxuXHRcdFx0XHRpZiAoIWl0ZW0ubm9kZXMuaW50YWN0KSBpbnRhY3QgPSBmYWxzZTtcclxuXHRcdFx0XHRpZiAoaXRlbS4kdHJ1c3RlZCkge1xyXG5cdFx0XHRcdFx0Ly9maXggb2Zmc2V0IG9mIG5leHQgZWxlbWVudCBpZiBpdGVtIHdhcyBhIHRydXN0ZWQgc3RyaW5nIHcvIG1vcmUgdGhhbiBvbmUgaHRtbCBlbGVtZW50XHJcblx0XHRcdFx0XHQvL3RoZSBmaXJzdCBjbGF1c2UgaW4gdGhlIHJlZ2V4cCBtYXRjaGVzIGVsZW1lbnRzXHJcblx0XHRcdFx0XHQvL3RoZSBzZWNvbmQgY2xhdXNlIChhZnRlciB0aGUgcGlwZSkgbWF0Y2hlcyB0ZXh0IG5vZGVzXHJcblx0XHRcdFx0XHRzdWJBcnJheUNvdW50ICs9IChpdGVtLm1hdGNoKC88W15cXC9dfFxcPlxccypbXjxdL2cpIHx8IFswXSkubGVuZ3RoXHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGVsc2Ugc3ViQXJyYXlDb3VudCArPSB0eXBlLmNhbGwoaXRlbSkgPT09IEFSUkFZID8gaXRlbS5sZW5ndGggOiAxO1xyXG5cdFx0XHRcdGNhY2hlZFtjYWNoZUNvdW50KytdID0gaXRlbVxyXG5cdFx0XHR9XHJcblx0XHRcdGlmICghaW50YWN0KSB7XHJcblx0XHRcdFx0Ly9kaWZmIHRoZSBhcnJheSBpdHNlbGZcclxuXHRcdFx0XHRcclxuXHRcdFx0XHQvL3VwZGF0ZSB0aGUgbGlzdCBvZiBET00gbm9kZXMgYnkgY29sbGVjdGluZyB0aGUgbm9kZXMgZnJvbSBlYWNoIGl0ZW1cclxuXHRcdFx0XHRmb3IgKHZhciBpID0gMCwgbGVuID0gZGF0YS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG5cdFx0XHRcdFx0aWYgKGNhY2hlZFtpXSAhPSBudWxsKSBub2Rlcy5wdXNoLmFwcGx5KG5vZGVzLCBjYWNoZWRbaV0ubm9kZXMpXHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdC8vcmVtb3ZlIGl0ZW1zIGZyb20gdGhlIGVuZCBvZiB0aGUgYXJyYXkgaWYgdGhlIG5ldyBhcnJheSBpcyBzaG9ydGVyIHRoYW4gdGhlIG9sZCBvbmVcclxuXHRcdFx0XHQvL2lmIGVycm9ycyBldmVyIGhhcHBlbiBoZXJlLCB0aGUgaXNzdWUgaXMgbW9zdCBsaWtlbHkgYSBidWcgaW4gdGhlIGNvbnN0cnVjdGlvbiBvZiB0aGUgYGNhY2hlZGAgZGF0YSBzdHJ1Y3R1cmUgc29tZXdoZXJlIGVhcmxpZXIgaW4gdGhlIHByb2dyYW1cclxuXHRcdFx0XHRmb3IgKHZhciBpID0gMCwgbm9kZTsgbm9kZSA9IGNhY2hlZC5ub2Rlc1tpXTsgaSsrKSB7XHJcblx0XHRcdFx0XHRpZiAobm9kZS5wYXJlbnROb2RlICE9IG51bGwgJiYgbm9kZXMuaW5kZXhPZihub2RlKSA8IDApIGNsZWFyKFtub2RlXSwgW2NhY2hlZFtpXV0pXHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGlmIChkYXRhLmxlbmd0aCA8IGNhY2hlZC5sZW5ndGgpIGNhY2hlZC5sZW5ndGggPSBkYXRhLmxlbmd0aDtcclxuXHRcdFx0XHRjYWNoZWQubm9kZXMgPSBub2Rlc1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRlbHNlIGlmIChkYXRhICE9IG51bGwgJiYgZGF0YVR5cGUgPT09IE9CSkVDVCkge1xyXG5cdFx0XHR2YXIgdmlld3MgPSBbXSwgY29udHJvbGxlcnMgPSBbXVxyXG5cdFx0XHR3aGlsZSAoZGF0YS52aWV3KSB7XHJcblx0XHRcdFx0dmFyIHZpZXcgPSBkYXRhLnZpZXcuJG9yaWdpbmFsIHx8IGRhdGEudmlld1xyXG5cdFx0XHRcdHZhciBjb250cm9sbGVySW5kZXggPSBtLnJlZHJhdy5zdHJhdGVneSgpID09IFwiZGlmZlwiICYmIGNhY2hlZC52aWV3cyA/IGNhY2hlZC52aWV3cy5pbmRleE9mKHZpZXcpIDogLTFcclxuXHRcdFx0XHR2YXIgY29udHJvbGxlciA9IGNvbnRyb2xsZXJJbmRleCA+IC0xID8gY2FjaGVkLmNvbnRyb2xsZXJzW2NvbnRyb2xsZXJJbmRleF0gOiBuZXcgKGRhdGEuY29udHJvbGxlciB8fCBub29wKVxyXG5cdFx0XHRcdHZhciBrZXkgPSBkYXRhICYmIGRhdGEuYXR0cnMgJiYgZGF0YS5hdHRycy5rZXlcclxuXHRcdFx0XHRkYXRhID0gcGVuZGluZ1JlcXVlc3RzID09IDAgfHwgKGNhY2hlZCAmJiBjYWNoZWQuY29udHJvbGxlcnMgJiYgY2FjaGVkLmNvbnRyb2xsZXJzLmluZGV4T2YoY29udHJvbGxlcikgPiAtMSkgPyBkYXRhLnZpZXcoY29udHJvbGxlcikgOiB7dGFnOiBcInBsYWNlaG9sZGVyXCJ9XHJcblx0XHRcdFx0aWYgKGRhdGEuc3VidHJlZSA9PT0gXCJyZXRhaW5cIikgcmV0dXJuIGNhY2hlZDtcclxuXHRcdFx0XHRpZiAoa2V5KSB7XHJcblx0XHRcdFx0XHRpZiAoIWRhdGEuYXR0cnMpIGRhdGEuYXR0cnMgPSB7fVxyXG5cdFx0XHRcdFx0ZGF0YS5hdHRycy5rZXkgPSBrZXlcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0aWYgKGNvbnRyb2xsZXIub251bmxvYWQpIHVubG9hZGVycy5wdXNoKHtjb250cm9sbGVyOiBjb250cm9sbGVyLCBoYW5kbGVyOiBjb250cm9sbGVyLm9udW5sb2FkfSlcclxuXHRcdFx0XHR2aWV3cy5wdXNoKHZpZXcpXHJcblx0XHRcdFx0Y29udHJvbGxlcnMucHVzaChjb250cm9sbGVyKVxyXG5cdFx0XHR9XHJcblx0XHRcdGlmICghZGF0YS50YWcgJiYgY29udHJvbGxlcnMubGVuZ3RoKSB0aHJvdyBuZXcgRXJyb3IoXCJDb21wb25lbnQgdGVtcGxhdGUgbXVzdCByZXR1cm4gYSB2aXJ0dWFsIGVsZW1lbnQsIG5vdCBhbiBhcnJheSwgc3RyaW5nLCBldGMuXCIpXHJcblx0XHRcdGlmICghZGF0YS5hdHRycykgZGF0YS5hdHRycyA9IHt9O1xyXG5cdFx0XHRpZiAoIWNhY2hlZC5hdHRycykgY2FjaGVkLmF0dHJzID0ge307XHJcblxyXG5cdFx0XHR2YXIgZGF0YUF0dHJLZXlzID0gT2JqZWN0LmtleXMoZGF0YS5hdHRycylcclxuXHRcdFx0dmFyIGhhc0tleXMgPSBkYXRhQXR0cktleXMubGVuZ3RoID4gKFwia2V5XCIgaW4gZGF0YS5hdHRycyA/IDEgOiAwKVxyXG5cdFx0XHQvL2lmIGFuIGVsZW1lbnQgaXMgZGlmZmVyZW50IGVub3VnaCBmcm9tIHRoZSBvbmUgaW4gY2FjaGUsIHJlY3JlYXRlIGl0XHJcblx0XHRcdGlmIChkYXRhLnRhZyAhPSBjYWNoZWQudGFnIHx8IGRhdGFBdHRyS2V5cy5zb3J0KCkuam9pbigpICE9IE9iamVjdC5rZXlzKGNhY2hlZC5hdHRycykuc29ydCgpLmpvaW4oKSB8fCBkYXRhLmF0dHJzLmlkICE9IGNhY2hlZC5hdHRycy5pZCB8fCBkYXRhLmF0dHJzLmtleSAhPSBjYWNoZWQuYXR0cnMua2V5IHx8IChtLnJlZHJhdy5zdHJhdGVneSgpID09IFwiYWxsXCIgJiYgKCFjYWNoZWQuY29uZmlnQ29udGV4dCB8fCBjYWNoZWQuY29uZmlnQ29udGV4dC5yZXRhaW4gIT09IHRydWUpKSB8fCAobS5yZWRyYXcuc3RyYXRlZ3koKSA9PSBcImRpZmZcIiAmJiBjYWNoZWQuY29uZmlnQ29udGV4dCAmJiBjYWNoZWQuY29uZmlnQ29udGV4dC5yZXRhaW4gPT09IGZhbHNlKSkge1xyXG5cdFx0XHRcdGlmIChjYWNoZWQubm9kZXMubGVuZ3RoKSBjbGVhcihjYWNoZWQubm9kZXMpO1xyXG5cdFx0XHRcdGlmIChjYWNoZWQuY29uZmlnQ29udGV4dCAmJiB0eXBlb2YgY2FjaGVkLmNvbmZpZ0NvbnRleHQub251bmxvYWQgPT09IEZVTkNUSU9OKSBjYWNoZWQuY29uZmlnQ29udGV4dC5vbnVubG9hZCgpXHJcblx0XHRcdFx0aWYgKGNhY2hlZC5jb250cm9sbGVycykge1xyXG5cdFx0XHRcdFx0Zm9yICh2YXIgaSA9IDAsIGNvbnRyb2xsZXI7IGNvbnRyb2xsZXIgPSBjYWNoZWQuY29udHJvbGxlcnNbaV07IGkrKykge1xyXG5cdFx0XHRcdFx0XHRpZiAodHlwZW9mIGNvbnRyb2xsZXIub251bmxvYWQgPT09IEZVTkNUSU9OKSBjb250cm9sbGVyLm9udW5sb2FkKHtwcmV2ZW50RGVmYXVsdDogbm9vcH0pXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdGlmICh0eXBlLmNhbGwoZGF0YS50YWcpICE9IFNUUklORykgcmV0dXJuO1xyXG5cclxuXHRcdFx0dmFyIG5vZGUsIGlzTmV3ID0gY2FjaGVkLm5vZGVzLmxlbmd0aCA9PT0gMDtcclxuXHRcdFx0aWYgKGRhdGEuYXR0cnMueG1sbnMpIG5hbWVzcGFjZSA9IGRhdGEuYXR0cnMueG1sbnM7XHJcblx0XHRcdGVsc2UgaWYgKGRhdGEudGFnID09PSBcInN2Z1wiKSBuYW1lc3BhY2UgPSBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI7XHJcblx0XHRcdGVsc2UgaWYgKGRhdGEudGFnID09PSBcIm1hdGhcIikgbmFtZXNwYWNlID0gXCJodHRwOi8vd3d3LnczLm9yZy8xOTk4L01hdGgvTWF0aE1MXCI7XHJcblx0XHRcdFxyXG5cdFx0XHRpZiAoaXNOZXcpIHtcclxuXHRcdFx0XHRpZiAoZGF0YS5hdHRycy5pcykgbm9kZSA9IG5hbWVzcGFjZSA9PT0gdW5kZWZpbmVkID8gJGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoZGF0YS50YWcsIGRhdGEuYXR0cnMuaXMpIDogJGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhuYW1lc3BhY2UsIGRhdGEudGFnLCBkYXRhLmF0dHJzLmlzKTtcclxuXHRcdFx0XHRlbHNlIG5vZGUgPSBuYW1lc3BhY2UgPT09IHVuZGVmaW5lZCA/ICRkb2N1bWVudC5jcmVhdGVFbGVtZW50KGRhdGEudGFnKSA6ICRkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMobmFtZXNwYWNlLCBkYXRhLnRhZyk7XHJcblx0XHRcdFx0Y2FjaGVkID0ge1xyXG5cdFx0XHRcdFx0dGFnOiBkYXRhLnRhZyxcclxuXHRcdFx0XHRcdC8vc2V0IGF0dHJpYnV0ZXMgZmlyc3QsIHRoZW4gY3JlYXRlIGNoaWxkcmVuXHJcblx0XHRcdFx0XHRhdHRyczogaGFzS2V5cyA/IHNldEF0dHJpYnV0ZXMobm9kZSwgZGF0YS50YWcsIGRhdGEuYXR0cnMsIHt9LCBuYW1lc3BhY2UpIDogZGF0YS5hdHRycyxcclxuXHRcdFx0XHRcdGNoaWxkcmVuOiBkYXRhLmNoaWxkcmVuICE9IG51bGwgJiYgZGF0YS5jaGlsZHJlbi5sZW5ndGggPiAwID9cclxuXHRcdFx0XHRcdFx0YnVpbGQobm9kZSwgZGF0YS50YWcsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBkYXRhLmNoaWxkcmVuLCBjYWNoZWQuY2hpbGRyZW4sIHRydWUsIDAsIGRhdGEuYXR0cnMuY29udGVudGVkaXRhYmxlID8gbm9kZSA6IGVkaXRhYmxlLCBuYW1lc3BhY2UsIGNvbmZpZ3MpIDpcclxuXHRcdFx0XHRcdFx0ZGF0YS5jaGlsZHJlbixcclxuXHRcdFx0XHRcdG5vZGVzOiBbbm9kZV1cclxuXHRcdFx0XHR9O1xyXG5cdFx0XHRcdGlmIChjb250cm9sbGVycy5sZW5ndGgpIHtcclxuXHRcdFx0XHRcdGNhY2hlZC52aWV3cyA9IHZpZXdzXHJcblx0XHRcdFx0XHRjYWNoZWQuY29udHJvbGxlcnMgPSBjb250cm9sbGVyc1xyXG5cdFx0XHRcdFx0Zm9yICh2YXIgaSA9IDAsIGNvbnRyb2xsZXI7IGNvbnRyb2xsZXIgPSBjb250cm9sbGVyc1tpXTsgaSsrKSB7XHJcblx0XHRcdFx0XHRcdGlmIChjb250cm9sbGVyLm9udW5sb2FkICYmIGNvbnRyb2xsZXIub251bmxvYWQuJG9sZCkgY29udHJvbGxlci5vbnVubG9hZCA9IGNvbnRyb2xsZXIub251bmxvYWQuJG9sZFxyXG5cdFx0XHRcdFx0XHRpZiAocGVuZGluZ1JlcXVlc3RzICYmIGNvbnRyb2xsZXIub251bmxvYWQpIHtcclxuXHRcdFx0XHRcdFx0XHR2YXIgb251bmxvYWQgPSBjb250cm9sbGVyLm9udW5sb2FkXHJcblx0XHRcdFx0XHRcdFx0Y29udHJvbGxlci5vbnVubG9hZCA9IG5vb3BcclxuXHRcdFx0XHRcdFx0XHRjb250cm9sbGVyLm9udW5sb2FkLiRvbGQgPSBvbnVubG9hZFxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdGlmIChjYWNoZWQuY2hpbGRyZW4gJiYgIWNhY2hlZC5jaGlsZHJlbi5ub2RlcykgY2FjaGVkLmNoaWxkcmVuLm5vZGVzID0gW107XHJcblx0XHRcdFx0Ly9lZGdlIGNhc2U6IHNldHRpbmcgdmFsdWUgb24gPHNlbGVjdD4gZG9lc24ndCB3b3JrIGJlZm9yZSBjaGlsZHJlbiBleGlzdCwgc28gc2V0IGl0IGFnYWluIGFmdGVyIGNoaWxkcmVuIGhhdmUgYmVlbiBjcmVhdGVkXHJcblx0XHRcdFx0aWYgKGRhdGEudGFnID09PSBcInNlbGVjdFwiICYmIFwidmFsdWVcIiBpbiBkYXRhLmF0dHJzKSBzZXRBdHRyaWJ1dGVzKG5vZGUsIGRhdGEudGFnLCB7dmFsdWU6IGRhdGEuYXR0cnMudmFsdWV9LCB7fSwgbmFtZXNwYWNlKTtcclxuXHRcdFx0XHRwYXJlbnRFbGVtZW50Lmluc2VydEJlZm9yZShub2RlLCBwYXJlbnRFbGVtZW50LmNoaWxkTm9kZXNbaW5kZXhdIHx8IG51bGwpXHJcblx0XHRcdH1cclxuXHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0bm9kZSA9IGNhY2hlZC5ub2Rlc1swXTtcclxuXHRcdFx0XHRpZiAoaGFzS2V5cykgc2V0QXR0cmlidXRlcyhub2RlLCBkYXRhLnRhZywgZGF0YS5hdHRycywgY2FjaGVkLmF0dHJzLCBuYW1lc3BhY2UpO1xyXG5cdFx0XHRcdGNhY2hlZC5jaGlsZHJlbiA9IGJ1aWxkKG5vZGUsIGRhdGEudGFnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgZGF0YS5jaGlsZHJlbiwgY2FjaGVkLmNoaWxkcmVuLCBmYWxzZSwgMCwgZGF0YS5hdHRycy5jb250ZW50ZWRpdGFibGUgPyBub2RlIDogZWRpdGFibGUsIG5hbWVzcGFjZSwgY29uZmlncyk7XHJcblx0XHRcdFx0Y2FjaGVkLm5vZGVzLmludGFjdCA9IHRydWU7XHJcblx0XHRcdFx0aWYgKGNvbnRyb2xsZXJzLmxlbmd0aCkge1xyXG5cdFx0XHRcdFx0Y2FjaGVkLnZpZXdzID0gdmlld3NcclxuXHRcdFx0XHRcdGNhY2hlZC5jb250cm9sbGVycyA9IGNvbnRyb2xsZXJzXHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGlmIChzaG91bGRSZWF0dGFjaCA9PT0gdHJ1ZSAmJiBub2RlICE9IG51bGwpIHBhcmVudEVsZW1lbnQuaW5zZXJ0QmVmb3JlKG5vZGUsIHBhcmVudEVsZW1lbnQuY2hpbGROb2Rlc1tpbmRleF0gfHwgbnVsbClcclxuXHRcdFx0fVxyXG5cdFx0XHQvL3NjaGVkdWxlIGNvbmZpZ3MgdG8gYmUgY2FsbGVkLiBUaGV5IGFyZSBjYWxsZWQgYWZ0ZXIgYGJ1aWxkYCBmaW5pc2hlcyBydW5uaW5nXHJcblx0XHRcdGlmICh0eXBlb2YgZGF0YS5hdHRyc1tcImNvbmZpZ1wiXSA9PT0gRlVOQ1RJT04pIHtcclxuXHRcdFx0XHR2YXIgY29udGV4dCA9IGNhY2hlZC5jb25maWdDb250ZXh0ID0gY2FjaGVkLmNvbmZpZ0NvbnRleHQgfHwge307XHJcblxyXG5cdFx0XHRcdC8vIGJpbmRcclxuXHRcdFx0XHR2YXIgY2FsbGJhY2sgPSBmdW5jdGlvbihkYXRhLCBhcmdzKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHRcdHJldHVybiBkYXRhLmF0dHJzW1wiY29uZmlnXCJdLmFwcGx5KGRhdGEsIGFyZ3MpXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fTtcclxuXHRcdFx0XHRjb25maWdzLnB1c2goY2FsbGJhY2soZGF0YSwgW25vZGUsICFpc05ldywgY29udGV4dCwgY2FjaGVkXSkpXHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdGVsc2UgaWYgKHR5cGVvZiBkYXRhICE9IEZVTkNUSU9OKSB7XHJcblx0XHRcdC8vaGFuZGxlIHRleHQgbm9kZXNcclxuXHRcdFx0dmFyIG5vZGVzO1xyXG5cdFx0XHRpZiAoY2FjaGVkLm5vZGVzLmxlbmd0aCA9PT0gMCkge1xyXG5cdFx0XHRcdGlmIChkYXRhLiR0cnVzdGVkKSB7XHJcblx0XHRcdFx0XHRub2RlcyA9IGluamVjdEhUTUwocGFyZW50RWxlbWVudCwgaW5kZXgsIGRhdGEpXHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdFx0bm9kZXMgPSBbJGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGRhdGEpXTtcclxuXHRcdFx0XHRcdGlmICghcGFyZW50RWxlbWVudC5ub2RlTmFtZS5tYXRjaCh2b2lkRWxlbWVudHMpKSBwYXJlbnRFbGVtZW50Lmluc2VydEJlZm9yZShub2Rlc1swXSwgcGFyZW50RWxlbWVudC5jaGlsZE5vZGVzW2luZGV4XSB8fCBudWxsKVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRjYWNoZWQgPSBcInN0cmluZyBudW1iZXIgYm9vbGVhblwiLmluZGV4T2YodHlwZW9mIGRhdGEpID4gLTEgPyBuZXcgZGF0YS5jb25zdHJ1Y3RvcihkYXRhKSA6IGRhdGE7XHJcblx0XHRcdFx0Y2FjaGVkLm5vZGVzID0gbm9kZXNcclxuXHRcdFx0fVxyXG5cdFx0XHRlbHNlIGlmIChjYWNoZWQudmFsdWVPZigpICE9PSBkYXRhLnZhbHVlT2YoKSB8fCBzaG91bGRSZWF0dGFjaCA9PT0gdHJ1ZSkge1xyXG5cdFx0XHRcdG5vZGVzID0gY2FjaGVkLm5vZGVzO1xyXG5cdFx0XHRcdGlmICghZWRpdGFibGUgfHwgZWRpdGFibGUgIT09ICRkb2N1bWVudC5hY3RpdmVFbGVtZW50KSB7XHJcblx0XHRcdFx0XHRpZiAoZGF0YS4kdHJ1c3RlZCkge1xyXG5cdFx0XHRcdFx0XHRjbGVhcihub2RlcywgY2FjaGVkKTtcclxuXHRcdFx0XHRcdFx0bm9kZXMgPSBpbmplY3RIVE1MKHBhcmVudEVsZW1lbnQsIGluZGV4LCBkYXRhKVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0XHRcdC8vY29ybmVyIGNhc2U6IHJlcGxhY2luZyB0aGUgbm9kZVZhbHVlIG9mIGEgdGV4dCBub2RlIHRoYXQgaXMgYSBjaGlsZCBvZiBhIHRleHRhcmVhL2NvbnRlbnRlZGl0YWJsZSBkb2Vzbid0IHdvcmtcclxuXHRcdFx0XHRcdFx0Ly93ZSBuZWVkIHRvIHVwZGF0ZSB0aGUgdmFsdWUgcHJvcGVydHkgb2YgdGhlIHBhcmVudCB0ZXh0YXJlYSBvciB0aGUgaW5uZXJIVE1MIG9mIHRoZSBjb250ZW50ZWRpdGFibGUgZWxlbWVudCBpbnN0ZWFkXHJcblx0XHRcdFx0XHRcdGlmIChwYXJlbnRUYWcgPT09IFwidGV4dGFyZWFcIikgcGFyZW50RWxlbWVudC52YWx1ZSA9IGRhdGE7XHJcblx0XHRcdFx0XHRcdGVsc2UgaWYgKGVkaXRhYmxlKSBlZGl0YWJsZS5pbm5lckhUTUwgPSBkYXRhO1xyXG5cdFx0XHRcdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRpZiAobm9kZXNbMF0ubm9kZVR5cGUgPT09IDEgfHwgbm9kZXMubGVuZ3RoID4gMSkgeyAvL3dhcyBhIHRydXN0ZWQgc3RyaW5nXHJcblx0XHRcdFx0XHRcdFx0XHRjbGVhcihjYWNoZWQubm9kZXMsIGNhY2hlZCk7XHJcblx0XHRcdFx0XHRcdFx0XHRub2RlcyA9IFskZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoZGF0YSldXHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdHBhcmVudEVsZW1lbnQuaW5zZXJ0QmVmb3JlKG5vZGVzWzBdLCBwYXJlbnRFbGVtZW50LmNoaWxkTm9kZXNbaW5kZXhdIHx8IG51bGwpO1xyXG5cdFx0XHRcdFx0XHRcdG5vZGVzWzBdLm5vZGVWYWx1ZSA9IGRhdGFcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRjYWNoZWQgPSBuZXcgZGF0YS5jb25zdHJ1Y3RvcihkYXRhKTtcclxuXHRcdFx0XHRjYWNoZWQubm9kZXMgPSBub2Rlc1xyXG5cdFx0XHR9XHJcblx0XHRcdGVsc2UgY2FjaGVkLm5vZGVzLmludGFjdCA9IHRydWVcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gY2FjaGVkXHJcblx0fVxyXG5cdGZ1bmN0aW9uIHNvcnRDaGFuZ2VzKGEsIGIpIHtyZXR1cm4gYS5hY3Rpb24gLSBiLmFjdGlvbiB8fCBhLmluZGV4IC0gYi5pbmRleH1cclxuXHRmdW5jdGlvbiBzZXRBdHRyaWJ1dGVzKG5vZGUsIHRhZywgZGF0YUF0dHJzLCBjYWNoZWRBdHRycywgbmFtZXNwYWNlKSB7XHJcblx0XHRmb3IgKHZhciBhdHRyTmFtZSBpbiBkYXRhQXR0cnMpIHtcclxuXHRcdFx0dmFyIGRhdGFBdHRyID0gZGF0YUF0dHJzW2F0dHJOYW1lXTtcclxuXHRcdFx0dmFyIGNhY2hlZEF0dHIgPSBjYWNoZWRBdHRyc1thdHRyTmFtZV07XHJcblx0XHRcdGlmICghKGF0dHJOYW1lIGluIGNhY2hlZEF0dHJzKSB8fCAoY2FjaGVkQXR0ciAhPT0gZGF0YUF0dHIpKSB7XHJcblx0XHRcdFx0Y2FjaGVkQXR0cnNbYXR0ck5hbWVdID0gZGF0YUF0dHI7XHJcblx0XHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRcdC8vYGNvbmZpZ2AgaXNuJ3QgYSByZWFsIGF0dHJpYnV0ZXMsIHNvIGlnbm9yZSBpdFxyXG5cdFx0XHRcdFx0aWYgKGF0dHJOYW1lID09PSBcImNvbmZpZ1wiIHx8IGF0dHJOYW1lID09IFwia2V5XCIpIGNvbnRpbnVlO1xyXG5cdFx0XHRcdFx0Ly9ob29rIGV2ZW50IGhhbmRsZXJzIHRvIHRoZSBhdXRvLXJlZHJhd2luZyBzeXN0ZW1cclxuXHRcdFx0XHRcdGVsc2UgaWYgKHR5cGVvZiBkYXRhQXR0ciA9PT0gRlVOQ1RJT04gJiYgYXR0ck5hbWUuaW5kZXhPZihcIm9uXCIpID09PSAwKSB7XHJcblx0XHRcdFx0XHRcdG5vZGVbYXR0ck5hbWVdID0gYXV0b3JlZHJhdyhkYXRhQXR0ciwgbm9kZSlcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdC8vaGFuZGxlIGBzdHlsZTogey4uLn1gXHJcblx0XHRcdFx0XHRlbHNlIGlmIChhdHRyTmFtZSA9PT0gXCJzdHlsZVwiICYmIGRhdGFBdHRyICE9IG51bGwgJiYgdHlwZS5jYWxsKGRhdGFBdHRyKSA9PT0gT0JKRUNUKSB7XHJcblx0XHRcdFx0XHRcdGZvciAodmFyIHJ1bGUgaW4gZGF0YUF0dHIpIHtcclxuXHRcdFx0XHRcdFx0XHRpZiAoY2FjaGVkQXR0ciA9PSBudWxsIHx8IGNhY2hlZEF0dHJbcnVsZV0gIT09IGRhdGFBdHRyW3J1bGVdKSBub2RlLnN0eWxlW3J1bGVdID0gZGF0YUF0dHJbcnVsZV1cclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRmb3IgKHZhciBydWxlIGluIGNhY2hlZEF0dHIpIHtcclxuXHRcdFx0XHRcdFx0XHRpZiAoIShydWxlIGluIGRhdGFBdHRyKSkgbm9kZS5zdHlsZVtydWxlXSA9IFwiXCJcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0Ly9oYW5kbGUgU1ZHXHJcblx0XHRcdFx0XHRlbHNlIGlmIChuYW1lc3BhY2UgIT0gbnVsbCkge1xyXG5cdFx0XHRcdFx0XHRpZiAoYXR0ck5hbWUgPT09IFwiaHJlZlwiKSBub2RlLnNldEF0dHJpYnV0ZU5TKFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiLCBcImhyZWZcIiwgZGF0YUF0dHIpO1xyXG5cdFx0XHRcdFx0XHRlbHNlIGlmIChhdHRyTmFtZSA9PT0gXCJjbGFzc05hbWVcIikgbm9kZS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBkYXRhQXR0cik7XHJcblx0XHRcdFx0XHRcdGVsc2Ugbm9kZS5zZXRBdHRyaWJ1dGUoYXR0ck5hbWUsIGRhdGFBdHRyKVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0Ly9oYW5kbGUgY2FzZXMgdGhhdCBhcmUgcHJvcGVydGllcyAoYnV0IGlnbm9yZSBjYXNlcyB3aGVyZSB3ZSBzaG91bGQgdXNlIHNldEF0dHJpYnV0ZSBpbnN0ZWFkKVxyXG5cdFx0XHRcdFx0Ly8tIGxpc3QgYW5kIGZvcm0gYXJlIHR5cGljYWxseSB1c2VkIGFzIHN0cmluZ3MsIGJ1dCBhcmUgRE9NIGVsZW1lbnQgcmVmZXJlbmNlcyBpbiBqc1xyXG5cdFx0XHRcdFx0Ly8tIHdoZW4gdXNpbmcgQ1NTIHNlbGVjdG9ycyAoZS5nLiBgbShcIltzdHlsZT0nJ11cIilgKSwgc3R5bGUgaXMgdXNlZCBhcyBhIHN0cmluZywgYnV0IGl0J3MgYW4gb2JqZWN0IGluIGpzXHJcblx0XHRcdFx0XHRlbHNlIGlmIChhdHRyTmFtZSBpbiBub2RlICYmICEoYXR0ck5hbWUgPT09IFwibGlzdFwiIHx8IGF0dHJOYW1lID09PSBcInN0eWxlXCIgfHwgYXR0ck5hbWUgPT09IFwiZm9ybVwiIHx8IGF0dHJOYW1lID09PSBcInR5cGVcIiB8fCBhdHRyTmFtZSA9PT0gXCJ3aWR0aFwiIHx8IGF0dHJOYW1lID09PSBcImhlaWdodFwiKSkge1xyXG5cdFx0XHRcdFx0XHQvLyMzNDggZG9uJ3Qgc2V0IHRoZSB2YWx1ZSBpZiBub3QgbmVlZGVkIG90aGVyd2lzZSBjdXJzb3IgcGxhY2VtZW50IGJyZWFrcyBpbiBDaHJvbWVcclxuXHRcdFx0XHRcdFx0aWYgKHRhZyAhPT0gXCJpbnB1dFwiIHx8IG5vZGVbYXR0ck5hbWVdICE9PSBkYXRhQXR0cikgbm9kZVthdHRyTmFtZV0gPSBkYXRhQXR0clxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0ZWxzZSBub2RlLnNldEF0dHJpYnV0ZShhdHRyTmFtZSwgZGF0YUF0dHIpXHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGNhdGNoIChlKSB7XHJcblx0XHRcdFx0XHQvL3N3YWxsb3cgSUUncyBpbnZhbGlkIGFyZ3VtZW50IGVycm9ycyB0byBtaW1pYyBIVE1MJ3MgZmFsbGJhY2stdG8tZG9pbmctbm90aGluZy1vbi1pbnZhbGlkLWF0dHJpYnV0ZXMgYmVoYXZpb3JcclxuXHRcdFx0XHRcdGlmIChlLm1lc3NhZ2UuaW5kZXhPZihcIkludmFsaWQgYXJndW1lbnRcIikgPCAwKSB0aHJvdyBlXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdC8vIzM0OCBkYXRhQXR0ciBtYXkgbm90IGJlIGEgc3RyaW5nLCBzbyB1c2UgbG9vc2UgY29tcGFyaXNvbiAoZG91YmxlIGVxdWFsKSBpbnN0ZWFkIG9mIHN0cmljdCAodHJpcGxlIGVxdWFsKVxyXG5cdFx0XHRlbHNlIGlmIChhdHRyTmFtZSA9PT0gXCJ2YWx1ZVwiICYmIHRhZyA9PT0gXCJpbnB1dFwiICYmIG5vZGUudmFsdWUgIT0gZGF0YUF0dHIpIHtcclxuXHRcdFx0XHRub2RlLnZhbHVlID0gZGF0YUF0dHJcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIGNhY2hlZEF0dHJzXHJcblx0fVxyXG5cdGZ1bmN0aW9uIGNsZWFyKG5vZGVzLCBjYWNoZWQpIHtcclxuXHRcdGZvciAodmFyIGkgPSBub2Rlcy5sZW5ndGggLSAxOyBpID4gLTE7IGktLSkge1xyXG5cdFx0XHRpZiAobm9kZXNbaV0gJiYgbm9kZXNbaV0ucGFyZW50Tm9kZSkge1xyXG5cdFx0XHRcdHRyeSB7bm9kZXNbaV0ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChub2Rlc1tpXSl9XHJcblx0XHRcdFx0Y2F0Y2ggKGUpIHt9IC8vaWdub3JlIGlmIHRoaXMgZmFpbHMgZHVlIHRvIG9yZGVyIG9mIGV2ZW50cyAoc2VlIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMjE5MjYwODMvZmFpbGVkLXRvLWV4ZWN1dGUtcmVtb3ZlY2hpbGQtb24tbm9kZSlcclxuXHRcdFx0XHRjYWNoZWQgPSBbXS5jb25jYXQoY2FjaGVkKTtcclxuXHRcdFx0XHRpZiAoY2FjaGVkW2ldKSB1bmxvYWQoY2FjaGVkW2ldKVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRpZiAobm9kZXMubGVuZ3RoICE9IDApIG5vZGVzLmxlbmd0aCA9IDBcclxuXHR9XHJcblx0ZnVuY3Rpb24gdW5sb2FkKGNhY2hlZCkge1xyXG5cdFx0aWYgKGNhY2hlZC5jb25maWdDb250ZXh0ICYmIHR5cGVvZiBjYWNoZWQuY29uZmlnQ29udGV4dC5vbnVubG9hZCA9PT0gRlVOQ1RJT04pIHtcclxuXHRcdFx0Y2FjaGVkLmNvbmZpZ0NvbnRleHQub251bmxvYWQoKTtcclxuXHRcdFx0Y2FjaGVkLmNvbmZpZ0NvbnRleHQub251bmxvYWQgPSBudWxsXHJcblx0XHR9XHJcblx0XHRpZiAoY2FjaGVkLmNvbnRyb2xsZXJzKSB7XHJcblx0XHRcdGZvciAodmFyIGkgPSAwLCBjb250cm9sbGVyOyBjb250cm9sbGVyID0gY2FjaGVkLmNvbnRyb2xsZXJzW2ldOyBpKyspIHtcclxuXHRcdFx0XHRpZiAodHlwZW9mIGNvbnRyb2xsZXIub251bmxvYWQgPT09IEZVTkNUSU9OKSBjb250cm9sbGVyLm9udW5sb2FkKHtwcmV2ZW50RGVmYXVsdDogbm9vcH0pO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRpZiAoY2FjaGVkLmNoaWxkcmVuKSB7XHJcblx0XHRcdGlmICh0eXBlLmNhbGwoY2FjaGVkLmNoaWxkcmVuKSA9PT0gQVJSQVkpIHtcclxuXHRcdFx0XHRmb3IgKHZhciBpID0gMCwgY2hpbGQ7IGNoaWxkID0gY2FjaGVkLmNoaWxkcmVuW2ldOyBpKyspIHVubG9hZChjaGlsZClcclxuXHRcdFx0fVxyXG5cdFx0XHRlbHNlIGlmIChjYWNoZWQuY2hpbGRyZW4udGFnKSB1bmxvYWQoY2FjaGVkLmNoaWxkcmVuKVxyXG5cdFx0fVxyXG5cdH1cclxuXHRmdW5jdGlvbiBpbmplY3RIVE1MKHBhcmVudEVsZW1lbnQsIGluZGV4LCBkYXRhKSB7XHJcblx0XHR2YXIgbmV4dFNpYmxpbmcgPSBwYXJlbnRFbGVtZW50LmNoaWxkTm9kZXNbaW5kZXhdO1xyXG5cdFx0aWYgKG5leHRTaWJsaW5nKSB7XHJcblx0XHRcdHZhciBpc0VsZW1lbnQgPSBuZXh0U2libGluZy5ub2RlVHlwZSAhPSAxO1xyXG5cdFx0XHR2YXIgcGxhY2Vob2xkZXIgPSAkZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XHJcblx0XHRcdGlmIChpc0VsZW1lbnQpIHtcclxuXHRcdFx0XHRwYXJlbnRFbGVtZW50Lmluc2VydEJlZm9yZShwbGFjZWhvbGRlciwgbmV4dFNpYmxpbmcgfHwgbnVsbCk7XHJcblx0XHRcdFx0cGxhY2Vob2xkZXIuaW5zZXJ0QWRqYWNlbnRIVE1MKFwiYmVmb3JlYmVnaW5cIiwgZGF0YSk7XHJcblx0XHRcdFx0cGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZChwbGFjZWhvbGRlcilcclxuXHRcdFx0fVxyXG5cdFx0XHRlbHNlIG5leHRTaWJsaW5nLmluc2VydEFkamFjZW50SFRNTChcImJlZm9yZWJlZ2luXCIsIGRhdGEpXHJcblx0XHR9XHJcblx0XHRlbHNlIHBhcmVudEVsZW1lbnQuaW5zZXJ0QWRqYWNlbnRIVE1MKFwiYmVmb3JlZW5kXCIsIGRhdGEpO1xyXG5cdFx0dmFyIG5vZGVzID0gW107XHJcblx0XHR3aGlsZSAocGFyZW50RWxlbWVudC5jaGlsZE5vZGVzW2luZGV4XSAhPT0gbmV4dFNpYmxpbmcpIHtcclxuXHRcdFx0bm9kZXMucHVzaChwYXJlbnRFbGVtZW50LmNoaWxkTm9kZXNbaW5kZXhdKTtcclxuXHRcdFx0aW5kZXgrK1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIG5vZGVzXHJcblx0fVxyXG5cdGZ1bmN0aW9uIGF1dG9yZWRyYXcoY2FsbGJhY2ssIG9iamVjdCkge1xyXG5cdFx0cmV0dXJuIGZ1bmN0aW9uKGUpIHtcclxuXHRcdFx0ZSA9IGUgfHwgZXZlbnQ7XHJcblx0XHRcdG0ucmVkcmF3LnN0cmF0ZWd5KFwiZGlmZlwiKTtcclxuXHRcdFx0bS5zdGFydENvbXB1dGF0aW9uKCk7XHJcblx0XHRcdHRyeSB7cmV0dXJuIGNhbGxiYWNrLmNhbGwob2JqZWN0LCBlKX1cclxuXHRcdFx0ZmluYWxseSB7XHJcblx0XHRcdFx0ZW5kRmlyc3RDb21wdXRhdGlvbigpXHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHZhciBodG1sO1xyXG5cdHZhciBkb2N1bWVudE5vZGUgPSB7XHJcblx0XHRhcHBlbmRDaGlsZDogZnVuY3Rpb24obm9kZSkge1xyXG5cdFx0XHRpZiAoaHRtbCA9PT0gdW5kZWZpbmVkKSBodG1sID0gJGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJodG1sXCIpO1xyXG5cdFx0XHRpZiAoJGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCAmJiAkZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50ICE9PSBub2RlKSB7XHJcblx0XHRcdFx0JGRvY3VtZW50LnJlcGxhY2VDaGlsZChub2RlLCAkZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KVxyXG5cdFx0XHR9XHJcblx0XHRcdGVsc2UgJGRvY3VtZW50LmFwcGVuZENoaWxkKG5vZGUpO1xyXG5cdFx0XHR0aGlzLmNoaWxkTm9kZXMgPSAkZG9jdW1lbnQuY2hpbGROb2Rlc1xyXG5cdFx0fSxcclxuXHRcdGluc2VydEJlZm9yZTogZnVuY3Rpb24obm9kZSkge1xyXG5cdFx0XHR0aGlzLmFwcGVuZENoaWxkKG5vZGUpXHJcblx0XHR9LFxyXG5cdFx0Y2hpbGROb2RlczogW11cclxuXHR9O1xyXG5cdHZhciBub2RlQ2FjaGUgPSBbXSwgY2VsbENhY2hlID0ge307XHJcblx0bS5yZW5kZXIgPSBmdW5jdGlvbihyb290LCBjZWxsLCBmb3JjZVJlY3JlYXRpb24pIHtcclxuXHRcdHZhciBjb25maWdzID0gW107XHJcblx0XHRpZiAoIXJvb3QpIHRocm93IG5ldyBFcnJvcihcIkVuc3VyZSB0aGUgRE9NIGVsZW1lbnQgYmVpbmcgcGFzc2VkIHRvIG0ucm91dGUvbS5tb3VudC9tLnJlbmRlciBpcyBub3QgdW5kZWZpbmVkLlwiKTtcclxuXHRcdHZhciBpZCA9IGdldENlbGxDYWNoZUtleShyb290KTtcclxuXHRcdHZhciBpc0RvY3VtZW50Um9vdCA9IHJvb3QgPT09ICRkb2N1bWVudDtcclxuXHRcdHZhciBub2RlID0gaXNEb2N1bWVudFJvb3QgfHwgcm9vdCA9PT0gJGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCA/IGRvY3VtZW50Tm9kZSA6IHJvb3Q7XHJcblx0XHRpZiAoaXNEb2N1bWVudFJvb3QgJiYgY2VsbC50YWcgIT0gXCJodG1sXCIpIGNlbGwgPSB7dGFnOiBcImh0bWxcIiwgYXR0cnM6IHt9LCBjaGlsZHJlbjogY2VsbH07XHJcblx0XHRpZiAoY2VsbENhY2hlW2lkXSA9PT0gdW5kZWZpbmVkKSBjbGVhcihub2RlLmNoaWxkTm9kZXMpO1xyXG5cdFx0aWYgKGZvcmNlUmVjcmVhdGlvbiA9PT0gdHJ1ZSkgcmVzZXQocm9vdCk7XHJcblx0XHRjZWxsQ2FjaGVbaWRdID0gYnVpbGQobm9kZSwgbnVsbCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGNlbGwsIGNlbGxDYWNoZVtpZF0sIGZhbHNlLCAwLCBudWxsLCB1bmRlZmluZWQsIGNvbmZpZ3MpO1xyXG5cdFx0Zm9yICh2YXIgaSA9IDAsIGxlbiA9IGNvbmZpZ3MubGVuZ3RoOyBpIDwgbGVuOyBpKyspIGNvbmZpZ3NbaV0oKVxyXG5cdH07XHJcblx0ZnVuY3Rpb24gZ2V0Q2VsbENhY2hlS2V5KGVsZW1lbnQpIHtcclxuXHRcdHZhciBpbmRleCA9IG5vZGVDYWNoZS5pbmRleE9mKGVsZW1lbnQpO1xyXG5cdFx0cmV0dXJuIGluZGV4IDwgMCA/IG5vZGVDYWNoZS5wdXNoKGVsZW1lbnQpIC0gMSA6IGluZGV4XHJcblx0fVxyXG5cclxuXHRtLnRydXN0ID0gZnVuY3Rpb24odmFsdWUpIHtcclxuXHRcdHZhbHVlID0gbmV3IFN0cmluZyh2YWx1ZSk7XHJcblx0XHR2YWx1ZS4kdHJ1c3RlZCA9IHRydWU7XHJcblx0XHRyZXR1cm4gdmFsdWVcclxuXHR9O1xyXG5cclxuXHRmdW5jdGlvbiBnZXR0ZXJzZXR0ZXIoc3RvcmUpIHtcclxuXHRcdHZhciBwcm9wID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdGlmIChhcmd1bWVudHMubGVuZ3RoKSBzdG9yZSA9IGFyZ3VtZW50c1swXTtcclxuXHRcdFx0cmV0dXJuIHN0b3JlXHJcblx0XHR9O1xyXG5cclxuXHRcdHByb3AudG9KU09OID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdHJldHVybiBzdG9yZVxyXG5cdFx0fTtcclxuXHJcblx0XHRyZXR1cm4gcHJvcFxyXG5cdH1cclxuXHJcblx0bS5wcm9wID0gZnVuY3Rpb24gKHN0b3JlKSB7XHJcblx0XHQvL25vdGU6IHVzaW5nIG5vbi1zdHJpY3QgZXF1YWxpdHkgY2hlY2sgaGVyZSBiZWNhdXNlIHdlJ3JlIGNoZWNraW5nIGlmIHN0b3JlIGlzIG51bGwgT1IgdW5kZWZpbmVkXHJcblx0XHRpZiAoKChzdG9yZSAhPSBudWxsICYmIHR5cGUuY2FsbChzdG9yZSkgPT09IE9CSkVDVCkgfHwgdHlwZW9mIHN0b3JlID09PSBGVU5DVElPTikgJiYgdHlwZW9mIHN0b3JlLnRoZW4gPT09IEZVTkNUSU9OKSB7XHJcblx0XHRcdHJldHVybiBwcm9waWZ5KHN0b3JlKVxyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBnZXR0ZXJzZXR0ZXIoc3RvcmUpXHJcblx0fTtcclxuXHJcblx0dmFyIHJvb3RzID0gW10sIGNvbXBvbmVudHMgPSBbXSwgY29udHJvbGxlcnMgPSBbXSwgbGFzdFJlZHJhd0lkID0gbnVsbCwgbGFzdFJlZHJhd0NhbGxUaW1lID0gMCwgY29tcHV0ZVByZVJlZHJhd0hvb2sgPSBudWxsLCBjb21wdXRlUG9zdFJlZHJhd0hvb2sgPSBudWxsLCBwcmV2ZW50ZWQgPSBmYWxzZSwgdG9wQ29tcG9uZW50LCB1bmxvYWRlcnMgPSBbXTtcclxuXHR2YXIgRlJBTUVfQlVER0VUID0gMTY7IC8vNjAgZnJhbWVzIHBlciBzZWNvbmQgPSAxIGNhbGwgcGVyIDE2IG1zXHJcblx0ZnVuY3Rpb24gcGFyYW1ldGVyaXplKGNvbXBvbmVudCwgYXJncykge1xyXG5cdFx0dmFyIGNvbnRyb2xsZXIgPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0cmV0dXJuIChjb21wb25lbnQuY29udHJvbGxlciB8fCBub29wKS5hcHBseSh0aGlzLCBhcmdzKSB8fCB0aGlzXHJcblx0XHR9XHJcblx0XHR2YXIgdmlldyA9IGZ1bmN0aW9uKGN0cmwpIHtcclxuXHRcdFx0aWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSBhcmdzID0gYXJncy5jb25jYXQoW10uc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpKVxyXG5cdFx0XHRyZXR1cm4gY29tcG9uZW50LnZpZXcuYXBwbHkoY29tcG9uZW50LCBhcmdzID8gW2N0cmxdLmNvbmNhdChhcmdzKSA6IFtjdHJsXSlcclxuXHRcdH1cclxuXHRcdHZpZXcuJG9yaWdpbmFsID0gY29tcG9uZW50LnZpZXdcclxuXHRcdHZhciBvdXRwdXQgPSB7Y29udHJvbGxlcjogY29udHJvbGxlciwgdmlldzogdmlld31cclxuXHRcdGlmIChhcmdzWzBdICYmIGFyZ3NbMF0ua2V5ICE9IG51bGwpIG91dHB1dC5hdHRycyA9IHtrZXk6IGFyZ3NbMF0ua2V5fVxyXG5cdFx0cmV0dXJuIG91dHB1dFxyXG5cdH1cclxuXHRtLmNvbXBvbmVudCA9IGZ1bmN0aW9uKGNvbXBvbmVudCkge1xyXG5cdFx0cmV0dXJuIHBhcmFtZXRlcml6ZShjb21wb25lbnQsIFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSlcclxuXHR9XHJcblx0bS5tb3VudCA9IG0ubW9kdWxlID0gZnVuY3Rpb24ocm9vdCwgY29tcG9uZW50KSB7XHJcblx0XHRpZiAoIXJvb3QpIHRocm93IG5ldyBFcnJvcihcIlBsZWFzZSBlbnN1cmUgdGhlIERPTSBlbGVtZW50IGV4aXN0cyBiZWZvcmUgcmVuZGVyaW5nIGEgdGVtcGxhdGUgaW50byBpdC5cIik7XHJcblx0XHR2YXIgaW5kZXggPSByb290cy5pbmRleE9mKHJvb3QpO1xyXG5cdFx0aWYgKGluZGV4IDwgMCkgaW5kZXggPSByb290cy5sZW5ndGg7XHJcblx0XHRcclxuXHRcdHZhciBpc1ByZXZlbnRlZCA9IGZhbHNlO1xyXG5cdFx0dmFyIGV2ZW50ID0ge3ByZXZlbnREZWZhdWx0OiBmdW5jdGlvbigpIHtcclxuXHRcdFx0aXNQcmV2ZW50ZWQgPSB0cnVlO1xyXG5cdFx0XHRjb21wdXRlUHJlUmVkcmF3SG9vayA9IGNvbXB1dGVQb3N0UmVkcmF3SG9vayA9IG51bGw7XHJcblx0XHR9fTtcclxuXHRcdGZvciAodmFyIGkgPSAwLCB1bmxvYWRlcjsgdW5sb2FkZXIgPSB1bmxvYWRlcnNbaV07IGkrKykge1xyXG5cdFx0XHR1bmxvYWRlci5oYW5kbGVyLmNhbGwodW5sb2FkZXIuY29udHJvbGxlciwgZXZlbnQpXHJcblx0XHRcdHVubG9hZGVyLmNvbnRyb2xsZXIub251bmxvYWQgPSBudWxsXHJcblx0XHR9XHJcblx0XHRpZiAoaXNQcmV2ZW50ZWQpIHtcclxuXHRcdFx0Zm9yICh2YXIgaSA9IDAsIHVubG9hZGVyOyB1bmxvYWRlciA9IHVubG9hZGVyc1tpXTsgaSsrKSB1bmxvYWRlci5jb250cm9sbGVyLm9udW5sb2FkID0gdW5sb2FkZXIuaGFuZGxlclxyXG5cdFx0fVxyXG5cdFx0ZWxzZSB1bmxvYWRlcnMgPSBbXVxyXG5cdFx0XHJcblx0XHRpZiAoY29udHJvbGxlcnNbaW5kZXhdICYmIHR5cGVvZiBjb250cm9sbGVyc1tpbmRleF0ub251bmxvYWQgPT09IEZVTkNUSU9OKSB7XHJcblx0XHRcdGNvbnRyb2xsZXJzW2luZGV4XS5vbnVubG9hZChldmVudClcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0aWYgKCFpc1ByZXZlbnRlZCkge1xyXG5cdFx0XHRtLnJlZHJhdy5zdHJhdGVneShcImFsbFwiKTtcclxuXHRcdFx0bS5zdGFydENvbXB1dGF0aW9uKCk7XHJcblx0XHRcdHJvb3RzW2luZGV4XSA9IHJvb3Q7XHJcblx0XHRcdGlmIChhcmd1bWVudHMubGVuZ3RoID4gMikgY29tcG9uZW50ID0gc3ViY29tcG9uZW50KGNvbXBvbmVudCwgW10uc2xpY2UuY2FsbChhcmd1bWVudHMsIDIpKVxyXG5cdFx0XHR2YXIgY3VycmVudENvbXBvbmVudCA9IHRvcENvbXBvbmVudCA9IGNvbXBvbmVudCA9IGNvbXBvbmVudCB8fCB7Y29udHJvbGxlcjogZnVuY3Rpb24oKSB7fX07XHJcblx0XHRcdHZhciBjb25zdHJ1Y3RvciA9IGNvbXBvbmVudC5jb250cm9sbGVyIHx8IG5vb3BcclxuXHRcdFx0dmFyIGNvbnRyb2xsZXIgPSBuZXcgY29uc3RydWN0b3I7XHJcblx0XHRcdC8vY29udHJvbGxlcnMgbWF5IGNhbGwgbS5tb3VudCByZWN1cnNpdmVseSAodmlhIG0ucm91dGUgcmVkaXJlY3RzLCBmb3IgZXhhbXBsZSlcclxuXHRcdFx0Ly90aGlzIGNvbmRpdGlvbmFsIGVuc3VyZXMgb25seSB0aGUgbGFzdCByZWN1cnNpdmUgbS5tb3VudCBjYWxsIGlzIGFwcGxpZWRcclxuXHRcdFx0aWYgKGN1cnJlbnRDb21wb25lbnQgPT09IHRvcENvbXBvbmVudCkge1xyXG5cdFx0XHRcdGNvbnRyb2xsZXJzW2luZGV4XSA9IGNvbnRyb2xsZXI7XHJcblx0XHRcdFx0Y29tcG9uZW50c1tpbmRleF0gPSBjb21wb25lbnRcclxuXHRcdFx0fVxyXG5cdFx0XHRlbmRGaXJzdENvbXB1dGF0aW9uKCk7XHJcblx0XHRcdHJldHVybiBjb250cm9sbGVyc1tpbmRleF1cclxuXHRcdH1cclxuXHR9O1xyXG5cdHZhciByZWRyYXdpbmcgPSBmYWxzZVxyXG5cdG0ucmVkcmF3ID0gZnVuY3Rpb24oZm9yY2UpIHtcclxuXHRcdGlmIChyZWRyYXdpbmcpIHJldHVyblxyXG5cdFx0cmVkcmF3aW5nID0gdHJ1ZVxyXG5cdFx0Ly9sYXN0UmVkcmF3SWQgaXMgYSBwb3NpdGl2ZSBudW1iZXIgaWYgYSBzZWNvbmQgcmVkcmF3IGlzIHJlcXVlc3RlZCBiZWZvcmUgdGhlIG5leHQgYW5pbWF0aW9uIGZyYW1lXHJcblx0XHQvL2xhc3RSZWRyYXdJRCBpcyBudWxsIGlmIGl0J3MgdGhlIGZpcnN0IHJlZHJhdyBhbmQgbm90IGFuIGV2ZW50IGhhbmRsZXJcclxuXHRcdGlmIChsYXN0UmVkcmF3SWQgJiYgZm9yY2UgIT09IHRydWUpIHtcclxuXHRcdFx0Ly93aGVuIHNldFRpbWVvdXQ6IG9ubHkgcmVzY2hlZHVsZSByZWRyYXcgaWYgdGltZSBiZXR3ZWVuIG5vdyBhbmQgcHJldmlvdXMgcmVkcmF3IGlzIGJpZ2dlciB0aGFuIGEgZnJhbWUsIG90aGVyd2lzZSBrZWVwIGN1cnJlbnRseSBzY2hlZHVsZWQgdGltZW91dFxyXG5cdFx0XHQvL3doZW4gckFGOiBhbHdheXMgcmVzY2hlZHVsZSByZWRyYXdcclxuXHRcdFx0aWYgKCRyZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPT09IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgbmV3IERhdGUgLSBsYXN0UmVkcmF3Q2FsbFRpbWUgPiBGUkFNRV9CVURHRVQpIHtcclxuXHRcdFx0XHRpZiAobGFzdFJlZHJhd0lkID4gMCkgJGNhbmNlbEFuaW1hdGlvbkZyYW1lKGxhc3RSZWRyYXdJZCk7XHJcblx0XHRcdFx0bGFzdFJlZHJhd0lkID0gJHJlcXVlc3RBbmltYXRpb25GcmFtZShyZWRyYXcsIEZSQU1FX0JVREdFVClcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0ZWxzZSB7XHJcblx0XHRcdHJlZHJhdygpO1xyXG5cdFx0XHRsYXN0UmVkcmF3SWQgPSAkcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uKCkge2xhc3RSZWRyYXdJZCA9IG51bGx9LCBGUkFNRV9CVURHRVQpXHJcblx0XHR9XHJcblx0XHRyZWRyYXdpbmcgPSBmYWxzZVxyXG5cdH07XHJcblx0bS5yZWRyYXcuc3RyYXRlZ3kgPSBtLnByb3AoKTtcclxuXHRmdW5jdGlvbiByZWRyYXcoKSB7XHJcblx0XHRpZiAoY29tcHV0ZVByZVJlZHJhd0hvb2spIHtcclxuXHRcdFx0Y29tcHV0ZVByZVJlZHJhd0hvb2soKVxyXG5cdFx0XHRjb21wdXRlUHJlUmVkcmF3SG9vayA9IG51bGxcclxuXHRcdH1cclxuXHRcdGZvciAodmFyIGkgPSAwLCByb290OyByb290ID0gcm9vdHNbaV07IGkrKykge1xyXG5cdFx0XHRpZiAoY29udHJvbGxlcnNbaV0pIHtcclxuXHRcdFx0XHR2YXIgYXJncyA9IGNvbXBvbmVudHNbaV0uY29udHJvbGxlciAmJiBjb21wb25lbnRzW2ldLmNvbnRyb2xsZXIuJCRhcmdzID8gW2NvbnRyb2xsZXJzW2ldXS5jb25jYXQoY29tcG9uZW50c1tpXS5jb250cm9sbGVyLiQkYXJncykgOiBbY29udHJvbGxlcnNbaV1dXHJcblx0XHRcdFx0bS5yZW5kZXIocm9vdCwgY29tcG9uZW50c1tpXS52aWV3ID8gY29tcG9uZW50c1tpXS52aWV3KGNvbnRyb2xsZXJzW2ldLCBhcmdzKSA6IFwiXCIpXHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdC8vYWZ0ZXIgcmVuZGVyaW5nIHdpdGhpbiBhIHJvdXRlZCBjb250ZXh0LCB3ZSBuZWVkIHRvIHNjcm9sbCBiYWNrIHRvIHRoZSB0b3AsIGFuZCBmZXRjaCB0aGUgZG9jdW1lbnQgdGl0bGUgZm9yIGhpc3RvcnkucHVzaFN0YXRlXHJcblx0XHRpZiAoY29tcHV0ZVBvc3RSZWRyYXdIb29rKSB7XHJcblx0XHRcdGNvbXB1dGVQb3N0UmVkcmF3SG9vaygpO1xyXG5cdFx0XHRjb21wdXRlUG9zdFJlZHJhd0hvb2sgPSBudWxsXHJcblx0XHR9XHJcblx0XHRsYXN0UmVkcmF3SWQgPSBudWxsO1xyXG5cdFx0bGFzdFJlZHJhd0NhbGxUaW1lID0gbmV3IERhdGU7XHJcblx0XHRtLnJlZHJhdy5zdHJhdGVneShcImRpZmZcIilcclxuXHR9XHJcblxyXG5cdHZhciBwZW5kaW5nUmVxdWVzdHMgPSAwO1xyXG5cdG0uc3RhcnRDb21wdXRhdGlvbiA9IGZ1bmN0aW9uKCkge3BlbmRpbmdSZXF1ZXN0cysrfTtcclxuXHRtLmVuZENvbXB1dGF0aW9uID0gZnVuY3Rpb24oKSB7XHJcblx0XHRwZW5kaW5nUmVxdWVzdHMgPSBNYXRoLm1heChwZW5kaW5nUmVxdWVzdHMgLSAxLCAwKTtcclxuXHRcdGlmIChwZW5kaW5nUmVxdWVzdHMgPT09IDApIG0ucmVkcmF3KClcclxuXHR9O1xyXG5cdHZhciBlbmRGaXJzdENvbXB1dGF0aW9uID0gZnVuY3Rpb24oKSB7XHJcblx0XHRpZiAobS5yZWRyYXcuc3RyYXRlZ3koKSA9PSBcIm5vbmVcIikge1xyXG5cdFx0XHRwZW5kaW5nUmVxdWVzdHMtLVxyXG5cdFx0XHRtLnJlZHJhdy5zdHJhdGVneShcImRpZmZcIilcclxuXHRcdH1cclxuXHRcdGVsc2UgbS5lbmRDb21wdXRhdGlvbigpO1xyXG5cdH1cclxuXHJcblx0bS53aXRoQXR0ciA9IGZ1bmN0aW9uKHByb3AsIHdpdGhBdHRyQ2FsbGJhY2spIHtcclxuXHRcdHJldHVybiBmdW5jdGlvbihlKSB7XHJcblx0XHRcdGUgPSBlIHx8IGV2ZW50O1xyXG5cdFx0XHR2YXIgY3VycmVudFRhcmdldCA9IGUuY3VycmVudFRhcmdldCB8fCB0aGlzO1xyXG5cdFx0XHR3aXRoQXR0ckNhbGxiYWNrKHByb3AgaW4gY3VycmVudFRhcmdldCA/IGN1cnJlbnRUYXJnZXRbcHJvcF0gOiBjdXJyZW50VGFyZ2V0LmdldEF0dHJpYnV0ZShwcm9wKSlcclxuXHRcdH1cclxuXHR9O1xyXG5cclxuXHQvL3JvdXRpbmdcclxuXHR2YXIgbW9kZXMgPSB7cGF0aG5hbWU6IFwiXCIsIGhhc2g6IFwiI1wiLCBzZWFyY2g6IFwiP1wifTtcclxuXHR2YXIgcmVkaXJlY3QgPSBub29wLCByb3V0ZVBhcmFtcywgY3VycmVudFJvdXRlLCBpc0RlZmF1bHRSb3V0ZSA9IGZhbHNlO1xyXG5cdG0ucm91dGUgPSBmdW5jdGlvbigpIHtcclxuXHRcdC8vbS5yb3V0ZSgpXHJcblx0XHRpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIGN1cnJlbnRSb3V0ZTtcclxuXHRcdC8vbS5yb3V0ZShlbCwgZGVmYXVsdFJvdXRlLCByb3V0ZXMpXHJcblx0XHRlbHNlIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAzICYmIHR5cGUuY2FsbChhcmd1bWVudHNbMV0pID09PSBTVFJJTkcpIHtcclxuXHRcdFx0dmFyIHJvb3QgPSBhcmd1bWVudHNbMF0sIGRlZmF1bHRSb3V0ZSA9IGFyZ3VtZW50c1sxXSwgcm91dGVyID0gYXJndW1lbnRzWzJdO1xyXG5cdFx0XHRyZWRpcmVjdCA9IGZ1bmN0aW9uKHNvdXJjZSkge1xyXG5cdFx0XHRcdHZhciBwYXRoID0gY3VycmVudFJvdXRlID0gbm9ybWFsaXplUm91dGUoc291cmNlKTtcclxuXHRcdFx0XHRpZiAoIXJvdXRlQnlWYWx1ZShyb290LCByb3V0ZXIsIHBhdGgpKSB7XHJcblx0XHRcdFx0XHRpZiAoaXNEZWZhdWx0Um91dGUpIHRocm93IG5ldyBFcnJvcihcIkVuc3VyZSB0aGUgZGVmYXVsdCByb3V0ZSBtYXRjaGVzIG9uZSBvZiB0aGUgcm91dGVzIGRlZmluZWQgaW4gbS5yb3V0ZVwiKVxyXG5cdFx0XHRcdFx0aXNEZWZhdWx0Um91dGUgPSB0cnVlXHJcblx0XHRcdFx0XHRtLnJvdXRlKGRlZmF1bHRSb3V0ZSwgdHJ1ZSlcclxuXHRcdFx0XHRcdGlzRGVmYXVsdFJvdXRlID0gZmFsc2VcclxuXHRcdFx0XHR9XHJcblx0XHRcdH07XHJcblx0XHRcdHZhciBsaXN0ZW5lciA9IG0ucm91dGUubW9kZSA9PT0gXCJoYXNoXCIgPyBcIm9uaGFzaGNoYW5nZVwiIDogXCJvbnBvcHN0YXRlXCI7XHJcblx0XHRcdHdpbmRvd1tsaXN0ZW5lcl0gPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHR2YXIgcGF0aCA9ICRsb2NhdGlvblttLnJvdXRlLm1vZGVdXHJcblx0XHRcdFx0aWYgKG0ucm91dGUubW9kZSA9PT0gXCJwYXRobmFtZVwiKSBwYXRoICs9ICRsb2NhdGlvbi5zZWFyY2hcclxuXHRcdFx0XHRpZiAoY3VycmVudFJvdXRlICE9IG5vcm1hbGl6ZVJvdXRlKHBhdGgpKSB7XHJcblx0XHRcdFx0XHRyZWRpcmVjdChwYXRoKVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fTtcclxuXHRcdFx0Y29tcHV0ZVByZVJlZHJhd0hvb2sgPSBzZXRTY3JvbGw7XHJcblx0XHRcdHdpbmRvd1tsaXN0ZW5lcl0oKVxyXG5cdFx0fVxyXG5cdFx0Ly9jb25maWc6IG0ucm91dGVcclxuXHRcdGVsc2UgaWYgKGFyZ3VtZW50c1swXS5hZGRFdmVudExpc3RlbmVyIHx8IGFyZ3VtZW50c1swXS5hdHRhY2hFdmVudCkge1xyXG5cdFx0XHR2YXIgZWxlbWVudCA9IGFyZ3VtZW50c1swXTtcclxuXHRcdFx0dmFyIGlzSW5pdGlhbGl6ZWQgPSBhcmd1bWVudHNbMV07XHJcblx0XHRcdHZhciBjb250ZXh0ID0gYXJndW1lbnRzWzJdO1xyXG5cdFx0XHR2YXIgdmRvbSA9IGFyZ3VtZW50c1szXTtcclxuXHRcdFx0ZWxlbWVudC5ocmVmID0gKG0ucm91dGUubW9kZSAhPT0gJ3BhdGhuYW1lJyA/ICRsb2NhdGlvbi5wYXRobmFtZSA6ICcnKSArIG1vZGVzW20ucm91dGUubW9kZV0gKyB2ZG9tLmF0dHJzLmhyZWY7XHJcblx0XHRcdGlmIChlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIpIHtcclxuXHRcdFx0XHRlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCByb3V0ZVVub2J0cnVzaXZlKTtcclxuXHRcdFx0XHRlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCByb3V0ZVVub2J0cnVzaXZlKVxyXG5cdFx0XHR9XHJcblx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdGVsZW1lbnQuZGV0YWNoRXZlbnQoXCJvbmNsaWNrXCIsIHJvdXRlVW5vYnRydXNpdmUpO1xyXG5cdFx0XHRcdGVsZW1lbnQuYXR0YWNoRXZlbnQoXCJvbmNsaWNrXCIsIHJvdXRlVW5vYnRydXNpdmUpXHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdC8vbS5yb3V0ZShyb3V0ZSwgcGFyYW1zLCBzaG91bGRSZXBsYWNlSGlzdG9yeUVudHJ5KVxyXG5cdFx0ZWxzZSBpZiAodHlwZS5jYWxsKGFyZ3VtZW50c1swXSkgPT09IFNUUklORykge1xyXG5cdFx0XHR2YXIgb2xkUm91dGUgPSBjdXJyZW50Um91dGU7XHJcblx0XHRcdGN1cnJlbnRSb3V0ZSA9IGFyZ3VtZW50c1swXTtcclxuXHRcdFx0dmFyIGFyZ3MgPSBhcmd1bWVudHNbMV0gfHwge31cclxuXHRcdFx0dmFyIHF1ZXJ5SW5kZXggPSBjdXJyZW50Um91dGUuaW5kZXhPZihcIj9cIilcclxuXHRcdFx0dmFyIHBhcmFtcyA9IHF1ZXJ5SW5kZXggPiAtMSA/IHBhcnNlUXVlcnlTdHJpbmcoY3VycmVudFJvdXRlLnNsaWNlKHF1ZXJ5SW5kZXggKyAxKSkgOiB7fVxyXG5cdFx0XHRmb3IgKHZhciBpIGluIGFyZ3MpIHBhcmFtc1tpXSA9IGFyZ3NbaV1cclxuXHRcdFx0dmFyIHF1ZXJ5c3RyaW5nID0gYnVpbGRRdWVyeVN0cmluZyhwYXJhbXMpXHJcblx0XHRcdHZhciBjdXJyZW50UGF0aCA9IHF1ZXJ5SW5kZXggPiAtMSA/IGN1cnJlbnRSb3V0ZS5zbGljZSgwLCBxdWVyeUluZGV4KSA6IGN1cnJlbnRSb3V0ZVxyXG5cdFx0XHRpZiAocXVlcnlzdHJpbmcpIGN1cnJlbnRSb3V0ZSA9IGN1cnJlbnRQYXRoICsgKGN1cnJlbnRQYXRoLmluZGV4T2YoXCI/XCIpID09PSAtMSA/IFwiP1wiIDogXCImXCIpICsgcXVlcnlzdHJpbmc7XHJcblxyXG5cdFx0XHR2YXIgc2hvdWxkUmVwbGFjZUhpc3RvcnlFbnRyeSA9IChhcmd1bWVudHMubGVuZ3RoID09PSAzID8gYXJndW1lbnRzWzJdIDogYXJndW1lbnRzWzFdKSA9PT0gdHJ1ZSB8fCBvbGRSb3V0ZSA9PT0gYXJndW1lbnRzWzBdO1xyXG5cclxuXHRcdFx0aWYgKHdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZSkge1xyXG5cdFx0XHRcdGNvbXB1dGVQcmVSZWRyYXdIb29rID0gc2V0U2Nyb2xsXHJcblx0XHRcdFx0Y29tcHV0ZVBvc3RSZWRyYXdIb29rID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHR3aW5kb3cuaGlzdG9yeVtzaG91bGRSZXBsYWNlSGlzdG9yeUVudHJ5ID8gXCJyZXBsYWNlU3RhdGVcIiA6IFwicHVzaFN0YXRlXCJdKG51bGwsICRkb2N1bWVudC50aXRsZSwgbW9kZXNbbS5yb3V0ZS5tb2RlXSArIGN1cnJlbnRSb3V0ZSk7XHJcblx0XHRcdFx0fTtcclxuXHRcdFx0XHRyZWRpcmVjdChtb2Rlc1ttLnJvdXRlLm1vZGVdICsgY3VycmVudFJvdXRlKVxyXG5cdFx0XHR9XHJcblx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdCRsb2NhdGlvblttLnJvdXRlLm1vZGVdID0gY3VycmVudFJvdXRlXHJcblx0XHRcdFx0cmVkaXJlY3QobW9kZXNbbS5yb3V0ZS5tb2RlXSArIGN1cnJlbnRSb3V0ZSlcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH07XHJcblx0bS5yb3V0ZS5wYXJhbSA9IGZ1bmN0aW9uKGtleSkge1xyXG5cdFx0aWYgKCFyb3V0ZVBhcmFtcykgdGhyb3cgbmV3IEVycm9yKFwiWW91IG11c3QgY2FsbCBtLnJvdXRlKGVsZW1lbnQsIGRlZmF1bHRSb3V0ZSwgcm91dGVzKSBiZWZvcmUgY2FsbGluZyBtLnJvdXRlLnBhcmFtKClcIilcclxuXHRcdHJldHVybiByb3V0ZVBhcmFtc1trZXldXHJcblx0fTtcclxuXHRtLnJvdXRlLm1vZGUgPSBcInNlYXJjaFwiO1xyXG5cdGZ1bmN0aW9uIG5vcm1hbGl6ZVJvdXRlKHJvdXRlKSB7XHJcblx0XHRyZXR1cm4gcm91dGUuc2xpY2UobW9kZXNbbS5yb3V0ZS5tb2RlXS5sZW5ndGgpXHJcblx0fVxyXG5cdGZ1bmN0aW9uIHJvdXRlQnlWYWx1ZShyb290LCByb3V0ZXIsIHBhdGgpIHtcclxuXHRcdHJvdXRlUGFyYW1zID0ge307XHJcblxyXG5cdFx0dmFyIHF1ZXJ5U3RhcnQgPSBwYXRoLmluZGV4T2YoXCI/XCIpO1xyXG5cdFx0aWYgKHF1ZXJ5U3RhcnQgIT09IC0xKSB7XHJcblx0XHRcdHJvdXRlUGFyYW1zID0gcGFyc2VRdWVyeVN0cmluZyhwYXRoLnN1YnN0cihxdWVyeVN0YXJ0ICsgMSwgcGF0aC5sZW5ndGgpKTtcclxuXHRcdFx0cGF0aCA9IHBhdGguc3Vic3RyKDAsIHF1ZXJ5U3RhcnQpXHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gR2V0IGFsbCByb3V0ZXMgYW5kIGNoZWNrIGlmIHRoZXJlJ3NcclxuXHRcdC8vIGFuIGV4YWN0IG1hdGNoIGZvciB0aGUgY3VycmVudCBwYXRoXHJcblx0XHR2YXIga2V5cyA9IE9iamVjdC5rZXlzKHJvdXRlcik7XHJcblx0XHR2YXIgaW5kZXggPSBrZXlzLmluZGV4T2YocGF0aCk7XHJcblx0XHRpZihpbmRleCAhPT0gLTEpe1xyXG5cdFx0XHRtLm1vdW50KHJvb3QsIHJvdXRlcltrZXlzIFtpbmRleF1dKTtcclxuXHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHR9XHJcblxyXG5cdFx0Zm9yICh2YXIgcm91dGUgaW4gcm91dGVyKSB7XHJcblx0XHRcdGlmIChyb3V0ZSA9PT0gcGF0aCkge1xyXG5cdFx0XHRcdG0ubW91bnQocm9vdCwgcm91dGVyW3JvdXRlXSk7XHJcblx0XHRcdFx0cmV0dXJuIHRydWVcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0dmFyIG1hdGNoZXIgPSBuZXcgUmVnRXhwKFwiXlwiICsgcm91dGUucmVwbGFjZSgvOlteXFwvXSs/XFwuezN9L2csIFwiKC4qPylcIikucmVwbGFjZSgvOlteXFwvXSsvZywgXCIoW15cXFxcL10rKVwiKSArIFwiXFwvPyRcIik7XHJcblxyXG5cdFx0XHRpZiAobWF0Y2hlci50ZXN0KHBhdGgpKSB7XHJcblx0XHRcdFx0cGF0aC5yZXBsYWNlKG1hdGNoZXIsIGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0dmFyIGtleXMgPSByb3V0ZS5tYXRjaCgvOlteXFwvXSsvZykgfHwgW107XHJcblx0XHRcdFx0XHR2YXIgdmFsdWVzID0gW10uc2xpY2UuY2FsbChhcmd1bWVudHMsIDEsIC0yKTtcclxuXHRcdFx0XHRcdGZvciAodmFyIGkgPSAwLCBsZW4gPSBrZXlzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSByb3V0ZVBhcmFtc1trZXlzW2ldLnJlcGxhY2UoLzp8XFwuL2csIFwiXCIpXSA9IGRlY29kZVVSSUNvbXBvbmVudCh2YWx1ZXNbaV0pXHJcblx0XHRcdFx0XHRtLm1vdW50KHJvb3QsIHJvdXRlcltyb3V0ZV0pXHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdFx0cmV0dXJuIHRydWVcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxuXHRmdW5jdGlvbiByb3V0ZVVub2J0cnVzaXZlKGUpIHtcclxuXHRcdGUgPSBlIHx8IGV2ZW50O1xyXG5cdFx0aWYgKGUuY3RybEtleSB8fCBlLm1ldGFLZXkgfHwgZS53aGljaCA9PT0gMikgcmV0dXJuO1xyXG5cdFx0aWYgKGUucHJldmVudERlZmF1bHQpIGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdGVsc2UgZS5yZXR1cm5WYWx1ZSA9IGZhbHNlO1xyXG5cdFx0dmFyIGN1cnJlbnRUYXJnZXQgPSBlLmN1cnJlbnRUYXJnZXQgfHwgZS5zcmNFbGVtZW50O1xyXG5cdFx0dmFyIGFyZ3MgPSBtLnJvdXRlLm1vZGUgPT09IFwicGF0aG5hbWVcIiAmJiBjdXJyZW50VGFyZ2V0LnNlYXJjaCA/IHBhcnNlUXVlcnlTdHJpbmcoY3VycmVudFRhcmdldC5zZWFyY2guc2xpY2UoMSkpIDoge307XHJcblx0XHR3aGlsZSAoY3VycmVudFRhcmdldCAmJiBjdXJyZW50VGFyZ2V0Lm5vZGVOYW1lLnRvVXBwZXJDYXNlKCkgIT0gXCJBXCIpIGN1cnJlbnRUYXJnZXQgPSBjdXJyZW50VGFyZ2V0LnBhcmVudE5vZGVcclxuXHRcdG0ucm91dGUoY3VycmVudFRhcmdldFttLnJvdXRlLm1vZGVdLnNsaWNlKG1vZGVzW20ucm91dGUubW9kZV0ubGVuZ3RoKSwgYXJncylcclxuXHR9XHJcblx0ZnVuY3Rpb24gc2V0U2Nyb2xsKCkge1xyXG5cdFx0aWYgKG0ucm91dGUubW9kZSAhPSBcImhhc2hcIiAmJiAkbG9jYXRpb24uaGFzaCkgJGxvY2F0aW9uLmhhc2ggPSAkbG9jYXRpb24uaGFzaDtcclxuXHRcdGVsc2Ugd2luZG93LnNjcm9sbFRvKDAsIDApXHJcblx0fVxyXG5cdGZ1bmN0aW9uIGJ1aWxkUXVlcnlTdHJpbmcob2JqZWN0LCBwcmVmaXgpIHtcclxuXHRcdHZhciBkdXBsaWNhdGVzID0ge31cclxuXHRcdHZhciBzdHIgPSBbXVxyXG5cdFx0Zm9yICh2YXIgcHJvcCBpbiBvYmplY3QpIHtcclxuXHRcdFx0dmFyIGtleSA9IHByZWZpeCA/IHByZWZpeCArIFwiW1wiICsgcHJvcCArIFwiXVwiIDogcHJvcFxyXG5cdFx0XHR2YXIgdmFsdWUgPSBvYmplY3RbcHJvcF1cclxuXHRcdFx0dmFyIHZhbHVlVHlwZSA9IHR5cGUuY2FsbCh2YWx1ZSlcclxuXHRcdFx0dmFyIHBhaXIgPSAodmFsdWUgPT09IG51bGwpID8gZW5jb2RlVVJJQ29tcG9uZW50KGtleSkgOlxyXG5cdFx0XHRcdHZhbHVlVHlwZSA9PT0gT0JKRUNUID8gYnVpbGRRdWVyeVN0cmluZyh2YWx1ZSwga2V5KSA6XHJcblx0XHRcdFx0dmFsdWVUeXBlID09PSBBUlJBWSA/IHZhbHVlLnJlZHVjZShmdW5jdGlvbihtZW1vLCBpdGVtKSB7XHJcblx0XHRcdFx0XHRpZiAoIWR1cGxpY2F0ZXNba2V5XSkgZHVwbGljYXRlc1trZXldID0ge31cclxuXHRcdFx0XHRcdGlmICghZHVwbGljYXRlc1trZXldW2l0ZW1dKSB7XHJcblx0XHRcdFx0XHRcdGR1cGxpY2F0ZXNba2V5XVtpdGVtXSA9IHRydWVcclxuXHRcdFx0XHRcdFx0cmV0dXJuIG1lbW8uY29uY2F0KGVuY29kZVVSSUNvbXBvbmVudChrZXkpICsgXCI9XCIgKyBlbmNvZGVVUklDb21wb25lbnQoaXRlbSkpXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRyZXR1cm4gbWVtb1xyXG5cdFx0XHRcdH0sIFtdKS5qb2luKFwiJlwiKSA6XHJcblx0XHRcdFx0ZW5jb2RlVVJJQ29tcG9uZW50KGtleSkgKyBcIj1cIiArIGVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSlcclxuXHRcdFx0aWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHN0ci5wdXNoKHBhaXIpXHJcblx0XHR9XHJcblx0XHRyZXR1cm4gc3RyLmpvaW4oXCImXCIpXHJcblx0fVxyXG5cdGZ1bmN0aW9uIHBhcnNlUXVlcnlTdHJpbmcoc3RyKSB7XHJcblx0XHRpZiAoc3RyLmNoYXJBdCgwKSA9PT0gXCI/XCIpIHN0ciA9IHN0ci5zdWJzdHJpbmcoMSk7XHJcblx0XHRcclxuXHRcdHZhciBwYWlycyA9IHN0ci5zcGxpdChcIiZcIiksIHBhcmFtcyA9IHt9O1xyXG5cdFx0Zm9yICh2YXIgaSA9IDAsIGxlbiA9IHBhaXJzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcblx0XHRcdHZhciBwYWlyID0gcGFpcnNbaV0uc3BsaXQoXCI9XCIpO1xyXG5cdFx0XHR2YXIga2V5ID0gZGVjb2RlVVJJQ29tcG9uZW50KHBhaXJbMF0pXHJcblx0XHRcdHZhciB2YWx1ZSA9IHBhaXIubGVuZ3RoID09IDIgPyBkZWNvZGVVUklDb21wb25lbnQocGFpclsxXSkgOiBudWxsXHJcblx0XHRcdGlmIChwYXJhbXNba2V5XSAhPSBudWxsKSB7XHJcblx0XHRcdFx0aWYgKHR5cGUuY2FsbChwYXJhbXNba2V5XSkgIT09IEFSUkFZKSBwYXJhbXNba2V5XSA9IFtwYXJhbXNba2V5XV1cclxuXHRcdFx0XHRwYXJhbXNba2V5XS5wdXNoKHZhbHVlKVxyXG5cdFx0XHR9XHJcblx0XHRcdGVsc2UgcGFyYW1zW2tleV0gPSB2YWx1ZVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHBhcmFtc1xyXG5cdH1cclxuXHRtLnJvdXRlLmJ1aWxkUXVlcnlTdHJpbmcgPSBidWlsZFF1ZXJ5U3RyaW5nXHJcblx0bS5yb3V0ZS5wYXJzZVF1ZXJ5U3RyaW5nID0gcGFyc2VRdWVyeVN0cmluZ1xyXG5cdFxyXG5cdGZ1bmN0aW9uIHJlc2V0KHJvb3QpIHtcclxuXHRcdHZhciBjYWNoZUtleSA9IGdldENlbGxDYWNoZUtleShyb290KTtcclxuXHRcdGNsZWFyKHJvb3QuY2hpbGROb2RlcywgY2VsbENhY2hlW2NhY2hlS2V5XSk7XHJcblx0XHRjZWxsQ2FjaGVbY2FjaGVLZXldID0gdW5kZWZpbmVkXHJcblx0fVxyXG5cclxuXHRtLmRlZmVycmVkID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0dmFyIGRlZmVycmVkID0gbmV3IERlZmVycmVkKCk7XHJcblx0XHRkZWZlcnJlZC5wcm9taXNlID0gcHJvcGlmeShkZWZlcnJlZC5wcm9taXNlKTtcclxuXHRcdHJldHVybiBkZWZlcnJlZFxyXG5cdH07XHJcblx0ZnVuY3Rpb24gcHJvcGlmeShwcm9taXNlLCBpbml0aWFsVmFsdWUpIHtcclxuXHRcdHZhciBwcm9wID0gbS5wcm9wKGluaXRpYWxWYWx1ZSk7XHJcblx0XHRwcm9taXNlLnRoZW4ocHJvcCk7XHJcblx0XHRwcm9wLnRoZW4gPSBmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcclxuXHRcdFx0cmV0dXJuIHByb3BpZnkocHJvbWlzZS50aGVuKHJlc29sdmUsIHJlamVjdCksIGluaXRpYWxWYWx1ZSlcclxuXHRcdH07XHJcblx0XHRyZXR1cm4gcHJvcFxyXG5cdH1cclxuXHQvL1Byb21pei5taXRocmlsLmpzIHwgWm9sbWVpc3RlciB8IE1JVFxyXG5cdC8vYSBtb2RpZmllZCB2ZXJzaW9uIG9mIFByb21pei5qcywgd2hpY2ggZG9lcyBub3QgY29uZm9ybSB0byBQcm9taXNlcy9BKyBmb3IgdHdvIHJlYXNvbnM6XHJcblx0Ly8xKSBgdGhlbmAgY2FsbGJhY2tzIGFyZSBjYWxsZWQgc3luY2hyb25vdXNseSAoYmVjYXVzZSBzZXRUaW1lb3V0IGlzIHRvbyBzbG93LCBhbmQgdGhlIHNldEltbWVkaWF0ZSBwb2x5ZmlsbCBpcyB0b28gYmlnXHJcblx0Ly8yKSB0aHJvd2luZyBzdWJjbGFzc2VzIG9mIEVycm9yIGNhdXNlIHRoZSBlcnJvciB0byBiZSBidWJibGVkIHVwIGluc3RlYWQgb2YgdHJpZ2dlcmluZyByZWplY3Rpb24gKGJlY2F1c2UgdGhlIHNwZWMgZG9lcyBub3QgYWNjb3VudCBmb3IgdGhlIGltcG9ydGFudCB1c2UgY2FzZSBvZiBkZWZhdWx0IGJyb3dzZXIgZXJyb3IgaGFuZGxpbmcsIGkuZS4gbWVzc2FnZSB3LyBsaW5lIG51bWJlcilcclxuXHRmdW5jdGlvbiBEZWZlcnJlZChzdWNjZXNzQ2FsbGJhY2ssIGZhaWx1cmVDYWxsYmFjaykge1xyXG5cdFx0dmFyIFJFU09MVklORyA9IDEsIFJFSkVDVElORyA9IDIsIFJFU09MVkVEID0gMywgUkVKRUNURUQgPSA0O1xyXG5cdFx0dmFyIHNlbGYgPSB0aGlzLCBzdGF0ZSA9IDAsIHByb21pc2VWYWx1ZSA9IDAsIG5leHQgPSBbXTtcclxuXHJcblx0XHRzZWxmW1wicHJvbWlzZVwiXSA9IHt9O1xyXG5cclxuXHRcdHNlbGZbXCJyZXNvbHZlXCJdID0gZnVuY3Rpb24odmFsdWUpIHtcclxuXHRcdFx0aWYgKCFzdGF0ZSkge1xyXG5cdFx0XHRcdHByb21pc2VWYWx1ZSA9IHZhbHVlO1xyXG5cdFx0XHRcdHN0YXRlID0gUkVTT0xWSU5HO1xyXG5cclxuXHRcdFx0XHRmaXJlKClcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gdGhpc1xyXG5cdFx0fTtcclxuXHJcblx0XHRzZWxmW1wicmVqZWN0XCJdID0gZnVuY3Rpb24odmFsdWUpIHtcclxuXHRcdFx0aWYgKCFzdGF0ZSkge1xyXG5cdFx0XHRcdHByb21pc2VWYWx1ZSA9IHZhbHVlO1xyXG5cdFx0XHRcdHN0YXRlID0gUkVKRUNUSU5HO1xyXG5cclxuXHRcdFx0XHRmaXJlKClcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gdGhpc1xyXG5cdFx0fTtcclxuXHJcblx0XHRzZWxmLnByb21pc2VbXCJ0aGVuXCJdID0gZnVuY3Rpb24oc3VjY2Vzc0NhbGxiYWNrLCBmYWlsdXJlQ2FsbGJhY2spIHtcclxuXHRcdFx0dmFyIGRlZmVycmVkID0gbmV3IERlZmVycmVkKHN1Y2Nlc3NDYWxsYmFjaywgZmFpbHVyZUNhbGxiYWNrKTtcclxuXHRcdFx0aWYgKHN0YXRlID09PSBSRVNPTFZFRCkge1xyXG5cdFx0XHRcdGRlZmVycmVkLnJlc29sdmUocHJvbWlzZVZhbHVlKVxyXG5cdFx0XHR9XHJcblx0XHRcdGVsc2UgaWYgKHN0YXRlID09PSBSRUpFQ1RFRCkge1xyXG5cdFx0XHRcdGRlZmVycmVkLnJlamVjdChwcm9taXNlVmFsdWUpXHJcblx0XHRcdH1cclxuXHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0bmV4dC5wdXNoKGRlZmVycmVkKVxyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiBkZWZlcnJlZC5wcm9taXNlXHJcblx0XHR9O1xyXG5cclxuXHRcdGZ1bmN0aW9uIGZpbmlzaCh0eXBlKSB7XHJcblx0XHRcdHN0YXRlID0gdHlwZSB8fCBSRUpFQ1RFRDtcclxuXHRcdFx0bmV4dC5tYXAoZnVuY3Rpb24oZGVmZXJyZWQpIHtcclxuXHRcdFx0XHRzdGF0ZSA9PT0gUkVTT0xWRUQgJiYgZGVmZXJyZWQucmVzb2x2ZShwcm9taXNlVmFsdWUpIHx8IGRlZmVycmVkLnJlamVjdChwcm9taXNlVmFsdWUpXHJcblx0XHRcdH0pXHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gdGhlbm5hYmxlKHRoZW4sIHN1Y2Nlc3NDYWxsYmFjaywgZmFpbHVyZUNhbGxiYWNrLCBub3RUaGVubmFibGVDYWxsYmFjaykge1xyXG5cdFx0XHRpZiAoKChwcm9taXNlVmFsdWUgIT0gbnVsbCAmJiB0eXBlLmNhbGwocHJvbWlzZVZhbHVlKSA9PT0gT0JKRUNUKSB8fCB0eXBlb2YgcHJvbWlzZVZhbHVlID09PSBGVU5DVElPTikgJiYgdHlwZW9mIHRoZW4gPT09IEZVTkNUSU9OKSB7XHJcblx0XHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRcdC8vIGNvdW50IHByb3RlY3RzIGFnYWluc3QgYWJ1c2UgY2FsbHMgZnJvbSBzcGVjIGNoZWNrZXJcclxuXHRcdFx0XHRcdHZhciBjb3VudCA9IDA7XHJcblx0XHRcdFx0XHR0aGVuLmNhbGwocHJvbWlzZVZhbHVlLCBmdW5jdGlvbih2YWx1ZSkge1xyXG5cdFx0XHRcdFx0XHRpZiAoY291bnQrKykgcmV0dXJuO1xyXG5cdFx0XHRcdFx0XHRwcm9taXNlVmFsdWUgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0c3VjY2Vzc0NhbGxiYWNrKClcclxuXHRcdFx0XHRcdH0sIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG5cdFx0XHRcdFx0XHRpZiAoY291bnQrKykgcmV0dXJuO1xyXG5cdFx0XHRcdFx0XHRwcm9taXNlVmFsdWUgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0ZmFpbHVyZUNhbGxiYWNrKClcclxuXHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGNhdGNoIChlKSB7XHJcblx0XHRcdFx0XHRtLmRlZmVycmVkLm9uZXJyb3IoZSk7XHJcblx0XHRcdFx0XHRwcm9taXNlVmFsdWUgPSBlO1xyXG5cdFx0XHRcdFx0ZmFpbHVyZUNhbGxiYWNrKClcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0bm90VGhlbm5hYmxlQ2FsbGJhY2soKVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gZmlyZSgpIHtcclxuXHRcdFx0Ly8gY2hlY2sgaWYgaXQncyBhIHRoZW5hYmxlXHJcblx0XHRcdHZhciB0aGVuO1xyXG5cdFx0XHR0cnkge1xyXG5cdFx0XHRcdHRoZW4gPSBwcm9taXNlVmFsdWUgJiYgcHJvbWlzZVZhbHVlLnRoZW5cclxuXHRcdFx0fVxyXG5cdFx0XHRjYXRjaCAoZSkge1xyXG5cdFx0XHRcdG0uZGVmZXJyZWQub25lcnJvcihlKTtcclxuXHRcdFx0XHRwcm9taXNlVmFsdWUgPSBlO1xyXG5cdFx0XHRcdHN0YXRlID0gUkVKRUNUSU5HO1xyXG5cdFx0XHRcdHJldHVybiBmaXJlKClcclxuXHRcdFx0fVxyXG5cdFx0XHR0aGVubmFibGUodGhlbiwgZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0c3RhdGUgPSBSRVNPTFZJTkc7XHJcblx0XHRcdFx0ZmlyZSgpXHJcblx0XHRcdH0sIGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdHN0YXRlID0gUkVKRUNUSU5HO1xyXG5cdFx0XHRcdGZpcmUoKVxyXG5cdFx0XHR9LCBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHR0cnkge1xyXG5cdFx0XHRcdFx0aWYgKHN0YXRlID09PSBSRVNPTFZJTkcgJiYgdHlwZW9mIHN1Y2Nlc3NDYWxsYmFjayA9PT0gRlVOQ1RJT04pIHtcclxuXHRcdFx0XHRcdFx0cHJvbWlzZVZhbHVlID0gc3VjY2Vzc0NhbGxiYWNrKHByb21pc2VWYWx1ZSlcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGVsc2UgaWYgKHN0YXRlID09PSBSRUpFQ1RJTkcgJiYgdHlwZW9mIGZhaWx1cmVDYWxsYmFjayA9PT0gXCJmdW5jdGlvblwiKSB7XHJcblx0XHRcdFx0XHRcdHByb21pc2VWYWx1ZSA9IGZhaWx1cmVDYWxsYmFjayhwcm9taXNlVmFsdWUpO1xyXG5cdFx0XHRcdFx0XHRzdGF0ZSA9IFJFU09MVklOR1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRjYXRjaCAoZSkge1xyXG5cdFx0XHRcdFx0bS5kZWZlcnJlZC5vbmVycm9yKGUpO1xyXG5cdFx0XHRcdFx0cHJvbWlzZVZhbHVlID0gZTtcclxuXHRcdFx0XHRcdHJldHVybiBmaW5pc2goKVxyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0aWYgKHByb21pc2VWYWx1ZSA9PT0gc2VsZikge1xyXG5cdFx0XHRcdFx0cHJvbWlzZVZhbHVlID0gVHlwZUVycm9yKCk7XHJcblx0XHRcdFx0XHRmaW5pc2goKVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRcdHRoZW5uYWJsZSh0aGVuLCBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0XHRcdGZpbmlzaChSRVNPTFZFRClcclxuXHRcdFx0XHRcdH0sIGZpbmlzaCwgZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0XHRmaW5pc2goc3RhdGUgPT09IFJFU09MVklORyAmJiBSRVNPTFZFRClcclxuXHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KVxyXG5cdFx0fVxyXG5cdH1cclxuXHRtLmRlZmVycmVkLm9uZXJyb3IgPSBmdW5jdGlvbihlKSB7XHJcblx0XHRpZiAodHlwZS5jYWxsKGUpID09PSBcIltvYmplY3QgRXJyb3JdXCIgJiYgIWUuY29uc3RydWN0b3IudG9TdHJpbmcoKS5tYXRjaCgvIEVycm9yLykpIHRocm93IGVcclxuXHR9O1xyXG5cclxuXHRtLnN5bmMgPSBmdW5jdGlvbihhcmdzKSB7XHJcblx0XHR2YXIgbWV0aG9kID0gXCJyZXNvbHZlXCI7XHJcblx0XHRmdW5jdGlvbiBzeW5jaHJvbml6ZXIocG9zLCByZXNvbHZlZCkge1xyXG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24odmFsdWUpIHtcclxuXHRcdFx0XHRyZXN1bHRzW3Bvc10gPSB2YWx1ZTtcclxuXHRcdFx0XHRpZiAoIXJlc29sdmVkKSBtZXRob2QgPSBcInJlamVjdFwiO1xyXG5cdFx0XHRcdGlmICgtLW91dHN0YW5kaW5nID09PSAwKSB7XHJcblx0XHRcdFx0XHRkZWZlcnJlZC5wcm9taXNlKHJlc3VsdHMpO1xyXG5cdFx0XHRcdFx0ZGVmZXJyZWRbbWV0aG9kXShyZXN1bHRzKVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRyZXR1cm4gdmFsdWVcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdHZhciBkZWZlcnJlZCA9IG0uZGVmZXJyZWQoKTtcclxuXHRcdHZhciBvdXRzdGFuZGluZyA9IGFyZ3MubGVuZ3RoO1xyXG5cdFx0dmFyIHJlc3VsdHMgPSBuZXcgQXJyYXkob3V0c3RhbmRpbmcpO1xyXG5cdFx0aWYgKGFyZ3MubGVuZ3RoID4gMCkge1xyXG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHRhcmdzW2ldLnRoZW4oc3luY2hyb25pemVyKGksIHRydWUpLCBzeW5jaHJvbml6ZXIoaSwgZmFsc2UpKVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRlbHNlIGRlZmVycmVkLnJlc29sdmUoW10pO1xyXG5cclxuXHRcdHJldHVybiBkZWZlcnJlZC5wcm9taXNlXHJcblx0fTtcclxuXHRmdW5jdGlvbiBpZGVudGl0eSh2YWx1ZSkge3JldHVybiB2YWx1ZX1cclxuXHJcblx0ZnVuY3Rpb24gYWpheChvcHRpb25zKSB7XHJcblx0XHRpZiAob3B0aW9ucy5kYXRhVHlwZSAmJiBvcHRpb25zLmRhdGFUeXBlLnRvTG93ZXJDYXNlKCkgPT09IFwianNvbnBcIikge1xyXG5cdFx0XHR2YXIgY2FsbGJhY2tLZXkgPSBcIm1pdGhyaWxfY2FsbGJhY2tfXCIgKyBuZXcgRGF0ZSgpLmdldFRpbWUoKSArIFwiX1wiICsgKE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIDFlMTYpKS50b1N0cmluZygzNik7XHJcblx0XHRcdHZhciBzY3JpcHQgPSAkZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtcclxuXHJcblx0XHRcdHdpbmRvd1tjYWxsYmFja0tleV0gPSBmdW5jdGlvbihyZXNwKSB7XHJcblx0XHRcdFx0c2NyaXB0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc2NyaXB0KTtcclxuXHRcdFx0XHRvcHRpb25zLm9ubG9hZCh7XHJcblx0XHRcdFx0XHR0eXBlOiBcImxvYWRcIixcclxuXHRcdFx0XHRcdHRhcmdldDoge1xyXG5cdFx0XHRcdFx0XHRyZXNwb25zZVRleHQ6IHJlc3BcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0XHR3aW5kb3dbY2FsbGJhY2tLZXldID0gdW5kZWZpbmVkXHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHRzY3JpcHQub25lcnJvciA9IGZ1bmN0aW9uKGUpIHtcclxuXHRcdFx0XHRzY3JpcHQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzY3JpcHQpO1xyXG5cclxuXHRcdFx0XHRvcHRpb25zLm9uZXJyb3Ioe1xyXG5cdFx0XHRcdFx0dHlwZTogXCJlcnJvclwiLFxyXG5cdFx0XHRcdFx0dGFyZ2V0OiB7XHJcblx0XHRcdFx0XHRcdHN0YXR1czogNTAwLFxyXG5cdFx0XHRcdFx0XHRyZXNwb25zZVRleHQ6IEpTT04uc3RyaW5naWZ5KHtlcnJvcjogXCJFcnJvciBtYWtpbmcganNvbnAgcmVxdWVzdFwifSlcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0XHR3aW5kb3dbY2FsbGJhY2tLZXldID0gdW5kZWZpbmVkO1xyXG5cclxuXHRcdFx0XHRyZXR1cm4gZmFsc2VcclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdHNjcmlwdC5vbmxvYWQgPSBmdW5jdGlvbihlKSB7XHJcblx0XHRcdFx0cmV0dXJuIGZhbHNlXHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHRzY3JpcHQuc3JjID0gb3B0aW9ucy51cmxcclxuXHRcdFx0XHQrIChvcHRpb25zLnVybC5pbmRleE9mKFwiP1wiKSA+IDAgPyBcIiZcIiA6IFwiP1wiKVxyXG5cdFx0XHRcdCsgKG9wdGlvbnMuY2FsbGJhY2tLZXkgPyBvcHRpb25zLmNhbGxiYWNrS2V5IDogXCJjYWxsYmFja1wiKVxyXG5cdFx0XHRcdCsgXCI9XCIgKyBjYWxsYmFja0tleVxyXG5cdFx0XHRcdCsgXCImXCIgKyBidWlsZFF1ZXJ5U3RyaW5nKG9wdGlvbnMuZGF0YSB8fCB7fSk7XHJcblx0XHRcdCRkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHNjcmlwdClcclxuXHRcdH1cclxuXHRcdGVsc2Uge1xyXG5cdFx0XHR2YXIgeGhyID0gbmV3IHdpbmRvdy5YTUxIdHRwUmVxdWVzdDtcclxuXHRcdFx0eGhyLm9wZW4ob3B0aW9ucy5tZXRob2QsIG9wdGlvbnMudXJsLCB0cnVlLCBvcHRpb25zLnVzZXIsIG9wdGlvbnMucGFzc3dvcmQpO1xyXG5cdFx0XHR4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0aWYgKHhoci5yZWFkeVN0YXRlID09PSA0KSB7XHJcblx0XHRcdFx0XHRpZiAoeGhyLnN0YXR1cyA+PSAyMDAgJiYgeGhyLnN0YXR1cyA8IDMwMCkgb3B0aW9ucy5vbmxvYWQoe3R5cGU6IFwibG9hZFwiLCB0YXJnZXQ6IHhocn0pO1xyXG5cdFx0XHRcdFx0ZWxzZSBvcHRpb25zLm9uZXJyb3Ioe3R5cGU6IFwiZXJyb3JcIiwgdGFyZ2V0OiB4aHJ9KVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fTtcclxuXHRcdFx0aWYgKG9wdGlvbnMuc2VyaWFsaXplID09PSBKU09OLnN0cmluZ2lmeSAmJiBvcHRpb25zLmRhdGEgJiYgb3B0aW9ucy5tZXRob2QgIT09IFwiR0VUXCIpIHtcclxuXHRcdFx0XHR4aHIuc2V0UmVxdWVzdEhlYWRlcihcIkNvbnRlbnQtVHlwZVwiLCBcImFwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9dXRmLThcIilcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAob3B0aW9ucy5kZXNlcmlhbGl6ZSA9PT0gSlNPTi5wYXJzZSkge1xyXG5cdFx0XHRcdHhoci5zZXRSZXF1ZXN0SGVhZGVyKFwiQWNjZXB0XCIsIFwiYXBwbGljYXRpb24vanNvbiwgdGV4dC8qXCIpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmICh0eXBlb2Ygb3B0aW9ucy5jb25maWcgPT09IEZVTkNUSU9OKSB7XHJcblx0XHRcdFx0dmFyIG1heWJlWGhyID0gb3B0aW9ucy5jb25maWcoeGhyLCBvcHRpb25zKTtcclxuXHRcdFx0XHRpZiAobWF5YmVYaHIgIT0gbnVsbCkgeGhyID0gbWF5YmVYaHJcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0dmFyIGRhdGEgPSBvcHRpb25zLm1ldGhvZCA9PT0gXCJHRVRcIiB8fCAhb3B0aW9ucy5kYXRhID8gXCJcIiA6IG9wdGlvbnMuZGF0YVxyXG5cdFx0XHRpZiAoZGF0YSAmJiAodHlwZS5jYWxsKGRhdGEpICE9IFNUUklORyAmJiBkYXRhLmNvbnN0cnVjdG9yICE9IHdpbmRvdy5Gb3JtRGF0YSkpIHtcclxuXHRcdFx0XHR0aHJvdyBcIlJlcXVlc3QgZGF0YSBzaG91bGQgYmUgZWl0aGVyIGJlIGEgc3RyaW5nIG9yIEZvcm1EYXRhLiBDaGVjayB0aGUgYHNlcmlhbGl6ZWAgb3B0aW9uIGluIGBtLnJlcXVlc3RgXCI7XHJcblx0XHRcdH1cclxuXHRcdFx0eGhyLnNlbmQoZGF0YSk7XHJcblx0XHRcdHJldHVybiB4aHJcclxuXHRcdH1cclxuXHR9XHJcblx0ZnVuY3Rpb24gYmluZERhdGEoeGhyT3B0aW9ucywgZGF0YSwgc2VyaWFsaXplKSB7XHJcblx0XHRpZiAoeGhyT3B0aW9ucy5tZXRob2QgPT09IFwiR0VUXCIgJiYgeGhyT3B0aW9ucy5kYXRhVHlwZSAhPSBcImpzb25wXCIpIHtcclxuXHRcdFx0dmFyIHByZWZpeCA9IHhock9wdGlvbnMudXJsLmluZGV4T2YoXCI/XCIpIDwgMCA/IFwiP1wiIDogXCImXCI7XHJcblx0XHRcdHZhciBxdWVyeXN0cmluZyA9IGJ1aWxkUXVlcnlTdHJpbmcoZGF0YSk7XHJcblx0XHRcdHhock9wdGlvbnMudXJsID0geGhyT3B0aW9ucy51cmwgKyAocXVlcnlzdHJpbmcgPyBwcmVmaXggKyBxdWVyeXN0cmluZyA6IFwiXCIpXHJcblx0XHR9XHJcblx0XHRlbHNlIHhock9wdGlvbnMuZGF0YSA9IHNlcmlhbGl6ZShkYXRhKTtcclxuXHRcdHJldHVybiB4aHJPcHRpb25zXHJcblx0fVxyXG5cdGZ1bmN0aW9uIHBhcmFtZXRlcml6ZVVybCh1cmwsIGRhdGEpIHtcclxuXHRcdHZhciB0b2tlbnMgPSB1cmwubWF0Y2goLzpbYS16XVxcdysvZ2kpO1xyXG5cdFx0aWYgKHRva2VucyAmJiBkYXRhKSB7XHJcblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgdG9rZW5zLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0dmFyIGtleSA9IHRva2Vuc1tpXS5zbGljZSgxKTtcclxuXHRcdFx0XHR1cmwgPSB1cmwucmVwbGFjZSh0b2tlbnNbaV0sIGRhdGFba2V5XSk7XHJcblx0XHRcdFx0ZGVsZXRlIGRhdGFba2V5XVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gdXJsXHJcblx0fVxyXG5cclxuXHRtLnJlcXVlc3QgPSBmdW5jdGlvbih4aHJPcHRpb25zKSB7XHJcblx0XHRpZiAoeGhyT3B0aW9ucy5iYWNrZ3JvdW5kICE9PSB0cnVlKSBtLnN0YXJ0Q29tcHV0YXRpb24oKTtcclxuXHRcdHZhciBkZWZlcnJlZCA9IG5ldyBEZWZlcnJlZCgpO1xyXG5cdFx0dmFyIGlzSlNPTlAgPSB4aHJPcHRpb25zLmRhdGFUeXBlICYmIHhock9wdGlvbnMuZGF0YVR5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJqc29ucFwiO1xyXG5cdFx0dmFyIHNlcmlhbGl6ZSA9IHhock9wdGlvbnMuc2VyaWFsaXplID0gaXNKU09OUCA/IGlkZW50aXR5IDogeGhyT3B0aW9ucy5zZXJpYWxpemUgfHwgSlNPTi5zdHJpbmdpZnk7XHJcblx0XHR2YXIgZGVzZXJpYWxpemUgPSB4aHJPcHRpb25zLmRlc2VyaWFsaXplID0gaXNKU09OUCA/IGlkZW50aXR5IDogeGhyT3B0aW9ucy5kZXNlcmlhbGl6ZSB8fCBKU09OLnBhcnNlO1xyXG5cdFx0dmFyIGV4dHJhY3QgPSBpc0pTT05QID8gZnVuY3Rpb24oanNvbnApIHtyZXR1cm4ganNvbnAucmVzcG9uc2VUZXh0fSA6IHhock9wdGlvbnMuZXh0cmFjdCB8fCBmdW5jdGlvbih4aHIpIHtcclxuXHRcdFx0cmV0dXJuIHhoci5yZXNwb25zZVRleHQubGVuZ3RoID09PSAwICYmIGRlc2VyaWFsaXplID09PSBKU09OLnBhcnNlID8gbnVsbCA6IHhoci5yZXNwb25zZVRleHRcclxuXHRcdH07XHJcblx0XHR4aHJPcHRpb25zLm1ldGhvZCA9ICh4aHJPcHRpb25zLm1ldGhvZCB8fCAnR0VUJykudG9VcHBlckNhc2UoKTtcclxuXHRcdHhock9wdGlvbnMudXJsID0gcGFyYW1ldGVyaXplVXJsKHhock9wdGlvbnMudXJsLCB4aHJPcHRpb25zLmRhdGEpO1xyXG5cdFx0eGhyT3B0aW9ucyA9IGJpbmREYXRhKHhock9wdGlvbnMsIHhock9wdGlvbnMuZGF0YSwgc2VyaWFsaXplKTtcclxuXHRcdHhock9wdGlvbnMub25sb2FkID0geGhyT3B0aW9ucy5vbmVycm9yID0gZnVuY3Rpb24oZSkge1xyXG5cdFx0XHR0cnkge1xyXG5cdFx0XHRcdGUgPSBlIHx8IGV2ZW50O1xyXG5cdFx0XHRcdHZhciB1bndyYXAgPSAoZS50eXBlID09PSBcImxvYWRcIiA/IHhock9wdGlvbnMudW53cmFwU3VjY2VzcyA6IHhock9wdGlvbnMudW53cmFwRXJyb3IpIHx8IGlkZW50aXR5O1xyXG5cdFx0XHRcdHZhciByZXNwb25zZSA9IHVud3JhcChkZXNlcmlhbGl6ZShleHRyYWN0KGUudGFyZ2V0LCB4aHJPcHRpb25zKSksIGUudGFyZ2V0KTtcclxuXHRcdFx0XHRpZiAoZS50eXBlID09PSBcImxvYWRcIikge1xyXG5cdFx0XHRcdFx0aWYgKHR5cGUuY2FsbChyZXNwb25zZSkgPT09IEFSUkFZICYmIHhock9wdGlvbnMudHlwZSkge1xyXG5cdFx0XHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHJlc3BvbnNlLmxlbmd0aDsgaSsrKSByZXNwb25zZVtpXSA9IG5ldyB4aHJPcHRpb25zLnR5cGUocmVzcG9uc2VbaV0pXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRlbHNlIGlmICh4aHJPcHRpb25zLnR5cGUpIHJlc3BvbnNlID0gbmV3IHhock9wdGlvbnMudHlwZShyZXNwb25zZSlcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZGVmZXJyZWRbZS50eXBlID09PSBcImxvYWRcIiA/IFwicmVzb2x2ZVwiIDogXCJyZWplY3RcIl0ocmVzcG9uc2UpXHJcblx0XHRcdH1cclxuXHRcdFx0Y2F0Y2ggKGUpIHtcclxuXHRcdFx0XHRtLmRlZmVycmVkLm9uZXJyb3IoZSk7XHJcblx0XHRcdFx0ZGVmZXJyZWQucmVqZWN0KGUpXHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKHhock9wdGlvbnMuYmFja2dyb3VuZCAhPT0gdHJ1ZSkgbS5lbmRDb21wdXRhdGlvbigpXHJcblx0XHR9O1xyXG5cdFx0YWpheCh4aHJPcHRpb25zKTtcclxuXHRcdGRlZmVycmVkLnByb21pc2UgPSBwcm9waWZ5KGRlZmVycmVkLnByb21pc2UsIHhock9wdGlvbnMuaW5pdGlhbFZhbHVlKTtcclxuXHRcdHJldHVybiBkZWZlcnJlZC5wcm9taXNlXHJcblx0fTtcclxuXHJcblx0Ly90ZXN0aW5nIEFQSVxyXG5cdG0uZGVwcyA9IGZ1bmN0aW9uKG1vY2spIHtcclxuXHRcdGluaXRpYWxpemUod2luZG93ID0gbW9jayB8fCB3aW5kb3cpO1xyXG5cdFx0cmV0dXJuIHdpbmRvdztcclxuXHR9O1xyXG5cdC8vZm9yIGludGVybmFsIHRlc3Rpbmcgb25seSwgZG8gbm90IHVzZSBgbS5kZXBzLmZhY3RvcnlgXHJcblx0bS5kZXBzLmZhY3RvcnkgPSBhcHA7XHJcblxyXG5cdHJldHVybiBtXHJcbn0pKHR5cGVvZiB3aW5kb3cgIT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdyA6IHt9KTtcclxuXHJcbmlmICh0eXBlb2YgbW9kdWxlICE9IFwidW5kZWZpbmVkXCIgJiYgbW9kdWxlICE9PSBudWxsICYmIG1vZHVsZS5leHBvcnRzKSBtb2R1bGUuZXhwb3J0cyA9IG07XHJcbmVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kKSBkZWZpbmUoZnVuY3Rpb24oKSB7cmV0dXJuIG19KTtcclxuIiwiKGZ1bmN0aW9uKHdpbmRvdykge1xuICAgIHZhciByZSA9IHtcbiAgICAgICAgbm90X3N0cmluZzogL1tec10vLFxuICAgICAgICBudW1iZXI6IC9bZGllZl0vLFxuICAgICAgICB0ZXh0OiAvXlteXFx4MjVdKy8sXG4gICAgICAgIG1vZHVsbzogL15cXHgyNXsyfS8sXG4gICAgICAgIHBsYWNlaG9sZGVyOiAvXlxceDI1KD86KFsxLTldXFxkKilcXCR8XFwoKFteXFwpXSspXFwpKT8oXFwrKT8oMHwnW14kXSk/KC0pPyhcXGQrKT8oPzpcXC4oXFxkKykpPyhbYi1maW9zdXhYXSkvLFxuICAgICAgICBrZXk6IC9eKFthLXpfXVthLXpfXFxkXSopL2ksXG4gICAgICAgIGtleV9hY2Nlc3M6IC9eXFwuKFthLXpfXVthLXpfXFxkXSopL2ksXG4gICAgICAgIGluZGV4X2FjY2VzczogL15cXFsoXFxkKylcXF0vLFxuICAgICAgICBzaWduOiAvXltcXCtcXC1dL1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNwcmludGYoKSB7XG4gICAgICAgIHZhciBrZXkgPSBhcmd1bWVudHNbMF0sIGNhY2hlID0gc3ByaW50Zi5jYWNoZVxuICAgICAgICBpZiAoIShjYWNoZVtrZXldICYmIGNhY2hlLmhhc093blByb3BlcnR5KGtleSkpKSB7XG4gICAgICAgICAgICBjYWNoZVtrZXldID0gc3ByaW50Zi5wYXJzZShrZXkpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNwcmludGYuZm9ybWF0LmNhbGwobnVsbCwgY2FjaGVba2V5XSwgYXJndW1lbnRzKVxuICAgIH1cblxuICAgIHNwcmludGYuZm9ybWF0ID0gZnVuY3Rpb24ocGFyc2VfdHJlZSwgYXJndikge1xuICAgICAgICB2YXIgY3Vyc29yID0gMSwgdHJlZV9sZW5ndGggPSBwYXJzZV90cmVlLmxlbmd0aCwgbm9kZV90eXBlID0gXCJcIiwgYXJnLCBvdXRwdXQgPSBbXSwgaSwgaywgbWF0Y2gsIHBhZCwgcGFkX2NoYXJhY3RlciwgcGFkX2xlbmd0aCwgaXNfcG9zaXRpdmUgPSB0cnVlLCBzaWduID0gXCJcIlxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgdHJlZV9sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbm9kZV90eXBlID0gZ2V0X3R5cGUocGFyc2VfdHJlZVtpXSlcbiAgICAgICAgICAgIGlmIChub2RlX3R5cGUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICBvdXRwdXRbb3V0cHV0Lmxlbmd0aF0gPSBwYXJzZV90cmVlW2ldXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChub2RlX3R5cGUgPT09IFwiYXJyYXlcIikge1xuICAgICAgICAgICAgICAgIG1hdGNoID0gcGFyc2VfdHJlZVtpXSAvLyBjb252ZW5pZW5jZSBwdXJwb3NlcyBvbmx5XG4gICAgICAgICAgICAgICAgaWYgKG1hdGNoWzJdKSB7IC8vIGtleXdvcmQgYXJndW1lbnRcbiAgICAgICAgICAgICAgICAgICAgYXJnID0gYXJndltjdXJzb3JdXG4gICAgICAgICAgICAgICAgICAgIGZvciAoayA9IDA7IGsgPCBtYXRjaFsyXS5sZW5ndGg7IGsrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFhcmcuaGFzT3duUHJvcGVydHkobWF0Y2hbMl1ba10pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHNwcmludGYoXCJbc3ByaW50Zl0gcHJvcGVydHkgJyVzJyBkb2VzIG5vdCBleGlzdFwiLCBtYXRjaFsyXVtrXSkpXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBhcmcgPSBhcmdbbWF0Y2hbMl1ba11dXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAobWF0Y2hbMV0pIHsgLy8gcG9zaXRpb25hbCBhcmd1bWVudCAoZXhwbGljaXQpXG4gICAgICAgICAgICAgICAgICAgIGFyZyA9IGFyZ3ZbbWF0Y2hbMV1dXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgeyAvLyBwb3NpdGlvbmFsIGFyZ3VtZW50IChpbXBsaWNpdClcbiAgICAgICAgICAgICAgICAgICAgYXJnID0gYXJndltjdXJzb3IrK11cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoZ2V0X3R5cGUoYXJnKSA9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgYXJnID0gYXJnKClcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAocmUubm90X3N0cmluZy50ZXN0KG1hdGNoWzhdKSAmJiAoZ2V0X3R5cGUoYXJnKSAhPSBcIm51bWJlclwiICYmIGlzTmFOKGFyZykpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3Ioc3ByaW50ZihcIltzcHJpbnRmXSBleHBlY3RpbmcgbnVtYmVyIGJ1dCBmb3VuZCAlc1wiLCBnZXRfdHlwZShhcmcpKSlcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAocmUubnVtYmVyLnRlc3QobWF0Y2hbOF0pKSB7XG4gICAgICAgICAgICAgICAgICAgIGlzX3Bvc2l0aXZlID0gYXJnID49IDBcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBzd2l0Y2ggKG1hdGNoWzhdKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJiXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhcmcgPSBhcmcudG9TdHJpbmcoMilcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImNcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZyA9IFN0cmluZy5mcm9tQ2hhckNvZGUoYXJnKVxuICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZFwiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiaVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYXJnID0gcGFyc2VJbnQoYXJnLCAxMClcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImVcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZyA9IG1hdGNoWzddID8gYXJnLnRvRXhwb25lbnRpYWwobWF0Y2hbN10pIDogYXJnLnRvRXhwb25lbnRpYWwoKVxuICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZlwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYXJnID0gbWF0Y2hbN10gPyBwYXJzZUZsb2F0KGFyZykudG9GaXhlZChtYXRjaFs3XSkgOiBwYXJzZUZsb2F0KGFyZylcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIm9cIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZyA9IGFyZy50b1N0cmluZyg4KVxuICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwic1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYXJnID0gKChhcmcgPSBTdHJpbmcoYXJnKSkgJiYgbWF0Y2hbN10gPyBhcmcuc3Vic3RyaW5nKDAsIG1hdGNoWzddKSA6IGFyZylcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInVcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZyA9IGFyZyA+Pj4gMFxuICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwieFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYXJnID0gYXJnLnRvU3RyaW5nKDE2KVxuICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiWFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYXJnID0gYXJnLnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChyZS5udW1iZXIudGVzdChtYXRjaFs4XSkgJiYgKCFpc19wb3NpdGl2ZSB8fCBtYXRjaFszXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgc2lnbiA9IGlzX3Bvc2l0aXZlID8gXCIrXCIgOiBcIi1cIlxuICAgICAgICAgICAgICAgICAgICBhcmcgPSBhcmcudG9TdHJpbmcoKS5yZXBsYWNlKHJlLnNpZ24sIFwiXCIpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzaWduID0gXCJcIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBwYWRfY2hhcmFjdGVyID0gbWF0Y2hbNF0gPyBtYXRjaFs0XSA9PT0gXCIwXCIgPyBcIjBcIiA6IG1hdGNoWzRdLmNoYXJBdCgxKSA6IFwiIFwiXG4gICAgICAgICAgICAgICAgcGFkX2xlbmd0aCA9IG1hdGNoWzZdIC0gKHNpZ24gKyBhcmcpLmxlbmd0aFxuICAgICAgICAgICAgICAgIHBhZCA9IG1hdGNoWzZdID8gKHBhZF9sZW5ndGggPiAwID8gc3RyX3JlcGVhdChwYWRfY2hhcmFjdGVyLCBwYWRfbGVuZ3RoKSA6IFwiXCIpIDogXCJcIlxuICAgICAgICAgICAgICAgIG91dHB1dFtvdXRwdXQubGVuZ3RoXSA9IG1hdGNoWzVdID8gc2lnbiArIGFyZyArIHBhZCA6IChwYWRfY2hhcmFjdGVyID09PSBcIjBcIiA/IHNpZ24gKyBwYWQgKyBhcmcgOiBwYWQgKyBzaWduICsgYXJnKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXRwdXQuam9pbihcIlwiKVxuICAgIH1cblxuICAgIHNwcmludGYuY2FjaGUgPSB7fVxuXG4gICAgc3ByaW50Zi5wYXJzZSA9IGZ1bmN0aW9uKGZtdCkge1xuICAgICAgICB2YXIgX2ZtdCA9IGZtdCwgbWF0Y2ggPSBbXSwgcGFyc2VfdHJlZSA9IFtdLCBhcmdfbmFtZXMgPSAwXG4gICAgICAgIHdoaWxlIChfZm10KSB7XG4gICAgICAgICAgICBpZiAoKG1hdGNoID0gcmUudGV4dC5leGVjKF9mbXQpKSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHBhcnNlX3RyZWVbcGFyc2VfdHJlZS5sZW5ndGhdID0gbWF0Y2hbMF1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKChtYXRjaCA9IHJlLm1vZHVsby5leGVjKF9mbXQpKSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHBhcnNlX3RyZWVbcGFyc2VfdHJlZS5sZW5ndGhdID0gXCIlXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKChtYXRjaCA9IHJlLnBsYWNlaG9sZGVyLmV4ZWMoX2ZtdCkpICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1hdGNoWzJdKSB7XG4gICAgICAgICAgICAgICAgICAgIGFyZ19uYW1lcyB8PSAxXG4gICAgICAgICAgICAgICAgICAgIHZhciBmaWVsZF9saXN0ID0gW10sIHJlcGxhY2VtZW50X2ZpZWxkID0gbWF0Y2hbMl0sIGZpZWxkX21hdGNoID0gW11cbiAgICAgICAgICAgICAgICAgICAgaWYgKChmaWVsZF9tYXRjaCA9IHJlLmtleS5leGVjKHJlcGxhY2VtZW50X2ZpZWxkKSkgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkX2xpc3RbZmllbGRfbGlzdC5sZW5ndGhdID0gZmllbGRfbWF0Y2hbMV1cbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgocmVwbGFjZW1lbnRfZmllbGQgPSByZXBsYWNlbWVudF9maWVsZC5zdWJzdHJpbmcoZmllbGRfbWF0Y2hbMF0ubGVuZ3RoKSkgIT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKGZpZWxkX21hdGNoID0gcmUua2V5X2FjY2Vzcy5leGVjKHJlcGxhY2VtZW50X2ZpZWxkKSkgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRfbGlzdFtmaWVsZF9saXN0Lmxlbmd0aF0gPSBmaWVsZF9tYXRjaFsxXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICgoZmllbGRfbWF0Y2ggPSByZS5pbmRleF9hY2Nlc3MuZXhlYyhyZXBsYWNlbWVudF9maWVsZCkpICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkX2xpc3RbZmllbGRfbGlzdC5sZW5ndGhdID0gZmllbGRfbWF0Y2hbMV1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcihcIltzcHJpbnRmXSBmYWlsZWQgdG8gcGFyc2UgbmFtZWQgYXJndW1lbnQga2V5XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKFwiW3NwcmludGZdIGZhaWxlZCB0byBwYXJzZSBuYW1lZCBhcmd1bWVudCBrZXlcIilcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtYXRjaFsyXSA9IGZpZWxkX2xpc3RcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGFyZ19uYW1lcyB8PSAyXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChhcmdfbmFtZXMgPT09IDMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiW3NwcmludGZdIG1peGluZyBwb3NpdGlvbmFsIGFuZCBuYW1lZCBwbGFjZWhvbGRlcnMgaXMgbm90ICh5ZXQpIHN1cHBvcnRlZFwiKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBwYXJzZV90cmVlW3BhcnNlX3RyZWUubGVuZ3RoXSA9IG1hdGNoXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoXCJbc3ByaW50Zl0gdW5leHBlY3RlZCBwbGFjZWhvbGRlclwiKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX2ZtdCA9IF9mbXQuc3Vic3RyaW5nKG1hdGNoWzBdLmxlbmd0aClcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGFyc2VfdHJlZVxuICAgIH1cblxuICAgIHZhciB2c3ByaW50ZiA9IGZ1bmN0aW9uKGZtdCwgYXJndiwgX2FyZ3YpIHtcbiAgICAgICAgX2FyZ3YgPSAoYXJndiB8fCBbXSkuc2xpY2UoMClcbiAgICAgICAgX2FyZ3Yuc3BsaWNlKDAsIDAsIGZtdClcbiAgICAgICAgcmV0dXJuIHNwcmludGYuYXBwbHkobnVsbCwgX2FyZ3YpXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogaGVscGVyc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldF90eXBlKHZhcmlhYmxlKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFyaWFibGUpLnNsaWNlKDgsIC0xKS50b0xvd2VyQ2FzZSgpXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc3RyX3JlcGVhdChpbnB1dCwgbXVsdGlwbGllcikge1xuICAgICAgICByZXR1cm4gQXJyYXkobXVsdGlwbGllciArIDEpLmpvaW4oaW5wdXQpXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogZXhwb3J0IHRvIGVpdGhlciBicm93c2VyIG9yIG5vZGUuanNcbiAgICAgKi9cbiAgICBpZiAodHlwZW9mIGV4cG9ydHMgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgZXhwb3J0cy5zcHJpbnRmID0gc3ByaW50ZlxuICAgICAgICBleHBvcnRzLnZzcHJpbnRmID0gdnNwcmludGZcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHdpbmRvdy5zcHJpbnRmID0gc3ByaW50ZlxuICAgICAgICB3aW5kb3cudnNwcmludGYgPSB2c3ByaW50ZlxuXG4gICAgICAgIGlmICh0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCkge1xuICAgICAgICAgICAgZGVmaW5lKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHNwcmludGY6IHNwcmludGYsXG4gICAgICAgICAgICAgICAgICAgIHZzcHJpbnRmOiB2c3ByaW50ZlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICB9XG59KSh0eXBlb2Ygd2luZG93ID09PSBcInVuZGVmaW5lZFwiID8gdGhpcyA6IHdpbmRvdyk7XG4iLCIvKiEgUmF2ZW4uanMgMy4xNy4wICg2Mzg0ODMwKSB8IGdpdGh1Yi5jb20vZ2V0c2VudHJ5L3JhdmVuLWpzICovXG5cbi8qXG4gKiBJbmNsdWRlcyBUcmFjZUtpdFxuICogaHR0cHM6Ly9naXRodWIuY29tL2dldHNlbnRyeS9UcmFjZUtpdFxuICpcbiAqIENvcHlyaWdodCAyMDE3IE1hdHQgUm9iZW5vbHQgYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIEJTRCBsaWNlbnNlXG4gKiBodHRwczovL2dpdGh1Yi5jb20vZ2V0c2VudHJ5L3JhdmVuLWpzL2Jsb2IvbWFzdGVyL0xJQ0VOU0VcbiAqXG4gKi9cblxuKGZ1bmN0aW9uKGYpe2lmKHR5cGVvZiBleHBvcnRzPT09XCJvYmplY3RcIiYmdHlwZW9mIG1vZHVsZSE9PVwidW5kZWZpbmVkXCIpe21vZHVsZS5leHBvcnRzPWYoKX1lbHNlIGlmKHR5cGVvZiBkZWZpbmU9PT1cImZ1bmN0aW9uXCImJmRlZmluZS5hbWQpe2RlZmluZShbXSxmKX1lbHNle3ZhciBnO2lmKHR5cGVvZiB3aW5kb3chPT1cInVuZGVmaW5lZFwiKXtnPXdpbmRvd31lbHNlIGlmKHR5cGVvZiBnbG9iYWwhPT1cInVuZGVmaW5lZFwiKXtnPWdsb2JhbH1lbHNlIGlmKHR5cGVvZiBzZWxmIT09XCJ1bmRlZmluZWRcIil7Zz1zZWxmfWVsc2V7Zz10aGlzfWcuUmF2ZW4gPSBmKCl9fSkoZnVuY3Rpb24oKXt2YXIgZGVmaW5lLG1vZHVsZSxleHBvcnRzO3JldHVybiAoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSh7MTpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG4ndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIFJhdmVuQ29uZmlnRXJyb3IobWVzc2FnZSkge1xuICAgIHRoaXMubmFtZSA9ICdSYXZlbkNvbmZpZ0Vycm9yJztcbiAgICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xufVxuUmF2ZW5Db25maWdFcnJvci5wcm90b3R5cGUgPSBuZXcgRXJyb3IoKTtcblJhdmVuQ29uZmlnRXJyb3IucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gUmF2ZW5Db25maWdFcnJvcjtcblxubW9kdWxlLmV4cG9ydHMgPSBSYXZlbkNvbmZpZ0Vycm9yO1xuXG59LHt9XSwyOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbid1c2Ugc3RyaWN0JztcblxudmFyIHdyYXBNZXRob2QgPSBmdW5jdGlvbihjb25zb2xlLCBsZXZlbCwgY2FsbGJhY2spIHtcbiAgICB2YXIgb3JpZ2luYWxDb25zb2xlTGV2ZWwgPSBjb25zb2xlW2xldmVsXTtcbiAgICB2YXIgb3JpZ2luYWxDb25zb2xlID0gY29uc29sZTtcblxuICAgIGlmICghKGxldmVsIGluIGNvbnNvbGUpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgc2VudHJ5TGV2ZWwgPSBsZXZlbCA9PT0gJ3dhcm4nXG4gICAgICAgID8gJ3dhcm5pbmcnXG4gICAgICAgIDogbGV2ZWw7XG5cbiAgICBjb25zb2xlW2xldmVsXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7XG5cbiAgICAgICAgdmFyIG1zZyA9ICcnICsgYXJncy5qb2luKCcgJyk7XG4gICAgICAgIHZhciBkYXRhID0ge2xldmVsOiBzZW50cnlMZXZlbCwgbG9nZ2VyOiAnY29uc29sZScsIGV4dHJhOiB7J2FyZ3VtZW50cyc6IGFyZ3N9fTtcbiAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2sobXNnLCBkYXRhKTtcblxuICAgICAgICAvLyB0aGlzIGZhaWxzIGZvciBzb21lIGJyb3dzZXJzLiA6KFxuICAgICAgICBpZiAob3JpZ2luYWxDb25zb2xlTGV2ZWwpIHtcbiAgICAgICAgICAgIC8vIElFOSBkb2Vzbid0IGFsbG93IGNhbGxpbmcgYXBwbHkgb24gY29uc29sZSBmdW5jdGlvbnMgZGlyZWN0bHlcbiAgICAgICAgICAgIC8vIFNlZTogaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNTQ3MjkzOC9kb2VzLWllOS1zdXBwb3J0LWNvbnNvbGUtbG9nLWFuZC1pcy1pdC1hLXJlYWwtZnVuY3Rpb24jYW5zd2VyLTU0NzMxOTNcbiAgICAgICAgICAgIEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseS5jYWxsKFxuICAgICAgICAgICAgICAgIG9yaWdpbmFsQ29uc29sZUxldmVsLFxuICAgICAgICAgICAgICAgIG9yaWdpbmFsQ29uc29sZSxcbiAgICAgICAgICAgICAgICBhcmdzXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIHdyYXBNZXRob2Q6IHdyYXBNZXRob2Rcbn07XG5cbn0se31dLDM6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuKGZ1bmN0aW9uIChnbG9iYWwpe1xuLypnbG9iYWwgWERvbWFpblJlcXVlc3Q6ZmFsc2UsIF9fREVWX186ZmFsc2UqL1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgVHJhY2VLaXQgPSBfZGVyZXFfKDYpO1xudmFyIHN0cmluZ2lmeSA9IF9kZXJlcV8oNyk7XG52YXIgUmF2ZW5Db25maWdFcnJvciA9IF9kZXJlcV8oMSk7XG52YXIgdXRpbHMgPSBfZGVyZXFfKDUpO1xuXG52YXIgaXNFcnJvciA9IHV0aWxzLmlzRXJyb3IsXG4gICAgaXNPYmplY3QgPSB1dGlscy5pc09iamVjdDtcblxudmFyIHdyYXBDb25zb2xlTWV0aG9kID0gX2RlcmVxXygyKS53cmFwTWV0aG9kO1xuXG52YXIgZHNuS2V5cyA9ICdzb3VyY2UgcHJvdG9jb2wgdXNlciBwYXNzIGhvc3QgcG9ydCBwYXRoJy5zcGxpdCgnICcpLFxuICAgIGRzblBhdHRlcm4gPSAvXig/OihcXHcrKTopP1xcL1xcLyg/OihcXHcrKSg6XFx3Kyk/QCk/KFtcXHdcXC4tXSspKD86OihcXGQrKSk/KFxcLy4qKS87XG5cbmZ1bmN0aW9uIG5vdygpIHtcbiAgICByZXR1cm4gK25ldyBEYXRlKCk7XG59XG5cbi8vIFRoaXMgaXMgdG8gYmUgZGVmZW5zaXZlIGluIGVudmlyb25tZW50cyB3aGVyZSB3aW5kb3cgZG9lcyBub3QgZXhpc3QgKHNlZSBodHRwczovL2dpdGh1Yi5jb20vZ2V0c2VudHJ5L3JhdmVuLWpzL3B1bGwvNzg1KVxudmFyIF93aW5kb3cgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvd1xuICAgICAgICAgICAgOiB0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJyA/IGdsb2JhbFxuICAgICAgICAgICAgOiB0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcgPyBzZWxmXG4gICAgICAgICAgICA6IHt9O1xudmFyIF9kb2N1bWVudCA9IF93aW5kb3cuZG9jdW1lbnQ7XG52YXIgX25hdmlnYXRvciA9IF93aW5kb3cubmF2aWdhdG9yO1xuXG5cbmZ1bmN0aW9uIGtlZXBPcmlnaW5hbENhbGxiYWNrKG9yaWdpbmFsLCBjYWxsYmFjaykge1xuICAgIHJldHVybiBpc0Z1bmN0aW9uKGNhbGxiYWNrKSA/XG4gICAgZnVuY3Rpb24gKGRhdGEpIHsgcmV0dXJuIGNhbGxiYWNrKGRhdGEsIG9yaWdpbmFsKSB9IDpcbiAgICBjYWxsYmFjaztcbn1cblxuLy8gRmlyc3QsIGNoZWNrIGZvciBKU09OIHN1cHBvcnRcbi8vIElmIHRoZXJlIGlzIG5vIEpTT04sIHdlIG5vLW9wIHRoZSBjb3JlIGZlYXR1cmVzIG9mIFJhdmVuXG4vLyBzaW5jZSBKU09OIGlzIHJlcXVpcmVkIHRvIGVuY29kZSB0aGUgcGF5bG9hZFxuZnVuY3Rpb24gUmF2ZW4oKSB7XG4gICAgdGhpcy5faGFzSlNPTiA9ICEhKHR5cGVvZiBKU09OID09PSAnb2JqZWN0JyAmJiBKU09OLnN0cmluZ2lmeSk7XG4gICAgLy8gUmF2ZW4gY2FuIHJ1biBpbiBjb250ZXh0cyB3aGVyZSB0aGVyZSdzIG5vIGRvY3VtZW50IChyZWFjdC1uYXRpdmUpXG4gICAgdGhpcy5faGFzRG9jdW1lbnQgPSAhaXNVbmRlZmluZWQoX2RvY3VtZW50KTtcbiAgICB0aGlzLl9oYXNOYXZpZ2F0b3IgPSAhaXNVbmRlZmluZWQoX25hdmlnYXRvcik7XG4gICAgdGhpcy5fbGFzdENhcHR1cmVkRXhjZXB0aW9uID0gbnVsbDtcbiAgICB0aGlzLl9sYXN0RGF0YSA9IG51bGw7XG4gICAgdGhpcy5fbGFzdEV2ZW50SWQgPSBudWxsO1xuICAgIHRoaXMuX2dsb2JhbFNlcnZlciA9IG51bGw7XG4gICAgdGhpcy5fZ2xvYmFsS2V5ID0gbnVsbDtcbiAgICB0aGlzLl9nbG9iYWxQcm9qZWN0ID0gbnVsbDtcbiAgICB0aGlzLl9nbG9iYWxDb250ZXh0ID0ge307XG4gICAgdGhpcy5fZ2xvYmFsT3B0aW9ucyA9IHtcbiAgICAgICAgbG9nZ2VyOiAnamF2YXNjcmlwdCcsXG4gICAgICAgIGlnbm9yZUVycm9yczogW10sXG4gICAgICAgIGlnbm9yZVVybHM6IFtdLFxuICAgICAgICB3aGl0ZWxpc3RVcmxzOiBbXSxcbiAgICAgICAgaW5jbHVkZVBhdGhzOiBbXSxcbiAgICAgICAgY3Jvc3NPcmlnaW46ICdhbm9ueW1vdXMnLFxuICAgICAgICBjb2xsZWN0V2luZG93RXJyb3JzOiB0cnVlLFxuICAgICAgICBtYXhNZXNzYWdlTGVuZ3RoOiAwLFxuXG4gICAgICAgIC8vIEJ5IGRlZmF1bHQsIHRydW5jYXRlcyBVUkwgdmFsdWVzIHRvIDI1MCBjaGFyc1xuICAgICAgICBtYXhVcmxMZW5ndGg6IDI1MCxcbiAgICAgICAgc3RhY2tUcmFjZUxpbWl0OiA1MCxcbiAgICAgICAgYXV0b0JyZWFkY3J1bWJzOiB0cnVlLFxuICAgICAgICBpbnN0cnVtZW50OiB0cnVlLFxuICAgICAgICBzYW1wbGVSYXRlOiAxXG4gICAgfTtcbiAgICB0aGlzLl9pZ25vcmVPbkVycm9yID0gMDtcbiAgICB0aGlzLl9pc1JhdmVuSW5zdGFsbGVkID0gZmFsc2U7XG4gICAgdGhpcy5fb3JpZ2luYWxFcnJvclN0YWNrVHJhY2VMaW1pdCA9IEVycm9yLnN0YWNrVHJhY2VMaW1pdDtcbiAgICAvLyBjYXB0dXJlIHJlZmVyZW5jZXMgdG8gd2luZG93LmNvbnNvbGUgKmFuZCogYWxsIGl0cyBtZXRob2RzIGZpcnN0XG4gICAgLy8gYmVmb3JlIHRoZSBjb25zb2xlIHBsdWdpbiBoYXMgYSBjaGFuY2UgdG8gbW9ua2V5IHBhdGNoXG4gICAgdGhpcy5fb3JpZ2luYWxDb25zb2xlID0gX3dpbmRvdy5jb25zb2xlIHx8IHt9O1xuICAgIHRoaXMuX29yaWdpbmFsQ29uc29sZU1ldGhvZHMgPSB7fTtcbiAgICB0aGlzLl9wbHVnaW5zID0gW107XG4gICAgdGhpcy5fc3RhcnRUaW1lID0gbm93KCk7XG4gICAgdGhpcy5fd3JhcHBlZEJ1aWx0SW5zID0gW107XG4gICAgdGhpcy5fYnJlYWRjcnVtYnMgPSBbXTtcbiAgICB0aGlzLl9sYXN0Q2FwdHVyZWRFdmVudCA9IG51bGw7XG4gICAgdGhpcy5fa2V5cHJlc3NUaW1lb3V0O1xuICAgIHRoaXMuX2xvY2F0aW9uID0gX3dpbmRvdy5sb2NhdGlvbjtcbiAgICB0aGlzLl9sYXN0SHJlZiA9IHRoaXMuX2xvY2F0aW9uICYmIHRoaXMuX2xvY2F0aW9uLmhyZWY7XG4gICAgdGhpcy5fcmVzZXRCYWNrb2ZmKCk7XG5cbiAgICBmb3IgKHZhciBtZXRob2QgaW4gdGhpcy5fb3JpZ2luYWxDb25zb2xlKSB7ICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGd1YXJkLWZvci1pblxuICAgICAgdGhpcy5fb3JpZ2luYWxDb25zb2xlTWV0aG9kc1ttZXRob2RdID0gdGhpcy5fb3JpZ2luYWxDb25zb2xlW21ldGhvZF07XG4gICAgfVxufVxuXG4vKlxuICogVGhlIGNvcmUgUmF2ZW4gc2luZ2xldG9uXG4gKlxuICogQHRoaXMge1JhdmVufVxuICovXG5cblJhdmVuLnByb3RvdHlwZSA9IHtcbiAgICAvLyBIYXJkY29kZSB2ZXJzaW9uIHN0cmluZyBzbyB0aGF0IHJhdmVuIHNvdXJjZSBjYW4gYmUgbG9hZGVkIGRpcmVjdGx5IHZpYVxuICAgIC8vIHdlYnBhY2sgKHVzaW5nIGEgYnVpbGQgc3RlcCBjYXVzZXMgd2VicGFjayAjMTYxNykuIEdydW50IHZlcmlmaWVzIHRoYXRcbiAgICAvLyB0aGlzIHZhbHVlIG1hdGNoZXMgcGFja2FnZS5qc29uIGR1cmluZyBidWlsZC5cbiAgICAvLyAgIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL2dldHNlbnRyeS9yYXZlbi1qcy9pc3N1ZXMvNDY1XG4gICAgVkVSU0lPTjogJzMuMTcuMCcsXG5cbiAgICBkZWJ1ZzogZmFsc2UsXG5cbiAgICBUcmFjZUtpdDogVHJhY2VLaXQsIC8vIGFsaWFzIHRvIFRyYWNlS2l0XG5cbiAgICAvKlxuICAgICAqIENvbmZpZ3VyZSBSYXZlbiB3aXRoIGEgRFNOIGFuZCBleHRyYSBvcHRpb25zXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZHNuIFRoZSBwdWJsaWMgU2VudHJ5IERTTlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIE9wdGlvbmFsIHNldCBvZiBvZiBnbG9iYWwgb3B0aW9ucyBbb3B0aW9uYWxdXG4gICAgICogQHJldHVybiB7UmF2ZW59XG4gICAgICovXG4gICAgY29uZmlnOiBmdW5jdGlvbihkc24sIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgIGlmIChzZWxmLl9nbG9iYWxTZXJ2ZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9sb2dEZWJ1ZygnZXJyb3InLCAnRXJyb3I6IFJhdmVuIGhhcyBhbHJlYWR5IGJlZW4gY29uZmlndXJlZCcpO1xuICAgICAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFkc24pIHJldHVybiBzZWxmO1xuXG4gICAgICAgIHZhciBnbG9iYWxPcHRpb25zID0gc2VsZi5fZ2xvYmFsT3B0aW9ucztcblxuICAgICAgICAvLyBtZXJnZSBpbiBvcHRpb25zXG4gICAgICAgIGlmIChvcHRpb25zKSB7XG4gICAgICAgICAgICBlYWNoKG9wdGlvbnMsIGZ1bmN0aW9uKGtleSwgdmFsdWUpe1xuICAgICAgICAgICAgICAgIC8vIHRhZ3MgYW5kIGV4dHJhIGFyZSBzcGVjaWFsIGFuZCBuZWVkIHRvIGJlIHB1dCBpbnRvIGNvbnRleHRcbiAgICAgICAgICAgICAgICBpZiAoa2V5ID09PSAndGFncycgfHwga2V5ID09PSAnZXh0cmEnIHx8IGtleSA9PT0gJ3VzZXInKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuX2dsb2JhbENvbnRleHRba2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGdsb2JhbE9wdGlvbnNba2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgc2VsZi5zZXREU04oZHNuKTtcblxuICAgICAgICAvLyBcIlNjcmlwdCBlcnJvci5cIiBpcyBoYXJkIGNvZGVkIGludG8gYnJvd3NlcnMgZm9yIGVycm9ycyB0aGF0IGl0IGNhbid0IHJlYWQuXG4gICAgICAgIC8vIHRoaXMgaXMgdGhlIHJlc3VsdCBvZiBhIHNjcmlwdCBiZWluZyBwdWxsZWQgaW4gZnJvbSBhbiBleHRlcm5hbCBkb21haW4gYW5kIENPUlMuXG4gICAgICAgIGdsb2JhbE9wdGlvbnMuaWdub3JlRXJyb3JzLnB1c2goL15TY3JpcHQgZXJyb3JcXC4/JC8pO1xuICAgICAgICBnbG9iYWxPcHRpb25zLmlnbm9yZUVycm9ycy5wdXNoKC9eSmF2YXNjcmlwdCBlcnJvcjogU2NyaXB0IGVycm9yXFwuPyBvbiBsaW5lIDAkLyk7XG5cbiAgICAgICAgLy8gam9pbiByZWdleHAgcnVsZXMgaW50byBvbmUgYmlnIHJ1bGVcbiAgICAgICAgZ2xvYmFsT3B0aW9ucy5pZ25vcmVFcnJvcnMgPSBqb2luUmVnRXhwKGdsb2JhbE9wdGlvbnMuaWdub3JlRXJyb3JzKTtcbiAgICAgICAgZ2xvYmFsT3B0aW9ucy5pZ25vcmVVcmxzID0gZ2xvYmFsT3B0aW9ucy5pZ25vcmVVcmxzLmxlbmd0aCA/IGpvaW5SZWdFeHAoZ2xvYmFsT3B0aW9ucy5pZ25vcmVVcmxzKSA6IGZhbHNlO1xuICAgICAgICBnbG9iYWxPcHRpb25zLndoaXRlbGlzdFVybHMgPSBnbG9iYWxPcHRpb25zLndoaXRlbGlzdFVybHMubGVuZ3RoID8gam9pblJlZ0V4cChnbG9iYWxPcHRpb25zLndoaXRlbGlzdFVybHMpIDogZmFsc2U7XG4gICAgICAgIGdsb2JhbE9wdGlvbnMuaW5jbHVkZVBhdGhzID0gam9pblJlZ0V4cChnbG9iYWxPcHRpb25zLmluY2x1ZGVQYXRocyk7XG4gICAgICAgIGdsb2JhbE9wdGlvbnMubWF4QnJlYWRjcnVtYnMgPSBNYXRoLm1heCgwLCBNYXRoLm1pbihnbG9iYWxPcHRpb25zLm1heEJyZWFkY3J1bWJzIHx8IDEwMCwgMTAwKSk7IC8vIGRlZmF1bHQgYW5kIGhhcmQgbGltaXQgaXMgMTAwXG5cbiAgICAgICAgdmFyIGF1dG9CcmVhZGNydW1iRGVmYXVsdHMgPSB7XG4gICAgICAgICAgICB4aHI6IHRydWUsXG4gICAgICAgICAgICBjb25zb2xlOiB0cnVlLFxuICAgICAgICAgICAgZG9tOiB0cnVlLFxuICAgICAgICAgICAgbG9jYXRpb246IHRydWVcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgYXV0b0JyZWFkY3J1bWJzID0gZ2xvYmFsT3B0aW9ucy5hdXRvQnJlYWRjcnVtYnM7XG4gICAgICAgIGlmICh7fS50b1N0cmluZy5jYWxsKGF1dG9CcmVhZGNydW1icykgPT09ICdbb2JqZWN0IE9iamVjdF0nKSB7XG4gICAgICAgICAgICBhdXRvQnJlYWRjcnVtYnMgPSBvYmplY3RNZXJnZShhdXRvQnJlYWRjcnVtYkRlZmF1bHRzLCBhdXRvQnJlYWRjcnVtYnMpO1xuICAgICAgICB9IGVsc2UgaWYgKGF1dG9CcmVhZGNydW1icyAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGF1dG9CcmVhZGNydW1icyA9IGF1dG9CcmVhZGNydW1iRGVmYXVsdHM7XG4gICAgICAgIH1cbiAgICAgICAgZ2xvYmFsT3B0aW9ucy5hdXRvQnJlYWRjcnVtYnMgPSBhdXRvQnJlYWRjcnVtYnM7XG5cbiAgICAgICAgdmFyIGluc3RydW1lbnREZWZhdWx0cyA9IHtcbiAgICAgICAgICAgIHRyeUNhdGNoOiB0cnVlXG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIGluc3RydW1lbnQgPSBnbG9iYWxPcHRpb25zLmluc3RydW1lbnQ7XG4gICAgICAgIGlmICh7fS50b1N0cmluZy5jYWxsKGluc3RydW1lbnQpID09PSAnW29iamVjdCBPYmplY3RdJykge1xuICAgICAgICAgICAgaW5zdHJ1bWVudCA9IG9iamVjdE1lcmdlKGluc3RydW1lbnREZWZhdWx0cywgaW5zdHJ1bWVudCk7XG4gICAgICAgIH0gZWxzZSBpZiAoaW5zdHJ1bWVudCAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGluc3RydW1lbnQgPSBpbnN0cnVtZW50RGVmYXVsdHM7XG4gICAgICAgIH1cbiAgICAgICAgZ2xvYmFsT3B0aW9ucy5pbnN0cnVtZW50ID0gaW5zdHJ1bWVudDtcblxuICAgICAgICBUcmFjZUtpdC5jb2xsZWN0V2luZG93RXJyb3JzID0gISFnbG9iYWxPcHRpb25zLmNvbGxlY3RXaW5kb3dFcnJvcnM7XG5cbiAgICAgICAgLy8gcmV0dXJuIGZvciBjaGFpbmluZ1xuICAgICAgICByZXR1cm4gc2VsZjtcbiAgICB9LFxuXG4gICAgLypcbiAgICAgKiBJbnN0YWxscyBhIGdsb2JhbCB3aW5kb3cub25lcnJvciBlcnJvciBoYW5kbGVyXG4gICAgICogdG8gY2FwdHVyZSBhbmQgcmVwb3J0IHVuY2F1Z2h0IGV4Y2VwdGlvbnMuXG4gICAgICogQXQgdGhpcyBwb2ludCwgaW5zdGFsbCgpIGlzIHJlcXVpcmVkIHRvIGJlIGNhbGxlZCBkdWVcbiAgICAgKiB0byB0aGUgd2F5IFRyYWNlS2l0IGlzIHNldCB1cC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1JhdmVufVxuICAgICAqL1xuICAgIGluc3RhbGw6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIGlmIChzZWxmLmlzU2V0dXAoKSAmJiAhc2VsZi5faXNSYXZlbkluc3RhbGxlZCkge1xuICAgICAgICAgICAgVHJhY2VLaXQucmVwb3J0LnN1YnNjcmliZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5faGFuZGxlT25FcnJvclN0YWNrSW5mby5hcHBseShzZWxmLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoc2VsZi5fZ2xvYmFsT3B0aW9ucy5pbnN0cnVtZW50ICYmIHNlbGYuX2dsb2JhbE9wdGlvbnMuaW5zdHJ1bWVudC50cnlDYXRjaCkge1xuICAgICAgICAgICAgICBzZWxmLl9pbnN0cnVtZW50VHJ5Q2F0Y2goKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHNlbGYuX2dsb2JhbE9wdGlvbnMuYXV0b0JyZWFkY3J1bWJzKVxuICAgICAgICAgICAgICAgIHNlbGYuX2luc3RydW1lbnRCcmVhZGNydW1icygpO1xuXG4gICAgICAgICAgICAvLyBJbnN0YWxsIGFsbCBvZiB0aGUgcGx1Z2luc1xuICAgICAgICAgICAgc2VsZi5fZHJhaW5QbHVnaW5zKCk7XG5cbiAgICAgICAgICAgIHNlbGYuX2lzUmF2ZW5JbnN0YWxsZWQgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgRXJyb3Iuc3RhY2tUcmFjZUxpbWl0ID0gc2VsZi5fZ2xvYmFsT3B0aW9ucy5zdGFja1RyYWNlTGltaXQ7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKlxuICAgICAqIFNldCB0aGUgRFNOIChjYW4gYmUgY2FsbGVkIG11bHRpcGxlIHRpbWUgdW5saWtlIGNvbmZpZylcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBkc24gVGhlIHB1YmxpYyBTZW50cnkgRFNOXG4gICAgICovXG4gICAgc2V0RFNOOiBmdW5jdGlvbihkc24pIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgICAgICAgdXJpID0gc2VsZi5fcGFyc2VEU04oZHNuKSxcbiAgICAgICAgICBsYXN0U2xhc2ggPSB1cmkucGF0aC5sYXN0SW5kZXhPZignLycpLFxuICAgICAgICAgIHBhdGggPSB1cmkucGF0aC5zdWJzdHIoMSwgbGFzdFNsYXNoKTtcblxuICAgICAgICBzZWxmLl9kc24gPSBkc247XG4gICAgICAgIHNlbGYuX2dsb2JhbEtleSA9IHVyaS51c2VyO1xuICAgICAgICBzZWxmLl9nbG9iYWxTZWNyZXQgPSB1cmkucGFzcyAmJiB1cmkucGFzcy5zdWJzdHIoMSk7XG4gICAgICAgIHNlbGYuX2dsb2JhbFByb2plY3QgPSB1cmkucGF0aC5zdWJzdHIobGFzdFNsYXNoICsgMSk7XG5cbiAgICAgICAgc2VsZi5fZ2xvYmFsU2VydmVyID0gc2VsZi5fZ2V0R2xvYmFsU2VydmVyKHVyaSk7XG5cbiAgICAgICAgc2VsZi5fZ2xvYmFsRW5kcG9pbnQgPSBzZWxmLl9nbG9iYWxTZXJ2ZXIgK1xuICAgICAgICAgICAgJy8nICsgcGF0aCArICdhcGkvJyArIHNlbGYuX2dsb2JhbFByb2plY3QgKyAnL3N0b3JlLyc7XG5cbiAgICAgICAgLy8gUmVzZXQgYmFja29mZiBzdGF0ZSBzaW5jZSB3ZSBtYXkgYmUgcG9pbnRpbmcgYXQgYVxuICAgICAgICAvLyBuZXcgcHJvamVjdC9zZXJ2ZXJcbiAgICAgICAgdGhpcy5fcmVzZXRCYWNrb2ZmKCk7XG4gICAgfSxcblxuICAgIC8qXG4gICAgICogV3JhcCBjb2RlIHdpdGhpbiBhIGNvbnRleHQgc28gUmF2ZW4gY2FuIGNhcHR1cmUgZXJyb3JzXG4gICAgICogcmVsaWFibHkgYWNyb3NzIGRvbWFpbnMgdGhhdCBpcyBleGVjdXRlZCBpbW1lZGlhdGVseS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIEEgc3BlY2lmaWMgc2V0IG9mIG9wdGlvbnMgZm9yIHRoaXMgY29udGV4dCBbb3B0aW9uYWxdXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gZnVuYyBUaGUgY2FsbGJhY2sgdG8gYmUgaW1tZWRpYXRlbHkgZXhlY3V0ZWQgd2l0aGluIHRoZSBjb250ZXh0XG4gICAgICogQHBhcmFtIHthcnJheX0gYXJncyBBbiBhcnJheSBvZiBhcmd1bWVudHMgdG8gYmUgY2FsbGVkIHdpdGggdGhlIGNhbGxiYWNrIFtvcHRpb25hbF1cbiAgICAgKi9cbiAgICBjb250ZXh0OiBmdW5jdGlvbihvcHRpb25zLCBmdW5jLCBhcmdzKSB7XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKG9wdGlvbnMpKSB7XG4gICAgICAgICAgICBhcmdzID0gZnVuYyB8fCBbXTtcbiAgICAgICAgICAgIGZ1bmMgPSBvcHRpb25zO1xuICAgICAgICAgICAgb3B0aW9ucyA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLndyYXAob3B0aW9ucywgZnVuYykuYXBwbHkodGhpcywgYXJncyk7XG4gICAgfSxcblxuICAgIC8qXG4gICAgICogV3JhcCBjb2RlIHdpdGhpbiBhIGNvbnRleHQgYW5kIHJldHVybnMgYmFjayBhIG5ldyBmdW5jdGlvbiB0byBiZSBleGVjdXRlZFxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgQSBzcGVjaWZpYyBzZXQgb2Ygb3B0aW9ucyBmb3IgdGhpcyBjb250ZXh0IFtvcHRpb25hbF1cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBiZSB3cmFwcGVkIGluIGEgbmV3IGNvbnRleHRcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBmdW5jIEEgZnVuY3Rpb24gdG8gY2FsbCBiZWZvcmUgdGhlIHRyeS9jYXRjaCB3cmFwcGVyIFtvcHRpb25hbCwgcHJpdmF0ZV1cbiAgICAgKiBAcmV0dXJuIHtmdW5jdGlvbn0gVGhlIG5ld2x5IHdyYXBwZWQgZnVuY3Rpb25zIHdpdGggYSBjb250ZXh0XG4gICAgICovXG4gICAgd3JhcDogZnVuY3Rpb24ob3B0aW9ucywgZnVuYywgX2JlZm9yZSkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIC8vIDEgYXJndW1lbnQgaGFzIGJlZW4gcGFzc2VkLCBhbmQgaXQncyBub3QgYSBmdW5jdGlvblxuICAgICAgICAvLyBzbyBqdXN0IHJldHVybiBpdFxuICAgICAgICBpZiAoaXNVbmRlZmluZWQoZnVuYykgJiYgIWlzRnVuY3Rpb24ob3B0aW9ucykpIHtcbiAgICAgICAgICAgIHJldHVybiBvcHRpb25zO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gb3B0aW9ucyBpcyBvcHRpb25hbFxuICAgICAgICBpZiAoaXNGdW5jdGlvbihvcHRpb25zKSkge1xuICAgICAgICAgICAgZnVuYyA9IG9wdGlvbnM7XG4gICAgICAgICAgICBvcHRpb25zID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQXQgdGhpcyBwb2ludCwgd2UndmUgcGFzc2VkIGFsb25nIDIgYXJndW1lbnRzLCBhbmQgdGhlIHNlY29uZCBvbmVcbiAgICAgICAgLy8gaXMgbm90IGEgZnVuY3Rpb24gZWl0aGVyLCBzbyB3ZSdsbCBqdXN0IHJldHVybiB0aGUgc2Vjb25kIGFyZ3VtZW50LlxuICAgICAgICBpZiAoIWlzRnVuY3Rpb24oZnVuYykpIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gV2UgZG9uJ3Qgd2FubmEgd3JhcCBpdCB0d2ljZSFcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChmdW5jLl9fcmF2ZW5fXykge1xuICAgICAgICAgICAgICAgIHJldHVybiBmdW5jO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBJZiB0aGlzIGhhcyBhbHJlYWR5IGJlZW4gd3JhcHBlZCBpbiB0aGUgcGFzdCwgcmV0dXJuIHRoYXRcbiAgICAgICAgICAgIGlmIChmdW5jLl9fcmF2ZW5fd3JhcHBlcl9fICl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmMuX19yYXZlbl93cmFwcGVyX18gO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAvLyBKdXN0IGFjY2Vzc2luZyBjdXN0b20gcHJvcHMgaW4gc29tZSBTZWxlbml1bSBlbnZpcm9ubWVudHNcbiAgICAgICAgICAgIC8vIGNhbiBjYXVzZSBhIFwiUGVybWlzc2lvbiBkZW5pZWRcIiBleGNlcHRpb24gKHNlZSByYXZlbi1qcyM0OTUpLlxuICAgICAgICAgICAgLy8gQmFpbCBvbiB3cmFwcGluZyBhbmQgcmV0dXJuIHRoZSBmdW5jdGlvbiBhcy1pcyAoZGVmZXJzIHRvIHdpbmRvdy5vbmVycm9yKS5cbiAgICAgICAgICAgIHJldHVybiBmdW5jO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gd3JhcHBlZCgpIHtcbiAgICAgICAgICAgIHZhciBhcmdzID0gW10sIGkgPSBhcmd1bWVudHMubGVuZ3RoLFxuICAgICAgICAgICAgICAgIGRlZXAgPSAhb3B0aW9ucyB8fCBvcHRpb25zICYmIG9wdGlvbnMuZGVlcCAhPT0gZmFsc2U7XG5cbiAgICAgICAgICAgIGlmIChfYmVmb3JlICYmIGlzRnVuY3Rpb24oX2JlZm9yZSkpIHtcbiAgICAgICAgICAgICAgICBfYmVmb3JlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFJlY3Vyc2l2ZWx5IHdyYXAgYWxsIG9mIGEgZnVuY3Rpb24ncyBhcmd1bWVudHMgdGhhdCBhcmVcbiAgICAgICAgICAgIC8vIGZ1bmN0aW9ucyB0aGVtc2VsdmVzLlxuICAgICAgICAgICAgd2hpbGUoaS0tKSBhcmdzW2ldID0gZGVlcCA/IHNlbGYud3JhcChvcHRpb25zLCBhcmd1bWVudHNbaV0pIDogYXJndW1lbnRzW2ldO1xuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIC8vIEF0dGVtcHQgdG8gaW52b2tlIHVzZXItbGFuZCBmdW5jdGlvblxuICAgICAgICAgICAgICAgIC8vIE5PVEU6IElmIHlvdSBhcmUgYSBTZW50cnkgdXNlciwgYW5kIHlvdSBhcmUgc2VlaW5nIHRoaXMgc3RhY2sgZnJhbWUsIGl0XG4gICAgICAgICAgICAgICAgLy8gICAgICAgbWVhbnMgUmF2ZW4gY2F1Z2h0IGFuIGVycm9yIGludm9raW5nIHlvdXIgYXBwbGljYXRpb24gY29kZS4gVGhpcyBpc1xuICAgICAgICAgICAgICAgIC8vICAgICAgIGV4cGVjdGVkIGJlaGF2aW9yIGFuZCBOT1QgaW5kaWNhdGl2ZSBvZiBhIGJ1ZyB3aXRoIFJhdmVuLmpzLlxuICAgICAgICAgICAgICAgIHJldHVybiBmdW5jLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5faWdub3JlTmV4dE9uRXJyb3IoKTtcbiAgICAgICAgICAgICAgICBzZWxmLmNhcHR1cmVFeGNlcHRpb24oZSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNvcHkgb3ZlciBwcm9wZXJ0aWVzIG9mIHRoZSBvbGQgZnVuY3Rpb25cbiAgICAgICAgZm9yICh2YXIgcHJvcGVydHkgaW4gZnVuYykge1xuICAgICAgICAgICAgaWYgKGhhc0tleShmdW5jLCBwcm9wZXJ0eSkpIHtcbiAgICAgICAgICAgICAgICB3cmFwcGVkW3Byb3BlcnR5XSA9IGZ1bmNbcHJvcGVydHldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHdyYXBwZWQucHJvdG90eXBlID0gZnVuYy5wcm90b3R5cGU7XG5cbiAgICAgICAgZnVuYy5fX3JhdmVuX3dyYXBwZXJfXyA9IHdyYXBwZWQ7XG4gICAgICAgIC8vIFNpZ25hbCB0aGF0IHRoaXMgZnVuY3Rpb24gaGFzIGJlZW4gd3JhcHBlZCBhbHJlYWR5XG4gICAgICAgIC8vIGZvciBib3RoIGRlYnVnZ2luZyBhbmQgdG8gcHJldmVudCBpdCB0byBiZWluZyB3cmFwcGVkIHR3aWNlXG4gICAgICAgIHdyYXBwZWQuX19yYXZlbl9fID0gdHJ1ZTtcbiAgICAgICAgd3JhcHBlZC5fX2lubmVyX18gPSBmdW5jO1xuXG4gICAgICAgIHJldHVybiB3cmFwcGVkO1xuICAgIH0sXG5cbiAgICAvKlxuICAgICAqIFVuaW5zdGFsbHMgdGhlIGdsb2JhbCBlcnJvciBoYW5kbGVyLlxuICAgICAqXG4gICAgICogQHJldHVybiB7UmF2ZW59XG4gICAgICovXG4gICAgdW5pbnN0YWxsOiBmdW5jdGlvbigpIHtcbiAgICAgICAgVHJhY2VLaXQucmVwb3J0LnVuaW5zdGFsbCgpO1xuXG4gICAgICAgIHRoaXMuX3Jlc3RvcmVCdWlsdElucygpO1xuXG4gICAgICAgIEVycm9yLnN0YWNrVHJhY2VMaW1pdCA9IHRoaXMuX29yaWdpbmFsRXJyb3JTdGFja1RyYWNlTGltaXQ7XG4gICAgICAgIHRoaXMuX2lzUmF2ZW5JbnN0YWxsZWQgPSBmYWxzZTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLypcbiAgICAgKiBNYW51YWxseSBjYXB0dXJlIGFuIGV4Y2VwdGlvbiBhbmQgc2VuZCBpdCBvdmVyIHRvIFNlbnRyeVxuICAgICAqXG4gICAgICogQHBhcmFtIHtlcnJvcn0gZXggQW4gZXhjZXB0aW9uIHRvIGJlIGxvZ2dlZFxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIEEgc3BlY2lmaWMgc2V0IG9mIG9wdGlvbnMgZm9yIHRoaXMgZXJyb3IgW29wdGlvbmFsXVxuICAgICAqIEByZXR1cm4ge1JhdmVufVxuICAgICAqL1xuICAgIGNhcHR1cmVFeGNlcHRpb246IGZ1bmN0aW9uKGV4LCBvcHRpb25zKSB7XG4gICAgICAgIC8vIElmIG5vdCBhbiBFcnJvciBpcyBwYXNzZWQgdGhyb3VnaCwgcmVjYWxsIGFzIGEgbWVzc2FnZSBpbnN0ZWFkXG4gICAgICAgIGlmICghaXNFcnJvcihleCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNhcHR1cmVNZXNzYWdlKGV4LCBvYmplY3RNZXJnZSh7XG4gICAgICAgICAgICAgICAgdHJpbUhlYWRGcmFtZXM6IDEsXG4gICAgICAgICAgICAgICAgc3RhY2t0cmFjZTogdHJ1ZSAvLyBpZiB3ZSBmYWxsIGJhY2sgdG8gY2FwdHVyZU1lc3NhZ2UsIGRlZmF1bHQgdG8gYXR0ZW1wdGluZyBhIG5ldyB0cmFjZVxuICAgICAgICAgICAgfSwgb3B0aW9ucykpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU3RvcmUgdGhlIHJhdyBleGNlcHRpb24gb2JqZWN0IGZvciBwb3RlbnRpYWwgZGVidWdnaW5nIGFuZCBpbnRyb3NwZWN0aW9uXG4gICAgICAgIHRoaXMuX2xhc3RDYXB0dXJlZEV4Y2VwdGlvbiA9IGV4O1xuXG4gICAgICAgIC8vIFRyYWNlS2l0LnJlcG9ydCB3aWxsIHJlLXJhaXNlIGFueSBleGNlcHRpb24gcGFzc2VkIHRvIGl0LFxuICAgICAgICAvLyB3aGljaCBtZWFucyB5b3UgaGF2ZSB0byB3cmFwIGl0IGluIHRyeS9jYXRjaC4gSW5zdGVhZCwgd2VcbiAgICAgICAgLy8gY2FuIHdyYXAgaXQgaGVyZSBhbmQgb25seSByZS1yYWlzZSBpZiBUcmFjZUtpdC5yZXBvcnRcbiAgICAgICAgLy8gcmFpc2VzIGFuIGV4Y2VwdGlvbiBkaWZmZXJlbnQgZnJvbSB0aGUgb25lIHdlIGFza2VkIHRvXG4gICAgICAgIC8vIHJlcG9ydCBvbi5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciBzdGFjayA9IFRyYWNlS2l0LmNvbXB1dGVTdGFja1RyYWNlKGV4KTtcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZVN0YWNrSW5mbyhzdGFjaywgb3B0aW9ucyk7XG4gICAgICAgIH0gY2F0Y2goZXgxKSB7XG4gICAgICAgICAgICBpZihleCAhPT0gZXgxKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgZXgxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qXG4gICAgICogTWFudWFsbHkgc2VuZCBhIG1lc3NhZ2UgdG8gU2VudHJ5XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbXNnIEEgcGxhaW4gbWVzc2FnZSB0byBiZSBjYXB0dXJlZCBpbiBTZW50cnlcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyBBIHNwZWNpZmljIHNldCBvZiBvcHRpb25zIGZvciB0aGlzIG1lc3NhZ2UgW29wdGlvbmFsXVxuICAgICAqIEByZXR1cm4ge1JhdmVufVxuICAgICAqL1xuICAgIGNhcHR1cmVNZXNzYWdlOiBmdW5jdGlvbihtc2csIG9wdGlvbnMpIHtcbiAgICAgICAgLy8gY29uZmlnKCkgYXV0b21hZ2ljYWxseSBjb252ZXJ0cyBpZ25vcmVFcnJvcnMgZnJvbSBhIGxpc3QgdG8gYSBSZWdFeHAgc28gd2UgbmVlZCB0byB0ZXN0IGZvciBhblxuICAgICAgICAvLyBlYXJseSBjYWxsOyB3ZSdsbCBlcnJvciBvbiB0aGUgc2lkZSBvZiBsb2dnaW5nIGFueXRoaW5nIGNhbGxlZCBiZWZvcmUgY29uZmlndXJhdGlvbiBzaW5jZSBpdCdzXG4gICAgICAgIC8vIHByb2JhYmx5IHNvbWV0aGluZyB5b3Ugc2hvdWxkIHNlZTpcbiAgICAgICAgaWYgKCEhdGhpcy5fZ2xvYmFsT3B0aW9ucy5pZ25vcmVFcnJvcnMudGVzdCAmJiB0aGlzLl9nbG9iYWxPcHRpb25zLmlnbm9yZUVycm9ycy50ZXN0KG1zZykpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgICAgIHZhciBkYXRhID0gb2JqZWN0TWVyZ2Uoe1xuICAgICAgICAgICAgbWVzc2FnZTogbXNnICsgJycgIC8vIE1ha2Ugc3VyZSBpdCdzIGFjdHVhbGx5IGEgc3RyaW5nXG4gICAgICAgIH0sIG9wdGlvbnMpO1xuXG4gICAgICAgIGlmICh0aGlzLl9nbG9iYWxPcHRpb25zLnN0YWNrdHJhY2UgfHwgKG9wdGlvbnMgJiYgb3B0aW9ucy5zdGFja3RyYWNlKSkge1xuICAgICAgICAgICAgdmFyIGV4O1xuICAgICAgICAgICAgLy8gR2VuZXJhdGUgYSBcInN5bnRoZXRpY1wiIHN0YWNrIHRyYWNlIGZyb20gdGhpcyBwb2ludC5cbiAgICAgICAgICAgIC8vIE5PVEU6IElmIHlvdSBhcmUgYSBTZW50cnkgdXNlciwgYW5kIHlvdSBhcmUgc2VlaW5nIHRoaXMgc3RhY2sgZnJhbWUsIGl0IGlzIE5PVCBpbmRpY2F0aXZlXG4gICAgICAgICAgICAvLyAgICAgICBvZiBhIGJ1ZyB3aXRoIFJhdmVuLmpzLiBTZW50cnkgZ2VuZXJhdGVzIHN5bnRoZXRpYyB0cmFjZXMgZWl0aGVyIGJ5IGNvbmZpZ3VyYXRpb24sXG4gICAgICAgICAgICAvLyAgICAgICBvciBpZiBpdCBjYXRjaGVzIGEgdGhyb3duIG9iamVjdCB3aXRob3V0IGEgXCJzdGFja1wiIHByb3BlcnR5LlxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IobXNnKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGV4MSkge1xuICAgICAgICAgICAgICAgIGV4ID0gZXgxO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBudWxsIGV4Y2VwdGlvbiBuYW1lIHNvIGBFcnJvcmAgaXNuJ3QgcHJlZml4ZWQgdG8gbXNnXG4gICAgICAgICAgICBleC5uYW1lID0gbnVsbDtcblxuICAgICAgICAgICAgb3B0aW9ucyA9IG9iamVjdE1lcmdlKHtcbiAgICAgICAgICAgICAgICAvLyBmaW5nZXJwcmludCBvbiBtc2csIG5vdCBzdGFjayB0cmFjZSAobGVnYWN5IGJlaGF2aW9yLCBjb3VsZCBiZVxuICAgICAgICAgICAgICAgIC8vIHJldmlzaXRlZClcbiAgICAgICAgICAgICAgICBmaW5nZXJwcmludDogbXNnLFxuICAgICAgICAgICAgICAgIC8vIHNpbmNlIHdlIGtub3cgdGhpcyBpcyBhIHN5bnRoZXRpYyB0cmFjZSwgdGhlIHRvcCBOLW1vc3QgZnJhbWVzXG4gICAgICAgICAgICAgICAgLy8gTVVTVCBiZSBmcm9tIFJhdmVuLmpzLCBzbyBtYXJrIHRoZW0gYXMgaW5fYXBwIGxhdGVyIGJ5IHNldHRpbmdcbiAgICAgICAgICAgICAgICAvLyB0cmltSGVhZEZyYW1lc1xuICAgICAgICAgICAgICAgIHRyaW1IZWFkRnJhbWVzOiAob3B0aW9ucy50cmltSGVhZEZyYW1lcyB8fCAwKSArIDFcbiAgICAgICAgICAgIH0sIG9wdGlvbnMpO1xuXG4gICAgICAgICAgICB2YXIgc3RhY2sgPSBUcmFjZUtpdC5jb21wdXRlU3RhY2tUcmFjZShleCk7XG4gICAgICAgICAgICB2YXIgZnJhbWVzID0gdGhpcy5fcHJlcGFyZUZyYW1lcyhzdGFjaywgb3B0aW9ucyk7XG4gICAgICAgICAgICBkYXRhLnN0YWNrdHJhY2UgPSB7XG4gICAgICAgICAgICAgICAgLy8gU2VudHJ5IGV4cGVjdHMgZnJhbWVzIG9sZGVzdCB0byBuZXdlc3RcbiAgICAgICAgICAgICAgICBmcmFtZXM6IGZyYW1lcy5yZXZlcnNlKClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEZpcmUgYXdheSFcbiAgICAgICAgdGhpcy5fc2VuZChkYXRhKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgY2FwdHVyZUJyZWFkY3J1bWI6IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgdmFyIGNydW1iID0gb2JqZWN0TWVyZ2Uoe1xuICAgICAgICAgICAgdGltZXN0YW1wOiBub3coKSAvIDEwMDBcbiAgICAgICAgfSwgb2JqKTtcblxuICAgICAgICBpZiAoaXNGdW5jdGlvbih0aGlzLl9nbG9iYWxPcHRpb25zLmJyZWFkY3J1bWJDYWxsYmFjaykpIHtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSB0aGlzLl9nbG9iYWxPcHRpb25zLmJyZWFkY3J1bWJDYWxsYmFjayhjcnVtYik7XG5cbiAgICAgICAgICAgIGlmIChpc09iamVjdChyZXN1bHQpICYmICFpc0VtcHR5T2JqZWN0KHJlc3VsdCkpIHtcbiAgICAgICAgICAgICAgICBjcnVtYiA9IHJlc3VsdDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzdWx0ID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fYnJlYWRjcnVtYnMucHVzaChjcnVtYik7XG4gICAgICAgIGlmICh0aGlzLl9icmVhZGNydW1icy5sZW5ndGggPiB0aGlzLl9nbG9iYWxPcHRpb25zLm1heEJyZWFkY3J1bWJzKSB7XG4gICAgICAgICAgICB0aGlzLl9icmVhZGNydW1icy5zaGlmdCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICBhZGRQbHVnaW46IGZ1bmN0aW9uKHBsdWdpbiAvKmFyZzEsIGFyZzIsIC4uLiBhcmdOKi8pIHtcbiAgICAgICAgdmFyIHBsdWdpbkFyZ3MgPSBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG5cbiAgICAgICAgdGhpcy5fcGx1Z2lucy5wdXNoKFtwbHVnaW4sIHBsdWdpbkFyZ3NdKTtcbiAgICAgICAgaWYgKHRoaXMuX2lzUmF2ZW5JbnN0YWxsZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX2RyYWluUGx1Z2lucygpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qXG4gICAgICogU2V0L2NsZWFyIGEgdXNlciB0byBiZSBzZW50IGFsb25nIHdpdGggdGhlIHBheWxvYWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gdXNlciBBbiBvYmplY3QgcmVwcmVzZW50aW5nIHVzZXIgZGF0YSBbb3B0aW9uYWxdXG4gICAgICogQHJldHVybiB7UmF2ZW59XG4gICAgICovXG4gICAgc2V0VXNlckNvbnRleHQ6IGZ1bmN0aW9uKHVzZXIpIHtcbiAgICAgICAgLy8gSW50ZW50aW9uYWxseSBkbyBub3QgbWVyZ2UgaGVyZSBzaW5jZSB0aGF0J3MgYW4gdW5leHBlY3RlZCBiZWhhdmlvci5cbiAgICAgICAgdGhpcy5fZ2xvYmFsQ29udGV4dC51c2VyID0gdXNlcjtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLypcbiAgICAgKiBNZXJnZSBleHRyYSBhdHRyaWJ1dGVzIHRvIGJlIHNlbnQgYWxvbmcgd2l0aCB0aGUgcGF5bG9hZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBleHRyYSBBbiBvYmplY3QgcmVwcmVzZW50aW5nIGV4dHJhIGRhdGEgW29wdGlvbmFsXVxuICAgICAqIEByZXR1cm4ge1JhdmVufVxuICAgICAqL1xuICAgIHNldEV4dHJhQ29udGV4dDogZnVuY3Rpb24oZXh0cmEpIHtcbiAgICAgICAgdGhpcy5fbWVyZ2VDb250ZXh0KCdleHRyYScsIGV4dHJhKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLypcbiAgICAgKiBNZXJnZSB0YWdzIHRvIGJlIHNlbnQgYWxvbmcgd2l0aCB0aGUgcGF5bG9hZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSB0YWdzIEFuIG9iamVjdCByZXByZXNlbnRpbmcgdGFncyBbb3B0aW9uYWxdXG4gICAgICogQHJldHVybiB7UmF2ZW59XG4gICAgICovXG4gICAgc2V0VGFnc0NvbnRleHQ6IGZ1bmN0aW9uKHRhZ3MpIHtcbiAgICAgICAgdGhpcy5fbWVyZ2VDb250ZXh0KCd0YWdzJywgdGFncyk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qXG4gICAgICogQ2xlYXIgYWxsIG9mIHRoZSBjb250ZXh0LlxuICAgICAqXG4gICAgICogQHJldHVybiB7UmF2ZW59XG4gICAgICovXG4gICAgY2xlYXJDb250ZXh0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5fZ2xvYmFsQ29udGV4dCA9IHt9O1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKlxuICAgICAqIEdldCBhIGNvcHkgb2YgdGhlIGN1cnJlbnQgY29udGV4dC4gVGhpcyBjYW5ub3QgYmUgbXV0YXRlZC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge29iamVjdH0gY29weSBvZiBjb250ZXh0XG4gICAgICovXG4gICAgZ2V0Q29udGV4dDogZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIGxvbCBqYXZhc2NyaXB0XG4gICAgICAgIHJldHVybiBKU09OLnBhcnNlKHN0cmluZ2lmeSh0aGlzLl9nbG9iYWxDb250ZXh0KSk7XG4gICAgfSxcblxuXG4gICAgLypcbiAgICAgKiBTZXQgZW52aXJvbm1lbnQgb2YgYXBwbGljYXRpb25cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBlbnZpcm9ubWVudCBUeXBpY2FsbHkgc29tZXRoaW5nIGxpa2UgJ3Byb2R1Y3Rpb24nLlxuICAgICAqIEByZXR1cm4ge1JhdmVufVxuICAgICAqL1xuICAgIHNldEVudmlyb25tZW50OiBmdW5jdGlvbihlbnZpcm9ubWVudCkge1xuICAgICAgICB0aGlzLl9nbG9iYWxPcHRpb25zLmVudmlyb25tZW50ID0gZW52aXJvbm1lbnQ7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qXG4gICAgICogU2V0IHJlbGVhc2UgdmVyc2lvbiBvZiBhcHBsaWNhdGlvblxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHJlbGVhc2UgVHlwaWNhbGx5IHNvbWV0aGluZyBsaWtlIGEgZ2l0IFNIQSB0byBpZGVudGlmeSB2ZXJzaW9uXG4gICAgICogQHJldHVybiB7UmF2ZW59XG4gICAgICovXG4gICAgc2V0UmVsZWFzZTogZnVuY3Rpb24ocmVsZWFzZSkge1xuICAgICAgICB0aGlzLl9nbG9iYWxPcHRpb25zLnJlbGVhc2UgPSByZWxlYXNlO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKlxuICAgICAqIFNldCB0aGUgZGF0YUNhbGxiYWNrIG9wdGlvblxuICAgICAqXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2sgVGhlIGNhbGxiYWNrIHRvIHJ1biB3aGljaCBhbGxvd3MgdGhlXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSBibG9iIHRvIGJlIG11dGF0ZWQgYmVmb3JlIHNlbmRpbmdcbiAgICAgKiBAcmV0dXJuIHtSYXZlbn1cbiAgICAgKi9cbiAgICBzZXREYXRhQ2FsbGJhY2s6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBvcmlnaW5hbCA9IHRoaXMuX2dsb2JhbE9wdGlvbnMuZGF0YUNhbGxiYWNrO1xuICAgICAgICB0aGlzLl9nbG9iYWxPcHRpb25zLmRhdGFDYWxsYmFjayA9XG4gICAgICAgICAga2VlcE9yaWdpbmFsQ2FsbGJhY2sob3JpZ2luYWwsIGNhbGxiYWNrKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qXG4gICAgICogU2V0IHRoZSBicmVhZGNydW1iQ2FsbGJhY2sgb3B0aW9uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFjayBUaGUgY2FsbGJhY2sgdG8gcnVuIHdoaWNoIGFsbG93cyBmaWx0ZXJpbmdcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvciBtdXRhdGluZyBicmVhZGNydW1ic1xuICAgICAqIEByZXR1cm4ge1JhdmVufVxuICAgICAqL1xuICAgIHNldEJyZWFkY3J1bWJDYWxsYmFjazogZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIG9yaWdpbmFsID0gdGhpcy5fZ2xvYmFsT3B0aW9ucy5icmVhZGNydW1iQ2FsbGJhY2s7XG4gICAgICAgIHRoaXMuX2dsb2JhbE9wdGlvbnMuYnJlYWRjcnVtYkNhbGxiYWNrID1cbiAgICAgICAgICBrZWVwT3JpZ2luYWxDYWxsYmFjayhvcmlnaW5hbCwgY2FsbGJhY2spO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLypcbiAgICAgKiBTZXQgdGhlIHNob3VsZFNlbmRDYWxsYmFjayBvcHRpb25cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrIFRoZSBjYWxsYmFjayB0byBydW4gd2hpY2ggYWxsb3dzXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgaW50cm9zcGVjdGluZyB0aGUgYmxvYiBiZWZvcmUgc2VuZGluZ1xuICAgICAqIEByZXR1cm4ge1JhdmVufVxuICAgICAqL1xuICAgIHNldFNob3VsZFNlbmRDYWxsYmFjazogZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIG9yaWdpbmFsID0gdGhpcy5fZ2xvYmFsT3B0aW9ucy5zaG91bGRTZW5kQ2FsbGJhY2s7XG4gICAgICAgIHRoaXMuX2dsb2JhbE9wdGlvbnMuc2hvdWxkU2VuZENhbGxiYWNrID1cbiAgICAgICAgICBrZWVwT3JpZ2luYWxDYWxsYmFjayhvcmlnaW5hbCwgY2FsbGJhY2spO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGUgdGhlIGRlZmF1bHQgSFRUUCB0cmFuc3BvcnQgbWVjaGFuaXNtIHRoYXQgdHJhbnNtaXRzIGRhdGFcbiAgICAgKiB0byB0aGUgU2VudHJ5IHNlcnZlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IHRyYW5zcG9ydCBGdW5jdGlvbiBpbnZva2VkIGluc3RlYWQgb2YgdGhlIGRlZmF1bHRcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYG1ha2VSZXF1ZXN0YCBoYW5kbGVyLlxuICAgICAqXG4gICAgICogQHJldHVybiB7UmF2ZW59XG4gICAgICovXG4gICAgc2V0VHJhbnNwb3J0OiBmdW5jdGlvbih0cmFuc3BvcnQpIHtcbiAgICAgICAgdGhpcy5fZ2xvYmFsT3B0aW9ucy50cmFuc3BvcnQgPSB0cmFuc3BvcnQ7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qXG4gICAgICogR2V0IHRoZSBsYXRlc3QgcmF3IGV4Y2VwdGlvbiB0aGF0IHdhcyBjYXB0dXJlZCBieSBSYXZlbi5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge2Vycm9yfVxuICAgICAqL1xuICAgIGxhc3RFeGNlcHRpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbGFzdENhcHR1cmVkRXhjZXB0aW9uO1xuICAgIH0sXG5cbiAgICAvKlxuICAgICAqIEdldCB0aGUgbGFzdCBldmVudCBpZFxuICAgICAqXG4gICAgICogQHJldHVybiB7c3RyaW5nfVxuICAgICAqL1xuICAgIGxhc3RFdmVudElkOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xhc3RFdmVudElkO1xuICAgIH0sXG5cbiAgICAvKlxuICAgICAqIERldGVybWluZSBpZiBSYXZlbiBpcyBzZXR1cCBhbmQgcmVhZHkgdG8gZ28uXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgICAqL1xuICAgIGlzU2V0dXA6IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoIXRoaXMuX2hhc0pTT04pIHJldHVybiBmYWxzZTsgIC8vIG5lZWRzIEpTT04gc3VwcG9ydFxuICAgICAgICBpZiAoIXRoaXMuX2dsb2JhbFNlcnZlcikge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnJhdmVuTm90Q29uZmlndXJlZEVycm9yKSB7XG4gICAgICAgICAgICAgIHRoaXMucmF2ZW5Ob3RDb25maWd1cmVkRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICB0aGlzLl9sb2dEZWJ1ZygnZXJyb3InLCAnRXJyb3I6IFJhdmVuIGhhcyBub3QgYmVlbiBjb25maWd1cmVkLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG5cbiAgICBhZnRlckxvYWQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gVE9ETzogcmVtb3ZlIHdpbmRvdyBkZXBlbmRlbmNlP1xuXG4gICAgICAgIC8vIEF0dGVtcHQgdG8gaW5pdGlhbGl6ZSBSYXZlbiBvbiBsb2FkXG4gICAgICAgIHZhciBSYXZlbkNvbmZpZyA9IF93aW5kb3cuUmF2ZW5Db25maWc7XG4gICAgICAgIGlmIChSYXZlbkNvbmZpZykge1xuICAgICAgICAgICAgdGhpcy5jb25maWcoUmF2ZW5Db25maWcuZHNuLCBSYXZlbkNvbmZpZy5jb25maWcpLmluc3RhbGwoKTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBzaG93UmVwb3J0RGlhbG9nOiBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICBpZiAoIV9kb2N1bWVudCkgLy8gZG9lc24ndCB3b3JrIHdpdGhvdXQgYSBkb2N1bWVudCAoUmVhY3QgbmF0aXZlKVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgICAgIHZhciBsYXN0RXZlbnRJZCA9IG9wdGlvbnMuZXZlbnRJZCB8fCB0aGlzLmxhc3RFdmVudElkKCk7XG4gICAgICAgIGlmICghbGFzdEV2ZW50SWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBSYXZlbkNvbmZpZ0Vycm9yKCdNaXNzaW5nIGV2ZW50SWQnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBkc24gPSBvcHRpb25zLmRzbiB8fCB0aGlzLl9kc247XG4gICAgICAgIGlmICghZHNuKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgUmF2ZW5Db25maWdFcnJvcignTWlzc2luZyBEU04nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBlbmNvZGUgPSBlbmNvZGVVUklDb21wb25lbnQ7XG4gICAgICAgIHZhciBxcyA9ICcnO1xuICAgICAgICBxcyArPSAnP2V2ZW50SWQ9JyArIGVuY29kZShsYXN0RXZlbnRJZCk7XG4gICAgICAgIHFzICs9ICcmZHNuPScgKyBlbmNvZGUoZHNuKTtcblxuICAgICAgICB2YXIgdXNlciA9IG9wdGlvbnMudXNlciB8fCB0aGlzLl9nbG9iYWxDb250ZXh0LnVzZXI7XG4gICAgICAgIGlmICh1c2VyKSB7XG4gICAgICAgICAgICBpZiAodXNlci5uYW1lKSAgcXMgKz0gJyZuYW1lPScgKyBlbmNvZGUodXNlci5uYW1lKTtcbiAgICAgICAgICAgIGlmICh1c2VyLmVtYWlsKSBxcyArPSAnJmVtYWlsPScgKyBlbmNvZGUodXNlci5lbWFpbCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZ2xvYmFsU2VydmVyID0gdGhpcy5fZ2V0R2xvYmFsU2VydmVyKHRoaXMuX3BhcnNlRFNOKGRzbikpO1xuXG4gICAgICAgIHZhciBzY3JpcHQgPSBfZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG4gICAgICAgIHNjcmlwdC5hc3luYyA9IHRydWU7XG4gICAgICAgIHNjcmlwdC5zcmMgPSBnbG9iYWxTZXJ2ZXIgKyAnL2FwaS9lbWJlZC9lcnJvci1wYWdlLycgKyBxcztcbiAgICAgICAgKF9kb2N1bWVudC5oZWFkIHx8IF9kb2N1bWVudC5ib2R5KS5hcHBlbmRDaGlsZChzY3JpcHQpO1xuICAgIH0sXG5cbiAgICAvKioqKiBQcml2YXRlIGZ1bmN0aW9ucyAqKioqL1xuICAgIF9pZ25vcmVOZXh0T25FcnJvcjogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHRoaXMuX2lnbm9yZU9uRXJyb3IgKz0gMTtcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvLyBvbmVycm9yIHNob3VsZCB0cmlnZ2VyIGJlZm9yZSBzZXRUaW1lb3V0XG4gICAgICAgICAgICBzZWxmLl9pZ25vcmVPbkVycm9yIC09IDE7XG4gICAgICAgIH0pO1xuICAgIH0sXG5cbiAgICBfdHJpZ2dlckV2ZW50OiBmdW5jdGlvbihldmVudFR5cGUsIG9wdGlvbnMpIHtcbiAgICAgICAgLy8gTk9URTogYGV2ZW50YCBpcyBhIG5hdGl2ZSBicm93c2VyIHRoaW5nLCBzbyBsZXQncyBhdm9pZCBjb25mbGljdGluZyB3aWh0IGl0XG4gICAgICAgIHZhciBldnQsIGtleTtcblxuICAgICAgICBpZiAoIXRoaXMuX2hhc0RvY3VtZW50KVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgICAgIGV2ZW50VHlwZSA9ICdyYXZlbicgKyBldmVudFR5cGUuc3Vic3RyKDAsMSkudG9VcHBlckNhc2UoKSArIGV2ZW50VHlwZS5zdWJzdHIoMSk7XG5cbiAgICAgICAgaWYgKF9kb2N1bWVudC5jcmVhdGVFdmVudCkge1xuICAgICAgICAgICAgZXZ0ID0gX2RvY3VtZW50LmNyZWF0ZUV2ZW50KCdIVE1MRXZlbnRzJyk7XG4gICAgICAgICAgICBldnQuaW5pdEV2ZW50KGV2ZW50VHlwZSwgdHJ1ZSwgdHJ1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBldnQgPSBfZG9jdW1lbnQuY3JlYXRlRXZlbnRPYmplY3QoKTtcbiAgICAgICAgICAgIGV2dC5ldmVudFR5cGUgPSBldmVudFR5cGU7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGtleSBpbiBvcHRpb25zKSBpZiAoaGFzS2V5KG9wdGlvbnMsIGtleSkpIHtcbiAgICAgICAgICAgIGV2dFtrZXldID0gb3B0aW9uc1trZXldO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKF9kb2N1bWVudC5jcmVhdGVFdmVudCkge1xuICAgICAgICAgICAgLy8gSUU5IGlmIHN0YW5kYXJkc1xuICAgICAgICAgICAgX2RvY3VtZW50LmRpc3BhdGNoRXZlbnQoZXZ0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIElFOCByZWdhcmRsZXNzIG9mIFF1aXJrcyBvciBTdGFuZGFyZHNcbiAgICAgICAgICAgIC8vIElFOSBpZiBxdWlya3NcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgX2RvY3VtZW50LmZpcmVFdmVudCgnb24nICsgZXZ0LmV2ZW50VHlwZS50b0xvd2VyQ2FzZSgpLCBldnQpO1xuICAgICAgICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgICAgICAgICAgLy8gRG8gbm90aGluZ1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFdyYXBzIGFkZEV2ZW50TGlzdGVuZXIgdG8gY2FwdHVyZSBVSSBicmVhZGNydW1ic1xuICAgICAqIEBwYXJhbSBldnROYW1lIHRoZSBldmVudCBuYW1lIChlLmcuIFwiY2xpY2tcIilcbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfYnJlYWRjcnVtYkV2ZW50SGFuZGxlcjogZnVuY3Rpb24oZXZ0TmFtZSkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgICAgICAvLyByZXNldCBrZXlwcmVzcyB0aW1lb3V0OyBlLmcuIHRyaWdnZXJpbmcgYSAnY2xpY2snIGFmdGVyXG4gICAgICAgICAgICAvLyBhICdrZXlwcmVzcycgd2lsbCByZXNldCB0aGUga2V5cHJlc3MgZGVib3VuY2Ugc28gdGhhdCBhIG5ld1xuICAgICAgICAgICAgLy8gc2V0IG9mIGtleXByZXNzZXMgY2FuIGJlIHJlY29yZGVkXG4gICAgICAgICAgICBzZWxmLl9rZXlwcmVzc1RpbWVvdXQgPSBudWxsO1xuXG4gICAgICAgICAgICAvLyBJdCdzIHBvc3NpYmxlIHRoaXMgaGFuZGxlciBtaWdodCB0cmlnZ2VyIG11bHRpcGxlIHRpbWVzIGZvciB0aGUgc2FtZVxuICAgICAgICAgICAgLy8gZXZlbnQgKGUuZy4gZXZlbnQgcHJvcGFnYXRpb24gdGhyb3VnaCBub2RlIGFuY2VzdG9ycykuIElnbm9yZSBpZiB3ZSd2ZVxuICAgICAgICAgICAgLy8gYWxyZWFkeSBjYXB0dXJlZCB0aGUgZXZlbnQuXG4gICAgICAgICAgICBpZiAoc2VsZi5fbGFzdENhcHR1cmVkRXZlbnQgPT09IGV2dClcbiAgICAgICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgICAgIHNlbGYuX2xhc3RDYXB0dXJlZEV2ZW50ID0gZXZ0O1xuXG4gICAgICAgICAgICAvLyB0cnkvY2F0Y2ggYm90aDpcbiAgICAgICAgICAgIC8vIC0gYWNjZXNzaW5nIGV2dC50YXJnZXQgKHNlZSBnZXRzZW50cnkvcmF2ZW4tanMjODM4LCAjNzY4KVxuICAgICAgICAgICAgLy8gLSBgaHRtbFRyZWVBc1N0cmluZ2AgYmVjYXVzZSBpdCdzIGNvbXBsZXgsIGFuZCBqdXN0IGFjY2Vzc2luZyB0aGUgRE9NIGluY29ycmVjdGx5XG4gICAgICAgICAgICAvLyAgIGNhbiB0aHJvdyBhbiBleGNlcHRpb24gaW4gc29tZSBjaXJjdW1zdGFuY2VzLlxuICAgICAgICAgICAgdmFyIHRhcmdldDtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0ID0gaHRtbFRyZWVBc1N0cmluZyhldnQudGFyZ2V0KTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICB0YXJnZXQgPSAnPHVua25vd24+JztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc2VsZi5jYXB0dXJlQnJlYWRjcnVtYih7XG4gICAgICAgICAgICAgICAgY2F0ZWdvcnk6ICd1aS4nICsgZXZ0TmFtZSwgLy8gZS5nLiB1aS5jbGljaywgdWkuaW5wdXRcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiB0YXJnZXRcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBXcmFwcyBhZGRFdmVudExpc3RlbmVyIHRvIGNhcHR1cmUga2V5cHJlc3MgVUkgZXZlbnRzXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2tleXByZXNzRXZlbnRIYW5kbGVyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgICAgICAgZGVib3VuY2VEdXJhdGlvbiA9IDEwMDA7IC8vIG1pbGxpc2Vjb25kc1xuXG4gICAgICAgIC8vIFRPRE86IGlmIHNvbWVob3cgdXNlciBzd2l0Y2hlcyBrZXlwcmVzcyB0YXJnZXQgYmVmb3JlXG4gICAgICAgIC8vICAgICAgIGRlYm91bmNlIHRpbWVvdXQgaXMgdHJpZ2dlcmVkLCB3ZSB3aWxsIG9ubHkgY2FwdHVyZVxuICAgICAgICAvLyAgICAgICBhIHNpbmdsZSBicmVhZGNydW1iIGZyb20gdGhlIEZJUlNUIHRhcmdldCAoYWNjZXB0YWJsZT8pXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgICAgICB2YXIgdGFyZ2V0O1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB0YXJnZXQgPSBldnQudGFyZ2V0O1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIC8vIGp1c3QgYWNjZXNzaW5nIGV2ZW50IHByb3BlcnRpZXMgY2FuIHRocm93IGFuIGV4Y2VwdGlvbiBpbiBzb21lIHJhcmUgY2lyY3Vtc3RhbmNlc1xuICAgICAgICAgICAgICAgIC8vIHNlZTogaHR0cHM6Ly9naXRodWIuY29tL2dldHNlbnRyeS9yYXZlbi1qcy9pc3N1ZXMvODM4XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHRhZ05hbWUgPSB0YXJnZXQgJiYgdGFyZ2V0LnRhZ05hbWU7XG5cbiAgICAgICAgICAgIC8vIG9ubHkgY29uc2lkZXIga2V5cHJlc3MgZXZlbnRzIG9uIGFjdHVhbCBpbnB1dCBlbGVtZW50c1xuICAgICAgICAgICAgLy8gdGhpcyB3aWxsIGRpc3JlZ2FyZCBrZXlwcmVzc2VzIHRhcmdldGluZyBib2R5IChlLmcuIHRhYmJpbmdcbiAgICAgICAgICAgIC8vIHRocm91Z2ggZWxlbWVudHMsIGhvdGtleXMsIGV0YylcbiAgICAgICAgICAgIGlmICghdGFnTmFtZSB8fCB0YWdOYW1lICE9PSAnSU5QVVQnICYmIHRhZ05hbWUgIT09ICdURVhUQVJFQScgJiYgIXRhcmdldC5pc0NvbnRlbnRFZGl0YWJsZSlcbiAgICAgICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgICAgIC8vIHJlY29yZCBmaXJzdCBrZXlwcmVzcyBpbiBhIHNlcmllcywgYnV0IGlnbm9yZSBzdWJzZXF1ZW50XG4gICAgICAgICAgICAvLyBrZXlwcmVzc2VzIHVudGlsIGRlYm91bmNlIGNsZWFyc1xuICAgICAgICAgICAgdmFyIHRpbWVvdXQgPSBzZWxmLl9rZXlwcmVzc1RpbWVvdXQ7XG4gICAgICAgICAgICBpZiAoIXRpbWVvdXQpIHtcbiAgICAgICAgICAgICAgICBzZWxmLl9icmVhZGNydW1iRXZlbnRIYW5kbGVyKCdpbnB1dCcpKGV2dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgICAgICAgICBzZWxmLl9rZXlwcmVzc1RpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBzZWxmLl9rZXlwcmVzc1RpbWVvdXQgPSBudWxsO1xuICAgICAgICAgICAgfSwgZGVib3VuY2VEdXJhdGlvbik7XG4gICAgICAgIH07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhcHR1cmVzIGEgYnJlYWRjcnVtYiBvZiB0eXBlIFwibmF2aWdhdGlvblwiLCBub3JtYWxpemluZyBpbnB1dCBVUkxzXG4gICAgICogQHBhcmFtIHRvIHRoZSBvcmlnaW5hdGluZyBVUkxcbiAgICAgKiBAcGFyYW0gZnJvbSB0aGUgdGFyZ2V0IFVSTFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2NhcHR1cmVVcmxDaGFuZ2U6IGZ1bmN0aW9uKGZyb20sIHRvKSB7XG4gICAgICAgIHZhciBwYXJzZWRMb2MgPSBwYXJzZVVybCh0aGlzLl9sb2NhdGlvbi5ocmVmKTtcbiAgICAgICAgdmFyIHBhcnNlZFRvID0gcGFyc2VVcmwodG8pO1xuICAgICAgICB2YXIgcGFyc2VkRnJvbSA9IHBhcnNlVXJsKGZyb20pO1xuXG4gICAgICAgIC8vIGJlY2F1c2Ugb25wb3BzdGF0ZSBvbmx5IHRlbGxzIHlvdSB0aGUgXCJuZXdcIiAodG8pIHZhbHVlIG9mIGxvY2F0aW9uLmhyZWYsIGFuZFxuICAgICAgICAvLyBub3QgdGhlIHByZXZpb3VzIChmcm9tKSB2YWx1ZSwgd2UgbmVlZCB0byB0cmFjayB0aGUgdmFsdWUgb2YgdGhlIGN1cnJlbnQgVVJMXG4gICAgICAgIC8vIHN0YXRlIG91cnNlbHZlc1xuICAgICAgICB0aGlzLl9sYXN0SHJlZiA9IHRvO1xuXG4gICAgICAgIC8vIFVzZSBvbmx5IHRoZSBwYXRoIGNvbXBvbmVudCBvZiB0aGUgVVJMIGlmIHRoZSBVUkwgbWF0Y2hlcyB0aGUgY3VycmVudFxuICAgICAgICAvLyBkb2N1bWVudCAoYWxtb3N0IGFsbCB0aGUgdGltZSB3aGVuIHVzaW5nIHB1c2hTdGF0ZSlcbiAgICAgICAgaWYgKHBhcnNlZExvYy5wcm90b2NvbCA9PT0gcGFyc2VkVG8ucHJvdG9jb2wgJiYgcGFyc2VkTG9jLmhvc3QgPT09IHBhcnNlZFRvLmhvc3QpXG4gICAgICAgICAgICB0byA9IHBhcnNlZFRvLnJlbGF0aXZlO1xuICAgICAgICBpZiAocGFyc2VkTG9jLnByb3RvY29sID09PSBwYXJzZWRGcm9tLnByb3RvY29sICYmIHBhcnNlZExvYy5ob3N0ID09PSBwYXJzZWRGcm9tLmhvc3QpXG4gICAgICAgICAgICBmcm9tID0gcGFyc2VkRnJvbS5yZWxhdGl2ZTtcblxuICAgICAgICB0aGlzLmNhcHR1cmVCcmVhZGNydW1iKHtcbiAgICAgICAgICAgIGNhdGVnb3J5OiAnbmF2aWdhdGlvbicsXG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgdG86IHRvLFxuICAgICAgICAgICAgICAgIGZyb206IGZyb21cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFdyYXAgdGltZXIgZnVuY3Rpb25zIGFuZCBldmVudCB0YXJnZXRzIHRvIGNhdGNoIGVycm9ycyBhbmQgcHJvdmlkZVxuICAgICAqIGJldHRlciBtZXRhZGF0YS5cbiAgICAgKi9cbiAgICBfaW5zdHJ1bWVudFRyeUNhdGNoOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgIHZhciB3cmFwcGVkQnVpbHRJbnMgPSBzZWxmLl93cmFwcGVkQnVpbHRJbnM7XG5cbiAgICAgICAgZnVuY3Rpb24gd3JhcFRpbWVGbihvcmlnKSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGZuLCB0KSB7IC8vIHByZXNlcnZlIGFyaXR5XG4gICAgICAgICAgICAgICAgLy8gTWFrZSBhIGNvcHkgb2YgdGhlIGFyZ3VtZW50cyB0byBwcmV2ZW50IGRlb3B0aW1pemF0aW9uXG4gICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3BldGthYW50b25vdi9ibHVlYmlyZC93aWtpL09wdGltaXphdGlvbi1raWxsZXJzIzMyLWxlYWtpbmctYXJndW1lbnRzXG4gICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgYXJnc1tpXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIG9yaWdpbmFsQ2FsbGJhY2sgPSBhcmdzWzBdO1xuICAgICAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKG9yaWdpbmFsQ2FsbGJhY2spKSB7XG4gICAgICAgICAgICAgICAgICAgIGFyZ3NbMF0gPSBzZWxmLndyYXAob3JpZ2luYWxDYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gSUUgPCA5IGRvZXNuJ3Qgc3VwcG9ydCAuY2FsbC8uYXBwbHkgb24gc2V0SW50ZXJ2YWwvc2V0VGltZW91dCwgYnV0IGl0XG4gICAgICAgICAgICAgICAgLy8gYWxzbyBzdXBwb3J0cyBvbmx5IHR3byBhcmd1bWVudHMgYW5kIGRvZXNuJ3QgY2FyZSB3aGF0IHRoaXMgaXMsIHNvIHdlXG4gICAgICAgICAgICAgICAgLy8gY2FuIGp1c3QgY2FsbCB0aGUgb3JpZ2luYWwgZnVuY3Rpb24gZGlyZWN0bHkuXG4gICAgICAgICAgICAgICAgaWYgKG9yaWcuYXBwbHkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9yaWcuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9yaWcoYXJnc1swXSwgYXJnc1sxXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBhdXRvQnJlYWRjcnVtYnMgPSB0aGlzLl9nbG9iYWxPcHRpb25zLmF1dG9CcmVhZGNydW1icztcblxuICAgICAgICBmdW5jdGlvbiB3cmFwRXZlbnRUYXJnZXQoZ2xvYmFsKSB7XG4gICAgICAgICAgICB2YXIgcHJvdG8gPSBfd2luZG93W2dsb2JhbF0gJiYgX3dpbmRvd1tnbG9iYWxdLnByb3RvdHlwZTtcbiAgICAgICAgICAgIGlmIChwcm90byAmJiBwcm90by5oYXNPd25Qcm9wZXJ0eSAmJiBwcm90by5oYXNPd25Qcm9wZXJ0eSgnYWRkRXZlbnRMaXN0ZW5lcicpKSB7XG4gICAgICAgICAgICAgICAgZmlsbChwcm90bywgJ2FkZEV2ZW50TGlzdGVuZXInLCBmdW5jdGlvbihvcmlnKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoZXZ0TmFtZSwgZm4sIGNhcHR1cmUsIHNlY3VyZSkgeyAvLyBwcmVzZXJ2ZSBhcml0eVxuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZm4gJiYgZm4uaGFuZGxlRXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm4uaGFuZGxlRXZlbnQgPSBzZWxmLndyYXAoZm4uaGFuZGxlRXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNhbiBzb21ldGltZXMgZ2V0ICdQZXJtaXNzaW9uIGRlbmllZCB0byBhY2Nlc3MgcHJvcGVydHkgXCJoYW5kbGUgRXZlbnQnXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE1vcmUgYnJlYWRjcnVtYiBET00gY2FwdHVyZSAuLi4gZG9uZSBoZXJlIGFuZCBub3QgaW4gYF9pbnN0cnVtZW50QnJlYWRjcnVtYnNgXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzbyB0aGF0IHdlIGRvbid0IGhhdmUgbW9yZSB0aGFuIG9uZSB3cmFwcGVyIGZ1bmN0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYmVmb3JlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWNrSGFuZGxlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXlwcmVzc0hhbmRsZXI7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhdXRvQnJlYWRjcnVtYnMgJiYgYXV0b0JyZWFkY3J1bWJzLmRvbSAmJiAoZ2xvYmFsID09PSAnRXZlbnRUYXJnZXQnIHx8IGdsb2JhbCA9PT0gJ05vZGUnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE5PVEU6IGdlbmVyYXRpbmcgbXVsdGlwbGUgaGFuZGxlcnMgcGVyIGFkZEV2ZW50TGlzdGVuZXIgaW52b2NhdGlvbiwgc2hvdWxkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgcmV2aXNpdCBhbmQgdmVyaWZ5IHdlIGNhbiBqdXN0IHVzZSBvbmUgKGFsbW9zdCBjZXJ0YWlubHkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpY2tIYW5kbGVyID0gc2VsZi5fYnJlYWRjcnVtYkV2ZW50SGFuZGxlcignY2xpY2snKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXlwcmVzc0hhbmRsZXIgPSBzZWxmLl9rZXlwcmVzc0V2ZW50SGFuZGxlcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJlZm9yZSA9IGZ1bmN0aW9uIChldnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gbmVlZCB0byBpbnRlcmNlcHQgZXZlcnkgRE9NIGV2ZW50IGluIGBiZWZvcmVgIGFyZ3VtZW50LCBpbiBjYXNlIHRoYXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2FtZSB3cmFwcGVkIG1ldGhvZCBpcyByZS11c2VkIGZvciBkaWZmZXJlbnQgZXZlbnRzIChlLmcuIG1vdXNlbW92ZSBUSEVOIGNsaWNrKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzZWUgIzcyNFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWV2dCkgcmV0dXJuO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBldmVudFR5cGU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudFR5cGUgPSBldnQudHlwZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBqdXN0IGFjY2Vzc2luZyBldmVudCBwcm9wZXJ0aWVzIGNhbiB0aHJvdyBhbiBleGNlcHRpb24gaW4gc29tZSByYXJlIGNpcmN1bXN0YW5jZXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNlZTogaHR0cHM6Ly9naXRodWIuY29tL2dldHNlbnRyeS9yYXZlbi1qcy9pc3N1ZXMvODM4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50VHlwZSA9PT0gJ2NsaWNrJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjbGlja0hhbmRsZXIoZXZ0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZXZlbnRUeXBlID09PSAna2V5cHJlc3MnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGtleXByZXNzSGFuZGxlcihldnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3JpZy5jYWxsKHRoaXMsIGV2dE5hbWUsIHNlbGYud3JhcChmbiwgdW5kZWZpbmVkLCBiZWZvcmUpLCBjYXB0dXJlLCBzZWN1cmUpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH0sIHdyYXBwZWRCdWlsdElucyk7XG4gICAgICAgICAgICAgICAgZmlsbChwcm90bywgJ3JlbW92ZUV2ZW50TGlzdGVuZXInLCBmdW5jdGlvbiAob3JpZykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGV2dCwgZm4sIGNhcHR1cmUsIHNlY3VyZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbiA9IGZuICYmIChmbi5fX3JhdmVuX3dyYXBwZXJfXyA/IGZuLl9fcmF2ZW5fd3JhcHBlcl9fICA6IGZuKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpZ25vcmUsIGFjY2Vzc2luZyBfX3JhdmVuX3dyYXBwZXJfXyB3aWxsIHRocm93IGluIHNvbWUgU2VsZW5pdW0gZW52aXJvbm1lbnRzXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3JpZy5jYWxsKHRoaXMsIGV2dCwgZm4sIGNhcHR1cmUsIHNlY3VyZSk7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfSwgd3JhcHBlZEJ1aWx0SW5zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZpbGwoX3dpbmRvdywgJ3NldFRpbWVvdXQnLCB3cmFwVGltZUZuLCB3cmFwcGVkQnVpbHRJbnMpO1xuICAgICAgICBmaWxsKF93aW5kb3csICdzZXRJbnRlcnZhbCcsIHdyYXBUaW1lRm4sIHdyYXBwZWRCdWlsdElucyk7XG4gICAgICAgIGlmIChfd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSkge1xuICAgICAgICAgICAgZmlsbChfd2luZG93LCAncmVxdWVzdEFuaW1hdGlvbkZyYW1lJywgZnVuY3Rpb24gKG9yaWcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGNiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBvcmlnKHNlbGYud3JhcChjYikpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9LCB3cmFwcGVkQnVpbHRJbnMpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZXZlbnQgdGFyZ2V0cyBib3Jyb3dlZCBmcm9tIGJ1Z3NuYWctanM6XG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9idWdzbmFnL2J1Z3NuYWctanMvYmxvYi9tYXN0ZXIvc3JjL2J1Z3NuYWcuanMjTDY2NlxuICAgICAgICB2YXIgZXZlbnRUYXJnZXRzID0gWydFdmVudFRhcmdldCcsICdXaW5kb3cnLCAnTm9kZScsICdBcHBsaWNhdGlvbkNhY2hlJywgJ0F1ZGlvVHJhY2tMaXN0JywgJ0NoYW5uZWxNZXJnZXJOb2RlJywgJ0NyeXB0b09wZXJhdGlvbicsICdFdmVudFNvdXJjZScsICdGaWxlUmVhZGVyJywgJ0hUTUxVbmtub3duRWxlbWVudCcsICdJREJEYXRhYmFzZScsICdJREJSZXF1ZXN0JywgJ0lEQlRyYW5zYWN0aW9uJywgJ0tleU9wZXJhdGlvbicsICdNZWRpYUNvbnRyb2xsZXInLCAnTWVzc2FnZVBvcnQnLCAnTW9kYWxXaW5kb3cnLCAnTm90aWZpY2F0aW9uJywgJ1NWR0VsZW1lbnRJbnN0YW5jZScsICdTY3JlZW4nLCAnVGV4dFRyYWNrJywgJ1RleHRUcmFja0N1ZScsICdUZXh0VHJhY2tMaXN0JywgJ1dlYlNvY2tldCcsICdXZWJTb2NrZXRXb3JrZXInLCAnV29ya2VyJywgJ1hNTEh0dHBSZXF1ZXN0JywgJ1hNTEh0dHBSZXF1ZXN0RXZlbnRUYXJnZXQnLCAnWE1MSHR0cFJlcXVlc3RVcGxvYWQnXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBldmVudFRhcmdldHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHdyYXBFdmVudFRhcmdldChldmVudFRhcmdldHNbaV0pO1xuICAgICAgICB9XG4gICAgfSxcblxuXG4gICAgLyoqXG4gICAgICogSW5zdHJ1bWVudCBicm93c2VyIGJ1aWx0LWlucyB3LyBicmVhZGNydW1iIGNhcHR1cmluZ1xuICAgICAqICAtIFhNTEh0dHBSZXF1ZXN0c1xuICAgICAqICAtIERPTSBpbnRlcmFjdGlvbnMgKGNsaWNrL3R5cGluZylcbiAgICAgKiAgLSB3aW5kb3cubG9jYXRpb24gY2hhbmdlc1xuICAgICAqICAtIGNvbnNvbGVcbiAgICAgKlxuICAgICAqIENhbiBiZSBkaXNhYmxlZCBvciBpbmRpdmlkdWFsbHkgY29uZmlndXJlZCB2aWEgdGhlIGBhdXRvQnJlYWRjcnVtYnNgIGNvbmZpZyBvcHRpb25cbiAgICAgKi9cbiAgICBfaW5zdHJ1bWVudEJyZWFkY3J1bWJzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgdmFyIGF1dG9CcmVhZGNydW1icyA9IHRoaXMuX2dsb2JhbE9wdGlvbnMuYXV0b0JyZWFkY3J1bWJzO1xuXG4gICAgICAgIHZhciB3cmFwcGVkQnVpbHRJbnMgPSBzZWxmLl93cmFwcGVkQnVpbHRJbnM7XG5cbiAgICAgICAgZnVuY3Rpb24gd3JhcFByb3AocHJvcCwgeGhyKSB7XG4gICAgICAgICAgICBpZiAocHJvcCBpbiB4aHIgJiYgaXNGdW5jdGlvbih4aHJbcHJvcF0pKSB7XG4gICAgICAgICAgICAgICAgZmlsbCh4aHIsIHByb3AsIGZ1bmN0aW9uIChvcmlnKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzZWxmLndyYXAob3JpZyk7XG4gICAgICAgICAgICAgICAgfSk7IC8vIGludGVudGlvbmFsbHkgZG9uJ3QgdHJhY2sgZmlsbGVkIG1ldGhvZHMgb24gWEhSIGluc3RhbmNlc1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGF1dG9CcmVhZGNydW1icy54aHIgJiYgJ1hNTEh0dHBSZXF1ZXN0JyBpbiBfd2luZG93KSB7XG4gICAgICAgICAgICB2YXIgeGhycHJvdG8gPSBYTUxIdHRwUmVxdWVzdC5wcm90b3R5cGU7XG4gICAgICAgICAgICBmaWxsKHhocnByb3RvLCAnb3BlbicsIGZ1bmN0aW9uKG9yaWdPcGVuKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChtZXRob2QsIHVybCkgeyAvLyBwcmVzZXJ2ZSBhcml0eVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIFNlbnRyeSBrZXkgYXBwZWFycyBpbiBVUkwsIGRvbid0IGNhcHR1cmVcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzU3RyaW5nKHVybCkgJiYgdXJsLmluZGV4T2Yoc2VsZi5fZ2xvYmFsS2V5KSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX19yYXZlbl94aHIgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiBtZXRob2QsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzX2NvZGU6IG51bGxcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3JpZ09wZW4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSwgd3JhcHBlZEJ1aWx0SW5zKTtcblxuICAgICAgICAgICAgZmlsbCh4aHJwcm90bywgJ3NlbmQnLCBmdW5jdGlvbihvcmlnU2VuZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoZGF0YSkgeyAvLyBwcmVzZXJ2ZSBhcml0eVxuICAgICAgICAgICAgICAgICAgICB2YXIgeGhyID0gdGhpcztcblxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBvbnJlYWR5c3RhdGVjaGFuZ2VIYW5kbGVyKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHhoci5fX3JhdmVuX3hociAmJiAoeGhyLnJlYWR5U3RhdGUgPT09IDEgfHwgeGhyLnJlYWR5U3RhdGUgPT09IDQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdG91Y2hpbmcgc3RhdHVzQ29kZSBpbiBzb21lIHBsYXRmb3JtcyB0aHJvd3NcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYW4gZXhjZXB0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHhoci5fX3JhdmVuX3hoci5zdGF0dXNfY29kZSA9IHhoci5zdGF0dXM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkgeyAvKiBkbyBub3RoaW5nICovIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmNhcHR1cmVCcmVhZGNydW1iKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2h0dHAnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeTogJ3hocicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHhoci5fX3JhdmVuX3hoclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHByb3BzID0gWydvbmxvYWQnLCAnb25lcnJvcicsICdvbnByb2dyZXNzJ107XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgcHJvcHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdyYXBQcm9wKHByb3BzW2pdLCB4aHIpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCdvbnJlYWR5c3RhdGVjaGFuZ2UnIGluIHhociAmJiBpc0Z1bmN0aW9uKHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxsKHhociwgJ29ucmVhZHlzdGF0ZWNoYW5nZScsIGZ1bmN0aW9uIChvcmlnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlbGYud3JhcChvcmlnLCB1bmRlZmluZWQsIG9ucmVhZHlzdGF0ZWNoYW5nZUhhbmRsZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSAvKiBpbnRlbnRpb25hbGx5IGRvbid0IHRyYWNrIHRoaXMgaW5zdHJ1bWVudGF0aW9uICovKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIG9ucmVhZHlzdGF0ZWNoYW5nZSB3YXNuJ3QgYWN0dWFsbHkgc2V0IGJ5IHRoZSBwYWdlIG9uIHRoaXMgeGhyLCB3ZVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYXJlIGZyZWUgdG8gc2V0IG91ciBvd24gYW5kIGNhcHR1cmUgdGhlIGJyZWFkY3J1bWJcbiAgICAgICAgICAgICAgICAgICAgICAgIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBvbnJlYWR5c3RhdGVjaGFuZ2VIYW5kbGVyO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9yaWdTZW5kLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0sIHdyYXBwZWRCdWlsdElucyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYXV0b0JyZWFkY3J1bWJzLnhociAmJiAnZmV0Y2gnIGluIF93aW5kb3cpIHtcbiAgICAgICAgICAgIGZpbGwoX3dpbmRvdywgJ2ZldGNoJywgZnVuY3Rpb24ob3JpZ0ZldGNoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChmbiwgdCkgeyAvLyBwcmVzZXJ2ZSBhcml0eVxuICAgICAgICAgICAgICAgICAgICAvLyBNYWtlIGEgY29weSBvZiB0aGUgYXJndW1lbnRzIHRvIHByZXZlbnQgZGVvcHRpbWl6YXRpb25cbiAgICAgICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3BldGthYW50b25vdi9ibHVlYmlyZC93aWtpL09wdGltaXphdGlvbi1raWxsZXJzIzMyLWxlYWtpbmctYXJndW1lbnRzXG4gICAgICAgICAgICAgICAgICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgpO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3NbaV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB2YXIgZmV0Y2hJbnB1dCA9IGFyZ3NbMF07XG4gICAgICAgICAgICAgICAgICAgIHZhciBtZXRob2QgPSAnR0VUJztcbiAgICAgICAgICAgICAgICAgICAgdmFyIHVybDtcblxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGZldGNoSW5wdXQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB1cmwgPSBmZXRjaElucHV0O1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdXJsID0gZmV0Y2hJbnB1dC51cmw7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZmV0Y2hJbnB1dC5tZXRob2QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRob2QgPSBmZXRjaElucHV0Lm1ldGhvZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChhcmdzWzFdICYmIGFyZ3NbMV0ubWV0aG9kKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXRob2QgPSBhcmdzWzFdLm1ldGhvZDtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHZhciBmZXRjaERhdGEgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IG1ldGhvZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogdXJsLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzX2NvZGU6IG51bGxcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICBzZWxmLmNhcHR1cmVCcmVhZGNydW1iKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdodHRwJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5OiAnZmV0Y2gnLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogZmV0Y2hEYXRhXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBvcmlnRmV0Y2guYXBwbHkodGhpcywgYXJncykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZldGNoRGF0YS5zdGF0dXNfY29kZSA9IHJlc3BvbnNlLnN0YXR1cztcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSwgd3JhcHBlZEJ1aWx0SW5zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENhcHR1cmUgYnJlYWRjcnVtYnMgZnJvbSBhbnkgY2xpY2sgdGhhdCBpcyB1bmhhbmRsZWQgLyBidWJibGVkIHVwIGFsbCB0aGUgd2F5XG4gICAgICAgIC8vIHRvIHRoZSBkb2N1bWVudC4gRG8gdGhpcyBiZWZvcmUgd2UgaW5zdHJ1bWVudCBhZGRFdmVudExpc3RlbmVyLlxuICAgICAgICBpZiAoYXV0b0JyZWFkY3J1bWJzLmRvbSAmJiB0aGlzLl9oYXNEb2N1bWVudCkge1xuICAgICAgICAgICAgaWYgKF9kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKSB7XG4gICAgICAgICAgICAgICAgX2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc2VsZi5fYnJlYWRjcnVtYkV2ZW50SGFuZGxlcignY2xpY2snKSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIF9kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlwcmVzcycsIHNlbGYuX2tleXByZXNzRXZlbnRIYW5kbGVyKCksIGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIElFOCBDb21wYXRpYmlsaXR5XG4gICAgICAgICAgICAgICAgX2RvY3VtZW50LmF0dGFjaEV2ZW50KCdvbmNsaWNrJywgc2VsZi5fYnJlYWRjcnVtYkV2ZW50SGFuZGxlcignY2xpY2snKSk7XG4gICAgICAgICAgICAgICAgX2RvY3VtZW50LmF0dGFjaEV2ZW50KCdvbmtleXByZXNzJywgc2VsZi5fa2V5cHJlc3NFdmVudEhhbmRsZXIoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyByZWNvcmQgbmF2aWdhdGlvbiAoVVJMKSBjaGFuZ2VzXG4gICAgICAgIC8vIE5PVEU6IGluIENocm9tZSBBcHAgZW52aXJvbm1lbnQsIHRvdWNoaW5nIGhpc3RvcnkucHVzaFN0YXRlLCAqZXZlbiBpbnNpZGVcbiAgICAgICAgLy8gICAgICAgYSB0cnkvY2F0Y2ggYmxvY2sqLCB3aWxsIGNhdXNlIENocm9tZSB0byBvdXRwdXQgYW4gZXJyb3IgdG8gY29uc29sZS5lcnJvclxuICAgICAgICAvLyBib3Jyb3dlZCBmcm9tOiBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyLmpzL3B1bGwvMTM5NDUvZmlsZXNcbiAgICAgICAgdmFyIGNocm9tZSA9IF93aW5kb3cuY2hyb21lO1xuICAgICAgICB2YXIgaXNDaHJvbWVQYWNrYWdlZEFwcCA9IGNocm9tZSAmJiBjaHJvbWUuYXBwICYmIGNocm9tZS5hcHAucnVudGltZTtcbiAgICAgICAgdmFyIGhhc1B1c2hTdGF0ZSA9ICFpc0Nocm9tZVBhY2thZ2VkQXBwICYmIF93aW5kb3cuaGlzdG9yeSAmJiBoaXN0b3J5LnB1c2hTdGF0ZTtcbiAgICAgICAgaWYgKGF1dG9CcmVhZGNydW1icy5sb2NhdGlvbiAmJiBoYXNQdXNoU3RhdGUpIHtcbiAgICAgICAgICAgIC8vIFRPRE86IHJlbW92ZSBvbnBvcHN0YXRlIGhhbmRsZXIgb24gdW5pbnN0YWxsKClcbiAgICAgICAgICAgIHZhciBvbGRPblBvcFN0YXRlID0gX3dpbmRvdy5vbnBvcHN0YXRlO1xuICAgICAgICAgICAgX3dpbmRvdy5vbnBvcHN0YXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBjdXJyZW50SHJlZiA9IHNlbGYuX2xvY2F0aW9uLmhyZWY7XG4gICAgICAgICAgICAgICAgc2VsZi5fY2FwdHVyZVVybENoYW5nZShzZWxmLl9sYXN0SHJlZiwgY3VycmVudEhyZWYpO1xuXG4gICAgICAgICAgICAgICAgaWYgKG9sZE9uUG9wU3RhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9sZE9uUG9wU3RhdGUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBmaWxsKGhpc3RvcnksICdwdXNoU3RhdGUnLCBmdW5jdGlvbiAob3JpZ1B1c2hTdGF0ZSkge1xuICAgICAgICAgICAgICAgIC8vIG5vdGUgaGlzdG9yeS5wdXNoU3RhdGUubGVuZ3RoIGlzIDA7IGludGVudGlvbmFsbHkgbm90IGRlY2xhcmluZ1xuICAgICAgICAgICAgICAgIC8vIHBhcmFtcyB0byBwcmVzZXJ2ZSAwIGFyaXR5XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgvKiBzdGF0ZSwgdGl0bGUsIHVybCAqLykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdXJsID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgPyBhcmd1bWVudHNbMl0gOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gdXJsIGFyZ3VtZW50IGlzIG9wdGlvbmFsXG4gICAgICAgICAgICAgICAgICAgIGlmICh1cmwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvZXJjZSB0byBzdHJpbmcgKHRoaXMgaXMgd2hhdCBwdXNoU3RhdGUgZG9lcylcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuX2NhcHR1cmVVcmxDaGFuZ2Uoc2VsZi5fbGFzdEhyZWYsIHVybCArICcnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBvcmlnUHVzaFN0YXRlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0sIHdyYXBwZWRCdWlsdElucyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYXV0b0JyZWFkY3J1bWJzLmNvbnNvbGUgJiYgJ2NvbnNvbGUnIGluIF93aW5kb3cgJiYgY29uc29sZS5sb2cpIHtcbiAgICAgICAgICAgIC8vIGNvbnNvbGVcbiAgICAgICAgICAgIHZhciBjb25zb2xlTWV0aG9kQ2FsbGJhY2sgPSBmdW5jdGlvbiAobXNnLCBkYXRhKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5jYXB0dXJlQnJlYWRjcnVtYih7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IG1zZyxcbiAgICAgICAgICAgICAgICAgICAgbGV2ZWw6IGRhdGEubGV2ZWwsXG4gICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5OiAnY29uc29sZSdcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGVhY2goWydkZWJ1ZycsICdpbmZvJywgJ3dhcm4nLCAnZXJyb3InLCAnbG9nJ10sIGZ1bmN0aW9uIChfLCBsZXZlbCkge1xuICAgICAgICAgICAgICAgIHdyYXBDb25zb2xlTWV0aG9kKGNvbnNvbGUsIGxldmVsLCBjb25zb2xlTWV0aG9kQ2FsbGJhY2spO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgIH0sXG5cbiAgICBfcmVzdG9yZUJ1aWx0SW5zOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIHJlc3RvcmUgYW55IHdyYXBwZWQgYnVpbHRpbnNcbiAgICAgICAgdmFyIGJ1aWx0aW47XG4gICAgICAgIHdoaWxlICh0aGlzLl93cmFwcGVkQnVpbHRJbnMubGVuZ3RoKSB7XG4gICAgICAgICAgICBidWlsdGluID0gdGhpcy5fd3JhcHBlZEJ1aWx0SW5zLnNoaWZ0KCk7XG5cbiAgICAgICAgICAgIHZhciBvYmogPSBidWlsdGluWzBdLFxuICAgICAgICAgICAgICBuYW1lID0gYnVpbHRpblsxXSxcbiAgICAgICAgICAgICAgb3JpZyA9IGJ1aWx0aW5bMl07XG5cbiAgICAgICAgICAgIG9ialtuYW1lXSA9IG9yaWc7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgX2RyYWluUGx1Z2luczogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgICAvLyBGSVggTUUgVE9ET1xuICAgICAgICBlYWNoKHRoaXMuX3BsdWdpbnMsIGZ1bmN0aW9uKF8sIHBsdWdpbikge1xuICAgICAgICAgICAgdmFyIGluc3RhbGxlciA9IHBsdWdpblswXTtcbiAgICAgICAgICAgIHZhciBhcmdzID0gcGx1Z2luWzFdO1xuICAgICAgICAgICAgaW5zdGFsbGVyLmFwcGx5KHNlbGYsIFtzZWxmXS5jb25jYXQoYXJncykpO1xuICAgICAgICB9KTtcbiAgICB9LFxuXG4gICAgX3BhcnNlRFNOOiBmdW5jdGlvbihzdHIpIHtcbiAgICAgICAgdmFyIG0gPSBkc25QYXR0ZXJuLmV4ZWMoc3RyKSxcbiAgICAgICAgICAgIGRzbiA9IHt9LFxuICAgICAgICAgICAgaSA9IDc7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHdoaWxlIChpLS0pIGRzbltkc25LZXlzW2ldXSA9IG1baV0gfHwgJyc7XG4gICAgICAgIH0gY2F0Y2goZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFJhdmVuQ29uZmlnRXJyb3IoJ0ludmFsaWQgRFNOOiAnICsgc3RyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkc24ucGFzcyAmJiAhdGhpcy5fZ2xvYmFsT3B0aW9ucy5hbGxvd1NlY3JldEtleSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFJhdmVuQ29uZmlnRXJyb3IoJ0RvIG5vdCBzcGVjaWZ5IHlvdXIgc2VjcmV0IGtleSBpbiB0aGUgRFNOLiBTZWU6IGh0dHA6Ly9iaXQubHkvcmF2ZW4tc2VjcmV0LWtleScpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGRzbjtcbiAgICB9LFxuXG4gICAgX2dldEdsb2JhbFNlcnZlcjogZnVuY3Rpb24odXJpKSB7XG4gICAgICAgIC8vIGFzc2VtYmxlIHRoZSBlbmRwb2ludCBmcm9tIHRoZSB1cmkgcGllY2VzXG4gICAgICAgIHZhciBnbG9iYWxTZXJ2ZXIgPSAnLy8nICsgdXJpLmhvc3QgK1xuICAgICAgICAgICAgKHVyaS5wb3J0ID8gJzonICsgdXJpLnBvcnQgOiAnJyk7XG5cbiAgICAgICAgaWYgKHVyaS5wcm90b2NvbCkge1xuICAgICAgICAgICAgZ2xvYmFsU2VydmVyID0gdXJpLnByb3RvY29sICsgJzonICsgZ2xvYmFsU2VydmVyO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBnbG9iYWxTZXJ2ZXI7XG4gICAgfSxcblxuICAgIF9oYW5kbGVPbkVycm9yU3RhY2tJbmZvOiBmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gaWYgd2UgYXJlIGludGVudGlvbmFsbHkgaWdub3JpbmcgZXJyb3JzIHZpYSBvbmVycm9yLCBiYWlsIG91dFxuICAgICAgICBpZiAoIXRoaXMuX2lnbm9yZU9uRXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZVN0YWNrSW5mby5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIF9oYW5kbGVTdGFja0luZm86IGZ1bmN0aW9uKHN0YWNrSW5mbywgb3B0aW9ucykge1xuICAgICAgICB2YXIgZnJhbWVzID0gdGhpcy5fcHJlcGFyZUZyYW1lcyhzdGFja0luZm8sIG9wdGlvbnMpO1xuXG4gICAgICAgIHRoaXMuX3RyaWdnZXJFdmVudCgnaGFuZGxlJywge1xuICAgICAgICAgICAgc3RhY2tJbmZvOiBzdGFja0luZm8sXG4gICAgICAgICAgICBvcHRpb25zOiBvcHRpb25zXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuX3Byb2Nlc3NFeGNlcHRpb24oXG4gICAgICAgICAgICBzdGFja0luZm8ubmFtZSxcbiAgICAgICAgICAgIHN0YWNrSW5mby5tZXNzYWdlLFxuICAgICAgICAgICAgc3RhY2tJbmZvLnVybCxcbiAgICAgICAgICAgIHN0YWNrSW5mby5saW5lbm8sXG4gICAgICAgICAgICBmcmFtZXMsXG4gICAgICAgICAgICBvcHRpb25zXG4gICAgICAgICk7XG4gICAgfSxcblxuICAgIF9wcmVwYXJlRnJhbWVzOiBmdW5jdGlvbihzdGFja0luZm8sIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICB2YXIgZnJhbWVzID0gW107XG4gICAgICAgIGlmIChzdGFja0luZm8uc3RhY2sgJiYgc3RhY2tJbmZvLnN0YWNrLmxlbmd0aCkge1xuICAgICAgICAgICAgZWFjaChzdGFja0luZm8uc3RhY2ssIGZ1bmN0aW9uKGksIHN0YWNrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGZyYW1lID0gc2VsZi5fbm9ybWFsaXplRnJhbWUoc3RhY2spO1xuICAgICAgICAgICAgICAgIGlmIChmcmFtZSkge1xuICAgICAgICAgICAgICAgICAgICBmcmFtZXMucHVzaChmcmFtZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIGUuZy4gZnJhbWVzIGNhcHR1cmVkIHZpYSBjYXB0dXJlTWVzc2FnZSB0aHJvd1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy50cmltSGVhZEZyYW1lcykge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgb3B0aW9ucy50cmltSGVhZEZyYW1lcyAmJiBqIDwgZnJhbWVzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIGZyYW1lc1tqXS5pbl9hcHAgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZnJhbWVzID0gZnJhbWVzLnNsaWNlKDAsIHRoaXMuX2dsb2JhbE9wdGlvbnMuc3RhY2tUcmFjZUxpbWl0KTtcbiAgICAgICAgcmV0dXJuIGZyYW1lcztcbiAgICB9LFxuXG5cbiAgICBfbm9ybWFsaXplRnJhbWU6IGZ1bmN0aW9uKGZyYW1lKSB7XG4gICAgICAgIGlmICghZnJhbWUudXJsKSByZXR1cm47XG5cbiAgICAgICAgLy8gbm9ybWFsaXplIHRoZSBmcmFtZXMgZGF0YVxuICAgICAgICB2YXIgbm9ybWFsaXplZCA9IHtcbiAgICAgICAgICAgIGZpbGVuYW1lOiAgIGZyYW1lLnVybCxcbiAgICAgICAgICAgIGxpbmVubzogICAgIGZyYW1lLmxpbmUsXG4gICAgICAgICAgICBjb2xubzogICAgICBmcmFtZS5jb2x1bW4sXG4gICAgICAgICAgICAnZnVuY3Rpb24nOiBmcmFtZS5mdW5jIHx8ICc/J1xuICAgICAgICB9O1xuXG4gICAgICAgIG5vcm1hbGl6ZWQuaW5fYXBwID0gISggLy8gZGV0ZXJtaW5lIGlmIGFuIGV4Y2VwdGlvbiBjYW1lIGZyb20gb3V0c2lkZSBvZiBvdXIgYXBwXG4gICAgICAgICAgICAvLyBmaXJzdCB3ZSBjaGVjayB0aGUgZ2xvYmFsIGluY2x1ZGVQYXRocyBsaXN0LlxuICAgICAgICAgICAgISF0aGlzLl9nbG9iYWxPcHRpb25zLmluY2x1ZGVQYXRocy50ZXN0ICYmICF0aGlzLl9nbG9iYWxPcHRpb25zLmluY2x1ZGVQYXRocy50ZXN0KG5vcm1hbGl6ZWQuZmlsZW5hbWUpIHx8XG4gICAgICAgICAgICAvLyBOb3cgd2UgY2hlY2sgZm9yIGZ1biwgaWYgdGhlIGZ1bmN0aW9uIG5hbWUgaXMgUmF2ZW4gb3IgVHJhY2VLaXRcbiAgICAgICAgICAgIC8oUmF2ZW58VHJhY2VLaXQpXFwuLy50ZXN0KG5vcm1hbGl6ZWRbJ2Z1bmN0aW9uJ10pIHx8XG4gICAgICAgICAgICAvLyBmaW5hbGx5LCB3ZSBkbyBhIGxhc3QgZGl0Y2ggZWZmb3J0IGFuZCBjaGVjayBmb3IgcmF2ZW4ubWluLmpzXG4gICAgICAgICAgICAvcmF2ZW5cXC4obWluXFwuKT9qcyQvLnRlc3Qobm9ybWFsaXplZC5maWxlbmFtZSlcbiAgICAgICAgKTtcblxuICAgICAgICByZXR1cm4gbm9ybWFsaXplZDtcbiAgICB9LFxuXG4gICAgX3Byb2Nlc3NFeGNlcHRpb246IGZ1bmN0aW9uKHR5cGUsIG1lc3NhZ2UsIGZpbGV1cmwsIGxpbmVubywgZnJhbWVzLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBzdGFja3RyYWNlO1xuICAgICAgICBpZiAoISF0aGlzLl9nbG9iYWxPcHRpb25zLmlnbm9yZUVycm9ycy50ZXN0ICYmIHRoaXMuX2dsb2JhbE9wdGlvbnMuaWdub3JlRXJyb3JzLnRlc3QobWVzc2FnZSkpIHJldHVybjtcblxuICAgICAgICBtZXNzYWdlICs9ICcnO1xuXG4gICAgICAgIGlmIChmcmFtZXMgJiYgZnJhbWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgZmlsZXVybCA9IGZyYW1lc1swXS5maWxlbmFtZSB8fCBmaWxldXJsO1xuICAgICAgICAgICAgLy8gU2VudHJ5IGV4cGVjdHMgZnJhbWVzIG9sZGVzdCB0byBuZXdlc3RcbiAgICAgICAgICAgIC8vIGFuZCBKUyBzZW5kcyB0aGVtIGFzIG5ld2VzdCB0byBvbGRlc3RcbiAgICAgICAgICAgIGZyYW1lcy5yZXZlcnNlKCk7XG4gICAgICAgICAgICBzdGFja3RyYWNlID0ge2ZyYW1lczogZnJhbWVzfTtcbiAgICAgICAgfSBlbHNlIGlmIChmaWxldXJsKSB7XG4gICAgICAgICAgICBzdGFja3RyYWNlID0ge1xuICAgICAgICAgICAgICAgIGZyYW1lczogW3tcbiAgICAgICAgICAgICAgICAgICAgZmlsZW5hbWU6IGZpbGV1cmwsXG4gICAgICAgICAgICAgICAgICAgIGxpbmVubzogbGluZW5vLFxuICAgICAgICAgICAgICAgICAgICBpbl9hcHA6IHRydWVcbiAgICAgICAgICAgICAgICB9XVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghIXRoaXMuX2dsb2JhbE9wdGlvbnMuaWdub3JlVXJscy50ZXN0ICYmIHRoaXMuX2dsb2JhbE9wdGlvbnMuaWdub3JlVXJscy50ZXN0KGZpbGV1cmwpKSByZXR1cm47XG4gICAgICAgIGlmICghIXRoaXMuX2dsb2JhbE9wdGlvbnMud2hpdGVsaXN0VXJscy50ZXN0ICYmICF0aGlzLl9nbG9iYWxPcHRpb25zLndoaXRlbGlzdFVybHMudGVzdChmaWxldXJsKSkgcmV0dXJuO1xuXG4gICAgICAgIHZhciBkYXRhID0gb2JqZWN0TWVyZ2Uoe1xuICAgICAgICAgICAgLy8gc2VudHJ5LmludGVyZmFjZXMuRXhjZXB0aW9uXG4gICAgICAgICAgICBleGNlcHRpb246IHtcbiAgICAgICAgICAgICAgICB2YWx1ZXM6IFt7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBtZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICBzdGFja3RyYWNlOiBzdGFja3RyYWNlXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjdWxwcml0OiBmaWxldXJsXG4gICAgICAgIH0sIG9wdGlvbnMpO1xuXG4gICAgICAgIC8vIEZpcmUgYXdheSFcbiAgICAgICAgdGhpcy5fc2VuZChkYXRhKTtcbiAgICB9LFxuXG4gICAgX3RyaW1QYWNrZXQ6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgLy8gRm9yIG5vdywgd2Ugb25seSB3YW50IHRvIHRydW5jYXRlIHRoZSB0d28gZGlmZmVyZW50IG1lc3NhZ2VzXG4gICAgICAgIC8vIGJ1dCB0aGlzIGNvdWxkL3Nob3VsZCBiZSBleHBhbmRlZCB0byBqdXN0IHRyaW0gZXZlcnl0aGluZ1xuICAgICAgICB2YXIgbWF4ID0gdGhpcy5fZ2xvYmFsT3B0aW9ucy5tYXhNZXNzYWdlTGVuZ3RoO1xuICAgICAgICBpZiAoZGF0YS5tZXNzYWdlKSB7XG4gICAgICAgICAgICBkYXRhLm1lc3NhZ2UgPSB0cnVuY2F0ZShkYXRhLm1lc3NhZ2UsIG1heCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGEuZXhjZXB0aW9uKSB7XG4gICAgICAgICAgICB2YXIgZXhjZXB0aW9uID0gZGF0YS5leGNlcHRpb24udmFsdWVzWzBdO1xuICAgICAgICAgICAgZXhjZXB0aW9uLnZhbHVlID0gdHJ1bmNhdGUoZXhjZXB0aW9uLnZhbHVlLCBtYXgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHJlcXVlc3QgPSBkYXRhLnJlcXVlc3Q7XG4gICAgICAgIGlmIChyZXF1ZXN0KSB7XG4gICAgICAgICAgICBpZiAocmVxdWVzdC51cmwpIHtcbiAgICAgICAgICAgICAgICByZXF1ZXN0LnVybCA9IHRydW5jYXRlKHJlcXVlc3QudXJsLCB0aGlzLl9nbG9iYWxPcHRpb25zLm1heFVybExlbmd0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocmVxdWVzdC5SZWZlcmVyKSB7XG4gICAgICAgICAgICAgICAgcmVxdWVzdC5SZWZlcmVyID0gdHJ1bmNhdGUocmVxdWVzdC5SZWZlcmVyLCB0aGlzLl9nbG9iYWxPcHRpb25zLm1heFVybExlbmd0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGF0YS5icmVhZGNydW1icyAmJiBkYXRhLmJyZWFkY3J1bWJzLnZhbHVlcylcbiAgICAgICAgICAgIHRoaXMuX3RyaW1CcmVhZGNydW1icyhkYXRhLmJyZWFkY3J1bWJzKTtcblxuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVHJ1bmNhdGUgYnJlYWRjcnVtYiB2YWx1ZXMgKHJpZ2h0IG5vdyBqdXN0IFVSTHMpXG4gICAgICovXG4gICAgX3RyaW1CcmVhZGNydW1iczogZnVuY3Rpb24gKGJyZWFkY3J1bWJzKSB7XG4gICAgICAgIC8vIGtub3duIGJyZWFkY3J1bWIgcHJvcGVydGllcyB3aXRoIHVybHNcbiAgICAgICAgLy8gVE9ETzogYWxzbyBjb25zaWRlciBhcmJpdHJhcnkgcHJvcCB2YWx1ZXMgdGhhdCBzdGFydCB3aXRoIChodHRwcz8pPzovL1xuICAgICAgICB2YXIgdXJsUHJvcHMgPSBbJ3RvJywgJ2Zyb20nLCAndXJsJ10sXG4gICAgICAgICAgICB1cmxQcm9wLFxuICAgICAgICAgICAgY3J1bWIsXG4gICAgICAgICAgICBkYXRhO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYnJlYWRjcnVtYnMudmFsdWVzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBjcnVtYiA9IGJyZWFkY3J1bWJzLnZhbHVlc1tpXTtcbiAgICAgICAgICAgIGlmICghY3J1bWIuaGFzT3duUHJvcGVydHkoJ2RhdGEnKSB8fCAhaXNPYmplY3QoY3J1bWIuZGF0YSkgfHwgb2JqZWN0RnJvemVuKGNydW1iLmRhdGEpKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICBkYXRhID0gb2JqZWN0TWVyZ2Uoe30sIGNydW1iLmRhdGEpO1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB1cmxQcm9wcy5sZW5ndGg7ICsraikge1xuICAgICAgICAgICAgICAgIHVybFByb3AgPSB1cmxQcm9wc1tqXTtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5oYXNPd25Qcm9wZXJ0eSh1cmxQcm9wKSkge1xuICAgICAgICAgICAgICAgICAgICBkYXRhW3VybFByb3BdID0gdHJ1bmNhdGUoZGF0YVt1cmxQcm9wXSwgdGhpcy5fZ2xvYmFsT3B0aW9ucy5tYXhVcmxMZW5ndGgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFkY3J1bWJzLnZhbHVlc1tpXS5kYXRhID0gZGF0YTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBfZ2V0SHR0cERhdGE6IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoIXRoaXMuX2hhc05hdmlnYXRvciAmJiAhdGhpcy5faGFzRG9jdW1lbnQpIHJldHVybjtcbiAgICAgICAgdmFyIGh0dHBEYXRhID0ge307XG5cbiAgICAgICAgaWYgKHRoaXMuX2hhc05hdmlnYXRvciAmJiBfbmF2aWdhdG9yLnVzZXJBZ2VudCkge1xuICAgICAgICAgICAgaHR0cERhdGEuaGVhZGVycyA9IHtcbiAgICAgICAgICAgICAgJ1VzZXItQWdlbnQnOiBuYXZpZ2F0b3IudXNlckFnZW50XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX2hhc0RvY3VtZW50KSB7XG4gICAgICAgICAgICBpZiAoX2RvY3VtZW50LmxvY2F0aW9uICYmIF9kb2N1bWVudC5sb2NhdGlvbi5ocmVmKSB7XG4gICAgICAgICAgICAgICAgaHR0cERhdGEudXJsID0gX2RvY3VtZW50LmxvY2F0aW9uLmhyZWY7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoX2RvY3VtZW50LnJlZmVycmVyKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFodHRwRGF0YS5oZWFkZXJzKSBodHRwRGF0YS5oZWFkZXJzID0ge307XG4gICAgICAgICAgICAgICAgaHR0cERhdGEuaGVhZGVycy5SZWZlcmVyID0gX2RvY3VtZW50LnJlZmVycmVyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGh0dHBEYXRhO1xuICAgIH0sXG5cbiAgICBfcmVzZXRCYWNrb2ZmOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5fYmFja29mZkR1cmF0aW9uID0gMDtcbiAgICAgICAgdGhpcy5fYmFja29mZlN0YXJ0ID0gbnVsbDtcbiAgICB9LFxuXG4gICAgX3Nob3VsZEJhY2tvZmY6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYmFja29mZkR1cmF0aW9uICYmIG5vdygpIC0gdGhpcy5fYmFja29mZlN0YXJ0IDwgdGhpcy5fYmFja29mZkR1cmF0aW9uO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIGluLXByb2Nlc3MgZGF0YSBwYXlsb2FkIG1hdGNoZXMgdGhlIHNpZ25hdHVyZVxuICAgICAqIG9mIHRoZSBwcmV2aW91c2x5LXNlbnQgZGF0YVxuICAgICAqXG4gICAgICogTk9URTogVGhpcyBoYXMgdG8gYmUgZG9uZSBhdCB0aGlzIGxldmVsIGJlY2F1c2UgVHJhY2VLaXQgY2FuIGdlbmVyYXRlXG4gICAgICogICAgICAgZGF0YSBmcm9tIHdpbmRvdy5vbmVycm9yIFdJVEhPVVQgYW4gZXhjZXB0aW9uIG9iamVjdCAoSUU4LCBJRTksXG4gICAgICogICAgICAgb3RoZXIgb2xkIGJyb3dzZXJzKS4gVGhpcyBjYW4gdGFrZSB0aGUgZm9ybSBvZiBhbiBcImV4Y2VwdGlvblwiXG4gICAgICogICAgICAgZGF0YSBvYmplY3Qgd2l0aCBhIHNpbmdsZSBmcmFtZSAoZGVyaXZlZCBmcm9tIHRoZSBvbmVycm9yIGFyZ3MpLlxuICAgICAqL1xuICAgIF9pc1JlcGVhdERhdGE6IGZ1bmN0aW9uIChjdXJyZW50KSB7XG4gICAgICAgIHZhciBsYXN0ID0gdGhpcy5fbGFzdERhdGE7XG5cbiAgICAgICAgaWYgKCFsYXN0IHx8XG4gICAgICAgICAgICBjdXJyZW50Lm1lc3NhZ2UgIT09IGxhc3QubWVzc2FnZSB8fCAvLyBkZWZpbmVkIGZvciBjYXB0dXJlTWVzc2FnZVxuICAgICAgICAgICAgY3VycmVudC5jdWxwcml0ICE9PSBsYXN0LmN1bHByaXQpICAgLy8gZGVmaW5lZCBmb3IgY2FwdHVyZUV4Y2VwdGlvbi9vbmVycm9yXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgLy8gU3RhY2t0cmFjZSBpbnRlcmZhY2UgKGkuZS4gZnJvbSBjYXB0dXJlTWVzc2FnZSlcbiAgICAgICAgaWYgKGN1cnJlbnQuc3RhY2t0cmFjZSB8fCBsYXN0LnN0YWNrdHJhY2UpIHtcbiAgICAgICAgICAgIHJldHVybiBpc1NhbWVTdGFja3RyYWNlKGN1cnJlbnQuc3RhY2t0cmFjZSwgbGFzdC5zdGFja3RyYWNlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBFeGNlcHRpb24gaW50ZXJmYWNlIChpLmUuIGZyb20gY2FwdHVyZUV4Y2VwdGlvbi9vbmVycm9yKVxuICAgICAgICBlbHNlIGlmIChjdXJyZW50LmV4Y2VwdGlvbiB8fCBsYXN0LmV4Y2VwdGlvbikge1xuICAgICAgICAgICAgcmV0dXJuIGlzU2FtZUV4Y2VwdGlvbihjdXJyZW50LmV4Y2VwdGlvbiwgbGFzdC5leGNlcHRpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcblxuICAgIF9zZXRCYWNrb2ZmU3RhdGU6IGZ1bmN0aW9uKHJlcXVlc3QpIHtcbiAgICAgICAgLy8gSWYgd2UgYXJlIGFscmVhZHkgaW4gYSBiYWNrb2ZmIHN0YXRlLCBkb24ndCBjaGFuZ2UgYW55dGhpbmdcbiAgICAgICAgaWYgKHRoaXMuX3Nob3VsZEJhY2tvZmYoKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHN0YXR1cyA9IHJlcXVlc3Quc3RhdHVzO1xuXG4gICAgICAgIC8vIDQwMCAtIHByb2plY3RfaWQgZG9lc24ndCBleGlzdCBvciBzb21lIG90aGVyIGZhdGFsXG4gICAgICAgIC8vIDQwMSAtIGludmFsaWQvcmV2b2tlZCBkc25cbiAgICAgICAgLy8gNDI5IC0gdG9vIG1hbnkgcmVxdWVzdHNcbiAgICAgICAgaWYgKCEoc3RhdHVzID09PSA0MDAgfHwgc3RhdHVzID09PSA0MDEgfHwgc3RhdHVzID09PSA0MjkpKVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIHZhciByZXRyeTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIElmIFJldHJ5LUFmdGVyIGlzIG5vdCBpbiBBY2Nlc3MtQ29udHJvbC1FeHBvc2UtSGVhZGVycywgbW9zdFxuICAgICAgICAgICAgLy8gYnJvd3NlcnMgd2lsbCB0aHJvdyBhbiBleGNlcHRpb24gdHJ5aW5nIHRvIGFjY2VzcyBpdFxuICAgICAgICAgICAgcmV0cnkgPSByZXF1ZXN0LmdldFJlc3BvbnNlSGVhZGVyKCdSZXRyeS1BZnRlcicpO1xuICAgICAgICAgICAgcmV0cnkgPSBwYXJzZUludChyZXRyeSwgMTApICogMTAwMDsgLy8gUmV0cnktQWZ0ZXIgaXMgcmV0dXJuZWQgaW4gc2Vjb25kc1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAvKiBlc2xpbnQgbm8tZW1wdHk6MCAqL1xuICAgICAgICB9XG5cblxuICAgICAgICB0aGlzLl9iYWNrb2ZmRHVyYXRpb24gPSByZXRyeVxuICAgICAgICAgICAgLy8gSWYgU2VudHJ5IHNlcnZlciByZXR1cm5lZCBhIFJldHJ5LUFmdGVyIHZhbHVlLCB1c2UgaXRcbiAgICAgICAgICAgID8gcmV0cnlcbiAgICAgICAgICAgIC8vIE90aGVyd2lzZSwgZG91YmxlIHRoZSBsYXN0IGJhY2tvZmYgZHVyYXRpb24gKHN0YXJ0cyBhdCAxIHNlYylcbiAgICAgICAgICAgIDogdGhpcy5fYmFja29mZkR1cmF0aW9uICogMiB8fCAxMDAwO1xuXG4gICAgICAgIHRoaXMuX2JhY2tvZmZTdGFydCA9IG5vdygpO1xuICAgIH0sXG5cbiAgICBfc2VuZDogZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICB2YXIgZ2xvYmFsT3B0aW9ucyA9IHRoaXMuX2dsb2JhbE9wdGlvbnM7XG5cbiAgICAgICAgdmFyIGJhc2VEYXRhID0ge1xuICAgICAgICAgICAgcHJvamVjdDogdGhpcy5fZ2xvYmFsUHJvamVjdCxcbiAgICAgICAgICAgIGxvZ2dlcjogZ2xvYmFsT3B0aW9ucy5sb2dnZXIsXG4gICAgICAgICAgICBwbGF0Zm9ybTogJ2phdmFzY3JpcHQnXG4gICAgICAgIH0sIGh0dHBEYXRhID0gdGhpcy5fZ2V0SHR0cERhdGEoKTtcblxuICAgICAgICBpZiAoaHR0cERhdGEpIHtcbiAgICAgICAgICAgIGJhc2VEYXRhLnJlcXVlc3QgPSBodHRwRGF0YTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEhBQ0s6IGRlbGV0ZSBgdHJpbUhlYWRGcmFtZXNgIHRvIHByZXZlbnQgZnJvbSBhcHBlYXJpbmcgaW4gb3V0Ym91bmQgcGF5bG9hZFxuICAgICAgICBpZiAoZGF0YS50cmltSGVhZEZyYW1lcykgZGVsZXRlIGRhdGEudHJpbUhlYWRGcmFtZXM7XG5cbiAgICAgICAgZGF0YSA9IG9iamVjdE1lcmdlKGJhc2VEYXRhLCBkYXRhKTtcblxuICAgICAgICAvLyBNZXJnZSBpbiB0aGUgdGFncyBhbmQgZXh0cmEgc2VwYXJhdGVseSBzaW5jZSBvYmplY3RNZXJnZSBkb2Vzbid0IGhhbmRsZSBhIGRlZXAgbWVyZ2VcbiAgICAgICAgZGF0YS50YWdzID0gb2JqZWN0TWVyZ2Uob2JqZWN0TWVyZ2Uoe30sIHRoaXMuX2dsb2JhbENvbnRleHQudGFncyksIGRhdGEudGFncyk7XG4gICAgICAgIGRhdGEuZXh0cmEgPSBvYmplY3RNZXJnZShvYmplY3RNZXJnZSh7fSwgdGhpcy5fZ2xvYmFsQ29udGV4dC5leHRyYSksIGRhdGEuZXh0cmEpO1xuXG4gICAgICAgIC8vIFNlbmQgYWxvbmcgb3VyIG93biBjb2xsZWN0ZWQgbWV0YWRhdGEgd2l0aCBleHRyYVxuICAgICAgICBkYXRhLmV4dHJhWydzZXNzaW9uOmR1cmF0aW9uJ10gPSBub3coKSAtIHRoaXMuX3N0YXJ0VGltZTtcblxuICAgICAgICBpZiAodGhpcy5fYnJlYWRjcnVtYnMgJiYgdGhpcy5fYnJlYWRjcnVtYnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgLy8gaW50ZW50aW9uYWxseSBtYWtlIHNoYWxsb3cgY29weSBzbyB0aGF0IGFkZGl0aW9uc1xuICAgICAgICAgICAgLy8gdG8gYnJlYWRjcnVtYnMgYXJlbid0IGFjY2lkZW50YWxseSBzZW50IGluIHRoaXMgcmVxdWVzdFxuICAgICAgICAgICAgZGF0YS5icmVhZGNydW1icyA9IHtcbiAgICAgICAgICAgICAgICB2YWx1ZXM6IFtdLnNsaWNlLmNhbGwodGhpcy5fYnJlYWRjcnVtYnMsIDApXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSWYgdGhlcmUgYXJlIG5vIHRhZ3MvZXh0cmEsIHN0cmlwIHRoZSBrZXkgZnJvbSB0aGUgcGF5bG9hZCBhbGx0b2d0aGVyLlxuICAgICAgICBpZiAoaXNFbXB0eU9iamVjdChkYXRhLnRhZ3MpKSBkZWxldGUgZGF0YS50YWdzO1xuXG4gICAgICAgIGlmICh0aGlzLl9nbG9iYWxDb250ZXh0LnVzZXIpIHtcbiAgICAgICAgICAgIC8vIHNlbnRyeS5pbnRlcmZhY2VzLlVzZXJcbiAgICAgICAgICAgIGRhdGEudXNlciA9IHRoaXMuX2dsb2JhbENvbnRleHQudXNlcjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEluY2x1ZGUgdGhlIGVudmlyb25tZW50IGlmIGl0J3MgZGVmaW5lZCBpbiBnbG9iYWxPcHRpb25zXG4gICAgICAgIGlmIChnbG9iYWxPcHRpb25zLmVudmlyb25tZW50KSBkYXRhLmVudmlyb25tZW50ID0gZ2xvYmFsT3B0aW9ucy5lbnZpcm9ubWVudDtcblxuICAgICAgICAvLyBJbmNsdWRlIHRoZSByZWxlYXNlIGlmIGl0J3MgZGVmaW5lZCBpbiBnbG9iYWxPcHRpb25zXG4gICAgICAgIGlmIChnbG9iYWxPcHRpb25zLnJlbGVhc2UpIGRhdGEucmVsZWFzZSA9IGdsb2JhbE9wdGlvbnMucmVsZWFzZTtcblxuICAgICAgICAvLyBJbmNsdWRlIHNlcnZlcl9uYW1lIGlmIGl0J3MgZGVmaW5lZCBpbiBnbG9iYWxPcHRpb25zXG4gICAgICAgIGlmIChnbG9iYWxPcHRpb25zLnNlcnZlck5hbWUpIGRhdGEuc2VydmVyX25hbWUgPSBnbG9iYWxPcHRpb25zLnNlcnZlck5hbWU7XG5cbiAgICAgICAgaWYgKGlzRnVuY3Rpb24oZ2xvYmFsT3B0aW9ucy5kYXRhQ2FsbGJhY2spKSB7XG4gICAgICAgICAgICBkYXRhID0gZ2xvYmFsT3B0aW9ucy5kYXRhQ2FsbGJhY2soZGF0YSkgfHwgZGF0YTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFdoeT8/Pz8/Pz8/Pz9cbiAgICAgICAgaWYgKCFkYXRhIHx8IGlzRW1wdHlPYmplY3QoZGF0YSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENoZWNrIGlmIHRoZSByZXF1ZXN0IHNob3VsZCBiZSBmaWx0ZXJlZCBvciBub3RcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24oZ2xvYmFsT3B0aW9ucy5zaG91bGRTZW5kQ2FsbGJhY2spICYmICFnbG9iYWxPcHRpb25zLnNob3VsZFNlbmRDYWxsYmFjayhkYXRhKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQmFja29mZiBzdGF0ZTogU2VudHJ5IHNlcnZlciBwcmV2aW91c2x5IHJlc3BvbmRlZCB3LyBhbiBlcnJvciAoZS5nLiA0MjkgLSB0b28gbWFueSByZXF1ZXN0cyksXG4gICAgICAgIC8vIHNvIGRyb3AgcmVxdWVzdHMgdW50aWwgXCJjb29sLW9mZlwiIHBlcmlvZCBoYXMgZWxhcHNlZC5cbiAgICAgICAgaWYgKHRoaXMuX3Nob3VsZEJhY2tvZmYoKSkge1xuICAgICAgICAgICAgdGhpcy5fbG9nRGVidWcoJ3dhcm4nLCAnUmF2ZW4gZHJvcHBlZCBlcnJvciBkdWUgdG8gYmFja29mZjogJywgZGF0YSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mIGdsb2JhbE9wdGlvbnMuc2FtcGxlUmF0ZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIGlmIChNYXRoLnJhbmRvbSgpIDwgZ2xvYmFsT3B0aW9ucy5zYW1wbGVSYXRlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2VuZFByb2Nlc3NlZFBheWxvYWQoZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9zZW5kUHJvY2Vzc2VkUGF5bG9hZChkYXRhKTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBfZ2V0VXVpZDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHV1aWQ0KCk7XG4gICAgfSxcblxuICAgIF9zZW5kUHJvY2Vzc2VkUGF5bG9hZDogZnVuY3Rpb24oZGF0YSwgY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICB2YXIgZ2xvYmFsT3B0aW9ucyA9IHRoaXMuX2dsb2JhbE9wdGlvbnM7XG5cbiAgICAgICAgaWYgKCF0aGlzLmlzU2V0dXAoKSkgcmV0dXJuO1xuXG4gICAgICAgIC8vIFNlbmQgYWxvbmcgYW4gZXZlbnRfaWQgaWYgbm90IGV4cGxpY2l0bHkgcGFzc2VkLlxuICAgICAgICAvLyBUaGlzIGV2ZW50X2lkIGNhbiBiZSB1c2VkIHRvIHJlZmVyZW5jZSB0aGUgZXJyb3Igd2l0aGluIFNlbnRyeSBpdHNlbGYuXG4gICAgICAgIC8vIFNldCBsYXN0RXZlbnRJZCBhZnRlciB3ZSBrbm93IHRoZSBlcnJvciBzaG91bGQgYWN0dWFsbHkgYmUgc2VudFxuICAgICAgICB0aGlzLl9sYXN0RXZlbnRJZCA9IGRhdGEuZXZlbnRfaWQgfHwgKGRhdGEuZXZlbnRfaWQgPSB0aGlzLl9nZXRVdWlkKCkpO1xuXG4gICAgICAgIC8vIFRyeSBhbmQgY2xlYW4gdXAgdGhlIHBhY2tldCBiZWZvcmUgc2VuZGluZyBieSB0cnVuY2F0aW5nIGxvbmcgdmFsdWVzXG4gICAgICAgIGRhdGEgPSB0aGlzLl90cmltUGFja2V0KGRhdGEpO1xuXG4gICAgICAgIC8vIGlkZWFsbHkgZHVwbGljYXRlIGVycm9yIHRlc3Rpbmcgc2hvdWxkIG9jY3VyICpiZWZvcmUqIGRhdGFDYWxsYmFjay9zaG91bGRTZW5kQ2FsbGJhY2ssXG4gICAgICAgIC8vIGJ1dCB0aGlzIHdvdWxkIHJlcXVpcmUgY29weWluZyBhbiB1bi10cnVuY2F0ZWQgY29weSBvZiB0aGUgZGF0YSBwYWNrZXQsIHdoaWNoIGNhbiBiZVxuICAgICAgICAvLyBhcmJpdHJhcmlseSBkZWVwIChleHRyYV9kYXRhKSAtLSBjb3VsZCBiZSB3b3J0aHdoaWxlPyB3aWxsIHJldmlzaXRcbiAgICAgICAgaWYgKCF0aGlzLl9nbG9iYWxPcHRpb25zLmFsbG93RHVwbGljYXRlcyAmJiB0aGlzLl9pc1JlcGVhdERhdGEoZGF0YSkpIHtcbiAgICAgICAgICAgIHRoaXMuX2xvZ0RlYnVnKCd3YXJuJywgJ1JhdmVuIGRyb3BwZWQgcmVwZWF0IGV2ZW50OiAnLCBkYXRhKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFN0b3JlIG91dGJvdW5kIHBheWxvYWQgYWZ0ZXIgdHJpbVxuICAgICAgICB0aGlzLl9sYXN0RGF0YSA9IGRhdGE7XG5cbiAgICAgICAgdGhpcy5fbG9nRGVidWcoJ2RlYnVnJywgJ1JhdmVuIGFib3V0IHRvIHNlbmQ6JywgZGF0YSk7XG5cbiAgICAgICAgdmFyIGF1dGggPSB7XG4gICAgICAgICAgICBzZW50cnlfdmVyc2lvbjogJzcnLFxuICAgICAgICAgICAgc2VudHJ5X2NsaWVudDogJ3JhdmVuLWpzLycgKyB0aGlzLlZFUlNJT04sXG4gICAgICAgICAgICBzZW50cnlfa2V5OiB0aGlzLl9nbG9iYWxLZXlcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKHRoaXMuX2dsb2JhbFNlY3JldCkge1xuICAgICAgICAgICAgYXV0aC5zZW50cnlfc2VjcmV0ID0gdGhpcy5fZ2xvYmFsU2VjcmV0O1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGV4Y2VwdGlvbiA9IGRhdGEuZXhjZXB0aW9uICYmIGRhdGEuZXhjZXB0aW9uLnZhbHVlc1swXTtcbiAgICAgICAgdGhpcy5jYXB0dXJlQnJlYWRjcnVtYih7XG4gICAgICAgICAgICBjYXRlZ29yeTogJ3NlbnRyeScsXG4gICAgICAgICAgICBtZXNzYWdlOiBleGNlcHRpb25cbiAgICAgICAgICAgICAgICA/IChleGNlcHRpb24udHlwZSA/IGV4Y2VwdGlvbi50eXBlICsgJzogJyA6ICcnKSArIGV4Y2VwdGlvbi52YWx1ZVxuICAgICAgICAgICAgICAgIDogZGF0YS5tZXNzYWdlLFxuICAgICAgICAgICAgZXZlbnRfaWQ6IGRhdGEuZXZlbnRfaWQsXG4gICAgICAgICAgICBsZXZlbDogZGF0YS5sZXZlbCB8fCAnZXJyb3InIC8vIHByZXN1bWUgZXJyb3IgdW5sZXNzIHNwZWNpZmllZFxuICAgICAgICB9KTtcblxuICAgICAgICB2YXIgdXJsID0gdGhpcy5fZ2xvYmFsRW5kcG9pbnQ7XG4gICAgICAgIChnbG9iYWxPcHRpb25zLnRyYW5zcG9ydCB8fCB0aGlzLl9tYWtlUmVxdWVzdCkuY2FsbCh0aGlzLCB7XG4gICAgICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgICAgIGF1dGg6IGF1dGgsXG4gICAgICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgICAgICAgb3B0aW9uczogZ2xvYmFsT3B0aW9ucyxcbiAgICAgICAgICAgIG9uU3VjY2VzczogZnVuY3Rpb24gc3VjY2VzcygpIHtcbiAgICAgICAgICAgICAgICBzZWxmLl9yZXNldEJhY2tvZmYoKTtcblxuICAgICAgICAgICAgICAgIHNlbGYuX3RyaWdnZXJFdmVudCgnc3VjY2VzcycsIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgc3JjOiB1cmxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjaygpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uRXJyb3I6IGZ1bmN0aW9uIGZhaWx1cmUoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBzZWxmLl9sb2dEZWJ1ZygnZXJyb3InLCAnUmF2ZW4gdHJhbnNwb3J0IGZhaWxlZCB0byBzZW5kOiAnLCBlcnJvcik7XG5cbiAgICAgICAgICAgICAgICBpZiAoZXJyb3IucmVxdWVzdCkge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLl9zZXRCYWNrb2ZmU3RhdGUoZXJyb3IucmVxdWVzdCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgc2VsZi5fdHJpZ2dlckV2ZW50KCdmYWlsdXJlJywge1xuICAgICAgICAgICAgICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgICAgICAgICAgICAgICBzcmM6IHVybFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGVycm9yID0gZXJyb3IgfHwgbmV3IEVycm9yKCdSYXZlbiBzZW5kIGZhaWxlZCAobm8gYWRkaXRpb25hbCBkZXRhaWxzIHByb3ZpZGVkKScpO1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSxcblxuICAgIF9tYWtlUmVxdWVzdDogZnVuY3Rpb24ob3B0cykge1xuICAgICAgICB2YXIgcmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuXG4gICAgICAgIC8vIGlmIGJyb3dzZXIgZG9lc24ndCBzdXBwb3J0IENPUlMgKGUuZy4gSUU3KSwgd2UgYXJlIG91dCBvZiBsdWNrXG4gICAgICAgIHZhciBoYXNDT1JTID1cbiAgICAgICAgICAgICd3aXRoQ3JlZGVudGlhbHMnIGluIHJlcXVlc3QgfHxcbiAgICAgICAgICAgIHR5cGVvZiBYRG9tYWluUmVxdWVzdCAhPT0gJ3VuZGVmaW5lZCc7XG5cbiAgICAgICAgaWYgKCFoYXNDT1JTKSByZXR1cm47XG5cbiAgICAgICAgdmFyIHVybCA9IG9wdHMudXJsO1xuXG4gICAgICAgIGlmICgnd2l0aENyZWRlbnRpYWxzJyBpbiByZXF1ZXN0KSB7XG4gICAgICAgICAgICByZXF1ZXN0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZiAocmVxdWVzdC5yZWFkeVN0YXRlICE9PSA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJlcXVlc3Quc3RhdHVzID09PSAyMDApIHtcbiAgICAgICAgICAgICAgICAgICAgb3B0cy5vblN1Y2Nlc3MgJiYgb3B0cy5vblN1Y2Nlc3MoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG9wdHMub25FcnJvcikge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZXJyID0gbmV3IEVycm9yKCdTZW50cnkgZXJyb3IgY29kZTogJyArIHJlcXVlc3Quc3RhdHVzKTtcbiAgICAgICAgICAgICAgICAgICAgZXJyLnJlcXVlc3QgPSByZXF1ZXN0O1xuICAgICAgICAgICAgICAgICAgICBvcHRzLm9uRXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVxdWVzdCA9IG5ldyBYRG9tYWluUmVxdWVzdCgpO1xuICAgICAgICAgICAgLy8geGRvbWFpbnJlcXVlc3QgY2Fubm90IGdvIGh0dHAgLT4gaHR0cHMgKG9yIHZpY2UgdmVyc2EpLFxuICAgICAgICAgICAgLy8gc28gYWx3YXlzIHVzZSBwcm90b2NvbCByZWxhdGl2ZVxuICAgICAgICAgICAgdXJsID0gdXJsLnJlcGxhY2UoL15odHRwcz86LywgJycpO1xuXG4gICAgICAgICAgICAvLyBvbnJlYWR5c3RhdGVjaGFuZ2Ugbm90IHN1cHBvcnRlZCBieSBYRG9tYWluUmVxdWVzdFxuICAgICAgICAgICAgaWYgKG9wdHMub25TdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgcmVxdWVzdC5vbmxvYWQgPSBvcHRzLm9uU3VjY2VzcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvcHRzLm9uRXJyb3IpIHtcbiAgICAgICAgICAgICAgICByZXF1ZXN0Lm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBlcnIgPSBuZXcgRXJyb3IoJ1NlbnRyeSBlcnJvciBjb2RlOiBYRG9tYWluUmVxdWVzdCcpO1xuICAgICAgICAgICAgICAgICAgICBlcnIucmVxdWVzdCA9IHJlcXVlc3Q7XG4gICAgICAgICAgICAgICAgICAgIG9wdHMub25FcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE5PVEU6IGF1dGggaXMgaW50ZW50aW9uYWxseSBzZW50IGFzIHBhcnQgb2YgcXVlcnkgc3RyaW5nIChOT1QgYXMgY3VzdG9tXG4gICAgICAgIC8vICAgICAgIEhUVFAgaGVhZGVyKSBzbyBhcyB0byBhdm9pZCBwcmVmbGlnaHQgQ09SUyByZXF1ZXN0c1xuICAgICAgICByZXF1ZXN0Lm9wZW4oJ1BPU1QnLCB1cmwgKyAnPycgKyB1cmxlbmNvZGUob3B0cy5hdXRoKSk7XG4gICAgICAgIHJlcXVlc3Quc2VuZChzdHJpbmdpZnkob3B0cy5kYXRhKSk7XG4gICAgfSxcblxuICAgIF9sb2dEZWJ1ZzogZnVuY3Rpb24obGV2ZWwpIHtcbiAgICAgICAgaWYgKHRoaXMuX29yaWdpbmFsQ29uc29sZU1ldGhvZHNbbGV2ZWxdICYmIHRoaXMuZGVidWcpIHtcbiAgICAgICAgICAgIC8vIEluIElFPDEwIGNvbnNvbGUgbWV0aG9kcyBkbyBub3QgaGF2ZSB0aGVpciBvd24gJ2FwcGx5JyBtZXRob2RcbiAgICAgICAgICAgIEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseS5jYWxsKFxuICAgICAgICAgICAgICAgIHRoaXMuX29yaWdpbmFsQ29uc29sZU1ldGhvZHNbbGV2ZWxdLFxuICAgICAgICAgICAgICAgIHRoaXMuX29yaWdpbmFsQ29uc29sZSxcbiAgICAgICAgICAgICAgICBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSlcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgX21lcmdlQ29udGV4dDogZnVuY3Rpb24oa2V5LCBjb250ZXh0KSB7XG4gICAgICAgIGlmIChpc1VuZGVmaW5lZChjb250ZXh0KSkge1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX2dsb2JhbENvbnRleHRba2V5XTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2dsb2JhbENvbnRleHRba2V5XSA9IG9iamVjdE1lcmdlKHRoaXMuX2dsb2JhbENvbnRleHRba2V5XSB8fCB7fSwgY29udGV4dCk7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG4vKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogdXRpbHNcbiAqXG4gKiBjb25kaXRpb25hbGx5IGV4cG9ydGVkIGZvciB0ZXN0IHZpYSBSYXZlbi51dGlsc1xuID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xudmFyIG9iamVjdFByb3RvdHlwZSA9IE9iamVjdC5wcm90b3R5cGU7XG5cbmZ1bmN0aW9uIGlzVW5kZWZpbmVkKHdoYXQpIHtcbiAgICByZXR1cm4gd2hhdCA9PT0gdm9pZCAwO1xufVxuXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKHdoYXQpIHtcbiAgICByZXR1cm4gdHlwZW9mIHdoYXQgPT09ICdmdW5jdGlvbic7XG59XG5cbmZ1bmN0aW9uIGlzU3RyaW5nKHdoYXQpIHtcbiAgICByZXR1cm4gb2JqZWN0UHJvdG90eXBlLnRvU3RyaW5nLmNhbGwod2hhdCkgPT09ICdbb2JqZWN0IFN0cmluZ10nO1xufVxuXG5cbmZ1bmN0aW9uIGlzRW1wdHlPYmplY3Qod2hhdCkge1xuICAgIGZvciAodmFyIF8gaW4gd2hhdCkgcmV0dXJuIGZhbHNlOyAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBndWFyZC1mb3ItaW4sIG5vLXVudXNlZC12YXJzXG4gICAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIGVhY2gob2JqLCBjYWxsYmFjaykge1xuICAgIHZhciBpLCBqO1xuXG4gICAgaWYgKGlzVW5kZWZpbmVkKG9iai5sZW5ndGgpKSB7XG4gICAgICAgIGZvciAoaSBpbiBvYmopIHtcbiAgICAgICAgICAgIGlmIChoYXNLZXkob2JqLCBpKSkge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrLmNhbGwobnVsbCwgaSwgb2JqW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGogPSBvYmoubGVuZ3RoO1xuICAgICAgICBpZiAoaikge1xuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGo7IGkrKykge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrLmNhbGwobnVsbCwgaSwgb2JqW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gb2JqZWN0TWVyZ2Uob2JqMSwgb2JqMikge1xuICAgIGlmICghb2JqMikge1xuICAgICAgICByZXR1cm4gb2JqMTtcbiAgICB9XG4gICAgZWFjaChvYmoyLCBmdW5jdGlvbihrZXksIHZhbHVlKXtcbiAgICAgICAgb2JqMVtrZXldID0gdmFsdWU7XG4gICAgfSk7XG4gICAgcmV0dXJuIG9iajE7XG59XG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbiBpcyBvbmx5IHVzZWQgZm9yIHJlYWN0LW5hdGl2ZS5cbiAqIHJlYWN0LW5hdGl2ZSBmcmVlemVzIG9iamVjdCB0aGF0IGhhdmUgYWxyZWFkeSBiZWVuIHNlbnQgb3ZlciB0aGVcbiAqIGpzIGJyaWRnZS4gV2UgbmVlZCB0aGlzIGZ1bmN0aW9uIGluIG9yZGVyIHRvIGNoZWNrIGlmIHRoZSBvYmplY3QgaXMgZnJvemVuLlxuICogU28gaXQncyBvayB0aGF0IG9iamVjdEZyb3plbiByZXR1cm5zIGZhbHNlIGlmIE9iamVjdC5pc0Zyb3plbiBpcyBub3RcbiAqIHN1cHBvcnRlZCBiZWNhdXNlIGl0J3Mgbm90IHJlbGV2YW50IGZvciBvdGhlciBcInBsYXRmb3Jtc1wiLiBTZWUgcmVsYXRlZCBpc3N1ZTpcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9nZXRzZW50cnkvcmVhY3QtbmF0aXZlLXNlbnRyeS9pc3N1ZXMvNTdcbiAqL1xuZnVuY3Rpb24gb2JqZWN0RnJvemVuKG9iaikge1xuICAgIGlmICghT2JqZWN0LmlzRnJvemVuKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIE9iamVjdC5pc0Zyb3plbihvYmopO1xufVxuXG5mdW5jdGlvbiB0cnVuY2F0ZShzdHIsIG1heCkge1xuICAgIHJldHVybiAhbWF4IHx8IHN0ci5sZW5ndGggPD0gbWF4ID8gc3RyIDogc3RyLnN1YnN0cigwLCBtYXgpICsgJ1xcdTIwMjYnO1xufVxuXG4vKipcbiAqIGhhc0tleSwgYSBiZXR0ZXIgZm9ybSBvZiBoYXNPd25Qcm9wZXJ0eVxuICogRXhhbXBsZTogaGFzS2V5KE1haW5Ib3N0T2JqZWN0LCBwcm9wZXJ0eSkgPT09IHRydWUvZmFsc2VcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gaG9zdCBvYmplY3QgdG8gY2hlY2sgcHJvcGVydHlcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgdG8gY2hlY2tcbiAqL1xuZnVuY3Rpb24gaGFzS2V5KG9iamVjdCwga2V5KSB7XG4gICAgcmV0dXJuIG9iamVjdFByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KTtcbn1cblxuZnVuY3Rpb24gam9pblJlZ0V4cChwYXR0ZXJucykge1xuICAgIC8vIENvbWJpbmUgYW4gYXJyYXkgb2YgcmVndWxhciBleHByZXNzaW9ucyBhbmQgc3RyaW5ncyBpbnRvIG9uZSBsYXJnZSByZWdleHBcbiAgICAvLyBCZSBtYWQuXG4gICAgdmFyIHNvdXJjZXMgPSBbXSxcbiAgICAgICAgaSA9IDAsIGxlbiA9IHBhdHRlcm5zLmxlbmd0aCxcbiAgICAgICAgcGF0dGVybjtcblxuICAgIGZvciAoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgcGF0dGVybiA9IHBhdHRlcm5zW2ldO1xuICAgICAgICBpZiAoaXNTdHJpbmcocGF0dGVybikpIHtcbiAgICAgICAgICAgIC8vIElmIGl0J3MgYSBzdHJpbmcsIHdlIG5lZWQgdG8gZXNjYXBlIGl0XG4gICAgICAgICAgICAvLyBUYWtlbiBmcm9tOiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L0d1aWRlL1JlZ3VsYXJfRXhwcmVzc2lvbnNcbiAgICAgICAgICAgIHNvdXJjZXMucHVzaChwYXR0ZXJuLnJlcGxhY2UoLyhbLiorP149IToke30oKXxcXFtcXF1cXC9cXFxcXSkvZywgJ1xcXFwkMScpKTtcbiAgICAgICAgfSBlbHNlIGlmIChwYXR0ZXJuICYmIHBhdHRlcm4uc291cmNlKSB7XG4gICAgICAgICAgICAvLyBJZiBpdCdzIGEgcmVnZXhwIGFscmVhZHksIHdlIHdhbnQgdG8gZXh0cmFjdCB0aGUgc291cmNlXG4gICAgICAgICAgICBzb3VyY2VzLnB1c2gocGF0dGVybi5zb3VyY2UpO1xuICAgICAgICB9XG4gICAgICAgIC8vIEludGVudGlvbmFsbHkgc2tpcCBvdGhlciBjYXNlc1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFJlZ0V4cChzb3VyY2VzLmpvaW4oJ3wnKSwgJ2knKTtcbn1cblxuZnVuY3Rpb24gdXJsZW5jb2RlKG8pIHtcbiAgICB2YXIgcGFpcnMgPSBbXTtcbiAgICBlYWNoKG8sIGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcbiAgICAgICAgcGFpcnMucHVzaChlbmNvZGVVUklDb21wb25lbnQoa2V5KSArICc9JyArIGVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSkpO1xuICAgIH0pO1xuICAgIHJldHVybiBwYWlycy5qb2luKCcmJyk7XG59XG5cbi8vIGJvcnJvd2VkIGZyb20gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzM5ODYjYXBwZW5kaXgtQlxuLy8gaW50ZW50aW9uYWxseSB1c2luZyByZWdleCBhbmQgbm90IDxhLz4gaHJlZiBwYXJzaW5nIHRyaWNrIGJlY2F1c2UgUmVhY3QgTmF0aXZlIGFuZCBvdGhlclxuLy8gZW52aXJvbm1lbnRzIHdoZXJlIERPTSBtaWdodCBub3QgYmUgYXZhaWxhYmxlXG5mdW5jdGlvbiBwYXJzZVVybCh1cmwpIHtcbiAgICB2YXIgbWF0Y2ggPSB1cmwubWF0Y2goL14oKFteOlxcLz8jXSspOik/KFxcL1xcLyhbXlxcLz8jXSopKT8oW14/I10qKShcXD8oW14jXSopKT8oIyguKikpPyQvKTtcbiAgICBpZiAoIW1hdGNoKSByZXR1cm4ge307XG5cbiAgICAvLyBjb2VyY2UgdG8gdW5kZWZpbmVkIHZhbHVlcyB0byBlbXB0eSBzdHJpbmcgc28gd2UgZG9uJ3QgZ2V0ICd1bmRlZmluZWQnXG4gICAgdmFyIHF1ZXJ5ID0gbWF0Y2hbNl0gfHwgJyc7XG4gICAgdmFyIGZyYWdtZW50ID0gbWF0Y2hbOF0gfHwgJyc7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcHJvdG9jb2w6IG1hdGNoWzJdLFxuICAgICAgICBob3N0OiBtYXRjaFs0XSxcbiAgICAgICAgcGF0aDogbWF0Y2hbNV0sXG4gICAgICAgIHJlbGF0aXZlOiBtYXRjaFs1XSArIHF1ZXJ5ICsgZnJhZ21lbnQgLy8gZXZlcnl0aGluZyBtaW51cyBvcmlnaW5cbiAgICB9O1xufVxuZnVuY3Rpb24gdXVpZDQoKSB7XG4gICAgdmFyIGNyeXB0byA9IF93aW5kb3cuY3J5cHRvIHx8IF93aW5kb3cubXNDcnlwdG87XG5cbiAgICBpZiAoIWlzVW5kZWZpbmVkKGNyeXB0bykgJiYgY3J5cHRvLmdldFJhbmRvbVZhbHVlcykge1xuICAgICAgICAvLyBVc2Ugd2luZG93LmNyeXB0byBBUEkgaWYgYXZhaWxhYmxlXG4gICAgICAgIHZhciBhcnIgPSBuZXcgVWludDE2QXJyYXkoOCk7XG4gICAgICAgIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMoYXJyKTtcblxuICAgICAgICAvLyBzZXQgNCBpbiBieXRlIDdcbiAgICAgICAgYXJyWzNdID0gYXJyWzNdICYgMHhGRkYgfCAweDQwMDA7XG4gICAgICAgIC8vIHNldCAyIG1vc3Qgc2lnbmlmaWNhbnQgYml0cyBvZiBieXRlIDkgdG8gJzEwJ1xuICAgICAgICBhcnJbNF0gPSBhcnJbNF0gJiAweDNGRkYgfCAweDgwMDA7XG5cbiAgICAgICAgdmFyIHBhZCA9IGZ1bmN0aW9uKG51bSkge1xuICAgICAgICAgICAgdmFyIHYgPSBudW0udG9TdHJpbmcoMTYpO1xuICAgICAgICAgICAgd2hpbGUgKHYubGVuZ3RoIDwgNCkge1xuICAgICAgICAgICAgICAgIHYgPSAnMCcgKyB2O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHY7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIHBhZChhcnJbMF0pICsgcGFkKGFyclsxXSkgKyBwYWQoYXJyWzJdKSArIHBhZChhcnJbM10pICsgcGFkKGFycls0XSkgK1xuICAgICAgICBwYWQoYXJyWzVdKSArIHBhZChhcnJbNl0pICsgcGFkKGFycls3XSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xMDUwMzQvaG93LXRvLWNyZWF0ZS1hLWd1aWQtdXVpZC1pbi1qYXZhc2NyaXB0LzIxMTc1MjMjMjExNzUyM1xuICAgICAgICByZXR1cm4gJ3h4eHh4eHh4eHh4eDR4eHh5eHh4eHh4eHh4eHh4eHh4Jy5yZXBsYWNlKC9beHldL2csIGZ1bmN0aW9uKGMpIHtcbiAgICAgICAgICAgIHZhciByID0gTWF0aC5yYW5kb20oKSoxNnwwLFxuICAgICAgICAgICAgICAgIHYgPSBjID09PSAneCcgPyByIDogciYweDN8MHg4O1xuICAgICAgICAgICAgcmV0dXJuIHYudG9TdHJpbmcoMTYpO1xuICAgICAgICB9KTtcbiAgICB9XG59XG5cbi8qKlxuICogR2l2ZW4gYSBjaGlsZCBET00gZWxlbWVudCwgcmV0dXJucyBhIHF1ZXJ5LXNlbGVjdG9yIHN0YXRlbWVudCBkZXNjcmliaW5nIHRoYXRcbiAqIGFuZCBpdHMgYW5jZXN0b3JzXG4gKiBlLmcuIFtIVE1MRWxlbWVudF0gPT4gYm9keSA+IGRpdiA+IGlucHV0I2Zvby5idG5bbmFtZT1iYXpdXG4gKiBAcGFyYW0gZWxlbVxuICogQHJldHVybnMge3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gaHRtbFRyZWVBc1N0cmluZyhlbGVtKSB7XG4gICAgLyogZXNsaW50IG5vLWV4dHJhLXBhcmVuczowKi9cbiAgICB2YXIgTUFYX1RSQVZFUlNFX0hFSUdIVCA9IDUsXG4gICAgICAgIE1BWF9PVVRQVVRfTEVOID0gODAsXG4gICAgICAgIG91dCA9IFtdLFxuICAgICAgICBoZWlnaHQgPSAwLFxuICAgICAgICBsZW4gPSAwLFxuICAgICAgICBzZXBhcmF0b3IgPSAnID4gJyxcbiAgICAgICAgc2VwTGVuZ3RoID0gc2VwYXJhdG9yLmxlbmd0aCxcbiAgICAgICAgbmV4dFN0cjtcblxuICAgIHdoaWxlIChlbGVtICYmIGhlaWdodCsrIDwgTUFYX1RSQVZFUlNFX0hFSUdIVCkge1xuXG4gICAgICAgIG5leHRTdHIgPSBodG1sRWxlbWVudEFzU3RyaW5nKGVsZW0pO1xuICAgICAgICAvLyBiYWlsIG91dCBpZlxuICAgICAgICAvLyAtIG5leHRTdHIgaXMgdGhlICdodG1sJyBlbGVtZW50XG4gICAgICAgIC8vIC0gdGhlIGxlbmd0aCBvZiB0aGUgc3RyaW5nIHRoYXQgd291bGQgYmUgY3JlYXRlZCBleGNlZWRzIE1BWF9PVVRQVVRfTEVOXG4gICAgICAgIC8vICAgKGlnbm9yZSB0aGlzIGxpbWl0IGlmIHdlIGFyZSBvbiB0aGUgZmlyc3QgaXRlcmF0aW9uKVxuICAgICAgICBpZiAobmV4dFN0ciA9PT0gJ2h0bWwnIHx8IGhlaWdodCA+IDEgJiYgbGVuICsgKG91dC5sZW5ndGggKiBzZXBMZW5ndGgpICsgbmV4dFN0ci5sZW5ndGggPj0gTUFYX09VVFBVVF9MRU4pIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgb3V0LnB1c2gobmV4dFN0cik7XG5cbiAgICAgICAgbGVuICs9IG5leHRTdHIubGVuZ3RoO1xuICAgICAgICBlbGVtID0gZWxlbS5wYXJlbnROb2RlO1xuICAgIH1cblxuICAgIHJldHVybiBvdXQucmV2ZXJzZSgpLmpvaW4oc2VwYXJhdG9yKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgc2ltcGxlLCBxdWVyeS1zZWxlY3RvciByZXByZXNlbnRhdGlvbiBvZiBhIERPTSBlbGVtZW50XG4gKiBlLmcuIFtIVE1MRWxlbWVudF0gPT4gaW5wdXQjZm9vLmJ0bltuYW1lPWJhel1cbiAqIEBwYXJhbSBIVE1MRWxlbWVudFxuICogQHJldHVybnMge3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gaHRtbEVsZW1lbnRBc1N0cmluZyhlbGVtKSB7XG4gICAgdmFyIG91dCA9IFtdLFxuICAgICAgICBjbGFzc05hbWUsXG4gICAgICAgIGNsYXNzZXMsXG4gICAgICAgIGtleSxcbiAgICAgICAgYXR0cixcbiAgICAgICAgaTtcblxuICAgIGlmICghZWxlbSB8fCAhZWxlbS50YWdOYW1lKSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICB9XG5cbiAgICBvdXQucHVzaChlbGVtLnRhZ05hbWUudG9Mb3dlckNhc2UoKSk7XG4gICAgaWYgKGVsZW0uaWQpIHtcbiAgICAgICAgb3V0LnB1c2goJyMnICsgZWxlbS5pZCk7XG4gICAgfVxuXG4gICAgY2xhc3NOYW1lID0gZWxlbS5jbGFzc05hbWU7XG4gICAgaWYgKGNsYXNzTmFtZSAmJiBpc1N0cmluZyhjbGFzc05hbWUpKSB7XG4gICAgICAgIGNsYXNzZXMgPSBjbGFzc05hbWUuc3BsaXQoL1xccysvKTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGNsYXNzZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIG91dC5wdXNoKCcuJyArIGNsYXNzZXNbaV0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHZhciBhdHRyV2hpdGVsaXN0ID0gWyd0eXBlJywgJ25hbWUnLCAndGl0bGUnLCAnYWx0J107XG4gICAgZm9yIChpID0gMDsgaSA8IGF0dHJXaGl0ZWxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAga2V5ID0gYXR0cldoaXRlbGlzdFtpXTtcbiAgICAgICAgYXR0ciA9IGVsZW0uZ2V0QXR0cmlidXRlKGtleSk7XG4gICAgICAgIGlmIChhdHRyKSB7XG4gICAgICAgICAgICBvdXQucHVzaCgnWycgKyBrZXkgKyAnPVwiJyArIGF0dHIgKyAnXCJdJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG91dC5qb2luKCcnKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgZWl0aGVyIGEgT1IgYiBpcyB0cnV0aHksIGJ1dCBub3QgYm90aFxuICovXG5mdW5jdGlvbiBpc09ubHlPbmVUcnV0aHkoYSwgYikge1xuICAgIHJldHVybiAhISghIWEgXiAhIWIpO1xufVxuXG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgdHdvIGlucHV0IGV4Y2VwdGlvbiBpbnRlcmZhY2VzIGhhdmUgdGhlIHNhbWUgY29udGVudFxuICovXG5mdW5jdGlvbiBpc1NhbWVFeGNlcHRpb24oZXgxLCBleDIpIHtcbiAgICBpZiAoaXNPbmx5T25lVHJ1dGh5KGV4MSwgZXgyKSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgZXgxID0gZXgxLnZhbHVlc1swXTtcbiAgICBleDIgPSBleDIudmFsdWVzWzBdO1xuXG4gICAgaWYgKGV4MS50eXBlICE9PSBleDIudHlwZSB8fFxuICAgICAgICBleDEudmFsdWUgIT09IGV4Mi52YWx1ZSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgcmV0dXJuIGlzU2FtZVN0YWNrdHJhY2UoZXgxLnN0YWNrdHJhY2UsIGV4Mi5zdGFja3RyYWNlKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhlIHR3byBpbnB1dCBzdGFjayB0cmFjZSBpbnRlcmZhY2VzIGhhdmUgdGhlIHNhbWUgY29udGVudFxuICovXG5mdW5jdGlvbiBpc1NhbWVTdGFja3RyYWNlKHN0YWNrMSwgc3RhY2syKSB7XG4gICAgaWYgKGlzT25seU9uZVRydXRoeShzdGFjazEsIHN0YWNrMikpXG4gICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgIHZhciBmcmFtZXMxID0gc3RhY2sxLmZyYW1lcztcbiAgICB2YXIgZnJhbWVzMiA9IHN0YWNrMi5mcmFtZXM7XG5cbiAgICAvLyBFeGl0IGVhcmx5IGlmIGZyYW1lIGNvdW50IGRpZmZlcnNcbiAgICBpZiAoZnJhbWVzMS5sZW5ndGggIT09IGZyYW1lczIubGVuZ3RoKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAvLyBJdGVyYXRlIHRocm91Z2ggZXZlcnkgZnJhbWU7IGJhaWwgb3V0IGlmIGFueXRoaW5nIGRpZmZlcnNcbiAgICB2YXIgYSwgYjtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZyYW1lczEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgYSA9IGZyYW1lczFbaV07XG4gICAgICAgIGIgPSBmcmFtZXMyW2ldO1xuICAgICAgICBpZiAoYS5maWxlbmFtZSAhPT0gYi5maWxlbmFtZSB8fFxuICAgICAgICAgICAgYS5saW5lbm8gIT09IGIubGluZW5vIHx8XG4gICAgICAgICAgICBhLmNvbG5vICE9PSBiLmNvbG5vIHx8XG4gICAgICAgICAgICBhWydmdW5jdGlvbiddICE9PSBiWydmdW5jdGlvbiddKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cblxuLyoqXG4gKiBQb2x5ZmlsbCBhIG1ldGhvZFxuICogQHBhcmFtIG9iaiBvYmplY3QgZS5nLiBgZG9jdW1lbnRgXG4gKiBAcGFyYW0gbmFtZSBtZXRob2QgbmFtZSBwcmVzZW50IG9uIG9iamVjdCBlLmcuIGBhZGRFdmVudExpc3RlbmVyYFxuICogQHBhcmFtIHJlcGxhY2VtZW50IHJlcGxhY2VtZW50IGZ1bmN0aW9uXG4gKiBAcGFyYW0gdHJhY2sge29wdGlvbmFsfSByZWNvcmQgaW5zdHJ1bWVudGF0aW9uIHRvIGFuIGFycmF5XG4gKi9cbmZ1bmN0aW9uIGZpbGwob2JqLCBuYW1lLCByZXBsYWNlbWVudCwgdHJhY2spIHtcbiAgICB2YXIgb3JpZyA9IG9ialtuYW1lXTtcbiAgICBvYmpbbmFtZV0gPSByZXBsYWNlbWVudChvcmlnKTtcbiAgICBpZiAodHJhY2spIHtcbiAgICAgICAgdHJhY2sucHVzaChbb2JqLCBuYW1lLCBvcmlnXSk7XG4gICAgfVxufVxuXG5pZiAodHlwZW9mIF9fREVWX18gIT09ICd1bmRlZmluZWQnICYmIF9fREVWX18pIHtcbiAgICBSYXZlbi51dGlscyA9IHtcbiAgICAgICAgaXNVbmRlZmluZWQ6IGlzVW5kZWZpbmVkLFxuICAgICAgICBpc0Z1bmN0aW9uOiBpc0Z1bmN0aW9uLFxuICAgICAgICBpc1N0cmluZzogaXNTdHJpbmcsXG4gICAgICAgIGlzT2JqZWN0OiBpc09iamVjdCxcbiAgICAgICAgaXNFbXB0eU9iamVjdDogaXNFbXB0eU9iamVjdCxcbiAgICAgICAgaXNFcnJvcjogaXNFcnJvcixcbiAgICAgICAgZWFjaDogZWFjaCxcbiAgICAgICAgb2JqZWN0TWVyZ2U6IG9iamVjdE1lcmdlLFxuICAgICAgICB0cnVuY2F0ZTogdHJ1bmNhdGUsXG4gICAgICAgIGhhc0tleTogaGFzS2V5LFxuICAgICAgICBqb2luUmVnRXhwOiBqb2luUmVnRXhwLFxuICAgICAgICB1cmxlbmNvZGU6IHVybGVuY29kZSxcbiAgICAgICAgdXVpZDQ6IHV1aWQ0LFxuICAgICAgICBodG1sVHJlZUFzU3RyaW5nOiBodG1sVHJlZUFzU3RyaW5nLFxuICAgICAgICBodG1sRWxlbWVudEFzU3RyaW5nOiBodG1sRWxlbWVudEFzU3RyaW5nLFxuICAgICAgICBwYXJzZVVybDogcGFyc2VVcmwsXG4gICAgICAgIGZpbGw6IGZpbGxcbiAgICB9O1xufTtcblxuLy8gRGVwcmVjYXRpb25zXG5SYXZlbi5wcm90b3R5cGUuc2V0VXNlciA9IFJhdmVuLnByb3RvdHlwZS5zZXRVc2VyQ29udGV4dDtcblJhdmVuLnByb3RvdHlwZS5zZXRSZWxlYXNlQ29udGV4dCA9IFJhdmVuLnByb3RvdHlwZS5zZXRSZWxlYXNlO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJhdmVuO1xuXG59KS5jYWxsKHRoaXMsdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiID8gc2VsZiA6IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cgOiB7fSlcbn0se1wiMVwiOjEsXCIyXCI6MixcIjVcIjo1LFwiNlwiOjYsXCI3XCI6N31dLDQ6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuKGZ1bmN0aW9uIChnbG9iYWwpe1xuLyoqXG4gKiBFbmZvcmNlcyBhIHNpbmdsZSBpbnN0YW5jZSBvZiB0aGUgUmF2ZW4gY2xpZW50LCBhbmQgdGhlXG4gKiBtYWluIGVudHJ5IHBvaW50IGZvciBSYXZlbi4gSWYgeW91IGFyZSBhIGNvbnN1bWVyIG9mIHRoZVxuICogUmF2ZW4gbGlicmFyeSwgeW91IFNIT1VMRCBsb2FkIHRoaXMgZmlsZSAodnMgcmF2ZW4uanMpLlxuICoqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBSYXZlbkNvbnN0cnVjdG9yID0gX2RlcmVxXygzKTtcblxuLy8gVGhpcyBpcyB0byBiZSBkZWZlbnNpdmUgaW4gZW52aXJvbm1lbnRzIHdoZXJlIHdpbmRvdyBkb2VzIG5vdCBleGlzdCAoc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9nZXRzZW50cnkvcmF2ZW4tanMvcHVsbC83ODUpXG52YXIgX3dpbmRvdyA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93XG4gICAgICAgICAgICA6IHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnID8gZ2xvYmFsXG4gICAgICAgICAgICA6IHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJyA/IHNlbGZcbiAgICAgICAgICAgIDoge307XG52YXIgX1JhdmVuID0gX3dpbmRvdy5SYXZlbjtcblxudmFyIFJhdmVuID0gbmV3IFJhdmVuQ29uc3RydWN0b3IoKTtcblxuLypcbiAqIEFsbG93IG11bHRpcGxlIHZlcnNpb25zIG9mIFJhdmVuIHRvIGJlIGluc3RhbGxlZC5cbiAqIFN0cmlwIFJhdmVuIGZyb20gdGhlIGdsb2JhbCBjb250ZXh0IGFuZCByZXR1cm5zIHRoZSBpbnN0YW5jZS5cbiAqXG4gKiBAcmV0dXJuIHtSYXZlbn1cbiAqL1xuUmF2ZW4ubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcblx0X3dpbmRvdy5SYXZlbiA9IF9SYXZlbjtcblx0cmV0dXJuIFJhdmVuO1xufTtcblxuUmF2ZW4uYWZ0ZXJMb2FkKCk7XG5cbm1vZHVsZS5leHBvcnRzID0gUmF2ZW47XG5cbn0pLmNhbGwodGhpcyx0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgPyBzZWxmIDogdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdyA6IHt9KVxufSx7XCIzXCI6M31dLDU6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiBpc09iamVjdCh3aGF0KSB7XG4gICAgcmV0dXJuIHR5cGVvZiB3aGF0ID09PSAnb2JqZWN0JyAmJiB3aGF0ICE9PSBudWxsO1xufVxuXG4vLyBZYW5rZWQgZnJvbSBodHRwczovL2dpdC5pby92UzhEViByZS11c2VkIHVuZGVyIENDMFxuLy8gd2l0aCBzb21lIHRpbnkgbW9kaWZpY2F0aW9uc1xuZnVuY3Rpb24gaXNFcnJvcih2YWx1ZSkge1xuICBzd2l0Y2ggKHt9LnRvU3RyaW5nLmNhbGwodmFsdWUpKSB7XG4gICAgY2FzZSAnW29iamVjdCBFcnJvcl0nOiByZXR1cm4gdHJ1ZTtcbiAgICBjYXNlICdbb2JqZWN0IEV4Y2VwdGlvbl0nOiByZXR1cm4gdHJ1ZTtcbiAgICBjYXNlICdbb2JqZWN0IERPTUV4Y2VwdGlvbl0nOiByZXR1cm4gdHJ1ZTtcbiAgICBkZWZhdWx0OiByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBFcnJvcjtcbiAgfVxufVxuXG5mdW5jdGlvbiB3cmFwcGVkQ2FsbGJhY2soY2FsbGJhY2spIHtcbiAgICBmdW5jdGlvbiBkYXRhQ2FsbGJhY2soZGF0YSwgb3JpZ2luYWwpIHtcbiAgICAgIHZhciBub3JtYWxpemVkRGF0YSA9IGNhbGxiYWNrKGRhdGEpIHx8IGRhdGE7XG4gICAgICBpZiAob3JpZ2luYWwpIHtcbiAgICAgICAgICByZXR1cm4gb3JpZ2luYWwobm9ybWFsaXplZERhdGEpIHx8IG5vcm1hbGl6ZWREYXRhO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5vcm1hbGl6ZWREYXRhO1xuICAgIH1cblxuICAgIHJldHVybiBkYXRhQ2FsbGJhY2s7XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIGlzT2JqZWN0OiBpc09iamVjdCxcbiAgICBpc0Vycm9yOiBpc0Vycm9yLFxuICAgIHdyYXBwZWRDYWxsYmFjazogd3JhcHBlZENhbGxiYWNrXG59O1xuXG59LHt9XSw2OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbihmdW5jdGlvbiAoZ2xvYmFsKXtcbid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gX2RlcmVxXyg1KTtcblxuLypcbiBUcmFjZUtpdCAtIENyb3NzIGJyb3dlciBzdGFjayB0cmFjZXNcblxuIFRoaXMgd2FzIG9yaWdpbmFsbHkgZm9ya2VkIGZyb20gZ2l0aHViLmNvbS9vY2MvVHJhY2VLaXQsIGJ1dCBoYXMgc2luY2UgYmVlblxuIGxhcmdlbHkgcmUtd3JpdHRlbiBhbmQgaXMgbm93IG1haW50YWluZWQgYXMgcGFydCBvZiByYXZlbi1qcy4gIFRlc3RzIGZvclxuIHRoaXMgYXJlIGluIHRlc3QvdmVuZG9yLlxuXG4gTUlUIGxpY2Vuc2VcbiovXG5cbnZhciBUcmFjZUtpdCA9IHtcbiAgICBjb2xsZWN0V2luZG93RXJyb3JzOiB0cnVlLFxuICAgIGRlYnVnOiBmYWxzZVxufTtcblxuLy8gVGhpcyBpcyB0byBiZSBkZWZlbnNpdmUgaW4gZW52aXJvbm1lbnRzIHdoZXJlIHdpbmRvdyBkb2VzIG5vdCBleGlzdCAoc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9nZXRzZW50cnkvcmF2ZW4tanMvcHVsbC83ODUpXG52YXIgX3dpbmRvdyA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93XG4gICAgICAgICAgICA6IHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnID8gZ2xvYmFsXG4gICAgICAgICAgICA6IHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJyA/IHNlbGZcbiAgICAgICAgICAgIDoge307XG5cbi8vIGdsb2JhbCByZWZlcmVuY2UgdG8gc2xpY2VcbnZhciBfc2xpY2UgPSBbXS5zbGljZTtcbnZhciBVTktOT1dOX0ZVTkNUSU9OID0gJz8nO1xuXG4vLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9FcnJvciNFcnJvcl90eXBlc1xudmFyIEVSUk9SX1RZUEVTX1JFID0gL14oPzpbVXVdbmNhdWdodCAoPzpleGNlcHRpb246ICk/KT8oPzooKD86RXZhbHxJbnRlcm5hbHxSYW5nZXxSZWZlcmVuY2V8U3ludGF4fFR5cGV8VVJJfClFcnJvcik6ICk/KC4qKSQvO1xuXG5mdW5jdGlvbiBnZXRMb2NhdGlvbkhyZWYoKSB7XG4gICAgaWYgKHR5cGVvZiBkb2N1bWVudCA9PT0gJ3VuZGVmaW5lZCcgfHwgdHlwZW9mIGRvY3VtZW50LmxvY2F0aW9uID09PSAndW5kZWZpbmVkJylcbiAgICAgICAgcmV0dXJuICcnO1xuXG4gICAgcmV0dXJuIGRvY3VtZW50LmxvY2F0aW9uLmhyZWY7XG59XG5cblxuLyoqXG4gKiBUcmFjZUtpdC5yZXBvcnQ6IGNyb3NzLWJyb3dzZXIgcHJvY2Vzc2luZyBvZiB1bmhhbmRsZWQgZXhjZXB0aW9uc1xuICpcbiAqIFN5bnRheDpcbiAqICAgVHJhY2VLaXQucmVwb3J0LnN1YnNjcmliZShmdW5jdGlvbihzdGFja0luZm8pIHsgLi4uIH0pXG4gKiAgIFRyYWNlS2l0LnJlcG9ydC51bnN1YnNjcmliZShmdW5jdGlvbihzdGFja0luZm8pIHsgLi4uIH0pXG4gKiAgIFRyYWNlS2l0LnJlcG9ydChleGNlcHRpb24pXG4gKiAgIHRyeSB7IC4uLmNvZGUuLi4gfSBjYXRjaChleCkgeyBUcmFjZUtpdC5yZXBvcnQoZXgpOyB9XG4gKlxuICogU3VwcG9ydHM6XG4gKiAgIC0gRmlyZWZveDogZnVsbCBzdGFjayB0cmFjZSB3aXRoIGxpbmUgbnVtYmVycywgcGx1cyBjb2x1bW4gbnVtYmVyXG4gKiAgICAgICAgICAgICAgb24gdG9wIGZyYW1lOyBjb2x1bW4gbnVtYmVyIGlzIG5vdCBndWFyYW50ZWVkXG4gKiAgIC0gT3BlcmE6ICAgZnVsbCBzdGFjayB0cmFjZSB3aXRoIGxpbmUgYW5kIGNvbHVtbiBudW1iZXJzXG4gKiAgIC0gQ2hyb21lOiAgZnVsbCBzdGFjayB0cmFjZSB3aXRoIGxpbmUgYW5kIGNvbHVtbiBudW1iZXJzXG4gKiAgIC0gU2FmYXJpOiAgbGluZSBhbmQgY29sdW1uIG51bWJlciBmb3IgdGhlIHRvcCBmcmFtZSBvbmx5OyBzb21lIGZyYW1lc1xuICogICAgICAgICAgICAgIG1heSBiZSBtaXNzaW5nLCBhbmQgY29sdW1uIG51bWJlciBpcyBub3QgZ3VhcmFudGVlZFxuICogICAtIElFOiAgICAgIGxpbmUgYW5kIGNvbHVtbiBudW1iZXIgZm9yIHRoZSB0b3AgZnJhbWUgb25seTsgc29tZSBmcmFtZXNcbiAqICAgICAgICAgICAgICBtYXkgYmUgbWlzc2luZywgYW5kIGNvbHVtbiBudW1iZXIgaXMgbm90IGd1YXJhbnRlZWRcbiAqXG4gKiBJbiB0aGVvcnksIFRyYWNlS2l0IHNob3VsZCB3b3JrIG9uIGFsbCBvZiB0aGUgZm9sbG93aW5nIHZlcnNpb25zOlxuICogICAtIElFNS41KyAob25seSA4LjAgdGVzdGVkKVxuICogICAtIEZpcmVmb3ggMC45KyAob25seSAzLjUrIHRlc3RlZClcbiAqICAgLSBPcGVyYSA3KyAob25seSAxMC41MCB0ZXN0ZWQ7IHZlcnNpb25zIDkgYW5kIGVhcmxpZXIgbWF5IHJlcXVpcmVcbiAqICAgICBFeGNlcHRpb25zIEhhdmUgU3RhY2t0cmFjZSB0byBiZSBlbmFibGVkIGluIG9wZXJhOmNvbmZpZylcbiAqICAgLSBTYWZhcmkgMysgKG9ubHkgNCsgdGVzdGVkKVxuICogICAtIENocm9tZSAxKyAob25seSA1KyB0ZXN0ZWQpXG4gKiAgIC0gS29ucXVlcm9yIDMuNSsgKHVudGVzdGVkKVxuICpcbiAqIFJlcXVpcmVzIFRyYWNlS2l0LmNvbXB1dGVTdGFja1RyYWNlLlxuICpcbiAqIFRyaWVzIHRvIGNhdGNoIGFsbCB1bmhhbmRsZWQgZXhjZXB0aW9ucyBhbmQgcmVwb3J0IHRoZW0gdG8gdGhlXG4gKiBzdWJzY3JpYmVkIGhhbmRsZXJzLiBQbGVhc2Ugbm90ZSB0aGF0IFRyYWNlS2l0LnJlcG9ydCB3aWxsIHJldGhyb3cgdGhlXG4gKiBleGNlcHRpb24uIFRoaXMgaXMgUkVRVUlSRUQgaW4gb3JkZXIgdG8gZ2V0IGEgdXNlZnVsIHN0YWNrIHRyYWNlIGluIElFLlxuICogSWYgdGhlIGV4Y2VwdGlvbiBkb2VzIG5vdCByZWFjaCB0aGUgdG9wIG9mIHRoZSBicm93c2VyLCB5b3Ugd2lsbCBvbmx5XG4gKiBnZXQgYSBzdGFjayB0cmFjZSBmcm9tIHRoZSBwb2ludCB3aGVyZSBUcmFjZUtpdC5yZXBvcnQgd2FzIGNhbGxlZC5cbiAqXG4gKiBIYW5kbGVycyByZWNlaXZlIGEgc3RhY2tJbmZvIG9iamVjdCBhcyBkZXNjcmliZWQgaW4gdGhlXG4gKiBUcmFjZUtpdC5jb21wdXRlU3RhY2tUcmFjZSBkb2NzLlxuICovXG5UcmFjZUtpdC5yZXBvcnQgPSAoZnVuY3Rpb24gcmVwb3J0TW9kdWxlV3JhcHBlcigpIHtcbiAgICB2YXIgaGFuZGxlcnMgPSBbXSxcbiAgICAgICAgbGFzdEFyZ3MgPSBudWxsLFxuICAgICAgICBsYXN0RXhjZXB0aW9uID0gbnVsbCxcbiAgICAgICAgbGFzdEV4Y2VwdGlvblN0YWNrID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEFkZCBhIGNyYXNoIGhhbmRsZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaGFuZGxlclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN1YnNjcmliZShoYW5kbGVyKSB7XG4gICAgICAgIGluc3RhbGxHbG9iYWxIYW5kbGVyKCk7XG4gICAgICAgIGhhbmRsZXJzLnB1c2goaGFuZGxlcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGEgY3Jhc2ggaGFuZGxlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBoYW5kbGVyXG4gICAgICovXG4gICAgZnVuY3Rpb24gdW5zdWJzY3JpYmUoaGFuZGxlcikge1xuICAgICAgICBmb3IgKHZhciBpID0gaGFuZGxlcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgICAgIGlmIChoYW5kbGVyc1tpXSA9PT0gaGFuZGxlcikge1xuICAgICAgICAgICAgICAgIGhhbmRsZXJzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhbGwgY3Jhc2ggaGFuZGxlcnMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gdW5zdWJzY3JpYmVBbGwoKSB7XG4gICAgICAgIHVuaW5zdGFsbEdsb2JhbEhhbmRsZXIoKTtcbiAgICAgICAgaGFuZGxlcnMgPSBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEaXNwYXRjaCBzdGFjayBpbmZvcm1hdGlvbiB0byBhbGwgaGFuZGxlcnMuXG4gICAgICogQHBhcmFtIHtPYmplY3QuPHN0cmluZywgKj59IHN0YWNrXG4gICAgICovXG4gICAgZnVuY3Rpb24gbm90aWZ5SGFuZGxlcnMoc3RhY2ssIGlzV2luZG93RXJyb3IpIHtcbiAgICAgICAgdmFyIGV4Y2VwdGlvbiA9IG51bGw7XG4gICAgICAgIGlmIChpc1dpbmRvd0Vycm9yICYmICFUcmFjZUtpdC5jb2xsZWN0V2luZG93RXJyb3JzKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgaW4gaGFuZGxlcnMpIHtcbiAgICAgICAgICAgIGlmIChoYW5kbGVycy5oYXNPd25Qcm9wZXJ0eShpKSkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZXJzW2ldLmFwcGx5KG51bGwsIFtzdGFja10uY29uY2F0KF9zbGljZS5jYWxsKGFyZ3VtZW50cywgMikpKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChpbm5lcikge1xuICAgICAgICAgICAgICAgICAgICBleGNlcHRpb24gPSBpbm5lcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZXhjZXB0aW9uKSB7XG4gICAgICAgICAgICB0aHJvdyBleGNlcHRpb247XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgX29sZE9uZXJyb3JIYW5kbGVyLCBfb25FcnJvckhhbmRsZXJJbnN0YWxsZWQ7XG5cbiAgICAvKipcbiAgICAgKiBFbnN1cmVzIGFsbCBnbG9iYWwgdW5oYW5kbGVkIGV4Y2VwdGlvbnMgYXJlIHJlY29yZGVkLlxuICAgICAqIFN1cHBvcnRlZCBieSBHZWNrbyBhbmQgSUUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG1lc3NhZ2UgRXJyb3IgbWVzc2FnZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIFVSTCBvZiBzY3JpcHQgdGhhdCBnZW5lcmF0ZWQgdGhlIGV4Y2VwdGlvbi5cbiAgICAgKiBAcGFyYW0geyhudW1iZXJ8c3RyaW5nKX0gbGluZU5vIFRoZSBsaW5lIG51bWJlciBhdCB3aGljaCB0aGUgZXJyb3JcbiAgICAgKiBvY2N1cnJlZC5cbiAgICAgKiBAcGFyYW0gez8obnVtYmVyfHN0cmluZyl9IGNvbE5vIFRoZSBjb2x1bW4gbnVtYmVyIGF0IHdoaWNoIHRoZSBlcnJvclxuICAgICAqIG9jY3VycmVkLlxuICAgICAqIEBwYXJhbSB7P0Vycm9yfSBleCBUaGUgYWN0dWFsIEVycm9yIG9iamVjdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0cmFjZUtpdFdpbmRvd09uRXJyb3IobWVzc2FnZSwgdXJsLCBsaW5lTm8sIGNvbE5vLCBleCkge1xuICAgICAgICB2YXIgc3RhY2sgPSBudWxsO1xuXG4gICAgICAgIGlmIChsYXN0RXhjZXB0aW9uU3RhY2spIHtcbiAgICAgICAgICAgIFRyYWNlS2l0LmNvbXB1dGVTdGFja1RyYWNlLmF1Z21lbnRTdGFja1RyYWNlV2l0aEluaXRpYWxFbGVtZW50KGxhc3RFeGNlcHRpb25TdGFjaywgdXJsLCBsaW5lTm8sIG1lc3NhZ2UpO1xuICAgICAgICAgICAgcHJvY2Vzc0xhc3RFeGNlcHRpb24oKTtcbiAgICAgICAgfSBlbHNlIGlmIChleCAmJiB1dGlscy5pc0Vycm9yKGV4KSkge1xuICAgICAgICAgICAgLy8gbm9uLXN0cmluZyBgZXhgIGFyZzsgYXR0ZW1wdCB0byBleHRyYWN0IHN0YWNrIHRyYWNlXG5cbiAgICAgICAgICAgIC8vIE5ldyBjaHJvbWUgYW5kIGJsaW5rIHNlbmQgYWxvbmcgYSByZWFsIGVycm9yIG9iamVjdFxuICAgICAgICAgICAgLy8gTGV0J3MganVzdCByZXBvcnQgdGhhdCBsaWtlIGEgbm9ybWFsIGVycm9yLlxuICAgICAgICAgICAgLy8gU2VlOiBodHRwczovL21pa2V3ZXN0Lm9yZy8yMDEzLzA4L2RlYnVnZ2luZy1ydW50aW1lLWVycm9ycy13aXRoLXdpbmRvdy1vbmVycm9yXG4gICAgICAgICAgICBzdGFjayA9IFRyYWNlS2l0LmNvbXB1dGVTdGFja1RyYWNlKGV4KTtcbiAgICAgICAgICAgIG5vdGlmeUhhbmRsZXJzKHN0YWNrLCB0cnVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBsb2NhdGlvbiA9IHtcbiAgICAgICAgICAgICAgICAndXJsJzogdXJsLFxuICAgICAgICAgICAgICAgICdsaW5lJzogbGluZU5vLFxuICAgICAgICAgICAgICAgICdjb2x1bW4nOiBjb2xOb1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdmFyIG5hbWUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB2YXIgbXNnID0gbWVzc2FnZTsgLy8gbXVzdCBiZSBuZXcgdmFyIG9yIHdpbGwgbW9kaWZ5IG9yaWdpbmFsIGBhcmd1bWVudHNgXG4gICAgICAgICAgICB2YXIgZ3JvdXBzO1xuICAgICAgICAgICAgaWYgKHt9LnRvU3RyaW5nLmNhbGwobWVzc2FnZSkgPT09ICdbb2JqZWN0IFN0cmluZ10nKSB7XG4gICAgICAgICAgICAgICAgdmFyIGdyb3VwcyA9IG1lc3NhZ2UubWF0Y2goRVJST1JfVFlQRVNfUkUpO1xuICAgICAgICAgICAgICAgIGlmIChncm91cHMpIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZSA9IGdyb3Vwc1sxXTtcbiAgICAgICAgICAgICAgICAgICAgbXNnID0gZ3JvdXBzWzJdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbG9jYXRpb24uZnVuYyA9IFVOS05PV05fRlVOQ1RJT047XG5cbiAgICAgICAgICAgIHN0YWNrID0ge1xuICAgICAgICAgICAgICAgICduYW1lJzogbmFtZSxcbiAgICAgICAgICAgICAgICAnbWVzc2FnZSc6IG1zZyxcbiAgICAgICAgICAgICAgICAndXJsJzogZ2V0TG9jYXRpb25IcmVmKCksXG4gICAgICAgICAgICAgICAgJ3N0YWNrJzogW2xvY2F0aW9uXVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIG5vdGlmeUhhbmRsZXJzKHN0YWNrLCB0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChfb2xkT25lcnJvckhhbmRsZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBfb2xkT25lcnJvckhhbmRsZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbnN0YWxsR2xvYmFsSGFuZGxlciAoKVxuICAgIHtcbiAgICAgICAgaWYgKF9vbkVycm9ySGFuZGxlckluc3RhbGxlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIF9vbGRPbmVycm9ySGFuZGxlciA9IF93aW5kb3cub25lcnJvcjtcbiAgICAgICAgX3dpbmRvdy5vbmVycm9yID0gdHJhY2VLaXRXaW5kb3dPbkVycm9yO1xuICAgICAgICBfb25FcnJvckhhbmRsZXJJbnN0YWxsZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHVuaW5zdGFsbEdsb2JhbEhhbmRsZXIgKClcbiAgICB7XG4gICAgICAgIGlmICghX29uRXJyb3JIYW5kbGVySW5zdGFsbGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgX3dpbmRvdy5vbmVycm9yID0gX29sZE9uZXJyb3JIYW5kbGVyO1xuICAgICAgICBfb25FcnJvckhhbmRsZXJJbnN0YWxsZWQgPSBmYWxzZTtcbiAgICAgICAgX29sZE9uZXJyb3JIYW5kbGVyID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHByb2Nlc3NMYXN0RXhjZXB0aW9uKCkge1xuICAgICAgICB2YXIgX2xhc3RFeGNlcHRpb25TdGFjayA9IGxhc3RFeGNlcHRpb25TdGFjayxcbiAgICAgICAgICAgIF9sYXN0QXJncyA9IGxhc3RBcmdzO1xuICAgICAgICBsYXN0QXJncyA9IG51bGw7XG4gICAgICAgIGxhc3RFeGNlcHRpb25TdGFjayA9IG51bGw7XG4gICAgICAgIGxhc3RFeGNlcHRpb24gPSBudWxsO1xuICAgICAgICBub3RpZnlIYW5kbGVycy5hcHBseShudWxsLCBbX2xhc3RFeGNlcHRpb25TdGFjaywgZmFsc2VdLmNvbmNhdChfbGFzdEFyZ3MpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXBvcnRzIGFuIHVuaGFuZGxlZCBFcnJvciB0byBUcmFjZUtpdC5cbiAgICAgKiBAcGFyYW0ge0Vycm9yfSBleFxuICAgICAqIEBwYXJhbSB7P2Jvb2xlYW59IHJldGhyb3cgSWYgZmFsc2UsIGRvIG5vdCByZS10aHJvdyB0aGUgZXhjZXB0aW9uLlxuICAgICAqIE9ubHkgdXNlZCBmb3Igd2luZG93Lm9uZXJyb3IgdG8gbm90IGNhdXNlIGFuIGluZmluaXRlIGxvb3Agb2ZcbiAgICAgKiByZXRocm93aW5nLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlcG9ydChleCwgcmV0aHJvdykge1xuICAgICAgICB2YXIgYXJncyA9IF9zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG4gICAgICAgIGlmIChsYXN0RXhjZXB0aW9uU3RhY2spIHtcbiAgICAgICAgICAgIGlmIChsYXN0RXhjZXB0aW9uID09PSBleCkge1xuICAgICAgICAgICAgICAgIHJldHVybjsgLy8gYWxyZWFkeSBjYXVnaHQgYnkgYW4gaW5uZXIgY2F0Y2ggYmxvY2ssIGlnbm9yZVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcHJvY2Vzc0xhc3RFeGNlcHRpb24oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzdGFjayA9IFRyYWNlS2l0LmNvbXB1dGVTdGFja1RyYWNlKGV4KTtcbiAgICAgICAgbGFzdEV4Y2VwdGlvblN0YWNrID0gc3RhY2s7XG4gICAgICAgIGxhc3RFeGNlcHRpb24gPSBleDtcbiAgICAgICAgbGFzdEFyZ3MgPSBhcmdzO1xuXG4gICAgICAgIC8vIElmIHRoZSBzdGFjayB0cmFjZSBpcyBpbmNvbXBsZXRlLCB3YWl0IGZvciAyIHNlY29uZHMgZm9yXG4gICAgICAgIC8vIHNsb3cgc2xvdyBJRSB0byBzZWUgaWYgb25lcnJvciBvY2N1cnMgb3Igbm90IGJlZm9yZSByZXBvcnRpbmdcbiAgICAgICAgLy8gdGhpcyBleGNlcHRpb247IG90aGVyd2lzZSwgd2Ugd2lsbCBlbmQgdXAgd2l0aCBhbiBpbmNvbXBsZXRlXG4gICAgICAgIC8vIHN0YWNrIHRyYWNlXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKGxhc3RFeGNlcHRpb24gPT09IGV4KSB7XG4gICAgICAgICAgICAgICAgcHJvY2Vzc0xhc3RFeGNlcHRpb24oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgKHN0YWNrLmluY29tcGxldGUgPyAyMDAwIDogMCkpO1xuXG4gICAgICAgIGlmIChyZXRocm93ICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgdGhyb3cgZXg7IC8vIHJlLXRocm93IHRvIHByb3BhZ2F0ZSB0byB0aGUgdG9wIGxldmVsIChhbmQgY2F1c2Ugd2luZG93Lm9uZXJyb3IpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXBvcnQuc3Vic2NyaWJlID0gc3Vic2NyaWJlO1xuICAgIHJlcG9ydC51bnN1YnNjcmliZSA9IHVuc3Vic2NyaWJlO1xuICAgIHJlcG9ydC51bmluc3RhbGwgPSB1bnN1YnNjcmliZUFsbDtcbiAgICByZXR1cm4gcmVwb3J0O1xufSgpKTtcblxuLyoqXG4gKiBUcmFjZUtpdC5jb21wdXRlU3RhY2tUcmFjZTogY3Jvc3MtYnJvd3NlciBzdGFjayB0cmFjZXMgaW4gSmF2YVNjcmlwdFxuICpcbiAqIFN5bnRheDpcbiAqICAgcyA9IFRyYWNlS2l0LmNvbXB1dGVTdGFja1RyYWNlKGV4Y2VwdGlvbikgLy8gY29uc2lkZXIgdXNpbmcgVHJhY2VLaXQucmVwb3J0IGluc3RlYWQgKHNlZSBiZWxvdylcbiAqIFJldHVybnM6XG4gKiAgIHMubmFtZSAgICAgICAgICAgICAgLSBleGNlcHRpb24gbmFtZVxuICogICBzLm1lc3NhZ2UgICAgICAgICAgIC0gZXhjZXB0aW9uIG1lc3NhZ2VcbiAqICAgcy5zdGFja1tpXS51cmwgICAgICAtIEphdmFTY3JpcHQgb3IgSFRNTCBmaWxlIFVSTFxuICogICBzLnN0YWNrW2ldLmZ1bmMgICAgIC0gZnVuY3Rpb24gbmFtZSwgb3IgZW1wdHkgZm9yIGFub255bW91cyBmdW5jdGlvbnMgKGlmIGd1ZXNzaW5nIGRpZCBub3Qgd29yaylcbiAqICAgcy5zdGFja1tpXS5hcmdzICAgICAtIGFyZ3VtZW50cyBwYXNzZWQgdG8gdGhlIGZ1bmN0aW9uLCBpZiBrbm93blxuICogICBzLnN0YWNrW2ldLmxpbmUgICAgIC0gbGluZSBudW1iZXIsIGlmIGtub3duXG4gKiAgIHMuc3RhY2tbaV0uY29sdW1uICAgLSBjb2x1bW4gbnVtYmVyLCBpZiBrbm93blxuICpcbiAqIFN1cHBvcnRzOlxuICogICAtIEZpcmVmb3g6ICBmdWxsIHN0YWNrIHRyYWNlIHdpdGggbGluZSBudW1iZXJzIGFuZCB1bnJlbGlhYmxlIGNvbHVtblxuICogICAgICAgICAgICAgICBudW1iZXIgb24gdG9wIGZyYW1lXG4gKiAgIC0gT3BlcmEgMTA6IGZ1bGwgc3RhY2sgdHJhY2Ugd2l0aCBsaW5lIGFuZCBjb2x1bW4gbnVtYmVyc1xuICogICAtIE9wZXJhIDktOiBmdWxsIHN0YWNrIHRyYWNlIHdpdGggbGluZSBudW1iZXJzXG4gKiAgIC0gQ2hyb21lOiAgIGZ1bGwgc3RhY2sgdHJhY2Ugd2l0aCBsaW5lIGFuZCBjb2x1bW4gbnVtYmVyc1xuICogICAtIFNhZmFyaTogICBsaW5lIGFuZCBjb2x1bW4gbnVtYmVyIGZvciB0aGUgdG9wbW9zdCBzdGFja3RyYWNlIGVsZW1lbnRcbiAqICAgICAgICAgICAgICAgb25seVxuICogICAtIElFOiAgICAgICBubyBsaW5lIG51bWJlcnMgd2hhdHNvZXZlclxuICpcbiAqIFRyaWVzIHRvIGd1ZXNzIG5hbWVzIG9mIGFub255bW91cyBmdW5jdGlvbnMgYnkgbG9va2luZyBmb3IgYXNzaWdubWVudHNcbiAqIGluIHRoZSBzb3VyY2UgY29kZS4gSW4gSUUgYW5kIFNhZmFyaSwgd2UgaGF2ZSB0byBndWVzcyBzb3VyY2UgZmlsZSBuYW1lc1xuICogYnkgc2VhcmNoaW5nIGZvciBmdW5jdGlvbiBib2RpZXMgaW5zaWRlIGFsbCBwYWdlIHNjcmlwdHMuIFRoaXMgd2lsbCBub3RcbiAqIHdvcmsgZm9yIHNjcmlwdHMgdGhhdCBhcmUgbG9hZGVkIGNyb3NzLWRvbWFpbi5cbiAqIEhlcmUgYmUgZHJhZ29uczogc29tZSBmdW5jdGlvbiBuYW1lcyBtYXkgYmUgZ3Vlc3NlZCBpbmNvcnJlY3RseSwgYW5kXG4gKiBkdXBsaWNhdGUgZnVuY3Rpb25zIG1heSBiZSBtaXNtYXRjaGVkLlxuICpcbiAqIFRyYWNlS2l0LmNvbXB1dGVTdGFja1RyYWNlIHNob3VsZCBvbmx5IGJlIHVzZWQgZm9yIHRyYWNpbmcgcHVycG9zZXMuXG4gKiBMb2dnaW5nIG9mIHVuaGFuZGxlZCBleGNlcHRpb25zIHNob3VsZCBiZSBkb25lIHdpdGggVHJhY2VLaXQucmVwb3J0LFxuICogd2hpY2ggYnVpbGRzIG9uIHRvcCBvZiBUcmFjZUtpdC5jb21wdXRlU3RhY2tUcmFjZSBhbmQgcHJvdmlkZXMgYmV0dGVyXG4gKiBJRSBzdXBwb3J0IGJ5IHV0aWxpemluZyB0aGUgd2luZG93Lm9uZXJyb3IgZXZlbnQgdG8gcmV0cmlldmUgaW5mb3JtYXRpb25cbiAqIGFib3V0IHRoZSB0b3Agb2YgdGhlIHN0YWNrLlxuICpcbiAqIE5vdGU6IEluIElFIGFuZCBTYWZhcmksIG5vIHN0YWNrIHRyYWNlIGlzIHJlY29yZGVkIG9uIHRoZSBFcnJvciBvYmplY3QsXG4gKiBzbyBjb21wdXRlU3RhY2tUcmFjZSBpbnN0ZWFkIHdhbGtzIGl0cyAqb3duKiBjaGFpbiBvZiBjYWxsZXJzLlxuICogVGhpcyBtZWFucyB0aGF0OlxuICogICogaW4gU2FmYXJpLCBzb21lIG1ldGhvZHMgbWF5IGJlIG1pc3NpbmcgZnJvbSB0aGUgc3RhY2sgdHJhY2U7XG4gKiAgKiBpbiBJRSwgdGhlIHRvcG1vc3QgZnVuY3Rpb24gaW4gdGhlIHN0YWNrIHRyYWNlIHdpbGwgYWx3YXlzIGJlIHRoZVxuICogICAgY2FsbGVyIG9mIGNvbXB1dGVTdGFja1RyYWNlLlxuICpcbiAqIFRoaXMgaXMgb2theSBmb3IgdHJhY2luZyAoYmVjYXVzZSB5b3UgYXJlIGxpa2VseSB0byBiZSBjYWxsaW5nXG4gKiBjb21wdXRlU3RhY2tUcmFjZSBmcm9tIHRoZSBmdW5jdGlvbiB5b3Ugd2FudCB0byBiZSB0aGUgdG9wbW9zdCBlbGVtZW50XG4gKiBvZiB0aGUgc3RhY2sgdHJhY2UgYW55d2F5KSwgYnV0IG5vdCBva2F5IGZvciBsb2dnaW5nIHVuaGFuZGxlZFxuICogZXhjZXB0aW9ucyAoYmVjYXVzZSB5b3VyIGNhdGNoIGJsb2NrIHdpbGwgbGlrZWx5IGJlIGZhciBhd2F5IGZyb20gdGhlXG4gKiBpbm5lciBmdW5jdGlvbiB0aGF0IGFjdHVhbGx5IGNhdXNlZCB0aGUgZXhjZXB0aW9uKS5cbiAqXG4gKi9cblRyYWNlS2l0LmNvbXB1dGVTdGFja1RyYWNlID0gKGZ1bmN0aW9uIGNvbXB1dGVTdGFja1RyYWNlV3JhcHBlcigpIHtcbiAgICAvLyBDb250ZW50cyBvZiBFeGNlcHRpb24gaW4gdmFyaW91cyBicm93c2Vycy5cbiAgICAvL1xuICAgIC8vIFNBRkFSSTpcbiAgICAvLyBleC5tZXNzYWdlID0gQ2FuJ3QgZmluZCB2YXJpYWJsZTogcXFcbiAgICAvLyBleC5saW5lID0gNTlcbiAgICAvLyBleC5zb3VyY2VJZCA9IDU4MDIzODE5MlxuICAgIC8vIGV4LnNvdXJjZVVSTCA9IGh0dHA6Ly8uLi5cbiAgICAvLyBleC5leHByZXNzaW9uQmVnaW5PZmZzZXQgPSA5NlxuICAgIC8vIGV4LmV4cHJlc3Npb25DYXJldE9mZnNldCA9IDk4XG4gICAgLy8gZXguZXhwcmVzc2lvbkVuZE9mZnNldCA9IDk4XG4gICAgLy8gZXgubmFtZSA9IFJlZmVyZW5jZUVycm9yXG4gICAgLy9cbiAgICAvLyBGSVJFRk9YOlxuICAgIC8vIGV4Lm1lc3NhZ2UgPSBxcSBpcyBub3QgZGVmaW5lZFxuICAgIC8vIGV4LmZpbGVOYW1lID0gaHR0cDovLy4uLlxuICAgIC8vIGV4LmxpbmVOdW1iZXIgPSA1OVxuICAgIC8vIGV4LmNvbHVtbk51bWJlciA9IDY5XG4gICAgLy8gZXguc3RhY2sgPSAuLi5zdGFjayB0cmFjZS4uLiAoc2VlIHRoZSBleGFtcGxlIGJlbG93KVxuICAgIC8vIGV4Lm5hbWUgPSBSZWZlcmVuY2VFcnJvclxuICAgIC8vXG4gICAgLy8gQ0hST01FOlxuICAgIC8vIGV4Lm1lc3NhZ2UgPSBxcSBpcyBub3QgZGVmaW5lZFxuICAgIC8vIGV4Lm5hbWUgPSBSZWZlcmVuY2VFcnJvclxuICAgIC8vIGV4LnR5cGUgPSBub3RfZGVmaW5lZFxuICAgIC8vIGV4LmFyZ3VtZW50cyA9IFsnYWEnXVxuICAgIC8vIGV4LnN0YWNrID0gLi4uc3RhY2sgdHJhY2UuLi5cbiAgICAvL1xuICAgIC8vIElOVEVSTkVUIEVYUExPUkVSOlxuICAgIC8vIGV4Lm1lc3NhZ2UgPSAuLi5cbiAgICAvLyBleC5uYW1lID0gUmVmZXJlbmNlRXJyb3JcbiAgICAvL1xuICAgIC8vIE9QRVJBOlxuICAgIC8vIGV4Lm1lc3NhZ2UgPSAuLi5tZXNzYWdlLi4uIChzZWUgdGhlIGV4YW1wbGUgYmVsb3cpXG4gICAgLy8gZXgubmFtZSA9IFJlZmVyZW5jZUVycm9yXG4gICAgLy8gZXgub3BlcmEjc291cmNlbG9jID0gMTEgIChwcmV0dHkgbXVjaCB1c2VsZXNzLCBkdXBsaWNhdGVzIHRoZSBpbmZvIGluIGV4Lm1lc3NhZ2UpXG4gICAgLy8gZXguc3RhY2t0cmFjZSA9IG4vYTsgc2VlICdvcGVyYTpjb25maWcjVXNlclByZWZzfEV4Y2VwdGlvbnMgSGF2ZSBTdGFja3RyYWNlJ1xuXG4gICAgLyoqXG4gICAgICogQ29tcHV0ZXMgc3RhY2sgdHJhY2UgaW5mb3JtYXRpb24gZnJvbSB0aGUgc3RhY2sgcHJvcGVydHkuXG4gICAgICogQ2hyb21lIGFuZCBHZWNrbyB1c2UgdGhpcyBwcm9wZXJ0eS5cbiAgICAgKiBAcGFyYW0ge0Vycm9yfSBleFxuICAgICAqIEByZXR1cm4gez9PYmplY3QuPHN0cmluZywgKj59IFN0YWNrIHRyYWNlIGluZm9ybWF0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbXB1dGVTdGFja1RyYWNlRnJvbVN0YWNrUHJvcChleCkge1xuICAgICAgICBpZiAodHlwZW9mIGV4LnN0YWNrID09PSAndW5kZWZpbmVkJyB8fCAhZXguc3RhY2spIHJldHVybjtcblxuICAgICAgICB2YXIgY2hyb21lID0gL15cXHMqYXQgKC4qPykgP1xcKCgoPzpmaWxlfGh0dHBzP3xibG9ifGNocm9tZS1leHRlbnNpb258bmF0aXZlfGV2YWx8d2VicGFja3w8YW5vbnltb3VzPnxcXC8pLio/KSg/OjooXFxkKykpPyg/OjooXFxkKykpP1xcKT9cXHMqJC9pLFxuICAgICAgICAgICAgZ2Vja28gPSAvXlxccyooLio/KSg/OlxcKCguKj8pXFwpKT8oPzpefEApKCg/OmZpbGV8aHR0cHM/fGJsb2J8Y2hyb21lfHdlYnBhY2t8cmVzb3VyY2V8XFxbbmF0aXZlKS4qP3xbXkBdKmJ1bmRsZSkoPzo6KFxcZCspKT8oPzo6KFxcZCspKT9cXHMqJC9pLFxuICAgICAgICAgICAgd2luanMgPSAvXlxccyphdCAoPzooKD86XFxbb2JqZWN0IG9iamVjdFxcXSk/LispICk/XFwoPygoPzpmaWxlfG1zLWFwcHh8aHR0cHM/fHdlYnBhY2t8YmxvYik6Lio/KTooXFxkKykoPzo6KFxcZCspKT9cXCk/XFxzKiQvaSxcblxuICAgICAgICAgICAgLy8gVXNlZCB0byBhZGRpdGlvbmFsbHkgcGFyc2UgVVJML2xpbmUvY29sdW1uIGZyb20gZXZhbCBmcmFtZXNcbiAgICAgICAgICAgIGdlY2tvRXZhbCA9IC8oXFxTKykgbGluZSAoXFxkKykoPzogPiBldmFsIGxpbmUgXFxkKykqID4gZXZhbC9pLFxuICAgICAgICAgICAgY2hyb21lRXZhbCA9IC9cXCgoXFxTKikoPzo6KFxcZCspKSg/OjooXFxkKykpXFwpLyxcblxuICAgICAgICAgICAgbGluZXMgPSBleC5zdGFjay5zcGxpdCgnXFxuJyksXG4gICAgICAgICAgICBzdGFjayA9IFtdLFxuICAgICAgICAgICAgc3VibWF0Y2gsXG4gICAgICAgICAgICBwYXJ0cyxcbiAgICAgICAgICAgIGVsZW1lbnQsXG4gICAgICAgICAgICByZWZlcmVuY2UgPSAvXiguKikgaXMgdW5kZWZpbmVkJC8uZXhlYyhleC5tZXNzYWdlKTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMCwgaiA9IGxpbmVzLmxlbmd0aDsgaSA8IGo7ICsraSkge1xuICAgICAgICAgICAgaWYgKChwYXJ0cyA9IGNocm9tZS5leGVjKGxpbmVzW2ldKSkpIHtcbiAgICAgICAgICAgICAgICB2YXIgaXNOYXRpdmUgPSBwYXJ0c1syXSAmJiBwYXJ0c1syXS5pbmRleE9mKCduYXRpdmUnKSA9PT0gMDsgLy8gc3RhcnQgb2YgbGluZVxuICAgICAgICAgICAgICAgIHZhciBpc0V2YWwgPSBwYXJ0c1syXSAmJiBwYXJ0c1syXS5pbmRleE9mKCdldmFsJykgPT09IDA7IC8vIHN0YXJ0IG9mIGxpbmVcbiAgICAgICAgICAgICAgICBpZiAoaXNFdmFsICYmIChzdWJtYXRjaCA9IGNocm9tZUV2YWwuZXhlYyhwYXJ0c1syXSkpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRocm93IG91dCBldmFsIGxpbmUvY29sdW1uIGFuZCB1c2UgdG9wLW1vc3QgbGluZS9jb2x1bW4gbnVtYmVyXG4gICAgICAgICAgICAgICAgICAgIHBhcnRzWzJdID0gc3VibWF0Y2hbMV07IC8vIHVybFxuICAgICAgICAgICAgICAgICAgICBwYXJ0c1szXSA9IHN1Ym1hdGNoWzJdOyAvLyBsaW5lXG4gICAgICAgICAgICAgICAgICAgIHBhcnRzWzRdID0gc3VibWF0Y2hbM107IC8vIGNvbHVtblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbGVtZW50ID0ge1xuICAgICAgICAgICAgICAgICAgICAndXJsJzogIWlzTmF0aXZlID8gcGFydHNbMl0gOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAnZnVuYyc6IHBhcnRzWzFdIHx8IFVOS05PV05fRlVOQ1RJT04sXG4gICAgICAgICAgICAgICAgICAgICdhcmdzJzogaXNOYXRpdmUgPyBbcGFydHNbMl1dIDogW10sXG4gICAgICAgICAgICAgICAgICAgICdsaW5lJzogcGFydHNbM10gPyArcGFydHNbM10gOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAnY29sdW1uJzogcGFydHNbNF0gPyArcGFydHNbNF0gOiBudWxsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIHBhcnRzID0gd2luanMuZXhlYyhsaW5lc1tpXSkgKSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudCA9IHtcbiAgICAgICAgICAgICAgICAgICAgJ3VybCc6IHBhcnRzWzJdLFxuICAgICAgICAgICAgICAgICAgICAnZnVuYyc6IHBhcnRzWzFdIHx8IFVOS05PV05fRlVOQ1RJT04sXG4gICAgICAgICAgICAgICAgICAgICdhcmdzJzogW10sXG4gICAgICAgICAgICAgICAgICAgICdsaW5lJzogK3BhcnRzWzNdLFxuICAgICAgICAgICAgICAgICAgICAnY29sdW1uJzogcGFydHNbNF0gPyArcGFydHNbNF0gOiBudWxsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoKHBhcnRzID0gZ2Vja28uZXhlYyhsaW5lc1tpXSkpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGlzRXZhbCA9IHBhcnRzWzNdICYmIHBhcnRzWzNdLmluZGV4T2YoJyA+IGV2YWwnKSA+IC0xO1xuICAgICAgICAgICAgICAgIGlmIChpc0V2YWwgJiYgKHN1Ym1hdGNoID0gZ2Vja29FdmFsLmV4ZWMocGFydHNbM10pKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyB0aHJvdyBvdXQgZXZhbCBsaW5lL2NvbHVtbiBhbmQgdXNlIHRvcC1tb3N0IGxpbmUgbnVtYmVyXG4gICAgICAgICAgICAgICAgICAgIHBhcnRzWzNdID0gc3VibWF0Y2hbMV07XG4gICAgICAgICAgICAgICAgICAgIHBhcnRzWzRdID0gc3VibWF0Y2hbMl07XG4gICAgICAgICAgICAgICAgICAgIHBhcnRzWzVdID0gbnVsbDsgLy8gbm8gY29sdW1uIHdoZW4gZXZhbFxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaSA9PT0gMCAmJiAhcGFydHNbNV0gJiYgdHlwZW9mIGV4LmNvbHVtbk51bWJlciAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gRmlyZUZveCB1c2VzIHRoaXMgYXdlc29tZSBjb2x1bW5OdW1iZXIgcHJvcGVydHkgZm9yIGl0cyB0b3AgZnJhbWVcbiAgICAgICAgICAgICAgICAgICAgLy8gQWxzbyBub3RlLCBGaXJlZm94J3MgY29sdW1uIG51bWJlciBpcyAwLWJhc2VkIGFuZCBldmVyeXRoaW5nIGVsc2UgZXhwZWN0cyAxLWJhc2VkLFxuICAgICAgICAgICAgICAgICAgICAvLyBzbyBhZGRpbmcgMVxuICAgICAgICAgICAgICAgICAgICAvLyBOT1RFOiB0aGlzIGhhY2sgZG9lc24ndCB3b3JrIGlmIHRvcC1tb3N0IGZyYW1lIGlzIGV2YWxcbiAgICAgICAgICAgICAgICAgICAgc3RhY2tbMF0uY29sdW1uID0gZXguY29sdW1uTnVtYmVyICsgMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxlbWVudCA9IHtcbiAgICAgICAgICAgICAgICAgICAgJ3VybCc6IHBhcnRzWzNdLFxuICAgICAgICAgICAgICAgICAgICAnZnVuYyc6IHBhcnRzWzFdIHx8IFVOS05PV05fRlVOQ1RJT04sXG4gICAgICAgICAgICAgICAgICAgICdhcmdzJzogcGFydHNbMl0gPyBwYXJ0c1syXS5zcGxpdCgnLCcpIDogW10sXG4gICAgICAgICAgICAgICAgICAgICdsaW5lJzogcGFydHNbNF0gPyArcGFydHNbNF0gOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAnY29sdW1uJzogcGFydHNbNV0gPyArcGFydHNbNV0gOiBudWxsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghZWxlbWVudC5mdW5jICYmIGVsZW1lbnQubGluZSkge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuZnVuYyA9IFVOS05PV05fRlVOQ1RJT047XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHN0YWNrLnB1c2goZWxlbWVudCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXN0YWNrLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgJ25hbWUnOiBleC5uYW1lLFxuICAgICAgICAgICAgJ21lc3NhZ2UnOiBleC5tZXNzYWdlLFxuICAgICAgICAgICAgJ3VybCc6IGdldExvY2F0aW9uSHJlZigpLFxuICAgICAgICAgICAgJ3N0YWNrJzogc3RhY2tcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGluZm9ybWF0aW9uIGFib3V0IHRoZSBmaXJzdCBmcmFtZSB0byBpbmNvbXBsZXRlIHN0YWNrIHRyYWNlcy5cbiAgICAgKiBTYWZhcmkgYW5kIElFIHJlcXVpcmUgdGhpcyB0byBnZXQgY29tcGxldGUgZGF0YSBvbiB0aGUgZmlyc3QgZnJhbWUuXG4gICAgICogQHBhcmFtIHtPYmplY3QuPHN0cmluZywgKj59IHN0YWNrSW5mbyBTdGFjayB0cmFjZSBpbmZvcm1hdGlvbiBmcm9tXG4gICAgICogb25lIG9mIHRoZSBjb21wdXRlKiBtZXRob2RzLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgVGhlIFVSTCBvZiB0aGUgc2NyaXB0IHRoYXQgY2F1c2VkIGFuIGVycm9yLlxuICAgICAqIEBwYXJhbSB7KG51bWJlcnxzdHJpbmcpfSBsaW5lTm8gVGhlIGxpbmUgbnVtYmVyIG9mIHRoZSBzY3JpcHQgdGhhdFxuICAgICAqIGNhdXNlZCBhbiBlcnJvci5cbiAgICAgKiBAcGFyYW0ge3N0cmluZz19IG1lc3NhZ2UgVGhlIGVycm9yIGdlbmVyYXRlZCBieSB0aGUgYnJvd3Nlciwgd2hpY2hcbiAgICAgKiBob3BlZnVsbHkgY29udGFpbnMgdGhlIG5hbWUgb2YgdGhlIG9iamVjdCB0aGF0IGNhdXNlZCB0aGUgZXJyb3IuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciBvciBub3QgdGhlIHN0YWNrIGluZm9ybWF0aW9uIHdhc1xuICAgICAqIGF1Z21lbnRlZC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhdWdtZW50U3RhY2tUcmFjZVdpdGhJbml0aWFsRWxlbWVudChzdGFja0luZm8sIHVybCwgbGluZU5vLCBtZXNzYWdlKSB7XG4gICAgICAgIHZhciBpbml0aWFsID0ge1xuICAgICAgICAgICAgJ3VybCc6IHVybCxcbiAgICAgICAgICAgICdsaW5lJzogbGluZU5vXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKGluaXRpYWwudXJsICYmIGluaXRpYWwubGluZSkge1xuICAgICAgICAgICAgc3RhY2tJbmZvLmluY29tcGxldGUgPSBmYWxzZTtcblxuICAgICAgICAgICAgaWYgKCFpbml0aWFsLmZ1bmMpIHtcbiAgICAgICAgICAgICAgICBpbml0aWFsLmZ1bmMgPSBVTktOT1dOX0ZVTkNUSU9OO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoc3RhY2tJbmZvLnN0YWNrLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBpZiAoc3RhY2tJbmZvLnN0YWNrWzBdLnVybCA9PT0gaW5pdGlhbC51cmwpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YWNrSW5mby5zdGFja1swXS5saW5lID09PSBpbml0aWFsLmxpbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsgLy8gYWxyZWFkeSBpbiBzdGFjayB0cmFjZVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCFzdGFja0luZm8uc3RhY2tbMF0ubGluZSAmJiBzdGFja0luZm8uc3RhY2tbMF0uZnVuYyA9PT0gaW5pdGlhbC5mdW5jKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFja0luZm8uc3RhY2tbMF0ubGluZSA9IGluaXRpYWwubGluZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc3RhY2tJbmZvLnN0YWNrLnVuc2hpZnQoaW5pdGlhbCk7XG4gICAgICAgICAgICBzdGFja0luZm8ucGFydGlhbCA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN0YWNrSW5mby5pbmNvbXBsZXRlID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyBzdGFjayB0cmFjZSBpbmZvcm1hdGlvbiBieSB3YWxraW5nIHRoZSBhcmd1bWVudHMuY2FsbGVyXG4gICAgICogY2hhaW4gYXQgdGhlIHRpbWUgdGhlIGV4Y2VwdGlvbiBvY2N1cnJlZC4gVGhpcyB3aWxsIGNhdXNlIGVhcmxpZXJcbiAgICAgKiBmcmFtZXMgdG8gYmUgbWlzc2VkIGJ1dCBpcyB0aGUgb25seSB3YXkgdG8gZ2V0IGFueSBzdGFjayB0cmFjZSBpblxuICAgICAqIFNhZmFyaSBhbmQgSUUuIFRoZSB0b3AgZnJhbWUgaXMgcmVzdG9yZWQgYnlcbiAgICAgKiB7QGxpbmsgYXVnbWVudFN0YWNrVHJhY2VXaXRoSW5pdGlhbEVsZW1lbnR9LlxuICAgICAqIEBwYXJhbSB7RXJyb3J9IGV4XG4gICAgICogQHJldHVybiB7P09iamVjdC48c3RyaW5nLCAqPn0gU3RhY2sgdHJhY2UgaW5mb3JtYXRpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29tcHV0ZVN0YWNrVHJhY2VCeVdhbGtpbmdDYWxsZXJDaGFpbihleCwgZGVwdGgpIHtcbiAgICAgICAgdmFyIGZ1bmN0aW9uTmFtZSA9IC9mdW5jdGlvblxccysoW18kYS16QS1aXFx4QTAtXFx1RkZGRl1bXyRhLXpBLVowLTlcXHhBMC1cXHVGRkZGXSopP1xccypcXCgvaSxcbiAgICAgICAgICAgIHN0YWNrID0gW10sXG4gICAgICAgICAgICBmdW5jcyA9IHt9LFxuICAgICAgICAgICAgcmVjdXJzaW9uID0gZmFsc2UsXG4gICAgICAgICAgICBwYXJ0cyxcbiAgICAgICAgICAgIGl0ZW0sXG4gICAgICAgICAgICBzb3VyY2U7XG5cbiAgICAgICAgZm9yICh2YXIgY3VyciA9IGNvbXB1dGVTdGFja1RyYWNlQnlXYWxraW5nQ2FsbGVyQ2hhaW4uY2FsbGVyOyBjdXJyICYmICFyZWN1cnNpb247IGN1cnIgPSBjdXJyLmNhbGxlcikge1xuICAgICAgICAgICAgaWYgKGN1cnIgPT09IGNvbXB1dGVTdGFja1RyYWNlIHx8IGN1cnIgPT09IFRyYWNlS2l0LnJlcG9ydCkge1xuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdza2lwcGluZyBpbnRlcm5hbCBmdW5jdGlvbicpO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpdGVtID0ge1xuICAgICAgICAgICAgICAgICd1cmwnOiBudWxsLFxuICAgICAgICAgICAgICAgICdmdW5jJzogVU5LTk9XTl9GVU5DVElPTixcbiAgICAgICAgICAgICAgICAnbGluZSc6IG51bGwsXG4gICAgICAgICAgICAgICAgJ2NvbHVtbic6IG51bGxcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGlmIChjdXJyLm5hbWUpIHtcbiAgICAgICAgICAgICAgICBpdGVtLmZ1bmMgPSBjdXJyLm5hbWU7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKChwYXJ0cyA9IGZ1bmN0aW9uTmFtZS5leGVjKGN1cnIudG9TdHJpbmcoKSkpKSB7XG4gICAgICAgICAgICAgICAgaXRlbS5mdW5jID0gcGFydHNbMV07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgaXRlbS5mdW5jID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGl0ZW0uZnVuYyA9IHBhcnRzLmlucHV0LnN1YnN0cmluZygwLCBwYXJ0cy5pbnB1dC5pbmRleE9mKCd7JykpO1xuICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7IH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGZ1bmNzWycnICsgY3Vycl0pIHtcbiAgICAgICAgICAgICAgICByZWN1cnNpb24gPSB0cnVlO1xuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgZnVuY3NbJycgKyBjdXJyXSA9IHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHN0YWNrLnB1c2goaXRlbSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGVwdGgpIHtcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdkZXB0aCBpcyAnICsgZGVwdGgpO1xuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ3N0YWNrIGlzICcgKyBzdGFjay5sZW5ndGgpO1xuICAgICAgICAgICAgc3RhY2suc3BsaWNlKDAsIGRlcHRoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciByZXN1bHQgPSB7XG4gICAgICAgICAgICAnbmFtZSc6IGV4Lm5hbWUsXG4gICAgICAgICAgICAnbWVzc2FnZSc6IGV4Lm1lc3NhZ2UsXG4gICAgICAgICAgICAndXJsJzogZ2V0TG9jYXRpb25IcmVmKCksXG4gICAgICAgICAgICAnc3RhY2snOiBzdGFja1xuICAgICAgICB9O1xuICAgICAgICBhdWdtZW50U3RhY2tUcmFjZVdpdGhJbml0aWFsRWxlbWVudChyZXN1bHQsIGV4LnNvdXJjZVVSTCB8fCBleC5maWxlTmFtZSwgZXgubGluZSB8fCBleC5saW5lTnVtYmVyLCBleC5tZXNzYWdlIHx8IGV4LmRlc2NyaXB0aW9uKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyBhIHN0YWNrIHRyYWNlIGZvciBhbiBleGNlcHRpb24uXG4gICAgICogQHBhcmFtIHtFcnJvcn0gZXhcbiAgICAgKiBAcGFyYW0geyhzdHJpbmd8bnVtYmVyKT19IGRlcHRoXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29tcHV0ZVN0YWNrVHJhY2UoZXgsIGRlcHRoKSB7XG4gICAgICAgIHZhciBzdGFjayA9IG51bGw7XG4gICAgICAgIGRlcHRoID0gKGRlcHRoID09IG51bGwgPyAwIDogK2RlcHRoKTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgc3RhY2sgPSBjb21wdXRlU3RhY2tUcmFjZUZyb21TdGFja1Byb3AoZXgpO1xuICAgICAgICAgICAgaWYgKHN0YWNrKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0YWNrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBpZiAoVHJhY2VLaXQuZGVidWcpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHN0YWNrID0gY29tcHV0ZVN0YWNrVHJhY2VCeVdhbGtpbmdDYWxsZXJDaGFpbihleCwgZGVwdGggKyAxKTtcbiAgICAgICAgICAgIGlmIChzdGFjaykge1xuICAgICAgICAgICAgICAgIHJldHVybiBzdGFjaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgaWYgKFRyYWNlS2l0LmRlYnVnKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgJ25hbWUnOiBleC5uYW1lLFxuICAgICAgICAgICAgJ21lc3NhZ2UnOiBleC5tZXNzYWdlLFxuICAgICAgICAgICAgJ3VybCc6IGdldExvY2F0aW9uSHJlZigpXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgY29tcHV0ZVN0YWNrVHJhY2UuYXVnbWVudFN0YWNrVHJhY2VXaXRoSW5pdGlhbEVsZW1lbnQgPSBhdWdtZW50U3RhY2tUcmFjZVdpdGhJbml0aWFsRWxlbWVudDtcbiAgICBjb21wdXRlU3RhY2tUcmFjZS5jb21wdXRlU3RhY2tUcmFjZUZyb21TdGFja1Byb3AgPSBjb21wdXRlU3RhY2tUcmFjZUZyb21TdGFja1Byb3A7XG5cbiAgICByZXR1cm4gY29tcHV0ZVN0YWNrVHJhY2U7XG59KCkpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFRyYWNlS2l0O1xuXG59KS5jYWxsKHRoaXMsdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiID8gc2VsZiA6IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cgOiB7fSlcbn0se1wiNVwiOjV9XSw3OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbid1c2Ugc3RyaWN0JztcblxuLypcbiBqc29uLXN0cmluZ2lmeS1zYWZlXG4gTGlrZSBKU09OLnN0cmluZ2lmeSwgYnV0IGRvZXNuJ3QgdGhyb3cgb24gY2lyY3VsYXIgcmVmZXJlbmNlcy5cblxuIE9yaWdpbmFsbHkgZm9ya2VkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2lzYWFjcy9qc29uLXN0cmluZ2lmeS1zYWZlXG4gdmVyc2lvbiA1LjAuMSBvbiAzLzgvMjAxNyBhbmQgbW9kaWZpZWQgZm9yIElFOCBjb21wYXRpYmlsaXR5LlxuIFRlc3RzIGZvciB0aGlzIGFyZSBpbiB0ZXN0L3ZlbmRvci5cblxuIElTQyBsaWNlbnNlOiBodHRwczovL2dpdGh1Yi5jb20vaXNhYWNzL2pzb24tc3RyaW5naWZ5LXNhZmUvYmxvYi9tYXN0ZXIvTElDRU5TRVxuKi9cblxuZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gc3RyaW5naWZ5XG5leHBvcnRzLmdldFNlcmlhbGl6ZSA9IHNlcmlhbGl6ZXJcblxuZnVuY3Rpb24gaW5kZXhPZihoYXlzdGFjaywgbmVlZGxlKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgaGF5c3RhY2subGVuZ3RoOyArK2kpIHtcbiAgICBpZiAoaGF5c3RhY2tbaV0gPT09IG5lZWRsZSkgcmV0dXJuIGk7XG4gIH1cbiAgcmV0dXJuIC0xO1xufVxuXG5mdW5jdGlvbiBzdHJpbmdpZnkob2JqLCByZXBsYWNlciwgc3BhY2VzLCBjeWNsZVJlcGxhY2VyKSB7XG4gIHJldHVybiBKU09OLnN0cmluZ2lmeShvYmosIHNlcmlhbGl6ZXIocmVwbGFjZXIsIGN5Y2xlUmVwbGFjZXIpLCBzcGFjZXMpXG59XG5cbmZ1bmN0aW9uIHNlcmlhbGl6ZXIocmVwbGFjZXIsIGN5Y2xlUmVwbGFjZXIpIHtcbiAgdmFyIHN0YWNrID0gW10sIGtleXMgPSBbXVxuXG4gIGlmIChjeWNsZVJlcGxhY2VyID09IG51bGwpIGN5Y2xlUmVwbGFjZXIgPSBmdW5jdGlvbihrZXksIHZhbHVlKSB7XG4gICAgaWYgKHN0YWNrWzBdID09PSB2YWx1ZSkgcmV0dXJuICdbQ2lyY3VsYXIgfl0nXG4gICAgcmV0dXJuICdbQ2lyY3VsYXIgfi4nICsga2V5cy5zbGljZSgwLCBpbmRleE9mKHN0YWNrLCB2YWx1ZSkpLmpvaW4oJy4nKSArICddJ1xuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcbiAgICBpZiAoc3RhY2subGVuZ3RoID4gMCkge1xuICAgICAgdmFyIHRoaXNQb3MgPSBpbmRleE9mKHN0YWNrLCB0aGlzKTtcbiAgICAgIH50aGlzUG9zID8gc3RhY2suc3BsaWNlKHRoaXNQb3MgKyAxKSA6IHN0YWNrLnB1c2godGhpcylcbiAgICAgIH50aGlzUG9zID8ga2V5cy5zcGxpY2UodGhpc1BvcywgSW5maW5pdHksIGtleSkgOiBrZXlzLnB1c2goa2V5KVxuICAgICAgaWYgKH5pbmRleE9mKHN0YWNrLCB2YWx1ZSkpIHZhbHVlID0gY3ljbGVSZXBsYWNlci5jYWxsKHRoaXMsIGtleSwgdmFsdWUpXG4gICAgfVxuICAgIGVsc2Ugc3RhY2sucHVzaCh2YWx1ZSlcblxuICAgIHJldHVybiByZXBsYWNlciA9PSBudWxsID8gdmFsdWUgOiByZXBsYWNlci5jYWxsKHRoaXMsIGtleSwgdmFsdWUpXG4gIH1cbn1cblxufSx7fV19LHt9LFs0XSkoNClcbn0pOyJdfQ==

!function e(t,n,i){function r(a,s){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};t[a][0].call(c.exports,function(e){var n=t[a][1][e];return r(n?n:e)},c,c.exports,e,t,n,i)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(e,t){t.exports=function(e,t){"use strict";function n(){return t.data&&t.data.is_login?"Signin Started":"Signup Started"}function i(){var e=localStorage.getItem("authentication_id");return e||(e=uuidV4(),localStorage.setItem("authentication_id",e)),e}e(document).ready(function(){if(e(".btn-flacebook").on("click",function(){analytics.track(n(),{provider:"facebook",authentication_id:i()})}),e(".btn-google").on("click",function(){analytics.track(n(),{provider:"google",authentication_id:i()})}),e("#login").on("submit",function(){analytics.track(n(),{provider:"email",authentication_id:i()})}),e("#join").on("submit",function(){analytics.track(n(),{provider:"email",authentication_id:i()})}),t.tracking&&t.tracking.authentication){var r=t.tracking.authentication.action;delete t.tracking.authentication.action,t.tracking.authentication.authentication_id=i(),localStorage.removeItem("authentication_id"),analytics.track(r,t.tracking.authentication)}})}},{}],2:[function(e,t){t.exports=function(t,n){"use strict";function i(e){var n=["Failed","Completed"],i=!1;return t.each(n,function(t,n){return e.indexOf(n)>-1?(i=!0,!1):void 0}),i}var r=e(20)(n),o="purchase";t(document).ready(function(){if(r.checkTracking(o)){var e=r.getTrackingAction(o);r.formatTracking(o,"order_id"),analytics.track(e,n.tracking[o]),i(e)&&r.removeTrackingId("order_id")}})}},{20:20}],3:[function(e,t){t.exports=function(e,t){"use strict";var n={learn:{"class":"learn",text:"Learn"}};e.scb=function(){var e=n.learn;return t("a",{"class":"single-continue-button "+e.class},[t("div",{"class":"single-continue-button-icon"}),t("div",{"class":"single-continue-button-label"},[t("div",{"class":"single-continue-button-next"},_t("Next Up")),t("div",{"class":"single-continue-button-text"},e.text)]),t("div",{"class":"single-continue-button-arrow"})])}}},{}],4:[function(e,t){t.exports=function(e,t,n){"use strict";n.courses={unenroll_press:function(){var e=t(this).dataAttr("course-id");return n.modal.yes_no(_t("Quit this course"),n.trans.quitCourse,function(){n.courses.unenroll(e)}),!1},unenroll:function(i){t.ajax({url:"/ajax/courses/quit/",data:{course_id:i},type:"POST",success:function(t){t.success&&(localStorage.removeItem("dashboard_filter"),e(n.courses).emit("unenrolled",[i]))}})}},n.renderer.ready(function(){t(document).on("click",'[data-role="course-unenroll"]',n.courses.unenroll_press)})}},{}],5:[function(e,t){t.exports=function(e,t,n,i){"use strict";function r(e){this.photo=n.prop(e.photo),this.username=n.prop(e.username),this.position=n.prop(e.position),this.points=n.prop(e.points),this.id=n.prop(e.uid),this.following=n.prop(e.following),this.hovering=n.prop(!1)}function o(e){return n("ul.leaderboard-rows",e.vm.rows().map(function(i,r){var o=i.id()===t.user.id,s=o?"leaderboard-row current":"leaderboard-row",u=0!==r||o?"row-points":"row-points best";return n("li",{key:i.id(),"class":s},[n("span.row-pic",[e.vm.largeBoard()?n("strong",i.position()+"."):"",n("img",{src:i.photo()})]),n("span.row-username",[e.vm.largeBoard()?"":n("strong",i.position()+"."),n("span",{"data-role":"hovercard","data-user-id":i.id(),"data-direction":"right"},i.username()),e.vm.showFollow()?a(e,i):[]]),n("span",{"class":u},[n("span",Handlebars.helpers.intcomma(i.points()))])])}))}function a(e,r){if(r.id()===t.user.id)return[];var o=n("a",{onclick:i.partial(e.toggleFollow,r),onmouseenter:function(){r.hovering(!0)},onmouseout:function(){r.hovering(!1)}},_t(r.hovering()?"unfollow?":"following")),a=n("a",{onclick:i.partial(e.toggleFollow,r)},_t("follow"));return[r.following()?o:a]}function s(e){return n(".leaderboard-controls",n("ul.btn-group",[n("li.btn.btn-small"+("week"===e.vm.period()?".active":""),{onclick:i.partial(e.setPeriod,"week").bind(e)},_t("Week")),n("li.btn.btn-small"+("month"===e.vm.period()?".active":""),{onclick:i.partial(e.setPeriod,"month").bind(e)},_t("Month")),n("li.btn.btn-small"+("alltime"===e.vm.period()?".active":""),{onclick:i.partial(e.setPeriod,"alltime").bind(e)},_t("All Time"))]))}function u(e){return 0===e.vm.rows().length||e.vm.rows().length%e.vm.howMany()!==0||e.vm.hasPageSet()?[]:n(".leaderboard-link",[n("a",{onclick:function(){e.fetchRows()}},_t("More"))])}t.newLeaderboard=function(i){var a={vm:{fullBoardUrl:n.prop(i.fullBoardUrl),howMany:n.prop(i.howMany||10),showTabs:n.prop(i.showTabs),showFollow:n.prop(i.showFollow),period:n.prop("week"),largeBoard:n.prop(i.large),offset:n.prop(0),rows:n.prop([]),hasPageSet:n.prop(window.location.href.indexOf("?page=")>-1)}};return a.controller=function(){var o={vm:a.vm,fetchRows:function(){var a=this.vm,s=a.rows().length,u=a.howMany(),l=a.hasPageSet(),c=a.rows(),d=c[c.length-1],f=d&&d.id()===t.user.id&&d.position()>c.length;if(f){var h=c.pop();s-=1,h&&h.position()<c.length+a.howMany()&&(u+=1)}var m=sprintf("?period=%s&how_many=%d",a.period(),u);if(l){var p=parseInt(window.location.href.match(/page=([0-9])/)[1]);p>0&&(s=p*u-u)}0!==s&&(m+=sprintf("&offset=%d",s)),n.request({method:"GET",url:i.endPoint+m,unwrapSuccess:function(e){return e.rows},type:r}).then(function(t){var n=window.location.pathname+"?page=",i=s+1,r=u-1;if(i>r){var l=parseInt((i-r)/r)+1,d=e("head").find('link[rel="prev"]');d.length>0?d.attr("href",n+l):e("head").append(e("<link>").attr("rel","prev").attr("href",n+l))}if(0!==a.rows().length||a.rows().length%o.vm.howMany()===0){var m=parseInt((i+r)/r)+1,p=e("head").find('link[rel="next"]');p.length>0?p.attr("href",n+m):e("head").append(e("<link>").attr("rel","next").attr("href",n+m))}return 0===s?a.rows(t):(f&&h.position()>c.length+t.length&&t.push(h),void a.rows(c.concat(t)))})},toggleFollow:function(e){n.post({url:"/ajax/mempal_add/",data:{to_user_id:e.id()}}).then(function(){e.following(!e.following())},function(e){t.modal.error(e.error)})},setPeriod:function(e){this.vm.period(e),this.vm.rows([]),this.fetchRows()}};return o.fetchRows(0),o},a.view=function(e){return n(".leaderboard",[n(".leaderboard-header",[n("span.leaderboard-image"),n("span.leaderboard-text",_t("Leaderboard"))]),e.vm.showTabs()?s(e):[],n(".leaderboard-content",[o(e),e.vm.largeBoard()?u(e):n(".leaderboard-link",[n("a",{href:e.vm.fullBoardUrl()},_t("More"))])])])},a}}},{}],6:[function(e,t){t.exports=function(e,t){"use strict";t.learning_performance={};var n=t.learning_performance,i=null;e.extend(!0,t.learning_performance,{initTestingGraph:function(){n.initTestingDropdowns(),n.setTestingLazyLoading(),n.setImageGrab()},initTestingDropdowns:function(){e(".filters").on("click",".filter .dropdown-menu a",function(t){t.preventDefault();var i=e(this),r=i.closest(".filter"),o=e(".btn1",r),a=i.data("filter"),s={filter:a};i.data("id")&&(s.id=i.data("id")),o.toggleClass("bgGreen"),i.parent("li").addClass("active").siblings().removeClass("active"),o.text(e(this).text()),n.loadTestingData(s,n.updateTestingChart)}).on("click",".btn1",function(t){t.stopPropagation(),e(this).siblings(".dropdown-toggle").click()})},setTestingLazyLoading:function(){n.isVisible("#lazy-learning-insight")?(e(window).unbind("scroll"),n.loadTestingData(null,n.initialTestingLoadCallback)):e(window).scroll(function(){n.isVisible("#lazy-learning-insight")&&(e(window).unbind("scroll"),n.loadTestingData(null,n.initialTestingLoadCallback))})},isVisible:function(t){var n=e(window).scrollTop(),i=n+e(window).height(),r=e(t).offset();return null===r?!1:r.top<=i},setImageGrab:function(){"undefined"!=typeof d3&&(e("#screencapture a").on("click",function(e){e.preventDefault()}),d3.select("#screencapture a").on("click",function(){var e=d3.select("#chart-testing svg").attr("version",1.1).attr("xmlns","http://www.w3.org/2000/svg").node().parentNode.innerHTML,t=/<image.*?>[\w|\d|\w]*<\/image>/gi,i=e.replace(t,""),r="data:image/svg+xml;base64,"+window.btoa(i),o='<img src="'+r+'" alt="">';d3.select("#imageGrab").html(o),n.showModal()}))},showModal:function(){MEMRISE.modal.content({modalId:"imageForumPost",showHeader:!0,showFooter:!1,backdrop:!0,keyboard:!0,template:"imageForumPost",shadow:!1,headerText:_t("Start a new thread on forum with your testing behavior image included"),seeThru:!1,removeOnHidden:!0},function(){n.initPostForm()})},initPostForm:function(){e("#imageGrab img").clone().appendTo(e(".modalContent .postedImage"))},updateTestingChart:function(e){i.dataProvider=e.data,i.validateData()},initialTestingLoadCallback:function(t){var r=n.setTestingData(t);i=AmCharts.makeChart("chart-testing",{type:"xy",theme:"none",pathToImages:"https://www.amcharts.com/lib/3/images/",dataProvider:r,chartCursor:{},legend:{useGraphSettings:!0,equalWidths:!1,fontSize:13,rollOverGraphAlpha:.15,switchable:!0},valueAxes:[{title:_t("Time of the day"),position:"bottom",autoGridCount:!1,gridCount:12,maximum:23,minimum:0},{title:_t("Response time in seconds"),position:"left",autoGridCount:!1,gridCount:10,maximum:20}],startDuration:.3,graphs:[{id:"correct",balloonText:_t("At __tag1__ your __br__ average response __br__ time is __tag2__.",{tag1:"<b>[[yCorrectBalloon]]</b>",br:"<br />",tag2:"<b>[[y]]s</b>"}),bullet:"bubble",lineColor:"#83c53d",lineAlpha:0,title:_t("Correct"),xField:"xCorrect",yField:"yCorrect",valueField:"amountCorrect",fillAlphas:0,bulletBorderAlpha:.2,maxBulletSize:20,minBulletSize:4},{id:"nearlyCorrect",balloonText:_t("At __tag1__ your __br__ average response __br__ time is __tag2__.",{tag1:"<b>[[yNearlyCorrectBalloon]]</b>",br:"<br />",tag2:"<b>[[y]]s</b>"}),bullet:"bubble",lineColor:"#e89c06",lineAlpha:0,title:_t("Nearly correct"),xField:"xNearlyCorrect",yField:"yNearlyCorrect",valueField:"amountNearlyCorrect",fillAlphas:0,bulletBorderAlpha:.2,maxBulletSize:20,minBulletSize:4},{id:"incorrect",balloonText:_t("At __tag1__ your __br__ average response __br__ time is __tag2__.",{tag1:"<b>[[yIncorrectBalloon]]</b>",br:"<br />",tag2:"<b>[[y]]s</b>"}),bullet:"bubble",lineColor:"#bb2e25",lineAlpha:0,title:_t("Incorrect"),xField:"xIncorrect",yField:"yIncorrect",valueField:"amountIncorrect",fillAlphas:0,bulletBorderAlpha:.2,maxBulletSize:20,minBulletSize:4}],chartScrollbar:{backgroundColor:"#15a1ec",updateOnReleaseOnly:!1}}),e("#chart-testing").css("visibility","visible").parent().find(".loading-spinner").hide()},loadTestingData:function(t,n){e.ajax({type:"GET",url:"/ajax/metrics/fancy_tests_graph/",async:!0,data:t,success:function(e){"function"==typeof n&&n(e.data)}})},initAttendanceDataGrid:function(){e.ajax({type:"GET",url:"/ajax/metrics/learning_streak_graph/",success:function(t){var n=e("#attendance-grid");n.html(""),new MEMRISE.charts.AttendanceGrid({elem:n,data:t.attendance_data,dateField:"day",countField:"num_events",countName:"Learning Event"});var i,r,o=e("#attendance-grid-label1"),a=e("#attendance-grid-label2"),s=e("#attendance-grid-label3");r=t.total_days_learned,i=_t(1==r?"day":"days"),o.show().find(".body").html('<span class="large">'+r+'</span><span class="day">'+i+"</span>"),r=t.longest_streak,i=_t(1==r?"day":"days"),a.show().find(".body").html('<span class="large">'+r+'</span><span class="day">'+i+"</span>"),r=t.current_streak,i=_t(1==r?"day":"days"),s.show().find(".body").html('<span class="large">'+r+'</span><span class="day">'+i+"</span>")}})},initMostLearntCoursesChart:function(t){AmCharts.makeChart("chart-coursetime",{type:"pie",theme:"none",minRadius:100,dataProvider:t,valueField:"time",titleField:"course",labelsEnabled:!1,colors:["#15a1ec","#aa5f86","#e89c06","#83c53d","#ff1605","#aa5f10"],pieX:"20%",pieY:"44%",legend:{position:"absolute",width:300,top:10,right:120,verticalGap:20,markerType:"square",markerSize:32,valueText:"[[none]]"},balloonText:"<span style='font-size:10px'><b>[[course]]</b><br />[[timehms]]</span>"});e.each(t,function(t,n){var i=n.id?"/course/"+n.id:"/courses/",r=_t("Learn");e(".whitebox.buttons .btns").append("<a href='"+i+"' class='btn btn-success btn-green'>"+r+"</a>")})},setTestingData:function(e){for(var t,n=[],i=[],r=[],o=0;o<e.length;o++)0!==e[o].correct_resp_time&&n.push({yCorrect:e[o].correct_resp_time,xCorrect:e[o].x_axis,yCorrectBalloon:e[o].time,amountCorrect:e[o].correct}),0!==e[o].partially_correct_resp_time&&i.push({yNearlyCorrect:e[o].partially_correct_resp_time,xNearlyCorrect:e[o].x_axis,yNearlyCorrectBalloon:e[o].time,amountNearlyCorrect:e[o].partially_correct}),0!==e[o].incorrect_resp_time&&r.push({yIncorrect:e[o].incorrect_resp_time,xIncorrect:e[o].x_axis,yIncorrectBalloon:e[o].time,amountIncorrect:e[o].incorrect});return t=n.concat(i),t.concat(r)}})}},{}],7:[function(e,t){t.exports=function(e,t){"use strict";t.learning_preferences={};var n=t.learning_preferences;e.extend(!0,t.learning_preferences,{init:function(){e(".wrapper.pace").on("click",".btn-group .dropdown-menu a",function(t){t.preventDefault(),n.changeLearningPace(e(this))}),e(".yesno").click(function(){n.changeYesNoPreferences(e(this))}),e(".wrapper").on("click",".btn1",function(t){t.stopPropagation(),e(this).siblings(".dropdown-toggle").click()}),n.updateLearningPace()},updateLearningPace:function(){var t,n=e("#garden_plant_size").data("selected"),i=e("#garden_water_size").data("selected"),r=[_t("Standard"),_t("Advanced"),_t("Super Advanced"),_t("Custom")];t=20==n&&100==i?2:10==n&&50==i?1:5==n&&25==i?0:3,e("#preference").text(r[t]),e(".preference .dropdown-menu a[data-pref='"+t+"']").parent("li").addClass("active").siblings().removeClass("active")},changeLearningPace:function(t){var i,r,o=t.parents(".btn-group").find(".btn1"),a=o.attr("id"),s=t.attr("data-pref");if(t.parent("li").addClass("active").siblings().removeClass("active"),"preference"==a){if(o.text(t.text()),2==s)i=20,r=100;else if(1==s)i=10,r=50;else{if(0!=s)return;i=5,r=25}e(".paceValues.plant-size .dropdown-menu a[data-pref='"+i+"']").parent("li").addClass("active").siblings().removeClass("active"),e(".paceValues.water-size .dropdown-menu a[data-pref='"+r+"']").parent("li").addClass("active").siblings().removeClass("active")}else"garden_plant_size"==a?(i=s,r=e("#garden_water_size").data("selected")):"garden_water_size"==a&&(r=s,i=e("#garden_plant_size").data("selected"));e("#garden_plant_size").text(i).data("selected",i),e("#garden_water_size").text(r).data("selected",r),n.updateLearningPace(),n.saveSettings({garden_plant_size:i,garden_water_size:r})},changeYesNoPreferences:function(t){var i,r=t.siblings(".btn1"),o=r.find("span"),a=t.data("content"),s="",u=t.data("setting-type"),l={};switch(u){case"audio":i="garden_disable_audio";break;case"tapping":default:i="garden_disable_tapping"}o.animate({"margin-left":a?-150:100},150,function(){a?(r.removeClass("hl-success").addClass("hl-danger"),s=_t("No"),o.css("margin-left",100),t.find("span").removeClass("ico-arr-left").addClass("ico-arr-right")):(r.removeClass("hl-danger").addClass("hl-success"),o.css("margin-left",-150),s=_t("Yes"),t.find("span").removeClass("ico-arr-right").addClass("ico-arr-left")),a=!a,e(o).text(s),t.data("content",a),o.animate({"margin-left":0},150)}),l[i]=a?"true":"false",n.saveSettings(l)},saveSettings:function(t){e.ajax({type:"POST",url:"/ajax/accounts/update_settings/",data:t})}})}},{}],8:[function(e,t){t.exports=function(e,t){"use strict";t.mem_editor={};var n=t.mem_editor;e.extend(!0,t.mem_editor,{open_tutorial:function(e,t){new MEMRISE.ui.ModalSlides("mem-creation",{skippable:!0,class_names:"mem-creation-mem-editor",on_close:e,show_overlay:"undefined"!=typeof t?t:!0}).open()},open:function(e,i,r){return t.user.profile.settings.mem_creation_tutorial_seen?void(n.current||("undefined"==typeof r&&(r=null),t.renderer.ready(function(){jQuery.loadIfNDefScript(n,"Modal",t.urls.memEditor,function(){n.current||(n.current=new n.Modal(e,i,r),_(n).emit("opened"),_(n.current).on("closed",function(){delete n.current,_(n).emit("closed")}))})}))):void n.open_tutorial(function(){t.user.profile.settings.mem_creation_tutorial_seen=!0,t.profile.update_json_setting("mem_creation_tutorial_seen",!0),n.open(e,i,r)})}})}},{}],9:[function(e,t){t.exports=function(e,t,n){"use strict";t.mems={};var i=t.mems;e.extend(!0,t.mems,{flag_press:function(){var n=e(this).dataAttr("mem-id");return t.modal.yes_no(_t("Flag this mem as inappropriate?"),_t("You will not see this mem again and a member of staff will be alerted to check its content. __br__ Are you sure you want to go ahead?",{br:"<br />"}),function(){i.flag(n)}),!1},flag:function(t){e.ajax({type:"POST",url:"/ajax/mem/flag/",data:{mem_id:t},success:function(e){e&&n(i).emit("flagged",[t])}})},flagged_press:function(){t.modal.info(_t("Flagged"),_t("You have flagged this mem as inappropriate - staff members will check its content."))},create:function(e){t.mem_editor.open(e,t.mems.created_broadcast)},created_broadcast:function(){n(i).emit("created",arguments)},edit_press:function(){var t=e(this).dataAttr("mem-id"),n=e(this).dataAttr("column-a"),r=e(this).dataAttr("column-b"),o=e(this).dataAttr("thing-id");return i.edit(t,o,n,r),!1},edit:function(n,r,o,a){e.ajax({type:"GET",url:"/api/mem/get/",data:{mem_id:n,thing_id:r,column_a:o,column_b:a},success:function(e){t.mem_editor.open(e.learnable,i.edited_broadcast,e.mem)}})},edited_broadcast:function(){n(i).emit("edited",arguments)},remove_press:function(){var n=e(this).dataAttr("mem-id"),r=e(this).dataAttr("thing-id");return t.modal.yes_no(_t("Remove mem?"),_t("Are you sure you want to remove this mem from this word? If it is attached to other words on the site, it will remain there."),function(){i.remove(n,r)}),!1},remove:function(t,r){e.ajax({type:"POST",url:"/ajax/mem/remove/",data:{mem_id:t,thing_id:r},success:function(e){e.success&&n(i).emit("deleted",[e.mem_id])}})},delete_press:function(){var n=e(this).dataAttr("mem-id");return t.modal.yes_no(_t("Delete mem?"),_t("Are you sure you want to delete this mem?"),function(){i.delete_mem(n)}),!1},delete_mem:function(t){e.ajax({type:"POST",url:"/ajax/mem/delete/",data:{mem_id:t},success:function(e){e.success&&n(i).emit("deleted",[e.mem_id])}})},choose_mem:function(t,r){var o={learnable_id:t,mem_id:r};n(i).emit("choose-sending",[t,r]),e.ajax({url:"/api/mem/choose/",type:"post",data:o,success:function(e){e.success&&n(i).emit("chosen",[e.mem,e.thinguser])}})}}),t.renderer.ready(function(){e(document).on("click",".mem-edit-button",i.edit_press),e(document).on("click",".mem-flag-button",i.flag_press),e(document).on("click",".mem-flagged-button",i.flagged_press),e(document).on("click",".mem-remove-button",i.remove_press),e(document).on("click",".mem-delete-button",i.delete_press)})}},{}],10:[function(e,t){t.exports=function(e,t,n,i){"use strict";i.MemStream=e.create({initialize:function(e,t,i){var r={$elem:n(null),mem_options:{},masonry:!1};if(i=n.extend({},r,i),this.$elem=i.$elem,this.mems=e,this.learnables=t,this.mem_options=i.mem_options,this.masonry=i.masonry,0===this.mems.length)return this.$elem.find(".empty-message").show(),void n(".infinite-scroller").hide();this.bind();var o=this;this.masonry?n.loadIfNDefScript(window,"mason","dist/js/masonry.pkgd.min.js?v=11",function(){o.add_masonry(),o.load_next()}):this.load_next(),this.start_observers()},destroy:function(){this.$elem=n(null),this.$loading=n(null),this.$mems=n(null),this.i=0,this.mems=[],this.learnables={}},bind:function(){this.$mems=this.$elem.find(".mems"),0===this.$mems.length&&(this.$elem.prepend('<div class="mems"></div>'),this.$mems=this.$elem.find(".mems")),this.$loading=n('<div class="loading center hide"><div class="loading-spinner"></div></div>'),this.$mems.after(this.$loading)},loading:!1,i:0,load_next:function(){if(this.i===this.mems.length)return this.loading=!1,void this.$loading.hide();this.$loading.show(),this.loading=!0;var e=this.mems[this.i],t=this.learnableForMem(e),r=i.renderer.render_mem(e,t,this.mem_options),o=n(r),a=this;o.imagesLoaded(function(){a.mem_loaded(o)})},learnableForMem:function(e){return this.learnables[e.learnable_id]},mem_loaded:function(e){var t=this;i.renderer.do_embeds(e),this.$mems.append(e),this.masonry&&(this.$mems.masonry("appended",e),n.doTimeout("memstream_masonry",2e3,function(){t.$mems.masonry()})),this.i+=1,n.doTimeout(20,function(){t.load_next()})},add_masonry:function(){this.$mems.addClass("masonry").masonry({itemSelector:".mem",isFitWidth:!0,columnWidth:300,gutter:10})},start_observers:function(){this.on_deleted=this.on_flagged=t.bind(this.on_deleted,this),this.on_edited=t.bind(this.on_edited,this),t(i.mems).on("deleted",this.on_deleted),t(i.mems).on("flagged",this.on_flagged),t(i.mems).on("edited",this.on_edited)},on_deleted:function(e){var t=this,i=this.$elem.find(".mem[data-mem-id="+e+"]");this.masonry?(this.$mems.masonry("remove",i),n.doTimeout(500,function(){t.$mems.masonry()})):i.slideUp()},on_edited:function(e){var t=this,r=this.learnableForMem(e),o=i.renderer.render_mem(e,r,t.mem_options),a=n(o);i.renderer.do_embeds(a),this.$elem.find(".mem[data-mem-id="+e.id+"]").replaceWith(a),this.masonry&&n.doTimeout(500,function(){t.$mems.masonry("reload")})}})}},{}],11:[function(e,t){t.exports=function(e,t){"use strict";t.profile={},e.extend(!0,t.profile,{update_json_setting:function(n,i,r){e.ajax({url:"/ajax/accounts/update_setting/",type:"POST",data:{key:n,value:i},success:function(e){t.user.profile.settings[n]=i,"function"==typeof r&&r(e)}})}}),e("#disconnect").on("click",function(n){n.preventDefault(),e.ajax({url:"/accounts/disconnect/facebook/",type:"POST",complete:function(e){200===e.status&&(window.location="/home/?disconnected=true")},error:function(){t.modal.error(_t("Oops, something went wrong. Please try again later!"))}})})}},{}],12:[function(e,t){t.exports=function(e,t,n,i){"use strict";var r,o={mouseleave_threshold:500,trigger_spacing:20},a={hovercard:".hovercard"},s={directions:{left:"hovercard-left",right:"hovercard-right",top:"hovercard-top",bottom:"hovercard-bottom"}};r=t.create({initialize:function(e,t,n){this.user=t,this.direction=n||"right",this.$trigger=e,this.update()},set_user:function(e){this.user=e,this.update()},update:function(){this.$card&&this.destroy(),this.$card=this.render(),this.align(),this.$elements=this.$card.add(this.$trigger),this.$elements.data("hovercard",this),this.bind()},render:function(){var e=null;this.user&&(e=i.users.get_context(this.user),e=this.setUpBadgeInfo(e));var t=n(MEMRISE.renderer.render("hovercard",{the_user:e}));return t.appendTo("body"),n('*[data-toggle="tooltip"]').tooltip(),t},setUpBadgeInfo:function(e){var t=e.badges;if(t.goal_streak){var n=t.goal_streak.level%35,i="";i=n>29?"c5":n>19?"c4":n>14?"c3":n>6?"c2":n>2?"c1":"c0",e.badges.goal_streak.color=i}return e},get_alignment:function(e){var t=this.$trigger.offset(),n=0,i=0;return("top"===e||"bottom"===e)&&(n=t.left+(this.$trigger.outerWidth()-this.$card.outerWidth())/2,i="top"===e?t.top-this.$card.outerHeight()-o.trigger_spacing:t.top+this.$trigger.outerHeight()+o.trigger_spacing),("left"===e||"right"===e)&&(i=t.top+(this.$trigger.outerHeight()-this.$card.outerHeight())/2,n="left"===e?t.left-this.$card.outerWidth()-o.trigger_spacing:t.left+this.$trigger.outerWidth()+o.trigger_spacing),{x:n,y:i}},align:function(){var e,t=this.get_alignment(this.direction),i=n(window),r=i.width(),o=i.height(),a=i.scrollLeft(),u=i.scrollTop(),l=!1,c=this.direction;for("left"===this.direction&&t.x<a?l="right":"right"===this.direction&&t.x+this.$card.outerWidth()>a+r?l="left":"top"===this.direction&&t.y<u?l="bottom":"bottom"===this.direction&&t.y+this.$card.outerHeight()>u+o&&(l="top"),l&&(t=this.get_alignment(l),c=l),e=0;e<s.directions.length;e+=1)this.$card.removeClass(s.directions[e]);this.$card.addClass(s.directions[c]),this.$card.css({left:t.x,top:t.y})},bind:function(){var e=this;this.$elements.on("mouseenter",function(){e.on_mouse_enter()}),this.$elements.on("mouseleave",function(){e.on_mouse_leave()})},destroy:function(){this.$elements.off("mouseenter").off("mouseleave"),this.$card.remove(),this.$trigger.removeData("hovercard")},on_mouse_enter:function(){this.hover_timer&&clearTimeout(this.hover_timer)},on_mouse_leave:function(){var e=this;this.hover_timer&&clearTimeout(this.hover_timer),this.hover_timer=setTimeout(function(){e.destroy()},o.mouseleave_threshold)}}),e.has(i,"ui")||(i.ui={}),i.ui.HoverCard=r;var u={};i.renderer.ready(function(){n(document).on("mouseenter",'[data-role="hovercard"][data-user-id]:visible',function(){var e,t=n(this),r=parseInt(t.dataAttr("user-id"),10),o=t.dataAttr("direction"),s=null;u.hasOwnProperty(r)&&(s=u[r]),"undefined"==typeof t.data("hovercard")?(n(a.hovercard).each(function(){n(this).data("hovercard").destroy()}),e=new i.ui.HoverCard(t,s,o)):e=t.data("hovercard"),null===s&&n.ajax({url:"/api/user/get/",type:"GET",data:{user_id:r,with_leaderboard:!0},success:function(t){u[r]=t.user,e.set_user(t.user)}})})}),e(i.users).on("follow-press",function(t){e.has(u,t.user.id)&&(u[t.user.id]=n.extend(u[t.user.id],t.user))})}},{}],13:[function(e,t){t.exports=function(e,t,n,i,r){"use strict";var o;o=t.create({initialize:function(t,n){var i="modal-slides-"+t;n||(n={}),this.show_overlay=e.has(n,"show_overlay")?n.show_overlay:!0,this.closed=!1,this.on_close=n.on_close||null,this.context={title:n.title||null,icon:n.icon||null,class_names:i+" "+(n.class_names||""),skippable:n.skippable||null},this.template_name=t},open:function(){return this.render(),this.bind(),this.current=-1,this.next(),this},has_slide:function(e){return e<this.$slides.length&&e>=0},next:function(){var e=this.current+1;return this.has_slide(e)?(this.$slides.hide().eq(e).show(),this.current=e,this.$elem.modal("show"),this.show_overlay&&this.$backdrop.show(),this):void this.close()},close:function(){return this.$elem.remove(),this.show_overlay?this.$backdrop.fadeOut(200,function(){n(this).remove()}):n(this).remove(),"function"==typeof this.on_close&&this.on_close(),this.closed=!0,this},bind:function(){var e=this;this.$elem.on("hidden.bs.modal",function(){e.next()}),n("body").on("keydown",function(t){e.closed===!1&&t.keyCode===r.ENTER&&(e.$elem.modal("hide"),t.preventDefault())}),this.$elem.on("click",'[data-role="show-next"]',function(t){e.$elem.modal("hide"),t.preventDefault()}),this.$elem.on("click",'[data-role="skip"]',function(t){e.current=e.$slides.length,e.$elem.modal("hide"),t.preventDefault()})},render:function(){this.context.slides=i.renderer.render("modal-slides-"+this.template_name),this.context.slides=this.context.slides,this.$elem=n(i.renderer.render("modal-slides",this.context)),this.$backdrop=this.show_overlay?n(i.renderer.render("modal-backdrop")):null,this.$elem.add(this.$backdrop).appendTo("body"),this.$slides=this.$elem.find('[data-role="slides"]>li'),this.$elem.modal({backdrop:!1})}}),i.hasOwnProperty("ui")||(i.ui={}),i.ui.ModalSlides=o,n(document).ready(function(){n("body").on("click",'[data-role="open-modal-slides"]',function(){new MEMRISE.ui.ModalSlides(n(this).dataAttr("type"),{skippable:!0,on_close:function(){}}).open()})})}},{}],14:[function(e,t){t.exports=function(e,t){"use strict";t.users={},e.extend(!0,t.users,{get_context:function(n){var i=e.extend(!0,{},n);return i.is_self=i.id===t.user.id,i},mempal_add_press:function(){var n=e(this).dataAttr("user-id"),i=e(this);e.ajax({url:"/ajax/mempal_add/",type:"POST",data:{to_user_id:n},success:function(e){e.success?(_(t.users).emit("follow-press",[e]),t.users.mempal_add_success(i,n,e)):e.error&&t.modal.error(e.error)}})},mempal_add_success:function(n,i,r){var o,a=t.renderer.render("mempal-button",r.user),s=e(a);n=n.replaceWith(s),r.user.current_follows?(o=1,s.addClass("added")):o=-1,e('[data-user-id="'+t.user.id+'"]').find('[data-role="following-count"]').each(function(){var t=e(this),n=parseInt(t.text(),10);t.text(n+o)}),e('[data-user-id="'+i+'"]').find('[data-role="follower-count"]').each(function(){var t=e(this),n=parseInt(t.text(),10);t.text(n+o)})}}),t.renderer.ready(function(){e(document).on("click",".mempal-button",t.users.mempal_add_press)})}},{}],15:[function(e,t){t.exports=function(e,t,n){"use strict";var i=function(){this.playing=!1,this.currentUrl=null,this.play=function(e){var t=this,n=e.url||null;if(null===n)return!1;if(!this.setMute()){var i=this.loadSound(n);i&&(this.stop(),this.triggerSound({sound:i,onplay:function(){t.playing=!0,t.currentUrl=n,null!==e.onplay&&e.onplay(n)},onfinish:function(){t.playing=!1,null!==e.onfinish&&e.onfinish(n),t.whenFinishedCallback&&(t.whenFinishedCallback(),delete t.whenFinishedCallback)}}))}},this.setMute=function(){var t=e("body").hasClass("audio-muted");return t?(n.mute(),!0):(n.unmute(),!1)},this.loadSound=function(e){var t;return n&&n.ok()&&n.canPlayURL(e)&&(this.currentUrl=e,t=n.createSound({id:e,url:e})),t},this.triggerSound=function(e){e.sound.play({onplay:e.onplay,onfinish:e.onfinish,onstop:e.onfinish})},this.stop=function(){n.stopAll(),this.playing=!1,this.currentUrl=null,e.doTimeout("AudioPlayer-stopAfter")},this.stopAfter=function(t){var n=this;this.playing&&e.doTimeout("AudioPlayer-stopAfter",t,function(){n.stop()})},this.whenFinished=function(e){this.playing?this.whenFinishedCallback=e:e()}};t.audioPlayer=new i,e(document).on("memrise.audio-play","a.audio-player",function(){var n=e(this);t.audioPlayer.play({url:n.attr("href"),onplay:function(){n.addClass("playing")},onfinish:function(){n.removeClass("playing")}})}).on("memrise.audio-stop","a.audio-player",function(){t.audioPlayer.stop()}).on("memrise.audio-toggle-mute","body",function(){e("body").toggleClass("audio-muted");var n=t.audioPlayer.setMute();e.ajax({url:"/ajax/mute/",type:"POST",data:{muted:n}})}).on("mouseenter","a.audio-player.audio-player-hover",function(t){MEMRISE.is_iOS_optimised||e(this).trigger("memrise.audio-play"),t.preventDefault()}).on("click","a.audio-player.audio-player-hover",function(t){MEMRISE.is_iOS_optimised&&e(this).trigger("memrise.audio-play"),t.preventDefault()})}},{}],16:[function(e,t){t.exports=function(e){"use strict";return{SECOND:1e3,MINUTE:6e4,HOUR:36e5,DAY:864e5,WEEK:6048e5,now:function(){return new Date},today:function(){var e=new Date;return e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0),e},time_since:function(e){return this.now()-e},timedelta:function(t){var n=0;return e.has(t,"seconds")&&(n+=t.seconds*this.SECOND),e.has(t,"minutes")&&(n+=t.minutes*this.MINUTE),e.has(t,"hours")&&(n+=t.hours*this.HOUR),e.has(t,"days")&&(n+=t.days*this.DAY),e.has(t,"weeks")&&(n+=t.weeks*this.WEEK),n},getWeekdayName:function(e,t){var n=[_t("Sunday"),_t("Monday"),_t("Tuesday"),_t("Wednesday"),_t("Thursday"),_t("Friday"),_t("Saturday")];return t?n[e][0]:n[e]},getMonthName:function(e){var t=[_t("January"),_t("February"),_t("March"),_t("April"),_t("May"),_t("June"),_t("July"),_t("August"),_t("September"),_t("October"),_t("November"),_t("December")];return t[e]}}}},{}],17:[function(e,t){t.exports=function(e,t){"use strict";function n(){o.toggleClass("is-active"),s.toggleClass("is-active"),u.toggleClass("is-active"),r||(e.get("/ajax/user/profile/",function(e){var n=t.renderer.render("header-profile-content",e);a.html(n),i()}),r=!0)}function i(){var t=e(".js-progress-bar"),n=t.attr("data-progress");t.animate({width:100*n+"%"})}var r=!1,o=e(".header-profile-inner"),a=e(".profile-details"),s=e(".header-info-card"),u=e(".header-dropdown-arrow");e(".js-info-toggle").on("click",function(e){n(),e.stopPropagation()}),e(document).on("click",function(t){o.hasClass("is-active")&&e(t.target).closest("ul")[0]!==o[0]&&n()})}},{}],18:[function(e,t){t.exports=function(e,t,n,i,r){"use strict";i.registerHelper("debug",function(e){console.log("Current Context"),console.log("===================="),console.log(this),e&&(console.log("Value"),console.log("===================="),console.log(e))});var o={loaded:!1,ready_function_stack:[],ready:function(e){o.loaded?e():o.ready_function_stack.push(e)},load:function(t){if(!o.loaded){n.has(t,"partials")?e.each(t.partials,function(e,t){i.registerPartial(e,i.compile(t,{preventIndent:!0}))
}):n.has(t,"compiled_partials")&&t.compiled_partials(),o.set_default_context(),o.loaded=!0;for(var r=0;r<o.ready_function_stack.length;r+=1)o.ready_function_stack[r]();o.ready_function_stack=[]}},fixMediaUrl:function(e){return n.contains(e,"http")?e:t.STATIC_URL+e.replace(/^\/?/,"")},escape:function(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};return String(e).replace(/[&<>"'\/]/g,function(e){return t[e]})},unescape:function(e){var t={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#x2F;":"/"};return String(e).replace(/(&(amp|lt|gt|quot|#39|#x2F);)/g,function(e){return t[e]})},set_default_context:function(){o.default_context={DEBUG:t.DEBUG,STATIC_URL:t.STATIC_URL,user:t.user,DEBUG_OR_STAFF:t.DEBUG||t.user.is_staff,DOMAIN:t.DOMAIN}},render:function(t,n,r){var a=e.extend({},o.default_context,n);return i.partials[t](a,{data:r})},allowed_tags:"p,strong,em,pre,code",rich_format:function(n){n=n.replace(/img:http:\/\/www.memrise.com\/static\//g,"img:"+t.STATIC_URL),n=n.replace(/img:http:\/\/memrise.com\/static\//g,"img:"+t.STATIC_URL),n=n.replace(/img:\/static\//g,"img:"+t.STATIC_URL),n=n.replace(/img:([^\s<]+)/g,"`img:$1`");var i=r.toHTML(n),a=e("<div>").html(i);a.find("*").each(function(){e(this).is(o.allowed_tags)||e(this).remove()});var s=e.trim(a.html());return""===s&&(s="<p>&nbsp;</p>"),s=s.replace(/img:\s*([^\s<]+)/g,"<img class='img-tag' src='$1' />"),s=s.replace(/embed:\s*([^\s<]+)/g,"<a class='embed' href='$1' target='_blank'>$1</a>")},get_mem_context:function(i,r,a){var s={show_author:!1,open_links_blank:!1,show_thing:!1,editable:!1,show_remove:!0,show_source:!1,show_flagged_stats:!1,show_flagging:!0};"undefined"!=typeof a&&(s=e.extend(s,a));var u=e.extend(!0,{},i),l=t.user.is_authenticated,c=l&&n.has(i,"author")&&i.author.id===t.user.id;if(u.show_author=s.show_author,u.show_remove=s.show_remove,u.open_links_blank=s.open_links_blank,u.editable=s.editable&&l,u.show_flagged_stats=s.show_flagged_stats,u.show_flagging=s.show_flagging,u.can_flag=!c&&!i.flagged,u.can_remove=u.can_edit||c,u.can_delete=u.can_edit,u.show_source=s.show_source&&u.search_source>"",u.show_source){var d=e("<a />");d.attr("href",u.search_source),u.search_source_hostname=d[0].hostname}return u.show_thing=s.show_thing&&void 0!==r,s.show_thing&&(u.item=o.getLearnableColumnContext(r.item,[],!0),u.definition=o.getLearnableColumnContext(r.definition,[],!0)),u.middle_html=o.rich_format(u.text),u.sanitized_text=u.text,"rtl"===u.direction&&(u.rtl=!0),u},render_mem:function(t,n,i){var r={template:"garden"};"undefined"!=typeof i&&(r=e.extend(r,i));var a=o.get_mem_context(t,n,r);return o.render("mem-"+r.template,a)},do_embeds:function(t){var n=t.find("a.embed"),i=n.filter('*[href*="vzaar.com"]');i.oembed(null,{autoplay:!1});var r=n.filter('*[href*="brainshark.com"]');r.each(function(){var t=e(this).attr("href"),n=t.match(/\d+$/)[0];e(this).replaceWith('<iframe src="http://www.brainshark.com/brainshark/vu/view.asp?pi='+n+'&dm=5&pause=1&nrs=1" frameborder="0" scrolling="no" style="border:1px solid #999999; height:400px;"></iframe>')});var o=n.filter('*[href*="glogster.com"]');o.each(function(){var t=e(this).attr("href"),n=t.match(/glog\/(\w+)/)[1],i=null!==t.match(/tall=1/),r=i?670:366;e(this).replaceWith('<iframe src="http://www.glogster.com/glog/'+n+'" height="'+r+'" width="495" name="glogster-embed-glog" frameborder="0" scrolling="no" marginheight="0" marginwidth="0" style="overflow: hidden;"></iframe>')}),n.not(i).not(r).not(o).embedly({embedly_wmode:"window",key:"eb0a2940f03711e0aff54040d3dc5c07",maxHeight:360,maxWidth:495}).bind("embedly-oembed",function(){var t=e(this).parent();e.doTimeout(10,function(){t.find('iframe[src*="youtube.com"]').each(function(){e(this).attr("src",e(this).attr("src")+"&rel=0&showsearch=0&showinfo=0&modestbranding=1&disablekb=1")})})})},get_pool_context:function(t){var n=e.extend(!0,{},t);return n.columns_list=[],e.each(t.columns,function(t,i){var r=e.extend(!0,{},i);r.key=t,n.columns_list.push(r)}),n},renderAudioPlayer:function(t){var n="";return e.each(t,function(e,t){var i=o.fixMediaUrl(t);n+="<a class='audio-player audio-player-hover' href='"+i+"'></a>"}),n},renderVideoPlayer:function(e){e=o.fixMediaUrl(e);var t="http://videojs.com/html5-video-support/",n=240,i=240,r=" <p class='vjs-no-js'>"+_t("To view this video please enable JavaScript, and consider upgrading to a web browser that __a1__supports HTML5 video",{a1:sprintf("<a href='%s' target='_blank'>",t)})+"</a></p>",a=sprintf("video-%d",Math.floor(1234*Math.random()));return sprintf("<div class='video-container'><video class='video-player video-js vjs-default-skin vjs-big-play-centered' id='%s' width='%d' height='%d'><source src='%s' type='video/mp4'>%s</video></div>",a,n,i,e,r)},renderImageCarousel:function(t){var n={id:"imageCarousel"+Math.floor(1234*Math.random()),vals:[]};return e.each(t,function(e,t){n.vals.unshift({"class":0===e?"active ":"",url:o.fixMediaUrl(t)})}),o.render("multi-image-carousel",n)},renderVal:function(e,t,i,o){if((null===t||0===t.length)&&(t=""),"text"===e)return o?r.toHTML(t):this.escape(t);t instanceof Array||(t=[t]);var a=i?n.sample(t,1):t;return"image"===e?t.length>1?this.renderImageCarousel(n.shuffle(a)):"<img src='"+a[0]+"' />":"audio"===e?this.renderAudioPlayer(a):this.renderVideoPlayer(n.sample(t))},getLearnableColumnContext:function(e,t,n,i){return{label:e.label,alts:e.alternatives,kind:e.kind,extra_classes:t.concat(e.classes),val:o.renderVal(e.kind,e.value,n,i)}},getPresentationContext:function(e){var t=[],n=!1;t.push(this.getLearnableColumnContext(e.item,["primary"],!1,e.markdown)),t.push(this.getLearnableColumnContext(e.definition,["secondary"],!1,e.markdown));for(var i=0;i<e.columns.length;i++){var r=e.columns[i],o=r.always_show?["on-show-more"]:[];"audio"!==r.kind||n||(n=!0,o=["first-audio"]);var a=this.getLearnableColumnContext(r,o,!1);t.push(a)}return{columns:t,attributes:e.attributes}}};return o}},{}],19:[function(e,t){t.exports=function(e,t){"use strict";function n(n,i){e.getJSON("https://api-ssl.bitly.com/v3/shorten?callback=?",{format:"json",apiKey:"R_6d65e5af66d98358c1170add652453ac",login:"memrise",longUrl:n},function(e){var n=e.data.url;t.DEBUG&&(n="https://bit.ly/debug_URL"),i(n)})}function i(){o.width=550,o.height=450,o.left=(e(window).width()-o.width)/2,o.top=(e(window).height()-o.height+50)/2,o.str=r+", width="+o.width+", height="+o.height+", top="+o.top+", left="+o.left}var r,o={},a=t.DOMAIN+window.location.pathname;r="status=no, toolbar=no, menubar=no, location=no",e("body").on("click",'[data-role="twitter-share"]',function(n){t.sharing.twitterShareClick(e(this)),n.preventDefault()}).on("click",'[data-role="facebook-share"]',function(n){FB&&(t.sharing.facebookShareClick(e(this)),n.preventDefault())}),t.sharing=t.sharing||{},t.sharing.twitterShareClick=function(e){var t,r=e.dataAttr("url")||a,s=e.dataAttr("tweet")||"Check this out!  ",u=e.dataAttr("via")||"memrise",l="GrowYourMind,"+(e.dataAttr("hashtags")||"");i(),n(r,function(e){t="http://twitter.com/intent/tweet?text="+encodeURIComponent(s)+"&url="+encodeURIComponent(e)+"&via="+encodeURIComponent(u)+"&hashtags="+encodeURIComponent(l),window.open(t,"Tweet",o.str)})},t.sharing.facebookShareClick=function(e){var n={method:"feed",link:e.dataAttr("url")||a,picture:e.dataAttr("picture")||null,name:e.dataAttr("title")||null,caption:e.dataAttr("caption")||null,description:e.dataAttr("description")||null};t.DEBUG&&(n.picture="http://placekitten.com/100/100"),FB.ui(n,function(){})}}},{}],20:[function(e,t){t.exports=function(e){"use strict";return{checkTracking:function(t){return e.tracking&&e.tracking[t]?!0:!1},getTrackingAction:function(t){var n=e.tracking[t].action;return delete e.tracking[t].action,n},formatTracking:function(t,n){n&&(e.tracking[t][n]=this.getTrackingId(n))},getTrackingId:function(e){var t=localStorage.getItem(e);return t||(t=uuidV4(),localStorage.setItem(e,t)),t},removeTrackingId:function(e){localStorage.removeItem(e)}}}},{}],21:[function(e,t){t.exports=function(e,t){"use strict";e(document).on("click",".video-container .video-player",function(){var n=e(this);0===n.children("video").length&&t(n.attr("id"),{autoplay:!0,controls:!0,preload:"auto"})})}},{}],22:[function(e,t){t.exports={DISCOUNT_CODES:{20:"MOUSHA",50:"OLIVER"}}},{}],23:[function(e,t){t.exports=function(e,t,n,i){"use strict";function r(e,n){!o(n.type)&&a(n.url)&&e.setRequestHeader("X-CSRFToken",t.csrftoken)}var o,a,s=["Login required.","CSRF failed."];e(document).ready(function(){t.csrftoken&&i.get("csrftoken")!==t.csrftoken&&"NOTPROVIDED"!==t.csrftoken&&i.set("csrftoken",t.csrftoken)}),e(document).ajaxError(function(e,n){403===n.status&&s.indexOf(n.responseText)>-1&&t.modal.error(_t("Uh-oh, something went wrong. Click OK to resume your session ("+n.responseText+")"),function(){window.location.href="/login"})}),o=function(e){return/^(GET|HEAD|OPTIONS|TRACE)$/.test(e)},a=function(e){var t=document.location.host,n=document.location.protocol,i="//"+t,r=n+i;return e===r||e.slice(0,r.length+1)===r+"/"||e===i||e.slice(0,i.length+1)===i+"/"||!/^(\/\/|http:|https:).*/.test(e)},e.ajaxSetup({cache:!1,dataType:"json",beforeSend:r}),n.post=function(e){return e.config=r,e.method="POST",n.request(e)}}},{}],24:[function(e,t){t.exports=function(e,t){"use strict";e("body").prepend('<div id="fb-root"></div>'),window.fbAsyncInit=function(){window.FB.init({appId:t.FACEBOOK_APP_ID,version:"v"+t.FACEBOOK_API_VERSION,status:!0,xfbml:!0,cookie:!0}),e("#fb-root").trigger("facebook:init")},function(e,t,n){var i,r=e.getElementsByTagName(t)[0];e.getElementById(n)||(i=e.createElement(t),i.id=n,i.src="//connect.facebook.net/en_US/sdk.js",r.parentNode.insertBefore(i,r))}(document,"script","facebook-jssdk")}},{}],25:[function(e,t){t.exports=function(t,n,i){var r={showKeyIfEmpty:!0,lng:n.LANG,load:"current",fallbackLng:!1,keyseparator:"&&&&&",nsseparator:"&&&&&&",resGetPath:n.STATIC_URL+n.urls.locale};i.init(r,function(){t(document).ready(function(){n.renderer&&n.renderer.load(n.templates)})}),window._t=i.t,window.plural=e(33)(sprintf)}},{33:33}],26:[function(e,t){t.exports={BACKSPACE:8,CAPS_LOCK:20,COMMA:188,CONTROL:17,DELETE:46,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,SHIFT:16,SPACE:32,TAB:9,UP:38,DOWN:40,LEFT:37,RIGHT:39,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90}},{}],27:[function(e){window.moment=e(47),e(46)},{46:46,47:47}],28:[function(e,t){t.exports=function(e,t){e.SENTRY_PUBLIC_DSN&&(t.config(e.SENTRY_PUBLIC_DSN).install(),e.user&&e.user.email&&t.setUserContext({id:e.user.id,email:e.user.email}))}},{}],29:[function(e,t){t.exports=function(e){!function(){var t=window.analytics=window.analytics||[];if(!t.initialize)if(t.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{t.invoked=!0,t.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on"],t.factory=function(e){return function(){var n=Array.prototype.slice.call(arguments);return n.unshift(e),t.push(n),t}};for(var n=0;n<t.methods.length;n++){var i=t.methods[n];t[i]=t.factory(i)}t.load=function(e){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.com/analytics.js/v1/"+e+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n)},t.SNIPPET_VERSION="4.0.0",t.load(e.SEGMENT_WEB_KEY),e.user.is_authenticated&&t.identify(e.user.id,{username:e.user.username,is_pro:e.user.is_premium}),t.page()}}()}},{}],30:[function(e,t){t.exports=function(e,t){e.setup({url:t.STATIC_URL+"flash/",useHTML5Audio:!0,debugMode:!1,useConsole:!1,debugFlash:!1,consoleOnly:!1,preferFlash:!1,ontimeout:function(){window.console&&window.console.log("soundManager timed out")}})}},{}],31:[function(e){!function(t){e(28)(t,Raven),e(45)(),e(25)($,t,i18n),e(39)(t,Modernizr),e(34)($),e(35)($,_),e(36)($),e(37)($,t,_),e(38)(_),e(32)($,_,Handlebars,t),e(23)($,t,m,Cookies),e(30)(soundManager,t),e(24)($,t),e(29)(t),e(27),e(28),window.KEY_CODES=e(26),window.uuidV4=e(50),t.CONSTANTS=e(22),window.datetime=e(16)(_),t.renderer=e(18)($,t,_,Handlebars,markdown),e(17)($,t),e(21)($,videojs),e(15)($,t,soundManager),e(19)($,t),e(40)($),e(42)($,t),e(43)(_,$,t,Class),e(44)($,t),e(41)($,t),e(4)(_,$,t),t.leaderboard=e(5)($,t,m,_),e(9)($,t,_,Handlebars),e(10)(Class,_,$,t),e(11)($,t),e(14)($,t),e(7)($,t),e(6)($,t),e(8)($,t),e(12)(_,Class,$,t),e(13)(_,Class,$,t,KEY_CODES),e(3)(t,m),e(1)($,t),e(2)($,t)}(MEMRISE)},{1:1,10:10,11:11,12:12,13:13,14:14,15:15,16:16,17:17,18:18,19:19,2:2,21:21,22:22,23:23,24:24,25:25,26:26,27:27,28:28,29:29,3:3,30:30,32:32,34:34,35:35,36:36,37:37,38:38,39:39,4:4,40:40,41:41,42:42,43:43,44:44,45:45,5:5,50:50,6:6,7:7,8:8,9:9}],32:[function(e,t){t.exports=function(e,t,n,i){"use strict";return n.registerHelper("compare",function(e,t,n){if(arguments.length<3)throw new Error("Handlerbars Helper 'compare' needs 2 parameters");var i=n.hash.operator||"==",r={"==":function(e,t){return e==t},"===":function(e,t){return e===t},"!=":function(e,t){return e!=t},"<":function(e,t){return t>e},">":function(e,t){return e>t},"<=":function(e,t){return t>=e},">=":function(e,t){return e>=t},"typeof":function(e,t){return typeof e==t}};if(!r[i])throw new Error("Handlerbars Helper 'compare' doesn't know the operator "+i);var o=r[i](e,t);return o?n.fn(this):n.inverse(this)}),n.registerHelper("isNonzero",function(e,t){return"number"==typeof e&&0!==e?t.fn(this):t.inverse(this)}),n.registerHelper("timesince",function(t){try{return e.timeago(t)}catch(n){return""}}),n.registerHelper("logContext",function(){return window.console&&window.console.log(this),""}),n.registerHelper("absnumber",function(e){return t.isNumber(e)?0>e?""+e:"+"+e:"NaN"}),n.registerHelper("intcomma",function(e){var t=String(e),i=t.replace(/^(-?\d+)(\d{3})/,"$1,$2");return t===i?i:n.helpers.intcomma(i)}),n.registerHelper("pluralize",function(e,t){return 1===t?e:e+"s"}),n.registerHelper("safeValue",function(e){return new n.SafeString(e)}),n.registerHelper("cssClasses",function(e){return t.isArray(e)?" "+e.join(" "):""}),n.registerHelper("intcommabig",function(e){return t.isNumber(e)?e>-1e4&&1e4>e?n.helpers.intcomma(e):e>-1e6&&1e6>e?n.helpers.intcomma(Math.round(e/1e3))+"k":n.helpers.intcomma(Math.round(e/1e6))+"m":void 0}),n.registerHelper("convertSeconds",function(e){var n,i,r=0>e;return t.isNumber(e)?(r&&(e*=-1),n=e%60,10>n&&(n="0"+n),i=Math.floor(e/60),(r?"-":"")+i+":"+n):""}),n.registerHelper("asset",function(){var e=t.toArray(arguments).slice(0,-1).join("");return i.STATIC_URL+e}),n.registerHelper("zeroPad",function(e,n){for(t.isUndefined(n)&&(n=2),e+="";e.length<n;)e="0"+e;return e}),n.registerHelper("for",function(e,t,n,i){for(var r="",o=e;t>o;o+=n)r+=i.fn(o);return r}),n.registerHelper("monthOptions",function(){for(var e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],t="",i=(new Date).getMonth(),r=0;12>r;r++){var o=r===i?'selected="selected"':"",a=sprintf("%d - %s",r+1,e[r]);t+=sprintf('<option value="%d" %s>%s</option>',r+1,o,a)}return new n.SafeString(t)}),n.registerHelper("yearOptions",function(){for(var e=(new Date).getFullYear(),t="",i=0;11>i;i++){var r=0===i?'selected="selected"':"",o=sprintf("%d",e+i);t+=sprintf('<option value="%d" %s>%s</option>',e+i,r,o)}return new n.SafeString(t)}),n.registerHelper("_t",function(e,i){if(t.size(i.hash)>0){var r=t.has(i.hash,"context")?i.hash.context:this,o=i18n.functions.extend(i.hash,r);return i.fn&&(o.defaultValue=i.fn(r)),new n.SafeString(_t(e,o))}return new n.SafeString(_t(e))}),n.registerHelper("math",function(e,t,n){return e=parseFloat(e),n=parseFloat(n),{"+":e+n,"-":e-n,"*":e*n,"/":e/n,"%":e%n}[t]}),n.registerHelper("truncate",function(e,t){if(e.length>t){for(var i=e.substr(0,t+1);i.length;){var r=i.substr(-1);if(i=i.substr(0,-1)," "==r)break}return""==i&&(i=e.substr(0,t)),new n.SafeString(i+"...")}return e}),n}},{}],33:[function(e,t){t.exports=function(e){"use strict";return function(t,n,i){return i>1?e(n,{count:i}):e(t,{count:i})}}},{}],34:[function(e,t){t.exports=function(e){"use strict";e.fn.setCursorPosition=function(t){if(e(this).get(0).setSelectionRange)e(this).get(0).setSelectionRange(t,t);else if(e(this).get(0).createTextRange){var n=e(this).get(0).createTextRange();n.collapse(!0),n.moveEnd("character",t),n.moveStart("character",t),n.select()}return e(this)},e.fn.getCursorPosition=function(){var t=0,n=e(this).get(0);if(document.selection){n.focus();var i=document.selection.createRange(),r=document.selection.createRange().text.length;i.moveStart("character",-n.value.length),t=i.text.length-r}else(n.selectionStart||"0"==n.selectionStart)&&(t=n.selectionStart);return t}}},{}],35:[function(e,t){t.exports=function(e,t){"use strict";e.fn.dataAttr=function(e,t){var n="data-"+e,i=this.closest("["+n+"]");if(0===i.length)return t;var r=i.attr(n);return"undefined"==typeof r?t:r},e.fn.dataDict=function(n,i){var r="data-"+n+"-",o={};return e(this).each(function(){e.each(this.attributes,function(){if(this.specified&&t.contains(this.name,r)){var e=this.name.split("="),n=e[0].substring(r.length);o[n]=this.value}})}),0===o.length?i:o}}},{}],36:[function(e,t){t.exports=function(e){"use strict";e.extend({getUrlVar:function(e){var t="[\\?&]"+e+"=([^&#]*)",n=new RegExp(t),i=n.exec(window.location.href);return null===i?void 0:i[1]}})}},{}],37:[function(e,t){t.exports=function(e,t,n){"use strict";e.loadIfNDefScript=function(i,r,o,a){n.has(i,r)?a():e.ajax({dataType:"script",cache:!0,url:t.STATIC_URL+o,success:a})}}},{}],38:[function(e,t){t.exports=function(e){"use strict";return e.mixin({on:function(e,t,n){return this.isString(e)&&(n=t,t=e,e=this),this.isUndefined(e._events)&&(e._events={}),t in e._events||(e._events[t]=[]),e._events[t].push(n),this},off:function(e,t,n){return this.isString(e)&&(n=t,t=e,e=this),!this.isUndefined(e._events)&&t in e._events?(e._events[t]=this.without(e._events[t],n),this):void 0},on_once:function(t,n,i){this.isString(t)&&(i=n,n=t,t=this);var r=function(){e.removeEvent(t,n)};i=e.compose(r,i),this.on(t,n,i)},emit:function(e,t,n){if(this.isString(e)&&(t=e,e=this),!this.isUndefined(e._events)){if(t in e._events)for(var i=e._events[t].concat(),r=0,o=i.length;o>r;r++)i[r].apply(e,void 0===n?[]:n);return this}},removeEvent:function(e,t){this.isString(e)&&(t=e,e=this),this.isUndefined(e._events)||delete e._events[t]}},{chain:!1}),e}},{}],39:[function(e,t){t.exports=function(e,t){"use strict";t.load([{test:t.input.placeholder,nope:[e.STATIC_URL+e.urls.jsPresentationPolyfills,e.STATIC_URL+e.urls.cssPresentationPolyfills]},{test:Array.prototype.indexOf,nope:e.STATIC_URL+e.urls.jsFunctionalPolyfills}])}},{}],40:[function(e,t){t.exports=function(e){"use strict";e(document).on("click","a.disabled, .btn.disabled",function(){return!1})}},{}],41:[function(e,t){t.exports=function(e){"use strict";function t(){var t=e(".set-lang"),n=e(".dropup",t),i=e("#chosen-lang",t),r=e(".lang-info",n),o=e("ul .active",n),a=e("a",n);r.append("<span class='lang-name'>"+e("a",o).text().toUpperCase()+"</span>"),a.on("click",function(n){n.preventDefault();var r=e(this),o=i.val(),a=r.attr("data-lang");i.val(a),o!==a&&t.submit()})}function n(){var t=e(".header-lang-changer"),n=e(".lang-changer-wrapper"),i=e(".header-dropdown-arrow",t),r=e(".dropdown-menu",t),o=e("a",r),a=e(".set-lang");n.on("click",function(){i.toggleClass("is-active")}),o.on("click",function(){var t=e(this).data("lang"),n=e('a[data-lang="'+t+'"]',a);n.click(),i.toggleClass("is-active")}),e(document).click(function(t){var s=t.target;!i.hasClass("is-active")||e(s).is(e("a",a))||e(s).is(n)||e(s).is(r)||e(s).is(o.parent())||i.removeClass("is-active")})}t(),n()}},{}],42:[function(e,t){t.exports=function(e,t){"use strict";var n=e(window);t.modal={error:function(e,n){t.modal.info(_t("Whoops."),e,n)},content:function(n,i,r){var o={template:"",showHeader:!1,showFooter:!1,headerText:"",backdrop:!0,keyboard:!1,modalId:"",shadow:!1,seeThru:!0,fadeTime:"fast",removeOnHidden:!1,templateVars:{},styleVersion:1},a=e.extend({},o,n);t.renderer.ready(function(){var n={title:a.headerText,content:a.template,testVal:a.testVal,id:a.modalId,shadow:a.shadow,fade:!0,fadeTime:a.fadeTime,seeThru:a.seeThru,templateVars:a.templateVars,styleVersion:a.styleVersion},i=t.renderer.render("modal-content-parent",n),o=e(i).appendTo("body");o.on("show.bs.modal",function(){a.showHeader||e(".modal-header",o).hide(),a.showFooter||e(".modal-footer",o).hide()}).on("shown.bs.modal",function(){t.modal.position(o),e(window).resize(function(){t.modal.position(o)}),o.css({display:"none",visibility:"visible"})}).on("hidden.bs.modal",function(){a.removeOnHidden&&o.remove(),_.isFunction(r)&&r()}).modal({backdrop:a.backdrop,keyboard:a.keyboard})}),e(".modal").fadeIn(a.fadeTime),_.isFunction(i)&&i()},position:function(e){var t=e.find(".modal-content").first(),i=e.find(".modal-dialog").first(),r=Math.abs(n.height()-t.height())/2;i.css({top:r-30})},info:function(n,i,r,o){t.renderer.ready(function(){var a={title:n,message:i},s=t.renderer.render("modal-info",a),u=e(s).appendTo("body");"function"==typeof o&&o(),u.on("hide.bs.modal",function(){"function"==typeof r&&r()}).on("shown.bs.modal",function(){u.find(".btn-primary").focus()}).on("hidden.bs.modal",function(){e(this).remove()}).modal("show")})},deletion_confirmation:function(n,i,r,o,a,s,u){t.renderer.ready(function(){var l=t.renderer.render("modal-deletion-confirmation",{title:n,message:i,information_on_string_to_type:r,string_to_type:o,cancel_text:a,ok_text:s}),c=e(l).appendTo("body"),d=c.find(".js-error-message");c.find(".btn-no").on("click",_.once(function(){return c.modal("hide"),!1})),c.find(".btn-yes").on("click",function(){var e=c.find(".js-confirm-message-input"),t=e.val();return t!==o?d.removeClass("hidden"):(c.modal("hide"),"function"==typeof u&&u()),!1}),c.on("shown.bs.modal",function(){c.find(".btn-primary").focus()}).on("hidden.bs.modal",function(){e(this).remove()}).modal("show",{keyboard:!1})})},yes_no:function(n,i,r,o){t.renderer.ready(function(){var a=t.renderer.render("modal-yesno",{title:n,message:i}),s=e(a).appendTo("body");s.find(".btn-no").on("click",_.once(function(){return s.modal("hide"),"function"==typeof o&&o(),!1})),s.find(".btn-yes").on("click",_.once(function(){return s.modal("hide"),"function"==typeof r&&r(),!1})),s.on("shown.bs.modal",function(){s.find(".btn-primary").focus()}).on("hidden.bs.modal",function(){e(this).remove()}).modal("show",{keyboard:!1})})},$spinner:null,spinner_open:function(n,i,r){return t.modal.$spinner?!1:(t.renderer.ready(function(){var o={title:n,message:i,fade:void 0===r?!0:r},a=t.renderer.render("modal-spinner",o);t.modal.$spinner=e(a).appendTo("body"),t.modal.$spinner.modal("show",{keyboard:!1})}),!0)},spinner_close:function(){return t.modal.$spinner?(t.modal.$spinner.on("hide.bs.modal",function(){e(this).remove()}).modal("hide"),t.modal.$spinner=null,!0):!1}}}},{}],43:[function(e,t){t.exports=function(e,t,n,i){"use strict";var r={inner:"ul.slides",slide:"li",prev:".pag.pag-left",next:".pag.pag-right",display:".slideshow-display .inner"},o={disabled:"disabled"};e.has(n,"ui")||(n.ui={}),n.ui.Slideshow=i.create({initialize:function(e){this.outer=e,this.getElements(),this.slideWidth=this.outer.innerWidth(),this.current=0,this.bindClick(),this.updatePagination(),this.updateDisplay()},hasSlide:function(e){return e>=0&&e<=this.slides.length-1},updateDisplay:function(){this.display.html(this.current+1+"/"+this.slides.length)},updatePagination:function(){this.prev.toggleClass(o.disabled,this.current<=0),this.next.toggleClass(o.disabled,this.current>=this.slides.length-1)},slideTo:function(e){this.hasSlide(e)&&(this.inner.css({left:-(e*this.slideWidth)}),this.current=e,this.updateDisplay(),this.updatePagination())},slidePrev:function(){this.slideTo(this.current-1)},slideNext:function(){this.slideTo(this.current+1)},bindClick:function(){var e=this;this.prev.on("click",function(t){e.slidePrev(),t.preventDefault()}),this.next.add(this.inner).on("click",function(t){e.slideNext(),t.preventDefault()})},getElements:function(){this.inner=this.outer.find(r.inner),this.slides=this.inner.find(r.slide),this.prev=this.outer.find(r.prev),this.next=this.outer.find(r.next),this.display=this.outer.find(r.display)}}),t(document).ready(function(){t(".slideshow").each(function(){var e,i=t(this);e=new n.ui.Slideshow(i),i.data("slideShow",e)})})}},{}],44:[function(e,t){t.exports=function(e,t){"use strict";t.Whitebox={defaults:{},centered_box:function(n){var i=e.extend({},this.defaults,n);t.renderer.ready(function(){{var n={content:i.template,data:i.data},r=t.renderer.render(i.parent,n);e(r).appendTo("body")}})}}}},{}],45:[function(e,t){t.exports=function(){"undefined"!=typeof localStorage&&localStorage||(window.localStorage={_data:{},setItem:function(e,t){return this._data[e]=t},getItem:function(e){return this._data[e]},removeItem:function(e){return delete this._data[e]},clear:function(){return this._data={}}})}},{}],46:[function(e){!function(t){function n(e){var t="";if(e=parseInt(e,10),!e||1>e)return t;for(;e;)t+="0",e-=1;return t}function i(e,t,i){return null==e&&(e=""),e=""+e,(i?e:"")+n(t-e.length)+(i?"":e)}function r(e){return"[object Array]"===Object.prototype.toString.call(e)}function o(e){return"[object Object]"===Object.prototype.toString.call(e)}function a(e,t){for(var n=e.length;n-=1;)if(t(e[n]))return e[n]}function s(e,t){var n,i=0,r=e.length;for("function"!=typeof t&&(n=t,t=function(e){return e===n});r>i;){if(t(e[i]))return e[i];i+=1}}function u(e,t){var n=0,i=e.length;if(e&&i)for(;i>n;){if(t(e[n],n)===!1)return;n+=1}}function l(e,t){var n=0,i=e.length,r=[];if(!e||!i)return r;for(;i>n;)r[n]=t(e[n],n),n+=1;return r}function c(e,t){return l(e,function(e){return e[t]})}function d(e){var t=[];return u(e,function(e){e&&t.push(e)}),t}function f(e){var t=[];return u(e,function(e){s(t,e)||t.push(e)}),t}function h(e,t){var n=[];return u(e,function(e){u(t,function(t){e===t&&n.push(e)})}),f(n)}function m(e,t){var n=[];return u(e,function(i,r){return t(i)?void 0:(n=e.slice(r),!1)}),n}function p(e,t){var n=e.slice().reverse();return m(n,t).reverse()}function g(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}var _;if("function"==typeof e)try{_=e(47)}catch(v){}if(!_&&t.moment&&(_=t.moment),!_)throw"Moment Duration Format cannot find Moment.js";_.duration.fn.format=function(){var e,t,a,v,y,w,b=[].slice.call(arguments),k=g({},this.format.defaults),S=_.duration(this);return k.duration=this,u(b,function(e){return"string"==typeof e||"function"==typeof e?void(k.template=e):"number"==typeof e?void(k.precision=e):void(o(e)&&g(k,e))}),a=k.types=r(k.types)?k.types:k.types.split(" "),"function"==typeof k.template&&(k.template=k.template.apply(k)),e=new RegExp(l(a,function(e){return k[e].source}).join("|"),"g"),v=function(e){return s(a,function(t){return k[t].test(e)})},t=l(k.template.match(e),function(e,t){var n=v(e),i=e.length;return{index:t,length:i,token:"escape"===n?e.replace(k.escape,"$1"):e,type:"escape"===n||"general"===n?null:n}},this),y=h(a,f(d(c(t,"type")))),y.length?(u(y,function(e,n){var i,r,o,a,s;i=S.as(e),r=i>0?Math.floor(i):Math.ceil(i),o=i-r,a=n+1===y.length,s=!n,u(t,function(t){t.type===e&&(g(t,{value:i,wholeValue:r,decimalValue:o,isLeast:a,isMost:s}),s&&null==k.forceLength&&t.length>1&&(k.forceLength=!0))}),S.subtract(r,e)}),k.trim&&(t=("left"===k.trim?m:p)(t,function(e){return!(e.isLeast||null!=e.type&&e.wholeValue)})),w=!1,"right"===k.trim&&t.reverse(),t=l(t,function(e){var t,r;if(!e.type)return e.token;if(t=e.isLeast&&k.precision<0?(Math.floor(e.wholeValue*Math.pow(10,k.precision))*Math.pow(10,-k.precision)).toString():e.wholeValue.toString(),t=t.replace(/^\-/,""),e.length>1&&(w||e.isMost||k.forceLength)&&(t=i(t,e.length)),e.isLeast&&k.precision>0)switch(r=e.decimalValue.toString().replace(/^\-/,"").split(/\.|e\-/),r.length){case 1:t+="."+i(r[0],k.precision,!0).slice(0,k.precision);break;case 2:t+="."+i(r[1],k.precision,!0).slice(0,k.precision);break;case 3:t+="."+i(n(+r[2]-1)+(r[0]||"0")+r[1],k.precision,!0).slice(0,k.precision);break;default:throw"Moment Duration Format: unable to parse token decimal value."}return e.isMost&&e.value<0&&(t="-"+t),w=!0,t}),"right"===k.trim&&t.reverse(),t.join("")):c(t,"token").join("")},_.duration.fn.format.defaults={escape:/\[(.+?)\]/,years:/[Yy]+/,months:/M+/,weeks:/[Ww]+/,days:/[Dd]+/,hours:/[Hh]+/,minutes:/m+/,seconds:/s+/,milliseconds:/S+/,general:/.+?/,types:"escape years months weeks days hours minutes seconds milliseconds general",trim:"left",precision:0,forceLength:null,template:function(){var e=this.types,t=this.duration,n=a(e,function(e){return t._data[e]});switch(n){case"seconds":return"h:mm:ss";case"minutes":return"d[d] h:mm";case"hours":return"d[d] h[h]";case"days":return"M[m] d[d]";case"weeks":return"y[y] w[w]";case"months":return"y[y] M[m]";case"years":return"y[y]";default:return"y[y] M[m] d[d] h:mm:ss"}}}}(this)},{47:47}],47:[function(e,t,n){!function(e,i){"object"==typeof n&&"undefined"!=typeof t?t.exports=i():"function"==typeof define&&define.amd?define(i):e.moment=i()}(this,function(){"use strict";function n(){return $i.apply(null,arguments)}function i(e){$i=e}function r(e){return"[object Array]"===Object.prototype.toString.call(e)}function o(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function a(e,t){var n,i=[];for(n=0;n<e.length;++n)i.push(t(e[n],n));return i}function s(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function u(e,t){for(var n in t)s(t,n)&&(e[n]=t[n]);return s(t,"toString")&&(e.toString=t.toString),s(t,"valueOf")&&(e.valueOf=t.valueOf),e}function l(e,t,n,i){return Ot(e,t,n,i,!0).utc()}function c(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function d(e){return null==e._pf&&(e._pf=c()),e._pf}function f(e){if(null==e._isValid){var t=d(e);e._isValid=!(isNaN(e._d.getTime())||!(t.overflow<0)||t.empty||t.invalidMonth||t.invalidWeekday||t.nullInput||t.invalidFormat||t.userInvalidated),e._strict&&(e._isValid=e._isValid&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)}return e._isValid}function h(e){var t=l(0/0);return null!=e?u(d(t),e):d(t).userInvalidated=!0,t}function m(e,t){var n,i,r;if("undefined"!=typeof t._isAMomentObject&&(e._isAMomentObject=t._isAMomentObject),"undefined"!=typeof t._i&&(e._i=t._i),"undefined"!=typeof t._f&&(e._f=t._f),"undefined"!=typeof t._l&&(e._l=t._l),"undefined"!=typeof t._strict&&(e._strict=t._strict),"undefined"!=typeof t._tzm&&(e._tzm=t._tzm),"undefined"!=typeof t._isUTC&&(e._isUTC=t._isUTC),"undefined"!=typeof t._offset&&(e._offset=t._offset),"undefined"!=typeof t._pf&&(e._pf=d(t)),"undefined"!=typeof t._locale&&(e._locale=t._locale),Li.length>0)for(n in Li)i=Li[n],r=t[i],"undefined"!=typeof r&&(e[i]=r);return e}function p(e){m(this,e),this._d=new Date(null!=e._d?e._d.getTime():0/0),Ni===!1&&(Ni=!0,n.updateOffset(this),Ni=!1)}function g(e){return e instanceof p||null!=e&&null!=e._isAMomentObject}function _(e){return 0>e?Math.ceil(e):Math.floor(e)}function v(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=_(t)),n}function y(e,t,n){var i,r=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),a=0;for(i=0;r>i;i++)(n&&e[i]!==t[i]||!n&&v(e[i])!==v(t[i]))&&a++;return a+o}function w(){}function b(e){return e?e.toLowerCase().replace("_","-"):e}function k(e){for(var t,n,i,r,o=0;o<e.length;){for(r=b(e[o]).split("-"),t=r.length,n=b(e[o+1]),n=n?n.split("-"):null;t>0;){if(i=S(r.slice(0,t).join("-")))return i;
if(n&&n.length>=t&&y(r,n,!0)>=t-1)break;t--}o++}return null}function S(n){var i=null;if(!Hi[n]&&"undefined"!=typeof t&&t&&t.exports)try{i=Fi._abbr,e("./locale/"+n),M(i)}catch(r){}return Hi[n]}function M(e,t){var n;return e&&(n="undefined"==typeof t?x(e):D(e,t),n&&(Fi=n)),Fi._abbr}function D(e,t){return null!==t?(t.abbr=e,Hi[e]=Hi[e]||new w,Hi[e].set(t),M(e),Hi[e]):(delete Hi[e],null)}function x(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Fi;if(!r(e)){if(t=S(e))return t;e=[e]}return k(e)}function T(e,t){var n=e.toLowerCase();Gi[n]=Gi[n+"s"]=Gi[t]=e}function C(e){return"string"==typeof e?Gi[e]||Gi[e.toLowerCase()]:void 0}function Y(e){var t,n,i={};for(n in e)s(e,n)&&(t=C(n),t&&(i[t]=e[n]));return i}function O(e,t){return function(i){return null!=i?(P(this,e,i),n.updateOffset(this,t),this):A(this,e)}}function A(e,t){return e._d["get"+(e._isUTC?"UTC":"")+t]()}function P(e,t,n){return e._d["set"+(e._isUTC?"UTC":"")+t](n)}function U(e,t){var n;if("object"==typeof e)for(n in e)this.set(n,e[n]);else if(e=C(e),"function"==typeof this[e])return this[e](t);return this}function I(e,t,n){var i=""+Math.abs(e),r=t-i.length,o=e>=0;return(o?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+i}function E(e,t,n,i){var r=i;"string"==typeof i&&(r=function(){return this[i]()}),e&&(zi[e]=r),t&&(zi[t[0]]=function(){return I(r.apply(this,arguments),t[1],t[2])}),n&&(zi[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),e)})}function $(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function F(e){var t,n,i=e.match(ji);for(t=0,n=i.length;n>t;t++)i[t]=zi[i[t]]?zi[i[t]]:$(i[t]);return function(r){var o="";for(t=0;n>t;t++)o+=i[t]instanceof Function?i[t].call(r,e):i[t];return o}}function L(e,t){return e.isValid()?(t=N(t,e.localeData()),Ri[t]=Ri[t]||F(t),Ri[t](e)):e.localeData().invalidDate()}function N(e,t){function n(e){return t.longDateFormat(e)||e}var i=5;for(Wi.lastIndex=0;i>=0&&Wi.test(e);)e=e.replace(Wi,n),Wi.lastIndex=0,i-=1;return e}function H(e){return"function"==typeof e&&"[object Function]"===Object.prototype.toString.call(e)}function G(e,t,n){ar[e]=H(t)?t:function(e){return e&&n?n:t}}function j(e,t){return s(ar,e)?ar[e](t._strict,t._locale):new RegExp(W(e))}function W(e){return e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,i,r){return t||n||i||r}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function R(e,t){var n,i=t;for("string"==typeof e&&(e=[e]),"number"==typeof t&&(i=function(e,n){n[t]=v(e)}),n=0;n<e.length;n++)sr[e[n]]=i}function z(e,t){R(e,function(e,n,i,r){i._w=i._w||{},t(e,i._w,i,r)})}function V(e,t,n){null!=t&&s(sr,e)&&sr[e](t,n._a,n,e)}function B(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function q(e){return this._months[e.month()]}function Z(e){return this._monthsShort[e.month()]}function J(e,t,n){var i,r,o;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;12>i;i++){if(r=l([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(o="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[i].test(e))return i;if(n&&"MMM"===t&&this._shortMonthsParse[i].test(e))return i;if(!n&&this._monthsParse[i].test(e))return i}}function K(e,t){var n;return"string"==typeof t&&(t=e.localeData().monthsParse(t),"number"!=typeof t)?e:(n=Math.min(e.date(),B(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e)}function X(e){return null!=e?(K(this,e),n.updateOffset(this,!0),this):A(this,"Month")}function Q(){return B(this.year(),this.month())}function et(e){var t,n=e._a;return n&&-2===d(e).overflow&&(t=n[lr]<0||n[lr]>11?lr:n[cr]<1||n[cr]>B(n[ur],n[lr])?cr:n[dr]<0||n[dr]>24||24===n[dr]&&(0!==n[fr]||0!==n[hr]||0!==n[mr])?dr:n[fr]<0||n[fr]>59?fr:n[hr]<0||n[hr]>59?hr:n[mr]<0||n[mr]>999?mr:-1,d(e)._overflowDayOfYear&&(ur>t||t>cr)&&(t=cr),d(e).overflow=t),e}function tt(e){n.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function nt(e,t){var n=!0;return u(function(){return n&&(tt(e+"\n"+(new Error).stack),n=!1),t.apply(this,arguments)},t)}function it(e,t){_r[e]||(tt(t),_r[e]=!0)}function rt(e){var t,n,i=e._i,r=vr.exec(i);if(r){for(d(e).iso=!0,t=0,n=yr.length;n>t;t++)if(yr[t][1].exec(i)){e._f=yr[t][0];break}for(t=0,n=wr.length;n>t;t++)if(wr[t][1].exec(i)){e._f+=(r[6]||" ")+wr[t][0];break}i.match(ir)&&(e._f+="Z"),St(e)}else e._isValid=!1}function ot(e){var t=br.exec(e._i);return null!==t?void(e._d=new Date(+t[1])):(rt(e),void(e._isValid===!1&&(delete e._isValid,n.createFromInputFallback(e))))}function at(e,t,n,i,r,o,a){var s=new Date(e,t,n,i,r,o,a);return 1970>e&&s.setFullYear(e),s}function st(e){var t=new Date(Date.UTC.apply(null,arguments));return 1970>e&&t.setUTCFullYear(e),t}function ut(e){return lt(e)?366:365}function lt(e){return e%4===0&&e%100!==0||e%400===0}function ct(){return lt(this.year())}function dt(e,t,n){var i,r=n-t,o=n-e.day();return o>r&&(o-=7),r-7>o&&(o+=7),i=At(e).add(o,"d"),{week:Math.ceil(i.dayOfYear()/7),year:i.year()}}function ft(e){return dt(e,this._week.dow,this._week.doy).week}function ht(){return this._week.dow}function mt(){return this._week.doy}function pt(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function gt(e){var t=dt(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function _t(e,t,n,i,r){var o,a=6+r-i,s=st(e,0,1+a),u=s.getUTCDay();return r>u&&(u+=7),n=null!=n?1*n:r,o=1+a+7*(t-1)-u+n,{year:o>0?e:e-1,dayOfYear:o>0?o:ut(e-1)+o}}function vt(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function yt(e,t,n){return null!=e?e:null!=t?t:n}function wt(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function bt(e){var t,n,i,r,o=[];if(!e._d){for(i=wt(e),e._w&&null==e._a[cr]&&null==e._a[lr]&&kt(e),e._dayOfYear&&(r=yt(e._a[ur],i[ur]),e._dayOfYear>ut(r)&&(d(e)._overflowDayOfYear=!0),n=st(r,0,e._dayOfYear),e._a[lr]=n.getUTCMonth(),e._a[cr]=n.getUTCDate()),t=0;3>t&&null==e._a[t];++t)e._a[t]=o[t]=i[t];for(;7>t;t++)e._a[t]=o[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[dr]&&0===e._a[fr]&&0===e._a[hr]&&0===e._a[mr]&&(e._nextDay=!0,e._a[dr]=0),e._d=(e._useUTC?st:at).apply(null,o),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[dr]=24)}}function kt(e){var t,n,i,r,o,a,s;t=e._w,null!=t.GG||null!=t.W||null!=t.E?(o=1,a=4,n=yt(t.GG,e._a[ur],dt(At(),1,4).year),i=yt(t.W,1),r=yt(t.E,1)):(o=e._locale._week.dow,a=e._locale._week.doy,n=yt(t.gg,e._a[ur],dt(At(),o,a).year),i=yt(t.w,1),null!=t.d?(r=t.d,o>r&&++i):r=null!=t.e?t.e+o:o),s=_t(n,i,r,a,o),e._a[ur]=s.year,e._dayOfYear=s.dayOfYear}function St(e){if(e._f===n.ISO_8601)return void rt(e);e._a=[],d(e).empty=!0;var t,i,r,o,a,s=""+e._i,u=s.length,l=0;for(r=N(e._f,e._locale).match(ji)||[],t=0;t<r.length;t++)o=r[t],i=(s.match(j(o,e))||[])[0],i&&(a=s.substr(0,s.indexOf(i)),a.length>0&&d(e).unusedInput.push(a),s=s.slice(s.indexOf(i)+i.length),l+=i.length),zi[o]?(i?d(e).empty=!1:d(e).unusedTokens.push(o),V(o,i,e)):e._strict&&!i&&d(e).unusedTokens.push(o);d(e).charsLeftOver=u-l,s.length>0&&d(e).unusedInput.push(s),d(e).bigHour===!0&&e._a[dr]<=12&&e._a[dr]>0&&(d(e).bigHour=void 0),e._a[dr]=Mt(e._locale,e._a[dr],e._meridiem),bt(e),et(e)}function Mt(e,t,n){var i;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(i=e.isPM(n),i&&12>t&&(t+=12),i||12!==t||(t=0),t):t}function Dt(e){var t,n,i,r,o;if(0===e._f.length)return d(e).invalidFormat=!0,void(e._d=new Date(0/0));for(r=0;r<e._f.length;r++)o=0,t=m({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[r],St(t),f(t)&&(o+=d(t).charsLeftOver,o+=10*d(t).unusedTokens.length,d(t).score=o,(null==i||i>o)&&(i=o,n=t));u(e,n||t)}function xt(e){if(!e._d){var t=Y(e._i);e._a=[t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],bt(e)}}function Tt(e){var t=new p(et(Ct(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Ct(e){var t=e._i,n=e._f;return e._locale=e._locale||x(e._l),null===t||void 0===n&&""===t?h({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),g(t)?new p(et(t)):(r(n)?Dt(e):n?St(e):o(t)?e._d=t:Yt(e),e))}function Yt(e){var t=e._i;void 0===t?e._d=new Date:o(t)?e._d=new Date(+t):"string"==typeof t?ot(e):r(t)?(e._a=a(t.slice(0),function(e){return parseInt(e,10)}),bt(e)):"object"==typeof t?xt(e):"number"==typeof t?e._d=new Date(t):n.createFromInputFallback(e)}function Ot(e,t,n,i,r){var o={};return"boolean"==typeof n&&(i=n,n=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=r,o._l=n,o._i=e,o._f=t,o._strict=i,Tt(o)}function At(e,t,n,i){return Ot(e,t,n,i,!1)}function Pt(e,t){var n,i;if(1===t.length&&r(t[0])&&(t=t[0]),!t.length)return At();for(n=t[0],i=1;i<t.length;++i)(!t[i].isValid()||t[i][e](n))&&(n=t[i]);return n}function Ut(){var e=[].slice.call(arguments,0);return Pt("isBefore",e)}function It(){var e=[].slice.call(arguments,0);return Pt("isAfter",e)}function Et(e){var t=Y(e),n=t.year||0,i=t.quarter||0,r=t.month||0,o=t.week||0,a=t.day||0,s=t.hour||0,u=t.minute||0,l=t.second||0,c=t.millisecond||0;this._milliseconds=+c+1e3*l+6e4*u+36e5*s,this._days=+a+7*o,this._months=+r+3*i+12*n,this._data={},this._locale=x(),this._bubble()}function $t(e){return e instanceof Et}function Ft(e,t){E(e,0,0,function(){var e=this.utcOffset(),n="+";return 0>e&&(e=-e,n="-"),n+I(~~(e/60),2)+t+I(~~e%60,2)})}function Lt(e){var t=(e||"").match(ir)||[],n=t[t.length-1]||[],i=(n+"").match(xr)||["-",0,0],r=+(60*i[1])+v(i[2]);return"+"===i[0]?r:-r}function Nt(e,t){var i,r;return t._isUTC?(i=t.clone(),r=(g(e)||o(e)?+e:+At(e))-+i,i._d.setTime(+i._d+r),n.updateOffset(i,!1),i):At(e).local()}function Ht(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Gt(e,t){var i,r=this._offset||0;return null!=e?("string"==typeof e&&(e=Lt(e)),Math.abs(e)<16&&(e=60*e),!this._isUTC&&t&&(i=Ht(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),r!==e&&(!t||this._changeInProgress?rn(this,Xt(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,n.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?r:Ht(this)}function jt(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Wt(e){return this.utcOffset(0,e)}function Rt(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Ht(this),"m")),this}function zt(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Lt(this._i)),this}function Vt(e){return e=e?At(e).utcOffset():0,(this.utcOffset()-e)%60===0}function Bt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function qt(){if("undefined"!=typeof this._isDSTShifted)return this._isDSTShifted;var e={};if(m(e,this),e=Ct(e),e._a){var t=e._isUTC?l(e._a):At(e._a);this._isDSTShifted=this.isValid()&&y(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Zt(){return!this._isUTC}function Jt(){return this._isUTC}function Kt(){return this._isUTC&&0===this._offset}function Xt(e,t){var n,i,r,o=e,a=null;return $t(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(o={},t?o[t]=e:o.milliseconds=e):(a=Tr.exec(e))?(n="-"===a[1]?-1:1,o={y:0,d:v(a[cr])*n,h:v(a[dr])*n,m:v(a[fr])*n,s:v(a[hr])*n,ms:v(a[mr])*n}):(a=Cr.exec(e))?(n="-"===a[1]?-1:1,o={y:Qt(a[2],n),M:Qt(a[3],n),d:Qt(a[4],n),h:Qt(a[5],n),m:Qt(a[6],n),s:Qt(a[7],n),w:Qt(a[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(r=tn(At(o.from),At(o.to)),o={},o.ms=r.milliseconds,o.M=r.months),i=new Et(o),$t(e)&&s(e,"_locale")&&(i._locale=e._locale),i}function Qt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function en(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function tn(e,t){var n;return t=Nt(t,e),e.isBefore(t)?n=en(e,t):(n=en(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n}function nn(e,t){return function(n,i){var r,o;return null===i||isNaN(+i)||(it(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period)."),o=n,n=i,i=o),n="string"==typeof n?+n:n,r=Xt(n,i),rn(this,r,e),this}}function rn(e,t,i,r){var o=t._milliseconds,a=t._days,s=t._months;r=null==r?!0:r,o&&e._d.setTime(+e._d+o*i),a&&P(e,"Date",A(e,"Date")+a*i),s&&K(e,A(e,"Month")+s*i),r&&n.updateOffset(e,a||s)}function on(e,t){var n=e||At(),i=Nt(n,this).startOf("day"),r=this.diff(i,"days",!0),o=-6>r?"sameElse":-1>r?"lastWeek":0>r?"lastDay":1>r?"sameDay":2>r?"nextDay":7>r?"nextWeek":"sameElse";return this.format(t&&t[o]||this.localeData().calendar(o,this,At(n)))}function an(){return new p(this)}function sn(e,t){var n;return t=C("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=g(e)?e:At(e),+this>+e):(n=g(e)?+e:+At(e),n<+this.clone().startOf(t))}function un(e,t){var n;return t=C("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=g(e)?e:At(e),+e>+this):(n=g(e)?+e:+At(e),+this.clone().endOf(t)<n)}function ln(e,t,n){return this.isAfter(e,n)&&this.isBefore(t,n)}function cn(e,t){var n;return t=C(t||"millisecond"),"millisecond"===t?(e=g(e)?e:At(e),+this===+e):(n=+At(e),+this.clone().startOf(t)<=n&&n<=+this.clone().endOf(t))}function dn(e,t,n){var i,r,o=Nt(e,this),a=6e4*(o.utcOffset()-this.utcOffset());return t=C(t),"year"===t||"month"===t||"quarter"===t?(r=fn(this,o),"quarter"===t?r/=3:"year"===t&&(r/=12)):(i=this-o,r="second"===t?i/1e3:"minute"===t?i/6e4:"hour"===t?i/36e5:"day"===t?(i-a)/864e5:"week"===t?(i-a)/6048e5:i),n?r:_(r)}function fn(e,t){var n,i,r=12*(t.year()-e.year())+(t.month()-e.month()),o=e.clone().add(r,"months");return 0>t-o?(n=e.clone().add(r-1,"months"),i=(t-o)/(o-n)):(n=e.clone().add(r+1,"months"),i=(t-o)/(n-o)),-(r+i)}function hn(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function mn(){var e=this.clone().utc();return 0<e.year()&&e.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():L(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):L(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function pn(e){var t=L(this,e||n.defaultFormat);return this.localeData().postformat(t)}function gn(e,t){return this.isValid()?Xt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function _n(e){return this.from(At(),e)}function vn(e,t){return this.isValid()?Xt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function yn(e){return this.to(At(),e)}function wn(e){var t;return void 0===e?this._locale._abbr:(t=x(e),null!=t&&(this._locale=t),this)}function bn(){return this._locale}function kn(e){switch(e=C(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function Sn(e){return e=C(e),void 0===e||"millisecond"===e?this:this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms")}function Mn(){return+this._d-6e4*(this._offset||0)}function Dn(){return Math.floor(+this/1e3)}function xn(){return this._offset?new Date(+this):this._d}function Tn(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function Cn(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Yn(){return f(this)}function On(){return u({},d(this))}function An(){return d(this).overflow}function Pn(e,t){E(0,[e,e.length],0,t)}function Un(e,t,n){return dt(At([e,11,31+t-n]),t,n).week}function In(e){var t=dt(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==e?t:this.add(e-t,"y")}function En(e){var t=dt(this,1,4).year;return null==e?t:this.add(e-t,"y")}function $n(){return Un(this.year(),1,4)}function Fn(){var e=this.localeData()._week;return Un(this.year(),e.dow,e.doy)}function Ln(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function Nn(e,t){return"string"!=typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"==typeof e?e:null):parseInt(e,10)}function Hn(e){return this._weekdays[e.day()]}function Gn(e){return this._weekdaysShort[e.day()]}function jn(e){return this._weekdaysMin[e.day()]}function Wn(e){var t,n,i;for(this._weekdaysParse=this._weekdaysParse||[],t=0;7>t;t++)if(this._weekdaysParse[t]||(n=At([2e3,1]).day(t),i="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[t]=new RegExp(i.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t}function Rn(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Nn(e,this.localeData()),this.add(e-t,"d")):t}function zn(e){var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Vn(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)}function Bn(e,t){E(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function qn(e,t){return t._meridiemParse}function Zn(e){return"p"===(e+"").toLowerCase().charAt(0)}function Jn(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}function Kn(e,t){t[mr]=v(1e3*("0."+e))}function Xn(){return this._isUTC?"UTC":""}function Qn(){return this._isUTC?"Coordinated Universal Time":""}function ei(e){return At(1e3*e)}function ti(){return At.apply(null,arguments).parseZone()}function ni(e,t,n){var i=this._calendar[e];return"function"==typeof i?i.call(t,n):i}function ii(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])}function ri(){return this._invalidDate}function oi(e){return this._ordinal.replace("%d",e)}function ai(e){return e}function si(e,t,n,i){var r=this._relativeTime[n];return"function"==typeof r?r(e,t,n,i):r.replace(/%d/i,e)}function ui(e,t){var n=this._relativeTime[e>0?"future":"past"];return"function"==typeof n?n(t):n.replace(/%s/i,t)}function li(e){var t,n;for(n in e)t=e[n],"function"==typeof t?this[n]=t:this["_"+n]=t;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function ci(e,t,n,i){var r=x(),o=l().set(i,t);return r[n](o,e)}function di(e,t,n,i,r){if("number"==typeof e&&(t=e,e=void 0),e=e||"",null!=t)return ci(e,t,n,r);var o,a=[];for(o=0;i>o;o++)a[o]=ci(e,o,n,r);return a}function fi(e,t){return di(e,t,"months",12,"month")}function hi(e,t){return di(e,t,"monthsShort",12,"month")}function mi(e,t){return di(e,t,"weekdays",7,"day")}function pi(e,t){return di(e,t,"weekdaysShort",7,"day")}function gi(e,t){return di(e,t,"weekdaysMin",7,"day")}function _i(){var e=this._data;return this._milliseconds=Kr(this._milliseconds),this._days=Kr(this._days),this._months=Kr(this._months),e.milliseconds=Kr(e.milliseconds),e.seconds=Kr(e.seconds),e.minutes=Kr(e.minutes),e.hours=Kr(e.hours),e.months=Kr(e.months),e.years=Kr(e.years),this}function vi(e,t,n,i){var r=Xt(t,n);return e._milliseconds+=i*r._milliseconds,e._days+=i*r._days,e._months+=i*r._months,e._bubble()}function yi(e,t){return vi(this,e,t,1)}function wi(e,t){return vi(this,e,t,-1)}function bi(e){return 0>e?Math.floor(e):Math.ceil(e)}function ki(){var e,t,n,i,r,o=this._milliseconds,a=this._days,s=this._months,u=this._data;return o>=0&&a>=0&&s>=0||0>=o&&0>=a&&0>=s||(o+=864e5*bi(Mi(s)+a),a=0,s=0),u.milliseconds=o%1e3,e=_(o/1e3),u.seconds=e%60,t=_(e/60),u.minutes=t%60,n=_(t/60),u.hours=n%24,a+=_(n/24),r=_(Si(a)),s+=r,a-=bi(Mi(r)),i=_(s/12),s%=12,u.days=a,u.months=s,u.years=i,this}function Si(e){return 4800*e/146097}function Mi(e){return 146097*e/4800}function Di(e){var t,n,i=this._milliseconds;if(e=C(e),"month"===e||"year"===e)return t=this._days+i/864e5,n=this._months+Si(t),"month"===e?n:n/12;switch(t=this._days+Math.round(Mi(this._months)),e){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return 24*t+i/36e5;case"minute":return 1440*t+i/6e4;case"second":return 86400*t+i/1e3;case"millisecond":return Math.floor(864e5*t)+i;default:throw new Error("Unknown unit "+e)}}function xi(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*v(this._months/12)}function Ti(e){return function(){return this.as(e)}}function Ci(e){return e=C(e),this[e+"s"]()}function Yi(e){return function(){return this._data[e]}}function Oi(){return _(this.days()/7)}function Ai(e,t,n,i,r){return r.relativeTime(t||1,!!n,e,i)}function Pi(e,t,n){var i=Xt(e).abs(),r=mo(i.as("s")),o=mo(i.as("m")),a=mo(i.as("h")),s=mo(i.as("d")),u=mo(i.as("M")),l=mo(i.as("y")),c=r<po.s&&["s",r]||1===o&&["m"]||o<po.m&&["mm",o]||1===a&&["h"]||a<po.h&&["hh",a]||1===s&&["d"]||s<po.d&&["dd",s]||1===u&&["M"]||u<po.M&&["MM",u]||1===l&&["y"]||["yy",l];return c[2]=t,c[3]=+e>0,c[4]=n,Ai.apply(null,c)}function Ui(e,t){return void 0===po[e]?!1:void 0===t?po[e]:(po[e]=t,!0)}function Ii(e){var t=this.localeData(),n=Pi(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}function Ei(){var e,t,n,i=go(this._milliseconds)/1e3,r=go(this._days),o=go(this._months);e=_(i/60),t=_(e/60),i%=60,e%=60,n=_(o/12),o%=12;var a=n,s=o,u=r,l=t,c=e,d=i,f=this.asSeconds();return f?(0>f?"-":"")+"P"+(a?a+"Y":"")+(s?s+"M":"")+(u?u+"D":"")+(l||c||d?"T":"")+(l?l+"H":"")+(c?c+"M":"")+(d?d+"S":""):"P0D"}var $i,Fi,Li=n.momentProperties=[],Ni=!1,Hi={},Gi={},ji=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Wi=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ri={},zi={},Vi=/\d/,Bi=/\d\d/,qi=/\d{3}/,Zi=/\d{4}/,Ji=/[+-]?\d{6}/,Ki=/\d\d?/,Xi=/\d{1,3}/,Qi=/\d{1,4}/,er=/[+-]?\d{1,6}/,tr=/\d+/,nr=/[+-]?\d+/,ir=/Z|[+-]\d\d:?\d\d/gi,rr=/[+-]?\d+(\.\d{1,3})?/,or=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,ar={},sr={},ur=0,lr=1,cr=2,dr=3,fr=4,hr=5,mr=6;E("M",["MM",2],"Mo",function(){return this.month()+1}),E("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),E("MMMM",0,0,function(e){return this.localeData().months(this,e)}),T("month","M"),G("M",Ki),G("MM",Ki,Bi),G("MMM",or),G("MMMM",or),R(["M","MM"],function(e,t){t[lr]=v(e)-1}),R(["MMM","MMMM"],function(e,t,n,i){var r=n._locale.monthsParse(e,i,n._strict);null!=r?t[lr]=r:d(n).invalidMonth=e});var pr="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),gr="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),_r={};n.suppressDeprecationWarnings=!1;var vr=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,yr=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],wr=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],br=/^\/?Date\((\-?\d+)/i;n.createFromInputFallback=nt("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),E(0,["YY",2],0,function(){return this.year()%100}),E(0,["YYYY",4],0,"year"),E(0,["YYYYY",5],0,"year"),E(0,["YYYYYY",6,!0],0,"year"),T("year","y"),G("Y",nr),G("YY",Ki,Bi),G("YYYY",Qi,Zi),G("YYYYY",er,Ji),G("YYYYYY",er,Ji),R(["YYYYY","YYYYYY"],ur),R("YYYY",function(e,t){t[ur]=2===e.length?n.parseTwoDigitYear(e):v(e)}),R("YY",function(e,t){t[ur]=n.parseTwoDigitYear(e)}),n.parseTwoDigitYear=function(e){return v(e)+(v(e)>68?1900:2e3)};var kr=O("FullYear",!1);E("w",["ww",2],"wo","week"),E("W",["WW",2],"Wo","isoWeek"),T("week","w"),T("isoWeek","W"),G("w",Ki),G("ww",Ki,Bi),G("W",Ki),G("WW",Ki,Bi),z(["w","ww","W","WW"],function(e,t,n,i){t[i.substr(0,1)]=v(e)});var Sr={dow:0,doy:6};E("DDD",["DDDD",3],"DDDo","dayOfYear"),T("dayOfYear","DDD"),G("DDD",Xi),G("DDDD",qi),R(["DDD","DDDD"],function(e,t,n){n._dayOfYear=v(e)}),n.ISO_8601=function(){};var Mr=nt("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var e=At.apply(null,arguments);return this>e?this:e}),Dr=nt("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var e=At.apply(null,arguments);return e>this?this:e});Ft("Z",":"),Ft("ZZ",""),G("Z",ir),G("ZZ",ir),R(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Lt(e)});var xr=/([\+\-]|\d\d)/gi;n.updateOffset=function(){};var Tr=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Cr=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;Xt.fn=Et.prototype;var Yr=nn(1,"add"),Or=nn(-1,"subtract");n.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var Ar=nt("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});E(0,["gg",2],0,function(){return this.weekYear()%100}),E(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Pn("gggg","weekYear"),Pn("ggggg","weekYear"),Pn("GGGG","isoWeekYear"),Pn("GGGGG","isoWeekYear"),T("weekYear","gg"),T("isoWeekYear","GG"),G("G",nr),G("g",nr),G("GG",Ki,Bi),G("gg",Ki,Bi),G("GGGG",Qi,Zi),G("gggg",Qi,Zi),G("GGGGG",er,Ji),G("ggggg",er,Ji),z(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,i){t[i.substr(0,2)]=v(e)}),z(["gg","GG"],function(e,t,i,r){t[r]=n.parseTwoDigitYear(e)}),E("Q",0,0,"quarter"),T("quarter","Q"),G("Q",Vi),R("Q",function(e,t){t[lr]=3*(v(e)-1)}),E("D",["DD",2],"Do","date"),T("date","D"),G("D",Ki),G("DD",Ki,Bi),G("Do",function(e,t){return e?t._ordinalParse:t._ordinalParseLenient}),R(["D","DD"],cr),R("Do",function(e,t){t[cr]=v(e.match(Ki)[0],10)});var Pr=O("Date",!0);E("d",0,"do","day"),E("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),E("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),E("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),E("e",0,0,"weekday"),E("E",0,0,"isoWeekday"),T("day","d"),T("weekday","e"),T("isoWeekday","E"),G("d",Ki),G("e",Ki),G("E",Ki),G("dd",or),G("ddd",or),G("dddd",or),z(["dd","ddd","dddd"],function(e,t,n){var i=n._locale.weekdaysParse(e);null!=i?t.d=i:d(n).invalidWeekday=e}),z(["d","e","E"],function(e,t,n,i){t[i]=v(e)});var Ur="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ir="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Er="Su_Mo_Tu_We_Th_Fr_Sa".split("_");E("H",["HH",2],0,"hour"),E("h",["hh",2],0,function(){return this.hours()%12||12}),Bn("a",!0),Bn("A",!1),T("hour","h"),G("a",qn),G("A",qn),G("H",Ki),G("h",Ki),G("HH",Ki,Bi),G("hh",Ki,Bi),R(["H","HH"],dr),R(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),R(["h","hh"],function(e,t,n){t[dr]=v(e),d(n).bigHour=!0});var $r=/[ap]\.?m?\.?/i,Fr=O("Hours",!0);E("m",["mm",2],0,"minute"),T("minute","m"),G("m",Ki),G("mm",Ki,Bi),R(["m","mm"],fr);var Lr=O("Minutes",!1);E("s",["ss",2],0,"second"),T("second","s"),G("s",Ki),G("ss",Ki,Bi),R(["s","ss"],hr);var Nr=O("Seconds",!1);E("S",0,0,function(){return~~(this.millisecond()/100)}),E(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),E(0,["SSS",3],0,"millisecond"),E(0,["SSSS",4],0,function(){return 10*this.millisecond()}),E(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),E(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),E(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),E(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),E(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),T("millisecond","ms"),G("S",Xi,Vi),G("SS",Xi,Bi),G("SSS",Xi,qi);var Hr;for(Hr="SSSS";Hr.length<=9;Hr+="S")G(Hr,tr);for(Hr="S";Hr.length<=9;Hr+="S")R(Hr,Kn);var Gr=O("Milliseconds",!1);E("z",0,0,"zoneAbbr"),E("zz",0,0,"zoneName");var jr=p.prototype;jr.add=Yr,jr.calendar=on,jr.clone=an,jr.diff=dn,jr.endOf=Sn,jr.format=pn,jr.from=gn,jr.fromNow=_n,jr.to=vn,jr.toNow=yn,jr.get=U,jr.invalidAt=An,jr.isAfter=sn,jr.isBefore=un,jr.isBetween=ln,jr.isSame=cn,jr.isValid=Yn,jr.lang=Ar,jr.locale=wn,jr.localeData=bn,jr.max=Dr,jr.min=Mr,jr.parsingFlags=On,jr.set=U,jr.startOf=kn,jr.subtract=Or,jr.toArray=Tn,jr.toObject=Cn,jr.toDate=xn,jr.toISOString=mn,jr.toJSON=mn,jr.toString=hn,jr.unix=Dn,jr.valueOf=Mn,jr.year=kr,jr.isLeapYear=ct,jr.weekYear=In,jr.isoWeekYear=En,jr.quarter=jr.quarters=Ln,jr.month=X,jr.daysInMonth=Q,jr.week=jr.weeks=pt,jr.isoWeek=jr.isoWeeks=gt,jr.weeksInYear=Fn,jr.isoWeeksInYear=$n,jr.date=Pr,jr.day=jr.days=Rn,jr.weekday=zn,jr.isoWeekday=Vn,jr.dayOfYear=vt,jr.hour=jr.hours=Fr,jr.minute=jr.minutes=Lr,jr.second=jr.seconds=Nr,jr.millisecond=jr.milliseconds=Gr,jr.utcOffset=Gt,jr.utc=Wt,jr.local=Rt,jr.parseZone=zt,jr.hasAlignedHourOffset=Vt,jr.isDST=Bt,jr.isDSTShifted=qt,jr.isLocal=Zt,jr.isUtcOffset=Jt,jr.isUtc=Kt,jr.isUTC=Kt,jr.zoneAbbr=Xn,jr.zoneName=Qn,jr.dates=nt("dates accessor is deprecated. Use date instead.",Pr),jr.months=nt("months accessor is deprecated. Use month instead",X),jr.years=nt("years accessor is deprecated. Use year instead",kr),jr.zone=nt("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",jt);var Wr=jr,Rr={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},zr={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Vr="Invalid date",Br="%d",qr=/\d{1,2}/,Zr={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Jr=w.prototype;Jr._calendar=Rr,Jr.calendar=ni,Jr._longDateFormat=zr,Jr.longDateFormat=ii,Jr._invalidDate=Vr,Jr.invalidDate=ri,Jr._ordinal=Br,Jr.ordinal=oi,Jr._ordinalParse=qr,Jr.preparse=ai,Jr.postformat=ai,Jr._relativeTime=Zr,Jr.relativeTime=si,Jr.pastFuture=ui,Jr.set=li,Jr.months=q,Jr._months=pr,Jr.monthsShort=Z,Jr._monthsShort=gr,Jr.monthsParse=J,Jr.week=ft,Jr._week=Sr,Jr.firstDayOfYear=mt,Jr.firstDayOfWeek=ht,Jr.weekdays=Hn,Jr._weekdays=Ur,Jr.weekdaysMin=jn,Jr._weekdaysMin=Er,Jr.weekdaysShort=Gn,Jr._weekdaysShort=Ir,Jr.weekdaysParse=Wn,Jr.isPM=Zn,Jr._meridiemParse=$r,Jr.meridiem=Jn,M("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===v(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),n.lang=nt("moment.lang is deprecated. Use moment.locale instead.",M),n.langData=nt("moment.langData is deprecated. Use moment.localeData instead.",x);var Kr=Math.abs,Xr=Ti("ms"),Qr=Ti("s"),eo=Ti("m"),to=Ti("h"),no=Ti("d"),io=Ti("w"),ro=Ti("M"),oo=Ti("y"),ao=Yi("milliseconds"),so=Yi("seconds"),uo=Yi("minutes"),lo=Yi("hours"),co=Yi("days"),fo=Yi("months"),ho=Yi("years"),mo=Math.round,po={s:45,m:45,h:22,d:26,M:11},go=Math.abs,_o=Et.prototype;_o.abs=_i,_o.add=yi,_o.subtract=wi,_o.as=Di,_o.asMilliseconds=Xr,_o.asSeconds=Qr,_o.asMinutes=eo,_o.asHours=to,_o.asDays=no,_o.asWeeks=io,_o.asMonths=ro,_o.asYears=oo,_o.valueOf=xi,_o._bubble=ki,_o.get=Ci,_o.milliseconds=ao,_o.seconds=so,_o.minutes=uo,_o.hours=lo,_o.days=co,_o.weeks=Oi,_o.months=fo,_o.years=ho,_o.humanize=Ii,_o.toISOString=Ei,_o.toString=Ei,_o.toJSON=Ei,_o.locale=wn,_o.localeData=bn,_o.toIsoString=nt("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Ei),_o.lang=Ar,E("X",0,0,"unix"),E("x",0,0,"valueOf"),G("x",nr),G("X",rr),R("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))
}),R("x",function(e,t,n){n._d=new Date(v(e))}),n.version="2.10.6",i(At),n.fn=Wr,n.min=Ut,n.max=It,n.utc=l,n.unix=ei,n.months=fi,n.isDate=o,n.locale=M,n.invalid=h,n.duration=Xt,n.isMoment=g,n.weekdays=mi,n.parseZone=ti,n.localeData=x,n.isDuration=$t,n.monthsShort=hi,n.weekdaysMin=gi,n.defineLocale=D,n.weekdaysShort=pi,n.normalizeUnits=C,n.relativeTimeThreshold=Ui;var vo=n;return vo})},{}],48:[function(e,t){function n(e,t){var n=t||0,r=i;return r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]}for(var i=[],r=0;256>r;++r)i[r]=(r+256).toString(16).substr(1);t.exports=n},{}],49:[function(e,t){(function(e){var n,i=e.crypto||e.msCrypto;if(i&&i.getRandomValues){var r=new Uint8Array(16);n=function(){return i.getRandomValues(r),r}}if(!n){var o=new Array(16);n=function(){for(var e,t=0;16>t;t++)0===(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}t.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],50:[function(e,t){function n(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"==e?new Array(16):null,e=null),e=e||{};var a=e.random||(e.rng||i)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;16>s;++s)t[o+s]=a[s];return t||r(a)}var i=e(49),r=e(48);t.exports=n},{48:48,49:49}]},{},[31]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1lbXJpc2UtYnVuZGxlLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJDQUFBLFFBQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxRQUFBLEdBQUEsRUFBQSxHQUFBLElBQUEsRUFBQSxHQUFBLENBQUEsSUFBQSxFQUFBLEdBQUEsQ0FBQSxHQUFBLEdBQUEsa0JBQUEsVUFBQSxPQUFBLEtBQUEsR0FBQSxFQUFBLE1BQUEsR0FBQSxHQUFBLEVBQUEsSUFBQSxFQUFBLE1BQUEsR0FBQSxHQUFBLEVBQUEsSUFBQSxHQUFBLEdBQUEsT0FBQSx1QkFBQSxFQUFBLElBQUEsTUFBQSxHQUFBLEtBQUEsbUJBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxJQUFBLFdBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxFQUFBLFFBQUEsU0FBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLE9BQUEsR0FBQSxFQUFBLEVBQUEsSUFBQSxFQUFBLEVBQUEsUUFBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLE1BQUEsR0FBQSxHQUFBLFFBQUEsSUFBQSxHQUFBLEdBQUEsa0JBQUEsVUFBQSxRQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxJQUFBLEVBQUEsRUFBQSxHQUFBLE9BQUEsS0FBQSxHQUFBLFNBQUEsRUFBQSxHQUNBLEVBQUEsUUFBQSxTQUFBLEVBQUEsR0FFQSxZQWdEQSxTQUFBLEtBQ0EsTUFBQSxHQUFBLE1BQUEsRUFBQSxLQUFBLFNBQ0EsaUJBRUEsaUJBSUEsUUFBQSxLQUNBLEdBQUEsR0FBQSxhQUFBLFFBQUEsb0JBS0EsT0FKQSxLQUNBLEVBQUEsU0FDQSxhQUFBLFFBQUEsb0JBQUEsSUFFQSxFQTVEQSxFQUFBLFVBQUEsTUFBQSxXQWlDQSxHQWhDQSxFQUFBLGtCQUFBLEdBQUEsUUFBQSxXQUNBLFVBQUEsTUFBQSxLQUNBLFNBQUEsV0FDQSxrQkFBQSxRQUtBLEVBQUEsZUFBQSxHQUFBLFFBQUEsV0FDQSxVQUFBLE1BQUEsS0FDQSxTQUFBLFNBQ0Esa0JBQUEsUUFLQSxFQUFBLFVBQUEsR0FBQSxTQUFBLFdBQ0EsVUFBQSxNQUFBLEtBQ0EsU0FBQSxRQUNBLGtCQUFBLFFBS0EsRUFBQSxTQUFBLEdBQUEsU0FBQSxXQUNBLFVBQUEsTUFBQSxLQUNBLFNBQUEsUUFDQSxrQkFBQSxRQUtBLEVBQUEsVUFBQSxFQUFBLFNBQUEsZUFBQSxDQUNBLEdBQUEsR0FBQSxFQUFBLFNBQUEsZUFBQSxhQUNBLEdBQUEsU0FBQSxlQUFBLE9BRUEsRUFBQSxTQUFBLGVBQUEsa0JBQUEsSUFFQSxhQUFBLFdBQUEscUJBRUEsVUFBQSxNQUFBLEVBQUEsRUFBQSxTQUFBLHlCQXVCQSxHQUFBLFNBQUEsRUFBQSxHQUNBLEVBQUEsUUFBQSxTQUFBLEVBQUEsR0FFQSxZQWdCQSxTQUFBLEdBQUEsR0FDQSxHQUFBLElBQUEsU0FBQSxhQUNBLEdBQUEsQ0FLQSxPQUpBLEdBQUEsS0FBQSxFQUFBLFNBQUEsRUFBQSxHQUNBLE1BQUEsR0FBQSxRQUFBLEdBQUEsSUFBQSxHQUFBLEdBQUEsR0FBQSxTQUdBLEVBckJBLEdBQUEsR0FBQSxFQUFBLElBQUEsR0FDQSxFQUFBLFVBRUEsR0FBQSxVQUFBLE1BQUEsV0FDQSxHQUFBLEVBQUEsY0FBQSxHQUFBLENBQ0EsR0FBQSxHQUFBLEVBQUEsa0JBQUEsRUFDQSxHQUFBLGVBQUEsRUFBQSxZQUVBLFVBQUEsTUFBQSxFQUFBLEVBQUEsU0FBQSxJQUVBLEVBQUEsSUFBQSxFQUFBLGlCQUFBLGtCQWVBLEdBQUEsS0FBQSxHQUFBLFNBQUEsRUFBQSxHQUdBLEVBQUEsUUFBQSxTQUFBLEVBQUEsR0FDQSxZQUVBLElBQUEsSUFDQSxPQUNBLFFBQUEsUUFDQSxLQUFBLFNBSUEsR0FBQSxJQUFBLFdBQ0EsR0FBQSxHQUFBLEVBQUEsS0FDQSxPQUFBLEdBQUEsS0FBQSxRQUFBLDBCQUFBLEVBQUEsUUFDQSxFQUFBLE9BQUEsUUFBQSxnQ0FDQSxFQUFBLE9BQUEsUUFBQSxpQ0FDQSxFQUFBLE9BQUEsUUFBQSwrQkFBQSxHQUFBLFlBQ0EsRUFBQSxPQUFBLFFBQUEsK0JBQUEsRUFBQSxRQUVBLEVBQUEsT0FBQSxRQUFBLDBDQUtBLEdBQUEsU0FBQSxFQUFBLEdBQ0EsRUFBQSxRQUFBLFNBQUEsRUFBQSxFQUFBLEdBRUEsWUFFQSxHQUFBLFNBQ0EsZUFBQSxXQUNBLEdBQUEsR0FBQSxFQUFBLE1BQUEsU0FBQSxZQVFBLE9BTkEsR0FBQSxNQUFBLE9BQ0EsR0FBQSxvQkFDQSxFQUFBLE1BQUEsV0FDQSxXQUFBLEVBQUEsUUFBQSxTQUFBLE1BR0EsR0FHQSxTQUFBLFNBQUEsR0FDQSxFQUFBLE1BQ0EsSUFBQSxzQkFDQSxNQUFBLFVBQUEsR0FDQSxLQUFBLE9BQ0EsUUFBQSxTQUFBLEdBQ0EsRUFBQSxVQUlBLGFBQUEsV0FBQSxvQkFDQSxFQUFBLEVBQUEsU0FBQSxLQUFBLGNBQUEsVUFPQSxFQUFBLFNBQUEsTUFBQSxXQUNBLEVBQUEsVUFBQSxHQUFBLFFBQUEsZ0NBQUEsRUFBQSxRQUFBLHdCQUtBLEdBQUEsU0FBQSxFQUFBLEdBQ0EsRUFBQSxRQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxZQUVBLFNBQUEsR0FBQSxHQUNBLEtBQUEsTUFBQSxFQUFBLEtBQUEsRUFBQSxPQUNBLEtBQUEsU0FBQSxFQUFBLEtBQUEsRUFBQSxVQUNBLEtBQUEsU0FBQSxFQUFBLEtBQUEsRUFBQSxVQUNBLEtBQUEsT0FBQSxFQUFBLEtBQUEsRUFBQSxRQUNBLEtBQUEsR0FBQSxFQUFBLEtBQUEsRUFBQSxLQUNBLEtBQUEsVUFBQSxFQUFBLEtBQUEsRUFBQSxXQUNBLEtBQUEsU0FBQSxFQUFBLE1BQUEsR0FHQSxRQUFBLEdBQUEsR0FDQSxNQUFBLEdBQUEsc0JBQ0EsRUFBQSxHQUFBLE9BQUEsSUFBQSxTQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxPQUFBLEVBQUEsS0FBQSxHQUNBLEVBQUEsRUFBQSwwQkFBQSxrQkFDQSxFQUFBLElBQUEsR0FBQSxFQUFBLGFBQUEsaUJBRUEsT0FBQSxHQUFBLE1BQUEsSUFBQSxFQUFBLEtBQUEsUUFBQSxJQUNBLEVBQUEsZ0JBQ0EsRUFBQSxHQUFBLGFBQUEsRUFBQSxTQUFBLEVBQUEsV0FBQSxLQUFBLEdBQ0EsRUFBQSxPQUFBLElBQUEsRUFBQSxZQUNBLEVBQUEscUJBQ0EsRUFBQSxHQUFBLGFBQUEsR0FBQSxFQUFBLFNBQUEsRUFBQSxXQUFBLEtBQ0EsRUFBQSxRQUNBLFlBQUEsWUFDQSxlQUFBLEVBQUEsS0FDQSxpQkFBQSxTQUNBLEVBQUEsWUFDQSxFQUFBLEdBQUEsYUFBQSxFQUFBLEVBQUEsUUFFQSxFQUFBLFFBQUEsUUFBQSxJQUFBLEVBQUEsT0FBQSxXQUFBLFFBQUEsU0FBQSxFQUFBLGtCQU1BLFFBQUEsR0FBQSxFQUFBLEdBQ0EsR0FBQSxFQUFBLE9BQUEsRUFBQSxLQUFBLEdBQUEsUUFFQSxJQUFBLEdBQUEsRUFBQSxLQUNBLFFBQUEsRUFBQSxRQUFBLEVBQUEsYUFBQSxHQUNBLGFBQUEsV0FBQSxFQUFBLFVBQUEsSUFDQSxXQUFBLFdBQUEsRUFBQSxVQUFBLEtBQ0EsR0FBQSxFQUFBLFdBQUEsWUFBQSxjQUVBLEVBQUEsRUFBQSxLQUFBLFFBQUEsRUFBQSxRQUFBLEVBQUEsYUFBQSxJQUFBLEdBQUEsVUFFQSxRQUFBLEVBQUEsWUFBQSxFQUFBLEdBR0EsUUFBQSxHQUFBLEdBQ0EsTUFBQSxHQUFBLHdCQUFBLEVBQUEsZ0JBQ0EsRUFBQSxvQkFBQSxTQUFBLEVBQUEsR0FBQSxTQUFBLFVBQUEsS0FDQSxRQUFBLEVBQUEsUUFBQSxFQUFBLFVBQUEsUUFBQSxLQUFBLElBQUEsR0FBQSxTQUNBLEVBQUEsb0JBQUEsVUFBQSxFQUFBLEdBQUEsU0FBQSxVQUFBLEtBQ0EsUUFBQSxFQUFBLFFBQUEsRUFBQSxVQUFBLFNBQUEsS0FBQSxJQUFBLEdBQUEsVUFDQSxFQUFBLG9CQUFBLFlBQUEsRUFBQSxHQUFBLFNBQUEsVUFBQSxLQUNBLFFBQUEsRUFBQSxRQUFBLEVBQUEsVUFBQSxXQUFBLEtBQUEsSUFBQSxHQUFBLGdCQUlBLFFBQUEsR0FBQSxHQUNBLE1BQUEsS0FBQSxFQUFBLEdBQUEsT0FBQSxRQUFBLEVBQUEsR0FBQSxPQUFBLE9BQUEsRUFBQSxHQUFBLFlBQUEsR0FBQSxFQUFBLEdBQUEsZ0JBR0EsRUFBQSxxQkFDQSxFQUFBLEtBQUEsUUFBQSxXQUNBLEVBQUEsY0FDQSxHQUFBLFdBSUEsRUFBQSxlQUFBLFNBQUEsR0FDQSxHQUFBLElBQ0EsSUFDQSxhQUFBLEVBQUEsS0FBQSxFQUFBLGNBQ0EsUUFBQSxFQUFBLEtBQUEsRUFBQSxTQUFBLElBQ0EsU0FBQSxFQUFBLEtBQUEsRUFBQSxVQUNBLFdBQUEsRUFBQSxLQUFBLEVBQUEsWUFDQSxPQUFBLEVBQUEsS0FBQSxRQUNBLFdBQUEsRUFBQSxLQUFBLEVBQUEsT0FDQSxPQUFBLEVBQUEsS0FBQSxHQUNBLEtBQUEsRUFBQSxTQUNBLFdBQUEsRUFBQSxLQUFBLE9BQUEsU0FBQSxLQUFBLFFBQUEsVUFBQSxLQWtJQSxPQTlIQSxHQUFBLFdBQUEsV0FDQSxHQUFBLElBQ0EsR0FBQSxFQUFBLEdBQ0EsVUFBQSxXQUNBLEdBQUEsR0FBQSxLQUFBLEdBQ0EsRUFBQSxFQUFBLE9BQUEsT0FDQSxFQUFBLEVBQUEsVUFDQSxFQUFBLEVBQUEsYUFFQSxFQUFBLEVBQUEsT0FLQSxFQUFBLEVBQUEsRUFBQSxPQUFBLEdBQ0EsRUFBQSxHQUFBLEVBQUEsT0FBQSxFQUFBLEtBQUEsSUFDQSxFQUFBLFdBQUEsRUFBQSxNQUVBLElBQUEsRUFBQSxDQUVBLEdBQUEsR0FBQSxFQUFBLEtBRUEsSUFBQSxFQUVBLEdBQUEsRUFBQSxXQUFBLEVBQUEsT0FBQSxFQUFBLFlBQ0EsR0FBQSxHQUdBLEdBQUEsR0FBQSxRQUFBLHlCQUFBLEVBQUEsU0FBQSxFQUNBLElBQUEsRUFBQSxDQUNBLEdBQUEsR0FBQSxTQUFBLE9BQUEsU0FBQSxLQUFBLE1BQUEsZ0JBQUEsR0FDQSxHQUFBLElBQ0EsRUFBQSxFQUFBLEVBQUEsR0FHQSxJQUFBLElBQ0EsR0FBQSxRQUFBLGFBQUEsSUFHQSxFQUFBLFNBQ0EsT0FBQSxNQUNBLElBQUEsRUFBQSxTQUFBLEVBQ0EsY0FBQSxTQUFBLEdBQ0EsTUFBQSxHQUFBLE1BRUEsS0FBQSxJQUNBLEtBQUEsU0FBQSxHQUNBLEdBQUEsR0FBQSxPQUFBLFNBQUEsU0FBQSxTQUNBLEVBQUEsRUFBQSxFQUNBLEVBQUEsRUFBQSxDQUVBLElBQUEsRUFBQSxFQUFBLENBQ0EsR0FBQSxHQUFBLFVBQUEsRUFBQSxHQUFBLEdBQUEsRUFDQSxFQUFBLEVBQUEsUUFBQSxLQUFBLG1CQUVBLEdBQUEsT0FBQSxFQUNBLEVBQUEsS0FBQSxPQUFBLEVBQUEsR0FFQSxFQUFBLFFBQUEsT0FBQSxFQUFBLFVBQUEsS0FBQSxNQUFBLFFBQUEsS0FBQSxPQUFBLEVBQUEsSUFJQSxHQUFBLElBQUEsRUFBQSxPQUFBLFFBQUEsRUFBQSxPQUFBLE9BQUEsRUFBQSxHQUFBLFlBQUEsRUFBQSxDQUNBLEdBQUEsR0FBQSxVQUFBLEVBQUEsR0FBQSxHQUFBLEVBQ0EsRUFBQSxFQUFBLFFBQUEsS0FBQSxtQkFFQSxHQUFBLE9BQUEsRUFDQSxFQUFBLEtBQUEsT0FBQSxFQUFBLEdBRUEsRUFBQSxRQUFBLE9BQUEsRUFBQSxVQUFBLEtBQUEsTUFBQSxRQUFBLEtBQUEsT0FBQSxFQUFBLElBSUEsTUFBQSxLQUFBLEVBQ0EsRUFBQSxLQUFBLElBSUEsR0FBQSxFQUFBLFdBQUEsRUFBQSxPQUFBLEVBQUEsUUFDQSxFQUFBLEtBQUEsT0FFQSxHQUFBLEtBQUEsRUFBQSxPQUFBLFFBR0EsYUFBQSxTQUFBLEdBQ0EsRUFBQSxNQUNBLElBQUEsb0JBQ0EsTUFBQSxXQUFBLEVBQUEsUUFDQSxLQUFBLFdBQ0EsRUFBQSxXQUFBLEVBQUEsY0FFQSxTQUFBLEdBQ0EsRUFBQSxNQUFBLE1BQUEsRUFBQSxVQUdBLFVBQUEsU0FBQSxHQUNBLEtBQUEsR0FBQSxPQUFBLEdBQ0EsS0FBQSxHQUFBLFNBQ0EsS0FBQSxhQUtBLE9BREEsR0FBQSxVQUFBLEdBQ0EsR0FHQSxFQUFBLEtBQUEsU0FBQSxHQUNBLE1BQUEsR0FBQSxnQkFFQSxFQUFBLHVCQUNBLEVBQUEsMEJBQ0EsRUFBQSx3QkFBQSxHQUFBLGtCQUdBLEVBQUEsR0FBQSxXQUFBLEVBQUEsTUFFQSxFQUFBLHdCQUNBLEVBQUEsR0FDQSxFQUFBLEdBQUEsYUFBQSxFQUFBLEdBQ0EsRUFBQSxxQkFDQSxFQUFBLEtBQUEsS0FBQSxFQUFBLEdBQUEsZ0JBQUEsR0FBQSxnQkFNQSxTQUlBLEdBQUEsU0FBQSxFQUFBLEdBQ0EsRUFBQSxRQUFBLFNBQUEsRUFBQSxHQUVBLFlBRUEsR0FBQSx1QkFFQSxJQUFBLEdBQUEsRUFBQSxxQkFFQSxFQUFBLElBRUEsR0FBQSxRQUFBLEVBQUEsRUFBQSxzQkFFQSxpQkFBQSxXQUNBLEVBQUEsdUJBQ0EsRUFBQSx3QkFDQSxFQUFBLGdCQUVBLHFCQUFBLFdBQ0EsRUFBQSxZQUFBLEdBQUEsUUFBQSwyQkFBQSxTQUFBLEdBQ0EsRUFBQSxnQkFDQSxJQUFBLEdBQUEsRUFBQSxNQUNBLEVBQUEsRUFBQSxRQUFBLFdBQ0EsRUFBQSxFQUFBLFFBQUEsR0FDQSxFQUFBLEVBQUEsS0FBQSxVQUNBLEdBQ0EsT0FBQSxFQUVBLEdBQUEsS0FBQSxRQUFBLEVBQUEsR0FBQSxFQUFBLEtBQUEsT0FFQSxFQUFBLFlBQUEsV0FDQSxFQUFBLE9BQUEsTUFBQSxTQUFBLFVBQUEsV0FBQSxZQUFBLFVBQ0EsRUFBQSxLQUFBLEVBQUEsTUFBQSxRQUVBLEVBQUEsZ0JBQUEsRUFBQSxFQUFBLHNCQUNBLEdBQUEsUUFBQSxRQUFBLFNBQUEsR0FDQSxFQUFBLGtCQUNBLEVBQUEsTUFBQSxTQUFBLG9CQUFBLFdBSUEsc0JBQUEsV0FDQSxFQUFBLFVBQUEsMkJBQ0EsRUFBQSxRQUFBLE9BQUEsVUFDQSxFQUFBLGdCQUFBLEtBQUEsRUFBQSw2QkFHQSxFQUFBLFFBQUEsT0FBQSxXQUNBLEVBQUEsVUFBQSw0QkFDQSxFQUFBLFFBQUEsT0FBQSxVQUNBLEVBQUEsZ0JBQUEsS0FBQSxFQUFBLGdDQUtBLFVBQUEsU0FBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLFFBQUEsWUFDQSxFQUFBLEVBQUEsRUFBQSxRQUFBLFNBQ0EsRUFBQSxFQUFBLEdBQUEsUUFDQSxPQUFBLFFBQUEsR0FBQSxFQUNBLEVBQUEsS0FBQSxHQUVBLGFBQUEsV0FDQSxtQkFBQSxNQUNBLEVBQUEsb0JBQUEsR0FBQSxRQUFBLFNBQUEsR0FDQSxFQUFBLG1CQUVBLEdBQUEsT0FBQSxvQkFBQSxHQUFBLFFBQUEsV0FDQSxHQUFBLEdBQUEsR0FBQSxPQUFBLHNCQUNBLEtBQUEsVUFBQSxLQUNBLEtBQUEsUUFBQSw4QkFDQSxPQUFBLFdBQUEsVUFDQSxFQUFBLG1DQUNBLEVBQUEsRUFBQSxRQUFBLEVBQUEsSUFDQSxFQUFBLDZCQUFBLE9BQUEsS0FBQSxHQUNBLEVBQUEsYUFBQSxFQUFBLFdBRUEsSUFBQSxPQUFBLGNBQUEsS0FBQSxHQUNBLEVBQUEsZ0JBSUEsVUFBQSxXQUNBLFFBQUEsTUFBQSxTQUNBLFFBQUEsaUJBQ0EsWUFBQSxFQUNBLFlBQUEsRUFDQSxVQUFBLEVBQ0EsVUFBQSxFQUNBLFNBQUEsaUJBQ0EsUUFBQSxFQUNBLFdBQUEsR0FBQSx5RUFDQSxTQUFBLEVBQ0EsZ0JBQUEsR0FFQSxXQUNBLEVBQUEsa0JBR0EsYUFBQSxXQUNBLEVBQUEsa0JBQUEsUUFBQSxTQUFBLEVBQUEsZ0NBRUEsbUJBQUEsU0FBQSxHQUNBLEVBQUEsYUFBQSxFQUFBLEtBQ0EsRUFBQSxnQkFFQSwyQkFBQSxTQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsZUFBQSxFQUNBLEdBQUEsU0FBQSxVQUFBLGlCQUNBLEtBQUEsS0FDQSxNQUFBLE9BQ0EsYUFBQSx5Q0FDQSxhQUFBLEVBQ0EsZUFDQSxRQUNBLGtCQUFBLEVBQ0EsYUFBQSxFQUNBLFNBQUEsR0FDQSxtQkFBQSxJQUNBLFlBQUEsR0FFQSxZQUVBLE1BQUEsR0FBQSxtQkFDQSxTQUFBLFNBQ0EsZUFBQSxFQUNBLFVBQUEsR0FDQSxRQUFBLEdBQ0EsUUFBQSxJQUdBLE1BQUEsR0FBQSw0QkFDQSxTQUFBLE9BQ0EsZUFBQSxFQUNBLFVBQUEsR0FDQSxRQUFBLEtBR0EsY0FBQSxHQUNBLFNBRUEsR0FBQSxVQUNBLFlBQUEsR0FBQSxxRUFDQSxLQUFBLDZCQUNBLEdBQUEsU0FDQSxLQUFBLGtCQUVBLE9BQUEsU0FDQSxVQUFBLFVBQ0EsVUFBQSxFQUNBLE1BQUEsR0FBQSxXQUNBLE9BQUEsV0FDQSxPQUFBLFdBQ0EsV0FBQSxnQkFDQSxXQUFBLEVBQ0Esa0JBQUEsR0FDQSxjQUFBLEdBQ0EsY0FBQSxJQUlBLEdBQUEsZ0JBQ0EsWUFBQSxHQUFBLHFFQUNBLEtBQUEsbUNBQ0EsR0FBQSxTQUNBLEtBQUEsa0JBRUEsT0FBQSxTQUNBLFVBQUEsVUFDQSxVQUFBLEVBQ0EsTUFBQSxHQUFBLGtCQUNBLE9BQUEsaUJBQ0EsT0FBQSxpQkFDQSxXQUFBLHNCQUNBLFdBQUEsRUFDQSxrQkFBQSxHQUNBLGNBQUEsR0FDQSxjQUFBLElBSUEsR0FBQSxZQUNBLFlBQUEsR0FBQSxxRUFDQSxLQUFBLCtCQUNBLEdBQUEsU0FDQSxLQUFBLGtCQUVBLE9BQUEsU0FDQSxVQUFBLFVBQ0EsVUFBQSxFQUNBLE1BQUEsR0FBQSxhQUNBLE9BQUEsYUFDQSxPQUFBLGFBQ0EsV0FBQSxrQkFDQSxXQUFBLEVBQ0Esa0JBQUEsR0FDQSxjQUFBLEdBQ0EsY0FBQSxJQUdBLGdCQUNBLGdCQUFBLFVBQ0EscUJBQUEsS0FHQSxFQUFBLGtCQUNBLElBQUEsYUFBQSxXQUNBLFNBQUEsS0FBQSxvQkFBQSxRQUVBLGdCQUFBLFNBQUEsRUFBQSxHQUNBLEVBQUEsTUFDQSxLQUFBLE1BQ0EsSUFBQSxtQ0FDQSxPQUFBLEVBQ0EsS0FBQSxFQUNBLFFBQUEsU0FBQSxHQUNBLGtCQUFBLElBQUEsRUFBQSxFQUFBLFVBSUEsdUJBQUEsV0FFQSxFQUFBLE1BQ0EsS0FBQSxNQUNBLElBQUEsdUNBQ0EsUUFBQSxTQUFBLEdBRUEsR0FBQSxHQUFBLEVBQUEsbUJBQ0EsR0FBQSxLQUFBLElBQ0EsR0FBQSxTQUFBLE9BQUEsZ0JBQ0EsS0FBQSxFQUNBLEtBQUEsRUFBQSxnQkFDQSxVQUFBLE1BQ0EsV0FBQSxhQUNBLFVBQUEsa0JBSUEsSUFHQSxHQUNBLEVBSkEsRUFBQSxFQUFBLDJCQUNBLEVBQUEsRUFBQSwyQkFDQSxFQUFBLEVBQUEsMEJBSUEsR0FBQSxFQUFBLG1CQUNBLEVBQUEsR0FBQSxHQUFBLEVBQUEsTUFBQSxRQUNBLEVBQUEsT0FBQSxLQUFBLFNBQUEsS0FBQSx1QkFBQSxFQUFBLDRCQUFBLEVBQUEsV0FFQSxFQUFBLEVBQUEsZUFDQSxFQUFBLEdBQUEsR0FBQSxFQUFBLE1BQUEsUUFDQSxFQUFBLE9BQUEsS0FBQSxTQUFBLEtBQUEsdUJBQUEsRUFBQSw0QkFBQSxFQUFBLFdBRUEsRUFBQSxFQUFBLGVBQ0EsRUFBQSxHQUFBLEdBQUEsRUFBQSxNQUFBLFFBQ0EsRUFBQSxPQUFBLEtBQUEsU0FBQSxLQUFBLHVCQUFBLEVBQUEsNEJBQUEsRUFBQSxlQUlBLDJCQUFBLFNBQUEsR0FDQSxTQUFBLFVBQUEsb0JBQ0EsS0FBQSxNQUNBLE1BQUEsT0FDQSxVQUFBLElBQ0EsYUFBQSxFQUNBLFdBQUEsT0FDQSxXQUFBLFNBQ0EsZUFBQSxFQUNBLFFBQUEsVUFBQSxVQUFBLFVBQUEsVUFBQSxVQUFBLFdBQ0EsS0FBQSxNQUNBLEtBQUEsTUFDQSxRQUNBLFNBQUEsV0FDQSxNQUFBLElBQ0EsSUFBQSxHQUNBLE1BQUEsSUFDQSxZQUFBLEdBQ0EsV0FBQSxTQUNBLFdBQUEsR0FDQSxVQUFBLFlBRUEsWUFBQSwwRUFHQSxHQUFBLEtBQUEsRUFBQSxTQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxHQUFBLFdBQUEsRUFBQSxHQUFBLFlBQ0EsRUFBQSxHQUFBLFFBQ0EsR0FBQSwyQkFBQSxPQUFBLFlBQUEsRUFBQSx1Q0FBQSxFQUFBLFdBR0EsZUFBQSxTQUFBLEdBTUEsSUFBQSxHQUZBLEdBSEEsS0FDQSxLQUNBLEtBR0EsRUFBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLElBQ0EsSUFBQSxFQUFBLEdBQUEsbUJBQ0EsRUFBQSxNQUNBLFNBQUEsRUFBQSxHQUFBLGtCQUNBLFNBQUEsRUFBQSxHQUFBLE9BQ0EsZ0JBQUEsRUFBQSxHQUFBLEtBQ0EsY0FBQSxFQUFBLEdBQUEsVUFHQSxJQUFBLEVBQUEsR0FBQSw2QkFDQSxFQUFBLE1BQ0EsZUFBQSxFQUFBLEdBQUEsNEJBQ0EsZUFBQSxFQUFBLEdBQUEsT0FDQSxzQkFBQSxFQUFBLEdBQUEsS0FDQSxvQkFBQSxFQUFBLEdBQUEsb0JBR0EsSUFBQSxFQUFBLEdBQUEscUJBQ0EsRUFBQSxNQUNBLFdBQUEsRUFBQSxHQUFBLG9CQUNBLFdBQUEsRUFBQSxHQUFBLE9BQ0Esa0JBQUEsRUFBQSxHQUFBLEtBQ0EsZ0JBQUEsRUFBQSxHQUFBLFdBS0EsT0FEQSxHQUFBLEVBQUEsT0FBQSxHQUNBLEVBQUEsT0FBQSxZQU1BLEdBQUEsU0FBQSxFQUFBLEdBQ0EsRUFBQSxRQUFBLFNBQUEsRUFBQSxHQUVBLFlBRUEsR0FBQSx1QkFFQSxJQUFBLEdBQUEsRUFBQSxvQkFFQSxHQUFBLFFBQUEsRUFBQSxFQUFBLHNCQUNBLEtBQUEsV0FDQSxFQUFBLGlCQUFBLEdBQUEsUUFBQSw4QkFBQSxTQUFBLEdBQ0EsRUFBQSxpQkFDQSxFQUFBLG1CQUFBLEVBQUEsU0FHQSxFQUFBLFVBQUEsTUFBQSxXQUNBLEVBQUEsdUJBQUEsRUFBQSxTQUdBLEVBQUEsWUFBQSxHQUFBLFFBQUEsUUFBQSxTQUFBLEdBQ0EsRUFBQSxrQkFDQSxFQUFBLE1BQUEsU0FBQSxvQkFBQSxVQUdBLEVBQUEsc0JBR0EsbUJBQUEsV0FDQSxHQUdBLEdBSEEsRUFBQSxFQUFBLHNCQUFBLEtBQUEsWUFDQSxFQUFBLEVBQUEsc0JBQUEsS0FBQSxZQUNBLEdBQUEsR0FBQSxZQUFBLEdBQUEsWUFBQSxHQUFBLGtCQUFBLEdBQUEsVUFHQSxHQUFBLElBQUEsR0FBQSxLQUFBLEVBQUEsRUFDQSxJQUFBLEdBQUEsSUFBQSxFQUFBLEVBQ0EsR0FBQSxHQUFBLElBQUEsRUFBQSxFQUNBLEVBRUEsRUFBQSxlQUFBLEtBQUEsRUFBQSxJQUNBLEVBQUEsMkNBQUEsRUFBQSxNQUFBLE9BQUEsTUFBQSxTQUFBLFVBQUEsV0FBQSxZQUFBLFdBR0EsbUJBQUEsU0FBQSxHQUNBLEdBR0EsR0FBQSxFQUhBLEVBQUEsRUFBQSxRQUFBLGNBQUEsS0FBQSxTQUNBLEVBQUEsRUFBQSxLQUFBLE1BQ0EsRUFBQSxFQUFBLEtBQUEsWUFLQSxJQUZBLEVBQUEsT0FBQSxNQUFBLFNBQUEsVUFBQSxXQUFBLFlBQUEsVUFFQSxjQUFBLEVBQUEsQ0FLQSxHQUhBLEVBQUEsS0FBQSxFQUFBLFFBR0EsR0FBQSxFQUNBLEVBQUEsR0FDQSxFQUFBLFFBRUEsSUFBQSxHQUFBLEVBQ0EsRUFBQSxHQUNBLEVBQUEsT0FFQSxDQUFBLEdBQUEsR0FBQSxFQUtBLE1BSkEsR0FBQSxFQUNBLEVBQUEsR0FPQSxFQUFBLHNEQUFBLEVBQUEsTUFBQSxPQUFBLE1BQUEsU0FBQSxVQUFBLFdBQUEsWUFBQSxVQUNBLEVBQUEsc0RBQUEsRUFBQSxNQUFBLE9BQUEsTUFBQSxTQUFBLFVBQUEsV0FBQSxZQUFBLGNBR0EscUJBQUEsR0FDQSxFQUFBLEVBQ0EsRUFBQSxFQUFBLHNCQUFBLEtBQUEsYUFFQSxxQkFBQSxJQUNBLEVBQUEsRUFDQSxFQUFBLEVBQUEsc0JBQUEsS0FBQSxZQUlBLEdBQUEsc0JBQUEsS0FBQSxHQUFBLEtBQUEsV0FBQSxHQUNBLEVBQUEsc0JBQUEsS0FBQSxHQUFBLEtBQUEsV0FBQSxHQUNBLEVBQUEscUJBR0EsRUFBQSxjQUFBLGtCQUFBLEVBQUEsa0JBQUEsS0FHQSx1QkFBQSxTQUFBLEdBQ0EsR0FLQSxHQUxBLEVBQUEsRUFBQSxTQUFBLFNBQ0EsRUFBQSxFQUFBLEtBQUEsUUFDQSxFQUFBLEVBQUEsS0FBQSxXQUNBLEVBQUEsR0FDQSxFQUFBLEVBQUEsS0FBQSxnQkFFQSxJQUNBLFFBQUEsR0FDQSxJQUFBLFFBQ0EsRUFBQSxzQkFDQSxNQUNBLEtBQUEsVUFDQSxRQUNBLEVBQUEseUJBSUEsRUFBQSxTQUNBLGNBQUEsRUFBQSxLQUFBLEtBQ0EsSUFBQSxXQUNBLEdBTUEsRUFBQSxZQUFBLGNBQUEsU0FBQSxhQUNBLEVBQUEsR0FBQSxNQUNBLEVBQUEsSUFBQSxjQUFBLEtBQ0EsRUFBQSxLQUFBLFFBQUEsWUFBQSxnQkFBQSxTQUFBLG1CQVJBLEVBQUEsWUFBQSxhQUFBLFNBQUEsY0FDQSxFQUFBLElBQUEsY0FBQSxNQUNBLEVBQUEsR0FBQSxPQUNBLEVBQUEsS0FBQSxRQUFBLFlBQUEsaUJBQUEsU0FBQSxpQkFRQSxHQUFBLEVBQ0EsRUFBQSxHQUFBLEtBQUEsR0FDQSxFQUFBLEtBQUEsVUFBQSxHQUNBLEVBQUEsU0FDQSxjQUFBLEdBQ0EsT0FFQSxFQUFBLEdBQUEsRUFBQSxPQUFBLFFBQ0EsRUFBQSxhQUFBLElBR0EsYUFBQSxTQUFBLEdBQ0EsRUFBQSxNQUNBLEtBQUEsT0FDQSxJQUFBLGtDQUNBLEtBQUEsYUFPQSxHQUFBLFNBQUEsRUFBQSxHQUNBLEVBQUEsUUFBQSxTQUFBLEVBQUEsR0FFQSxZQUdBLEdBQUEsYUFHQSxJQUFBLEdBQUEsRUFBQSxVQUVBLEdBQUEsUUFBQSxFQUFBLEVBQUEsWUFFQSxjQUFBLFNBQUEsRUFBQSxHQUNBLEdBQUEsU0FBQSxHQUFBLFlBQUEsZ0JBQ0EsV0FBQSxFQUNBLFlBQUEsMEJBQ0EsU0FBQSxFQUNBLGFBQUEsbUJBQUEsR0FBQSxHQUFBLElBQ0EsUUFHQSxLQUFBLFNBQUEsRUFBQSxFQUFBLEdBQ0EsTUFBQSxHQUFBLEtBQUEsUUFBQSxTQUFBLGdDQVVBLEVBQUEsVUFJQSxtQkFBQSxLQUNBLEVBQUEsTUFJQSxFQUFBLFNBQUEsTUFBQSxXQUNBLE9BQUEsaUJBQUEsRUFBQSxRQUFBLEVBQUEsS0FBQSxVQUFBLFdBQ0EsRUFBQSxVQUlBLEVBQUEsUUFBQSxHQUFBLEdBQUEsTUFBQSxFQUFBLEVBQUEsR0FFQSxFQUFBLEdBQUEsS0FBQSxVQUVBLEVBQUEsRUFBQSxTQUFBLEdBQUEsU0FBQSxpQkFDQSxHQUFBLFFBQ0EsRUFBQSxHQUFBLEtBQUEsdUJBOUJBLEdBQUEsY0FBQSxXQUNBLEVBQUEsS0FBQSxRQUFBLFNBQUEsNEJBQUEsRUFDQSxFQUFBLFFBQUEsb0JBQUEsOEJBQUEsR0FDQSxFQUFBLEtBQUEsRUFBQSxFQUFBLGNBc0NBLEdBQUEsU0FBQSxFQUFBLEdBQ0EsRUFBQSxRQUFBLFNBQUEsRUFBQSxFQUFBLEdBRUEsWUFHQSxHQUFBLE9BRUEsSUFBQSxHQUFBLEVBQUEsSUFFQSxHQUFBLFFBQUEsRUFBQSxFQUFBLE1BR0EsV0FBQSxXQUNBLEdBQUEsR0FBQSxFQUFBLE1BQUEsU0FBQSxTQVFBLE9BUEEsR0FBQSxNQUFBLE9BQ0EsR0FBQSxtQ0FDQSxHQUFBLHlJQUFBLEdBQUEsV0FDQSxXQUNBLEVBQUEsS0FBQSxNQUdBLEdBR0EsS0FBQSxTQUFBLEdBQ0EsRUFBQSxNQUNBLEtBQUEsT0FDQSxJQUFBLGtCQUNBLE1BQ0EsT0FBQSxHQUVBLFFBQUEsU0FBQSxHQUNBLEdBQ0EsRUFBQSxHQUFBLEtBQUEsV0FBQSxRQU1BLGNBQUEsV0FDQSxFQUFBLE1BQUEsS0FDQSxHQUFBLFdBQ0EsR0FBQSx3RkFJQSxPQUFBLFNBQUEsR0FDQSxFQUFBLFdBQUEsS0FBQSxFQUFBLEVBQUEsS0FBQSxvQkFHQSxrQkFBQSxXQUNBLEVBQUEsR0FBQSxLQUFBLFVBQUEsWUFHQSxXQUFBLFdBQ0EsR0FBQSxHQUFBLEVBQUEsTUFBQSxTQUFBLFVBQ0EsRUFBQSxFQUFBLE1BQUEsU0FBQSxZQUNBLEVBQUEsRUFBQSxNQUFBLFNBQUEsWUFDQSxFQUFBLEVBQUEsTUFBQSxTQUFBLFdBRUEsT0FEQSxHQUFBLEtBQUEsRUFBQSxFQUFBLEVBQUEsSUFDQSxHQUdBLEtBQUEsU0FBQSxFQUFBLEVBQUEsRUFBQSxHQUNBLEVBQUEsTUFDQSxLQUFBLE1BQ0EsSUFBQSxnQkFDQSxNQUNBLE9BQUEsRUFDQSxTQUFBLEVBQ0EsU0FBQSxFQUNBLFNBQUEsR0FFQSxRQUFBLFNBQUEsR0FDQSxFQUFBLFdBQUEsS0FBQSxFQUFBLFVBQUEsRUFBQSxpQkFBQSxFQUFBLFNBS0EsaUJBQUEsV0FDQSxFQUFBLEdBQUEsS0FBQSxTQUFBLFlBR0EsYUFBQSxXQUNBLEdBQUEsR0FBQSxFQUFBLE1BQUEsU0FBQSxVQUNBLEVBQUEsRUFBQSxNQUFBLFNBQUEsV0FVQSxPQVJBLEdBQUEsTUFBQSxPQUNBLEdBQUEsZUFDQSxHQUFBLGdJQUNBLFdBQ0EsRUFBQSxPQUFBLEVBQUEsTUFJQSxHQUdBLE9BQUEsU0FBQSxFQUFBLEdBQ0EsRUFBQSxNQUNBLEtBQUEsT0FDQSxJQUFBLG9CQUNBLE1BQ0EsT0FBQSxFQUNBLFNBQUEsR0FFQSxRQUFBLFNBQUEsR0FDQSxFQUFBLFNBQ0EsRUFBQSxHQUFBLEtBQUEsV0FBQSxFQUFBLGFBTUEsYUFBQSxXQUNBLEdBQUEsR0FBQSxFQUFBLE1BQUEsU0FBQSxTQVVBLE9BUkEsR0FBQSxNQUFBLE9BQ0EsR0FBQSxlQUNBLEdBQUEsNkNBQ0EsV0FDQSxFQUFBLFdBQUEsTUFJQSxHQUdBLFdBQUEsU0FBQSxHQUNBLEVBQUEsTUFDQSxLQUFBLE9BQ0EsSUFBQSxvQkFDQSxNQUNBLE9BQUEsR0FFQSxRQUFBLFNBQUEsR0FDQSxFQUFBLFNBQ0EsRUFBQSxHQUFBLEtBQUEsV0FBQSxFQUFBLGFBTUEsV0FBQSxTQUFBLEVBQUEsR0FFQSxHQUFBLElBQUEsYUFBQSxFQUFBLE9BQUEsRUFFQSxHQUFBLEdBQUEsS0FBQSxrQkFBQSxFQUFBLElBRUEsRUFBQSxNQUNBLElBQUEsbUJBQ0EsS0FBQSxPQUNBLEtBQUEsRUFDQSxRQUFBLFNBQUEsR0FDQSxFQUFBLFNBQ0EsRUFBQSxHQUFBLEtBQUEsVUFBQSxFQUFBLElBQUEsRUFBQSxrQkFPQSxFQUFBLFNBQUEsTUFBQSxXQUVBLEVBQUEsVUFBQSxHQUFBLFFBQUEsbUJBQUEsRUFBQSxZQUNBLEVBQUEsVUFBQSxHQUFBLFFBQUEsbUJBQUEsRUFBQSxZQUNBLEVBQUEsVUFBQSxHQUFBLFFBQUEsc0JBQUEsRUFBQSxlQUNBLEVBQUEsVUFBQSxHQUFBLFFBQUEscUJBQUEsRUFBQSxjQUNBLEVBQUEsVUFBQSxHQUFBLFFBQUEscUJBQUEsRUFBQSxzQkFJQSxJQUFBLFNBQUEsRUFBQSxHQUNBLEVBQUEsUUFBQSxTQUFBLEVBQUEsRUFBQSxFQUFBLEdBRUEsWUFFQSxHQUFBLFVBQUEsRUFBQSxRQUNBLFdBQUEsU0FBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLElBR0EsTUFBQSxFQUFBLE1BRUEsZUFFQSxTQUFBLEVBV0EsSUFUQSxFQUFBLEVBQUEsVUFBQSxFQUFBLEdBRUEsS0FBQSxNQUFBLEVBQUEsTUFDQSxLQUFBLEtBQUEsRUFDQSxLQUFBLFdBQUEsRUFDQSxLQUFBLFlBQUEsRUFBQSxZQUNBLEtBQUEsUUFBQSxFQUFBLFFBR0EsSUFBQSxLQUFBLEtBQUEsT0FHQSxNQUZBLE1BQUEsTUFBQSxLQUFBLGtCQUFBLFdBQ0EsR0FBQSxzQkFBQSxNQUlBLE1BQUEsTUFFQSxJQUFBLEdBQUEsSUFDQSxNQUFBLFFBQ0EsRUFBQSxpQkFDQSxPQUNBLFFBQ0EsbUNBQ0EsV0FDQSxFQUFBLGNBQ0EsRUFBQSxjQUlBLEtBQUEsWUFHQSxLQUFBLG1CQUdBLFFBQUEsV0FDQSxLQUFBLE1BQUEsRUFBQSxNQUNBLEtBQUEsU0FBQSxFQUFBLE1BQ0EsS0FBQSxNQUFBLEVBQUEsTUFHQSxLQUFBLEVBQUEsRUFDQSxLQUFBLFFBQ0EsS0FBQSxlQUdBLEtBQUEsV0FFQSxLQUFBLE1BQUEsS0FBQSxNQUFBLEtBQUEsU0FDQSxJQUFBLEtBQUEsTUFBQSxTQUNBLEtBQUEsTUFBQSxRQUFBLDRCQUNBLEtBQUEsTUFBQSxLQUFBLE1BQUEsS0FBQSxVQUdBLEtBQUEsU0FBQSxFQUFBLDhFQUNBLEtBQUEsTUFBQSxNQUFBLEtBQUEsV0FHQSxTQUFBLEVBQ0EsRUFBQSxFQUVBLFVBQUEsV0FDQSxHQUFBLEtBQUEsSUFBQSxLQUFBLEtBQUEsT0FHQSxNQUZBLE1BQUEsU0FBQSxNQUNBLE1BQUEsU0FBQSxNQUdBLE1BQUEsU0FBQSxPQUNBLEtBQUEsU0FBQSxDQUdBLElBQUEsR0FBQSxLQUFBLEtBQUEsS0FBQSxHQUNBLEVBQUEsS0FBQSxnQkFBQSxHQUNBLEVBQUEsRUFBQSxTQUFBLFdBQUEsRUFBQSxFQUFBLEtBQUEsYUFDQSxFQUFBLEVBQUEsR0FFQSxFQUFBLElBQ0EsR0FBQSxhQUFBLFdBQ0EsRUFBQSxXQUFBLE1BSUEsZ0JBQUEsU0FBQSxHQUNBLE1BQUEsTUFBQSxXQUFBLEVBQUEsZUFHQSxXQUFBLFNBQUEsR0FDQSxHQUFBLEdBQUEsSUFFQSxHQUFBLFNBQUEsVUFBQSxHQUVBLEtBQUEsTUFBQSxPQUFBLEdBRUEsS0FBQSxVQUNBLEtBQUEsTUFBQSxRQUFBLFdBQUEsR0FJQSxFQUFBLFVBQUEsb0JBQUEsSUFBQSxXQUNBLEVBQUEsTUFBQSxhQUtBLEtBQUEsR0FBQSxFQUNBLEVBQUEsVUFBQSxHQUFBLFdBQ0EsRUFBQSxlQUlBLFlBQUEsV0FDQSxLQUFBLE1BQUEsU0FBQSxXQUNBLFNBQ0EsYUFBQSxPQUNBLFlBQUEsRUFDQSxZQUFBLElBQ0EsT0FBQSxNQUlBLGdCQUFBLFdBQ0EsS0FBQSxXQUFBLEtBQUEsV0FBQSxFQUFBLEtBQUEsS0FBQSxXQUFBLE1BQ0EsS0FBQSxVQUFBLEVBQUEsS0FBQSxLQUFBLFVBQUEsTUFFQSxFQUFBLEVBQUEsTUFBQSxHQUFBLFVBQUEsS0FBQSxZQUNBLEVBQUEsRUFBQSxNQUFBLEdBQUEsVUFBQSxLQUFBLFlBQ0EsRUFBQSxFQUFBLE1BQUEsR0FBQSxTQUFBLEtBQUEsWUFHQSxXQUFBLFNBQUEsR0FDQSxHQUFBLEdBQUEsS0FDQSxFQUFBLEtBQUEsTUFBQSxLQUFBLG9CQUFBLEVBQUEsSUFFQSxNQUFBLFNBQ0EsS0FBQSxNQUFBLFFBQUEsU0FBQSxHQUNBLEVBQUEsVUFBQSxJQUFBLFdBQ0EsRUFBQSxNQUFBLGFBR0EsRUFBQSxXQUlBLFVBQUEsU0FBQSxHQUNBLEdBQUEsR0FBQSxLQUNBLEVBQUEsS0FBQSxnQkFBQSxHQUNBLEVBQUEsRUFBQSxTQUFBLFdBQUEsRUFBQSxFQUFBLEVBQUEsYUFDQSxFQUFBLEVBQUEsRUFFQSxHQUFBLFNBQUEsVUFBQSxHQUVBLEtBQUEsTUFBQSxLQUFBLG9CQUFBLEVBQUEsR0FBQSxLQUNBLFlBQUEsR0FFQSxLQUFBLFNBQ0EsRUFBQSxVQUFBLElBQUEsV0FDQSxFQUFBLE1BQUEsUUFBQSxxQkFTQSxJQUFBLFNBQUEsRUFBQSxHQUNBLEVBQUEsUUFBQSxTQUFBLEVBQUEsR0FFQSxZQUdBLEdBQUEsV0FFQSxFQUFBLFFBQUEsRUFBQSxFQUFBLFNBRUEsb0JBQUEsU0FBQSxFQUFBLEVBQUEsR0FDQSxFQUFBLE1BQ0EsSUFBQSxpQ0FDQSxLQUFBLE9BQ0EsTUFDQSxJQUFBLEVBQ0EsTUFBQSxHQUVBLFFBQUEsU0FBQSxHQUNBLEVBQUEsS0FBQSxRQUFBLFNBQUEsR0FBQSxFQUNBLGtCQUFBLElBQ0EsRUFBQSxTQVFBLEVBQUEsZUFBQSxHQUFBLFFBQUEsU0FBQSxHQUNBLEVBQUEsaUJBQ0EsRUFBQSxNQUNBLElBQUEsaUNBQ0EsS0FBQSxPQUNBLFNBQUEsU0FBQSxHQUNBLE1BQUEsRUFBQSxTQUNBLE9BQUEsU0FBQSw2QkFHQSxNQUFBLFdBQ0EsRUFBQSxNQUFBLE1BQUEsR0FBQSxtRUFPQSxJQUFBLFNBQUEsRUFBQSxHQUNBLEVBQUEsUUFBQSxTQUFBLEVBQUEsRUFBQSxFQUFBLEdBRUEsWUFFQSxJQUFBLEdBQ0EsR0FDQSxxQkFBQSxJQUNBLGdCQUFBLElBRUEsR0FDQSxVQUFBLGNBRUEsR0FDQSxZQUNBLEtBQUEsaUJBQ0EsTUFBQSxrQkFDQSxJQUFBLGdCQUNBLE9BQUEsb0JBSUEsR0FBQSxFQUFBLFFBRUEsV0FBQSxTQUFBLEVBQUEsRUFBQSxHQUNBLEtBQUEsS0FBQSxFQUNBLEtBQUEsVUFBQSxHQUFBLFFBQ0EsS0FBQSxTQUFBLEVBQ0EsS0FBQSxVQUdBLFNBQUEsU0FBQSxHQUNBLEtBQUEsS0FBQSxFQUNBLEtBQUEsVUFHQSxPQUFBLFdBQ0EsS0FBQSxPQUNBLEtBQUEsVUFFQSxLQUFBLE1BQUEsS0FBQSxTQUNBLEtBQUEsUUFDQSxLQUFBLFVBQUEsS0FBQSxNQUFBLElBQUEsS0FBQSxVQUNBLEtBQUEsVUFBQSxLQUFBLFlBQUEsTUFDQSxLQUFBLFFBR0EsT0FBQSxXQUNBLEdBQUEsR0FBQSxJQUVBLE1BQUEsT0FDQSxFQUFBLEVBQUEsTUFBQSxZQUFBLEtBQUEsTUFDQSxFQUFBLEtBQUEsZUFBQSxHQUdBLElBQUEsR0FBQSxFQUFBLFFBQUEsU0FBQSxPQUNBLGFBQ0EsU0FBQSxJQU1BLE9BSkEsR0FBQSxTQUFBLFFBRUEsRUFBQSw0QkFBQSxVQUVBLEdBR0EsZUFBQSxTQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsTUFFQSxJQUFBLEVBQUEsWUFBQSxDQUNBLEdBQUEsR0FBQSxFQUFBLFlBQUEsTUFBQSxHQUNBLEVBQUEsRUFFQSxHQUFBLEVBQUEsR0FBQSxLQUNBLEVBQUEsR0FBQSxLQUNBLEVBQUEsR0FBQSxLQUNBLEVBQUEsRUFBQSxLQUNBLEVBQUEsRUFBQSxLQUNBLEtBRUEsRUFBQSxPQUFBLFlBQUEsTUFBQSxFQUdBLE1BQUEsSUFHQSxjQUFBLFNBQUEsR0FDQSxHQUFBLEdBQUEsS0FBQSxTQUFBLFNBQ0EsRUFBQSxFQUFBLEVBQUEsQ0FzQkEsUUFwQkEsUUFBQSxHQUFBLFdBQUEsS0FDQSxFQUFBLEVBQUEsTUFBQSxLQUFBLFNBQUEsYUFBQSxLQUFBLE1BQUEsY0FBQSxFQUdBLEVBREEsUUFBQSxFQUNBLEVBQUEsSUFBQSxLQUFBLE1BQUEsY0FBQSxFQUFBLGdCQUVBLEVBQUEsSUFBQSxLQUFBLFNBQUEsY0FBQSxFQUFBLGtCQUlBLFNBQUEsR0FBQSxVQUFBLEtBQ0EsRUFBQSxFQUFBLEtBQUEsS0FBQSxTQUFBLGNBQUEsS0FBQSxNQUFBLGVBQUEsRUFHQSxFQURBLFNBQUEsRUFDQSxFQUFBLEtBQUEsS0FBQSxNQUFBLGFBQUEsRUFBQSxnQkFFQSxFQUFBLEtBQUEsS0FBQSxTQUFBLGFBQUEsRUFBQSxrQkFLQSxFQUFBLEVBQ0EsRUFBQSxJQUlBLE1BQUEsV0FDQSxHQVFBLEdBUkEsRUFBQSxLQUFBLGNBQUEsS0FBQSxXQUNBLEVBQUEsRUFBQSxRQUNBLEVBQUEsRUFBQSxRQUNBLEVBQUEsRUFBQSxTQUNBLEVBQUEsRUFBQSxhQUNBLEVBQUEsRUFBQSxZQUNBLEdBQUEsRUFDQSxFQUFBLEtBQUEsU0FrQkEsS0FmQSxTQUFBLEtBQUEsV0FBQSxFQUFBLEVBQUEsRUFDQSxFQUFBLFFBQ0EsVUFBQSxLQUFBLFdBQUEsRUFBQSxFQUFBLEtBQUEsTUFBQSxhQUFBLEVBQUEsRUFDQSxFQUFBLE9BQ0EsUUFBQSxLQUFBLFdBQUEsRUFBQSxFQUFBLEVBQ0EsRUFBQSxTQUNBLFdBQUEsS0FBQSxXQUFBLEVBQUEsRUFBQSxLQUFBLE1BQUEsY0FBQSxFQUFBLElBQ0EsRUFBQSxPQUdBLElBQ0EsRUFBQSxLQUFBLGNBQUEsR0FDQSxFQUFBLEdBR0EsRUFBQSxFQUFBLEVBQUEsRUFBQSxXQUFBLE9BQUEsR0FBQSxFQUNBLEtBQUEsTUFBQSxZQUFBLEVBQUEsV0FBQSxHQUVBLE1BQUEsTUFBQSxTQUFBLEVBQUEsV0FBQSxJQUVBLEtBQUEsTUFBQSxLQUFBLEtBQUEsRUFBQSxFQUFBLElBQUEsRUFBQSxLQUdBLEtBQUEsV0FDQSxHQUFBLEdBQUEsSUFFQSxNQUFBLFVBQUEsR0FBQSxhQUFBLFdBQ0EsRUFBQSxtQkFHQSxLQUFBLFVBQUEsR0FBQSxhQUFBLFdBQ0EsRUFBQSxvQkFJQSxRQUFBLFdBQ0EsS0FBQSxVQUFBLElBQUEsY0FBQSxJQUFBLGNBQ0EsS0FBQSxNQUFBLFNBQ0EsS0FBQSxTQUFBLFdBQUEsY0FHQSxlQUFBLFdBQ0EsS0FBQSxhQUNBLGFBQUEsS0FBQSxjQUlBLGVBQUEsV0FDQSxHQUFBLEdBQUEsSUFFQSxNQUFBLGFBQ0EsYUFBQSxLQUFBLGFBR0EsS0FBQSxZQUFBLFdBQUEsV0FDQSxFQUFBLFdBQ0EsRUFBQSx5QkFLQSxFQUFBLElBQUEsRUFBQSxRQUNBLEVBQUEsT0FFQSxFQUFBLEdBQUEsVUFBQSxDQUdBLElBQUEsS0FFQSxHQUFBLFNBQUEsTUFBQSxXQUNBLEVBQUEsVUFBQSxHQUFBLGFBQUEsZ0RBQUEsV0FDQSxHQUdBLEdBSEEsRUFBQSxFQUFBLE1BQ0EsRUFBQSxTQUFBLEVBQUEsU0FBQSxXQUFBLElBQ0EsRUFBQSxFQUFBLFNBQUEsYUFFQSxFQUFBLElBRUEsR0FBQSxlQUFBLEtBQ0EsRUFBQSxFQUFBLElBR0EsbUJBQUEsR0FBQSxLQUFBLGNBQ0EsRUFBQSxFQUFBLFdBQUEsS0FBQSxXQUNBLEVBQUEsTUFBQSxLQUFBLGFBQUEsWUFFQSxFQUFBLEdBQUEsR0FBQSxHQUFBLFVBQUEsRUFBQSxFQUFBLElBRUEsRUFBQSxFQUFBLEtBQUEsYUFHQSxPQUFBLEdBQ0EsRUFBQSxNQUNBLElBQUEsaUJBQ0EsS0FBQSxNQUNBLE1BQUEsUUFBQSxFQUFBLGtCQUFBLEdBQ0EsUUFBQSxTQUFBLEdBQ0EsRUFBQSxHQUFBLEVBQUEsS0FDQSxFQUFBLFNBQUEsRUFBQSxhQU9BLEVBQUEsRUFBQSxPQUFBLEdBQUEsZUFBQSxTQUFBLEdBRUEsRUFBQSxJQUFBLEVBQUEsRUFBQSxLQUFBLE1BQ0EsRUFBQSxFQUFBLEtBQUEsSUFBQSxFQUFBLE9BQUEsRUFBQSxFQUFBLEtBQUEsSUFDQSxFQUFBLGVBTUEsSUFBQSxTQUFBLEVBQUEsR0FDQSxFQUFBLFFBQUEsU0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBRUEsWUFFQSxJQUFBLEVBRUEsR0FBQSxFQUFBLFFBRUEsV0FBQSxTQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsZ0JBQUEsQ0FFQSxLQUNBLE1BR0EsS0FBQSxhQUFBLEVBQUEsSUFBQSxFQUFBLGdCQUFBLEVBQUEsY0FBQSxFQUVBLEtBQUEsUUFBQSxFQUNBLEtBQUEsU0FBQSxFQUFBLFVBQUEsS0FFQSxLQUFBLFNBQ0EsTUFBQSxFQUFBLE9BQUEsS0FDQSxLQUFBLEVBQUEsTUFBQSxLQUNBLFlBQUEsRUFBQSxLQUFBLEVBQUEsYUFBQSxJQUNBLFVBQUEsRUFBQSxXQUFBLE1BR0EsS0FBQSxjQUFBLEdBR0EsS0FBQSxXQUtBLE1BSkEsTUFBQSxTQUNBLEtBQUEsT0FDQSxLQUFBLFFBQUEsR0FDQSxLQUFBLE9BQ0EsTUFHQSxVQUFBLFNBQUEsR0FDQSxNQUFBLEdBQUEsS0FBQSxRQUFBLFFBQUEsR0FBQSxHQUdBLEtBQUEsV0FDQSxHQUFBLEdBQUEsS0FBQSxRQUFBLENBRUEsT0FBQSxNQUFBLFVBQUEsSUFLQSxLQUFBLFFBQUEsT0FBQSxHQUFBLEdBQUEsT0FDQSxLQUFBLFFBQUEsRUFDQSxLQUFBLE1BQUEsTUFBQSxRQUVBLEtBQUEsY0FDQSxLQUFBLFVBQUEsT0FHQSxVQVpBLE1BQUEsU0FlQSxNQUFBLFdBZUEsTUFkQSxNQUFBLE1BQUEsU0FFQSxLQUFBLGFBQ0EsS0FBQSxVQUFBLFFBQUEsSUFBQSxXQUNBLEVBQUEsTUFBQSxXQUdBLEVBQUEsTUFBQSxTQUdBLGtCQUFBLE1BQUEsVUFDQSxLQUFBLFdBRUEsS0FBQSxRQUFBLEVBQ0EsTUFHQSxLQUFBLFdBQ0EsR0FBQSxHQUFBLElBRUEsTUFBQSxNQUFBLEdBQUEsa0JBQUEsV0FDQSxFQUFBLFNBR0EsRUFBQSxRQUFBLEdBQUEsVUFBQSxTQUFBLEdBQ0EsRUFBQSxVQUFBLEdBQUEsRUFBQSxVQUFBLEVBQUEsUUFDQSxFQUFBLE1BQUEsTUFBQSxRQUNBLEVBQUEsb0JBSUEsS0FBQSxNQUFBLEdBQUEsUUFBQSwwQkFBQSxTQUFBLEdBQ0EsRUFBQSxNQUFBLE1BQUEsUUFDQSxFQUFBLG1CQUdBLEtBQUEsTUFBQSxHQUFBLFFBQUEscUJBQUEsU0FBQSxHQUNBLEVBQUEsUUFBQSxFQUFBLFFBQUEsT0FDQSxFQUFBLE1BQUEsTUFBQSxRQUNBLEVBQUEsb0JBSUEsT0FBQSxXQUNBLEtBQUEsUUFBQSxPQUFBLEVBQUEsU0FBQSxPQUFBLGdCQUFBLEtBQUEsZUFDQSxLQUFBLFFBQUEsT0FBQSxLQUFBLFFBQUEsT0FDQSxLQUFBLE1BQUEsRUFBQSxFQUFBLFNBQUEsT0FBQSxlQUFBLEtBQUEsVUFDQSxLQUFBLFVBQUEsS0FBQSxhQUFBLEVBQUEsRUFBQSxTQUFBLE9BQUEsbUJBQUEsS0FDQSxLQUFBLE1BQUEsSUFBQSxLQUFBLFdBQUEsU0FBQSxRQUNBLEtBQUEsUUFBQSxLQUFBLE1BQUEsS0FBQSwyQkFDQSxLQUFBLE1BQUEsT0FBQSxVQUFBLE9BS0EsRUFBQSxlQUFBLFFBQ0EsRUFBQSxPQUVBLEVBQUEsR0FBQSxZQUFBLEVBRUEsRUFBQSxVQUFBLE1BQUEsV0FDQSxFQUFBLFFBQUEsR0FBQSxRQUFBLGtDQUFBLFdBQ0EsR0FBQSxTQUFBLEdBQUEsWUFBQSxFQUFBLE1BQUEsU0FBQSxTQUNBLFdBQUEsRUFDQSxTQUFBLGVBR0EsaUJBTUEsSUFBQSxTQUFBLEVBQUEsR0FDQSxFQUFBLFFBQUEsU0FBQSxFQUFBLEdBRUEsWUFHQSxHQUFBLFNBRUEsRUFBQSxRQUFBLEVBQUEsRUFBQSxPQUNBLFlBQUEsU0FBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLFFBQUEsS0FBQSxFQUVBLE9BREEsR0FBQSxRQUFBLEVBQUEsS0FBQSxFQUFBLEtBQUEsR0FDQSxHQUdBLGlCQUFBLFdBQ0EsR0FBQSxHQUFBLEVBQUEsTUFBQSxTQUFBLFdBQ0EsRUFBQSxFQUFBLEtBRUEsR0FBQSxNQUNBLElBQUEsb0JBQ0EsS0FBQSxPQUNBLE1BQ0EsV0FBQSxHQUVBLFFBQUEsU0FBQSxHQUNBLEVBQUEsU0FDQSxFQUFBLEVBQUEsT0FBQSxLQUFBLGdCQUFBLElBQ0EsRUFBQSxNQUFBLG1CQUFBLEVBQUEsRUFBQSxJQUVBLEVBQUEsT0FDQSxFQUFBLE1BQUEsTUFBQSxFQUFBLFdBT0EsbUJBQUEsU0FBQSxFQUFBLEVBQUEsR0FDQSxHQUdBLEdBSEEsRUFBQSxFQUFBLFNBQUEsT0FBQSxnQkFDQSxFQUFBLE1BQ0EsRUFBQSxFQUFBLEVBR0EsR0FBQSxFQUFBLFlBQUEsR0FFQSxFQUFBLEtBQUEsaUJBQ0EsRUFBQSxFQUNBLEVBQUEsU0FBQSxVQUVBLEVBQUEsR0FJQSxFQUFBLGtCQUFBLEVBQUEsS0FBQSxHQUFBLE1BQ0EsS0FBQSxpQ0FDQSxLQUFBLFdBQ0EsR0FBQSxHQUFBLEVBQUEsTUFDQSxFQUFBLFNBQUEsRUFBQSxPQUFBLEdBQ0EsR0FBQSxLQUFBLEVBQUEsS0FJQSxFQUFBLGtCQUFBLEVBQUEsTUFDQSxLQUFBLGdDQUNBLEtBQUEsV0FDQSxHQUFBLEdBQUEsRUFBQSxNQUNBLEVBQUEsU0FBQSxFQUFBLE9BQUEsR0FDQSxHQUFBLEtBQUEsRUFBQSxRQU1BLEVBQUEsU0FBQSxNQUFBLFdBQ0EsRUFBQSxVQUFBLEdBQUEsUUFBQSxpQkFBQSxFQUFBLE1BQUEsMEJBS0EsSUFBQSxTQUFBLEVBQUEsR0FDQSxFQUFBLFFBQUEsU0FBQSxFQUFBLEVBQUEsR0FFQSxZQUVBLElBQUEsR0FBQSxXQUVBLEtBQUEsU0FBQSxFQUNBLEtBQUEsV0FBQSxLQUVBLEtBQUEsS0FBQSxTQUFBLEdBQ0EsR0FBQSxHQUFBLEtBQ0EsRUFBQSxFQUFBLEtBQUEsSUFFQSxJQUFBLE9BQUEsRUFDQSxPQUFBLENBR0EsS0FBQSxLQUFBLFVBQUEsQ0FJQSxHQUFBLEdBQUEsS0FBQSxVQUFBLEVBQ0EsS0FJQSxLQUFBLE9BRUEsS0FBQSxjQUNBLE1BQUEsRUFDQSxPQUFBLFdBQ0EsRUFBQSxTQUFBLEVBQ0EsRUFBQSxXQUFBLEVBQ0EsT0FBQSxFQUFBLFFBQUEsRUFBQSxPQUFBLElBRUEsU0FBQSxXQUNBLEVBQUEsU0FBQSxFQUNBLE9BQUEsRUFBQSxVQUNBLEVBQUEsU0FBQSxHQUVBLEVBQUEsdUJBQ0EsRUFBQSw2QkFDQSxHQUFBLDRCQU1BLEtBQUEsUUFBQSxXQUNBLEdBQUEsR0FBQSxFQUFBLFFBQUEsU0FBQSxjQUNBLE9BQUEsSUFDQSxFQUFBLFFBQ0EsSUFFQSxFQUFBLFVBQ0EsSUFJQSxLQUFBLFVBQUEsU0FBQSxHQUNBLEdBQUEsRUFTQSxPQVJBLElBQUEsRUFBQSxNQUFBLEVBQUEsV0FBQSxLQUNBLEtBQUEsV0FBQSxFQUVBLEVBQUEsRUFBQSxhQUNBLEdBQUEsRUFDQSxJQUFBLEtBR0EsR0FHQSxLQUFBLGFBQUEsU0FBQSxHQUNBLEVBQUEsTUFBQSxNQUNBLE9BQUEsRUFBQSxPQUNBLFNBQUEsRUFBQSxTQUNBLE9BQUEsRUFBQSxZQUlBLEtBQUEsS0FBQSxXQUNBLEVBQUEsVUFDQSxLQUFBLFNBQUEsRUFDQSxLQUFBLFdBQUEsS0FFQSxFQUFBLFVBQUEsMEJBR0EsS0FBQSxVQUFBLFNBQUEsR0FDQSxHQUFBLEdBQUEsSUFDQSxNQUFBLFNBQ0EsRUFBQSxVQUNBLHdCQUNBLEVBQ0EsV0FDQSxFQUFBLFVBTUEsS0FBQSxhQUFBLFNBQUEsR0FHQSxLQUFBLFFBR0EsS0FBQSxxQkFBQSxFQUZBLEtBUUEsR0FBQSxZQUFBLEdBQUEsR0FHQSxFQUFBLFVBQUEsR0FBQSxxQkFBQSxpQkFBQSxXQUNBLEdBQUEsR0FBQSxFQUFBLEtBQ0EsR0FBQSxZQUFBLE1BQ0EsSUFBQSxFQUFBLEtBQUEsUUFDQSxPQUFBLFdBQUEsRUFBQSxTQUFBLFlBQ0EsU0FBQSxXQUFBLEVBQUEsWUFBQSxnQkFHQSxHQUFBLHFCQUFBLGlCQUFBLFdBQ0EsRUFBQSxZQUFBLFNBRUEsR0FBQSw0QkFBQSxPQUFBLFdBQ0EsRUFBQSxRQUFBLFlBQUEsY0FDQSxJQUFBLEdBQUEsRUFBQSxZQUFBLFNBQ0EsR0FBQSxNQUNBLElBQUEsY0FDQSxLQUFBLE9BQ0EsTUFDQSxNQUFBLE9BSUEsR0FBQSxhQUFBLG9DQUFBLFNBQUEsR0FDQSxRQUFBLGtCQUNBLEVBQUEsTUFBQSxRQUFBLHNCQUVBLEVBQUEsbUJBRUEsR0FBQSxRQUFBLG9DQUFBLFNBQUEsR0FHQSxRQUFBLGtCQUNBLEVBQUEsTUFBQSxRQUFBLHNCQUVBLEVBQUEseUJBS0EsSUFBQSxTQUFBLEVBQUEsR0FDQSxFQUFBLFFBQUEsU0FBQSxHQUVBLFlBRUEsUUFFQSxPQUFBLElBQ0EsT0FBQSxJQUNBLEtBQUEsS0FDQSxJQUFBLE1BQ0EsS0FBQSxPQUVBLElBQUEsV0FDQSxNQUFBLElBQUEsT0FHQSxNQUFBLFdBQ0EsR0FBQSxHQUFBLEdBQUEsS0FLQSxPQUpBLEdBQUEsU0FBQSxHQUNBLEVBQUEsV0FBQSxHQUNBLEVBQUEsV0FBQSxHQUNBLEVBQUEsZ0JBQUEsR0FDQSxHQUdBLFdBQUEsU0FBQSxHQUNBLE1BQUEsTUFBQSxNQUFBLEdBR0EsVUFBQSxTQUFBLEdBQ0EsR0FBQSxHQUFBLENBa0JBLE9BaEJBLEdBQUEsSUFBQSxFQUFBLGFBQ0EsR0FBQSxFQUFBLFFBQUEsS0FBQSxRQUVBLEVBQUEsSUFBQSxFQUFBLGFBQ0EsR0FBQSxFQUFBLFFBQUEsS0FBQSxRQUVBLEVBQUEsSUFBQSxFQUFBLFdBQ0EsR0FBQSxFQUFBLE1BQUEsS0FBQSxNQUVBLEVBQUEsSUFBQSxFQUFBLFVBQ0EsR0FBQSxFQUFBLEtBQUEsS0FBQSxLQUVBLEVBQUEsSUFBQSxFQUFBLFdBQ0EsR0FBQSxFQUFBLE1BQUEsS0FBQSxNQUdBLEdBR0EsZUFBQSxTQUFBLEVBQUEsR0FDQSxHQUFBLElBQ0EsR0FBQSxVQUNBLEdBQUEsVUFDQSxHQUFBLFdBQ0EsR0FBQSxhQUNBLEdBQUEsWUFDQSxHQUFBLFVBQ0EsR0FBQSxZQUdBLE9BQUEsR0FBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLElBR0EsYUFBQSxTQUFBLEdBQ0EsR0FBQSxJQUNBLEdBQUEsV0FDQSxHQUFBLFlBQ0EsR0FBQSxTQUNBLEdBQUEsU0FDQSxHQUFBLE9BQ0EsR0FBQSxRQUNBLEdBQUEsUUFDQSxHQUFBLFVBQ0EsR0FBQSxhQUNBLEdBQUEsV0FDQSxHQUFBLFlBQ0EsR0FBQSxZQUdBLE9BQUEsR0FBQSxXQUtBLElBQUEsU0FBQSxFQUFBLEdBQ0EsRUFBQSxRQUFBLFNBQUEsRUFBQSxHQUNBLFlBWUEsU0FBQSxLQUNBLEVBQUEsWUFBQSxhQUNBLEVBQUEsWUFBQSxhQUNBLEVBQUEsWUFBQSxhQUVBLElBQ0EsRUFBQSxJQUFBLHNCQUFBLFNBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxTQUFBLE9BQUEseUJBQUEsRUFDQSxHQUFBLEtBQUEsR0FDQSxNQUVBLEdBQUEsR0FJQSxRQUFBLEtBQ0EsR0FBQSxHQUFBLEVBQUEsb0JBQ0EsRUFBQSxFQUFBLEtBQUEsZ0JBQ0EsR0FBQSxTQUNBLE1BQUEsSUFBQSxFQUFBLE1BN0JBLEdBQUEsSUFBQSxFQUtBLEVBQUEsRUFBQSx5QkFDQSxFQUFBLEVBQUEsb0JBQ0EsRUFBQSxFQUFBLHFCQUNBLEVBQUEsRUFBQSx5QkF5QkEsR0FBQSxtQkFBQSxHQUFBLFFBQUEsU0FBQSxHQUNBLElBQ0EsRUFBQSxvQkFHQSxFQUFBLFVBQUEsR0FBQSxRQUFBLFNBQUEsR0FDQSxFQUFBLFNBQUEsY0FDQSxFQUFBLEVBQUEsUUFBQSxRQUFBLE1BQUEsS0FBQSxFQUFBLElBQ0EsWUFLQSxJQUFBLFNBQUEsRUFBQSxHQUNBLEVBQUEsUUFBQSxTQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FFQSxZQUVBLEdBQUEsZUFBQSxRQUFBLFNBQUEsR0FDQSxRQUFBLElBQUEsbUJBQ0EsUUFBQSxJQUFBLHdCQUNBLFFBQUEsSUFBQSxNQUVBLElBQ0EsUUFBQSxJQUFBLFNBQ0EsUUFBQSxJQUFBLHdCQUNBLFFBQUEsSUFBQSxLQUlBLElBQUEsSUFJQSxRQUFBLEVBQ0Esd0JBRUEsTUFBQSxTQUFBLEdBS0EsRUFBQSxPQUNBLElBRUEsRUFBQSxxQkFBQSxLQUFBLElBSUEsS0FBQSxTQUFBLEdBRUEsSUFBQSxFQUFBLE9BQUEsQ0FJQSxFQUFBLElBQUEsRUFBQSxZQUVBLEVBQUEsS0FBQSxFQUFBLFNBQUEsU0FBQSxFQUFBLEdBQ0EsRUFBQSxnQkFBQSxFQUNBLEVBQUEsUUFBQSxHQUNBLGVBQUE7R0FHQSxFQUFBLElBQUEsRUFBQSxzQkFDQSxFQUFBLG9CQUdBLEVBQUEsc0JBRUEsRUFBQSxRQUFBLENBRUEsS0FBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEscUJBQUEsT0FBQSxHQUFBLEVBQ0EsRUFBQSxxQkFBQSxJQUVBLEdBQUEsMEJBVUEsWUFBQSxTQUFBLEdBQ0EsTUFBQSxHQUFBLFNBQUEsRUFBQSxRQUFBLEVBQUEsRUFBQSxXQUFBLEVBQUEsUUFBQSxPQUFBLEtBR0EsT0FBQSxTQUFBLEdBQ0EsR0FBQSxJQUNBLElBQUEsUUFDQSxJQUFBLE9BQ0EsSUFBQSxPQUNBLElBQUEsU0FDQSxJQUFBLFFBQ0EsSUFBQSxTQUdBLE9BQUEsUUFBQSxHQUFBLFFBQUEsYUFBQSxTQUFBLEdBQ0EsTUFBQSxHQUFBLE1BSUEsU0FBQSxTQUFBLEdBQ0EsR0FBQSxJQUNBLFFBQUEsSUFDQSxPQUFBLElBQ0EsT0FBQSxJQUNBLFNBQUEsSUFDQSxRQUFBLElBQ0EsU0FBQSxJQUVBLE9BQUEsUUFBQSxHQUFBLFFBQUEsaUNBQUEsU0FBQSxHQUNBLE1BQUEsR0FBQSxNQUlBLG9CQUFBLFdBQ0EsRUFBQSxpQkFDQSxNQUFBLEVBQUEsTUFDQSxXQUFBLEVBQUEsV0FDQSxLQUFBLEVBQUEsS0FDQSxlQUFBLEVBQUEsT0FBQSxFQUFBLEtBQUEsU0FDQSxPQUFBLEVBQUEsU0FPQSxPQUFBLFNBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsVUFBQSxFQUFBLGdCQUFBLEVBQ0EsT0FBQSxHQUFBLFNBQUEsR0FBQSxHQUFBLEtBQUEsS0FJQSxhQUFBLHVCQUVBLFlBQUEsU0FBQSxHQUtBLEVBQUEsRUFBQSxRQUFBLDBDQUFBLE9BQUEsRUFBQSxZQUNBLEVBQUEsRUFBQSxRQUFBLHNDQUFBLE9BQUEsRUFBQSxZQUNBLEVBQUEsRUFBQSxRQUFBLGtCQUFBLE9BQUEsRUFBQSxZQUVBLEVBQUEsRUFBQSxRQUFBLGlCQUFBLFdBR0EsSUFBQSxHQUFBLEVBQUEsT0FBQSxHQUNBLEVBQUEsRUFBQSxTQUFBLEtBQUEsRUFFQSxHQUFBLEtBQUEsS0FBQSxLQUFBLFdBQ0EsRUFBQSxNQUFBLEdBQUEsRUFBQSxlQUNBLEVBQUEsTUFBQSxVQUdBLElBQUEsR0FBQSxFQUFBLEtBQUEsRUFBQSxPQVVBLE9BVEEsS0FBQSxJQUNBLEVBQUEsaUJBSUEsRUFBQSxFQUFBLFFBQUEsb0JBQUEsb0NBRUEsRUFBQSxFQUFBLFFBQUEsc0JBQUEsc0RBS0EsZ0JBQUEsU0FBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLElBQ0EsYUFBQSxFQUNBLGtCQUFBLEVBQ0EsWUFBQSxFQUNBLFVBQUEsRUFDQSxhQUFBLEVBQ0EsYUFBQSxFQUNBLG9CQUFBLEVBQ0EsZUFBQSxFQUdBLG9CQUFBLEtBQ0EsRUFBQSxFQUFBLE9BQUEsRUFBQSxHQUdBLElBQUEsR0FBQSxFQUFBLFFBQUEsS0FBQSxHQUNBLEVBQUEsRUFBQSxLQUFBLGlCQUNBLEVBQUEsR0FBQSxFQUFBLElBQUEsRUFBQSxXQUFBLEVBQUEsT0FBQSxLQUFBLEVBQUEsS0FBQSxFQWdCQSxJQWJBLEVBQUEsWUFBQSxFQUFBLFlBQ0EsRUFBQSxZQUFBLEVBQUEsWUFDQSxFQUFBLGlCQUFBLEVBQUEsaUJBQ0EsRUFBQSxTQUFBLEVBQUEsVUFBQSxFQUNBLEVBQUEsbUJBQUEsRUFBQSxtQkFDQSxFQUFBLGNBQUEsRUFBQSxjQUdBLEVBQUEsVUFBQSxJQUFBLEVBQUEsUUFDQSxFQUFBLFdBQUEsRUFBQSxVQUFBLEVBQ0EsRUFBQSxXQUFBLEVBQUEsU0FDQSxFQUFBLFlBQUEsRUFBQSxhQUFBLEVBQUEsY0FBQSxHQUVBLEVBQUEsWUFBQSxDQUVBLEdBQUEsR0FBQSxFQUFBLFFBQ0EsR0FBQSxLQUFBLE9BQUEsRUFBQSxlQUNBLEVBQUEsdUJBQUEsRUFBQSxHQUFBLFNBa0JBLE1BZkEsR0FBQSxXQUFBLEVBQUEsWUFBQSxTQUFBLEVBQ0EsRUFBQSxhQUNBLEVBQUEsS0FBQSxFQUFBLDBCQUFBLEVBQUEsU0FBQSxHQUNBLEVBQUEsV0FBQSxFQUFBLDBCQUFBLEVBQUEsZUFBQSxJQUlBLEVBQUEsWUFBQSxFQUFBLFlBQUEsRUFBQSxNQUdBLEVBQUEsZUFBQSxFQUFBLEtBR0EsUUFBQSxFQUFBLFlBQUEsRUFBQSxLQUFBLEdBRUEsR0FHQSxXQUFBLFNBQUEsRUFBQSxFQUFBLEdBSUEsR0FBQSxJQUNBLFNBQUEsU0FFQSxvQkFBQSxLQUNBLEVBQUEsRUFBQSxPQUFBLEVBQUEsR0FFQSxJQUFBLEdBQUEsRUFBQSxnQkFBQSxFQUFBLEVBQUEsRUFDQSxPQUFBLEdBQUEsT0FBQSxPQUFBLEVBQUEsU0FBQSxJQUdBLFVBQUEsU0FBQSxHQUlBLEdBQUEsR0FBQSxFQUFBLEtBQUEsV0FJQSxFQUFBLEVBQUEsT0FBQSx1QkFDQSxHQUFBLE9BQUEsTUFBQSxVQUFBLEdBSUEsSUFBQSxHQUFBLEVBQUEsT0FBQSw0QkFDQSxHQUFBLEtBQUEsV0FDQSxHQUFBLEdBQUEsRUFBQSxNQUFBLEtBQUEsUUFDQSxFQUFBLEVBQUEsTUFBQSxRQUFBLEVBQ0EsR0FBQSxNQUFBLFlBQUEsb0VBQUEsRUFBQSxrSEFJQSxJQUFBLEdBQUEsRUFBQSxPQUFBLDBCQUNBLEdBQUEsS0FBQSxXQUNBLEdBQUEsR0FBQSxFQUFBLE1BQUEsS0FBQSxRQUNBLEVBQUEsRUFBQSxNQUFBLGVBQUEsR0FDQSxFQUFBLE9BQUEsRUFBQSxNQUFBLFVBQ0EsRUFBQSxFQUFBLElBQUEsR0FFQSxHQUFBLE1BQUEsWUFBQSw2Q0FBQSxFQUFBLGFBQUEsRUFBQSxrSkFJQSxFQUFBLElBQUEsR0FDQSxJQUFBLEdBQ0EsSUFBQSxHQUNBLFNBRUEsY0FBQSxTQUNBLElBQUEsbUNBQ0EsVUFBQSxJQUVBLFNBQUEsTUFDQSxLQUFBLGlCQUFBLFdBR0EsR0FBQSxHQUFBLEVBQUEsTUFBQSxRQUNBLEdBQUEsVUFBQSxHQUFBLFdBQ0EsRUFBQSxLQUFBLDhCQUFBLEtBQUEsV0FFQSxFQUFBLE1BQUEsS0FBQSxNQUFBLEVBQUEsTUFBQSxLQUFBLE9BQUEsc0VBTUEsaUJBQUEsU0FBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLFFBQUEsS0FBQSxFQU9BLE9BTkEsR0FBQSxnQkFDQSxFQUFBLEtBQUEsRUFBQSxRQUFBLFNBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLFFBQUEsS0FBQSxFQUNBLEdBQUEsSUFBQSxFQUNBLEVBQUEsYUFBQSxLQUFBLEtBRUEsR0FHQSxrQkFBQSxTQUFBLEdBQ0EsR0FBQSxHQUFBLEVBS0EsT0FKQSxHQUFBLEtBQUEsRUFBQSxTQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxZQUFBLEVBQ0EsSUFBQSxvREFBQSxFQUFBLFdBRUEsR0FHQSxrQkFBQSxTQUFBLEdBQ0EsRUFBQSxFQUFBLFlBQUEsRUFDQSxJQUFBLEdBQUEsMENBQ0EsRUFBQSxJQUNBLEVBQUEsSUFDQSxFQUFBLHlCQUNBLEdBQUEsd0hBQ0EsR0FBQSxRQUFBLGdDQUFBLEtBQ0EsV0FDQSxFQUFBLFFBQUEsV0FBQSxLQUFBLE1BQUEsS0FBQSxLQUFBLFVBRUEsT0FBQSxTQUFBLDZMQUdBLEVBQUEsRUFBQSxFQUFBLEVBQUEsSUFHQSxvQkFBQSxTQUFBLEdBQ0EsR0FBQSxJQUNBLEdBQUEsZ0JBQUEsS0FBQSxNQUFBLEtBQUEsS0FBQSxVQUNBLFFBUUEsT0FOQSxHQUFBLEtBQUEsRUFBQSxTQUFBLEVBQUEsR0FDQSxFQUFBLEtBQUEsU0FDQSxRQUFBLElBQUEsRUFBQSxVQUFBLEdBQ0EsSUFBQSxFQUFBLFlBQUEsT0FHQSxFQUFBLE9BQUEsdUJBQUEsSUFXQSxVQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsR0FLQSxJQUpBLE9BQUEsR0FBQSxJQUFBLEVBQUEsVUFDQSxFQUFBLElBR0EsU0FBQSxFQUVBLE1BQUEsR0FBQSxFQUFBLE9BQUEsR0FBQSxLQUFBLE9BQUEsRUFJQSxhQUFBLFNBQ0EsR0FBQSxHQUdBLElBQUEsR0FBQSxFQUFBLEVBQUEsT0FBQSxFQUFBLEdBQUEsQ0FDQSxPQUFBLFVBQUEsRUFDQSxFQUFBLE9BQUEsRUFFQSxLQUFBLG9CQUFBLEVBQUEsUUFBQSxJQUdBLGFBQUEsRUFBQSxHQUFBLE9BR0EsVUFBQSxFQUNBLEtBQUEsa0JBQUEsR0FJQSxLQUFBLGtCQUFBLEVBQUEsT0FBQSxLQUdBLDBCQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxPQUNBLE1BQUEsRUFBQSxNQUNBLEtBQUEsRUFBQSxhQUNBLEtBQUEsRUFBQSxLQUNBLGNBQUEsRUFBQSxPQUFBLEVBQUEsU0FDQSxJQUFBLEVBQUEsVUFBQSxFQUFBLEtBQUEsRUFBQSxNQUFBLEVBQUEsS0FJQSx1QkFBQSxTQUFBLEdBQ0EsR0FBQSxNQUNBLEdBQUEsQ0FFQSxHQUFBLEtBQUEsS0FBQSwwQkFBQSxFQUFBLE1BQUEsWUFBQSxFQUFBLEVBQUEsV0FDQSxFQUFBLEtBQUEsS0FBQSwwQkFBQSxFQUFBLFlBQUEsY0FBQSxFQUFBLEVBQUEsVUFDQSxLQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxRQUFBLE9BQUEsSUFBQSxDQUNBLEdBQUEsR0FBQSxFQUFBLFFBQUEsR0FDQSxFQUFBLEVBQUEsYUFBQSxrQkFFQSxXQUFBLEVBQUEsTUFBQSxJQUNBLEdBQUEsRUFHQSxHQUFBLGVBR0EsSUFBQSxHQUFBLEtBQUEsMEJBQUEsRUFBQSxHQUFBLEVBQ0EsR0FBQSxLQUFBLEdBR0EsT0FDQSxRQUFBLEVBQ0EsV0FBQSxFQUFBLGFBS0EsT0FBQSxTQUdBLElBQUEsU0FBQSxFQUFBLEdBQ0EsRUFBQSxRQUFBLFNBQUEsRUFBQSxHQUVBLFlBc0JBLFNBQUEsR0FBQSxFQUFBLEdBQ0EsRUFBQSxRQUNBLG1EQUVBLE9BQUEsT0FDQSxPQUFBLHFDQUNBLE1BQUEsVUFDQSxRQUFBLEdBRUEsU0FBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLEtBQUEsR0FFQSxHQUFBLFFBQ0EsRUFBQSw0QkFHQSxFQUFBLEtBS0EsUUFBQSxLQUNBLEVBQUEsTUFBQSxJQUNBLEVBQUEsT0FBQSxJQUNBLEVBQUEsTUFBQSxFQUFBLFFBQUEsUUFBQSxFQUFBLE9BQUEsRUFDQSxFQUFBLEtBQUEsRUFBQSxRQUFBLFNBQUEsRUFBQSxPQUFBLElBQUEsRUFDQSxFQUFBLElBQUEsRUFBQSxXQUFBLEVBQUEsTUFBQSxZQUFBLEVBQUEsT0FBQSxTQUFBLEVBQUEsSUFBQSxVQUFBLEVBQUEsS0E5Q0EsR0FBQSxHQUNBLEtBQ0EsRUFBQSxFQUFBLE9BQUEsT0FBQSxTQUFBLFFBRUEsR0FBQSxpREFFQSxFQUFBLFFBQ0EsR0FBQSxRQUFBLDhCQUFBLFNBQUEsR0FDQSxFQUFBLFFBQUEsa0JBQUEsRUFBQSxPQUNBLEVBQUEsbUJBRUEsR0FBQSxRQUFBLCtCQUFBLFNBQUEsR0FDQSxLQUNBLEVBQUEsUUFBQSxtQkFBQSxFQUFBLE9BQ0EsRUFBQSxvQkFJQSxFQUFBLFFBQUEsRUFBQSxZQStCQSxFQUFBLFFBQUEsa0JBQUEsU0FBQSxHQUNBLEdBSUEsR0FKQSxFQUFBLEVBQUEsU0FBQSxRQUFBLEVBQ0EsRUFBQSxFQUFBLFNBQUEsVUFBQSxvQkFDQSxFQUFBLEVBQUEsU0FBQSxRQUFBLFVBQ0EsRUFBQSxpQkFBQSxFQUFBLFNBQUEsYUFBQSxHQUdBLEtBRUEsRUFBQSxFQUFBLFNBQUEsR0FDQSxFQUNBLHdDQUFBLG1CQUFBLEdBQ0EsUUFBQSxtQkFBQSxHQUNBLFFBQUEsbUJBQUEsR0FDQSxhQUFBLG1CQUFBLEdBRUEsT0FBQSxLQUFBLEVBQUEsUUFBQSxFQUFBLFFBSUEsRUFBQSxRQUFBLG1CQUFBLFNBQUEsR0FDQSxHQUFBLElBQ0EsT0FBQSxPQUNBLEtBQUEsRUFBQSxTQUFBLFFBQUEsRUFDQSxRQUFBLEVBQUEsU0FBQSxZQUFBLEtBQ0EsS0FBQSxFQUFBLFNBQUEsVUFBQSxLQUNBLFFBQUEsRUFBQSxTQUFBLFlBQUEsS0FDQSxZQUFBLEVBQUEsU0FBQSxnQkFBQSxLQUdBLEdBQUEsUUFDQSxFQUFBLFFBQUEsa0NBR0EsR0FBQSxHQUFBLEVBQUEscUJBSUEsSUFBQSxTQUFBLEVBQUEsR0FDQSxFQUFBLFFBQUEsU0FBQSxHQUVBLFlBRUEsUUFDQSxjQUFBLFNBQUEsR0FDQSxNQUFBLEdBQUEsVUFBQSxFQUFBLFNBQUEsSUFDQSxHQUVBLEdBRUEsa0JBQUEsU0FBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLFNBQUEsR0FBQSxNQUdBLGNBRkEsR0FBQSxTQUFBLEdBQUEsT0FFQSxHQUVBLGVBQUEsU0FBQSxFQUFBLEdBQ0EsSUFDQSxFQUFBLFNBQUEsR0FBQSxHQUFBLEtBQUEsY0FBQSxLQUdBLGNBQUEsU0FBQSxHQUNBLEdBQUEsR0FBQSxhQUFBLFFBQUEsRUFLQSxPQUpBLEtBQ0EsRUFBQSxTQUNBLGFBQUEsUUFBQSxFQUFBLElBRUEsR0FFQSxpQkFBQSxTQUFBLEdBQ0EsYUFBQSxXQUFBLFdBSUEsSUFBQSxTQUFBLEVBQUEsR0FDQSxFQUFBLFFBQUEsU0FBQSxFQUFBLEdBQ0EsWUFFQSxHQUFBLFVBQUEsR0FBQSxRQUFBLGlDQUFBLFdBQ0EsR0FBQSxHQUFBLEVBQUEsS0FDQSxLQUFBLEVBQUEsU0FBQSxTQUFBLFFBQ0EsRUFBQSxFQUFBLEtBQUEsT0FBQSxVQUFBLEVBQUEsVUFBQSxFQUFBLFFBQUEsaUJBSUEsSUFBQSxTQUFBLEVBQUEsR0FDQSxFQUFBLFNBQ0EsZ0JBQ0EsR0FBQSxTQUNBLEdBQUEsZ0JBSUEsSUFBQSxTQUFBLEVBQUEsR0FDQSxFQUFBLFFBQUEsU0FBQSxFQUFBLEVBQUEsRUFBQSxHQUNBLFlBaURBLFNBQUEsR0FBQSxFQUFBLElBQ0EsRUFBQSxFQUFBLE9BQUEsRUFBQSxFQUFBLE1BSUEsRUFBQSxpQkFBQSxjQUFBLEVBQUEsV0FwREEsR0FBQSxHQUFBLEVBQ0EsR0FDQSxrQkFDQSxlQUlBLEdBQUEsVUFBQSxNQUFBLFdBQ0EsRUFBQSxXQUNBLEVBQUEsSUFBQSxlQUFBLEVBQUEsV0FDQSxnQkFBQSxFQUFBLFdBRUEsRUFBQSxJQUFBLFlBQUEsRUFBQSxhQUlBLEVBQUEsVUFBQSxVQUFBLFNBQUEsRUFBQSxHQUNBLE1BQUEsRUFBQSxRQUFBLEVBQUEsUUFBQSxFQUFBLGNBQUEsSUFDQSxFQUFBLE1BQUEsTUFBQSxHQUNBLGlFQUFBLEVBQUEsYUFBQSxLQUNBLFdBQ0EsT0FBQSxTQUFBLEtBQUEsYUFPQSxFQUFBLFNBQUEsR0FFQSxNQUFBLDZCQUFBLEtBQUEsSUFHQSxFQUFBLFNBQUEsR0FHQSxHQUFBLEdBQUEsU0FBQSxTQUFBLEtBQ0EsRUFBQSxTQUFBLFNBQUEsU0FDQSxFQUFBLEtBQUEsRUFDQSxFQUFBLEVBQUEsQ0FFQSxPQUFBLEtBQUEsR0FBQSxFQUFBLE1BQUEsRUFBQSxFQUFBLE9BQUEsS0FBQSxFQUFBLEtBQ0EsSUFBQSxHQUFBLEVBQUEsTUFBQSxFQUFBLEVBQUEsT0FBQSxLQUFBLEVBQUEsTUFFQSx5QkFBQSxLQUFBLElBWUEsRUFBQSxXQUNBLE9BQUEsRUFDQSxTQUFBLE9BQ0EsV0FBQSxJQUdBLEVBQUEsS0FBQSxTQUFBLEdBR0EsTUFGQSxHQUFBLE9BQUEsRUFDQSxFQUFBLE9BQUEsT0FDQSxFQUFBLFFBQUEsVUFJQSxJQUFBLFNBQUEsRUFBQSxHQUNBLEVBQUEsUUFBQSxTQUFBLEVBQUEsR0FFQSxZQUVBLEdBQUEsUUFBQSxRQUFBLDRCQUVBLE9BQUEsWUFBQSxXQUNBLE9BQUEsR0FBQSxNQUNBLE1BQUEsRUFBQSxnQkFDQSxRQUFBLElBQUEsRUFBQSxxQkFDQSxRQUFBLEVBQ0EsT0FBQSxFQUNBLFFBQUEsSUFFQSxFQUFBLFlBQUEsUUFBQSxrQkFHQSxTQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLEVBQUEscUJBQUEsR0FBQSxFQUVBLEdBQUEsZUFBQSxLQUlBLEVBQUEsRUFBQSxjQUFBLEdBQ0EsRUFBQSxHQUFBLEVBQ0EsRUFBQSxJQUFBLHNDQUNBLEVBQUEsV0FBQSxhQUFBLEVBQUEsS0FFQSxTQUFBLFNBQUEsd0JBSUEsSUFBQSxTQUFBLEVBQUEsR0FDQSxFQUFBLFFBQUEsU0FBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLElBQ0EsZ0JBQUEsRUFFQSxJQUFBLEVBQUEsS0FDQSxLQUFBLFVBRUEsYUFBQSxFQUVBLGFBQUEsUUFDQSxZQUFBLFNBRUEsV0FBQSxFQUFBLFdBQUEsRUFBQSxLQUFBLE9BR0EsR0FBQSxLQUFBLEVBQUEsV0FFQSxFQUFBLFVBQUEsTUFBQSxXQUNBLEVBQUEsVUFDQSxFQUFBLFNBQUEsS0FBQSxFQUFBLGVBTUEsT0FBQSxHQUFBLEVBQUEsRUFDQSxPQUFBLE9BQUEsRUFBQSxJQUFBLFlBR0EsR0FBQSxLQUFBLElBQUEsU0FBQSxFQUFBLEdBRUEsRUFBQSxTQUNBLFVBQUEsRUFDQSxVQUFBLEdBQ0EsTUFBQSxJQUNBLFFBQUEsR0FDQSxPQUFBLEdBQ0EsSUFBQSxHQUNBLE1BQUEsR0FDQSxPQUFBLEdBQ0EsS0FBQSxHQUNBLE9BQUEsR0FDQSxVQUFBLEdBQ0EsUUFBQSxHQUNBLE9BQUEsSUFDQSxNQUFBLEdBQ0EsTUFBQSxHQUNBLElBQUEsRUFDQSxHQUFBLEdBQ0EsS0FBQSxHQUNBLEtBQUEsR0FDQSxNQUFBLEdBQ0EsS0FBQSxHQUNBLElBQUEsR0FDQSxJQUFBLEdBQ0EsTUFBQSxHQUNBLEtBQUEsR0FDQSxLQUFBLEdBQ0EsSUFBQSxHQUNBLE1BQUEsR0FDQSxNQUFBLEdBQ0EsS0FBQSxHQUNBLFdBQUEsSUFDQSxlQUFBLElBQ0EsY0FBQSxJQUNBLGFBQUEsSUFDQSxnQkFBQSxJQUNBLGdCQUFBLElBQ0EsWUFBQSxHQUNBLFdBQUEsR0FDQSxXQUFBLEdBQ0EsYUFBQSxHQUNBLFlBQUEsSUFDQSxZQUFBLElBQ0EsV0FBQSxJQUNBLGFBQUEsSUFDQSxhQUFBLElBQ0EsWUFBQSxJQUNBLEVBQUEsR0FDQSxFQUFBLEdBQ0EsRUFBQSxHQUNBLEVBQUEsR0FDQSxFQUFBLEdBQ0EsRUFBQSxHQUNBLEVBQUEsR0FDQSxFQUFBLEdBQ0EsRUFBQSxHQUNBLEVBQUEsR0FDQSxFQUFBLEdBQ0EsRUFBQSxHQUNBLEVBQUEsR0FDQSxFQUFBLEdBQ0EsRUFBQSxHQUNBLEVBQUEsR0FDQSxFQUFBLEdBQ0EsRUFBQSxHQUNBLEVBQUEsR0FDQSxFQUFBLEdBQ0EsRUFBQSxHQUNBLEVBQUEsR0FDQSxFQUFBLEdBQ0EsRUFBQSxHQUNBLEVBQUEsR0FDQSxFQUFBLFNBR0EsSUFBQSxTQUFBLEdBRUEsT0FBQSxPQUFBLEVBQUEsSUFDQSxFQUFBLE1BRUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxJQUFBLFNBQUEsRUFBQSxHQUNBLEVBQUEsUUFBQSxTQUFBLEVBQUEsR0FDQSxFQUFBLG9CQUNBLEVBQUEsT0FBQSxFQUFBLG1CQUFBLFVBQ0EsRUFBQSxNQUFBLEVBQUEsS0FBQSxPQUNBLEVBQUEsZ0JBQ0EsR0FBQSxFQUFBLEtBQUEsR0FDQSxNQUFBLEVBQUEsS0FBQSxlQU1BLElBQUEsU0FBQSxFQUFBLEdBS0EsRUFBQSxRQUFBLFNBQUEsSUFDQSxXQUNBLEdBQUEsR0FBQSxPQUFBLFVBQUEsT0FBQSxhQUNBLEtBQUEsRUFBQSxXQUFBLEdBQUEsRUFBQSxRQUFBLE9BQUEsU0FBQSxRQUFBLE9BQUEsUUFBQSxNQUFBLHVDQUFBLENBQ0EsRUFBQSxTQUFBLEVBQ0EsRUFBQSxTQUFBLGNBQUEsYUFBQSxZQUFBLFlBQUEsV0FBQSxXQUFBLFFBQUEsUUFBQSxRQUFBLFFBQUEsUUFBQSxRQUFBLE9BQUEsT0FBQSxNQUFBLE1BQ0EsRUFBQSxRQUFBLFNBQUEsR0FDQSxNQUFBLFlBQ0EsR0FBQSxHQUFBLE1BQUEsVUFBQSxNQUFBLEtBQUEsVUFHQSxPQUZBLEdBQUEsUUFBQSxHQUNBLEVBQUEsS0FBQSxHQUNBLEdBR0EsS0FBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsUUFBQSxPQUFBLElBQUEsQ0FDQSxHQUFBLEdBQUEsRUFBQSxRQUFBLEVBQ0EsR0FBQSxHQUFBLEVBQUEsUUFBQSxHQUVBLEVBQUEsS0FBQSxTQUFBLEdBQ0EsR0FBQSxHQUFBLFNBQUEsY0FBQSxTQUNBLEdBQUEsS0FBQSxrQkFDQSxFQUFBLE9BQUEsRUFDQSxFQUFBLEtBQUEsV0FBQSxTQUFBLFNBQUEsU0FBQSxXQUFBLFdBQUEsbUNBQUEsRUFBQSxtQkFDQSxJQUFBLEdBQUEsU0FBQSxxQkFBQSxVQUFBLEVBQ0EsR0FBQSxXQUFBLGFBQUEsRUFBQSxJQUVBLEVBQUEsZ0JBQUEsUUFHQSxFQUFBLEtBQUEsRUFBQSxpQkFFQSxFQUFBLEtBQUEsa0JBQ0EsRUFBQSxTQUFBLEVBQUEsS0FBQSxJQUNBLFNBQUEsRUFBQSxLQUFBLFNBQ0EsT0FBQSxFQUFBLEtBQUEsYUFJQSxFQUFBLGlCQU9BLElBQUEsU0FBQSxFQUFBLEdBQ0EsRUFBQSxRQUFBLFNBQUEsRUFBQSxHQUNBLEVBQUEsT0FDQSxJQUFBLEVBQUEsV0FBQSxTQUNBLGVBQUEsRUFDQSxXQUFBLEVBQ0EsWUFBQSxFQUNBLFlBQUEsRUFDQSxhQUFBLEVBQ0EsYUFBQSxFQUNBLFVBQUEsV0FDQSxPQUFBLFNBQ0EsT0FBQSxRQUFBLElBQUEsbUNBTUEsSUFBQSxTQUFBLElBS0EsU0FBQSxHQUVBLEVBQUEsSUFBQSxFQUFBLE9BR0EsRUFBQSxNQUdBLEVBQUEsSUFBQSxFQUFBLEVBQUEsTUFHQSxFQUFBLElBQUEsRUFBQSxXQUNBLEVBQUEsSUFBQSxHQUNBLEVBQUEsSUFBQSxFQUFBLEdBQ0EsRUFBQSxJQUFBLEdBQ0EsRUFBQSxJQUFBLEVBQUEsRUFBQSxHQUNBLEVBQUEsSUFBQSxHQUNBLEVBQUEsSUFBQSxFQUFBLEVBQUEsV0FBQSxHQUdBLEVBQUEsSUFBQSxFQUFBLEVBQUEsRUFBQSxTQUNBLEVBQUEsSUFBQSxhQUFBLEdBQ0EsRUFBQSxJQUFBLEVBQUEsR0FDQSxFQUFBLElBQUEsR0FDQSxFQUFBLElBQ0EsRUFBQSxJQUNBLE9BQUEsVUFBQSxFQUFBLElBQ0EsT0FBQSxPQUFBLEVBQUEsSUFDQSxFQUFBLFVBQUEsRUFBQSxJQUdBLE9BQUEsU0FBQSxFQUFBLElBQUEsR0FDQSxFQUFBLFNBQUEsRUFBQSxJQUFBLEVBQUEsRUFBQSxFQUFBLFdBQUEsVUFDQSxFQUFBLElBQUEsRUFBQSxHQUNBLEVBQUEsSUFBQSxFQUFBLFNBQ0EsRUFBQSxJQUFBLEVBQUEsRUFBQSxjQUNBLEVBQUEsSUFBQSxFQUFBLEdBR0EsRUFBQSxJQUFBLEdBQ0EsRUFBQSxJQUFBLEVBQUEsR0FDQSxFQUFBLElBQUEsRUFBQSxFQUFBLEVBQUEsT0FDQSxFQUFBLElBQUEsRUFBQSxHQUNBLEVBQUEsSUFBQSxFQUFBLEdBR0EsRUFBQSxHQUFBLEVBQUEsRUFBQSxHQUNBLEVBQUEsWUFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsWUFDQSxFQUFBLElBQUEsTUFBQSxFQUFBLEVBQUEsR0FDQSxFQUFBLElBQUEsRUFBQSxHQUNBLEVBQUEsSUFBQSxFQUFBLEdBQ0EsRUFBQSxHQUFBLEVBQUEsR0FDQSxFQUFBLEdBQUEsRUFBQSxHQUNBLEVBQUEsR0FBQSxFQUFBLEdBQ0EsRUFBQSxJQUFBLEVBQUEsTUFBQSxFQUFBLEdBQ0EsRUFBQSxJQUFBLEVBQUEsTUFBQSxFQUFBLEVBQUEsV0FDQSxFQUFBLEdBQUEsRUFBQSxHQUdBLEVBQUEsR0FBQSxFQUFBLEdBQ0EsRUFBQSxHQUFBLEVBQUEsSUFFQSxXQUVBLEVBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsSUFBQSxJQUFBLFNBQUEsRUFBQSxHQUNBLEVBQUEsUUFBQSxTQUFBLEVBQUEsRUFBQSxFQUFBLEdBQ0EsWUFpUEEsT0EvT0EsR0FBQSxlQUFBLFVBQUEsU0FBQSxFQUFBLEVBQUEsR0FFQSxHQUFBLFVBQUEsT0FBQSxFQUNBLEtBQUEsSUFBQSxPQUFBLGtEQUVBLElBQUEsR0FBQSxFQUFBLEtBQUEsVUFBQSxLQUVBLEdBQ0EsS0FBQSxTQUFBLEVBQUEsR0FBQSxNQUFBLElBQUEsR0FDQSxNQUFBLFNBQUEsRUFBQSxHQUFBLE1BQUEsS0FBQSxHQUNBLEtBQUEsU0FBQSxFQUFBLEdBQUEsTUFBQSxJQUFBLEdBQ0EsSUFBQSxTQUFBLEVBQUEsR0FBQSxNQUFBLEdBQUEsR0FDQSxJQUFBLFNBQUEsRUFBQSxHQUFBLE1BQUEsR0FBQSxHQUNBLEtBQUEsU0FBQSxFQUFBLEdBQUEsTUFBQSxJQUFBLEdBQ0EsS0FBQSxTQUFBLEVBQUEsR0FBQSxNQUFBLElBQUEsR0FDQSxTQUFBLFNBQUEsRUFBQSxHQUFBLGFBQUEsSUFBQSxHQUdBLEtBQUEsRUFBQSxHQUNBLEtBQUEsSUFBQSxPQUFBLDBEQUFBLEVBRUEsSUFBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLEVBRUEsT0FBQSxHQUNBLEVBQUEsR0FBQSxNQUVBLEVBQUEsUUFBQSxRQU1BLEVBQUEsZUFBQSxZQUFBLFNBQUEsRUFBQSxHQUNBLE1BQUEsZ0JBQUEsSUFBQSxJQUFBLEVBQ0EsRUFBQSxHQUFBLE1BRUEsRUFBQSxRQUFBLFFBSUEsRUFBQSxlQUFBLFlBQUEsU0FBQSxHQUNBLElBQ0EsTUFBQSxHQUFBLFFBQUEsR0FDQSxNQUFBLEdBQ0EsTUFBQSxNQUlBLEVBQUEsZUFBQSxhQUFBLFdBSUEsTUFIQSxRQUFBLFNBQ0EsT0FBQSxRQUFBLElBQUEsTUFFQSxLQUdBLEVBQUEsZUFBQSxZQUFBLFNBQUEsR0FDQSxNQUFBLEdBQUEsU0FBQSxHQUVBLEVBQUEsRUFDQSxHQUFBLEVBRUEsSUFBQSxFQUpBLFFBU0EsRUFBQSxlQUFBLFdBQUEsU0FBQSxHQUNBLEdBQUEsR0FBQSxPQUFBLEdBQ0EsRUFBQSxFQUFBLFFBQUEsa0JBQUEsUUFDQSxPQUFBLEtBQUEsRUFDQSxFQUVBLEVBQUEsUUFBQSxTQUFBLEtBSUEsRUFBQSxlQUFBLFlBQUEsU0FBQSxFQUFBLEdBQ0EsTUFBQSxLQUFBLEVBQ0EsRUFFQSxFQUFBLE1BSUEsRUFBQSxlQUFBLFlBQUEsU0FBQSxHQUNBLE1BQUEsSUFBQSxHQUFBLFdBQUEsS0FJQSxFQUFBLGVBQUEsYUFBQSxTQUFBLEdBQ0EsTUFBQSxHQUFBLFFBQUEsR0FDQSxJQUFBLEVBQUEsS0FBQSxLQUVBLEtBSUEsRUFBQSxlQUFBLGNBQUEsU0FBQSxHQUNBLE1BQUEsR0FBQSxTQUFBLEdBQ0EsRUFBQSxNQUFBLElBQUEsRUFDQSxFQUFBLFFBQUEsU0FBQSxHQUNBLEVBQUEsTUFBQSxJQUFBLEVBQ0EsRUFBQSxRQUFBLFNBQUEsS0FBQSxNQUFBLEVBQUEsTUFBQSxJQUVBLEVBQUEsUUFBQSxTQUFBLEtBQUEsTUFBQSxFQUFBLE1BQUEsSUFOQSxTQVdBLEVBQUEsZUFBQSxpQkFBQSxTQUFBLEdBQ0EsR0FDQSxHQUFBLEVBREEsRUFBQSxFQUFBLENBR0EsT0FBQSxHQUFBLFNBQUEsSUFJQSxJQUNBLEdBQUEsSUFHQSxFQUFBLEVBQUEsR0FFQSxHQUFBLElBQ0EsRUFBQSxJQUFBLEdBRUEsRUFBQSxLQUFBLE1BQUEsRUFBQSxLQUVBLEVBQUEsSUFBQSxJQUFBLEVBQUEsSUFBQSxHQWRBLEtBaUJBLEVBQUEsZUFBQSxRQUFBLFdBQ0EsR0FBQSxHQUFBLEVBQUEsUUFBQSxXQUFBLE1BQUEsRUFBQSxJQUFBLEtBQUEsR0FDQSxPQUNBLEdBQUEsV0FDQSxJQUlBLEVBQUEsZUFBQSxVQUFBLFNBQUEsRUFBQSxHQU9BLElBTkEsRUFBQSxZQUFBLEtBQ0EsRUFBQSxHQUdBLEdBQUEsR0FFQSxFQUFBLE9BQUEsR0FDQSxFQUFBLElBQUEsQ0FHQSxPQUFBLEtBR0EsRUFBQSxlQUFBLE1BQUEsU0FBQSxFQUFBLEVBQUEsRUFBQSxHQUVBLElBQUEsR0FEQSxHQUFBLEdBQ0EsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEVBQ0EsR0FBQSxFQUFBLEdBQUEsRUFDQSxPQUFBLEtBR0EsRUFBQSxlQUFBLGVBQUEsV0FNQSxJQUFBLEdBTEEsSUFDQSxNQUFBLE1BQUEsTUFBQSxNQUFBLE1BQUEsTUFBQSxNQUFBLE1BQUEsTUFBQSxNQUFBLE1BQUEsT0FFQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLE9BQUEsV0FDQSxFQUFBLEVBQUEsR0FBQSxFQUFBLElBQUEsQ0FDQSxHQUFBLEdBQUEsSUFBQSxFQUFBLHNCQUFBLEdBQ0EsRUFBQSxRQUFBLFVBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxJQUFBLFFBQUEsb0NBQUEsRUFBQSxFQUFBLEVBQUEsR0FHQSxNQUFBLElBQUEsR0FBQSxXQUFBLEtBR0EsRUFBQSxlQUFBLGNBQUEsV0FHQSxJQUFBLEdBRkEsSUFBQSxHQUFBLE9BQUEsY0FDQSxFQUFBLEdBQ0EsRUFBQSxFQUFBLEdBQUEsRUFBQSxJQUFBLENBQ0EsR0FBQSxHQUFBLElBQUEsRUFBQSxzQkFBQSxHQUNBLEVBQUEsUUFBQSxLQUFBLEVBQUEsRUFDQSxJQUFBLFFBQUEsb0NBQUEsRUFBQSxFQUFBLEVBQUEsR0FHQSxNQUFBLElBQUEsR0FBQSxXQUFBLEtBSUEsRUFBQSxlQUFBLEtBQUEsU0FBQSxFQUFBLEdBRUEsR0FBQSxFQUFBLEtBQUEsRUFBQSxNQUFBLEVBQUEsQ0FDQSxHQUFBLEdBQUEsRUFBQSxJQUFBLEVBQUEsS0FBQSxXQUNBLEVBQUEsS0FBQSxRQUFBLEtBQ0EsRUFBQSxLQUFBLFVBQUEsT0FBQSxFQUFBLEtBQUEsRUFJQSxPQUZBLEdBQUEsS0FBQSxFQUFBLGFBQUEsRUFBQSxHQUFBLElBRUEsR0FBQSxHQUFBLFdBQUEsR0FBQSxFQUFBLElBR0EsTUFBQSxJQUFBLEdBQUEsV0FBQSxHQUFBLE1BSUEsRUFBQSxlQUFBLE9BQUEsU0FBQSxFQUFBLEVBQUEsR0FJQSxNQUhBLEdBQUEsV0FBQSxHQUNBLEVBQUEsV0FBQSxJQUdBLElBQUEsRUFBQSxFQUNBLElBQUEsRUFBQSxFQUNBLElBQUEsRUFBQSxFQUNBLElBQUEsRUFBQSxFQUNBLElBQUEsRUFBQSxHQUNBLEtBR0EsRUFBQSxlQUFBLFdBQUEsU0FBQSxFQUFBLEdBQ0EsR0FBQSxFQUFBLE9BQUEsRUFBQSxDQUdBLElBRkEsR0FBQSxHQUFBLEVBQUEsT0FBQSxFQUFBLEVBQUEsR0FFQSxFQUFBLFFBQUEsQ0FDQSxHQUFBLEdBQUEsRUFBQSxPQUFBLEdBR0EsSUFGQSxFQUFBLEVBQUEsT0FBQSxFQUFBLElBRUEsS0FBQSxFQUNBLE1BUUEsTUFKQSxJQUFBLElBQ0EsRUFBQSxFQUFBLE9BQUEsRUFBQSxJQUdBLEdBQUEsR0FBQSxXQUFBLEVBQUEsT0FFQSxNQUFBLEtBR0EsUUFHQSxJQUFBLFNBQUEsRUFBQSxHQUNBLEVBQUEsUUFBQSxTQUFBLEdBQ0EsWUFFQSxPQUFBLFVBQUEsRUFBQSxFQUFBLEdBRUEsTUFBQSxHQUFBLEVBQ0EsRUFBQSxHQUFBLE1BQUEsSUFFQSxFQUFBLEdBQUEsTUFBQSxXQUlBLElBQUEsU0FBQSxFQUFBLEdBS0EsRUFBQSxRQUFBLFNBQUEsR0FDQSxZQUdBLEdBQUEsR0FBQSxrQkFBQSxTQUFBLEdBQ0EsR0FBQSxFQUFBLE1BQUEsSUFBQSxHQUFBLGtCQUNBLEVBQUEsTUFBQSxJQUFBLEdBQUEsa0JBQUEsRUFBQSxPQUNBLElBQUEsRUFBQSxNQUFBLElBQUEsR0FBQSxnQkFBQSxDQUNBLEdBQUEsR0FBQSxFQUFBLE1BQUEsSUFBQSxHQUFBLGlCQUNBLEdBQUEsVUFBQSxHQUNBLEVBQUEsUUFBQSxZQUFBLEdBQ0EsRUFBQSxVQUFBLFlBQUEsR0FDQSxFQUFBLFNBRUEsTUFBQSxHQUFBLE9BSUEsRUFBQSxHQUFBLGtCQUFBLFdBQ0EsR0FBQSxHQUFBLEVBQ0EsRUFBQSxFQUFBLE1BQUEsSUFBQSxFQUVBLElBQUEsU0FBQSxVQUFBLENBQ0EsRUFBQSxPQUNBLElBQUEsR0FBQSxTQUFBLFVBQUEsY0FDQSxFQUFBLFNBQUEsVUFBQSxjQUFBLEtBQUEsTUFDQSxHQUFBLFVBQUEsYUFBQSxFQUFBLE1BQUEsUUFDQSxFQUFBLEVBQUEsS0FBQSxPQUFBLE9BR0EsRUFBQSxnQkFBQSxLQUFBLEVBQUEsa0JBQ0EsRUFBQSxFQUFBLGVBR0EsT0FBQSxVQUlBLElBQUEsU0FBQSxFQUFBLEdBQ0EsRUFBQSxRQUFBLFNBQUEsRUFBQSxHQUNBLFlBRUEsR0FBQSxHQUFBLFNBQUEsU0FBQSxFQUFBLEdBS0EsR0FBQSxHQUFBLFFBQUEsRUFDQSxFQUFBLEtBQUEsUUFBQSxJQUFBLEVBQUEsSUFFQSxJQUFBLElBQUEsRUFBQSxPQUNBLE1BQUEsRUFFQSxJQUFBLEdBQUEsRUFBQSxLQUFBLEVBQ0EsT0FBQSxtQkFBQSxHQUNBLEVBRUEsR0FLQSxFQUFBLEdBQUEsU0FBQSxTQUFBLEVBQUEsR0FHQSxHQUFBLEdBQUEsUUFBQSxFQUFBLElBQ0EsSUFVQSxPQVRBLEdBQUEsTUFBQSxLQUFBLFdBQ0EsRUFBQSxLQUFBLEtBQUEsV0FBQSxXQUNBLEdBQUEsS0FBQSxXQUFBLEVBQUEsU0FBQSxLQUFBLEtBQUEsR0FBQSxDQUNBLEdBQUEsR0FBQSxLQUFBLEtBQUEsTUFBQSxLQUNBLEVBQUEsRUFBQSxHQUFBLFVBQUEsRUFBQSxPQUNBLEdBQUEsR0FBQSxLQUFBLFdBSUEsSUFBQSxFQUFBLE9BQUEsRUFDQSxTQUlBLElBQUEsU0FBQSxFQUFBLEdBQ0EsRUFBQSxRQUFBLFNBQUEsR0FDQSxZQUdBLEdBQUEsUUFDQSxVQUFBLFNBQUEsR0FDQSxHQUFBLEdBQUEsU0FBQSxFQUFBLFlBQ0EsRUFBQSxHQUFBLFFBQUEsR0FDQSxFQUFBLEVBQUEsS0FBQSxPQUFBLFNBQUEsS0FFQSxPQUFBLFFBQUEsRUFDQSxPQUVBLEVBQUEsWUFNQSxJQUFBLFNBQUEsRUFBQSxHQUNBLEVBQUEsUUFBQSxTQUFBLEVBQUEsRUFBQSxHQUNBLFlBUUEsR0FBQSxpQkFBQSxTQUFBLEVBQUEsRUFBQSxFQUFBLEdBQ0EsRUFBQSxJQUFBLEVBQUEsR0FRQSxJQVBBLEVBQUEsTUFDQSxTQUFBLFNBQ0EsT0FBQSxFQUNBLElBQUEsRUFBQSxXQUFBLEVBQ0EsUUFBQSxXQVFBLElBQUEsU0FBQSxFQUFBLEdBQ0EsRUFBQSxRQUFBLFNBQUEsR0FDQSxZQXlFQSxPQXZFQSxHQUFBLE9BQ0EsR0FBQSxTQUFBLEVBQUEsRUFBQSxHQVlBLE1BVkEsTUFBQSxTQUFBLEtBQ0EsRUFBQSxFQUNBLEVBQUEsRUFDQSxFQUFBLE1BRUEsS0FBQSxZQUFBLEVBQUEsV0FDQSxFQUFBLFlBQ0EsSUFBQSxHQUFBLFVBQ0EsRUFBQSxRQUFBLE9BQ0EsRUFBQSxRQUFBLEdBQUEsS0FBQSxHQUNBLE1BR0EsSUFBQSxTQUFBLEVBQUEsRUFBQSxHQU9BLE1BTEEsTUFBQSxTQUFBLEtBQ0EsRUFBQSxFQUNBLEVBQUEsRUFDQSxFQUFBLE9BRUEsS0FBQSxZQUFBLEVBQUEsVUFFQSxJQUFBLEdBQUEsU0FHQSxFQUFBLFFBQUEsR0FBQSxLQUFBLFFBQUEsRUFBQSxRQUFBLEdBQUEsR0FDQSxNQU5BLFFBU0EsUUFBQSxTQUFBLEVBQUEsRUFBQSxHQUNBLEtBQUEsU0FBQSxLQUNBLEVBQUEsRUFDQSxFQUFBLEVBQ0EsRUFBQSxLQUVBLElBQUEsR0FBQSxXQUNBLEVBQUEsWUFBQSxFQUFBLEdBRUEsR0FBQSxFQUFBLFFBQUEsRUFBQSxHQUNBLEtBQUEsR0FBQSxFQUFBLEVBQUEsSUFHQSxLQUFBLFNBQUEsRUFBQSxFQUFBLEdBS0EsR0FKQSxLQUFBLFNBQUEsS0FDQSxFQUFBLEVBQ0EsRUFBQSxPQUVBLEtBQUEsWUFBQSxFQUFBLFNBQUEsQ0FFQSxHQUFBLElBQUEsR0FBQSxRQUVBLElBQUEsR0FEQSxHQUFBLEVBQUEsUUFBQSxHQUFBLFNBQ0EsRUFBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLEVBQUEsRUFBQSxJQUNBLEVBQUEsR0FBQSxNQUFBLEVBQUEsU0FBQSxLQUFBLEVBRUEsT0FBQSxRQUdBLFlBQUEsU0FBQSxFQUFBLEdBQ0EsS0FBQSxTQUFBLEtBQ0EsRUFBQSxFQUNBLEVBQUEsTUFFQSxLQUFBLFlBQUEsRUFBQSxnQkFFQSxHQUFBLFFBQUEsTUFFQSxPQUFBLElBRUEsUUFHQSxJQUFBLFNBQUEsRUFBQSxHQVNBLEVBQUEsUUFBQSxTQUFBLEVBQUEsR0FFQSxZQUVBLEdBQUEsT0FHQSxLQUFBLEVBQUEsTUFBQSxZQUNBLE1BQ0EsRUFBQSxXQUFBLEVBQUEsS0FBQSx3QkFDQSxFQUFBLFdBQUEsRUFBQSxLQUFBLDRCQUtBLEtBQUEsTUFBQSxVQUFBLFFBQ0EsS0FBQSxFQUFBLFdBQUEsRUFBQSxLQUFBLCtCQUtBLElBQUEsU0FBQSxFQUFBLEdBQ0EsRUFBQSxRQUFBLFNBQUEsR0FFQSxZQUdBLEdBQUEsVUFBQSxHQUFBLFFBQUEsNEJBQUEsV0FDQSxPQUFBLFVBS0EsSUFBQSxTQUFBLEVBQUEsR0FDQSxFQUFBLFFBQUEsU0FBQSxHQUNBLFlBRUEsU0FBQSxLQUNBLEdBQUEsR0FBQSxFQUFBLGFBQ0EsRUFBQSxFQUFBLFVBQUEsR0FDQSxFQUFBLEVBQUEsZUFBQSxHQUNBLEVBQUEsRUFBQSxhQUFBLEdBQ0EsRUFBQSxFQUFBLGFBQUEsR0FDQSxFQUFBLEVBQUEsSUFBQSxFQUVBLEdBQUEsT0FBQSwyQkFBQSxFQUFBLElBQUEsR0FBQSxPQUFBLGNBQUEsV0FFQSxFQUFBLEdBQUEsUUFBQSxTQUFBLEdBQ0EsRUFBQSxnQkFDQSxJQUFBLEdBQUEsRUFBQSxNQUNBLEVBQUEsRUFBQSxNQUNBLEVBQUEsRUFBQSxLQUFBLFlBRUEsR0FBQSxJQUFBLEdBRUEsSUFBQSxHQUNBLEVBQUEsV0FLQSxRQUFBLEtBQ0EsR0FBQSxHQUFBLEVBQUEsd0JBQ0EsRUFBQSxFQUFBLHlCQUNBLEVBQUEsRUFBQSx5QkFBQSxHQUNBLEVBQUEsRUFBQSxpQkFBQSxHQUNBLEVBQUEsRUFBQSxJQUFBLEdBQ0EsRUFBQSxFQUFBLFlBRUEsR0FBQSxHQUFBLFFBQUEsV0FDQSxFQUFBLFlBQUEsZUFHQSxFQUFBLEdBQUEsUUFBQSxXQUNBLEdBQUEsR0FBQSxFQUFBLE1BQUEsS0FBQSxRQUNBLEVBQUEsRUFBQSxnQkFBQSxFQUFBLEtBQUEsRUFFQSxHQUFBLFFBQ0EsRUFBQSxZQUFBLGVBR0EsRUFBQSxVQUFBLE1BQUEsU0FBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLFFBRUEsRUFBQSxTQUFBLGNBQ0EsRUFBQSxHQUFBLEdBQUEsRUFBQSxJQUFBLEtBQ0EsRUFBQSxHQUFBLEdBQUEsSUFDQSxFQUFBLEdBQUEsR0FBQSxJQUNBLEVBQUEsR0FBQSxHQUFBLEVBQUEsV0FDQSxFQUFBLFlBQUEsZUFJQSxJQUNBLFVBR0EsSUFBQSxTQUFBLEVBQUEsR0FDQSxFQUFBLFFBQUEsU0FBQSxFQUFBLEdBRUEsWUFFQSxJQUFBLEdBQUEsRUFBQSxPQUVBLEdBQUEsT0FDQSxNQUFBLFNBQUEsRUFBQSxHQUNBLEVBQUEsTUFBQSxLQUFBLEdBQUEsV0FBQSxFQUFBLElBRUEsUUFBQSxTQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsSUFDQSxTQUFBLEdBQ0EsWUFBQSxFQUNBLFlBQUEsRUFDQSxXQUFBLEdBQ0EsVUFBQSxFQUNBLFVBQUEsRUFDQSxRQUFBLEdBQ0EsUUFBQSxFQUNBLFNBQUEsRUFDQSxTQUFBLE9BQ0EsZ0JBQUEsRUFDQSxnQkFDQSxhQUFBLEdBRUEsRUFBQSxFQUFBLFVBQUEsRUFBQSxFQUVBLEdBQUEsU0FBQSxNQUFBLFdBQ0EsR0FBQSxJQUNBLE1BQUEsRUFBQSxXQUNBLFFBQUEsRUFBQSxTQUNBLFFBQUEsRUFBQSxRQUNBLEdBQUEsRUFBQSxRQUNBLE9BQUEsRUFBQSxPQUNBLE1BQUEsRUFDQSxTQUFBLEVBQUEsU0FDQSxRQUFBLEVBQUEsUUFDQSxhQUFBLEVBQUEsYUFDQSxhQUFBLEVBQUEsY0FFQSxFQUFBLEVBQUEsU0FBQSxPQUFBLHVCQUFBLEdBQ0EsRUFBQSxFQUFBLEdBQUEsU0FBQSxPQUVBLEdBQ0EsR0FBQSxnQkFBQSxXQUNBLEVBQUEsWUFBQSxFQUFBLGdCQUFBLEdBQUEsT0FDQSxFQUFBLFlBQUEsRUFBQSxnQkFBQSxHQUFBLFNBRUEsR0FBQSxpQkFBQSxXQUNBLEVBQUEsTUFBQSxTQUFBLEdBQ0EsRUFBQSxRQUFBLE9BQUEsV0FDQSxFQUFBLE1BQUEsU0FBQSxLQUVBLEVBQUEsS0FDQSxRQUFBLE9BQ0EsV0FBQSxjQUdBLEdBQUEsa0JBQUEsV0FDQSxFQUFBLGdCQUFBLEVBQUEsU0FDQSxFQUFBLFdBQUEsSUFBQSxNQUVBLE9BQ0EsU0FBQSxFQUFBLFNBQ0EsU0FBQSxFQUFBLGFBR0EsRUFBQSxVQUFBLE9BQUEsRUFBQSxVQUNBLEVBQUEsV0FBQSxJQUFBLEtBRUEsU0FBQSxTQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsS0FBQSxrQkFBQSxRQUNBLEVBQUEsRUFBQSxLQUFBLGlCQUFBLFFBQ0EsRUFBQSxLQUFBLElBQUEsRUFBQSxTQUFBLEVBQUEsVUFBQSxDQUNBLEdBQUEsS0FDQSxJQUFBLEVBQUEsTUFHQSxLQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxFQUFBLFNBQUEsTUFBQSxXQUNBLEdBQUEsSUFBQSxNQUFBLEVBQUEsUUFBQSxHQUNBLEVBQUEsRUFBQSxTQUFBLE9BQUEsYUFBQSxHQUNBLEVBQUEsRUFBQSxHQUFBLFNBQUEsT0FFQSxtQkFBQSxJQUNBLElBR0EsRUFDQSxHQUFBLGdCQUFBLFdBQ0Esa0JBQUEsSUFDQSxNQUdBLEdBQUEsaUJBQUEsV0FDQSxFQUFBLEtBQUEsZ0JBQUEsVUFFQSxHQUFBLGtCQUFBLFdBQ0EsRUFBQSxNQUFBLFdBRUEsTUFBQSxXQUlBLHNCQUFBLFNBQUEsRUFBQSxFQUFBLEVBQ0EsRUFBQSxFQUFBLEVBQUEsR0FDQSxFQUFBLFNBQUEsTUFBQSxXQUNBLEdBQUEsR0FBQSxFQUFBLFNBQUEsT0FBQSwrQkFFQSxNQUFBLEVBQ0EsUUFBQSxFQUNBLDhCQUFBLEVBQ0EsZUFBQSxFQUNBLFlBQUEsRUFDQSxRQUFBLElBRUEsRUFBQSxFQUFBLEdBQUEsU0FBQSxRQUNBLEVBQUEsRUFBQSxLQUFBLG9CQUVBLEdBQUEsS0FBQSxXQUFBLEdBQUEsUUFBQSxFQUFBLEtBQUEsV0FFQSxNQURBLEdBQUEsTUFBQSxTQUNBLEtBR0EsRUFBQSxLQUFBLFlBQUEsR0FBQSxRQUFBLFdBQ0EsR0FBQSxHQUFBLEVBQUEsS0FBQSw2QkFDQSxFQUFBLEVBQUEsS0FVQSxPQVJBLEtBQUEsRUFDQSxFQUFBLFlBQUEsV0FFQSxFQUFBLE1BQUEsUUFDQSxrQkFBQSxJQUNBLE1BR0EsSUFHQSxFQUNBLEdBQUEsaUJBQUEsV0FDQSxFQUFBLEtBQUEsZ0JBQUEsVUFFQSxHQUFBLGtCQUFBLFdBQ0EsRUFBQSxNQUFBLFdBRUEsTUFBQSxRQUFBLFVBQUEsT0FJQSxPQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxFQUFBLFNBQUEsTUFBQSxXQUNBLEdBQUEsR0FBQSxFQUFBLFNBQUEsT0FBQSxlQUNBLE1BQUEsRUFBQSxRQUFBLElBQ0EsRUFBQSxFQUFBLEdBQUEsU0FBQSxPQUVBLEdBQUEsS0FBQSxXQUFBLEdBQ0EsUUFDQSxFQUFBLEtBQUEsV0FLQSxNQUpBLEdBQUEsTUFBQSxRQUNBLGtCQUFBLElBQ0EsS0FFQSxLQUlBLEVBQUEsS0FBQSxZQUFBLEdBQ0EsUUFDQSxFQUFBLEtBQUEsV0FLQSxNQUpBLEdBQUEsTUFBQSxRQUNBLGtCQUFBLElBQ0EsS0FFQSxLQUlBLEVBQ0EsR0FBQSxpQkFBQSxXQUNBLEVBQUEsS0FBQSxnQkFBQSxVQUVBLEdBQUEsa0JBQUEsV0FDQSxFQUFBLE1BQUEsV0FFQSxNQUFBLFFBQUEsVUFBQSxPQUlBLFNBQUEsS0FFQSxhQUFBLFNBQUEsRUFBQSxFQUFBLEdBQ0EsTUFBQSxHQUFBLE1BQUEsVUFDQSxHQUdBLEVBQUEsU0FBQSxNQUFBLFdBQ0EsR0FBQSxJQUNBLE1BQUEsRUFDQSxRQUFBLEVBQ0EsS0FBQSxTQUFBLEdBQUEsRUFBQSxHQUVBLEVBQUEsRUFBQSxTQUFBLE9BQUEsZ0JBQUEsRUFDQSxHQUFBLE1BQUEsU0FBQSxFQUFBLEdBQUEsU0FBQSxRQUNBLEVBQUEsTUFBQSxTQUFBLE1BQUEsUUFBQSxVQUFBLE9BR0EsSUFHQSxjQUFBLFdBQ0EsTUFBQSxHQUFBLE1BQUEsVUFJQSxFQUFBLE1BQUEsU0FDQSxHQUFBLGdCQUFBLFdBQUEsRUFBQSxNQUFBLFdBQ0EsTUFBQSxRQUVBLEVBQUEsTUFBQSxTQUFBLE1BRUEsSUFUQSxVQWdCQSxJQUFBLFNBQUEsRUFBQSxHQUNBLEVBQUEsUUFBQSxTQUFBLEVBQUEsRUFBQSxFQUFBLEdBRUEsWUFFQSxJQUFBLElBQ0EsTUFBQSxZQUNBLE1BQUEsS0FDQSxLQUFBLGdCQUNBLEtBQUEsaUJBQ0EsUUFBQSw2QkFFQSxHQUNBLFNBQUEsV0FHQSxHQUFBLElBQUEsRUFBQSxRQUNBLEVBQUEsT0FHQSxFQUFBLEdBQUEsVUFBQSxFQUFBLFFBRUEsV0FBQSxTQUFBLEdBQ0EsS0FBQSxNQUFBLEVBQ0EsS0FBQSxjQUNBLEtBQUEsV0FBQSxLQUFBLE1BQUEsYUFDQSxLQUFBLFFBQUEsRUFDQSxLQUFBLFlBQ0EsS0FBQSxtQkFDQSxLQUFBLGlCQUdBLFNBQUEsU0FBQSxHQUNBLE1BQUEsSUFBQSxHQUFBLEdBQUEsS0FBQSxPQUFBLE9BQUEsR0FHQSxjQUFBLFdBQ0EsS0FBQSxRQUFBLEtBQUEsS0FBQSxRQUFBLEVBQUEsSUFBQSxLQUFBLE9BQUEsU0FHQSxpQkFBQSxXQUNBLEtBQUEsS0FBQSxZQUFBLEVBQUEsU0FBQSxLQUFBLFNBQUEsR0FDQSxLQUFBLEtBQUEsWUFBQSxFQUFBLFNBQUEsS0FBQSxTQUFBLEtBQUEsT0FBQSxPQUFBLElBR0EsUUFBQSxTQUFBLEdBQ0EsS0FBQSxTQUFBLEtBQ0EsS0FBQSxNQUFBLEtBQUEsT0FBQSxFQUFBLEtBQUEsY0FDQSxLQUFBLFFBQUEsRUFDQSxLQUFBLGdCQUNBLEtBQUEscUJBSUEsVUFBQSxXQUNBLEtBQUEsUUFBQSxLQUFBLFFBQUEsSUFHQSxVQUFBLFdBQ0EsS0FBQSxRQUFBLEtBQUEsUUFBQSxJQUdBLFVBQUEsV0FDQSxHQUFBLEdBQUEsSUFDQSxNQUFBLEtBQUEsR0FBQSxRQUFBLFNBQUEsR0FDQSxFQUFBLFlBQ0EsRUFBQSxtQkFFQSxLQUFBLEtBQUEsSUFBQSxLQUFBLE9BQUEsR0FBQSxRQUFBLFNBQUEsR0FDQSxFQUFBLFlBQ0EsRUFBQSxvQkFJQSxZQUFBLFdBQ0EsS0FBQSxNQUFBLEtBQUEsTUFBQSxLQUFBLEVBQUEsT0FDQSxLQUFBLE9BQUEsS0FBQSxNQUFBLEtBQUEsRUFBQSxPQUNBLEtBQUEsS0FBQSxLQUFBLE1BQUEsS0FBQSxFQUFBLE1BQ0EsS0FBQSxLQUFBLEtBQUEsTUFBQSxLQUFBLEVBQUEsTUFDQSxLQUFBLFFBQUEsS0FBQSxNQUFBLEtBQUEsRUFBQSxZQUtBLEVBQUEsVUFBQSxNQUFBLFdBRUEsRUFBQSxjQUFBLEtBQUEsV0FDQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEtBQ0EsR0FBQSxHQUFBLEdBQUEsR0FBQSxVQUFBLEdBQ0EsRUFBQSxLQUFBLFlBQUEsYUFPQSxJQUFBLFNBQUEsRUFBQSxHQUNBLEVBQUEsUUFBQSxTQUFBLEVBQUEsR0FDQSxZQUNBLEdBQUEsVUFDQSxZQUNBLGFBQUEsU0FBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLFVBQUEsS0FBQSxTQUFBLEVBQ0EsR0FBQSxTQUFBLE1BQUEsV0FDQSxDQUFBLEdBQUEsSUFDQSxRQUFBLEVBQUEsU0FDQSxLQUFBLEVBQUEsTUFFQSxFQUFBLEVBQUEsU0FBQSxPQUFBLEVBQUEsT0FBQSxFQUNBLEdBQUEsR0FBQSxTQUFBLG1CQU1BLElBQUEsU0FBQSxFQUFBLEdBQ0EsRUFBQSxRQUFBLFdBR0EsbUJBQUEsZUFBQSxlQUNBLE9BQUEsY0FDQSxTQUNBLFFBQUEsU0FBQSxFQUFBLEdBQUEsTUFBQSxNQUFBLE1BQUEsR0FBQSxHQUNBLFFBQUEsU0FBQSxHQUFBLE1BQUEsTUFBQSxNQUFBLElBQ0EsV0FBQSxTQUFBLEdBQUEsYUFBQSxNQUFBLE1BQUEsSUFDQSxNQUFBLFdBQUEsTUFBQSxNQUFBLGtCQUtBLElBQUEsU0FBQSxJQVlBLFNBQUEsR0FJQSxRQUFBLEdBQUEsR0FDQSxHQUFBLEdBQUEsRUFNQSxJQURBLEVBQUEsU0FBQSxFQUFBLEtBQ0EsR0FBQSxFQUFBLEVBQUEsTUFBQSxFQUVBLE1BQUEsR0FDQSxHQUFBLElBQ0EsR0FBQSxDQUdBLE9BQUEsR0FTQSxRQUFBLEdBQUEsRUFBQSxFQUFBLEdBSUEsTUFIQSxPQUFBLElBQUEsRUFBQSxJQUNBLEVBQUEsR0FBQSxHQUVBLEVBQUEsRUFBQSxJQUFBLEVBQUEsRUFBQSxFQUFBLFNBQUEsRUFBQSxHQUFBLEdBSUEsUUFBQSxHQUFBLEdBQ0EsTUFBQSxtQkFBQSxPQUFBLFVBQUEsU0FBQSxLQUFBLEdBSUEsUUFBQSxHQUFBLEdBQ0EsTUFBQSxvQkFBQSxPQUFBLFVBQUEsU0FBQSxLQUFBLEdBSUEsUUFBQSxHQUFBLEVBQUEsR0FHQSxJQUZBLEdBQUEsR0FBQSxFQUFBLE9BRUEsR0FBQSxHQUNBLEdBQUEsRUFBQSxFQUFBLElBQUEsTUFBQSxHQUFBLEdBS0EsUUFBQSxHQUFBLEVBQUEsR0FDQSxHQUVBLEdBRkEsRUFBQSxFQUNBLEVBQUEsRUFBQSxNQVVBLEtBUEEsa0JBQUEsS0FDQSxFQUFBLEVBQ0EsRUFBQSxTQUFBLEdBQ0EsTUFBQSxLQUFBLElBSUEsRUFBQSxHQUFBLENBQ0EsR0FBQSxFQUFBLEVBQUEsSUFBQSxNQUFBLEdBQUEsRUFDQSxJQUFBLEdBS0EsUUFBQSxHQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsRUFDQSxFQUFBLEVBQUEsTUFFQSxJQUFBLEdBQUEsRUFFQSxLQUFBLEVBQUEsR0FBQSxDQUNBLEdBQUEsRUFBQSxFQUFBLEdBQUEsTUFBQSxFQUFBLE1BQ0EsSUFBQSxHQUtBLFFBQUEsR0FBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQ0EsRUFBQSxFQUFBLE9BQ0EsSUFFQSxLQUFBLElBQUEsRUFBQSxNQUFBLEVBRUEsTUFBQSxFQUFBLEdBQ0EsRUFBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLEdBQ0EsR0FBQSxDQUdBLE9BQUEsR0FJQSxRQUFBLEdBQUEsRUFBQSxHQUNBLE1BQUEsR0FBQSxFQUFBLFNBQUEsR0FDQSxNQUFBLEdBQUEsS0FLQSxRQUFBLEdBQUEsR0FDQSxHQUFBLEtBTUEsT0FKQSxHQUFBLEVBQUEsU0FBQSxHQUNBLEdBQUEsRUFBQSxLQUFBLEtBR0EsRUFJQSxRQUFBLEdBQUEsR0FDQSxHQUFBLEtBTUEsT0FKQSxHQUFBLEVBQUEsU0FBQSxHQUNBLEVBQUEsRUFBQSxJQUFBLEVBQUEsS0FBQSxLQUdBLEVBSUEsUUFBQSxHQUFBLEVBQUEsR0FDQSxHQUFBLEtBUUEsT0FOQSxHQUFBLEVBQUEsU0FBQSxHQUNBLEVBQUEsRUFBQSxTQUFBLEdBQ0EsSUFBQSxHQUFBLEVBQUEsS0FBQSxPQUlBLEVBQUEsR0FJQSxRQUFBLEdBQUEsRUFBQSxHQUNBLEdBQUEsS0FTQSxPQVBBLEdBQUEsRUFBQSxTQUFBLEVBQUEsR0FDQSxNQUFBLEdBQUEsR0FBQSxRQUNBLEVBQUEsRUFBQSxNQUFBLElBQ0EsS0FJQSxFQUlBLFFBQUEsR0FBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsUUFBQSxTQUVBLE9BQUEsR0FBQSxFQUFBLEdBQUEsVUFJQSxRQUFBLEdBQUEsRUFBQSxHQUNBLElBQUEsR0FBQSxLQUFBLEdBQ0EsRUFBQSxlQUFBLEtBQUEsRUFBQSxHQUFBLEVBQUEsR0FHQSxPQUFBLEdBSUEsR0FBQSxFQUVBLElBQUEsa0JBQUEsR0FDQSxJQUFBLEVBQUEsRUFBQSxJQUNBLE1BQUEsSUFPQSxJQUpBLEdBQUEsRUFBQSxTQUNBLEVBQUEsRUFBQSxTQUdBLEVBQ0EsS0FBQSw4Q0FJQSxHQUFBLFNBQUEsR0FBQSxPQUFBLFdBRUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFDQSxLQUFBLE1BQUEsS0FBQSxXQUNBLEVBQUEsS0FBQSxLQUFBLE9BQUEsVUFFQSxFQUFBLEVBQUEsU0FBQSxLQW1FQSxPQS9EQSxHQUFBLFNBQUEsS0FHQSxFQUFBLEVBQUEsU0FBQSxHQUNBLE1BQUEsZ0JBQUEsSUFBQSxrQkFBQSxRQUNBLEVBQUEsU0FBQSxHQUlBLGdCQUFBLFFBQ0EsRUFBQSxVQUFBLFFBSUEsRUFBQSxJQUNBLEVBQUEsRUFBQSxNQUtBLEVBQUEsRUFBQSxNQUFBLEVBQUEsRUFBQSxPQUFBLEVBQUEsTUFBQSxFQUFBLE1BQUEsTUFBQSxLQUdBLGtCQUFBLEdBQUEsV0FDQSxFQUFBLFNBQUEsRUFBQSxTQUFBLE1BQUEsSUFJQSxFQUFBLEdBQUEsUUFBQSxFQUFBLEVBQUEsU0FBQSxHQUNBLE1BQUEsR0FBQSxHQUFBLFNBQ0EsS0FBQSxLQUFBLEtBR0EsRUFBQSxTQUFBLEdBQ0EsTUFBQSxHQUFBLEVBQUEsU0FBQSxHQUNBLE1BQUEsR0FBQSxHQUFBLEtBQUEsTUFLQSxFQUFBLEVBQUEsRUFBQSxTQUFBLE1BQUEsR0FBQSxTQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxHQUNBLEVBQUEsRUFBQSxNQUVBLFFBQ0EsTUFBQSxFQUNBLE9BQUEsRUFHQSxNQUFBLFdBQUEsRUFBQSxFQUFBLFFBQUEsRUFBQSxPQUFBLE1BQUEsRUFHQSxLQUFBLFdBQUEsR0FBQSxZQUFBLEVBQUEsS0FBQSxJQUtBLE1BR0EsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxXQUdBLEVBQUEsUUFLQSxFQUFBLEVBQUEsU0FBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLENBR0EsR0FBQSxFQUFBLEdBQUEsR0FDQSxFQUFBLEVBQUEsRUFBQSxLQUFBLE1BQUEsR0FBQSxLQUFBLEtBQUEsR0FDQSxFQUFBLEVBQUEsRUFHQSxFQUFBLEVBQUEsSUFBQSxFQUFBLE9BR0EsR0FBQSxFQUtBLEVBQUEsRUFBQSxTQUFBLEdBQ0EsRUFBQSxPQUFBLElBQ0EsRUFBQSxHQUNBLE1BQUEsRUFDQSxXQUFBLEVBQ0EsYUFBQSxFQUNBLFFBQUEsRUFDQSxPQUFBLElBR0EsR0FHQSxNQUFBLEVBQUEsYUFBQSxFQUFBLE9BQUEsSUFDQSxFQUFBLGFBQUEsTUFhQSxFQUFBLFNBQUEsRUFBQSxLQUlBLEVBQUEsT0FDQSxHQUFBLFNBQUEsRUFBQSxLQUFBLEVBQUEsR0FBQSxFQUFBLFNBQUEsR0FJQSxRQUFBLEVBQUEsU0FBQSxNQUFBLEVBQUEsTUFBQSxFQUFBLGVBUUEsR0FBQSxFQUdBLFVBQUEsRUFBQSxNQUNBLEVBQUEsVUFHQSxFQUFBLEVBQUEsRUFBQSxTQUFBLEdBQ0EsR0FBQSxHQUNBLENBRUEsS0FBQSxFQUFBLEtBRUEsTUFBQSxHQUFBLEtBb0JBLElBZkEsRUFEQSxFQUFBLFNBQUEsRUFBQSxVQUFBLEdBQ0EsS0FBQSxNQUFBLEVBQUEsV0FBQSxLQUFBLElBQUEsR0FBQSxFQUFBLFlBQUEsS0FBQSxJQUFBLElBQUEsRUFBQSxZQUFBLFdBRUEsRUFBQSxXQUFBLFdBSUEsRUFBQSxFQUFBLFFBQUEsTUFBQSxJQUlBLEVBQUEsT0FBQSxJQUFBLEdBQUEsRUFBQSxRQUFBLEVBQUEsZUFDQSxFQUFBLEVBQUEsRUFBQSxFQUFBLFNBSUEsRUFBQSxTQUFBLEVBQUEsVUFBQSxFQUVBLE9BREEsRUFBQSxFQUFBLGFBQUEsV0FBQSxRQUFBLE1BQUEsSUFBQSxNQUFBLFVBQ0EsRUFBQSxRQUNBLElBQUEsR0FDQSxHQUFBLElBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxXQUFBLEdBQUEsTUFBQSxFQUFBLEVBQUEsVUFDQSxNQUVBLEtBQUEsR0FDQSxHQUFBLElBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxXQUFBLEdBQUEsTUFBQSxFQUFBLEVBQUEsVUFDQSxNQUVBLEtBQUEsR0FDQSxHQUFBLElBQUEsRUFBQSxHQUFBLEVBQUEsR0FBQSxJQUFBLEVBQUEsSUFBQSxLQUFBLEVBQUEsR0FBQSxFQUFBLFdBQUEsR0FBQSxNQUFBLEVBQUEsRUFBQSxVQUNBLE1BRUEsU0FDQSxLQUFBLCtEQVdBLE1BTkEsR0FBQSxRQUFBLEVBQUEsTUFBQSxJQUNBLEVBQUEsSUFBQSxHQUdBLEdBQUEsRUFFQSxJQUlBLFVBQUEsRUFBQSxNQUNBLEVBQUEsVUFHQSxFQUFBLEtBQUEsS0FySUEsRUFBQSxFQUFBLFNBQUEsS0FBQSxLQXdJQSxFQUFBLFNBQUEsR0FBQSxPQUFBLFVBRUEsT0FBQSxZQUNBLE1BQUEsUUFDQSxPQUFBLEtBQ0EsTUFBQSxRQUNBLEtBQUEsUUFDQSxNQUFBLFFBQ0EsUUFBQSxLQUNBLFFBQUEsS0FDQSxhQUFBLEtBQ0EsUUFBQSxNQUtBLE1BQUEsNEVBU0EsS0FBQSxPQUtBLFVBQUEsRUFHQSxZQUFBLEtBUUEsU0FBQSxXQUNBLEdBQUEsR0FBQSxLQUFBLE1BQ0EsRUFBQSxLQUFBLFNBQ0EsRUFBQSxFQUFBLEVBQUEsU0FBQSxHQUNBLE1BQUEsR0FBQSxNQUFBLElBSUEsUUFBQSxHQUNBLElBQUEsVUFDQSxNQUFBLFNBQ0EsS0FBQSxVQUNBLE1BQUEsV0FDQSxLQUFBLFFBQ0EsTUFBQSxXQUNBLEtBQUEsT0FDQSxNQUFBLFdBQ0EsS0FBQSxRQUNBLE1BQUEsV0FDQSxLQUFBLFNBQ0EsTUFBQSxXQUNBLEtBQUEsUUFDQSxNQUFBLE1BQ0EsU0FDQSxNQUFBLDZCQUtBLFFBRUEsR0FBQSxLQUFBLElBQUEsU0FBQSxFQUFBLEVBQUEsSUFPQSxTQUFBLEVBQUEsR0FDQSxnQkFBQSxJQUFBLG1CQUFBLEdBQUEsRUFBQSxRQUFBLElBQ0Esa0JBQUEsU0FBQSxPQUFBLElBQUEsT0FBQSxHQUNBLEVBQUEsT0FBQSxLQUNBLEtBQUEsV0FBQSxZQUlBLFNBQUEsS0FDQSxNQUFBLElBQUEsTUFBQSxLQUFBLFdBS0EsUUFBQSxHQUFBLEdBQ0EsR0FBQSxFQUdBLFFBQUEsR0FBQSxHQUNBLE1BQUEsbUJBQUEsT0FBQSxVQUFBLFNBQUEsS0FBQSxHQUdBLFFBQUEsR0FBQSxHQUNBLE1BQUEsYUFBQSxPQUFBLGtCQUFBLE9BQUEsVUFBQSxTQUFBLEtBQUEsR0FHQSxRQUFBLEdBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxJQUNBLEtBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxTQUFBLEVBQ0EsRUFBQSxLQUFBLEVBQUEsRUFBQSxHQUFBLEdBRUEsT0FBQSxHQUdBLFFBQUEsR0FBQSxFQUFBLEdBQ0EsTUFBQSxRQUFBLFVBQUEsZUFBQSxLQUFBLEVBQUEsR0FHQSxRQUFBLEdBQUEsRUFBQSxHQUNBLElBQUEsR0FBQSxLQUFBLEdBQ0EsRUFBQSxFQUFBLEtBQ0EsRUFBQSxHQUFBLEVBQUEsR0FZQSxPQVJBLEdBQUEsRUFBQSxjQUNBLEVBQUEsU0FBQSxFQUFBLFVBR0EsRUFBQSxFQUFBLGFBQ0EsRUFBQSxRQUFBLEVBQUEsU0FHQSxFQUdBLFFBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxHQUNBLE1BQUEsSUFBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsTUFHQSxRQUFBLEtBRUEsT0FDQSxPQUFBLEVBQ0EsZ0JBQ0EsZUFDQSxTQUFBLEdBQ0EsY0FBQSxFQUNBLFdBQUEsRUFDQSxhQUFBLEtBQ0EsZUFBQSxFQUNBLGlCQUFBLEVBQ0EsS0FBQSxHQUlBLFFBQUEsR0FBQSxHQUlBLE1BSEEsT0FBQSxFQUFBLE1BQ0EsRUFBQSxJQUFBLEtBRUEsRUFBQSxJQUdBLFFBQUEsR0FBQSxHQUNBLEdBQUEsTUFBQSxFQUFBLFNBQUEsQ0FDQSxHQUFBLEdBQUEsRUFBQSxFQUNBLEdBQUEsV0FBQSxNQUFBLEVBQUEsR0FBQSxjQUNBLEVBQUEsU0FBQSxJQUNBLEVBQUEsT0FDQSxFQUFBLGNBQ0EsRUFBQSxnQkFDQSxFQUFBLFdBQ0EsRUFBQSxlQUNBLEVBQUEsaUJBRUEsRUFBQSxVQUNBLEVBQUEsU0FBQSxFQUFBLFVBQ0EsSUFBQSxFQUFBLGVBQ0EsSUFBQSxFQUFBLGFBQUEsUUFDQSxTQUFBLEVBQUEsU0FHQSxNQUFBLEdBQUEsU0FHQSxRQUFBLEdBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxJQVFBLE9BUEEsT0FBQSxFQUNBLEVBQUEsRUFBQSxHQUFBLEdBR0EsRUFBQSxHQUFBLGlCQUFBLEVBR0EsRUFLQSxRQUFBLEdBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLENBaUNBLElBL0JBLG1CQUFBLEdBQUEsbUJBQ0EsRUFBQSxpQkFBQSxFQUFBLGtCQUVBLG1CQUFBLEdBQUEsS0FDQSxFQUFBLEdBQUEsRUFBQSxJQUVBLG1CQUFBLEdBQUEsS0FDQSxFQUFBLEdBQUEsRUFBQSxJQUVBLG1CQUFBLEdBQUEsS0FDQSxFQUFBLEdBQUEsRUFBQSxJQUVBLG1CQUFBLEdBQUEsVUFDQSxFQUFBLFFBQUEsRUFBQSxTQUVBLG1CQUFBLEdBQUEsT0FDQSxFQUFBLEtBQUEsRUFBQSxNQUVBLG1CQUFBLEdBQUEsU0FDQSxFQUFBLE9BQUEsRUFBQSxRQUVBLG1CQUFBLEdBQUEsVUFDQSxFQUFBLFFBQUEsRUFBQSxTQUVBLG1CQUFBLEdBQUEsTUFDQSxFQUFBLElBQUEsRUFBQSxJQUVBLG1CQUFBLEdBQUEsVUFDQSxFQUFBLFFBQUEsRUFBQSxTQUdBLEdBQUEsT0FBQSxFQUNBLElBQUEsSUFBQSxJQUNBLEVBQUEsR0FBQSxHQUNBLEVBQUEsRUFBQSxHQUNBLG1CQUFBLEtBQ0EsRUFBQSxHQUFBLEVBS0EsT0FBQSxHQU1BLFFBQUEsR0FBQSxHQUNBLEVBQUEsS0FBQSxHQUNBLEtBQUEsR0FBQSxHQUFBLE1BQUEsTUFBQSxFQUFBLEdBQUEsRUFBQSxHQUFBLFVBQUEsS0FHQSxNQUFBLElBQ0EsSUFBQSxFQUNBLEVBQUEsYUFBQSxNQUNBLElBQUEsR0FJQSxRQUFBLEdBQUEsR0FDQSxNQUFBLGFBQUEsSUFBQSxNQUFBLEdBQUEsTUFBQSxFQUFBLGlCQUdBLFFBQUEsR0FBQSxHQUNBLE1BQUEsR0FBQSxFQUNBLEtBQUEsS0FBQSxHQUVBLEtBQUEsTUFBQSxHQUlBLFFBQUEsR0FBQSxHQUNBLEdBQUEsSUFBQSxFQUNBLEVBQUEsQ0FNQSxPQUpBLEtBQUEsR0FBQSxTQUFBLEtBQ0EsRUFBQSxFQUFBLElBR0EsRUFHQSxRQUFBLEdBQUEsRUFBQSxFQUFBLEdBQ0EsR0FHQSxHQUhBLEVBQUEsS0FBQSxJQUFBLEVBQUEsT0FBQSxFQUFBLFFBQ0EsRUFBQSxLQUFBLElBQUEsRUFBQSxPQUFBLEVBQUEsUUFDQSxFQUFBLENBRUEsS0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEtBQ0EsR0FBQSxFQUFBLEtBQUEsRUFBQSxLQUNBLEdBQUEsRUFBQSxFQUFBLE1BQUEsRUFBQSxFQUFBLE1BQ0EsR0FHQSxPQUFBLEdBQUEsRUFHQSxRQUFBLE1BTUEsUUFBQSxHQUFBLEdBQ0EsTUFBQSxHQUFBLEVBQUEsY0FBQSxRQUFBLElBQUEsS0FBQSxFQU1BLFFBQUEsR0FBQSxHQUdBLElBRkEsR0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFFQSxFQUFBLEVBQUEsUUFBQSxDQUtBLElBSkEsRUFBQSxFQUFBLEVBQUEsSUFBQSxNQUFBLEtBQ0EsRUFBQSxFQUFBLE9BQ0EsRUFBQSxFQUFBLEVBQUEsRUFBQSxJQUNBLEVBQUEsRUFBQSxFQUFBLE1BQUEsS0FBQSxLQUNBLEVBQUEsR0FBQSxDQUVBLEdBREEsRUFBQSxFQUFBLEVBQUEsTUFBQSxFQUFBLEdBQUEsS0FBQSxNQUVBLE1BQUEsRUFFQTtHQUFBLEdBQUEsRUFBQSxRQUFBLEdBQUEsRUFBQSxFQUFBLEdBQUEsSUFBQSxFQUFBLEVBRUEsS0FFQSxLQUVBLElBRUEsTUFBQSxNQUdBLFFBQUEsR0FBQSxHQUNBLEdBQUEsR0FBQSxJQUVBLEtBQUEsR0FBQSxJQUFBLG1CQUFBLElBQ0EsR0FBQSxFQUFBLFFBQ0EsSUFDQSxFQUFBLEdBQUEsTUFDQSxFQUFBLFlBQUEsR0FHQSxFQUFBLEdBQ0EsTUFBQSxJQUVBLE1BQUEsSUFBQSxHQU1BLFFBQUEsR0FBQSxFQUFBLEdBQ0EsR0FBQSxFQWVBLE9BZEEsS0FFQSxFQURBLG1CQUFBLEdBQ0EsRUFBQSxHQUdBLEVBQUEsRUFBQSxHQUdBLElBRUEsR0FBQSxJQUlBLEdBQUEsTUFHQSxRQUFBLEdBQUEsRUFBQSxHQUNBLE1BQUEsUUFBQSxHQUNBLEVBQUEsS0FBQSxFQUNBLEdBQUEsR0FBQSxHQUFBLElBQUEsR0FBQSxHQUNBLEdBQUEsR0FBQSxJQUFBLEdBR0EsRUFBQSxHQUVBLEdBQUEsV0FHQSxJQUFBLEdBQ0EsTUFLQSxRQUFBLEdBQUEsR0FDQSxHQUFBLEVBTUEsSUFKQSxHQUFBLEVBQUEsU0FBQSxFQUFBLFFBQUEsUUFDQSxFQUFBLEVBQUEsUUFBQSxRQUdBLEVBQ0EsTUFBQSxHQUdBLEtBQUEsRUFBQSxHQUFBLENBR0EsR0FEQSxFQUFBLEVBQUEsR0FFQSxNQUFBLEVBRUEsSUFBQSxHQUdBLE1BQUEsR0FBQSxHQUtBLFFBQUEsR0FBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsYUFDQSxJQUFBLEdBQUEsR0FBQSxFQUFBLEtBQUEsR0FBQSxHQUFBLEVBR0EsUUFBQSxHQUFBLEdBQ0EsTUFBQSxnQkFBQSxHQUFBLEdBQUEsSUFBQSxHQUFBLEVBQUEsZUFBQSxPQUdBLFFBQUEsR0FBQSxHQUNBLEdBQ0EsR0FDQSxFQUZBLElBSUEsS0FBQSxJQUFBLEdBQ0EsRUFBQSxFQUFBLEtBQ0EsRUFBQSxFQUFBLEdBQ0EsSUFDQSxFQUFBLEdBQUEsRUFBQSxJQUtBLE9BQUEsR0FHQSxRQUFBLEdBQUEsRUFBQSxHQUNBLE1BQUEsVUFBQSxHQUNBLE1BQUEsT0FBQSxHQUNBLEVBQUEsS0FBQSxFQUFBLEdBQ0EsRUFBQSxhQUFBLEtBQUEsR0FDQSxNQUVBLEVBQUEsS0FBQSxJQUtBLFFBQUEsR0FBQSxFQUFBLEdBQ0EsTUFBQSxHQUFBLEdBQUEsT0FBQSxFQUFBLE9BQUEsTUFBQSxJQUFBLEtBR0EsUUFBQSxHQUFBLEVBQUEsRUFBQSxHQUNBLE1BQUEsR0FBQSxHQUFBLE9BQUEsRUFBQSxPQUFBLE1BQUEsSUFBQSxHQUFBLEdBS0EsUUFBQSxHQUFBLEVBQUEsR0FDQSxHQUFBLEVBQ0EsSUFBQSxnQkFBQSxHQUNBLElBQUEsSUFBQSxHQUNBLEtBQUEsSUFBQSxFQUFBLEVBQUEsUUFJQSxJQURBLEVBQUEsRUFBQSxHQUNBLGtCQUFBLE1BQUEsR0FDQSxNQUFBLE1BQUEsR0FBQSxFQUdBLE9BQUEsTUFHQSxRQUFBLEdBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEdBQUEsS0FBQSxJQUFBLEdBQ0EsRUFBQSxFQUFBLEVBQUEsT0FDQSxFQUFBLEdBQUEsQ0FDQSxRQUFBLEVBQUEsRUFBQSxJQUFBLEdBQUEsS0FDQSxLQUFBLElBQUEsR0FBQSxLQUFBLElBQUEsRUFBQSxJQUFBLFdBQUEsT0FBQSxHQUFBLEVBZUEsUUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLENBQ0EsaUJBQUEsS0FDQSxFQUFBLFdBQ0EsTUFBQSxNQUFBLE9BR0EsSUFDQSxHQUFBLEdBQUEsR0FFQSxJQUNBLEdBQUEsRUFBQSxJQUFBLFdBQ0EsTUFBQSxHQUFBLEVBQUEsTUFBQSxLQUFBLFdBQUEsRUFBQSxHQUFBLEVBQUEsTUFHQSxJQUNBLEdBQUEsR0FBQSxXQUNBLE1BQUEsTUFBQSxhQUFBLFFBQUEsRUFBQSxNQUFBLEtBQUEsV0FBQSxLQUtBLFFBQUEsR0FBQSxHQUNBLE1BQUEsR0FBQSxNQUFBLFlBQ0EsRUFBQSxRQUFBLFdBQUEsSUFFQSxFQUFBLFFBQUEsTUFBQSxJQUdBLFFBQUEsR0FBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxNQUFBLEdBRUEsS0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLE9BQUEsRUFBQSxFQUFBLElBRUEsRUFBQSxHQURBLEdBQUEsRUFBQSxJQUNBLEdBQUEsRUFBQSxJQUVBLEVBQUEsRUFBQSxHQUlBLE9BQUEsVUFBQSxHQUNBLEdBQUEsR0FBQSxFQUNBLEtBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxJQUNBLEdBQUEsRUFBQSxZQUFBLFVBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEVBQUEsRUFFQSxPQUFBLElBS0EsUUFBQSxHQUFBLEVBQUEsR0FDQSxNQUFBLEdBQUEsV0FJQSxFQUFBLEVBQUEsRUFBQSxFQUFBLGNBQ0EsR0FBQSxHQUFBLEdBQUEsSUFBQSxFQUFBLEdBRUEsR0FBQSxHQUFBLElBTkEsRUFBQSxhQUFBLGNBU0EsUUFBQSxHQUFBLEVBQUEsR0FHQSxRQUFBLEdBQUEsR0FDQSxNQUFBLEdBQUEsZUFBQSxJQUFBLEVBSEEsR0FBQSxHQUFBLENBT0EsS0FEQSxHQUFBLFVBQUEsRUFDQSxHQUFBLEdBQUEsR0FBQSxLQUFBLElBQ0EsRUFBQSxFQUFBLFFBQUEsR0FBQSxHQUNBLEdBQUEsVUFBQSxFQUNBLEdBQUEsQ0FHQSxPQUFBLEdBeUJBLFFBQUEsR0FBQSxHQUVBLE1BQUEsa0JBQUEsSUFDQSxzQkFBQSxPQUFBLFVBQUEsU0FBQSxLQUFBLEdBSUEsUUFBQSxHQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQSxTQUFBLEdBQ0EsTUFBQSxJQUFBLEVBQUEsRUFBQSxHQUlBLFFBQUEsR0FBQSxFQUFBLEdBQ0EsTUFBQSxHQUFBLEdBQUEsR0FJQSxHQUFBLEdBQUEsRUFBQSxRQUFBLEVBQUEsU0FIQSxHQUFBLFFBQUEsRUFBQSxJQU9BLFFBQUEsR0FBQSxHQUNBLE1BQUEsR0FBQSxRQUFBLEtBQUEsSUFBQSxRQUFBLHNDQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUNBLE1BQUEsSUFBQSxHQUFBLEdBQUEsSUFDQSxRQUFBLHlCQUFBLFFBS0EsUUFBQSxHQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxDQVNBLEtBUkEsZ0JBQUEsS0FDQSxHQUFBLElBRUEsZ0JBQUEsS0FDQSxFQUFBLFNBQUEsRUFBQSxHQUNBLEVBQUEsR0FBQSxFQUFBLEtBR0EsRUFBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLElBQ0EsR0FBQSxFQUFBLElBQUEsRUFJQSxRQUFBLEdBQUEsRUFBQSxHQUNBLEVBQUEsRUFBQSxTQUFBLEVBQUEsRUFBQSxFQUFBLEdBQ0EsRUFBQSxHQUFBLEVBQUEsT0FDQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsS0FJQSxRQUFBLEdBQUEsRUFBQSxFQUFBLEdBQ0EsTUFBQSxHQUFBLEVBQUEsR0FBQSxJQUNBLEdBQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEdBWUEsUUFBQSxHQUFBLEVBQUEsR0FDQSxNQUFBLElBQUEsTUFBQSxLQUFBLElBQUEsRUFBQSxFQUFBLEVBQUEsSUFBQSxhQTZDQSxRQUFBLEdBQUEsR0FDQSxNQUFBLE1BQUEsUUFBQSxFQUFBLFNBSUEsUUFBQSxHQUFBLEdBQ0EsTUFBQSxNQUFBLGFBQUEsRUFBQSxTQUdBLFFBQUEsR0FBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxDQVFBLEtBTkEsS0FBQSxlQUNBLEtBQUEsZ0JBQ0EsS0FBQSxvQkFDQSxLQUFBLHNCQUdBLEVBQUEsRUFBQSxHQUFBLEVBQUEsSUFBQSxDQVlBLEdBVkEsRUFBQSxHQUFBLElBQUEsSUFDQSxJQUFBLEtBQUEsaUJBQUEsS0FDQSxLQUFBLGlCQUFBLEdBQUEsR0FBQSxRQUFBLElBQUEsS0FBQSxPQUFBLEVBQUEsSUFBQSxRQUFBLElBQUEsSUFBQSxJQUFBLEtBQ0EsS0FBQSxrQkFBQSxHQUFBLEdBQUEsUUFBQSxJQUFBLEtBQUEsWUFBQSxFQUFBLElBQUEsUUFBQSxJQUFBLElBQUEsSUFBQSxNQUVBLEdBQUEsS0FBQSxhQUFBLEtBQ0EsRUFBQSxJQUFBLEtBQUEsT0FBQSxFQUFBLElBQUEsS0FBQSxLQUFBLFlBQUEsRUFBQSxJQUNBLEtBQUEsYUFBQSxHQUFBLEdBQUEsUUFBQSxFQUFBLFFBQUEsSUFBQSxJQUFBLE1BR0EsR0FBQSxTQUFBLEdBQUEsS0FBQSxpQkFBQSxHQUFBLEtBQUEsR0FDQSxNQUFBLEVBQ0EsSUFBQSxHQUFBLFFBQUEsR0FBQSxLQUFBLGtCQUFBLEdBQUEsS0FBQSxHQUNBLE1BQUEsRUFDQSxLQUFBLEdBQUEsS0FBQSxhQUFBLEdBQUEsS0FBQSxHQUNBLE1BQUEsSUFPQSxRQUFBLEdBQUEsRUFBQSxHQUNBLEdBQUEsRUFHQSxPQUFBLGdCQUFBLEtBQ0EsRUFBQSxFQUFBLGFBQUEsWUFBQSxHQUVBLGdCQUFBLElBQ0EsR0FJQSxFQUFBLEtBQUEsSUFBQSxFQUFBLE9BQUEsRUFBQSxFQUFBLE9BQUEsSUFDQSxFQUFBLEdBQUEsT0FBQSxFQUFBLE9BQUEsTUFBQSxJQUFBLFNBQUEsRUFBQSxHQUNBLEdBR0EsUUFBQSxHQUFBLEdBQ0EsTUFBQSxPQUFBLEdBQ0EsRUFBQSxLQUFBLEdBQ0EsRUFBQSxhQUFBLE1BQUEsR0FDQSxNQUVBLEVBQUEsS0FBQSxTQUlBLFFBQUEsS0FDQSxNQUFBLEdBQUEsS0FBQSxPQUFBLEtBQUEsU0FHQSxRQUFBLElBQUEsR0FDQSxHQUFBLEdBQ0EsRUFBQSxFQUFBLEVBbUJBLE9BakJBLElBQUEsS0FBQSxFQUFBLEdBQUEsV0FDQSxFQUNBLEVBQUEsSUFBQSxHQUFBLEVBQUEsSUFBQSxHQUFBLEdBQ0EsRUFBQSxJQUFBLEdBQUEsRUFBQSxJQUFBLEVBQUEsRUFBQSxJQUFBLEVBQUEsS0FBQSxHQUNBLEVBQUEsSUFBQSxHQUFBLEVBQUEsSUFBQSxJQUFBLEtBQUEsRUFBQSxNQUFBLElBQUEsRUFBQSxLQUFBLElBQUEsRUFBQSxLQUFBLElBQUEsRUFBQSxLQUFBLEdBQ0EsRUFBQSxJQUFBLEdBQUEsRUFBQSxJQUFBLEdBQUEsR0FDQSxFQUFBLElBQUEsR0FBQSxFQUFBLElBQUEsR0FBQSxHQUNBLEVBQUEsSUFBQSxHQUFBLEVBQUEsSUFBQSxJQUFBLEdBQ0EsR0FFQSxFQUFBLEdBQUEscUJBQUEsR0FBQSxHQUFBLEVBQUEsTUFDQSxFQUFBLElBR0EsRUFBQSxHQUFBLFNBQUEsR0FHQSxFQUdBLFFBQUEsSUFBQSxHQUNBLEVBQUEsK0JBQUEsR0FBQSxtQkFBQSxVQUFBLFFBQUEsTUFDQSxRQUFBLEtBQUEsd0JBQUEsR0FJQSxRQUFBLElBQUEsRUFBQSxHQUNBLEdBQUEsSUFBQSxDQUVBLE9BQUEsR0FBQSxXQUtBLE1BSkEsS0FDQSxHQUFBLEVBQUEsTUFBQSxHQUFBLFFBQUEsT0FDQSxHQUFBLEdBRUEsRUFBQSxNQUFBLEtBQUEsWUFDQSxHQUtBLFFBQUEsSUFBQSxFQUFBLEdBQ0EsR0FBQSxLQUNBLEdBQUEsR0FDQSxHQUFBLElBQUEsR0EyQkEsUUFBQSxJQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQ0EsRUFBQSxFQUFBLEdBQ0EsRUFBQSxHQUFBLEtBQUEsRUFFQSxJQUFBLEVBQUEsQ0FFQSxJQURBLEVBQUEsR0FBQSxLQUFBLEVBQ0EsRUFBQSxFQUFBLEVBQUEsR0FBQSxPQUFBLEVBQUEsRUFBQSxJQUNBLEdBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxHQUFBLENBQ0EsRUFBQSxHQUFBLEdBQUEsR0FBQSxFQUNBLE9BR0EsSUFBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLE9BQUEsRUFBQSxFQUFBLElBQ0EsR0FBQSxHQUFBLEdBQUEsR0FBQSxLQUFBLEdBQUEsQ0FFQSxFQUFBLEtBQUEsRUFBQSxJQUFBLEtBQUEsR0FBQSxHQUFBLEVBQ0EsT0FHQSxFQUFBLE1BQUEsTUFDQSxFQUFBLElBQUEsS0FFQSxHQUFBLE9BRUEsR0FBQSxVQUFBLEVBS0EsUUFBQSxJQUFBLEdBQ0EsR0FBQSxHQUFBLEdBQUEsS0FBQSxFQUFBLEdBRUEsT0FBQSxRQUFBLE9BQ0EsRUFBQSxHQUFBLEdBQUEsT0FBQSxFQUFBLE1BSUEsR0FBQSxRQUNBLEVBQUEsWUFBQSxVQUNBLEdBQUEsU0FDQSxFQUFBLHdCQUFBLE1BY0EsUUFBQSxJQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBR0EsR0FBQSxHQUFBLEdBQUEsTUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQU1BLE9BSEEsTUFBQSxHQUNBLEVBQUEsWUFBQSxHQUVBLEVBR0EsUUFBQSxJQUFBLEdBQ0EsR0FBQSxHQUFBLEdBQUEsTUFBQSxLQUFBLElBQUEsTUFBQSxLQUFBLFdBSUEsT0FIQSxNQUFBLEdBQ0EsRUFBQSxlQUFBLEdBRUEsRUFpQ0EsUUFBQSxJQUFBLEdBQ0EsTUFBQSxJQUFBLEdBQUEsSUFBQSxJQUdBLFFBQUEsSUFBQSxHQUNBLE1BQUEsR0FBQSxJQUFBLEdBQUEsRUFBQSxNQUFBLEdBQUEsRUFBQSxNQUFBLEVBYUEsUUFBQSxNQUNBLE1BQUEsSUFBQSxLQUFBLFFBK0JBLFFBQUEsSUFBQSxFQUFBLEVBQUEsR0FDQSxHQUVBLEdBRkEsRUFBQSxFQUFBLEVBQ0EsRUFBQSxFQUFBLEVBQUEsS0FhQSxPQVRBLEdBQUEsSUFDQSxHQUFBLEdBR0EsRUFBQSxFQUFBLElBQ0EsR0FBQSxHQUdBLEVBQUEsR0FBQSxHQUFBLElBQUEsRUFBQSxNQUVBLEtBQUEsS0FBQSxLQUFBLEVBQUEsWUFBQSxHQUNBLEtBQUEsRUFBQSxRQU1BLFFBQUEsSUFBQSxHQUNBLE1BQUEsSUFBQSxFQUFBLEtBQUEsTUFBQSxJQUFBLEtBQUEsTUFBQSxLQUFBLEtBUUEsUUFBQSxNQUNBLE1BQUEsTUFBQSxNQUFBLElBR0EsUUFBQSxNQUNBLE1BQUEsTUFBQSxNQUFBLElBS0EsUUFBQSxJQUFBLEdBQ0EsR0FBQSxHQUFBLEtBQUEsYUFBQSxLQUFBLEtBQ0EsT0FBQSxPQUFBLEVBQUEsRUFBQSxLQUFBLElBQUEsR0FBQSxFQUFBLEdBQUEsS0FHQSxRQUFBLElBQUEsR0FDQSxHQUFBLEdBQUEsR0FBQSxLQUFBLEVBQUEsR0FBQSxJQUNBLE9BQUEsT0FBQSxFQUFBLEVBQUEsS0FBQSxJQUFBLEdBQUEsRUFBQSxHQUFBLEtBb0JBLFFBQUEsSUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLFdBU0EsT0FSQSxHQUFBLElBQ0EsR0FBQSxHQUdBLEVBQUEsTUFBQSxFQUFBLEVBQUEsRUFBQSxFQUVBLEVBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsR0FHQSxLQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFDQSxVQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxHQUFBLEdBTUEsUUFBQSxJQUFBLEdBQ0EsR0FBQSxHQUFBLEtBQUEsT0FBQSxLQUFBLFFBQUEsUUFBQSxPQUFBLEtBQUEsUUFBQSxRQUFBLFNBQUEsT0FBQSxDQUNBLE9BQUEsT0FBQSxFQUFBLEVBQUEsS0FBQSxJQUFBLEVBQUEsRUFBQSxLQUlBLFFBQUEsSUFBQSxFQUFBLEVBQUEsR0FDQSxNQUFBLE9BQUEsRUFDQSxFQUVBLE1BQUEsRUFDQSxFQUVBLEVBR0EsUUFBQSxJQUFBLEdBQ0EsR0FBQSxHQUFBLEdBQUEsS0FDQSxPQUFBLEdBQUEsU0FDQSxFQUFBLGlCQUFBLEVBQUEsY0FBQSxFQUFBLGVBRUEsRUFBQSxjQUFBLEVBQUEsV0FBQSxFQUFBLFdBT0EsUUFBQSxJQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLElBRUEsS0FBQSxFQUFBLEdBQUEsQ0E2QkEsSUF6QkEsRUFBQSxHQUFBLEdBR0EsRUFBQSxJQUFBLE1BQUEsRUFBQSxHQUFBLEtBQUEsTUFBQSxFQUFBLEdBQUEsS0FDQSxHQUFBLEdBSUEsRUFBQSxhQUNBLEVBQUEsR0FBQSxFQUFBLEdBQUEsSUFBQSxFQUFBLEtBRUEsRUFBQSxXQUFBLEdBQUEsS0FDQSxFQUFBLEdBQUEsb0JBQUEsR0FHQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsWUFDQSxFQUFBLEdBQUEsSUFBQSxFQUFBLGNBQ0EsRUFBQSxHQUFBLElBQUEsRUFBQSxjQVFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsTUFBQSxFQUFBLEdBQUEsS0FBQSxFQUNBLEVBQUEsR0FBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLEVBSUEsTUFBQSxFQUFBLEVBQUEsSUFDQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsTUFBQSxFQUFBLEdBQUEsR0FBQSxJQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxFQUlBLE1BQUEsRUFBQSxHQUFBLEtBQ0EsSUFBQSxFQUFBLEdBQUEsS0FDQSxJQUFBLEVBQUEsR0FBQSxLQUNBLElBQUEsRUFBQSxHQUFBLE1BQ0EsRUFBQSxVQUFBLEVBQ0EsRUFBQSxHQUFBLElBQUEsR0FHQSxFQUFBLElBQUEsRUFBQSxRQUFBLEdBQUEsSUFBQSxNQUFBLEtBQUEsR0FHQSxNQUFBLEVBQUEsTUFDQSxFQUFBLEdBQUEsY0FBQSxFQUFBLEdBQUEsZ0JBQUEsRUFBQSxNQUdBLEVBQUEsV0FDQSxFQUFBLEdBQUEsSUFBQSxLQUlBLFFBQUEsSUFBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsQ0FFQSxHQUFBLEVBQUEsR0FDQSxNQUFBLEVBQUEsSUFBQSxNQUFBLEVBQUEsR0FBQSxNQUFBLEVBQUEsR0FDQSxFQUFBLEVBQ0EsRUFBQSxFQU1BLEVBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQSxHQUFBLElBQUEsR0FBQSxLQUFBLEVBQUEsR0FBQSxNQUNBLEVBQUEsR0FBQSxFQUFBLEVBQUEsR0FDQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEtBRUEsRUFBQSxFQUFBLFFBQUEsTUFBQSxJQUNBLEVBQUEsRUFBQSxRQUFBLE1BQUEsSUFFQSxFQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsR0FBQSxJQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsTUFDQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEdBRUEsTUFBQSxFQUFBLEdBRUEsRUFBQSxFQUFBLEVBQ0EsRUFBQSxLQUNBLEdBSUEsRUFGQSxNQUFBLEVBQUEsRUFFQSxFQUFBLEVBQUEsRUFHQSxHQUdBLEVBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBRUEsRUFBQSxHQUFBLElBQUEsRUFBQSxLQUNBLEVBQUEsV0FBQSxFQUFBLFVBTUEsUUFBQSxJQUFBLEdBRUEsR0FBQSxFQUFBLEtBQUEsRUFBQSxTQUVBLFdBREEsSUFBQSxFQUlBLEdBQUEsTUFDQSxFQUFBLEdBQUEsT0FBQSxDQUdBLElBQ0EsR0FBQSxFQUFBLEVBQUEsRUFBQSxFQURBLEVBQUEsR0FBQSxFQUFBLEdBRUEsRUFBQSxFQUFBLE9BQ0EsRUFBQSxDQUlBLEtBRkEsRUFBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLFNBQUEsTUFBQSxRQUVBLEVBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxJQUNBLEVBQUEsRUFBQSxHQUNBLEdBQUEsRUFBQSxNQUFBLEVBQUEsRUFBQSxTQUFBLEdBQ0EsSUFDQSxFQUFBLEVBQUEsT0FBQSxFQUFBLEVBQUEsUUFBQSxJQUNBLEVBQUEsT0FBQSxHQUNBLEVBQUEsR0FBQSxZQUFBLEtBQUEsR0FFQSxFQUFBLEVBQUEsTUFBQSxFQUFBLFFBQUEsR0FBQSxFQUFBLFFBQ0EsR0FBQSxFQUFBLFFBR0EsR0FBQSxJQUNBLEVBQ0EsRUFBQSxHQUFBLE9BQUEsRUFHQSxFQUFBLEdBQUEsYUFBQSxLQUFBLEdBRUEsRUFBQSxFQUFBLEVBQUEsSUFFQSxFQUFBLFVBQUEsR0FDQSxFQUFBLEdBQUEsYUFBQSxLQUFBLEVBS0EsR0FBQSxHQUFBLGNBQUEsRUFBQSxFQUNBLEVBQUEsT0FBQSxHQUNBLEVBQUEsR0FBQSxZQUFBLEtBQUEsR0FJQSxFQUFBLEdBQUEsV0FBQSxHQUNBLEVBQUEsR0FBQSxLQUFBLElBQ0EsRUFBQSxHQUFBLElBQUEsSUFDQSxFQUFBLEdBQUEsUUFBQSxRQUdBLEVBQUEsR0FBQSxJQUFBLEdBQUEsRUFBQSxRQUFBLEVBQUEsR0FBQSxJQUFBLEVBQUEsV0FFQSxHQUFBLEdBQ0EsR0FBQSxHQUlBLFFBQUEsSUFBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEVBRUEsT0FBQSxPQUFBLEVBRUEsRUFFQSxNQUFBLEVBQUEsYUFDQSxFQUFBLGFBQUEsRUFBQSxHQUNBLE1BQUEsRUFBQSxNQUVBLEVBQUEsRUFBQSxLQUFBLEdBQ0EsR0FBQSxHQUFBLElBQ0EsR0FBQSxJQUVBLEdBQUEsS0FBQSxJQUNBLEVBQUEsR0FFQSxHQUdBLEVBSUEsUUFBQSxJQUFBLEdBQ0EsR0FBQSxHQUNBLEVBRUEsRUFDQSxFQUNBLENBRUEsSUFBQSxJQUFBLEVBQUEsR0FBQSxPQUdBLE1BRkEsR0FBQSxHQUFBLGVBQUEsT0FDQSxFQUFBLEdBQUEsR0FBQSxNQUFBLEtBSUEsS0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsT0FBQSxJQUNBLEVBQUEsRUFDQSxFQUFBLEtBQUEsR0FDQSxNQUFBLEVBQUEsVUFDQSxFQUFBLFFBQUEsRUFBQSxTQUVBLEVBQUEsR0FBQSxFQUFBLEdBQUEsR0FDQSxHQUFBLEdBRUEsRUFBQSxLQUtBLEdBQUEsRUFBQSxHQUFBLGNBR0EsR0FBQSxHQUFBLEVBQUEsR0FBQSxhQUFBLE9BRUEsRUFBQSxHQUFBLE1BQUEsR0FFQSxNQUFBLEdBQUEsRUFBQSxLQUNBLEVBQUEsRUFDQSxFQUFBLEdBSUEsR0FBQSxFQUFBLEdBQUEsR0FHQSxRQUFBLElBQUEsR0FDQSxJQUFBLEVBQUEsR0FBQSxDQUlBLEdBQUEsR0FBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLElBQUEsRUFBQSxLQUFBLEVBQUEsTUFBQSxFQUFBLEtBQUEsRUFBQSxLQUFBLEVBQUEsS0FBQSxFQUFBLE9BQUEsRUFBQSxPQUFBLEVBQUEsYUFFQSxHQUFBLElBR0EsUUFBQSxJQUFBLEdBQ0EsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsSUFPQSxPQU5BLEdBQUEsV0FFQSxFQUFBLElBQUEsRUFBQSxLQUNBLEVBQUEsU0FBQSxRQUdBLEVBR0EsUUFBQSxJQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsR0FDQSxFQUFBLEVBQUEsRUFJQSxPQUZBLEdBQUEsUUFBQSxFQUFBLFNBQUEsRUFBQSxFQUFBLElBRUEsT0FBQSxHQUFBLFNBQUEsR0FBQSxLQUFBLEVBQ0EsR0FBQSxXQUFBLEtBR0EsZ0JBQUEsS0FDQSxFQUFBLEdBQUEsRUFBQSxFQUFBLFFBQUEsU0FBQSxJQUdBLEVBQUEsR0FDQSxHQUFBLEdBQUEsR0FBQSxLQUNBLEVBQUEsR0FDQSxHQUFBLEdBQ0EsRUFDQSxHQUFBLEdBQ0EsRUFBQSxHQUNBLEVBQUEsR0FBQSxFQUVBLEdBQUEsR0FHQSxJQUdBLFFBQUEsSUFBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLEVBQ0EsVUFBQSxFQUNBLEVBQUEsR0FBQSxHQUFBLE1BQ0EsRUFBQSxHQUNBLEVBQUEsR0FBQSxHQUFBLE9BQUEsR0FDQSxnQkFBQSxHQUNBLEdBQUEsR0FDQSxFQUFBLElBQ0EsRUFBQSxHQUFBLEVBQUEsRUFBQSxNQUFBLEdBQUEsU0FBQSxHQUNBLE1BQUEsVUFBQSxFQUFBLE1BRUEsR0FBQSxJQUNBLGdCQUFBLEdBQ0EsR0FBQSxHQUNBLGdCQUFBLEdBRUEsRUFBQSxHQUFBLEdBQUEsTUFBQSxHQUVBLEVBQUEsd0JBQUEsR0FJQSxRQUFBLElBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsS0FlQSxPQWJBLGlCQUFBLEtBQ0EsRUFBQSxFQUNBLEVBQUEsUUFJQSxFQUFBLGtCQUFBLEVBQ0EsRUFBQSxRQUFBLEVBQUEsT0FBQSxFQUNBLEVBQUEsR0FBQSxFQUNBLEVBQUEsR0FBQSxFQUNBLEVBQUEsR0FBQSxFQUNBLEVBQUEsUUFBQSxFQUVBLEdBQUEsR0FHQSxRQUFBLElBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxNQUFBLElBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxHQXdCQSxRQUFBLElBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxDQUlBLElBSEEsSUFBQSxFQUFBLFFBQUEsRUFBQSxFQUFBLE1BQ0EsRUFBQSxFQUFBLEtBRUEsRUFBQSxPQUNBLE1BQUEsS0FHQSxLQURBLEVBQUEsRUFBQSxHQUNBLEVBQUEsRUFBQSxFQUFBLEVBQUEsU0FBQSxJQUNBLEVBQUEsR0FBQSxXQUFBLEVBQUEsR0FBQSxHQUFBLE1BQ0EsRUFBQSxFQUFBLEdBR0EsT0FBQSxHQUlBLFFBQUEsTUFDQSxHQUFBLE1BQUEsTUFBQSxLQUFBLFVBQUEsRUFFQSxPQUFBLElBQUEsV0FBQSxHQUdBLFFBQUEsTUFDQSxHQUFBLE1BQUEsTUFBQSxLQUFBLFVBQUEsRUFFQSxPQUFBLElBQUEsVUFBQSxHQUdBLFFBQUEsSUFBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLEdBQ0EsRUFBQSxFQUFBLE1BQUEsRUFDQSxFQUFBLEVBQUEsU0FBQSxFQUNBLEVBQUEsRUFBQSxPQUFBLEVBQ0EsRUFBQSxFQUFBLE1BQUEsRUFDQSxFQUFBLEVBQUEsS0FBQSxFQUNBLEVBQUEsRUFBQSxNQUFBLEVBQ0EsRUFBQSxFQUFBLFFBQUEsRUFDQSxFQUFBLEVBQUEsUUFBQSxFQUNBLEVBQUEsRUFBQSxhQUFBLENBR0EsTUFBQSxlQUFBLEVBQ0EsSUFBQSxFQUNBLElBQUEsRUFDQSxLQUFBLEVBR0EsS0FBQSxPQUFBLEVBQ0EsRUFBQSxFQUlBLEtBQUEsU0FBQSxFQUNBLEVBQUEsRUFDQSxHQUFBLEVBRUEsS0FBQSxTQUVBLEtBQUEsUUFBQSxJQUVBLEtBQUEsVUFHQSxRQUFBLElBQUEsR0FDQSxNQUFBLGFBQUEsSUFHQSxRQUFBLElBQUEsRUFBQSxHQUNBLEVBQUEsRUFBQSxFQUFBLEVBQUEsV0FDQSxHQUFBLEdBQUEsS0FBQSxZQUNBLEVBQUEsR0FLQSxPQUpBLEdBQUEsSUFDQSxHQUFBLEVBQ0EsRUFBQSxLQUVBLEVBQUEsS0FBQSxFQUFBLElBQUEsR0FBQSxFQUFBLElBQUEsRUFBQSxHQUFBLEtBdUJBLFFBQUEsSUFBQSxHQUNBLEdBQUEsSUFBQSxHQUFBLElBQUEsTUFBQSxRQUNBLEVBQUEsRUFBQSxFQUFBLE9BQUEsT0FDQSxHQUFBLEVBQUEsSUFBQSxNQUFBLE1BQUEsSUFBQSxFQUFBLEdBQ0EsSUFBQSxHQUFBLEVBQUEsSUFBQSxFQUFBLEVBQUEsR0FFQSxPQUFBLE1BQUEsRUFBQSxHQUFBLEdBQUEsRUFJQSxRQUFBLElBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxDQUNBLE9BQUEsR0FBQSxRQUNBLEVBQUEsRUFBQSxRQUNBLEdBQUEsRUFBQSxJQUFBLEVBQUEsSUFBQSxHQUFBLEdBQUEsS0FBQSxFQUVBLEVBQUEsR0FBQSxTQUFBLEVBQUEsR0FBQSxHQUNBLEVBQUEsYUFBQSxHQUFBLEdBQ0EsR0FFQSxHQUFBLEdBQUEsUUFJQSxRQUFBLElBQUEsR0FHQSxNQUFBLEtBQUEsS0FBQSxNQUFBLEVBQUEsR0FBQSxvQkFBQSxJQXFCQSxRQUFBLElBQUEsRUFBQSxHQUNBLEdBQ0EsR0FEQSxFQUFBLEtBQUEsU0FBQSxDQUVBLE9BQUEsT0FBQSxHQUNBLGdCQUFBLEtBQ0EsRUFBQSxHQUFBLElBRUEsS0FBQSxJQUFBLEdBQUEsS0FDQSxFQUFBLEdBQUEsSUFFQSxLQUFBLFFBQUEsSUFDQSxFQUFBLEdBQUEsT0FFQSxLQUFBLFFBQUEsRUFDQSxLQUFBLFFBQUEsRUFDQSxNQUFBLEdBQ0EsS0FBQSxJQUFBLEVBQUEsS0FFQSxJQUFBLEtBQ0EsR0FBQSxLQUFBLGtCQUNBLEdBQUEsS0FBQSxHQUFBLEVBQUEsRUFBQSxLQUFBLEdBQUEsR0FDQSxLQUFBLG9CQUNBLEtBQUEsbUJBQUEsRUFDQSxFQUFBLGFBQUEsTUFBQSxHQUNBLEtBQUEsa0JBQUEsT0FHQSxNQUVBLEtBQUEsT0FBQSxFQUFBLEdBQUEsTUFJQSxRQUFBLElBQUEsRUFBQSxHQUNBLE1BQUEsT0FBQSxHQUNBLGdCQUFBLEtBQ0EsR0FBQSxHQUdBLEtBQUEsVUFBQSxFQUFBLEdBRUEsT0FFQSxLQUFBLFlBSUEsUUFBQSxJQUFBLEdBQ0EsTUFBQSxNQUFBLFVBQUEsRUFBQSxHQUdBLFFBQUEsSUFBQSxHQVNBLE1BUkEsTUFBQSxTQUNBLEtBQUEsVUFBQSxFQUFBLEdBQ0EsS0FBQSxRQUFBLEVBRUEsR0FDQSxLQUFBLFNBQUEsR0FBQSxNQUFBLE1BR0EsS0FHQSxRQUFBLE1BTUEsTUFMQSxNQUFBLEtBQ0EsS0FBQSxVQUFBLEtBQUEsTUFDQSxnQkFBQSxNQUFBLElBQ0EsS0FBQSxVQUFBLEdBQUEsS0FBQSxLQUVBLEtBR0EsUUFBQSxJQUFBLEdBR0EsTUFGQSxHQUFBLEVBQUEsR0FBQSxHQUFBLFlBQUEsR0FFQSxLQUFBLFlBQUEsR0FBQSxLQUFBLEVBR0EsUUFBQSxNQUNBLE1BQ0EsTUFBQSxZQUFBLEtBQUEsUUFBQSxNQUFBLEdBQUEsYUFDQSxLQUFBLFlBQUEsS0FBQSxRQUFBLE1BQUEsR0FBQSxZQUlBLFFBQUEsTUFDQSxHQUFBLG1CQUFBLE1BQUEsY0FDQSxNQUFBLE1BQUEsYUFHQSxJQUFBLEtBS0EsSUFIQSxFQUFBLEVBQUEsTUFDQSxFQUFBLEdBQUEsR0FFQSxFQUFBLEdBQUEsQ0FDQSxHQUFBLEdBQUEsRUFBQSxPQUFBLEVBQUEsRUFBQSxJQUFBLEdBQUEsRUFBQSxHQUNBLE1BQUEsY0FBQSxLQUFBLFdBQ0EsRUFBQSxFQUFBLEdBQUEsRUFBQSxXQUFBLE1BRUEsTUFBQSxlQUFBLENBR0EsT0FBQSxNQUFBLGNBR0EsUUFBQSxNQUNBLE9BQUEsS0FBQSxPQUdBLFFBQUEsTUFDQSxNQUFBLE1BQUEsT0FHQSxRQUFBLE1BQ0EsTUFBQSxNQUFBLFFBQUEsSUFBQSxLQUFBLFFBU0EsUUFBQSxJQUFBLEVBQUEsR0FDQSxHQUdBLEdBQ0EsRUFDQSxFQUxBLEVBQUEsRUFFQSxFQUFBLElBdURBLE9BbERBLElBQUEsR0FDQSxHQUNBLEdBQUEsRUFBQSxjQUNBLEVBQUEsRUFBQSxNQUNBLEVBQUEsRUFBQSxTQUVBLGdCQUFBLElBQ0EsS0FDQSxFQUNBLEVBQUEsR0FBQSxFQUVBLEVBQUEsYUFBQSxJQUVBLEVBQUEsR0FBQSxLQUFBLEtBQ0EsRUFBQSxNQUFBLEVBQUEsR0FBQSxHQUFBLEVBQ0EsR0FDQSxFQUFBLEVBQ0EsRUFBQSxFQUFBLEVBQUEsS0FBQSxFQUNBLEVBQUEsRUFBQSxFQUFBLEtBQUEsRUFDQSxFQUFBLEVBQUEsRUFBQSxLQUFBLEVBQ0EsRUFBQSxFQUFBLEVBQUEsS0FBQSxFQUNBLEdBQUEsRUFBQSxFQUFBLEtBQUEsS0FFQSxFQUFBLEdBQUEsS0FBQSxLQUNBLEVBQUEsTUFBQSxFQUFBLEdBQUEsR0FBQSxFQUNBLEdBQ0EsRUFBQSxHQUFBLEVBQUEsR0FBQSxHQUNBLEVBQUEsR0FBQSxFQUFBLEdBQUEsR0FDQSxFQUFBLEdBQUEsRUFBQSxHQUFBLEdBQ0EsRUFBQSxHQUFBLEVBQUEsR0FBQSxHQUNBLEVBQUEsR0FBQSxFQUFBLEdBQUEsR0FDQSxFQUFBLEdBQUEsRUFBQSxHQUFBLEdBQ0EsRUFBQSxHQUFBLEVBQUEsR0FBQSxLQUVBLE1BQUEsRUFDQSxLQUNBLGdCQUFBLEtBQUEsUUFBQSxJQUFBLE1BQUEsTUFDQSxFQUFBLEdBQUEsR0FBQSxFQUFBLE1BQUEsR0FBQSxFQUFBLEtBRUEsS0FDQSxFQUFBLEdBQUEsRUFBQSxhQUNBLEVBQUEsRUFBQSxFQUFBLFFBR0EsRUFBQSxHQUFBLElBQUEsR0FFQSxHQUFBLElBQUEsRUFBQSxFQUFBLGFBQ0EsRUFBQSxRQUFBLEVBQUEsU0FHQSxFQUtBLFFBQUEsSUFBQSxFQUFBLEdBSUEsR0FBQSxHQUFBLEdBQUEsV0FBQSxFQUFBLFFBQUEsSUFBQSxLQUVBLFFBQUEsTUFBQSxHQUFBLEVBQUEsR0FBQSxFQUdBLFFBQUEsSUFBQSxFQUFBLEdBQ0EsR0FBQSxJQUFBLGFBQUEsRUFBQSxPQUFBLEVBVUEsT0FSQSxHQUFBLE9BQUEsRUFBQSxRQUFBLEVBQUEsUUFDQSxJQUFBLEVBQUEsT0FBQSxFQUFBLFFBQ0EsRUFBQSxRQUFBLElBQUEsRUFBQSxPQUFBLEtBQUEsUUFBQSxNQUNBLEVBQUEsT0FHQSxFQUFBLGNBQUEsR0FBQSxFQUFBLFFBQUEsSUFBQSxFQUFBLE9BQUEsS0FFQSxFQUdBLFFBQUEsSUFBQSxFQUFBLEdBQ0EsR0FBQSxFQVVBLE9BVEEsR0FBQSxHQUFBLEVBQUEsR0FDQSxFQUFBLFNBQUEsR0FDQSxFQUFBLEdBQUEsRUFBQSxJQUVBLEVBQUEsR0FBQSxFQUFBLEdBQ0EsRUFBQSxjQUFBLEVBQUEsYUFDQSxFQUFBLFFBQUEsRUFBQSxRQUdBLEVBR0EsUUFBQSxJQUFBLEVBQUEsR0FDQSxNQUFBLFVBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxDQVVBLE9BUkEsUUFBQSxHQUFBLE9BQUEsS0FDQSxHQUFBLEVBQUEsWUFBQSxFQUFBLHVEQUFBLEVBQUEscUJBQ0EsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBR0EsRUFBQSxnQkFBQSxJQUFBLEVBQUEsRUFDQSxFQUFBLEdBQUEsRUFBQSxHQUNBLEdBQUEsS0FBQSxFQUFBLEdBQ0EsTUFJQSxRQUFBLElBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxjQUNBLEVBQUEsRUFBQSxNQUNBLEVBQUEsRUFBQSxPQUNBLEdBQUEsTUFBQSxHQUFBLEVBQUEsRUFFQSxHQUNBLEVBQUEsR0FBQSxTQUFBLEVBQUEsR0FBQSxFQUFBLEdBRUEsR0FDQSxFQUFBLEVBQUEsT0FBQSxFQUFBLEVBQUEsUUFBQSxFQUFBLEdBRUEsR0FDQSxFQUFBLEVBQUEsRUFBQSxFQUFBLFNBQUEsRUFBQSxHQUVBLEdBQ0EsRUFBQSxhQUFBLEVBQUEsR0FBQSxHQU9BLFFBQUEsSUFBQSxFQUFBLEdBR0EsR0FBQSxHQUFBLEdBQUEsS0FDQSxFQUFBLEdBQUEsRUFBQSxNQUFBLFFBQUEsT0FDQSxFQUFBLEtBQUEsS0FBQSxFQUFBLFFBQUEsR0FDQSxFQUFBLEdBQUEsRUFBQSxXQUNBLEdBQUEsRUFBQSxXQUNBLEVBQUEsRUFBQSxVQUNBLEVBQUEsRUFBQSxVQUNBLEVBQUEsRUFBQSxVQUNBLEVBQUEsRUFBQSxXQUFBLFVBQ0EsT0FBQSxNQUFBLE9BQUEsR0FBQSxFQUFBLElBQUEsS0FBQSxhQUFBLFNBQUEsRUFBQSxLQUFBLEdBQUEsS0FHQSxRQUFBLE1BQ0EsTUFBQSxJQUFBLEdBQUEsTUFHQSxRQUFBLElBQUEsRUFBQSxHQUNBLEdBQUEsRUFFQSxPQURBLEdBQUEsRUFBQSxtQkFBQSxHQUFBLEVBQUEsZUFDQSxnQkFBQSxHQUNBLEVBQUEsRUFBQSxHQUFBLEVBQUEsR0FBQSxJQUNBLE1BQUEsSUFFQSxFQUFBLEVBQUEsSUFBQSxHQUFBLEdBQUEsR0FDQSxHQUFBLEtBQUEsUUFBQSxRQUFBLElBSUEsUUFBQSxJQUFBLEVBQUEsR0FDQSxHQUFBLEVBRUEsT0FEQSxHQUFBLEVBQUEsbUJBQUEsR0FBQSxFQUFBLGVBQ0EsZ0JBQUEsR0FDQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEdBQUEsSUFDQSxHQUFBLE9BRUEsRUFBQSxFQUFBLElBQUEsR0FBQSxHQUFBLElBQ0EsS0FBQSxRQUFBLE1BQUEsR0FBQSxHQUlBLFFBQUEsSUFBQSxFQUFBLEVBQUEsR0FDQSxNQUFBLE1BQUEsUUFBQSxFQUFBLElBQUEsS0FBQSxTQUFBLEVBQUEsR0FHQSxRQUFBLElBQUEsRUFBQSxHQUNBLEdBQUEsRUFFQSxPQURBLEdBQUEsRUFBQSxHQUFBLGVBQ0EsZ0JBQUEsR0FDQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEdBQUEsSUFDQSxRQUFBLElBRUEsR0FBQSxHQUFBLElBQ0EsS0FBQSxRQUFBLFFBQUEsSUFBQSxHQUFBLElBQUEsS0FBQSxRQUFBLE1BQUEsSUFJQSxRQUFBLElBQUEsRUFBQSxFQUFBLEdBQ0EsR0FFQSxHQUFBLEVBRkEsRUFBQSxHQUFBLEVBQUEsTUFDQSxFQUFBLEtBQUEsRUFBQSxZQUFBLEtBQUEsWUFxQkEsT0FsQkEsR0FBQSxFQUFBLEdBRUEsU0FBQSxHQUFBLFVBQUEsR0FBQSxZQUFBLEdBQ0EsRUFBQSxHQUFBLEtBQUEsR0FDQSxZQUFBLEVBQ0EsR0FBQSxFQUNBLFNBQUEsSUFDQSxHQUFBLE1BR0EsRUFBQSxLQUFBLEVBQ0EsRUFBQSxXQUFBLEVBQUEsRUFBQSxJQUNBLFdBQUEsRUFBQSxFQUFBLElBQ0EsU0FBQSxFQUFBLEVBQUEsS0FDQSxRQUFBLEdBQUEsRUFBQSxHQUFBLE1BQ0EsU0FBQSxHQUFBLEVBQUEsR0FBQSxPQUNBLEdBRUEsRUFBQSxFQUFBLEVBQUEsR0FHQSxRQUFBLElBQUEsRUFBQSxHQUVBLEdBR0EsR0FBQSxFQUhBLEVBQUEsSUFBQSxFQUFBLE9BQUEsRUFBQSxTQUFBLEVBQUEsUUFBQSxFQUFBLFNBRUEsRUFBQSxFQUFBLFFBQUEsSUFBQSxFQUFBLFNBYUEsT0FWQSxHQUFBLEVBQUEsR0FDQSxFQUFBLEVBQUEsUUFBQSxJQUFBLEVBQUEsRUFBQSxVQUVBLEdBQUEsRUFBQSxJQUFBLEVBQUEsS0FFQSxFQUFBLEVBQUEsUUFBQSxJQUFBLEVBQUEsRUFBQSxVQUVBLEdBQUEsRUFBQSxJQUFBLEVBQUEsTUFHQSxFQUFBLEdBS0EsUUFBQSxNQUNBLE1BQUEsTUFBQSxRQUFBLE9BQUEsTUFBQSxPQUFBLG9DQUdBLFFBQUEsTUFDQSxHQUFBLEdBQUEsS0FBQSxRQUFBLEtBQ0EsT0FBQSxHQUFBLEVBQUEsUUFBQSxFQUFBLFFBQUEsS0FDQSxrQkFBQSxNQUFBLFVBQUEsWUFFQSxLQUFBLFNBQUEsY0FFQSxFQUFBLEVBQUEsZ0NBR0EsRUFBQSxFQUFBLGtDQUlBLFFBQUEsSUFBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLEtBQUEsR0FBQSxFQUFBLGNBQ0EsT0FBQSxNQUFBLGFBQUEsV0FBQSxHQUdBLFFBQUEsSUFBQSxFQUFBLEdBQ0EsTUFBQSxNQUFBLFVBR0EsSUFBQSxHQUFBLEtBQUEsS0FBQSxJQUFBLE9BQUEsS0FBQSxVQUFBLFVBQUEsR0FGQSxLQUFBLGFBQUEsY0FLQSxRQUFBLElBQUEsR0FDQSxNQUFBLE1BQUEsS0FBQSxLQUFBLEdBR0EsUUFBQSxJQUFBLEVBQUEsR0FDQSxNQUFBLE1BQUEsVUFHQSxJQUFBLEtBQUEsS0FBQSxHQUFBLElBQUEsT0FBQSxLQUFBLFVBQUEsVUFBQSxHQUZBLEtBQUEsYUFBQSxjQUtBLFFBQUEsSUFBQSxHQUNBLE1BQUEsTUFBQSxHQUFBLEtBQUEsR0FHQSxRQUFBLElBQUEsR0FDQSxHQUFBLEVBRUEsT0FBQSxVQUFBLEVBQ0EsS0FBQSxRQUFBLE9BRUEsRUFBQSxFQUFBLEdBQ0EsTUFBQSxJQUNBLEtBQUEsUUFBQSxHQUVBLE1BZUEsUUFBQSxNQUNBLE1BQUEsTUFBQSxRQUdBLFFBQUEsSUFBQSxHQUlBLE9BSEEsRUFBQSxFQUFBLElBSUEsSUFBQSxPQUNBLEtBQUEsTUFBQSxFQUVBLEtBQUEsVUFDQSxJQUFBLFFBQ0EsS0FBQSxLQUFBLEVBRUEsS0FBQSxPQUNBLElBQUEsVUFDQSxJQUFBLE1BQ0EsS0FBQSxNQUFBLEVBRUEsS0FBQSxPQUNBLEtBQUEsUUFBQSxFQUVBLEtBQUEsU0FDQSxLQUFBLFFBQUEsRUFFQSxLQUFBLFNBQ0EsS0FBQSxhQUFBLEdBZ0JBLE1BWkEsU0FBQSxHQUNBLEtBQUEsUUFBQSxHQUVBLFlBQUEsR0FDQSxLQUFBLFdBQUEsR0FJQSxZQUFBLEdBQ0EsS0FBQSxNQUFBLEVBQUEsS0FBQSxNQUFBLEtBQUEsUUFBQSxJQUdBLEtBR0EsUUFBQSxJQUFBLEdBRUEsTUFEQSxHQUFBLEVBQUEsR0FDQSxTQUFBLEdBQUEsZ0JBQUEsRUFDQSxLQUVBLEtBQUEsUUFBQSxHQUFBLElBQUEsRUFBQSxZQUFBLEVBQUEsT0FBQSxHQUFBLFNBQUEsRUFBQSxNQUdBLFFBQUEsTUFDQSxPQUFBLEtBQUEsR0FBQSxLQUFBLEtBQUEsU0FBQSxHQUdBLFFBQUEsTUFDQSxNQUFBLE1BQUEsT0FBQSxLQUFBLEtBR0EsUUFBQSxNQUNBLE1BQUEsTUFBQSxRQUFBLEdBQUEsT0FBQSxNQUFBLEtBQUEsR0FHQSxRQUFBLE1BQ0EsR0FBQSxHQUFBLElBQ0EsUUFBQSxFQUFBLE9BQUEsRUFBQSxRQUFBLEVBQUEsT0FBQSxFQUFBLE9BQUEsRUFBQSxTQUFBLEVBQUEsU0FBQSxFQUFBLGVBR0EsUUFBQSxNQUNBLEdBQUEsR0FBQSxJQUNBLFFBQ0EsTUFBQSxFQUFBLE9BQ0EsT0FBQSxFQUFBLFFBQ0EsS0FBQSxFQUFBLE9BQ0EsTUFBQSxFQUFBLFFBQ0EsUUFBQSxFQUFBLFVBQ0EsUUFBQSxFQUFBLFVBQ0EsYUFBQSxFQUFBLGdCQUlBLFFBQUEsTUFDQSxNQUFBLEdBQUEsTUFHQSxRQUFBLE1BQ0EsTUFBQSxNQUFBLEVBQUEsT0FHQSxRQUFBLE1BQ0EsTUFBQSxHQUFBLE1BQUEsU0FXQSxRQUFBLElBQUEsRUFBQSxHQUNBLEVBQUEsR0FBQSxFQUFBLEVBQUEsUUFBQSxFQUFBLEdBa0NBLFFBQUEsSUFBQSxFQUFBLEVBQUEsR0FDQSxNQUFBLElBQUEsSUFBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLElBQUEsRUFBQSxHQUFBLEtBS0EsUUFBQSxJQUFBLEdBQ0EsR0FBQSxHQUFBLEdBQUEsS0FBQSxLQUFBLGFBQUEsTUFBQSxJQUFBLEtBQUEsYUFBQSxNQUFBLEtBQUEsSUFDQSxPQUFBLE9BQUEsRUFBQSxFQUFBLEtBQUEsSUFBQSxFQUFBLEVBQUEsS0FHQSxRQUFBLElBQUEsR0FDQSxHQUFBLEdBQUEsR0FBQSxLQUFBLEVBQUEsR0FBQSxJQUNBLE9BQUEsT0FBQSxFQUFBLEVBQUEsS0FBQSxJQUFBLEVBQUEsRUFBQSxLQUdBLFFBQUEsTUFDQSxNQUFBLElBQUEsS0FBQSxPQUFBLEVBQUEsR0FHQSxRQUFBLE1BQ0EsR0FBQSxHQUFBLEtBQUEsYUFBQSxLQUNBLE9BQUEsSUFBQSxLQUFBLE9BQUEsRUFBQSxJQUFBLEVBQUEsS0FrQkEsUUFBQSxJQUFBLEdBQ0EsTUFBQSxPQUFBLEVBQUEsS0FBQSxNQUFBLEtBQUEsUUFBQSxHQUFBLEdBQUEsS0FBQSxNQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsUUFBQSxHQTBFQSxRQUFBLElBQUEsRUFBQSxHQUNBLE1BQUEsZ0JBQUEsR0FDQSxFQUdBLE1BQUEsSUFJQSxFQUFBLEVBQUEsY0FBQSxHQUNBLGdCQUFBLEdBQ0EsRUFHQSxNQVJBLFNBQUEsRUFBQSxJQWNBLFFBQUEsSUFBQSxHQUNBLE1BQUEsTUFBQSxVQUFBLEVBQUEsT0FJQSxRQUFBLElBQUEsR0FDQSxNQUFBLE1BQUEsZUFBQSxFQUFBLE9BSUEsUUFBQSxJQUFBLEdBQ0EsTUFBQSxNQUFBLGFBQUEsRUFBQSxPQUdBLFFBQUEsSUFBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLENBSUEsS0FGQSxLQUFBLGVBQUEsS0FBQSxtQkFFQSxFQUFBLEVBQUEsRUFBQSxFQUFBLElBUUEsR0FOQSxLQUFBLGVBQUEsS0FDQSxFQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsR0FDQSxFQUFBLElBQUEsS0FBQSxTQUFBLEVBQUEsSUFBQSxLQUFBLEtBQUEsY0FBQSxFQUFBLElBQUEsS0FBQSxLQUFBLFlBQUEsRUFBQSxJQUNBLEtBQUEsZUFBQSxHQUFBLEdBQUEsUUFBQSxFQUFBLFFBQUEsSUFBQSxJQUFBLE1BR0EsS0FBQSxlQUFBLEdBQUEsS0FBQSxHQUNBLE1BQUEsR0FPQSxRQUFBLElBQUEsR0FDQSxHQUFBLEdBQUEsS0FBQSxPQUFBLEtBQUEsR0FBQSxZQUFBLEtBQUEsR0FBQSxRQUNBLE9BQUEsT0FBQSxHQUNBLEVBQUEsR0FBQSxFQUFBLEtBQUEsY0FDQSxLQUFBLElBQUEsRUFBQSxFQUFBLE1BRUEsRUFJQSxRQUFBLElBQUEsR0FDQSxHQUFBLElBQUEsS0FBQSxNQUFBLEVBQUEsS0FBQSxhQUFBLE1BQUEsS0FBQSxDQUNBLE9BQUEsT0FBQSxFQUFBLEVBQUEsS0FBQSxJQUFBLEVBQUEsRUFBQSxLQUdBLFFBQUEsSUFBQSxHQUlBLE1BQUEsT0FBQSxFQUFBLEtBQUEsT0FBQSxFQUFBLEtBQUEsSUFBQSxLQUFBLE1BQUEsRUFBQSxFQUFBLEVBQUEsR0FRQSxRQUFBLElBQUEsRUFBQSxHQUNBLEVBQUEsRUFBQSxFQUFBLEVBQUEsV0FDQSxNQUFBLE1BQUEsYUFBQSxTQUFBLEtBQUEsUUFBQSxLQUFBLFVBQUEsS0FhQSxRQUFBLElBQUEsRUFBQSxHQUNBLE1BQUEsR0FBQSxlQXNCQSxRQUFBLElBQUEsR0FHQSxNQUFBLE9BQUEsRUFBQSxJQUFBLGNBQUEsT0FBQSxHQUlBLFFBQUEsSUFBQSxFQUFBLEVBQUEsR0FDQSxNQUFBLEdBQUEsR0FDQSxFQUFBLEtBQUEsS0FFQSxFQUFBLEtBQUEsS0F5RkEsUUFBQSxJQUFBLEVBQUEsR0FDQSxFQUFBLElBQUEsRUFBQSxLQUFBLEtBQUEsSUFlQSxRQUFBLE1BQ0EsTUFBQSxNQUFBLE9BQUEsTUFBQSxHQUdBLFFBQUEsTUFDQSxNQUFBLE1BQUEsT0FBQSw2QkFBQSxHQXlHQSxRQUFBLElBQUEsR0FDQSxNQUFBLElBQUEsSUFBQSxHQUdBLFFBQUEsTUFDQSxNQUFBLElBQUEsTUFBQSxLQUFBLFdBQUEsWUFZQSxRQUFBLElBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEtBQUEsVUFBQSxFQUNBLE9BQUEsa0JBQUEsR0FBQSxFQUFBLEtBQUEsRUFBQSxHQUFBLEVBWUEsUUFBQSxJQUFBLEdBQ0EsR0FBQSxHQUFBLEtBQUEsZ0JBQUEsR0FDQSxFQUFBLEtBQUEsZ0JBQUEsRUFBQSxjQUVBLE9BQUEsS0FBQSxFQUNBLEdBR0EsS0FBQSxnQkFBQSxHQUFBLEVBQUEsUUFBQSxtQkFBQSxTQUFBLEdBQ0EsTUFBQSxHQUFBLE1BQUEsS0FHQSxLQUFBLGdCQUFBLElBS0EsUUFBQSxNQUNBLE1BQUEsTUFBQSxhQU1BLFFBQUEsSUFBQSxHQUNBLE1BQUEsTUFBQSxTQUFBLFFBQUEsS0FBQSxHQUdBLFFBQUEsSUFBQSxHQUNBLE1BQUEsR0FtQkEsUUFBQSxJQUFBLEVBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEtBQUEsY0FBQSxFQUNBLE9BQUEsa0JBQUEsR0FDQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQ0EsRUFBQSxRQUFBLE1BQUEsR0FHQSxRQUFBLElBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxLQUFBLGNBQUEsRUFBQSxFQUFBLFNBQUEsT0FDQSxPQUFBLGtCQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsUUFBQSxNQUFBLEdBR0EsUUFBQSxJQUFBLEdBQ0EsR0FBQSxHQUFBLENBQ0EsS0FBQSxJQUFBLEdBQ0EsRUFBQSxFQUFBLEdBQ0Esa0JBQUEsR0FDQSxLQUFBLEdBQUEsRUFFQSxLQUFBLElBQUEsR0FBQSxDQUtBLE1BQUEscUJBQUEsR0FBQSxRQUFBLEtBQUEsY0FBQSxPQUFBLElBQUEsVUFBQSxRQWdEQSxRQUFBLElBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsSUFDQSxFQUFBLElBQUEsSUFBQSxFQUFBLEVBQ0EsT0FBQSxHQUFBLEdBQUEsRUFBQSxHQUdBLFFBQUEsSUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBUUEsR0FQQSxnQkFBQSxLQUNBLEVBQUEsRUFDQSxFQUFBLFFBR0EsRUFBQSxHQUFBLEdBRUEsTUFBQSxFQUNBLE1BQUEsSUFBQSxFQUFBLEVBQUEsRUFBQSxFQUdBLElBQUEsR0FDQSxJQUNBLEtBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxJQUNBLEVBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEVBRUEsT0FBQSxHQUdBLFFBQUEsSUFBQSxFQUFBLEdBQ0EsTUFBQSxJQUFBLEVBQUEsRUFBQSxTQUFBLEdBQUEsU0FHQSxRQUFBLElBQUEsRUFBQSxHQUNBLE1BQUEsSUFBQSxFQUFBLEVBQUEsY0FBQSxHQUFBLFNBR0EsUUFBQSxJQUFBLEVBQUEsR0FDQSxNQUFBLElBQUEsRUFBQSxFQUFBLFdBQUEsRUFBQSxPQUdBLFFBQUEsSUFBQSxFQUFBLEdBQ0EsTUFBQSxJQUFBLEVBQUEsRUFBQSxnQkFBQSxFQUFBLE9BR0EsUUFBQSxJQUFBLEVBQUEsR0FDQSxNQUFBLElBQUEsRUFBQSxFQUFBLGNBQUEsRUFBQSxPQXFCQSxRQUFBLE1BQ0EsR0FBQSxHQUFBLEtBQUEsS0FhQSxPQVhBLE1BQUEsY0FBQSxHQUFBLEtBQUEsZUFDQSxLQUFBLE1BQUEsR0FBQSxLQUFBLE9BQ0EsS0FBQSxRQUFBLEdBQUEsS0FBQSxTQUVBLEVBQUEsYUFBQSxHQUFBLEVBQUEsY0FDQSxFQUFBLFFBQUEsR0FBQSxFQUFBLFNBQ0EsRUFBQSxRQUFBLEdBQUEsRUFBQSxTQUNBLEVBQUEsTUFBQSxHQUFBLEVBQUEsT0FDQSxFQUFBLE9BQUEsR0FBQSxFQUFBLFFBQ0EsRUFBQSxNQUFBLEdBQUEsRUFBQSxPQUVBLEtBR0EsUUFBQSxJQUFBLEVBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEdBQUEsRUFBQSxFQU1BLE9BSkEsR0FBQSxlQUFBLEVBQUEsRUFBQSxjQUNBLEVBQUEsT0FBQSxFQUFBLEVBQUEsTUFDQSxFQUFBLFNBQUEsRUFBQSxFQUFBLFFBRUEsRUFBQSxVQUlBLFFBQUEsSUFBQSxFQUFBLEdBQ0EsTUFBQSxJQUFBLEtBQUEsRUFBQSxFQUFBLEdBSUEsUUFBQSxJQUFBLEVBQUEsR0FDQSxNQUFBLElBQUEsS0FBQSxFQUFBLEVBQUEsSUFHQSxRQUFBLElBQUEsR0FDQSxNQUFBLEdBQUEsRUFDQSxLQUFBLE1BQUEsR0FFQSxLQUFBLEtBQUEsR0FJQSxRQUFBLE1BQ0EsR0FJQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEVBSkEsRUFBQSxLQUFBLGNBQ0EsRUFBQSxLQUFBLE1BQ0EsRUFBQSxLQUFBLFFBQ0EsRUFBQSxLQUFBLEtBd0NBLE9BbkNBLElBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUNBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxJQUNBLEdBQUEsTUFBQSxHQUFBLEdBQUEsR0FBQSxHQUNBLEVBQUEsRUFDQSxFQUFBLEdBS0EsRUFBQSxhQUFBLEVBQUEsSUFFQSxFQUFBLEVBQUEsRUFBQSxLQUNBLEVBQUEsUUFBQSxFQUFBLEdBRUEsRUFBQSxFQUFBLEVBQUEsSUFDQSxFQUFBLFFBQUEsRUFBQSxHQUVBLEVBQUEsRUFBQSxFQUFBLElBQ0EsRUFBQSxNQUFBLEVBQUEsR0FFQSxHQUFBLEVBQUEsRUFBQSxJQUdBLEVBQUEsRUFBQSxHQUFBLElBQ0EsR0FBQSxFQUNBLEdBQUEsR0FBQSxHQUFBLElBR0EsRUFBQSxFQUFBLEVBQUEsSUFDQSxHQUFBLEdBRUEsRUFBQSxLQUFBLEVBQ0EsRUFBQSxPQUFBLEVBQ0EsRUFBQSxNQUFBLEVBRUEsS0FHQSxRQUFBLElBQUEsR0FHQSxNQUFBLE1BQUEsRUFBQSxPQUdBLFFBQUEsSUFBQSxHQUVBLE1BQUEsUUFBQSxFQUFBLEtBR0EsUUFBQSxJQUFBLEdBQ0EsR0FBQSxHQUNBLEVBQ0EsRUFBQSxLQUFBLGFBSUEsSUFGQSxFQUFBLEVBQUEsR0FFQSxVQUFBLEdBQUEsU0FBQSxFQUdBLE1BRkEsR0FBQSxLQUFBLE1BQUEsRUFBQSxNQUNBLEVBQUEsS0FBQSxRQUFBLEdBQUEsR0FDQSxVQUFBLEVBQUEsRUFBQSxFQUFBLEVBSUEsUUFEQSxFQUFBLEtBQUEsTUFBQSxLQUFBLE1BQUEsR0FBQSxLQUFBLFVBQ0EsR0FDQSxJQUFBLE9BQUEsTUFBQSxHQUFBLEVBQUEsRUFBQSxNQUNBLEtBQUEsTUFBQSxNQUFBLEdBQUEsRUFBQSxLQUNBLEtBQUEsT0FBQSxNQUFBLElBQUEsRUFBQSxFQUFBLElBQ0EsS0FBQSxTQUFBLE1BQUEsTUFBQSxFQUFBLEVBQUEsR0FDQSxLQUFBLFNBQUEsTUFBQSxPQUFBLEVBQUEsRUFBQSxHQUVBLEtBQUEsY0FBQSxNQUFBLE1BQUEsTUFBQSxNQUFBLEdBQUEsQ0FDQSxTQUFBLEtBQUEsSUFBQSxPQUFBLGdCQUFBLElBTUEsUUFBQSxNQUNBLE1BQ0EsTUFBQSxjQUNBLE1BQUEsS0FBQSxNQUNBLEtBQUEsUUFBQSxHQUFBLE9BQ0EsUUFBQSxFQUFBLEtBQUEsUUFBQSxJQUlBLFFBQUEsSUFBQSxHQUNBLE1BQUEsWUFDQSxNQUFBLE1BQUEsR0FBQSxJQWFBLFFBQUEsSUFBQSxHQUVBLE1BREEsR0FBQSxFQUFBLEdBQ0EsS0FBQSxFQUFBLE9BR0EsUUFBQSxJQUFBLEdBQ0EsTUFBQSxZQUNBLE1BQUEsTUFBQSxNQUFBLElBWUEsUUFBQSxNQUNBLE1BQUEsR0FBQSxLQUFBLE9BQUEsR0FhQSxRQUFBLElBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUNBLE1BQUEsR0FBQSxhQUFBLEdBQUEsSUFBQSxFQUFBLEVBQUEsR0FHQSxRQUFBLElBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEdBQUEsR0FBQSxNQUNBLEVBQUEsR0FBQSxFQUFBLEdBQUEsTUFDQSxFQUFBLEdBQUEsRUFBQSxHQUFBLE1BQ0EsRUFBQSxHQUFBLEVBQUEsR0FBQSxNQUNBLEVBQUEsR0FBQSxFQUFBLEdBQUEsTUFDQSxFQUFBLEdBQUEsRUFBQSxHQUFBLE1BQ0EsRUFBQSxHQUFBLEVBQUEsR0FBQSxNQUVBLEVBQUEsRUFBQSxHQUFBLElBQUEsSUFBQSxJQUNBLElBQUEsSUFBQSxNQUNBLEVBQUEsR0FBQSxJQUFBLEtBQUEsSUFDQSxJQUFBLElBQUEsTUFDQSxFQUFBLEdBQUEsSUFBQSxLQUFBLElBQ0EsSUFBQSxJQUFBLE1BQ0EsRUFBQSxHQUFBLElBQUEsS0FBQSxJQUNBLElBQUEsSUFBQSxNQUNBLEVBQUEsR0FBQSxJQUFBLEtBQUEsSUFDQSxJQUFBLElBQUEsT0FBQSxLQUFBLEVBS0EsT0FIQSxHQUFBLEdBQUEsRUFDQSxFQUFBLElBQUEsRUFBQSxFQUNBLEVBQUEsR0FBQSxFQUNBLEdBQUEsTUFBQSxLQUFBLEdBSUEsUUFBQSxJQUFBLEVBQUEsR0FDQSxNQUFBLFVBQUEsR0FBQSxJQUNBLEVBRUEsU0FBQSxFQUNBLEdBQUEsSUFFQSxHQUFBLEdBQUEsR0FDQSxHQUdBLFFBQUEsSUFBQSxHQUNBLEdBQUEsR0FBQSxLQUFBLGFBQ0EsRUFBQSxHQUFBLE1BQUEsRUFBQSxFQU1BLE9BSkEsS0FDQSxFQUFBLEVBQUEsWUFBQSxLQUFBLElBR0EsRUFBQSxXQUFBLEdBS0EsUUFBQSxNQVFBLEdBR0EsR0FBQSxFQUFBLEVBSEEsRUFBQSxHQUFBLEtBQUEsZUFBQSxJQUNBLEVBQUEsR0FBQSxLQUFBLE9BQ0EsRUFBQSxHQUFBLEtBQUEsUUFJQSxHQUFBLEVBQUEsRUFBQSxJQUNBLEVBQUEsRUFBQSxFQUFBLElBQ0EsR0FBQSxHQUNBLEdBQUEsR0FHQSxFQUFBLEVBQUEsRUFBQSxJQUNBLEdBQUEsRUFJQSxJQUFBLEdBQUEsRUFDQSxFQUFBLEVBQ0EsRUFBQSxFQUNBLEVBQUEsRUFDQSxFQUFBLEVBQ0EsRUFBQSxFQUNBLEVBQUEsS0FBQSxXQUVBLE9BQUEsSUFNQSxFQUFBLEVBQUEsSUFBQSxJQUNBLEtBQ0EsRUFBQSxFQUFBLElBQUEsS0FDQSxFQUFBLEVBQUEsSUFBQSxLQUNBLEVBQUEsRUFBQSxJQUFBLEtBQ0EsR0FBQSxHQUFBLEVBQUEsSUFBQSxLQUNBLEVBQUEsRUFBQSxJQUFBLEtBQ0EsRUFBQSxFQUFBLElBQUEsS0FDQSxFQUFBLEVBQUEsSUFBQSxJQVhBLE1BM2dHQSxHQUFBLElBd05BLEdBekdBLEdBQUEsRUFBQSxvQkFpREEsSUFBQSxFQXVEQSxNQWlIQSxNQXlFQSxHQUFBLHFLQUVBLEdBQUEsNkNBRUEsTUFFQSxNQW9GQSxHQUFBLEtBQ0EsR0FBQSxPQUNBLEdBQUEsUUFDQSxHQUFBLFFBQ0EsR0FBQSxhQUNBLEdBQUEsUUFDQSxHQUFBLFVBQ0EsR0FBQSxVQUNBLEdBQUEsZUFFQSxHQUFBLE1BQ0EsR0FBQSxXQUVBLEdBQUEscUJBRUEsR0FBQSx1QkFHQSxHQUFBLG1IQUVBLE1BOEJBLE1BOEJBLEdBQUEsRUFDQSxHQUFBLEVBQ0EsR0FBQSxFQUNBLEdBQUEsRUFDQSxHQUFBLEVBQ0EsR0FBQSxFQUNBLEdBQUEsQ0FRQSxHQUFBLEtBQUEsS0FBQSxHQUFBLEtBQUEsV0FDQSxNQUFBLE1BQUEsUUFBQSxJQUdBLEVBQUEsTUFBQSxFQUFBLEVBQUEsU0FBQSxHQUNBLE1BQUEsTUFBQSxhQUFBLFlBQUEsS0FBQSxLQUdBLEVBQUEsT0FBQSxFQUFBLEVBQUEsU0FBQSxHQUNBLE1BQUEsTUFBQSxhQUFBLE9BQUEsS0FBQSxLQUtBLEVBQUEsUUFBQSxLQUlBLEVBQUEsSUFBQSxJQUNBLEVBQUEsS0FBQSxHQUFBLElBQ0EsRUFBQSxNQUFBLElBQ0EsRUFBQSxPQUFBLElBRUEsR0FBQSxJQUFBLE1BQUEsU0FBQSxFQUFBLEdBQ0EsRUFBQSxJQUFBLEVBQUEsR0FBQSxJQUdBLEdBQUEsTUFBQSxRQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxRQUFBLFlBQUEsRUFBQSxFQUFBLEVBQUEsUUFFQSxPQUFBLEVBQ0EsRUFBQSxJQUFBLEVBRUEsRUFBQSxHQUFBLGFBQUEsR0FNQSxJQUFBLElBQUEsd0ZBQUEsTUFBQSxLQUtBLEdBQUEsa0RBQUEsTUFBQSxLQStHQSxLQVNBLEdBQUEsNkJBQUEsQ0FFQSxJQUFBLElBQUEsNElBRUEsS0FDQSxlQUFBLDBCQUNBLGFBQUEsc0JBQ0EsZUFBQSxvQkFDQSxhQUFBLGlCQUNBLFdBQUEsZ0JBSUEsS0FDQSxnQkFBQSw2QkFDQSxXQUFBLHdCQUNBLFFBQUEsbUJBQ0EsS0FBQSxjQUdBLEdBQUEscUJBZ0RBLEdBQUEsd0JBQUEsR0FDQSw0TEFJQSxTQUFBLEdBQ0EsRUFBQSxHQUFBLEdBQUEsTUFBQSxFQUFBLElBQUEsRUFBQSxRQUFBLE9BQUEsT0F3QkEsRUFBQSxHQUFBLEtBQUEsR0FBQSxFQUFBLFdBQ0EsTUFBQSxNQUFBLE9BQUEsTUFHQSxFQUFBLEdBQUEsT0FBQSxHQUFBLEVBQUEsUUFDQSxFQUFBLEdBQUEsUUFBQSxHQUFBLEVBQUEsUUFDQSxFQUFBLEdBQUEsU0FBQSxHQUFBLEdBQUEsRUFBQSxRQUlBLEVBQUEsT0FBQSxLQUlBLEVBQUEsSUFBQSxJQUNBLEVBQUEsS0FBQSxHQUFBLElBQ0EsRUFBQSxPQUFBLEdBQUEsSUFDQSxFQUFBLFFBQUEsR0FBQSxJQUNBLEVBQUEsU0FBQSxHQUFBLElBRUEsR0FBQSxRQUFBLFVBQUEsSUFDQSxFQUFBLE9BQUEsU0FBQSxFQUFBLEdBQ0EsRUFBQSxJQUFBLElBQUEsRUFBQSxPQUFBLEVBQUEsa0JBQUEsR0FBQSxFQUFBLEtBRUEsRUFBQSxLQUFBLFNBQUEsRUFBQSxHQUNBLEVBQUEsSUFBQSxFQUFBLGtCQUFBLEtBZUEsRUFBQSxrQkFBQSxTQUFBLEdBQ0EsTUFBQSxHQUFBLElBQUEsRUFBQSxHQUFBLEdBQUEsS0FBQSxLQUtBLElBQUEsSUFBQSxFQUFBLFlBQUEsRUFNQSxHQUFBLEtBQUEsS0FBQSxHQUFBLEtBQUEsUUFDQSxFQUFBLEtBQUEsS0FBQSxHQUFBLEtBQUEsV0FJQSxFQUFBLE9BQUEsS0FDQSxFQUFBLFVBQUEsS0FJQSxFQUFBLElBQUEsSUFDQSxFQUFBLEtBQUEsR0FBQSxJQUNBLEVBQUEsSUFBQSxJQUNBLEVBQUEsS0FBQSxHQUFBLElBRUEsR0FBQSxJQUFBLEtBQUEsSUFBQSxNQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxFQUFBLEVBQUEsT0FBQSxFQUFBLElBQUEsRUFBQSxJQXVDQSxJQUFBLEtBQ0EsSUFBQSxFQUNBLElBQUEsRUF1QkEsR0FBQSxPQUFBLE9BQUEsR0FBQSxPQUFBLGFBSUEsRUFBQSxZQUFBLE9BSUEsRUFBQSxNQUFBLElBQ0EsRUFBQSxPQUFBLElBQ0EsR0FBQSxNQUFBLFFBQUEsU0FBQSxFQUFBLEVBQUEsR0FDQSxFQUFBLFdBQUEsRUFBQSxLQTRKQSxFQUFBLFNBQUEsWUF5T0EsSUFBQSxJQUFBLEdBQ0EsbUdBQ0EsV0FDQSxHQUFBLEdBQUEsR0FBQSxNQUFBLEtBQUEsVUFDQSxPQUFBLE1BQUEsRUFBQSxLQUFBLElBSUEsR0FBQSxHQUNBLG1HQUNBLFdBQ0EsR0FBQSxHQUFBLEdBQUEsTUFBQSxLQUFBLFVBQ0EsT0FBQSxHQUFBLEtBQUEsS0FBQSxHQTBGQSxJQUFBLElBQUEsS0FDQSxHQUFBLEtBQUEsSUFJQSxFQUFBLElBQUEsSUFDQSxFQUFBLEtBQUEsSUFDQSxHQUFBLElBQUEsTUFBQSxTQUFBLEVBQUEsRUFBQSxHQUNBLEVBQUEsU0FBQSxFQUNBLEVBQUEsS0FBQSxHQUFBLElBUUEsSUFBQSxJQUFBLGlCQW9DQSxHQUFBLGFBQUEsWUFvSUEsSUFBQSxJQUFBLHVEQUlBLEdBQUEsK0hBK0RBLElBQUEsR0FBQSxHQUFBLFNBMkVBLElBQUEsSUFBQSxHQUFBLEVBQUEsT0FDQSxHQUFBLEdBQUEsR0FBQSxXQTJHQSxHQUFBLGNBQUEsc0JBNkRBLElBQUEsSUFBQSxHQUNBLGtKQUNBLFNBQUEsR0FDQSxNQUFBLFVBQUEsRUFDQSxLQUFBLGFBRUEsS0FBQSxPQUFBLElBc0dBLEdBQUEsR0FBQSxLQUFBLEdBQUEsRUFBQSxXQUNBLE1BQUEsTUFBQSxXQUFBLE1BR0EsRUFBQSxHQUFBLEtBQUEsR0FBQSxFQUFBLFdBQ0EsTUFBQSxNQUFBLGNBQUEsTUFPQSxHQUFBLE9BQUEsWUFDQSxHQUFBLFFBQUEsWUFDQSxHQUFBLE9BQUEsZUFDQSxHQUFBLFFBQUEsZUFJQSxFQUFBLFdBQUEsTUFDQSxFQUFBLGNBQUEsTUFJQSxFQUFBLElBQUEsSUFDQSxFQUFBLElBQUEsSUFDQSxFQUFBLEtBQUEsR0FBQSxJQUNBLEVBQUEsS0FBQSxHQUFBLElBQ0EsRUFBQSxPQUFBLEdBQUEsSUFDQSxFQUFBLE9BQUEsR0FBQSxJQUNBLEVBQUEsUUFBQSxHQUFBLElBQ0EsRUFBQSxRQUFBLEdBQUEsSUFFQSxHQUFBLE9BQUEsUUFBQSxPQUFBLFNBQUEsU0FBQSxFQUFBLEVBQUEsRUFBQSxHQUNBLEVBQUEsRUFBQSxPQUFBLEVBQUEsSUFBQSxFQUFBLEtBR0EsR0FBQSxLQUFBLE1BQUEsU0FBQSxFQUFBLEVBQUEsRUFBQSxHQUNBLEVBQUEsR0FBQSxFQUFBLGtCQUFBLEtBOEJBLEVBQUEsSUFBQSxFQUFBLEVBQUEsV0FJQSxFQUFBLFVBQUEsS0FJQSxFQUFBLElBQUEsSUFDQSxFQUFBLElBQUEsU0FBQSxFQUFBLEdBQ0EsRUFBQSxJQUFBLEdBQUEsRUFBQSxHQUFBLEtBU0EsRUFBQSxLQUFBLEtBQUEsR0FBQSxLQUFBLFFBSUEsRUFBQSxPQUFBLEtBSUEsRUFBQSxJQUFBLElBQ0EsRUFBQSxLQUFBLEdBQUEsSUFDQSxFQUFBLEtBQUEsU0FBQSxFQUFBLEdBQ0EsTUFBQSxHQUFBLEVBQUEsY0FBQSxFQUFBLHVCQUdBLEdBQUEsSUFBQSxNQUFBLElBQ0EsRUFBQSxLQUFBLFNBQUEsRUFBQSxHQUNBLEVBQUEsSUFBQSxFQUFBLEVBQUEsTUFBQSxJQUFBLEdBQUEsS0FLQSxJQUFBLElBQUEsRUFBQSxRQUFBLEVBRUEsR0FBQSxJQUFBLEVBQUEsS0FBQSxPQUVBLEVBQUEsS0FBQSxFQUFBLEVBQUEsU0FBQSxHQUNBLE1BQUEsTUFBQSxhQUFBLFlBQUEsS0FBQSxLQUdBLEVBQUEsTUFBQSxFQUFBLEVBQUEsU0FBQSxHQUNBLE1BQUEsTUFBQSxhQUFBLGNBQUEsS0FBQSxLQUdBLEVBQUEsT0FBQSxFQUFBLEVBQUEsU0FBQSxHQUNBLE1BQUEsTUFBQSxhQUFBLFNBQUEsS0FBQSxLQUdBLEVBQUEsSUFBQSxFQUFBLEVBQUEsV0FDQSxFQUFBLElBQUEsRUFBQSxFQUFBLGNBSUEsRUFBQSxNQUFBLEtBQ0EsRUFBQSxVQUFBLEtBQ0EsRUFBQSxhQUFBLEtBSUEsRUFBQSxJQUFBLElBQ0EsRUFBQSxJQUFBLElBQ0EsRUFBQSxJQUFBLElBQ0EsRUFBQSxLQUFBLElBQ0EsRUFBQSxNQUFBLElBQ0EsRUFBQSxPQUFBLElBRUEsR0FBQSxLQUFBLE1BQUEsUUFBQSxTQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLFFBQUEsY0FBQSxFQUVBLE9BQUEsRUFDQSxFQUFBLEVBQUEsRUFFQSxFQUFBLEdBQUEsZUFBQSxJQUlBLEdBQUEsSUFBQSxJQUFBLEtBQUEsU0FBQSxFQUFBLEVBQUEsRUFBQSxHQUNBLEVBQUEsR0FBQSxFQUFBLElBd0JBLElBQUEsSUFBQSwyREFBQSxNQUFBLEtBS0EsR0FBQSw4QkFBQSxNQUFBLEtBS0EsR0FBQSx1QkFBQSxNQUFBLElBZ0RBLEdBQUEsS0FBQSxLQUFBLEdBQUEsRUFBQSxRQUNBLEVBQUEsS0FBQSxLQUFBLEdBQUEsRUFBQSxXQUNBLE1BQUEsTUFBQSxRQUFBLElBQUEsS0FTQSxHQUFBLEtBQUEsR0FDQSxHQUFBLEtBQUEsR0FJQSxFQUFBLE9BQUEsS0FRQSxFQUFBLElBQUEsSUFDQSxFQUFBLElBQUEsSUFDQSxFQUFBLElBQUEsSUFDQSxFQUFBLElBQUEsSUFDQSxFQUFBLEtBQUEsR0FBQSxJQUNBLEVBQUEsS0FBQSxHQUFBLElBRUEsR0FBQSxJQUFBLE1BQUEsSUFDQSxHQUFBLElBQUEsS0FBQSxTQUFBLEVBQUEsRUFBQSxHQUNBLEVBQUEsTUFBQSxFQUFBLFFBQUEsS0FBQSxHQUNBLEVBQUEsVUFBQSxJQUVBLEdBQUEsSUFBQSxNQUFBLFNBQUEsRUFBQSxFQUFBLEdBQ0EsRUFBQSxJQUFBLEVBQUEsR0FDQSxFQUFBLEdBQUEsU0FBQSxHQVdBLElBQUEsSUFBQSxnQkFnQkEsR0FBQSxFQUFBLFNBQUEsRUFFQSxHQUFBLEtBQUEsS0FBQSxHQUFBLEVBQUEsVUFJQSxFQUFBLFNBQUEsS0FJQSxFQUFBLElBQUEsSUFDQSxFQUFBLEtBQUEsR0FBQSxJQUNBLEdBQUEsSUFBQSxNQUFBLEdBSUEsSUFBQSxJQUFBLEVBQUEsV0FBQSxFQUVBLEdBQUEsS0FBQSxLQUFBLEdBQUEsRUFBQSxVQUlBLEVBQUEsU0FBQSxLQUlBLEVBQUEsSUFBQSxJQUNBLEVBQUEsS0FBQSxHQUFBLElBQ0EsR0FBQSxJQUFBLE1BQUEsR0FJQSxJQUFBLElBQUEsRUFBQSxXQUFBLEVBRUEsR0FBQSxJQUFBLEVBQUEsRUFBQSxXQUNBLFNBQUEsS0FBQSxjQUFBLE9BR0EsRUFBQSxHQUFBLEtBQUEsR0FBQSxFQUFBLFdBQ0EsU0FBQSxLQUFBLGNBQUEsTUFHQSxFQUFBLEdBQUEsTUFBQSxHQUFBLEVBQUEsZUFDQSxFQUFBLEdBQUEsT0FBQSxHQUFBLEVBQUEsV0FDQSxNQUFBLElBQUEsS0FBQSxnQkFFQSxFQUFBLEdBQUEsUUFBQSxHQUFBLEVBQUEsV0FDQSxNQUFBLEtBQUEsS0FBQSxnQkFFQSxFQUFBLEdBQUEsU0FBQSxHQUFBLEVBQUEsV0FDQSxNQUFBLEtBQUEsS0FBQSxnQkFFQSxFQUFBLEdBQUEsVUFBQSxHQUFBLEVBQUEsV0FDQSxNQUFBLEtBQUEsS0FBQSxnQkFFQSxFQUFBLEdBQUEsV0FBQSxHQUFBLEVBQUEsV0FDQSxNQUFBLEtBQUEsS0FBQSxnQkFFQSxFQUFBLEdBQUEsWUFBQSxHQUFBLEVBQUEsV0FDQSxNQUFBLEtBQUEsS0FBQSxnQkFNQSxFQUFBLGNBQUEsTUFJQSxFQUFBLElBQUEsR0FBQSxJQUNBLEVBQUEsS0FBQSxHQUFBLElBQ0EsRUFBQSxNQUFBLEdBQUEsR0FFQSxJQUFBLEdBQ0EsS0FBQSxHQUFBLE9BQUEsR0FBQSxRQUFBLEVBQUEsSUFBQSxJQUNBLEVBQUEsR0FBQSxHQU9BLEtBQUEsR0FBQSxJQUFBLEdBQUEsUUFBQSxFQUFBLElBQUEsSUFDQSxFQUFBLEdBQUEsR0FJQSxJQUFBLElBQUEsRUFBQSxnQkFBQSxFQUVBLEdBQUEsSUFBQSxFQUFBLEVBQUEsWUFDQSxFQUFBLEtBQUEsRUFBQSxFQUFBLFdBWUEsSUFBQSxJQUFBLEVBQUEsU0FFQSxJQUFBLElBQUEsR0FDQSxHQUFBLFNBQUEsR0FDQSxHQUFBLE1BQUEsR0FDQSxHQUFBLEtBQUEsR0FDQSxHQUFBLE1BQUEsR0FDQSxHQUFBLE9BQUEsR0FDQSxHQUFBLEtBQUEsR0FDQSxHQUFBLFFBQUEsR0FDQSxHQUFBLEdBQUEsR0FDQSxHQUFBLE1BQUEsR0FDQSxHQUFBLElBQUEsRUFDQSxHQUFBLFVBQUEsR0FDQSxHQUFBLFFBQUEsR0FDQSxHQUFBLFNBQUEsR0FDQSxHQUFBLFVBQUEsR0FDQSxHQUFBLE9BQUEsR0FDQSxHQUFBLFFBQUEsR0FDQSxHQUFBLEtBQUEsR0FDQSxHQUFBLE9BQUEsR0FDQSxHQUFBLFdBQUEsR0FDQSxHQUFBLElBQUEsR0FDQSxHQUFBLElBQUEsR0FDQSxHQUFBLGFBQUEsR0FDQSxHQUFBLElBQUEsRUFDQSxHQUFBLFFBQUEsR0FDQSxHQUFBLFNBQUEsR0FDQSxHQUFBLFFBQUEsR0FDQSxHQUFBLFNBQUEsR0FDQSxHQUFBLE9BQUEsR0FDQSxHQUFBLFlBQUEsR0FDQSxHQUFBLE9BQUEsR0FDQSxHQUFBLFNBQUEsR0FDQSxHQUFBLEtBQUEsR0FDQSxHQUFBLFFBQUEsR0FHQSxHQUFBLEtBQUEsR0FDQSxHQUFBLFdBQUEsR0FHQSxHQUFBLFNBQUEsR0FDQSxHQUFBLFlBQUEsR0FHQSxHQUFBLFFBQUEsR0FBQSxTQUFBLEdBR0EsR0FBQSxNQUFBLEVBQ0EsR0FBQSxZQUFBLEVBR0EsR0FBQSxLQUFBLEdBQUEsTUFBQSxHQUNBLEdBQUEsUUFBQSxHQUFBLFNBQUEsR0FDQSxHQUFBLFlBQUEsR0FDQSxHQUFBLGVBQUEsR0FHQSxHQUFBLEtBQUEsR0FDQSxHQUFBLElBQUEsR0FBQSxLQUFBLEdBQ0EsR0FBQSxRQUFBLEdBQ0EsR0FBQSxXQUFBLEdBQ0EsR0FBQSxVQUFBLEdBR0EsR0FBQSxLQUFBLEdBQUEsTUFBQSxHQUdBLEdBQUEsT0FBQSxHQUFBLFFBQUEsR0FHQSxHQUFBLE9BQUEsR0FBQSxRQUFBLEdBR0EsR0FBQSxZQUFBLEdBQUEsYUFBQSxHQUdBLEdBQUEsVUFBQSxHQUNBLEdBQUEsSUFBQSxHQUNBLEdBQUEsTUFBQSxHQUNBLEdBQUEsVUFBQSxHQUNBLEdBQUEscUJBQUEsR0FDQSxHQUFBLE1BQUEsR0FDQSxHQUFBLGFBQUEsR0FDQSxHQUFBLFFBQUEsR0FDQSxHQUFBLFlBQUEsR0FDQSxHQUFBLE1BQUEsR0FDQSxHQUFBLE1BQUEsR0FHQSxHQUFBLFNBQUEsR0FDQSxHQUFBLFNBQUEsR0FHQSxHQUFBLE1BQUEsR0FBQSxrREFBQSxJQUNBLEdBQUEsT0FBQSxHQUFBLG1EQUFBLEdBQ0EsR0FBQSxNQUFBLEdBQUEsaURBQUEsSUFDQSxHQUFBLEtBQUEsR0FBQSw0R0FBQSxHQUVBLElBQUEsSUFBQSxHQVVBLElBQ0EsUUFBQSxnQkFDQSxRQUFBLG1CQUNBLFNBQUEsZUFDQSxRQUFBLG9CQUNBLFNBQUEsc0JBQ0EsU0FBQSxLQVFBLElBQ0EsSUFBQSxZQUNBLEdBQUEsU0FDQSxFQUFBLGFBQ0EsR0FBQSxlQUNBLElBQUEsc0JBQ0EsS0FBQSw2QkFrQkEsR0FBQSxlQU1BLEdBQUEsS0FDQSxHQUFBLFVBVUEsSUFDQSxPQUFBLFFBQ0EsS0FBQSxTQUNBLEVBQUEsZ0JBQ0EsRUFBQSxXQUNBLEdBQUEsYUFDQSxFQUFBLFVBQ0EsR0FBQSxXQUNBLEVBQUEsUUFDQSxHQUFBLFVBQ0EsRUFBQSxVQUNBLEdBQUEsWUFDQSxFQUFBLFNBQ0EsR0FBQSxZQThCQSxHQUFBLEVBQUEsU0FFQSxJQUFBLFVBQUEsR0FDQSxHQUFBLFNBQUEsR0FDQSxHQUFBLGdCQUFBLEdBQ0EsR0FBQSxlQUFBLEdBQ0EsR0FBQSxhQUFBLEdBQ0EsR0FBQSxZQUFBLEdBQ0EsR0FBQSxTQUFBLEdBQ0EsR0FBQSxRQUFBLEdBQ0EsR0FBQSxjQUFBLEdBQ0EsR0FBQSxTQUFBLEdBQ0EsR0FBQSxXQUFBLEdBQ0EsR0FBQSxjQUFBLEdBQ0EsR0FBQSxhQUFBLEdBQ0EsR0FBQSxXQUFBLEdBQ0EsR0FBQSxJQUFBLEdBR0EsR0FBQSxPQUFBLEVBQ0EsR0FBQSxRQUFBLEdBQ0EsR0FBQSxZQUFBLEVBQ0EsR0FBQSxhQUFBLEdBQ0EsR0FBQSxZQUFBLEVBR0EsR0FBQSxLQUFBLEdBQ0EsR0FBQSxNQUFBLEdBQ0EsR0FBQSxlQUFBLEdBQ0EsR0FBQSxlQUFBLEdBR0EsR0FBQSxTQUFBLEdBQ0EsR0FBQSxVQUFBLEdBQ0EsR0FBQSxZQUFBLEdBQ0EsR0FBQSxhQUFBLEdBQ0EsR0FBQSxjQUFBLEdBQ0EsR0FBQSxlQUFBLEdBQ0EsR0FBQSxjQUFBLEdBR0EsR0FBQSxLQUFBLEdBQ0EsR0FBQSxlQUFBLEdBQ0EsR0FBQSxTQUFBLEdBZ0RBLEVBQUEsTUFDQSxhQUFBLHVCQUNBLFFBQUEsU0FBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLEdBQ0EsRUFBQSxJQUFBLEVBQUEsRUFBQSxJQUFBLElBQUEsS0FDQSxJQUFBLEVBQUEsS0FDQSxJQUFBLEVBQUEsS0FDQSxJQUFBLEVBQUEsS0FBQSxJQUNBLE9BQUEsR0FBQSxLQUtBLEVBQUEsS0FBQSxHQUFBLHdEQUFBLEdBQ0EsRUFBQSxTQUFBLEdBQUEsZ0VBQUEsRUFFQSxJQUFBLElBQUEsS0FBQSxJQW9KQSxHQUFBLEdBQUEsTUFDQSxHQUFBLEdBQUEsS0FDQSxHQUFBLEdBQUEsS0FDQSxHQUFBLEdBQUEsS0FDQSxHQUFBLEdBQUEsS0FDQSxHQUFBLEdBQUEsS0FDQSxHQUFBLEdBQUEsS0FDQSxHQUFBLEdBQUEsS0FhQSxHQUFBLEdBQUEsZ0JBQ0EsR0FBQSxHQUFBLFdBQ0EsR0FBQSxHQUFBLFdBQ0EsR0FBQSxHQUFBLFNBQ0EsR0FBQSxHQUFBLFFBQ0EsR0FBQSxHQUFBLFVBQ0EsR0FBQSxHQUFBLFNBTUEsR0FBQSxLQUFBLE1BQ0EsSUFDQSxFQUFBLEdBQ0EsRUFBQSxHQUNBLEVBQUEsR0FDQSxFQUFBLEdBQ0EsRUFBQSxJQXlEQSxHQUFBLEtBQUEsSUFvREEsR0FBQSxHQUFBLFNBRUEsSUFBQSxJQUFBLEdBQ0EsR0FBQSxJQUFBLEdBQ0EsR0FBQSxTQUFBLEdBQ0EsR0FBQSxHQUFBLEdBQ0EsR0FBQSxlQUFBLEdBQ0EsR0FBQSxVQUFBLEdBQ0EsR0FBQSxVQUFBLEdBQ0EsR0FBQSxRQUFBLEdBQ0EsR0FBQSxPQUFBLEdBQ0EsR0FBQSxRQUFBLEdBQ0EsR0FBQSxTQUFBLEdBQ0EsR0FBQSxRQUFBLEdBQ0EsR0FBQSxRQUFBLEdBQ0EsR0FBQSxRQUFBLEdBQ0EsR0FBQSxJQUFBLEdBQ0EsR0FBQSxhQUFBLEdBQ0EsR0FBQSxRQUFBLEdBQ0EsR0FBQSxRQUFBLEdBQ0EsR0FBQSxNQUFBLEdBQ0EsR0FBQSxLQUFBLEdBQ0EsR0FBQSxNQUFBLEdBQ0EsR0FBQSxPQUFBLEdBQ0EsR0FBQSxNQUFBLEdBQ0EsR0FBQSxTQUFBLEdBQ0EsR0FBQSxZQUFBLEdBQ0EsR0FBQSxTQUFBLEdBQ0EsR0FBQSxPQUFBLEdBQ0EsR0FBQSxPQUFBLEdBQ0EsR0FBQSxXQUFBLEdBR0EsR0FBQSxZQUFBLEdBQUEsc0ZBQUEsSUFDQSxHQUFBLEtBQUEsR0FJQSxFQUFBLElBQUEsRUFBQSxFQUFBLFFBQ0EsRUFBQSxJQUFBLEVBQUEsRUFBQSxXQUlBLEVBQUEsSUFBQSxJQUNBLEVBQUEsSUFBQSxJQUNBLEVBQUEsSUFBQSxTQUFBLEVBQUEsRUFBQSxHQUNBLEVBQUEsR0FBQSxHQUFBLE1BQUEsSUFBQSxXQUFBLEVBQUE7R0FFQSxFQUFBLElBQUEsU0FBQSxFQUFBLEVBQUEsR0FDQSxFQUFBLEdBQUEsR0FBQSxNQUFBLEVBQUEsTUFNQSxFQUFBLFFBQUEsU0FFQSxFQUFBLElBRUEsRUFBQSxHQUFBLEdBQ0EsRUFBQSxJQUFBLEdBQ0EsRUFBQSxJQUFBLEdBQ0EsRUFBQSxJQUFBLEVBQ0EsRUFBQSxLQUFBLEdBQ0EsRUFBQSxPQUFBLEdBQ0EsRUFBQSxPQUFBLEVBQ0EsRUFBQSxPQUFBLEVBQ0EsRUFBQSxRQUFBLEVBQ0EsRUFBQSxTQUFBLEdBQ0EsRUFBQSxTQUFBLEVBQ0EsRUFBQSxTQUFBLEdBQ0EsRUFBQSxVQUFBLEdBQ0EsRUFBQSxXQUFBLEVBQ0EsRUFBQSxXQUFBLEdBQ0EsRUFBQSxZQUFBLEdBQ0EsRUFBQSxZQUFBLEdBQ0EsRUFBQSxhQUFBLEVBQ0EsRUFBQSxjQUFBLEdBQ0EsRUFBQSxlQUFBLEVBQ0EsRUFBQSxzQkFBQSxFQUVBLElBQUEsSUFBQSxDQUVBLE9BQUEsV0FHQSxJQUFBLFNBQUEsRUFBQSxHQVVBLFFBQUEsR0FBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEdBQUEsRUFDQSxFQUFBLENBQ0EsT0FBQSxHQUFBLEVBQUEsTUFBQSxFQUFBLEVBQUEsTUFDQSxFQUFBLEVBQUEsTUFBQSxFQUFBLEVBQUEsTUFBQSxJQUNBLEVBQUEsRUFBQSxNQUFBLEVBQUEsRUFBQSxNQUFBLElBQ0EsRUFBQSxFQUFBLE1BQUEsRUFBQSxFQUFBLE1BQUEsSUFDQSxFQUFBLEVBQUEsTUFBQSxFQUFBLEVBQUEsTUFBQSxJQUNBLEVBQUEsRUFBQSxNQUFBLEVBQUEsRUFBQSxNQUNBLEVBQUEsRUFBQSxNQUFBLEVBQUEsRUFBQSxNQUNBLEVBQUEsRUFBQSxNQUFBLEVBQUEsRUFBQSxNQWRBLElBQUEsR0FEQSxNQUNBLEVBQUEsRUFBQSxJQUFBLElBQUEsRUFDQSxFQUFBLElBQUEsRUFBQSxLQUFBLFNBQUEsSUFBQSxPQUFBLEVBZ0JBLEdBQUEsUUFBQSxPQUVBLElBQUEsU0FBQSxFQUFBLElBQ0EsU0FBQSxHQUtBLEdBQUEsR0FFQSxFQUFBLEVBQUEsUUFBQSxFQUFBLFFBQ0EsSUFBQSxHQUFBLEVBQUEsZ0JBQUEsQ0FFQSxHQUFBLEdBQUEsR0FBQSxZQUFBLEdBQ0EsR0FBQSxXQUVBLE1BREEsR0FBQSxnQkFBQSxHQUNBLEdBSUEsSUFBQSxFQUFBLENBS0EsR0FBQSxHQUFBLEdBQUEsT0FBQSxHQUNBLEdBQUEsV0FDQSxJQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLElBQ0EsS0FBQSxFQUFBLEtBQUEsRUFBQSxXQUFBLEtBQUEsVUFDQSxFQUFBLEdBQUEsTUFBQSxFQUFBLElBQUEsR0FBQSxHQUdBLE9BQUEsSUFJQSxFQUFBLFFBQUEsSUFFQSxLQUFBLEtBQUEsbUJBQUEsUUFBQSxPQUFBLG1CQUFBLE1BQUEsS0FBQSxtQkFBQSxRQUFBLGdCQUNBLElBQUEsU0FBQSxFQUFBLEdBSUEsUUFBQSxHQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxHQUFBLEdBQUEsQ0FFQSxpQkFBQSxLQUNBLEVBQUEsVUFBQSxFQUFBLEdBQUEsT0FBQSxJQUFBLEtBQ0EsRUFBQSxNQUVBLEVBQUEsS0FFQSxJQUFBLEdBQUEsRUFBQSxTQUFBLEVBQUEsS0FBQSxJQU9BLElBSkEsRUFBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEdBQ0EsRUFBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLElBR0EsRUFDQSxJQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsSUFBQSxFQUNBLEVBQUEsRUFBQSxHQUFBLEVBQUEsRUFJQSxPQUFBLElBQUEsRUFBQSxHQXpCQSxHQUFBLEdBQUEsRUFBQSxJQUNBLEVBQUEsRUFBQSxHQTJCQSxHQUFBLFFBQUEsSUFFQSxHQUFBLEdBQUEsR0FBQSxVQUFBIiwiZmlsZSI6Im1lbXJpc2UtYnVuZGxlLTYxYTA3MjBlMTIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSh7MTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICgkLCBNKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcbiAgICAgICAgJCgnLmJ0bi1mbGFjZWJvb2snKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGFuYWx5dGljcy50cmFjayhnZXRTdGFydEFjdGlvbigpLCB7XG4gICAgICAgICAgICAgICAgJ3Byb3ZpZGVyJzogJ2ZhY2Vib29rJyxcbiAgICAgICAgICAgICAgICAnYXV0aGVudGljYXRpb25faWQnOiBnZXRUcmFja2luZ0F1dGhJZCgpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cblxuICAgICAgICAkKCcuYnRuLWdvb2dsZScpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgYW5hbHl0aWNzLnRyYWNrKGdldFN0YXJ0QWN0aW9uKCksIHtcbiAgICAgICAgICAgICAgICAncHJvdmlkZXInOiAnZ29vZ2xlJyxcbiAgICAgICAgICAgICAgICAnYXV0aGVudGljYXRpb25faWQnOiBnZXRUcmFja2luZ0F1dGhJZCgpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cblxuICAgICAgICAkKCcjbG9naW4nKS5vbignc3VibWl0JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBhbmFseXRpY3MudHJhY2soZ2V0U3RhcnRBY3Rpb24oKSwge1xuICAgICAgICAgICAgICAgICdwcm92aWRlcic6ICdlbWFpbCcsXG4gICAgICAgICAgICAgICAgJ2F1dGhlbnRpY2F0aW9uX2lkJzogZ2V0VHJhY2tpbmdBdXRoSWQoKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG5cbiAgICAgICAgJCgnI2pvaW4nKS5vbignc3VibWl0JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBhbmFseXRpY3MudHJhY2soZ2V0U3RhcnRBY3Rpb24oKSwge1xuICAgICAgICAgICAgICAgICdwcm92aWRlcic6ICdlbWFpbCcsXG4gICAgICAgICAgICAgICAgJ2F1dGhlbnRpY2F0aW9uX2lkJzogZ2V0VHJhY2tpbmdBdXRoSWQoKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG5cbiAgICAgICAgaWYgKE0udHJhY2tpbmcgJiYgTS50cmFja2luZ1snYXV0aGVudGljYXRpb24nXSkge1xuICAgICAgICAgICAgdmFyIGFjdGlvbiA9IE0udHJhY2tpbmdbJ2F1dGhlbnRpY2F0aW9uJ11bJ2FjdGlvbiddO1xuICAgICAgICAgICAgZGVsZXRlIE0udHJhY2tpbmdbJ2F1dGhlbnRpY2F0aW9uJ11bJ2FjdGlvbiddO1xuXG4gICAgICAgICAgICBNLnRyYWNraW5nWydhdXRoZW50aWNhdGlvbiddWydhdXRoZW50aWNhdGlvbl9pZCddID0gZ2V0VHJhY2tpbmdBdXRoSWQoKTtcblxuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2F1dGhlbnRpY2F0aW9uX2lkJyk7XG5cbiAgICAgICAgICAgIGFuYWx5dGljcy50cmFjayhhY3Rpb24sIE0udHJhY2tpbmdbJ2F1dGhlbnRpY2F0aW9uJ10pO1xuICAgICAgICB9XG4gICAgfSk7XG5cblxuICAgIGZ1bmN0aW9uIGdldFN0YXJ0QWN0aW9uKCkge1xuICAgICAgICBpZiAoTS5kYXRhICYmIE0uZGF0YS5pc19sb2dpbikge1xuICAgICAgICAgICAgcmV0dXJuICdTaWduaW4gU3RhcnRlZCc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICdTaWdudXAgU3RhcnRlZCc7XG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBnZXRUcmFja2luZ0F1dGhJZCgpIHtcbiAgICAgICAgdmFyIGF1dGhJZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdhdXRoZW50aWNhdGlvbl9pZCcpO1xuICAgICAgICBpZiAoIWF1dGhJZCkge1xuICAgICAgICAgICAgYXV0aElkID0gdXVpZFY0KCk7XG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnYXV0aGVudGljYXRpb25faWQnLCBhdXRoSWQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhdXRoSWQ7XG4gICAgfVxufTtcblxufSx7fV0sMjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICgkLCBNKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICB2YXIgdHJhY2tpbmcgPSByZXF1aXJlKDIwKShNKTtcbiAgICB2YXIgZWxlbWVudCA9ICdwdXJjaGFzZSc7XG5cbiAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0cmFja2luZy5jaGVja1RyYWNraW5nKGVsZW1lbnQpKSB7XG4gICAgICAgICAgICB2YXIgYWN0aW9uID0gdHJhY2tpbmcuZ2V0VHJhY2tpbmdBY3Rpb24oZWxlbWVudCk7XG4gICAgICAgICAgICB0cmFja2luZy5mb3JtYXRUcmFja2luZyhlbGVtZW50LCAnb3JkZXJfaWQnKTtcblxuICAgICAgICAgICAgYW5hbHl0aWNzLnRyYWNrKGFjdGlvbiwgTS50cmFja2luZ1tlbGVtZW50XSk7XG5cbiAgICAgICAgICAgIGlmIChpc0xhc3QoYWN0aW9uKSkgeyB0cmFja2luZy5yZW1vdmVUcmFja2luZ0lkKCdvcmRlcl9pZCcpOyB9XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIGZ1bmN0aW9uIGlzTGFzdChhY3Rpb24pIHtcbiAgICAgICAgdmFyIGxhc3RBY3Rpb25zID0gWydGYWlsZWQnLCAnQ29tcGxldGVkJ107XG4gICAgICAgIHZhciBsYXN0ID0gZmFsc2U7XG4gICAgICAgICQuZWFjaChsYXN0QWN0aW9ucywgZnVuY3Rpb24oaW5kZXgsIHZhbHVlKXtcbiAgICAgICAgICAgIGlmIChhY3Rpb24uaW5kZXhPZih2YWx1ZSkgPiAtMSkgeyBsYXN0PXRydWU7IHJldHVybiBmYWxzZTsgfVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gbGFzdFxuICAgIH1cbn07XG5cbn0se1wiMjBcIjoyMH1dLDM6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuLyogQGpzeCBtICovXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oTSwgbSwgXykge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIHZhciBjb25maWd1cmF0aW9uID0ge1xuICAgICAgICAnbGVhcm4nIDoge1xuICAgICAgICAgICAgJ2NsYXNzJyA6ICdsZWFybicsXG4gICAgICAgICAgICAndGV4dCcgOiAnTGVhcm4nLy9fdCgnJylcbiAgICAgICAgfVxuICAgIH1cblxuICAgIE0uc2NiID0gZnVuY3Rpb24ob3B0cykge1xuICAgICAgICB2YXIgY3VycmVudCA9IGNvbmZpZ3VyYXRpb24ubGVhcm47XG4gICAgICAgIHJldHVybiBtKCdhJywge2NsYXNzOiAnc2luZ2xlLWNvbnRpbnVlLWJ1dHRvbiAnICsgY3VycmVudC5jbGFzc30sIFtcbiAgICAgICAgICAgIG0oJ2RpdicsIHtjbGFzczogJ3NpbmdsZS1jb250aW51ZS1idXR0b24taWNvbid9KSxcbiAgICAgICAgICAgIG0oJ2RpdicsIHtjbGFzczogJ3NpbmdsZS1jb250aW51ZS1idXR0b24tbGFiZWwnfSwgW1xuICAgICAgICAgICAgICAgIG0oJ2RpdicsIHtjbGFzczogJ3NpbmdsZS1jb250aW51ZS1idXR0b24tbmV4dCd9LCBfdCgnTmV4dCBVcCcpKSxcbiAgICAgICAgICAgICAgICBtKCdkaXYnLCB7Y2xhc3M6ICdzaW5nbGUtY29udGludWUtYnV0dG9uLXRleHQnfSwgY3VycmVudC50ZXh0KVxuICAgICAgICAgICAgXSksXG4gICAgICAgICAgICBtKCdkaXYnLCB7Y2xhc3M6ICdzaW5nbGUtY29udGludWUtYnV0dG9uLWFycm93J30pXG4gICAgICAgIF0pO1xuICAgIH1cbn07XG5cbn0se31dLDQ6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoXywgJCwgTSkge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgTS5jb3Vyc2VzID0ge1xuICAgICAgICB1bmVucm9sbF9wcmVzcyA6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGNvdXJzZV9pZCA9ICQodGhpcykuZGF0YUF0dHIoJ2NvdXJzZS1pZCcpO1xuXG4gICAgICAgICAgICBNLm1vZGFsLnllc19ubyhcbiAgICAgICAgICAgICAgICBfdCgnUXVpdCB0aGlzIGNvdXJzZScpLFxuICAgICAgICAgICAgICAgIE0udHJhbnMucXVpdENvdXJzZSxcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoKSB7IE0uY291cnNlcy51bmVucm9sbChjb3Vyc2VfaWQpOyB9XG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0sXG5cbiAgICAgICAgdW5lbnJvbGwgOiBmdW5jdGlvbihjb3Vyc2VfaWQpIHtcbiAgICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAgICAgdXJsOiAnL2FqYXgvY291cnNlcy9xdWl0LycsXG4gICAgICAgICAgICAgICAgZGF0YTogeydjb3Vyc2VfaWQnOiBjb3Vyc2VfaWR9LFxuICAgICAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgaXMgZm9yIHVzZXIgd2hvIHJlbW92ZXMgdGhlIG9ubHkgY291cnNlIHRoZXkgaGF2ZSB0aHJvdWdoIGNvdXJzZSBwYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB3aGljaCBtYXkgYmxvdyB1cCB0aGVpciBkYXNoYm9hcmQgaWYgbG9jYWxTdG9yYWdlIGlzIG5vdCBzZXQgY29ycmVjdGx5XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiBiZSBtb3JlIGZpbmUgZ3JhaW5lZCBsYXRlclxuICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oXCJkYXNoYm9hcmRfZmlsdGVyXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgXyhNLmNvdXJzZXMpLmVtaXQoJ3VuZW5yb2xsZWQnLCBbY291cnNlX2lkXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBNLnJlbmRlcmVyLnJlYWR5KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgJ1tkYXRhLXJvbGU9XCJjb3Vyc2UtdW5lbnJvbGxcIl0nLCBNLmNvdXJzZXMudW5lbnJvbGxfcHJlc3MpO1xuICAgIH0pO1xuXG59O1xuXG59LHt9XSw1OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKCQsIE0sIG0sIF8pIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBmdW5jdGlvbiBMZWFkZXJib2FyZFJvdyAoZGF0YSkge1xuICAgICAgICB0aGlzLnBob3RvID0gbS5wcm9wKGRhdGEucGhvdG8pO1xuICAgICAgICB0aGlzLnVzZXJuYW1lID0gbS5wcm9wKGRhdGEudXNlcm5hbWUpO1xuICAgICAgICB0aGlzLnBvc2l0aW9uID0gbS5wcm9wKGRhdGEucG9zaXRpb24pO1xuICAgICAgICB0aGlzLnBvaW50cyA9IG0ucHJvcChkYXRhLnBvaW50cyk7XG4gICAgICAgIHRoaXMuaWQgPSBtLnByb3AoZGF0YS51aWQpO1xuICAgICAgICB0aGlzLmZvbGxvd2luZyA9IG0ucHJvcChkYXRhLmZvbGxvd2luZyk7XG4gICAgICAgIHRoaXMuaG92ZXJpbmcgPSBtLnByb3AoZmFsc2UpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlbmRlckxlYWRlcmJvYXJkUm93cyAoY3RybCkge1xuICAgICAgICByZXR1cm4gbSgndWwubGVhZGVyYm9hcmQtcm93cycsXG4gICAgICAgICAgICBjdHJsLnZtLnJvd3MoKS5tYXAoZnVuY3Rpb24gKHJvdywgaW5kZXgpIHtcbiAgICAgICAgICAgICAgICB2YXIgaXNNeVJvdyA9IHJvdy5pZCgpID09PSBNLnVzZXIuaWQsXG4gICAgICAgICAgICAgICAgICAgIHJvd0NscyA9IGlzTXlSb3cgPyAnbGVhZGVyYm9hcmQtcm93IGN1cnJlbnQnOiAnbGVhZGVyYm9hcmQtcm93JyxcbiAgICAgICAgICAgICAgICAgICAgcG9pbnRzQ2xzID0gaW5kZXggPT09IDAgJiYgIWlzTXlSb3cgPyAncm93LXBvaW50cyBiZXN0JyA6ICdyb3ctcG9pbnRzJztcblxuICAgICAgICAgICAgICAgIHJldHVybiBtKCdsaScsIHsna2V5Jzogcm93LmlkKCksJ2NsYXNzJzogcm93Q2xzfSwgW1xuICAgICAgICAgICAgICAgICAgICBtKCdzcGFuLnJvdy1waWMnLCBbXG4gICAgICAgICAgICAgICAgICAgICAgICBjdHJsLnZtLmxhcmdlQm9hcmQoKSA/IG0oJ3N0cm9uZycsIHJvdy5wb3NpdGlvbigpICsgJy4nKSA6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbSgnaW1nJywgeyBzcmM6IHJvdy5waG90bygpIH0pXSksXG4gICAgICAgICAgICAgICAgICAgIG0oJ3NwYW4ucm93LXVzZXJuYW1lJywgW1xuICAgICAgICAgICAgICAgICAgICAgICAgY3RybC52bS5sYXJnZUJvYXJkKCkgPyAnJyA6IG0oJ3N0cm9uZycsIHJvdy5wb3NpdGlvbigpICsgJy4nKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG0oJ3NwYW4nLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2RhdGEtcm9sZSc6ICdob3ZlcmNhcmQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkYXRhLXVzZXItaWQnOiByb3cuaWQoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZGF0YS1kaXJlY3Rpb24nOiAncmlnaHQnXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCByb3cudXNlcm5hbWUoKSksXG4gICAgICAgICAgICAgICAgICAgICAgICBjdHJsLnZtLnNob3dGb2xsb3coKSA/IHJlbmRlckZvbGxvd0J0bihjdHJsLCByb3cpIDogW11cbiAgICAgICAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICAgICAgICAgIG0oJ3NwYW4nLCB7ICdjbGFzcyc6IHBvaW50c0NscyB9LCBbbSgnc3BhbicsIEhhbmRsZWJhcnMuaGVscGVyc1snaW50Y29tbWEnXShyb3cucG9pbnRzKCkpKV0pXG4gICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlbmRlckZvbGxvd0J0bihjdHJsLCByb3cpIHtcbiAgICAgICAgaWYgKHJvdy5pZCgpID09PSBNLnVzZXIuaWQpIHJldHVybiBbXTtcblxuICAgICAgICB2YXIgZm9sbG93aW5nID0gIG0oJ2EnLCB7XG4gICAgICAgICAgICBvbmNsaWNrOiBfLnBhcnRpYWwoY3RybC50b2dnbGVGb2xsb3csIHJvdyksXG4gICAgICAgICAgICBvbm1vdXNlZW50ZXI6IGZ1bmN0aW9uICgpIHsgcm93LmhvdmVyaW5nKHRydWUpOyB9LFxuICAgICAgICAgICAgb25tb3VzZW91dDogZnVuY3Rpb24gKCkgeyByb3cuaG92ZXJpbmcoZmFsc2UpOyB9XG4gICAgICAgIH0sIHJvdy5ob3ZlcmluZygpID8gX3QoJ3VuZm9sbG93PycpIDogX3QoJ2ZvbGxvd2luZycpKTtcblxuICAgICAgICB2YXIgbm90Rm9sbG93aW5nID0gbSgnYScsIHtvbmNsaWNrOiBfLnBhcnRpYWwoY3RybC50b2dnbGVGb2xsb3csIHJvdyl9LCBfdCgnZm9sbG93JykpO1xuXG4gICAgICAgIHJldHVybiBbcm93LmZvbGxvd2luZygpID8gZm9sbG93aW5nIDogbm90Rm9sbG93aW5nXTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZW5kZXJMZWFkZXJib2FyZENvbnRyb2xzKGN0cmwpIHtcbiAgICAgICAgcmV0dXJuIG0oJy5sZWFkZXJib2FyZC1jb250cm9scycsIG0oJ3VsLmJ0bi1ncm91cCcsIFtcbiAgICAgICAgICAgIG0oJ2xpLmJ0bi5idG4tc21hbGwnICsgKGN0cmwudm0ucGVyaW9kKCkgPT09ICd3ZWVrJyA/ICcuYWN0aXZlJyA6ICcnKSxcbiAgICAgICAgICAgICAgICB7b25jbGljazogXy5wYXJ0aWFsKGN0cmwuc2V0UGVyaW9kLCAnd2VlaycpLmJpbmQoY3RybCl9LCBfdCgnV2VlaycpKSxcbiAgICAgICAgICAgIG0oJ2xpLmJ0bi5idG4tc21hbGwnICsgKGN0cmwudm0ucGVyaW9kKCkgPT09ICdtb250aCcgPyAnLmFjdGl2ZScgOiAnJyksXG4gICAgICAgICAgICAgICAge29uY2xpY2s6IF8ucGFydGlhbChjdHJsLnNldFBlcmlvZCwgJ21vbnRoJykuYmluZChjdHJsKX0sIF90KCdNb250aCcpKSxcbiAgICAgICAgICAgIG0oJ2xpLmJ0bi5idG4tc21hbGwnICsgKGN0cmwudm0ucGVyaW9kKCkgPT09ICdhbGx0aW1lJyA/ICcuYWN0aXZlJyA6ICcnKSxcbiAgICAgICAgICAgICAgICAge29uY2xpY2s6IF8ucGFydGlhbChjdHJsLnNldFBlcmlvZCwgJ2FsbHRpbWUnKS5iaW5kKGN0cmwpfSwgX3QoJ0FsbCBUaW1lJykpXG4gICAgICAgIF0pKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZW5kZXJMb2FkTW9yZShjdHJsKSB7XG4gICAgICAgIGlmIChjdHJsLnZtLnJvd3MoKS5sZW5ndGggPT09IDAgfHwgY3RybC52bS5yb3dzKCkubGVuZ3RoICUgY3RybC52bS5ob3dNYW55KCkgIT09IDAgfHwgY3RybC52bS5oYXNQYWdlU2V0KCkpXG4gICAgICAgICAgICByZXR1cm4gW107XG5cbiAgICAgICAgcmV0dXJuIG0oJy5sZWFkZXJib2FyZC1saW5rJywgW1xuICAgICAgICAgICAgbSgnYScsIHtvbmNsaWNrOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgY3RybC5mZXRjaFJvd3MoKVxuICAgICAgICAgICAgfX0sIF90KCdNb3JlJykpXG4gICAgICAgIF0pO1xuICAgIH1cblxuICAgIE0ubmV3TGVhZGVyYm9hcmQgPSBmdW5jdGlvbihvcHRzKSB7XG4gICAgICAgIHZhciBsZWFkZXJib2FyZCA9IHtcbiAgICAgICAgICAgIHZtOiB7XG4gICAgICAgICAgICAgICAgZnVsbEJvYXJkVXJsOiBtLnByb3Aob3B0cy5mdWxsQm9hcmRVcmwpLFxuICAgICAgICAgICAgICAgIGhvd01hbnk6ICAgICAgbS5wcm9wKG9wdHMuaG93TWFueSB8fCAxMCksXG4gICAgICAgICAgICAgICAgc2hvd1RhYnM6ICAgICBtLnByb3Aob3B0cy5zaG93VGFicyksXG4gICAgICAgICAgICAgICAgc2hvd0ZvbGxvdzogICBtLnByb3Aob3B0cy5zaG93Rm9sbG93KSxcbiAgICAgICAgICAgICAgICBwZXJpb2Q6ICAgICAgIG0ucHJvcCgnd2VlaycpLFxuICAgICAgICAgICAgICAgIGxhcmdlQm9hcmQ6ICAgbS5wcm9wKG9wdHMubGFyZ2UpLFxuICAgICAgICAgICAgICAgIG9mZnNldDogICAgICAgbS5wcm9wKDApLFxuICAgICAgICAgICAgICAgIHJvd3M6ICAgICAgICAgbS5wcm9wKFtdKSxcbiAgICAgICAgICAgICAgICBoYXNQYWdlU2V0OiAgIG0ucHJvcCh3aW5kb3cubG9jYXRpb24uaHJlZi5pbmRleE9mKCc/cGFnZT0nKSA+IC0xKVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGxlYWRlcmJvYXJkLmNvbnRyb2xsZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgY3RybCA9IHtcbiAgICAgICAgICAgICAgICB2bTogbGVhZGVyYm9hcmQudm0sXG4gICAgICAgICAgICAgICAgZmV0Y2hSb3dzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB2bSA9IHRoaXMudm07XG4gICAgICAgICAgICAgICAgICAgIHZhciBvZmZzZXQgPSB2bS5yb3dzKCkubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICB2YXIgaG93TWFueSA9IHZtLmhvd01hbnkoKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGhhc1BhZ2VTZXQgPSB2bS5oYXNQYWdlU2V0KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGV4aXN0aW5nUm93cyA9IHZtLnJvd3MoKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBJZiB3ZSBoYXZlIHJvd3MgYW5kIHRoZSBsYXN0IG9uZSBpcyB0aGUgY3VycmVudCB1c2VyXG4gICAgICAgICAgICAgICAgICAgIC8vIGFuZCB0aGUgcG9zaXRpb24gb2YgdGhlIHVzZXIgaXMgZ3JlYXRlciB0aGFuIHRoZSBudW1iZXIgb2Ygcm93c1xuICAgICAgICAgICAgICAgICAgICAvLyB1c2VyIGhhcyBiZWVuIGluamVjdGVkXG4gICAgICAgICAgICAgICAgICAgIHZhciBsYXN0Um93ID0gZXhpc3RpbmdSb3dzW2V4aXN0aW5nUm93cy5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHVzZXJJbmplY3RlZCA9IChsYXN0Um93ICYmIGxhc3RSb3cuaWQoKSA9PT0gTS51c2VyLmlkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgbGFzdFJvdy5wb3NpdGlvbigpID4gZXhpc3RpbmdSb3dzLmxlbmd0aCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHVzZXJJbmplY3RlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcG9wIHVzZXIgZnJvbSBlbmRcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtZSA9IGV4aXN0aW5nUm93cy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvdmVyIHRoZSByb3cgd2UgaGF2ZSBqdXN0IHBvcHBlZFxuICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ID0gb2Zmc2V0IC0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIHdlIGFyZSBnb2luZyB0byBiZSByZXR1cm5lZCBpbiBuZXh0IGZldGNoIHRoZW4gcmV0dXJuIDEgbW9yZSB0byBjb3ZlciBpbmplY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZSAmJiBtZS5wb3NpdGlvbigpIDwgZXhpc3RpbmdSb3dzLmxlbmd0aCArIHZtLmhvd01hbnkoKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBob3dNYW55ID0gaG93TWFueSArIDE7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB2YXIgcXVlcnkgPSBzcHJpbnRmKCc/cGVyaW9kPSVzJmhvd19tYW55PSVkJywgdm0ucGVyaW9kKCksIGhvd01hbnkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaGFzUGFnZVNldCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBhZ2UgPSBwYXJzZUludCh3aW5kb3cubG9jYXRpb24uaHJlZi5tYXRjaCgvcGFnZT0oWzAtOV0pLylbMV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhZ2UgPiAwKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldCA9IChwYWdlICogaG93TWFueSkgLSBob3dNYW55XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAob2Zmc2V0ICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBxdWVyeSArPSBzcHJpbnRmKCcmb2Zmc2V0PSVkJywgb2Zmc2V0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIG0ucmVxdWVzdCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6IG9wdHMuZW5kUG9pbnQgKyBxdWVyeSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVud3JhcFN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5yb3dzO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IExlYWRlcmJvYXJkUm93XG4gICAgICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJvd3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBocmVmID0gd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lICsgJz9wYWdlPSc7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3RybF9vZmZzZXQgPSBvZmZzZXQgKyAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN0cmxfaG93TWFueSA9IGhvd01hbnkgLSAxO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3RybF9vZmZzZXQgPiBjdHJsX2hvd01hbnkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcHJldlBhZ2UgPSBwYXJzZUludCgoY3RybF9vZmZzZXQgLSBjdHJsX2hvd01hbnkpIC8gY3RybF9ob3dNYW55KSArIDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxpbmtfcHJldiA9ICQoJ2hlYWQnKS5maW5kKCdsaW5rW3JlbD1cInByZXZcIl0nKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsaW5rX3ByZXYubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5rX3ByZXYuYXR0cignaHJlZicsIGhyZWYgKyBwcmV2UGFnZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnaGVhZCcpLmFwcGVuZCgkKCc8bGluaz4nKS5hdHRyKCdyZWwnLCAncHJldicpLmF0dHIoJ2hyZWYnLCBocmVmICsgcHJldlBhZ2UpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHZtLnJvd3MoKS5sZW5ndGggPT09IDApIHx8ICEodm0ucm93cygpLmxlbmd0aCAlIGN0cmwudm0uaG93TWFueSgpICE9PSAwKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuZXh0UGFnZSA9IHBhcnNlSW50KChjdHJsX29mZnNldCArIGN0cmxfaG93TWFueSkgLyBjdHJsX2hvd01hbnkpICsgMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGlua19uZXh0ID0gJCgnaGVhZCcpLmZpbmQoJ2xpbmtbcmVsPVwibmV4dFwiXScpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxpbmtfbmV4dC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmtfbmV4dC5hdHRyKCdocmVmJywgaHJlZiArIG5leHRQYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCdoZWFkJykuYXBwZW5kKCQoJzxsaW5rPicpLmF0dHIoJ3JlbCcsICduZXh0JykuYXR0cignaHJlZicsIGhyZWYgKyBuZXh0UGFnZSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9mZnNldCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2bS5yb3dzKHJvd3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB1c2VyIHBvc2l0aW9uIGlzIGdyZWF0ZXIgdGhhbiBhbGwgcm93cyBsb2FkZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh1c2VySW5qZWN0ZWQgJiYgbWUucG9zaXRpb24oKSA+IGV4aXN0aW5nUm93cy5sZW5ndGggKyByb3dzLmxlbmd0aClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3dzLnB1c2gobWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZWxzZSB3aWxsIGhhdmUgYmVlbiByZXR1cm5lZCBpbiByb3dzXG4gICAgICAgICAgICAgICAgICAgICAgICB2bS5yb3dzKGV4aXN0aW5nUm93cy5jb25jYXQocm93cykpXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdG9nZ2xlRm9sbG93OiBmdW5jdGlvbiAocm93KSB7XG4gICAgICAgICAgICAgICAgICAgIG0ucG9zdCh7XG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6ICcvYWpheC9tZW1wYWxfYWRkLycsXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB7dG9fdXNlcl9pZDogcm93LmlkKCl9XG4gICAgICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcm93LmZvbGxvd2luZyghcm93LmZvbGxvd2luZygpKVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgTS5tb2RhbC5lcnJvcihkYXRhLmVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzZXRQZXJpb2Q6IGZ1bmN0aW9uIChwZXJpb2QpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52bS5wZXJpb2QocGVyaW9kKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52bS5yb3dzKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mZXRjaFJvd3MoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBjdHJsLmZldGNoUm93cygwKTtcbiAgICAgICAgICAgIHJldHVybiBjdHJsO1xuICAgICAgICB9O1xuXG4gICAgICAgIGxlYWRlcmJvYXJkLnZpZXcgPSBmdW5jdGlvbiAoY3RybCkge1xuICAgICAgICAgICAgcmV0dXJuIG0oJy5sZWFkZXJib2FyZCcsIFtcblxuICAgICAgICAgICAgICAgIG0oJy5sZWFkZXJib2FyZC1oZWFkZXInLCBbXG4gICAgICAgICAgICAgICAgICAgIG0oJ3NwYW4ubGVhZGVyYm9hcmQtaW1hZ2UnKSxcbiAgICAgICAgICAgICAgICAgICAgbSgnc3Bhbi5sZWFkZXJib2FyZC10ZXh0JywgX3QoXCJMZWFkZXJib2FyZFwiKSlcbiAgICAgICAgICAgICAgICBdKSxcblxuICAgICAgICAgICAgICAgIGN0cmwudm0uc2hvd1RhYnMoKSA/IHJlbmRlckxlYWRlcmJvYXJkQ29udHJvbHMoY3RybCkgOiBbXSxcblxuICAgICAgICAgICAgICAgIG0oJy5sZWFkZXJib2FyZC1jb250ZW50JywgW1xuICAgICAgICAgICAgICAgICAgICByZW5kZXJMZWFkZXJib2FyZFJvd3MoY3RybCksXG4gICAgICAgICAgICAgICAgICAgIGN0cmwudm0ubGFyZ2VCb2FyZCgpID8gcmVuZGVyTG9hZE1vcmUoY3RybCkgOlxuICAgICAgICAgICAgICAgICAgICBtKCcubGVhZGVyYm9hcmQtbGluaycsIFtcbiAgICAgICAgICAgICAgICAgICAgICAgIG0oJ2EnLCB7aHJlZjogY3RybC52bS5mdWxsQm9hcmRVcmwoKX0sIF90KCdNb3JlJykpXG4gICAgICAgICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgIF0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBsZWFkZXJib2FyZDtcbiAgICB9O1xufTtcblxufSx7fV0sNjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICgkLCBNKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBNLmxlYXJuaW5nX3BlcmZvcm1hbmNlID0ge307XG5cbiAgICB2YXIgcGVyZm9ybWFuY2UgPSBNLmxlYXJuaW5nX3BlcmZvcm1hbmNlLFxuICAgICAgICBsZWFybmluZ0NoYXJ0ID0gbnVsbCxcbiAgICAgICAgdGVzdGluZ0NoYXJ0ID0gbnVsbDtcblxuICAgICQuZXh0ZW5kKHRydWUsIE0ubGVhcm5pbmdfcGVyZm9ybWFuY2UsIHtcblxuICAgICAgICBpbml0VGVzdGluZ0dyYXBoOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBwZXJmb3JtYW5jZS5pbml0VGVzdGluZ0Ryb3Bkb3ducygpO1xuICAgICAgICAgICAgcGVyZm9ybWFuY2Uuc2V0VGVzdGluZ0xhenlMb2FkaW5nKCk7XG4gICAgICAgICAgICBwZXJmb3JtYW5jZS5zZXRJbWFnZUdyYWIoKTtcbiAgICAgICAgfSxcbiAgICAgICAgaW5pdFRlc3RpbmdEcm9wZG93bnM6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICQoXCIuZmlsdGVyc1wiKS5vbignY2xpY2snLCBcIi5maWx0ZXIgLmRyb3Bkb3duLW1lbnUgYVwiLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpLFxuICAgICAgICAgICAgICAgICAgICAkZmlsdGVyID0gJHRoaXMuY2xvc2VzdChcIi5maWx0ZXJcIiksXG4gICAgICAgICAgICAgICAgICAgICRidG4xID0gJChcIi5idG4xXCIsICRmaWx0ZXIpLFxuICAgICAgICAgICAgICAgICAgICBmaWx0ZXIgPSAkdGhpcy5kYXRhKFwiZmlsdGVyXCIpLFxuICAgICAgICAgICAgICAgICAgICBwYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXI6IGZpbHRlclxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGlmICgkdGhpcy5kYXRhKFwiaWRcIikpIHBhcmFtc1snaWQnXSA9ICR0aGlzLmRhdGEoXCJpZFwiKTtcblxuICAgICAgICAgICAgICAgICRidG4xLnRvZ2dsZUNsYXNzKFwiYmdHcmVlblwiKTtcbiAgICAgICAgICAgICAgICAkdGhpcy5wYXJlbnQoXCJsaVwiKS5hZGRDbGFzcyhcImFjdGl2ZVwiKS5zaWJsaW5ncygpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xuICAgICAgICAgICAgICAgICRidG4xLnRleHQoJCh0aGlzKS50ZXh0KCkpO1xuXG4gICAgICAgICAgICAgICAgcGVyZm9ybWFuY2UubG9hZFRlc3RpbmdEYXRhKHBhcmFtcywgcGVyZm9ybWFuY2UudXBkYXRlVGVzdGluZ0NoYXJ0KTtcbiAgICAgICAgICAgIH0pLm9uKCdjbGljaycsIFwiLmJ0bjFcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICQodGhpcykuc2libGluZ3MoXCIuZHJvcGRvd24tdG9nZ2xlXCIpLmNsaWNrKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcblxuICAgICAgICBzZXRUZXN0aW5nTGF6eUxvYWRpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChwZXJmb3JtYW5jZS5pc1Zpc2libGUoXCIjbGF6eS1sZWFybmluZy1pbnNpZ2h0XCIpKSB7XG4gICAgICAgICAgICAgICAgJCh3aW5kb3cpLnVuYmluZChcInNjcm9sbFwiKTtcbiAgICAgICAgICAgICAgICBwZXJmb3JtYW5jZS5sb2FkVGVzdGluZ0RhdGEobnVsbCwgcGVyZm9ybWFuY2UuaW5pdGlhbFRlc3RpbmdMb2FkQ2FsbGJhY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgJCh3aW5kb3cpLnNjcm9sbChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwZXJmb3JtYW5jZS5pc1Zpc2libGUoXCIjbGF6eS1sZWFybmluZy1pbnNpZ2h0XCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKHdpbmRvdykudW5iaW5kKFwic2Nyb2xsXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGVyZm9ybWFuY2UubG9hZFRlc3RpbmdEYXRhKG51bGwsIHBlcmZvcm1hbmNlLmluaXRpYWxUZXN0aW5nTG9hZENhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBpc1Zpc2libGU6IGZ1bmN0aW9uIChlbGVtKSB7XG4gICAgICAgICAgICB2YXIgd2luVG9wID0gJCh3aW5kb3cpLnNjcm9sbFRvcCgpLFxuICAgICAgICAgICAgICAgIHdpbkJvdHRvbSA9IHdpblRvcCArICQod2luZG93KS5oZWlnaHQoKSxcbiAgICAgICAgICAgICAgICBlbGVtVG9wID0gJChlbGVtKS5vZmZzZXQoKTtcbiAgICAgICAgICAgIGlmIChlbGVtVG9wID09PSBudWxsKSByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICBlbHNlIHJldHVybiBlbGVtVG9wLnRvcCA8PSB3aW5Cb3R0b207XG4gICAgICAgIH0sXG4gICAgICAgIHNldEltYWdlR3JhYjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBkMyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAkKFwiI3NjcmVlbmNhcHR1cmUgYVwiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBkMy5zZWxlY3QoXCIjc2NyZWVuY2FwdHVyZSBhXCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGh0bWwgPSBkMy5zZWxlY3QoXCIjY2hhcnQtdGVzdGluZyBzdmdcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXR0cihcInZlcnNpb25cIiwgMS4xKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKFwieG1sbnNcIiwgXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5ub2RlKCkucGFyZW50Tm9kZS5pbm5lckhUTUwsXG4gICAgICAgICAgICAgICAgICAgICAgICByZSA9IC88aW1hZ2UuKj8+W1xcd3xcXGR8XFx3XSo8XFwvaW1hZ2U+L2dpLFxuICAgICAgICAgICAgICAgICAgICAgICAgaHRtbFN0cmlwcGVkID0gaHRtbC5yZXBsYWNlKHJlLCBcIlwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGltZ3NyYyA9ICdkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LCcgKyB3aW5kb3cuYnRvYShodG1sU3RyaXBwZWQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW1nID0gJzxpbWcgc3JjPVwiJyArIGltZ3NyYyArICdcIiBhbHQ9XCJcIj4nO1xuXG4gICAgICAgICAgICAgICAgICAgIGQzLnNlbGVjdChcIiNpbWFnZUdyYWJcIikuaHRtbChpbWcpO1xuICAgICAgICAgICAgICAgICAgICBwZXJmb3JtYW5jZS5zaG93TW9kYWwoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgc2hvd01vZGFsOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBNRU1SSVNFLm1vZGFsLmNvbnRlbnQoe1xuICAgICAgICAgICAgICAgIG1vZGFsSWQ6IFwiaW1hZ2VGb3J1bVBvc3RcIixcbiAgICAgICAgICAgICAgICBzaG93SGVhZGVyOiB0cnVlLFxuICAgICAgICAgICAgICAgIHNob3dGb290ZXI6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGJhY2tkcm9wOiB0cnVlLFxuICAgICAgICAgICAgICAgIGtleWJvYXJkOiB0cnVlLFxuICAgICAgICAgICAgICAgIHRlbXBsYXRlOiBcImltYWdlRm9ydW1Qb3N0XCIsXG4gICAgICAgICAgICAgICAgc2hhZG93OiBmYWxzZSxcbiAgICAgICAgICAgICAgICBoZWFkZXJUZXh0OiBfdChcIlN0YXJ0IGEgbmV3IHRocmVhZCBvbiBmb3J1bSB3aXRoIHlvdXIgdGVzdGluZyBiZWhhdmlvciBpbWFnZSBpbmNsdWRlZFwiKSxcbiAgICAgICAgICAgICAgICBzZWVUaHJ1OiBmYWxzZSxcbiAgICAgICAgICAgICAgICByZW1vdmVPbkhpZGRlbjogdHJ1ZVxuXG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcGVyZm9ybWFuY2UuaW5pdFBvc3RGb3JtKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgaW5pdFBvc3RGb3JtOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkKFwiI2ltYWdlR3JhYiBpbWdcIikuY2xvbmUoKS5hcHBlbmRUbygkKFwiLm1vZGFsQ29udGVudCAucG9zdGVkSW1hZ2VcIikpO1xuICAgICAgICB9LFxuICAgICAgICB1cGRhdGVUZXN0aW5nQ2hhcnQ6IGZ1bmN0aW9uIChmaWx0ZXJlZERhdGEpIHtcbiAgICAgICAgICAgIHRlc3RpbmdDaGFydC5kYXRhUHJvdmlkZXIgPSBmaWx0ZXJlZERhdGEuZGF0YTtcbiAgICAgICAgICAgIHRlc3RpbmdDaGFydC52YWxpZGF0ZURhdGEoKTtcbiAgICAgICAgfSxcbiAgICAgICAgaW5pdGlhbFRlc3RpbmdMb2FkQ2FsbGJhY2s6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICB2YXIgY2hhcnREYXRhID0gcGVyZm9ybWFuY2Uuc2V0VGVzdGluZ0RhdGEoZGF0YSk7XG4gICAgICAgICAgICB0ZXN0aW5nQ2hhcnQgPSBBbUNoYXJ0cy5tYWtlQ2hhcnQoXCJjaGFydC10ZXN0aW5nXCIsIHtcbiAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ4eVwiLFxuICAgICAgICAgICAgICAgIFwidGhlbWVcIjogXCJub25lXCIsXG4gICAgICAgICAgICAgICAgXCJwYXRoVG9JbWFnZXNcIjogXCJodHRwczovL3d3dy5hbWNoYXJ0cy5jb20vbGliLzMvaW1hZ2VzL1wiLFxuICAgICAgICAgICAgICAgIFwiZGF0YVByb3ZpZGVyXCI6IGNoYXJ0RGF0YSxcbiAgICAgICAgICAgICAgICBcImNoYXJ0Q3Vyc29yXCI6IHt9LFxuICAgICAgICAgICAgICAgIFwibGVnZW5kXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgXCJ1c2VHcmFwaFNldHRpbmdzXCI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIFwiZXF1YWxXaWR0aHNcIjogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIFwiZm9udFNpemVcIjogMTMsXG4gICAgICAgICAgICAgICAgICAgIFwicm9sbE92ZXJHcmFwaEFscGhhXCI6IDAuMTUsXG4gICAgICAgICAgICAgICAgICAgIFwic3dpdGNoYWJsZVwiOiB0cnVlXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBcInZhbHVlQXhlc1wiOiBbXG4gICAgICAgICAgICAgICAgICAgIHsgLy94XG4gICAgICAgICAgICAgICAgICAgICAgICBcInRpdGxlXCI6IF90KFwiVGltZSBvZiB0aGUgZGF5XCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJwb3NpdGlvblwiOiBcImJvdHRvbVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJhdXRvR3JpZENvdW50XCI6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJncmlkQ291bnRcIjogMTIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIm1heGltdW1cIjogMjMsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIm1pbmltdW1cIjogMFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB7IC8vIHlcbiAgICAgICAgICAgICAgICAgICAgICAgIFwidGl0bGVcIjogX3QoXCJSZXNwb25zZSB0aW1lIGluIHNlY29uZHNcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICBcInBvc2l0aW9uXCI6IFwibGVmdFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJhdXRvR3JpZENvdW50XCI6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJncmlkQ291bnRcIjogMTAsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIm1heGltdW1cIjogMjBcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgXCJzdGFydER1cmF0aW9uXCI6IDAuMyxcbiAgICAgICAgICAgICAgICBcImdyYXBoc1wiOiBbXG4gICAgICAgICAgICAgICAgICAgIHsgLy8gY29ycmVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJpZFwiOiBcImNvcnJlY3RcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiYmFsbG9vblRleHRcIjogX3QoXCJBdCBfX3RhZzFfXyB5b3VyIF9fYnJfXyBhdmVyYWdlIHJlc3BvbnNlIF9fYnJfXyB0aW1lIGlzIF9fdGFnMl9fLlwiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFnMTogXCI8Yj5bW3lDb3JyZWN0QmFsbG9vbl1dPC9iPlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyOiBcIjxiciAvPlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhZzI6IFwiPGI+W1t5XV1zPC9iPlwiXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiYnVsbGV0XCI6IFwiYnViYmxlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcImxpbmVDb2xvclwiOiBcIiM4M2M1M2RcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwibGluZUFscGhhXCI6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBcInRpdGxlXCI6IF90KFwiQ29ycmVjdFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwieEZpZWxkXCI6IFwieENvcnJlY3RcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwieUZpZWxkXCI6IFwieUNvcnJlY3RcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwidmFsdWVGaWVsZFwiOiBcImFtb3VudENvcnJlY3RcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiZmlsbEFscGhhc1wiOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJidWxsZXRCb3JkZXJBbHBoYVwiOiAwLjIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIm1heEJ1bGxldFNpemVcIjogMjAsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIm1pbkJ1bGxldFNpemVcIjogNFxuXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHsgLy8gbmVhcmx5IGNvcnJlY3RcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiaWRcIjogXCJuZWFybHlDb3JyZWN0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcImJhbGxvb25UZXh0XCI6IF90KFwiQXQgX190YWcxX18geW91ciBfX2JyX18gYXZlcmFnZSByZXNwb25zZSBfX2JyX18gdGltZSBpcyBfX3RhZzJfXy5cIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhZzE6IFwiPGI+W1t5TmVhcmx5Q29ycmVjdEJhbGxvb25dXTwvYj5cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicjogXCI8YnIgLz5cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWcyOiBcIjxiPltbeV1dczwvYj5cIlxuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICBcImJ1bGxldFwiOiBcImJ1YmJsZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJsaW5lQ29sb3JcIjogXCIjZTg5YzA2XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcImxpbmVBbHBoYVwiOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ0aXRsZVwiOiBfdChcIk5lYXJseSBjb3JyZWN0XCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ4RmllbGRcIjogXCJ4TmVhcmx5Q29ycmVjdFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ5RmllbGRcIjogXCJ5TmVhcmx5Q29ycmVjdFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ2YWx1ZUZpZWxkXCI6IFwiYW1vdW50TmVhcmx5Q29ycmVjdFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJmaWxsQWxwaGFzXCI6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBcImJ1bGxldEJvcmRlckFscGhhXCI6IDAuMixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwibWF4QnVsbGV0U2l6ZVwiOiAyMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwibWluQnVsbGV0U2l6ZVwiOiA0XG5cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgeyAvLyBpbmNvcnJlY3RcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiaWRcIjogXCJpbmNvcnJlY3RcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiYmFsbG9vblRleHRcIjogX3QoXCJBdCBfX3RhZzFfXyB5b3VyIF9fYnJfXyBhdmVyYWdlIHJlc3BvbnNlIF9fYnJfXyB0aW1lIGlzIF9fdGFnMl9fLlwiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFnMTogXCI8Yj5bW3lJbmNvcnJlY3RCYWxsb29uXV08L2I+XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnI6IFwiPGJyIC8+XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFnMjogXCI8Yj5bW3ldXXM8L2I+XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJidWxsZXRcIjogXCJidWJibGVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwibGluZUNvbG9yXCI6IFwiI2JiMmUyNVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJsaW5lQWxwaGFcIjogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwidGl0bGVcIjogX3QoXCJJbmNvcnJlY3RcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICBcInhGaWVsZFwiOiBcInhJbmNvcnJlY3RcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwieUZpZWxkXCI6IFwieUluY29ycmVjdFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ2YWx1ZUZpZWxkXCI6IFwiYW1vdW50SW5jb3JyZWN0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcImZpbGxBbHBoYXNcIjogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiYnVsbGV0Qm9yZGVyQWxwaGFcIjogMC4yLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJtYXhCdWxsZXRTaXplXCI6IDIwLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJtaW5CdWxsZXRTaXplXCI6IDRcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgXCJjaGFydFNjcm9sbGJhclwiOiB7XG4gICAgICAgICAgICAgICAgICAgIFwiYmFja2dyb3VuZENvbG9yXCI6IFwiIzE1YTFlY1wiLFxuICAgICAgICAgICAgICAgICAgICBcInVwZGF0ZU9uUmVsZWFzZU9ubHlcIjogZmFsc2VcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICQoXCIjY2hhcnQtdGVzdGluZ1wiKVxuICAgICAgICAgICAgICAgIC5jc3MoXCJ2aXNpYmlsaXR5XCIsIFwidmlzaWJsZVwiKVxuICAgICAgICAgICAgICAgIC5wYXJlbnQoKS5maW5kKFwiLmxvYWRpbmctc3Bpbm5lclwiKS5oaWRlKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGxvYWRUZXN0aW5nRGF0YTogZnVuY3Rpb24gKHBhcmFtcywgY2FsbGJhY2spIHtcbiAgICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAgICAgdHlwZTogJ0dFVCcsXG4gICAgICAgICAgICAgICAgdXJsOiAnL2FqYXgvbWV0cmljcy9mYW5jeV90ZXN0c19ncmFwaC8nLFxuICAgICAgICAgICAgICAgIGFzeW5jOiB0cnVlLFxuICAgICAgICAgICAgICAgIGRhdGE6IHBhcmFtcyxcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSBjYWxsYmFjayhkYXRhLmRhdGEpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIGluaXRBdHRlbmRhbmNlRGF0YUdyaWQ6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnR0VUJyxcbiAgICAgICAgICAgICAgICB1cmw6ICcvYWpheC9tZXRyaWNzL2xlYXJuaW5nX3N0cmVha19ncmFwaC8nLFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBncmlkXG4gICAgICAgICAgICAgICAgICAgIHZhciBncmlkID0gJCgnI2F0dGVuZGFuY2UtZ3JpZCcpO1xuICAgICAgICAgICAgICAgICAgICBncmlkLmh0bWwoJycpO1xuICAgICAgICAgICAgICAgICAgICBuZXcgTUVNUklTRS5jaGFydHMuQXR0ZW5kYW5jZUdyaWQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbTogZ3JpZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IGRhdGFbJ2F0dGVuZGFuY2VfZGF0YSddLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZUZpZWxkOiAnZGF5JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50RmllbGQ6ICdudW1fZXZlbnRzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50TmFtZTogJ0xlYXJuaW5nIEV2ZW50J1xuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBDcmVhdGUgbGFiZWxzXG4gICAgICAgICAgICAgICAgICAgIHZhciBsYWJlbDEgPSAkKCcjYXR0ZW5kYW5jZS1ncmlkLWxhYmVsMScpLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWwyID0gJCgnI2F0dGVuZGFuY2UtZ3JpZC1sYWJlbDInKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsMyA9ICQoJyNhdHRlbmRhbmNlLWdyaWQtbGFiZWwzJyksXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXlzLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhbCA9IGRhdGFbJ3RvdGFsX2RheXNfbGVhcm5lZCddO1xuICAgICAgICAgICAgICAgICAgICBkYXlzID0gKHZhbCA9PSAxKSA/IF90KFwiZGF5XCIpIDogX3QoXCJkYXlzXCIpO1xuICAgICAgICAgICAgICAgICAgICBsYWJlbDEuc2hvdygpLmZpbmQoJy5ib2R5JykuaHRtbCgnPHNwYW4gY2xhc3M9XCJsYXJnZVwiPicgKyB2YWwgKyAnPC9zcGFuPjxzcGFuIGNsYXNzPVwiZGF5XCI+JyArIGRheXMgKyAnPC9zcGFuPicpO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhbCA9IGRhdGFbJ2xvbmdlc3Rfc3RyZWFrJ107XG4gICAgICAgICAgICAgICAgICAgIGRheXMgPSAodmFsID09IDEpID8gX3QoXCJkYXlcIikgOiBfdChcImRheXNcIik7XG4gICAgICAgICAgICAgICAgICAgIGxhYmVsMi5zaG93KCkuZmluZCgnLmJvZHknKS5odG1sKCc8c3BhbiBjbGFzcz1cImxhcmdlXCI+JyArIHZhbCArICc8L3NwYW4+PHNwYW4gY2xhc3M9XCJkYXlcIj4nICsgZGF5cyArICc8L3NwYW4+Jyk7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFsID0gZGF0YVsnY3VycmVudF9zdHJlYWsnXTtcbiAgICAgICAgICAgICAgICAgICAgZGF5cyA9ICh2YWwgPT0gMSkgPyBfdChcImRheVwiKSA6IF90KFwiZGF5c1wiKTtcbiAgICAgICAgICAgICAgICAgICAgbGFiZWwzLnNob3coKS5maW5kKCcuYm9keScpLmh0bWwoJzxzcGFuIGNsYXNzPVwibGFyZ2VcIj4nICsgdmFsICsgJzwvc3Bhbj48c3BhbiBjbGFzcz1cImRheVwiPicgKyBkYXlzICsgJzwvc3Bhbj4nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgaW5pdE1vc3RMZWFybnRDb3Vyc2VzQ2hhcnQ6IGZ1bmN0aW9uIChjb3Vyc2VEYXRhKSB7XG4gICAgICAgICAgICB2YXIgY2hhcnQgPSBBbUNoYXJ0cy5tYWtlQ2hhcnQoXCJjaGFydC1jb3Vyc2V0aW1lXCIsIHtcbiAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJwaWVcIixcbiAgICAgICAgICAgICAgICBcInRoZW1lXCI6IFwibm9uZVwiLFxuICAgICAgICAgICAgICAgIFwibWluUmFkaXVzXCI6IDEwMCxcbiAgICAgICAgICAgICAgICBcImRhdGFQcm92aWRlclwiOiBjb3Vyc2VEYXRhLFxuICAgICAgICAgICAgICAgIFwidmFsdWVGaWVsZFwiOiBcInRpbWVcIixcbiAgICAgICAgICAgICAgICBcInRpdGxlRmllbGRcIjogXCJjb3Vyc2VcIixcbiAgICAgICAgICAgICAgICBcImxhYmVsc0VuYWJsZWRcIjogZmFsc2UsXG4gICAgICAgICAgICAgICAgXCJjb2xvcnNcIjogW1wiIzE1YTFlY1wiLCBcIiNhYTVmODZcIiwgXCIjZTg5YzA2XCIsIFwiIzgzYzUzZFwiLCBcIiNmZjE2MDVcIiwgXCIjYWE1ZjEwXCJdLFxuICAgICAgICAgICAgICAgIFwicGllWFwiOiBcIjIwJVwiLFxuICAgICAgICAgICAgICAgIFwicGllWVwiOiBcIjQ0JVwiLFxuICAgICAgICAgICAgICAgIFwibGVnZW5kXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgXCJwb3NpdGlvblwiOiBcImFic29sdXRlXCIsXG4gICAgICAgICAgICAgICAgICAgIFwid2lkdGhcIjogMzAwLFxuICAgICAgICAgICAgICAgICAgICBcInRvcFwiOiAxMCxcbiAgICAgICAgICAgICAgICAgICAgXCJyaWdodFwiOiAxMjAsXG4gICAgICAgICAgICAgICAgICAgIFwidmVydGljYWxHYXBcIjogMjAsXG4gICAgICAgICAgICAgICAgICAgIFwibWFya2VyVHlwZVwiOiBcInNxdWFyZVwiLFxuICAgICAgICAgICAgICAgICAgICBcIm1hcmtlclNpemVcIjogMzIsXG4gICAgICAgICAgICAgICAgICAgIFwidmFsdWVUZXh0XCI6IFwiW1tub25lXV1cIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgXCJiYWxsb29uVGV4dFwiOiBcIjxzcGFuIHN0eWxlPSdmb250LXNpemU6MTBweCc+PGI+W1tjb3Vyc2VdXTwvYj48YnIgLz5bW3RpbWVobXNdXTwvc3Bhbj5cIlxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICQuZWFjaChjb3Vyc2VEYXRhLCBmdW5jdGlvbiAoaywgdikge1xuICAgICAgICAgICAgICAgIHZhciB1cmwgPSB2LmlkID8gXCIvY291cnNlL1wiICsgdi5pZCA6IFwiL2NvdXJzZXMvXCIsXG4gICAgICAgICAgICAgICAgICAgIHRleHQgPSBfdChcIkxlYXJuXCIpO1xuICAgICAgICAgICAgICAgICQoXCIud2hpdGVib3guYnV0dG9ucyAuYnRuc1wiKS5hcHBlbmQoXCI8YSBocmVmPSdcIiArIHVybCArIFwiJyBjbGFzcz0nYnRuIGJ0bi1zdWNjZXNzIGJ0bi1ncmVlbic+XCIgKyB0ZXh0ICsgXCI8L2E+XCIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldFRlc3RpbmdEYXRhOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgdmFyIGNvcnJlY3QgPSBbXSxcbiAgICAgICAgICAgICAgICBuZWFybHkgPSBbXSxcbiAgICAgICAgICAgICAgICBpbmNvcnJlY3QgPSBbXSxcbiAgICAgICAgICAgICAgICB0ZW1wO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YVtpXS5jb3JyZWN0X3Jlc3BfdGltZSAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBjb3JyZWN0LnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJ5Q29ycmVjdFwiOiBkYXRhW2ldLmNvcnJlY3RfcmVzcF90aW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ4Q29ycmVjdFwiOiBkYXRhW2ldLnhfYXhpcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwieUNvcnJlY3RCYWxsb29uXCI6IGRhdGFbaV0udGltZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiYW1vdW50Q29ycmVjdFwiOiBkYXRhW2ldLmNvcnJlY3RcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChkYXRhW2ldLnBhcnRpYWxseV9jb3JyZWN0X3Jlc3BfdGltZSAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBuZWFybHkucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBcInlOZWFybHlDb3JyZWN0XCI6IGRhdGFbaV0ucGFydGlhbGx5X2NvcnJlY3RfcmVzcF90aW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ4TmVhcmx5Q29ycmVjdFwiOiBkYXRhW2ldLnhfYXhpcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwieU5lYXJseUNvcnJlY3RCYWxsb29uXCI6IGRhdGFbaV0udGltZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiYW1vdW50TmVhcmx5Q29ycmVjdFwiOiBkYXRhW2ldLnBhcnRpYWxseV9jb3JyZWN0XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZGF0YVtpXS5pbmNvcnJlY3RfcmVzcF90aW1lICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGluY29ycmVjdC5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwieUluY29ycmVjdFwiOiBkYXRhW2ldLmluY29ycmVjdF9yZXNwX3RpbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBcInhJbmNvcnJlY3RcIjogZGF0YVtpXS54X2F4aXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBcInlJbmNvcnJlY3RCYWxsb29uXCI6IGRhdGFbaV0udGltZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiYW1vdW50SW5jb3JyZWN0XCI6IGRhdGFbaV0uaW5jb3JyZWN0XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRlbXAgPSBjb3JyZWN0LmNvbmNhdChuZWFybHkpO1xuICAgICAgICAgICAgcmV0dXJuIHRlbXAuY29uY2F0KGluY29ycmVjdCk7XG4gICAgICAgIH1cbiAgICB9KTtcblxufTtcblxufSx7fV0sNzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICgkLCBNKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBNLmxlYXJuaW5nX3ByZWZlcmVuY2VzID0ge307XG5cbiAgICB2YXIgcHJlZmVyZW5jZXMgPSBNLmxlYXJuaW5nX3ByZWZlcmVuY2VzO1xuXG4gICAgJC5leHRlbmQodHJ1ZSwgTS5sZWFybmluZ19wcmVmZXJlbmNlcywge1xuICAgICAgICBpbml0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkKFwiLndyYXBwZXIucGFjZVwiKS5vbignY2xpY2snLCBcIi5idG4tZ3JvdXAgLmRyb3Bkb3duLW1lbnUgYVwiLCAgZnVuY3Rpb24oZSl7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIHByZWZlcmVuY2VzLmNoYW5nZUxlYXJuaW5nUGFjZSgkKHRoaXMpKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAkKCcueWVzbm8nKS5jbGljayhmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBwcmVmZXJlbmNlcy5jaGFuZ2VZZXNOb1ByZWZlcmVuY2VzKCQodGhpcykpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICQoXCIud3JhcHBlclwiKS5vbignY2xpY2snLCBcIi5idG4xXCIsICBmdW5jdGlvbihlKXtcbiAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICQodGhpcykuc2libGluZ3MoXCIuZHJvcGRvd24tdG9nZ2xlXCIpLmNsaWNrKCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcHJlZmVyZW5jZXMudXBkYXRlTGVhcm5pbmdQYWNlKCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgdXBkYXRlTGVhcm5pbmdQYWNlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgcGxhbnRTaXplID0gJChcIiNnYXJkZW5fcGxhbnRfc2l6ZVwiKS5kYXRhKFwic2VsZWN0ZWRcIiksXG4gICAgICAgICAgICAgICAgd2F0ZXJTaXplID0gJChcIiNnYXJkZW5fd2F0ZXJfc2l6ZVwiKS5kYXRhKFwic2VsZWN0ZWRcIiksXG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IFtfdChcIlN0YW5kYXJkXCIpLCBfdChcIkFkdmFuY2VkXCIpLCBfdChcIlN1cGVyIEFkdmFuY2VkXCIpLCBfdChcIkN1c3RvbVwiKV0sXG4gICAgICAgICAgICAgICAgbmV3SW5kZXg7XG5cbiAgICAgICAgICAgIGlmIChwbGFudFNpemUgPT0gMjAgJiYgd2F0ZXJTaXplID09IDEwMCkgbmV3SW5kZXggPSAyO1xuICAgICAgICAgICAgZWxzZSBpZiAocGxhbnRTaXplID09IDEwICYmIHdhdGVyU2l6ZSA9PSA1MCkgbmV3SW5kZXggPSAxO1xuICAgICAgICAgICAgZWxzZSBpZiAocGxhbnRTaXplID09IDUgJiYgd2F0ZXJTaXplID09IDI1KSBuZXdJbmRleCA9IDA7XG4gICAgICAgICAgICBlbHNlIG5ld0luZGV4ID0gMztcblxuICAgICAgICAgICAgJChcIiNwcmVmZXJlbmNlXCIpLnRleHQob3B0aW9uc1tuZXdJbmRleF0pO1xuICAgICAgICAgICAgJChcIi5wcmVmZXJlbmNlIC5kcm9wZG93bi1tZW51IGFbZGF0YS1wcmVmPSdcIiArIG5ld0luZGV4ICsgXCInXVwiKS5wYXJlbnQoXCJsaVwiKS5hZGRDbGFzcyhcImFjdGl2ZVwiKS5zaWJsaW5ncygpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGNoYW5nZUxlYXJuaW5nUGFjZSA6IGZ1bmN0aW9uKGVsZW0pIHtcbiAgICAgICAgICAgIHZhciBidG4gPSBlbGVtLnBhcmVudHMoXCIuYnRuLWdyb3VwXCIpLmZpbmQoXCIuYnRuMVwiKSxcbiAgICAgICAgICAgICAgICBidG5JZCA9IGJ0bi5hdHRyKFwiaWRcIiksXG4gICAgICAgICAgICAgICAgbnVtID0gZWxlbS5hdHRyKFwiZGF0YS1wcmVmXCIpLFxuICAgICAgICAgICAgICAgIHBsYW50U2l6ZSwgd2F0ZXJTaXplO1xuXG4gICAgICAgICAgICBlbGVtLnBhcmVudChcImxpXCIpLmFkZENsYXNzKFwiYWN0aXZlXCIpLnNpYmxpbmdzKCkucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XG5cbiAgICAgICAgICAgIGlmIChidG5JZCA9PSBcInByZWZlcmVuY2VcIikgeyAvLyAgQnkgcHJlZmVyZW5jZVxuICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSB0ZXh0XG4gICAgICAgICAgICAgICAgYnRuLnRleHQoZWxlbS50ZXh0KCkpO1xuXG4gICAgICAgICAgICAgICAgLy8gRGVkdWN0IHBsYW50L3dhdGVyIHNpemVcbiAgICAgICAgICAgICAgICBpZiAobnVtID09IDIpIHsgLy8gU3VwZXIgQWR2YW5jZWRcbiAgICAgICAgICAgICAgICAgICAgcGxhbnRTaXplID0gMjA7XG4gICAgICAgICAgICAgICAgICAgIHdhdGVyU2l6ZSA9IDEwMDtcblxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobnVtID09IDEpIHsgLy8gQWR2YW5jZWRcbiAgICAgICAgICAgICAgICAgICAgcGxhbnRTaXplID0gMTA7XG4gICAgICAgICAgICAgICAgICAgIHdhdGVyU2l6ZSA9IDUwO1xuXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChudW0gPT0gMCkgeyAvLyBTdGFuZGFyZFxuICAgICAgICAgICAgICAgICAgICBwbGFudFNpemUgPSA1O1xuICAgICAgICAgICAgICAgICAgICB3YXRlclNpemUgPSAyNTtcblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7IC8vIEN1c3RvbVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAkKFwiLnBhY2VWYWx1ZXMucGxhbnQtc2l6ZSAuZHJvcGRvd24tbWVudSBhW2RhdGEtcHJlZj0nXCIgKyBwbGFudFNpemUgKyBcIiddXCIpLnBhcmVudChcImxpXCIpLmFkZENsYXNzKFwiYWN0aXZlXCIpLnNpYmxpbmdzKCkucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XG4gICAgICAgICAgICAgICAgJChcIi5wYWNlVmFsdWVzLndhdGVyLXNpemUgLmRyb3Bkb3duLW1lbnUgYVtkYXRhLXByZWY9J1wiICsgd2F0ZXJTaXplICsgXCInXVwiKS5wYXJlbnQoXCJsaVwiKS5hZGRDbGFzcyhcImFjdGl2ZVwiKS5zaWJsaW5ncygpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xuXG5cbiAgICAgICAgICAgIH0gZWxzZSBpZihidG5JZCA9PSBcImdhcmRlbl9wbGFudF9zaXplXCIpIHtcbiAgICAgICAgICAgICAgICBwbGFudFNpemUgPSBudW07XG4gICAgICAgICAgICAgICAgd2F0ZXJTaXplID0gJChcIiNnYXJkZW5fd2F0ZXJfc2l6ZVwiKS5kYXRhKFwic2VsZWN0ZWRcIik7XG5cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYnRuSWQgPT0gXCJnYXJkZW5fd2F0ZXJfc2l6ZVwiKSB7XG4gICAgICAgICAgICAgICAgd2F0ZXJTaXplID0gbnVtO1xuICAgICAgICAgICAgICAgIHBsYW50U2l6ZSA9ICQoXCIjZ2FyZGVuX3BsYW50X3NpemVcIikuZGF0YShcInNlbGVjdGVkXCIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBVcGRhdGUgYnV0dG9ucyBzdGF0ZVxuICAgICAgICAgICAgJChcIiNnYXJkZW5fcGxhbnRfc2l6ZVwiKS50ZXh0KHBsYW50U2l6ZSkuZGF0YShcInNlbGVjdGVkXCIsIHBsYW50U2l6ZSk7XG4gICAgICAgICAgICAkKFwiI2dhcmRlbl93YXRlcl9zaXplXCIpLnRleHQod2F0ZXJTaXplKS5kYXRhKFwic2VsZWN0ZWRcIiwgd2F0ZXJTaXplKTtcbiAgICAgICAgICAgIHByZWZlcmVuY2VzLnVwZGF0ZUxlYXJuaW5nUGFjZSgpO1xuXG4gICAgICAgICAgICAvLyBTYXZlIGNoYW5nZXNcbiAgICAgICAgICAgIHByZWZlcmVuY2VzLnNhdmVTZXR0aW5ncyh7Z2FyZGVuX3BsYW50X3NpemUgOiBwbGFudFNpemUsIGdhcmRlbl93YXRlcl9zaXplIDogd2F0ZXJTaXplfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgY2hhbmdlWWVzTm9QcmVmZXJlbmNlczogZnVuY3Rpb24odCkge1xuICAgICAgICAgICAgdmFyIGJ0biA9IHQuc2libGluZ3MoXCIuYnRuMVwiKSxcbiAgICAgICAgICAgICAgICB0ZXh0ID0gYnRuLmZpbmQoXCJzcGFuXCIpLFxuICAgICAgICAgICAgICAgIHggPSB0LmRhdGEoXCJjb250ZW50XCIpLFxuICAgICAgICAgICAgICAgIHN0ciA9IFwiXCIsXG4gICAgICAgICAgICAgICAgc2V0dGluZ1R5cGUgPSB0LmRhdGEoJ3NldHRpbmctdHlwZScpLFxuICAgICAgICAgICAgICAgIHByb2ZpbGVLZXksXG4gICAgICAgICAgICAgICAgcGFyYW1zID0ge307XG4gICAgICAgICAgICBzd2l0Y2ggKHNldHRpbmdUeXBlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnYXVkaW8nOlxuICAgICAgICAgICAgICAgICAgICBwcm9maWxlS2V5ID0gJ2dhcmRlbl9kaXNhYmxlX2F1ZGlvJztcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAndGFwcGluZyc6XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcHJvZmlsZUtleSA9ICdnYXJkZW5fZGlzYWJsZV90YXBwaW5nJztcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRleHQuYW5pbWF0ZSh7XG4gICAgICAgICAgICAgICAgXCJtYXJnaW4tbGVmdFwiOiB4ID8gLTE1MCA6IDEwMFxuICAgICAgICAgICAgfSwgMTUwLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIGlmKCF4KSB7XG4gICAgICAgICAgICAgICAgICAgIGJ0bi5yZW1vdmVDbGFzcyhcImhsLWRhbmdlclwiKS5hZGRDbGFzcyhcImhsLXN1Y2Nlc3NcIik7XG4gICAgICAgICAgICAgICAgICAgIHRleHQuY3NzKFwibWFyZ2luLWxlZnRcIiwgLTE1MCk7XG4gICAgICAgICAgICAgICAgICAgIHN0ciA9IF90KFwiWWVzXCIpO1xuICAgICAgICAgICAgICAgICAgICB0LmZpbmQoXCJzcGFuXCIpLnJlbW92ZUNsYXNzKFwiaWNvLWFyci1yaWdodFwiKS5hZGRDbGFzcyhcImljby1hcnItbGVmdFwiKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBidG4ucmVtb3ZlQ2xhc3MoXCJobC1zdWNjZXNzXCIpLmFkZENsYXNzKFwiaGwtZGFuZ2VyXCIpO1xuICAgICAgICAgICAgICAgICAgICBzdHIgPSBfdChcIk5vXCIpO1xuICAgICAgICAgICAgICAgICAgICB0ZXh0LmNzcyhcIm1hcmdpbi1sZWZ0XCIsIDEwMCk7XG4gICAgICAgICAgICAgICAgICAgIHQuZmluZChcInNwYW5cIikucmVtb3ZlQ2xhc3MoXCJpY28tYXJyLWxlZnRcIikuYWRkQ2xhc3MoXCJpY28tYXJyLXJpZ2h0XCIpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHggPSAheDtcbiAgICAgICAgICAgICAgICAkKHRleHQpLnRleHQoc3RyKTtcbiAgICAgICAgICAgICAgICB0LmRhdGEoXCJjb250ZW50XCIsIHgpO1xuICAgICAgICAgICAgICAgIHRleHQuYW5pbWF0ZSh7XG4gICAgICAgICAgICAgICAgICAgIFwibWFyZ2luLWxlZnRcIjogMFxuICAgICAgICAgICAgICAgIH0sIDE1MCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHBhcmFtc1twcm9maWxlS2V5XSA9IHggPyAndHJ1ZScgOiAnZmFsc2UnO1xuICAgICAgICAgICAgcHJlZmVyZW5jZXMuc2F2ZVNldHRpbmdzKHBhcmFtcyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgc2F2ZVNldHRpbmdzOiBmdW5jdGlvbihwYXJhbXMpIHtcbiAgICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAgICAgdHlwZTogJ1BPU1QnLFxuICAgICAgICAgICAgICAgIHVybDogJy9hamF4L2FjY291bnRzL3VwZGF0ZV9zZXR0aW5ncy8nLFxuICAgICAgICAgICAgICAgIGRhdGE6IHBhcmFtc1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9KTtcblxufTtcblxufSx7fV0sODpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICgkLCBNKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvLyBTZXR1cFxuICAgIE0ubWVtX2VkaXRvciA9IHt9O1xuXG4gICAgLy8gU2hvcnRjdXRcbiAgICB2YXIgc2VsZiA9IE0ubWVtX2VkaXRvcjtcblxuICAgICQuZXh0ZW5kKHRydWUsIE0ubWVtX2VkaXRvciwge1xuXG4gICAgICAgIG9wZW5fdHV0b3JpYWw6IGZ1bmN0aW9uIChjYWxsYmFjaywgc2hvd19vdmVybGF5KSB7XG4gICAgICAgICAgICBuZXcgTUVNUklTRS51aS5Nb2RhbFNsaWRlcygnbWVtLWNyZWF0aW9uJywge1xuICAgICAgICAgICAgICAgIHNraXBwYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBjbGFzc19uYW1lczogJ21lbS1jcmVhdGlvbi1tZW0tZWRpdG9yJyxcbiAgICAgICAgICAgICAgICBvbl9jbG9zZTogY2FsbGJhY2ssXG4gICAgICAgICAgICAgICAgc2hvd19vdmVybGF5OiAodHlwZW9mIHNob3dfb3ZlcmxheSAhPT0gJ3VuZGVmaW5lZCcpID8gc2hvd19vdmVybGF5IDogdHJ1ZVxuICAgICAgICAgICAgfSkub3BlbigpO1xuICAgICAgICB9LFxuXG4gICAgICAgIG9wZW46IGZ1bmN0aW9uIChsZWFybmFibGUsIGNhbGxiYWNrLCBtZW1fZGljdCkge1xuICAgICAgICAgICAgaWYgKCFNLnVzZXIucHJvZmlsZS5zZXR0aW5ncy5tZW1fY3JlYXRpb25fdHV0b3JpYWxfc2Vlbikge1xuICAgICAgICAgICAgICAgIHNlbGYub3Blbl90dXRvcmlhbChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIE0udXNlci5wcm9maWxlLnNldHRpbmdzLm1lbV9jcmVhdGlvbl90dXRvcmlhbF9zZWVuID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgTS5wcm9maWxlLnVwZGF0ZV9qc29uX3NldHRpbmcoJ21lbV9jcmVhdGlvbl90dXRvcmlhbF9zZWVuJywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYub3BlbihsZWFybmFibGUsIGNhbGxiYWNrLCBtZW1fZGljdCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBEb24ndCBvcGVuIGlmIGFscmVhZHkgb3Blbi5cbiAgICAgICAgICAgIGlmIChzZWxmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgbWVtX2RpY3QgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgICAgICBtZW1fZGljdCA9IG51bGw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIE5lZWQgcmVuZGVyZXIgJiBmYWJyaWMgZm9yIGNhbnZhcyBlZGl0aW5nIHRvIGxvYWQgYmVmb3JlIG9wZW5pbmdcbiAgICAgICAgICAgIE0ucmVuZGVyZXIucmVhZHkoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGpRdWVyeS5sb2FkSWZORGVmU2NyaXB0KHNlbGYsICdNb2RhbCcsIE0udXJscy5tZW1FZGl0b3IsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGYuY3VycmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgc2VsZi5jdXJyZW50ID0gbmV3IHNlbGYuTW9kYWwobGVhcm5hYmxlLCBjYWxsYmFjaywgbWVtX2RpY3QpO1xuXG4gICAgICAgICAgICAgICAgICAgIF8oc2VsZikuZW1pdCgnb3BlbmVkJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgXyhzZWxmLmN1cnJlbnQpLm9uKCdjbG9zZWQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgc2VsZi5jdXJyZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgXyhzZWxmKS5lbWl0KCdjbG9zZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB9XG5cbiAgICB9KTtcblxufTtcblxufSx7fV0sOTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICgkLCBNLCBfLCBIYW5kbGViYXJzKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvLyBTZXR1cFxuICAgIE0ubWVtcyA9IHt9O1xuICAgIC8vIFNob3J0Y3V0XG4gICAgdmFyIHNlbGYgPSBNLm1lbXM7XG5cbiAgICAkLmV4dGVuZCh0cnVlLCBNLm1lbXMsIHtcbiAgICAgICAgLy8gT24tbWVtIGNvbnRyb2xzLlxuXG4gICAgICAgIGZsYWdfcHJlc3M6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBtZW1faWQgPSAkKHRoaXMpLmRhdGFBdHRyKCdtZW0taWQnKTtcbiAgICAgICAgICAgIE0ubW9kYWwueWVzX25vKFxuICAgICAgICAgICAgICAgIF90KFwiRmxhZyB0aGlzIG1lbSBhcyBpbmFwcHJvcHJpYXRlP1wiKSxcbiAgICAgICAgICAgICAgICBfdChcIllvdSB3aWxsIG5vdCBzZWUgdGhpcyBtZW0gYWdhaW4gYW5kIGEgbWVtYmVyIG9mIHN0YWZmIHdpbGwgYmUgYWxlcnRlZCB0byBjaGVjayBpdHMgY29udGVudC4gX19icl9fIEFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBnbyBhaGVhZD9cIiwge2JyOiBcIjxiciAvPlwifSksXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLmZsYWcobWVtX2lkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9LFxuXG4gICAgICAgIGZsYWc6IGZ1bmN0aW9uIChtZW1faWQpIHtcbiAgICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAgICAgdHlwZTogJ1BPU1QnLFxuICAgICAgICAgICAgICAgIHVybDogXCIvYWpheC9tZW0vZmxhZy9cIixcbiAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICdtZW1faWQnOiBtZW1faWRcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChzdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfKHNlbGYpLmVtaXQoJ2ZsYWdnZWQnLCBbbWVtX2lkXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcblxuICAgICAgICBmbGFnZ2VkX3ByZXNzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBNLm1vZGFsLmluZm8oXG4gICAgICAgICAgICAgICAgX3QoXCJGbGFnZ2VkXCIpLFxuICAgICAgICAgICAgICAgIF90KFwiWW91IGhhdmUgZmxhZ2dlZCB0aGlzIG1lbSBhcyBpbmFwcHJvcHJpYXRlIC0gc3RhZmYgbWVtYmVycyB3aWxsIGNoZWNrIGl0cyBjb250ZW50LlwiKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSxcblxuICAgICAgICBjcmVhdGU6IGZ1bmN0aW9uIChsZWFybmFibGUpIHtcbiAgICAgICAgICAgIE0ubWVtX2VkaXRvci5vcGVuKGxlYXJuYWJsZSwgTS5tZW1zLmNyZWF0ZWRfYnJvYWRjYXN0KTtcbiAgICAgICAgfSxcblxuICAgICAgICBjcmVhdGVkX2Jyb2FkY2FzdDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgXyhzZWxmKS5lbWl0KCdjcmVhdGVkJywgYXJndW1lbnRzKTtcbiAgICAgICAgfSxcblxuICAgICAgICBlZGl0X3ByZXNzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgbWVtX2lkID0gJCh0aGlzKS5kYXRhQXR0cignbWVtLWlkJyksXG4gICAgICAgICAgICAgICAgY29sdW1uX2EgPSAkKHRoaXMpLmRhdGFBdHRyKCdjb2x1bW4tYScpLFxuICAgICAgICAgICAgICAgIGNvbHVtbl9iID0gJCh0aGlzKS5kYXRhQXR0cignY29sdW1uLWInKSxcbiAgICAgICAgICAgICAgICB0aGluZ19pZCA9ICQodGhpcykuZGF0YUF0dHIoJ3RoaW5nLWlkJyk7XG4gICAgICAgICAgICBzZWxmLmVkaXQobWVtX2lkLCB0aGluZ19pZCwgY29sdW1uX2EsIGNvbHVtbl9iKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSxcblxuICAgICAgICBlZGl0OiBmdW5jdGlvbiAobWVtX2lkLCB0aGluZ19pZCwgY29sdW1uX2EsIGNvbHVtbl9iKSB7XG4gICAgICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgICAgIHR5cGU6ICdHRVQnLFxuICAgICAgICAgICAgICAgIHVybDogJy9hcGkvbWVtL2dldC8nLFxuICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgJ21lbV9pZCc6IG1lbV9pZCxcbiAgICAgICAgICAgICAgICAgICAgJ3RoaW5nX2lkJzogdGhpbmdfaWQsXG4gICAgICAgICAgICAgICAgICAgICdjb2x1bW5fYSc6IGNvbHVtbl9hLFxuICAgICAgICAgICAgICAgICAgICAnY29sdW1uX2InOiBjb2x1bW5fYlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgTS5tZW1fZWRpdG9yLm9wZW4oZGF0YS5sZWFybmFibGUsIHNlbGYuZWRpdGVkX2Jyb2FkY2FzdCwgZGF0YS5tZW0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIGVkaXRlZF9icm9hZGNhc3Q6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF8oc2VsZikuZW1pdCgnZWRpdGVkJywgYXJndW1lbnRzKTtcbiAgICAgICAgfSxcblxuICAgICAgICByZW1vdmVfcHJlc3M6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBtZW1faWQgPSAkKHRoaXMpLmRhdGFBdHRyKCdtZW0taWQnKSxcbiAgICAgICAgICAgICAgICB0aGluZ19pZCA9ICQodGhpcykuZGF0YUF0dHIoJ3RoaW5nLWlkJyk7XG5cbiAgICAgICAgICAgIE0ubW9kYWwueWVzX25vKFxuICAgICAgICAgICAgICAgIF90KFwiUmVtb3ZlIG1lbT9cIiksXG4gICAgICAgICAgICAgICAgX3QoXCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gcmVtb3ZlIHRoaXMgbWVtIGZyb20gdGhpcyB3b3JkPyBJZiBpdCBpcyBhdHRhY2hlZCB0byBvdGhlciB3b3JkcyBvbiB0aGUgc2l0ZSwgaXQgd2lsbCByZW1haW4gdGhlcmUuXCIpLFxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5yZW1vdmUobWVtX2lkLCB0aGluZ19pZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9LFxuXG4gICAgICAgIHJlbW92ZTogZnVuY3Rpb24gKG1lbV9pZCwgdGhpbmdfaWQpIHtcbiAgICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAgICAgdHlwZTogJ1BPU1QnLFxuICAgICAgICAgICAgICAgIHVybDogXCIvYWpheC9tZW0vcmVtb3ZlL1wiLFxuICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgJ21lbV9pZCc6IG1lbV9pZCxcbiAgICAgICAgICAgICAgICAgICAgJ3RoaW5nX2lkJzogdGhpbmdfaWRcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF8oc2VsZikuZW1pdCgnZGVsZXRlZCcsIFtkYXRhLm1lbV9pZF0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZGVsZXRlX3ByZXNzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgbWVtX2lkID0gJCh0aGlzKS5kYXRhQXR0cignbWVtLWlkJyk7XG5cbiAgICAgICAgICAgIE0ubW9kYWwueWVzX25vKFxuICAgICAgICAgICAgICAgIF90KFwiRGVsZXRlIG1lbT9cIiksXG4gICAgICAgICAgICAgICAgX3QoXCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIHRoaXMgbWVtP1wiKSxcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuZGVsZXRlX21lbShtZW1faWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSxcblxuICAgICAgICBkZWxldGVfbWVtOiBmdW5jdGlvbiAobWVtX2lkKSB7XG4gICAgICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICB1cmw6IFwiL2FqYXgvbWVtL2RlbGV0ZS9cIixcbiAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICdtZW1faWQnOiBtZW1faWRcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF8oc2VsZikuZW1pdCgnZGVsZXRlZCcsIFtkYXRhLm1lbV9pZF0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgY2hvb3NlX21lbTogZnVuY3Rpb24gKGxlYXJuYWJsZV9pZCwgbWVtX2lkKSB7XG4gICAgICAgICAgICAvLyBSZWdpc3RlciB0aGF0IHlvdSBoYXZlIHNlbGVjdGVkIGEgbWVtIGZvciBhIHRoaW5nXG4gICAgICAgICAgICB2YXIgZGF0YSA9IHtsZWFybmFibGVfaWQ6IGxlYXJuYWJsZV9pZCwgbWVtX2lkOiBtZW1faWR9O1xuXG4gICAgICAgICAgICBfKHNlbGYpLmVtaXQoJ2Nob29zZS1zZW5kaW5nJywgW2xlYXJuYWJsZV9pZCwgbWVtX2lkXSk7XG5cbiAgICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAgICAgdXJsOiAnL2FwaS9tZW0vY2hvb3NlLycsXG4gICAgICAgICAgICAgICAgdHlwZTogJ3Bvc3QnLFxuICAgICAgICAgICAgICAgIGRhdGE6IGRhdGEsXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgXyhzZWxmKS5lbWl0KCdjaG9zZW4nLCBbZGF0YS5tZW0sIGRhdGEudGhpbmd1c2VyXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgTS5yZW5kZXJlci5yZWFkeShmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIE1lbSBoYW5kbGVycy4uLlxuICAgICAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnLm1lbS1lZGl0LWJ1dHRvbicsIHNlbGYuZWRpdF9wcmVzcyk7XG4gICAgICAgICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcubWVtLWZsYWctYnV0dG9uJywgc2VsZi5mbGFnX3ByZXNzKTtcbiAgICAgICAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgJy5tZW0tZmxhZ2dlZC1idXR0b24nLCBzZWxmLmZsYWdnZWRfcHJlc3MpO1xuICAgICAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnLm1lbS1yZW1vdmUtYnV0dG9uJywgc2VsZi5yZW1vdmVfcHJlc3MpO1xuICAgICAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnLm1lbS1kZWxldGUtYnV0dG9uJywgc2VsZi5kZWxldGVfcHJlc3MpO1xuICAgIH0pO1xufTtcblxufSx7fV0sMTA6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoQ2xhc3MsIF8sICQsIE0pIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIE0uTWVtU3RyZWFtID0gQ2xhc3MuY3JlYXRlKHtcbiAgICAgICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24gKG1lbXMsIGxlYXJuYWJsZXMsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHZhciBkZWZhdWx0cyA9IHtcbiAgICAgICAgICAgICAgICAvLyAkZWxlbSBzaG91bGQgYmUgYSBkaXYubWVtc3RyZWFtLCB3aXRoIGEgZGl2LmVtcHR5LW1lc3NhZ2VcbiAgICAgICAgICAgICAgICAvLyBpbnNpZGUgdGhhdCB3aWxsIGdldCBzaG93biBpZiB0aGVyZSBhcmUgbm8gbWVtcy5cbiAgICAgICAgICAgICAgICAkZWxlbTogJChudWxsKSxcbiAgICAgICAgICAgICAgICAvLyBSZW5kZXIgb3B0aW9uc1xuICAgICAgICAgICAgICAgIG1lbV9vcHRpb25zOiB7fSxcbiAgICAgICAgICAgICAgICAvLyBBY3RpdmF0ZSBtYXNvbnJ5P1xuICAgICAgICAgICAgICAgIG1hc29ucnk6IGZhbHNlXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgb3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBkZWZhdWx0cywgb3B0aW9ucyk7XG5cbiAgICAgICAgICAgIHRoaXMuJGVsZW0gPSBvcHRpb25zLiRlbGVtO1xuICAgICAgICAgICAgdGhpcy5tZW1zID0gbWVtcztcbiAgICAgICAgICAgIHRoaXMubGVhcm5hYmxlcyA9IGxlYXJuYWJsZXM7XG4gICAgICAgICAgICB0aGlzLm1lbV9vcHRpb25zID0gb3B0aW9ucy5tZW1fb3B0aW9ucztcbiAgICAgICAgICAgIHRoaXMubWFzb25yeSA9IG9wdGlvbnMubWFzb25yeTtcblxuICAgICAgICAgICAgLy8gMCBtZW1zID0gOihcbiAgICAgICAgICAgIGlmICh0aGlzLm1lbXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy4kZWxlbS5maW5kKCcuZW1wdHktbWVzc2FnZScpLnNob3coKTtcbiAgICAgICAgICAgICAgICAkKCcuaW5maW5pdGUtc2Nyb2xsZXInKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmJpbmQoKTtcblxuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICAgICAgaWYgKHRoaXMubWFzb25yeSkge1xuICAgICAgICAgICAgICAgICQubG9hZElmTkRlZlNjcmlwdChcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LFxuICAgICAgICAgICAgICAgICAgICAnbWFzb24nLFxuICAgICAgICAgICAgICAgICAgICBcImRpc3QvanMvbWFzb25yeS5wa2dkLm1pbi5qcz92PTExXCIsXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuYWRkX21hc29ucnkoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYubG9hZF9uZXh0KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvYWRfbmV4dCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnN0YXJ0X29ic2VydmVycygpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGRlc3Ryb3k6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoaXMuJGVsZW0gPSAkKG51bGwpO1xuICAgICAgICAgICAgdGhpcy4kbG9hZGluZyA9ICQobnVsbCk7XG4gICAgICAgICAgICB0aGlzLiRtZW1zID0gJChudWxsKTtcblxuICAgICAgICAgICAgLy8gU3RvcCBsb2FkaW5nIGNhbGxiYWNrcyBieSBnb2luZyB0byBlZGdlIGNvbmRpdGlvblxuICAgICAgICAgICAgdGhpcy5pID0gMDtcbiAgICAgICAgICAgIHRoaXMubWVtcyA9IFtdO1xuICAgICAgICAgICAgdGhpcy5sZWFybmFibGVzID0ge307XG4gICAgICAgIH0sXG5cbiAgICAgICAgYmluZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLy8gRmluZCBvciBtYWtlIG1lbXMgY29udGFpbmVyXG4gICAgICAgICAgICB0aGlzLiRtZW1zID0gdGhpcy4kZWxlbS5maW5kKCcubWVtcycpO1xuICAgICAgICAgICAgaWYgKHRoaXMuJG1lbXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy4kZWxlbS5wcmVwZW5kKCc8ZGl2IGNsYXNzPVwibWVtc1wiPjwvZGl2PicpO1xuICAgICAgICAgICAgICAgIHRoaXMuJG1lbXMgPSB0aGlzLiRlbGVtLmZpbmQoJy5tZW1zJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuJGxvYWRpbmcgPSAkKCc8ZGl2IGNsYXNzPVwibG9hZGluZyBjZW50ZXIgaGlkZVwiPjxkaXYgY2xhc3M9XCJsb2FkaW5nLXNwaW5uZXJcIj48L2Rpdj48L2Rpdj4nKTtcbiAgICAgICAgICAgIHRoaXMuJG1lbXMuYWZ0ZXIodGhpcy4kbG9hZGluZyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgbG9hZGluZzogZmFsc2UsXG4gICAgICAgIGk6IDAsXG5cbiAgICAgICAgbG9hZF9uZXh0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5pID09PSB0aGlzLm1lbXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy4kbG9hZGluZy5oaWRlKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLiRsb2FkaW5nLnNob3coKTtcbiAgICAgICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgbWVtID0gdGhpcy5tZW1zW3RoaXMuaV0sXG4gICAgICAgICAgICAgICAgbGVhcm5hYmxlID0gdGhpcy5sZWFybmFibGVGb3JNZW0obWVtKSxcbiAgICAgICAgICAgICAgICBodG1sID0gTS5yZW5kZXJlci5yZW5kZXJfbWVtKG1lbSwgbGVhcm5hYmxlLCB0aGlzLm1lbV9vcHRpb25zKSxcbiAgICAgICAgICAgICAgICAkbWVtID0gJChodG1sKTtcblxuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICAgICAgJG1lbS5pbWFnZXNMb2FkZWQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHNlbGYubWVtX2xvYWRlZCgkbWVtKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIGxlYXJuYWJsZUZvck1lbTogZnVuY3Rpb24gKG1lbSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubGVhcm5hYmxlc1ttZW0ubGVhcm5hYmxlX2lkXTtcbiAgICAgICAgfSxcblxuICAgICAgICBtZW1fbG9hZGVkOiBmdW5jdGlvbiAoJG1lbSkge1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgICAgICBNLnJlbmRlcmVyLmRvX2VtYmVkcygkbWVtKTtcblxuICAgICAgICAgICAgdGhpcy4kbWVtcy5hcHBlbmQoJG1lbSk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLm1hc29ucnkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLiRtZW1zLm1hc29ucnkoJ2FwcGVuZGVkJywgJG1lbSk7XG5cbiAgICAgICAgICAgICAgICAvLyB0cnkgdG8gcmVsYXlvdXQgc28gaG9wZWZ1bGx5IGVtYmVkZGVkIG1lbXMgd29ya1xuICAgICAgICAgICAgICAgIC8vIFRPRE86IG5lZWQgYSBtb3JlIHJlbGlhYmxlIG1ldGhvZCBvZiBkb2luZyB0aGlzXG4gICAgICAgICAgICAgICAgJC5kb1RpbWVvdXQoJ21lbXN0cmVhbV9tYXNvbnJ5JywgMjAwMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLiRtZW1zLm1hc29ucnkoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gTmV4dFxuICAgICAgICAgICAgdGhpcy5pICs9IDE7XG4gICAgICAgICAgICAkLmRvVGltZW91dCgyMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHNlbGYubG9hZF9uZXh0KCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcblxuICAgICAgICBhZGRfbWFzb25yeTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy4kbWVtcy5hZGRDbGFzcygnbWFzb25yeScpXG4gICAgICAgICAgICAgICAgLm1hc29ucnkoe1xuICAgICAgICAgICAgICAgICAgICBpdGVtU2VsZWN0b3I6ICcubWVtJyxcbiAgICAgICAgICAgICAgICAgICAgaXNGaXRXaWR0aDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uV2lkdGg6IDMwMCxcbiAgICAgICAgICAgICAgICAgICAgZ3V0dGVyOiAxMCAgLy8gdGhpcyBtdXN0IG1hdGNoIHZhbCBpbiBfbWVtLnNjc3NcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcblxuICAgICAgICBzdGFydF9vYnNlcnZlcnM6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoaXMub25fZGVsZXRlZCA9IHRoaXMub25fZmxhZ2dlZCA9IF8uYmluZCh0aGlzLm9uX2RlbGV0ZWQsIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5vbl9lZGl0ZWQgPSBfLmJpbmQodGhpcy5vbl9lZGl0ZWQsIHRoaXMpO1xuXG4gICAgICAgICAgICBfKE0ubWVtcykub24oJ2RlbGV0ZWQnLCB0aGlzLm9uX2RlbGV0ZWQpO1xuICAgICAgICAgICAgXyhNLm1lbXMpLm9uKCdmbGFnZ2VkJywgdGhpcy5vbl9mbGFnZ2VkKTtcbiAgICAgICAgICAgIF8oTS5tZW1zKS5vbignZWRpdGVkJywgdGhpcy5vbl9lZGl0ZWQpO1xuICAgICAgICB9LFxuXG4gICAgICAgIG9uX2RlbGV0ZWQ6IGZ1bmN0aW9uIChtZW1faWQpIHtcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcyxcbiAgICAgICAgICAgICAgICAkbWVtID0gdGhpcy4kZWxlbS5maW5kKCcubWVtW2RhdGEtbWVtLWlkPScgKyBtZW1faWQgKyAnXScpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5tYXNvbnJ5KSB7XG4gICAgICAgICAgICAgICAgdGhpcy4kbWVtcy5tYXNvbnJ5KCdyZW1vdmUnLCAkbWVtKTtcbiAgICAgICAgICAgICAgICAkLmRvVGltZW91dCg1MDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi4kbWVtcy5tYXNvbnJ5KCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICRtZW0uc2xpZGVVcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIG9uX2VkaXRlZDogZnVuY3Rpb24gKG1lbSkge1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgICAgICAgICAgIGxlYXJuYWJsZSA9IHRoaXMubGVhcm5hYmxlRm9yTWVtKG1lbSksXG4gICAgICAgICAgICAgICAgaHRtbCA9IE0ucmVuZGVyZXIucmVuZGVyX21lbShtZW0sIGxlYXJuYWJsZSwgc2VsZi5tZW1fb3B0aW9ucyksXG4gICAgICAgICAgICAgICAgJG1lbSA9ICQoaHRtbCk7XG5cbiAgICAgICAgICAgIE0ucmVuZGVyZXIuZG9fZW1iZWRzKCRtZW0pO1xuXG4gICAgICAgICAgICB0aGlzLiRlbGVtLmZpbmQoJy5tZW1bZGF0YS1tZW0taWQ9JyArIG1lbS5pZCArICddJylcbiAgICAgICAgICAgICAgICAucmVwbGFjZVdpdGgoJG1lbSk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLm1hc29ucnkpIHtcbiAgICAgICAgICAgICAgICAkLmRvVGltZW91dCg1MDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi4kbWVtcy5tYXNvbnJ5KCdyZWxvYWQnKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgfSk7XG5cbn07XG5cbn0se31dLDExOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKCQsIE0pIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIC8vIFNldHVwXG4gICAgTS5wcm9maWxlID0ge307XG5cbiAgICAkLmV4dGVuZCh0cnVlLCBNLnByb2ZpbGUsIHtcblxuICAgICAgICB1cGRhdGVfanNvbl9zZXR0aW5nOiBmdW5jdGlvbiAoa2V5LCB2YWx1ZSwgY2FsbGJhY2spIHtcbiAgICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAgICAgdXJsOiAnL2FqYXgvYWNjb3VudHMvdXBkYXRlX3NldHRpbmcvJyxcbiAgICAgICAgICAgICAgICB0eXBlOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzKSB7XG4gICAgICAgICAgICAgICAgICAgIE0udXNlci5wcm9maWxlLnNldHRpbmdzW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2socmVzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICB9KTtcblxuICAgICQoJyNkaXNjb25uZWN0Jykub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICB1cmw6ICcvYWNjb3VudHMvZGlzY29ubmVjdC9mYWNlYm9vay8nLFxuICAgICAgICAgICAgdHlwZTogJ1BPU1QnLFxuICAgICAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuc3RhdHVzID09PSAyMDApIHtcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uID0gJy9ob21lLz9kaXNjb25uZWN0ZWQ9dHJ1ZSdcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIE0ubW9kYWwuZXJyb3IoX3QoJ09vcHMsIHNvbWV0aGluZyB3ZW50IHdyb25nLiBQbGVhc2UgdHJ5IGFnYWluIGxhdGVyIScpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbn07XG5cbn0se31dLDEyOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKF8sIENsYXNzLCAkLCBNKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICB2YXIgSG92ZXJDYXJkLFxuICAgICAgICBzZXR0aW5ncyA9IHtcbiAgICAgICAgICAgIG1vdXNlbGVhdmVfdGhyZXNob2xkOiA1MDAsXG4gICAgICAgICAgICB0cmlnZ2VyX3NwYWNpbmc6IDIwXG4gICAgICAgIH0sXG4gICAgICAgIHNlbGVjdG9ycyA9IHtcbiAgICAgICAgICAgIGhvdmVyY2FyZDogJy5ob3ZlcmNhcmQnXG4gICAgICAgIH0sXG4gICAgICAgIGNsYXNzX25hbWVzID0ge1xuICAgICAgICAgICAgZGlyZWN0aW9uczoge1xuICAgICAgICAgICAgICAgIGxlZnQ6ICdob3ZlcmNhcmQtbGVmdCcsXG4gICAgICAgICAgICAgICAgcmlnaHQ6ICdob3ZlcmNhcmQtcmlnaHQnLFxuICAgICAgICAgICAgICAgIHRvcDogJ2hvdmVyY2FyZC10b3AnLFxuICAgICAgICAgICAgICAgIGJvdHRvbTogJ2hvdmVyY2FyZC1ib3R0b20nXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICBIb3ZlckNhcmQgPSBDbGFzcy5jcmVhdGUoe1xuXG4gICAgICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uICgkdHJpZ2dlciwgdXNlciwgZGlyZWN0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLnVzZXIgPSB1c2VyO1xuICAgICAgICAgICAgdGhpcy5kaXJlY3Rpb24gPSBkaXJlY3Rpb24gfHwgJ3JpZ2h0JztcbiAgICAgICAgICAgIHRoaXMuJHRyaWdnZXIgPSAkdHJpZ2dlcjtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgc2V0X3VzZXI6IGZ1bmN0aW9uICh1c2VyKSB7XG4gICAgICAgICAgICB0aGlzLnVzZXIgPSB1c2VyO1xuICAgICAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICAgICAgfSxcblxuICAgICAgICB1cGRhdGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLiRjYXJkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kZXN0cm95KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLiRjYXJkID0gdGhpcy5yZW5kZXIoKTtcbiAgICAgICAgICAgIHRoaXMuYWxpZ24oKTtcbiAgICAgICAgICAgIHRoaXMuJGVsZW1lbnRzID0gdGhpcy4kY2FyZC5hZGQodGhpcy4kdHJpZ2dlcik7XG4gICAgICAgICAgICB0aGlzLiRlbGVtZW50cy5kYXRhKCdob3ZlcmNhcmQnLCB0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuYmluZCgpO1xuICAgICAgICB9LFxuXG4gICAgICAgIHJlbmRlcjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIG11c191c2VyID0gbnVsbDtcblxuICAgICAgICAgICAgaWYgKHRoaXMudXNlcikge1xuICAgICAgICAgICAgICAgIG11c191c2VyID0gTS51c2Vycy5nZXRfY29udGV4dCh0aGlzLnVzZXIpO1xuICAgICAgICAgICAgICAgIG11c191c2VyID0gdGhpcy5zZXRVcEJhZGdlSW5mbyhtdXNfdXNlcik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciAkY2FyZCA9ICQoTUVNUklTRS5yZW5kZXJlci5yZW5kZXIoXG4gICAgICAgICAgICAgICAgJ2hvdmVyY2FyZCcsXG4gICAgICAgICAgICAgICAgeyd0aGVfdXNlcic6IG11c191c2VyfVxuICAgICAgICAgICAgKSk7XG4gICAgICAgICAgICAkY2FyZC5hcHBlbmRUbygnYm9keScpO1xuXG4gICAgICAgICAgICAkKCcqW2RhdGEtdG9nZ2xlPVwidG9vbHRpcFwiXScpLnRvb2x0aXAoKTtcblxuICAgICAgICAgICAgcmV0dXJuICRjYXJkO1xuICAgICAgICB9LFxuXG4gICAgICAgIHNldFVwQmFkZ2VJbmZvOiBmdW5jdGlvbiAodXNlcl9kYXRhKSB7XG4gICAgICAgICAgICB2YXIgYmFkZ2VzID0gdXNlcl9kYXRhLmJhZGdlcztcblxuICAgICAgICAgICAgaWYoYmFkZ2VzLmdvYWxfc3RyZWFrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGxldmVsID0gYmFkZ2VzLmdvYWxfc3RyZWFrLmxldmVsICUgMzUsXG4gICAgICAgICAgICAgICAgY29sb3IgPSBcIlwiO1xuXG4gICAgICAgICAgICAgICAgaWYobGV2ZWwgPiAyOSkgY29sb3IgPSBcImM1XCI7XG4gICAgICAgICAgICAgICAgZWxzZSBpZihsZXZlbCA+IDE5KSBjb2xvciA9IFwiYzRcIjtcbiAgICAgICAgICAgICAgICBlbHNlIGlmKGxldmVsID4gMTQpIGNvbG9yID0gXCJjM1wiO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYobGV2ZWwgPiA2KSBjb2xvciA9IFwiYzJcIjtcbiAgICAgICAgICAgICAgICBlbHNlIGlmKGxldmVsID4gMikgY29sb3IgPSBcImMxXCI7XG4gICAgICAgICAgICAgICAgZWxzZSBjb2xvciA9IFwiYzBcIjtcblxuICAgICAgICAgICAgICAgIHVzZXJfZGF0YS5iYWRnZXMuZ29hbF9zdHJlYWsuY29sb3IgPSBjb2xvcjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHVzZXJfZGF0YTtcbiAgICAgICAgfSxcblxuICAgICAgICBnZXRfYWxpZ25tZW50OiBmdW5jdGlvbiAoZGlyZWN0aW9uKSB7XG4gICAgICAgICAgICB2YXIgdHJpZ2dlcl9wb3MgPSB0aGlzLiR0cmlnZ2VyLm9mZnNldCgpLFxuICAgICAgICAgICAgICAgIHggPSAwLCB5ID0gMDtcblxuICAgICAgICAgICAgaWYgKGRpcmVjdGlvbiA9PT0gJ3RvcCcgfHwgZGlyZWN0aW9uID09PSAnYm90dG9tJykge1xuICAgICAgICAgICAgICAgIHggPSB0cmlnZ2VyX3Bvcy5sZWZ0ICsgKCB0aGlzLiR0cmlnZ2VyLm91dGVyV2lkdGgoKSAtIHRoaXMuJGNhcmQub3V0ZXJXaWR0aCgpICkgLyAyO1xuXG4gICAgICAgICAgICAgICAgaWYgKGRpcmVjdGlvbiA9PT0gJ3RvcCcpIHtcbiAgICAgICAgICAgICAgICAgICAgeSA9IHRyaWdnZXJfcG9zLnRvcCAtIHRoaXMuJGNhcmQub3V0ZXJIZWlnaHQoKSAtIHNldHRpbmdzLnRyaWdnZXJfc3BhY2luZztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB5ID0gdHJpZ2dlcl9wb3MudG9wICsgdGhpcy4kdHJpZ2dlci5vdXRlckhlaWdodCgpICsgc2V0dGluZ3MudHJpZ2dlcl9zcGFjaW5nO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGRpcmVjdGlvbiA9PT0gJ2xlZnQnIHx8IGRpcmVjdGlvbiA9PT0gJ3JpZ2h0Jykge1xuICAgICAgICAgICAgICAgIHkgPSB0cmlnZ2VyX3Bvcy50b3AgKyAoIHRoaXMuJHRyaWdnZXIub3V0ZXJIZWlnaHQoKSAtIHRoaXMuJGNhcmQub3V0ZXJIZWlnaHQoKSApIC8gMjtcblxuICAgICAgICAgICAgICAgIGlmIChkaXJlY3Rpb24gPT09ICdsZWZ0Jykge1xuICAgICAgICAgICAgICAgICAgICB4ID0gdHJpZ2dlcl9wb3MubGVmdCAtIHRoaXMuJGNhcmQub3V0ZXJXaWR0aCgpIC0gc2V0dGluZ3MudHJpZ2dlcl9zcGFjaW5nO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHggPSB0cmlnZ2VyX3Bvcy5sZWZ0ICsgdGhpcy4kdHJpZ2dlci5vdXRlcldpZHRoKCkgKyBzZXR0aW5ncy50cmlnZ2VyX3NwYWNpbmc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHggOiB4LFxuICAgICAgICAgICAgICAgIHk6IHlcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG5cbiAgICAgICAgYWxpZ246IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBwb3MgPSB0aGlzLmdldF9hbGlnbm1lbnQodGhpcy5kaXJlY3Rpb24pLFxuICAgICAgICAgICAgICAgIHdpbiA9ICQod2luZG93KSxcbiAgICAgICAgICAgICAgICB3aW5fd2lkdGggPSB3aW4ud2lkdGgoKSxcbiAgICAgICAgICAgICAgICB3aW5faGVpZ2h0ID0gd2luLmhlaWdodCgpLFxuICAgICAgICAgICAgICAgIHdpbl9vcmlnaW5feCA9IHdpbi5zY3JvbGxMZWZ0KCksXG4gICAgICAgICAgICAgICAgd2luX29yaWdpbl95ID0gd2luLnNjcm9sbFRvcCgpLFxuICAgICAgICAgICAgICAgIHJlX2FsaWduID0gZmFsc2UsXG4gICAgICAgICAgICAgICAgdXNlZF9kaXJlY3Rpb24gPSB0aGlzLmRpcmVjdGlvbixcbiAgICAgICAgICAgICAgICBpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5kaXJlY3Rpb24gPT09ICdsZWZ0JyAmJiBwb3MueCA8IHdpbl9vcmlnaW5feCkge1xuICAgICAgICAgICAgICAgIHJlX2FsaWduID0gJ3JpZ2h0JztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5kaXJlY3Rpb24gPT09ICdyaWdodCcgJiYgcG9zLnggKyB0aGlzLiRjYXJkLm91dGVyV2lkdGgoKSA+IHdpbl9vcmlnaW5feCArIHdpbl93aWR0aCkge1xuICAgICAgICAgICAgICAgIHJlX2FsaWduID0gJ2xlZnQnO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmRpcmVjdGlvbiA9PT0gJ3RvcCcgJiYgcG9zLnkgPCB3aW5fb3JpZ2luX3kpIHtcbiAgICAgICAgICAgICAgICByZV9hbGlnbiA9ICdib3R0b20nO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmRpcmVjdGlvbiA9PT0gJ2JvdHRvbScgJiYgcG9zLnkgKyB0aGlzLiRjYXJkLm91dGVySGVpZ2h0KCkgPiB3aW5fb3JpZ2luX3kgKyB3aW5faGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgcmVfYWxpZ24gPSAndG9wJztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHJlX2FsaWduKSB7XG4gICAgICAgICAgICAgICAgcG9zID0gdGhpcy5nZXRfYWxpZ25tZW50KHJlX2FsaWduKTtcbiAgICAgICAgICAgICAgICB1c2VkX2RpcmVjdGlvbiA9IHJlX2FsaWduO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgY2xhc3NfbmFtZXMuZGlyZWN0aW9ucy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgICAgIHRoaXMuJGNhcmQucmVtb3ZlQ2xhc3MoY2xhc3NfbmFtZXMuZGlyZWN0aW9uc1tpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLiRjYXJkLmFkZENsYXNzKGNsYXNzX25hbWVzLmRpcmVjdGlvbnNbdXNlZF9kaXJlY3Rpb25dKTtcblxuICAgICAgICAgICAgdGhpcy4kY2FyZC5jc3MoeyBsZWZ0OiBwb3MueCwgdG9wOiBwb3MueSB9KTtcbiAgICAgICAgfSxcblxuICAgICAgICBiaW5kOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgICAgIHRoaXMuJGVsZW1lbnRzLm9uKCdtb3VzZWVudGVyJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHNlbGYub25fbW91c2VfZW50ZXIoKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLiRlbGVtZW50cy5vbignbW91c2VsZWF2ZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBzZWxmLm9uX21vdXNlX2xlYXZlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcblxuICAgICAgICBkZXN0cm95OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aGlzLiRlbGVtZW50cy5vZmYoJ21vdXNlZW50ZXInKS5vZmYoJ21vdXNlbGVhdmUnKTtcbiAgICAgICAgICAgIHRoaXMuJGNhcmQucmVtb3ZlKCk7XG4gICAgICAgICAgICB0aGlzLiR0cmlnZ2VyLnJlbW92ZURhdGEoJ2hvdmVyY2FyZCcpO1xuICAgICAgICB9LFxuXG4gICAgICAgIG9uX21vdXNlX2VudGVyOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5ob3Zlcl90aW1lcikge1xuICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmhvdmVyX3RpbWVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBvbl9tb3VzZV9sZWF2ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5ob3Zlcl90aW1lcikge1xuICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmhvdmVyX3RpbWVyKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5ob3Zlcl90aW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHNlbGYuZGVzdHJveSgpO1xuICAgICAgICAgICAgfSwgc2V0dGluZ3MubW91c2VsZWF2ZV90aHJlc2hvbGQpO1xuICAgICAgICB9XG5cbiAgICB9KTtcblxuICAgIGlmICghXy5oYXMoTSwgJ3VpJykpIHtcbiAgICAgICAgTS51aSA9IHt9O1xuICAgIH1cbiAgICBNLnVpLkhvdmVyQ2FyZCA9IEhvdmVyQ2FyZDtcblxuICAgIC8vIEJpbmRpbmdzXG4gICAgdmFyIGNhY2hlZF91c2VycyA9IHt9O1xuXG4gICAgTS5yZW5kZXJlci5yZWFkeShmdW5jdGlvbigpIHtcbiAgICAgICAgJChkb2N1bWVudCkub24oJ21vdXNlZW50ZXInLCAnW2RhdGEtcm9sZT1cImhvdmVyY2FyZFwiXVtkYXRhLXVzZXItaWRdOnZpc2libGUnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgJHRyaWdnZXIgPSAkKHRoaXMpLFxuICAgICAgICAgICAgICAgIHVzZXJfaWQgPSBwYXJzZUludCgkdHJpZ2dlci5kYXRhQXR0cigndXNlci1pZCcpLCAxMCksXG4gICAgICAgICAgICAgICAgZGlyID0gJHRyaWdnZXIuZGF0YUF0dHIoJ2RpcmVjdGlvbicpLFxuICAgICAgICAgICAgICAgIGhvdmVyY2FyZCxcbiAgICAgICAgICAgICAgICB1c2VyID0gbnVsbDtcblxuICAgICAgICAgICAgaWYgKGNhY2hlZF91c2Vycy5oYXNPd25Qcm9wZXJ0eSh1c2VyX2lkKSkge1xuICAgICAgICAgICAgICAgIHVzZXIgPSBjYWNoZWRfdXNlcnNbdXNlcl9pZF07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgJHRyaWdnZXIuZGF0YSgnaG92ZXJjYXJkJykgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgJChzZWxlY3RvcnMuaG92ZXJjYXJkKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5kYXRhKCdob3ZlcmNhcmQnKS5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaG92ZXJjYXJkID0gbmV3IE0udWkuSG92ZXJDYXJkKCR0cmlnZ2VyLCB1c2VyLCBkaXIpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBob3ZlcmNhcmQgPSAkdHJpZ2dlci5kYXRhKCdob3ZlcmNhcmQnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHVzZXIgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgICAgICAgICB1cmw6ICcvYXBpL3VzZXIvZ2V0LycsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdHRVQnLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7dXNlcl9pZDogdXNlcl9pZCwgd2l0aF9sZWFkZXJib2FyZDogdHJ1ZX0sXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWNoZWRfdXNlcnNbdXNlcl9pZF0gPSBkYXRhLnVzZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICBob3ZlcmNhcmQuc2V0X3VzZXIoZGF0YS51c2VyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgIF8oTS51c2Vycykub24oJ2ZvbGxvdy1wcmVzcycsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIC8vIFVwZGF0ZSBvdXIga25vd2xlZGdlIGFib3V0IHRoaXMgdXNlciwgaW1wb3J0YW50bHkgZm9sbG93IHN0YXR1cy5cbiAgICAgICAgaWYgKF8uaGFzKGNhY2hlZF91c2VycywgZGF0YS51c2VyLmlkKSkge1xuICAgICAgICAgICAgY2FjaGVkX3VzZXJzW2RhdGEudXNlci5pZF0gPSAkLmV4dGVuZChjYWNoZWRfdXNlcnNbZGF0YS51c2VyLmlkXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS51c2VyKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG59O1xuXG59LHt9XSwxMzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChfLCBDbGFzcywgJCwgTSwgS0VZX0NPREVTKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICB2YXIgTW9kYWxTbGlkZXM7XG5cbiAgICBNb2RhbFNsaWRlcyA9IENsYXNzLmNyZWF0ZSh7XG5cbiAgICAgICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24gKHRlbXBsYXRlX25hbWUsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHZhciBiYXNlX2NsYXNzX25hbWUgPSAnbW9kYWwtc2xpZGVzLScgKyB0ZW1wbGF0ZV9uYW1lO1xuXG4gICAgICAgICAgICBpZiAoIW9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zID0ge307XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuc2hvd19vdmVybGF5ID0gXy5oYXMob3B0aW9ucywgJ3Nob3dfb3ZlcmxheScpID8gb3B0aW9ucy5zaG93X292ZXJsYXkgOiB0cnVlO1xuXG4gICAgICAgICAgICB0aGlzLmNsb3NlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5vbl9jbG9zZSA9IG9wdGlvbnMub25fY2xvc2UgfHwgbnVsbDtcblxuICAgICAgICAgICAgdGhpcy5jb250ZXh0ID0ge1xuICAgICAgICAgICAgICAgIHRpdGxlOiBvcHRpb25zLnRpdGxlIHx8IG51bGwsXG4gICAgICAgICAgICAgICAgaWNvbjogb3B0aW9ucy5pY29uIHx8IG51bGwsXG4gICAgICAgICAgICAgICAgY2xhc3NfbmFtZXM6IGJhc2VfY2xhc3NfbmFtZSArICcgJyArICggb3B0aW9ucy5jbGFzc19uYW1lcyB8fCAnJyApLFxuICAgICAgICAgICAgICAgIHNraXBwYWJsZTogb3B0aW9ucy5za2lwcGFibGUgfHwgbnVsbFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdGhpcy50ZW1wbGF0ZV9uYW1lID0gdGVtcGxhdGVfbmFtZTtcbiAgICAgICAgfSxcblxuICAgICAgICBvcGVuOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgICAgICAgICAgdGhpcy5iaW5kKCk7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnQgPSAtMTtcbiAgICAgICAgICAgIHRoaXMubmV4dCgpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0sXG5cbiAgICAgICAgaGFzX3NsaWRlOiBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgICAgIHJldHVybiAoaW5kZXggPCB0aGlzLiRzbGlkZXMubGVuZ3RoICYmIGluZGV4ID49IDApO1xuICAgICAgICB9LFxuXG4gICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBpbmRleCA9IHRoaXMuY3VycmVudCArIDE7XG5cbiAgICAgICAgICAgIGlmICghIHRoaXMuaGFzX3NsaWRlKGluZGV4KSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuJHNsaWRlcy5oaWRlKCkuZXEoaW5kZXgpLnNob3coKTtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudCA9IGluZGV4O1xuICAgICAgICAgICAgdGhpcy4kZWxlbS5tb2RhbCgnc2hvdycpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5zaG93X292ZXJsYXkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLiRiYWNrZHJvcC5zaG93KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuXG4gICAgICAgIGNsb3NlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aGlzLiRlbGVtLnJlbW92ZSgpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5zaG93X292ZXJsYXkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLiRiYWNrZHJvcC5mYWRlT3V0KDIwMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAkKHRoaXMpLnJlbW92ZSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMub25fY2xvc2UgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uX2Nsb3NlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmNsb3NlZCA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSxcblxuICAgICAgICBiaW5kOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgICAgIHRoaXMuJGVsZW0ub24oJ2hpZGRlbi5icy5tb2RhbCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBzZWxmLm5leHQoKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAkKCdib2R5Jykub24oJ2tleWRvd24nLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgIGlmIChzZWxmLmNsb3NlZCA9PT0gZmFsc2UgJiYgZS5rZXlDb2RlID09PSBLRVlfQ09ERVMuRU5URVIpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi4kZWxlbS5tb2RhbCgnaGlkZScpO1xuICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMuJGVsZW0ub24oJ2NsaWNrJywgJ1tkYXRhLXJvbGU9XCJzaG93LW5leHRcIl0nLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgIHNlbGYuJGVsZW0ubW9kYWwoJ2hpZGUnKTtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpcy4kZWxlbS5vbignY2xpY2snLCAnW2RhdGEtcm9sZT1cInNraXBcIl0nLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgIHNlbGYuY3VycmVudCA9IHNlbGYuJHNsaWRlcy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgc2VsZi4kZWxlbS5tb2RhbCgnaGlkZScpO1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIHJlbmRlcjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy5jb250ZXh0LnNsaWRlcyA9IE0ucmVuZGVyZXIucmVuZGVyKCdtb2RhbC1zbGlkZXMtJyArIHRoaXMudGVtcGxhdGVfbmFtZSk7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuc2xpZGVzID0gdGhpcy5jb250ZXh0LnNsaWRlcztcbiAgICAgICAgICAgIHRoaXMuJGVsZW0gPSAkKE0ucmVuZGVyZXIucmVuZGVyKCdtb2RhbC1zbGlkZXMnLCB0aGlzLmNvbnRleHQpKTtcbiAgICAgICAgICAgIHRoaXMuJGJhY2tkcm9wID0gKHRoaXMuc2hvd19vdmVybGF5KSA/ICQoTS5yZW5kZXJlci5yZW5kZXIoJ21vZGFsLWJhY2tkcm9wJykpIDogbnVsbDtcbiAgICAgICAgICAgIHRoaXMuJGVsZW0uYWRkKHRoaXMuJGJhY2tkcm9wKS5hcHBlbmRUbygnYm9keScpO1xuICAgICAgICAgICAgdGhpcy4kc2xpZGVzID0gdGhpcy4kZWxlbS5maW5kKCdbZGF0YS1yb2xlPVwic2xpZGVzXCJdPmxpJyk7XG4gICAgICAgICAgICB0aGlzLiRlbGVtLm1vZGFsKHsgYmFja2Ryb3A6IGZhbHNlIH0pO1xuICAgICAgICB9XG5cbiAgICB9KTtcblxuICAgIGlmICghTS5oYXNPd25Qcm9wZXJ0eSgndWknKSkge1xuICAgICAgICBNLnVpID0ge307XG4gICAgfVxuICAgIE0udWkuTW9kYWxTbGlkZXMgPSBNb2RhbFNsaWRlcztcblxuICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJCgnYm9keScpLm9uKCdjbGljaycsICdbZGF0YS1yb2xlPVwib3Blbi1tb2RhbC1zbGlkZXNcIl0nLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBuZXcgTUVNUklTRS51aS5Nb2RhbFNsaWRlcygkKHRoaXMpLmRhdGFBdHRyKCd0eXBlJyksIHtcbiAgICAgICAgICAgICAgICBza2lwcGFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgb25fY2xvc2U6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pLm9wZW4oKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbn07XG5cbn0se31dLDE0OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKCQsIE0pIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIC8vIFNldHVwXG4gICAgTS51c2VycyA9IHt9O1xuXG4gICAgJC5leHRlbmQodHJ1ZSwgTS51c2Vycywge1xuICAgICAgICBnZXRfY29udGV4dDogZnVuY3Rpb24gKHVzZXIpIHtcbiAgICAgICAgICAgIHZhciB1c2VyX2RpY3QgPSAkLmV4dGVuZCh0cnVlLCB7fSwgdXNlcik7XG4gICAgICAgICAgICB1c2VyX2RpY3QuaXNfc2VsZiA9ICh1c2VyX2RpY3QuaWQgPT09IE0udXNlci5pZCk7XG4gICAgICAgICAgICByZXR1cm4gdXNlcl9kaWN0O1xuICAgICAgICB9LFxuXG4gICAgICAgIG1lbXBhbF9hZGRfcHJlc3M6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciB0b191c2VyX2lkID0gJCh0aGlzKS5kYXRhQXR0cigndXNlci1pZCcpLFxuICAgICAgICAgICAgICAgICRidXR0b24gPSAkKHRoaXMpO1xuXG4gICAgICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgICAgIHVybDogXCIvYWpheC9tZW1wYWxfYWRkL1wiLFxuICAgICAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgIHRvX3VzZXJfaWQ6IHRvX3VzZXJfaWRcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF8oTS51c2VycykuZW1pdCgnZm9sbG93LXByZXNzJywgW2RhdGFdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIE0udXNlcnMubWVtcGFsX2FkZF9zdWNjZXNzKCRidXR0b24sIHRvX3VzZXJfaWQsIGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBNLm1vZGFsLmVycm9yKGRhdGEuZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgbWVtcGFsX2FkZF9zdWNjZXNzOiBmdW5jdGlvbiAoJGJ1dHRvbiwgdG9fdXNlcl9pZCwgZGF0YSkge1xuICAgICAgICAgICAgdmFyIGh0bWwgPSBNLnJlbmRlcmVyLnJlbmRlcignbWVtcGFsLWJ1dHRvbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEudXNlciksXG4gICAgICAgICAgICAgICAgJG5ld19idXR0b24gPSAkKGh0bWwpLFxuICAgICAgICAgICAgICAgIG9mZnNldDtcblxuICAgICAgICAgICAgJGJ1dHRvbiA9ICRidXR0b24ucmVwbGFjZVdpdGgoJG5ld19idXR0b24pO1xuXG4gICAgICAgICAgICBpZiAoZGF0YS51c2VyLmN1cnJlbnRfZm9sbG93cykge1xuICAgICAgICAgICAgICAgIG9mZnNldCA9IDE7XG4gICAgICAgICAgICAgICAgJG5ld19idXR0b24uYWRkQ2xhc3MoJ2FkZGVkJyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG9mZnNldCA9IC0xO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBVcGRhdGUgb3duIGZvbGxvd2luZyBjb3VudHNcbiAgICAgICAgICAgICQoJ1tkYXRhLXVzZXItaWQ9XCInICsgTS51c2VyLmlkICsgJ1wiXScpXG4gICAgICAgICAgICAgICAgLmZpbmQoJ1tkYXRhLXJvbGU9XCJmb2xsb3dpbmctY291bnRcIl0nKVxuICAgICAgICAgICAgICAgIC5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyICRkaXNwbGF5ID0gJCh0aGlzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnQgID0gcGFyc2VJbnQoJGRpc3BsYXkudGV4dCgpLCAxMCk7XG4gICAgICAgICAgICAgICAgICAgICRkaXNwbGF5LnRleHQoY3VycmVudCArIG9mZnNldCk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIFVwZGF0ZSB0YXJnZXR0ZWQgdXNlcidzIGZvbGxvd2VyIGNvdW50c1xuICAgICAgICAgICAgJCgnW2RhdGEtdXNlci1pZD1cIicgKyB0b191c2VyX2lkICsgJ1wiXScpXG4gICAgICAgICAgICAgICAgLmZpbmQoJ1tkYXRhLXJvbGU9XCJmb2xsb3dlci1jb3VudFwiXScpXG4gICAgICAgICAgICAgICAgLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgJGRpc3BsYXkgPSAkKHRoaXMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudCAgPSBwYXJzZUludCgkZGlzcGxheS50ZXh0KCksIDEwKTtcbiAgICAgICAgICAgICAgICAgICAgJGRpc3BsYXkudGV4dChjdXJyZW50ICsgb2Zmc2V0KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgfSk7XG5cbiAgICBNLnJlbmRlcmVyLnJlYWR5KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgJy5tZW1wYWwtYnV0dG9uJywgTS51c2Vycy5tZW1wYWxfYWRkX3ByZXNzKTtcbiAgICB9KTtcblxufTtcblxufSx7fV0sMTU6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigkLCBNLCBzb3VuZE1hbmFnZXIpIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIHZhciBBdWRpb1BsYXllciA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICB0aGlzLnBsYXlpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jdXJyZW50VXJsID0gbnVsbDtcblxuICAgICAgICB0aGlzLnBsYXkgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgICAgICAgICAgIHVybCA9IG9wdGlvbnMudXJsIHx8IG51bGw7XG5cbiAgICAgICAgICAgIGlmICh1cmwgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLnNldE11dGUoKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHNvdW5kID0gdGhpcy5sb2FkU291bmQodXJsKTtcbiAgICAgICAgICAgIGlmICghc291bmQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuc3RvcCgpO1xuXG4gICAgICAgICAgICB0aGlzLnRyaWdnZXJTb3VuZCh7XG4gICAgICAgICAgICAgICAgc291bmQ6IHNvdW5kLFxuICAgICAgICAgICAgICAgIG9ucGxheTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLnBsYXlpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBzZWxmLmN1cnJlbnRVcmwgPSB1cmw7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLm9ucGxheSAhPT0gbnVsbCkgeyBvcHRpb25zLm9ucGxheSh1cmwpOyB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvbmZpbmlzaDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLnBsYXlpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMub25maW5pc2ggIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMub25maW5pc2godXJsKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZi53aGVuRmluaXNoZWRDYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi53aGVuRmluaXNoZWRDYWxsYmFjaygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHNlbGYud2hlbkZpbmlzaGVkQ2FsbGJhY2s7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLnNldE11dGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgbXV0ZWQgPSAkKCdib2R5JykuaGFzQ2xhc3MoJ2F1ZGlvLW11dGVkJyk7XG4gICAgICAgICAgICBpZiAobXV0ZWQpIHtcbiAgICAgICAgICAgICAgICBzb3VuZE1hbmFnZXIubXV0ZSgpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzb3VuZE1hbmFnZXIudW5tdXRlKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMubG9hZFNvdW5kID0gZnVuY3Rpb24gKHVybCkge1xuICAgICAgICAgICAgdmFyIHNvdW5kO1xuICAgICAgICAgICAgaWYgKHNvdW5kTWFuYWdlciAmJiBzb3VuZE1hbmFnZXIub2soKSAmJiBzb3VuZE1hbmFnZXIuY2FuUGxheVVSTCh1cmwpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50VXJsID0gdXJsO1xuICAgICAgICAgICAgICAgIC8vIHJldHVybnMgYSBzb3VuZCBmcm9tIGNhY2hlIGlmIElEIGV4aXN0c1xuICAgICAgICAgICAgICAgIHNvdW5kID0gc291bmRNYW5hZ2VyLmNyZWF0ZVNvdW5kKHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IHVybCxcbiAgICAgICAgICAgICAgICAgICAgdXJsOiB1cmxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBzb3VuZDtcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLnRyaWdnZXJTb3VuZCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgICAgICBvcHRpb25zLnNvdW5kLnBsYXkoe1xuICAgICAgICAgICAgICAgIG9ucGxheTogb3B0aW9ucy5vbnBsYXksXG4gICAgICAgICAgICAgICAgb25maW5pc2g6IG9wdGlvbnMub25maW5pc2gsXG4gICAgICAgICAgICAgICAgb25zdG9wOiBvcHRpb25zLm9uZmluaXNoXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLnN0b3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzb3VuZE1hbmFnZXIuc3RvcEFsbCgpO1xuICAgICAgICAgICAgdGhpcy5wbGF5aW5nID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRVcmwgPSBudWxsO1xuICAgICAgICAgICAgLy8gQ2FuY2VsIHRpbWVvdXRcbiAgICAgICAgICAgICQuZG9UaW1lb3V0KCdBdWRpb1BsYXllci1zdG9wQWZ0ZXInKTtcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLnN0b3BBZnRlciA9IGZ1bmN0aW9uIChtaWxsaXNlY29uZHMpIHtcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgICAgIGlmICh0aGlzLnBsYXlpbmcpIHtcbiAgICAgICAgICAgICAgICAkLmRvVGltZW91dChcbiAgICAgICAgICAgICAgICAgICAgJ0F1ZGlvUGxheWVyLXN0b3BBZnRlcicsXG4gICAgICAgICAgICAgICAgICAgIG1pbGxpc2Vjb25kcyxcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnN0b3AoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy53aGVuRmluaXNoZWQgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgIC8vIFdoaWxzdCB5b3UgY2FuIHBhc3MgYW4gb25maW5pc2ggdG8gcGxheSgpLCB3ZSBhbHNvIGFjY2VwdCBhXG4gICAgICAgICAgICAvLyBjYWxsYmFjayBhZnRlci10aGUtZmFjdFxuICAgICAgICAgICAgaWYgKCF0aGlzLnBsYXlpbmcpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLndoZW5GaW5pc2hlZENhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgIH07XG5cbiAgICBNLmF1ZGlvUGxheWVyID0gbmV3IEF1ZGlvUGxheWVyKCk7XG5cbiAgICAvLyBBdWRpbyBwbGF5ZXIgaGFuZGxpbmcuXG4gICAgJChkb2N1bWVudCkub24oJ21lbXJpc2UuYXVkaW8tcGxheScsICdhLmF1ZGlvLXBsYXllcicsIGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpO1xuICAgICAgICBNLmF1ZGlvUGxheWVyLnBsYXkoe1xuICAgICAgICAgICAgdXJsOiAkdGhpcy5hdHRyKCdocmVmJyksXG4gICAgICAgICAgICBvbnBsYXk6IGZ1bmN0aW9uICgpIHsgJHRoaXMuYWRkQ2xhc3MoJ3BsYXlpbmcnKTsgfSxcbiAgICAgICAgICAgIG9uZmluaXNoOiBmdW5jdGlvbiAoKSB7ICR0aGlzLnJlbW92ZUNsYXNzKCdwbGF5aW5nJyk7IH1cbiAgICAgICAgfSk7XG4gICAgfSlcbiAgICAub24oJ21lbXJpc2UuYXVkaW8tc3RvcCcsICdhLmF1ZGlvLXBsYXllcicsIGZ1bmN0aW9uKCkge1xuICAgICAgICBNLmF1ZGlvUGxheWVyLnN0b3AoKTtcbiAgICB9KVxuICAgIC5vbignbWVtcmlzZS5hdWRpby10b2dnbGUtbXV0ZScsICdib2R5JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICQoJ2JvZHknKS50b2dnbGVDbGFzcygnYXVkaW8tbXV0ZWQnKTtcbiAgICAgICAgdmFyIG11dGVkID0gTS5hdWRpb1BsYXllci5zZXRNdXRlKCk7XG4gICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICB1cmw6IFwiL2FqYXgvbXV0ZS9cIixcbiAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICBcIm11dGVkXCI6IG11dGVkXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pXG4gICAgLm9uKCdtb3VzZWVudGVyJywgJ2EuYXVkaW8tcGxheWVyLmF1ZGlvLXBsYXllci1ob3ZlcicsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGlmICghIE1FTVJJU0UuaXNfaU9TX29wdGltaXNlZCkge1xuICAgICAgICAgICAgJCh0aGlzKS50cmlnZ2VyKCdtZW1yaXNlLmF1ZGlvLXBsYXknKTtcbiAgICAgICAgfVxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSlcbiAgICAub24oJ2NsaWNrJywgJ2EuYXVkaW8tcGxheWVyLmF1ZGlvLXBsYXllci1ob3ZlcicsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIC8vIGlPUyA1KyBkb2VzIG5vdCB0cmlnZ2VyIG1vdXNlZW50ZXIgZm9yIGV2ZW50cywgYW5kIHRodXMgd2UgdHJhbnNmb3JtXG4gICAgICAgIC8vIG91ciBob3ZlciBhdWRpbyBwbGF5ZXJzIGJhY2sgaW50byBjbGljayBvbmVzXG4gICAgICAgIGlmIChNRU1SSVNFLmlzX2lPU19vcHRpbWlzZWQpIHtcbiAgICAgICAgICAgICQodGhpcykudHJpZ2dlcignbWVtcmlzZS5hdWRpby1wbGF5Jyk7XG4gICAgICAgIH1cbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xuXG59O1xuXG59LHt9XSwxNjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChfKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICByZXR1cm4ge1xuXG4gICAgICAgIFNFQ09ORDogMTAwMCxcbiAgICAgICAgTUlOVVRFOiAxMDAwICogNjAsXG4gICAgICAgIEhPVVI6IDEwMDAgKiA2MCAqIDYwLFxuICAgICAgICBEQVk6IDEwMDAgKiA2MCAqIDYwICogMjQsXG4gICAgICAgIFdFRUs6IDEwMDAgKiA2MCAqIDYwICogMjQgKiA3LFxuXG4gICAgICAgIG5vdzogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBEYXRlKCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgdG9kYXk6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciB0b2RheSA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICB0b2RheS5zZXRIb3VycygwKTtcbiAgICAgICAgICAgIHRvZGF5LnNldE1pbnV0ZXMoMCk7XG4gICAgICAgICAgICB0b2RheS5zZXRTZWNvbmRzKDApO1xuICAgICAgICAgICAgdG9kYXkuc2V0TWlsbGlzZWNvbmRzKDApO1xuICAgICAgICAgICAgcmV0dXJuIHRvZGF5O1xuICAgICAgICB9LFxuXG4gICAgICAgIHRpbWVfc2luY2U6IGZ1bmN0aW9uIChkYXRlKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ub3coKSAtIGRhdGU7XG4gICAgICAgIH0sXG5cbiAgICAgICAgdGltZWRlbHRhOiBmdW5jdGlvbiAocGFyYW1zKSB7XG4gICAgICAgICAgICB2YXIgcmV0ID0gMDtcblxuICAgICAgICAgICAgaWYgKF8uaGFzKHBhcmFtcywgJ3NlY29uZHMnKSkge1xuICAgICAgICAgICAgICAgIHJldCArPSBwYXJhbXMuc2Vjb25kcyAqIHRoaXMuU0VDT05EO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKF8uaGFzKHBhcmFtcywgJ21pbnV0ZXMnKSkge1xuICAgICAgICAgICAgICAgIHJldCArPSBwYXJhbXMubWludXRlcyAqIHRoaXMuTUlOVVRFO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKF8uaGFzKHBhcmFtcywgJ2hvdXJzJykpIHtcbiAgICAgICAgICAgICAgICByZXQgKz0gcGFyYW1zLmhvdXJzICogdGhpcy5IT1VSO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKF8uaGFzKHBhcmFtcywgJ2RheXMnKSkge1xuICAgICAgICAgICAgICAgIHJldCArPSBwYXJhbXMuZGF5cyAqIHRoaXMuREFZO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKF8uaGFzKHBhcmFtcywgJ3dlZWtzJykpIHtcbiAgICAgICAgICAgICAgICByZXQgKz0gcGFyYW1zLndlZWtzICogdGhpcy5XRUVLO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgICB9LFxuXG4gICAgICAgIGdldFdlZWtkYXlOYW1lOiBmdW5jdGlvbiAoZGF5LCBzaG9ydCkge1xuICAgICAgICAgICAgdmFyIHdlZWtkYXlzID0gW1xuICAgICAgICAgICAgICAgIF90KFwiU3VuZGF5XCIpLFxuICAgICAgICAgICAgICAgIF90KFwiTW9uZGF5XCIpLFxuICAgICAgICAgICAgICAgIF90KFwiVHVlc2RheVwiKSxcbiAgICAgICAgICAgICAgICBfdChcIldlZG5lc2RheVwiKSxcbiAgICAgICAgICAgICAgICBfdChcIlRodXJzZGF5XCIpLFxuICAgICAgICAgICAgICAgIF90KFwiRnJpZGF5XCIpLFxuICAgICAgICAgICAgICAgIF90KFwiU2F0dXJkYXlcIilcbiAgICAgICAgICAgIF07XG5cbiAgICAgICAgICAgIHJldHVybiBzaG9ydCA/IHdlZWtkYXlzW2RheV1bMF0gOiB3ZWVrZGF5c1tkYXldO1xuICAgICAgICB9LFxuXG4gICAgICAgIGdldE1vbnRoTmFtZTogZnVuY3Rpb24gKG1vbnRoKSB7XG4gICAgICAgICAgICB2YXIgbW9udGhzID0gW1xuICAgICAgICAgICAgICAgIF90KFwiSmFudWFyeVwiKSxcbiAgICAgICAgICAgICAgICBfdChcIkZlYnJ1YXJ5XCIpLFxuICAgICAgICAgICAgICAgIF90KFwiTWFyY2hcIiksXG4gICAgICAgICAgICAgICAgX3QoXCJBcHJpbFwiKSxcbiAgICAgICAgICAgICAgICBfdChcIk1heVwiKSxcbiAgICAgICAgICAgICAgICBfdChcIkp1bmVcIiksXG4gICAgICAgICAgICAgICAgX3QoXCJKdWx5XCIpLFxuICAgICAgICAgICAgICAgIF90KFwiQXVndXN0XCIpLFxuICAgICAgICAgICAgICAgIF90KFwiU2VwdGVtYmVyXCIpLFxuICAgICAgICAgICAgICAgIF90KFwiT2N0b2JlclwiKSxcbiAgICAgICAgICAgICAgICBfdChcIk5vdmVtYmVyXCIpLFxuICAgICAgICAgICAgICAgIF90KFwiRGVjZW1iZXJcIilcbiAgICAgICAgICAgIF07XG5cbiAgICAgICAgICAgIHJldHVybiBtb250aHNbbW9udGhdO1xuICAgICAgICB9XG4gICAgfTtcbn07XG5cbn0se31dLDE3OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oJCwgTSkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIHZhciBpc1Byb2ZpbGVMb2FkZWQgPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIFByb2ZpbGUgZHJvcGRvd25cbiAgICAgKi9cbiAgICB2YXIgJHByb2ZpbGVJbm5lciA9ICQoJy5oZWFkZXItcHJvZmlsZS1pbm5lcicpLFxuICAgICAgICAkcHJvZmlsZURldGFpbHMgPSAkKCcucHJvZmlsZS1kZXRhaWxzJyksXG4gICAgICAgICRoZWFkZXJJbmZvQ2FyZCA9ICQoJy5oZWFkZXItaW5mby1jYXJkJyksXG4gICAgICAgICRkcm9wZG93bkFycm93ID0gJCgnLmhlYWRlci1kcm9wZG93bi1hcnJvdycpO1xuXG4gICAgZnVuY3Rpb24gdG9nZ2xlUHJvZmlsZURyb3BEb3duKCkge1xuICAgICAgICAkcHJvZmlsZUlubmVyLnRvZ2dsZUNsYXNzKCdpcy1hY3RpdmUnKTtcbiAgICAgICAgJGhlYWRlckluZm9DYXJkLnRvZ2dsZUNsYXNzKCdpcy1hY3RpdmUnKTtcbiAgICAgICAgJGRyb3Bkb3duQXJyb3cudG9nZ2xlQ2xhc3MoJ2lzLWFjdGl2ZScpO1xuXG4gICAgICAgIGlmICghaXNQcm9maWxlTG9hZGVkKSB7XG4gICAgICAgICAgICAkLmdldCgnL2FqYXgvdXNlci9wcm9maWxlLycsIGZ1bmN0aW9uKHJlc3ApIHtcbiAgICAgICAgICAgICAgICB2YXIgaHRtbCA9IE0ucmVuZGVyZXIucmVuZGVyKCdoZWFkZXItcHJvZmlsZS1jb250ZW50JywgcmVzcCk7XG4gICAgICAgICAgICAgICAgJHByb2ZpbGVEZXRhaWxzLmh0bWwoaHRtbCk7XG4gICAgICAgICAgICAgICAgYW5pbWF0ZVByb2dyZXNzQmFyKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlzUHJvZmlsZUxvYWRlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhbmltYXRlUHJvZ3Jlc3NCYXIoKSB7XG4gICAgICAgIHZhciAkcHJvZmlsZVByb2dyZXNzQmFyID0gJCgnLmpzLXByb2dyZXNzLWJhcicpLFxuICAgICAgICAgICAgcHJvZ3Jlc3MgPSAkcHJvZmlsZVByb2dyZXNzQmFyLmF0dHIoJ2RhdGEtcHJvZ3Jlc3MnKTtcbiAgICAgICAgJHByb2ZpbGVQcm9ncmVzc0Jhci5hbmltYXRlKHtcbiAgICAgICAgICAgICd3aWR0aCc6IHByb2dyZXNzICogMTAwICsgJyUnXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgICQoJy5qcy1pbmZvLXRvZ2dsZScpLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHRvZ2dsZVByb2ZpbGVEcm9wRG93bigpO1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOyAvLyBuZWVkZWQgZm9yIGRvY3VtZW50IGNsaWNrXG4gICAgfSk7XG5cbiAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICBpZiAoJHByb2ZpbGVJbm5lci5oYXNDbGFzcygnaXMtYWN0aXZlJykgJiZcbiAgICAgICAgICAgICAgICAkKGUudGFyZ2V0KS5jbG9zZXN0KCd1bCcpWzBdICE9PSAkcHJvZmlsZUlubmVyWzBdKSB7XG4gICAgICAgICAgICB0b2dnbGVQcm9maWxlRHJvcERvd24oKTtcbiAgICAgICAgfVxuICAgIH0pO1xufTtcblxufSx7fV0sMTg6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoJCwgTSwgXywgSGFuZGxlYmFycywgbWFya2Rvd24pIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIEhhbmRsZWJhcnMucmVnaXN0ZXJIZWxwZXIoXCJkZWJ1Z1wiLCBmdW5jdGlvbiAob3B0aW9uYWxWYWx1ZSkge1xuICAgICAgICBjb25zb2xlLmxvZyhcIkN1cnJlbnQgQ29udGV4dFwiKTtcbiAgICAgICAgY29uc29sZS5sb2coXCI9PT09PT09PT09PT09PT09PT09PVwiKTtcbiAgICAgICAgY29uc29sZS5sb2codGhpcyk7XG5cbiAgICAgICAgaWYgKG9wdGlvbmFsVmFsdWUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVmFsdWVcIik7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIj09PT09PT09PT09PT09PT09PT09XCIpO1xuICAgICAgICAgICAgY29uc29sZS5sb2cob3B0aW9uYWxWYWx1ZSk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHZhciByZW5kZXJlciA9IHtcbiAgICAgICAgLypcbiAgICAgICAgIFByZXBhcmF0aW9uIGZ1bmN0aW9uc1xuICAgICAgICAgKi9cbiAgICAgICAgbG9hZGVkOiBmYWxzZSxcbiAgICAgICAgcmVhZHlfZnVuY3Rpb25fc3RhY2s6IFtdLFxuXG4gICAgICAgIHJlYWR5OiBmdW5jdGlvbiAoZnVua3kpIHtcbiAgICAgICAgICAgIC8vIEEgcmVwbGFjZW1lbnQgZm9yIGpRdWVyeSdzIGRvY3VtZW50IHJlYWR5OiBmb3IgcGFydHMgb2YgdGhlXG4gICAgICAgICAgICAvLyBzaXRlIHRoYXQgcmVxdWlyZSB0aGUgcmVuZGVyZXIuXG4gICAgICAgICAgICAvLyBPbmx5IHRyaWdnZXJlZCBhZnRlciBsb2FkaW5nLCB3aGljaCBpcyBjYWNoZWQsIHNvIHNob3VsZFxuICAgICAgICAgICAgLy8gb2NjdXIgbWljcm9zY29waWNhbGx5IGFmdGVyIGRvY3VtZW50LnJlYWR5XG4gICAgICAgICAgICBpZiAocmVuZGVyZXIubG9hZGVkKSB7XG4gICAgICAgICAgICAgICAgZnVua3koKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVuZGVyZXIucmVhZHlfZnVuY3Rpb25fc3RhY2sucHVzaChmdW5reSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgbG9hZDogZnVuY3Rpb24gKHRlbXBsYXRlcykge1xuICAgICAgICAgICAgLy8gT25jZS5cbiAgICAgICAgICAgIGlmIChyZW5kZXJlci5sb2FkZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChfLmhhcyh0ZW1wbGF0ZXMsIFwicGFydGlhbHNcIikpIHtcbiAgICAgICAgICAgICAgICAvLyBQcmUtY29tcGlsZSBwYXJ0aWFscyAtIHNsb3cgYW5kIG9ubHkgZm9yIGRldiB1c2VcbiAgICAgICAgICAgICAgICAkLmVhY2godGVtcGxhdGVzLnBhcnRpYWxzLCBmdW5jdGlvbiAobmFtZSwgdGVtcGxhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgSGFuZGxlYmFycy5yZWdpc3RlclBhcnRpYWwobmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIEhhbmRsZWJhcnMuY29tcGlsZSh0ZW1wbGF0ZSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXZlbnRJbmRlbnQ6IHRydWUgLy8gb3RoZXJ3aXNlIGhiIHNjcmV3cyB1cCBwcmVmb3JtYXR0ZWQgdGV4dCBpbiBwYXJ0aWFsc1xuICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChfLmhhcyh0ZW1wbGF0ZXMsIFwiY29tcGlsZWRfcGFydGlhbHNcIikpIHtcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZXMuY29tcGlsZWRfcGFydGlhbHMoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmVuZGVyZXIuc2V0X2RlZmF1bHRfY29udGV4dCgpO1xuXG4gICAgICAgICAgICByZW5kZXJlci5sb2FkZWQgPSB0cnVlO1xuICAgICAgICAgICAgLy8gUnVuIHRoZSBvbi1yZWFkeSBmdW5jdGlvbnNcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVuZGVyZXIucmVhZHlfZnVuY3Rpb25fc3RhY2subGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgICAgICByZW5kZXJlci5yZWFkeV9mdW5jdGlvbl9zdGFja1tpXSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVuZGVyZXIucmVhZHlfZnVuY3Rpb25fc3RhY2sgPSBbXTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogU2FuaXRpemUgdXJsIGJ5IGRlbGV0aW5nIGxlYWRpbmcgc2xhc2ggaWYgbmVjZXNzYXJ5XG4gICAgICAgICAqIGFuZCBhZGQgaXQgdG8gdGhlIHN0YXRpYyB1cmxcbiAgICAgICAgICogQHBhcmFtIHtTdHJpbmd9IHVybCBhIG1lZGlhIHVybFxuICAgICAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IHRoZSBzYW1lIHVybCB3aXRoIGEgbGVhZGluZyBzbGFzaFxuICAgICAgICAgKiAgICAgaWYgaXQgZG9lc24ndCBhbHJlYWR5IGhhdmUgb25lXG4gICAgICAgICAqL1xuICAgICAgICBmaXhNZWRpYVVybDogZnVuY3Rpb24gKHVybCkge1xuICAgICAgICAgICAgcmV0dXJuIF8uY29udGFpbnModXJsLCAnaHR0cCcpID8gdXJsIDogTS5TVEFUSUNfVVJMICsgdXJsLnJlcGxhY2UoL15cXC8/LywgJycpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGVzY2FwZTogZnVuY3Rpb24gKHN0cmluZykge1xuICAgICAgICAgICAgdmFyIGVudGl0eU1hcCA9IHtcbiAgICAgICAgICAgICAgICBcIiZcIjogXCImYW1wO1wiLFxuICAgICAgICAgICAgICAgIFwiPFwiOiBcIiZsdDtcIixcbiAgICAgICAgICAgICAgICBcIj5cIjogXCImZ3Q7XCIsXG4gICAgICAgICAgICAgICAgJ1wiJzogJyZxdW90OycsXG4gICAgICAgICAgICAgICAgXCInXCI6ICcmIzM5OycsXG4gICAgICAgICAgICAgICAgXCIvXCI6ICcmI3gyRjsnXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICByZXR1cm4gU3RyaW5nKHN0cmluZykucmVwbGFjZSgvWyY8PlwiJ1xcL10vZywgZnVuY3Rpb24gKHMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZW50aXR5TWFwW3NdO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgdW5lc2NhcGU6IGZ1bmN0aW9uIChzdHJpbmcpIHtcbiAgICAgICAgICAgIHZhciByZXZlcnNlRW50aXR5TWFwID0ge1xuICAgICAgICAgICAgICAgIFwiJmFtcDtcIjogXCImXCIsXG4gICAgICAgICAgICAgICAgXCImbHQ7XCI6IFwiPFwiLFxuICAgICAgICAgICAgICAgIFwiJmd0O1wiOiBcIj5cIixcbiAgICAgICAgICAgICAgICAnJnF1b3Q7JzogJ1wiJyxcbiAgICAgICAgICAgICAgICAnJiMzOTsnOiBcIidcIixcbiAgICAgICAgICAgICAgICAnJiN4MkY7JzogXCIvXCJcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXR1cm4gU3RyaW5nKHN0cmluZykucmVwbGFjZSgvKCYoYW1wfGx0fGd0fHF1b3R8IzM5fCN4MkYpOykvZywgZnVuY3Rpb24gKHMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmV2ZXJzZUVudGl0eU1hcFtzXTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIHNldF9kZWZhdWx0X2NvbnRleHQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJlbmRlcmVyLmRlZmF1bHRfY29udGV4dCA9IHtcbiAgICAgICAgICAgICAgICBERUJVRzogTS5ERUJVRyxcbiAgICAgICAgICAgICAgICBTVEFUSUNfVVJMOiBNLlNUQVRJQ19VUkwsXG4gICAgICAgICAgICAgICAgdXNlcjogTS51c2VyLFxuICAgICAgICAgICAgICAgIERFQlVHX09SX1NUQUZGOiBNLkRFQlVHIHx8IE0udXNlci5pc19zdGFmZixcbiAgICAgICAgICAgICAgICBET01BSU46IE0uRE9NQUlOXG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qXG4gICAgICAgICBSZW5kZXJpbmcgJiBIYW5kbGViYXJzaWZpY2F0aW9uXG4gICAgICAgICAqL1xuICAgICAgICByZW5kZXI6IGZ1bmN0aW9uICh0ZW1wbGF0ZSwgY29udGV4dCwgZGF0YSkge1xuICAgICAgICAgICAgdmFyIGZ1bGxfY29udGV4dCA9ICQuZXh0ZW5kKHt9LCByZW5kZXJlci5kZWZhdWx0X2NvbnRleHQsIGNvbnRleHQpO1xuICAgICAgICAgICAgcmV0dXJuIEhhbmRsZWJhcnMucGFydGlhbHNbdGVtcGxhdGVdKGZ1bGxfY29udGV4dCwge2RhdGE6IGRhdGF9KTtcbiAgICAgICAgfSxcblxuICAgICAgICAvLyBBbGxvd2VkIHRhZ3MgZnJvbSBtYXJrZG93biBpbiByaWNoX2Zvcm1hdCAoalF1ZXJ5IHNlbGVjdG9yKVxuICAgICAgICBhbGxvd2VkX3RhZ3M6ICdwLHN0cm9uZyxlbSxwcmUsY29kZScsXG5cbiAgICAgICAgcmljaF9mb3JtYXQ6IGZ1bmN0aW9uIChzdHJpbmcpIHtcbiAgICAgICAgICAgIC8vIFR1cm5zIHN0cmluZyBpbnRvIGh0bWwgYXMgcGVyIG1lbXJpc2UtbWFya2Rvd24gc3R5bGVzXG5cbiAgICAgICAgICAgIC8vICogIEN1c3RvbSBpbWc6IHRhZ1xuICAgICAgICAgICAgLy8gT2xkIGhhcmRjb2RlZCBzdGF0aWMgdXJscyAoTkVFRCBNSUdSQVRJTkcpXG4gICAgICAgICAgICBzdHJpbmcgPSBzdHJpbmcucmVwbGFjZSgvaW1nOmh0dHA6XFwvXFwvd3d3Lm1lbXJpc2UuY29tXFwvc3RhdGljXFwvL2csICdpbWc6JyArIE0uU1RBVElDX1VSTCk7XG4gICAgICAgICAgICBzdHJpbmcgPSBzdHJpbmcucmVwbGFjZSgvaW1nOmh0dHA6XFwvXFwvbWVtcmlzZS5jb21cXC9zdGF0aWNcXC8vZywgJ2ltZzonICsgTS5TVEFUSUNfVVJMKTtcbiAgICAgICAgICAgIHN0cmluZyA9IHN0cmluZy5yZXBsYWNlKC9pbWc6XFwvc3RhdGljXFwvL2csICdpbWc6JyArIE0uU1RBVElDX1VSTCk7XG4gICAgICAgICAgICAvLyBUYWdzOiBpbiBhIGhhY2t5IHdheS4gdHVybiBpbnRvIGNvZGUgYmxvY2tzIHRlbXBvcmFyaWx5IHNvIHRoYXQgd2UgZ2V0IHRoZSB1cmwgdGhyb3VnaCBtYXJrZG93biB1bi1tb2RpZmllZCwgdGhlbiBsYXRlciBkZWxldGUgY29kZSBibG9ja3MuXG4gICAgICAgICAgICBzdHJpbmcgPSBzdHJpbmcucmVwbGFjZSgvaW1nOihbXlxcczxdKykvZywgXCJgaW1nOiQxYFwiKTtcblxuICAgICAgICAgICAgLy8gKiAgTWFya2Rvd24sIGZpbHRlcmVkIHRvIHJlbW92ZSBhbGwgbm9uLWFsbG93ZWQgdGFnc1xuICAgICAgICAgICAgdmFyIG1hcmtlZF9kb3duID0gbWFya2Rvd24udG9IVE1MKHN0cmluZyksXG4gICAgICAgICAgICAgICAgJGh0bWwgPSAkKFwiPGRpdj5cIikuaHRtbChtYXJrZWRfZG93bik7XG4gICAgICAgICAgICAvLyBGaWx0ZXIgdGhlIGFsbG93ZWQgdGFncyBpbnNpZGUgdGhlIERPTSBlbGVtZW50XG4gICAgICAgICAgICAkaHRtbC5maW5kKCcqJykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKCEkKHRoaXMpLmlzKHJlbmRlcmVyLmFsbG93ZWRfdGFncykpIHtcbiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHZhciBodG1sID0gJC50cmltKCRodG1sLmh0bWwoKSk7XG4gICAgICAgICAgICBpZiAoaHRtbCA9PT0gXCJcIikge1xuICAgICAgICAgICAgICAgIGh0bWwgPSBcIjxwPiZuYnNwOzwvcD5cIjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gU2Vjb25kIHN0ZXAgZm9yIGltZzpcbiAgICAgICAgICAgIGh0bWwgPSBodG1sLnJlcGxhY2UoL2ltZzpcXHMqKFteXFxzPF0rKS9nLCBcIjxpbWcgY2xhc3M9J2ltZy10YWcnIHNyYz0nJDEnIC8+XCIpO1xuICAgICAgICAgICAgLy8gKiAgQ3VzdG9tIGVtYmVkOiB0YWcgZm9yIHlvdXR1YmVzIGV0Yy5cbiAgICAgICAgICAgIGh0bWwgPSBodG1sLnJlcGxhY2UoL2VtYmVkOlxccyooW15cXHM8XSspL2csIFwiPGEgY2xhc3M9J2VtYmVkJyBocmVmPSckMScgdGFyZ2V0PSdfYmxhbmsnPiQxPC9hPlwiKTtcblxuICAgICAgICAgICAgcmV0dXJuIGh0bWw7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZ2V0X21lbV9jb250ZXh0OiBmdW5jdGlvbiAobWVtLCBsZWFybmFibGUsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHZhciBvID0ge1xuICAgICAgICAgICAgICAgIHNob3dfYXV0aG9yOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBvcGVuX2xpbmtzX2JsYW5rOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBzaG93X3RoaW5nOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBlZGl0YWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgc2hvd19yZW1vdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgc2hvd19zb3VyY2U6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHNob3dfZmxhZ2dlZF9zdGF0czogZmFsc2UsXG4gICAgICAgICAgICAgICAgc2hvd19mbGFnZ2luZzogdHJ1ZVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICAgICAgbyA9ICQuZXh0ZW5kKG8sIG9wdGlvbnMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgbWVtX2RpY3QgPSAkLmV4dGVuZCh0cnVlLCB7fSwgbWVtKSxcbiAgICAgICAgICAgICAgICBpc19hdXRoZW50aWNhdGVkID0gTS51c2VyLmlzX2F1dGhlbnRpY2F0ZWQsXG4gICAgICAgICAgICAgICAgaXNfdXNlcl9hdXRob3IgPSBpc19hdXRoZW50aWNhdGVkICYmIF8uaGFzKG1lbSwgJ2F1dGhvcicpICYmIG1lbS5hdXRob3IuaWQgPT09IE0udXNlci5pZDtcblxuICAgICAgICAgICAgLy8gQXBwbHkgb3B0aW9uc1xuICAgICAgICAgICAgbWVtX2RpY3Quc2hvd19hdXRob3IgPSBvLnNob3dfYXV0aG9yO1xuICAgICAgICAgICAgbWVtX2RpY3Quc2hvd19yZW1vdmUgPSBvLnNob3dfcmVtb3ZlO1xuICAgICAgICAgICAgbWVtX2RpY3Qub3Blbl9saW5rc19ibGFuayA9IG8ub3Blbl9saW5rc19ibGFuaztcbiAgICAgICAgICAgIG1lbV9kaWN0LmVkaXRhYmxlID0gby5lZGl0YWJsZSAmJiBpc19hdXRoZW50aWNhdGVkO1xuICAgICAgICAgICAgbWVtX2RpY3Quc2hvd19mbGFnZ2VkX3N0YXRzID0gby5zaG93X2ZsYWdnZWRfc3RhdHM7XG4gICAgICAgICAgICBtZW1fZGljdC5zaG93X2ZsYWdnaW5nID0gby5zaG93X2ZsYWdnaW5nO1xuXG4gICAgICAgICAgICAvLyBUb29sYmFyXG4gICAgICAgICAgICBtZW1fZGljdC5jYW5fZmxhZyA9ICFpc191c2VyX2F1dGhvciAmJiAhbWVtLmZsYWdnZWQ7XG4gICAgICAgICAgICBtZW1fZGljdC5jYW5fcmVtb3ZlID0gbWVtX2RpY3QuY2FuX2VkaXQgfHwgaXNfdXNlcl9hdXRob3I7XG4gICAgICAgICAgICBtZW1fZGljdC5jYW5fZGVsZXRlID0gbWVtX2RpY3QuY2FuX2VkaXQ7XG4gICAgICAgICAgICBtZW1fZGljdC5zaG93X3NvdXJjZSA9IG8uc2hvd19zb3VyY2UgJiYgbWVtX2RpY3Quc2VhcmNoX3NvdXJjZSA+ICcnO1xuXG4gICAgICAgICAgICBpZiAobWVtX2RpY3Quc2hvd19zb3VyY2UpIHtcbiAgICAgICAgICAgICAgICAvLyBnZXQgaG9zdG5hbWUgb2YgdXJsXG4gICAgICAgICAgICAgICAgdmFyICRhID0gJCgnPGEgLz4nKTtcbiAgICAgICAgICAgICAgICAkYS5hdHRyKCdocmVmJywgbWVtX2RpY3Quc2VhcmNoX3NvdXJjZSk7XG4gICAgICAgICAgICAgICAgbWVtX2RpY3Quc2VhcmNoX3NvdXJjZV9ob3N0bmFtZSA9ICRhWzBdLmhvc3RuYW1lO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBtZW1fZGljdC5zaG93X3RoaW5nID0gby5zaG93X3RoaW5nICYmIGxlYXJuYWJsZSAhPT0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgaWYgKG8uc2hvd190aGluZykge1xuICAgICAgICAgICAgICAgIG1lbV9kaWN0Lml0ZW0gPSByZW5kZXJlci5nZXRMZWFybmFibGVDb2x1bW5Db250ZXh0KGxlYXJuYWJsZS5pdGVtLCBbXSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgbWVtX2RpY3QuZGVmaW5pdGlvbiA9IHJlbmRlcmVyLmdldExlYXJuYWJsZUNvbHVtbkNvbnRleHQobGVhcm5hYmxlLmRlZmluaXRpb24sIFtdLCB0cnVlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gRmlsdGVyIHRoZSB0ZXh0IChzdGlsbCBhcHBsaWNhYmxlIHRvIGltYWdlIG1lbXMsIHRvIHByZXZlbnQgaHRtbCBpbmplY3Rpb24pXG4gICAgICAgICAgICBtZW1fZGljdC5taWRkbGVfaHRtbCA9IHJlbmRlcmVyLnJpY2hfZm9ybWF0KG1lbV9kaWN0LnRleHQpO1xuXG4gICAgICAgICAgICAvLyBHZXQganVzdCB0aGUgdGV4dCAoZm9yIGltYWdlIGFsdClcbiAgICAgICAgICAgIG1lbV9kaWN0LnNhbml0aXplZF90ZXh0ID0gbWVtX2RpY3QudGV4dDtcblxuICAgICAgICAgICAgLy8gQWRkIHN1cHBvcnQgZm9yIHJ0bCBpZiBuZWNlc3NhcnkgLS0gMSBpcyB0ZXh0IGFsaWduIGxlZnQgYnkgeF9wb3NpdGlvbiBjb252ZW50aW9uXG4gICAgICAgICAgICBpZiAobWVtX2RpY3QuZGlyZWN0aW9uID09PSAncnRsJykgbWVtX2RpY3QucnRsID0gdHJ1ZTtcblxuICAgICAgICAgICAgcmV0dXJuIG1lbV9kaWN0O1xuICAgICAgICB9LFxuXG4gICAgICAgIHJlbmRlcl9tZW06IGZ1bmN0aW9uIChtZW0sIGxlYXJuYWJsZSwgb3B0aW9ucykge1xuICAgICAgICAgICAgLy8gVGFrZXMgYSBtZW0gZGljdCBhbmQgcmV0dXJucyB0aGUgaHRtbCB0aGF0IHJlcHJlc2VudHMgaXRcbiAgICAgICAgICAgIC8vIE5COiBmb3IgdGhlIGVtYmVkOiB0byB3b3JrIHlvdSBtdXN0IHJ1biByZW5kZXJlci5lbWJlZHMoKVxuICAgICAgICAgICAgLy8gb24gdGhlIGVsZW1lbnQgdGhhdCBjb250YWlucyB0aGUgbWVtcy5cbiAgICAgICAgICAgIHZhciBvID0ge1xuICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnZ2FyZGVuJyAgLy8gT3B0aW9uczogJ2dhcmRlbicsICdzbWFsbCcsICdzZWFyY2gtcmVzdWx0J1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucyAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgICAgIG8gPSAkLmV4dGVuZChvLCBvcHRpb25zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBtZW1fZGljdCA9IHJlbmRlcmVyLmdldF9tZW1fY29udGV4dChtZW0sIGxlYXJuYWJsZSwgbyk7XG4gICAgICAgICAgICByZXR1cm4gcmVuZGVyZXIucmVuZGVyKCdtZW0tJyArIG8udGVtcGxhdGUsIG1lbV9kaWN0KTtcbiAgICAgICAgfSxcblxuICAgICAgICBkb19lbWJlZHM6IGZ1bmN0aW9uICgkZWxlbSkge1xuICAgICAgICAgICAgLy8gVGFrZXMgYSBqUXVlcnkgZWxlbWVudCBjb250YWluaW5nIHJpY2hfZm9ybWF0dGVkIGNvZGUgYW5kXG4gICAgICAgICAgICAvLyByZXBsYWNlcyB0aGUgZW1iZWQ6IGxpbmtzIChhLmVtYmVkKSB3aXRoIGVtYmVkbHkgKyBzb21lXG4gICAgICAgICAgICAvLyBvdGhlciBmaWRkbGVzLlxuICAgICAgICAgICAgdmFyICRlbWJlZHMgPSAkZWxlbS5maW5kKCdhLmVtYmVkJyk7XG5cbiAgICAgICAgICAgIC8vIFZaQUFScywgdGhyb3VnaCBvZW1iZWQuXG4gICAgICAgICAgICAvLyAoYXJlIHdlIGV2ZXIgZ29pbmcgdG8gZ2V0IGF3YXkgZnJvbSB0aGVzZSBndXlzPylcbiAgICAgICAgICAgIHZhciAkdnphYXJzID0gJGVtYmVkcy5maWx0ZXIoJypbaHJlZio9XCJ2emFhci5jb21cIl0nKTtcbiAgICAgICAgICAgICR2emFhcnMub2VtYmVkKG51bGwsIHthdXRvcGxheTogZmFsc2V9KTtcblxuICAgICAgICAgICAgLy8gQlJBSU5TSEFSS1MsIHRocm91Z2ggY3VzdG9tIGNvZGUuXG4gICAgICAgICAgICAvLyAoYXJlIHdlIGV2ZXIgZ29pbmcgdG8gZ2V0IGF3YXkgZnJvbSB0aGVzZSBndXlzPylcbiAgICAgICAgICAgIHZhciAkYnJhaW5zaGFya3MgPSAkZW1iZWRzLmZpbHRlcignKltocmVmKj1cImJyYWluc2hhcmsuY29tXCJdJyk7XG4gICAgICAgICAgICAkYnJhaW5zaGFya3MuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIHVybCA9ICQodGhpcykuYXR0cignaHJlZicpO1xuICAgICAgICAgICAgICAgIHZhciBwaWQgPSB1cmwubWF0Y2goL1xcZCskLylbMF07XG4gICAgICAgICAgICAgICAgJCh0aGlzKS5yZXBsYWNlV2l0aChcIjxpZnJhbWUgc3JjPVxcXCJodHRwOi8vd3d3LmJyYWluc2hhcmsuY29tL2JyYWluc2hhcmsvdnUvdmlldy5hc3A/cGk9XCIgKyBwaWQgKyBcIiZkbT01JnBhdXNlPTEmbnJzPTFcXFwiIGZyYW1lYm9yZGVyPVxcXCIwXFxcIiBzY3JvbGxpbmc9XFxcIm5vXFxcIiBzdHlsZT1cXFwiYm9yZGVyOjFweCBzb2xpZCAjOTk5OTk5OyBoZWlnaHQ6NDAwcHg7XFxcIj48L2lmcmFtZT5cIik7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gR0xPR1NURVJTLCB0aHJvdWdoIGN1c3RvbSBjb2RlXG4gICAgICAgICAgICB2YXIgJGdsb2dzdGVycyA9ICRlbWJlZHMuZmlsdGVyKCcqW2hyZWYqPVwiZ2xvZ3N0ZXIuY29tXCJdJyk7XG4gICAgICAgICAgICAkZ2xvZ3N0ZXJzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciB1cmwgPSAkKHRoaXMpLmF0dHIoJ2hyZWYnKSxcbiAgICAgICAgICAgICAgICAgICAgaWQgPSB1cmwubWF0Y2goL2dsb2dcXC8oXFx3KykvKVsxXSxcbiAgICAgICAgICAgICAgICAgICAgdGFsbCA9ICh1cmwubWF0Y2goL3RhbGw9MS8pICE9PSBudWxsKSxcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0ID0gKHRhbGwgPyA2NzAgOiAzNjYpO1xuXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5yZXBsYWNlV2l0aCgnPGlmcmFtZSBzcmM9XCJodHRwOi8vd3d3Lmdsb2dzdGVyLmNvbS9nbG9nLycgKyBpZCArICdcIiBoZWlnaHQ9XCInICsgaGVpZ2h0ICsgJ1wiIHdpZHRoPVwiNDk1XCIgbmFtZT1cImdsb2dzdGVyLWVtYmVkLWdsb2dcIiBmcmFtZWJvcmRlcj1cIjBcIiBzY3JvbGxpbmc9XCJub1wiIG1hcmdpbmhlaWdodD1cIjBcIiBtYXJnaW53aWR0aD1cIjBcIiBzdHlsZT1cIm92ZXJmbG93OiBoaWRkZW47XCI+PC9pZnJhbWU+Jyk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gVGhlIHJlc3QsIHRocm91Z2ggZW1iZWRseS5cbiAgICAgICAgICAgICRlbWJlZHMubm90KCR2emFhcnMpXG4gICAgICAgICAgICAgICAgLm5vdCgkYnJhaW5zaGFya3MpXG4gICAgICAgICAgICAgICAgLm5vdCgkZ2xvZ3N0ZXJzKVxuICAgICAgICAgICAgICAgIC5lbWJlZGx5KHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyBzaG91bGQgcHJldmVudCB6LWluZGV4IGlzc3Vlcy5cbiAgICAgICAgICAgICAgICAgICAgZW1iZWRseV93bW9kZTogJ3dpbmRvdycsXG4gICAgICAgICAgICAgICAgICAgIGtleTogJ2ViMGEyOTQwZjAzNzExZTBhZmY1NDA0MGQzZGM1YzA3JyxcbiAgICAgICAgICAgICAgICAgICAgbWF4SGVpZ2h0OiAzNjAsXG4gICAgICAgICAgICAgICAgICAgIC8vIFNob3VsZCBwcm9iYWJseSBiZSBzeW5jZWQgd2l0aCBtZW0td2lkdGhcbiAgICAgICAgICAgICAgICAgICAgbWF4V2lkdGg6IDQ5NVxuICAgICAgICAgICAgICAgIH0pLmJpbmQoJ2VtYmVkbHktb2VtYmVkJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIC8vIFNldCBhIHRpbnkgdGltZW91dCB0byBtb2RpZnkgdGhlIHVybCBpZiBpdCdzIGEgWW91VHViZVxuICAgICAgICAgICAgICAgIC8vIHZpZGVvLiBSdW5uaW5nIGl0IHJpZ2h0IGF3YXkgZG9lc24ndCBzZWVtIHRvIHdvcmsuXG4gICAgICAgICAgICAgICAgdmFyICRwYXJlbnQgPSAkKHRoaXMpLnBhcmVudCgpO1xuICAgICAgICAgICAgICAgICQuZG9UaW1lb3V0KDEwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICRwYXJlbnQuZmluZCgnaWZyYW1lW3NyYyo9XCJ5b3V0dWJlLmNvbVwiXScpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmV3cml0ZSBcInlvdXR1LmJlXCIgbGlua3Mgc28gdGhhdCB3ZSBjYW4gYWRkIHNldHRpbmdzXG4gICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmF0dHIoJ3NyYycsICQodGhpcykuYXR0cignc3JjJykgKyAnJnJlbD0wJnNob3dzZWFyY2g9MCZzaG93aW5mbz0wJm1vZGVzdGJyYW5kaW5nPTEmZGlzYWJsZWtiPTEnKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcblxuICAgICAgICBnZXRfcG9vbF9jb250ZXh0OiBmdW5jdGlvbiAocG9vbCkge1xuICAgICAgICAgICAgdmFyIHBvb2xfZGljdCA9ICQuZXh0ZW5kKHRydWUsIHt9LCBwb29sKTtcbiAgICAgICAgICAgIHBvb2xfZGljdC5jb2x1bW5zX2xpc3QgPSBbXTtcbiAgICAgICAgICAgICQuZWFjaChwb29sLmNvbHVtbnMsIGZ1bmN0aW9uIChrZXksIGNvbHVtbikge1xuICAgICAgICAgICAgICAgIHZhciBjb2wgPSAkLmV4dGVuZCh0cnVlLCB7fSwgY29sdW1uKTtcbiAgICAgICAgICAgICAgICBjb2wua2V5ID0ga2V5O1xuICAgICAgICAgICAgICAgIHBvb2xfZGljdC5jb2x1bW5zX2xpc3QucHVzaChjb2wpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcG9vbF9kaWN0O1xuICAgICAgICB9LFxuXG4gICAgICAgIHJlbmRlckF1ZGlvUGxheWVyOiBmdW5jdGlvbiAodXJscykge1xuICAgICAgICAgICAgdmFyIHJ2ID0gXCJcIjtcbiAgICAgICAgICAgICQuZWFjaCh1cmxzLCBmdW5jdGlvbiAoaSwgdikge1xuICAgICAgICAgICAgICAgIHZhciB1cmwgPSByZW5kZXJlci5maXhNZWRpYVVybCh2KTtcbiAgICAgICAgICAgICAgICBydiArPSBcIjxhIGNsYXNzPSdhdWRpby1wbGF5ZXIgYXVkaW8tcGxheWVyLWhvdmVyJyBocmVmPSdcIiArIHVybCArIFwiJz48L2E+XCI7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBydjtcbiAgICAgICAgfSxcblxuICAgICAgICByZW5kZXJWaWRlb1BsYXllcjogZnVuY3Rpb24gKHVybCkge1xuICAgICAgICAgICAgdXJsID0gcmVuZGVyZXIuZml4TWVkaWFVcmwodXJsKTtcbiAgICAgICAgICAgIHZhciB2aWRlb19mYWxsYmFja191cmwgPSAnaHR0cDovL3ZpZGVvanMuY29tL2h0bWw1LXZpZGVvLXN1cHBvcnQvJyxcbiAgICAgICAgICAgICAgICB3aWR0aCA9IDI0MCxcbiAgICAgICAgICAgICAgICBoZWlnaHQgPSAyNDAsXG4gICAgICAgICAgICAgICAgbXNnID0gXCIgPHAgY2xhc3M9J3Zqcy1uby1qcyc+XCIgK1xuICAgICAgICAgICAgICAgICAgICBfdChcIlRvIHZpZXcgdGhpcyB2aWRlbyBwbGVhc2UgZW5hYmxlIEphdmFTY3JpcHQsIGFuZCBjb25zaWRlciB1cGdyYWRpbmcgdG8gYSB3ZWIgYnJvd3NlciB0aGF0IF9fYTFfX3N1cHBvcnRzIEhUTUw1IHZpZGVvXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGExOiBzcHJpbnRmKFwiPGEgaHJlZj0nJXMnIHRhcmdldD0nX2JsYW5rJz5cIiwgdmlkZW9fZmFsbGJhY2tfdXJsKVxuICAgICAgICAgICAgICAgICAgICB9KSArIFwiPC9hPjwvcD5cIixcbiAgICAgICAgICAgICAgICBpZCA9IHNwcmludGYoXCJ2aWRlby0lZFwiLCBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMjM0KSk7XG5cbiAgICAgICAgICAgIHJldHVybiBzcHJpbnRmKFwiPGRpdiBjbGFzcz0ndmlkZW8tY29udGFpbmVyJz5cIiArXG4gICAgICAgICAgICAgICAgXCI8dmlkZW8gY2xhc3M9J3ZpZGVvLXBsYXllciB2aWRlby1qcyB2anMtZGVmYXVsdC1za2luIHZqcy1iaWctcGxheS1jZW50ZXJlZCcgaWQ9JyVzJyB3aWR0aD0nJWQnIGhlaWdodD0nJWQnPlwiICtcbiAgICAgICAgICAgICAgICBcIjxzb3VyY2Ugc3JjPSclcycgdHlwZT0ndmlkZW8vbXA0Jz4lczwvdmlkZW8+XCIgK1xuICAgICAgICAgICAgICAgIFwiPC9kaXY+XCIsIGlkLCB3aWR0aCwgaGVpZ2h0LCB1cmwsIG1zZyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgcmVuZGVySW1hZ2VDYXJvdXNlbDogZnVuY3Rpb24gKHZhbCkge1xuICAgICAgICAgICAgdmFyIGNvbnRleHQgPSB7XG4gICAgICAgICAgICAgICAgJ2lkJzogXCJpbWFnZUNhcm91c2VsXCIgKyBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMjM0KSxcbiAgICAgICAgICAgICAgICAndmFscyc6IFtdXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgJC5lYWNoKHZhbCwgZnVuY3Rpb24gKGluZGV4LCB2YWxsKSB7XG4gICAgICAgICAgICAgICAgY29udGV4dFsndmFscyddLnVuc2hpZnQoe1xuICAgICAgICAgICAgICAgICAgICAnY2xhc3MnOiAoaW5kZXggPT09IDApID8gJ2FjdGl2ZSAnIDogJycsXG4gICAgICAgICAgICAgICAgICAgICd1cmwnOiByZW5kZXJlci5maXhNZWRpYVVybCh2YWxsKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcmVuZGVyZXIucmVuZGVyKCdtdWx0aS1pbWFnZS1jYXJvdXNlbCcsIGNvbnRleHQpO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZW5kZXJzIGEgY29sdW1uIHZhbHVlIGZvciBIVE1MIHVzZVxuICAgICAgICAgKiBAcGFyYW0ga2luZCB0ZXh0LCBpbWFnZSwgYXVkaW8gb3IgdmlkZW9cbiAgICAgICAgICogQHBhcmFtIHZhbCBUaGUgdmFsdWUsIGNhbiBiZSBhbiBhcnJheSBmb3IgbWVkaWEgb3IgYSBzdHJpbmcgZm9yIHRleHRcbiAgICAgICAgICogQHBhcmFtIHNhbXBsZSBJZiB0cnVlIGFuZCBub3QgdGV4dCBvciB2aWRlbyBvbmx5IG9uZSBvZiB0aGUgdmFsdWVzIHdpbGwgYmUgcmVuZGVyZWRcbiAgICAgICAgICogQHBhcmFtIHdpdGhNYXJrZG93biBJZiB0cnVlLCBcIm1hcmtkb3duIHdpbGwgYmUgdXNlZFwiIChPbmx5ICoqIGlzIHN1cHBvcnRlZCBhdG0pXG4gICAgICAgICAqIEByZXR1cm5zIHtzdHJ9XG4gICAgICAgICAqL1xuICAgICAgICByZW5kZXJWYWw6IGZ1bmN0aW9uIChraW5kLCB2YWwsIHNhbXBsZSwgd2l0aE1hcmtkb3duKSB7XG4gICAgICAgICAgICBpZiAodmFsID09PSBudWxsIHx8IHZhbC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICB2YWwgPSBcIlwiO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoa2luZCA9PT0gXCJ0ZXh0XCIpIHtcbiAgICAgICAgICAgICAgICAvLyBtYXJrZG93bi1qcyBlc2NhcGVzIGh0bWwgY2hhcnMgaW4gdGhlIGxpYi4gV2Ugb25seSBlc2NhcGUgd2hlbiBub3QgdXNpbmcgTURcbiAgICAgICAgICAgICAgICByZXR1cm4gd2l0aE1hcmtkb3duID8gbWFya2Rvd24udG9IVE1MKHZhbCkgOiB0aGlzLmVzY2FwZSh2YWwpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBGb3IgYWxsIG1lZGlhIHZhbHVlcywgd2UgYXNzdW1lIGFycmF5XG4gICAgICAgICAgICBpZiAoISh2YWwgaW5zdGFuY2VvZiBBcnJheSkpIHtcbiAgICAgICAgICAgICAgICB2YWwgPSBbdmFsXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHVybHMgPSBzYW1wbGUgPyBfLnNhbXBsZSh2YWwsIDEpIDogdmFsO1xuICAgICAgICAgICAgaWYgKGtpbmQgPT09ICdpbWFnZScpIHtcbiAgICAgICAgICAgICAgICBpZiAodmFsLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gU2hvdyBpbWFnZSBjYXJvdXNlbCB3aXRoIGEgcmFuZG9tIG9yZGVyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJlbmRlckltYWdlQ2Fyb3VzZWwoXy5zaHVmZmxlKHVybHMpKVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiBcIjxpbWcgc3JjPSdcIiArIHVybHNbMF0gKyBcIicgLz5cIjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGtpbmQgPT09ICdhdWRpbycpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yZW5kZXJBdWRpb1BsYXllcih1cmxzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gVmlkZW8gLSBhbHdheXMgc2FtcGxlXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yZW5kZXJWaWRlb1BsYXllcihfLnNhbXBsZSh2YWwpKTtcbiAgICAgICAgfSxcblxuICAgICAgICBnZXRMZWFybmFibGVDb2x1bW5Db250ZXh0OiBmdW5jdGlvbiAoY29sLCBleHRyYUNsYXNzZXMsIHNhbXBsZSwgd2l0aE1hcmtkb3duKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGxhYmVsOiBjb2wubGFiZWwsXG4gICAgICAgICAgICAgICAgYWx0czogY29sLmFsdGVybmF0aXZlcyxcbiAgICAgICAgICAgICAgICBraW5kOiBjb2wua2luZCxcbiAgICAgICAgICAgICAgICBleHRyYV9jbGFzc2VzOiBleHRyYUNsYXNzZXMuY29uY2F0KGNvbC5jbGFzc2VzKSxcbiAgICAgICAgICAgICAgICB2YWw6IHJlbmRlcmVyLnJlbmRlclZhbChjb2wua2luZCwgY29sLnZhbHVlLCBzYW1wbGUsIHdpdGhNYXJrZG93bilcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG5cbiAgICAgICAgZ2V0UHJlc2VudGF0aW9uQ29udGV4dDogZnVuY3Rpb24gKHByZXNlbnRhdGlvbikge1xuICAgICAgICAgICAgdmFyIGNvbHVtbnMgPSBbXSxcbiAgICAgICAgICAgICAgICBmb3VuZEZpcnN0QXVkaW8gPSBmYWxzZTtcblxuICAgICAgICAgICAgY29sdW1ucy5wdXNoKHRoaXMuZ2V0TGVhcm5hYmxlQ29sdW1uQ29udGV4dChwcmVzZW50YXRpb24uaXRlbSwgWydwcmltYXJ5J10sIGZhbHNlLCBwcmVzZW50YXRpb24ubWFya2Rvd24pKTtcbiAgICAgICAgICAgIGNvbHVtbnMucHVzaCh0aGlzLmdldExlYXJuYWJsZUNvbHVtbkNvbnRleHQocHJlc2VudGF0aW9uLmRlZmluaXRpb24sIFsnc2Vjb25kYXJ5J10sIGZhbHNlLCBwcmVzZW50YXRpb24ubWFya2Rvd24pKTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJlc2VudGF0aW9uLmNvbHVtbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgY29sdW1uID0gcHJlc2VudGF0aW9uLmNvbHVtbnNbaV0sXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzZXMgPSBjb2x1bW4uYWx3YXlzX3Nob3cgPyBbJ29uLXNob3ctbW9yZSddIDogW107XG5cbiAgICAgICAgICAgICAgICBpZiAoY29sdW1uLmtpbmQgPT09ICdhdWRpbycgJiYgIWZvdW5kRmlyc3RBdWRpbykge1xuICAgICAgICAgICAgICAgICAgICBmb3VuZEZpcnN0QXVkaW8gPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgaW50ZW50aW9uYWxseSB1bmRvZXMgYWRkaW5nICdvbi1zaG93LW1vcmUnIGZyb20gYSBmZXcgbGluZXMgYmVmb3JlXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzZXMgPSBbJ2ZpcnN0LWF1ZGlvJ107XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdmFyIGNvbHVtbkNvbnRleHQgPSB0aGlzLmdldExlYXJuYWJsZUNvbHVtbkNvbnRleHQoY29sdW1uLCBjbGFzc2VzLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgY29sdW1ucy5wdXNoKGNvbHVtbkNvbnRleHQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGNvbHVtbnM6IGNvbHVtbnMsXG4gICAgICAgICAgICAgICAgYXR0cmlidXRlczogcHJlc2VudGF0aW9uLmF0dHJpYnV0ZXNcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIHJlbmRlcmVyO1xufTtcblxufSx7fV0sMTk6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigkLCBNKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICB2YXIgcG9wdXBCYXNlT3B0aW9ucyxcbiAgICAgICAgcG9wdXAgPSB7fSxcbiAgICAgICAgY3VycmVudF91cmwgPSBNLkRPTUFJTiArIHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZTtcblxuICAgIHBvcHVwQmFzZU9wdGlvbnMgPSAnc3RhdHVzPW5vLCB0b29sYmFyPW5vLCBtZW51YmFyPW5vLCBsb2NhdGlvbj1ubyc7XG5cbiAgICAkKCdib2R5JylcbiAgICAgICAgLm9uKCdjbGljaycsICdbZGF0YS1yb2xlPVwidHdpdHRlci1zaGFyZVwiXScsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBNLnNoYXJpbmcudHdpdHRlclNoYXJlQ2xpY2soJCh0aGlzKSk7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH0pXG4gICAgICAgIC5vbignY2xpY2snLCAnW2RhdGEtcm9sZT1cImZhY2Vib29rLXNoYXJlXCJdJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgaWYgKEZCKSB7XG4gICAgICAgICAgICBNLnNoYXJpbmcuZmFjZWJvb2tTaGFyZUNsaWNrKCQodGhpcykpO1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBNLnNoYXJpbmcgPSBNLnNoYXJpbmcgfHwge307XG5cbiAgICBmdW5jdGlvbiBzaG9ydGVuVXJsICh1cmwsIGNhbGxiYWNrKSB7XG4gICAgICAgICQuZ2V0SlNPTihcbiAgICAgICAgICAgIFwiaHR0cHM6Ly9hcGktc3NsLmJpdGx5LmNvbS92My9zaG9ydGVuP2NhbGxiYWNrPT9cIixcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBcImZvcm1hdFwiOiBcImpzb25cIixcbiAgICAgICAgICAgICAgICBcImFwaUtleVwiOiAnUl82ZDY1ZTVhZjY2ZDk4MzU4YzExNzBhZGQ2NTI0NTNhYycsXG4gICAgICAgICAgICAgICAgXCJsb2dpblwiOiAnbWVtcmlzZScsXG4gICAgICAgICAgICAgICAgXCJsb25nVXJsXCI6IHVybFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgdmFyIHNob3J0VXJsID0gcmVzcG9uc2UuZGF0YS51cmw7XG5cbiAgICAgICAgICAgICAgICBpZiAoTS5ERUJVRykge1xuICAgICAgICAgICAgICAgICAgICBzaG9ydFVybCA9ICdodHRwczovL2JpdC5seS9kZWJ1Z19VUkwnO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNhbGxiYWNrKHNob3J0VXJsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRQb3B1cE9wdGlvbnMgKCkge1xuICAgICAgICBwb3B1cC53aWR0aCA9IDU1MDtcbiAgICAgICAgcG9wdXAuaGVpZ2h0ID0gNDUwO1xuICAgICAgICBwb3B1cC5sZWZ0ID0gKCQod2luZG93KS53aWR0aCgpIC0gcG9wdXAud2lkdGgpICAvIDI7XG4gICAgICAgIHBvcHVwLnRvcCA9ICgkKHdpbmRvdykuaGVpZ2h0KCkgLSBwb3B1cC5oZWlnaHQgKyA1MCkgLyAyO1xuICAgICAgICBwb3B1cC5zdHIgPSBwb3B1cEJhc2VPcHRpb25zICsgJywgd2lkdGg9JyArIHBvcHVwLndpZHRoICArJywgaGVpZ2h0PScgKyBwb3B1cC5oZWlnaHQgKyAnLCB0b3A9JyArIHBvcHVwLnRvcCArICcsIGxlZnQ9JyArIHBvcHVwLmxlZnQ7XG4gICAgfVxuXG4gICAgTS5zaGFyaW5nLnR3aXR0ZXJTaGFyZUNsaWNrID0gZnVuY3Rpb24odGFyZ2V0KSB7XG4gICAgICAgIHZhciB1cmwgICAgICAgICAgPSB0YXJnZXQuZGF0YUF0dHIoJ3VybCcpIHx8IGN1cnJlbnRfdXJsLFxuICAgICAgICAgICAgdHdlZXRUZXh0ICAgID0gdGFyZ2V0LmRhdGFBdHRyKCd0d2VldCcpIHx8ICdDaGVjayB0aGlzIG91dCEgICcsXG4gICAgICAgICAgICB2aWEgICAgICAgICAgPSB0YXJnZXQuZGF0YUF0dHIoJ3ZpYScpIHx8ICdtZW1yaXNlJyxcbiAgICAgICAgICAgIGhhc2hUYWdzICAgICA9ICdHcm93WW91ck1pbmQsJyArICggdGFyZ2V0LmRhdGFBdHRyKCdoYXNodGFncycpIHx8ICcnICksXG4gICAgICAgICAgICBjb21wbGV0ZVVybDtcblxuICAgICAgICBnZXRQb3B1cE9wdGlvbnMoKTtcblxuICAgICAgICBzaG9ydGVuVXJsKHVybCwgZnVuY3Rpb24gKHNob3J0VXJsKSB7XG4gICAgICAgICAgICBjb21wbGV0ZVVybCA9XG4gICAgICAgICAgICAgICAgJ2h0dHA6Ly90d2l0dGVyLmNvbS9pbnRlbnQvdHdlZXQ/dGV4dD0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHR3ZWV0VGV4dCkgK1xuICAgICAgICAgICAgICAgICcmdXJsPScgKyBlbmNvZGVVUklDb21wb25lbnQoc2hvcnRVcmwpICtcbiAgICAgICAgICAgICAgICAnJnZpYT0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHZpYSkgK1xuICAgICAgICAgICAgICAgICcmaGFzaHRhZ3M9JyArIGVuY29kZVVSSUNvbXBvbmVudChoYXNoVGFncyk7XG5cbiAgICAgICAgICAgIHdpbmRvdy5vcGVuKGNvbXBsZXRlVXJsLCAnVHdlZXQnLCBwb3B1cC5zdHIpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBNLnNoYXJpbmcuZmFjZWJvb2tTaGFyZUNsaWNrID0gZnVuY3Rpb24gKHRyaWdnZXIpIHtcbiAgICAgICAgdmFyIG9iaiA9IHtcbiAgICAgICAgICAgIG1ldGhvZDogJ2ZlZWQnLFxuICAgICAgICAgICAgbGluazogdHJpZ2dlci5kYXRhQXR0cigndXJsJykgfHwgY3VycmVudF91cmwsXG4gICAgICAgICAgICBwaWN0dXJlOiB0cmlnZ2VyLmRhdGFBdHRyKCdwaWN0dXJlJykgfHwgbnVsbCxcbiAgICAgICAgICAgIG5hbWU6IHRyaWdnZXIuZGF0YUF0dHIoJ3RpdGxlJykgfHwgbnVsbCxcbiAgICAgICAgICAgIGNhcHRpb246IHRyaWdnZXIuZGF0YUF0dHIoJ2NhcHRpb24nKSB8fCBudWxsLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246IHRyaWdnZXIuZGF0YUF0dHIoJ2Rlc2NyaXB0aW9uJykgfHwgbnVsbFxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChNLkRFQlVHKSB7XG4gICAgICAgICAgICBvYmoucGljdHVyZSA9ICdodHRwOi8vcGxhY2VraXR0ZW4uY29tLzEwMC8xMDAnO1xuICAgICAgICB9XG5cbiAgICAgICAgRkIudWkob2JqLCBmdW5jdGlvbiAoKSB7fSk7XG4gICAgfVxufTtcblxufSx7fV0sMjA6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoTSkge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgY2hlY2tUcmFja2luZzogZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgICAgICAgaWYgKE0udHJhY2tpbmcgJiYgTS50cmFja2luZ1tlbGVtZW50XSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9LFxuICAgICAgICBnZXRUcmFja2luZ0FjdGlvbjogZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgICAgICAgdmFyIGFjdGlvbiA9IE0udHJhY2tpbmdbZWxlbWVudF1bJ2FjdGlvbiddO1xuICAgICAgICAgICAgZGVsZXRlIE0udHJhY2tpbmdbZWxlbWVudF1bJ2FjdGlvbiddO1xuXG4gICAgICAgICAgICByZXR1cm4gYWN0aW9uO1xuICAgICAgICB9LFxuICAgICAgICBmb3JtYXRUcmFja2luZzogZnVuY3Rpb24gKGVsZW1lbnQsIHVuaXF1ZUlkZW50aWZpZXIpIHtcbiAgICAgICAgICAgIGlmICh1bmlxdWVJZGVudGlmaWVyKSB7XG4gICAgICAgICAgICAgICAgTS50cmFja2luZ1tlbGVtZW50XVt1bmlxdWVJZGVudGlmaWVyXSA9IHRoaXMuZ2V0VHJhY2tpbmdJZCh1bmlxdWVJZGVudGlmaWVyKVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBnZXRUcmFja2luZ0lkOiBmdW5jdGlvbih1bmlxdWVJZGVudGlmaWVyKSB7XG4gICAgICAgICAgICB2YXIgdUlkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0odW5pcXVlSWRlbnRpZmllcik7XG4gICAgICAgICAgICBpZiAoIXVJZCkge1xuICAgICAgICAgICAgICAgIHVJZCA9IHV1aWRWNCgpO1xuICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKHVuaXF1ZUlkZW50aWZpZXIsIHVJZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdUlkO1xuICAgICAgICB9LFxuICAgICAgICByZW1vdmVUcmFja2luZ0lkOiBmdW5jdGlvbih1bmlxdWVJZGVudGlmaWVyKSB7XG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSh1bmlxdWVJZGVudGlmaWVyKTtcbiAgICAgICAgfVxuICAgIH07XG59O1xufSx7fV0sMjE6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoJCwgdmlkZW9qcykge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcudmlkZW8tY29udGFpbmVyIC52aWRlby1wbGF5ZXInLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciAkc2VsZiA9ICQodGhpcyk7XG4gICAgICAgIGlmICgkc2VsZi5jaGlsZHJlbigndmlkZW8nKS5sZW5ndGggPT09IDApXG4gICAgICAgICAgICB2aWRlb2pzKCRzZWxmLmF0dHIoXCJpZFwiKSwgeyBhdXRvcGxheTogdHJ1ZSwgY29udHJvbHM6IHRydWUsIHByZWxvYWQ6IFwiYXV0b1wiIH0pO1xuICAgIH0pO1xufTtcblxufSx7fV0sMjI6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgRElTQ09VTlRfQ09ERVM6IHtcbiAgICAgICAgMjA6ICdNT1VTSEEnLFxuICAgICAgICA1MDogJ09MSVZFUidcbiAgICB9XG59O1xuXG59LHt9XSwyMzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCQsIE0sIG0sIENvb2tpZXMpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICB2YXIgY3NyZlNhZmVNZXRob2QsIHNhbWVPcmlnaW47XG4gICAgdmFyIGNhdGNoZWRFcnJvck1lc3NhZ2VzID0gW1xuICAgICAgICAnTG9naW4gcmVxdWlyZWQuJyxcbiAgICAgICAgJ0NTUkYgZmFpbGVkLidcbiAgICBdO1xuXG4gICAgLy8gQ1NSRiBmaXggOiBzZWUgamF2YXNjcmlwdF91c2VyLmh0bWxcbiAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChNLmNzcmZ0b2tlbiAmJlxuICAgICAgICAgICAgQ29va2llcy5nZXQoJ2NzcmZ0b2tlbicpICE9PSBNLmNzcmZ0b2tlbiAmJlxuICAgICAgICAgICAgTS5jc3JmdG9rZW4gIT09ICdOT1RQUk9WSURFRCdcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgQ29va2llcy5zZXQoJ2NzcmZ0b2tlbicsIE0uY3NyZnRva2VuKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgJChkb2N1bWVudCkuYWpheEVycm9yKGZ1bmN0aW9uKGV2ZW50LCByZXF1ZXN0KSB7XG4gICAgICAgIGlmIChyZXF1ZXN0LnN0YXR1cyA9PT0gNDAzICYmIGNhdGNoZWRFcnJvck1lc3NhZ2VzLmluZGV4T2YocmVxdWVzdC5yZXNwb25zZVRleHQpID4gLTEpIHtcbiAgICAgICAgICAgIE0ubW9kYWwuZXJyb3IoX3QoXG4gICAgICAgICAgICAgICAgJ1VoLW9oLCBzb21ldGhpbmcgd2VudCB3cm9uZy4gQ2xpY2sgT0sgdG8gcmVzdW1lIHlvdXIgc2Vzc2lvbiAoJyArIHJlcXVlc3QucmVzcG9uc2VUZXh0ICsgJyknXG4gICAgICAgICAgICApLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJy9sb2dpbic7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gQWRkIGluIENTUkYgaGVhZGVyIHRvIGV2ZXJ5IEFKQVggcmVxdWVzdC4gQ29waWVkIGZyb20gRGphbmdvIENTUkYgcmVmLlxuICAgIC8vIGh0dHBzOi8vZG9jcy5kamFuZ29wcm9qZWN0LmNvbS9lbi9kZXYvcmVmL2NvbnRyaWIvY3NyZi9cbiAgICBjc3JmU2FmZU1ldGhvZCA9IGZ1bmN0aW9uIChtZXRob2QpIHtcbiAgICAgICAgLy8gdGhlc2UgSFRUUCBtZXRob2RzIGRvIG5vdCByZXF1aXJlIENTUkYgcHJvdGVjdGlvblxuICAgICAgICByZXR1cm4gKC9eKEdFVHxIRUFEfE9QVElPTlN8VFJBQ0UpJC8udGVzdChtZXRob2QpKTtcbiAgICB9O1xuXG4gICAgc2FtZU9yaWdpbiA9IGZ1bmN0aW9uICh1cmwpIHtcbiAgICAgICAgLy8gdGVzdCB0aGF0IGEgZ2l2ZW4gdXJsIGlzIGEgc2FtZS1vcmlnaW4gVVJMXG4gICAgICAgIC8vIHVybCBjb3VsZCBiZSByZWxhdGl2ZSBvciBzY2hlbWUgcmVsYXRpdmUgb3IgYWJzb2x1dGVcbiAgICAgICAgdmFyIGhvc3QgPSBkb2N1bWVudC5sb2NhdGlvbi5ob3N0OyAvLyBob3N0ICsgcG9ydFxuICAgICAgICB2YXIgcHJvdG9jb2wgPSBkb2N1bWVudC5sb2NhdGlvbi5wcm90b2NvbDtcbiAgICAgICAgdmFyIHNyX29yaWdpbiA9ICcvLycgKyBob3N0O1xuICAgICAgICB2YXIgb3JpZ2luID0gcHJvdG9jb2wgKyBzcl9vcmlnaW47XG4gICAgICAgIC8vIEFsbG93IGFic29sdXRlIG9yIHNjaGVtZSByZWxhdGl2ZSBVUkxzIHRvIHNhbWUgb3JpZ2luXG4gICAgICAgIHJldHVybiAodXJsID09PSBvcmlnaW4gfHwgdXJsLnNsaWNlKDAsIG9yaWdpbi5sZW5ndGggKyAxKSA9PT0gb3JpZ2luICsgJy8nKSB8fFxuICAgICAgICAgICAgKHVybCA9PT0gc3Jfb3JpZ2luIHx8IHVybC5zbGljZSgwLCBzcl9vcmlnaW4ubGVuZ3RoICsgMSkgPT09IHNyX29yaWdpbiArICcvJykgfHxcbiAgICAgICAgICAgIC8vIG9yIGFueSBvdGhlciBVUkwgdGhhdCBpc24ndCBzY2hlbWUgcmVsYXRpdmUgb3IgYWJzb2x1dGUgaS5lIHJlbGF0aXZlLlxuICAgICAgICAgICAgISgvXihcXC9cXC98aHR0cDp8aHR0cHM6KS4qLy50ZXN0KHVybCkpO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiB4aHJDb25maWcoeGhyLCBzZXR0aW5ncykge1xuICAgICAgICBpZiAoIWNzcmZTYWZlTWV0aG9kKHNldHRpbmdzLnR5cGUpICYmIHNhbWVPcmlnaW4oc2V0dGluZ3MudXJsKSkge1xuICAgICAgICAgICAgLy8gU2VuZCB0aGUgdG9rZW4gdG8gc2FtZS1vcmlnaW4sIHJlbGF0aXZlIFVSTHMgb25seS5cbiAgICAgICAgICAgIC8vIFNlbmQgdGhlIHRva2VuIG9ubHkgaWYgdGhlIG1ldGhvZCB3YXJyYW50cyBDU1JGIHByb3RlY3Rpb25cbiAgICAgICAgICAgIC8vIFVzaW5nIHRoZSBDU1JGVG9rZW4gdmFsdWUgYWNxdWlyZWQgZWFybGllclxuICAgICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoXCJYLUNTUkZUb2tlblwiLCBNLmNzcmZ0b2tlbik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAkLmFqYXhTZXR1cCh7XG4gICAgICAgIGNhY2hlOiBmYWxzZSxcbiAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcbiAgICAgICAgYmVmb3JlU2VuZDogeGhyQ29uZmlnXG4gICAgfSk7XG5cbiAgICBtLnBvc3QgPSBmdW5jdGlvbihvcHRzKSB7XG4gICAgICAgIG9wdHMuY29uZmlnID0geGhyQ29uZmlnO1xuICAgICAgICBvcHRzLm1ldGhvZCA9ICdQT1NUJztcbiAgICAgICAgcmV0dXJuIG0ucmVxdWVzdChvcHRzKTtcbiAgICB9O1xufTtcblxufSx7fV0sMjQ6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoJCwgTSkge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgJCgnYm9keScpLnByZXBlbmQoJzxkaXYgaWQ9XCJmYi1yb290XCI+PC9kaXY+Jyk7XG5cbiAgICB3aW5kb3cuZmJBc3luY0luaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgd2luZG93LkZCLmluaXQoe1xuICAgICAgICAgICAgYXBwSWQgOiBNLkZBQ0VCT09LX0FQUF9JRCxcbiAgICAgICAgICAgIHZlcnNpb246ICd2JyArIE0uRkFDRUJPT0tfQVBJX1ZFUlNJT04sXG4gICAgICAgICAgICBzdGF0dXMgOiB0cnVlLFxuICAgICAgICAgICAgeGZibWwgOiB0cnVlLFxuICAgICAgICAgICAgY29va2llOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICAkKCcjZmItcm9vdCcpLnRyaWdnZXIoJ2ZhY2Vib29rOmluaXQnKTtcbiAgICB9O1xuXG4gICAgKGZ1bmN0aW9uKGQsIHMsIGlkKXtcbiAgICAgICAgdmFyIGpzLCBmanMgPSBkLmdldEVsZW1lbnRzQnlUYWdOYW1lKHMpWzBdO1xuXG4gICAgICAgIGlmIChkLmdldEVsZW1lbnRCeUlkKGlkKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAganMgPSBkLmNyZWF0ZUVsZW1lbnQocyk7XG4gICAgICAgIGpzLmlkID0gaWQ7XG4gICAgICAgIGpzLnNyYyA9IFwiLy9jb25uZWN0LmZhY2Vib29rLm5ldC9lbl9VUy9zZGsuanNcIjtcbiAgICAgICAgZmpzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGpzLCBmanMpO1xuXG4gICAgfShkb2N1bWVudCwgJ3NjcmlwdCcsICdmYWNlYm9vay1qc3NkaycpKTtcblxufTtcblxufSx7fV0sMjU6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoJCwgTSwgaTE4bikge1xuICAgIHZhciBvcHRpb25zID0ge1xuICAgICAgICBzaG93S2V5SWZFbXB0eTogdHJ1ZSxcbiAgICAgICAgLy8gbGFuZ3VhZ2VzXG4gICAgICAgIGxuZzogTS5MQU5HLFxuICAgICAgICBsb2FkOiAnY3VycmVudCcsXG4gICAgICAgIC8vIHByZXZlbnQgbG9hZGluZyBtdWx0aXBsZSBqc29uIGZpbGVzXG4gICAgICAgIGZhbGxiYWNrTG5nOiBmYWxzZSxcbiAgICAgICAgLy8gc2VwYXJhdG9yc1xuICAgICAgICBrZXlzZXBhcmF0b3I6ICcmJiYmJicsXG4gICAgICAgIG5zc2VwYXJhdG9yOiAnJiYmJiYmJyxcbiAgICAgICAgLy8gcmVzb3VyY2Ugc3RvcmVcbiAgICAgICAgcmVzR2V0UGF0aDogTS5TVEFUSUNfVVJMICsgTS51cmxzLmxvY2FsZVxuICAgIH07XG5cbiAgICBpMThuLmluaXQob3B0aW9ucywgZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBvaCBJRTkuLi5cbiAgICAgICAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKE0ucmVuZGVyZXIpIHtcbiAgICAgICAgICAgICAgICBNLnJlbmRlcmVyLmxvYWQoTS50ZW1wbGF0ZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgIC8vIHNob3J0Y3V0XG4gICAgd2luZG93Ll90ID0gaTE4bi50O1xuICAgIHdpbmRvdy5wbHVyYWwgPSByZXF1aXJlKDMzKShzcHJpbnRmKTtcbn07XG5cbn0se1wiMzNcIjozM31dLDI2OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbi8vIFNldCB1cCBhIGdsb2JhbCBLRVlfQ09ERVMgb2JqZWN0IHRvIG1ha2Uga2V5ZG93biBoYW5kbGluZyBlYXNpZXIuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBCQUNLU1BBQ0U6IDgsXG4gICAgQ0FQU19MT0NLOiAyMCxcbiAgICBDT01NQTogMTg4LFxuICAgIENPTlRST0w6IDE3LFxuICAgIERFTEVURTogNDYsXG4gICAgRU5EOiAzNSxcbiAgICBFTlRFUjogMTMsXG4gICAgRVNDQVBFOiAyNyxcbiAgICBIT01FOiAzNixcbiAgICBJTlNFUlQ6IDQ1LFxuICAgIFBBR0VfRE9XTjogMzQsXG4gICAgUEFHRV9VUDogMzMsXG4gICAgUEVSSU9EOiAxOTAsXG4gICAgU0hJRlQ6IDE2LFxuICAgIFNQQUNFOiAzMixcbiAgICBUQUI6IDksXG4gICAgVVA6IDM4LFxuICAgIERPV046IDQwLFxuICAgIExFRlQ6IDM3LFxuICAgIFJJR0hUOiAzOSxcbiAgICBaRVJPOiA0OCxcbiAgICBPTkU6IDQ5LFxuICAgIFRXTzogNTAsXG4gICAgVEhSRUU6IDUxLFxuICAgIEZPVVI6IDUyLFxuICAgIEZJVkU6IDUzLFxuICAgIFNJWDogNTQsXG4gICAgU0VWRU46IDU1LFxuICAgIEVJR0hUOiA1NixcbiAgICBOSU5FOiA1NyxcbiAgICBOVU1QQURfQUREOiAxMDcsXG4gICAgTlVNUEFEX0RFQ0lNQUw6IDExMCxcbiAgICBOVU1QQURfRElWSURFOiAxMTEsXG4gICAgTlVNUEFEX0VOVEVSOiAxMDgsXG4gICAgTlVNUEFEX01VTFRJUExZOiAxMDYsXG4gICAgTlVNUEFEX1NVQlRSQUNUOiAxMDksXG4gICAgTlVNUEFEX1pFUk86IDk2LFxuICAgIE5VTVBBRF9PTkU6IDk3LFxuICAgIE5VTVBBRF9UV086IDk4LFxuICAgIE5VTVBBRF9USFJFRTogOTksXG4gICAgTlVNUEFEX0ZPVVI6IDEwMCxcbiAgICBOVU1QQURfRklWRTogMTAxLFxuICAgIE5VTVBBRF9TSVg6IDEwMixcbiAgICBOVU1QQURfU0VWRU46IDEwMyxcbiAgICBOVU1QQURfRUlHSFQ6IDEwNCxcbiAgICBOVU1QQURfTklORTogMTA1LFxuICAgIEEgOiA2NSxcbiAgICBCIDogNjYsXG4gICAgQyA6IDY3LFxuICAgIEQgOiA2OCxcbiAgICBFIDogNjksXG4gICAgRiA6IDcwLFxuICAgIEcgOiA3MSxcbiAgICBIIDogNzIsXG4gICAgSSA6IDczLFxuICAgIEogOiA3NCxcbiAgICBLIDogNzUsXG4gICAgTCA6IDc2LFxuICAgIE0gOiA3NyxcbiAgICBOIDogNzgsXG4gICAgTyA6IDc5LFxuICAgIFAgOiA4MCxcbiAgICBRIDogODEsXG4gICAgUiA6IDgyLFxuICAgIFMgOiA4MyxcbiAgICBUIDogODQsXG4gICAgVSA6IDg1LFxuICAgIFYgOiA4NixcbiAgICBXIDogODcsXG4gICAgWCA6IDg4LFxuICAgIFkgOiA4OSxcbiAgICBaIDogOTBcbn07XG5cbn0se31dLDI3OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbi8vIE11c3QgZXhwb3J0IG1vbWVudCB0byB3aW5kb3cgbmFtZXNwYWNlIGZvciBtb21lbnQtZHVyYXRvbi1mb3JtYXQgdG8gd29ya1xud2luZG93Lm1vbWVudCA9IHJlcXVpcmUoNDcpO1xucmVxdWlyZSg0Nik7XG5cbn0se1wiNDZcIjo0NixcIjQ3XCI6NDd9XSwyODpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChNLCBSYXZlbikge1xuICAgIGlmIChNLlNFTlRSWV9QVUJMSUNfRFNOKSB7XG4gICAgICAgIFJhdmVuLmNvbmZpZyhNLlNFTlRSWV9QVUJMSUNfRFNOKS5pbnN0YWxsKCk7XG4gICAgICAgIGlmIChNLnVzZXIgJiYgTS51c2VyLmVtYWlsKSB7XG4gICAgICAgICAgICBSYXZlbi5zZXRVc2VyQ29udGV4dCh7XG4gICAgICAgICAgICAgICAgaWQ6IE0udXNlci5pZCxcbiAgICAgICAgICAgICAgICBlbWFpbDogTS51c2VyLmVtYWlsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5cbn0se31dLDI5OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbi8qKlxuICogU2VnbWVudCBpbnRlZ3JhdGlvbiBjb2RlLlxuICogU2VlIGRvY3VtZW50YXRpb24gYXQgaHR0cHM6Ly9zZWdtZW50LmNvbS9kb2NzL3NvdXJjZXMvd2Vic2l0ZS9hbmFseXRpY3MuanMvXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKE0pIHtcbiAgICAhZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYW5hbHl0aWNzID0gd2luZG93LmFuYWx5dGljcyA9IHdpbmRvdy5hbmFseXRpY3MgfHwgW107XG4gICAgICAgIGlmICghYW5hbHl0aWNzLmluaXRpYWxpemUpaWYgKGFuYWx5dGljcy5pbnZva2VkKSB3aW5kb3cuY29uc29sZSAmJiBjb25zb2xlLmVycm9yICYmIGNvbnNvbGUuZXJyb3IoXCJTZWdtZW50IHNuaXBwZXQgaW5jbHVkZWQgdHdpY2UuXCIpOyBlbHNlIHtcbiAgICAgICAgICAgIGFuYWx5dGljcy5pbnZva2VkID0gITA7XG4gICAgICAgICAgICBhbmFseXRpY3MubWV0aG9kcyA9IFtcInRyYWNrU3VibWl0XCIsIFwidHJhY2tDbGlja1wiLCBcInRyYWNrTGlua1wiLCBcInRyYWNrRm9ybVwiLCBcInBhZ2V2aWV3XCIsIFwiaWRlbnRpZnlcIiwgXCJyZXNldFwiLCBcImdyb3VwXCIsIFwidHJhY2tcIiwgXCJyZWFkeVwiLCBcImFsaWFzXCIsIFwiZGVidWdcIiwgXCJwYWdlXCIsIFwib25jZVwiLCBcIm9mZlwiLCBcIm9uXCJdO1xuICAgICAgICAgICAgYW5hbHl0aWNzLmZhY3RvcnkgPSBmdW5jdGlvbiAodCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBlID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtcbiAgICAgICAgICAgICAgICAgICAgZS51bnNoaWZ0KHQpO1xuICAgICAgICAgICAgICAgICAgICBhbmFseXRpY3MucHVzaChlKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFuYWx5dGljc1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBmb3IgKHZhciB0ID0gMDsgdCA8IGFuYWx5dGljcy5tZXRob2RzLmxlbmd0aDsgdCsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGUgPSBhbmFseXRpY3MubWV0aG9kc1t0XTtcbiAgICAgICAgICAgICAgICBhbmFseXRpY3NbZV0gPSBhbmFseXRpY3MuZmFjdG9yeShlKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYW5hbHl0aWNzLmxvYWQgPSBmdW5jdGlvbiAodCkge1xuICAgICAgICAgICAgICAgIHZhciBlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtcbiAgICAgICAgICAgICAgICBlLnR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiO1xuICAgICAgICAgICAgICAgIGUuYXN5bmMgPSAhMDtcbiAgICAgICAgICAgICAgICBlLnNyYyA9IChcImh0dHBzOlwiID09PSBkb2N1bWVudC5sb2NhdGlvbi5wcm90b2NvbCA/IFwiaHR0cHM6Ly9cIiA6IFwiaHR0cDovL1wiKSArIFwiY2RuLnNlZ21lbnQuY29tL2FuYWx5dGljcy5qcy92MS9cIiArIHQgKyBcIi9hbmFseXRpY3MubWluLmpzXCI7XG4gICAgICAgICAgICAgICAgdmFyIG4gPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNjcmlwdFwiKVswXTtcbiAgICAgICAgICAgICAgICBuLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGUsIG4pXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgYW5hbHl0aWNzLlNOSVBQRVRfVkVSU0lPTiA9IFwiNC4wLjBcIjtcblxuICAgICAgICAgICAgLy8gVHJhY2tpbmcgY29kZSBzdGFydFxuICAgICAgICAgICAgYW5hbHl0aWNzLmxvYWQoTS5TRUdNRU5UX1dFQl9LRVkpO1xuXG4gICAgICAgICAgICBpZiAoTS51c2VyLmlzX2F1dGhlbnRpY2F0ZWQpIHtcbiAgICAgICAgICAgICAgICBhbmFseXRpY3MuaWRlbnRpZnkoTS51c2VyLmlkLCB7XG4gICAgICAgICAgICAgICAgICAgIHVzZXJuYW1lOiBNLnVzZXIudXNlcm5hbWUsXG4gICAgICAgICAgICAgICAgICAgIGlzX3BybzogTS51c2VyLmlzX3ByZW1pdW1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYW5hbHl0aWNzLnBhZ2UoKTtcblxuICAgICAgICB9XG4gICAgfSgpO1xuXG59O1xuXG59LHt9XSwzMDpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHNvdW5kTWFuYWdlciwgTSkge1xuICAgIHNvdW5kTWFuYWdlci5zZXR1cCh7XG4gICAgICAgIHVybDogTS5TVEFUSUNfVVJMICsgJ2ZsYXNoLycsXG4gICAgICAgIHVzZUhUTUw1QXVkaW86IHRydWUsXG4gICAgICAgIGRlYnVnTW9kZTogZmFsc2UsXG4gICAgICAgIHVzZUNvbnNvbGU6IGZhbHNlLFxuICAgICAgICBkZWJ1Z0ZsYXNoOiBmYWxzZSxcbiAgICAgICAgY29uc29sZU9ubHk6IGZhbHNlLFxuICAgICAgICBwcmVmZXJGbGFzaDogZmFsc2UsXG4gICAgICAgIG9udGltZW91dDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKHdpbmRvdy5jb25zb2xlKSB7XG4gICAgICAgICAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKFwic291bmRNYW5hZ2VyIHRpbWVkIG91dFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xufTtcblxufSx7fV0sMzE6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuLyoqXG4gKiBUaGlzIGZpbGUgYnVpbGQgYW5kIGludm9rZSBhbGwgbWVtcmlzZSdzIGN1c3RvbSBzY3JpcHRzIG5lZWRlZCBmb3IgZXZlcnkgcGFnZVxuICogb24gZG9jdW1lbnQgcmVhZHkuXG4gKi9cbihmdW5jdGlvbihNKSB7XG4gICAgLy8gUmF2ZW4gcmVwb3J0cyBqcyBlcnJvcnMsIHNvIGxvYWQgaXQgZmlyc3RcbiAgICByZXF1aXJlKDI4KShNLCBSYXZlbik7XG5cbiAgICAvL3BvbHlmaWxscyB0byBzaWxlbmNlIHNlbnRyeSBlcnJvcnNcbiAgICByZXF1aXJlKDQ1KSgpO1xuXG4gICAgLy8gaTE4biBnb2VzIGZpcnN0XG4gICAgcmVxdWlyZSgyNSkoJCwgTSwgaTE4bik7XG5cbiAgICAvLyBQbHVnaW5zXG4gICAgcmVxdWlyZSgzOSkoTSwgTW9kZXJuaXpyKTtcbiAgICByZXF1aXJlKDM0KSgkKTtcbiAgICByZXF1aXJlKDM1KSgkLCBfKTtcbiAgICByZXF1aXJlKDM2KSgkKTtcbiAgICByZXF1aXJlKDM3KSgkLCBNLCBfKTtcbiAgICByZXF1aXJlKDM4KShfKTtcbiAgICByZXF1aXJlKDMyKSgkLCBfLCBIYW5kbGViYXJzLCBNKTtcblxuICAgIC8vIENvbmZpZ3NcbiAgICByZXF1aXJlKDIzKSgkLCBNLCBtLCBDb29raWVzKTtcbiAgICByZXF1aXJlKDMwKShzb3VuZE1hbmFnZXIsIE0pO1xuICAgIHJlcXVpcmUoMjQpKCQsIE0pO1xuICAgIHJlcXVpcmUoMjkpKE0pO1xuICAgIHJlcXVpcmUoMjcpO1xuICAgIHJlcXVpcmUoMjgpO1xuICAgIHdpbmRvdy5LRVlfQ09ERVMgPSByZXF1aXJlKDI2KTtcbiAgICB3aW5kb3cudXVpZFY0ID0gcmVxdWlyZSg1MCk7XG4gICAgTS5DT05TVEFOVFMgPSByZXF1aXJlKDIyKTtcblxuICAgIC8vIE91ciBnbG9iYWwgYXBwc1xuICAgIHdpbmRvdy5kYXRldGltZSA9IHJlcXVpcmUoMTYpKF8pO1xuICAgIE0ucmVuZGVyZXIgPSByZXF1aXJlKDE4KSgkLCBNLCBfLCBIYW5kbGViYXJzLCBtYXJrZG93bik7XG4gICAgcmVxdWlyZSgxNykoJCwgTSk7XG4gICAgcmVxdWlyZSgyMSkoJCwgdmlkZW9qcyk7XG4gICAgcmVxdWlyZSgxNSkoJCwgTSwgc291bmRNYW5hZ2VyKTtcbiAgICByZXF1aXJlKDE5KSgkLCBNKTtcblxuICAgIC8vIFVJIGNvbXBvbmVudHNcbiAgICByZXF1aXJlKDQwKSgkKTtcbiAgICByZXF1aXJlKDQyKSgkLCBNKTtcbiAgICByZXF1aXJlKDQzKShfLCAkLCBNLCBDbGFzcyk7XG4gICAgcmVxdWlyZSg0NCkoJCwgTSk7XG4gICAgcmVxdWlyZSg0MSkoJCwgTSk7XG5cbiAgICAvLyBnYXJkZW4gYXBwc1xuICAgIHJlcXVpcmUoNCkoXywgJCwgTSk7XG4gICAgTS5sZWFkZXJib2FyZCA9IHJlcXVpcmUoNSkoJCwgTSwgbSwgXyk7XG4gICAgcmVxdWlyZSg5KSgkLCBNLCBfLCBIYW5kbGViYXJzKTtcbiAgICByZXF1aXJlKDEwKShDbGFzcywgXywgJCwgTSk7XG4gICAgcmVxdWlyZSgxMSkoJCwgTSk7XG4gICAgcmVxdWlyZSgxNCkoJCwgTSk7XG4gICAgcmVxdWlyZSg3KSgkLCBNKTtcbiAgICByZXF1aXJlKDYpKCQsIE0pO1xuICAgIHJlcXVpcmUoOCkoJCwgTSk7XG4gICAgcmVxdWlyZSgxMikoXywgQ2xhc3MsICQsIE0pO1xuICAgIHJlcXVpcmUoMTMpKF8sIENsYXNzLCAkLCBNLCBLRVlfQ09ERVMpO1xuICAgIHJlcXVpcmUoMykoTSwgbSk7XG5cbiAgICAvLyBhbmFseXRpY3MgYXBwc1xuICAgIHJlcXVpcmUoMSkoJCwgTSk7XG4gICAgcmVxdWlyZSgyKSgkLCBNKTtcblxufSkoTUVNUklTRSk7XG5cbn0se1wiMVwiOjEsXCIxMFwiOjEwLFwiMTFcIjoxMSxcIjEyXCI6MTIsXCIxM1wiOjEzLFwiMTRcIjoxNCxcIjE1XCI6MTUsXCIxNlwiOjE2LFwiMTdcIjoxNyxcIjE4XCI6MTgsXCIxOVwiOjE5LFwiMlwiOjIsXCIyMVwiOjIxLFwiMjJcIjoyMixcIjIzXCI6MjMsXCIyNFwiOjI0LFwiMjVcIjoyNSxcIjI2XCI6MjYsXCIyN1wiOjI3LFwiMjhcIjoyOCxcIjI5XCI6MjksXCIzXCI6MyxcIjMwXCI6MzAsXCIzMlwiOjMyLFwiMzRcIjozNCxcIjM1XCI6MzUsXCIzNlwiOjM2LFwiMzdcIjozNyxcIjM4XCI6MzgsXCIzOVwiOjM5LFwiNFwiOjQsXCI0MFwiOjQwLFwiNDFcIjo0MSxcIjQyXCI6NDIsXCI0M1wiOjQzLFwiNDRcIjo0NCxcIjQ1XCI6NDUsXCI1XCI6NSxcIjUwXCI6NTAsXCI2XCI6NixcIjdcIjo3LFwiOFwiOjgsXCI5XCI6OX1dLDMyOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oJCwgXywgSGFuZGxlYmFycywgTSkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIEhhbmRsZWJhcnMucmVnaXN0ZXJIZWxwZXIoJ2NvbXBhcmUnLCBmdW5jdGlvbihsdmFsdWUsIHJ2YWx1ZSwgb3B0aW9ucykge1xuXG5cdFx0aWYgKGFyZ3VtZW50cy5sZW5ndGggPCAzKVxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiSGFuZGxlcmJhcnMgSGVscGVyICdjb21wYXJlJyBuZWVkcyAyIHBhcmFtZXRlcnNcIik7XG5cblx0XHR2YXIgb3BlcmF0b3IgPSBvcHRpb25zLmhhc2gub3BlcmF0b3IgfHwgXCI9PVwiO1xuXG5cdFx0dmFyIG9wZXJhdG9ycyA9IHtcblx0XHRcdCc9PSc6XHRcdGZ1bmN0aW9uKGwscikgeyByZXR1cm4gbCA9PSByOyB9LFxuXHRcdFx0Jz09PSc6XHRmdW5jdGlvbihsLHIpIHsgcmV0dXJuIGwgPT09IHI7IH0sXG5cdFx0XHQnIT0nOlx0XHRmdW5jdGlvbihsLHIpIHsgcmV0dXJuIGwgIT0gcjsgfSxcblx0XHRcdCc8JzpcdFx0ZnVuY3Rpb24obCxyKSB7IHJldHVybiBsIDwgcjsgfSxcblx0XHRcdCc+JzpcdFx0ZnVuY3Rpb24obCxyKSB7IHJldHVybiBsID4gcjsgfSxcblx0XHRcdCc8PSc6XHRcdGZ1bmN0aW9uKGwscikgeyByZXR1cm4gbCA8PSByOyB9LFxuXHRcdFx0Jz49JzpcdFx0ZnVuY3Rpb24obCxyKSB7IHJldHVybiBsID49IHI7IH0sXG5cdFx0XHQndHlwZW9mJzpcdGZ1bmN0aW9uKGwscikgeyByZXR1cm4gdHlwZW9mIGwgPT0gcjsgfVxuXHRcdH1cblxuXHRcdGlmICghb3BlcmF0b3JzW29wZXJhdG9yXSlcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIkhhbmRsZXJiYXJzIEhlbHBlciAnY29tcGFyZScgZG9lc24ndCBrbm93IHRoZSBvcGVyYXRvciBcIitvcGVyYXRvcik7XG5cblx0XHR2YXIgcmVzdWx0ID0gb3BlcmF0b3JzW29wZXJhdG9yXShsdmFsdWUscnZhbHVlKTtcblxuXHRcdGlmKCByZXN1bHQgKSB7XG5cdFx0XHRyZXR1cm4gb3B0aW9ucy5mbih0aGlzKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIG9wdGlvbnMuaW52ZXJzZSh0aGlzKTtcblx0XHR9XG5cblx0fSk7XG5cblxuICAgIEhhbmRsZWJhcnMucmVnaXN0ZXJIZWxwZXIoJ2lzTm9uemVybycsIGZ1bmN0aW9uIChwLCBvcHRpb25zKSB7XG4gICAgICAgIGlmICh0eXBlb2YgcCA9PT0gXCJudW1iZXJcIiAmJiBwICE9PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gb3B0aW9ucy5mbih0aGlzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBvcHRpb25zLmludmVyc2UodGhpcyk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIEhhbmRsZWJhcnMucmVnaXN0ZXJIZWxwZXIoJ3RpbWVzaW5jZScsIGZ1bmN0aW9uIChkYXRlKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gJC50aW1lYWdvKGRhdGUpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIEhhbmRsZWJhcnMucmVnaXN0ZXJIZWxwZXIoJ2xvZ0NvbnRleHQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh3aW5kb3cuY29uc29sZSkge1xuICAgICAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAnJztcbiAgICB9KTtcblxuICAgIEhhbmRsZWJhcnMucmVnaXN0ZXJIZWxwZXIoJ2Fic251bWJlcicsIGZ1bmN0aW9uIChudW1iZXIpIHtcbiAgICAgICAgaWYgKCFfLmlzTnVtYmVyKG51bWJlcikpIHtcbiAgICAgICAgICAgIHJldHVybiAnTmFOJztcbiAgICAgICAgfSBlbHNlIGlmIChudW1iZXIgPCAwKSB7XG4gICAgICAgICAgICByZXR1cm4gJycgKyBudW1iZXI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gJysnICsgbnVtYmVyO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAvL1RPRE86IHJlcGxhY2UgdGhpcyB3aXRoIG51bWVyYWwuanNcbiAgICBIYW5kbGViYXJzLnJlZ2lzdGVySGVscGVyKCdpbnRjb21tYScsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB2YXIgb3JpZ1ZhbHVlID0gU3RyaW5nKHZhbHVlKSxcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gb3JpZ1ZhbHVlLnJlcGxhY2UoL14oLT9cXGQrKShcXGR7M30pLywgJyQxLCQyJyk7XG4gICAgICAgIGlmIChvcmlnVmFsdWUgPT09IG5ld1ZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3VmFsdWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gSGFuZGxlYmFycy5oZWxwZXJzWydpbnRjb21tYSddKG5ld1ZhbHVlKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgSGFuZGxlYmFycy5yZWdpc3RlckhlbHBlcigncGx1cmFsaXplJywgZnVuY3Rpb24gKHN0cmluZywgbnVtYmVyKSB7XG4gICAgICAgIGlmIChudW1iZXIgPT09IDEpIHtcbiAgICAgICAgICAgIHJldHVybiBzdHJpbmc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gc3RyaW5nICsgJ3MnO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBIYW5kbGViYXJzLnJlZ2lzdGVySGVscGVyKCdzYWZlVmFsdWUnLCBmdW5jdGlvbiAoc3RyaW5nKSB7XG4gICAgICAgIHJldHVybiBuZXcgSGFuZGxlYmFycy5TYWZlU3RyaW5nKHN0cmluZyk7XG4gICAgfSk7XG5cblxuICAgIEhhbmRsZWJhcnMucmVnaXN0ZXJIZWxwZXIoJ2Nzc0NsYXNzZXMnLCBmdW5jdGlvbiAoY2xhc3Nlcykge1xuICAgICAgICBpZiAoXy5pc0FycmF5KGNsYXNzZXMpKSB7XG4gICAgICAgICAgICByZXR1cm4gXCIgXCIgKyBjbGFzc2VzLmpvaW4oXCIgXCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIEhhbmRsZWJhcnMucmVnaXN0ZXJIZWxwZXIoJ2ludGNvbW1hYmlnJywgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGlmIChfLmlzTnVtYmVyKHZhbHVlKSkge1xuICAgICAgICAgICAgaWYgKHZhbHVlID4gLTEwMDAwICYmIHZhbHVlIDwgMTAwMDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gSGFuZGxlYmFycy5oZWxwZXJzLmludGNvbW1hKHZhbHVlKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodmFsdWUgPiAtMTAwMCAqIDEwMDAgJiYgdmFsdWUgPCAxMDAwICogMTAwMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBIYW5kbGViYXJzLmhlbHBlcnMuaW50Y29tbWEoTWF0aC5yb3VuZCh2YWx1ZSAvIDEwMDApKSArIFwia1wiO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gSGFuZGxlYmFycy5oZWxwZXJzLmludGNvbW1hKE1hdGgucm91bmQodmFsdWUgLyAoMTAwMCAqIDEwMDApKSkgKyBcIm1cIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgSGFuZGxlYmFycy5yZWdpc3RlckhlbHBlcignY29udmVydFNlY29uZHMnLCBmdW5jdGlvbiAoc2Vjb25kcykge1xuICAgICAgICB2YXIgaXNOZWdhdGl2ZSA9IChzZWNvbmRzIDwgMCksXG4gICAgICAgICAgICBzZWNvbmRzSW5Ib3VyLCBob3VycztcblxuICAgICAgICBpZiAoIV8uaXNOdW1iZXIoc2Vjb25kcykpIHtcbiAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc05lZ2F0aXZlKSB7XG4gICAgICAgICAgICBzZWNvbmRzICo9IC0xO1xuICAgICAgICB9XG5cbiAgICAgICAgc2Vjb25kc0luSG91ciA9IHNlY29uZHMgJSA2MDtcblxuICAgICAgICBpZiAoc2Vjb25kc0luSG91ciA8IDEwKSB7XG4gICAgICAgICAgICBzZWNvbmRzSW5Ib3VyID0gXCIwXCIgKyBzZWNvbmRzSW5Ib3VyO1xuICAgICAgICB9XG4gICAgICAgIGhvdXJzID0gTWF0aC5mbG9vcihzZWNvbmRzIC8gNjApO1xuXG4gICAgICAgIHJldHVybiAoaXNOZWdhdGl2ZSA/ICctJyA6ICcnKSArIGhvdXJzICsgXCI6XCIgKyBzZWNvbmRzSW5Ib3VyO1xuICAgIH0pO1xuXG4gICAgSGFuZGxlYmFycy5yZWdpc3RlckhlbHBlcignYXNzZXQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBwYXRoID0gXy50b0FycmF5KGFyZ3VtZW50cykuc2xpY2UoMCwgLTEpLmpvaW4oJycpO1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgTS5TVEFUSUNfVVJMICtcbiAgICAgICAgICAgIHBhdGhcbiAgICAgICAgKTtcbiAgICB9KTtcblxuICAgIEhhbmRsZWJhcnMucmVnaXN0ZXJIZWxwZXIoJ3plcm9QYWQnLCBmdW5jdGlvbiAoc3RyLCBjb3VudCkge1xuICAgICAgICBpZiAoXy5pc1VuZGVmaW5lZChjb3VudCkpIHtcbiAgICAgICAgICAgIGNvdW50ID0gMjtcbiAgICAgICAgfVxuXG4gICAgICAgIHN0ciArPSAnJztcblxuICAgICAgICB3aGlsZSAoc3RyLmxlbmd0aCA8IGNvdW50KSB7XG4gICAgICAgICAgICBzdHIgPSBcIjBcIiArIHN0cjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzdHI7XG4gICAgfSk7XG5cbiAgICBIYW5kbGViYXJzLnJlZ2lzdGVySGVscGVyKCdmb3InLCBmdW5jdGlvbiAoZnJvbSwgdG8sIGluY3IsIGJsb2NrKSB7XG4gICAgICAgIHZhciBhY2N1bSA9ICcnO1xuICAgICAgICBmb3IgKHZhciBpID0gZnJvbTsgaSA8IHRvOyBpICs9IGluY3IpXG4gICAgICAgICAgICBhY2N1bSArPSBibG9jay5mbihpKTtcbiAgICAgICAgcmV0dXJuIGFjY3VtO1xuICAgIH0pO1xuXG4gICAgSGFuZGxlYmFycy5yZWdpc3RlckhlbHBlcignbW9udGhPcHRpb25zJywgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbW9udGhzID0gW1xuICAgICAgICAgICAgICAgIFwiSmFuXCIsIFwiRmViXCIsIFwiTWFyXCIsIFwiQXByXCIsIFwiTWF5XCIsIFwiSnVuXCIsIFwiSnVsXCIsIFwiQXVnXCIsIFwiU2VwXCIsIFwiT2N0XCIsIFwiTm92XCIsIFwiRGVjXCJcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBtb250aF9vcHRpb25zID0gJycsXG4gICAgICAgICAgICBjdXJyZW50X21vbnRoID0gbmV3IERhdGUoKS5nZXRNb250aCgpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDEyOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBzZWxlY3RlZCA9IGkgPT09IGN1cnJlbnRfbW9udGggPyAnc2VsZWN0ZWQ9XCJzZWxlY3RlZFwiJyA6ICcnLFxuICAgICAgICAgICAgICAgIG9wdGlvbiA9IHNwcmludGYoXCIlZCAtICVzXCIsIGkgKyAxLCBtb250aHNbaV0pO1xuICAgICAgICAgICAgbW9udGhfb3B0aW9ucyArPSBzcHJpbnRmKCc8b3B0aW9uIHZhbHVlPVwiJWRcIiAlcz4lczwvb3B0aW9uPicsIGkgKyAxLCBzZWxlY3RlZCwgb3B0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXcgSGFuZGxlYmFycy5TYWZlU3RyaW5nKG1vbnRoX29wdGlvbnMpO1xuICAgIH0pO1xuXG4gICAgSGFuZGxlYmFycy5yZWdpc3RlckhlbHBlcigneWVhck9wdGlvbnMnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjdXJyZW50X3llYXIgPSBuZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKCksXG4gICAgICAgICAgICB5ZWFyX29wdGlvbnMgPSAnJztcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAxMTsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgc2VsZWN0ZWQgPSBpID09PSAwID8gJ3NlbGVjdGVkPVwic2VsZWN0ZWRcIicgOiAnJyxcbiAgICAgICAgICAgICAgICBvcHRpb24gPSBzcHJpbnRmKFwiJWRcIiwgY3VycmVudF95ZWFyICsgaSk7XG4gICAgICAgICAgICB5ZWFyX29wdGlvbnMgKz0gc3ByaW50ZignPG9wdGlvbiB2YWx1ZT1cIiVkXCIgJXM+JXM8L29wdGlvbj4nLCBjdXJyZW50X3llYXIgKyBpLCBzZWxlY3RlZCwgb3B0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXcgSGFuZGxlYmFycy5TYWZlU3RyaW5nKHllYXJfb3B0aW9ucyk7XG4gICAgfSk7XG5cbiAgICAvLyB0cmFuc1xuICAgIEhhbmRsZWJhcnMucmVnaXN0ZXJIZWxwZXIoJ190JywgZnVuY3Rpb24gdHJhbnNIZWxwZXIoaTE4bktleSwgb3B0aW9ucykge1xuXG4gICAgICAgIGlmIChfLnNpemUob3B0aW9ucy5oYXNoKSA+IDApIHtcbiAgICAgICAgICAgIHZhciBjb250ZXh0ID0gXy5oYXMob3B0aW9ucy5oYXNoLCAnY29udGV4dCcpID9cbiAgICAgICAgICAgICAgICBvcHRpb25zLmhhc2hbJ2NvbnRleHQnXSA6IHRoaXMsXG4gICAgICAgICAgICAgICAgb3B0cyA9IGkxOG4uZnVuY3Rpb25zLmV4dGVuZChvcHRpb25zLmhhc2gsIGNvbnRleHQpO1xuXG4gICAgICAgICAgICBpZiAob3B0aW9ucy5mbikgb3B0cy5kZWZhdWx0VmFsdWUgPSBvcHRpb25zLmZuKGNvbnRleHQpO1xuXG4gICAgICAgICAgICByZXR1cm4gbmV3IEhhbmRsZWJhcnMuU2FmZVN0cmluZyhfdChpMThuS2V5LCBvcHRzKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3IEhhbmRsZWJhcnMuU2FmZVN0cmluZyhfdChpMThuS2V5KSk7XG4gICAgfSk7XG5cbiAgICAvLyBtYXRoOiBodHRwOi8vanNmaWRkbGUubmV0L21wZXRyb3ZpY2gvd01tSFMvXG4gICAgSGFuZGxlYmFycy5yZWdpc3RlckhlbHBlcihcIm1hdGhcIiwgZnVuY3Rpb24gKGx2YWx1ZSwgb3BlcmF0b3IsIHJ2YWx1ZSwgb3B0aW9ucykge1xuICAgICAgICBsdmFsdWUgPSBwYXJzZUZsb2F0KGx2YWx1ZSk7XG4gICAgICAgIHJ2YWx1ZSA9IHBhcnNlRmxvYXQocnZhbHVlKTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgXCIrXCI6IGx2YWx1ZSArIHJ2YWx1ZSxcbiAgICAgICAgICAgIFwiLVwiOiBsdmFsdWUgLSBydmFsdWUsXG4gICAgICAgICAgICBcIipcIjogbHZhbHVlICogcnZhbHVlLFxuICAgICAgICAgICAgXCIvXCI6IGx2YWx1ZSAvIHJ2YWx1ZSxcbiAgICAgICAgICAgIFwiJVwiOiBsdmFsdWUgJSBydmFsdWVcbiAgICAgICAgfVtvcGVyYXRvcl07XG4gICAgfSk7XG5cbiAgICBIYW5kbGViYXJzLnJlZ2lzdGVySGVscGVyKCd0cnVuY2F0ZScsIGZ1bmN0aW9uIChzdHIsIGxlbikge1xuICAgICAgICBpZiAoc3RyLmxlbmd0aCA+IGxlbikge1xuICAgICAgICAgICAgdmFyIG5ld19zdHIgPSBzdHIuc3Vic3RyKDAsIGxlbiArIDEpO1xuXG4gICAgICAgICAgICB3aGlsZSAobmV3X3N0ci5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB2YXIgY2ggPSBuZXdfc3RyLnN1YnN0cigtMSk7XG4gICAgICAgICAgICAgICAgbmV3X3N0ciA9IG5ld19zdHIuc3Vic3RyKDAsIC0xKTtcblxuICAgICAgICAgICAgICAgIGlmIChjaCA9PSAnICcpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAobmV3X3N0ciA9PSAnJykge1xuICAgICAgICAgICAgICAgIG5ld19zdHIgPSBzdHIuc3Vic3RyKDAsIGxlbik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBuZXcgSGFuZGxlYmFycy5TYWZlU3RyaW5nKG5ld19zdHIgKyAnLi4uJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0cjtcbiAgICB9KTtcblxuICAgIHJldHVybiBIYW5kbGViYXJzO1xufTtcblxufSx7fV0sMzM6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoc3ByaW50Zikge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIHJldHVybiBmdW5jdGlvbiAoc2luZ3VsYXIsIHBsdXJhbCwgY291bnQpIHtcbiAgICAgICAgXG4gICAgICAgIGlmIChjb3VudCA+IDEpXG4gICAgICAgICAgICByZXR1cm4gc3ByaW50ZihwbHVyYWwsIHtjb3VudDogY291bnR9KTtcblxuICAgICAgICByZXR1cm4gc3ByaW50ZihzaW5ndWxhciwge2NvdW50OiBjb3VudH0pO1xuICAgIH1cbn07XG5cbn0se31dLDM0OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbi8qXG4gKiBBZGQgZ2V0L3NldCBjdXJzb3IgcG9zaXRpb24gbWV0aG9kcyB0byBqUXVlcnkuXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoJCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIC8vaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy80OTkxMjYvanF1ZXJ5LXNldC1jdXJzb3ItcG9zaXRpb24taW4tdGV4dC1hcmVhXG4gICAgJC5mbi5zZXRDdXJzb3JQb3NpdGlvbiA9IGZ1bmN0aW9uIChwb3MpIHtcbiAgICAgICAgaWYgKCQodGhpcykuZ2V0KDApLnNldFNlbGVjdGlvblJhbmdlKSB7XG4gICAgICAgICAgICAkKHRoaXMpLmdldCgwKS5zZXRTZWxlY3Rpb25SYW5nZShwb3MsIHBvcyk7XG4gICAgICAgIH0gZWxzZSBpZiAoJCh0aGlzKS5nZXQoMCkuY3JlYXRlVGV4dFJhbmdlKSB7XG4gICAgICAgICAgICB2YXIgcmFuZ2UgPSAkKHRoaXMpLmdldCgwKS5jcmVhdGVUZXh0UmFuZ2UoKTtcbiAgICAgICAgICAgIHJhbmdlLmNvbGxhcHNlKHRydWUpO1xuICAgICAgICAgICAgcmFuZ2UubW92ZUVuZCgnY2hhcmFjdGVyJywgcG9zKTtcbiAgICAgICAgICAgIHJhbmdlLm1vdmVTdGFydCgnY2hhcmFjdGVyJywgcG9zKTtcbiAgICAgICAgICAgIHJhbmdlLnNlbGVjdCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAkKHRoaXMpO1xuICAgIH07XG5cbiAgICAvL2h0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTg5MTQ0NC9ob3ctY2FuLWktZ2V0LWN1cnNvci1wb3NpdGlvbi1pbi1hLXRleHRhcmVhXG4gICAgJC5mbi5nZXRDdXJzb3JQb3NpdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHBvcyA9IDA7XG4gICAgICAgIHZhciBlbCA9ICQodGhpcykuZ2V0KDApO1xuICAgICAgICAvLyBJRSBTdXBwb3J0XG4gICAgICAgIGlmIChkb2N1bWVudC5zZWxlY3Rpb24pIHtcbiAgICAgICAgICAgIGVsLmZvY3VzKCk7XG4gICAgICAgICAgICB2YXIgU2VsID0gZG9jdW1lbnQuc2VsZWN0aW9uLmNyZWF0ZVJhbmdlKCk7XG4gICAgICAgICAgICB2YXIgU2VsTGVuZ3RoID0gZG9jdW1lbnQuc2VsZWN0aW9uLmNyZWF0ZVJhbmdlKCkudGV4dC5sZW5ndGg7XG4gICAgICAgICAgICBTZWwubW92ZVN0YXJ0KCdjaGFyYWN0ZXInLCAtZWwudmFsdWUubGVuZ3RoKTtcbiAgICAgICAgICAgIHBvcyA9IFNlbC50ZXh0Lmxlbmd0aCAtIFNlbExlbmd0aDtcbiAgICAgICAgfVxuICAgICAgICAvLyBGaXJlZm94IHN1cHBvcnRcbiAgICAgICAgZWxzZSBpZiAoZWwuc2VsZWN0aW9uU3RhcnQgfHwgZWwuc2VsZWN0aW9uU3RhcnQgPT0gJzAnKSB7XG4gICAgICAgICAgICBwb3MgPSBlbC5zZWxlY3Rpb25TdGFydDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBwb3M7XG4gICAgfTtcbn07XG5cbn0se31dLDM1OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKCQsIF8pIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAkLmZuLmRhdGFBdHRyID0gZnVuY3Rpb24obmFtZSwgb3RoZXJ3aXNlKSB7XG4gICAgICAgIC8vIEdpdmVuIG5hbWUgJ3RoaXMnLCByZXR1cm5zIGF0dHIoJ2RhdGEtdGhpcycpO1xuICAgICAgICAvLyBpZiB0cmF2ZXJzZVVwIGlzIGdpdmVuIChkZWZhdWx0cyB0byB0cnVlKSwgY29udGludWUgdHJhdmVyc2luZ1xuICAgICAgICAvLyB1cHdhcmRzIHRocm91Z2ggRE9NIHRyZWUgdW50aWwgYSBwYXJlbnQgZWxlbWVudCBpcyBmb3VuZCB3aXRoIHRoZVxuICAgICAgICAvLyBhdHRyOyBjbG9zZXN0IHdpbnMgaW4gY2FzZSBvZiBjb25mbGljdC5cbiAgICAgICAgdmFyIG5tICAgICAgID0gJ2RhdGEtJyArIG5hbWUsXG4gICAgICAgICAgICBlbGVtID0gdGhpcy5jbG9zZXN0KCdbJyArIG5tICsgJ10nKTtcblxuICAgICAgICBpZiAoZWxlbS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBvdGhlcndpc2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgYXR0ciA9IGVsZW0uYXR0cihubSk7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGF0dHIgPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgICAgIHJldHVybiBvdGhlcndpc2U7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBhdHRyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgICQuZm4uZGF0YURpY3QgPSBmdW5jdGlvbihuYW1lLCBvdGhlcndpc2UpIHtcblxuICAgICAgICAvLyBsaXR0bGUgaGVscGVyIHRvIGV4dHJhY3QgZGljdCBvZmYgbXVsdGlwbGUgZGF0YS1hdHRyaWJ1dGVzIHdpdGggcGF0dGVybiBkYXRhLWRpY3RuYW1lLSpcbiAgICAgICAgdmFyIG5tID0gJ2RhdGEtJyArIG5hbWUgKyAnLScsXG4gICAgICAgICAgICByZXN1bHQgPSB7fTtcbiAgICAgICAgJCh0aGlzKS5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJC5lYWNoKHRoaXMuYXR0cmlidXRlcywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgaWYodGhpcy5zcGVjaWZpZWQgJiYgXy5jb250YWlucyh0aGlzLm5hbWUsIG5tKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcGFydHMgPSB0aGlzLm5hbWUuc3BsaXQoXCI9XCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YV9rZXkgPSBwYXJ0c1swXS5zdWJzdHJpbmcobm0ubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0W2RhdGFfa2V5XSA9IHRoaXMudmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAocmVzdWx0Lmxlbmd0aCA9PT0gMCkgcmV0dXJuIG90aGVyd2lzZTtcbiAgICAgICAgZWxzZSByZXR1cm4gcmVzdWx0O1xuICAgIH07XG59O1xuXG59LHt9XSwzNjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICgkKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLy8gU2hvcnQgalF1ZXJ5IHBsdWdpbiBmb3IgPyBnZXQgdmFyc1xuICAgICQuZXh0ZW5kKHtcbiAgICAgICAgZ2V0VXJsVmFyOiBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICAgICAgdmFyIHJlZ2V4UyA9IFwiW1xcXFw/Jl1cIiArIG5hbWUgKyBcIj0oW14mI10qKVwiLFxuICAgICAgICAgICAgICAgIHJlZ2V4ID0gbmV3IFJlZ0V4cChyZWdleFMpLFxuICAgICAgICAgICAgICAgIHJlc3VsdHMgPSByZWdleC5leGVjKHdpbmRvdy5sb2NhdGlvbi5ocmVmKTtcblxuICAgICAgICAgICAgaWYgKHJlc3VsdHMgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHRzWzFdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG59O1xuXG59LHt9XSwzNzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCQsIE0sIF8pIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKlxuICAgICBGdW5jdGlvbiB0byBsYXp5LWxvYWQgamF2YXNjcmlwdCBtb2R1bGVzIHdoZW4gcmVxdWlyZWQuIElmIHRoZSB2YXJpYWJsZVxuICAgICBtZW50aW9uZWQgaW4gc3RyaW5nIFwidmFyaWFibGVcIiBpcyBub3QgZGVmaW5lZCwgaXQgd2lsbCBsb2FkIHRoZSBnaXZlblxuICAgICBzY3JpcHQgdXJsLCB0aGVuIHJ1biBmdW5jdGlvbiBcImRvbmVcIiwgZWxzZSBpdCB3aWxsIGltbWVkaWF0ZWx5IHJ1blxuICAgICBcImRvbmVcIi5cbiAgICAgKi9cbiAgICAkLmxvYWRJZk5EZWZTY3JpcHQgPSBmdW5jdGlvbiAod2hlcmUsIHZhcmlhYmxlLCB1cmwsIGRvbmUpIHtcbiAgICAgICAgaWYgKCFfLmhhcyh3aGVyZSwgdmFyaWFibGUpKSB7XG4gICAgICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgICAgIGRhdGFUeXBlOiBcInNjcmlwdFwiLFxuICAgICAgICAgICAgICAgIGNhY2hlOiB0cnVlLFxuICAgICAgICAgICAgICAgIHVybDogTS5TVEFUSUNfVVJMICsgdXJsLFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGRvbmVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZG9uZSgpO1xuICAgICAgICB9XG4gICAgfTtcbn07XG5cbn0se31dLDM4OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oXykge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIF8ubWl4aW4oe1xuICAgICAgICBvbjogZnVuY3Rpb24gKG9iaiwgZXZlbnQsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAvLyBEZWZpbmUgYSBnbG9iYWwgT2JzZXJ2ZXJcbiAgICAgICAgICAgIGlmICh0aGlzLmlzU3RyaW5nKG9iaikpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayA9IGV2ZW50O1xuICAgICAgICAgICAgICAgIGV2ZW50ID0gb2JqO1xuICAgICAgICAgICAgICAgIG9iaiA9IHRoaXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5pc1VuZGVmaW5lZChvYmouX2V2ZW50cykpXG4gICAgICAgICAgICAgICAgb2JqLl9ldmVudHMgPSB7fTtcbiAgICAgICAgICAgIGlmICghKGV2ZW50IGluIG9iai5fZXZlbnRzKSlcbiAgICAgICAgICAgICAgICBvYmouX2V2ZW50c1tldmVudF0gPSBbXTtcbiAgICAgICAgICAgIG9iai5fZXZlbnRzW2V2ZW50XS5wdXNoKGNhbGxiYWNrKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuXG4gICAgICAgIG9mZjogZnVuY3Rpb24gKG9iaiwgZXZlbnQsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAvLyBGb3IgZ2xvYmFsIE9ic2VydmVyc1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNTdHJpbmcob2JqKSkge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrID0gZXZlbnQ7XG4gICAgICAgICAgICAgICAgZXZlbnQgPSBvYmo7XG4gICAgICAgICAgICAgICAgb2JqID0gdGhpcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmlzVW5kZWZpbmVkKG9iai5fZXZlbnRzKSlcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBpZiAoIShldmVudCBpbiBvYmouX2V2ZW50cykpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgICAgICBvYmouX2V2ZW50c1tldmVudF0gPSB0aGlzLndpdGhvdXQob2JqLl9ldmVudHNbZXZlbnRdLCBjYWxsYmFjayk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSxcblxuICAgICAgICBvbl9vbmNlOiBmdW5jdGlvbiAob2JqLCBldmVudCwgY2FsbGJhY2spIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzU3RyaW5nKG9iaikpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayA9IGV2ZW50O1xuICAgICAgICAgICAgICAgIGV2ZW50ID0gb2JqO1xuICAgICAgICAgICAgICAgIG9iaiA9IHRoaXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgcmVtb3ZlRXZlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgXy5yZW1vdmVFdmVudChvYmosIGV2ZW50KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjYWxsYmFjayA9IF8uY29tcG9zZShyZW1vdmVFdmVudCwgY2FsbGJhY2spO1xuICAgICAgICAgICAgdGhpcy5vbihvYmosIGV2ZW50LCBjYWxsYmFjayk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZW1pdDogZnVuY3Rpb24gKG9iaiwgZXZlbnQsIGFyZ3MpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzU3RyaW5nKG9iaikpIHtcbiAgICAgICAgICAgICAgICBldmVudCA9IG9iajtcbiAgICAgICAgICAgICAgICBvYmogPSB0aGlzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuaXNVbmRlZmluZWQob2JqLl9ldmVudHMpKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGlmIChldmVudCBpbiBvYmouX2V2ZW50cykge1xuICAgICAgICAgICAgICAgIHZhciBldmVudHMgPSBvYmouX2V2ZW50c1tldmVudF0uY29uY2F0KCk7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gZXZlbnRzLmxlbmd0aDsgaSA8IGlpOyBpKyspXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50c1tpXS5hcHBseShvYmosIGFyZ3MgPT09IHVuZGVmaW5lZCA/IFtdIDogYXJncyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSxcblxuICAgICAgICByZW1vdmVFdmVudDogZnVuY3Rpb24gKG9iaiwgZXZlbnQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzU3RyaW5nKG9iaikpIHtcbiAgICAgICAgICAgICAgICBldmVudCA9IG9iajtcbiAgICAgICAgICAgICAgICBvYmogPSB0aGlzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuaXNVbmRlZmluZWQob2JqLl9ldmVudHMpKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGRlbGV0ZSBvYmouX2V2ZW50c1tldmVudF07XG4gICAgICAgIH1cbiAgICB9LCAgeyAnY2hhaW4nOiBmYWxzZSB9KTtcblxuICAgIHJldHVybiBfO1xufTtcblxufSx7fV0sMzk6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICogTEFaWSBQT0xZRklMTCBMT0FERVJcbiAqIE9ubHkgbG9hZCBsYXppbHkgdGhlIHBvbHlmaWxscyBuZWVkZWQgYXQgTWVtcmlzZSB0aHJvdWdoIHRoZSBNb2Rlcm5penIgQVBJLlxuICogSW5jbHVkaW5nOlxuICogLSBQcmVzZW50YXRpb25hbDogcGxhY2Vob2xkZXJcbiAqIC0gRnVuY3Rpb25hbDogZXM1LXNoaW0gKEFycmF5LnByb3RvdHlwZSlcbiAqIC0gTW9iaWxlIFNjaXBydHM6IGlvcy5qcyAod2lwZXRvdWNoIHN1cHBvcnQpXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKE0sIE1vZGVybml6cikge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgTW9kZXJuaXpyLmxvYWQoW1xuICAgICAgICAvLyBQcmVzZW50YXRpb25hbCBwb2x5ZmlsbHNcbiAgICAgICAge1xuICAgICAgICAgICAgdGVzdDogTW9kZXJuaXpyLmlucHV0LnBsYWNlaG9sZGVyLFxuICAgICAgICAgICAgbm9wZTogW1xuICAgICAgICAgICAgICAgIE0uU1RBVElDX1VSTCArIE0udXJscy5qc1ByZXNlbnRhdGlvblBvbHlmaWxscyxcbiAgICAgICAgICAgICAgICBNLlNUQVRJQ19VUkwgKyBNLnVybHMuY3NzUHJlc2VudGF0aW9uUG9seWZpbGxzXG4gICAgICAgICAgICBdXG4gICAgICAgIH0sXG4gICAgICAgIC8vIEZ1bmN0aW9uYWwgcG9seWZpbGxzXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRlc3Q6IEFycmF5LnByb3RvdHlwZS5pbmRleE9mLFxuICAgICAgICAgICAgbm9wZTogTS5TVEFUSUNfVVJMICsgTS51cmxzLmpzRnVuY3Rpb25hbFBvbHlmaWxsc1xuICAgICAgICB9XG4gICAgXSk7XG59O1xuXG59LHt9XSw0MDpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICgkKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvLyBEaXNhYmxlZCBidXR0b25zIGFyZSBhbHdheXMgZGlzYWJsZWRcbiAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnYS5kaXNhYmxlZCwgLmJ0bi5kaXNhYmxlZCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSk7XG5cbn07XG5cbn0se31dLDQxOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oJCwgTSkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGZ1bmN0aW9uIGluaXRMYW5nQ2hhbmdlciAoKSB7XG4gICAgICAgIHZhciAkZm9ybSA9ICQoXCIuc2V0LWxhbmdcIiksXG4gICAgICAgICAgICAkZGQgPSAkKFwiLmRyb3B1cFwiLCAkZm9ybSksXG4gICAgICAgICAgICAkY2hvc2VuTGFuZyA9ICQoXCIjY2hvc2VuLWxhbmdcIiwgJGZvcm0pLFxuICAgICAgICAgICAgJHRvZ2dsZXIgPSAkKFwiLmxhbmctaW5mb1wiLCAkZGQpLFxuICAgICAgICAgICAgJGFjdGl2ZSA9ICQoXCJ1bCAuYWN0aXZlXCIsICRkZCksXG4gICAgICAgICAgICAkb3B0aW9uID0gJChcImFcIiwgJGRkKTtcblxuICAgICAgICAkdG9nZ2xlci5hcHBlbmQoXCI8c3BhbiBjbGFzcz0nbGFuZy1uYW1lJz5cIiArICQoXCJhXCIsICRhY3RpdmUpLnRleHQoKS50b1VwcGVyQ2FzZSgpICsgXCI8L3NwYW4+XCIpO1xuXG4gICAgICAgICRvcHRpb24ub24oXCJjbGlja1wiLCBmdW5jdGlvbihlKXtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHZhciAkdCA9ICQodGhpcyksXG4gICAgICAgICAgICAgICAgb3JpZ0xhbmcgPSAkY2hvc2VuTGFuZy52YWwoKSxcbiAgICAgICAgICAgICAgICBuZXdMYW5nID0gJHQuYXR0cihcImRhdGEtbGFuZ1wiKTtcblxuICAgICAgICAgICAgJGNob3NlbkxhbmcudmFsKG5ld0xhbmcpO1xuXG4gICAgICAgICAgICBpZiAob3JpZ0xhbmcgIT09IG5ld0xhbmcpIHtcbiAgICAgICAgICAgICAgICAkZm9ybS5zdWJtaXQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW5pdEhlYWRlckxhbmdDaGFuZ2VyICgpIHtcbiAgICAgICAgdmFyICRoZWFkZXJMYW5nID0gJChcIi5oZWFkZXItbGFuZy1jaGFuZ2VyXCIpLFxuICAgICAgICAgICAgJHdyYXBwZXIgPSAkKFwiLmxhbmctY2hhbmdlci13cmFwcGVyXCIpLFxuICAgICAgICAgICAgJGFycm93ID0gJChcIi5oZWFkZXItZHJvcGRvd24tYXJyb3dcIiwgJGhlYWRlckxhbmcpLFxuICAgICAgICAgICAgJGRkID0gJChcIi5kcm9wZG93bi1tZW51XCIsICRoZWFkZXJMYW5nKSxcbiAgICAgICAgICAgICRvcHRpb24gPSAkKFwiYVwiLCAkZGQpLFxuICAgICAgICAgICAgJGxhbmdDaG9vc2VyID0gJChcIi5zZXQtbGFuZ1wiKTtcblxuICAgICAgICAkd3JhcHBlci5vbihcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJGFycm93LnRvZ2dsZUNsYXNzKFwiaXMtYWN0aXZlXCIpXG4gICAgICAgIH0pO1xuXG4gICAgICAgICRvcHRpb24ub24oXCJjbGlja1wiLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgdmFyIGxhbmcgPSAkKHRoaXMpLmRhdGEoXCJsYW5nXCIpLFxuICAgICAgICAgICAgICAgICRuZXdMYW5nID0gJCgnYVtkYXRhLWxhbmc9XCInK2xhbmcrJ1wiXScsICRsYW5nQ2hvb3Nlcik7XG5cbiAgICAgICAgICAgICRuZXdMYW5nLmNsaWNrKCk7XG4gICAgICAgICAgICAkYXJyb3cudG9nZ2xlQ2xhc3MoXCJpcy1hY3RpdmVcIilcbiAgICAgICAgfSk7XG5cbiAgICAgICAgJChkb2N1bWVudCkuY2xpY2soZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgdmFyIHRhcmdldCA9IGUudGFyZ2V0O1xuXG4gICAgICAgICAgICBpZiAoJGFycm93Lmhhc0NsYXNzKFwiaXMtYWN0aXZlXCIpICYmXG4gICAgICAgICAgICAgICAgISQodGFyZ2V0KS5pcygkKFwiYVwiLCAkbGFuZ0Nob29zZXIpKSAmJlxuICAgICAgICAgICAgICAgICEkKHRhcmdldCkuaXMoJHdyYXBwZXIpICYmXG4gICAgICAgICAgICAgICAgISQodGFyZ2V0KS5pcygkZGQpICYmXG4gICAgICAgICAgICAgICAgISQodGFyZ2V0KS5pcygkb3B0aW9uLnBhcmVudCgpKSkge1xuICAgICAgICAgICAgICAgICAgICAkYXJyb3cucmVtb3ZlQ2xhc3MoXCJpcy1hY3RpdmVcIilcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpbml0TGFuZ0NoYW5nZXIoKTtcbiAgICBpbml0SGVhZGVyTGFuZ0NoYW5nZXIoKTtcbn07XG5cbn0se31dLDQyOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oJCwgTSkge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyICR3aW5kb3cgPSAkKHdpbmRvdyk7XG5cbiAgICBNLm1vZGFsID0ge1xuICAgICAgICBlcnJvcjogZnVuY3Rpb24obWVzc2FnZSwgb25faGlkZSwgY2xvc2UsIGJ1dHRvbnMpIHtcbiAgICAgICAgICAgIE0ubW9kYWwuaW5mbyhfdCgnV2hvb3BzLicpLCBtZXNzYWdlLCBvbl9oaWRlKTtcbiAgICAgICAgfSxcbiAgICAgICAgY29udGVudDogZnVuY3Rpb24ob3B0aW9ucywgY2FsbGJhY2ssIG9uSGlkZGVuQ2FsbGJhY2spIHtcbiAgICAgICAgICAgIHZhciBkZWZhdWx0cyA9IHtcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6IFwiXCIsXG4gICAgICAgICAgICAgICAgICAgIHNob3dIZWFkZXI6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBzaG93Rm9vdGVyOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyVGV4dDogXCJcIixcbiAgICAgICAgICAgICAgICAgICAgYmFja2Ryb3A6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGtleWJvYXJkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgbW9kYWxJZCA6IFwiXCIsXG4gICAgICAgICAgICAgICAgICAgIHNoYWRvdzogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHNlZVRocnU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGZhZGVUaW1lOiBcImZhc3RcIixcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlT25IaWRkZW46IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVZhcnM6IHt9LFxuICAgICAgICAgICAgICAgICAgICBzdHlsZVZlcnNpb246IDFcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9wdHMgPSAkLmV4dGVuZCh7fSwgZGVmYXVsdHMsIG9wdGlvbnMpO1xuXG4gICAgICAgICAgICBNLnJlbmRlcmVyLnJlYWR5KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgY29udGV4dCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBvcHRzLmhlYWRlclRleHQsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBvcHRzLnRlbXBsYXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGVzdFZhbDogb3B0cy50ZXN0VmFsLFxuICAgICAgICAgICAgICAgICAgICAgICAgaWQgOiBvcHRzLm1vZGFsSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBzaGFkb3c6IG9wdHMuc2hhZG93LFxuICAgICAgICAgICAgICAgICAgICAgICAgZmFkZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZhZGVUaW1lOiBvcHRzLmZhZGVUaW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VlVGhydTogb3B0cy5zZWVUaHJ1LFxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVWYXJzOiBvcHRzLnRlbXBsYXRlVmFycyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlVmVyc2lvbjogb3B0cy5zdHlsZVZlcnNpb25cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgaHRtbCA9IE0ucmVuZGVyZXIucmVuZGVyKCdtb2RhbC1jb250ZW50LXBhcmVudCcsIGNvbnRleHQpLFxuICAgICAgICAgICAgICAgICAgICAkbW9kYWwgPSAkKGh0bWwpLmFwcGVuZFRvKCdib2R5Jyk7XG5cbiAgICAgICAgICAgICAgICAkbW9kYWxcbiAgICAgICAgICAgICAgICAgICAgLm9uKCdzaG93LmJzLm1vZGFsJywgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCFvcHRzLnNob3dIZWFkZXIpICQoXCIubW9kYWwtaGVhZGVyXCIsICRtb2RhbCkuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIW9wdHMuc2hvd0Zvb3RlcikgJChcIi5tb2RhbC1mb290ZXJcIiwgJG1vZGFsKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC5vbignc2hvd24uYnMubW9kYWwnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIE0ubW9kYWwucG9zaXRpb24oJG1vZGFsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoIHdpbmRvdyApLnJlc2l6ZShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBNLm1vZGFsLnBvc2l0aW9uKCRtb2RhbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICRtb2RhbC5jc3Moe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwibm9uZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpc2liaWxpdHk6IFwidmlzaWJsZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgLm9uKCdoaWRkZW4uYnMubW9kYWwnLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYob3B0cy5yZW1vdmVPbkhpZGRlbikgJG1vZGFsLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF8uaXNGdW5jdGlvbihvbkhpZGRlbkNhbGxiYWNrKSkgb25IaWRkZW5DYWxsYmFjaygpO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAubW9kYWwoe1xuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2Ryb3A6IG9wdHMuYmFja2Ryb3AsXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXlib2FyZDogb3B0cy5rZXlib2FyZFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgJChcIi5tb2RhbFwiKS5mYWRlSW4ob3B0cy5mYWRlVGltZSk7XG4gICAgICAgICAgICBpZiAoXy5pc0Z1bmN0aW9uKGNhbGxiYWNrKSkgY2FsbGJhY2soKTtcbiAgICAgICAgfSxcbiAgICAgICAgcG9zaXRpb24gOiBmdW5jdGlvbiAobW9kYWwpIHtcbiAgICAgICAgICAgIHZhciAkY29udGVudCA9IG1vZGFsLmZpbmQoJy5tb2RhbC1jb250ZW50JykuZmlyc3QoKSxcbiAgICAgICAgICAgICAgICAkZGlhbG9nID0gbW9kYWwuZmluZCgnLm1vZGFsLWRpYWxvZycpLmZpcnN0KCk7XG4gICAgICAgICAgICB2YXIgdG9wID0gTWF0aC5hYnMoJHdpbmRvdy5oZWlnaHQoKSAtICRjb250ZW50LmhlaWdodCgpKSAvIDI7XG4gICAgICAgICAgICAkZGlhbG9nLmNzcyh7XG4gICAgICAgICAgICAgICAgdG9wOiB0b3AgLSAzMCAvLyBtYXJnaW4gaXMgMzAgYnkgZGVmYXVsdFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIGluZm8gOiBmdW5jdGlvbiAodGl0bGUsIG1lc3NhZ2UsIG9uX2hpZGUsIG9uQmVmb3JlU2hvdykge1xuICAgICAgICAgICAgTS5yZW5kZXJlci5yZWFkeShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNvbnRleHQgPSB7IHRpdGxlOiB0aXRsZSwgbWVzc2FnZTogbWVzc2FnZSB9O1xuICAgICAgICAgICAgICAgIHZhciBodG1sID0gTS5yZW5kZXJlci5yZW5kZXIoJ21vZGFsLWluZm8nLCBjb250ZXh0KTtcbiAgICAgICAgICAgICAgICB2YXIgJG1vZGFsID0gJChodG1sKS5hcHBlbmRUbygnYm9keScpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvbkJlZm9yZVNob3cgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgICAgICBvbkJlZm9yZVNob3coKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAkbW9kYWxcbiAgICAgICAgICAgICAgICAgICAgLm9uKCdoaWRlLmJzLm1vZGFsJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvbl9oaWRlID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbl9oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC5vbignc2hvd24uYnMubW9kYWwnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRtb2RhbC5maW5kKCcuYnRuLXByaW1hcnknKS5mb2N1cygpO1xuICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgLm9uKCdoaWRkZW4uYnMubW9kYWwnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAubW9kYWwoJ3Nob3cnKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIGRlbGV0aW9uX2NvbmZpcm1hdGlvbiA6IGZ1bmN0aW9uKHRpdGxlLCBtZXNzYWdlLCBpbmZvcm1hdGlvbl9vbl9zdHJpbmdfdG9fdHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RyaW5nX3RvX3R5cGUsIGNhbmNlbF90ZXh0LCBva190ZXh0LCBvbl95ZXMpIHtcbiAgICAgICAgICAgIE0ucmVuZGVyZXIucmVhZHkoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdmFyIGh0bWwgPSBNLnJlbmRlcmVyLnJlbmRlcignbW9kYWwtZGVsZXRpb24tY29uZmlybWF0aW9uJyxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6dGl0bGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmZvcm1hdGlvbl9vbl9zdHJpbmdfdG9fdHlwZTppbmZvcm1hdGlvbl9vbl9zdHJpbmdfdG9fdHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0cmluZ190b190eXBlOnN0cmluZ190b190eXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2FuY2VsX3RleHQ6Y2FuY2VsX3RleHQsXG4gICAgICAgICAgICAgICAgICAgICAgICBva190ZXh0Om9rX3RleHQsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHZhciAkeWVzX25vID0gJChodG1sKS5hcHBlbmRUbygnYm9keScpO1xuICAgICAgICAgICAgICAgIHZhciAkZXJyb3JfbWVzc2FnZSA9ICR5ZXNfbm8uZmluZCgnLmpzLWVycm9yLW1lc3NhZ2UnKTtcblxuICAgICAgICAgICAgICAgICR5ZXNfbm8uZmluZCgnLmJ0bi1ubycpLm9uKCdjbGljaycsIF8ub25jZShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgJHllc19uby5tb2RhbCgnaGlkZScpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfSkpO1xuXG4gICAgICAgICAgICAgICAgJHllc19uby5maW5kKCcuYnRuLXllcycpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgJGlucHV0ID0gJHllc19uby5maW5kKCcuanMtY29uZmlybS1tZXNzYWdlLWlucHV0Jyk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpbnB1dCA9ICRpbnB1dC52YWwoKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXQgIT09IHN0cmluZ190b190eXBlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkZXJyb3JfbWVzc2FnZS5yZW1vdmVDbGFzcygnaGlkZGVuJyk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkeWVzX25vLm1vZGFsKCdoaWRlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9uX3llcyA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25feWVzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgJHllc19ub1xuICAgICAgICAgICAgICAgICAgICAub24oJ3Nob3duLmJzLm1vZGFsJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkeWVzX25vLmZpbmQoJy5idG4tcHJpbWFyeScpLmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC5vbignaGlkZGVuLmJzLm1vZGFsJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAubW9kYWwoJ3Nob3cnLCB7a2V5Ym9hcmQ6IGZhbHNlfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcblxuICAgICAgICB5ZXNfbm8gOiBmdW5jdGlvbih0aXRsZSwgbWVzc2FnZSwgb25feWVzLCBvbl9ubykge1xuICAgICAgICAgICAgTS5yZW5kZXJlci5yZWFkeShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB2YXIgaHRtbCA9IE0ucmVuZGVyZXIucmVuZGVyKCdtb2RhbC15ZXNubycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dGl0bGU6dGl0bGUsIG1lc3NhZ2U6bWVzc2FnZX0pO1xuICAgICAgICAgICAgICAgIHZhciAkeWVzX25vID0gJChodG1sKS5hcHBlbmRUbygnYm9keScpO1xuXG4gICAgICAgICAgICAgICAgJHllc19uby5maW5kKCcuYnRuLW5vJykub24oXG4gICAgICAgICAgICAgICAgICAgICdjbGljaycsXG4gICAgICAgICAgICAgICAgICAgIF8ub25jZShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICR5ZXNfbm8ubW9kYWwoJ2hpZGUnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb25fbm8gPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uX25vKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgICR5ZXNfbm8uZmluZCgnLmJ0bi15ZXMnKS5vbihcbiAgICAgICAgICAgICAgICAgICAgJ2NsaWNrJyxcbiAgICAgICAgICAgICAgICAgICAgXy5vbmNlKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJHllc19uby5tb2RhbCgnaGlkZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvbl95ZXMgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uX3llcygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAkeWVzX25vXG4gICAgICAgICAgICAgICAgLm9uKCdzaG93bi5icy5tb2RhbCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAkeWVzX25vLmZpbmQoJy5idG4tcHJpbWFyeScpLmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAub24oJ2hpZGRlbi5icy5tb2RhbCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAubW9kYWwoJ3Nob3cnLCB7a2V5Ym9hcmQ6IGZhbHNlfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcblxuICAgICAgICAkc3Bpbm5lciA6IG51bGwsXG5cbiAgICAgICAgc3Bpbm5lcl9vcGVuIDogZnVuY3Rpb24odGl0bGUsIG1lc3NhZ2UsIGZhZGUpIHtcbiAgICAgICAgICAgIGlmIChNLm1vZGFsLiRzcGlubmVyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBNLnJlbmRlcmVyLnJlYWR5KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHZhciBjb250ZXh0ID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHRpdGxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogbWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZhZGU6IGZhZGUgPT09IHVuZGVmaW5lZCA/IHRydWUgOiBmYWRlXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGh0bWwgPSBNLnJlbmRlcmVyLnJlbmRlcignbW9kYWwtc3Bpbm5lcicsIGNvbnRleHQpO1xuICAgICAgICAgICAgICAgIE0ubW9kYWwuJHNwaW5uZXIgPSAkKGh0bWwpLmFwcGVuZFRvKCdib2R5Jyk7XG4gICAgICAgICAgICAgICAgTS5tb2RhbC4kc3Bpbm5lci5tb2RhbCgnc2hvdycsIHtrZXlib2FyZDogZmFsc2V9KTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSxcblxuICAgICAgICBzcGlubmVyX2Nsb3NlIDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAoIU0ubW9kYWwuJHNwaW5uZXIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIE0ubW9kYWwuJHNwaW5uZXJcbiAgICAgICAgICAgICAgICAub24oJ2hpZGUuYnMubW9kYWwnLCBmdW5jdGlvbigpIHsgJCh0aGlzKS5yZW1vdmUoKTsgfSlcbiAgICAgICAgICAgICAgICAubW9kYWwoJ2hpZGUnKTtcblxuICAgICAgICAgICAgTS5tb2RhbC4kc3Bpbm5lciA9IG51bGw7XG5cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICB9O1xuXG59O1xuXG59LHt9XSw0MzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKF8sICQsIE0sIENsYXNzKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICB2YXIgc2VsZWN0b3JzID0ge1xuICAgICAgICAgICAgaW5uZXI6ICd1bC5zbGlkZXMnLFxuICAgICAgICAgICAgc2xpZGU6ICdsaScsXG4gICAgICAgICAgICBwcmV2OiAnLnBhZy5wYWctbGVmdCcsXG4gICAgICAgICAgICBuZXh0OiAnLnBhZy5wYWctcmlnaHQnLFxuICAgICAgICAgICAgZGlzcGxheTogJy5zbGlkZXNob3ctZGlzcGxheSAuaW5uZXInXG4gICAgICAgIH0sXG4gICAgICAgIGNsYXNzTmFtZXMgPSB7XG4gICAgICAgICAgICBkaXNhYmxlZDogJ2Rpc2FibGVkJ1xuICAgICAgICB9O1xuXG4gICAgaWYgKCFfLmhhcyhNLCAndWknKSkge1xuICAgICAgICBNLnVpID0ge307XG4gICAgfVxuXG4gICAgTS51aS5TbGlkZXNob3cgPSBDbGFzcy5jcmVhdGUoe1xuXG4gICAgICAgIGluaXRpYWxpemUgOiBmdW5jdGlvbiAob3V0ZXIpIHtcbiAgICAgICAgICAgIHRoaXMub3V0ZXIgPSBvdXRlcjtcbiAgICAgICAgICAgIHRoaXMuZ2V0RWxlbWVudHMoKTtcbiAgICAgICAgICAgIHRoaXMuc2xpZGVXaWR0aCA9IHRoaXMub3V0ZXIuaW5uZXJXaWR0aCgpO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50ID0gMDtcbiAgICAgICAgICAgIHRoaXMuYmluZENsaWNrKCk7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVBhZ2luYXRpb24oKTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlRGlzcGxheSgpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGhhc1NsaWRlIDogZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgICAgIHJldHVybiAoaSA+PSAwICYmIGkgPD0gdGhpcy5zbGlkZXMubGVuZ3RoIC0gMSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgdXBkYXRlRGlzcGxheSA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoaXMuZGlzcGxheS5odG1sKCh0aGlzLmN1cnJlbnQgKyAxKSArICcvJyArIHRoaXMuc2xpZGVzLmxlbmd0aCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgdXBkYXRlUGFnaW5hdGlvbiA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoaXMucHJldi50b2dnbGVDbGFzcyhjbGFzc05hbWVzLmRpc2FibGVkLCB0aGlzLmN1cnJlbnQgPD0gMCk7XG4gICAgICAgICAgICB0aGlzLm5leHQudG9nZ2xlQ2xhc3MoY2xhc3NOYW1lcy5kaXNhYmxlZCwgdGhpcy5jdXJyZW50ID49IHRoaXMuc2xpZGVzLmxlbmd0aCAtIDEpO1xuICAgICAgICB9LFxuXG4gICAgICAgIHNsaWRlVG8gOiBmdW5jdGlvbiAoaSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuaGFzU2xpZGUoaSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmlubmVyLmNzcyh7IGxlZnQ6IC0oaSAqIHRoaXMuc2xpZGVXaWR0aCkgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50ID0gaTtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZURpc3BsYXkoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVBhZ2luYXRpb24oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBzbGlkZVByZXYgOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aGlzLnNsaWRlVG8odGhpcy5jdXJyZW50IC0gMSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgc2xpZGVOZXh0IDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy5zbGlkZVRvKHRoaXMuY3VycmVudCArIDEpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGJpbmRDbGljayA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgICAgIHRoaXMucHJldi5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgIHNlbGYuc2xpZGVQcmV2KCk7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLm5leHQuYWRkKHRoaXMuaW5uZXIpLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5zbGlkZU5leHQoKTtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcblxuICAgICAgICBnZXRFbGVtZW50cyA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoaXMuaW5uZXIgPSB0aGlzLm91dGVyLmZpbmQoc2VsZWN0b3JzLmlubmVyKTtcbiAgICAgICAgICAgIHRoaXMuc2xpZGVzID0gdGhpcy5pbm5lci5maW5kKHNlbGVjdG9ycy5zbGlkZSk7XG4gICAgICAgICAgICB0aGlzLnByZXYgPSB0aGlzLm91dGVyLmZpbmQoc2VsZWN0b3JzLnByZXYpO1xuICAgICAgICAgICAgdGhpcy5uZXh0ID0gdGhpcy5vdXRlci5maW5kKHNlbGVjdG9ycy5uZXh0KTtcbiAgICAgICAgICAgIHRoaXMuZGlzcGxheSA9IHRoaXMub3V0ZXIuZmluZChzZWxlY3RvcnMuZGlzcGxheSk7XG4gICAgICAgIH1cblxuICAgIH0pO1xuXG4gICAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICQoJy5zbGlkZXNob3cnKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBlbGVtZW50ID0gJCh0aGlzKSwgaW5zdGFuY2U7XG4gICAgICAgICAgICBpbnN0YW5jZSA9IG5ldyBNLnVpLlNsaWRlc2hvdyhlbGVtZW50KTtcbiAgICAgICAgICAgIGVsZW1lbnQuZGF0YSgnc2xpZGVTaG93JywgaW5zdGFuY2UpO1xuICAgICAgICB9KTtcblxuICAgIH0pO1xuXG59O1xuXG59LHt9XSw0NDpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCQsIE0pIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgTS5XaGl0ZWJveCA9IHtcbiAgICAgICAgZGVmYXVsdHMgOiB7fSxcbiAgICAgICAgY2VudGVyZWRfYm94OiBmdW5jdGlvbihvcHRpb25zLCBjYWxsYmFjaykge1xuICAgICAgICAgICAgdmFyIG9wdHMgPSAkLmV4dGVuZCh7fSwgdGhpcy5kZWZhdWx0cywgb3B0aW9ucyk7XG4gICAgICAgICAgICBNLnJlbmRlcmVyLnJlYWR5KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgY29udGV4dCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IG9wdHMudGVtcGxhdGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBvcHRzLmRhdGFcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAsIGh0bWwgPSBNLnJlbmRlcmVyLnJlbmRlcihvcHRzLnBhcmVudCwgY29udGV4dClcbiAgICAgICAgICAgICAgICAgICAgLCAkd2IgPSAkKGh0bWwpLmFwcGVuZFRvKCdib2R5Jyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG59O1xuXG59LHt9XSw0NTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAvL3BvbHlmaWxsIGxvY2Fsc3RvcmFnZSBzbyB0aGF0IGl0IGRvZXNuJ3QgcmV0dXJuIGEgc2VudHJ5IGVycm9yXG4gICAgLy9vbiBzdXBwb3J0ZWQgYnJvd3NlcnNcbiAgICBpZiAodHlwZW9mIGxvY2FsU3RvcmFnZSA9PT0gJ3VuZGVmaW5lZCcgfHwgIWxvY2FsU3RvcmFnZSkge1xuICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlID0ge1xuICAgICAgICAgICAgX2RhdGEgICAgICAgOiB7fSxcbiAgICAgICAgICAgIHNldEl0ZW0gICAgIDogZnVuY3Rpb24oaWQsIHZhbCkgeyByZXR1cm4gdGhpcy5fZGF0YVtpZF0gPSB2YWw7IH0sXG4gICAgICAgICAgICBnZXRJdGVtICAgICA6IGZ1bmN0aW9uKGlkKSB7IHJldHVybiB0aGlzLl9kYXRhW2lkXTsgfSxcbiAgICAgICAgICAgIHJlbW92ZUl0ZW0gIDogZnVuY3Rpb24oaWQpIHsgcmV0dXJuIGRlbGV0ZSB0aGlzLl9kYXRhW2lkXTsgfSxcbiAgICAgICAgICAgIGNsZWFyICAgICAgIDogZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzLl9kYXRhID0ge307IH1cbiAgICAgICAgfTtcbiAgICB9XG59XG5cbn0se31dLDQ2OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbi8qISBNb21lbnQgRHVyYXRpb24gRm9ybWF0IHYxLjMuMFxuICogIGh0dHBzOi8vZ2l0aHViLmNvbS9qc21yZWVzZS9tb21lbnQtZHVyYXRpb24tZm9ybWF0IFxuICogIERhdGU6IDIwMTQtMDctMTVcbiAqXG4gKiAgRHVyYXRpb24gZm9ybWF0IHBsdWdpbiBmdW5jdGlvbiBmb3IgdGhlIE1vbWVudC5qcyBsaWJyYXJ5XG4gKiAgaHR0cDovL21vbWVudGpzLmNvbS9cbiAqXG4gKiAgQ29weXJpZ2h0IDIwMTQgSm9obiBNYWRoYXZhbi1SZWVzZVxuICogIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZVxuICovXG5cbihmdW5jdGlvbiAocm9vdCwgdW5kZWZpbmVkKSB7XG5cblx0Ly8gcmVwZWF0WmVybyhxdHkpXG5cdC8vIHJldHVybnMgXCIwXCIgcmVwZWF0ZWQgcXR5IHRpbWVzXG5cdGZ1bmN0aW9uIHJlcGVhdFplcm8ocXR5KSB7XG5cdFx0dmFyIHJlc3VsdCA9IFwiXCI7XG5cdFx0XG5cdFx0Ly8gZXhpdCBlYXJseVxuXHRcdC8vIGlmIHF0eSBpcyAwIG9yIGEgbmVnYXRpdmUgbnVtYmVyXG5cdFx0Ly8gb3IgZG9lc24ndCBjb2VyY2UgdG8gYW4gaW50ZWdlclxuXHRcdHF0eSA9IHBhcnNlSW50KHF0eSwgMTApO1xuXHRcdGlmICghcXR5IHx8IHF0eSA8IDEpIHsgcmV0dXJuIHJlc3VsdDsgfVxuXHRcdFxuXHRcdHdoaWxlIChxdHkpIHtcblx0XHRcdHJlc3VsdCArPSBcIjBcIjtcblx0XHRcdHF0eSAtPSAxO1xuXHRcdH1cblx0XHRcblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9XG5cdFxuXHQvLyBwYWRaZXJvKHN0ciwgbGVuIFssIGlzUmlnaHRdKVxuXHQvLyBwYWRzIGEgc3RyaW5nIHdpdGggemVyb3MgdXAgdG8gYSBzcGVjaWZpZWQgbGVuZ3RoXG5cdC8vIHdpbGwgbm90IHBhZCBhIHN0cmluZyBpZiBpdHMgbGVuZ3RoIGlzIGFyZWFkeVxuXHQvLyBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gdGhlIHNwZWNpZmllZCBsZW5ndGhcblx0Ly8gZGVmYXVsdCBvdXRwdXQgcGFkcyB3aXRoIHplcm9zIG9uIHRoZSBsZWZ0XG5cdC8vIHNldCBpc1JpZ2h0IHRvIGB0cnVlYCB0byBwYWQgd2l0aCB6ZXJvcyBvbiB0aGUgcmlnaHRcblx0ZnVuY3Rpb24gcGFkWmVybyhzdHIsIGxlbiwgaXNSaWdodCkge1xuXHRcdGlmIChzdHIgPT0gbnVsbCkgeyBzdHIgPSBcIlwiOyB9XG5cdFx0c3RyID0gXCJcIiArIHN0cjtcblx0XHRcblx0XHRyZXR1cm4gKGlzUmlnaHQgPyBzdHIgOiBcIlwiKSArIHJlcGVhdFplcm8obGVuIC0gc3RyLmxlbmd0aCkgKyAoaXNSaWdodCA/IFwiXCIgOiBzdHIpO1xuXHR9XG5cdFxuXHQvLyBpc0FycmF5XG5cdGZ1bmN0aW9uIGlzQXJyYXkoYXJyYXkpIHtcblx0XHRyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGFycmF5KSA9PT0gXCJbb2JqZWN0IEFycmF5XVwiO1xuXHR9XG5cdFxuXHQvLyBpc09iamVjdFxuXHRmdW5jdGlvbiBpc09iamVjdChvYmopIHtcblx0XHRyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaikgPT09IFwiW29iamVjdCBPYmplY3RdXCI7XG5cdH1cblx0XG5cdC8vIGZpbmRMYXN0XG5cdGZ1bmN0aW9uIGZpbmRMYXN0KGFycmF5LCBjYWxsYmFjaykge1xuXHRcdHZhciBpbmRleCA9IGFycmF5Lmxlbmd0aDtcblxuXHRcdHdoaWxlIChpbmRleCAtPSAxKSB7XG5cdFx0XHRpZiAoY2FsbGJhY2soYXJyYXlbaW5kZXhdKSkgeyByZXR1cm4gYXJyYXlbaW5kZXhdOyB9XG5cdFx0fVxuXHR9XG5cblx0Ly8gZmluZFxuXHRmdW5jdGlvbiBmaW5kKGFycmF5LCBjYWxsYmFjaykge1xuXHRcdHZhciBpbmRleCA9IDAsXG5cdFx0XHRtYXggPSBhcnJheS5sZW5ndGgsXG5cdFx0XHRtYXRjaDtcblx0XHRcdFxuXHRcdGlmICh0eXBlb2YgY2FsbGJhY2sgIT09IFwiZnVuY3Rpb25cIikge1xuXHRcdFx0bWF0Y2ggPSBjYWxsYmFjaztcblx0XHRcdGNhbGxiYWNrID0gZnVuY3Rpb24gKGl0ZW0pIHtcblx0XHRcdFx0cmV0dXJuIGl0ZW0gPT09IG1hdGNoO1xuXHRcdFx0fTtcblx0XHR9XG5cblx0XHR3aGlsZSAoaW5kZXggPCBtYXgpIHtcblx0XHRcdGlmIChjYWxsYmFjayhhcnJheVtpbmRleF0pKSB7IHJldHVybiBhcnJheVtpbmRleF07IH1cblx0XHRcdGluZGV4ICs9IDE7XG5cdFx0fVxuXHR9XG5cdFxuXHQvLyBlYWNoXG5cdGZ1bmN0aW9uIGVhY2goYXJyYXksIGNhbGxiYWNrKSB7XG5cdFx0dmFyIGluZGV4ID0gMCxcblx0XHRcdG1heCA9IGFycmF5Lmxlbmd0aDtcblx0XHRcdFxuXHRcdGlmICghYXJyYXkgfHwgIW1heCkgeyByZXR1cm47IH1cblxuXHRcdHdoaWxlIChpbmRleCA8IG1heCkge1xuXHRcdFx0aWYgKGNhbGxiYWNrKGFycmF5W2luZGV4XSwgaW5kZXgpID09PSBmYWxzZSkgeyByZXR1cm47IH1cblx0XHRcdGluZGV4ICs9IDE7XG5cdFx0fVxuXHR9XG5cdFxuXHQvLyBtYXBcblx0ZnVuY3Rpb24gbWFwKGFycmF5LCBjYWxsYmFjaykge1xuXHRcdHZhciBpbmRleCA9IDAsXG5cdFx0XHRtYXggPSBhcnJheS5sZW5ndGgsXG5cdFx0XHRyZXQgPSBbXTtcblxuXHRcdGlmICghYXJyYXkgfHwgIW1heCkgeyByZXR1cm4gcmV0OyB9XG5cdFx0XHRcdFxuXHRcdHdoaWxlIChpbmRleCA8IG1heCkge1xuXHRcdFx0cmV0W2luZGV4XSA9IGNhbGxiYWNrKGFycmF5W2luZGV4XSwgaW5kZXgpO1xuXHRcdFx0aW5kZXggKz0gMTtcblx0XHR9XG5cdFx0XG5cdFx0cmV0dXJuIHJldDtcblx0fVxuXHRcblx0Ly8gcGx1Y2tcblx0ZnVuY3Rpb24gcGx1Y2soYXJyYXksIHByb3ApIHtcblx0XHRyZXR1cm4gbWFwKGFycmF5LCBmdW5jdGlvbiAoaXRlbSkge1xuXHRcdFx0cmV0dXJuIGl0ZW1bcHJvcF07XG5cdFx0fSk7XG5cdH1cblx0XG5cdC8vIGNvbXBhY3Rcblx0ZnVuY3Rpb24gY29tcGFjdChhcnJheSkge1xuXHRcdHZhciByZXQgPSBbXTtcblx0XHRcblx0XHRlYWNoKGFycmF5LCBmdW5jdGlvbiAoaXRlbSkge1xuXHRcdFx0aWYgKGl0ZW0pIHsgcmV0LnB1c2goaXRlbSk7IH1cblx0XHR9KTtcblx0XHRcblx0XHRyZXR1cm4gcmV0O1xuXHR9XG5cdFxuXHQvLyB1bmlxdWVcblx0ZnVuY3Rpb24gdW5pcXVlKGFycmF5KSB7XG5cdFx0dmFyIHJldCA9IFtdO1xuXHRcdFxuXHRcdGVhY2goYXJyYXksIGZ1bmN0aW9uIChfYSkge1xuXHRcdFx0aWYgKCFmaW5kKHJldCwgX2EpKSB7IHJldC5wdXNoKF9hKTsgfVxuXHRcdH0pO1xuXHRcdFxuXHRcdHJldHVybiByZXQ7XG5cdH1cblx0XG5cdC8vIGludGVyc2VjdGlvblxuXHRmdW5jdGlvbiBpbnRlcnNlY3Rpb24oYSwgYikge1xuXHRcdHZhciByZXQgPSBbXTtcblx0XHRcblx0XHRlYWNoKGEsIGZ1bmN0aW9uIChfYSkge1xuXHRcdFx0ZWFjaChiLCBmdW5jdGlvbiAoX2IpIHtcblx0XHRcdFx0aWYgKF9hID09PSBfYikgeyByZXQucHVzaChfYSk7IH1cblx0XHRcdH0pO1xuXHRcdH0pO1xuXHRcdFxuXHRcdHJldHVybiB1bmlxdWUocmV0KTtcblx0fVxuXHRcblx0Ly8gcmVzdFxuXHRmdW5jdGlvbiByZXN0KGFycmF5LCBjYWxsYmFjaykge1xuXHRcdHZhciByZXQgPSBbXTtcblx0XHRcblx0XHRlYWNoKGFycmF5LCBmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHtcblx0XHRcdGlmICghY2FsbGJhY2soaXRlbSkpIHtcblx0XHRcdFx0cmV0ID0gYXJyYXkuc2xpY2UoaW5kZXgpO1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0XG5cdFx0cmV0dXJuIHJldDtcblx0fVxuXG5cdC8vIGluaXRpYWxcblx0ZnVuY3Rpb24gaW5pdGlhbChhcnJheSwgY2FsbGJhY2spIHtcblx0XHR2YXIgcmV2ZXJzZWQgPSBhcnJheS5zbGljZSgpLnJldmVyc2UoKTtcblx0XHRcblx0XHRyZXR1cm4gcmVzdChyZXZlcnNlZCwgY2FsbGJhY2spLnJldmVyc2UoKTtcblx0fVxuXHRcblx0Ly8gZXh0ZW5kXG5cdGZ1bmN0aW9uIGV4dGVuZChhLCBiKSB7XG5cdFx0Zm9yICh2YXIga2V5IGluIGIpIHtcblx0XHRcdGlmIChiLmhhc093blByb3BlcnR5KGtleSkpIHsgYVtrZXldID0gYltrZXldOyB9XG5cdFx0fVxuXHRcdFxuXHRcdHJldHVybiBhO1xuXHR9XG5cdFx0XHRcblx0Ly8gZGVmaW5lIGludGVybmFsIG1vbWVudCByZWZlcmVuY2Vcblx0dmFyIG1vbWVudDtcblxuXHRpZiAodHlwZW9mIHJlcXVpcmUgPT09IFwiZnVuY3Rpb25cIikge1xuXHRcdHRyeSB7IG1vbWVudCA9IHJlcXVpcmUoNDcpOyB9IFxuXHRcdGNhdGNoIChlKSB7fVxuXHR9IFxuXHRcblx0aWYgKCFtb21lbnQgJiYgcm9vdC5tb21lbnQpIHtcblx0XHRtb21lbnQgPSByb290Lm1vbWVudDtcblx0fVxuXHRcblx0aWYgKCFtb21lbnQpIHtcblx0XHR0aHJvdyBcIk1vbWVudCBEdXJhdGlvbiBGb3JtYXQgY2Fubm90IGZpbmQgTW9tZW50LmpzXCI7XG5cdH1cblx0XG5cdC8vIG1vbWVudC5kdXJhdGlvbi5mb3JtYXQoW3RlbXBsYXRlXSBbLCBwcmVjaXNpb25dIFssIHNldHRpbmdzXSlcblx0bW9tZW50LmR1cmF0aW9uLmZuLmZvcm1hdCA9IGZ1bmN0aW9uICgpIHtcblxuXHRcdHZhciB0b2tlbml6ZXIsIHRva2VucywgdHlwZXMsIHR5cGVNYXAsIG1vbWVudFR5cGVzLCBmb3VuZEZpcnN0LCB0cmltSW5kZXgsXG5cdFx0XHRhcmdzID0gW10uc2xpY2UuY2FsbChhcmd1bWVudHMpLFxuXHRcdFx0c2V0dGluZ3MgPSBleHRlbmQoe30sIHRoaXMuZm9ybWF0LmRlZmF1bHRzKSxcblx0XHRcdC8vIGtlZXAgYSBzaGFkb3cgY29weSBvZiB0aGlzIG1vbWVudCBmb3IgY2FsY3VsYXRpbmcgcmVtYWluZGVyc1xuXHRcdFx0cmVtYWluZGVyID0gbW9tZW50LmR1cmF0aW9uKHRoaXMpO1xuXG5cdFx0Ly8gYWRkIGEgcmVmZXJlbmNlIHRvIHRoaXMgZHVyYXRpb24gb2JqZWN0IHRvIHRoZSBzZXR0aW5ncyBmb3IgdXNlXG5cdFx0Ly8gaW4gYSB0ZW1wbGF0ZSBmdW5jdGlvblxuXHRcdHNldHRpbmdzLmR1cmF0aW9uID0gdGhpcztcblxuXHRcdC8vIHBhcnNlIGFyZ3VtZW50c1xuXHRcdGVhY2goYXJncywgZnVuY3Rpb24gKGFyZykge1xuXHRcdFx0aWYgKHR5cGVvZiBhcmcgPT09IFwic3RyaW5nXCIgfHwgdHlwZW9mIGFyZyA9PT0gXCJmdW5jdGlvblwiKSB7XG5cdFx0XHRcdHNldHRpbmdzLnRlbXBsYXRlID0gYXJnO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdGlmICh0eXBlb2YgYXJnID09PSBcIm51bWJlclwiKSB7XG5cdFx0XHRcdHNldHRpbmdzLnByZWNpc2lvbiA9IGFyZztcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoaXNPYmplY3QoYXJnKSkge1xuXHRcdFx0XHRleHRlbmQoc2V0dGluZ3MsIGFyZyk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHQvLyB0eXBlc1xuXHRcdHR5cGVzID0gc2V0dGluZ3MudHlwZXMgPSAoaXNBcnJheShzZXR0aW5ncy50eXBlcykgPyBzZXR0aW5ncy50eXBlcyA6IHNldHRpbmdzLnR5cGVzLnNwbGl0KFwiIFwiKSk7XG5cblx0XHQvLyB0ZW1wbGF0ZVxuXHRcdGlmICh0eXBlb2Ygc2V0dGluZ3MudGVtcGxhdGUgPT09IFwiZnVuY3Rpb25cIikge1xuXHRcdFx0c2V0dGluZ3MudGVtcGxhdGUgPSBzZXR0aW5ncy50ZW1wbGF0ZS5hcHBseShzZXR0aW5ncyk7XG5cdFx0fVxuXG5cdFx0Ly8gdG9rZW5pemVyIHJlZ2V4cFxuXHRcdHRva2VuaXplciA9IG5ldyBSZWdFeHAobWFwKHR5cGVzLCBmdW5jdGlvbiAodHlwZSkge1xuXHRcdFx0cmV0dXJuIHNldHRpbmdzW3R5cGVdLnNvdXJjZTtcblx0XHR9KS5qb2luKFwifFwiKSwgXCJnXCIpO1xuXG5cdFx0Ly8gdG9rZW4gdHlwZSBtYXAgZnVuY3Rpb25cblx0XHR0eXBlTWFwID0gZnVuY3Rpb24gKHRva2VuKSB7XG5cdFx0XHRyZXR1cm4gZmluZCh0eXBlcywgZnVuY3Rpb24gKHR5cGUpIHtcblx0XHRcdFx0cmV0dXJuIHNldHRpbmdzW3R5cGVdLnRlc3QodG9rZW4pO1xuXHRcdFx0fSk7XG5cdFx0fTtcblxuXHRcdC8vIHRva2VucyBhcnJheVxuXHRcdHRva2VucyA9IG1hcChzZXR0aW5ncy50ZW1wbGF0ZS5tYXRjaCh0b2tlbml6ZXIpLCBmdW5jdGlvbiAodG9rZW4sIGluZGV4KSB7XG5cdFx0XHR2YXIgdHlwZSA9IHR5cGVNYXAodG9rZW4pLFxuXHRcdFx0XHRsZW5ndGggPSB0b2tlbi5sZW5ndGg7XG5cblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdGluZGV4OiBpbmRleCxcblx0XHRcdFx0bGVuZ3RoOiBsZW5ndGgsXG5cblx0XHRcdFx0Ly8gcmVwbGFjZSBlc2NhcGVkIHRva2VucyB3aXRoIHRoZSBub24tZXNjYXBlZCB0b2tlbiB0ZXh0XG5cdFx0XHRcdHRva2VuOiAodHlwZSA9PT0gXCJlc2NhcGVcIiA/IHRva2VuLnJlcGxhY2Uoc2V0dGluZ3MuZXNjYXBlLCBcIiQxXCIpIDogdG9rZW4pLFxuXG5cdFx0XHRcdC8vIGlnbm9yZSB0eXBlIG9uIG5vbi1tb21lbnQgdG9rZW5zXG5cdFx0XHRcdHR5cGU6ICgodHlwZSA9PT0gXCJlc2NhcGVcIiB8fCB0eXBlID09PSBcImdlbmVyYWxcIikgPyBudWxsIDogdHlwZSlcblxuXHRcdFx0XHQvLyBjYWxjdWxhdGUgYmFzZSB2YWx1ZSBmb3IgYWxsIG1vbWVudCB0b2tlbnNcblx0XHRcdFx0Ly9iYXNlVmFsdWU6ICgodHlwZSA9PT0gXCJlc2NhcGVcIiB8fCB0eXBlID09PSBcImdlbmVyYWxcIikgPyBudWxsIDogdGhpcy5hcyh0eXBlKSlcblx0XHRcdH07XG5cdFx0fSwgdGhpcyk7XG5cblx0XHQvLyB1bmlxdWUgbW9tZW50IHRva2VuIHR5cGVzIGluIHRoZSB0ZW1wbGF0ZSAoaW4gb3JkZXIgb2YgZGVzY2VuZGluZyBtYWduaXR1ZGUpXG5cdFx0bW9tZW50VHlwZXMgPSBpbnRlcnNlY3Rpb24odHlwZXMsIHVuaXF1ZShjb21wYWN0KHBsdWNrKHRva2VucywgXCJ0eXBlXCIpKSkpO1xuXG5cdFx0Ly8gZXhpdCBlYXJseSBpZiB0aGVyZSBhcmUgbm8gbW9tZW50VHlwZXNcblx0XHRpZiAoIW1vbWVudFR5cGVzLmxlbmd0aCkge1xuXHRcdFx0cmV0dXJuIHBsdWNrKHRva2VucywgXCJ0b2tlblwiKS5qb2luKFwiXCIpO1xuXHRcdH1cblxuXHRcdC8vIGNhbGN1bGF0ZSB2YWx1ZXMgZm9yIGVhY2ggdG9rZW4gdHlwZSBpbiB0aGUgdGVtcGxhdGVcblx0XHRlYWNoKG1vbWVudFR5cGVzLCBmdW5jdGlvbiAobW9tZW50VHlwZSwgaW5kZXgpIHtcblx0XHRcdHZhciB2YWx1ZSwgd2hvbGVWYWx1ZSwgZGVjaW1hbFZhbHVlLCBpc0xlYXN0LCBpc01vc3Q7XG5cblx0XHRcdC8vIGNhbGN1bGF0ZSBpbnRlZ2VyIGFuZCBkZWNpbWFsIHZhbHVlIHBvcnRpb25zXG5cdFx0XHR2YWx1ZSA9IHJlbWFpbmRlci5hcyhtb21lbnRUeXBlKTtcblx0XHRcdHdob2xlVmFsdWUgPSAodmFsdWUgPiAwID8gTWF0aC5mbG9vcih2YWx1ZSkgOiBNYXRoLmNlaWwodmFsdWUpKTtcblx0XHRcdGRlY2ltYWxWYWx1ZSA9IHZhbHVlIC0gd2hvbGVWYWx1ZTtcblxuXHRcdFx0Ly8gaXMgdGhpcyB0aGUgbGVhc3Qtc2lnbmlmaWNhbnQgbW9tZW50IHRva2VuIGZvdW5kP1xuXHRcdFx0aXNMZWFzdCA9ICgoaW5kZXggKyAxKSA9PT0gbW9tZW50VHlwZXMubGVuZ3RoKTtcblxuXHRcdFx0Ly8gaXMgdGhpcyB0aGUgbW9zdC1zaWduaWZpY2FudCBtb21lbnQgdG9rZW4gZm91bmQ/XG5cdFx0XHRpc01vc3QgPSAoIWluZGV4KTtcblxuXHRcdFx0Ly8gdXBkYXRlIHRva2VucyBhcnJheVxuXHRcdFx0Ly8gdXNpbmcgdGhpcyBhbGdvcml0aG0gdG8gbm90IGFzc3VtZSBhbnl0aGluZyBhYm91dFxuXHRcdFx0Ly8gdGhlIG9yZGVyIG9yIGZyZXF1ZW5jeSBvZiBhbnkgdG9rZW5zXG5cdFx0XHRlYWNoKHRva2VucywgZnVuY3Rpb24gKHRva2VuKSB7XG5cdFx0XHRcdGlmICh0b2tlbi50eXBlID09PSBtb21lbnRUeXBlKSB7XG5cdFx0XHRcdFx0ZXh0ZW5kKHRva2VuLCB7XG5cdFx0XHRcdFx0XHR2YWx1ZTogdmFsdWUsXG5cdFx0XHRcdFx0XHR3aG9sZVZhbHVlOiB3aG9sZVZhbHVlLFxuXHRcdFx0XHRcdFx0ZGVjaW1hbFZhbHVlOiBkZWNpbWFsVmFsdWUsXG5cdFx0XHRcdFx0XHRpc0xlYXN0OiBpc0xlYXN0LFxuXHRcdFx0XHRcdFx0aXNNb3N0OiBpc01vc3Rcblx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRcdGlmIChpc01vc3QpIHtcblx0XHRcdFx0XHRcdC8vIG5vdGUgdGhlIGxlbmd0aCBvZiB0aGUgbW9zdC1zaWduaWZpY2FudCBtb21lbnQgdG9rZW46XG5cdFx0XHRcdFx0XHQvLyBpZiBpdCBpcyBncmVhdGVyIHRoYW4gb25lIGFuZCBmb3JjZUxlbmd0aCBpcyBub3Qgc2V0LCBkZWZhdWx0IGZvcmNlTGVuZ3RoIHRvIGB0cnVlYFxuXHRcdFx0XHRcdFx0aWYgKHNldHRpbmdzLmZvcmNlTGVuZ3RoID09IG51bGwgJiYgdG9rZW4ubGVuZ3RoID4gMSkge1xuXHRcdFx0XHRcdFx0XHRzZXR0aW5ncy5mb3JjZUxlbmd0aCA9IHRydWU7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdC8vIHJhdGlvbmFsZSBpcyB0aGlzOlxuXHRcdFx0XHRcdFx0Ly8gaWYgdGhlIHRlbXBsYXRlIGlzIFwiaDptbTpzc1wiIGFuZCB0aGUgbW9tZW50IHZhbHVlIGlzIDUgbWludXRlcywgdGhlIHVzZXItZnJpZW5kbHkgb3V0cHV0IGlzIFwiNTowMFwiLCBub3QgXCIwNTowMFwiXG5cdFx0XHRcdFx0XHQvLyBzaG91bGRuJ3QgcGFkIHRoZSBgbWludXRlc2AgdG9rZW4gZXZlbiB0aG91Z2ggaXQgaGFzIGxlbmd0aCBvZiB0d29cblx0XHRcdFx0XHRcdC8vIGlmIHRoZSB0ZW1wbGF0ZSBpcyBcImhoOm1tOnNzXCIsIHRoZSB1c2VyIGNsZWFybHkgd2FudGVkIGV2ZXJ5dGhpbmcgcGFkZGVkIHNvIHdlIHNob3VsZCBvdXRwdXQgXCIwNTowMFwiXG5cdFx0XHRcdFx0XHQvLyBpZiB0aGUgdXNlciB3YW50ZWQgdGhlIGZ1bGwgcGFkZGVkIG91dHB1dCwgdGhleSBjYW4gc2V0IGB7IHRyaW06IGZhbHNlIH1gIHRvIGdldCBcIjAwOjA1OjAwXCJcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXG5cdFx0XHQvLyB1cGRhdGUgcmVtYWluZGVyXG5cdFx0XHRyZW1haW5kZXIuc3VidHJhY3Qod2hvbGVWYWx1ZSwgbW9tZW50VHlwZSk7XG5cdFx0fSk7XG5cdFxuXHRcdC8vIHRyaW0gdG9rZW5zIGFycmF5XG5cdFx0aWYgKHNldHRpbmdzLnRyaW0pIHtcblx0XHRcdHRva2VucyA9IChzZXR0aW5ncy50cmltID09PSBcImxlZnRcIiA/IHJlc3QgOiBpbml0aWFsKSh0b2tlbnMsIGZ1bmN0aW9uICh0b2tlbikge1xuXHRcdFx0XHQvLyByZXR1cm4gYHRydWVgIGlmOlxuXHRcdFx0XHQvLyB0aGUgdG9rZW4gaXMgbm90IHRoZSBsZWFzdCBtb21lbnQgdG9rZW4gKGRvbid0IHRyaW0gdGhlIGxlYXN0IG1vbWVudCB0b2tlbilcblx0XHRcdFx0Ly8gdGhlIHRva2VuIGlzIGEgbW9tZW50IHRva2VuIHRoYXQgZG9lcyBub3QgaGF2ZSBhIHZhbHVlIChkb24ndCB0cmltIG1vbWVudCB0b2tlbnMgdGhhdCBoYXZlIGEgd2hvbGUgdmFsdWUpXG5cdFx0XHRcdHJldHVybiAhKHRva2VuLmlzTGVhc3QgfHwgKHRva2VuLnR5cGUgIT0gbnVsbCAmJiB0b2tlbi53aG9sZVZhbHVlKSk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdFx0XG5cdFx0XG5cdFx0Ly8gYnVpbGQgb3V0cHV0XG5cblx0XHQvLyB0aGUgZmlyc3QgbW9tZW50IHRva2VuIGNhbiBoYXZlIHNwZWNpYWwgaGFuZGxpbmdcblx0XHRmb3VuZEZpcnN0ID0gZmFsc2U7XG5cblx0XHQvLyBydW4gdGhlIG1hcCBpbiByZXZlcnNlIG9yZGVyIGlmIHRyaW1taW5nIGZyb20gdGhlIHJpZ2h0XG5cdFx0aWYgKHNldHRpbmdzLnRyaW0gPT09IFwicmlnaHRcIikge1xuXHRcdFx0dG9rZW5zLnJldmVyc2UoKTtcblx0XHR9XG5cblx0XHR0b2tlbnMgPSBtYXAodG9rZW5zLCBmdW5jdGlvbiAodG9rZW4pIHtcblx0XHRcdHZhciB2YWwsXG5cdFx0XHRcdGRlY1ZhbDtcblxuXHRcdFx0aWYgKCF0b2tlbi50eXBlKSB7XG5cdFx0XHRcdC8vIGlmIGl0IGlzIG5vdCBhIG1vbWVudCB0b2tlbiwgdXNlIHRoZSB0b2tlbiBhcyBpdHMgb3duIHZhbHVlXG5cdFx0XHRcdHJldHVybiB0b2tlbi50b2tlbjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gYXBwbHkgbmVnYXRpdmUgcHJlY2lzaW9uIGZvcm1hdHRpbmcgdG8gdGhlIGxlYXN0LXNpZ25pZmljYW50IG1vbWVudCB0b2tlblxuXHRcdFx0aWYgKHRva2VuLmlzTGVhc3QgJiYgKHNldHRpbmdzLnByZWNpc2lvbiA8IDApKSB7XG5cdFx0XHRcdHZhbCA9IChNYXRoLmZsb29yKHRva2VuLndob2xlVmFsdWUgKiBNYXRoLnBvdygxMCwgc2V0dGluZ3MucHJlY2lzaW9uKSkgKiBNYXRoLnBvdygxMCwgLXNldHRpbmdzLnByZWNpc2lvbikpLnRvU3RyaW5nKCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR2YWwgPSB0b2tlbi53aG9sZVZhbHVlLnRvU3RyaW5nKCk7XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdC8vIHJlbW92ZSBuZWdhdGl2ZSBzaWduIGZyb20gdGhlIGJlZ2lubmluZ1xuXHRcdFx0dmFsID0gdmFsLnJlcGxhY2UoL15cXC0vLCBcIlwiKTtcblxuXHRcdFx0Ly8gYXBwbHkgdG9rZW4gbGVuZ3RoIGZvcm1hdHRpbmdcblx0XHRcdC8vIHNwZWNpYWwgaGFuZGxpbmcgZm9yIHRoZSBmaXJzdCBtb21lbnQgdG9rZW4gdGhhdCBpcyBub3QgdGhlIG1vc3Qgc2lnbmlmaWNhbnQgaW4gYSB0cmltbWVkIHRlbXBsYXRlXG5cdFx0XHRpZiAodG9rZW4ubGVuZ3RoID4gMSAmJiAoZm91bmRGaXJzdCB8fCB0b2tlbi5pc01vc3QgfHwgc2V0dGluZ3MuZm9yY2VMZW5ndGgpKSB7XG5cdFx0XHRcdHZhbCA9IHBhZFplcm8odmFsLCB0b2tlbi5sZW5ndGgpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBhZGQgZGVjaW1hbCB2YWx1ZSBpZiBwcmVjaXNpb24gPiAwXG5cdFx0XHRpZiAodG9rZW4uaXNMZWFzdCAmJiAoc2V0dGluZ3MucHJlY2lzaW9uID4gMCkpIHtcblx0XHRcdFx0ZGVjVmFsID0gdG9rZW4uZGVjaW1hbFZhbHVlLnRvU3RyaW5nKCkucmVwbGFjZSgvXlxcLS8sIFwiXCIpLnNwbGl0KC9cXC58ZVxcLS8pO1xuXHRcdFx0XHRzd2l0Y2ggKGRlY1ZhbC5sZW5ndGgpIHtcblx0XHRcdFx0XHRjYXNlIDE6XG5cdFx0XHRcdFx0XHR2YWwgKz0gXCIuXCIgKyBwYWRaZXJvKGRlY1ZhbFswXSwgc2V0dGluZ3MucHJlY2lzaW9uLCB0cnVlKS5zbGljZSgwLCBzZXR0aW5ncy5wcmVjaXNpb24pO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0XHR2YWwgKz0gXCIuXCIgKyBwYWRaZXJvKGRlY1ZhbFsxXSwgc2V0dGluZ3MucHJlY2lzaW9uLCB0cnVlKS5zbGljZSgwLCBzZXR0aW5ncy5wcmVjaXNpb24pO1x0XHRcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRcdFx0dmFsICs9IFwiLlwiICsgcGFkWmVybyhyZXBlYXRaZXJvKCgrZGVjVmFsWzJdKSAtIDEpICsgKGRlY1ZhbFswXSB8fCBcIjBcIikgKyBkZWNWYWxbMV0sIHNldHRpbmdzLnByZWNpc2lvbiwgdHJ1ZSkuc2xpY2UoMCwgc2V0dGluZ3MucHJlY2lzaW9uKTtcdFx0XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcblx0XHRcdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRcdFx0dGhyb3cgXCJNb21lbnQgRHVyYXRpb24gRm9ybWF0OiB1bmFibGUgdG8gcGFyc2UgdG9rZW4gZGVjaW1hbCB2YWx1ZS5cIjtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHQvLyBhZGQgYSBuZWdhdGl2ZSBzaWduIGlmIHRoZSB2YWx1ZSBpcyBuZWdhdGl2ZSBhbmQgdG9rZW4gaXMgbW9zdCBzaWduaWZpY2FudFxuXHRcdFx0aWYgKHRva2VuLmlzTW9zdCAmJiB0b2tlbi52YWx1ZSA8IDApIHtcblx0XHRcdFx0dmFsID0gXCItXCIgKyB2YWw7XG5cdFx0XHR9XG5cblx0XHRcdGZvdW5kRmlyc3QgPSB0cnVlO1xuXG5cdFx0XHRyZXR1cm4gdmFsO1xuXHRcdH0pO1xuXG5cdFx0Ly8gdW5kbyB0aGUgcmV2ZXJzZSBpZiB0cmltbWluZyBmcm9tIHRoZSByaWdodFxuXHRcdGlmIChzZXR0aW5ncy50cmltID09PSBcInJpZ2h0XCIpIHtcblx0XHRcdHRva2Vucy5yZXZlcnNlKCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRva2Vucy5qb2luKFwiXCIpO1xuXHR9O1xuXG5cdG1vbWVudC5kdXJhdGlvbi5mbi5mb3JtYXQuZGVmYXVsdHMgPSB7XG5cdFx0Ly8gdG9rZW4gZGVmaW5pdGlvbnNcblx0XHRlc2NhcGU6IC9cXFsoLis/KVxcXS8sXG5cdFx0eWVhcnM6IC9bWXldKy8sXG5cdFx0bW9udGhzOiAvTSsvLFxuXHRcdHdlZWtzOiAvW1d3XSsvLFxuXHRcdGRheXM6IC9bRGRdKy8sXG5cdFx0aG91cnM6IC9bSGhdKy8sXG5cdFx0bWludXRlczogL20rLyxcblx0XHRzZWNvbmRzOiAvcysvLFxuXHRcdG1pbGxpc2Vjb25kczogL1MrLyxcblx0XHRnZW5lcmFsOiAvLis/LyxcblxuXHRcdC8vIHRva2VuIHR5cGUgbmFtZXNcblx0XHQvLyBpbiBvcmRlciBvZiBkZXNjZW5kaW5nIG1hZ25pdHVkZVxuXHRcdC8vIGNhbiBiZSBhIHNwYWNlLXNlcGFyYXRlZCB0b2tlbiBuYW1lIGxpc3Qgb3IgYW4gYXJyYXkgb2YgdG9rZW4gbmFtZXNcblx0XHR0eXBlczogXCJlc2NhcGUgeWVhcnMgbW9udGhzIHdlZWtzIGRheXMgaG91cnMgbWludXRlcyBzZWNvbmRzIG1pbGxpc2Vjb25kcyBnZW5lcmFsXCIsXG5cblx0XHQvLyBmb3JtYXQgb3B0aW9uc1xuXG5cdFx0Ly8gdHJpbVxuXHRcdC8vIFwibGVmdFwiIC0gdGVtcGxhdGUgdG9rZW5zIGFyZSB0cmltbWVkIGZyb20gdGhlIGxlZnQgdW50aWwgdGhlIGZpcnN0IG1vbWVudCB0b2tlbiB0aGF0IGhhcyBhIHZhbHVlID49IDFcblx0XHQvLyBcInJpZ2h0XCIgLSB0ZW1wbGF0ZSB0b2tlbnMgYXJlIHRyaW1tZWQgZnJvbSB0aGUgcmlnaHQgdW50aWwgdGhlIGZpcnN0IG1vbWVudCB0b2tlbiB0aGF0IGhhcyBhIHZhbHVlID49IDFcblx0XHQvLyAodGhlIGZpbmFsIG1vbWVudCB0b2tlbiBpcyBub3QgdHJpbW1lZCwgcmVnYXJkbGVzcyBvZiB2YWx1ZSlcblx0XHQvLyBgZmFsc2VgIC0gdGVtcGxhdGUgdG9rZW5zIGFyZSBub3QgdHJpbW1lZFxuXHRcdHRyaW06IFwibGVmdFwiLFxuXG5cdFx0Ly8gcHJlY2lzaW9uXG5cdFx0Ly8gbnVtYmVyIG9mIGRlY2ltYWwgZGlnaXRzIHRvIGluY2x1ZGUgYWZ0ZXIgKHRvIHRoZSByaWdodCBvZikgdGhlIGRlY2ltYWwgcG9pbnQgKHBvc2l0aXZlIGludGVnZXIpXG5cdFx0Ly8gb3IgdGhlIG51bWJlciBvZiBkaWdpdHMgdG8gdHJ1bmNhdGUgdG8gMCBiZWZvcmUgKHRvIHRoZSBsZWZ0IG9mKSB0aGUgZGVjaW1hbCBwb2ludCAobmVnYXRpdmUgaW50ZWdlcilcblx0XHRwcmVjaXNpb246IDAsXG5cblx0XHQvLyBmb3JjZSBmaXJzdCBtb21lbnQgdG9rZW4gd2l0aCBhIHZhbHVlIHRvIHJlbmRlciBhdCBmdWxsIGxlbmd0aCBldmVuIHdoZW4gdGVtcGxhdGUgaXMgdHJpbW1lZCBhbmQgZmlyc3QgbW9tZW50IHRva2VuIGhhcyBsZW5ndGggb2YgMVxuXHRcdGZvcmNlTGVuZ3RoOiBudWxsLFxuXG5cdFx0Ly8gdGVtcGxhdGUgdXNlZCB0byBmb3JtYXQgZHVyYXRpb25cblx0XHQvLyBtYXkgYmUgYSBmdW5jdGlvbiBvciBhIHN0cmluZ1xuXHRcdC8vIHRlbXBsYXRlIGZ1bmN0aW9ucyBhcmUgZXhlY3V0ZWQgd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgdGhlIHNldHRpbmdzIG9iamVjdFxuXHRcdC8vIHNvIHRoYXQgdGVtcGxhdGUgc3RyaW5ncyBtYXkgYmUgZHluYW1pY2FsbHkgZ2VuZXJhdGVkIGJhc2VkIG9uIHRoZSBkdXJhdGlvbiBvYmplY3Rcblx0XHQvLyAoYWNjZXNzaWJsZSB2aWEgYHRoaXMuZHVyYXRpb25gKVxuXHRcdC8vIG9yIGFueSBvZiB0aGUgb3RoZXIgc2V0dGluZ3Ncblx0XHR0ZW1wbGF0ZTogZnVuY3Rpb24gKCkge1xuXHRcdFx0dmFyIHR5cGVzID0gdGhpcy50eXBlcyxcblx0XHRcdFx0ZHVyID0gdGhpcy5kdXJhdGlvbixcblx0XHRcdFx0bGFzdFR5cGUgPSBmaW5kTGFzdCh0eXBlcywgZnVuY3Rpb24gKHR5cGUpIHtcblx0XHRcdFx0XHRyZXR1cm4gZHVyLl9kYXRhW3R5cGVdO1xuXHRcdFx0XHR9KTtcblxuXHRcdFx0Ly8gZGVmYXVsdCB0ZW1wbGF0ZSBzdHJpbmdzIGZvciBlYWNoIGR1cmF0aW9uIGRpbWVuc2lvbiB0eXBlXG5cdFx0XHRzd2l0Y2ggKGxhc3RUeXBlKSB7XG5cdFx0XHRcdGNhc2UgXCJzZWNvbmRzXCI6XG5cdFx0XHRcdFx0cmV0dXJuIFwiaDptbTpzc1wiO1xuXHRcdFx0XHRjYXNlIFwibWludXRlc1wiOlxuXHRcdFx0XHRcdHJldHVybiBcImRbZF0gaDptbVwiO1xuXHRcdFx0XHRjYXNlIFwiaG91cnNcIjpcblx0XHRcdFx0XHRyZXR1cm4gXCJkW2RdIGhbaF1cIjtcblx0XHRcdFx0Y2FzZSBcImRheXNcIjpcblx0XHRcdFx0XHRyZXR1cm4gXCJNW21dIGRbZF1cIjtcblx0XHRcdFx0Y2FzZSBcIndlZWtzXCI6XG5cdFx0XHRcdFx0cmV0dXJuIFwieVt5XSB3W3ddXCI7XG5cdFx0XHRcdGNhc2UgXCJtb250aHNcIjpcblx0XHRcdFx0XHRyZXR1cm4gXCJ5W3ldIE1bbV1cIjtcblx0XHRcdFx0Y2FzZSBcInllYXJzXCI6XG5cdFx0XHRcdFx0cmV0dXJuIFwieVt5XVwiO1xuXHRcdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRcdHJldHVybiBcInlbeV0gTVttXSBkW2RdIGg6bW06c3NcIjtcblx0XHRcdH1cblx0XHR9XG5cdH07XG5cbn0pKHRoaXMpO1xuXG59LHtcIjQ3XCI6NDd9XSw0NzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4vLyEgbW9tZW50LmpzXG4vLyEgdmVyc2lvbiA6IDIuMTAuNlxuLy8hIGF1dGhvcnMgOiBUaW0gV29vZCwgSXNrcmVuIENoZXJuZXYsIE1vbWVudC5qcyBjb250cmlidXRvcnNcbi8vISBsaWNlbnNlIDogTUlUXG4vLyEgbW9tZW50anMuY29tXG5cbihmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7XG4gICAgdHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnID8gbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCkgOlxuICAgIHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCA/IGRlZmluZShmYWN0b3J5KSA6XG4gICAgZ2xvYmFsLm1vbWVudCA9IGZhY3RvcnkoKVxufSh0aGlzLCBmdW5jdGlvbiAoKSB7ICd1c2Ugc3RyaWN0JztcblxuICAgIHZhciBob29rQ2FsbGJhY2s7XG5cbiAgICBmdW5jdGlvbiB1dGlsc19ob29rc19faG9va3MgKCkge1xuICAgICAgICByZXR1cm4gaG9va0NhbGxiYWNrLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gICAgfVxuXG4gICAgLy8gVGhpcyBpcyBkb25lIHRvIHJlZ2lzdGVyIHRoZSBtZXRob2QgY2FsbGVkIHdpdGggbW9tZW50KClcbiAgICAvLyB3aXRob3V0IGNyZWF0aW5nIGNpcmN1bGFyIGRlcGVuZGVuY2llcy5cbiAgICBmdW5jdGlvbiBzZXRIb29rQ2FsbGJhY2sgKGNhbGxiYWNrKSB7XG4gICAgICAgIGhvb2tDYWxsYmFjayA9IGNhbGxiYWNrO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzQXJyYXkoaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChpbnB1dCkgPT09ICdbb2JqZWN0IEFycmF5XSc7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNEYXRlKGlucHV0KSB7XG4gICAgICAgIHJldHVybiBpbnB1dCBpbnN0YW5jZW9mIERhdGUgfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGlucHV0KSA9PT0gJ1tvYmplY3QgRGF0ZV0nO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1hcChhcnIsIGZuKSB7XG4gICAgICAgIHZhciByZXMgPSBbXSwgaTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGFyci5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgcmVzLnB1c2goZm4oYXJyW2ldLCBpKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBoYXNPd25Qcm9wKGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChhLCBiKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBleHRlbmQoYSwgYikge1xuICAgICAgICBmb3IgKHZhciBpIGluIGIpIHtcbiAgICAgICAgICAgIGlmIChoYXNPd25Qcm9wKGIsIGkpKSB7XG4gICAgICAgICAgICAgICAgYVtpXSA9IGJbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaGFzT3duUHJvcChiLCAndG9TdHJpbmcnKSkge1xuICAgICAgICAgICAgYS50b1N0cmluZyA9IGIudG9TdHJpbmc7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaGFzT3duUHJvcChiLCAndmFsdWVPZicpKSB7XG4gICAgICAgICAgICBhLnZhbHVlT2YgPSBiLnZhbHVlT2Y7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVfdXRjX19jcmVhdGVVVEMgKGlucHV0LCBmb3JtYXQsIGxvY2FsZSwgc3RyaWN0KSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVMb2NhbE9yVVRDKGlucHV0LCBmb3JtYXQsIGxvY2FsZSwgc3RyaWN0LCB0cnVlKS51dGMoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkZWZhdWx0UGFyc2luZ0ZsYWdzKCkge1xuICAgICAgICAvLyBXZSBuZWVkIHRvIGRlZXAgY2xvbmUgdGhpcyBvYmplY3QuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBlbXB0eSAgICAgICAgICAgOiBmYWxzZSxcbiAgICAgICAgICAgIHVudXNlZFRva2VucyAgICA6IFtdLFxuICAgICAgICAgICAgdW51c2VkSW5wdXQgICAgIDogW10sXG4gICAgICAgICAgICBvdmVyZmxvdyAgICAgICAgOiAtMixcbiAgICAgICAgICAgIGNoYXJzTGVmdE92ZXIgICA6IDAsXG4gICAgICAgICAgICBudWxsSW5wdXQgICAgICAgOiBmYWxzZSxcbiAgICAgICAgICAgIGludmFsaWRNb250aCAgICA6IG51bGwsXG4gICAgICAgICAgICBpbnZhbGlkRm9ybWF0ICAgOiBmYWxzZSxcbiAgICAgICAgICAgIHVzZXJJbnZhbGlkYXRlZCA6IGZhbHNlLFxuICAgICAgICAgICAgaXNvICAgICAgICAgICAgIDogZmFsc2VcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRQYXJzaW5nRmxhZ3MobSkge1xuICAgICAgICBpZiAobS5fcGYgPT0gbnVsbCkge1xuICAgICAgICAgICAgbS5fcGYgPSBkZWZhdWx0UGFyc2luZ0ZsYWdzKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG0uX3BmO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHZhbGlkX19pc1ZhbGlkKG0pIHtcbiAgICAgICAgaWYgKG0uX2lzVmFsaWQgPT0gbnVsbCkge1xuICAgICAgICAgICAgdmFyIGZsYWdzID0gZ2V0UGFyc2luZ0ZsYWdzKG0pO1xuICAgICAgICAgICAgbS5faXNWYWxpZCA9ICFpc05hTihtLl9kLmdldFRpbWUoKSkgJiZcbiAgICAgICAgICAgICAgICBmbGFncy5vdmVyZmxvdyA8IDAgJiZcbiAgICAgICAgICAgICAgICAhZmxhZ3MuZW1wdHkgJiZcbiAgICAgICAgICAgICAgICAhZmxhZ3MuaW52YWxpZE1vbnRoICYmXG4gICAgICAgICAgICAgICAgIWZsYWdzLmludmFsaWRXZWVrZGF5ICYmXG4gICAgICAgICAgICAgICAgIWZsYWdzLm51bGxJbnB1dCAmJlxuICAgICAgICAgICAgICAgICFmbGFncy5pbnZhbGlkRm9ybWF0ICYmXG4gICAgICAgICAgICAgICAgIWZsYWdzLnVzZXJJbnZhbGlkYXRlZDtcblxuICAgICAgICAgICAgaWYgKG0uX3N0cmljdCkge1xuICAgICAgICAgICAgICAgIG0uX2lzVmFsaWQgPSBtLl9pc1ZhbGlkICYmXG4gICAgICAgICAgICAgICAgICAgIGZsYWdzLmNoYXJzTGVmdE92ZXIgPT09IDAgJiZcbiAgICAgICAgICAgICAgICAgICAgZmxhZ3MudW51c2VkVG9rZW5zLmxlbmd0aCA9PT0gMCAmJlxuICAgICAgICAgICAgICAgICAgICBmbGFncy5iaWdIb3VyID09PSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG0uX2lzVmFsaWQ7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdmFsaWRfX2NyZWF0ZUludmFsaWQgKGZsYWdzKSB7XG4gICAgICAgIHZhciBtID0gY3JlYXRlX3V0Y19fY3JlYXRlVVRDKE5hTik7XG4gICAgICAgIGlmIChmbGFncyAhPSBudWxsKSB7XG4gICAgICAgICAgICBleHRlbmQoZ2V0UGFyc2luZ0ZsYWdzKG0pLCBmbGFncyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MobSkudXNlckludmFsaWRhdGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBtO1xuICAgIH1cblxuICAgIHZhciBtb21lbnRQcm9wZXJ0aWVzID0gdXRpbHNfaG9va3NfX2hvb2tzLm1vbWVudFByb3BlcnRpZXMgPSBbXTtcblxuICAgIGZ1bmN0aW9uIGNvcHlDb25maWcodG8sIGZyb20pIHtcbiAgICAgICAgdmFyIGksIHByb3AsIHZhbDtcblxuICAgICAgICBpZiAodHlwZW9mIGZyb20uX2lzQU1vbWVudE9iamVjdCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHRvLl9pc0FNb21lbnRPYmplY3QgPSBmcm9tLl9pc0FNb21lbnRPYmplY3Q7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBmcm9tLl9pICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgdG8uX2kgPSBmcm9tLl9pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgZnJvbS5fZiAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHRvLl9mID0gZnJvbS5fZjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIGZyb20uX2wgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB0by5fbCA9IGZyb20uX2w7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBmcm9tLl9zdHJpY3QgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB0by5fc3RyaWN0ID0gZnJvbS5fc3RyaWN0O1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgZnJvbS5fdHptICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgdG8uX3R6bSA9IGZyb20uX3R6bTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIGZyb20uX2lzVVRDICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgdG8uX2lzVVRDID0gZnJvbS5faXNVVEM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBmcm9tLl9vZmZzZXQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB0by5fb2Zmc2V0ID0gZnJvbS5fb2Zmc2V0O1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgZnJvbS5fcGYgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB0by5fcGYgPSBnZXRQYXJzaW5nRmxhZ3MoZnJvbSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBmcm9tLl9sb2NhbGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB0by5fbG9jYWxlID0gZnJvbS5fbG9jYWxlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG1vbWVudFByb3BlcnRpZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgZm9yIChpIGluIG1vbWVudFByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgICBwcm9wID0gbW9tZW50UHJvcGVydGllc1tpXTtcbiAgICAgICAgICAgICAgICB2YWwgPSBmcm9tW3Byb3BdO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgICB0b1twcm9wXSA9IHZhbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdG87XG4gICAgfVxuXG4gICAgdmFyIHVwZGF0ZUluUHJvZ3Jlc3MgPSBmYWxzZTtcblxuICAgIC8vIE1vbWVudCBwcm90b3R5cGUgb2JqZWN0XG4gICAgZnVuY3Rpb24gTW9tZW50KGNvbmZpZykge1xuICAgICAgICBjb3B5Q29uZmlnKHRoaXMsIGNvbmZpZyk7XG4gICAgICAgIHRoaXMuX2QgPSBuZXcgRGF0ZShjb25maWcuX2QgIT0gbnVsbCA/IGNvbmZpZy5fZC5nZXRUaW1lKCkgOiBOYU4pO1xuICAgICAgICAvLyBQcmV2ZW50IGluZmluaXRlIGxvb3AgaW4gY2FzZSB1cGRhdGVPZmZzZXQgY3JlYXRlcyBuZXcgbW9tZW50XG4gICAgICAgIC8vIG9iamVjdHMuXG4gICAgICAgIGlmICh1cGRhdGVJblByb2dyZXNzID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdXBkYXRlSW5Qcm9ncmVzcyA9IHRydWU7XG4gICAgICAgICAgICB1dGlsc19ob29rc19faG9va3MudXBkYXRlT2Zmc2V0KHRoaXMpO1xuICAgICAgICAgICAgdXBkYXRlSW5Qcm9ncmVzcyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNNb21lbnQgKG9iaikge1xuICAgICAgICByZXR1cm4gb2JqIGluc3RhbmNlb2YgTW9tZW50IHx8IChvYmogIT0gbnVsbCAmJiBvYmouX2lzQU1vbWVudE9iamVjdCAhPSBudWxsKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhYnNGbG9vciAobnVtYmVyKSB7XG4gICAgICAgIGlmIChudW1iZXIgPCAwKSB7XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5jZWlsKG51bWJlcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihudW1iZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdG9JbnQoYXJndW1lbnRGb3JDb2VyY2lvbikge1xuICAgICAgICB2YXIgY29lcmNlZE51bWJlciA9ICthcmd1bWVudEZvckNvZXJjaW9uLFxuICAgICAgICAgICAgdmFsdWUgPSAwO1xuXG4gICAgICAgIGlmIChjb2VyY2VkTnVtYmVyICE9PSAwICYmIGlzRmluaXRlKGNvZXJjZWROdW1iZXIpKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IGFic0Zsb29yKGNvZXJjZWROdW1iZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNvbXBhcmVBcnJheXMoYXJyYXkxLCBhcnJheTIsIGRvbnRDb252ZXJ0KSB7XG4gICAgICAgIHZhciBsZW4gPSBNYXRoLm1pbihhcnJheTEubGVuZ3RoLCBhcnJheTIubGVuZ3RoKSxcbiAgICAgICAgICAgIGxlbmd0aERpZmYgPSBNYXRoLmFicyhhcnJheTEubGVuZ3RoIC0gYXJyYXkyLmxlbmd0aCksXG4gICAgICAgICAgICBkaWZmcyA9IDAsXG4gICAgICAgICAgICBpO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIGlmICgoZG9udENvbnZlcnQgJiYgYXJyYXkxW2ldICE9PSBhcnJheTJbaV0pIHx8XG4gICAgICAgICAgICAgICAgKCFkb250Q29udmVydCAmJiB0b0ludChhcnJheTFbaV0pICE9PSB0b0ludChhcnJheTJbaV0pKSkge1xuICAgICAgICAgICAgICAgIGRpZmZzKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRpZmZzICsgbGVuZ3RoRGlmZjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBMb2NhbGUoKSB7XG4gICAgfVxuXG4gICAgdmFyIGxvY2FsZXMgPSB7fTtcbiAgICB2YXIgZ2xvYmFsTG9jYWxlO1xuXG4gICAgZnVuY3Rpb24gbm9ybWFsaXplTG9jYWxlKGtleSkge1xuICAgICAgICByZXR1cm4ga2V5ID8ga2V5LnRvTG93ZXJDYXNlKCkucmVwbGFjZSgnXycsICctJykgOiBrZXk7XG4gICAgfVxuXG4gICAgLy8gcGljayB0aGUgbG9jYWxlIGZyb20gdGhlIGFycmF5XG4gICAgLy8gdHJ5IFsnZW4tYXUnLCAnZW4tZ2InXSBhcyAnZW4tYXUnLCAnZW4tZ2InLCAnZW4nLCBhcyBpbiBtb3ZlIHRocm91Z2ggdGhlIGxpc3QgdHJ5aW5nIGVhY2hcbiAgICAvLyBzdWJzdHJpbmcgZnJvbSBtb3N0IHNwZWNpZmljIHRvIGxlYXN0LCBidXQgbW92ZSB0byB0aGUgbmV4dCBhcnJheSBpdGVtIGlmIGl0J3MgYSBtb3JlIHNwZWNpZmljIHZhcmlhbnQgdGhhbiB0aGUgY3VycmVudCByb290XG4gICAgZnVuY3Rpb24gY2hvb3NlTG9jYWxlKG5hbWVzKSB7XG4gICAgICAgIHZhciBpID0gMCwgaiwgbmV4dCwgbG9jYWxlLCBzcGxpdDtcblxuICAgICAgICB3aGlsZSAoaSA8IG5hbWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgc3BsaXQgPSBub3JtYWxpemVMb2NhbGUobmFtZXNbaV0pLnNwbGl0KCctJyk7XG4gICAgICAgICAgICBqID0gc3BsaXQubGVuZ3RoO1xuICAgICAgICAgICAgbmV4dCA9IG5vcm1hbGl6ZUxvY2FsZShuYW1lc1tpICsgMV0pO1xuICAgICAgICAgICAgbmV4dCA9IG5leHQgPyBuZXh0LnNwbGl0KCctJykgOiBudWxsO1xuICAgICAgICAgICAgd2hpbGUgKGogPiAwKSB7XG4gICAgICAgICAgICAgICAgbG9jYWxlID0gbG9hZExvY2FsZShzcGxpdC5zbGljZSgwLCBqKS5qb2luKCctJykpO1xuICAgICAgICAgICAgICAgIGlmIChsb2NhbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGxvY2FsZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG5leHQgJiYgbmV4dC5sZW5ndGggPj0gaiAmJiBjb21wYXJlQXJyYXlzKHNwbGl0LCBuZXh0LCB0cnVlKSA+PSBqIC0gMSkge1xuICAgICAgICAgICAgICAgICAgICAvL3RoZSBuZXh0IGFycmF5IGl0ZW0gaXMgYmV0dGVyIHRoYW4gYSBzaGFsbG93ZXIgc3Vic3RyaW5nIG9mIHRoaXMgb25lXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBqLS07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpKys7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbG9hZExvY2FsZShuYW1lKSB7XG4gICAgICAgIHZhciBvbGRMb2NhbGUgPSBudWxsO1xuICAgICAgICAvLyBUT0RPOiBGaW5kIGEgYmV0dGVyIHdheSB0byByZWdpc3RlciBhbmQgbG9hZCBhbGwgdGhlIGxvY2FsZXMgaW4gTm9kZVxuICAgICAgICBpZiAoIWxvY2FsZXNbbmFtZV0gJiYgdHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgICAgICAgICBtb2R1bGUgJiYgbW9kdWxlLmV4cG9ydHMpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgb2xkTG9jYWxlID0gZ2xvYmFsTG9jYWxlLl9hYmJyO1xuICAgICAgICAgICAgICAgIHJlcXVpcmUoJy4vbG9jYWxlLycgKyBuYW1lKTtcbiAgICAgICAgICAgICAgICAvLyBiZWNhdXNlIGRlZmluZUxvY2FsZSBjdXJyZW50bHkgYWxzbyBzZXRzIHRoZSBnbG9iYWwgbG9jYWxlLCB3ZVxuICAgICAgICAgICAgICAgIC8vIHdhbnQgdG8gdW5kbyB0aGF0IGZvciBsYXp5IGxvYWRlZCBsb2NhbGVzXG4gICAgICAgICAgICAgICAgbG9jYWxlX2xvY2FsZXNfX2dldFNldEdsb2JhbExvY2FsZShvbGRMb2NhbGUpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkgeyB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGxvY2FsZXNbbmFtZV07XG4gICAgfVxuXG4gICAgLy8gVGhpcyBmdW5jdGlvbiB3aWxsIGxvYWQgbG9jYWxlIGFuZCB0aGVuIHNldCB0aGUgZ2xvYmFsIGxvY2FsZS4gIElmXG4gICAgLy8gbm8gYXJndW1lbnRzIGFyZSBwYXNzZWQgaW4sIGl0IHdpbGwgc2ltcGx5IHJldHVybiB0aGUgY3VycmVudCBnbG9iYWxcbiAgICAvLyBsb2NhbGUga2V5LlxuICAgIGZ1bmN0aW9uIGxvY2FsZV9sb2NhbGVzX19nZXRTZXRHbG9iYWxMb2NhbGUgKGtleSwgdmFsdWVzKSB7XG4gICAgICAgIHZhciBkYXRhO1xuICAgICAgICBpZiAoa2V5KSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlcyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICBkYXRhID0gbG9jYWxlX2xvY2FsZXNfX2dldExvY2FsZShrZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZGF0YSA9IGRlZmluZUxvY2FsZShrZXksIHZhbHVlcyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgLy8gbW9tZW50LmR1cmF0aW9uLl9sb2NhbGUgPSBtb21lbnQuX2xvY2FsZSA9IGRhdGE7XG4gICAgICAgICAgICAgICAgZ2xvYmFsTG9jYWxlID0gZGF0YTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBnbG9iYWxMb2NhbGUuX2FiYnI7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZGVmaW5lTG9jYWxlIChuYW1lLCB2YWx1ZXMpIHtcbiAgICAgICAgaWYgKHZhbHVlcyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdmFsdWVzLmFiYnIgPSBuYW1lO1xuICAgICAgICAgICAgbG9jYWxlc1tuYW1lXSA9IGxvY2FsZXNbbmFtZV0gfHwgbmV3IExvY2FsZSgpO1xuICAgICAgICAgICAgbG9jYWxlc1tuYW1lXS5zZXQodmFsdWVzKTtcblxuICAgICAgICAgICAgLy8gYmFja3dhcmRzIGNvbXBhdCBmb3Igbm93OiBhbHNvIHNldCB0aGUgbG9jYWxlXG4gICAgICAgICAgICBsb2NhbGVfbG9jYWxlc19fZ2V0U2V0R2xvYmFsTG9jYWxlKG5hbWUpO1xuXG4gICAgICAgICAgICByZXR1cm4gbG9jYWxlc1tuYW1lXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIHVzZWZ1bCBmb3IgdGVzdGluZ1xuICAgICAgICAgICAgZGVsZXRlIGxvY2FsZXNbbmFtZV07XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIHJldHVybnMgbG9jYWxlIGRhdGFcbiAgICBmdW5jdGlvbiBsb2NhbGVfbG9jYWxlc19fZ2V0TG9jYWxlIChrZXkpIHtcbiAgICAgICAgdmFyIGxvY2FsZTtcblxuICAgICAgICBpZiAoa2V5ICYmIGtleS5fbG9jYWxlICYmIGtleS5fbG9jYWxlLl9hYmJyKSB7XG4gICAgICAgICAgICBrZXkgPSBrZXkuX2xvY2FsZS5fYWJicjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICgha2V5KSB7XG4gICAgICAgICAgICByZXR1cm4gZ2xvYmFsTG9jYWxlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFpc0FycmF5KGtleSkpIHtcbiAgICAgICAgICAgIC8vc2hvcnQtY2lyY3VpdCBldmVyeXRoaW5nIGVsc2VcbiAgICAgICAgICAgIGxvY2FsZSA9IGxvYWRMb2NhbGUoa2V5KTtcbiAgICAgICAgICAgIGlmIChsb2NhbGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbG9jYWxlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAga2V5ID0gW2tleV07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY2hvb3NlTG9jYWxlKGtleSk7XG4gICAgfVxuXG4gICAgdmFyIGFsaWFzZXMgPSB7fTtcblxuICAgIGZ1bmN0aW9uIGFkZFVuaXRBbGlhcyAodW5pdCwgc2hvcnRoYW5kKSB7XG4gICAgICAgIHZhciBsb3dlckNhc2UgPSB1bml0LnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGFsaWFzZXNbbG93ZXJDYXNlXSA9IGFsaWFzZXNbbG93ZXJDYXNlICsgJ3MnXSA9IGFsaWFzZXNbc2hvcnRoYW5kXSA9IHVuaXQ7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbm9ybWFsaXplVW5pdHModW5pdHMpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiB1bml0cyA9PT0gJ3N0cmluZycgPyBhbGlhc2VzW3VuaXRzXSB8fCBhbGlhc2VzW3VuaXRzLnRvTG93ZXJDYXNlKCldIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG5vcm1hbGl6ZU9iamVjdFVuaXRzKGlucHV0T2JqZWN0KSB7XG4gICAgICAgIHZhciBub3JtYWxpemVkSW5wdXQgPSB7fSxcbiAgICAgICAgICAgIG5vcm1hbGl6ZWRQcm9wLFxuICAgICAgICAgICAgcHJvcDtcblxuICAgICAgICBmb3IgKHByb3AgaW4gaW5wdXRPYmplY3QpIHtcbiAgICAgICAgICAgIGlmIChoYXNPd25Qcm9wKGlucHV0T2JqZWN0LCBwcm9wKSkge1xuICAgICAgICAgICAgICAgIG5vcm1hbGl6ZWRQcm9wID0gbm9ybWFsaXplVW5pdHMocHJvcCk7XG4gICAgICAgICAgICAgICAgaWYgKG5vcm1hbGl6ZWRQcm9wKSB7XG4gICAgICAgICAgICAgICAgICAgIG5vcm1hbGl6ZWRJbnB1dFtub3JtYWxpemVkUHJvcF0gPSBpbnB1dE9iamVjdFtwcm9wXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbm9ybWFsaXplZElucHV0O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1ha2VHZXRTZXQgKHVuaXQsIGtlZXBUaW1lKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZ2V0X3NldF9fc2V0KHRoaXMsIHVuaXQsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICB1dGlsc19ob29rc19faG9va3MudXBkYXRlT2Zmc2V0KHRoaXMsIGtlZXBUaW1lKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldF9zZXRfX2dldCh0aGlzLCB1bml0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRfc2V0X19nZXQgKG1vbSwgdW5pdCkge1xuICAgICAgICByZXR1cm4gbW9tLl9kWydnZXQnICsgKG1vbS5faXNVVEMgPyAnVVRDJyA6ICcnKSArIHVuaXRdKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0X3NldF9fc2V0IChtb20sIHVuaXQsIHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBtb20uX2RbJ3NldCcgKyAobW9tLl9pc1VUQyA/ICdVVEMnIDogJycpICsgdW5pdF0odmFsdWUpO1xuICAgIH1cblxuICAgIC8vIE1PTUVOVFNcblxuICAgIGZ1bmN0aW9uIGdldFNldCAodW5pdHMsIHZhbHVlKSB7XG4gICAgICAgIHZhciB1bml0O1xuICAgICAgICBpZiAodHlwZW9mIHVuaXRzID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgZm9yICh1bml0IGluIHVuaXRzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXQodW5pdCwgdW5pdHNbdW5pdF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdW5pdHMgPSBub3JtYWxpemVVbml0cyh1bml0cyk7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHRoaXNbdW5pdHNdID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXNbdW5pdHNdKHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB6ZXJvRmlsbChudW1iZXIsIHRhcmdldExlbmd0aCwgZm9yY2VTaWduKSB7XG4gICAgICAgIHZhciBhYnNOdW1iZXIgPSAnJyArIE1hdGguYWJzKG51bWJlciksXG4gICAgICAgICAgICB6ZXJvc1RvRmlsbCA9IHRhcmdldExlbmd0aCAtIGFic051bWJlci5sZW5ndGgsXG4gICAgICAgICAgICBzaWduID0gbnVtYmVyID49IDA7XG4gICAgICAgIHJldHVybiAoc2lnbiA/IChmb3JjZVNpZ24gPyAnKycgOiAnJykgOiAnLScpICtcbiAgICAgICAgICAgIE1hdGgucG93KDEwLCBNYXRoLm1heCgwLCB6ZXJvc1RvRmlsbCkpLnRvU3RyaW5nKCkuc3Vic3RyKDEpICsgYWJzTnVtYmVyO1xuICAgIH1cblxuICAgIHZhciBmb3JtYXR0aW5nVG9rZW5zID0gLyhcXFtbXlxcW10qXFxdKXwoXFxcXCk/KE1vfE1NP00/TT98RG98REREb3xERD9EP0Q/fGRkZD9kP3xkbz98d1tvfHddP3xXW298V10/fFF8WVlZWVlZfFlZWVlZfFlZWVl8WVl8Z2coZ2dnPyk/fEdHKEdHRz8pP3xlfEV8YXxBfGhoP3xISD98bW0/fHNzP3xTezEsOX18eHxYfHp6P3xaWj98LikvZztcblxuICAgIHZhciBsb2NhbEZvcm1hdHRpbmdUb2tlbnMgPSAvKFxcW1teXFxbXSpcXF0pfChcXFxcKT8oTFRTfExUfExMP0w/TD98bHsxLDR9KS9nO1xuXG4gICAgdmFyIGZvcm1hdEZ1bmN0aW9ucyA9IHt9O1xuXG4gICAgdmFyIGZvcm1hdFRva2VuRnVuY3Rpb25zID0ge307XG5cbiAgICAvLyB0b2tlbjogICAgJ00nXG4gICAgLy8gcGFkZGVkOiAgIFsnTU0nLCAyXVxuICAgIC8vIG9yZGluYWw6ICAnTW8nXG4gICAgLy8gY2FsbGJhY2s6IGZ1bmN0aW9uICgpIHsgdGhpcy5tb250aCgpICsgMSB9XG4gICAgZnVuY3Rpb24gYWRkRm9ybWF0VG9rZW4gKHRva2VuLCBwYWRkZWQsIG9yZGluYWwsIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBmdW5jID0gY2FsbGJhY2s7XG4gICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBmdW5jID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzW2NhbGxiYWNrXSgpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodG9rZW4pIHtcbiAgICAgICAgICAgIGZvcm1hdFRva2VuRnVuY3Rpb25zW3Rva2VuXSA9IGZ1bmM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhZGRlZCkge1xuICAgICAgICAgICAgZm9ybWF0VG9rZW5GdW5jdGlvbnNbcGFkZGVkWzBdXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gemVyb0ZpbGwoZnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpLCBwYWRkZWRbMV0sIHBhZGRlZFsyXSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcmRpbmFsKSB7XG4gICAgICAgICAgICBmb3JtYXRUb2tlbkZ1bmN0aW9uc1tvcmRpbmFsXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkub3JkaW5hbChmdW5jLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyksIHRva2VuKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZW1vdmVGb3JtYXR0aW5nVG9rZW5zKGlucHV0KSB7XG4gICAgICAgIGlmIChpbnB1dC5tYXRjaCgvXFxbW1xcc1xcU10vKSkge1xuICAgICAgICAgICAgcmV0dXJuIGlucHV0LnJlcGxhY2UoL15cXFt8XFxdJC9nLCAnJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGlucHV0LnJlcGxhY2UoL1xcXFwvZywgJycpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1ha2VGb3JtYXRGdW5jdGlvbihmb3JtYXQpIHtcbiAgICAgICAgdmFyIGFycmF5ID0gZm9ybWF0Lm1hdGNoKGZvcm1hdHRpbmdUb2tlbnMpLCBpLCBsZW5ndGg7XG5cbiAgICAgICAgZm9yIChpID0gMCwgbGVuZ3RoID0gYXJyYXkubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChmb3JtYXRUb2tlbkZ1bmN0aW9uc1thcnJheVtpXV0pIHtcbiAgICAgICAgICAgICAgICBhcnJheVtpXSA9IGZvcm1hdFRva2VuRnVuY3Rpb25zW2FycmF5W2ldXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYXJyYXlbaV0gPSByZW1vdmVGb3JtYXR0aW5nVG9rZW5zKGFycmF5W2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAobW9tKSB7XG4gICAgICAgICAgICB2YXIgb3V0cHV0ID0gJyc7XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBvdXRwdXQgKz0gYXJyYXlbaV0gaW5zdGFuY2VvZiBGdW5jdGlvbiA/IGFycmF5W2ldLmNhbGwobW9tLCBmb3JtYXQpIDogYXJyYXlbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8vIGZvcm1hdCBkYXRlIHVzaW5nIG5hdGl2ZSBkYXRlIG9iamVjdFxuICAgIGZ1bmN0aW9uIGZvcm1hdE1vbWVudChtLCBmb3JtYXQpIHtcbiAgICAgICAgaWYgKCFtLmlzVmFsaWQoKSkge1xuICAgICAgICAgICAgcmV0dXJuIG0ubG9jYWxlRGF0YSgpLmludmFsaWREYXRlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3JtYXQgPSBleHBhbmRGb3JtYXQoZm9ybWF0LCBtLmxvY2FsZURhdGEoKSk7XG4gICAgICAgIGZvcm1hdEZ1bmN0aW9uc1tmb3JtYXRdID0gZm9ybWF0RnVuY3Rpb25zW2Zvcm1hdF0gfHwgbWFrZUZvcm1hdEZ1bmN0aW9uKGZvcm1hdCk7XG5cbiAgICAgICAgcmV0dXJuIGZvcm1hdEZ1bmN0aW9uc1tmb3JtYXRdKG0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGV4cGFuZEZvcm1hdChmb3JtYXQsIGxvY2FsZSkge1xuICAgICAgICB2YXIgaSA9IDU7XG5cbiAgICAgICAgZnVuY3Rpb24gcmVwbGFjZUxvbmdEYXRlRm9ybWF0VG9rZW5zKGlucHV0KSB7XG4gICAgICAgICAgICByZXR1cm4gbG9jYWxlLmxvbmdEYXRlRm9ybWF0KGlucHV0KSB8fCBpbnB1dDtcbiAgICAgICAgfVxuXG4gICAgICAgIGxvY2FsRm9ybWF0dGluZ1Rva2Vucy5sYXN0SW5kZXggPSAwO1xuICAgICAgICB3aGlsZSAoaSA+PSAwICYmIGxvY2FsRm9ybWF0dGluZ1Rva2Vucy50ZXN0KGZvcm1hdCkpIHtcbiAgICAgICAgICAgIGZvcm1hdCA9IGZvcm1hdC5yZXBsYWNlKGxvY2FsRm9ybWF0dGluZ1Rva2VucywgcmVwbGFjZUxvbmdEYXRlRm9ybWF0VG9rZW5zKTtcbiAgICAgICAgICAgIGxvY2FsRm9ybWF0dGluZ1Rva2Vucy5sYXN0SW5kZXggPSAwO1xuICAgICAgICAgICAgaSAtPSAxO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZvcm1hdDtcbiAgICB9XG5cbiAgICB2YXIgbWF0Y2gxICAgICAgICAgPSAvXFxkLzsgICAgICAgICAgICAvLyAgICAgICAwIC0gOVxuICAgIHZhciBtYXRjaDIgICAgICAgICA9IC9cXGRcXGQvOyAgICAgICAgICAvLyAgICAgIDAwIC0gOTlcbiAgICB2YXIgbWF0Y2gzICAgICAgICAgPSAvXFxkezN9LzsgICAgICAgICAvLyAgICAgMDAwIC0gOTk5XG4gICAgdmFyIG1hdGNoNCAgICAgICAgID0gL1xcZHs0fS87ICAgICAgICAgLy8gICAgMDAwMCAtIDk5OTlcbiAgICB2YXIgbWF0Y2g2ICAgICAgICAgPSAvWystXT9cXGR7Nn0vOyAgICAvLyAtOTk5OTk5IC0gOTk5OTk5XG4gICAgdmFyIG1hdGNoMXRvMiAgICAgID0gL1xcZFxcZD8vOyAgICAgICAgIC8vICAgICAgIDAgLSA5OVxuICAgIHZhciBtYXRjaDF0bzMgICAgICA9IC9cXGR7MSwzfS87ICAgICAgIC8vICAgICAgIDAgLSA5OTlcbiAgICB2YXIgbWF0Y2gxdG80ICAgICAgPSAvXFxkezEsNH0vOyAgICAgICAvLyAgICAgICAwIC0gOTk5OVxuICAgIHZhciBtYXRjaDF0bzYgICAgICA9IC9bKy1dP1xcZHsxLDZ9LzsgIC8vIC05OTk5OTkgLSA5OTk5OTlcblxuICAgIHZhciBtYXRjaFVuc2lnbmVkICA9IC9cXGQrLzsgICAgICAgICAgIC8vICAgICAgIDAgLSBpbmZcbiAgICB2YXIgbWF0Y2hTaWduZWQgICAgPSAvWystXT9cXGQrLzsgICAgICAvLyAgICAtaW5mIC0gaW5mXG5cbiAgICB2YXIgbWF0Y2hPZmZzZXQgICAgPSAvWnxbKy1dXFxkXFxkOj9cXGRcXGQvZ2k7IC8vICswMDowMCAtMDA6MDAgKzAwMDAgLTAwMDAgb3IgWlxuXG4gICAgdmFyIG1hdGNoVGltZXN0YW1wID0gL1srLV0/XFxkKyhcXC5cXGR7MSwzfSk/LzsgLy8gMTIzNDU2Nzg5IDEyMzQ1Njc4OS4xMjNcblxuICAgIC8vIGFueSB3b3JkIChvciB0d28pIGNoYXJhY3RlcnMgb3IgbnVtYmVycyBpbmNsdWRpbmcgdHdvL3RocmVlIHdvcmQgbW9udGggaW4gYXJhYmljLlxuICAgIHZhciBtYXRjaFdvcmQgPSAvWzAtOV0qWydhLXpcXHUwMEEwLVxcdTA1RkZcXHUwNzAwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdK3xbXFx1MDYwMC1cXHUwNkZGXFwvXSsoXFxzKj9bXFx1MDYwMC1cXHUwNkZGXSspezEsMn0vaTtcblxuICAgIHZhciByZWdleGVzID0ge307XG5cbiAgICBmdW5jdGlvbiBpc0Z1bmN0aW9uIChzdGgpIHtcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL21vbWVudC9tb21lbnQvaXNzdWVzLzIzMjVcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBzdGggPT09ICdmdW5jdGlvbicgJiZcbiAgICAgICAgICAgIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChzdGgpID09PSAnW29iamVjdCBGdW5jdGlvbl0nO1xuICAgIH1cblxuXG4gICAgZnVuY3Rpb24gYWRkUmVnZXhUb2tlbiAodG9rZW4sIHJlZ2V4LCBzdHJpY3RSZWdleCkge1xuICAgICAgICByZWdleGVzW3Rva2VuXSA9IGlzRnVuY3Rpb24ocmVnZXgpID8gcmVnZXggOiBmdW5jdGlvbiAoaXNTdHJpY3QpIHtcbiAgICAgICAgICAgIHJldHVybiAoaXNTdHJpY3QgJiYgc3RyaWN0UmVnZXgpID8gc3RyaWN0UmVnZXggOiByZWdleDtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRQYXJzZVJlZ2V4Rm9yVG9rZW4gKHRva2VuLCBjb25maWcpIHtcbiAgICAgICAgaWYgKCFoYXNPd25Qcm9wKHJlZ2V4ZXMsIHRva2VuKSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAodW5lc2NhcGVGb3JtYXQodG9rZW4pKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZWdleGVzW3Rva2VuXShjb25maWcuX3N0cmljdCwgY29uZmlnLl9sb2NhbGUpO1xuICAgIH1cblxuICAgIC8vIENvZGUgZnJvbSBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzM1NjE0OTMvaXMtdGhlcmUtYS1yZWdleHAtZXNjYXBlLWZ1bmN0aW9uLWluLWphdmFzY3JpcHRcbiAgICBmdW5jdGlvbiB1bmVzY2FwZUZvcm1hdChzKSB7XG4gICAgICAgIHJldHVybiBzLnJlcGxhY2UoJ1xcXFwnLCAnJykucmVwbGFjZSgvXFxcXChcXFspfFxcXFwoXFxdKXxcXFsoW15cXF1cXFtdKilcXF18XFxcXCguKS9nLCBmdW5jdGlvbiAobWF0Y2hlZCwgcDEsIHAyLCBwMywgcDQpIHtcbiAgICAgICAgICAgIHJldHVybiBwMSB8fCBwMiB8fCBwMyB8fCBwNDtcbiAgICAgICAgfSkucmVwbGFjZSgvWy1cXC9cXFxcXiQqKz8uKCl8W1xcXXt9XS9nLCAnXFxcXCQmJyk7XG4gICAgfVxuXG4gICAgdmFyIHRva2VucyA9IHt9O1xuXG4gICAgZnVuY3Rpb24gYWRkUGFyc2VUb2tlbiAodG9rZW4sIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBpLCBmdW5jID0gY2FsbGJhY2s7XG4gICAgICAgIGlmICh0eXBlb2YgdG9rZW4gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB0b2tlbiA9IFt0b2tlbl07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIGZ1bmMgPSBmdW5jdGlvbiAoaW5wdXQsIGFycmF5KSB7XG4gICAgICAgICAgICAgICAgYXJyYXlbY2FsbGJhY2tdID0gdG9JbnQoaW5wdXQpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgdG9rZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRva2Vuc1t0b2tlbltpXV0gPSBmdW5jO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYWRkV2Vla1BhcnNlVG9rZW4gKHRva2VuLCBjYWxsYmFjaykge1xuICAgICAgICBhZGRQYXJzZVRva2VuKHRva2VuLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcsIHRva2VuKSB7XG4gICAgICAgICAgICBjb25maWcuX3cgPSBjb25maWcuX3cgfHwge307XG4gICAgICAgICAgICBjYWxsYmFjayhpbnB1dCwgY29uZmlnLl93LCBjb25maWcsIHRva2VuKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYWRkVGltZVRvQXJyYXlGcm9tVG9rZW4odG9rZW4sIGlucHV0LCBjb25maWcpIHtcbiAgICAgICAgaWYgKGlucHV0ICE9IG51bGwgJiYgaGFzT3duUHJvcCh0b2tlbnMsIHRva2VuKSkge1xuICAgICAgICAgICAgdG9rZW5zW3Rva2VuXShpbnB1dCwgY29uZmlnLl9hLCBjb25maWcsIHRva2VuKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHZhciBZRUFSID0gMDtcbiAgICB2YXIgTU9OVEggPSAxO1xuICAgIHZhciBEQVRFID0gMjtcbiAgICB2YXIgSE9VUiA9IDM7XG4gICAgdmFyIE1JTlVURSA9IDQ7XG4gICAgdmFyIFNFQ09ORCA9IDU7XG4gICAgdmFyIE1JTExJU0VDT05EID0gNjtcblxuICAgIGZ1bmN0aW9uIGRheXNJbk1vbnRoKHllYXIsIG1vbnRoKSB7XG4gICAgICAgIHJldHVybiBuZXcgRGF0ZShEYXRlLlVUQyh5ZWFyLCBtb250aCArIDEsIDApKS5nZXRVVENEYXRlKCk7XG4gICAgfVxuXG4gICAgLy8gRk9STUFUVElOR1xuXG4gICAgYWRkRm9ybWF0VG9rZW4oJ00nLCBbJ01NJywgMl0sICdNbycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubW9udGgoKSArIDE7XG4gICAgfSk7XG5cbiAgICBhZGRGb3JtYXRUb2tlbignTU1NJywgMCwgMCwgZnVuY3Rpb24gKGZvcm1hdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkubW9udGhzU2hvcnQodGhpcywgZm9ybWF0KTtcbiAgICB9KTtcblxuICAgIGFkZEZvcm1hdFRva2VuKCdNTU1NJywgMCwgMCwgZnVuY3Rpb24gKGZvcm1hdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkubW9udGhzKHRoaXMsIGZvcm1hdCk7XG4gICAgfSk7XG5cbiAgICAvLyBBTElBU0VTXG5cbiAgICBhZGRVbml0QWxpYXMoJ21vbnRoJywgJ00nKTtcblxuICAgIC8vIFBBUlNJTkdcblxuICAgIGFkZFJlZ2V4VG9rZW4oJ00nLCAgICBtYXRjaDF0bzIpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ01NJywgICBtYXRjaDF0bzIsIG1hdGNoMik7XG4gICAgYWRkUmVnZXhUb2tlbignTU1NJywgIG1hdGNoV29yZCk7XG4gICAgYWRkUmVnZXhUb2tlbignTU1NTScsIG1hdGNoV29yZCk7XG5cbiAgICBhZGRQYXJzZVRva2VuKFsnTScsICdNTSddLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5KSB7XG4gICAgICAgIGFycmF5W01PTlRIXSA9IHRvSW50KGlucHV0KSAtIDE7XG4gICAgfSk7XG5cbiAgICBhZGRQYXJzZVRva2VuKFsnTU1NJywgJ01NTU0nXSwgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnLCB0b2tlbikge1xuICAgICAgICB2YXIgbW9udGggPSBjb25maWcuX2xvY2FsZS5tb250aHNQYXJzZShpbnB1dCwgdG9rZW4sIGNvbmZpZy5fc3RyaWN0KTtcbiAgICAgICAgLy8gaWYgd2UgZGlkbid0IGZpbmQgYSBtb250aCBuYW1lLCBtYXJrIHRoZSBkYXRlIGFzIGludmFsaWQuXG4gICAgICAgIGlmIChtb250aCAhPSBudWxsKSB7XG4gICAgICAgICAgICBhcnJheVtNT05USF0gPSBtb250aDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmludmFsaWRNb250aCA9IGlucHV0O1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBMT0NBTEVTXG5cbiAgICB2YXIgZGVmYXVsdExvY2FsZU1vbnRocyA9ICdKYW51YXJ5X0ZlYnJ1YXJ5X01hcmNoX0FwcmlsX01heV9KdW5lX0p1bHlfQXVndXN0X1NlcHRlbWJlcl9PY3RvYmVyX05vdmVtYmVyX0RlY2VtYmVyJy5zcGxpdCgnXycpO1xuICAgIGZ1bmN0aW9uIGxvY2FsZU1vbnRocyAobSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbW9udGhzW20ubW9udGgoKV07XG4gICAgfVxuXG4gICAgdmFyIGRlZmF1bHRMb2NhbGVNb250aHNTaG9ydCA9ICdKYW5fRmViX01hcl9BcHJfTWF5X0p1bl9KdWxfQXVnX1NlcF9PY3RfTm92X0RlYycuc3BsaXQoJ18nKTtcbiAgICBmdW5jdGlvbiBsb2NhbGVNb250aHNTaG9ydCAobSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbW9udGhzU2hvcnRbbS5tb250aCgpXTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsb2NhbGVNb250aHNQYXJzZSAobW9udGhOYW1lLCBmb3JtYXQsIHN0cmljdCkge1xuICAgICAgICB2YXIgaSwgbW9tLCByZWdleDtcblxuICAgICAgICBpZiAoIXRoaXMuX21vbnRoc1BhcnNlKSB7XG4gICAgICAgICAgICB0aGlzLl9tb250aHNQYXJzZSA9IFtdO1xuICAgICAgICAgICAgdGhpcy5fbG9uZ01vbnRoc1BhcnNlID0gW107XG4gICAgICAgICAgICB0aGlzLl9zaG9ydE1vbnRoc1BhcnNlID0gW107XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgMTI7IGkrKykge1xuICAgICAgICAgICAgLy8gbWFrZSB0aGUgcmVnZXggaWYgd2UgZG9uJ3QgaGF2ZSBpdCBhbHJlYWR5XG4gICAgICAgICAgICBtb20gPSBjcmVhdGVfdXRjX19jcmVhdGVVVEMoWzIwMDAsIGldKTtcbiAgICAgICAgICAgIGlmIChzdHJpY3QgJiYgIXRoaXMuX2xvbmdNb250aHNQYXJzZVtpXSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2xvbmdNb250aHNQYXJzZVtpXSA9IG5ldyBSZWdFeHAoJ14nICsgdGhpcy5tb250aHMobW9tLCAnJykucmVwbGFjZSgnLicsICcnKSArICckJywgJ2knKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9zaG9ydE1vbnRoc1BhcnNlW2ldID0gbmV3IFJlZ0V4cCgnXicgKyB0aGlzLm1vbnRoc1Nob3J0KG1vbSwgJycpLnJlcGxhY2UoJy4nLCAnJykgKyAnJCcsICdpJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXN0cmljdCAmJiAhdGhpcy5fbW9udGhzUGFyc2VbaV0pIHtcbiAgICAgICAgICAgICAgICByZWdleCA9ICdeJyArIHRoaXMubW9udGhzKG1vbSwgJycpICsgJ3xeJyArIHRoaXMubW9udGhzU2hvcnQobW9tLCAnJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fbW9udGhzUGFyc2VbaV0gPSBuZXcgUmVnRXhwKHJlZ2V4LnJlcGxhY2UoJy4nLCAnJyksICdpJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyB0ZXN0IHRoZSByZWdleFxuICAgICAgICAgICAgaWYgKHN0cmljdCAmJiBmb3JtYXQgPT09ICdNTU1NJyAmJiB0aGlzLl9sb25nTW9udGhzUGFyc2VbaV0udGVzdChtb250aE5hbWUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHN0cmljdCAmJiBmb3JtYXQgPT09ICdNTU0nICYmIHRoaXMuX3Nob3J0TW9udGhzUGFyc2VbaV0udGVzdChtb250aE5hbWUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCFzdHJpY3QgJiYgdGhpcy5fbW9udGhzUGFyc2VbaV0udGVzdChtb250aE5hbWUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBNT01FTlRTXG5cbiAgICBmdW5jdGlvbiBzZXRNb250aCAobW9tLCB2YWx1ZSkge1xuICAgICAgICB2YXIgZGF5T2ZNb250aDtcblxuICAgICAgICAvLyBUT0RPOiBNb3ZlIHRoaXMgb3V0IG9mIGhlcmUhXG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IG1vbS5sb2NhbGVEYXRhKCkubW9udGhzUGFyc2UodmFsdWUpO1xuICAgICAgICAgICAgLy8gVE9ETzogQW5vdGhlciBzaWxlbnQgZmFpbHVyZT9cbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1vbTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGRheU9mTW9udGggPSBNYXRoLm1pbihtb20uZGF0ZSgpLCBkYXlzSW5Nb250aChtb20ueWVhcigpLCB2YWx1ZSkpO1xuICAgICAgICBtb20uX2RbJ3NldCcgKyAobW9tLl9pc1VUQyA/ICdVVEMnIDogJycpICsgJ01vbnRoJ10odmFsdWUsIGRheU9mTW9udGgpO1xuICAgICAgICByZXR1cm4gbW9tO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFNldE1vbnRoICh2YWx1ZSkge1xuICAgICAgICBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgICAgICAgICAgc2V0TW9udGgodGhpcywgdmFsdWUpO1xuICAgICAgICAgICAgdXRpbHNfaG9va3NfX2hvb2tzLnVwZGF0ZU9mZnNldCh0aGlzLCB0cnVlKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGdldF9zZXRfX2dldCh0aGlzLCAnTW9udGgnKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldERheXNJbk1vbnRoICgpIHtcbiAgICAgICAgcmV0dXJuIGRheXNJbk1vbnRoKHRoaXMueWVhcigpLCB0aGlzLm1vbnRoKCkpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNoZWNrT3ZlcmZsb3cgKG0pIHtcbiAgICAgICAgdmFyIG92ZXJmbG93O1xuICAgICAgICB2YXIgYSA9IG0uX2E7XG5cbiAgICAgICAgaWYgKGEgJiYgZ2V0UGFyc2luZ0ZsYWdzKG0pLm92ZXJmbG93ID09PSAtMikge1xuICAgICAgICAgICAgb3ZlcmZsb3cgPVxuICAgICAgICAgICAgICAgIGFbTU9OVEhdICAgICAgIDwgMCB8fCBhW01PTlRIXSAgICAgICA+IDExICA/IE1PTlRIIDpcbiAgICAgICAgICAgICAgICBhW0RBVEVdICAgICAgICA8IDEgfHwgYVtEQVRFXSAgICAgICAgPiBkYXlzSW5Nb250aChhW1lFQVJdLCBhW01PTlRIXSkgPyBEQVRFIDpcbiAgICAgICAgICAgICAgICBhW0hPVVJdICAgICAgICA8IDAgfHwgYVtIT1VSXSAgICAgICAgPiAyNCB8fCAoYVtIT1VSXSA9PT0gMjQgJiYgKGFbTUlOVVRFXSAhPT0gMCB8fCBhW1NFQ09ORF0gIT09IDAgfHwgYVtNSUxMSVNFQ09ORF0gIT09IDApKSA/IEhPVVIgOlxuICAgICAgICAgICAgICAgIGFbTUlOVVRFXSAgICAgIDwgMCB8fCBhW01JTlVURV0gICAgICA+IDU5ICA/IE1JTlVURSA6XG4gICAgICAgICAgICAgICAgYVtTRUNPTkRdICAgICAgPCAwIHx8IGFbU0VDT05EXSAgICAgID4gNTkgID8gU0VDT05EIDpcbiAgICAgICAgICAgICAgICBhW01JTExJU0VDT05EXSA8IDAgfHwgYVtNSUxMSVNFQ09ORF0gPiA5OTkgPyBNSUxMSVNFQ09ORCA6XG4gICAgICAgICAgICAgICAgLTE7XG5cbiAgICAgICAgICAgIGlmIChnZXRQYXJzaW5nRmxhZ3MobSkuX292ZXJmbG93RGF5T2ZZZWFyICYmIChvdmVyZmxvdyA8IFlFQVIgfHwgb3ZlcmZsb3cgPiBEQVRFKSkge1xuICAgICAgICAgICAgICAgIG92ZXJmbG93ID0gREFURTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKG0pLm92ZXJmbG93ID0gb3ZlcmZsb3c7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB3YXJuKG1zZykge1xuICAgICAgICBpZiAodXRpbHNfaG9va3NfX2hvb2tzLnN1cHByZXNzRGVwcmVjYXRpb25XYXJuaW5ncyA9PT0gZmFsc2UgJiYgdHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnICYmIGNvbnNvbGUud2Fybikge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdEZXByZWNhdGlvbiB3YXJuaW5nOiAnICsgbXNnKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRlcHJlY2F0ZShtc2csIGZuKSB7XG4gICAgICAgIHZhciBmaXJzdFRpbWUgPSB0cnVlO1xuXG4gICAgICAgIHJldHVybiBleHRlbmQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKGZpcnN0VGltZSkge1xuICAgICAgICAgICAgICAgIHdhcm4obXNnICsgJ1xcbicgKyAobmV3IEVycm9yKCkpLnN0YWNrKTtcbiAgICAgICAgICAgICAgICBmaXJzdFRpbWUgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICB9LCBmbik7XG4gICAgfVxuXG4gICAgdmFyIGRlcHJlY2F0aW9ucyA9IHt9O1xuXG4gICAgZnVuY3Rpb24gZGVwcmVjYXRlU2ltcGxlKG5hbWUsIG1zZykge1xuICAgICAgICBpZiAoIWRlcHJlY2F0aW9uc1tuYW1lXSkge1xuICAgICAgICAgICAgd2Fybihtc2cpO1xuICAgICAgICAgICAgZGVwcmVjYXRpb25zW25hbWVdID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHV0aWxzX2hvb2tzX19ob29rcy5zdXBwcmVzc0RlcHJlY2F0aW9uV2FybmluZ3MgPSBmYWxzZTtcblxuICAgIHZhciBmcm9tX3N0cmluZ19faXNvUmVnZXggPSAvXlxccyooPzpbKy1dXFxkezZ9fFxcZHs0fSktKD86KFxcZFxcZC1cXGRcXGQpfChXXFxkXFxkJCl8KFdcXGRcXGQtXFxkKXwoXFxkXFxkXFxkKSkoKFR8ICkoXFxkXFxkKDpcXGRcXGQoOlxcZFxcZChcXC5cXGQrKT8pPyk/KT8oW1xcK1xcLV1cXGRcXGQoPzo6P1xcZFxcZCk/fFxccypaKT8pPyQvO1xuXG4gICAgdmFyIGlzb0RhdGVzID0gW1xuICAgICAgICBbJ1lZWVlZWS1NTS1ERCcsIC9bKy1dXFxkezZ9LVxcZHsyfS1cXGR7Mn0vXSxcbiAgICAgICAgWydZWVlZLU1NLUREJywgL1xcZHs0fS1cXGR7Mn0tXFxkezJ9L10sXG4gICAgICAgIFsnR0dHRy1bV11XVy1FJywgL1xcZHs0fS1XXFxkezJ9LVxcZC9dLFxuICAgICAgICBbJ0dHR0ctW1ddV1cnLCAvXFxkezR9LVdcXGR7Mn0vXSxcbiAgICAgICAgWydZWVlZLURERCcsIC9cXGR7NH0tXFxkezN9L11cbiAgICBdO1xuXG4gICAgLy8gaXNvIHRpbWUgZm9ybWF0cyBhbmQgcmVnZXhlc1xuICAgIHZhciBpc29UaW1lcyA9IFtcbiAgICAgICAgWydISDptbTpzcy5TU1NTJywgLyhUfCApXFxkXFxkOlxcZFxcZDpcXGRcXGRcXC5cXGQrL10sXG4gICAgICAgIFsnSEg6bW06c3MnLCAvKFR8IClcXGRcXGQ6XFxkXFxkOlxcZFxcZC9dLFxuICAgICAgICBbJ0hIOm1tJywgLyhUfCApXFxkXFxkOlxcZFxcZC9dLFxuICAgICAgICBbJ0hIJywgLyhUfCApXFxkXFxkL11cbiAgICBdO1xuXG4gICAgdmFyIGFzcE5ldEpzb25SZWdleCA9IC9eXFwvP0RhdGVcXCgoXFwtP1xcZCspL2k7XG5cbiAgICAvLyBkYXRlIGZyb20gaXNvIGZvcm1hdFxuICAgIGZ1bmN0aW9uIGNvbmZpZ0Zyb21JU08oY29uZmlnKSB7XG4gICAgICAgIHZhciBpLCBsLFxuICAgICAgICAgICAgc3RyaW5nID0gY29uZmlnLl9pLFxuICAgICAgICAgICAgbWF0Y2ggPSBmcm9tX3N0cmluZ19faXNvUmVnZXguZXhlYyhzdHJpbmcpO1xuXG4gICAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuaXNvID0gdHJ1ZTtcbiAgICAgICAgICAgIGZvciAoaSA9IDAsIGwgPSBpc29EYXRlcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNvRGF0ZXNbaV1bMV0uZXhlYyhzdHJpbmcpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZy5fZiA9IGlzb0RhdGVzW2ldWzBdO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGkgPSAwLCBsID0gaXNvVGltZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzb1RpbWVzW2ldWzFdLmV4ZWMoc3RyaW5nKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBtYXRjaFs2XSBzaG91bGQgYmUgJ1QnIG9yIHNwYWNlXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZy5fZiArPSAobWF0Y2hbNl0gfHwgJyAnKSArIGlzb1RpbWVzW2ldWzBdO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc3RyaW5nLm1hdGNoKG1hdGNoT2Zmc2V0KSkge1xuICAgICAgICAgICAgICAgIGNvbmZpZy5fZiArPSAnWic7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25maWdGcm9tU3RyaW5nQW5kRm9ybWF0KGNvbmZpZyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25maWcuX2lzVmFsaWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIGRhdGUgZnJvbSBpc28gZm9ybWF0IG9yIGZhbGxiYWNrXG4gICAgZnVuY3Rpb24gY29uZmlnRnJvbVN0cmluZyhjb25maWcpIHtcbiAgICAgICAgdmFyIG1hdGNoZWQgPSBhc3BOZXRKc29uUmVnZXguZXhlYyhjb25maWcuX2kpO1xuXG4gICAgICAgIGlmIChtYXRjaGVkICE9PSBudWxsKSB7XG4gICAgICAgICAgICBjb25maWcuX2QgPSBuZXcgRGF0ZSgrbWF0Y2hlZFsxXSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25maWdGcm9tSVNPKGNvbmZpZyk7XG4gICAgICAgIGlmIChjb25maWcuX2lzVmFsaWQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBkZWxldGUgY29uZmlnLl9pc1ZhbGlkO1xuICAgICAgICAgICAgdXRpbHNfaG9va3NfX2hvb2tzLmNyZWF0ZUZyb21JbnB1dEZhbGxiYWNrKGNvbmZpZyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB1dGlsc19ob29rc19faG9va3MuY3JlYXRlRnJvbUlucHV0RmFsbGJhY2sgPSBkZXByZWNhdGUoXG4gICAgICAgICdtb21lbnQgY29uc3RydWN0aW9uIGZhbGxzIGJhY2sgdG8ganMgRGF0ZS4gVGhpcyBpcyAnICtcbiAgICAgICAgJ2Rpc2NvdXJhZ2VkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gdXBjb21pbmcgbWFqb3IgJyArXG4gICAgICAgICdyZWxlYXNlLiBQbGVhc2UgcmVmZXIgdG8gJyArXG4gICAgICAgICdodHRwczovL2dpdGh1Yi5jb20vbW9tZW50L21vbWVudC9pc3N1ZXMvMTQwNyBmb3IgbW9yZSBpbmZvLicsXG4gICAgICAgIGZ1bmN0aW9uIChjb25maWcpIHtcbiAgICAgICAgICAgIGNvbmZpZy5fZCA9IG5ldyBEYXRlKGNvbmZpZy5faSArIChjb25maWcuX3VzZVVUQyA/ICcgVVRDJyA6ICcnKSk7XG4gICAgICAgIH1cbiAgICApO1xuXG4gICAgZnVuY3Rpb24gY3JlYXRlRGF0ZSAoeSwgbSwgZCwgaCwgTSwgcywgbXMpIHtcbiAgICAgICAgLy9jYW4ndCBqdXN0IGFwcGx5KCkgdG8gY3JlYXRlIGEgZGF0ZTpcbiAgICAgICAgLy9odHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzE4MTM0OC9pbnN0YW50aWF0aW5nLWEtamF2YXNjcmlwdC1vYmplY3QtYnktY2FsbGluZy1wcm90b3R5cGUtY29uc3RydWN0b3ItYXBwbHlcbiAgICAgICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSh5LCBtLCBkLCBoLCBNLCBzLCBtcyk7XG5cbiAgICAgICAgLy90aGUgZGF0ZSBjb25zdHJ1Y3RvciBkb2Vzbid0IGFjY2VwdCB5ZWFycyA8IDE5NzBcbiAgICAgICAgaWYgKHkgPCAxOTcwKSB7XG4gICAgICAgICAgICBkYXRlLnNldEZ1bGxZZWFyKHkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkYXRlO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZVVUQ0RhdGUgKHkpIHtcbiAgICAgICAgdmFyIGRhdGUgPSBuZXcgRGF0ZShEYXRlLlVUQy5hcHBseShudWxsLCBhcmd1bWVudHMpKTtcbiAgICAgICAgaWYgKHkgPCAxOTcwKSB7XG4gICAgICAgICAgICBkYXRlLnNldFVUQ0Z1bGxZZWFyKHkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkYXRlO1xuICAgIH1cblxuICAgIGFkZEZvcm1hdFRva2VuKDAsIFsnWVknLCAyXSwgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy55ZWFyKCkgJSAxMDA7XG4gICAgfSk7XG5cbiAgICBhZGRGb3JtYXRUb2tlbigwLCBbJ1lZWVknLCAgIDRdLCAgICAgICAwLCAneWVhcicpO1xuICAgIGFkZEZvcm1hdFRva2VuKDAsIFsnWVlZWVknLCAgNV0sICAgICAgIDAsICd5ZWFyJyk7XG4gICAgYWRkRm9ybWF0VG9rZW4oMCwgWydZWVlZWVknLCA2LCB0cnVlXSwgMCwgJ3llYXInKTtcblxuICAgIC8vIEFMSUFTRVNcblxuICAgIGFkZFVuaXRBbGlhcygneWVhcicsICd5Jyk7XG5cbiAgICAvLyBQQVJTSU5HXG5cbiAgICBhZGRSZWdleFRva2VuKCdZJywgICAgICBtYXRjaFNpZ25lZCk7XG4gICAgYWRkUmVnZXhUb2tlbignWVknLCAgICAgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ1lZWVknLCAgIG1hdGNoMXRvNCwgbWF0Y2g0KTtcbiAgICBhZGRSZWdleFRva2VuKCdZWVlZWScsICBtYXRjaDF0bzYsIG1hdGNoNik7XG4gICAgYWRkUmVnZXhUb2tlbignWVlZWVlZJywgbWF0Y2gxdG82LCBtYXRjaDYpO1xuXG4gICAgYWRkUGFyc2VUb2tlbihbJ1lZWVlZJywgJ1lZWVlZWSddLCBZRUFSKTtcbiAgICBhZGRQYXJzZVRva2VuKCdZWVlZJywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSkge1xuICAgICAgICBhcnJheVtZRUFSXSA9IGlucHV0Lmxlbmd0aCA9PT0gMiA/IHV0aWxzX2hvb2tzX19ob29rcy5wYXJzZVR3b0RpZ2l0WWVhcihpbnB1dCkgOiB0b0ludChpbnB1dCk7XG4gICAgfSk7XG4gICAgYWRkUGFyc2VUb2tlbignWVknLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5KSB7XG4gICAgICAgIGFycmF5W1lFQVJdID0gdXRpbHNfaG9va3NfX2hvb2tzLnBhcnNlVHdvRGlnaXRZZWFyKGlucHV0KTtcbiAgICB9KTtcblxuICAgIC8vIEhFTFBFUlNcblxuICAgIGZ1bmN0aW9uIGRheXNJblllYXIoeWVhcikge1xuICAgICAgICByZXR1cm4gaXNMZWFwWWVhcih5ZWFyKSA/IDM2NiA6IDM2NTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc0xlYXBZZWFyKHllYXIpIHtcbiAgICAgICAgcmV0dXJuICh5ZWFyICUgNCA9PT0gMCAmJiB5ZWFyICUgMTAwICE9PSAwKSB8fCB5ZWFyICUgNDAwID09PSAwO1xuICAgIH1cblxuICAgIC8vIEhPT0tTXG5cbiAgICB1dGlsc19ob29rc19faG9va3MucGFyc2VUd29EaWdpdFllYXIgPSBmdW5jdGlvbiAoaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIHRvSW50KGlucHV0KSArICh0b0ludChpbnB1dCkgPiA2OCA/IDE5MDAgOiAyMDAwKTtcbiAgICB9O1xuXG4gICAgLy8gTU9NRU5UU1xuXG4gICAgdmFyIGdldFNldFllYXIgPSBtYWtlR2V0U2V0KCdGdWxsWWVhcicsIGZhbHNlKTtcblxuICAgIGZ1bmN0aW9uIGdldElzTGVhcFllYXIgKCkge1xuICAgICAgICByZXR1cm4gaXNMZWFwWWVhcih0aGlzLnllYXIoKSk7XG4gICAgfVxuXG4gICAgYWRkRm9ybWF0VG9rZW4oJ3cnLCBbJ3d3JywgMl0sICd3bycsICd3ZWVrJyk7XG4gICAgYWRkRm9ybWF0VG9rZW4oJ1cnLCBbJ1dXJywgMl0sICdXbycsICdpc29XZWVrJyk7XG5cbiAgICAvLyBBTElBU0VTXG5cbiAgICBhZGRVbml0QWxpYXMoJ3dlZWsnLCAndycpO1xuICAgIGFkZFVuaXRBbGlhcygnaXNvV2VlaycsICdXJyk7XG5cbiAgICAvLyBQQVJTSU5HXG5cbiAgICBhZGRSZWdleFRva2VuKCd3JywgIG1hdGNoMXRvMik7XG4gICAgYWRkUmVnZXhUb2tlbignd3cnLCBtYXRjaDF0bzIsIG1hdGNoMik7XG4gICAgYWRkUmVnZXhUb2tlbignVycsICBtYXRjaDF0bzIpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ1dXJywgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuXG4gICAgYWRkV2Vla1BhcnNlVG9rZW4oWyd3JywgJ3d3JywgJ1cnLCAnV1cnXSwgZnVuY3Rpb24gKGlucHV0LCB3ZWVrLCBjb25maWcsIHRva2VuKSB7XG4gICAgICAgIHdlZWtbdG9rZW4uc3Vic3RyKDAsIDEpXSA9IHRvSW50KGlucHV0KTtcbiAgICB9KTtcblxuICAgIC8vIEhFTFBFUlNcblxuICAgIC8vIGZpcnN0RGF5T2ZXZWVrICAgICAgIDAgPSBzdW4sIDYgPSBzYXRcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgICB0aGUgZGF5IG9mIHRoZSB3ZWVrIHRoYXQgc3RhcnRzIHRoZSB3ZWVrXG4gICAgLy8gICAgICAgICAgICAgICAgICAgICAgKHVzdWFsbHkgc3VuZGF5IG9yIG1vbmRheSlcbiAgICAvLyBmaXJzdERheU9mV2Vla09mWWVhciAwID0gc3VuLCA2ID0gc2F0XG4gICAgLy8gICAgICAgICAgICAgICAgICAgICAgdGhlIGZpcnN0IHdlZWsgaXMgdGhlIHdlZWsgdGhhdCBjb250YWlucyB0aGUgZmlyc3RcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgICBvZiB0aGlzIGRheSBvZiB0aGUgd2Vla1xuICAgIC8vICAgICAgICAgICAgICAgICAgICAgIChlZy4gSVNPIHdlZWtzIHVzZSB0aHVyc2RheSAoNCkpXG4gICAgZnVuY3Rpb24gd2Vla09mWWVhcihtb20sIGZpcnN0RGF5T2ZXZWVrLCBmaXJzdERheU9mV2Vla09mWWVhcikge1xuICAgICAgICB2YXIgZW5kID0gZmlyc3REYXlPZldlZWtPZlllYXIgLSBmaXJzdERheU9mV2VlayxcbiAgICAgICAgICAgIGRheXNUb0RheU9mV2VlayA9IGZpcnN0RGF5T2ZXZWVrT2ZZZWFyIC0gbW9tLmRheSgpLFxuICAgICAgICAgICAgYWRqdXN0ZWRNb21lbnQ7XG5cblxuICAgICAgICBpZiAoZGF5c1RvRGF5T2ZXZWVrID4gZW5kKSB7XG4gICAgICAgICAgICBkYXlzVG9EYXlPZldlZWsgLT0gNztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkYXlzVG9EYXlPZldlZWsgPCBlbmQgLSA3KSB7XG4gICAgICAgICAgICBkYXlzVG9EYXlPZldlZWsgKz0gNztcbiAgICAgICAgfVxuXG4gICAgICAgIGFkanVzdGVkTW9tZW50ID0gbG9jYWxfX2NyZWF0ZUxvY2FsKG1vbSkuYWRkKGRheXNUb0RheU9mV2VlaywgJ2QnKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHdlZWs6IE1hdGguY2VpbChhZGp1c3RlZE1vbWVudC5kYXlPZlllYXIoKSAvIDcpLFxuICAgICAgICAgICAgeWVhcjogYWRqdXN0ZWRNb21lbnQueWVhcigpXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gTE9DQUxFU1xuXG4gICAgZnVuY3Rpb24gbG9jYWxlV2VlayAobW9tKSB7XG4gICAgICAgIHJldHVybiB3ZWVrT2ZZZWFyKG1vbSwgdGhpcy5fd2Vlay5kb3csIHRoaXMuX3dlZWsuZG95KS53ZWVrO1xuICAgIH1cblxuICAgIHZhciBkZWZhdWx0TG9jYWxlV2VlayA9IHtcbiAgICAgICAgZG93IDogMCwgLy8gU3VuZGF5IGlzIHRoZSBmaXJzdCBkYXkgb2YgdGhlIHdlZWsuXG4gICAgICAgIGRveSA6IDYgIC8vIFRoZSB3ZWVrIHRoYXQgY29udGFpbnMgSmFuIDFzdCBpcyB0aGUgZmlyc3Qgd2VlayBvZiB0aGUgeWVhci5cbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gbG9jYWxlRmlyc3REYXlPZldlZWsgKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fd2Vlay5kb3c7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbG9jYWxlRmlyc3REYXlPZlllYXIgKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fd2Vlay5kb3k7XG4gICAgfVxuXG4gICAgLy8gTU9NRU5UU1xuXG4gICAgZnVuY3Rpb24gZ2V0U2V0V2VlayAoaW5wdXQpIHtcbiAgICAgICAgdmFyIHdlZWsgPSB0aGlzLmxvY2FsZURhdGEoKS53ZWVrKHRoaXMpO1xuICAgICAgICByZXR1cm4gaW5wdXQgPT0gbnVsbCA/IHdlZWsgOiB0aGlzLmFkZCgoaW5wdXQgLSB3ZWVrKSAqIDcsICdkJyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0U2V0SVNPV2VlayAoaW5wdXQpIHtcbiAgICAgICAgdmFyIHdlZWsgPSB3ZWVrT2ZZZWFyKHRoaXMsIDEsIDQpLndlZWs7XG4gICAgICAgIHJldHVybiBpbnB1dCA9PSBudWxsID8gd2VlayA6IHRoaXMuYWRkKChpbnB1dCAtIHdlZWspICogNywgJ2QnKTtcbiAgICB9XG5cbiAgICBhZGRGb3JtYXRUb2tlbignREREJywgWydEREREJywgM10sICdERERvJywgJ2RheU9mWWVhcicpO1xuXG4gICAgLy8gQUxJQVNFU1xuXG4gICAgYWRkVW5pdEFsaWFzKCdkYXlPZlllYXInLCAnREREJyk7XG5cbiAgICAvLyBQQVJTSU5HXG5cbiAgICBhZGRSZWdleFRva2VuKCdEREQnLCAgbWF0Y2gxdG8zKTtcbiAgICBhZGRSZWdleFRva2VuKCdEREREJywgbWF0Y2gzKTtcbiAgICBhZGRQYXJzZVRva2VuKFsnREREJywgJ0REREQnXSwgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnKSB7XG4gICAgICAgIGNvbmZpZy5fZGF5T2ZZZWFyID0gdG9JbnQoaW5wdXQpO1xuICAgIH0pO1xuXG4gICAgLy8gSEVMUEVSU1xuXG4gICAgLy9odHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0lTT193ZWVrX2RhdGUjQ2FsY3VsYXRpbmdfYV9kYXRlX2dpdmVuX3RoZV95ZWFyLjJDX3dlZWtfbnVtYmVyX2FuZF93ZWVrZGF5XG4gICAgZnVuY3Rpb24gZGF5T2ZZZWFyRnJvbVdlZWtzKHllYXIsIHdlZWssIHdlZWtkYXksIGZpcnN0RGF5T2ZXZWVrT2ZZZWFyLCBmaXJzdERheU9mV2Vlaykge1xuICAgICAgICB2YXIgd2VlazFKYW4gPSA2ICsgZmlyc3REYXlPZldlZWsgLSBmaXJzdERheU9mV2Vla09mWWVhciwgamFuWCA9IGNyZWF0ZVVUQ0RhdGUoeWVhciwgMCwgMSArIHdlZWsxSmFuKSwgZCA9IGphblguZ2V0VVRDRGF5KCksIGRheU9mWWVhcjtcbiAgICAgICAgaWYgKGQgPCBmaXJzdERheU9mV2Vlaykge1xuICAgICAgICAgICAgZCArPSA3O1xuICAgICAgICB9XG5cbiAgICAgICAgd2Vla2RheSA9IHdlZWtkYXkgIT0gbnVsbCA/IDEgKiB3ZWVrZGF5IDogZmlyc3REYXlPZldlZWs7XG5cbiAgICAgICAgZGF5T2ZZZWFyID0gMSArIHdlZWsxSmFuICsgNyAqICh3ZWVrIC0gMSkgLSBkICsgd2Vla2RheTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeWVhcjogZGF5T2ZZZWFyID4gMCA/IHllYXIgOiB5ZWFyIC0gMSxcbiAgICAgICAgICAgIGRheU9mWWVhcjogZGF5T2ZZZWFyID4gMCA/ICBkYXlPZlllYXIgOiBkYXlzSW5ZZWFyKHllYXIgLSAxKSArIGRheU9mWWVhclxuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8vIE1PTUVOVFNcblxuICAgIGZ1bmN0aW9uIGdldFNldERheU9mWWVhciAoaW5wdXQpIHtcbiAgICAgICAgdmFyIGRheU9mWWVhciA9IE1hdGgucm91bmQoKHRoaXMuY2xvbmUoKS5zdGFydE9mKCdkYXknKSAtIHRoaXMuY2xvbmUoKS5zdGFydE9mKCd5ZWFyJykpIC8gODY0ZTUpICsgMTtcbiAgICAgICAgcmV0dXJuIGlucHV0ID09IG51bGwgPyBkYXlPZlllYXIgOiB0aGlzLmFkZCgoaW5wdXQgLSBkYXlPZlllYXIpLCAnZCcpO1xuICAgIH1cblxuICAgIC8vIFBpY2sgdGhlIGZpcnN0IGRlZmluZWQgb2YgdHdvIG9yIHRocmVlIGFyZ3VtZW50cy5cbiAgICBmdW5jdGlvbiBkZWZhdWx0cyhhLCBiLCBjKSB7XG4gICAgICAgIGlmIChhICE9IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBhO1xuICAgICAgICB9XG4gICAgICAgIGlmIChiICE9IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBiO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGN1cnJlbnREYXRlQXJyYXkoY29uZmlnKSB7XG4gICAgICAgIHZhciBub3cgPSBuZXcgRGF0ZSgpO1xuICAgICAgICBpZiAoY29uZmlnLl91c2VVVEMpIHtcbiAgICAgICAgICAgIHJldHVybiBbbm93LmdldFVUQ0Z1bGxZZWFyKCksIG5vdy5nZXRVVENNb250aCgpLCBub3cuZ2V0VVRDRGF0ZSgpXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW25vdy5nZXRGdWxsWWVhcigpLCBub3cuZ2V0TW9udGgoKSwgbm93LmdldERhdGUoKV07XG4gICAgfVxuXG4gICAgLy8gY29udmVydCBhbiBhcnJheSB0byBhIGRhdGUuXG4gICAgLy8gdGhlIGFycmF5IHNob3VsZCBtaXJyb3IgdGhlIHBhcmFtZXRlcnMgYmVsb3dcbiAgICAvLyBub3RlOiBhbGwgdmFsdWVzIHBhc3QgdGhlIHllYXIgYXJlIG9wdGlvbmFsIGFuZCB3aWxsIGRlZmF1bHQgdG8gdGhlIGxvd2VzdCBwb3NzaWJsZSB2YWx1ZS5cbiAgICAvLyBbeWVhciwgbW9udGgsIGRheSAsIGhvdXIsIG1pbnV0ZSwgc2Vjb25kLCBtaWxsaXNlY29uZF1cbiAgICBmdW5jdGlvbiBjb25maWdGcm9tQXJyYXkgKGNvbmZpZykge1xuICAgICAgICB2YXIgaSwgZGF0ZSwgaW5wdXQgPSBbXSwgY3VycmVudERhdGUsIHllYXJUb1VzZTtcblxuICAgICAgICBpZiAoY29uZmlnLl9kKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjdXJyZW50RGF0ZSA9IGN1cnJlbnREYXRlQXJyYXkoY29uZmlnKTtcblxuICAgICAgICAvL2NvbXB1dGUgZGF5IG9mIHRoZSB5ZWFyIGZyb20gd2Vla3MgYW5kIHdlZWtkYXlzXG4gICAgICAgIGlmIChjb25maWcuX3cgJiYgY29uZmlnLl9hW0RBVEVdID09IG51bGwgJiYgY29uZmlnLl9hW01PTlRIXSA9PSBudWxsKSB7XG4gICAgICAgICAgICBkYXlPZlllYXJGcm9tV2Vla0luZm8oY29uZmlnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vaWYgdGhlIGRheSBvZiB0aGUgeWVhciBpcyBzZXQsIGZpZ3VyZSBvdXQgd2hhdCBpdCBpc1xuICAgICAgICBpZiAoY29uZmlnLl9kYXlPZlllYXIpIHtcbiAgICAgICAgICAgIHllYXJUb1VzZSA9IGRlZmF1bHRzKGNvbmZpZy5fYVtZRUFSXSwgY3VycmVudERhdGVbWUVBUl0pO1xuXG4gICAgICAgICAgICBpZiAoY29uZmlnLl9kYXlPZlllYXIgPiBkYXlzSW5ZZWFyKHllYXJUb1VzZSkpIHtcbiAgICAgICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5fb3ZlcmZsb3dEYXlPZlllYXIgPSB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBkYXRlID0gY3JlYXRlVVRDRGF0ZSh5ZWFyVG9Vc2UsIDAsIGNvbmZpZy5fZGF5T2ZZZWFyKTtcbiAgICAgICAgICAgIGNvbmZpZy5fYVtNT05USF0gPSBkYXRlLmdldFVUQ01vbnRoKCk7XG4gICAgICAgICAgICBjb25maWcuX2FbREFURV0gPSBkYXRlLmdldFVUQ0RhdGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIERlZmF1bHQgdG8gY3VycmVudCBkYXRlLlxuICAgICAgICAvLyAqIGlmIG5vIHllYXIsIG1vbnRoLCBkYXkgb2YgbW9udGggYXJlIGdpdmVuLCBkZWZhdWx0IHRvIHRvZGF5XG4gICAgICAgIC8vICogaWYgZGF5IG9mIG1vbnRoIGlzIGdpdmVuLCBkZWZhdWx0IG1vbnRoIGFuZCB5ZWFyXG4gICAgICAgIC8vICogaWYgbW9udGggaXMgZ2l2ZW4sIGRlZmF1bHQgb25seSB5ZWFyXG4gICAgICAgIC8vICogaWYgeWVhciBpcyBnaXZlbiwgZG9uJ3QgZGVmYXVsdCBhbnl0aGluZ1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgMyAmJiBjb25maWcuX2FbaV0gPT0gbnVsbDsgKytpKSB7XG4gICAgICAgICAgICBjb25maWcuX2FbaV0gPSBpbnB1dFtpXSA9IGN1cnJlbnREYXRlW2ldO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gWmVybyBvdXQgd2hhdGV2ZXIgd2FzIG5vdCBkZWZhdWx0ZWQsIGluY2x1ZGluZyB0aW1lXG4gICAgICAgIGZvciAoOyBpIDwgNzsgaSsrKSB7XG4gICAgICAgICAgICBjb25maWcuX2FbaV0gPSBpbnB1dFtpXSA9IChjb25maWcuX2FbaV0gPT0gbnVsbCkgPyAoaSA9PT0gMiA/IDEgOiAwKSA6IGNvbmZpZy5fYVtpXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENoZWNrIGZvciAyNDowMDowMC4wMDBcbiAgICAgICAgaWYgKGNvbmZpZy5fYVtIT1VSXSA9PT0gMjQgJiZcbiAgICAgICAgICAgICAgICBjb25maWcuX2FbTUlOVVRFXSA9PT0gMCAmJlxuICAgICAgICAgICAgICAgIGNvbmZpZy5fYVtTRUNPTkRdID09PSAwICYmXG4gICAgICAgICAgICAgICAgY29uZmlnLl9hW01JTExJU0VDT05EXSA9PT0gMCkge1xuICAgICAgICAgICAgY29uZmlnLl9uZXh0RGF5ID0gdHJ1ZTtcbiAgICAgICAgICAgIGNvbmZpZy5fYVtIT1VSXSA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICBjb25maWcuX2QgPSAoY29uZmlnLl91c2VVVEMgPyBjcmVhdGVVVENEYXRlIDogY3JlYXRlRGF0ZSkuYXBwbHkobnVsbCwgaW5wdXQpO1xuICAgICAgICAvLyBBcHBseSB0aW1lem9uZSBvZmZzZXQgZnJvbSBpbnB1dC4gVGhlIGFjdHVhbCB1dGNPZmZzZXQgY2FuIGJlIGNoYW5nZWRcbiAgICAgICAgLy8gd2l0aCBwYXJzZVpvbmUuXG4gICAgICAgIGlmIChjb25maWcuX3R6bSAhPSBudWxsKSB7XG4gICAgICAgICAgICBjb25maWcuX2Quc2V0VVRDTWludXRlcyhjb25maWcuX2QuZ2V0VVRDTWludXRlcygpIC0gY29uZmlnLl90em0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNvbmZpZy5fbmV4dERheSkge1xuICAgICAgICAgICAgY29uZmlnLl9hW0hPVVJdID0gMjQ7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkYXlPZlllYXJGcm9tV2Vla0luZm8oY29uZmlnKSB7XG4gICAgICAgIHZhciB3LCB3ZWVrWWVhciwgd2Vlaywgd2Vla2RheSwgZG93LCBkb3ksIHRlbXA7XG5cbiAgICAgICAgdyA9IGNvbmZpZy5fdztcbiAgICAgICAgaWYgKHcuR0cgIT0gbnVsbCB8fCB3LlcgIT0gbnVsbCB8fCB3LkUgIT0gbnVsbCkge1xuICAgICAgICAgICAgZG93ID0gMTtcbiAgICAgICAgICAgIGRveSA9IDQ7XG5cbiAgICAgICAgICAgIC8vIFRPRE86IFdlIG5lZWQgdG8gdGFrZSB0aGUgY3VycmVudCBpc29XZWVrWWVhciwgYnV0IHRoYXQgZGVwZW5kcyBvblxuICAgICAgICAgICAgLy8gaG93IHdlIGludGVycHJldCBub3cgKGxvY2FsLCB1dGMsIGZpeGVkIG9mZnNldCkuIFNvIGNyZWF0ZVxuICAgICAgICAgICAgLy8gYSBub3cgdmVyc2lvbiBvZiBjdXJyZW50IGNvbmZpZyAodGFrZSBsb2NhbC91dGMvb2Zmc2V0IGZsYWdzLCBhbmRcbiAgICAgICAgICAgIC8vIGNyZWF0ZSBub3cpLlxuICAgICAgICAgICAgd2Vla1llYXIgPSBkZWZhdWx0cyh3LkdHLCBjb25maWcuX2FbWUVBUl0sIHdlZWtPZlllYXIobG9jYWxfX2NyZWF0ZUxvY2FsKCksIDEsIDQpLnllYXIpO1xuICAgICAgICAgICAgd2VlayA9IGRlZmF1bHRzKHcuVywgMSk7XG4gICAgICAgICAgICB3ZWVrZGF5ID0gZGVmYXVsdHMody5FLCAxKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRvdyA9IGNvbmZpZy5fbG9jYWxlLl93ZWVrLmRvdztcbiAgICAgICAgICAgIGRveSA9IGNvbmZpZy5fbG9jYWxlLl93ZWVrLmRveTtcblxuICAgICAgICAgICAgd2Vla1llYXIgPSBkZWZhdWx0cyh3LmdnLCBjb25maWcuX2FbWUVBUl0sIHdlZWtPZlllYXIobG9jYWxfX2NyZWF0ZUxvY2FsKCksIGRvdywgZG95KS55ZWFyKTtcbiAgICAgICAgICAgIHdlZWsgPSBkZWZhdWx0cyh3LncsIDEpO1xuXG4gICAgICAgICAgICBpZiAody5kICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAvLyB3ZWVrZGF5IC0tIGxvdyBkYXkgbnVtYmVycyBhcmUgY29uc2lkZXJlZCBuZXh0IHdlZWtcbiAgICAgICAgICAgICAgICB3ZWVrZGF5ID0gdy5kO1xuICAgICAgICAgICAgICAgIGlmICh3ZWVrZGF5IDwgZG93KSB7XG4gICAgICAgICAgICAgICAgICAgICsrd2VlaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHcuZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgLy8gbG9jYWwgd2Vla2RheSAtLSBjb3VudGluZyBzdGFydHMgZnJvbSBiZWdpbmluZyBvZiB3ZWVrXG4gICAgICAgICAgICAgICAgd2Vla2RheSA9IHcuZSArIGRvdztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gZGVmYXVsdCB0byBiZWdpbmluZyBvZiB3ZWVrXG4gICAgICAgICAgICAgICAgd2Vla2RheSA9IGRvdztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0ZW1wID0gZGF5T2ZZZWFyRnJvbVdlZWtzKHdlZWtZZWFyLCB3ZWVrLCB3ZWVrZGF5LCBkb3ksIGRvdyk7XG5cbiAgICAgICAgY29uZmlnLl9hW1lFQVJdID0gdGVtcC55ZWFyO1xuICAgICAgICBjb25maWcuX2RheU9mWWVhciA9IHRlbXAuZGF5T2ZZZWFyO1xuICAgIH1cblxuICAgIHV0aWxzX2hvb2tzX19ob29rcy5JU09fODYwMSA9IGZ1bmN0aW9uICgpIHt9O1xuXG4gICAgLy8gZGF0ZSBmcm9tIHN0cmluZyBhbmQgZm9ybWF0IHN0cmluZ1xuICAgIGZ1bmN0aW9uIGNvbmZpZ0Zyb21TdHJpbmdBbmRGb3JtYXQoY29uZmlnKSB7XG4gICAgICAgIC8vIFRPRE86IE1vdmUgdGhpcyB0byBhbm90aGVyIHBhcnQgb2YgdGhlIGNyZWF0aW9uIGZsb3cgdG8gcHJldmVudCBjaXJjdWxhciBkZXBzXG4gICAgICAgIGlmIChjb25maWcuX2YgPT09IHV0aWxzX2hvb2tzX19ob29rcy5JU09fODYwMSkge1xuICAgICAgICAgICAgY29uZmlnRnJvbUlTTyhjb25maWcpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uZmlnLl9hID0gW107XG4gICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmVtcHR5ID0gdHJ1ZTtcblxuICAgICAgICAvLyBUaGlzIGFycmF5IGlzIHVzZWQgdG8gbWFrZSBhIERhdGUsIGVpdGhlciB3aXRoIGBuZXcgRGF0ZWAgb3IgYERhdGUuVVRDYFxuICAgICAgICB2YXIgc3RyaW5nID0gJycgKyBjb25maWcuX2ksXG4gICAgICAgICAgICBpLCBwYXJzZWRJbnB1dCwgdG9rZW5zLCB0b2tlbiwgc2tpcHBlZCxcbiAgICAgICAgICAgIHN0cmluZ0xlbmd0aCA9IHN0cmluZy5sZW5ndGgsXG4gICAgICAgICAgICB0b3RhbFBhcnNlZElucHV0TGVuZ3RoID0gMDtcblxuICAgICAgICB0b2tlbnMgPSBleHBhbmRGb3JtYXQoY29uZmlnLl9mLCBjb25maWcuX2xvY2FsZSkubWF0Y2goZm9ybWF0dGluZ1Rva2VucykgfHwgW107XG5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IHRva2Vucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdG9rZW4gPSB0b2tlbnNbaV07XG4gICAgICAgICAgICBwYXJzZWRJbnB1dCA9IChzdHJpbmcubWF0Y2goZ2V0UGFyc2VSZWdleEZvclRva2VuKHRva2VuLCBjb25maWcpKSB8fCBbXSlbMF07XG4gICAgICAgICAgICBpZiAocGFyc2VkSW5wdXQpIHtcbiAgICAgICAgICAgICAgICBza2lwcGVkID0gc3RyaW5nLnN1YnN0cigwLCBzdHJpbmcuaW5kZXhPZihwYXJzZWRJbnB1dCkpO1xuICAgICAgICAgICAgICAgIGlmIChza2lwcGVkLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykudW51c2VkSW5wdXQucHVzaChza2lwcGVkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc3RyaW5nID0gc3RyaW5nLnNsaWNlKHN0cmluZy5pbmRleE9mKHBhcnNlZElucHV0KSArIHBhcnNlZElucHV0Lmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgdG90YWxQYXJzZWRJbnB1dExlbmd0aCArPSBwYXJzZWRJbnB1dC5sZW5ndGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBkb24ndCBwYXJzZSBpZiBpdCdzIG5vdCBhIGtub3duIHRva2VuXG4gICAgICAgICAgICBpZiAoZm9ybWF0VG9rZW5GdW5jdGlvbnNbdG9rZW5dKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBhcnNlZElucHV0KSB7XG4gICAgICAgICAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmVtcHR5ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS51bnVzZWRUb2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGFkZFRpbWVUb0FycmF5RnJvbVRva2VuKHRva2VuLCBwYXJzZWRJbnB1dCwgY29uZmlnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNvbmZpZy5fc3RyaWN0ICYmICFwYXJzZWRJbnB1dCkge1xuICAgICAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLnVudXNlZFRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGFkZCByZW1haW5pbmcgdW5wYXJzZWQgaW5wdXQgbGVuZ3RoIHRvIHRoZSBzdHJpbmdcbiAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuY2hhcnNMZWZ0T3ZlciA9IHN0cmluZ0xlbmd0aCAtIHRvdGFsUGFyc2VkSW5wdXRMZW5ndGg7XG4gICAgICAgIGlmIChzdHJpbmcubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykudW51c2VkSW5wdXQucHVzaChzdHJpbmcpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gY2xlYXIgXzEyaCBmbGFnIGlmIGhvdXIgaXMgPD0gMTJcbiAgICAgICAgaWYgKGdldFBhcnNpbmdGbGFncyhjb25maWcpLmJpZ0hvdXIgPT09IHRydWUgJiZcbiAgICAgICAgICAgICAgICBjb25maWcuX2FbSE9VUl0gPD0gMTIgJiZcbiAgICAgICAgICAgICAgICBjb25maWcuX2FbSE9VUl0gPiAwKSB7XG4gICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5iaWdIb3VyID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIC8vIGhhbmRsZSBtZXJpZGllbVxuICAgICAgICBjb25maWcuX2FbSE9VUl0gPSBtZXJpZGllbUZpeFdyYXAoY29uZmlnLl9sb2NhbGUsIGNvbmZpZy5fYVtIT1VSXSwgY29uZmlnLl9tZXJpZGllbSk7XG5cbiAgICAgICAgY29uZmlnRnJvbUFycmF5KGNvbmZpZyk7XG4gICAgICAgIGNoZWNrT3ZlcmZsb3coY29uZmlnKTtcbiAgICB9XG5cblxuICAgIGZ1bmN0aW9uIG1lcmlkaWVtRml4V3JhcCAobG9jYWxlLCBob3VyLCBtZXJpZGllbSkge1xuICAgICAgICB2YXIgaXNQbTtcblxuICAgICAgICBpZiAobWVyaWRpZW0gPT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gbm90aGluZyB0byBkb1xuICAgICAgICAgICAgcmV0dXJuIGhvdXI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxvY2FsZS5tZXJpZGllbUhvdXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIGxvY2FsZS5tZXJpZGllbUhvdXIoaG91ciwgbWVyaWRpZW0pO1xuICAgICAgICB9IGVsc2UgaWYgKGxvY2FsZS5pc1BNICE9IG51bGwpIHtcbiAgICAgICAgICAgIC8vIEZhbGxiYWNrXG4gICAgICAgICAgICBpc1BtID0gbG9jYWxlLmlzUE0obWVyaWRpZW0pO1xuICAgICAgICAgICAgaWYgKGlzUG0gJiYgaG91ciA8IDEyKSB7XG4gICAgICAgICAgICAgICAgaG91ciArPSAxMjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghaXNQbSAmJiBob3VyID09PSAxMikge1xuICAgICAgICAgICAgICAgIGhvdXIgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGhvdXI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyB0aGlzIGlzIG5vdCBzdXBwb3NlZCB0byBoYXBwZW5cbiAgICAgICAgICAgIHJldHVybiBob3VyO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY29uZmlnRnJvbVN0cmluZ0FuZEFycmF5KGNvbmZpZykge1xuICAgICAgICB2YXIgdGVtcENvbmZpZyxcbiAgICAgICAgICAgIGJlc3RNb21lbnQsXG5cbiAgICAgICAgICAgIHNjb3JlVG9CZWF0LFxuICAgICAgICAgICAgaSxcbiAgICAgICAgICAgIGN1cnJlbnRTY29yZTtcblxuICAgICAgICBpZiAoY29uZmlnLl9mLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuaW52YWxpZEZvcm1hdCA9IHRydWU7XG4gICAgICAgICAgICBjb25maWcuX2QgPSBuZXcgRGF0ZShOYU4pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGNvbmZpZy5fZi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY3VycmVudFNjb3JlID0gMDtcbiAgICAgICAgICAgIHRlbXBDb25maWcgPSBjb3B5Q29uZmlnKHt9LCBjb25maWcpO1xuICAgICAgICAgICAgaWYgKGNvbmZpZy5fdXNlVVRDICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0ZW1wQ29uZmlnLl91c2VVVEMgPSBjb25maWcuX3VzZVVUQztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRlbXBDb25maWcuX2YgPSBjb25maWcuX2ZbaV07XG4gICAgICAgICAgICBjb25maWdGcm9tU3RyaW5nQW5kRm9ybWF0KHRlbXBDb25maWcpO1xuXG4gICAgICAgICAgICBpZiAoIXZhbGlkX19pc1ZhbGlkKHRlbXBDb25maWcpKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGlmIHRoZXJlIGlzIGFueSBpbnB1dCB0aGF0IHdhcyBub3QgcGFyc2VkIGFkZCBhIHBlbmFsdHkgZm9yIHRoYXQgZm9ybWF0XG4gICAgICAgICAgICBjdXJyZW50U2NvcmUgKz0gZ2V0UGFyc2luZ0ZsYWdzKHRlbXBDb25maWcpLmNoYXJzTGVmdE92ZXI7XG5cbiAgICAgICAgICAgIC8vb3IgdG9rZW5zXG4gICAgICAgICAgICBjdXJyZW50U2NvcmUgKz0gZ2V0UGFyc2luZ0ZsYWdzKHRlbXBDb25maWcpLnVudXNlZFRva2Vucy5sZW5ndGggKiAxMDtcblxuICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKHRlbXBDb25maWcpLnNjb3JlID0gY3VycmVudFNjb3JlO1xuXG4gICAgICAgICAgICBpZiAoc2NvcmVUb0JlYXQgPT0gbnVsbCB8fCBjdXJyZW50U2NvcmUgPCBzY29yZVRvQmVhdCkge1xuICAgICAgICAgICAgICAgIHNjb3JlVG9CZWF0ID0gY3VycmVudFNjb3JlO1xuICAgICAgICAgICAgICAgIGJlc3RNb21lbnQgPSB0ZW1wQ29uZmlnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZXh0ZW5kKGNvbmZpZywgYmVzdE1vbWVudCB8fCB0ZW1wQ29uZmlnKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjb25maWdGcm9tT2JqZWN0KGNvbmZpZykge1xuICAgICAgICBpZiAoY29uZmlnLl9kKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaSA9IG5vcm1hbGl6ZU9iamVjdFVuaXRzKGNvbmZpZy5faSk7XG4gICAgICAgIGNvbmZpZy5fYSA9IFtpLnllYXIsIGkubW9udGgsIGkuZGF5IHx8IGkuZGF0ZSwgaS5ob3VyLCBpLm1pbnV0ZSwgaS5zZWNvbmQsIGkubWlsbGlzZWNvbmRdO1xuXG4gICAgICAgIGNvbmZpZ0Zyb21BcnJheShjb25maWcpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZUZyb21Db25maWcgKGNvbmZpZykge1xuICAgICAgICB2YXIgcmVzID0gbmV3IE1vbWVudChjaGVja092ZXJmbG93KHByZXBhcmVDb25maWcoY29uZmlnKSkpO1xuICAgICAgICBpZiAocmVzLl9uZXh0RGF5KSB7XG4gICAgICAgICAgICAvLyBBZGRpbmcgaXMgc21hcnQgZW5vdWdoIGFyb3VuZCBEU1RcbiAgICAgICAgICAgIHJlcy5hZGQoMSwgJ2QnKTtcbiAgICAgICAgICAgIHJlcy5fbmV4dERheSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcHJlcGFyZUNvbmZpZyAoY29uZmlnKSB7XG4gICAgICAgIHZhciBpbnB1dCA9IGNvbmZpZy5faSxcbiAgICAgICAgICAgIGZvcm1hdCA9IGNvbmZpZy5fZjtcblxuICAgICAgICBjb25maWcuX2xvY2FsZSA9IGNvbmZpZy5fbG9jYWxlIHx8IGxvY2FsZV9sb2NhbGVzX19nZXRMb2NhbGUoY29uZmlnLl9sKTtcblxuICAgICAgICBpZiAoaW5wdXQgPT09IG51bGwgfHwgKGZvcm1hdCA9PT0gdW5kZWZpbmVkICYmIGlucHV0ID09PSAnJykpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWxpZF9fY3JlYXRlSW52YWxpZCh7bnVsbElucHV0OiB0cnVlfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mIGlucHV0ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgY29uZmlnLl9pID0gaW5wdXQgPSBjb25maWcuX2xvY2FsZS5wcmVwYXJzZShpbnB1dCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNNb21lbnQoaW5wdXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IE1vbWVudChjaGVja092ZXJmbG93KGlucHV0KSk7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNBcnJheShmb3JtYXQpKSB7XG4gICAgICAgICAgICBjb25maWdGcm9tU3RyaW5nQW5kQXJyYXkoY29uZmlnKTtcbiAgICAgICAgfSBlbHNlIGlmIChmb3JtYXQpIHtcbiAgICAgICAgICAgIGNvbmZpZ0Zyb21TdHJpbmdBbmRGb3JtYXQoY29uZmlnKTtcbiAgICAgICAgfSBlbHNlIGlmIChpc0RhdGUoaW5wdXQpKSB7XG4gICAgICAgICAgICBjb25maWcuX2QgPSBpbnB1dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbmZpZ0Zyb21JbnB1dChjb25maWcpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNvbmZpZztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjb25maWdGcm9tSW5wdXQoY29uZmlnKSB7XG4gICAgICAgIHZhciBpbnB1dCA9IGNvbmZpZy5faTtcbiAgICAgICAgaWYgKGlucHV0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbmZpZy5fZCA9IG5ldyBEYXRlKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNEYXRlKGlucHV0KSkge1xuICAgICAgICAgICAgY29uZmlnLl9kID0gbmV3IERhdGUoK2lucHV0KTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgaW5wdXQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBjb25maWdGcm9tU3RyaW5nKGNvbmZpZyk7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNBcnJheShpbnB1dCkpIHtcbiAgICAgICAgICAgIGNvbmZpZy5fYSA9IG1hcChpbnB1dC5zbGljZSgwKSwgZnVuY3Rpb24gKG9iaikge1xuICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZUludChvYmosIDEwKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uZmlnRnJvbUFycmF5KGNvbmZpZyk7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mKGlucHV0KSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIGNvbmZpZ0Zyb21PYmplY3QoY29uZmlnKTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YoaW5wdXQpID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgLy8gZnJvbSBtaWxsaXNlY29uZHNcbiAgICAgICAgICAgIGNvbmZpZy5fZCA9IG5ldyBEYXRlKGlucHV0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHV0aWxzX2hvb2tzX19ob29rcy5jcmVhdGVGcm9tSW5wdXRGYWxsYmFjayhjb25maWcpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlTG9jYWxPclVUQyAoaW5wdXQsIGZvcm1hdCwgbG9jYWxlLCBzdHJpY3QsIGlzVVRDKSB7XG4gICAgICAgIHZhciBjID0ge307XG5cbiAgICAgICAgaWYgKHR5cGVvZihsb2NhbGUpID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICAgIHN0cmljdCA9IGxvY2FsZTtcbiAgICAgICAgICAgIGxvY2FsZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICAvLyBvYmplY3QgY29uc3RydWN0aW9uIG11c3QgYmUgZG9uZSB0aGlzIHdheS5cbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL21vbWVudC9tb21lbnQvaXNzdWVzLzE0MjNcbiAgICAgICAgYy5faXNBTW9tZW50T2JqZWN0ID0gdHJ1ZTtcbiAgICAgICAgYy5fdXNlVVRDID0gYy5faXNVVEMgPSBpc1VUQztcbiAgICAgICAgYy5fbCA9IGxvY2FsZTtcbiAgICAgICAgYy5faSA9IGlucHV0O1xuICAgICAgICBjLl9mID0gZm9ybWF0O1xuICAgICAgICBjLl9zdHJpY3QgPSBzdHJpY3Q7XG5cbiAgICAgICAgcmV0dXJuIGNyZWF0ZUZyb21Db25maWcoYyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbG9jYWxfX2NyZWF0ZUxvY2FsIChpbnB1dCwgZm9ybWF0LCBsb2NhbGUsIHN0cmljdCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlTG9jYWxPclVUQyhpbnB1dCwgZm9ybWF0LCBsb2NhbGUsIHN0cmljdCwgZmFsc2UpO1xuICAgIH1cblxuICAgIHZhciBwcm90b3R5cGVNaW4gPSBkZXByZWNhdGUoXG4gICAgICAgICAnbW9tZW50KCkubWluIGlzIGRlcHJlY2F0ZWQsIHVzZSBtb21lbnQubWluIGluc3RlYWQuIGh0dHBzOi8vZ2l0aHViLmNvbS9tb21lbnQvbW9tZW50L2lzc3Vlcy8xNTQ4JyxcbiAgICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICB2YXIgb3RoZXIgPSBsb2NhbF9fY3JlYXRlTG9jYWwuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgICAgICAgICAgICByZXR1cm4gb3RoZXIgPCB0aGlzID8gdGhpcyA6IG90aGVyO1xuICAgICAgICAgfVxuICAgICApO1xuXG4gICAgdmFyIHByb3RvdHlwZU1heCA9IGRlcHJlY2F0ZShcbiAgICAgICAgJ21vbWVudCgpLm1heCBpcyBkZXByZWNhdGVkLCB1c2UgbW9tZW50Lm1heCBpbnN0ZWFkLiBodHRwczovL2dpdGh1Yi5jb20vbW9tZW50L21vbWVudC9pc3N1ZXMvMTU0OCcsXG4gICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBvdGhlciA9IGxvY2FsX19jcmVhdGVMb2NhbC5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgcmV0dXJuIG90aGVyID4gdGhpcyA/IHRoaXMgOiBvdGhlcjtcbiAgICAgICAgfVxuICAgICk7XG5cbiAgICAvLyBQaWNrIGEgbW9tZW50IG0gZnJvbSBtb21lbnRzIHNvIHRoYXQgbVtmbl0ob3RoZXIpIGlzIHRydWUgZm9yIGFsbFxuICAgIC8vIG90aGVyLiBUaGlzIHJlbGllcyBvbiB0aGUgZnVuY3Rpb24gZm4gdG8gYmUgdHJhbnNpdGl2ZS5cbiAgICAvL1xuICAgIC8vIG1vbWVudHMgc2hvdWxkIGVpdGhlciBiZSBhbiBhcnJheSBvZiBtb21lbnQgb2JqZWN0cyBvciBhbiBhcnJheSwgd2hvc2VcbiAgICAvLyBmaXJzdCBlbGVtZW50IGlzIGFuIGFycmF5IG9mIG1vbWVudCBvYmplY3RzLlxuICAgIGZ1bmN0aW9uIHBpY2tCeShmbiwgbW9tZW50cykge1xuICAgICAgICB2YXIgcmVzLCBpO1xuICAgICAgICBpZiAobW9tZW50cy5sZW5ndGggPT09IDEgJiYgaXNBcnJheShtb21lbnRzWzBdKSkge1xuICAgICAgICAgICAgbW9tZW50cyA9IG1vbWVudHNbMF07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFtb21lbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIGxvY2FsX19jcmVhdGVMb2NhbCgpO1xuICAgICAgICB9XG4gICAgICAgIHJlcyA9IG1vbWVudHNbMF07XG4gICAgICAgIGZvciAoaSA9IDE7IGkgPCBtb21lbnRzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBpZiAoIW1vbWVudHNbaV0uaXNWYWxpZCgpIHx8IG1vbWVudHNbaV1bZm5dKHJlcykpIHtcbiAgICAgICAgICAgICAgICByZXMgPSBtb21lbnRzW2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfVxuXG4gICAgLy8gVE9ETzogVXNlIFtdLnNvcnQgaW5zdGVhZD9cbiAgICBmdW5jdGlvbiBtaW4gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAwKTtcblxuICAgICAgICByZXR1cm4gcGlja0J5KCdpc0JlZm9yZScsIGFyZ3MpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1heCAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW10uc2xpY2UuY2FsbChhcmd1bWVudHMsIDApO1xuXG4gICAgICAgIHJldHVybiBwaWNrQnkoJ2lzQWZ0ZXInLCBhcmdzKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBEdXJhdGlvbiAoZHVyYXRpb24pIHtcbiAgICAgICAgdmFyIG5vcm1hbGl6ZWRJbnB1dCA9IG5vcm1hbGl6ZU9iamVjdFVuaXRzKGR1cmF0aW9uKSxcbiAgICAgICAgICAgIHllYXJzID0gbm9ybWFsaXplZElucHV0LnllYXIgfHwgMCxcbiAgICAgICAgICAgIHF1YXJ0ZXJzID0gbm9ybWFsaXplZElucHV0LnF1YXJ0ZXIgfHwgMCxcbiAgICAgICAgICAgIG1vbnRocyA9IG5vcm1hbGl6ZWRJbnB1dC5tb250aCB8fCAwLFxuICAgICAgICAgICAgd2Vla3MgPSBub3JtYWxpemVkSW5wdXQud2VlayB8fCAwLFxuICAgICAgICAgICAgZGF5cyA9IG5vcm1hbGl6ZWRJbnB1dC5kYXkgfHwgMCxcbiAgICAgICAgICAgIGhvdXJzID0gbm9ybWFsaXplZElucHV0LmhvdXIgfHwgMCxcbiAgICAgICAgICAgIG1pbnV0ZXMgPSBub3JtYWxpemVkSW5wdXQubWludXRlIHx8IDAsXG4gICAgICAgICAgICBzZWNvbmRzID0gbm9ybWFsaXplZElucHV0LnNlY29uZCB8fCAwLFxuICAgICAgICAgICAgbWlsbGlzZWNvbmRzID0gbm9ybWFsaXplZElucHV0Lm1pbGxpc2Vjb25kIHx8IDA7XG5cbiAgICAgICAgLy8gcmVwcmVzZW50YXRpb24gZm9yIGRhdGVBZGRSZW1vdmVcbiAgICAgICAgdGhpcy5fbWlsbGlzZWNvbmRzID0gK21pbGxpc2Vjb25kcyArXG4gICAgICAgICAgICBzZWNvbmRzICogMWUzICsgLy8gMTAwMFxuICAgICAgICAgICAgbWludXRlcyAqIDZlNCArIC8vIDEwMDAgKiA2MFxuICAgICAgICAgICAgaG91cnMgKiAzNmU1OyAvLyAxMDAwICogNjAgKiA2MFxuICAgICAgICAvLyBCZWNhdXNlIG9mIGRhdGVBZGRSZW1vdmUgdHJlYXRzIDI0IGhvdXJzIGFzIGRpZmZlcmVudCBmcm9tIGFcbiAgICAgICAgLy8gZGF5IHdoZW4gd29ya2luZyBhcm91bmQgRFNULCB3ZSBuZWVkIHRvIHN0b3JlIHRoZW0gc2VwYXJhdGVseVxuICAgICAgICB0aGlzLl9kYXlzID0gK2RheXMgK1xuICAgICAgICAgICAgd2Vla3MgKiA3O1xuICAgICAgICAvLyBJdCBpcyBpbXBvc3NpYmxlIHRyYW5zbGF0ZSBtb250aHMgaW50byBkYXlzIHdpdGhvdXQga25vd2luZ1xuICAgICAgICAvLyB3aGljaCBtb250aHMgeW91IGFyZSBhcmUgdGFsa2luZyBhYm91dCwgc28gd2UgaGF2ZSB0byBzdG9yZVxuICAgICAgICAvLyBpdCBzZXBhcmF0ZWx5LlxuICAgICAgICB0aGlzLl9tb250aHMgPSArbW9udGhzICtcbiAgICAgICAgICAgIHF1YXJ0ZXJzICogMyArXG4gICAgICAgICAgICB5ZWFycyAqIDEyO1xuXG4gICAgICAgIHRoaXMuX2RhdGEgPSB7fTtcblxuICAgICAgICB0aGlzLl9sb2NhbGUgPSBsb2NhbGVfbG9jYWxlc19fZ2V0TG9jYWxlKCk7XG5cbiAgICAgICAgdGhpcy5fYnViYmxlKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNEdXJhdGlvbiAob2JqKSB7XG4gICAgICAgIHJldHVybiBvYmogaW5zdGFuY2VvZiBEdXJhdGlvbjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvZmZzZXQgKHRva2VuLCBzZXBhcmF0b3IpIHtcbiAgICAgICAgYWRkRm9ybWF0VG9rZW4odG9rZW4sIDAsIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBvZmZzZXQgPSB0aGlzLnV0Y09mZnNldCgpO1xuICAgICAgICAgICAgdmFyIHNpZ24gPSAnKyc7XG4gICAgICAgICAgICBpZiAob2Zmc2V0IDwgMCkge1xuICAgICAgICAgICAgICAgIG9mZnNldCA9IC1vZmZzZXQ7XG4gICAgICAgICAgICAgICAgc2lnbiA9ICctJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBzaWduICsgemVyb0ZpbGwofn4ob2Zmc2V0IC8gNjApLCAyKSArIHNlcGFyYXRvciArIHplcm9GaWxsKH5+KG9mZnNldCkgJSA2MCwgMik7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIG9mZnNldCgnWicsICc6Jyk7XG4gICAgb2Zmc2V0KCdaWicsICcnKTtcblxuICAgIC8vIFBBUlNJTkdcblxuICAgIGFkZFJlZ2V4VG9rZW4oJ1onLCAgbWF0Y2hPZmZzZXQpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ1paJywgbWF0Y2hPZmZzZXQpO1xuICAgIGFkZFBhcnNlVG9rZW4oWydaJywgJ1paJ10sIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZykge1xuICAgICAgICBjb25maWcuX3VzZVVUQyA9IHRydWU7XG4gICAgICAgIGNvbmZpZy5fdHptID0gb2Zmc2V0RnJvbVN0cmluZyhpbnB1dCk7XG4gICAgfSk7XG5cbiAgICAvLyBIRUxQRVJTXG5cbiAgICAvLyB0aW1lem9uZSBjaHVua2VyXG4gICAgLy8gJysxMDowMCcgPiBbJzEwJywgICcwMCddXG4gICAgLy8gJy0xNTMwJyAgPiBbJy0xNScsICczMCddXG4gICAgdmFyIGNodW5rT2Zmc2V0ID0gLyhbXFwrXFwtXXxcXGRcXGQpL2dpO1xuXG4gICAgZnVuY3Rpb24gb2Zmc2V0RnJvbVN0cmluZyhzdHJpbmcpIHtcbiAgICAgICAgdmFyIG1hdGNoZXMgPSAoKHN0cmluZyB8fCAnJykubWF0Y2gobWF0Y2hPZmZzZXQpIHx8IFtdKTtcbiAgICAgICAgdmFyIGNodW5rICAgPSBtYXRjaGVzW21hdGNoZXMubGVuZ3RoIC0gMV0gfHwgW107XG4gICAgICAgIHZhciBwYXJ0cyAgID0gKGNodW5rICsgJycpLm1hdGNoKGNodW5rT2Zmc2V0KSB8fCBbJy0nLCAwLCAwXTtcbiAgICAgICAgdmFyIG1pbnV0ZXMgPSArKHBhcnRzWzFdICogNjApICsgdG9JbnQocGFydHNbMl0pO1xuXG4gICAgICAgIHJldHVybiBwYXJ0c1swXSA9PT0gJysnID8gbWludXRlcyA6IC1taW51dGVzO1xuICAgIH1cblxuICAgIC8vIFJldHVybiBhIG1vbWVudCBmcm9tIGlucHV0LCB0aGF0IGlzIGxvY2FsL3V0Yy96b25lIGVxdWl2YWxlbnQgdG8gbW9kZWwuXG4gICAgZnVuY3Rpb24gY2xvbmVXaXRoT2Zmc2V0KGlucHV0LCBtb2RlbCkge1xuICAgICAgICB2YXIgcmVzLCBkaWZmO1xuICAgICAgICBpZiAobW9kZWwuX2lzVVRDKSB7XG4gICAgICAgICAgICByZXMgPSBtb2RlbC5jbG9uZSgpO1xuICAgICAgICAgICAgZGlmZiA9IChpc01vbWVudChpbnB1dCkgfHwgaXNEYXRlKGlucHV0KSA/ICtpbnB1dCA6ICtsb2NhbF9fY3JlYXRlTG9jYWwoaW5wdXQpKSAtICgrcmVzKTtcbiAgICAgICAgICAgIC8vIFVzZSBsb3ctbGV2ZWwgYXBpLCBiZWNhdXNlIHRoaXMgZm4gaXMgbG93LWxldmVsIGFwaS5cbiAgICAgICAgICAgIHJlcy5fZC5zZXRUaW1lKCtyZXMuX2QgKyBkaWZmKTtcbiAgICAgICAgICAgIHV0aWxzX2hvb2tzX19ob29rcy51cGRhdGVPZmZzZXQocmVzLCBmYWxzZSk7XG4gICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGxvY2FsX19jcmVhdGVMb2NhbChpbnB1dCkubG9jYWwoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldERhdGVPZmZzZXQgKG0pIHtcbiAgICAgICAgLy8gT24gRmlyZWZveC4yNCBEYXRlI2dldFRpbWV6b25lT2Zmc2V0IHJldHVybnMgYSBmbG9hdGluZyBwb2ludC5cbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL21vbWVudC9tb21lbnQvcHVsbC8xODcxXG4gICAgICAgIHJldHVybiAtTWF0aC5yb3VuZChtLl9kLmdldFRpbWV6b25lT2Zmc2V0KCkgLyAxNSkgKiAxNTtcbiAgICB9XG5cbiAgICAvLyBIT09LU1xuXG4gICAgLy8gVGhpcyBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZCB3aGVuZXZlciBhIG1vbWVudCBpcyBtdXRhdGVkLlxuICAgIC8vIEl0IGlzIGludGVuZGVkIHRvIGtlZXAgdGhlIG9mZnNldCBpbiBzeW5jIHdpdGggdGhlIHRpbWV6b25lLlxuICAgIHV0aWxzX2hvb2tzX19ob29rcy51cGRhdGVPZmZzZXQgPSBmdW5jdGlvbiAoKSB7fTtcblxuICAgIC8vIE1PTUVOVFNcblxuICAgIC8vIGtlZXBMb2NhbFRpbWUgPSB0cnVlIG1lYW5zIG9ubHkgY2hhbmdlIHRoZSB0aW1lem9uZSwgd2l0aG91dFxuICAgIC8vIGFmZmVjdGluZyB0aGUgbG9jYWwgaG91ci4gU28gNTozMToyNiArMDMwMCAtLVt1dGNPZmZzZXQoMiwgdHJ1ZSldLS0+XG4gICAgLy8gNTozMToyNiArMDIwMCBJdCBpcyBwb3NzaWJsZSB0aGF0IDU6MzE6MjYgZG9lc24ndCBleGlzdCB3aXRoIG9mZnNldFxuICAgIC8vICswMjAwLCBzbyB3ZSBhZGp1c3QgdGhlIHRpbWUgYXMgbmVlZGVkLCB0byBiZSB2YWxpZC5cbiAgICAvL1xuICAgIC8vIEtlZXBpbmcgdGhlIHRpbWUgYWN0dWFsbHkgYWRkcy9zdWJ0cmFjdHMgKG9uZSBob3VyKVxuICAgIC8vIGZyb20gdGhlIGFjdHVhbCByZXByZXNlbnRlZCB0aW1lLiBUaGF0IGlzIHdoeSB3ZSBjYWxsIHVwZGF0ZU9mZnNldFxuICAgIC8vIGEgc2Vjb25kIHRpbWUuIEluIGNhc2UgaXQgd2FudHMgdXMgdG8gY2hhbmdlIHRoZSBvZmZzZXQgYWdhaW5cbiAgICAvLyBfY2hhbmdlSW5Qcm9ncmVzcyA9PSB0cnVlIGNhc2UsIHRoZW4gd2UgaGF2ZSB0byBhZGp1c3QsIGJlY2F1c2VcbiAgICAvLyB0aGVyZSBpcyBubyBzdWNoIHRpbWUgaW4gdGhlIGdpdmVuIHRpbWV6b25lLlxuICAgIGZ1bmN0aW9uIGdldFNldE9mZnNldCAoaW5wdXQsIGtlZXBMb2NhbFRpbWUpIHtcbiAgICAgICAgdmFyIG9mZnNldCA9IHRoaXMuX29mZnNldCB8fCAwLFxuICAgICAgICAgICAgbG9jYWxBZGp1c3Q7XG4gICAgICAgIGlmIChpbnB1dCAhPSBudWxsKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGlucHV0ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIGlucHV0ID0gb2Zmc2V0RnJvbVN0cmluZyhpbnB1dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoTWF0aC5hYnMoaW5wdXQpIDwgMTYpIHtcbiAgICAgICAgICAgICAgICBpbnB1dCA9IGlucHV0ICogNjA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2lzVVRDICYmIGtlZXBMb2NhbFRpbWUpIHtcbiAgICAgICAgICAgICAgICBsb2NhbEFkanVzdCA9IGdldERhdGVPZmZzZXQodGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9vZmZzZXQgPSBpbnB1dDtcbiAgICAgICAgICAgIHRoaXMuX2lzVVRDID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmIChsb2NhbEFkanVzdCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGQobG9jYWxBZGp1c3QsICdtJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob2Zmc2V0ICE9PSBpbnB1dCkge1xuICAgICAgICAgICAgICAgIGlmICgha2VlcExvY2FsVGltZSB8fCB0aGlzLl9jaGFuZ2VJblByb2dyZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgIGFkZF9zdWJ0cmFjdF9fYWRkU3VidHJhY3QodGhpcywgY3JlYXRlX19jcmVhdGVEdXJhdGlvbihpbnB1dCAtIG9mZnNldCwgJ20nKSwgMSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIXRoaXMuX2NoYW5nZUluUHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2hhbmdlSW5Qcm9ncmVzcyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHV0aWxzX2hvb2tzX19ob29rcy51cGRhdGVPZmZzZXQodGhpcywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NoYW5nZUluUHJvZ3Jlc3MgPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2lzVVRDID8gb2Zmc2V0IDogZ2V0RGF0ZU9mZnNldCh0aGlzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFNldFpvbmUgKGlucHV0LCBrZWVwTG9jYWxUaW1lKSB7XG4gICAgICAgIGlmIChpbnB1dCAhPSBudWxsKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGlucHV0ICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIGlucHV0ID0gLWlucHV0O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnV0Y09mZnNldChpbnB1dCwga2VlcExvY2FsVGltZSk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIC10aGlzLnV0Y09mZnNldCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0T2Zmc2V0VG9VVEMgKGtlZXBMb2NhbFRpbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXRjT2Zmc2V0KDAsIGtlZXBMb2NhbFRpbWUpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNldE9mZnNldFRvTG9jYWwgKGtlZXBMb2NhbFRpbWUpIHtcbiAgICAgICAgaWYgKHRoaXMuX2lzVVRDKSB7XG4gICAgICAgICAgICB0aGlzLnV0Y09mZnNldCgwLCBrZWVwTG9jYWxUaW1lKTtcbiAgICAgICAgICAgIHRoaXMuX2lzVVRDID0gZmFsc2U7XG5cbiAgICAgICAgICAgIGlmIChrZWVwTG9jYWxUaW1lKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdWJ0cmFjdChnZXREYXRlT2Zmc2V0KHRoaXMpLCAnbScpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNldE9mZnNldFRvUGFyc2VkT2Zmc2V0ICgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3R6bSkge1xuICAgICAgICAgICAgdGhpcy51dGNPZmZzZXQodGhpcy5fdHptKTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgdGhpcy5faSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHRoaXMudXRjT2Zmc2V0KG9mZnNldEZyb21TdHJpbmcodGhpcy5faSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhhc0FsaWduZWRIb3VyT2Zmc2V0IChpbnB1dCkge1xuICAgICAgICBpbnB1dCA9IGlucHV0ID8gbG9jYWxfX2NyZWF0ZUxvY2FsKGlucHV0KS51dGNPZmZzZXQoKSA6IDA7XG5cbiAgICAgICAgcmV0dXJuICh0aGlzLnV0Y09mZnNldCgpIC0gaW5wdXQpICUgNjAgPT09IDA7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNEYXlsaWdodFNhdmluZ1RpbWUgKCkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgdGhpcy51dGNPZmZzZXQoKSA+IHRoaXMuY2xvbmUoKS5tb250aCgwKS51dGNPZmZzZXQoKSB8fFxuICAgICAgICAgICAgdGhpcy51dGNPZmZzZXQoKSA+IHRoaXMuY2xvbmUoKS5tb250aCg1KS51dGNPZmZzZXQoKVxuICAgICAgICApO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzRGF5bGlnaHRTYXZpbmdUaW1lU2hpZnRlZCAoKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5faXNEU1RTaGlmdGVkICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2lzRFNUU2hpZnRlZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBjID0ge307XG5cbiAgICAgICAgY29weUNvbmZpZyhjLCB0aGlzKTtcbiAgICAgICAgYyA9IHByZXBhcmVDb25maWcoYyk7XG5cbiAgICAgICAgaWYgKGMuX2EpIHtcbiAgICAgICAgICAgIHZhciBvdGhlciA9IGMuX2lzVVRDID8gY3JlYXRlX3V0Y19fY3JlYXRlVVRDKGMuX2EpIDogbG9jYWxfX2NyZWF0ZUxvY2FsKGMuX2EpO1xuICAgICAgICAgICAgdGhpcy5faXNEU1RTaGlmdGVkID0gdGhpcy5pc1ZhbGlkKCkgJiZcbiAgICAgICAgICAgICAgICBjb21wYXJlQXJyYXlzKGMuX2EsIG90aGVyLnRvQXJyYXkoKSkgPiAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5faXNEU1RTaGlmdGVkID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5faXNEU1RTaGlmdGVkO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzTG9jYWwgKCkge1xuICAgICAgICByZXR1cm4gIXRoaXMuX2lzVVRDO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzVXRjT2Zmc2V0ICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzVVRDO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzVXRjICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzVVRDICYmIHRoaXMuX29mZnNldCA9PT0gMDtcbiAgICB9XG5cbiAgICB2YXIgYXNwTmV0UmVnZXggPSAvKFxcLSk/KD86KFxcZCopXFwuKT8oXFxkKylcXDooXFxkKykoPzpcXDooXFxkKylcXC4/KFxcZHszfSk/KT8vO1xuXG4gICAgLy8gZnJvbSBodHRwOi8vZG9jcy5jbG9zdXJlLWxpYnJhcnkuZ29vZ2xlY29kZS5jb20vZ2l0L2Nsb3N1cmVfZ29vZ19kYXRlX2RhdGUuanMuc291cmNlLmh0bWxcbiAgICAvLyBzb21ld2hhdCBtb3JlIGluIGxpbmUgd2l0aCA0LjQuMy4yIDIwMDQgc3BlYywgYnV0IGFsbG93cyBkZWNpbWFsIGFueXdoZXJlXG4gICAgdmFyIGNyZWF0ZV9faXNvUmVnZXggPSAvXigtKT9QKD86KD86KFswLTksLl0qKVkpPyg/OihbMC05LC5dKilNKT8oPzooWzAtOSwuXSopRCk/KD86VCg/OihbMC05LC5dKilIKT8oPzooWzAtOSwuXSopTSk/KD86KFswLTksLl0qKVMpPyk/fChbMC05LC5dKilXKSQvO1xuXG4gICAgZnVuY3Rpb24gY3JlYXRlX19jcmVhdGVEdXJhdGlvbiAoaW5wdXQsIGtleSkge1xuICAgICAgICB2YXIgZHVyYXRpb24gPSBpbnB1dCxcbiAgICAgICAgICAgIC8vIG1hdGNoaW5nIGFnYWluc3QgcmVnZXhwIGlzIGV4cGVuc2l2ZSwgZG8gaXQgb24gZGVtYW5kXG4gICAgICAgICAgICBtYXRjaCA9IG51bGwsXG4gICAgICAgICAgICBzaWduLFxuICAgICAgICAgICAgcmV0LFxuICAgICAgICAgICAgZGlmZlJlcztcblxuICAgICAgICBpZiAoaXNEdXJhdGlvbihpbnB1dCkpIHtcbiAgICAgICAgICAgIGR1cmF0aW9uID0ge1xuICAgICAgICAgICAgICAgIG1zIDogaW5wdXQuX21pbGxpc2Vjb25kcyxcbiAgICAgICAgICAgICAgICBkICA6IGlucHV0Ll9kYXlzLFxuICAgICAgICAgICAgICAgIE0gIDogaW5wdXQuX21vbnRoc1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgaW5wdXQgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICBkdXJhdGlvbiA9IHt9O1xuICAgICAgICAgICAgaWYgKGtleSkge1xuICAgICAgICAgICAgICAgIGR1cmF0aW9uW2tleV0gPSBpbnB1dDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZHVyYXRpb24ubWlsbGlzZWNvbmRzID0gaW5wdXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoISEobWF0Y2ggPSBhc3BOZXRSZWdleC5leGVjKGlucHV0KSkpIHtcbiAgICAgICAgICAgIHNpZ24gPSAobWF0Y2hbMV0gPT09ICctJykgPyAtMSA6IDE7XG4gICAgICAgICAgICBkdXJhdGlvbiA9IHtcbiAgICAgICAgICAgICAgICB5ICA6IDAsXG4gICAgICAgICAgICAgICAgZCAgOiB0b0ludChtYXRjaFtEQVRFXSkgICAgICAgICogc2lnbixcbiAgICAgICAgICAgICAgICBoICA6IHRvSW50KG1hdGNoW0hPVVJdKSAgICAgICAgKiBzaWduLFxuICAgICAgICAgICAgICAgIG0gIDogdG9JbnQobWF0Y2hbTUlOVVRFXSkgICAgICAqIHNpZ24sXG4gICAgICAgICAgICAgICAgcyAgOiB0b0ludChtYXRjaFtTRUNPTkRdKSAgICAgICogc2lnbixcbiAgICAgICAgICAgICAgICBtcyA6IHRvSW50KG1hdGNoW01JTExJU0VDT05EXSkgKiBzaWduXG4gICAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2UgaWYgKCEhKG1hdGNoID0gY3JlYXRlX19pc29SZWdleC5leGVjKGlucHV0KSkpIHtcbiAgICAgICAgICAgIHNpZ24gPSAobWF0Y2hbMV0gPT09ICctJykgPyAtMSA6IDE7XG4gICAgICAgICAgICBkdXJhdGlvbiA9IHtcbiAgICAgICAgICAgICAgICB5IDogcGFyc2VJc28obWF0Y2hbMl0sIHNpZ24pLFxuICAgICAgICAgICAgICAgIE0gOiBwYXJzZUlzbyhtYXRjaFszXSwgc2lnbiksXG4gICAgICAgICAgICAgICAgZCA6IHBhcnNlSXNvKG1hdGNoWzRdLCBzaWduKSxcbiAgICAgICAgICAgICAgICBoIDogcGFyc2VJc28obWF0Y2hbNV0sIHNpZ24pLFxuICAgICAgICAgICAgICAgIG0gOiBwYXJzZUlzbyhtYXRjaFs2XSwgc2lnbiksXG4gICAgICAgICAgICAgICAgcyA6IHBhcnNlSXNvKG1hdGNoWzddLCBzaWduKSxcbiAgICAgICAgICAgICAgICB3IDogcGFyc2VJc28obWF0Y2hbOF0sIHNpZ24pXG4gICAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2UgaWYgKGR1cmF0aW9uID09IG51bGwpIHsvLyBjaGVja3MgZm9yIG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgICAgICBkdXJhdGlvbiA9IHt9O1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBkdXJhdGlvbiA9PT0gJ29iamVjdCcgJiYgKCdmcm9tJyBpbiBkdXJhdGlvbiB8fCAndG8nIGluIGR1cmF0aW9uKSkge1xuICAgICAgICAgICAgZGlmZlJlcyA9IG1vbWVudHNEaWZmZXJlbmNlKGxvY2FsX19jcmVhdGVMb2NhbChkdXJhdGlvbi5mcm9tKSwgbG9jYWxfX2NyZWF0ZUxvY2FsKGR1cmF0aW9uLnRvKSk7XG5cbiAgICAgICAgICAgIGR1cmF0aW9uID0ge307XG4gICAgICAgICAgICBkdXJhdGlvbi5tcyA9IGRpZmZSZXMubWlsbGlzZWNvbmRzO1xuICAgICAgICAgICAgZHVyYXRpb24uTSA9IGRpZmZSZXMubW9udGhzO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0ID0gbmV3IER1cmF0aW9uKGR1cmF0aW9uKTtcblxuICAgICAgICBpZiAoaXNEdXJhdGlvbihpbnB1dCkgJiYgaGFzT3duUHJvcChpbnB1dCwgJ19sb2NhbGUnKSkge1xuICAgICAgICAgICAgcmV0Ll9sb2NhbGUgPSBpbnB1dC5fbG9jYWxlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG5cbiAgICBjcmVhdGVfX2NyZWF0ZUR1cmF0aW9uLmZuID0gRHVyYXRpb24ucHJvdG90eXBlO1xuXG4gICAgZnVuY3Rpb24gcGFyc2VJc28gKGlucCwgc2lnbikge1xuICAgICAgICAvLyBXZSdkIG5vcm1hbGx5IHVzZSB+fmlucCBmb3IgdGhpcywgYnV0IHVuZm9ydHVuYXRlbHkgaXQgYWxzb1xuICAgICAgICAvLyBjb252ZXJ0cyBmbG9hdHMgdG8gaW50cy5cbiAgICAgICAgLy8gaW5wIG1heSBiZSB1bmRlZmluZWQsIHNvIGNhcmVmdWwgY2FsbGluZyByZXBsYWNlIG9uIGl0LlxuICAgICAgICB2YXIgcmVzID0gaW5wICYmIHBhcnNlRmxvYXQoaW5wLnJlcGxhY2UoJywnLCAnLicpKTtcbiAgICAgICAgLy8gYXBwbHkgc2lnbiB3aGlsZSB3ZSdyZSBhdCBpdFxuICAgICAgICByZXR1cm4gKGlzTmFOKHJlcykgPyAwIDogcmVzKSAqIHNpZ247XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcG9zaXRpdmVNb21lbnRzRGlmZmVyZW5jZShiYXNlLCBvdGhlcikge1xuICAgICAgICB2YXIgcmVzID0ge21pbGxpc2Vjb25kczogMCwgbW9udGhzOiAwfTtcblxuICAgICAgICByZXMubW9udGhzID0gb3RoZXIubW9udGgoKSAtIGJhc2UubW9udGgoKSArXG4gICAgICAgICAgICAob3RoZXIueWVhcigpIC0gYmFzZS55ZWFyKCkpICogMTI7XG4gICAgICAgIGlmIChiYXNlLmNsb25lKCkuYWRkKHJlcy5tb250aHMsICdNJykuaXNBZnRlcihvdGhlcikpIHtcbiAgICAgICAgICAgIC0tcmVzLm1vbnRocztcbiAgICAgICAgfVxuXG4gICAgICAgIHJlcy5taWxsaXNlY29uZHMgPSArb3RoZXIgLSArKGJhc2UuY2xvbmUoKS5hZGQocmVzLm1vbnRocywgJ00nKSk7XG5cbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtb21lbnRzRGlmZmVyZW5jZShiYXNlLCBvdGhlcikge1xuICAgICAgICB2YXIgcmVzO1xuICAgICAgICBvdGhlciA9IGNsb25lV2l0aE9mZnNldChvdGhlciwgYmFzZSk7XG4gICAgICAgIGlmIChiYXNlLmlzQmVmb3JlKG90aGVyKSkge1xuICAgICAgICAgICAgcmVzID0gcG9zaXRpdmVNb21lbnRzRGlmZmVyZW5jZShiYXNlLCBvdGhlcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXMgPSBwb3NpdGl2ZU1vbWVudHNEaWZmZXJlbmNlKG90aGVyLCBiYXNlKTtcbiAgICAgICAgICAgIHJlcy5taWxsaXNlY29uZHMgPSAtcmVzLm1pbGxpc2Vjb25kcztcbiAgICAgICAgICAgIHJlcy5tb250aHMgPSAtcmVzLm1vbnRocztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlQWRkZXIoZGlyZWN0aW9uLCBuYW1lKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAodmFsLCBwZXJpb2QpIHtcbiAgICAgICAgICAgIHZhciBkdXIsIHRtcDtcbiAgICAgICAgICAgIC8vaW52ZXJ0IHRoZSBhcmd1bWVudHMsIGJ1dCBjb21wbGFpbiBhYm91dCBpdFxuICAgICAgICAgICAgaWYgKHBlcmlvZCAhPT0gbnVsbCAmJiAhaXNOYU4oK3BlcmlvZCkpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGVTaW1wbGUobmFtZSwgJ21vbWVudCgpLicgKyBuYW1lICArICcocGVyaW9kLCBudW1iZXIpIGlzIGRlcHJlY2F0ZWQuIFBsZWFzZSB1c2UgbW9tZW50KCkuJyArIG5hbWUgKyAnKG51bWJlciwgcGVyaW9kKS4nKTtcbiAgICAgICAgICAgICAgICB0bXAgPSB2YWw7IHZhbCA9IHBlcmlvZDsgcGVyaW9kID0gdG1wO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YWwgPSB0eXBlb2YgdmFsID09PSAnc3RyaW5nJyA/ICt2YWwgOiB2YWw7XG4gICAgICAgICAgICBkdXIgPSBjcmVhdGVfX2NyZWF0ZUR1cmF0aW9uKHZhbCwgcGVyaW9kKTtcbiAgICAgICAgICAgIGFkZF9zdWJ0cmFjdF9fYWRkU3VidHJhY3QodGhpcywgZHVyLCBkaXJlY3Rpb24pO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYWRkX3N1YnRyYWN0X19hZGRTdWJ0cmFjdCAobW9tLCBkdXJhdGlvbiwgaXNBZGRpbmcsIHVwZGF0ZU9mZnNldCkge1xuICAgICAgICB2YXIgbWlsbGlzZWNvbmRzID0gZHVyYXRpb24uX21pbGxpc2Vjb25kcyxcbiAgICAgICAgICAgIGRheXMgPSBkdXJhdGlvbi5fZGF5cyxcbiAgICAgICAgICAgIG1vbnRocyA9IGR1cmF0aW9uLl9tb250aHM7XG4gICAgICAgIHVwZGF0ZU9mZnNldCA9IHVwZGF0ZU9mZnNldCA9PSBudWxsID8gdHJ1ZSA6IHVwZGF0ZU9mZnNldDtcblxuICAgICAgICBpZiAobWlsbGlzZWNvbmRzKSB7XG4gICAgICAgICAgICBtb20uX2Quc2V0VGltZSgrbW9tLl9kICsgbWlsbGlzZWNvbmRzICogaXNBZGRpbmcpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkYXlzKSB7XG4gICAgICAgICAgICBnZXRfc2V0X19zZXQobW9tLCAnRGF0ZScsIGdldF9zZXRfX2dldChtb20sICdEYXRlJykgKyBkYXlzICogaXNBZGRpbmcpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtb250aHMpIHtcbiAgICAgICAgICAgIHNldE1vbnRoKG1vbSwgZ2V0X3NldF9fZ2V0KG1vbSwgJ01vbnRoJykgKyBtb250aHMgKiBpc0FkZGluZyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHVwZGF0ZU9mZnNldCkge1xuICAgICAgICAgICAgdXRpbHNfaG9va3NfX2hvb2tzLnVwZGF0ZU9mZnNldChtb20sIGRheXMgfHwgbW9udGhzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHZhciBhZGRfc3VidHJhY3RfX2FkZCAgICAgID0gY3JlYXRlQWRkZXIoMSwgJ2FkZCcpO1xuICAgIHZhciBhZGRfc3VidHJhY3RfX3N1YnRyYWN0ID0gY3JlYXRlQWRkZXIoLTEsICdzdWJ0cmFjdCcpO1xuXG4gICAgZnVuY3Rpb24gbW9tZW50X2NhbGVuZGFyX19jYWxlbmRhciAodGltZSwgZm9ybWF0cykge1xuICAgICAgICAvLyBXZSB3YW50IHRvIGNvbXBhcmUgdGhlIHN0YXJ0IG9mIHRvZGF5LCB2cyB0aGlzLlxuICAgICAgICAvLyBHZXR0aW5nIHN0YXJ0LW9mLXRvZGF5IGRlcGVuZHMgb24gd2hldGhlciB3ZSdyZSBsb2NhbC91dGMvb2Zmc2V0IG9yIG5vdC5cbiAgICAgICAgdmFyIG5vdyA9IHRpbWUgfHwgbG9jYWxfX2NyZWF0ZUxvY2FsKCksXG4gICAgICAgICAgICBzb2QgPSBjbG9uZVdpdGhPZmZzZXQobm93LCB0aGlzKS5zdGFydE9mKCdkYXknKSxcbiAgICAgICAgICAgIGRpZmYgPSB0aGlzLmRpZmYoc29kLCAnZGF5cycsIHRydWUpLFxuICAgICAgICAgICAgZm9ybWF0ID0gZGlmZiA8IC02ID8gJ3NhbWVFbHNlJyA6XG4gICAgICAgICAgICAgICAgZGlmZiA8IC0xID8gJ2xhc3RXZWVrJyA6XG4gICAgICAgICAgICAgICAgZGlmZiA8IDAgPyAnbGFzdERheScgOlxuICAgICAgICAgICAgICAgIGRpZmYgPCAxID8gJ3NhbWVEYXknIDpcbiAgICAgICAgICAgICAgICBkaWZmIDwgMiA/ICduZXh0RGF5JyA6XG4gICAgICAgICAgICAgICAgZGlmZiA8IDcgPyAnbmV4dFdlZWsnIDogJ3NhbWVFbHNlJztcbiAgICAgICAgcmV0dXJuIHRoaXMuZm9ybWF0KGZvcm1hdHMgJiYgZm9ybWF0c1tmb3JtYXRdIHx8IHRoaXMubG9jYWxlRGF0YSgpLmNhbGVuZGFyKGZvcm1hdCwgdGhpcywgbG9jYWxfX2NyZWF0ZUxvY2FsKG5vdykpKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjbG9uZSAoKSB7XG4gICAgICAgIHJldHVybiBuZXcgTW9tZW50KHRoaXMpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzQWZ0ZXIgKGlucHV0LCB1bml0cykge1xuICAgICAgICB2YXIgaW5wdXRNcztcbiAgICAgICAgdW5pdHMgPSBub3JtYWxpemVVbml0cyh0eXBlb2YgdW5pdHMgIT09ICd1bmRlZmluZWQnID8gdW5pdHMgOiAnbWlsbGlzZWNvbmQnKTtcbiAgICAgICAgaWYgKHVuaXRzID09PSAnbWlsbGlzZWNvbmQnKSB7XG4gICAgICAgICAgICBpbnB1dCA9IGlzTW9tZW50KGlucHV0KSA/IGlucHV0IDogbG9jYWxfX2NyZWF0ZUxvY2FsKGlucHV0KTtcbiAgICAgICAgICAgIHJldHVybiArdGhpcyA+ICtpbnB1dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlucHV0TXMgPSBpc01vbWVudChpbnB1dCkgPyAraW5wdXQgOiArbG9jYWxfX2NyZWF0ZUxvY2FsKGlucHV0KTtcbiAgICAgICAgICAgIHJldHVybiBpbnB1dE1zIDwgK3RoaXMuY2xvbmUoKS5zdGFydE9mKHVuaXRzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzQmVmb3JlIChpbnB1dCwgdW5pdHMpIHtcbiAgICAgICAgdmFyIGlucHV0TXM7XG4gICAgICAgIHVuaXRzID0gbm9ybWFsaXplVW5pdHModHlwZW9mIHVuaXRzICE9PSAndW5kZWZpbmVkJyA/IHVuaXRzIDogJ21pbGxpc2Vjb25kJyk7XG4gICAgICAgIGlmICh1bml0cyA9PT0gJ21pbGxpc2Vjb25kJykge1xuICAgICAgICAgICAgaW5wdXQgPSBpc01vbWVudChpbnB1dCkgPyBpbnB1dCA6IGxvY2FsX19jcmVhdGVMb2NhbChpbnB1dCk7XG4gICAgICAgICAgICByZXR1cm4gK3RoaXMgPCAraW5wdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpbnB1dE1zID0gaXNNb21lbnQoaW5wdXQpID8gK2lucHV0IDogK2xvY2FsX19jcmVhdGVMb2NhbChpbnB1dCk7XG4gICAgICAgICAgICByZXR1cm4gK3RoaXMuY2xvbmUoKS5lbmRPZih1bml0cykgPCBpbnB1dE1zO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNCZXR3ZWVuIChmcm9tLCB0bywgdW5pdHMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNBZnRlcihmcm9tLCB1bml0cykgJiYgdGhpcy5pc0JlZm9yZSh0bywgdW5pdHMpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzU2FtZSAoaW5wdXQsIHVuaXRzKSB7XG4gICAgICAgIHZhciBpbnB1dE1zO1xuICAgICAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKHVuaXRzIHx8ICdtaWxsaXNlY29uZCcpO1xuICAgICAgICBpZiAodW5pdHMgPT09ICdtaWxsaXNlY29uZCcpIHtcbiAgICAgICAgICAgIGlucHV0ID0gaXNNb21lbnQoaW5wdXQpID8gaW5wdXQgOiBsb2NhbF9fY3JlYXRlTG9jYWwoaW5wdXQpO1xuICAgICAgICAgICAgcmV0dXJuICt0aGlzID09PSAraW5wdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpbnB1dE1zID0gK2xvY2FsX19jcmVhdGVMb2NhbChpbnB1dCk7XG4gICAgICAgICAgICByZXR1cm4gKyh0aGlzLmNsb25lKCkuc3RhcnRPZih1bml0cykpIDw9IGlucHV0TXMgJiYgaW5wdXRNcyA8PSArKHRoaXMuY2xvbmUoKS5lbmRPZih1bml0cykpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZGlmZiAoaW5wdXQsIHVuaXRzLCBhc0Zsb2F0KSB7XG4gICAgICAgIHZhciB0aGF0ID0gY2xvbmVXaXRoT2Zmc2V0KGlucHV0LCB0aGlzKSxcbiAgICAgICAgICAgIHpvbmVEZWx0YSA9ICh0aGF0LnV0Y09mZnNldCgpIC0gdGhpcy51dGNPZmZzZXQoKSkgKiA2ZTQsXG4gICAgICAgICAgICBkZWx0YSwgb3V0cHV0O1xuXG4gICAgICAgIHVuaXRzID0gbm9ybWFsaXplVW5pdHModW5pdHMpO1xuXG4gICAgICAgIGlmICh1bml0cyA9PT0gJ3llYXInIHx8IHVuaXRzID09PSAnbW9udGgnIHx8IHVuaXRzID09PSAncXVhcnRlcicpIHtcbiAgICAgICAgICAgIG91dHB1dCA9IG1vbnRoRGlmZih0aGlzLCB0aGF0KTtcbiAgICAgICAgICAgIGlmICh1bml0cyA9PT0gJ3F1YXJ0ZXInKSB7XG4gICAgICAgICAgICAgICAgb3V0cHV0ID0gb3V0cHV0IC8gMztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodW5pdHMgPT09ICd5ZWFyJykge1xuICAgICAgICAgICAgICAgIG91dHB1dCA9IG91dHB1dCAvIDEyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGVsdGEgPSB0aGlzIC0gdGhhdDtcbiAgICAgICAgICAgIG91dHB1dCA9IHVuaXRzID09PSAnc2Vjb25kJyA/IGRlbHRhIC8gMWUzIDogLy8gMTAwMFxuICAgICAgICAgICAgICAgIHVuaXRzID09PSAnbWludXRlJyA/IGRlbHRhIC8gNmU0IDogLy8gMTAwMCAqIDYwXG4gICAgICAgICAgICAgICAgdW5pdHMgPT09ICdob3VyJyA/IGRlbHRhIC8gMzZlNSA6IC8vIDEwMDAgKiA2MCAqIDYwXG4gICAgICAgICAgICAgICAgdW5pdHMgPT09ICdkYXknID8gKGRlbHRhIC0gem9uZURlbHRhKSAvIDg2NGU1IDogLy8gMTAwMCAqIDYwICogNjAgKiAyNCwgbmVnYXRlIGRzdFxuICAgICAgICAgICAgICAgIHVuaXRzID09PSAnd2VlaycgPyAoZGVsdGEgLSB6b25lRGVsdGEpIC8gNjA0OGU1IDogLy8gMTAwMCAqIDYwICogNjAgKiAyNCAqIDcsIG5lZ2F0ZSBkc3RcbiAgICAgICAgICAgICAgICBkZWx0YTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXNGbG9hdCA/IG91dHB1dCA6IGFic0Zsb29yKG91dHB1dCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbW9udGhEaWZmIChhLCBiKSB7XG4gICAgICAgIC8vIGRpZmZlcmVuY2UgaW4gbW9udGhzXG4gICAgICAgIHZhciB3aG9sZU1vbnRoRGlmZiA9ICgoYi55ZWFyKCkgLSBhLnllYXIoKSkgKiAxMikgKyAoYi5tb250aCgpIC0gYS5tb250aCgpKSxcbiAgICAgICAgICAgIC8vIGIgaXMgaW4gKGFuY2hvciAtIDEgbW9udGgsIGFuY2hvciArIDEgbW9udGgpXG4gICAgICAgICAgICBhbmNob3IgPSBhLmNsb25lKCkuYWRkKHdob2xlTW9udGhEaWZmLCAnbW9udGhzJyksXG4gICAgICAgICAgICBhbmNob3IyLCBhZGp1c3Q7XG5cbiAgICAgICAgaWYgKGIgLSBhbmNob3IgPCAwKSB7XG4gICAgICAgICAgICBhbmNob3IyID0gYS5jbG9uZSgpLmFkZCh3aG9sZU1vbnRoRGlmZiAtIDEsICdtb250aHMnKTtcbiAgICAgICAgICAgIC8vIGxpbmVhciBhY3Jvc3MgdGhlIG1vbnRoXG4gICAgICAgICAgICBhZGp1c3QgPSAoYiAtIGFuY2hvcikgLyAoYW5jaG9yIC0gYW5jaG9yMik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhbmNob3IyID0gYS5jbG9uZSgpLmFkZCh3aG9sZU1vbnRoRGlmZiArIDEsICdtb250aHMnKTtcbiAgICAgICAgICAgIC8vIGxpbmVhciBhY3Jvc3MgdGhlIG1vbnRoXG4gICAgICAgICAgICBhZGp1c3QgPSAoYiAtIGFuY2hvcikgLyAoYW5jaG9yMiAtIGFuY2hvcik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gLSh3aG9sZU1vbnRoRGlmZiArIGFkanVzdCk7XG4gICAgfVxuXG4gICAgdXRpbHNfaG9va3NfX2hvb2tzLmRlZmF1bHRGb3JtYXQgPSAnWVlZWS1NTS1ERFRISDptbTpzc1onO1xuXG4gICAgZnVuY3Rpb24gdG9TdHJpbmcgKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jbG9uZSgpLmxvY2FsZSgnZW4nKS5mb3JtYXQoJ2RkZCBNTU0gREQgWVlZWSBISDptbTpzcyBbR01UXVpaJyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbW9tZW50X2Zvcm1hdF9fdG9JU09TdHJpbmcgKCkge1xuICAgICAgICB2YXIgbSA9IHRoaXMuY2xvbmUoKS51dGMoKTtcbiAgICAgICAgaWYgKDAgPCBtLnllYXIoKSAmJiBtLnllYXIoKSA8PSA5OTk5KSB7XG4gICAgICAgICAgICBpZiAoJ2Z1bmN0aW9uJyA9PT0gdHlwZW9mIERhdGUucHJvdG90eXBlLnRvSVNPU3RyaW5nKSB7XG4gICAgICAgICAgICAgICAgLy8gbmF0aXZlIGltcGxlbWVudGF0aW9uIGlzIH41MHggZmFzdGVyLCB1c2UgaXQgd2hlbiB3ZSBjYW5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy50b0RhdGUoKS50b0lTT1N0cmluZygpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZm9ybWF0TW9tZW50KG0sICdZWVlZLU1NLUREW1RdSEg6bW06c3MuU1NTW1pdJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZm9ybWF0TW9tZW50KG0sICdZWVlZWVktTU0tRERbVF1ISDptbTpzcy5TU1NbWl0nKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGZvcm1hdCAoaW5wdXRTdHJpbmcpIHtcbiAgICAgICAgdmFyIG91dHB1dCA9IGZvcm1hdE1vbWVudCh0aGlzLCBpbnB1dFN0cmluZyB8fCB1dGlsc19ob29rc19faG9va3MuZGVmYXVsdEZvcm1hdCk7XG4gICAgICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEoKS5wb3N0Zm9ybWF0KG91dHB1dCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZnJvbSAodGltZSwgd2l0aG91dFN1ZmZpeCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNWYWxpZCgpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkuaW52YWxpZERhdGUoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY3JlYXRlX19jcmVhdGVEdXJhdGlvbih7dG86IHRoaXMsIGZyb206IHRpbWV9KS5sb2NhbGUodGhpcy5sb2NhbGUoKSkuaHVtYW5pemUoIXdpdGhvdXRTdWZmaXgpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGZyb21Ob3cgKHdpdGhvdXRTdWZmaXgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZnJvbShsb2NhbF9fY3JlYXRlTG9jYWwoKSwgd2l0aG91dFN1ZmZpeCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdG8gKHRpbWUsIHdpdGhvdXRTdWZmaXgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLmludmFsaWREYXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNyZWF0ZV9fY3JlYXRlRHVyYXRpb24oe2Zyb206IHRoaXMsIHRvOiB0aW1lfSkubG9jYWxlKHRoaXMubG9jYWxlKCkpLmh1bWFuaXplKCF3aXRob3V0U3VmZml4KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB0b05vdyAod2l0aG91dFN1ZmZpeCkge1xuICAgICAgICByZXR1cm4gdGhpcy50byhsb2NhbF9fY3JlYXRlTG9jYWwoKSwgd2l0aG91dFN1ZmZpeCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbG9jYWxlIChrZXkpIHtcbiAgICAgICAgdmFyIG5ld0xvY2FsZURhdGE7XG5cbiAgICAgICAgaWYgKGtleSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbG9jYWxlLl9hYmJyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbmV3TG9jYWxlRGF0YSA9IGxvY2FsZV9sb2NhbGVzX19nZXRMb2NhbGUoa2V5KTtcbiAgICAgICAgICAgIGlmIChuZXdMb2NhbGVEYXRhICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9sb2NhbGUgPSBuZXdMb2NhbGVEYXRhO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgbGFuZyA9IGRlcHJlY2F0ZShcbiAgICAgICAgJ21vbWVudCgpLmxhbmcoKSBpcyBkZXByZWNhdGVkLiBJbnN0ZWFkLCB1c2UgbW9tZW50KCkubG9jYWxlRGF0YSgpIHRvIGdldCB0aGUgbGFuZ3VhZ2UgY29uZmlndXJhdGlvbi4gVXNlIG1vbWVudCgpLmxvY2FsZSgpIHRvIGNoYW5nZSBsYW5ndWFnZXMuJyxcbiAgICAgICAgZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgaWYgKGtleSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGUoa2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICk7XG5cbiAgICBmdW5jdGlvbiBsb2NhbGVEYXRhICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xvY2FsZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzdGFydE9mICh1bml0cykge1xuICAgICAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKHVuaXRzKTtcbiAgICAgICAgLy8gdGhlIGZvbGxvd2luZyBzd2l0Y2ggaW50ZW50aW9uYWxseSBvbWl0cyBicmVhayBrZXl3b3Jkc1xuICAgICAgICAvLyB0byB1dGlsaXplIGZhbGxpbmcgdGhyb3VnaCB0aGUgY2FzZXMuXG4gICAgICAgIHN3aXRjaCAodW5pdHMpIHtcbiAgICAgICAgY2FzZSAneWVhcic6XG4gICAgICAgICAgICB0aGlzLm1vbnRoKDApO1xuICAgICAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgICBjYXNlICdxdWFydGVyJzpcbiAgICAgICAgY2FzZSAnbW9udGgnOlxuICAgICAgICAgICAgdGhpcy5kYXRlKDEpO1xuICAgICAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgICBjYXNlICd3ZWVrJzpcbiAgICAgICAgY2FzZSAnaXNvV2Vlayc6XG4gICAgICAgIGNhc2UgJ2RheSc6XG4gICAgICAgICAgICB0aGlzLmhvdXJzKDApO1xuICAgICAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgICBjYXNlICdob3VyJzpcbiAgICAgICAgICAgIHRoaXMubWludXRlcygwKTtcbiAgICAgICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgICAgY2FzZSAnbWludXRlJzpcbiAgICAgICAgICAgIHRoaXMuc2Vjb25kcygwKTtcbiAgICAgICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgICAgY2FzZSAnc2Vjb25kJzpcbiAgICAgICAgICAgIHRoaXMubWlsbGlzZWNvbmRzKDApO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gd2Vla3MgYXJlIGEgc3BlY2lhbCBjYXNlXG4gICAgICAgIGlmICh1bml0cyA9PT0gJ3dlZWsnKSB7XG4gICAgICAgICAgICB0aGlzLndlZWtkYXkoMCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHVuaXRzID09PSAnaXNvV2VlaycpIHtcbiAgICAgICAgICAgIHRoaXMuaXNvV2Vla2RheSgxKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHF1YXJ0ZXJzIGFyZSBhbHNvIHNwZWNpYWxcbiAgICAgICAgaWYgKHVuaXRzID09PSAncXVhcnRlcicpIHtcbiAgICAgICAgICAgIHRoaXMubW9udGgoTWF0aC5mbG9vcih0aGlzLm1vbnRoKCkgLyAzKSAqIDMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZW5kT2YgKHVuaXRzKSB7XG4gICAgICAgIHVuaXRzID0gbm9ybWFsaXplVW5pdHModW5pdHMpO1xuICAgICAgICBpZiAodW5pdHMgPT09IHVuZGVmaW5lZCB8fCB1bml0cyA9PT0gJ21pbGxpc2Vjb25kJykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhcnRPZih1bml0cykuYWRkKDEsICh1bml0cyA9PT0gJ2lzb1dlZWsnID8gJ3dlZWsnIDogdW5pdHMpKS5zdWJ0cmFjdCgxLCAnbXMnKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB0b190eXBlX192YWx1ZU9mICgpIHtcbiAgICAgICAgcmV0dXJuICt0aGlzLl9kIC0gKCh0aGlzLl9vZmZzZXQgfHwgMCkgKiA2MDAwMCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdW5peCAoKSB7XG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKCt0aGlzIC8gMTAwMCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdG9EYXRlICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX29mZnNldCA/IG5ldyBEYXRlKCt0aGlzKSA6IHRoaXMuX2Q7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdG9BcnJheSAoKSB7XG4gICAgICAgIHZhciBtID0gdGhpcztcbiAgICAgICAgcmV0dXJuIFttLnllYXIoKSwgbS5tb250aCgpLCBtLmRhdGUoKSwgbS5ob3VyKCksIG0ubWludXRlKCksIG0uc2Vjb25kKCksIG0ubWlsbGlzZWNvbmQoKV07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdG9PYmplY3QgKCkge1xuICAgICAgICB2YXIgbSA9IHRoaXM7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB5ZWFyczogbS55ZWFyKCksXG4gICAgICAgICAgICBtb250aHM6IG0ubW9udGgoKSxcbiAgICAgICAgICAgIGRhdGU6IG0uZGF0ZSgpLFxuICAgICAgICAgICAgaG91cnM6IG0uaG91cnMoKSxcbiAgICAgICAgICAgIG1pbnV0ZXM6IG0ubWludXRlcygpLFxuICAgICAgICAgICAgc2Vjb25kczogbS5zZWNvbmRzKCksXG4gICAgICAgICAgICBtaWxsaXNlY29uZHM6IG0ubWlsbGlzZWNvbmRzKClcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtb21lbnRfdmFsaWRfX2lzVmFsaWQgKCkge1xuICAgICAgICByZXR1cm4gdmFsaWRfX2lzVmFsaWQodGhpcyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcGFyc2luZ0ZsYWdzICgpIHtcbiAgICAgICAgcmV0dXJuIGV4dGVuZCh7fSwgZ2V0UGFyc2luZ0ZsYWdzKHRoaXMpKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbnZhbGlkQXQgKCkge1xuICAgICAgICByZXR1cm4gZ2V0UGFyc2luZ0ZsYWdzKHRoaXMpLm92ZXJmbG93O1xuICAgIH1cblxuICAgIGFkZEZvcm1hdFRva2VuKDAsIFsnZ2cnLCAyXSwgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy53ZWVrWWVhcigpICUgMTAwO1xuICAgIH0pO1xuXG4gICAgYWRkRm9ybWF0VG9rZW4oMCwgWydHRycsIDJdLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlzb1dlZWtZZWFyKCkgJSAxMDA7XG4gICAgfSk7XG5cbiAgICBmdW5jdGlvbiBhZGRXZWVrWWVhckZvcm1hdFRva2VuICh0b2tlbiwgZ2V0dGVyKSB7XG4gICAgICAgIGFkZEZvcm1hdFRva2VuKDAsIFt0b2tlbiwgdG9rZW4ubGVuZ3RoXSwgMCwgZ2V0dGVyKTtcbiAgICB9XG5cbiAgICBhZGRXZWVrWWVhckZvcm1hdFRva2VuKCdnZ2dnJywgICAgICd3ZWVrWWVhcicpO1xuICAgIGFkZFdlZWtZZWFyRm9ybWF0VG9rZW4oJ2dnZ2dnJywgICAgJ3dlZWtZZWFyJyk7XG4gICAgYWRkV2Vla1llYXJGb3JtYXRUb2tlbignR0dHRycsICAnaXNvV2Vla1llYXInKTtcbiAgICBhZGRXZWVrWWVhckZvcm1hdFRva2VuKCdHR0dHRycsICdpc29XZWVrWWVhcicpO1xuXG4gICAgLy8gQUxJQVNFU1xuXG4gICAgYWRkVW5pdEFsaWFzKCd3ZWVrWWVhcicsICdnZycpO1xuICAgIGFkZFVuaXRBbGlhcygnaXNvV2Vla1llYXInLCAnR0cnKTtcblxuICAgIC8vIFBBUlNJTkdcblxuICAgIGFkZFJlZ2V4VG9rZW4oJ0cnLCAgICAgIG1hdGNoU2lnbmVkKTtcbiAgICBhZGRSZWdleFRva2VuKCdnJywgICAgICBtYXRjaFNpZ25lZCk7XG4gICAgYWRkUmVnZXhUb2tlbignR0cnLCAgICAgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ2dnJywgICAgIG1hdGNoMXRvMiwgbWF0Y2gyKTtcbiAgICBhZGRSZWdleFRva2VuKCdHR0dHJywgICBtYXRjaDF0bzQsIG1hdGNoNCk7XG4gICAgYWRkUmVnZXhUb2tlbignZ2dnZycsICAgbWF0Y2gxdG80LCBtYXRjaDQpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ0dHR0dHJywgIG1hdGNoMXRvNiwgbWF0Y2g2KTtcbiAgICBhZGRSZWdleFRva2VuKCdnZ2dnZycsICBtYXRjaDF0bzYsIG1hdGNoNik7XG5cbiAgICBhZGRXZWVrUGFyc2VUb2tlbihbJ2dnZ2cnLCAnZ2dnZ2cnLCAnR0dHRycsICdHR0dHRyddLCBmdW5jdGlvbiAoaW5wdXQsIHdlZWssIGNvbmZpZywgdG9rZW4pIHtcbiAgICAgICAgd2Vla1t0b2tlbi5zdWJzdHIoMCwgMildID0gdG9JbnQoaW5wdXQpO1xuICAgIH0pO1xuXG4gICAgYWRkV2Vla1BhcnNlVG9rZW4oWydnZycsICdHRyddLCBmdW5jdGlvbiAoaW5wdXQsIHdlZWssIGNvbmZpZywgdG9rZW4pIHtcbiAgICAgICAgd2Vla1t0b2tlbl0gPSB1dGlsc19ob29rc19faG9va3MucGFyc2VUd29EaWdpdFllYXIoaW5wdXQpO1xuICAgIH0pO1xuXG4gICAgLy8gSEVMUEVSU1xuXG4gICAgZnVuY3Rpb24gd2Vla3NJblllYXIoeWVhciwgZG93LCBkb3kpIHtcbiAgICAgICAgcmV0dXJuIHdlZWtPZlllYXIobG9jYWxfX2NyZWF0ZUxvY2FsKFt5ZWFyLCAxMSwgMzEgKyBkb3cgLSBkb3ldKSwgZG93LCBkb3kpLndlZWs7XG4gICAgfVxuXG4gICAgLy8gTU9NRU5UU1xuXG4gICAgZnVuY3Rpb24gZ2V0U2V0V2Vla1llYXIgKGlucHV0KSB7XG4gICAgICAgIHZhciB5ZWFyID0gd2Vla09mWWVhcih0aGlzLCB0aGlzLmxvY2FsZURhdGEoKS5fd2Vlay5kb3csIHRoaXMubG9jYWxlRGF0YSgpLl93ZWVrLmRveSkueWVhcjtcbiAgICAgICAgcmV0dXJuIGlucHV0ID09IG51bGwgPyB5ZWFyIDogdGhpcy5hZGQoKGlucHV0IC0geWVhciksICd5Jyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0U2V0SVNPV2Vla1llYXIgKGlucHV0KSB7XG4gICAgICAgIHZhciB5ZWFyID0gd2Vla09mWWVhcih0aGlzLCAxLCA0KS55ZWFyO1xuICAgICAgICByZXR1cm4gaW5wdXQgPT0gbnVsbCA/IHllYXIgOiB0aGlzLmFkZCgoaW5wdXQgLSB5ZWFyKSwgJ3knKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRJU09XZWVrc0luWWVhciAoKSB7XG4gICAgICAgIHJldHVybiB3ZWVrc0luWWVhcih0aGlzLnllYXIoKSwgMSwgNCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0V2Vla3NJblllYXIgKCkge1xuICAgICAgICB2YXIgd2Vla0luZm8gPSB0aGlzLmxvY2FsZURhdGEoKS5fd2VlaztcbiAgICAgICAgcmV0dXJuIHdlZWtzSW5ZZWFyKHRoaXMueWVhcigpLCB3ZWVrSW5mby5kb3csIHdlZWtJbmZvLmRveSk7XG4gICAgfVxuXG4gICAgYWRkRm9ybWF0VG9rZW4oJ1EnLCAwLCAwLCAncXVhcnRlcicpO1xuXG4gICAgLy8gQUxJQVNFU1xuXG4gICAgYWRkVW5pdEFsaWFzKCdxdWFydGVyJywgJ1EnKTtcblxuICAgIC8vIFBBUlNJTkdcblxuICAgIGFkZFJlZ2V4VG9rZW4oJ1EnLCBtYXRjaDEpO1xuICAgIGFkZFBhcnNlVG9rZW4oJ1EnLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5KSB7XG4gICAgICAgIGFycmF5W01PTlRIXSA9ICh0b0ludChpbnB1dCkgLSAxKSAqIDM7XG4gICAgfSk7XG5cbiAgICAvLyBNT01FTlRTXG5cbiAgICBmdW5jdGlvbiBnZXRTZXRRdWFydGVyIChpbnB1dCkge1xuICAgICAgICByZXR1cm4gaW5wdXQgPT0gbnVsbCA/IE1hdGguY2VpbCgodGhpcy5tb250aCgpICsgMSkgLyAzKSA6IHRoaXMubW9udGgoKGlucHV0IC0gMSkgKiAzICsgdGhpcy5tb250aCgpICUgMyk7XG4gICAgfVxuXG4gICAgYWRkRm9ybWF0VG9rZW4oJ0QnLCBbJ0REJywgMl0sICdEbycsICdkYXRlJyk7XG5cbiAgICAvLyBBTElBU0VTXG5cbiAgICBhZGRVbml0QWxpYXMoJ2RhdGUnLCAnRCcpO1xuXG4gICAgLy8gUEFSU0lOR1xuXG4gICAgYWRkUmVnZXhUb2tlbignRCcsICBtYXRjaDF0bzIpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ0REJywgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ0RvJywgZnVuY3Rpb24gKGlzU3RyaWN0LCBsb2NhbGUpIHtcbiAgICAgICAgcmV0dXJuIGlzU3RyaWN0ID8gbG9jYWxlLl9vcmRpbmFsUGFyc2UgOiBsb2NhbGUuX29yZGluYWxQYXJzZUxlbmllbnQ7XG4gICAgfSk7XG5cbiAgICBhZGRQYXJzZVRva2VuKFsnRCcsICdERCddLCBEQVRFKTtcbiAgICBhZGRQYXJzZVRva2VuKCdEbycsIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXkpIHtcbiAgICAgICAgYXJyYXlbREFURV0gPSB0b0ludChpbnB1dC5tYXRjaChtYXRjaDF0bzIpWzBdLCAxMCk7XG4gICAgfSk7XG5cbiAgICAvLyBNT01FTlRTXG5cbiAgICB2YXIgZ2V0U2V0RGF5T2ZNb250aCA9IG1ha2VHZXRTZXQoJ0RhdGUnLCB0cnVlKTtcblxuICAgIGFkZEZvcm1hdFRva2VuKCdkJywgMCwgJ2RvJywgJ2RheScpO1xuXG4gICAgYWRkRm9ybWF0VG9rZW4oJ2RkJywgMCwgMCwgZnVuY3Rpb24gKGZvcm1hdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkud2Vla2RheXNNaW4odGhpcywgZm9ybWF0KTtcbiAgICB9KTtcblxuICAgIGFkZEZvcm1hdFRva2VuKCdkZGQnLCAwLCAwLCBmdW5jdGlvbiAoZm9ybWF0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEoKS53ZWVrZGF5c1Nob3J0KHRoaXMsIGZvcm1hdCk7XG4gICAgfSk7XG5cbiAgICBhZGRGb3JtYXRUb2tlbignZGRkZCcsIDAsIDAsIGZ1bmN0aW9uIChmb3JtYXQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLndlZWtkYXlzKHRoaXMsIGZvcm1hdCk7XG4gICAgfSk7XG5cbiAgICBhZGRGb3JtYXRUb2tlbignZScsIDAsIDAsICd3ZWVrZGF5Jyk7XG4gICAgYWRkRm9ybWF0VG9rZW4oJ0UnLCAwLCAwLCAnaXNvV2Vla2RheScpO1xuXG4gICAgLy8gQUxJQVNFU1xuXG4gICAgYWRkVW5pdEFsaWFzKCdkYXknLCAnZCcpO1xuICAgIGFkZFVuaXRBbGlhcygnd2Vla2RheScsICdlJyk7XG4gICAgYWRkVW5pdEFsaWFzKCdpc29XZWVrZGF5JywgJ0UnKTtcblxuICAgIC8vIFBBUlNJTkdcblxuICAgIGFkZFJlZ2V4VG9rZW4oJ2QnLCAgICBtYXRjaDF0bzIpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ2UnLCAgICBtYXRjaDF0bzIpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ0UnLCAgICBtYXRjaDF0bzIpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ2RkJywgICBtYXRjaFdvcmQpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ2RkZCcsICBtYXRjaFdvcmQpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ2RkZGQnLCBtYXRjaFdvcmQpO1xuXG4gICAgYWRkV2Vla1BhcnNlVG9rZW4oWydkZCcsICdkZGQnLCAnZGRkZCddLCBmdW5jdGlvbiAoaW5wdXQsIHdlZWssIGNvbmZpZykge1xuICAgICAgICB2YXIgd2Vla2RheSA9IGNvbmZpZy5fbG9jYWxlLndlZWtkYXlzUGFyc2UoaW5wdXQpO1xuICAgICAgICAvLyBpZiB3ZSBkaWRuJ3QgZ2V0IGEgd2Vla2RheSBuYW1lLCBtYXJrIHRoZSBkYXRlIGFzIGludmFsaWRcbiAgICAgICAgaWYgKHdlZWtkYXkgIT0gbnVsbCkge1xuICAgICAgICAgICAgd2Vlay5kID0gd2Vla2RheTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmludmFsaWRXZWVrZGF5ID0gaW5wdXQ7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIGFkZFdlZWtQYXJzZVRva2VuKFsnZCcsICdlJywgJ0UnXSwgZnVuY3Rpb24gKGlucHV0LCB3ZWVrLCBjb25maWcsIHRva2VuKSB7XG4gICAgICAgIHdlZWtbdG9rZW5dID0gdG9JbnQoaW5wdXQpO1xuICAgIH0pO1xuXG4gICAgLy8gSEVMUEVSU1xuXG4gICAgZnVuY3Rpb24gcGFyc2VXZWVrZGF5KGlucHV0LCBsb2NhbGUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBpbnB1dCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJldHVybiBpbnB1dDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghaXNOYU4oaW5wdXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VJbnQoaW5wdXQsIDEwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlucHV0ID0gbG9jYWxlLndlZWtkYXlzUGFyc2UoaW5wdXQpO1xuICAgICAgICBpZiAodHlwZW9mIGlucHV0ID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgcmV0dXJuIGlucHV0O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgLy8gTE9DQUxFU1xuXG4gICAgdmFyIGRlZmF1bHRMb2NhbGVXZWVrZGF5cyA9ICdTdW5kYXlfTW9uZGF5X1R1ZXNkYXlfV2VkbmVzZGF5X1RodXJzZGF5X0ZyaWRheV9TYXR1cmRheScuc3BsaXQoJ18nKTtcbiAgICBmdW5jdGlvbiBsb2NhbGVXZWVrZGF5cyAobSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fd2Vla2RheXNbbS5kYXkoKV07XG4gICAgfVxuXG4gICAgdmFyIGRlZmF1bHRMb2NhbGVXZWVrZGF5c1Nob3J0ID0gJ1N1bl9Nb25fVHVlX1dlZF9UaHVfRnJpX1NhdCcuc3BsaXQoJ18nKTtcbiAgICBmdW5jdGlvbiBsb2NhbGVXZWVrZGF5c1Nob3J0IChtKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl93ZWVrZGF5c1Nob3J0W20uZGF5KCldO1xuICAgIH1cblxuICAgIHZhciBkZWZhdWx0TG9jYWxlV2Vla2RheXNNaW4gPSAnU3VfTW9fVHVfV2VfVGhfRnJfU2EnLnNwbGl0KCdfJyk7XG4gICAgZnVuY3Rpb24gbG9jYWxlV2Vla2RheXNNaW4gKG0pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3dlZWtkYXlzTWluW20uZGF5KCldO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxvY2FsZVdlZWtkYXlzUGFyc2UgKHdlZWtkYXlOYW1lKSB7XG4gICAgICAgIHZhciBpLCBtb20sIHJlZ2V4O1xuXG4gICAgICAgIHRoaXMuX3dlZWtkYXlzUGFyc2UgPSB0aGlzLl93ZWVrZGF5c1BhcnNlIHx8IFtdO1xuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCA3OyBpKyspIHtcbiAgICAgICAgICAgIC8vIG1ha2UgdGhlIHJlZ2V4IGlmIHdlIGRvbid0IGhhdmUgaXQgYWxyZWFkeVxuICAgICAgICAgICAgaWYgKCF0aGlzLl93ZWVrZGF5c1BhcnNlW2ldKSB7XG4gICAgICAgICAgICAgICAgbW9tID0gbG9jYWxfX2NyZWF0ZUxvY2FsKFsyMDAwLCAxXSkuZGF5KGkpO1xuICAgICAgICAgICAgICAgIHJlZ2V4ID0gJ14nICsgdGhpcy53ZWVrZGF5cyhtb20sICcnKSArICd8XicgKyB0aGlzLndlZWtkYXlzU2hvcnQobW9tLCAnJykgKyAnfF4nICsgdGhpcy53ZWVrZGF5c01pbihtb20sICcnKTtcbiAgICAgICAgICAgICAgICB0aGlzLl93ZWVrZGF5c1BhcnNlW2ldID0gbmV3IFJlZ0V4cChyZWdleC5yZXBsYWNlKCcuJywgJycpLCAnaScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gdGVzdCB0aGUgcmVnZXhcbiAgICAgICAgICAgIGlmICh0aGlzLl93ZWVrZGF5c1BhcnNlW2ldLnRlc3Qod2Vla2RheU5hbWUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBNT01FTlRTXG5cbiAgICBmdW5jdGlvbiBnZXRTZXREYXlPZldlZWsgKGlucHV0KSB7XG4gICAgICAgIHZhciBkYXkgPSB0aGlzLl9pc1VUQyA/IHRoaXMuX2QuZ2V0VVRDRGF5KCkgOiB0aGlzLl9kLmdldERheSgpO1xuICAgICAgICBpZiAoaW5wdXQgIT0gbnVsbCkge1xuICAgICAgICAgICAgaW5wdXQgPSBwYXJzZVdlZWtkYXkoaW5wdXQsIHRoaXMubG9jYWxlRGF0YSgpKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmFkZChpbnB1dCAtIGRheSwgJ2QnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBkYXk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRTZXRMb2NhbGVEYXlPZldlZWsgKGlucHV0KSB7XG4gICAgICAgIHZhciB3ZWVrZGF5ID0gKHRoaXMuZGF5KCkgKyA3IC0gdGhpcy5sb2NhbGVEYXRhKCkuX3dlZWsuZG93KSAlIDc7XG4gICAgICAgIHJldHVybiBpbnB1dCA9PSBudWxsID8gd2Vla2RheSA6IHRoaXMuYWRkKGlucHV0IC0gd2Vla2RheSwgJ2QnKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRTZXRJU09EYXlPZldlZWsgKGlucHV0KSB7XG4gICAgICAgIC8vIGJlaGF2ZXMgdGhlIHNhbWUgYXMgbW9tZW50I2RheSBleGNlcHRcbiAgICAgICAgLy8gYXMgYSBnZXR0ZXIsIHJldHVybnMgNyBpbnN0ZWFkIG9mIDAgKDEtNyByYW5nZSBpbnN0ZWFkIG9mIDAtNilcbiAgICAgICAgLy8gYXMgYSBzZXR0ZXIsIHN1bmRheSBzaG91bGQgYmVsb25nIHRvIHRoZSBwcmV2aW91cyB3ZWVrLlxuICAgICAgICByZXR1cm4gaW5wdXQgPT0gbnVsbCA/IHRoaXMuZGF5KCkgfHwgNyA6IHRoaXMuZGF5KHRoaXMuZGF5KCkgJSA3ID8gaW5wdXQgOiBpbnB1dCAtIDcpO1xuICAgIH1cblxuICAgIGFkZEZvcm1hdFRva2VuKCdIJywgWydISCcsIDJdLCAwLCAnaG91cicpO1xuICAgIGFkZEZvcm1hdFRva2VuKCdoJywgWydoaCcsIDJdLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmhvdXJzKCkgJSAxMiB8fCAxMjtcbiAgICB9KTtcblxuICAgIGZ1bmN0aW9uIG1lcmlkaWVtICh0b2tlbiwgbG93ZXJjYXNlKSB7XG4gICAgICAgIGFkZEZvcm1hdFRva2VuKHRva2VuLCAwLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkubWVyaWRpZW0odGhpcy5ob3VycygpLCB0aGlzLm1pbnV0ZXMoKSwgbG93ZXJjYXNlKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgbWVyaWRpZW0oJ2EnLCB0cnVlKTtcbiAgICBtZXJpZGllbSgnQScsIGZhbHNlKTtcblxuICAgIC8vIEFMSUFTRVNcblxuICAgIGFkZFVuaXRBbGlhcygnaG91cicsICdoJyk7XG5cbiAgICAvLyBQQVJTSU5HXG5cbiAgICBmdW5jdGlvbiBtYXRjaE1lcmlkaWVtIChpc1N0cmljdCwgbG9jYWxlKSB7XG4gICAgICAgIHJldHVybiBsb2NhbGUuX21lcmlkaWVtUGFyc2U7XG4gICAgfVxuXG4gICAgYWRkUmVnZXhUb2tlbignYScsICBtYXRjaE1lcmlkaWVtKTtcbiAgICBhZGRSZWdleFRva2VuKCdBJywgIG1hdGNoTWVyaWRpZW0pO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ0gnLCAgbWF0Y2gxdG8yKTtcbiAgICBhZGRSZWdleFRva2VuKCdoJywgIG1hdGNoMXRvMik7XG4gICAgYWRkUmVnZXhUb2tlbignSEgnLCBtYXRjaDF0bzIsIG1hdGNoMik7XG4gICAgYWRkUmVnZXhUb2tlbignaGgnLCBtYXRjaDF0bzIsIG1hdGNoMik7XG5cbiAgICBhZGRQYXJzZVRva2VuKFsnSCcsICdISCddLCBIT1VSKTtcbiAgICBhZGRQYXJzZVRva2VuKFsnYScsICdBJ10sIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZykge1xuICAgICAgICBjb25maWcuX2lzUG0gPSBjb25maWcuX2xvY2FsZS5pc1BNKGlucHV0KTtcbiAgICAgICAgY29uZmlnLl9tZXJpZGllbSA9IGlucHV0O1xuICAgIH0pO1xuICAgIGFkZFBhcnNlVG9rZW4oWydoJywgJ2hoJ10sIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZykge1xuICAgICAgICBhcnJheVtIT1VSXSA9IHRvSW50KGlucHV0KTtcbiAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuYmlnSG91ciA9IHRydWU7XG4gICAgfSk7XG5cbiAgICAvLyBMT0NBTEVTXG5cbiAgICBmdW5jdGlvbiBsb2NhbGVJc1BNIChpbnB1dCkge1xuICAgICAgICAvLyBJRTggUXVpcmtzIE1vZGUgJiBJRTcgU3RhbmRhcmRzIE1vZGUgZG8gbm90IGFsbG93IGFjY2Vzc2luZyBzdHJpbmdzIGxpa2UgYXJyYXlzXG4gICAgICAgIC8vIFVzaW5nIGNoYXJBdCBzaG91bGQgYmUgbW9yZSBjb21wYXRpYmxlLlxuICAgICAgICByZXR1cm4gKChpbnB1dCArICcnKS50b0xvd2VyQ2FzZSgpLmNoYXJBdCgwKSA9PT0gJ3AnKTtcbiAgICB9XG5cbiAgICB2YXIgZGVmYXVsdExvY2FsZU1lcmlkaWVtUGFyc2UgPSAvW2FwXVxcLj9tP1xcLj8vaTtcbiAgICBmdW5jdGlvbiBsb2NhbGVNZXJpZGllbSAoaG91cnMsIG1pbnV0ZXMsIGlzTG93ZXIpIHtcbiAgICAgICAgaWYgKGhvdXJzID4gMTEpIHtcbiAgICAgICAgICAgIHJldHVybiBpc0xvd2VyID8gJ3BtJyA6ICdQTSc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gaXNMb3dlciA/ICdhbScgOiAnQU0nO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICAvLyBNT01FTlRTXG5cbiAgICAvLyBTZXR0aW5nIHRoZSBob3VyIHNob3VsZCBrZWVwIHRoZSB0aW1lLCBiZWNhdXNlIHRoZSB1c2VyIGV4cGxpY2l0bHlcbiAgICAvLyBzcGVjaWZpZWQgd2hpY2ggaG91ciBoZSB3YW50cy4gU28gdHJ5aW5nIHRvIG1haW50YWluIHRoZSBzYW1lIGhvdXIgKGluXG4gICAgLy8gYSBuZXcgdGltZXpvbmUpIG1ha2VzIHNlbnNlLiBBZGRpbmcvc3VidHJhY3RpbmcgaG91cnMgZG9lcyBub3QgZm9sbG93XG4gICAgLy8gdGhpcyBydWxlLlxuICAgIHZhciBnZXRTZXRIb3VyID0gbWFrZUdldFNldCgnSG91cnMnLCB0cnVlKTtcblxuICAgIGFkZEZvcm1hdFRva2VuKCdtJywgWydtbScsIDJdLCAwLCAnbWludXRlJyk7XG5cbiAgICAvLyBBTElBU0VTXG5cbiAgICBhZGRVbml0QWxpYXMoJ21pbnV0ZScsICdtJyk7XG5cbiAgICAvLyBQQVJTSU5HXG5cbiAgICBhZGRSZWdleFRva2VuKCdtJywgIG1hdGNoMXRvMik7XG4gICAgYWRkUmVnZXhUb2tlbignbW0nLCBtYXRjaDF0bzIsIG1hdGNoMik7XG4gICAgYWRkUGFyc2VUb2tlbihbJ20nLCAnbW0nXSwgTUlOVVRFKTtcblxuICAgIC8vIE1PTUVOVFNcblxuICAgIHZhciBnZXRTZXRNaW51dGUgPSBtYWtlR2V0U2V0KCdNaW51dGVzJywgZmFsc2UpO1xuXG4gICAgYWRkRm9ybWF0VG9rZW4oJ3MnLCBbJ3NzJywgMl0sIDAsICdzZWNvbmQnKTtcblxuICAgIC8vIEFMSUFTRVNcblxuICAgIGFkZFVuaXRBbGlhcygnc2Vjb25kJywgJ3MnKTtcblxuICAgIC8vIFBBUlNJTkdcblxuICAgIGFkZFJlZ2V4VG9rZW4oJ3MnLCAgbWF0Y2gxdG8yKTtcbiAgICBhZGRSZWdleFRva2VuKCdzcycsIG1hdGNoMXRvMiwgbWF0Y2gyKTtcbiAgICBhZGRQYXJzZVRva2VuKFsncycsICdzcyddLCBTRUNPTkQpO1xuXG4gICAgLy8gTU9NRU5UU1xuXG4gICAgdmFyIGdldFNldFNlY29uZCA9IG1ha2VHZXRTZXQoJ1NlY29uZHMnLCBmYWxzZSk7XG5cbiAgICBhZGRGb3JtYXRUb2tlbignUycsIDAsIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIH5+KHRoaXMubWlsbGlzZWNvbmQoKSAvIDEwMCk7XG4gICAgfSk7XG5cbiAgICBhZGRGb3JtYXRUb2tlbigwLCBbJ1NTJywgMl0sIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIH5+KHRoaXMubWlsbGlzZWNvbmQoKSAvIDEwKTtcbiAgICB9KTtcblxuICAgIGFkZEZvcm1hdFRva2VuKDAsIFsnU1NTJywgM10sIDAsICdtaWxsaXNlY29uZCcpO1xuICAgIGFkZEZvcm1hdFRva2VuKDAsIFsnU1NTUycsIDRdLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1pbGxpc2Vjb25kKCkgKiAxMDtcbiAgICB9KTtcbiAgICBhZGRGb3JtYXRUb2tlbigwLCBbJ1NTU1NTJywgNV0sIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWlsbGlzZWNvbmQoKSAqIDEwMDtcbiAgICB9KTtcbiAgICBhZGRGb3JtYXRUb2tlbigwLCBbJ1NTU1NTUycsIDZdLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1pbGxpc2Vjb25kKCkgKiAxMDAwO1xuICAgIH0pO1xuICAgIGFkZEZvcm1hdFRva2VuKDAsIFsnU1NTU1NTUycsIDddLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1pbGxpc2Vjb25kKCkgKiAxMDAwMDtcbiAgICB9KTtcbiAgICBhZGRGb3JtYXRUb2tlbigwLCBbJ1NTU1NTU1NTJywgOF0sIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWlsbGlzZWNvbmQoKSAqIDEwMDAwMDtcbiAgICB9KTtcbiAgICBhZGRGb3JtYXRUb2tlbigwLCBbJ1NTU1NTU1NTUycsIDldLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1pbGxpc2Vjb25kKCkgKiAxMDAwMDAwO1xuICAgIH0pO1xuXG5cbiAgICAvLyBBTElBU0VTXG5cbiAgICBhZGRVbml0QWxpYXMoJ21pbGxpc2Vjb25kJywgJ21zJyk7XG5cbiAgICAvLyBQQVJTSU5HXG5cbiAgICBhZGRSZWdleFRva2VuKCdTJywgICAgbWF0Y2gxdG8zLCBtYXRjaDEpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ1NTJywgICBtYXRjaDF0bzMsIG1hdGNoMik7XG4gICAgYWRkUmVnZXhUb2tlbignU1NTJywgIG1hdGNoMXRvMywgbWF0Y2gzKTtcblxuICAgIHZhciB0b2tlbjtcbiAgICBmb3IgKHRva2VuID0gJ1NTU1MnOyB0b2tlbi5sZW5ndGggPD0gOTsgdG9rZW4gKz0gJ1MnKSB7XG4gICAgICAgIGFkZFJlZ2V4VG9rZW4odG9rZW4sIG1hdGNoVW5zaWduZWQpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBhcnNlTXMoaW5wdXQsIGFycmF5KSB7XG4gICAgICAgIGFycmF5W01JTExJU0VDT05EXSA9IHRvSW50KCgnMC4nICsgaW5wdXQpICogMTAwMCk7XG4gICAgfVxuXG4gICAgZm9yICh0b2tlbiA9ICdTJzsgdG9rZW4ubGVuZ3RoIDw9IDk7IHRva2VuICs9ICdTJykge1xuICAgICAgICBhZGRQYXJzZVRva2VuKHRva2VuLCBwYXJzZU1zKTtcbiAgICB9XG4gICAgLy8gTU9NRU5UU1xuXG4gICAgdmFyIGdldFNldE1pbGxpc2Vjb25kID0gbWFrZUdldFNldCgnTWlsbGlzZWNvbmRzJywgZmFsc2UpO1xuXG4gICAgYWRkRm9ybWF0VG9rZW4oJ3onLCAgMCwgMCwgJ3pvbmVBYmJyJyk7XG4gICAgYWRkRm9ybWF0VG9rZW4oJ3p6JywgMCwgMCwgJ3pvbmVOYW1lJyk7XG5cbiAgICAvLyBNT01FTlRTXG5cbiAgICBmdW5jdGlvbiBnZXRab25lQWJiciAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pc1VUQyA/ICdVVEMnIDogJyc7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0Wm9uZU5hbWUgKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faXNVVEMgPyAnQ29vcmRpbmF0ZWQgVW5pdmVyc2FsIFRpbWUnIDogJyc7XG4gICAgfVxuXG4gICAgdmFyIG1vbWVudFByb3RvdHlwZV9fcHJvdG8gPSBNb21lbnQucHJvdG90eXBlO1xuXG4gICAgbW9tZW50UHJvdG90eXBlX19wcm90by5hZGQgICAgICAgICAgPSBhZGRfc3VidHJhY3RfX2FkZDtcbiAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLmNhbGVuZGFyICAgICA9IG1vbWVudF9jYWxlbmRhcl9fY2FsZW5kYXI7XG4gICAgbW9tZW50UHJvdG90eXBlX19wcm90by5jbG9uZSAgICAgICAgPSBjbG9uZTtcbiAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLmRpZmYgICAgICAgICA9IGRpZmY7XG4gICAgbW9tZW50UHJvdG90eXBlX19wcm90by5lbmRPZiAgICAgICAgPSBlbmRPZjtcbiAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLmZvcm1hdCAgICAgICA9IGZvcm1hdDtcbiAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLmZyb20gICAgICAgICA9IGZyb207XG4gICAgbW9tZW50UHJvdG90eXBlX19wcm90by5mcm9tTm93ICAgICAgPSBmcm9tTm93O1xuICAgIG1vbWVudFByb3RvdHlwZV9fcHJvdG8udG8gICAgICAgICAgID0gdG87XG4gICAgbW9tZW50UHJvdG90eXBlX19wcm90by50b05vdyAgICAgICAgPSB0b05vdztcbiAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLmdldCAgICAgICAgICA9IGdldFNldDtcbiAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLmludmFsaWRBdCAgICA9IGludmFsaWRBdDtcbiAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLmlzQWZ0ZXIgICAgICA9IGlzQWZ0ZXI7XG4gICAgbW9tZW50UHJvdG90eXBlX19wcm90by5pc0JlZm9yZSAgICAgPSBpc0JlZm9yZTtcbiAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLmlzQmV0d2VlbiAgICA9IGlzQmV0d2VlbjtcbiAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLmlzU2FtZSAgICAgICA9IGlzU2FtZTtcbiAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLmlzVmFsaWQgICAgICA9IG1vbWVudF92YWxpZF9faXNWYWxpZDtcbiAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLmxhbmcgICAgICAgICA9IGxhbmc7XG4gICAgbW9tZW50UHJvdG90eXBlX19wcm90by5sb2NhbGUgICAgICAgPSBsb2NhbGU7XG4gICAgbW9tZW50UHJvdG90eXBlX19wcm90by5sb2NhbGVEYXRhICAgPSBsb2NhbGVEYXRhO1xuICAgIG1vbWVudFByb3RvdHlwZV9fcHJvdG8ubWF4ICAgICAgICAgID0gcHJvdG90eXBlTWF4O1xuICAgIG1vbWVudFByb3RvdHlwZV9fcHJvdG8ubWluICAgICAgICAgID0gcHJvdG90eXBlTWluO1xuICAgIG1vbWVudFByb3RvdHlwZV9fcHJvdG8ucGFyc2luZ0ZsYWdzID0gcGFyc2luZ0ZsYWdzO1xuICAgIG1vbWVudFByb3RvdHlwZV9fcHJvdG8uc2V0ICAgICAgICAgID0gZ2V0U2V0O1xuICAgIG1vbWVudFByb3RvdHlwZV9fcHJvdG8uc3RhcnRPZiAgICAgID0gc3RhcnRPZjtcbiAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLnN1YnRyYWN0ICAgICA9IGFkZF9zdWJ0cmFjdF9fc3VidHJhY3Q7XG4gICAgbW9tZW50UHJvdG90eXBlX19wcm90by50b0FycmF5ICAgICAgPSB0b0FycmF5O1xuICAgIG1vbWVudFByb3RvdHlwZV9fcHJvdG8udG9PYmplY3QgICAgID0gdG9PYmplY3Q7XG4gICAgbW9tZW50UHJvdG90eXBlX19wcm90by50b0RhdGUgICAgICAgPSB0b0RhdGU7XG4gICAgbW9tZW50UHJvdG90eXBlX19wcm90by50b0lTT1N0cmluZyAgPSBtb21lbnRfZm9ybWF0X190b0lTT1N0cmluZztcbiAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLnRvSlNPTiAgICAgICA9IG1vbWVudF9mb3JtYXRfX3RvSVNPU3RyaW5nO1xuICAgIG1vbWVudFByb3RvdHlwZV9fcHJvdG8udG9TdHJpbmcgICAgID0gdG9TdHJpbmc7XG4gICAgbW9tZW50UHJvdG90eXBlX19wcm90by51bml4ICAgICAgICAgPSB1bml4O1xuICAgIG1vbWVudFByb3RvdHlwZV9fcHJvdG8udmFsdWVPZiAgICAgID0gdG9fdHlwZV9fdmFsdWVPZjtcblxuICAgIC8vIFllYXJcbiAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLnllYXIgICAgICAgPSBnZXRTZXRZZWFyO1xuICAgIG1vbWVudFByb3RvdHlwZV9fcHJvdG8uaXNMZWFwWWVhciA9IGdldElzTGVhcFllYXI7XG5cbiAgICAvLyBXZWVrIFllYXJcbiAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLndlZWtZZWFyICAgID0gZ2V0U2V0V2Vla1llYXI7XG4gICAgbW9tZW50UHJvdG90eXBlX19wcm90by5pc29XZWVrWWVhciA9IGdldFNldElTT1dlZWtZZWFyO1xuXG4gICAgLy8gUXVhcnRlclxuICAgIG1vbWVudFByb3RvdHlwZV9fcHJvdG8ucXVhcnRlciA9IG1vbWVudFByb3RvdHlwZV9fcHJvdG8ucXVhcnRlcnMgPSBnZXRTZXRRdWFydGVyO1xuXG4gICAgLy8gTW9udGhcbiAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLm1vbnRoICAgICAgID0gZ2V0U2V0TW9udGg7XG4gICAgbW9tZW50UHJvdG90eXBlX19wcm90by5kYXlzSW5Nb250aCA9IGdldERheXNJbk1vbnRoO1xuXG4gICAgLy8gV2Vla1xuICAgIG1vbWVudFByb3RvdHlwZV9fcHJvdG8ud2VlayAgICAgICAgICAgPSBtb21lbnRQcm90b3R5cGVfX3Byb3RvLndlZWtzICAgICAgICA9IGdldFNldFdlZWs7XG4gICAgbW9tZW50UHJvdG90eXBlX19wcm90by5pc29XZWVrICAgICAgICA9IG1vbWVudFByb3RvdHlwZV9fcHJvdG8uaXNvV2Vla3MgICAgID0gZ2V0U2V0SVNPV2VlaztcbiAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLndlZWtzSW5ZZWFyICAgID0gZ2V0V2Vla3NJblllYXI7XG4gICAgbW9tZW50UHJvdG90eXBlX19wcm90by5pc29XZWVrc0luWWVhciA9IGdldElTT1dlZWtzSW5ZZWFyO1xuXG4gICAgLy8gRGF5XG4gICAgbW9tZW50UHJvdG90eXBlX19wcm90by5kYXRlICAgICAgID0gZ2V0U2V0RGF5T2ZNb250aDtcbiAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLmRheSAgICAgICAgPSBtb21lbnRQcm90b3R5cGVfX3Byb3RvLmRheXMgICAgICAgICAgICAgPSBnZXRTZXREYXlPZldlZWs7XG4gICAgbW9tZW50UHJvdG90eXBlX19wcm90by53ZWVrZGF5ICAgID0gZ2V0U2V0TG9jYWxlRGF5T2ZXZWVrO1xuICAgIG1vbWVudFByb3RvdHlwZV9fcHJvdG8uaXNvV2Vla2RheSA9IGdldFNldElTT0RheU9mV2VlaztcbiAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLmRheU9mWWVhciAgPSBnZXRTZXREYXlPZlllYXI7XG5cbiAgICAvLyBIb3VyXG4gICAgbW9tZW50UHJvdG90eXBlX19wcm90by5ob3VyID0gbW9tZW50UHJvdG90eXBlX19wcm90by5ob3VycyA9IGdldFNldEhvdXI7XG5cbiAgICAvLyBNaW51dGVcbiAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLm1pbnV0ZSA9IG1vbWVudFByb3RvdHlwZV9fcHJvdG8ubWludXRlcyA9IGdldFNldE1pbnV0ZTtcblxuICAgIC8vIFNlY29uZFxuICAgIG1vbWVudFByb3RvdHlwZV9fcHJvdG8uc2Vjb25kID0gbW9tZW50UHJvdG90eXBlX19wcm90by5zZWNvbmRzID0gZ2V0U2V0U2Vjb25kO1xuXG4gICAgLy8gTWlsbGlzZWNvbmRcbiAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLm1pbGxpc2Vjb25kID0gbW9tZW50UHJvdG90eXBlX19wcm90by5taWxsaXNlY29uZHMgPSBnZXRTZXRNaWxsaXNlY29uZDtcblxuICAgIC8vIE9mZnNldFxuICAgIG1vbWVudFByb3RvdHlwZV9fcHJvdG8udXRjT2Zmc2V0ICAgICAgICAgICAgPSBnZXRTZXRPZmZzZXQ7XG4gICAgbW9tZW50UHJvdG90eXBlX19wcm90by51dGMgICAgICAgICAgICAgICAgICA9IHNldE9mZnNldFRvVVRDO1xuICAgIG1vbWVudFByb3RvdHlwZV9fcHJvdG8ubG9jYWwgICAgICAgICAgICAgICAgPSBzZXRPZmZzZXRUb0xvY2FsO1xuICAgIG1vbWVudFByb3RvdHlwZV9fcHJvdG8ucGFyc2Vab25lICAgICAgICAgICAgPSBzZXRPZmZzZXRUb1BhcnNlZE9mZnNldDtcbiAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLmhhc0FsaWduZWRIb3VyT2Zmc2V0ID0gaGFzQWxpZ25lZEhvdXJPZmZzZXQ7XG4gICAgbW9tZW50UHJvdG90eXBlX19wcm90by5pc0RTVCAgICAgICAgICAgICAgICA9IGlzRGF5bGlnaHRTYXZpbmdUaW1lO1xuICAgIG1vbWVudFByb3RvdHlwZV9fcHJvdG8uaXNEU1RTaGlmdGVkICAgICAgICAgPSBpc0RheWxpZ2h0U2F2aW5nVGltZVNoaWZ0ZWQ7XG4gICAgbW9tZW50UHJvdG90eXBlX19wcm90by5pc0xvY2FsICAgICAgICAgICAgICA9IGlzTG9jYWw7XG4gICAgbW9tZW50UHJvdG90eXBlX19wcm90by5pc1V0Y09mZnNldCAgICAgICAgICA9IGlzVXRjT2Zmc2V0O1xuICAgIG1vbWVudFByb3RvdHlwZV9fcHJvdG8uaXNVdGMgICAgICAgICAgICAgICAgPSBpc1V0YztcbiAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLmlzVVRDICAgICAgICAgICAgICAgID0gaXNVdGM7XG5cbiAgICAvLyBUaW1lem9uZVxuICAgIG1vbWVudFByb3RvdHlwZV9fcHJvdG8uem9uZUFiYnIgPSBnZXRab25lQWJicjtcbiAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLnpvbmVOYW1lID0gZ2V0Wm9uZU5hbWU7XG5cbiAgICAvLyBEZXByZWNhdGlvbnNcbiAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLmRhdGVzICA9IGRlcHJlY2F0ZSgnZGF0ZXMgYWNjZXNzb3IgaXMgZGVwcmVjYXRlZC4gVXNlIGRhdGUgaW5zdGVhZC4nLCBnZXRTZXREYXlPZk1vbnRoKTtcbiAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLm1vbnRocyA9IGRlcHJlY2F0ZSgnbW9udGhzIGFjY2Vzc29yIGlzIGRlcHJlY2F0ZWQuIFVzZSBtb250aCBpbnN0ZWFkJywgZ2V0U2V0TW9udGgpO1xuICAgIG1vbWVudFByb3RvdHlwZV9fcHJvdG8ueWVhcnMgID0gZGVwcmVjYXRlKCd5ZWFycyBhY2Nlc3NvciBpcyBkZXByZWNhdGVkLiBVc2UgeWVhciBpbnN0ZWFkJywgZ2V0U2V0WWVhcik7XG4gICAgbW9tZW50UHJvdG90eXBlX19wcm90by56b25lICAgPSBkZXByZWNhdGUoJ21vbWVudCgpLnpvbmUgaXMgZGVwcmVjYXRlZCwgdXNlIG1vbWVudCgpLnV0Y09mZnNldCBpbnN0ZWFkLiBodHRwczovL2dpdGh1Yi5jb20vbW9tZW50L21vbWVudC9pc3N1ZXMvMTc3OScsIGdldFNldFpvbmUpO1xuXG4gICAgdmFyIG1vbWVudFByb3RvdHlwZSA9IG1vbWVudFByb3RvdHlwZV9fcHJvdG87XG5cbiAgICBmdW5jdGlvbiBtb21lbnRfX2NyZWF0ZVVuaXggKGlucHV0KSB7XG4gICAgICAgIHJldHVybiBsb2NhbF9fY3JlYXRlTG9jYWwoaW5wdXQgKiAxMDAwKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtb21lbnRfX2NyZWF0ZUluWm9uZSAoKSB7XG4gICAgICAgIHJldHVybiBsb2NhbF9fY3JlYXRlTG9jYWwuYXBwbHkobnVsbCwgYXJndW1lbnRzKS5wYXJzZVpvbmUoKTtcbiAgICB9XG5cbiAgICB2YXIgZGVmYXVsdENhbGVuZGFyID0ge1xuICAgICAgICBzYW1lRGF5IDogJ1tUb2RheSBhdF0gTFQnLFxuICAgICAgICBuZXh0RGF5IDogJ1tUb21vcnJvdyBhdF0gTFQnLFxuICAgICAgICBuZXh0V2VlayA6ICdkZGRkIFthdF0gTFQnLFxuICAgICAgICBsYXN0RGF5IDogJ1tZZXN0ZXJkYXkgYXRdIExUJyxcbiAgICAgICAgbGFzdFdlZWsgOiAnW0xhc3RdIGRkZGQgW2F0XSBMVCcsXG4gICAgICAgIHNhbWVFbHNlIDogJ0wnXG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGxvY2FsZV9jYWxlbmRhcl9fY2FsZW5kYXIgKGtleSwgbW9tLCBub3cpIHtcbiAgICAgICAgdmFyIG91dHB1dCA9IHRoaXMuX2NhbGVuZGFyW2tleV07XG4gICAgICAgIHJldHVybiB0eXBlb2Ygb3V0cHV0ID09PSAnZnVuY3Rpb24nID8gb3V0cHV0LmNhbGwobW9tLCBub3cpIDogb3V0cHV0O1xuICAgIH1cblxuICAgIHZhciBkZWZhdWx0TG9uZ0RhdGVGb3JtYXQgPSB7XG4gICAgICAgIExUUyAgOiAnaDptbTpzcyBBJyxcbiAgICAgICAgTFQgICA6ICdoOm1tIEEnLFxuICAgICAgICBMICAgIDogJ01NL0REL1lZWVknLFxuICAgICAgICBMTCAgIDogJ01NTU0gRCwgWVlZWScsXG4gICAgICAgIExMTCAgOiAnTU1NTSBELCBZWVlZIGg6bW0gQScsXG4gICAgICAgIExMTEwgOiAnZGRkZCwgTU1NTSBELCBZWVlZIGg6bW0gQSdcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gbG9uZ0RhdGVGb3JtYXQgKGtleSkge1xuICAgICAgICB2YXIgZm9ybWF0ID0gdGhpcy5fbG9uZ0RhdGVGb3JtYXRba2V5XSxcbiAgICAgICAgICAgIGZvcm1hdFVwcGVyID0gdGhpcy5fbG9uZ0RhdGVGb3JtYXRba2V5LnRvVXBwZXJDYXNlKCldO1xuXG4gICAgICAgIGlmIChmb3JtYXQgfHwgIWZvcm1hdFVwcGVyKSB7XG4gICAgICAgICAgICByZXR1cm4gZm9ybWF0O1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fbG9uZ0RhdGVGb3JtYXRba2V5XSA9IGZvcm1hdFVwcGVyLnJlcGxhY2UoL01NTU18TU18RER8ZGRkZC9nLCBmdW5jdGlvbiAodmFsKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsLnNsaWNlKDEpO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gdGhpcy5fbG9uZ0RhdGVGb3JtYXRba2V5XTtcbiAgICB9XG5cbiAgICB2YXIgZGVmYXVsdEludmFsaWREYXRlID0gJ0ludmFsaWQgZGF0ZSc7XG5cbiAgICBmdW5jdGlvbiBpbnZhbGlkRGF0ZSAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbnZhbGlkRGF0ZTtcbiAgICB9XG5cbiAgICB2YXIgZGVmYXVsdE9yZGluYWwgPSAnJWQnO1xuICAgIHZhciBkZWZhdWx0T3JkaW5hbFBhcnNlID0gL1xcZHsxLDJ9LztcblxuICAgIGZ1bmN0aW9uIG9yZGluYWwgKG51bWJlcikge1xuICAgICAgICByZXR1cm4gdGhpcy5fb3JkaW5hbC5yZXBsYWNlKCclZCcsIG51bWJlcik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcHJlUGFyc2VQb3N0Rm9ybWF0IChzdHJpbmcpIHtcbiAgICAgICAgcmV0dXJuIHN0cmluZztcbiAgICB9XG5cbiAgICB2YXIgZGVmYXVsdFJlbGF0aXZlVGltZSA9IHtcbiAgICAgICAgZnV0dXJlIDogJ2luICVzJyxcbiAgICAgICAgcGFzdCAgIDogJyVzIGFnbycsXG4gICAgICAgIHMgIDogJ2EgZmV3IHNlY29uZHMnLFxuICAgICAgICBtICA6ICdhIG1pbnV0ZScsXG4gICAgICAgIG1tIDogJyVkIG1pbnV0ZXMnLFxuICAgICAgICBoICA6ICdhbiBob3VyJyxcbiAgICAgICAgaGggOiAnJWQgaG91cnMnLFxuICAgICAgICBkICA6ICdhIGRheScsXG4gICAgICAgIGRkIDogJyVkIGRheXMnLFxuICAgICAgICBNICA6ICdhIG1vbnRoJyxcbiAgICAgICAgTU0gOiAnJWQgbW9udGhzJyxcbiAgICAgICAgeSAgOiAnYSB5ZWFyJyxcbiAgICAgICAgeXkgOiAnJWQgeWVhcnMnXG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIHJlbGF0aXZlX19yZWxhdGl2ZVRpbWUgKG51bWJlciwgd2l0aG91dFN1ZmZpeCwgc3RyaW5nLCBpc0Z1dHVyZSkge1xuICAgICAgICB2YXIgb3V0cHV0ID0gdGhpcy5fcmVsYXRpdmVUaW1lW3N0cmluZ107XG4gICAgICAgIHJldHVybiAodHlwZW9mIG91dHB1dCA9PT0gJ2Z1bmN0aW9uJykgP1xuICAgICAgICAgICAgb3V0cHV0KG51bWJlciwgd2l0aG91dFN1ZmZpeCwgc3RyaW5nLCBpc0Z1dHVyZSkgOlxuICAgICAgICAgICAgb3V0cHV0LnJlcGxhY2UoLyVkL2ksIG51bWJlcik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcGFzdEZ1dHVyZSAoZGlmZiwgb3V0cHV0KSB7XG4gICAgICAgIHZhciBmb3JtYXQgPSB0aGlzLl9yZWxhdGl2ZVRpbWVbZGlmZiA+IDAgPyAnZnV0dXJlJyA6ICdwYXN0J107XG4gICAgICAgIHJldHVybiB0eXBlb2YgZm9ybWF0ID09PSAnZnVuY3Rpb24nID8gZm9ybWF0KG91dHB1dCkgOiBmb3JtYXQucmVwbGFjZSgvJXMvaSwgb3V0cHV0KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsb2NhbGVfc2V0X19zZXQgKGNvbmZpZykge1xuICAgICAgICB2YXIgcHJvcCwgaTtcbiAgICAgICAgZm9yIChpIGluIGNvbmZpZykge1xuICAgICAgICAgICAgcHJvcCA9IGNvbmZpZ1tpXTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgcHJvcCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIHRoaXNbaV0gPSBwcm9wO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzWydfJyArIGldID0gcHJvcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBMZW5pZW50IG9yZGluYWwgcGFyc2luZyBhY2NlcHRzIGp1c3QgYSBudW1iZXIgaW4gYWRkaXRpb24gdG9cbiAgICAgICAgLy8gbnVtYmVyICsgKHBvc3NpYmx5KSBzdHVmZiBjb21pbmcgZnJvbSBfb3JkaW5hbFBhcnNlTGVuaWVudC5cbiAgICAgICAgdGhpcy5fb3JkaW5hbFBhcnNlTGVuaWVudCA9IG5ldyBSZWdFeHAodGhpcy5fb3JkaW5hbFBhcnNlLnNvdXJjZSArICd8JyArICgvXFxkezEsMn0vKS5zb3VyY2UpO1xuICAgIH1cblxuICAgIHZhciBwcm90b3R5cGVfX3Byb3RvID0gTG9jYWxlLnByb3RvdHlwZTtcblxuICAgIHByb3RvdHlwZV9fcHJvdG8uX2NhbGVuZGFyICAgICAgID0gZGVmYXVsdENhbGVuZGFyO1xuICAgIHByb3RvdHlwZV9fcHJvdG8uY2FsZW5kYXIgICAgICAgID0gbG9jYWxlX2NhbGVuZGFyX19jYWxlbmRhcjtcbiAgICBwcm90b3R5cGVfX3Byb3RvLl9sb25nRGF0ZUZvcm1hdCA9IGRlZmF1bHRMb25nRGF0ZUZvcm1hdDtcbiAgICBwcm90b3R5cGVfX3Byb3RvLmxvbmdEYXRlRm9ybWF0ICA9IGxvbmdEYXRlRm9ybWF0O1xuICAgIHByb3RvdHlwZV9fcHJvdG8uX2ludmFsaWREYXRlICAgID0gZGVmYXVsdEludmFsaWREYXRlO1xuICAgIHByb3RvdHlwZV9fcHJvdG8uaW52YWxpZERhdGUgICAgID0gaW52YWxpZERhdGU7XG4gICAgcHJvdG90eXBlX19wcm90by5fb3JkaW5hbCAgICAgICAgPSBkZWZhdWx0T3JkaW5hbDtcbiAgICBwcm90b3R5cGVfX3Byb3RvLm9yZGluYWwgICAgICAgICA9IG9yZGluYWw7XG4gICAgcHJvdG90eXBlX19wcm90by5fb3JkaW5hbFBhcnNlICAgPSBkZWZhdWx0T3JkaW5hbFBhcnNlO1xuICAgIHByb3RvdHlwZV9fcHJvdG8ucHJlcGFyc2UgICAgICAgID0gcHJlUGFyc2VQb3N0Rm9ybWF0O1xuICAgIHByb3RvdHlwZV9fcHJvdG8ucG9zdGZvcm1hdCAgICAgID0gcHJlUGFyc2VQb3N0Rm9ybWF0O1xuICAgIHByb3RvdHlwZV9fcHJvdG8uX3JlbGF0aXZlVGltZSAgID0gZGVmYXVsdFJlbGF0aXZlVGltZTtcbiAgICBwcm90b3R5cGVfX3Byb3RvLnJlbGF0aXZlVGltZSAgICA9IHJlbGF0aXZlX19yZWxhdGl2ZVRpbWU7XG4gICAgcHJvdG90eXBlX19wcm90by5wYXN0RnV0dXJlICAgICAgPSBwYXN0RnV0dXJlO1xuICAgIHByb3RvdHlwZV9fcHJvdG8uc2V0ICAgICAgICAgICAgID0gbG9jYWxlX3NldF9fc2V0O1xuXG4gICAgLy8gTW9udGhcbiAgICBwcm90b3R5cGVfX3Byb3RvLm1vbnRocyAgICAgICA9ICAgICAgICBsb2NhbGVNb250aHM7XG4gICAgcHJvdG90eXBlX19wcm90by5fbW9udGhzICAgICAgPSBkZWZhdWx0TG9jYWxlTW9udGhzO1xuICAgIHByb3RvdHlwZV9fcHJvdG8ubW9udGhzU2hvcnQgID0gICAgICAgIGxvY2FsZU1vbnRoc1Nob3J0O1xuICAgIHByb3RvdHlwZV9fcHJvdG8uX21vbnRoc1Nob3J0ID0gZGVmYXVsdExvY2FsZU1vbnRoc1Nob3J0O1xuICAgIHByb3RvdHlwZV9fcHJvdG8ubW9udGhzUGFyc2UgID0gICAgICAgIGxvY2FsZU1vbnRoc1BhcnNlO1xuXG4gICAgLy8gV2Vla1xuICAgIHByb3RvdHlwZV9fcHJvdG8ud2VlayA9IGxvY2FsZVdlZWs7XG4gICAgcHJvdG90eXBlX19wcm90by5fd2VlayA9IGRlZmF1bHRMb2NhbGVXZWVrO1xuICAgIHByb3RvdHlwZV9fcHJvdG8uZmlyc3REYXlPZlllYXIgPSBsb2NhbGVGaXJzdERheU9mWWVhcjtcbiAgICBwcm90b3R5cGVfX3Byb3RvLmZpcnN0RGF5T2ZXZWVrID0gbG9jYWxlRmlyc3REYXlPZldlZWs7XG5cbiAgICAvLyBEYXkgb2YgV2Vla1xuICAgIHByb3RvdHlwZV9fcHJvdG8ud2Vla2RheXMgICAgICAgPSAgICAgICAgbG9jYWxlV2Vla2RheXM7XG4gICAgcHJvdG90eXBlX19wcm90by5fd2Vla2RheXMgICAgICA9IGRlZmF1bHRMb2NhbGVXZWVrZGF5cztcbiAgICBwcm90b3R5cGVfX3Byb3RvLndlZWtkYXlzTWluICAgID0gICAgICAgIGxvY2FsZVdlZWtkYXlzTWluO1xuICAgIHByb3RvdHlwZV9fcHJvdG8uX3dlZWtkYXlzTWluICAgPSBkZWZhdWx0TG9jYWxlV2Vla2RheXNNaW47XG4gICAgcHJvdG90eXBlX19wcm90by53ZWVrZGF5c1Nob3J0ICA9ICAgICAgICBsb2NhbGVXZWVrZGF5c1Nob3J0O1xuICAgIHByb3RvdHlwZV9fcHJvdG8uX3dlZWtkYXlzU2hvcnQgPSBkZWZhdWx0TG9jYWxlV2Vla2RheXNTaG9ydDtcbiAgICBwcm90b3R5cGVfX3Byb3RvLndlZWtkYXlzUGFyc2UgID0gICAgICAgIGxvY2FsZVdlZWtkYXlzUGFyc2U7XG5cbiAgICAvLyBIb3Vyc1xuICAgIHByb3RvdHlwZV9fcHJvdG8uaXNQTSA9IGxvY2FsZUlzUE07XG4gICAgcHJvdG90eXBlX19wcm90by5fbWVyaWRpZW1QYXJzZSA9IGRlZmF1bHRMb2NhbGVNZXJpZGllbVBhcnNlO1xuICAgIHByb3RvdHlwZV9fcHJvdG8ubWVyaWRpZW0gPSBsb2NhbGVNZXJpZGllbTtcblxuICAgIGZ1bmN0aW9uIGxpc3RzX19nZXQgKGZvcm1hdCwgaW5kZXgsIGZpZWxkLCBzZXR0ZXIpIHtcbiAgICAgICAgdmFyIGxvY2FsZSA9IGxvY2FsZV9sb2NhbGVzX19nZXRMb2NhbGUoKTtcbiAgICAgICAgdmFyIHV0YyA9IGNyZWF0ZV91dGNfX2NyZWF0ZVVUQygpLnNldChzZXR0ZXIsIGluZGV4KTtcbiAgICAgICAgcmV0dXJuIGxvY2FsZVtmaWVsZF0odXRjLCBmb3JtYXQpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpc3QgKGZvcm1hdCwgaW5kZXgsIGZpZWxkLCBjb3VudCwgc2V0dGVyKSB7XG4gICAgICAgIGlmICh0eXBlb2YgZm9ybWF0ID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgaW5kZXggPSBmb3JtYXQ7XG4gICAgICAgICAgICBmb3JtYXQgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cblxuICAgICAgICBmb3JtYXQgPSBmb3JtYXQgfHwgJyc7XG5cbiAgICAgICAgaWYgKGluZGV4ICE9IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBsaXN0c19fZ2V0KGZvcm1hdCwgaW5kZXgsIGZpZWxkLCBzZXR0ZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGk7XG4gICAgICAgIHZhciBvdXQgPSBbXTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGNvdW50OyBpKyspIHtcbiAgICAgICAgICAgIG91dFtpXSA9IGxpc3RzX19nZXQoZm9ybWF0LCBpLCBmaWVsZCwgc2V0dGVyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpc3RzX19saXN0TW9udGhzIChmb3JtYXQsIGluZGV4KSB7XG4gICAgICAgIHJldHVybiBsaXN0KGZvcm1hdCwgaW5kZXgsICdtb250aHMnLCAxMiwgJ21vbnRoJyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGlzdHNfX2xpc3RNb250aHNTaG9ydCAoZm9ybWF0LCBpbmRleCkge1xuICAgICAgICByZXR1cm4gbGlzdChmb3JtYXQsIGluZGV4LCAnbW9udGhzU2hvcnQnLCAxMiwgJ21vbnRoJyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGlzdHNfX2xpc3RXZWVrZGF5cyAoZm9ybWF0LCBpbmRleCkge1xuICAgICAgICByZXR1cm4gbGlzdChmb3JtYXQsIGluZGV4LCAnd2Vla2RheXMnLCA3LCAnZGF5Jyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGlzdHNfX2xpc3RXZWVrZGF5c1Nob3J0IChmb3JtYXQsIGluZGV4KSB7XG4gICAgICAgIHJldHVybiBsaXN0KGZvcm1hdCwgaW5kZXgsICd3ZWVrZGF5c1Nob3J0JywgNywgJ2RheScpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpc3RzX19saXN0V2Vla2RheXNNaW4gKGZvcm1hdCwgaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIGxpc3QoZm9ybWF0LCBpbmRleCwgJ3dlZWtkYXlzTWluJywgNywgJ2RheScpO1xuICAgIH1cblxuICAgIGxvY2FsZV9sb2NhbGVzX19nZXRTZXRHbG9iYWxMb2NhbGUoJ2VuJywge1xuICAgICAgICBvcmRpbmFsUGFyc2U6IC9cXGR7MSwyfSh0aHxzdHxuZHxyZCkvLFxuICAgICAgICBvcmRpbmFsIDogZnVuY3Rpb24gKG51bWJlcikge1xuICAgICAgICAgICAgdmFyIGIgPSBudW1iZXIgJSAxMCxcbiAgICAgICAgICAgICAgICBvdXRwdXQgPSAodG9JbnQobnVtYmVyICUgMTAwIC8gMTApID09PSAxKSA/ICd0aCcgOlxuICAgICAgICAgICAgICAgIChiID09PSAxKSA/ICdzdCcgOlxuICAgICAgICAgICAgICAgIChiID09PSAyKSA/ICduZCcgOlxuICAgICAgICAgICAgICAgIChiID09PSAzKSA/ICdyZCcgOiAndGgnO1xuICAgICAgICAgICAgcmV0dXJuIG51bWJlciArIG91dHB1dDtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gU2lkZSBlZmZlY3QgaW1wb3J0c1xuICAgIHV0aWxzX2hvb2tzX19ob29rcy5sYW5nID0gZGVwcmVjYXRlKCdtb21lbnQubGFuZyBpcyBkZXByZWNhdGVkLiBVc2UgbW9tZW50LmxvY2FsZSBpbnN0ZWFkLicsIGxvY2FsZV9sb2NhbGVzX19nZXRTZXRHbG9iYWxMb2NhbGUpO1xuICAgIHV0aWxzX2hvb2tzX19ob29rcy5sYW5nRGF0YSA9IGRlcHJlY2F0ZSgnbW9tZW50LmxhbmdEYXRhIGlzIGRlcHJlY2F0ZWQuIFVzZSBtb21lbnQubG9jYWxlRGF0YSBpbnN0ZWFkLicsIGxvY2FsZV9sb2NhbGVzX19nZXRMb2NhbGUpO1xuXG4gICAgdmFyIG1hdGhBYnMgPSBNYXRoLmFicztcblxuICAgIGZ1bmN0aW9uIGR1cmF0aW9uX2Fic19fYWJzICgpIHtcbiAgICAgICAgdmFyIGRhdGEgICAgICAgICAgID0gdGhpcy5fZGF0YTtcblxuICAgICAgICB0aGlzLl9taWxsaXNlY29uZHMgPSBtYXRoQWJzKHRoaXMuX21pbGxpc2Vjb25kcyk7XG4gICAgICAgIHRoaXMuX2RheXMgICAgICAgICA9IG1hdGhBYnModGhpcy5fZGF5cyk7XG4gICAgICAgIHRoaXMuX21vbnRocyAgICAgICA9IG1hdGhBYnModGhpcy5fbW9udGhzKTtcblxuICAgICAgICBkYXRhLm1pbGxpc2Vjb25kcyAgPSBtYXRoQWJzKGRhdGEubWlsbGlzZWNvbmRzKTtcbiAgICAgICAgZGF0YS5zZWNvbmRzICAgICAgID0gbWF0aEFicyhkYXRhLnNlY29uZHMpO1xuICAgICAgICBkYXRhLm1pbnV0ZXMgICAgICAgPSBtYXRoQWJzKGRhdGEubWludXRlcyk7XG4gICAgICAgIGRhdGEuaG91cnMgICAgICAgICA9IG1hdGhBYnMoZGF0YS5ob3Vycyk7XG4gICAgICAgIGRhdGEubW9udGhzICAgICAgICA9IG1hdGhBYnMoZGF0YS5tb250aHMpO1xuICAgICAgICBkYXRhLnllYXJzICAgICAgICAgPSBtYXRoQWJzKGRhdGEueWVhcnMpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGR1cmF0aW9uX2FkZF9zdWJ0cmFjdF9fYWRkU3VidHJhY3QgKGR1cmF0aW9uLCBpbnB1dCwgdmFsdWUsIGRpcmVjdGlvbikge1xuICAgICAgICB2YXIgb3RoZXIgPSBjcmVhdGVfX2NyZWF0ZUR1cmF0aW9uKGlucHV0LCB2YWx1ZSk7XG5cbiAgICAgICAgZHVyYXRpb24uX21pbGxpc2Vjb25kcyArPSBkaXJlY3Rpb24gKiBvdGhlci5fbWlsbGlzZWNvbmRzO1xuICAgICAgICBkdXJhdGlvbi5fZGF5cyAgICAgICAgICs9IGRpcmVjdGlvbiAqIG90aGVyLl9kYXlzO1xuICAgICAgICBkdXJhdGlvbi5fbW9udGhzICAgICAgICs9IGRpcmVjdGlvbiAqIG90aGVyLl9tb250aHM7XG5cbiAgICAgICAgcmV0dXJuIGR1cmF0aW9uLl9idWJibGUoKTtcbiAgICB9XG5cbiAgICAvLyBzdXBwb3J0cyBvbmx5IDIuMC1zdHlsZSBhZGQoMSwgJ3MnKSBvciBhZGQoZHVyYXRpb24pXG4gICAgZnVuY3Rpb24gZHVyYXRpb25fYWRkX3N1YnRyYWN0X19hZGQgKGlucHV0LCB2YWx1ZSkge1xuICAgICAgICByZXR1cm4gZHVyYXRpb25fYWRkX3N1YnRyYWN0X19hZGRTdWJ0cmFjdCh0aGlzLCBpbnB1dCwgdmFsdWUsIDEpO1xuICAgIH1cblxuICAgIC8vIHN1cHBvcnRzIG9ubHkgMi4wLXN0eWxlIHN1YnRyYWN0KDEsICdzJykgb3Igc3VidHJhY3QoZHVyYXRpb24pXG4gICAgZnVuY3Rpb24gZHVyYXRpb25fYWRkX3N1YnRyYWN0X19zdWJ0cmFjdCAoaW5wdXQsIHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBkdXJhdGlvbl9hZGRfc3VidHJhY3RfX2FkZFN1YnRyYWN0KHRoaXMsIGlucHV0LCB2YWx1ZSwgLTEpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFic0NlaWwgKG51bWJlcikge1xuICAgICAgICBpZiAobnVtYmVyIDwgMCkge1xuICAgICAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IobnVtYmVyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBNYXRoLmNlaWwobnVtYmVyKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGJ1YmJsZSAoKSB7XG4gICAgICAgIHZhciBtaWxsaXNlY29uZHMgPSB0aGlzLl9taWxsaXNlY29uZHM7XG4gICAgICAgIHZhciBkYXlzICAgICAgICAgPSB0aGlzLl9kYXlzO1xuICAgICAgICB2YXIgbW9udGhzICAgICAgID0gdGhpcy5fbW9udGhzO1xuICAgICAgICB2YXIgZGF0YSAgICAgICAgID0gdGhpcy5fZGF0YTtcbiAgICAgICAgdmFyIHNlY29uZHMsIG1pbnV0ZXMsIGhvdXJzLCB5ZWFycywgbW9udGhzRnJvbURheXM7XG5cbiAgICAgICAgLy8gaWYgd2UgaGF2ZSBhIG1peCBvZiBwb3NpdGl2ZSBhbmQgbmVnYXRpdmUgdmFsdWVzLCBidWJibGUgZG93biBmaXJzdFxuICAgICAgICAvLyBjaGVjazogaHR0cHM6Ly9naXRodWIuY29tL21vbWVudC9tb21lbnQvaXNzdWVzLzIxNjZcbiAgICAgICAgaWYgKCEoKG1pbGxpc2Vjb25kcyA+PSAwICYmIGRheXMgPj0gMCAmJiBtb250aHMgPj0gMCkgfHxcbiAgICAgICAgICAgICAgICAobWlsbGlzZWNvbmRzIDw9IDAgJiYgZGF5cyA8PSAwICYmIG1vbnRocyA8PSAwKSkpIHtcbiAgICAgICAgICAgIG1pbGxpc2Vjb25kcyArPSBhYnNDZWlsKG1vbnRoc1RvRGF5cyhtb250aHMpICsgZGF5cykgKiA4NjRlNTtcbiAgICAgICAgICAgIGRheXMgPSAwO1xuICAgICAgICAgICAgbW9udGhzID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgY29kZSBidWJibGVzIHVwIHZhbHVlcywgc2VlIHRoZSB0ZXN0cyBmb3JcbiAgICAgICAgLy8gZXhhbXBsZXMgb2Ygd2hhdCB0aGF0IG1lYW5zLlxuICAgICAgICBkYXRhLm1pbGxpc2Vjb25kcyA9IG1pbGxpc2Vjb25kcyAlIDEwMDA7XG5cbiAgICAgICAgc2Vjb25kcyAgICAgICAgICAgPSBhYnNGbG9vcihtaWxsaXNlY29uZHMgLyAxMDAwKTtcbiAgICAgICAgZGF0YS5zZWNvbmRzICAgICAgPSBzZWNvbmRzICUgNjA7XG5cbiAgICAgICAgbWludXRlcyAgICAgICAgICAgPSBhYnNGbG9vcihzZWNvbmRzIC8gNjApO1xuICAgICAgICBkYXRhLm1pbnV0ZXMgICAgICA9IG1pbnV0ZXMgJSA2MDtcblxuICAgICAgICBob3VycyAgICAgICAgICAgICA9IGFic0Zsb29yKG1pbnV0ZXMgLyA2MCk7XG4gICAgICAgIGRhdGEuaG91cnMgICAgICAgID0gaG91cnMgJSAyNDtcblxuICAgICAgICBkYXlzICs9IGFic0Zsb29yKGhvdXJzIC8gMjQpO1xuXG4gICAgICAgIC8vIGNvbnZlcnQgZGF5cyB0byBtb250aHNcbiAgICAgICAgbW9udGhzRnJvbURheXMgPSBhYnNGbG9vcihkYXlzVG9Nb250aHMoZGF5cykpO1xuICAgICAgICBtb250aHMgKz0gbW9udGhzRnJvbURheXM7XG4gICAgICAgIGRheXMgLT0gYWJzQ2VpbChtb250aHNUb0RheXMobW9udGhzRnJvbURheXMpKTtcblxuICAgICAgICAvLyAxMiBtb250aHMgLT4gMSB5ZWFyXG4gICAgICAgIHllYXJzID0gYWJzRmxvb3IobW9udGhzIC8gMTIpO1xuICAgICAgICBtb250aHMgJT0gMTI7XG5cbiAgICAgICAgZGF0YS5kYXlzICAgPSBkYXlzO1xuICAgICAgICBkYXRhLm1vbnRocyA9IG1vbnRocztcbiAgICAgICAgZGF0YS55ZWFycyAgPSB5ZWFycztcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkYXlzVG9Nb250aHMgKGRheXMpIHtcbiAgICAgICAgLy8gNDAwIHllYXJzIGhhdmUgMTQ2MDk3IGRheXMgKHRha2luZyBpbnRvIGFjY291bnQgbGVhcCB5ZWFyIHJ1bGVzKVxuICAgICAgICAvLyA0MDAgeWVhcnMgaGF2ZSAxMiBtb250aHMgPT09IDQ4MDBcbiAgICAgICAgcmV0dXJuIGRheXMgKiA0ODAwIC8gMTQ2MDk3O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1vbnRoc1RvRGF5cyAobW9udGhzKSB7XG4gICAgICAgIC8vIHRoZSByZXZlcnNlIG9mIGRheXNUb01vbnRoc1xuICAgICAgICByZXR1cm4gbW9udGhzICogMTQ2MDk3IC8gNDgwMDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhcyAodW5pdHMpIHtcbiAgICAgICAgdmFyIGRheXM7XG4gICAgICAgIHZhciBtb250aHM7XG4gICAgICAgIHZhciBtaWxsaXNlY29uZHMgPSB0aGlzLl9taWxsaXNlY29uZHM7XG5cbiAgICAgICAgdW5pdHMgPSBub3JtYWxpemVVbml0cyh1bml0cyk7XG5cbiAgICAgICAgaWYgKHVuaXRzID09PSAnbW9udGgnIHx8IHVuaXRzID09PSAneWVhcicpIHtcbiAgICAgICAgICAgIGRheXMgICA9IHRoaXMuX2RheXMgICArIG1pbGxpc2Vjb25kcyAvIDg2NGU1O1xuICAgICAgICAgICAgbW9udGhzID0gdGhpcy5fbW9udGhzICsgZGF5c1RvTW9udGhzKGRheXMpO1xuICAgICAgICAgICAgcmV0dXJuIHVuaXRzID09PSAnbW9udGgnID8gbW9udGhzIDogbW9udGhzIC8gMTI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBoYW5kbGUgbWlsbGlzZWNvbmRzIHNlcGFyYXRlbHkgYmVjYXVzZSBvZiBmbG9hdGluZyBwb2ludCBtYXRoIGVycm9ycyAoaXNzdWUgIzE4NjcpXG4gICAgICAgICAgICBkYXlzID0gdGhpcy5fZGF5cyArIE1hdGgucm91bmQobW9udGhzVG9EYXlzKHRoaXMuX21vbnRocykpO1xuICAgICAgICAgICAgc3dpdGNoICh1bml0cykge1xuICAgICAgICAgICAgICAgIGNhc2UgJ3dlZWsnICAgOiByZXR1cm4gZGF5cyAvIDcgICAgICsgbWlsbGlzZWNvbmRzIC8gNjA0OGU1O1xuICAgICAgICAgICAgICAgIGNhc2UgJ2RheScgICAgOiByZXR1cm4gZGF5cyAgICAgICAgICsgbWlsbGlzZWNvbmRzIC8gODY0ZTU7XG4gICAgICAgICAgICAgICAgY2FzZSAnaG91cicgICA6IHJldHVybiBkYXlzICogMjQgICAgKyBtaWxsaXNlY29uZHMgLyAzNmU1O1xuICAgICAgICAgICAgICAgIGNhc2UgJ21pbnV0ZScgOiByZXR1cm4gZGF5cyAqIDE0NDAgICsgbWlsbGlzZWNvbmRzIC8gNmU0O1xuICAgICAgICAgICAgICAgIGNhc2UgJ3NlY29uZCcgOiByZXR1cm4gZGF5cyAqIDg2NDAwICsgbWlsbGlzZWNvbmRzIC8gMTAwMDtcbiAgICAgICAgICAgICAgICAvLyBNYXRoLmZsb29yIHByZXZlbnRzIGZsb2F0aW5nIHBvaW50IG1hdGggZXJyb3JzIGhlcmVcbiAgICAgICAgICAgICAgICBjYXNlICdtaWxsaXNlY29uZCc6IHJldHVybiBNYXRoLmZsb29yKGRheXMgKiA4NjRlNSkgKyBtaWxsaXNlY29uZHM7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDogdGhyb3cgbmV3IEVycm9yKCdVbmtub3duIHVuaXQgJyArIHVuaXRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIFRPRE86IFVzZSB0aGlzLmFzKCdtcycpP1xuICAgIGZ1bmN0aW9uIGR1cmF0aW9uX2FzX192YWx1ZU9mICgpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIHRoaXMuX21pbGxpc2Vjb25kcyArXG4gICAgICAgICAgICB0aGlzLl9kYXlzICogODY0ZTUgK1xuICAgICAgICAgICAgKHRoaXMuX21vbnRocyAlIDEyKSAqIDI1OTJlNiArXG4gICAgICAgICAgICB0b0ludCh0aGlzLl9tb250aHMgLyAxMikgKiAzMTUzNmU2XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbWFrZUFzIChhbGlhcykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYXMoYWxpYXMpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIHZhciBhc01pbGxpc2Vjb25kcyA9IG1ha2VBcygnbXMnKTtcbiAgICB2YXIgYXNTZWNvbmRzICAgICAgPSBtYWtlQXMoJ3MnKTtcbiAgICB2YXIgYXNNaW51dGVzICAgICAgPSBtYWtlQXMoJ20nKTtcbiAgICB2YXIgYXNIb3VycyAgICAgICAgPSBtYWtlQXMoJ2gnKTtcbiAgICB2YXIgYXNEYXlzICAgICAgICAgPSBtYWtlQXMoJ2QnKTtcbiAgICB2YXIgYXNXZWVrcyAgICAgICAgPSBtYWtlQXMoJ3cnKTtcbiAgICB2YXIgYXNNb250aHMgICAgICAgPSBtYWtlQXMoJ00nKTtcbiAgICB2YXIgYXNZZWFycyAgICAgICAgPSBtYWtlQXMoJ3knKTtcblxuICAgIGZ1bmN0aW9uIGR1cmF0aW9uX2dldF9fZ2V0ICh1bml0cykge1xuICAgICAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKHVuaXRzKTtcbiAgICAgICAgcmV0dXJuIHRoaXNbdW5pdHMgKyAncyddKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbWFrZUdldHRlcihuYW1lKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZGF0YVtuYW1lXTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICB2YXIgbWlsbGlzZWNvbmRzID0gbWFrZUdldHRlcignbWlsbGlzZWNvbmRzJyk7XG4gICAgdmFyIHNlY29uZHMgICAgICA9IG1ha2VHZXR0ZXIoJ3NlY29uZHMnKTtcbiAgICB2YXIgbWludXRlcyAgICAgID0gbWFrZUdldHRlcignbWludXRlcycpO1xuICAgIHZhciBob3VycyAgICAgICAgPSBtYWtlR2V0dGVyKCdob3VycycpO1xuICAgIHZhciBkYXlzICAgICAgICAgPSBtYWtlR2V0dGVyKCdkYXlzJyk7XG4gICAgdmFyIG1vbnRocyAgICAgICA9IG1ha2VHZXR0ZXIoJ21vbnRocycpO1xuICAgIHZhciB5ZWFycyAgICAgICAgPSBtYWtlR2V0dGVyKCd5ZWFycycpO1xuXG4gICAgZnVuY3Rpb24gd2Vla3MgKCkge1xuICAgICAgICByZXR1cm4gYWJzRmxvb3IodGhpcy5kYXlzKCkgLyA3KTtcbiAgICB9XG5cbiAgICB2YXIgcm91bmQgPSBNYXRoLnJvdW5kO1xuICAgIHZhciB0aHJlc2hvbGRzID0ge1xuICAgICAgICBzOiA0NSwgIC8vIHNlY29uZHMgdG8gbWludXRlXG4gICAgICAgIG06IDQ1LCAgLy8gbWludXRlcyB0byBob3VyXG4gICAgICAgIGg6IDIyLCAgLy8gaG91cnMgdG8gZGF5XG4gICAgICAgIGQ6IDI2LCAgLy8gZGF5cyB0byBtb250aFxuICAgICAgICBNOiAxMSAgIC8vIG1vbnRocyB0byB5ZWFyXG4gICAgfTtcblxuICAgIC8vIGhlbHBlciBmdW5jdGlvbiBmb3IgbW9tZW50LmZuLmZyb20sIG1vbWVudC5mbi5mcm9tTm93LCBhbmQgbW9tZW50LmR1cmF0aW9uLmZuLmh1bWFuaXplXG4gICAgZnVuY3Rpb24gc3Vic3RpdHV0ZVRpbWVBZ28oc3RyaW5nLCBudW1iZXIsIHdpdGhvdXRTdWZmaXgsIGlzRnV0dXJlLCBsb2NhbGUpIHtcbiAgICAgICAgcmV0dXJuIGxvY2FsZS5yZWxhdGl2ZVRpbWUobnVtYmVyIHx8IDEsICEhd2l0aG91dFN1ZmZpeCwgc3RyaW5nLCBpc0Z1dHVyZSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZHVyYXRpb25faHVtYW5pemVfX3JlbGF0aXZlVGltZSAocG9zTmVnRHVyYXRpb24sIHdpdGhvdXRTdWZmaXgsIGxvY2FsZSkge1xuICAgICAgICB2YXIgZHVyYXRpb24gPSBjcmVhdGVfX2NyZWF0ZUR1cmF0aW9uKHBvc05lZ0R1cmF0aW9uKS5hYnMoKTtcbiAgICAgICAgdmFyIHNlY29uZHMgID0gcm91bmQoZHVyYXRpb24uYXMoJ3MnKSk7XG4gICAgICAgIHZhciBtaW51dGVzICA9IHJvdW5kKGR1cmF0aW9uLmFzKCdtJykpO1xuICAgICAgICB2YXIgaG91cnMgICAgPSByb3VuZChkdXJhdGlvbi5hcygnaCcpKTtcbiAgICAgICAgdmFyIGRheXMgICAgID0gcm91bmQoZHVyYXRpb24uYXMoJ2QnKSk7XG4gICAgICAgIHZhciBtb250aHMgICA9IHJvdW5kKGR1cmF0aW9uLmFzKCdNJykpO1xuICAgICAgICB2YXIgeWVhcnMgICAgPSByb3VuZChkdXJhdGlvbi5hcygneScpKTtcblxuICAgICAgICB2YXIgYSA9IHNlY29uZHMgPCB0aHJlc2hvbGRzLnMgJiYgWydzJywgc2Vjb25kc10gIHx8XG4gICAgICAgICAgICAgICAgbWludXRlcyA9PT0gMSAgICAgICAgICAmJiBbJ20nXSAgICAgICAgICAgfHxcbiAgICAgICAgICAgICAgICBtaW51dGVzIDwgdGhyZXNob2xkcy5tICYmIFsnbW0nLCBtaW51dGVzXSB8fFxuICAgICAgICAgICAgICAgIGhvdXJzICAgPT09IDEgICAgICAgICAgJiYgWydoJ10gICAgICAgICAgIHx8XG4gICAgICAgICAgICAgICAgaG91cnMgICA8IHRocmVzaG9sZHMuaCAmJiBbJ2hoJywgaG91cnNdICAgfHxcbiAgICAgICAgICAgICAgICBkYXlzICAgID09PSAxICAgICAgICAgICYmIFsnZCddICAgICAgICAgICB8fFxuICAgICAgICAgICAgICAgIGRheXMgICAgPCB0aHJlc2hvbGRzLmQgJiYgWydkZCcsIGRheXNdICAgIHx8XG4gICAgICAgICAgICAgICAgbW9udGhzICA9PT0gMSAgICAgICAgICAmJiBbJ00nXSAgICAgICAgICAgfHxcbiAgICAgICAgICAgICAgICBtb250aHMgIDwgdGhyZXNob2xkcy5NICYmIFsnTU0nLCBtb250aHNdICB8fFxuICAgICAgICAgICAgICAgIHllYXJzICAgPT09IDEgICAgICAgICAgJiYgWyd5J10gICAgICAgICAgIHx8IFsneXknLCB5ZWFyc107XG5cbiAgICAgICAgYVsyXSA9IHdpdGhvdXRTdWZmaXg7XG4gICAgICAgIGFbM10gPSArcG9zTmVnRHVyYXRpb24gPiAwO1xuICAgICAgICBhWzRdID0gbG9jYWxlO1xuICAgICAgICByZXR1cm4gc3Vic3RpdHV0ZVRpbWVBZ28uYXBwbHkobnVsbCwgYSk7XG4gICAgfVxuXG4gICAgLy8gVGhpcyBmdW5jdGlvbiBhbGxvd3MgeW91IHRvIHNldCBhIHRocmVzaG9sZCBmb3IgcmVsYXRpdmUgdGltZSBzdHJpbmdzXG4gICAgZnVuY3Rpb24gZHVyYXRpb25faHVtYW5pemVfX2dldFNldFJlbGF0aXZlVGltZVRocmVzaG9sZCAodGhyZXNob2xkLCBsaW1pdCkge1xuICAgICAgICBpZiAodGhyZXNob2xkc1t0aHJlc2hvbGRdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobGltaXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRocmVzaG9sZHNbdGhyZXNob2xkXTtcbiAgICAgICAgfVxuICAgICAgICB0aHJlc2hvbGRzW3RocmVzaG9sZF0gPSBsaW1pdDtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaHVtYW5pemUgKHdpdGhTdWZmaXgpIHtcbiAgICAgICAgdmFyIGxvY2FsZSA9IHRoaXMubG9jYWxlRGF0YSgpO1xuICAgICAgICB2YXIgb3V0cHV0ID0gZHVyYXRpb25faHVtYW5pemVfX3JlbGF0aXZlVGltZSh0aGlzLCAhd2l0aFN1ZmZpeCwgbG9jYWxlKTtcblxuICAgICAgICBpZiAod2l0aFN1ZmZpeCkge1xuICAgICAgICAgICAgb3V0cHV0ID0gbG9jYWxlLnBhc3RGdXR1cmUoK3RoaXMsIG91dHB1dCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbG9jYWxlLnBvc3Rmb3JtYXQob3V0cHV0KTtcbiAgICB9XG5cbiAgICB2YXIgaXNvX3N0cmluZ19fYWJzID0gTWF0aC5hYnM7XG5cbiAgICBmdW5jdGlvbiBpc29fc3RyaW5nX190b0lTT1N0cmluZygpIHtcbiAgICAgICAgLy8gZm9yIElTTyBzdHJpbmdzIHdlIGRvIG5vdCB1c2UgdGhlIG5vcm1hbCBidWJibGluZyBydWxlczpcbiAgICAgICAgLy8gICogbWlsbGlzZWNvbmRzIGJ1YmJsZSB1cCB1bnRpbCB0aGV5IGJlY29tZSBob3Vyc1xuICAgICAgICAvLyAgKiBkYXlzIGRvIG5vdCBidWJibGUgYXQgYWxsXG4gICAgICAgIC8vICAqIG1vbnRocyBidWJibGUgdXAgdW50aWwgdGhleSBiZWNvbWUgeWVhcnNcbiAgICAgICAgLy8gVGhpcyBpcyBiZWNhdXNlIHRoZXJlIGlzIG5vIGNvbnRleHQtZnJlZSBjb252ZXJzaW9uIGJldHdlZW4gaG91cnMgYW5kIGRheXNcbiAgICAgICAgLy8gKHRoaW5rIG9mIGNsb2NrIGNoYW5nZXMpXG4gICAgICAgIC8vIGFuZCBhbHNvIG5vdCBiZXR3ZWVuIGRheXMgYW5kIG1vbnRocyAoMjgtMzEgZGF5cyBwZXIgbW9udGgpXG4gICAgICAgIHZhciBzZWNvbmRzID0gaXNvX3N0cmluZ19fYWJzKHRoaXMuX21pbGxpc2Vjb25kcykgLyAxMDAwO1xuICAgICAgICB2YXIgZGF5cyAgICAgICAgID0gaXNvX3N0cmluZ19fYWJzKHRoaXMuX2RheXMpO1xuICAgICAgICB2YXIgbW9udGhzICAgICAgID0gaXNvX3N0cmluZ19fYWJzKHRoaXMuX21vbnRocyk7XG4gICAgICAgIHZhciBtaW51dGVzLCBob3VycywgeWVhcnM7XG5cbiAgICAgICAgLy8gMzYwMCBzZWNvbmRzIC0+IDYwIG1pbnV0ZXMgLT4gMSBob3VyXG4gICAgICAgIG1pbnV0ZXMgICAgICAgICAgID0gYWJzRmxvb3Ioc2Vjb25kcyAvIDYwKTtcbiAgICAgICAgaG91cnMgICAgICAgICAgICAgPSBhYnNGbG9vcihtaW51dGVzIC8gNjApO1xuICAgICAgICBzZWNvbmRzICU9IDYwO1xuICAgICAgICBtaW51dGVzICU9IDYwO1xuXG4gICAgICAgIC8vIDEyIG1vbnRocyAtPiAxIHllYXJcbiAgICAgICAgeWVhcnMgID0gYWJzRmxvb3IobW9udGhzIC8gMTIpO1xuICAgICAgICBtb250aHMgJT0gMTI7XG5cblxuICAgICAgICAvLyBpbnNwaXJlZCBieSBodHRwczovL2dpdGh1Yi5jb20vZG9yZGlsbGUvbW9tZW50LWlzb2R1cmF0aW9uL2Jsb2IvbWFzdGVyL21vbWVudC5pc29kdXJhdGlvbi5qc1xuICAgICAgICB2YXIgWSA9IHllYXJzO1xuICAgICAgICB2YXIgTSA9IG1vbnRocztcbiAgICAgICAgdmFyIEQgPSBkYXlzO1xuICAgICAgICB2YXIgaCA9IGhvdXJzO1xuICAgICAgICB2YXIgbSA9IG1pbnV0ZXM7XG4gICAgICAgIHZhciBzID0gc2Vjb25kcztcbiAgICAgICAgdmFyIHRvdGFsID0gdGhpcy5hc1NlY29uZHMoKTtcblxuICAgICAgICBpZiAoIXRvdGFsKSB7XG4gICAgICAgICAgICAvLyB0aGlzIGlzIHRoZSBzYW1lIGFzIEMjJ3MgKE5vZGEpIGFuZCBweXRob24gKGlzb2RhdGUpLi4uXG4gICAgICAgICAgICAvLyBidXQgbm90IG90aGVyIEpTIChnb29nLmRhdGUpXG4gICAgICAgICAgICByZXR1cm4gJ1AwRCc7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gKHRvdGFsIDwgMCA/ICctJyA6ICcnKSArXG4gICAgICAgICAgICAnUCcgK1xuICAgICAgICAgICAgKFkgPyBZICsgJ1knIDogJycpICtcbiAgICAgICAgICAgIChNID8gTSArICdNJyA6ICcnKSArXG4gICAgICAgICAgICAoRCA/IEQgKyAnRCcgOiAnJykgK1xuICAgICAgICAgICAgKChoIHx8IG0gfHwgcykgPyAnVCcgOiAnJykgK1xuICAgICAgICAgICAgKGggPyBoICsgJ0gnIDogJycpICtcbiAgICAgICAgICAgIChtID8gbSArICdNJyA6ICcnKSArXG4gICAgICAgICAgICAocyA/IHMgKyAnUycgOiAnJyk7XG4gICAgfVxuXG4gICAgdmFyIGR1cmF0aW9uX3Byb3RvdHlwZV9fcHJvdG8gPSBEdXJhdGlvbi5wcm90b3R5cGU7XG5cbiAgICBkdXJhdGlvbl9wcm90b3R5cGVfX3Byb3RvLmFicyAgICAgICAgICAgID0gZHVyYXRpb25fYWJzX19hYnM7XG4gICAgZHVyYXRpb25fcHJvdG90eXBlX19wcm90by5hZGQgICAgICAgICAgICA9IGR1cmF0aW9uX2FkZF9zdWJ0cmFjdF9fYWRkO1xuICAgIGR1cmF0aW9uX3Byb3RvdHlwZV9fcHJvdG8uc3VidHJhY3QgICAgICAgPSBkdXJhdGlvbl9hZGRfc3VidHJhY3RfX3N1YnRyYWN0O1xuICAgIGR1cmF0aW9uX3Byb3RvdHlwZV9fcHJvdG8uYXMgICAgICAgICAgICAgPSBhcztcbiAgICBkdXJhdGlvbl9wcm90b3R5cGVfX3Byb3RvLmFzTWlsbGlzZWNvbmRzID0gYXNNaWxsaXNlY29uZHM7XG4gICAgZHVyYXRpb25fcHJvdG90eXBlX19wcm90by5hc1NlY29uZHMgICAgICA9IGFzU2Vjb25kcztcbiAgICBkdXJhdGlvbl9wcm90b3R5cGVfX3Byb3RvLmFzTWludXRlcyAgICAgID0gYXNNaW51dGVzO1xuICAgIGR1cmF0aW9uX3Byb3RvdHlwZV9fcHJvdG8uYXNIb3VycyAgICAgICAgPSBhc0hvdXJzO1xuICAgIGR1cmF0aW9uX3Byb3RvdHlwZV9fcHJvdG8uYXNEYXlzICAgICAgICAgPSBhc0RheXM7XG4gICAgZHVyYXRpb25fcHJvdG90eXBlX19wcm90by5hc1dlZWtzICAgICAgICA9IGFzV2Vla3M7XG4gICAgZHVyYXRpb25fcHJvdG90eXBlX19wcm90by5hc01vbnRocyAgICAgICA9IGFzTW9udGhzO1xuICAgIGR1cmF0aW9uX3Byb3RvdHlwZV9fcHJvdG8uYXNZZWFycyAgICAgICAgPSBhc1llYXJzO1xuICAgIGR1cmF0aW9uX3Byb3RvdHlwZV9fcHJvdG8udmFsdWVPZiAgICAgICAgPSBkdXJhdGlvbl9hc19fdmFsdWVPZjtcbiAgICBkdXJhdGlvbl9wcm90b3R5cGVfX3Byb3RvLl9idWJibGUgICAgICAgID0gYnViYmxlO1xuICAgIGR1cmF0aW9uX3Byb3RvdHlwZV9fcHJvdG8uZ2V0ICAgICAgICAgICAgPSBkdXJhdGlvbl9nZXRfX2dldDtcbiAgICBkdXJhdGlvbl9wcm90b3R5cGVfX3Byb3RvLm1pbGxpc2Vjb25kcyAgID0gbWlsbGlzZWNvbmRzO1xuICAgIGR1cmF0aW9uX3Byb3RvdHlwZV9fcHJvdG8uc2Vjb25kcyAgICAgICAgPSBzZWNvbmRzO1xuICAgIGR1cmF0aW9uX3Byb3RvdHlwZV9fcHJvdG8ubWludXRlcyAgICAgICAgPSBtaW51dGVzO1xuICAgIGR1cmF0aW9uX3Byb3RvdHlwZV9fcHJvdG8uaG91cnMgICAgICAgICAgPSBob3VycztcbiAgICBkdXJhdGlvbl9wcm90b3R5cGVfX3Byb3RvLmRheXMgICAgICAgICAgID0gZGF5cztcbiAgICBkdXJhdGlvbl9wcm90b3R5cGVfX3Byb3RvLndlZWtzICAgICAgICAgID0gd2Vla3M7XG4gICAgZHVyYXRpb25fcHJvdG90eXBlX19wcm90by5tb250aHMgICAgICAgICA9IG1vbnRocztcbiAgICBkdXJhdGlvbl9wcm90b3R5cGVfX3Byb3RvLnllYXJzICAgICAgICAgID0geWVhcnM7XG4gICAgZHVyYXRpb25fcHJvdG90eXBlX19wcm90by5odW1hbml6ZSAgICAgICA9IGh1bWFuaXplO1xuICAgIGR1cmF0aW9uX3Byb3RvdHlwZV9fcHJvdG8udG9JU09TdHJpbmcgICAgPSBpc29fc3RyaW5nX190b0lTT1N0cmluZztcbiAgICBkdXJhdGlvbl9wcm90b3R5cGVfX3Byb3RvLnRvU3RyaW5nICAgICAgID0gaXNvX3N0cmluZ19fdG9JU09TdHJpbmc7XG4gICAgZHVyYXRpb25fcHJvdG90eXBlX19wcm90by50b0pTT04gICAgICAgICA9IGlzb19zdHJpbmdfX3RvSVNPU3RyaW5nO1xuICAgIGR1cmF0aW9uX3Byb3RvdHlwZV9fcHJvdG8ubG9jYWxlICAgICAgICAgPSBsb2NhbGU7XG4gICAgZHVyYXRpb25fcHJvdG90eXBlX19wcm90by5sb2NhbGVEYXRhICAgICA9IGxvY2FsZURhdGE7XG5cbiAgICAvLyBEZXByZWNhdGlvbnNcbiAgICBkdXJhdGlvbl9wcm90b3R5cGVfX3Byb3RvLnRvSXNvU3RyaW5nID0gZGVwcmVjYXRlKCd0b0lzb1N0cmluZygpIGlzIGRlcHJlY2F0ZWQuIFBsZWFzZSB1c2UgdG9JU09TdHJpbmcoKSBpbnN0ZWFkIChub3RpY2UgdGhlIGNhcGl0YWxzKScsIGlzb19zdHJpbmdfX3RvSVNPU3RyaW5nKTtcbiAgICBkdXJhdGlvbl9wcm90b3R5cGVfX3Byb3RvLmxhbmcgPSBsYW5nO1xuXG4gICAgLy8gU2lkZSBlZmZlY3QgaW1wb3J0c1xuXG4gICAgYWRkRm9ybWF0VG9rZW4oJ1gnLCAwLCAwLCAndW5peCcpO1xuICAgIGFkZEZvcm1hdFRva2VuKCd4JywgMCwgMCwgJ3ZhbHVlT2YnKTtcblxuICAgIC8vIFBBUlNJTkdcblxuICAgIGFkZFJlZ2V4VG9rZW4oJ3gnLCBtYXRjaFNpZ25lZCk7XG4gICAgYWRkUmVnZXhUb2tlbignWCcsIG1hdGNoVGltZXN0YW1wKTtcbiAgICBhZGRQYXJzZVRva2VuKCdYJywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnKSB7XG4gICAgICAgIGNvbmZpZy5fZCA9IG5ldyBEYXRlKHBhcnNlRmxvYXQoaW5wdXQsIDEwKSAqIDEwMDApO1xuICAgIH0pO1xuICAgIGFkZFBhcnNlVG9rZW4oJ3gnLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcbiAgICAgICAgY29uZmlnLl9kID0gbmV3IERhdGUodG9JbnQoaW5wdXQpKTtcbiAgICB9KTtcblxuICAgIC8vIFNpZGUgZWZmZWN0IGltcG9ydHNcblxuXG4gICAgdXRpbHNfaG9va3NfX2hvb2tzLnZlcnNpb24gPSAnMi4xMC42JztcblxuICAgIHNldEhvb2tDYWxsYmFjayhsb2NhbF9fY3JlYXRlTG9jYWwpO1xuXG4gICAgdXRpbHNfaG9va3NfX2hvb2tzLmZuICAgICAgICAgICAgICAgICAgICA9IG1vbWVudFByb3RvdHlwZTtcbiAgICB1dGlsc19ob29rc19faG9va3MubWluICAgICAgICAgICAgICAgICAgID0gbWluO1xuICAgIHV0aWxzX2hvb2tzX19ob29rcy5tYXggICAgICAgICAgICAgICAgICAgPSBtYXg7XG4gICAgdXRpbHNfaG9va3NfX2hvb2tzLnV0YyAgICAgICAgICAgICAgICAgICA9IGNyZWF0ZV91dGNfX2NyZWF0ZVVUQztcbiAgICB1dGlsc19ob29rc19faG9va3MudW5peCAgICAgICAgICAgICAgICAgID0gbW9tZW50X19jcmVhdGVVbml4O1xuICAgIHV0aWxzX2hvb2tzX19ob29rcy5tb250aHMgICAgICAgICAgICAgICAgPSBsaXN0c19fbGlzdE1vbnRocztcbiAgICB1dGlsc19ob29rc19faG9va3MuaXNEYXRlICAgICAgICAgICAgICAgID0gaXNEYXRlO1xuICAgIHV0aWxzX2hvb2tzX19ob29rcy5sb2NhbGUgICAgICAgICAgICAgICAgPSBsb2NhbGVfbG9jYWxlc19fZ2V0U2V0R2xvYmFsTG9jYWxlO1xuICAgIHV0aWxzX2hvb2tzX19ob29rcy5pbnZhbGlkICAgICAgICAgICAgICAgPSB2YWxpZF9fY3JlYXRlSW52YWxpZDtcbiAgICB1dGlsc19ob29rc19faG9va3MuZHVyYXRpb24gICAgICAgICAgICAgID0gY3JlYXRlX19jcmVhdGVEdXJhdGlvbjtcbiAgICB1dGlsc19ob29rc19faG9va3MuaXNNb21lbnQgICAgICAgICAgICAgID0gaXNNb21lbnQ7XG4gICAgdXRpbHNfaG9va3NfX2hvb2tzLndlZWtkYXlzICAgICAgICAgICAgICA9IGxpc3RzX19saXN0V2Vla2RheXM7XG4gICAgdXRpbHNfaG9va3NfX2hvb2tzLnBhcnNlWm9uZSAgICAgICAgICAgICA9IG1vbWVudF9fY3JlYXRlSW5ab25lO1xuICAgIHV0aWxzX2hvb2tzX19ob29rcy5sb2NhbGVEYXRhICAgICAgICAgICAgPSBsb2NhbGVfbG9jYWxlc19fZ2V0TG9jYWxlO1xuICAgIHV0aWxzX2hvb2tzX19ob29rcy5pc0R1cmF0aW9uICAgICAgICAgICAgPSBpc0R1cmF0aW9uO1xuICAgIHV0aWxzX2hvb2tzX19ob29rcy5tb250aHNTaG9ydCAgICAgICAgICAgPSBsaXN0c19fbGlzdE1vbnRoc1Nob3J0O1xuICAgIHV0aWxzX2hvb2tzX19ob29rcy53ZWVrZGF5c01pbiAgICAgICAgICAgPSBsaXN0c19fbGlzdFdlZWtkYXlzTWluO1xuICAgIHV0aWxzX2hvb2tzX19ob29rcy5kZWZpbmVMb2NhbGUgICAgICAgICAgPSBkZWZpbmVMb2NhbGU7XG4gICAgdXRpbHNfaG9va3NfX2hvb2tzLndlZWtkYXlzU2hvcnQgICAgICAgICA9IGxpc3RzX19saXN0V2Vla2RheXNTaG9ydDtcbiAgICB1dGlsc19ob29rc19faG9va3Mubm9ybWFsaXplVW5pdHMgICAgICAgID0gbm9ybWFsaXplVW5pdHM7XG4gICAgdXRpbHNfaG9va3NfX2hvb2tzLnJlbGF0aXZlVGltZVRocmVzaG9sZCA9IGR1cmF0aW9uX2h1bWFuaXplX19nZXRTZXRSZWxhdGl2ZVRpbWVUaHJlc2hvbGQ7XG5cbiAgICB2YXIgX21vbWVudCA9IHV0aWxzX2hvb2tzX19ob29rcztcblxuICAgIHJldHVybiBfbW9tZW50O1xuXG59KSk7XG59LHt9XSw0ODpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4vKipcbiAqIENvbnZlcnQgYXJyYXkgb2YgMTYgYnl0ZSB2YWx1ZXMgdG8gVVVJRCBzdHJpbmcgZm9ybWF0IG9mIHRoZSBmb3JtOlxuICogWFhYWFhYWFgtWFhYWC1YWFhYLVhYWFgtWFhYWC1YWFhYWFhYWFhYWFhcbiAqL1xudmFyIGJ5dGVUb0hleCA9IFtdO1xuZm9yICh2YXIgaSA9IDA7IGkgPCAyNTY7ICsraSkge1xuICBieXRlVG9IZXhbaV0gPSAoaSArIDB4MTAwKS50b1N0cmluZygxNikuc3Vic3RyKDEpO1xufVxuXG5mdW5jdGlvbiBieXRlc1RvVXVpZChidWYsIG9mZnNldCkge1xuICB2YXIgaSA9IG9mZnNldCB8fCAwO1xuICB2YXIgYnRoID0gYnl0ZVRvSGV4O1xuICByZXR1cm4gIGJ0aFtidWZbaSsrXV0gKyBidGhbYnVmW2krK11dICtcbiAgICAgICAgICBidGhbYnVmW2krK11dICsgYnRoW2J1ZltpKytdXSArICctJyArXG4gICAgICAgICAgYnRoW2J1ZltpKytdXSArIGJ0aFtidWZbaSsrXV0gKyAnLScgK1xuICAgICAgICAgIGJ0aFtidWZbaSsrXV0gKyBidGhbYnVmW2krK11dICsgJy0nICtcbiAgICAgICAgICBidGhbYnVmW2krK11dICsgYnRoW2J1ZltpKytdXSArICctJyArXG4gICAgICAgICAgYnRoW2J1ZltpKytdXSArIGJ0aFtidWZbaSsrXV0gK1xuICAgICAgICAgIGJ0aFtidWZbaSsrXV0gKyBidGhbYnVmW2krK11dICtcbiAgICAgICAgICBidGhbYnVmW2krK11dICsgYnRoW2J1ZltpKytdXTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBieXRlc1RvVXVpZDtcblxufSx7fV0sNDk6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuKGZ1bmN0aW9uIChnbG9iYWwpe1xuLy8gVW5pcXVlIElEIGNyZWF0aW9uIHJlcXVpcmVzIGEgaGlnaCBxdWFsaXR5IHJhbmRvbSAjIGdlbmVyYXRvci4gIEluIHRoZVxuLy8gYnJvd3NlciB0aGlzIGlzIGEgbGl0dGxlIGNvbXBsaWNhdGVkIGR1ZSB0byB1bmtub3duIHF1YWxpdHkgb2YgTWF0aC5yYW5kb20oKVxuLy8gYW5kIGluY29uc2lzdGVudCBzdXBwb3J0IGZvciB0aGUgYGNyeXB0b2AgQVBJLiAgV2UgZG8gdGhlIGJlc3Qgd2UgY2FuIHZpYVxuLy8gZmVhdHVyZS1kZXRlY3Rpb25cbnZhciBybmc7XG5cbnZhciBjcnlwdG8gPSBnbG9iYWwuY3J5cHRvIHx8IGdsb2JhbC5tc0NyeXB0bzsgLy8gZm9yIElFIDExXG5pZiAoY3J5cHRvICYmIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMpIHtcbiAgLy8gV0hBVFdHIGNyeXB0byBSTkcgLSBodHRwOi8vd2lraS53aGF0d2cub3JnL3dpa2kvQ3J5cHRvXG4gIHZhciBybmRzOCA9IG5ldyBVaW50OEFycmF5KDE2KTtcbiAgcm5nID0gZnVuY3Rpb24gd2hhdHdnUk5HKCkge1xuICAgIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMocm5kczgpO1xuICAgIHJldHVybiBybmRzODtcbiAgfTtcbn1cblxuaWYgKCFybmcpIHtcbiAgLy8gTWF0aC5yYW5kb20oKS1iYXNlZCAoUk5HKVxuICAvL1xuICAvLyBJZiBhbGwgZWxzZSBmYWlscywgdXNlIE1hdGgucmFuZG9tKCkuICBJdCdzIGZhc3QsIGJ1dCBpcyBvZiB1bnNwZWNpZmllZFxuICAvLyBxdWFsaXR5LlxuICB2YXIgIHJuZHMgPSBuZXcgQXJyYXkoMTYpO1xuICBybmcgPSBmdW5jdGlvbigpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgcjsgaSA8IDE2OyBpKyspIHtcbiAgICAgIGlmICgoaSAmIDB4MDMpID09PSAwKSByID0gTWF0aC5yYW5kb20oKSAqIDB4MTAwMDAwMDAwO1xuICAgICAgcm5kc1tpXSA9IHIgPj4+ICgoaSAmIDB4MDMpIDw8IDMpICYgMHhmZjtcbiAgICB9XG5cbiAgICByZXR1cm4gcm5kcztcbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBybmc7XG5cbn0pLmNhbGwodGhpcyx0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgPyBzZWxmIDogdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdyA6IHt9KVxufSx7fV0sNTA6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xudmFyIHJuZyA9IHJlcXVpcmUoNDkpO1xudmFyIGJ5dGVzVG9VdWlkID0gcmVxdWlyZSg0OCk7XG5cbmZ1bmN0aW9uIHY0KG9wdGlvbnMsIGJ1Ziwgb2Zmc2V0KSB7XG4gIHZhciBpID0gYnVmICYmIG9mZnNldCB8fCAwO1xuXG4gIGlmICh0eXBlb2Yob3B0aW9ucykgPT0gJ3N0cmluZycpIHtcbiAgICBidWYgPSBvcHRpb25zID09ICdiaW5hcnknID8gbmV3IEFycmF5KDE2KSA6IG51bGw7XG4gICAgb3B0aW9ucyA9IG51bGw7XG4gIH1cbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgdmFyIHJuZHMgPSBvcHRpb25zLnJhbmRvbSB8fCAob3B0aW9ucy5ybmcgfHwgcm5nKSgpO1xuXG4gIC8vIFBlciA0LjQsIHNldCBiaXRzIGZvciB2ZXJzaW9uIGFuZCBgY2xvY2tfc2VxX2hpX2FuZF9yZXNlcnZlZGBcbiAgcm5kc1s2XSA9IChybmRzWzZdICYgMHgwZikgfCAweDQwO1xuICBybmRzWzhdID0gKHJuZHNbOF0gJiAweDNmKSB8IDB4ODA7XG5cbiAgLy8gQ29weSBieXRlcyB0byBidWZmZXIsIGlmIHByb3ZpZGVkXG4gIGlmIChidWYpIHtcbiAgICBmb3IgKHZhciBpaSA9IDA7IGlpIDwgMTY7ICsraWkpIHtcbiAgICAgIGJ1ZltpICsgaWldID0gcm5kc1tpaV07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGJ1ZiB8fCBieXRlc1RvVXVpZChybmRzKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB2NDtcblxufSx7XCI0OFwiOjQ4LFwiNDlcIjo0OX1dfSx7fSxbMzFdKTtcbiJdfQ==
